{"nick":"Domenic","message":"littledan: do you have a writeup for static blocks somewhere?","date":"2017-04-13T00:51:12.247Z","type":"message"}
{"nick":"Fishrock123","date":"2017-04-13T00:53:07.749Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2017-04-13T00:58:50.995Z","type":"quit"}
{"nick":"Fishrock123","date":"2017-04-13T00:59:30.634Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2017-04-13T00:59:38.659Z","type":"quit"}
{"nick":"annevk","message":"aklein: but you effectively want to have run all of test262 in each global as well, duplicating all those tests seems like a waste of effort","date":"2017-04-13T01:31:35.576Z","type":"message"}
{"nick":"Fishrock123","date":"2017-04-13T02:08:27.164Z","type":"join"}
{"nick":"Fishrock123","reason":"Ping timeout: 260 seconds","date":"2017-04-13T02:13:02.131Z","type":"quit"}
{"nick":"cloudshu","message":"annevk: you mean intra agent tests?","date":"2017-04-13T03:07:07.197Z","type":"message"}
{"nick":"cloudshu","message":"annevk: those should remain in test262","date":"2017-04-13T03:07:07.382Z","type":"message"}
{"nick":"annevk","message":"cloudshu: I meant that any given test should be run in each global","date":"2017-04-13T03:09:20.395Z","type":"message"}
{"nick":"annevk","message":"cloudshu: for intra-agent tests it would similarly make sense if they can be run (and are) in a wide variety of host setups","date":"2017-04-13T03:10:31.532Z","type":"message"}
{"nick":"cloudshu","message":"annevk: sure but i'm not understanding the duplication concern","date":"2017-04-13T03:12:47.498Z","type":"message"}
{"nick":"annevk","message":"cloudshu: are you suggesting WPT should wrap test262 in this way?","date":"2017-04-13T03:14:07.815Z","type":"message"}
{"nick":"cloudshu","message":"annevk: give me 5 to get to a computer","date":"2017-04-13T03:14:45.614Z","type":"message"}
{"nick":"dilijev","message":"bterlson: in the tc39 meeting notes it says you mentioned having a checkbox to inline annexB within the spec webpage, on the surface, I think that would be a great compromise that would help bring that information into easy view for implementers, regardless of whether AnnexB is ultimately inlined","date":"2017-04-13T03:16:35.907Z","type":"message"}
{"nick":"bterlson","message":"dilijev: yeah, unfortunately requires significantly more tooling work :-P","date":"2017-04-13T03:17:28.895Z","type":"message"}
{"nick":"cloudshu","message":"annevk: back. let's make sure we're talking about the same things","date":"2017-04-13T03:29:57.757Z","type":"message"}
{"nick":"cloudshu","message":"annevk: are we talking about additional agent tests, or are we talking about how you want to run all of test262 in various different web globals, which currently nobody does in practice?","date":"2017-04-13T03:30:41.070Z","type":"message"}
{"nick":"annevk","message":"cloudshu: I've been talking about both those things","date":"2017-04-13T03:32:01.426Z","type":"message"}
{"nick":"cloudshu","message":"annevk: running test262 in different web globals is up to the different vendors right now, since the test262 test infra abstracts over host-provided stuff, or attempts to","date":"2017-04-13T03:35:04.238Z","type":"message"}
{"nick":"cloudshu","message":"annevk: the fact it doesn't happen in practice, like Domenic said...","date":"2017-04-13T03:36:00.955Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i guess we could encourage the various implementers to try to do this, but i'm not sure how realistic that'll be","date":"2017-04-13T03:36:22.028Z","type":"message"}
{"nick":"cloudshu","message":"annevk: the additional agent tests on the other hand, have two flavors of tests:","date":"2017-04-13T03:36:44.211Z","type":"message"}
{"nick":"cloudshu","message":"annevk: 1) stuff that tests behavior given an agent with some configuration","date":"2017-04-13T03:36:56.640Z","type":"message"}
{"nick":"cloudshu","message":"annevk: 2) stuff that tests a web global has a certain configuration","date":"2017-04-13T03:37:12.083Z","type":"message"}
{"nick":"cloudshu","message":"annevk: 1) can live in test262 and would require some thinking about how to actually abstract over \"run this in an agent with configuration C\", which doesn't exist right now","date":"2017-04-13T03:37:44.566Z","type":"message"}
{"nick":"cloudshu","message":"annevk: 2) should go into WPT","date":"2017-04-13T03:37:51.068Z","type":"message"}
{"nick":"jmdyck","reason":"Quit: Leaving.","date":"2017-04-13T04:45:01.882Z","type":"quit"}
{"nick":"gskachkov_","date":"2017-04-13T04:47:17.454Z","type":"join"}
{"nick":"gskachkov_","reason":"Quit: gskachkov_","date":"2017-04-13T04:52:11.250Z","type":"quit"}
{"nick":"Fishrock123","date":"2017-04-13T05:10:09.672Z","type":"join"}
{"nick":"Fishrock123","reason":"Ping timeout: 245 seconds","date":"2017-04-13T05:15:12.664Z","type":"quit"}
{"nick":"annevk","message":"cloudshu: apologies, got distracted with GitHub and breakfast","date":"2017-04-13T05:23:45.535Z","type":"message"}
{"nick":"cloudshu","message":"annevk: no worries, was having GH and dinner myself","date":"2017-04-13T05:24:02.200Z","type":"message"}
{"nick":"annevk","message":"cloudshu: it seems to me that 1/2 are very much intertwined","date":"2017-04-13T05:24:19.890Z","type":"message"}
{"nick":"annevk","message":"cloudshu: once you have tests for each agent config, you can reuse that for host agents","date":"2017-04-13T05:24:57.022Z","type":"message"}
{"nick":"cloudshu","message":"annevk: do you want something like test262 to test that, e.g., ServiceWorker agents conform to some configuration?","date":"2017-04-13T05:26:32.856Z","type":"message"}
{"nick":"annevk","message":"cloudshu: dunno, but I don't want to duplicate tests","date":"2017-04-13T05:28:12.751Z","type":"message"}
{"nick":"Fishrock123","date":"2017-04-13T05:30:44.120Z","type":"join"}
{"nick":"cloudshu","message":"annevk: i don't think there's gonna be duplication","date":"2017-04-13T05:30:44.529Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i'm thinking of something like,","date":"2017-04-13T05:30:54.035Z","type":"message"}
{"nick":"annevk","message":"cloudshu: I could imagine some setup where you have tests for different agent profiles that are generic and we load them in specific host agents","date":"2017-04-13T05:30:58.067Z","type":"message"}
{"nick":"cloudshu","message":"annevk: yes, that's what i'm thinking","date":"2017-04-13T05:31:09.898Z","type":"message"}
{"nick":"cloudshu","message":"annevk: it so happens that the profiles match the different worker configurations we care about on the web","date":"2017-04-13T05:31:31.104Z","type":"message"}
{"nick":"annevk","message":"Okay, so it seems that requires some coupling if you feel the host agents should be in WPT","date":"2017-04-13T05:31:57.623Z","type":"message"}
{"nick":"cloudshu","message":"annevk: but as a policy point test262 isn't going to directly test those workers","date":"2017-04-13T05:32:03.249Z","type":"message"}
{"nick":"annevk","message":"Or duplication","date":"2017-04-13T05:32:29.933Z","type":"message"}
{"nick":"cloudshu","message":"annevk: no, what i feel should be in WPT is the test that ServiceWorker corresponds exactly to some profile","date":"2017-04-13T05:32:41.052Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i guess what'll be duplicated is the info about those profiles","date":"2017-04-13T05:32:46.236Z","type":"message"}
{"nick":"cloudshu","message":"annevk: not the tests themselves","date":"2017-04-13T05:32:49.433Z","type":"message"}
{"nick":"Fishrock123","reason":"Client Quit","date":"2017-04-13T05:32:55.465Z","type":"quit"}
{"nick":"cloudshu","message":"ServiceWorker or whatever worker","date":"2017-04-13T05:32:56.303Z","type":"message"}
{"nick":"annevk","message":"Isn't that the same test as an agent profile test?","date":"2017-04-13T05:33:26.596Z","type":"message"}
{"nick":"annevk","message":"As far as I can there's only two variants, CanBlock or not","date":"2017-04-13T05:33:56.242Z","type":"message"}
{"nick":"cloudshu","message":"annevk: no -- the agent profile test tests that the observable behavior via JS execution is correct","date":"2017-04-13T05:34:02.192Z","type":"message"}
{"nick":"cloudshu","message":"annevk: to be concrete about CanBlock,","date":"2017-04-13T05:34:07.859Z","type":"message"}
{"nick":"cloudshu","message":"annevk: the agent profile test would be a test that asserts Atomics.wait throws when the agent profile is [[CanBlock]] == true, and does not throw when false","date":"2017-04-13T05:34:29.485Z","type":"message"}
{"nick":"cloudshu","message":"annevk: the WPT test would be ServiceWorker has a certain [[CanBlock]] value (i don't know what it is, actually)","date":"2017-04-13T05:34:44.854Z","type":"message"}
{"nick":"annevk","message":"We'd also want to run the profile test though, to make sure there are no bugs","date":"2017-04-13T05:35:40.352Z","type":"message"}
{"nick":"annevk","message":"In case UAs make agent-specific optimizations or code paths","date":"2017-04-13T05:36:06.522Z","type":"message"}
{"nick":"cloudshu","message":"annevk: you mean to run it in a real ServiceWorker?","date":"2017-04-13T05:36:15.346Z","type":"message"}
{"nick":"annevk","message":"Yes","date":"2017-04-13T05:36:20.596Z","type":"message"}
{"nick":"cloudshu","message":"annevk: point taken, but i don't think test262, as a matter of policy, is going to mandate that","date":"2017-04-13T05:36:30.916Z","type":"message"}
{"nick":"cloudshu","message":"i personally would like to see test262 own up more to the web nature of JS but","date":"2017-04-13T05:36:40.538Z","type":"message"}
{"nick":"cloudshu","message":"i'm not doing the maintenance ;)","date":"2017-04-13T05:36:50.231Z","type":"message"}
{"nick":"annevk","message":"Okay, but that was my point","date":"2017-04-13T05:37:04.239Z","type":"message"}
{"nick":"annevk","message":"That you either need coupling or duplication","date":"2017-04-13T05:37:21.755Z","type":"message"}
{"nick":"cloudshu","message":"annevk: maybe i don't understand what you mean by duplication","date":"2017-04-13T05:37:44.705Z","type":"message"}
{"nick":"annevk","message":"Or some hope that stuff is invariant across agents/globals, which is meh","date":"2017-04-13T05:37:49.759Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i think you just hope that we, Chrome, Safari, and Edge all run those agent profile tests under the actual workers","date":"2017-04-13T05:38:07.634Z","type":"message"}
{"nick":"cloudshu","message":"instead of some simulated shell agent","date":"2017-04-13T05:38:15.745Z","type":"message"}
{"nick":"annevk","message":"cloudshu: yeah, and all types too","date":"2017-04-13T05:38:39.276Z","type":"message"}
{"nick":"cloudshu","message":"annevk: this is analogous to a current problem with running it in the shell or in a browser env","date":"2017-04-13T05:39:05.914Z","type":"message"}
{"nick":"annevk","message":"cloudshu: with worklets we now have 5 agent types, and 6 diff globals or some such","date":"2017-04-13T05:39:17.047Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i can't speak to other vendors' CIs, but we run it in both right now,","date":"2017-04-13T05:39:26.120Z","type":"message"}
{"nick":"cloudshu","message":"annevk: and when i first enabled it, a bunch of tests failed because the tests were written without considering HTML top-level names that were getters/setters","date":"2017-04-13T05:39:48.146Z","type":"message"}
{"nick":"cloudshu","message":"annevk: i'll bring this up in committee next month","date":"2017-04-13T05:42:01.398Z","type":"message"}
{"nick":"cloudshu","message":"annevk: it's really just the problem that test262 ignores web reality","date":"2017-04-13T05:42:09.650Z","type":"message"}
{"nick":"cloudshu","message":"and while thus far it's been a matter of annex b and some special top-level names, it's gonna get more real with SAB","date":"2017-04-13T05:43:45.086Z","type":"message"}
{"nick":"cloudshu","message":"my fear, though, is that it's just gonna get swept under the rug as \"not our problem\"","date":"2017-04-13T05:43:56.167Z","type":"message"}
{"nick":"cloudshu","message":"let the vendors deal with it","date":"2017-04-13T05:44:00.871Z","type":"message"}
{"nick":"annevk","message":"cloudshu: one way we could deal with it is import the whole thing in WPT somehow with some instrumentation on top to make sure all combinations are covered","date":"2017-04-13T05:51:38.182Z","type":"message"}
{"nick":"cloudshu","message":"annevk: that'd be neat","date":"2017-04-13T05:52:06.762Z","type":"message"}
{"nick":"annevk","message":"cloudshu: some kind of build script that creates a WPT wrapper for all the various host combinations","date":"2017-04-13T05:52:07.422Z","type":"message"}
{"nick":"cloudshu","message":"annevk: PM","date":"2017-04-13T05:52:32.081Z","type":"message"}
{"nick":"brab","date":"2017-04-13T06:08:33.138Z","type":"join"}
{"nick":"gskachkov_","date":"2017-04-13T06:24:11.664Z","type":"join"}
{"nick":"gskachkov_","reason":"Quit: gskachkov_","date":"2017-04-13T07:00:20.455Z","type":"quit"}
{"nick":"gskachkov_","date":"2017-04-13T07:01:34.222Z","type":"join"}
{"nick":"dilijev","message":"random question about the tc39 meeting notes. They seem very detailed with quotes (or summaries) of what each attendee had to say. I'm wondering how close to a transcript is this or is it suitably summarized? I ask because in places it seems like a transcript, but I find it hard to believe that the note takers are truly attempting to make a verbatim","date":"2017-04-13T07:23:45.019Z","type":"message"}
{"nick":"dilijev","message":"transcript of the meeting. I imagine a true transcript would also not be as useful as a distilled summary of points.","date":"2017-04-13T07:23:45.201Z","type":"message"}
{"nick":"ljharb","message":"it's definitely not always a detailed transcript. i think you imagine correctly.","date":"2017-04-13T07:27:49.158Z","type":"message"}
{"nick":"littledan","message":"dilijev: Recently it has been more like a transcript, so it can be hard to get the points. The last couple meetings had summary docs written. Maybe we need a third, intermediate form","date":"2017-04-13T07:28:24.834Z","type":"message"}
{"nick":"littledan","message":"an issue is that it can be hard for note takers to extract correct points from everyone","date":"2017-04-13T07:28:39.309Z","type":"message"}
{"nick":"littledan","message":"Domenic: https://github.com/littledan/proposal-class-static-block","date":"2017-04-13T07:29:04.622Z","type":"message"}
{"nick":"annevk","message":"littledan: curious, were recordings ever considered?","date":"2017-04-13T07:53:00.036Z","type":"message"}
{"nick":"cloudshu","message":"littledan: ping","date":"2017-04-13T07:53:34.251Z","type":"message"}
{"nick":"cloudshu","message":"littledan: nvm i'll just comment in issue, heading to bed","date":"2017-04-13T07:56:54.071Z","type":"message"}

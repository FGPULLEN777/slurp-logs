{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-03-01T00:19:23.877Z","type":"quit"}
{"nick":"Guest59","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T00:20:38.342Z","type":"quit"}
{"nick":"plutoniix","date":"2017-03-01T00:25:56.277Z","type":"join"}
{"nick":"Guest59","date":"2017-03-01T00:29:17.316Z","type":"join"}
{"nick":"Guest59","reason":"Client Quit","date":"2017-03-01T00:32:37.138Z","type":"quit"}
{"nick":"Guest59","date":"2017-03-01T00:35:00.854Z","type":"join"}
{"nick":"Guest59","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T01:07:59.626Z","type":"quit"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T01:08:10.762Z","type":"quit"}
{"nick":"unixpickle","date":"2017-03-01T01:08:37.461Z","type":"join"}
{"nick":"unixpickle","reason":"Client Quit","date":"2017-03-01T01:09:18.378Z","type":"quit"}
{"nick":"Guest59","date":"2017-03-01T01:10:05.574Z","type":"join"}
{"nick":"joyee","date":"2017-03-01T01:31:42.781Z","type":"join"}
{"nick":"wadey","reason":"Quit: ZNC - http://znc.in","date":"2017-03-01T01:44:33.296Z","type":"quit"}
{"nick":"wadey","date":"2017-03-01T01:45:03.933Z","type":"join"}
{"nick":"unixpickle","date":"2017-03-01T02:03:49.412Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T02:42:06.545Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T02:42:48.272Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T02:42:50.637Z","type":"quit"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T02:46:25.377Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T02:50:48.185Z","type":"join"}
{"nick":"plutoniix","reason":"Remote host closed the connection","date":"2017-03-01T04:58:54.900Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-03-01T05:01:03.283Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2017-03-01T05:03:34.780Z","type":"quit"}
{"nick":"unixpickle","date":"2017-03-01T05:34:46.528Z","type":"join"}
{"nick":"unixpickle","reason":"Client Quit","date":"2017-03-01T05:36:29.953Z","type":"quit"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T06:14:23.361Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T06:15:54.474Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T06:15:56.440Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T06:43:15.614Z","type":"join"}
{"nick":"plutoniix","date":"2017-03-01T06:56:43.760Z","type":"join"}
{"nick":"plutoniix","reason":"Max SendQ exceeded","date":"2017-03-01T06:56:51.820Z","type":"quit"}
{"nick":"plutoniix","date":"2017-03-01T06:57:33.794Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T10:16:16.286Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T10:17:30.443Z","type":"join"}
{"nick":"plutoniix","reason":"Quit: Leaving","date":"2017-03-01T10:20:31.571Z","type":"quit"}
{"nick":"joyee","reason":"Ping timeout: 246 seconds","date":"2017-03-01T10:22:08.434Z","type":"quit"}
{"nick":"rmcilroy","reason":"Ping timeout: 255 seconds","date":"2017-03-01T10:56:47.865Z","type":"quit"}
{"nick":"rmcilroy","date":"2017-03-01T11:08:35.246Z","type":"join"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-03-01T11:25:10.354Z","type":"quit"}
{"nick":"mylesborins","date":"2017-03-01T11:25:41.128Z","type":"join"}
{"nick":"joyee","date":"2017-03-01T11:26:06.413Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 260 seconds","date":"2017-03-01T11:30:41.397Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T11:41:10.800Z","type":"join"}
{"nick":"trungl-bot","message":"\u00034\u0002Tree closed\u000f by buildbot@chromium.org: closed (http://build.chromium.org/p/client.v8/builders/V8%20Linux%20-%20debug/builds/13871 from f75748cf4ca696fff268787068419604815f8090)","date":"2017-03-01T12:29:54.463Z","type":"message"}
{"nick":"trungl-bot","message":"\u00033\u0002Tree opened\u000f by machenbach@chromium.org: open","date":"2017-03-01T12:46:01.774Z","type":"message"}
{"nick":"sxa","reason":"Ping timeout: 240 seconds","date":"2017-03-01T12:55:38.656Z","type":"quit"}
{"nick":"sxa","date":"2017-03-01T13:00:19.666Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-03-01T13:19:53.413Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T13:20:18.866Z","type":"join"}
{"nick":"sxa","reason":"Ping timeout: 240 seconds","date":"2017-03-01T13:28:08.642Z","type":"quit"}
{"nick":"sxa","date":"2017-03-01T13:31:06.308Z","type":"join"}
{"nick":"Garbee","date":"2017-03-01T13:55:50.852Z","type":"quit"}
{"nick":"Garbee","date":"2017-03-01T13:58:26.314Z","type":"join"}
{"nick":"bradleymeck","date":"2017-03-01T14:02:15.664Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-03-01T14:04:25.864Z","type":"quit"}
{"nick":"joyee","date":"2017-03-01T14:04:56.465Z","type":"join"}
{"nick":"unixpickle","date":"2017-03-01T14:14:47.286Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 240 seconds","date":"2017-03-01T14:41:38.607Z","type":"quit"}
{"nick":"trungl-bot","message":"\u00034\u0002Tree closed\u000f by buildbot@chromium.org: closed (http://build.chromium.org/p/client.v8/builders/V8%20Linux%20-%20debug/builds/13878 from c45d065edc0ca83ca342cdb49e69a9203e532007)","date":"2017-03-01T15:29:15.544Z","type":"message"}
{"nick":"caitp","message":"gsathya: another question, why do we allocate resolving functions so early for PromiseResolveThenableJob? it looks like we can defer that until the microtask is evaluated, which might help keep them in the young generation","date":"2017-03-01T15:46:40.537Z","type":"message"}
{"nick":"RT|Chatzilla","reason":"Quit: ChatZilla 0.9.86.1 [Firefox 2.0.0.22pre/2010030309]","date":"2017-03-01T15:47:07.974Z","type":"quit"}
{"nick":"caitp","message":"I dunno what the odds are of promoting resolving functions in between microtasks, but it seems possible","date":"2017-03-01T15:47:22.212Z","type":"message"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T15:48:21.181Z","type":"quit"}
{"nick":"unixpickle","date":"2017-03-01T15:53:50.605Z","type":"join"}
{"nick":"gsathya","message":"caitp: previously, CreateResolvingFunctions was in js, so it was expensive to call out to it from PromiseResolveThenableJob","date":"2017-03-01T15:59:10.794Z","type":"message"}
{"nick":"gsathya","message":"but we can change it now","date":"2017-03-01T15:59:15.184Z","type":"message"}
{"nick":"gsathya","message":"there's no observable behvaior","date":"2017-03-01T15:59:35.245Z","type":"message"}
{"nick":"caitp","message":"btw, this comes up at the moment due to porting some promise-use code to C++ to shrink the snapshot, which has grown a bit too big","date":"2017-03-01T16:00:14.906Z","type":"message"}
{"nick":"caitp","message":"another alternative is to avoid inlining so many Promise calls, in invoke them as stubs instead","date":"2017-03-01T16:00:34.997Z","type":"message"}
{"nick":"gsathya","message":"caitp: https://bugs.chromium.org/p/v8/issues/detail?id=5737#c6","date":"2017-03-01T16:01:44.059Z","type":"message"}
{"nick":"gsathya","message":"RegExp builtins are 5x the size of promise builtins","date":"2017-03-01T16:02:05.916Z","type":"message"}
{"nick":"caitp","message":"sure, but we should still try to shrink this down","date":"2017-03-01T16:02:40.738Z","type":"message"}
{"nick":"caitp","message":"like, maybe PromiseResolveClosure can inline InternalResolvePromise, but AsyncFunctionAwait* probably shouldn't","date":"2017-03-01T16:03:13.906Z","type":"message"}
{"nick":"gsathya","message":"agreed","date":"2017-03-01T16:03:47.833Z","type":"message"}
{"nick":"gsathya","message":"i'm more comfortable with async builtins calling out to promise builtin stubs","date":"2017-03-01T16:04:15.841Z","type":"message"}
{"nick":"caitp","message":"and now there's an entire other set of Async*Await methods lined up to enter the codebase, it would probably be better if Uncaught and Caught were the same function","date":"2017-03-01T16:04:20.990Z","type":"message"}
{"nick":"caitp","message":"lots of room for improvement","date":"2017-03-01T16:04:34.991Z","type":"message"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T16:05:03.453Z","type":"quit"}
{"nick":"trungl-bot","message":"\u00033\u0002Tree opened\u000f by machenbach@chromium.org: open","date":"2017-03-01T16:06:32.955Z","type":"message"}
{"nick":"unixpickle","date":"2017-03-01T16:26:25.729Z","type":"join"}
{"nick":"caitp","message":"we could also shrink Promise builtins code size massively by not allocating a separate fixed array for each component of a Promise","date":"2017-03-01T17:11:56.325Z","type":"message"}
{"nick":"caitp","message":"could just allocate a single fixed array, a multiple of the number of elements needed, and fill the other fields with the hole when they can't be used","date":"2017-03-01T17:12:38.042Z","type":"message"}
{"nick":"caitp","message":"then you'd still get the fast case for 0 or 1 callbacks, and much smaller code for InternalPerformPromiseThen","date":"2017-03-01T17:13:22.652Z","type":"message"}
{"nick":"caitp","message":"not to mention a smaller heap graph to traverse","date":"2017-03-01T17:13:57.829Z","type":"message"}
{"nick":"bradleymeck","date":"2017-03-01T17:59:03.518Z","type":"join"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T18:13:20.407Z","type":"quit"}
{"nick":"trungl-bot","message":"\u00034\u0002Tree closed\u000f by buildbot@chromium.org: closed (http://build.chromium.org/p/client.v8/builders/V8%20Linux64%20ASAN/builds/18928 from a5af7fe9ee388a636675f4a6872b1d34fa7d1a7a)","date":"2017-03-01T18:41:39.570Z","type":"message"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-03-01T19:23:25.802Z","type":"quit"}
{"nick":"caitp","message":"with some combination of flags, or maybe regardless of flags, all user-supplied JS code seems to have a code with kind=BUILTIN, which doesn't seem to make any sense","date":"2017-03-01T19:33:07.516Z","type":"message"}
{"nick":"trungl-bot","message":"\u00033\u0002Tree opened\u000f by bmeurer@google.com: open (Flake?)","date":"2017-03-01T19:46:04.862Z","type":"message"}
{"nick":"aklein","message":"caitp: isn't that just because the code gets set to the CompileLazy builtin?","date":"2017-03-01T19:47:33.998Z","type":"message"}
{"nick":"caitp","message":"I think it would have its proper entry set after being invoked","date":"2017-03-01T19:47:59.678Z","type":"message"}
{"nick":"caitp","message":"it may well be that, but it just seems to make printing the code misleading","date":"2017-03-01T19:50:53.210Z","type":"message"}
{"nick":"unixpickle","date":"2017-03-01T19:51:21.210Z","type":"join"}
{"nick":"gsathya","message":"caitp: did you try changing AsyncFromSync builtins to call out to promise builtins stubs? ","date":"2017-03-01T20:31:39.612Z","type":"message"}
{"nick":"gsathya","message":"we can have some of the promise builtins be both TFS and TFJ stubs","date":"2017-03-01T20:32:28.294Z","type":"message"}
{"nick":"caitp","message":"not yet, but we will see","date":"2017-03-01T20:32:35.065Z","type":"message"}
{"nick":"gsathya","message":"it might be better to do just that, rather than reimplementing all this in c++ again","date":"2017-03-01T20:33:35.790Z","type":"message"}
{"nick":"caitp","message":"another thing I could do is just change the C++ builtins to call the TFJ natives instead of reimplementing in C++","date":"2017-03-01T20:35:17.806Z","type":"message"}
{"nick":"caitp","message":"lots of options, feel free to leave comments on the CL about it","date":"2017-03-01T20:35:43.707Z","type":"message"}
{"nick":"caitp","message":"or on the bug","date":"2017-03-01T20:35:53.137Z","type":"message"}
{"nick":"sxa","reason":"Ping timeout: 264 seconds","date":"2017-03-01T21:02:11.261Z","type":"quit"}
{"nick":"sxa","date":"2017-03-01T21:08:55.130Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-03-01T21:20:50.573Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-03-01T21:54:16.537Z","type":"join"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T22:04:46.955Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-03-01T22:24:59.021Z","type":"quit"}
{"nick":"RT|Chatzilla","date":"2017-03-01T22:48:09.854Z","type":"join"}
{"nick":"sxa","reason":"Ping timeout: 258 seconds","date":"2017-03-01T23:23:58.226Z","type":"quit"}
{"nick":"unixpickle","date":"2017-03-01T23:29:23.759Z","type":"join"}
{"nick":"sxa","date":"2017-03-01T23:29:38.325Z","type":"join"}
{"nick":"joyee","date":"2017-03-01T23:30:41.420Z","type":"join"}
{"nick":"unixpickle","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-03-01T23:40:05.043Z","type":"quit"}
{"nick":"unixpickle","date":"2017-03-01T23:53:11.303Z","type":"join"}

{"nick":"plutoniix","date":"2017-01-30T01:22:48.297Z","type":"join"}
{"nick":"plutoniix","reason":"Max SendQ exceeded","date":"2017-01-30T01:23:20.282Z","type":"quit"}
{"nick":"plutoniix","date":"2017-01-30T01:23:56.643Z","type":"join"}
{"nick":"plutoniix","reason":"Max SendQ exceeded","date":"2017-01-30T01:25:05.283Z","type":"quit"}
{"nick":"plutoniix","date":"2017-01-30T01:25:32.288Z","type":"join"}
{"nick":"bradleymeck","date":"2017-01-30T03:00:48.412Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-01-30T03:06:17.425Z","type":"quit"}
{"nick":"Guest59_","reason":"Read error: Connection reset by peer","date":"2017-01-30T08:22:52.689Z","type":"quit"}
{"nick":"Guest59","date":"2017-01-30T08:23:49.499Z","type":"join"}
{"nick":"ilyaigpetrov","date":"2017-01-30T08:33:34.926Z","type":"join"}
{"nick":"RT|Chatzilla","date":"2017-01-30T08:56:30.327Z","type":"join"}
{"nick":"plutoniix","reason":"Quit: Leaving","date":"2017-01-30T09:54:58.253Z","type":"quit"}
{"nick":"Cube8","date":"2017-01-30T11:15:37.924Z","type":"join"}
{"nick":"zv","reason":"Ping timeout: 240 seconds","date":"2017-01-30T12:47:09.889Z","type":"quit"}
{"nick":"s1341","message":"it seems that expose_debug_as is no longer available on d8... what's going on with that?","date":"2017-01-30T12:56:27.716Z","type":"message"}
{"nick":"zv","date":"2017-01-30T13:04:15.914Z","type":"join"}
{"nick":"caitp","message":"s1341: the tests that still use the debug api include test/debugger/test-api.js","date":"2017-01-30T13:49:12.790Z","type":"message"}
{"nick":"caitp","message":"which seems to implement the old debug.Debug api using a couple intrinsics","date":"2017-01-30T13:49:37.188Z","type":"message"}
{"nick":"s1341","message":"so the debug.Debug api is gone?","date":"2017-01-30T13:50:04.514Z","type":"message"}
{"nick":"bradleymeck","date":"2017-01-30T13:50:12.016Z","type":"join"}
{"nick":"caitp","message":"I believe so, yeah","date":"2017-01-30T13:50:16.275Z","type":"message"}
{"nick":"caitp","message":"but I haven't followed the v8-inspector work too closely","date":"2017-01-30T13:50:24.185Z","type":"message"}
{"nick":"s1341","message":"caitp. ok. thanks for the info","date":"2017-01-30T13:50:54.210Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-01-30T14:28:07.315Z","type":"quit"}
{"nick":"s1341","message":"caitp i'm having trouble understanding how some builtins are called.","date":"2017-01-30T14:33:56.685Z","type":"message"}
{"nick":"s1341","message":"caitp: can i pick your brain?","date":"2017-01-30T14:34:16.571Z","type":"message"}
{"nick":"caitp","message":"go ahead","date":"2017-01-30T14:34:23.002Z","type":"message"}
{"nick":"s1341","message":"caitp: how is this builtin called: https://chromium.googlesource.com/v8/v8/+/master/src/builtins/builtins-string.cc#362","date":"2017-01-30T14:35:16.861Z","type":"message"}
{"nick":"caitp","message":"that's a code stub, I'm going to guess it's called if type feedback indicates both lhs and rhs of a == operation are strings","date":"2017-01-30T14:36:40.569Z","type":"message"}
{"nick":"s1341","message":"caitp, any idea what code actually calls it? I can't seem to find a reference to any code which directly calls it","date":"2017-01-30T14:37:10.060Z","type":"message"}
{"nick":"s1341","message":"the best I can find is a TFS_BUILTIN(StringEqual) in code-factory.cc","date":"2017-01-30T14:37:50.740Z","type":"message"}
{"nick":"s1341","message":"is that calling my StringEqual?","date":"2017-01-30T14:38:06.798Z","type":"message"}
{"nick":"caitp","message":"so, in code-stub-assembler.cc there's a macro op called Equal, which invokes the StringEqual stub if the lhs and rhs are both strings","date":"2017-01-30T14:40:36.657Z","type":"message"}
{"nick":"caitp","message":"the Equal stub just calls that macro op, and implements the generic version of ==, eg when the compiler can't reduce it to a smaller inlineable operation","date":"2017-01-30T14:41:20.095Z","type":"message"}
{"nick":"s1341","message":"i","date":"2017-01-30T14:43:09.754Z","type":"message"}
{"nick":"s1341","message":"oh. i see. it does go through the CodeFactory::StringEqual...","date":"2017-01-30T14:43:25.727Z","type":"message"}
{"nick":"caitp","message":"the interpreter will definitely call this if lhs and rhs are strings and the code is interpreted, dunno if it's reachable through the legacy pipeline","date":"2017-01-30T14:46:46.009Z","type":"message"}
{"nick":"caitp","message":"looks like the legacy pipeline just uses CompareIC instead","date":"2017-01-30T14:49:17.680Z","type":"message"}
{"nick":"caitp","message":"anyway, hope that helps","date":"2017-01-30T14:49:32.171Z","type":"message"}
{"nick":"s1341","message":"caitp. i think it did. I was missing that the CodeFactory::XXX call the TF_BUILTINS...","date":"2017-01-30T14:49:56.962Z","type":"message"}
{"nick":"plutoniix","date":"2017-01-30T14:52:22.292Z","type":"join"}
{"nick":"plutoniix","reason":"Max SendQ exceeded","date":"2017-01-30T14:52:51.284Z","type":"quit"}
{"nick":"plutoniix","date":"2017-01-30T14:53:26.313Z","type":"join"}
{"nick":"s1341","message":"caitp. ok i've gotten turned around again.","date":"2017-01-30T15:08:46.689Z","type":"message"}
{"nick":"s1341","message":"what about this one: https://chromium.googlesource.com/v8/v8/+/master/src/builtins/builtins-string.cc#401","date":"2017-01-30T15:09:46.294Z","type":"message"}
{"nick":"s1341","message":"I see the CodeFactory stub... and it's even called from compiler/effect-control-linearizer.cc","date":"2017-01-30T15:10:24.624Z","type":"message"}
{"nick":"s1341","message":"caitp: but I can't seem to get that code to execute...","date":"2017-01-30T15:10:35.800Z","type":"message"}
{"nick":"caitp","message":"that gets installed to String.prototype at https://chromium.googlesource.com/v8/v8/+/master/src/bootstrapper.cc#1575","date":"2017-01-30T15:10:45.438Z","type":"message"}
{"nick":"caitp","message":"so, \"foo\".charCodeAt(0) calls it","date":"2017-01-30T15:11:04.995Z","type":"message"}
{"nick":"s1341","message":"caitp: no. i think what's installed is StringPrototypeCharCodeAt...","date":"2017-01-30T15:12:07.119Z","type":"message"}
{"nick":"s1341","message":"I'm looking at StringCharAt...","date":"2017-01-30T15:12:35.094Z","type":"message"}
{"nick":"caitp","message":"ah, you're right in that case, one sec","date":"2017-01-30T15:12:40.534Z","type":"message"}
{"nick":"caitp","message":"so yeah, StringCharCodeAt is another code stub","date":"2017-01-30T15:12:54.451Z","type":"message"}
{"nick":"caitp","message":"looks like it's used by turbofan","date":"2017-01-30T15:13:48.683Z","type":"message"}
{"nick":"caitp","message":"as part of lowering the StringCharCodeAt opcode, which I'm guessing comes from \"foo\"[0]","date":"2017-01-30T15:14:36.926Z","type":"message"}
{"nick":"s1341","message":"Well. i put a Print(\"foo\") in StringCharAt, and tried \"foo\"[0] and it doesn't get printed...","date":"2017-01-30T15:15:17.759Z","type":"message"}
{"nick":"caitp","message":"ah, I see","date":"2017-01-30T15:15:52.895Z","type":"message"}
{"nick":"caitp","message":"so the StringCharCodeAt operator gets used a bit in js-builtin-reducer, for inlining String.prototype.charCodeAt (and some other things)","date":"2017-01-30T15:16:17.558Z","type":"message"}
{"nick":"caitp","message":"IIRC the string iterator inlining uses it too","date":"2017-01-30T15:16:27.064Z","type":"message"}
{"nick":"s1341","message":"confusing...","date":"2017-01-30T15:26:03.211Z","type":"message"}
{"nick":"caitp","message":"what are you researching exactly anyways?","date":"2017-01-30T15:39:34.831Z","type":"message"}
{"nick":"s1341","message":"just trying to get a better feeling for how all this code works.","date":"2017-01-30T15:39:49.795Z","type":"message"}
{"nick":"s1341","message":"specifically the new TurboFan stuff, and how it interacts with the older code.","date":"2017-01-30T15:40:05.434Z","type":"message"}
{"nick":"caitp","message":"I see","date":"2017-01-30T15:41:09.348Z","type":"message"}
{"nick":"s1341","message":"any pointers?","date":"2017-01-30T15:41:58.633Z","type":"message"}
{"nick":"caitp","message":"well, the main path or the legacy full-codegen/crankshaft pipeline to get to turbofan is in ast-graph-builder.cc, afaik","date":"2017-01-30T15:42:46.598Z","type":"message"}
{"nick":"caitp","message":"for*","date":"2017-01-30T15:43:46.217Z","type":"message"}
{"nick":"bradleymeck","date":"2017-01-30T15:54:56.653Z","type":"join"}

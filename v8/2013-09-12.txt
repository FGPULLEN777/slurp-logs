{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-09-12T00:03:14.689Z","type":"quit"}
{"nick":"iamdustan","date":"2013-09-12T01:05:53.223Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-12T01:09:26.685Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-12T01:10:26.679Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-12T01:10:52.294Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-09-12T01:14:51.542Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 245 seconds","date":"2013-09-12T01:15:26.526Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-12T01:43:17.403Z","type":"join"}
{"nick":"seventh","reason":"Ping timeout: 245 seconds","date":"2013-09-12T02:19:35.293Z","type":"quit"}
{"nick":"carif","date":"2013-09-12T03:26:17.896Z","type":"join"}
{"nick":"M28","date":"2013-09-12T03:57:07.141Z","type":"join"}
{"nick":"hardbit","date":"2013-09-12T04:51:20.505Z","type":"join"}
{"nick":"c4milo","date":"2013-09-12T04:57:16.025Z","type":"join"}
{"nick":"carif","reason":"Read error: Operation timed out","date":"2013-09-12T06:17:00.135Z","type":"quit"}
{"nick":"C-Man","date":"2013-09-12T06:31:57.184Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-12T06:49:48.380Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T07:07:33.289Z","type":"join"}
{"nick":"hardbit","reason":"Quit: hardbit","date":"2013-09-12T07:20:58.059Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-12T07:42:30.099Z","type":"quit"}
{"nick":"muelli","date":"2013-09-12T07:47:11.520Z","type":"join"}
{"nick":"abraxas__","date":"2013-09-12T08:22:40.311Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-09-12T08:22:40.311Z","type":"quit"}
{"nick":"spolu","date":"2013-09-12T08:23:04.925Z","type":"join"}
{"nick":"temp01","date":"2013-09-12T08:38:33.483Z","type":"join"}
{"nick":"xan_","reason":"Ping timeout: 248 seconds","date":"2013-09-12T08:43:17.645Z","type":"quit"}
{"nick":"xan_","date":"2013-09-12T08:44:20.660Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-12T08:48:46.692Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-09-12T08:53:45.524Z","type":"quit"}
{"nick":"C-Man","reason":"Read error: Connection reset by peer","date":"2013-09-12T09:00:32.394Z","type":"quit"}
{"nick":"C-Man","date":"2013-09-12T09:00:49.228Z","type":"join"}
{"nick":"muelli","message":"hm. GDB is *very* slow when debugging V8. Especially when it comes to Objects' maps. What do people do? Just suffer the long time waiting? Or can I do some optimisations anywhere?","date":"2013-09-12T09:14:06.601Z","type":"message"}
{"nick":"phI||Ip","reason":"Ping timeout: 260 seconds","date":"2013-09-12T09:21:19.512Z","type":"quit"}
{"nick":"phI||Ip","date":"2013-09-12T09:22:30.971Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-12T09:47:36.801Z","type":"join"}
{"nick":"spolu","reason":"Remote host closed the connection","date":"2013-09-12T09:58:13.353Z","type":"quit"}
{"nick":"guor","date":"2013-09-12T10:19:13.240Z","type":"join"}
{"nick":"abraxas__","reason":"Remote host closed the connection","date":"2013-09-12T10:19:18.861Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-12T10:19:51.690Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 245 seconds","date":"2013-09-12T10:24:11.512Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-09-12T11:39:49.638Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T12:36:49.461Z","type":"join"}
{"nick":"carif","date":"2013-09-12T13:05:09.568Z","type":"join"}
{"nick":"carif","reason":"Read error: Connection reset by peer","date":"2013-09-12T13:06:36.784Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-12T13:07:36.338Z","type":"join"}
{"nick":"carif","date":"2013-09-12T13:51:55.838Z","type":"join"}
{"nick":"chrisdickinson","reason":"Ping timeout: 260 seconds","date":"2013-09-12T14:08:19.605Z","type":"quit"}
{"nick":"alph","reason":"Ping timeout: 264 seconds","date":"2013-09-12T14:08:54.835Z","type":"quit"}
{"nick":"chrisdickinson","date":"2013-09-12T14:13:32.392Z","type":"join"}
{"nick":"alph","date":"2013-09-12T14:19:53.788Z","type":"join"}
{"nick":"stalled","reason":"Ping timeout: 260 seconds","date":"2013-09-12T14:23:24.073Z","type":"quit"}
{"nick":"stalled","date":"2013-09-12T14:33:16.067Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-12T14:44:35.314Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T14:51:38.286Z","type":"join"}
{"nick":"RT|Chatzilla","reason":"Quit: ChatZilla 0.9.86.1 [Firefox 2.0.0.22pre/2009081014]","date":"2013-09-12T15:21:10.816Z","type":"quit"}
{"nick":"guor","reason":"Ping timeout: 245 seconds","date":"2013-09-12T15:24:35.046Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-12T15:46:49.640Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-12T16:21:48.934Z","type":"quit"}
{"nick":"M28_","date":"2013-09-12T16:21:53.586Z","type":"join"}
{"nick":"temp01","reason":"Read error: No route to host","date":"2013-09-12T16:22:56.952Z","type":"quit"}
{"nick":"Lethalman","reason":"Remote host closed the connection","date":"2013-09-12T16:25:56.596Z","type":"quit"}
{"nick":"fb55","date":"2013-09-12T16:28:12.872Z","type":"join"}
{"nick":"temp01","date":"2013-09-12T16:33:26.240Z","type":"join"}
{"nick":"fb55","reason":"Remote host closed the connection","date":"2013-09-12T16:43:15.509Z","type":"quit"}
{"nick":"fb55","date":"2013-09-12T16:44:35.705Z","type":"join"}
{"nick":"fb55","reason":"Ping timeout: 245 seconds","date":"2013-09-12T17:00:51.534Z","type":"quit"}
{"nick":"fb55","date":"2013-09-12T17:02:52.970Z","type":"join"}
{"nick":"trigen","date":"2013-09-12T17:03:44.570Z","type":"join"}
{"nick":"muelli","reason":"Ping timeout: 260 seconds","date":"2013-09-12T17:18:43.592Z","type":"quit"}
{"nick":"onethfour","date":"2013-09-12T17:32:21.937Z","type":"join"}
{"nick":"onethfour","message":"what is the debian equivalent to # yum install v8 v8-devel","date":"2013-09-12T17:32:25.262Z","type":"message"}
{"nick":"carif","reason":"Quit: Ex-Chat","date":"2013-09-12T17:32:32.003Z","type":"quit"}
{"nick":"onethfour","message":"in other words how do i install v8-devel package on debian?","date":"2013-09-12T17:32:39.813Z","type":"message"}
{"nick":"Lethalman","date":"2013-09-12T17:59:42.668Z","type":"join"}
{"nick":"aboudreault","message":"onethfour, you should have a libv8-dev package","date":"2013-09-12T18:18:04.435Z","type":"message"}
{"nick":"aboudreault","message":"but it is relatively old. I'm using my custom installation.","date":"2013-09-12T18:19:16.815Z","type":"message"}
{"nick":"onethfour","message":"...","date":"2013-09-12T18:20:31.163Z","type":"message"}
{"nick":"bnoordhuis","message":"onethfour: why the dots?","date":"2013-09-12T18:22:51.481Z","type":"message"}
{"nick":"onethfour","message":"hopefully its not too old","date":"2013-09-12T18:24:09.339Z","type":"message"}
{"nick":"onethfour","message":"old != bad","date":"2013-09-12T18:24:12.056Z","type":"message"}
{"nick":"aboudreault","message":"it's 3.8. maybe it is not that bad.","date":"2013-09-12T18:24:34.484Z","type":"message"}
{"nick":"bnoordhuis","message":"that's not old, that's ancient. that's the version node v0.6 ships with, iirc","date":"2013-09-12T18:25:39.398Z","type":"message"}
{"nick":"aboudreault","message":"well, node 0.6 is old :)","date":"2013-09-12T18:26:11.949Z","type":"message"}
{"nick":"aboudreault","message":"but you are right, ancient is perfect too. should be very stable.","date":"2013-09-12T18:26:40.108Z","type":"message"}
{"nick":"aboudreault","message":"How can go something like global->Set(...) with a persistent object?","date":"2013-09-12T18:26:44.577Z","type":"message"}
{"nick":"bnoordhuis","message":"aboudreault: Local<T>::New(isolate, persistent)->Set(...)","date":"2013-09-12T18:27:21.726Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, you need to rematerialize a Local handle from the persistent object first","date":"2013-09-12T18:27:38.042Z","type":"message"}
{"nick":"aboudreault","message":"looks like my code works. but I would expect a memory leak. (see the commented delete directive)","date":"2013-09-12T18:31:49.995Z","type":"message"}
{"nick":"aboudreault","message":"http://pastebin.ca/2449090","date":"2013-09-12T18:31:50.706Z","type":"message"}
{"nick":"aboudreault","message":"This is what I'm trying to validate.","date":"2013-09-12T18:32:05.600Z","type":"message"}
{"nick":"bnoordhuis","message":"aboudreault: yes, looks like it leaks","date":"2013-09-12T18:33:08.952Z","type":"message"}
{"nick":"aboudreault","message":"its doesn't. Checking with valgrind..","date":"2013-09-12T18:33:34.241Z","type":"message"}
{"nick":"aboudreault","message":"But before I started to use a MakeWeak, I do see the memory leaks","date":"2013-09-12T18:33:57.607Z","type":"message"}
{"nick":"bnoordhuis","message":"is your weak callback actually getting called?","date":"2013-09-12T18:34:39.023Z","type":"message"}
{"nick":"bnoordhuis","message":"and is it called as many times as you are creating objects","date":"2013-09-12T18:34:52.222Z","type":"message"}
{"nick":"aboudreault","message":"I see that my function that created many times is called. But the weakCallBack is never called. I can simulate leaks just by adding a Point *p2 = new Point(2,3); (unused)  ","date":"2013-09-12T18:40:29.170Z","type":"message"}
{"nick":"bnoordhuis","message":"aboudreault: right, there you go. if your weak callback is never called, then there is something keeping the object alive","date":"2013-09-12T18:45:44.790Z","type":"message"}
{"nick":"aboudreault","message":"That's ok... but doesn't explain why I don't see leaks at the end of the process","date":"2013-09-12T18:46:56.666Z","type":"message"}
{"nick":"bnoordhuis","message":"how are you running valgrind?","date":"2013-09-12T18:47:23.470Z","type":"message"}
{"nick":"bnoordhuis","message":"with what arguments, i mean","date":"2013-09-12T18:47:32.244Z","type":"message"}
{"nick":"aboudreault","message":"valgrind --leak-check=full ","date":"2013-09-12T18:47:34.537Z","type":"message"}
{"nick":"aboudreault","message":"v8 3.19","date":"2013-09-12T18:47:50.558Z","type":"message"}
{"nick":"bnoordhuis","message":"add --show-reachable=yes and try again","date":"2013-09-12T18:48:24.295Z","type":"message"}
{"nick":"aboudreault","message":"same result.","date":"2013-09-12T18:50:52.702Z","type":"message"}
{"nick":"aboudreault","message":"I see this though: ==21692==      possibly lost: 1,488 bytes in 6 blocks","date":"2013-09-12T18:51:14.202Z","type":"message"}
{"nick":"aboudreault","message":"with or without the delete instruction.","date":"2013-09-12T18:51:37.434Z","type":"message"}
{"nick":"bnoordhuis","message":"and it's printing a number of backtraces, i suspect?","date":"2013-09-12T18:51:42.340Z","type":"message"}
{"nick":"aboudreault","message":"1488 is exactly the size of the X created point.","date":"2013-09-12T18:51:55.593Z","type":"message"}
{"nick":"aboudreault","message":"yes, a lot.","date":"2013-09-12T18:52:03.970Z","type":"message"}
{"nick":"aboudreault","message":"still reachable: 357,358 bytes in 502 blocks","date":"2013-09-12T18:52:21.272Z","type":"message"}
{"nick":"bnoordhuis","message":"is your create function somewhere in those backtraces?","date":"2013-09-12T18:52:39.985Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, the 'possibly lost' thing means that valgrind thinks the memory leaked but it sees references to the memory elsewhere","date":"2013-09-12T18:53:40.607Z","type":"message"}
{"nick":"bnoordhuis","message":"on the v8 heap, that is","date":"2013-09-12T18:53:52.148Z","type":"message"}
{"nick":"bnoordhuis","message":"valgrind isn't very effective with v8, really","date":"2013-09-12T18:54:04.291Z","type":"message"}
{"nick":"aboudreault","message":"didn't know that.","date":"2013-09-12T18:54:29.456Z","type":"message"}
{"nick":"aboudreault","message":"I have a lot of backtrace, not sure if I'm doing something wrong or not.","date":"2013-09-12T18:55:50.577Z","type":"message"}
{"nick":"bnoordhuis","message":"well, a lot of it is probably v8","date":"2013-09-12T18:56:41.042Z","type":"message"}
{"nick":"bnoordhuis","message":"are you calling v8::V8::Dispose on exit?","date":"2013-09-12T18:56:50.193Z","type":"message"}
{"nick":"aboudreault","message":"http://pastebin.ca/2449104","date":"2013-09-12T18:56:58.618Z","type":"message"}
{"nick":"aboudreault","message":"yes, at the end of my process, I call context.Dispose() (which is a Persistent<Context>)","date":"2013-09-12T18:58:07.442Z","type":"message"}
{"nick":"aboudreault","message":"and in all my execution, I reuse that persistent context with:  Local<Context> context = Local<Context>::New(v8context->isolate, v8context->context);","date":"2013-09-12T18:58:33.364Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good. but are you also calling v8::V8::Dispose?","date":"2013-09-12T18:59:01.073Z","type":"message"}
{"nick":"aboudreault","message":"no","date":"2013-09-12T18:59:19.407Z","type":"message"}
{"nick":"bnoordhuis","message":"that should fix some of the chatter","date":"2013-09-12T18:59:33.754Z","type":"message"}
{"nick":"aboudreault","message":"didn't know I have to. I've checked a lot of examples on google though.","date":"2013-09-12T18:59:47.049Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not mandatory but it makes valgrind output less noisy","date":"2013-09-12T19:00:11.358Z","type":"message"}
{"nick":"aboudreault","message":"ha! so much better!","date":"2013-09-12T19:02:46.475Z","type":"message"}
{"nick":"aboudreault","message":"and now I do see my memory leaks at the line:   Point *p = new Point(2,3);","date":"2013-09-12T19:03:05.902Z","type":"message"}
{"nick":"aboudreault","message":"have to check why my WeakCallBack is not called now.","date":"2013-09-12T19:03:17.457Z","type":"message"}
{"nick":"bnoordhuis","message":"is your program short-lived?","date":"2013-09-12T19:04:51.399Z","type":"message"}
{"nick":"aboudreault","message":"not sure what this mean, sorry.","date":"2013-09-12T19:11:32.124Z","type":"message"}
{"nick":"bnoordhuis","message":"for how long does your program run? seconds, minutes?","date":"2013-09-12T19:12:37.839Z","type":"message"}
{"nick":"aboudreault","message":"ah, 2 seconds","date":"2013-09-12T19:12:52.712Z","type":"message"}
{"nick":"fb55","reason":"Remote host closed the connection","date":"2013-09-12T19:13:07.694Z","type":"quit"}
{"nick":"bnoordhuis","message":"right. then the garbage collector probably never kicks in. at least, not a major cycle that reclaims weak objects","date":"2013-09-12T19:13:57.079Z","type":"message"}
{"nick":"onethfour","message":"I'm trying to install plv8 extension for postgresql, but i'm getting this error after CREATE EXTENSION \"plv8\" ERROR:  could not open extension control file \"/usr/share/postgresql/9.3/extension/plv8.control\": No such file or directory","date":"2013-09-12T19:17:37.063Z","type":"message"}
{"nick":"aboudreault","message":"not sure how to interpret that. if my soft leak in CGI mode... it will currently also leak in FastCGI, since I'm creating and freeing a new context everything","date":"2013-09-12T19:19:05.175Z","type":"message"}
{"nick":"aboudreault","message":"so the GC is never called.","date":"2013-09-12T19:19:50.429Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm in turn not sure how to interpret that :)","date":"2013-09-12T19:23:44.372Z","type":"message"}
{"nick":"bnoordhuis","message":"weak objects only get their weak callbacks invoked when the garbage collector reclaims them","date":"2013-09-12T19:24:06.090Z","type":"message"}
{"nick":"bnoordhuis","message":"that only happens with major gc cycles (caveat emptor: only partially true)","date":"2013-09-12T19:24:30.060Z","type":"message"}
{"nick":"bnoordhuis","message":"so if there never is such a gc cycle, you'll see a leak with valgrind","date":"2013-09-12T19:24:58.948Z","type":"message"}
{"nick":"aboudreault","message":"reading this now: http://stackoverflow.com/questions/15375432/v8-why-does-weakreferencecallback-not-get-called","date":"2013-09-12T19:25:00.012Z","type":"message"}
{"nick":"bnoordhuis","message":"there's nothing you can do about it really, it's just how v8 works","date":"2013-09-12T19:25:09.936Z","type":"message"}
{"nick":"bnoordhuis","message":"that IdleNotification() trick is not guaranteed to work btw","date":"2013-09-12T19:25:59.860Z","type":"message"}
{"nick":"aboudreault","message":"yeah, it doesn't in my case.","date":"2013-09-12T19:26:51.055Z","type":"message"}
{"nick":"fb55","date":"2013-09-12T19:29:55.372Z","type":"join"}
{"nick":"aboudreault","message":"so my best bet would be to change my code to create only one persistent context for the executable, so the GC would be called sometime?  The goal being to not get leaks in FCGI.  ","date":"2013-09-12T19:30:03.093Z","type":"message"}
{"nick":"aboudreault","message":"let's do the test if my current code in fcgi leaks. will do 100 000 requests","date":"2013-09-12T19:30:29.407Z","type":"message"}
{"nick":"bnoordhuis","message":"as long as the gc runs every once in a while in fcgi mode, you're good. you can trace that with --trace-gc --trace-external-memory","date":"2013-09-12T19:34:02.519Z","type":"message"}
{"nick":"bnoordhuis","message":"you probably want to call AdjustAmountOfExternalAllocatedMemory() to give the gc a better picture of the amount of memory in use","date":"2013-09-12T19:34:59.188Z","type":"message"}
{"nick":"aboudreault","message":"ok. ","date":"2013-09-12T19:41:10.306Z","type":"message"}
{"nick":"onethfour","message":"can someone please help me i'm trying to install plv8 but i'm getting https://gist.github.com/6542788","date":"2013-09-12T19:41:30.964Z","type":"message"}
{"nick":"aboudreault","message":"onethfour, make: d8: Command not found","date":"2013-09-12T19:42:25.301Z","type":"message"}
{"nick":"onethfour","message":"yes i read that also, what does it mean?","date":"2013-09-12T19:42:56.430Z","type":"message"}
{"nick":"aboudreault","message":"you should also check the v8 version requirement of the plv8 exension","date":"2013-09-12T19:43:28.289Z","type":"message"}
{"nick":"aboudreault","message":"thank you bnoordhuis for your valuable advices. really appreciated. I'll continue my work that way.","date":"2013-09-12T19:44:38.442Z","type":"message"}
{"nick":"bnoordhuis","message":"no problem, happy to help","date":"2013-09-12T19:51:15.227Z","type":"message"}
{"nick":"onethfour","message":"i thought uuid-ossp is supposed to be automatically installed but i'm getting  a ERROR:  could not open extension control file \"/usr/share/postgresql/9.3/extension/uuid-ossp.control\": No such file or directory ","date":"2013-09-12T20:19:34.893Z","type":"message"}
{"nick":"bnoordhuis","message":"onethfour: you'll probably have more luck asking about that in a postgres channel","date":"2013-09-12T20:20:38.746Z","type":"message"}
{"nick":"onethfour","message":"apt-get install postgresql-contrib-9.3 <-- this fixed it, thanks","date":"2013-09-12T20:21:52.712Z","type":"message"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-09-12T20:59:29.172Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-12T20:59:59.809Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-12T21:04:47.337Z","type":"quit"}
{"nick":"C-Man","reason":"Quit: Connection reset by beer","date":"2013-09-12T21:50:45.156Z","type":"quit"}
{"nick":"Karinu","reason":"Ping timeout: 256 seconds","date":"2013-09-12T21:53:28.224Z","type":"quit"}
{"nick":"carif","date":"2013-09-12T22:09:22.064Z","type":"join"}
{"nick":"Karinu","date":"2013-09-12T22:09:57.215Z","type":"join"}
{"nick":"carif","reason":"Client Quit","date":"2013-09-12T22:10:13.011Z","type":"quit"}
{"nick":"fb55_","date":"2013-09-12T22:22:08.320Z","type":"join"}
{"nick":"fb55","reason":"Ping timeout: 240 seconds","date":"2013-09-12T22:22:26.953Z","type":"quit"}
{"nick":"temp01","reason":"Ping timeout: 264 seconds","date":"2013-09-12T22:30:14.701Z","type":"quit"}
{"nick":"carif","date":"2013-09-12T22:30:16.336Z","type":"join"}
{"nick":"RT|Chatzilla","date":"2013-09-12T22:31:24.626Z","type":"join"}
{"nick":"carif","reason":"Read error: Connection reset by peer","date":"2013-09-12T22:32:33.820Z","type":"quit"}
{"nick":"temp01","date":"2013-09-12T22:33:56.947Z","type":"join"}
{"nick":"Lethalman","reason":"Quit: Leaving","date":"2013-09-12T22:47:11.799Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-09-12T23:08:30.190Z","type":"quit"}
{"nick":"Jarvix_","date":"2013-09-12T23:48:56.152Z","type":"join"}
{"nick":"Jarvix__","reason":"Ping timeout: 240 seconds","date":"2013-09-12T23:51:49.693Z","type":"quit"}

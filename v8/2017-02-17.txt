{"nick":"xaxxon","reason":"Read error: Connection reset by peer","date":"2017-02-17T00:00:29.873Z","type":"quit"}
{"nick":"plutoniix","date":"2017-02-17T00:09:55.916Z","type":"join"}
{"nick":"xaxxon","date":"2017-02-17T00:44:37.040Z","type":"join"}
{"nick":"joyee","date":"2017-02-17T00:55:15.680Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-17T00:55:59.645Z","type":"quit"}
{"nick":"joyee","date":"2017-02-17T00:56:14.517Z","type":"join"}
{"nick":"ncthom91","date":"2017-02-17T01:34:02.818Z","type":"join"}
{"nick":"ncthom91","reason":"Max SendQ exceeded","date":"2017-02-17T01:34:09.826Z","type":"quit"}
{"nick":"ncthom91","date":"2017-02-17T01:35:00.885Z","type":"join"}
{"nick":"ncthom91","reason":"Max SendQ exceeded","date":"2017-02-17T01:35:22.861Z","type":"quit"}
{"nick":"ncthom91","date":"2017-02-17T01:36:25.037Z","type":"join"}
{"nick":"ncthom91","reason":"Max SendQ exceeded","date":"2017-02-17T01:36:32.621Z","type":"quit"}
{"nick":"ncthom91","date":"2017-02-17T01:37:07.439Z","type":"join"}
{"nick":"ncthom91","reason":"Client Quit","date":"2017-02-17T01:38:08.382Z","type":"quit"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-17T01:39:26.478Z","type":"quit"}
{"nick":"joyee","date":"2017-02-17T01:46:10.763Z","type":"join"}
{"nick":"xaxxon_","date":"2017-02-17T03:15:00.935Z","type":"join"}
{"nick":"zv","reason":"Ping timeout: 240 seconds","date":"2017-02-17T03:16:41.887Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-02-17T03:43:02.960Z","type":"quit"}
{"nick":"xaxxon_","reason":"Quit: Leaving","date":"2017-02-17T04:01:13.854Z","type":"quit"}
{"nick":"rosseaux","reason":"Read error: Connection reset by peer","date":"2017-02-17T04:02:36.058Z","type":"quit"}
{"nick":"xaxxon","reason":"Quit: Leaving","date":"2017-02-17T04:03:39.877Z","type":"quit"}
{"nick":"rosseaux","date":"2017-02-17T04:03:40.423Z","type":"join"}
{"nick":"bobmcw_","date":"2017-02-17T05:14:03.144Z","type":"join"}
{"nick":"bobmcw","reason":"Ping timeout: 260 seconds","date":"2017-02-17T05:16:17.759Z","type":"quit"}
{"nick":"BobGneu","date":"2017-02-17T06:01:39.160Z","type":"join"}
{"nick":"trungl-bot","reason":"Remote host closed the connection","date":"2017-02-17T06:16:07.860Z","type":"quit"}
{"nick":"trungl-bot","date":"2017-02-17T06:16:22.175Z","type":"join"}
{"nick":"zv","date":"2017-02-17T06:22:59.451Z","type":"join"}
{"nick":"zv","reason":"Quit: WeeChat 1.6","date":"2017-02-17T07:25:33.713Z","type":"quit"}
{"nick":"pinepain","date":"2017-02-17T08:22:38.855Z","type":"join"}
{"nick":"trungl-bot","reason":"Remote host closed the connection","date":"2017-02-17T08:37:04.867Z","type":"quit"}
{"nick":"trungl-bot","date":"2017-02-17T08:37:18.282Z","type":"join"}
{"nick":"trungl-bot","reason":"Remote host closed the connection","date":"2017-02-17T08:47:38.002Z","type":"quit"}
{"nick":"trungl-bot","date":"2017-02-17T08:47:54.306Z","type":"join"}
{"nick":"trungl-bot","reason":"Remote host closed the connection","date":"2017-02-17T08:59:54.741Z","type":"quit"}
{"nick":"trungl-bot","date":"2017-02-17T09:00:09.279Z","type":"join"}
{"nick":"BobGneu","reason":"Read error: Connection reset by peer","date":"2017-02-17T09:05:49.088Z","type":"quit"}
{"nick":"trungl-bot","reason":"Remote host closed the connection","date":"2017-02-17T09:07:56.460Z","type":"quit"}
{"nick":"trungl-bot","date":"2017-02-17T09:08:14.255Z","type":"join"}
{"nick":"plutoniix","reason":"Quit: Leaving","date":"2017-02-17T09:36:52.584Z","type":"quit"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-17T10:21:17.159Z","type":"quit"}
{"nick":"pinepain","reason":"Quit: Connection closed for inactivity","date":"2017-02-17T11:16:08.960Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-02-17T11:25:11.233Z","type":"quit"}
{"nick":"mylesborins","date":"2017-02-17T11:25:41.965Z","type":"join"}
{"nick":"joyee","date":"2017-02-17T12:09:52.820Z","type":"join"}
{"nick":"bobmcw_","reason":"Read error: No route to host","date":"2017-02-17T14:07:06.588Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-02-17T14:19:17.569Z","type":"join"}
{"nick":"caitp","message":"to be honest, I'm not very thrilled with gerrit","date":"2017-02-17T14:26:21.924Z","type":"message"}
{"nick":"caitp","message":"I didn't think it was possible, but it actually is even worse on mobile than rietveld is","date":"2017-02-17T14:26:35.422Z","type":"message"}
{"nick":"caitp","message":"I don't think it should become the default :(","date":"2017-02-17T14:26:59.405Z","type":"message"}
{"nick":"Guest59","reason":"Read error: Connection reset by peer","date":"2017-02-17T14:28:26.454Z","type":"quit"}
{"nick":"Guest59","date":"2017-02-17T14:29:03.363Z","type":"join"}
{"nick":"bobmcw","date":"2017-02-17T14:34:12.233Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-02-17T14:38:34.170Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-02-17T14:59:35.761Z","type":"join"}
{"nick":"bradleymeck","reason":"Read error: Connection reset by peer","date":"2017-02-17T15:26:25.583Z","type":"quit"}
{"nick":"bobmcw","reason":"Read error: Connection reset by peer","date":"2017-02-17T15:35:23.875Z","type":"quit"}
{"nick":"bobmcw","date":"2017-02-17T15:35:49.488Z","type":"join"}
{"nick":"bobmcw","reason":"Changing host","date":"2017-02-17T15:35:49.490Z","type":"quit"}
{"nick":"bobmcw","date":"2017-02-17T15:35:49.490Z","type":"join"}
{"nick":"bobmcw","reason":"Read error: Connection reset by peer","date":"2017-02-17T15:38:01.726Z","type":"quit"}
{"nick":"bobmcw_","date":"2017-02-17T15:38:02.939Z","type":"join"}
{"nick":"bradleymeck","date":"2017-02-17T15:41:15.362Z","type":"join"}
{"nick":"bradleymeck","reason":"Read error: Connection reset by peer","date":"2017-02-17T16:01:39.415Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-02-17T16:04:51.507Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2017-02-17T16:04:56.539Z","type":"quit"}
{"nick":"bobmcw","date":"2017-02-17T16:11:33.060Z","type":"join"}
{"nick":"bobmcw_","reason":"Read error: Connection reset by peer","date":"2017-02-17T16:11:33.060Z","type":"quit"}
{"nick":"bobmcw_","date":"2017-02-17T16:15:30.124Z","type":"join"}
{"nick":"bobmcw","reason":"Ping timeout: 268 seconds","date":"2017-02-17T16:17:34.746Z","type":"quit"}
{"nick":"RT|Chatzilla","reason":"Quit: ChatZilla 0.9.86.1 [Firefox 2.0.0.22pre/2010030309]","date":"2017-02-17T16:37:21.635Z","type":"quit"}
{"nick":"bobmcw_","new_nick":"bobmcw","date":"2017-02-17T16:47:48.932Z","type":"nick"}
{"nick":"bobmcw","reason":"Changing host","date":"2017-02-17T16:47:49.393Z","type":"quit"}
{"nick":"bobmcw","date":"2017-02-17T16:47:49.566Z","type":"join"}
{"nick":"bradleymeck","date":"2017-02-17T17:03:11.408Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 240 seconds","date":"2017-02-17T17:12:58.404Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-02-17T17:30:03.820Z","type":"join"}
{"nick":"seventh","date":"2017-02-17T17:31:18.239Z","type":"join"}
{"nick":"bobmcw","reason":"Read error: Connection reset by peer","date":"2017-02-17T17:35:26.059Z","type":"quit"}
{"nick":"bobmcw","date":"2017-02-17T17:35:56.003Z","type":"join"}
{"nick":"Kronuz","reason":"Quit: I'll be back...","date":"2017-02-17T17:56:09.707Z","type":"quit"}
{"nick":"Kronuz","date":"2017-02-17T18:00:38.979Z","type":"join"}
{"nick":"seventh","reason":"Quit: ...","date":"2017-02-17T18:58:43.063Z","type":"quit"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-17T19:44:22.984Z","type":"quit"}
{"nick":"joyee","date":"2017-02-17T19:44:54.507Z","type":"join"}
{"nick":"aklein","message":"caitp: it is going to become the default, whether we like it or not (as Rietveld is effectively unmaintained). But it's still early. do you have actionable bugs you could file?","date":"2017-02-17T19:48:00.003Z","type":"message"}
{"nick":"aklein","message":"I also sit near some of the infra team if there's stuff I should poke them about","date":"2017-02-17T19:48:13.118Z","type":"message"}
{"nick":"aklein","message":"caitp: the good news is that gerrit has an actual team, so if we file bugs they can actually get worked on","date":"2017-02-17T19:52:11.128Z","type":"message"}
{"nick":"joyee_","date":"2017-02-17T20:03:30.750Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 260 seconds","date":"2017-02-17T20:07:37.513Z","type":"quit"}
{"nick":"joyee_","reason":"Read error: Connection reset by peer","date":"2017-02-17T20:58:52.977Z","type":"quit"}
{"nick":"joyee","date":"2017-02-17T20:59:23.762Z","type":"join"}
{"nick":"Guest59_","date":"2017-02-17T21:45:31.658Z","type":"join"}
{"nick":"Guest59","reason":"Ping timeout: 240 seconds","date":"2017-02-17T21:47:52.032Z","type":"quit"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-17T22:07:26.392Z","type":"quit"}
{"nick":"pinepain","date":"2017-02-17T22:37:50.640Z","type":"join"}
{"nick":"pinepain","message":"Hi. Is it technically possible to add feature to store embedded data in Object, like in Context with GetEmbedderData/SetEmbedderData?","date":"2017-02-17T22:40:50.798Z","type":"message"}
{"nick":"pinepain","message":"and it this irc channel fits for this sort of questions? ","date":"2017-02-17T22:41:07.187Z","type":"message"}
{"nick":"pinepain","message":"s/it/is","date":"2017-02-17T22:41:21.928Z","type":"message"}
{"nick":"RT|Chatzilla","date":"2017-02-17T23:09:09.727Z","type":"join"}
{"nick":"joyee","date":"2017-02-17T23:12:04.918Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 255 seconds","date":"2017-02-17T23:16:35.858Z","type":"quit"}
{"nick":"aklein","message":"pinepain: SetInternalField is the solution for objects created via ObjectTemplate: https://cs.chromium.org/chromium/src/v8/include/v8.h?type=cs&q=SetInternalField+package:%5Echromium$&l=3153","date":"2017-02-17T23:19:58.547Z","type":"message"}
{"nick":"aklein","message":"pinepain: for arbitrary objects, SetPrivate is your best bet: https://cs.chromium.org/chromium/src/v8/include/v8.h?rcl=1ad4dcaa827c515f4e55370f2988db00c3d5f7ae&l=3063","date":"2017-02-17T23:20:39.818Z","type":"message"}
{"nick":"aklein","message":"pinepain: ah did you just ask this question on v8-users by any chance? :)","date":"2017-02-17T23:21:54.812Z","type":"message"}
{"nick":"pinepain","message":"yes, i did (lost my pswd from pinepain gmail so post from other one)","date":"2017-02-17T23:22:36.626Z","type":"message"}
{"nick":"aklein","message":"Adding internal fields to every object in the system seems like it would have a ton of memory overhead","date":"2017-02-17T23:23:09.081Z","type":"message"}
{"nick":"pinepain","message":"I know about setting internal fields count via template, but in php-v8 i deal with already constructed objects, so no luck there","date":"2017-02-17T23:23:48.486Z","type":"message"}
{"nick":"pinepain","message":"what ton would result in real-life in my case? ftr, that a php, so for me even +- 100kb mostly doesn't matter","date":"2017-02-17T23:24:48.920Z","type":"message"}
{"nick":"pinepain","message":"as long as it works - it fine","date":"2017-02-17T23:24:56.557Z","type":"message"}
{"nick":"pinepain","message":"maybe the approach like with V8_ARRAY_BUFFER_INTERNAL_FIELD_COUNT could be an intermediate solution which could preserve current default behavior but also allows embedders to set default internal fields count?","date":"2017-02-17T23:26:18.359Z","type":"message"}
{"nick":"aklein","message":"pinepain: is your experience with SetPrivate that it's too slow, or is it more about the ergonomics of using it?","date":"2017-02-17T23:28:24.361Z","type":"message"}
{"nick":"aklein","message":"pinepain: V8_ARRAY_BUFFER_INTERNAL_FIELD_COUNT is definitely interesting, never noticed that before","date":"2017-02-17T23:29:33.603Z","type":"message"}
{"nick":"pinepain","message":"I haven't measured performance impact per se, it's mostly about ergonomics","date":"2017-02-17T23:30:25.578Z","type":"message"}
{"nick":"pinepain","message":"e.g. php_v8_object_store_self_ptr method, https://github.com/pinepain/php-v8/blob/master/src/php_v8_object.cc#L85-L113","date":"2017-02-17T23:31:28.710Z","type":"message"}
{"nick":"pinepain","message":"the private key func is https://github.com/pinepain/php-v8/blob/master/src/php_v8_object.cc#L43","date":"2017-02-17T23:32:33.543Z","type":"message"}
{"nick":"aklein","message":"pinepain: unrelatedly, I would recommend passing isolate->GetCurrentContext() as the context arg of SetPrivate","date":"2017-02-17T23:32:38.441Z","type":"message"}
{"nick":"pinepain","message":"what if it would be different contexts at the time of repetitive calls?","date":"2017-02-17T23:33:49.604Z","type":"message"}
{"nick":"aklein","message":"pinepain: well it's only used in case of an exception doing the SetPrivate, which I'm pretty sure should never happen","date":"2017-02-17T23:34:26.720Z","type":"message"}
{"nick":"aklein","message":"pinepain: I think you should be able to store the return value of ForApi somewhere (in a v8::Global) and not go back through it every time","date":"2017-02-17T23:35:07.166Z","type":"message"}
{"nick":"pinepain","message":"yeah, that's on my list","date":"2017-02-17T23:35:24.275Z","type":"message"}
{"nick":"pinepain","message":"aklein: sry, don't get about exception","date":"2017-02-17T23:35:40.941Z","type":"message"}
{"nick":"aklein","message":"pinepain: the only thing the context argument is used for is, which context should the exception be thrown in?","date":"2017-02-17T23:36:10.887Z","type":"message"}
{"nick":"aklein","message":"and I'm saying I don't think you'll ever see an exception here","date":"2017-02-17T23:36:18.165Z","type":"message"}
{"nick":"pinepain","message":"aklein: oh, good to know, thanks. What's the typical usage of CreationContext?  Playing with modules today I got CreationContext() as nullptr today (mentioned that in https://bugs.chromium.org/p/v8/issues/detail?id=5979#c6)","date":"2017-02-17T23:37:52.904Z","type":"message"}
{"nick":"aklein","message":"pinepain: I would recommend against using CreationContext; it has some use in Chrome's DOM, but it's not a generally useful concept in ECMAScript","date":"2017-02-17T23:38:31.025Z","type":"message"}
{"nick":"aklein","message":"(Objects really aren't associated with a context)","date":"2017-02-17T23:38:39.767Z","type":"message"}
{"nick":"pinepain","message":"aklein: so that was valid use case when CreationContext was null, right?","date":"2017-02-17T23:39:40.871Z","type":"message"}
{"nick":"aklein","message":"pinepain: sort of, although I don't think it's supposed to return null (so thanks for the report!)","date":"2017-02-17T23:39:58.121Z","type":"message"}
{"nick":"aklein","message":"pinepain: is this where you construct all the v8::Objects you're trying to put PHP pointers in? https://github.com/pinepain/php-v8/blob/master/src/php_v8_object.cc#L152","date":"2017-02-17T23:42:15.872Z","type":"message"}
{"nick":"pinepain","message":"I also noticed that while ScriptCompile::CompileUnboundScript and ScriptCompile::CompileModule accepts only isolate, the call itself fails if no Context entered ","date":"2017-02-17T23:42:19.931Z","type":"message"}
{"nick":"aklein","message":"generally if you're calling into v8 and you don't know whether you're in a context, you need to use a v8::Context::Scope to enter that context","date":"2017-02-17T23:42:52.789Z","type":"message"}
{"nick":"aklein","message":"the context args are there partially for reasons having to do with the inability to overload by return type in C++","date":"2017-02-17T23:43:35.042Z","type":"message"}
{"nick":"aklein","message":"(they're from the transition from returning Locals to returning MaybeLocals)","date":"2017-02-17T23:43:44.649Z","type":"message"}
{"nick":"pinepain","message":"here is the place where vast majority objects/values would comes from - https://github.com/pinepain/php-v8/blob/master/src/php_v8_value.cc#L311","date":"2017-02-17T23:44:21.175Z","type":"message"}
{"nick":"pinepain","message":"can I then passing current context as method argument and hide that from end-user?","date":"2017-02-17T23:45:12.394Z","type":"message"}
{"nick":"aklein","message":"pinepain: that's what seems cleanest to me, but clearly I haven't fully got my head around how this php-v8 thing works","date":"2017-02-17T23:45:58.510Z","type":"message"}
{"nick":"aklein","message":"need to go read your README","date":"2017-02-17T23:46:25.667Z","type":"message"}
{"nick":"pinepain","message":"aklein: it works a bit kludge, I store values as persistent and then under the hood enter isolate and context, get local from persistent, do all necessary work and then return correspondent PHP object back to userland","date":"2017-02-17T23:47:24.918Z","type":"message"}
{"nick":"pinepain","message":"aklein: as typical use-case would be a single-isolate, single-context environment (at least for me), i'm thinking about entering isolate and context just once and then do not bother with persistent","date":"2017-02-17T23:48:27.963Z","type":"message"}
{"nick":"pinepain","message":"aklein: based on short-lived nature of PHP it should not be a problem, for long-running scripts too","date":"2017-02-17T23:49:18.278Z","type":"message"}
{"nick":"pinepain","message":"aklein: i'm not sure how good it would be to switch between isolates and contexts in  multy-isolate and/or multy-context runtime","date":"2017-02-17T23:50:28.920Z","type":"message"}
{"nick":"aklein","message":"pinepain: that makes sense, using multiple contexts is a pretty niche thing outside the web","date":"2017-02-17T23:51:21.360Z","type":"message"}
{"nick":"aklein","message":"pinepain: if I rewrote your example to have the source string \"{foo: 42}\" (so it would return a v8::Object), would that be the place where it would have been nice to have an internal field in that object?","date":"2017-02-17T23:52:34.834Z","type":"message"}
{"nick":"aklein","message":"since you have to associate some PHP \"wrapper\" with the {foo: 42} object?","date":"2017-02-17T23:52:47.581Z","type":"message"}
{"nick":"pinepain","message":"yes, then get_or_create value will try to fetch/build correspondent PHP \"wrapper\" object for that js object. Note, that I use object even for scalars (numbers, bools) which doesn't make sense from the first glance, but I don't want to deal with all that converting on ext level and delegate everything to PHP userland, so php-v8 should be just a thin wrapper","date":"2017-02-17T23:55:35.756Z","type":"message"}
{"nick":"pinepain","message":"I guess I'll be altering overall approach to move away from Persistent to Local handles, at least I'm thinking about that for 2 years now =)","date":"2017-02-17T23:56:40.631Z","type":"message"}
{"nick":"pinepain","message":"aklein: another approach would be to maintain some map with v8 and php objects, but GetIdentityHash() is explicitly marked as one which doesn't guarantee unique hashes, so I don't even tried it","date":"2017-02-17T23:59:25.288Z","type":"message"}

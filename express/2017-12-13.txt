{"nick":"tablerice","date":"2017-12-13T00:09:48.143Z","type":"join"}
{"nick":"darkSeid_","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-12-13T00:44:08.886Z","type":"quit"}
{"nick":"tablerice","reason":"Quit: Leaving","date":"2017-12-13T01:05:22.663Z","type":"quit"}
{"nick":"Roughy","reason":"Quit: Meadow Fresh milk","date":"2017-12-13T01:21:38.521Z","type":"quit"}
{"nick":"vikaton","date":"2017-12-13T03:56:46.288Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T05:36:35.210Z","type":"join"}
{"nick":"_ritchie_","reason":"Ping timeout: 264 seconds","date":"2017-12-13T05:41:09.231Z","type":"quit"}
{"nick":"_6a68","reason":"Ping timeout: 276 seconds","date":"2017-12-13T06:48:29.251Z","type":"quit"}
{"nick":"_6a68","date":"2017-12-13T06:51:13.972Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T08:05:00.327Z","type":"join"}
{"nick":"_ritchie_","reason":"Ping timeout: 264 seconds","date":"2017-12-13T08:09:57.231Z","type":"quit"}
{"nick":"flaviodesousa","date":"2017-12-13T08:10:21.873Z","type":"join"}
{"nick":"Soopaman","reason":"Quit: Leaving.","date":"2017-12-13T08:35:54.707Z","type":"quit"}
{"nick":"Arcarc","date":"2017-12-13T08:47:53.290Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T09:28:45.226Z","type":"join"}
{"nick":"xcesariox","date":"2017-12-13T09:55:29.194Z","type":"join"}
{"nick":"_ritchie_","reason":"Quit: _ritchie_","date":"2017-12-13T09:56:05.044Z","type":"quit"}
{"nick":"vikaton","reason":"Quit: Connection closed for inactivity","date":"2017-12-13T10:06:25.521Z","type":"quit"}
{"nick":"xcesariox","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2017-12-13T10:19:38.392Z","type":"quit"}
{"nick":"Roughy","date":"2017-12-13T10:58:58.504Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T11:17:52.265Z","type":"join"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-12-13T11:25:10.638Z","type":"quit"}
{"nick":"mylesborins","date":"2017-12-13T11:25:41.173Z","type":"join"}
{"nick":"_ritchie_","reason":"Quit: _ritchie_","date":"2017-12-13T11:27:16.683Z","type":"quit"}
{"nick":"Rovanion","reason":"\"WeeChat 1.4\"","date":"2017-12-13T12:10:00.138Z","type":"part"}
{"nick":"towb","reason":"Quit: Bye!","date":"2017-12-13T12:16:25.983Z","type":"quit"}
{"nick":"towb","date":"2017-12-13T12:19:58.922Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T12:29:00.250Z","type":"join"}
{"nick":"lpin","date":"2017-12-13T13:05:40.443Z","type":"join"}
{"nick":"Soopaman","date":"2017-12-13T13:12:29.301Z","type":"join"}
{"nick":"_ritchie_","reason":"Quit: _ritchie_","date":"2017-12-13T13:28:20.064Z","type":"quit"}
{"nick":"tablerice","date":"2017-12-13T13:40:55.048Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T14:56:37.210Z","type":"join"}
{"nick":"Aquazi","date":"2017-12-13T14:58:25.545Z","type":"join"}
{"nick":"tablerice","reason":"Ping timeout: 248 seconds","date":"2017-12-13T15:03:27.930Z","type":"quit"}
{"nick":"tablerice","date":"2017-12-13T15:05:05.893Z","type":"join"}
{"nick":"flaviodesousa","reason":"Ping timeout: 248 seconds","date":"2017-12-13T17:09:52.036Z","type":"quit"}
{"nick":"bomb-on","date":"2017-12-13T17:14:44.552Z","type":"join"}
{"nick":"d10n-work","date":"2017-12-13T17:15:24.549Z","type":"join"}
{"nick":"dhanu","date":"2017-12-13T17:18:49.003Z","type":"join"}
{"nick":"dhanu","reason":"Client Quit","date":"2017-12-13T17:19:40.932Z","type":"quit"}
{"nick":"Soopaman","reason":"Ping timeout: 255 seconds","date":"2017-12-13T17:24:20.147Z","type":"quit"}
{"nick":"tablerice","reason":"Ping timeout: 248 seconds","date":"2017-12-13T17:43:28.049Z","type":"quit"}
{"nick":"mh_","date":"2017-12-13T18:07:55.560Z","type":"join"}
{"nick":"mh_","new_nick":"markh","date":"2017-12-13T18:13:06.782Z","type":"nick"}
{"nick":"tablerice","date":"2017-12-13T18:18:32.488Z","type":"join"}
{"nick":"Dlabz","date":"2017-12-13T18:36:46.480Z","type":"join"}
{"nick":"Dlabz","message":"Hi, all... I have express running behind a nginx, forwarding /api/model to localhost:8080/model , and can't figure out a right combination that will allow express to ba aware of the path and make links. I'm probably missing something very obvious, and humbly asking for guidance","date":"2017-12-13T18:40:16.659Z","type":"message"}
{"nick":"Soopaman","date":"2017-12-13T18:41:31.709Z","type":"join"}
{"nick":"reedj[m]","message":"As in, you access your nginx instance at example.com/model which gets passed through to express at localhost:8080/api/model correct?","date":"2017-12-13T18:44:20.251Z","type":"message"}
{"nick":"Dlabz","message":"reedj[m]: correct","date":"2017-12-13T18:44:54.470Z","type":"message"}
{"nick":"Dlabz","message":"my problem is that generated urls either don't have \"model\", or don't resolve","date":"2017-12-13T18:45:53.512Z","type":"message"}
{"nick":"reedj[m]","message":"I'm sorry, I don't quite understand. Is the passthrough not working at all, or are you trying to do something like /model/5","date":"2017-12-13T18:47:45.946Z","type":"message"}
{"nick":"reedj[m]","message":"Either way, I would suspect it's your nginx config","date":"2017-12-13T18:48:03.637Z","type":"message"}
{"nick":"Ryuno-Ki[m]","message":"Nginx should have to rewrite all requests as far as I understand here","date":"2017-12-13T18:48:38.041Z","type":"message"}
{"nick":"reedj[m]","message":"Are you using proxy_pass in your server block?","date":"2017-12-13T18:49:27.941Z","type":"message"}
{"nick":"reedj[m]","message":"https://www.nginx.com/resources/admin-guide/reverse-proxy/","date":"2017-12-13T18:49:38.767Z","type":"message"}
{"nick":"bomb-on","message":"i'm trying out express for the first time and i have hard time understanding simple piece of code here...","date":"2017-12-13T18:51:06.890Z","type":"message"}
{"nick":"bomb-on","message":"https://thepasteb.in/p/oYhLc6w8npYOLs8","date":"2017-12-13T18:51:10.836Z","type":"message"}
{"nick":"Dlabz","message":"reedj[m]: looks just like mine ... I've been trying out settings for hours, and am about to jump out of the window ...","date":"2017-12-13T18:51:22.096Z","type":"message"}
{"nick":"bomb-on","message":"pardon all the mistakes there please ^^","date":"2017-12-13T18:51:23.611Z","type":"message"}
{"nick":"_ritchie_","reason":"Quit: _ritchie_","date":"2017-12-13T18:52:10.503Z","type":"quit"}
{"nick":"bomb-on","message":"i don't get it why the inner try/catch restarts the express server in case of an error, while the outer one is successfully caught in my \"error-handling middleware\"?","date":"2017-12-13T18:52:17.266Z","type":"message"}
{"nick":"reedj[m]","message":"Dlabz: I'm not sure, I'm in my phone right now, I did this same thing about a week ago, and it just worked...","date":"2017-12-13T18:52:48.753Z","type":"message"}
{"nick":"Dlabz","message":"thanks, reedj[m] ... I'll ask in #nginx, they might be better at this","date":"2017-12-13T18:53:36.270Z","type":"message"}
{"nick":"commma","message":"bomb-on: why are you nesting `try`/`catch`es like that?","date":"2017-12-13T18:54:19.658Z","type":"message"}
{"nick":"commma","message":"also the inner `throw` is just gonna get caught by the outer","date":"2017-12-13T18:54:44.173Z","type":"message"}
{"nick":"reedj[m]","message":"Dlabz: My only thought is I think it makes a difference between /model and /model/ but I'm not sure","date":"2017-12-13T18:55:12.292Z","type":"message"}
{"nick":"bomb-on","message":"@commma hm good question =) this is my first time trying async/await and express, that's why i have so many mistakes probably ^^ shouldn't i wrap my \"await\" statements in try/catch if i want to catch the error properly?","date":"2017-12-13T18:56:50.667Z","type":"message"}
{"nick":"commma","message":"no, you only need the outer one","date":"2017-12-13T18:57:09.294Z","type":"message"}
{"nick":"bomb-on","message":"@commma also, i don't see that inner 'throw' is passed to the outer... instead, my express crashes...","date":"2017-12-13T18:57:46.523Z","type":"message"}
{"nick":"commma","message":"also catching and throwing is pointless","date":"2017-12-13T18:57:46.523Z","type":"message"}
{"nick":"commma","message":"you don't need any at that point","date":"2017-12-13T18:57:49.868Z","type":"message"}
{"nick":"bomb-on","message":"hm, why so?","date":"2017-12-13T18:57:57.316Z","type":"message"}
{"nick":"commma","message":"because you're not doing anything there at all","date":"2017-12-13T18:58:19.587Z","type":"message"}
{"nick":"commma","message":"`catch` and `next(error)` sure though","date":"2017-12-13T18:58:57.971Z","type":"message"}
{"nick":"commma","message":"also what's `utils.asyncMiddleware`","date":"2017-12-13T18:59:21.052Z","type":"message"}
{"nick":"commma","message":"there's no need for that","date":"2017-12-13T18:59:23.813Z","type":"message"}
{"nick":"commma","message":"middleware _is_ async","date":"2017-12-13T18:59:33.203Z","type":"message"}
{"nick":"bomb-on","message":"ah, sorry, misunderstood you earlier... yeah, i'm just console logging for now, but there will be some functionality there eventually =)","date":"2017-12-13T18:59:55.427Z","type":"message"}
{"nick":"bomb-on","message":"async middleware is this:","date":"2017-12-13T19:00:08.764Z","type":"message"}
{"nick":"bomb-on","message":"const asyncMiddleware = fn => (req, res, next) => Promise.resolve(fn(req, res, next)).catch(next);","date":"2017-12-13T19:00:17.971Z","type":"message"}
{"nick":"bomb-on","message":"got it from some article found by googling \"js async await express\" or similar ^^","date":"2017-12-13T19:00:50.679Z","type":"message"}
{"nick":"commma","message":"why? also you've thrown away errors there","date":"2017-12-13T19:00:54.167Z","type":"message"}
{"nick":"bomb-on","message":"sorry for this noobness, i'm really new in all this async world ^^","date":"2017-12-13T19:01:08.191Z","type":"message"}
{"nick":"commma","message":"you can just do this https://gist.github.com/artcommacode/c265c5b871442bbb367fe9aa53cf6c52","date":"2017-12-13T19:03:45.669Z","type":"message"}
{"nick":"bomb-on","message":"ok, so, i tried to remove all try/catch blocks, like this https://thepasteb.in/p/oYhLc6w8npYOLs8","date":"2017-12-13T19:04:02.896Z","type":"message"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-12-13T19:09:00.837Z","type":"quit"}
{"nick":"bomb-on","message":"@commma hm, i am still struggling with understanding my initial problem :)","date":"2017-12-13T19:09:10.848Z","type":"message"}
{"nick":"bomb-on","message":"in your example...","date":"2017-12-13T19:09:27.001Z","type":"message"}
{"nick":"commma","message":"if it's crashing then you have an issue somewhere else","date":"2017-12-13T19:09:29.540Z","type":"message"}
{"nick":"bomb-on","message":"if i change line 5 to: cat.on('data', data => resolve(data.nonExistingFn()));","date":"2017-12-13T19:09:32.741Z","type":"message"}
{"nick":"bomb-on","message":"my express will restart, rather than catching an error","date":"2017-12-13T19:09:51.737Z","type":"message"}
{"nick":"bomb-on","message":"hm, would you say that this is a \"correct\" error handling middleware? https://thepasteb.in/p/ElhJcPWRrOmO0uN","date":"2017-12-13T19:11:22.657Z","type":"message"}
{"nick":"bomb-on","message":"this is defined in the very end, after routes and other stuff...","date":"2017-12-13T19:13:00.182Z","type":"message"}
{"nick":"commma","message":"looks about right, there'll be an issue with the inner function then that bypasses all the error handling stuff","date":"2017-12-13T19:15:01.920Z","type":"message"}
{"nick":"commma","message":"js can do this sometimes","date":"2017-12-13T19:15:13.835Z","type":"message"}
{"nick":"bomb-on","message":"yeah, that was the reason of my \"trying\" to \"catch\" the error in the first place :D","date":"2017-12-13T19:17:33.129Z","type":"message"}
{"nick":"bomb-on","message":"but how to handle than this properly?","date":"2017-12-13T19:17:48.709Z","type":"message"}
{"nick":"commma","message":"fix the issue in the inner function/library","date":"2017-12-13T19:19:12.985Z","type":"message"}
{"nick":"bomb-on","message":"what if i cannot fix is because it's some dependency i have to work with... i don't feel like digging deep into other people's libs ^^","date":"2017-12-13T19:20:53.570Z","type":"message"}
{"nick":"bomb-on","message":"also, i can make a mistake with some assumption myself... and i should be able to handle this properly instead of server crashing, isn't it so?","date":"2017-12-13T19:21:27.163Z","type":"message"}
{"nick":"commma","message":"welcome to javascript!","date":"2017-12-13T19:21:27.721Z","type":"message"}
{"nick":"bomb-on","message":"=))))","date":"2017-12-13T19:22:56.049Z","type":"message"}
{"nick":"bomb-on","message":"oh cmon, you cannot tell me that this is impossible!","date":"2017-12-13T19:23:04.907Z","type":"message"}
{"nick":"darkSeid_","date":"2017-12-13T19:23:36.131Z","type":"join"}
{"nick":"commma","message":"you can use a different lib, you can fork the lib, you can write yyour own, you can try another version of the lib, you can look at github issues for the lib","date":"2017-12-13T19:26:05.507Z","type":"message"}
{"nick":"commma","message":"there's a load of choices","date":"2017-12-13T19:26:08.308Z","type":"message"}
{"nick":"bomb-on","message":"true that ^^","date":"2017-12-13T19:28:27.817Z","type":"message"}
{"nick":"bomb-on","message":"hm, alright, i tried something stupid and i think i understand what's happening now ^^","date":"2017-12-13T19:30:21.812Z","type":"message"}
{"nick":"bomb-on","message":"i tried in my promise to trigger some error, like \"const a = b\" or whatever... and yeah, it was successfully caught in my middleware","date":"2017-12-13T19:30:54.101Z","type":"message"}
{"nick":"bomb-on","message":"after your explanation @commma, now i realize that it is indeed the problem in library itself... not catching the error properly and therefore crashing everything ^^","date":"2017-12-13T19:31:36.917Z","type":"message"}
{"nick":"bomb-on","message":"but yeah, any error i make should be properly caught i suppose :)","date":"2017-12-13T19:32:23.509Z","type":"message"}
{"nick":"commma","message":"yep!","date":"2017-12-13T19:33:12.656Z","type":"message"}
{"nick":"Soopaman","reason":"Quit: Leaving.","date":"2017-12-13T19:34:37.225Z","type":"quit"}
{"nick":"bomb-on","message":"@commma allow me, just one more question... when you said that \"middleware _is_ async\"... this means that i can just use \"async (req, res, next) => {}\" in my router?","date":"2017-12-13T19:34:39.827Z","type":"message"}
{"nick":"commma","message":"yeah, see my example above","date":"2017-12-13T19:35:07.940Z","type":"message"}
{"nick":"bomb-on","message":"ah yes, i see","date":"2017-12-13T19:36:43.634Z","type":"message"}
{"nick":"bomb-on","message":"i'm also confused a bit with \"rejecting\" promises in my use case...","date":"2017-12-13T19:37:05.112Z","type":"message"}
{"nick":"bomb-on","message":"yeah, now i actually remember, lemme find that article","date":"2017-12-13T19:37:16.208Z","type":"message"}
{"nick":"bomb-on","message":"https://medium.com/@Abazhenov/using-async-await-in-express-with-node-8-b8af872c0016","date":"2017-12-13T19:37:29.474Z","type":"message"}
{"nick":"bomb-on","message":"paragraph \"Wrapping Async Await Routes\"","date":"2017-12-13T19:37:38.997Z","type":"message"}
{"nick":"bomb-on","message":"this is what confused me:","date":"2017-12-13T19:38:00.525Z","type":"message"}
{"nick":"commma","message":"yeah the \"Async / Await in Express\" is what i did above","date":"2017-12-13T19:38:05.325Z","type":"message"}
{"nick":"bomb-on","message":"\"(...)we can write a helper function that wraps our express routes to handle rejected promises\"","date":"2017-12-13T19:38:08.092Z","type":"message"}
{"nick":"bomb-on","message":"so this article is not quite correct...","date":"2017-12-13T19:38:50.727Z","type":"message"}
{"nick":"bomb-on","message":"ugh ^^","date":"2017-12-13T19:38:52.882Z","type":"message"}
{"nick":"bomb-on","message":"=)","date":"2017-12-13T19:38:53.720Z","type":"message"}
{"nick":"bomb-on","message":"or did this guy just complicated it for no reason at all?","date":"2017-12-13T19:39:39.145Z","type":"message"}
{"nick":"commma","message":"yep","date":"2017-12-13T19:39:55.914Z","type":"message"}
{"nick":"bomb-on","message":"nice =)","date":"2017-12-13T19:40:35.117Z","type":"message"}
{"nick":"bomb-on","message":"ok, thanks for all the help and clarifications @commma! i appreciate it a lot!","date":"2017-12-13T19:40:55.090Z","type":"message"}
{"nick":"Dlabz","reason":"Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/","date":"2017-12-13T19:41:11.274Z","type":"quit"}
{"nick":"markh","reason":"Ping timeout: 248 seconds","date":"2017-12-13T20:04:17.454Z","type":"quit"}
{"nick":"DanKnox","reason":"*.net *.split","date":"2017-12-13T20:43:37.242Z","type":"quit"}
{"nick":"AlHafoudh","reason":"*.net *.split","date":"2017-12-13T20:43:37.352Z","type":"quit"}
{"nick":"AlHafoudh","date":"2017-12-13T20:43:45.378Z","type":"join"}
{"nick":"DanKnox","date":"2017-12-13T20:43:55.909Z","type":"join"}
{"nick":"Arcarc","reason":"Ping timeout: 264 seconds","date":"2017-12-13T20:46:33.273Z","type":"quit"}
{"nick":"Soopaman","date":"2017-12-13T20:48:43.884Z","type":"join"}
{"nick":"hackal","date":"2017-12-13T20:51:00.985Z","type":"join"}
{"nick":"tablerice","reason":"Ping timeout: 248 seconds","date":"2017-12-13T21:24:49.455Z","type":"quit"}
{"nick":"markh","date":"2017-12-13T21:27:22.034Z","type":"join"}
{"nick":"hackal","reason":"Ping timeout: 260 seconds","date":"2017-12-13T21:42:20.081Z","type":"quit"}
{"nick":"Soopaman","reason":"Quit: Leaving.","date":"2017-12-13T21:48:39.223Z","type":"quit"}
{"nick":"basiclaser","date":"2017-12-13T22:19:22.220Z","type":"join"}
{"nick":"_ritchie_","date":"2017-12-13T22:26:22.327Z","type":"join"}
{"nick":"Soopaman","date":"2017-12-13T22:38:44.457Z","type":"join"}
{"nick":"reedj[m]","reason":"Ping timeout: 240 seconds","date":"2017-12-13T22:56:28.901Z","type":"quit"}
{"nick":"reedj[m]","date":"2017-12-13T22:58:02.987Z","type":"join"}
{"nick":"tablerice","date":"2017-12-13T23:26:23.238Z","type":"join"}

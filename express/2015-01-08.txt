{"nick":"evanjs","reason":"Remote host closed the connection","date":"2015-01-08T00:01:01.729Z","type":"quit"}
{"nick":"charuru","date":"2015-01-08T00:01:34.991Z","type":"join"}
{"nick":"codeurge","date":"2015-01-08T00:10:32.223Z","type":"join"}
{"nick":"codeurge","reason":"Client Quit","date":"2015-01-08T00:12:28.794Z","type":"quit"}
{"nick":"InezK","date":"2015-01-08T00:15:32.723Z","type":"join"}
{"nick":"InezK","message":"hello","date":"2015-01-08T00:15:41.528Z","type":"message"}
{"nick":"InezK","message":"anyone has an idea how to exit process after request is done?","date":"2015-01-08T00:15:52.151Z","type":"message"}
{"nick":"InezK","message":"I want to implement something like maxRequestsPerChild","date":"2015-01-08T00:16:02.311Z","type":"message"}
{"nick":"pickels","reason":"Read error: Connection reset by peer","date":"2015-01-08T00:16:14.937Z","type":"quit"}
{"nick":"Elisha_","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2015-01-08T00:25:20.434Z","type":"quit"}
{"nick":"chiper","message":"InezK: assuming you have logic in place for graceful shutdown, you could just trigger that in the request chain.  the server will finish its current requests and then terminate","date":"2015-01-08T00:29:41.224Z","type":"message"}
{"nick":"codeurge","date":"2015-01-08T00:30:05.955Z","type":"join"}
{"nick":"chiper","message":"InezK:  http://glynnbird.tumblr.com/post/54739664725/graceful-server-shutdown-with-node-js-and-express","date":"2015-01-08T00:31:14.969Z","type":"message"}
{"nick":"chiper","message":"that example is almost spot on, tho you'd want to add a layer inside the server.close callback to disconnect from databases","date":"2015-01-08T00:32:04.774Z","type":"message"}
{"nick":"codeurge","reason":"Client Quit","date":"2015-01-08T00:34:02.089Z","type":"quit"}
{"nick":"themime","date":"2015-01-08T00:34:45.155Z","type":"join"}
{"nick":"InezK","message":"chiper: I see. But in the place where I have my business logic to count requests I don't have access to 'server'","date":"2015-01-08T00:39:38.654Z","type":"message"}
{"nick":"InezK","message":"Should I handle it with messages? send message?","date":"2015-01-08T00:39:46.698Z","type":"message"}
{"nick":"chiper","message":"you could emit an event on process, and listen for that event where you launch the server","date":"2015-01-08T00:40:16.278Z","type":"message"}
{"nick":"chiper","message":"that's actually how I handle graceful shutdown. I emit an event with an array attached. all services that need async shutdown listen for that event and attach promises to the array (event emitters are syncronous, so the originating emit waits for them all to attach).  when the entire array resolves, I know I can exit","date":"2015-01-08T00:42:08.218Z","type":"message"}
{"nick":"c00ljs","reason":"Remote host closed the connection","date":"2015-01-08T00:44:00.670Z","type":"quit"}
{"nick":"InezK","message":"the problem is that even after sending response if I call process.exit() then response is not delivered","date":"2015-01-08T00:44:21.217Z","type":"message"}
{"nick":"InezK","message":"and if I call server.close(...) nothing happens","date":"2015-01-08T00:44:43.856Z","type":"message"}
{"nick":"InezK","message":"and the passed callback is never called","date":"2015-01-08T00:44:49.107Z","type":"message"}
{"nick":"morenoh150","reason":"Ping timeout: 256 seconds","date":"2015-01-08T00:48:45.363Z","type":"quit"}
{"nick":"chiper","message":"o.O","date":"2015-01-08T00:54:27.990Z","type":"message"}
{"nick":"mven","date":"2015-01-08T00:54:34.350Z","type":"join"}
{"nick":"chiper","message":"if the server never closes then that means you've got a request hanging","date":"2015-01-08T00:54:42.353Z","type":"message"}
{"nick":"brolin","reason":"Quit: leaving","date":"2015-01-08T01:00:01.465Z","type":"quit"}
{"nick":"codeurge","date":"2015-01-08T01:04:52.506Z","type":"join"}
{"nick":"codeurge","reason":"Client Quit","date":"2015-01-08T01:05:37.637Z","type":"quit"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2015-01-08T01:07:14.210Z","type":"quit"}
{"nick":"InezK","new_nick":"InezK_away","date":"2015-01-08T01:15:44.900Z","type":"nick"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2015-01-08T01:25:33.071Z","type":"quit"}
{"nick":"cj3kim_","date":"2015-01-08T01:25:39.182Z","type":"join"}
{"nick":"jmar777","date":"2015-01-08T01:26:45.401Z","type":"join"}
{"nick":"cj3kim_","reason":"Remote host closed the connection","date":"2015-01-08T01:30:24.000Z","type":"quit"}
{"nick":"mmoretti","reason":"Quit: Leaving...","date":"2015-01-08T01:30:24.946Z","type":"quit"}
{"nick":"mven","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2015-01-08T01:30:44.784Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 244 seconds","date":"2015-01-08T01:32:14.071Z","type":"quit"}
{"nick":"bmac","date":"2015-01-08T01:39:42.262Z","type":"join"}
{"nick":"johnkevinmbasco","date":"2015-01-08T01:41:02.400Z","type":"join"}
{"nick":"cj3kim_","date":"2015-01-08T01:42:44.986Z","type":"join"}
{"nick":"morenoh150","date":"2015-01-08T01:51:02.081Z","type":"join"}
{"nick":"GreenJello","reason":"Read error: Connection reset by peer","date":"2015-01-08T01:55:32.275Z","type":"quit"}
{"nick":"commandoline","reason":"Ping timeout: 244 seconds","date":"2015-01-08T01:59:56.267Z","type":"quit"}
{"nick":"Fishrock123","date":"2015-01-08T02:02:41.053Z","type":"join"}
{"nick":"cj3kim_","reason":"Remote host closed the connection","date":"2015-01-08T02:06:38.589Z","type":"quit"}
{"nick":"bmac","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2015-01-08T02:08:16.375Z","type":"quit"}
{"nick":"mattblang","reason":"Ping timeout: 244 seconds","date":"2015-01-08T02:15:38.069Z","type":"quit"}
{"nick":"InezK_away","new_nick":"InezK","date":"2015-01-08T02:19:51.244Z","type":"nick"}
{"nick":"cj3kim_","date":"2015-01-08T02:29:43.071Z","type":"join"}
{"nick":"mattblang","date":"2015-01-08T02:32:10.197Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2015-01-08T02:34:59.362Z","type":"quit"}
{"nick":"jmar777","date":"2015-01-08T02:36:20.440Z","type":"join"}
{"nick":"bmac","date":"2015-01-08T02:37:23.302Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 265 seconds","date":"2015-01-08T02:40:56.128Z","type":"quit"}
{"nick":"cj3kim_","reason":"Remote host closed the connection","date":"2015-01-08T02:56:09.131Z","type":"quit"}
{"nick":"jmar777","date":"2015-01-08T03:05:51.086Z","type":"join"}
{"nick":"cj3kim_","date":"2015-01-08T03:08:35.674Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 265 seconds","date":"2015-01-08T03:12:21.230Z","type":"quit"}
{"nick":"bmac","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2015-01-08T03:22:14.616Z","type":"quit"}
{"nick":"cj3kim_","reason":"Remote host closed the connection","date":"2015-01-08T03:34:51.651Z","type":"quit"}
{"nick":"InezK","new_nick":"InezK_away","date":"2015-01-08T03:36:01.154Z","type":"nick"}
{"nick":"GreenJello","date":"2015-01-08T03:37:09.347Z","type":"join"}
{"nick":"Fishrock123","reason":"Quit: Leaving...","date":"2015-01-08T03:43:38.677Z","type":"quit"}
{"nick":"themime","reason":"Quit: Connection closed for inactivity","date":"2015-01-08T04:08:42.023Z","type":"quit"}
{"nick":"pretentiousgit","reason":"Quit: Connection closed for inactivity","date":"2015-01-08T04:34:25.322Z","type":"quit"}
{"nick":"mattblang","reason":"Ping timeout: 252 seconds","date":"2015-01-08T04:36:09.137Z","type":"quit"}
{"nick":"InezK_away","new_nick":"InezK","date":"2015-01-08T04:36:10.253Z","type":"nick"}
{"nick":"InezK","new_nick":"InezK_away","date":"2015-01-08T04:46:01.586Z","type":"nick"}
{"nick":"codeurge","date":"2015-01-08T04:57:03.171Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 244 seconds","date":"2015-01-08T05:00:27.071Z","type":"quit"}
{"nick":"knownasilya","reason":"Quit: Connection closed for inactivity","date":"2015-01-08T05:24:05.459Z","type":"quit"}
{"nick":"morenoh150","reason":"Ping timeout: 264 seconds","date":"2015-01-08T05:26:13.422Z","type":"quit"}
{"nick":"slajax","date":"2015-01-08T05:35:41.463Z","type":"join"}
{"nick":"InezK_away","new_nick":"InezK","date":"2015-01-08T05:36:54.465Z","type":"nick"}
{"nick":"codeurge","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2015-01-08T05:43:41.521Z","type":"quit"}
{"nick":"InezK","new_nick":"InezK_away","date":"2015-01-08T05:46:47.430Z","type":"nick"}
{"nick":"codeurge","date":"2015-01-08T05:48:55.743Z","type":"join"}
{"nick":"codeurge","reason":"Client Quit","date":"2015-01-08T05:50:37.057Z","type":"quit"}
{"nick":"codeurge","date":"2015-01-08T05:52:19.147Z","type":"join"}
{"nick":"codeurge","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2015-01-08T05:59:17.278Z","type":"quit"}
{"nick":"cj3kim_","date":"2015-01-08T06:06:30.213Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 264 seconds","date":"2015-01-08T06:07:01.393Z","type":"quit"}
{"nick":"codeurge","date":"2015-01-08T06:09:34.341Z","type":"join"}
{"nick":"danecando","reason":"Quit: Computer has gone to sleep.","date":"2015-01-08T06:17:54.516Z","type":"quit"}
{"nick":"xcesariox","date":"2015-01-08T06:28:57.222Z","type":"join"}
{"nick":"cj3kim_","reason":"Remote host closed the connection","date":"2015-01-08T06:29:39.159Z","type":"quit"}
{"nick":"nemothekid","reason":"Remote host closed the connection","date":"2015-01-08T06:36:41.481Z","type":"quit"}
{"nick":"nemothekid","date":"2015-01-08T06:38:20.199Z","type":"join"}
{"nick":"codeurge","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2015-01-08T06:39:20.536Z","type":"quit"}
{"nick":"codeurge","date":"2015-01-08T06:40:33.202Z","type":"join"}
{"nick":"Sam-T","reason":"Remote host closed the connection","date":"2015-01-08T06:40:39.069Z","type":"quit"}
{"nick":"Sam-T","date":"2015-01-08T06:43:31.548Z","type":"join"}
{"nick":"slajax","date":"2015-01-08T06:45:55.989Z","type":"join"}
{"nick":"nemothekid","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2015-01-08T06:46:38.388Z","type":"quit"}
{"nick":"Sam-T","reason":"Remote host closed the connection","date":"2015-01-08T06:50:19.063Z","type":"quit"}
{"nick":"lpin","date":"2015-01-08T06:59:30.591Z","type":"join"}
{"nick":"Elisha_","date":"2015-01-08T07:00:29.376Z","type":"join"}
{"nick":"Elisha_","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2015-01-08T07:05:45.659Z","type":"quit"}
{"nick":"slajax","reason":"Ping timeout: 240 seconds","date":"2015-01-08T07:05:52.987Z","type":"quit"}
{"nick":"nemothekid","date":"2015-01-08T07:12:22.225Z","type":"join"}
{"nick":"bajtos","date":"2015-01-08T07:20:00.781Z","type":"join"}
{"nick":"InezK_away","new_nick":"InezK","date":"2015-01-08T07:22:40.535Z","type":"nick"}
{"nick":"codeurge","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2015-01-08T07:31:42.547Z","type":"quit"}
{"nick":"codeurge","date":"2015-01-08T07:32:13.378Z","type":"join"}
{"nick":"InezK","new_nick":"InezK_away","date":"2015-01-08T07:32:32.794Z","type":"nick"}
{"nick":"Sam-T","date":"2015-01-08T07:34:15.373Z","type":"join"}
{"nick":"Sam-T","reason":"Changing host","date":"2015-01-08T07:34:33.427Z","type":"quit"}
{"nick":"Sam-T","date":"2015-01-08T07:34:33.509Z","type":"join"}
{"nick":"InezK_away","new_nick":"InezK","date":"2015-01-08T07:42:09.680Z","type":"nick"}
{"nick":"Sam-T","reason":"Remote host closed the connection","date":"2015-01-08T07:47:06.559Z","type":"quit"}
{"nick":"basicdays","reason":"Ping timeout: 256 seconds","date":"2015-01-08T07:49:13.390Z","type":"quit"}
{"nick":"Sam-T","date":"2015-01-08T07:51:01.442Z","type":"join"}
{"nick":"Sam-T","reason":"Remote host closed the connection","date":"2015-01-08T07:51:50.385Z","type":"quit"}
{"nick":"nfroidure","date":"2015-01-08T07:54:55.601Z","type":"join"}
{"nick":"Hubertus1","date":"2015-01-08T07:56:41.685Z","type":"join"}

{"nick":"brolin","date":"2016-06-13T00:00:07.579Z","type":"join"}
{"nick":"brolin","reason":"Client Quit","date":"2016-06-13T00:00:10.456Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T00:01:26.391Z","type":"join"}
{"nick":"cdbattags","reason":"Ping timeout: 260 seconds","date":"2016-06-13T00:06:25.320Z","type":"quit"}
{"nick":"brolin","date":"2016-06-13T00:09:39.920Z","type":"join"}
{"nick":"ShekharReddy","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T00:28:56.315Z","type":"quit"}
{"nick":"Rinnic","reason":"Ping timeout: 260 seconds","date":"2016-06-13T00:41:32.693Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T01:41:34.993Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T01:44:29.979Z","type":"join"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T01:53:58.022Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T01:54:22.799Z","type":"join"}
{"nick":"basiclaser","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T01:57:32.227Z","type":"quit"}
{"nick":"aphprentice","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T02:04:01.997Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T02:04:37.677Z","type":"quit"}
{"nick":"Guest73417","reason":"Quit: oops","date":"2016-06-13T02:06:43.853Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T02:17:18.439Z","type":"join"}
{"nick":"mk-61","date":"2016-06-13T02:17:53.279Z","type":"join"}
{"nick":"mk-61","new_nick":"Guest47903","date":"2016-06-13T02:18:15.332Z","type":"nick"}
{"nick":"Guest47903","reason":"Quit: oops","date":"2016-06-13T02:41:19.360Z","type":"quit"}
{"nick":"antiPoP","date":"2016-06-13T02:42:28.017Z","type":"join"}
{"nick":"mk-61-wtf","date":"2016-06-13T02:48:51.636Z","type":"join"}
{"nick":"mk-61-wtf","new_nick":"mk-61","date":"2016-06-13T03:12:45.456Z","type":"nick"}
{"nick":"mk-61","new_nick":"Guest23799","date":"2016-06-13T03:13:14.996Z","type":"nick"}
{"nick":"rmg","date":"2016-06-13T03:51:15.570Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 246 seconds","date":"2016-06-13T03:55:33.108Z","type":"quit"}
{"nick":"antiPoP","reason":"Ping timeout: 240 seconds","date":"2016-06-13T04:01:33.977Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T04:04:17.165Z","type":"join"}
{"nick":"antiPoP","date":"2016-06-13T04:04:25.923Z","type":"join"}
{"nick":"cdbattags","reason":"Ping timeout: 250 seconds","date":"2016-06-13T04:09:09.007Z","type":"quit"}
{"nick":"waz","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T04:24:18.855Z","type":"quit"}
{"nick":"antiPoP","reason":"Ping timeout: 240 seconds","date":"2016-06-13T04:43:33.876Z","type":"quit"}
{"nick":"brolin","reason":"Remote host closed the connection","date":"2016-06-13T04:48:52.649Z","type":"quit"}
{"nick":"ShekharReddy","date":"2016-06-13T05:11:38.188Z","type":"join"}
{"nick":"lpin","date":"2016-06-13T05:59:21.672Z","type":"join"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T06:34:26.872Z","type":"quit"}
{"nick":"jdeler_","date":"2016-06-13T06:38:02.599Z","type":"join"}
{"nick":"jdeler_","reason":"Client Quit","date":"2016-06-13T06:38:25.060Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T06:39:51.174Z","type":"join"}
{"nick":"cdbattags","reason":"Ping timeout: 244 seconds","date":"2016-06-13T06:44:35.926Z","type":"quit"}
{"nick":"fbentz","date":"2016-06-13T06:49:36.993Z","type":"join"}
{"nick":"encod3","date":"2016-06-13T07:10:36.152Z","type":"join"}
{"nick":"bybb","date":"2016-06-13T07:23:36.004Z","type":"join"}
{"nick":"EdenCoder","reason":"Ping timeout: 244 seconds","date":"2016-06-13T07:37:38.078Z","type":"quit"}
{"nick":"Silenced","date":"2016-06-13T08:14:16.659Z","type":"join"}
{"nick":"Silenced","reason":"Changing host","date":"2016-06-13T08:15:38.209Z","type":"quit"}
{"nick":"Silenced","date":"2016-06-13T08:15:38.370Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 260 seconds","date":"2016-06-13T08:15:50.406Z","type":"quit"}
{"nick":"fbentz","reason":"Remote host closed the connection","date":"2016-06-13T08:21:41.616Z","type":"quit"}
{"nick":"visualshock","date":"2016-06-13T08:22:17.038Z","type":"join"}
{"nick":"fbentz","date":"2016-06-13T08:25:41.351Z","type":"join"}
{"nick":"basiclaser","date":"2016-06-13T08:33:50.345Z","type":"join"}
{"nick":"slajax","date":"2016-06-13T08:41:02.886Z","type":"join"}
{"nick":"stennowork","date":"2016-06-13T08:41:08.356Z","type":"join"}
{"nick":"stennowork","new_nick":"Guest12868","date":"2016-06-13T08:41:32.029Z","type":"nick"}
{"nick":"Guest12868","reason":"Changing host","date":"2016-06-13T08:42:19.538Z","type":"quit"}
{"nick":"Guest12868","date":"2016-06-13T08:42:19.699Z","type":"join"}
{"nick":"Guest12868","new_nick":"stennowork","date":"2016-06-13T08:42:28.913Z","type":"nick"}
{"nick":"stennowork","message":"morning","date":"2016-06-13T08:42:47.183Z","type":"message"}
{"nick":"Hounddog","date":"2016-06-13T08:44:42.989Z","type":"join"}
{"nick":"Hounddog","reason":"Ping timeout: 258 seconds","date":"2016-06-13T08:53:20.228Z","type":"quit"}
{"nick":"Hounddog","date":"2016-06-13T08:59:29.020Z","type":"join"}
{"nick":"stenno_","date":"2016-06-13T09:08:56.163Z","type":"join"}
{"nick":"stenno_","reason":"Changing host","date":"2016-06-13T09:09:07.288Z","type":"quit"}
{"nick":"stenno_","date":"2016-06-13T09:09:07.449Z","type":"join"}
{"nick":"stennowork","new_nick":"Guest32323","date":"2016-06-13T09:09:19.399Z","type":"nick"}
{"nick":"Guest32323","reason":"Killed (card.freenode.net (Nickname regained by services))","date":"2016-06-13T09:09:19.561Z","type":"quit"}
{"nick":"stenno_","new_nick":"stennowork","date":"2016-06-13T09:09:19.722Z","type":"nick"}
{"nick":"encod3_","date":"2016-06-13T09:10:27.054Z","type":"join"}
{"nick":"encod3","reason":"Ping timeout: 240 seconds","date":"2016-06-13T09:12:41.221Z","type":"quit"}
{"nick":"joshontheweb","date":"2016-06-13T09:13:40.070Z","type":"join"}
{"nick":"cdbattags","date":"2016-06-13T09:16:53.180Z","type":"join"}
{"nick":"fbentz","reason":"Remote host closed the connection","date":"2016-06-13T10:12:34.905Z","type":"quit"}
{"nick":"cdbattags","reason":"Remote host closed the connection","date":"2016-06-13T10:27:34.243Z","type":"quit"}
{"nick":"thealphanerd","reason":"Quit: farewell for now","date":"2016-06-13T10:29:43.149Z","type":"quit"}
{"nick":"thealphanerd","date":"2016-06-13T10:30:13.624Z","type":"join"}
{"nick":"joshontheweb","reason":"Quit: Computer has gone to sleep.","date":"2016-06-13T10:31:07.224Z","type":"quit"}
{"nick":"waz","date":"2016-06-13T10:35:55.221Z","type":"join"}
{"nick":"cdbattags","date":"2016-06-13T10:37:46.009Z","type":"join"}
{"nick":"cdbattags","reason":"Read error: Connection reset by peer","date":"2016-06-13T10:39:45.294Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T10:39:59.332Z","type":"join"}
{"nick":"fbentz","date":"2016-06-13T10:50:04.350Z","type":"join"}
{"nick":"fbentz_","date":"2016-06-13T10:50:46.111Z","type":"join"}
{"nick":"fbentz","reason":"Ping timeout: 260 seconds","date":"2016-06-13T10:54:30.329Z","type":"quit"}
{"nick":"kba","date":"2016-06-13T10:55:07.052Z","type":"join"}
{"nick":"kba","message":"using express-session, how do I share a session with a websocket? The top results on google do not seem to use express-session and they're all quite old","date":"2016-06-13T10:56:08.969Z","type":"message"}
{"nick":"kba","message":"The documentation (https://github.com/expressjs/session) briefly mentions \"There are some cases where it is useful to call this method, for example, long- lived requests or in WebSockets.\" under Session.save(), so I'm assuming using express-session with websockets is somewhat supported","date":"2016-06-13T10:57:05.713Z","type":"message"}
{"nick":"waz","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T10:57:43.727Z","type":"quit"}
{"nick":"cdbattags","reason":"Remote host closed the connection","date":"2016-06-13T11:06:45.601Z","type":"quit"}
{"nick":"bybb","reason":"Remote host closed the connection","date":"2016-06-13T11:09:24.643Z","type":"quit"}
{"nick":"bybb","date":"2016-06-13T11:10:58.965Z","type":"join"}
{"nick":"commma","message":"kba: something along the lines of http://stackoverflow.com/a/27727505 should do you","date":"2016-06-13T11:15:14.916Z","type":"message"}
{"nick":"mven","reason":"Ping timeout: 258 seconds","date":"2016-06-13T11:23:36.215Z","type":"quit"}
{"nick":"fbentz","date":"2016-06-13T11:26:05.132Z","type":"join"}
{"nick":"kba","message":"commma: I've looked at that, too. I'm not sure when the request action is supposed to be fired, because I don't see it.","date":"2016-06-13T11:28:01.765Z","type":"message"}
{"nick":"fbentz_","reason":"Ping timeout: 246 seconds","date":"2016-06-13T11:28:06.104Z","type":"quit"}
{"nick":"kba","message":"I'm currently doing a hacky solution on wss.on(\"connection\", fn)","date":"2016-06-13T11:28:23.389Z","type":"message"}
{"nick":"cdbattags","date":"2016-06-13T11:28:34.394Z","type":"join"}
{"nick":"brk_","date":"2016-06-13T11:30:23.152Z","type":"join"}
{"nick":"cdbattags","reason":"Read error: Connection reset by peer","date":"2016-06-13T11:32:58.257Z","type":"quit"}
{"nick":"clarkk","date":"2016-06-13T11:34:02.756Z","type":"join"}
{"nick":"cdbattags","date":"2016-06-13T11:37:25.355Z","type":"join"}
{"nick":"clarkk","reason":"Ping timeout: 240 seconds","date":"2016-06-13T11:40:21.117Z","type":"quit"}
{"nick":"clarkk","date":"2016-06-13T11:48:35.359Z","type":"join"}
{"nick":"brolin","date":"2016-06-13T11:54:49.531Z","type":"join"}
{"nick":"brk_","reason":"Quit: brk_","date":"2016-06-13T11:57:49.752Z","type":"quit"}
{"nick":"fbentz","reason":"Remote host closed the connection","date":"2016-06-13T12:03:38.547Z","type":"quit"}
{"nick":"vishnurao","date":"2016-06-13T12:07:28.000Z","type":"join"}
{"nick":"fbentz","date":"2016-06-13T12:08:11.352Z","type":"join"}
{"nick":"italoacasas","date":"2016-06-13T12:11:17.279Z","type":"join"}
{"nick":"waz","date":"2016-06-13T12:14:47.013Z","type":"join"}
{"nick":"cdbattags","reason":"Remote host closed the connection","date":"2016-06-13T12:15:24.496Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T12:26:47.146Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T12:54:08.784Z","type":"join"}
{"nick":"atomicb0mb","date":"2016-06-13T12:58:43.207Z","type":"join"}
{"nick":"cdbattags","date":"2016-06-13T13:06:34.269Z","type":"join"}
{"nick":"subsigna_","date":"2016-06-13T13:06:38.368Z","type":"join"}
{"nick":"cdbattags","reason":"Remote host closed the connection","date":"2016-06-13T13:08:33.007Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T13:09:21.725Z","type":"join"}
{"nick":"Silenced","reason":"Ping timeout: 276 seconds","date":"2016-06-13T13:12:39.657Z","type":"quit"}
{"nick":"Silenced","date":"2016-06-13T13:17:49.004Z","type":"join"}
{"nick":"Silenced","reason":"Changing host","date":"2016-06-13T13:17:49.201Z","type":"quit"}
{"nick":"Silenced","date":"2016-06-13T13:17:49.202Z","type":"join"}
{"nick":"Silenced","reason":"Read error: Connection reset by peer","date":"2016-06-13T13:28:13.122Z","type":"quit"}
{"nick":"cdbattag_","date":"2016-06-13T13:33:28.196Z","type":"join"}
{"nick":"cdbattag_","reason":"Remote host closed the connection","date":"2016-06-13T13:35:38.140Z","type":"quit"}
{"nick":"cdbattags","reason":"Read error: Connection reset by peer","date":"2016-06-13T13:35:47.889Z","type":"quit"}
{"nick":"mven","date":"2016-06-13T13:36:01.690Z","type":"join"}
{"nick":"cdbattags","date":"2016-06-13T13:36:06.225Z","type":"join"}
{"nick":"McJesis","new_nick":"McJesus","date":"2016-06-13T13:36:19.049Z","type":"nick"}
{"nick":"cdbattag_","date":"2016-06-13T13:37:55.409Z","type":"join"}
{"nick":"Auger","date":"2016-06-13T13:41:09.238Z","type":"join"}
{"nick":"cdbattags","reason":"Ping timeout: 250 seconds","date":"2016-06-13T13:41:35.012Z","type":"quit"}
{"nick":"Auger","message":"morning","date":"2016-06-13T13:42:33.915Z","type":"message"}
{"nick":"stennowork","message":"sa;it","date":"2016-06-13T13:42:58.280Z","type":"message"}
{"nick":"stennowork","message":"salut even","date":"2016-06-13T13:43:01.362Z","type":"message"}
{"nick":"Auger","message":"how-diddly-doodly stenno","date":"2016-06-13T13:43:47.425Z","type":"message"}
{"nick":"stennowork","message":"hey hey my droog","date":"2016-06-13T13:44:22.250Z","type":"message"}
{"nick":"cdbattags","date":"2016-06-13T13:48:33.154Z","type":"join"}
{"nick":"encod3","date":"2016-06-13T13:49:36.254Z","type":"join"}
{"nick":"cdbattag_","reason":"Ping timeout: 250 seconds","date":"2016-06-13T13:52:25.005Z","type":"quit"}
{"nick":"encod3_","reason":"Ping timeout: 264 seconds","date":"2016-06-13T13:53:15.995Z","type":"quit"}
{"nick":"rmg","date":"2016-06-13T13:54:58.937Z","type":"join"}
{"nick":"cdbattag_","date":"2016-06-13T13:55:06.536Z","type":"join"}
{"nick":"cdbattags","reason":"Read error: Connection reset by peer","date":"2016-06-13T13:56:55.582Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T13:57:21.145Z","type":"join"}
{"nick":"cdbattag_","reason":"Read error: Connection reset by peer","date":"2016-06-13T13:58:20.465Z","type":"quit"}
{"nick":"cdbatta__","date":"2016-06-13T13:58:25.796Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 252 seconds","date":"2016-06-13T13:59:49.370Z","type":"quit"}
{"nick":"cdbattag_","date":"2016-06-13T14:00:46.552Z","type":"join"}
{"nick":"cdbattags","reason":"Read error: Connection reset by peer","date":"2016-06-13T14:01:43.135Z","type":"quit"}
{"nick":"cdbatta__","reason":"Ping timeout: 252 seconds","date":"2016-06-13T14:03:40.368Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T14:09:27.491Z","type":"join"}
{"nick":"cdbattags","reason":"Remote host closed the connection","date":"2016-06-13T14:11:06.144Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T14:11:36.323Z","type":"join"}
{"nick":"cdbattag_","reason":"Read error: Connection reset by peer","date":"2016-06-13T14:11:46.596Z","type":"quit"}
{"nick":"basiclaser","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T14:27:32.679Z","type":"quit"}
{"nick":"diamonds","date":"2016-06-13T14:39:03.933Z","type":"join"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T14:41:02.787Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T14:41:23.283Z","type":"join"}
{"nick":"dfcarpenterak","date":"2016-06-13T14:45:31.028Z","type":"join"}
{"nick":"dfcarpenterak","reason":"Client Quit","date":"2016-06-13T14:45:59.558Z","type":"quit"}
{"nick":"joshontheweb","date":"2016-06-13T14:50:51.374Z","type":"join"}
{"nick":"joshontheweb","reason":"Ping timeout: 252 seconds","date":"2016-06-13T14:55:55.534Z","type":"quit"}
{"nick":"atomicb0mb","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T14:56:08.240Z","type":"quit"}
{"nick":"atomicb0mb","date":"2016-06-13T14:57:08.151Z","type":"join"}
{"nick":"subsigna_","new_nick":"subsignal","date":"2016-06-13T14:57:31.365Z","type":"nick"}
{"nick":"Alex231","date":"2016-06-13T14:58:26.224Z","type":"join"}
{"nick":"Firebalrog","reason":"Quit: Firebalrog","date":"2016-06-13T14:59:30.446Z","type":"quit"}
{"nick":"bybb","reason":"Remote host closed the connection","date":"2016-06-13T15:09:11.419Z","type":"quit"}
{"nick":"atomicb0mb","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T15:30:23.704Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T15:32:55.609Z","type":"quit"}
{"nick":"juanjo_","date":"2016-06-13T15:33:08.392Z","type":"join"}
{"nick":"italoacasas","date":"2016-06-13T15:34:24.143Z","type":"join"}
{"nick":"busticated","reason":"Quit: …","date":"2016-06-13T15:35:08.022Z","type":"quit"}
{"nick":"busticated","date":"2016-06-13T15:38:25.187Z","type":"join"}
{"nick":"fbentz","reason":"Remote host closed the connection","date":"2016-06-13T15:58:58.013Z","type":"quit"}
{"nick":"rmg","date":"2016-06-13T16:00:42.845Z","type":"join"}
{"nick":"fbentz","date":"2016-06-13T16:01:33.162Z","type":"join"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T16:11:26.681Z","type":"quit"}
{"nick":"fbentz","reason":"Remote host closed the connection","date":"2016-06-13T16:12:18.135Z","type":"quit"}
{"nick":"cdbattags","reason":"Ping timeout: 250 seconds","date":"2016-06-13T16:17:02.737Z","type":"quit"}
{"nick":"mven_","date":"2016-06-13T16:20:47.302Z","type":"join"}
{"nick":"mven","reason":"Ping timeout: 240 seconds","date":"2016-06-13T16:24:01.182Z","type":"quit"}
{"nick":"Hounddog","reason":"Remote host closed the connection","date":"2016-06-13T16:27:07.643Z","type":"quit"}
{"nick":"mven_","reason":"Ping timeout: 250 seconds","date":"2016-06-13T16:38:48.990Z","type":"quit"}
{"nick":"mven","date":"2016-06-13T16:39:45.269Z","type":"join"}
{"nick":"mven_","date":"2016-06-13T16:43:12.224Z","type":"join"}
{"nick":"mven","reason":"Ping timeout: 244 seconds","date":"2016-06-13T16:45:28.935Z","type":"quit"}
{"nick":"encod3","reason":"Remote host closed the connection","date":"2016-06-13T16:47:43.615Z","type":"quit"}
{"nick":"stennowork","reason":"Quit: Leaving","date":"2016-06-13T16:52:20.736Z","type":"quit"}
{"nick":"inara","reason":"Ping timeout: 240 seconds","date":"2016-06-13T16:55:03.935Z","type":"quit"}
{"nick":"someone235","date":"2016-06-13T16:56:06.533Z","type":"join"}
{"nick":"someone235","message":"Hi, how can I read the arguments I pass via next() ?","date":"2016-06-13T16:56:33.381Z","type":"message"}
{"nick":"commma","message":"someone235: you don't pass arguments via `next`, what are you trying to do?","date":"2016-06-13T17:05:35.911Z","type":"message"}
{"nick":"someone235","message":"commma, I want a middleware that will do res.json for the returned values I get from my services.","date":"2016-06-13T17:09:35.137Z","type":"message"}
{"nick":"commma","message":"someone235: then set those values on your `res.locals`","date":"2016-06-13T17:09:57.422Z","type":"message"}
{"nick":"someone235","message":"commma, isn't it better to avoid such global variables?","date":"2016-06-13T17:12:17.441Z","type":"message"}
{"nick":"commma","message":"they're not global","date":"2016-06-13T17:12:27.254Z","type":"message"}
{"nick":"commma","message":"they only hang about for the lifetime of that particular request","date":"2016-06-13T17:12:37.463Z","type":"message"}
{"nick":"commma","message":"`res.locals` is pretty much the standard convention for this","date":"2016-06-13T17:12:50.276Z","type":"message"}
{"nick":"someone235","message":"commma, yes, it's not that bad, but I wanted it to be available only to the next middleware","date":"2016-06-13T17:14:33.746Z","type":"message"}
{"nick":"clarkk","reason":"Quit: Leaving.","date":"2016-06-13T17:14:42.653Z","type":"quit"}
{"nick":"commma","message":"then write a wrapper to nest the two middlewares","date":"2016-06-13T17:14:57.478Z","type":"message"}
{"nick":"commma","message":"`router.get('/', fn1, fn2)` becomes `router.get(`/`, (req, res) => fn1().then(fn2)` basically","date":"2016-06-13T17:15:32.561Z","type":"message"}
{"nick":"joshontheweb","date":"2016-06-13T17:16:37.940Z","type":"join"}
{"nick":"someone235","message":"commma, the router works with promises?","date":"2016-06-13T17:16:45.578Z","type":"message"}
{"nick":"commma","message":"that was just an example, you'd obviously have to rewrite some things","date":"2016-06-13T17:17:07.013Z","type":"message"}
{"nick":"someone235","message":"commma, ok, I thought you meant something else","date":"2016-06-13T17:17:35.981Z","type":"message"}
{"nick":"jrthib","date":"2016-06-13T17:18:20.643Z","type":"join"}
{"nick":"someone235","message":"commma, but it means I'll have to write .then(fn2) in all my api endpoints. do you have a better solution?","date":"2016-06-13T17:18:55.736Z","type":"message"}
{"nick":"commma","message":"you don't have to do that at all, i have no idea what you're actually trying to do so i'm just giving you ideas to work from","date":"2016-06-13T17:19:33.045Z","type":"message"}
{"nick":"commma","message":"`res.locals` is the best way to do this of course, if you care that much about them not being available to the middleware after the next just clear them","date":"2016-06-13T17:20:08.200Z","type":"message"}
{"nick":"joshontheweb","reason":"Ping timeout: 244 seconds","date":"2016-06-13T17:21:07.933Z","type":"quit"}
{"nick":"someone235","message":"commma, this is what I did: http://pastie.org/private/opqkm9fuww05h6fqa4lbvq","date":"2016-06-13T17:23:56.373Z","type":"message"}
{"nick":"someone235","message":"commma, but then it means I have to do in any api endpoint res.locals.responsePromise = someFunc();","date":"2016-06-13T17:24:55.400Z","type":"message"}
{"nick":"atomicb0mb","date":"2016-06-13T17:25:33.286Z","type":"join"}
{"nick":"commma","message":"why are you not setting `data` and then calling `next` rather than setting a promise","date":"2016-06-13T17:25:40.322Z","type":"message"}
{"nick":"someone235","message":"commma, what do you mean \"setting a promise\"?","date":"2016-06-13T17:26:39.466Z","type":"message"}
{"nick":"commma","message":"`responsePromise` is a promise, why not use the _response_ from that promise","date":"2016-06-13T17:27:43.535Z","type":"message"}
{"nick":"commma","message":"also why are you calling next after finishing the response?","date":"2016-06-13T17:28:04.884Z","type":"message"}
{"nick":"someone235","message":"commma, I'm calling next on error","date":"2016-06-13T17:28:25.461Z","type":"message"}
{"nick":"commma","message":"not there you're not","date":"2016-06-13T17:28:46.079Z","type":"message"}
{"nick":"commma","message":"that'd be `.then(data => res.json(data)).catch(next)`","date":"2016-06-13T17:29:03.032Z","type":"message"}
{"nick":"someone235","message":"commma, it's the same","date":"2016-06-13T17:29:13.791Z","type":"message"}
{"nick":"someone235","message":"commma, .catch is alias to .then(null,function(){})","date":"2016-06-13T17:29:45.707Z","type":"message"}
{"nick":"someone235","message":"commma, and I'm using the response from the promise, it's in `res.json(data)`","date":"2016-06-13T17:31:04.187Z","type":"message"}
{"nick":"commma","message":"oh yeah the second (and soon to be third) argument to `.then`, i forget that exists, it's a definite anti-pattern","date":"2016-06-13T17:31:42.093Z","type":"message"}
{"nick":"commma","message":"but i'm still confused why you think you need to do it like this, do you have an example of how the data flows through the response?","date":"2016-06-13T17:32:53.383Z","type":"message"}
{"nick":"someone235","message":"commma, http://pastie.org/private/lnjtsxmisa99mebhzwta","date":"2016-06-13T17:36:26.468Z","type":"message"}
{"nick":"italoacasas","date":"2016-06-13T17:36:54.478Z","type":"join"}
{"nick":"commma","message":"so why not `Item.find({}).exec().then(data => {res.locals.data = data; next}`","date":"2016-06-13T17:37:25.064Z","type":"message"}
{"nick":"someone235","message":"commma, Ideally, I'm looking for something like this: http://pastie.org/private/jf7asese8qnybhr1jg5og","date":"2016-06-13T17:37:55.113Z","type":"message"}
{"nick":"commma","message":"you're going to have real trouble working with async code like that","date":"2016-06-13T17:38:25.043Z","type":"message"}
{"nick":"someone235","message":"commma, why?","date":"2016-06-13T17:38:38.438Z","type":"message"}
{"nick":"commma","message":"maybe look into koa which allows you to rewrite this with `async`/`await`","date":"2016-06-13T17:38:40.221Z","type":"message"}
{"nick":"juanjo_","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T17:40:30.395Z","type":"quit"}
{"nick":"juanjo","date":"2016-06-13T17:43:40.092Z","type":"join"}
{"nick":"diamonds","reason":"Ping timeout: 250 seconds","date":"2016-06-13T17:51:30.609Z","type":"quit"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2016-06-13T18:00:22.104Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T18:02:38.394Z","type":"quit"}
{"nick":"clarkk","date":"2016-06-13T18:03:04.195Z","type":"join"}
{"nick":"inara","date":"2016-06-13T18:03:34.134Z","type":"join"}
{"nick":"clarkk","reason":"Client Quit","date":"2016-06-13T18:06:40.633Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T18:07:45.401Z","type":"join"}
{"nick":"clarkk","date":"2016-06-13T18:08:02.976Z","type":"join"}
{"nick":"jrthib","reason":"Quit: jrthib","date":"2016-06-13T18:08:27.549Z","type":"quit"}
{"nick":"clarkk","reason":"Quit: Leaving.","date":"2016-06-13T18:18:24.049Z","type":"quit"}
{"nick":"fees","date":"2016-06-13T18:19:38.987Z","type":"join"}
{"nick":"Fishrock123","date":"2016-06-13T18:30:41.205Z","type":"join"}
{"nick":"someone235","message":"commma, btw, this is what I did in the end: http://pastie.org/","date":"2016-06-13T18:32:27.945Z","type":"message"}
{"nick":"someone235","message":"I gave up middlewares, and I'm just wrapping any function in the router with it","date":"2016-06-13T18:32:52.552Z","type":"message"}
{"nick":"someone235","message":"oops, wrong link: http://pastie.org/private/ij9xnvhyvhvamz58icamgw","date":"2016-06-13T18:33:03.095Z","type":"message"}
{"nick":"juanjo","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T18:33:16.240Z","type":"quit"}
{"nick":"vishnurao","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T18:38:56.557Z","type":"quit"}
{"nick":"Alex231","reason":"Quit: Leaving","date":"2016-06-13T18:52:59.400Z","type":"quit"}
{"nick":"diamonds","date":"2016-06-13T18:53:09.934Z","type":"join"}
{"nick":"Alex231","date":"2016-06-13T18:56:43.234Z","type":"join"}
{"nick":"atomicb0mb","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T19:01:22.957Z","type":"quit"}
{"nick":"KieronWiltshire","date":"2016-06-13T19:03:42.986Z","type":"join"}
{"nick":"juanjo","date":"2016-06-13T19:13:12.349Z","type":"join"}
{"nick":"clarkk","date":"2016-06-13T19:21:00.541Z","type":"join"}
{"nick":"clarkk","reason":"Quit: Leaving.","date":"2016-06-13T19:39:24.373Z","type":"quit"}
{"nick":"esmiurium","reason":"Ping timeout: 272 seconds","date":"2016-06-13T19:59:52.160Z","type":"quit"}
{"nick":"mven","date":"2016-06-13T20:15:11.442Z","type":"join"}
{"nick":"mven_","reason":"Ping timeout: 250 seconds","date":"2016-06-13T20:17:58.212Z","type":"quit"}
{"nick":"mven","reason":"Ping timeout: 246 seconds","date":"2016-06-13T20:25:21.110Z","type":"quit"}
{"nick":"mven","date":"2016-06-13T20:27:00.546Z","type":"join"}
{"nick":"mven","reason":"Ping timeout: 276 seconds","date":"2016-06-13T20:32:42.268Z","type":"quit"}
{"nick":"Alex231","reason":"Read error: Connection reset by peer","date":"2016-06-13T20:32:51.154Z","type":"quit"}
{"nick":"mven","date":"2016-06-13T20:40:06.550Z","type":"join"}
{"nick":"mven","reason":"Ping timeout: 240 seconds","date":"2016-06-13T20:48:41.155Z","type":"quit"}
{"nick":"cdbattags","date":"2016-06-13T20:49:46.097Z","type":"join"}
{"nick":"Joe22","date":"2016-06-13T20:52:31.413Z","type":"join"}
{"nick":"mven","date":"2016-06-13T20:55:32.603Z","type":"join"}
{"nick":"yegods","date":"2016-06-13T20:55:39.156Z","type":"join"}
{"nick":"blindbox_","date":"2016-06-13T21:02:46.136Z","type":"join"}
{"nick":"blindbox","reason":"Ping timeout: 244 seconds","date":"2016-06-13T21:04:09.203Z","type":"quit"}
{"nick":"blindbox_","new_nick":"blindbox","date":"2016-06-13T21:04:09.542Z","type":"nick"}
{"nick":"subsignal","reason":"Remote host closed the connection","date":"2016-06-13T21:07:21.699Z","type":"quit"}
{"nick":"diamonds","reason":"Ping timeout: 240 seconds","date":"2016-06-13T21:20:33.877Z","type":"quit"}
{"nick":"Auger","reason":"Quit: leaving","date":"2016-06-13T21:23:42.952Z","type":"quit"}
{"nick":"italoacasas","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T21:42:46.476Z","type":"quit"}
{"nick":"clarkk","date":"2016-06-13T21:45:53.496Z","type":"join"}
{"nick":"brolin","reason":"Quit: leaving","date":"2016-06-13T21:53:36.174Z","type":"quit"}
{"nick":"brolin","date":"2016-06-13T21:54:01.280Z","type":"join"}
{"nick":"mven","reason":"Ping timeout: 250 seconds","date":"2016-06-13T21:57:12.168Z","type":"quit"}
{"nick":"clarkk","reason":"Quit: Leaving.","date":"2016-06-13T21:57:38.068Z","type":"quit"}
{"nick":"diamonds","date":"2016-06-13T22:17:25.979Z","type":"join"}
{"nick":"diamonds","reason":"Ping timeout: 276 seconds","date":"2016-06-13T22:22:33.267Z","type":"quit"}
{"nick":"italoacasas","date":"2016-06-13T22:24:49.370Z","type":"join"}
{"nick":"EdenCoder","date":"2016-06-13T22:26:07.144Z","type":"join"}
{"nick":"fees","reason":"Remote host closed the connection","date":"2016-06-13T22:26:14.113Z","type":"quit"}
{"nick":"juanjo","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T22:36:43.201Z","type":"quit"}
{"nick":"ShekharReddy","reason":"Quit: Connection closed for inactivity","date":"2016-06-13T22:38:56.658Z","type":"quit"}
{"nick":"subsignal","date":"2016-06-13T22:54:23.177Z","type":"join"}
{"nick":"atomicb0mb","date":"2016-06-13T23:12:39.492Z","type":"join"}
{"nick":"christo_m","reason":"Ping timeout: 244 seconds","date":"2016-06-13T23:13:19.199Z","type":"quit"}
{"nick":"joshontheweb","date":"2016-06-13T23:18:51.448Z","type":"join"}
{"nick":"joshontheweb","reason":"Ping timeout: 260 seconds","date":"2016-06-13T23:24:05.325Z","type":"quit"}
{"nick":"atomicb0mb","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2016-06-13T23:25:24.605Z","type":"quit"}
{"nick":"yegods","reason":"Remote host closed the connection","date":"2016-06-13T23:27:41.132Z","type":"quit"}
{"nick":"yegods","date":"2016-06-13T23:36:07.155Z","type":"join"}
{"nick":"yegods","reason":"Remote host closed the connection","date":"2016-06-13T23:37:26.947Z","type":"quit"}
{"nick":"Guest23799","reason":"Ping timeout: 276 seconds","date":"2016-06-13T23:42:30.645Z","type":"quit"}
{"nick":"yegods","date":"2016-06-13T23:46:41.005Z","type":"join"}
{"nick":"yegods","reason":"Remote host closed the connection","date":"2016-06-13T23:47:37.094Z","type":"quit"}
{"nick":"yegods","date":"2016-06-13T23:48:42.358Z","type":"join"}

{"nick":"chorrell","reason":"Client Quit","date":"2013-07-17T00:00:27.752Z","type":"quit"}
{"nick":"chorrell","date":"2013-07-17T00:03:51.057Z","type":"join"}
{"nick":"fredk","reason":"Quit: Leaving.","date":"2013-07-17T00:23:02.866Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-07-17T00:24:32.673Z","type":"quit"}
{"nick":"chorrell","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2013-07-17T00:25:22.131Z","type":"quit"}
{"nick":"CarlosC","reason":"Quit: Leaving.","date":"2013-07-17T00:36:25.620Z","type":"quit"}
{"nick":"bcantrill","reason":"Quit: Leaving.","date":"2013-07-17T00:37:04.438Z","type":"quit"}
{"nick":"chorrell","date":"2013-07-17T00:48:18.142Z","type":"join"}
{"nick":"bcantrill","date":"2013-07-17T01:16:02.541Z","type":"join"}
{"nick":"mjn","date":"2013-07-17T01:30:32.748Z","type":"join"}
{"nick":"abraxas","date":"2013-07-17T01:35:51.380Z","type":"join"}
{"nick":"chorrell","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2013-07-17T02:20:07.319Z","type":"quit"}
{"nick":"papertigers","date":"2013-07-17T02:33:33.207Z","type":"join"}
{"nick":"papertigers","reason":"Quit: papertigers","date":"2013-07-17T02:42:55.150Z","type":"quit"}
{"nick":"_Tenchi_","reason":"Quit: Leaving","date":"2013-07-17T03:03:07.910Z","type":"quit"}
{"nick":"insaneirish","date":"2013-07-17T03:28:04.973Z","type":"join"}
{"nick":"papertigers","date":"2013-07-17T03:39:35.158Z","type":"join"}
{"nick":"bcantrill","reason":"Quit: Leaving.","date":"2013-07-17T03:42:44.688Z","type":"quit"}
{"nick":"papertigers_","date":"2013-07-17T03:58:36.800Z","type":"join"}
{"nick":"papertigers","reason":"Ping timeout: 240 seconds","date":"2013-07-17T03:59:46.145Z","type":"quit"}
{"nick":"papertigers_","new_nick":"papertigers","date":"2013-07-17T03:59:46.327Z","type":"nick"}
{"nick":"yunong","date":"2013-07-17T04:33:31.775Z","type":"join"}
{"nick":"yunong","reason":"Client Quit","date":"2013-07-17T04:36:01.453Z","type":"quit"}
{"nick":"papertigers_","date":"2013-07-17T04:41:31.128Z","type":"join"}
{"nick":"papertigers","reason":"Ping timeout: 246 seconds","date":"2013-07-17T04:42:55.777Z","type":"quit"}
{"nick":"papertigers_","new_nick":"papertigers","date":"2013-07-17T04:42:56.091Z","type":"nick"}
{"nick":"yunong","date":"2013-07-17T04:53:58.662Z","type":"join"}
{"nick":"ssanders","date":"2013-07-17T04:56:06.614Z","type":"join"}
{"nick":"stonecobra","reason":"Read error: Connection reset by peer","date":"2013-07-17T04:56:06.892Z","type":"quit"}
{"nick":"fooman","date":"2013-07-17T05:26:45.369Z","type":"join"}
{"nick":"tjfontaine","message":"fooman: so what exactly are you doing, and what's causing problems?","date":"2013-07-17T05:28:14.582Z","type":"message"}
{"nick":"fooman","message":"i am trying to do is use manta to do mass compiling of LESS and Stylus files, basically serving as a CSS preprocessor platform, i want to compile the files and store them in manta","date":"2013-07-17T05:28:54.173Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2013-07-17T05:29:35.386Z","type":"message"}
{"nick":"fooman","message":"i tar balled my node_modules directory that i had for local development, which included stylus and less processors, i uploaded the tar ball, and extracted in, so now in manta i have /stor/node_modules","date":"2013-07-17T05:30:11.542Z","type":"message"}
{"nick":"ssanders","reason":"Ping timeout: 240 seconds","date":"2013-07-17T05:30:14.571Z","type":"quit"}
{"nick":"fooman","message":"so just as a test, not even processing anything, i created a script that just does var stylus = require(\"stylus\"), that alone is enough to throw an error for that job","date":"2013-07-17T05:31:47.743Z","type":"message"}
{"nick":"yunong","reason":"Quit: Leaving.","date":"2013-07-17T05:31:50.172Z","type":"quit"}
{"nick":"fooman","message":"would nom projects and scripts that make use of them need to be modified to use relative directories for manta?","date":"2013-07-17T05:32:26.187Z","type":"message"}
{"nick":"fooman","message":"npm*","date":"2013-07-17T05:32:29.614Z","type":"message"}
{"nick":"tjfontaine","message":"well I guess that depends on what the error is, and how you're getting your modules into the zone","date":"2013-07-17T05:33:21.337Z","type":"message"}
{"nick":"fooman","message":"i'll edit the error i just got and paste it","date":"2013-07-17T05:34:50.850Z","type":"message"}
{"nick":"fooman","message":"{\"phase\":\"0\",\"what\":\"phase 0: map input \\\"/USER/stor/manta/test.js\\\"\",\"code\":\"UserTaskError\",\"message\":\"user command exited with code 8\",\"stderr\":\"/USER/jobs/JOB_ID/stor/USER/stor/manta/test.js.0.err.ad96f37b-1769-4933-9422-328d958bc415\",\"input\":\"/USER/stor/manta/test.js\",\"p0input\":\"/USER/stor/manta/test.js\"}","date":"2013-07-17T05:36:12.876Z","type":"message"}
{"nick":"stonecobra","date":"2013-07-17T05:36:26.278Z","type":"join"}
{"nick":"tjfontaine","message":"fooman: did you actually inspect the stderr output?","date":"2013-07-17T05:36:35.422Z","type":"message"}
{"nick":"fooman","message":"no, how can i do that with manta? i thought mjob errors # was as far as i could go","date":"2013-07-17T05:37:17.850Z","type":"message"}
{"nick":"tjfontaine","message":"that field for \"stderr\" is an object you can mget and see the output from your job","date":"2013-07-17T05:37:40.462Z","type":"message"}
{"nick":"fooman","message":"ah nice","date":"2013-07-17T05:37:52.057Z","type":"message"}
{"nick":"fooman","message":"checking it out now","date":"2013-07-17T05:38:02.375Z","type":"message"}
{"nick":"tjfontaine","message":"so on a single job you can do something like: mget $(mjob errors <uuid> | json stderr)","date":"2013-07-17T05:38:10.928Z","type":"message"}
{"nick":"tjfontaine","message":"(presuming locally you have `npm install -g jsontool`)","date":"2013-07-17T05:38:21.655Z","type":"message"}
{"nick":"tjfontaine","message":"[which you should] :)","date":"2013-07-17T05:38:54.097Z","type":"message"}
{"nick":"bixu","reason":"Remote host closed the connection","date":"2013-07-17T05:39:10.939Z","type":"quit"}
{"nick":"fooman","message":"i do, trying that now","date":"2013-07-17T05:39:48.955Z","type":"message"}
{"nick":"fooman","message":"thanks for helping out with all this :)","date":"2013-07-17T05:39:58.500Z","type":"message"}
{"nick":"tjfontaine","message":"no problemo :)","date":"2013-07-17T05:40:05.450Z","type":"message"}
{"nick":"tjfontaine","message":"also, you should checkout mlogin, it's a good way to prototype your jobs as you're working on them","date":"2013-07-17T05:40:30.263Z","type":"message"}
{"nick":"rmustacc","message":"fooman: Are you using that bundle of code as an asset?","date":"2013-07-17T05:40:51.811Z","type":"message"}
{"nick":"tjfontaine","message":"you can specify your object and assets and then drop into an interactive shell","date":"2013-07-17T05:41:05.244Z","type":"message"}
{"nick":"rmustacc","message":"It's a bit hard to tell from what you've shared but you want to be using that bundle of node modules as an asset for your job.","date":"2013-07-17T05:41:47.288Z","type":"message"}
{"nick":"tjfontaine","message":"right, part of why I said: \"depends on how you're getting your modules into the zone\"","date":"2013-07-17T05:42:28.912Z","type":"message"}
{"nick":"fooman","message":"ah ha, that may be my problem. there is a difference between uploading just into /stor and registering an asset i'm guessing?","date":"2013-07-17T05:43:11.000Z","type":"message"}
{"nick":"tjfontaine","message":"fooman: ya, by default you only get the object/key you're working on, if you want additional things in your zone you need to specify them as an asset, or mget them during your task","date":"2013-07-17T05:43:54.890Z","type":"message"}
{"nick":"tjfontaine","message":"fooman: so, the tarball of node_modules is actually a good thing to use, then first part of your job can be to unpack that into a path you expect","date":"2013-07-17T05:44:34.107Z","type":"message"}
{"nick":"papertigers_","date":"2013-07-17T05:44:54.161Z","type":"join"}
{"nick":"fooman","message":"so Stil upload it to /stor as normal, then unpack it?","date":"2013-07-17T05:45:09.278Z","type":"message"}
{"nick":"papertigers","reason":"Ping timeout: 245 seconds","date":"2013-07-17T05:45:49.097Z","type":"quit"}
{"nick":"papertigers_","new_nick":"papertigers","date":"2013-07-17T05:45:49.236Z","type":"nick"}
{"nick":"fooman","message":"mlogin looks interesting, going to try to get that working too","date":"2013-07-17T05:46:30.874Z","type":"message"}
{"nick":"rmustacc","message":"Yeah, you'd want to upload as normal.","date":"2013-07-17T05:47:24.486Z","type":"message"}
{"nick":"tjfontaine","message":"mput your file into your space, and specify the path to it with -s before your -m, and then in your job you can do things with it, it will be located in /assets/<path/to/object>","date":"2013-07-17T05:47:24.827Z","type":"message"}
{"nick":"rmustacc","message":"But I'd basically prototype it in mlogin and use that to write a script.","date":"2013-07-17T05:47:41.384Z","type":"message"}
{"nick":"tjfontaine","message":"http://apidocs.joyent.com/manta/#running-jobs-using-assets","date":"2013-07-17T05:47:44.432Z","type":"message"}
{"nick":"tjfontaine","message":"though that's not exactly the example I wanted","date":"2013-07-17T05:48:06.867Z","type":"message"}
{"nick":"fooman","message":"ah, i think i get it now","date":"2013-07-17T05:48:52.511Z","type":"message"}
{"nick":"fooman","message":"thanks guys, going to give this a shot and report back in a few mins","date":"2013-07-17T05:49:09.678Z","type":"message"}
{"nick":"fooman","message":"very much appreciate the help, tjfontaine and rmustacc","date":"2013-07-17T05:49:39.586Z","type":"message"}
{"nick":"tjfontaine","message":"np","date":"2013-07-17T05:50:00.964Z","type":"message"}
{"nick":"rmustacc","message":"tjfontaine: Yeah, probalby an example of using a tarball would be more illustrative.","date":"2013-07-17T05:50:11.175Z","type":"message"}
{"nick":"tjfontaine","message":"rmustacc: there's not really a good one, in my looking of the docs, just the muntar example","date":"2013-07-17T05:50:50.938Z","type":"message"}
{"nick":"fooman","message":"yeah the docs are a little underwhelming at the moment. i read about the service and my brain wants to explode because of how awesome it sounds, and then it takes a long time to jump in and get the hang of it because there are not enough examples to show off what you can do","date":"2013-07-17T05:51:32.714Z","type":"message"}
{"nick":"rmustacc","message":"Makes sense. If you have other feedback, do let us know.","date":"2013-07-17T05:52:30.331Z","type":"message"}
{"nick":"tjfontaine","message":"indeed, exactly what I was going to say, any other place where we can make it more clear please let us know","date":"2013-07-17T05:52:48.276Z","type":"message"}
{"nick":"fooman","message":"definitely real world examples, showing a simple node project that utilizes something in the node_modules directory would help a lot of people i bet. probably blow a few minds to be honest.","date":"2013-07-17T05:54:09.121Z","type":"message"}
{"nick":"tjfontaine","message":"I have a blog that will be posted tomorrow that uses assets, but didn't need a tarball","date":"2013-07-17T05:55:01.532Z","type":"message"}
{"nick":"fooman","message":"looking forward to checking it out, will be on the joyent blog?","date":"2013-07-17T05:57:07.137Z","type":"message"}
{"nick":"tjfontaine","message":"nodejs.org","date":"2013-07-17T05:57:33.956Z","type":"message"}
{"nick":"papertigers","reason":"Quit: papertigers","date":"2013-07-17T05:57:59.461Z","type":"quit"}
{"nick":"fooman","message":"ok cool, i'll def check it out","date":"2013-07-17T05:58:33.212Z","type":"message"}
{"nick":"yunong","date":"2013-07-17T06:02:07.595Z","type":"join"}
{"nick":"fooman","message":"so if i give this a shot, it still says it can not find my module, which is located in /stor/include/ and contains nothing but an index.js file -- i've tested it locally and it works. this is the manta command i am running.","date":"2013-07-17T06:03:37.116Z","type":"message"}
{"nick":"fooman","message":"echo /$MANTA_USER/stor/manta/test.js | mjob create -o -m -s /$MANTA_USER/stor/node_modules -s /$MANTA_USER/stor/test.js \"node\"","date":"2013-07-17T06:03:43.249Z","type":"message"}
{"nick":"fooman","message":"wrong one, actually see an issue with that one, just a sec","date":"2013-07-17T06:04:12.365Z","type":"message"}
{"nick":"fooman","message":"ok yeah this is the code i use: echo /$MANTA_USER/stor/test.js | mjob create -o -m -s /$MANTA_USER/stor/node_modules -s /$MANTA_USER/stor/test.js \"node\"","date":"2013-07-17T06:05:10.715Z","type":"message"}
{"nick":"tjfontaine","message":"ok, so is test.js the script you want to run with node, or the script you want to compress?","date":"2013-07-17T06:05:29.761Z","type":"message"}
{"nick":"fooman","message":"just the node script i want to run","date":"2013-07-17T06:05:43.698Z","type":"message"}
{"nick":"rmustacc","message":"And it needs the node modules in that tgz right?","date":"2013-07-17T06:06:07.421Z","type":"message"}
{"nick":"yunong","reason":"Ping timeout: 240 seconds","date":"2013-07-17T06:06:14.656Z","type":"quit"}
{"nick":"fooman","message":"yeah, node_modules has already been extracted -- should i not do it that way? do i leave it as a tar ball and have it init?","date":"2013-07-17T06:06:52.367Z","type":"message"}
{"nick":"tjfontaine","message":"well, -s doesn't work with a directory, only for an object, so you'll want to use a .tar.gz, something like ...","date":"2013-07-17T06:07:35.730Z","type":"message"}
{"nick":"tjfontaine","message":"eecho /$MANTA_USER/stor/test.js | mjob create -o -s /$MANTA_USER/stor/node_modules.tar.gz -m 'tar xzf /assets/$MANTA_USER/stor/node_modules.tar.gz && node $MANTA_INPUT_FILE'","date":"2013-07-17T06:08:50.914Z","type":"message"}
{"nick":"fooman","message":"ah that is slick. so i can just have the script to be executed in /stor and then have node_modules tar'd ?","date":"2013-07-17T06:10:01.114Z","type":"message"}
{"nick":"rmustacc","message":"So you basically want to specify both as assets and then your input file is always going to be the script to transform/process.","date":"2013-07-17T06:10:40.947Z","type":"message"}
{"nick":"tjfontaine","message":"right, if something else is going to be what you want to operate on","date":"2013-07-17T06:11:10.236Z","type":"message"}
{"nick":"tjfontaine","message":"or","date":"2013-07-17T06:11:26.658Z","type":"message"}
{"nick":"rmustacc","message":"I'm going to disappear, so happy mantaing.","date":"2013-07-17T06:11:47.963Z","type":"message"}
{"nick":"tjfontaine","message":"echo /$MANTA_USER/stor/myfile | mjob create -o 'npm install -g mypackage && mypackage $MANTA_INPUT_FILE'","date":"2013-07-17T06:12:14.733Z","type":"message"}
{"nick":"fooman","message":"thanks for the help, rmustacc! goodnight","date":"2013-07-17T06:12:17.908Z","type":"message"}
{"nick":"fooman","message":"* i'm not leaving, just saying bye to rmustacc *","date":"2013-07-17T06:12:43.402Z","type":"message"}
{"nick":"tjfontaine","message":"so that way you're always getting the latest version from the registry","date":"2013-07-17T06:12:43.872Z","type":"message"}
{"nick":"fooman","message":"oh snap, i can run nom install, my whole world just opened up","date":"2013-07-17T06:13:11.728Z","type":"message"}
{"nick":"fooman","message":"damn autocorrect not liking NPM","date":"2013-07-17T06:13:25.985Z","type":"message"}
{"nick":"fooman","message":"it's not nom","date":"2013-07-17T06:13:31.059Z","type":"message"}
{"nick":"tjfontaine","message":"you can do whatever you want, it's a zone/vm that you have (roughly) complete control over","date":"2013-07-17T06:13:42.116Z","type":"message"}
{"nick":"fooman","message":"please definitely put out some npm install with manta examples for people. i'm telling you this is blowing my mind. i'm a pretty advanced node.js user of about 2 years","date":"2013-07-17T06:15:13.124Z","type":"message"}
{"nick":"tjfontaine","message":"well, I guess some of the messaging around this could be a bit better :)","date":"2013-07-17T06:15:46.602Z","type":"message"}
{"nick":"fooman","message":"yeah, it's sometimes hard to explain something that does so much.","date":"2013-07-17T06:16:59.577Z","type":"message"}
{"nick":"fooman","message":"it's honestly nothing short of amazing","date":"2013-07-17T06:17:14.145Z","type":"message"}
{"nick":"tjfontaine","message":"in an effort to not pigeon hole, it's easy for people to get lost :)","date":"2013-07-17T06:17:33.334Z","type":"message"}
{"nick":"fooman","message":"i'm giving the nom install a shot now, very excited","date":"2013-07-17T06:19:30.799Z","type":"message"}
{"nick":"fooman","message":"damn it, how often do you guys see NPM get autocorrected to nom? i can't be the only one","date":"2013-07-17T06:19:55.295Z","type":"message"}
{"nick":"tjfontaine","message":"it is very nomnomnom though","date":"2013-07-17T06:20:20.556Z","type":"message"}
{"nick":"fooman","message":"i give it that indeed","date":"2013-07-17T06:20:36.886Z","type":"message"}
{"nick":"fooman","message":"so partially good news, i see that npm was working (the progress shows in my error log), but my script still says it can't find the module. here is the line i am using:","date":"2013-07-17T06:29:37.032Z","type":"message"}
{"nick":"fooman","message":"echo /$MANTA_USER/stor/stylus_test.js | mjob create -o 'npm install -g stylus && node $MANTA_INPUT_FILE'","date":"2013-07-17T06:29:37.839Z","type":"message"}
{"nick":"fooman","message":"and stylus_test.js is just: var stylus=require('stylus'); console.log(typeof stylus)","date":"2013-07-17T06:30:31.284Z","type":"message"}
{"nick":"tjfontaine","message":"well, don't forget that -g for npm doesn't actually mean it will show up in your require path, just that scripts/bins will be in your $PATH","date":"2013-07-17T06:31:08.419Z","type":"message"}
{"nick":"tjfontaine","message":"so remove the -g and it should work","date":"2013-07-17T06:31:18.883Z","type":"message"}
{"nick":"fooman","message":"ah ok, trying now","date":"2013-07-17T06:31:31.155Z","type":"message"}
{"nick":"fooman","message":"that worked!","date":"2013-07-17T06:32:37.155Z","type":"message"}
{"nick":"fooman","message":"yay!","date":"2013-07-17T06:32:44.007Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-07-17T06:33:00.957Z","type":"message"}
{"nick":"fooman","message":"ok so now i have a best practices type of question about how i should use manta","date":"2013-07-17T06:34:19.359Z","type":"message"}
{"nick":"fooman","message":"so the web app i'm using this for -- we have a platform that gives customers the ability to theme our product, essentially skinning it to make it match the look of their site, etc... what are trying to do is take those variables that get set from their configurations and then automate the building of their asset files.... the thing is, anytime we push out a change to the core asset files of the product, we need to also recompile the as","date":"2013-07-17T06:37:22.932Z","type":"message"}
{"nick":"tjfontaine","message":"you got cut off at \"recompile the as\"","date":"2013-07-17T06:37:55.897Z","type":"message"}
{"nick":"fooman","message":"right now, there are only about 50 customers, and we're expecting to peak at around 5,000 or so eventually","date":"2013-07-17T06:38:12.678Z","type":"message"}
{"nick":"ghostbar","reason":"Remote host closed the connection","date":"2013-07-17T06:38:19.675Z","type":"quit"}
{"nick":"fooman","message":"ah ok, fixing where i got cutoff","date":"2013-07-17T06:38:33.720Z","type":"message"}
{"nick":"tjfontaine","message":"but this does sound basically like a good use case for manta :)","date":"2013-07-17T06:38:35.174Z","type":"message"}
{"nick":"ghostbar","date":"2013-07-17T06:38:47.847Z","type":"join"}
{"nick":"fooman","message":"* the thing is, anytime we push out a change to the core asset files of the product, we need to also recompile the assets for all of our customers.","date":"2013-07-17T06:39:11.212Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2013-07-17T06:39:19.171Z","type":"message"}
{"nick":"fooman","message":"my plan is to always keep the latest copies of the client's files and the core project files in manta, so it's just a matter of figuring how i should queue it","date":"2013-07-17T06:40:19.618Z","type":"message"}
{"nick":"fooman","message":"we have a db table for the assets, to mark which ones are still in need of being updated for each customer, so that's in place, but how would you do this the most effective way? this would eventually be like 10,000 files that suddenly need to be recompiled","date":"2013-07-17T06:42:27.529Z","type":"message"}
{"nick":"ghostbar","reason":"Ping timeout: 240 seconds","date":"2013-07-17T06:43:02.995Z","type":"quit"}
{"nick":"fooman","message":"it's no problem if it takes a few hours, since our plan is to always build and cache new asset versions (with new file names) first, then push HTML changes that utilize those CSS/JS changes after all the CSS/JS is updated","date":"2013-07-17T06:43:46.215Z","type":"message"}
{"nick":"fooman","message":"is there a way to batch the request? send say 1000 object requests at a time? etc.. ?","date":"2013-07-17T06:45:05.074Z","type":"message"}
{"nick":"tjfontaine","message":"sure, either figure out the key in manta from your db, or use mfind, and then just give it all the keys","date":"2013-07-17T06:45:49.772Z","type":"message"}
{"nick":"tjfontaine","message":"or","date":"2013-07-17T06:46:01.399Z","type":"message"}
{"nick":"tjfontaine","message":"you could do it in multiple phases, where the first part of hte job maps across customers, which generates tarballs for the customer, and then queues other jobs on the tarball for the customer, which gives you a little better object framing","date":"2013-07-17T06:46:58.731Z","type":"message"}
{"nick":"fooman","message":"that's a good idea","date":"2013-07-17T06:47:54.421Z","type":"message"}
{"nick":"tjfontaine","message":"it's easy to change to that model later, while you're just starting it would be fine to just queue per each file","date":"2013-07-17T06:48:22.336Z","type":"message"}
{"nick":"fooman","message":"yeah definitely. how does manta work as far as sending the multiple requests? should i wait for each task to complete or is that unnecessary as long as my queue is working properly and not duplicating jobs","date":"2013-07-17T06:49:28.876Z","type":"message"}
{"nick":"mamash","date":"2013-07-17T06:49:42.337Z","type":"join"}
{"nick":"tjfontaine","message":"it's all pretty independent, you can queue jobs as you need, and you can send as many keys to a given job as you need","date":"2013-07-17T06:50:13.542Z","type":"message"}
{"nick":"fooman","message":"very cool, so i could use the api and just request 500 jobs back to back over and over until everything was processed","date":"2013-07-17T06:50:48.078Z","type":"message"}
{"nick":"tjfontaine","message":"sure, it's quite flexible, so basically it can adapt to whatever model works for you","date":"2013-07-17T06:51:48.357Z","type":"message"}
{"nick":"fooman","message":"and that would be individual api requests, right? there's no batching in place that i'm missing, correct?","date":"2013-07-17T06:52:27.367Z","type":"message"}
{"nick":"tjfontaine","message":"you can create jobs all externally, or you can make jobs from inside jobs","date":"2013-07-17T06:52:37.247Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not sure what you mean","date":"2013-07-17T06:52:43.832Z","type":"message"}
{"nick":"fooman","message":"oh, that's too -- i meant say using the node.js SDK, did i need to run the mjob command 500 times, but no i don't, i can do it promatically","date":"2013-07-17T06:53:53.112Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2013-07-17T06:54:14.345Z","type":"message"}
{"nick":"fooman","message":"i meant like how some APIs (typically query-like reads and writes) allow you to send multiple requests in an array and you get an array back, with each item in the array containing the result for each item you sent -- they do it to prevent so many round trips between your app and their api","date":"2013-07-17T06:55:53.524Z","type":"message"}
{"nick":"fooman","message":"i don't think any such thing exists for manta, just asking to make sure","date":"2013-07-17T06:56:14.184Z","type":"message"}
{"nick":"fooman","message":"and another quick question about the assets, i can have multiple -s params in my request? like i could do this? ....","date":"2013-07-17T06:57:45.579Z","type":"message"}
{"nick":"fooman","message":"echo /$MANTA_USER/stor/test.js | mjob create -o -s /$MANTA_USER/stor/node_modules.tar.gz -s /$MANTA_USER/stor/assets.tar.gz -m 'tar xzf","date":"2013-07-17T06:58:10.005Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-07-17T06:58:19.026Z","type":"message"}
{"nick":"fooman","message":"awesome","date":"2013-07-17T06:58:35.738Z","type":"message"}
{"nick":"tjfontaine","message":"it's a bit more clear if you look at the json for createjob http://apidocs.joyent.com/manta/api.html#jobs","date":"2013-07-17T06:59:02.511Z","type":"message"}
{"nick":"fooman","message":"looking now","date":"2013-07-17T06:59:58.032Z","type":"message"}
{"nick":"fooman","message":"ok i get it","date":"2013-07-17T07:01:07.725Z","type":"message"}
{"nick":"fooman","message":"this is all so very impressive","date":"2013-07-17T07:01:20.386Z","type":"message"}
{"nick":"tjfontaine","message":"spread the good news :)","date":"2013-07-17T07:01:34.597Z","type":"message"}
{"nick":"fooman","message":"seriously made my day figuring out i can do all this complicated stuff on manta.","date":"2013-07-17T07:01:40.987Z","type":"message"}
{"nick":"tjfontaine","message":"we're glad you like it, you're one of the prime use cases for it","date":"2013-07-17T07:02:05.316Z","type":"message"}
{"nick":"fooman","message":"oh i intend to, once i get this working, i'm writing a blog entry about how amazing it is","date":"2013-07-17T07:02:12.189Z","type":"message"}
{"nick":"yunong","date":"2013-07-17T07:02:42.151Z","type":"join"}
{"nick":"tjfontaine","message":"are you planning on also using it as the cdn for the assets?","date":"2013-07-17T07:02:51.454Z","type":"message"}
{"nick":"fooman","message":"i'm going to store the compiled version of the assets in manta, but then use our cdn to serve them, so that manta only gets hit on cache miss","date":"2013-07-17T07:04:08.235Z","type":"message"}
{"nick":"fooman","message":"sound right?","date":"2013-07-17T07:04:12.033Z","type":"message"}
{"nick":"tjfontaine","message":"sure, whatever works best for you","date":"2013-07-17T07:04:39.583Z","type":"message"}
{"nick":"tjfontaine","message":"I was just curious","date":"2013-07-17T07:04:45.262Z","type":"message"}
{"nick":"fooman","message":"is manta meant to be used as a cdn as well?","date":"2013-07-17T07:04:56.980Z","type":"message"}
{"nick":"fooman","message":"or should you utilize a cdn and think of manta as your resource origin?","date":"2013-07-17T07:05:42.443Z","type":"message"}
{"nick":"tjfontaine","message":"well it's meant to be a object-store and compute mechanism, but you get a strongly consistent cdn as a byproduct of that","date":"2013-07-17T07:05:50.179Z","type":"message"}
{"nick":"tjfontaine","message":"it's up to you to decide if it makes sense for your workflow/usecase","date":"2013-07-17T07:06:42.718Z","type":"message"}
{"nick":"yunong","reason":"Ping timeout: 240 seconds","date":"2013-07-17T07:06:46.145Z","type":"quit"}
{"nick":"fooman","message":"so does that mean that the files are served from servers in various parts of the world, or only from the 2 datacenter (by default) that your files are stored in?","date":"2013-07-17T07:07:06.277Z","type":"message"}
{"nick":"tjfontaine","message":"right, it's only in the region you stored them in, so if you want localized cdn it's not quite that yet","date":"2013-07-17T07:07:49.622Z","type":"message"}
{"nick":"fooman","message":"gotcha, well if/when it becomes available, i'll certainly test it, it's all config values really, so easy to switch the CDN around","date":"2013-07-17T07:08:33.254Z","type":"message"}
{"nick":"fooman","message":"thank you for everything tonight, tjfontaine. it's been a pleasure getting assistance from you, i'll be able to get this whole asset builder stuff wrapped up tomorrow because of how awesome manta is. thank you again for all of your help","date":"2013-07-17T07:10:33.795Z","type":"message"}
{"nick":"fooman","message":"goodnight!","date":"2013-07-17T07:10:38.338Z","type":"message"}
{"nick":"tjfontaine","message":"yup, don't hesitate to pop up if you have more questions :)","date":"2013-07-17T07:10:52.391Z","type":"message"}
{"nick":"fooman","message":"oh i'm sure i'll be back :)","date":"2013-07-17T07:11:11.213Z","type":"message"}
{"nick":"fooman","message":"thanks!","date":"2013-07-17T07:11:14.934Z","type":"message"}
{"nick":"tjfontaine","message":"indeed, gnight","date":"2013-07-17T07:11:18.988Z","type":"message"}
{"nick":"fooman","reason":"Quit: Page closed","date":"2013-07-17T07:11:20.667Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-17T07:18:01.384Z","type":"join"}
{"nick":"bcantrill","date":"2013-07-17T07:25:09.779Z","type":"join"}
{"nick":"bcantrill1","date":"2013-07-17T07:28:39.099Z","type":"join"}
{"nick":"bcantrill","reason":"Ping timeout: 246 seconds","date":"2013-07-17T07:31:37.780Z","type":"quit"}
{"nick":"bcantrill","date":"2013-07-17T07:36:24.992Z","type":"join"}
{"nick":"bcantrill2","date":"2013-07-17T07:38:55.936Z","type":"join"}
{"nick":"bcantrill3","date":"2013-07-17T07:39:22.866Z","type":"join"}
{"nick":"bcantrill1","reason":"Ping timeout: 268 seconds","date":"2013-07-17T07:39:36.096Z","type":"quit"}
{"nick":"bcantrill","reason":"Ping timeout: 246 seconds","date":"2013-07-17T07:42:06.175Z","type":"quit"}
{"nick":"bcantrill2","reason":"Read error: No route to host","date":"2013-07-17T07:42:27.401Z","type":"quit"}
{"nick":"bcantrill","date":"2013-07-17T07:43:20.146Z","type":"join"}
{"nick":"bcantrill3","reason":"Ping timeout: 256 seconds","date":"2013-07-17T07:45:49.833Z","type":"quit"}
{"nick":"bcantrill1","date":"2013-07-17T07:47:09.097Z","type":"join"}
{"nick":"bcantrill","reason":"Ping timeout: 240 seconds","date":"2013-07-17T07:49:16.157Z","type":"quit"}
{"nick":"bcantrill","date":"2013-07-17T07:49:28.579Z","type":"join"}
{"nick":"bcantrill2","date":"2013-07-17T07:50:19.112Z","type":"join"}
{"nick":"bcantrill1","reason":"Ping timeout: 268 seconds","date":"2013-07-17T07:53:10.206Z","type":"quit"}
{"nick":"bcantrill","reason":"Ping timeout: 248 seconds","date":"2013-07-17T07:53:41.579Z","type":"quit"}
{"nick":"yunong","date":"2013-07-17T08:03:18.954Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 246 seconds","date":"2013-07-17T08:07:39.075Z","type":"quit"}
{"nick":"ghostbar","reason":"Remote host closed the connection","date":"2013-07-17T08:10:57.808Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-17T08:11:28.305Z","type":"join"}
{"nick":"bcantrill","date":"2013-07-17T08:12:45.356Z","type":"join"}
{"nick":"bcantrill2","reason":"Ping timeout: 268 seconds","date":"2013-07-17T08:14:45.209Z","type":"quit"}
{"nick":"ghostbar","reason":"Ping timeout: 268 seconds","date":"2013-07-17T08:15:59.206Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-17T08:18:02.304Z","type":"join"}
{"nick":"bcantrill1","date":"2013-07-17T08:21:32.910Z","type":"join"}
{"nick":"bcantrill","reason":"Ping timeout: 264 seconds","date":"2013-07-17T08:25:23.353Z","type":"quit"}
{"nick":"bcantrill","date":"2013-07-17T08:42:26.582Z","type":"join"}
{"nick":"almostobsolete","date":"2013-07-17T08:45:13.581Z","type":"join"}
{"nick":"almostobsolete","message":"Hi guys, is there an rsync equivalent for getting data up to manta?","date":"2013-07-17T08:45:40.821Z","type":"message"}
{"nick":"bcantrill1","reason":"Ping timeout: 246 seconds","date":"2013-07-17T08:45:48.059Z","type":"quit"}
{"nick":"almostobsolete","message":"Got a directory of files, some of which are new","date":"2013-07-17T08:45:51.204Z","type":"message"}
{"nick":"jperkin","message":"I think there was but it didn't work properly so was pulled","date":"2013-07-17T08:46:08.009Z","type":"message"}
{"nick":"jperkin","message":"I'd really like a working version too, for now I'm just using muntar","date":"2013-07-17T08:46:18.414Z","type":"message"}
{"nick":"almostobsolete","message":"In this specific case there are no changed files, just new ones and ones that are already uploaded","date":"2013-07-17T08:46:23.982Z","type":"message"}
{"nick":"ghostbar","reason":"Remote host closed the connection","date":"2013-07-17T08:47:50.906Z","type":"quit"}
{"nick":"almostobsolete","message":"Cool, reckon it's something that will make it back sometime?","date":"2013-07-17T08:47:57.001Z","type":"message"}
{"nick":"ghostbar","date":"2013-07-17T08:48:19.724Z","type":"join"}
{"nick":"jperkin","message":"almost certainly, the infrastructure is there (e.g. server-side md5)","date":"2013-07-17T08:50:07.209Z","type":"message"}
{"nick":"mjn","message":"if there aren't any changed files you could fairly easily hack something up with diffing the output of a local find and a remote mfind (after stripping pathnames with 'basename' and sorting)","date":"2013-07-17T08:51:13.109Z","type":"message"}
{"nick":"bcantrill","reason":"Quit: Leaving.","date":"2013-07-17T08:52:03.679Z","type":"quit"}
{"nick":"ghostbar","reason":"Ping timeout: 248 seconds","date":"2013-07-17T08:52:53.618Z","type":"quit"}
{"nick":"almostobsolete","message":"Just realised how small these files get when I gzip them, gonna just reload all :p","date":"2013-07-17T08:56:20.620Z","type":"message"}
{"nick":"yunong","date":"2013-07-17T09:03:46.873Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 256 seconds","date":"2013-07-17T09:08:33.866Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-07-17T09:09:11.809Z","type":"quit"}
{"nick":"almostobsolete","message":"What's a good way to get stats on my jobs? I want to know what's slow and what's fast","date":"2013-07-17T09:09:44.571Z","type":"message"}
{"nick":"almostobsolete","message":"Another question, how do I find out my current usage of Manta? Want to see how much this is all costing (I assume very little)","date":"2013-07-17T09:36:45.959Z","type":"message"}
{"nick":"yunong","date":"2013-07-17T10:04:22.172Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 268 seconds","date":"2013-07-17T10:09:27.237Z","type":"quit"}
{"nick":"almostobsolete","message":"Another question for whenever someone is around: what's the best way to have a job output to a named object in the store?","date":"2013-07-17T10:30:49.159Z","type":"message"}
{"nick":"mamash","date":"2013-07-17T10:33:53.246Z","type":"part"}
{"nick":"yunong","date":"2013-07-17T11:04:51.213Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 246 seconds","date":"2013-07-17T11:09:17.948Z","type":"quit"}
{"nick":"mamash","date":"2013-07-17T11:18:51.194Z","type":"join"}
{"nick":"almostobsolete","reason":"Ping timeout: 248 seconds","date":"2013-07-17T11:23:17.581Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-07-17T11:47:06.713Z","type":"join"}
{"nick":"yunong","date":"2013-07-17T12:05:21.577Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 248 seconds","date":"2013-07-17T12:09:41.578Z","type":"quit"}
{"nick":"marsell","reason":"Quit: marsell","date":"2013-07-17T12:33:58.331Z","type":"quit"}
{"nick":"marsell","date":"2013-07-17T12:34:16.192Z","type":"join"}
{"nick":"insaneirish","reason":"Quit: Computer has gone to sleep.","date":"2013-07-17T12:39:03.936Z","type":"quit"}
{"nick":"insaneirish","date":"2013-07-17T12:39:19.387Z","type":"join"}
{"nick":"insaneirish","reason":"Remote host closed the connection","date":"2013-07-17T12:39:37.366Z","type":"quit"}
{"nick":"chorrell","date":"2013-07-17T13:00:26.347Z","type":"join"}
{"nick":"chorrell_","date":"2013-07-17T13:00:34.956Z","type":"join"}
{"nick":"yunong","date":"2013-07-17T13:05:57.158Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 268 seconds","date":"2013-07-17T13:10:45.141Z","type":"quit"}
{"nick":"dap","date":"2013-07-17T13:22:47.111Z","type":"join"}
{"nick":"_Tenchi_","date":"2013-07-17T13:37:45.274Z","type":"join"}
{"nick":"chorrell","reason":"Quit: My iMac has gone to sleep. ZZZzzz…","date":"2013-07-17T13:56:13.837Z","type":"quit"}
{"nick":"almostobsolete","date":"2013-07-17T13:57:34.153Z","type":"join"}
{"nick":"almostobsolete","message":"Apologies if someone already answered but I'm I lost connection to IRC for a bit so I'm going to ask again...","date":"2013-07-17T13:58:53.061Z","type":"message"}
{"nick":"almostobsolete","message":"What's the best way to have a job output to a named object in the store?","date":"2013-07-17T13:59:06.586Z","type":"message"}
{"nick":"tjfontaine","message":"echo \"foo\" | mpipe /$MANTA_USER/stor/obj_in_job","date":"2013-07-17T13:59:32.185Z","type":"message"}
{"nick":"tjfontaine","message":"mput will also work","date":"2013-07-17T14:00:09.192Z","type":"message"}
{"nick":"almostobsolete","message":"Ah, of course, just add that to my reduce step","date":"2013-07-17T14:00:24.846Z","type":"message"}
{"nick":"almostobsolete","message":"thanks","date":"2013-07-17T14:00:26.082Z","type":"message"}
{"nick":"tjfontaine","message":"np","date":"2013-07-17T14:00:42.625Z","type":"message"}
{"nick":"almostobsolete","message":"Are there any ways of getting some insight on the performance of the stages of a job?","date":"2013-07-17T14:02:17.941Z","type":"message"}
{"nick":"almostobsolete","message":"My log processing job is taking about 20 minutes to run (when I use msplit, a lot longer with a single reduce task) and I'd like to figure out exactly what's taking the time","date":"2013-07-17T14:02:53.284Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T14:04:53.506Z","type":"quit"}
{"nick":"tjfontaine","message":"almostobsolete: there's some information in /$MANTA_USER/jobs/<uuid>/job.json","date":"2013-07-17T14:04:58.341Z","type":"message"}
{"nick":"tjfontaine","message":"but if I had to guess, maybe you're running out of memory in your reducer?","date":"2013-07-17T14:05:57.350Z","type":"message"}
{"nick":"yunong","date":"2013-07-17T14:06:45.439Z","type":"join"}
{"nick":"almostobsolete","message":"That could slow it down without stopping it from working?","date":"2013-07-17T14:07:37.210Z","type":"message"}
{"nick":"tjfontaine","message":"ya, if you start swapping","date":"2013-07-17T14:08:20.674Z","type":"message"}
{"nick":"almostobsolete","message":"I'm getting \"mget: ResourceNotFoundError: /andymitchell/jobs/7bd9181d-0e3c-42c8-b6cb-3894c51ac75f/job.json\"","date":"2013-07-17T14:08:40.051Z","type":"message"}
{"nick":"almostobsolete","message":"7bd9181d-0e3c-42c8-b6cb-3894c51ac75f is a job I'm running right now","date":"2013-07-17T14:08:52.540Z","type":"message"}
{"nick":"tjfontaine","message":"oh, probably not available until job is completed, if it's running you can `mjob get uuid`","date":"2013-07-17T14:09:39.658Z","type":"message"}
{"nick":"tjfontaine","message":"it will show you where you are in progress, how many tasks or retries are going on","date":"2013-07-17T14:10:02.508Z","type":"message"}
{"nick":"tjfontaine","message":"oh I guess that's all what mjob get is, heh","date":"2013-07-17T14:10:24.604Z","type":"message"}
{"nick":"yunong","reason":"Ping timeout: 246 seconds","date":"2013-07-17T14:11:05.530Z","type":"quit"}
{"nick":"tjfontaine","message":"anyway, I have to run, best of luck","date":"2013-07-17T14:11:06.755Z","type":"message"}
{"nick":"almostobsolete","message":"Thanks for your hekp","date":"2013-07-17T14:11:21.880Z","type":"message"}
{"nick":"almostobsolete","message":"*help","date":"2013-07-17T14:11:24.601Z","type":"message"}
{"nick":"|woody|","date":"2013-07-17T14:11:31.116Z","type":"join"}
{"nick":"almostobsolete","message":"If anyone else is around could you tell me what the disadvantages of having too many reducers are (if any)","date":"2013-07-17T14:17:01.308Z","type":"message"}
{"nick":"jcsp","date":"2013-07-17T14:25:30.345Z","type":"join"}
{"nick":"dap","date":"2013-07-17T14:29:59.993Z","type":"join"}
{"nick":"dap","message":"almostobselete: Unfortunately, there's not a lot you can see (yet).","date":"2013-07-17T14:31:07.126Z","type":"message"}
{"nick":"dap","message":"You can log whatever you want, of course, and save that to a debug object at the end","date":"2013-07-17T14:31:47.424Z","type":"message"}
{"nick":"Azbruh","date":"2013-07-17T14:34:04.211Z","type":"join"}
{"nick":"almostobsolete","message":"cool","date":"2013-07-17T14:48:03.853Z","type":"message"}
{"nick":"almostobsolete","message":"How much memory does a single mapper/reducer get to play with?","date":"2013-07-17T14:48:23.183Z","type":"message"}
{"nick":"chorrell_","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2013-07-17T14:49:03.210Z","type":"quit"}
{"nick":"yunong","date":"2013-07-17T14:50:39.717Z","type":"join"}
{"nick":"dap","message":"almostobsolete: 1GB by default, but customizable: http://apidocs.joyent.com/manta/jobs-reference.html#resource-usage-memory-and-disk-properties","date":"2013-07-17T14:57:56.114Z","type":"message"}
{"nick":"almostobsolete","message":"cool","date":"2013-07-17T14:58:10.266Z","type":"message"}
{"nick":"mcavage","date":"2013-07-17T15:25:19.293Z","type":"join"}
{"nick":"chorrell","date":"2013-07-17T15:27:24.866Z","type":"join"}
{"nick":"jcsp","reason":"Ping timeout: 268 seconds","date":"2013-07-17T15:36:17.207Z","type":"quit"}
{"nick":"mamash","date":"2013-07-17T15:36:39.994Z","type":"part"}
{"nick":"jcsp","date":"2013-07-17T15:41:40.178Z","type":"join"}
{"nick":"jcsp","reason":"Read error: Connection reset by peer","date":"2013-07-17T15:42:17.124Z","type":"quit"}
{"nick":"jcsp","date":"2013-07-17T15:43:10.695Z","type":"join"}
{"nick":"jcsp","reason":"Read error: Connection reset by peer","date":"2013-07-17T15:43:27.394Z","type":"quit"}
{"nick":"jcsp","date":"2013-07-17T15:44:26.206Z","type":"join"}
{"nick":"almostob`","date":"2013-07-17T15:47:25.804Z","type":"join"}
{"nick":"almostobsolete","reason":"Ping timeout: 240 seconds","date":"2013-07-17T15:50:16.147Z","type":"quit"}
{"nick":"jcsp","reason":"Read error: Connection reset by peer","date":"2013-07-17T15:50:47.970Z","type":"quit"}
{"nick":"jcsp","date":"2013-07-17T15:52:25.579Z","type":"join"}
{"nick":"fredk","date":"2013-07-17T15:54:04.779Z","type":"join"}
{"nick":"bcantrill","date":"2013-07-17T15:54:45.161Z","type":"join"}
{"nick":"jcsp","reason":"Read error: Connection reset by peer","date":"2013-07-17T15:55:48.363Z","type":"quit"}
{"nick":"jcsp","date":"2013-07-17T15:56:43.355Z","type":"join"}
{"nick":"jcsp","reason":"Read error: Connection reset by peer","date":"2013-07-17T15:59:48.952Z","type":"quit"}

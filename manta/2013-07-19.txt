{"nick":"dap","message":"mjn: Sorry for disappearing there.  mpipe always suppresses output, not just when it's last.","date":"2013-07-19T00:04:44.250Z","type":"message"}
{"nick":"mjn","message":"dap: but i thought if you do an mpipe in phase 1 of a 2-phase job it gets passed on tot he next phase? or am i misunderstanding?","date":"2013-07-19T00:05:38.068Z","type":"message"}
{"nick":"mjn","message":"or maybe i'm reading what 'output' means wrong","date":"2013-07-19T00:06:00.238Z","type":"message"}
{"nick":"nahamu","message":"mjn: I think mpipe writes to a manta object, not the next phase.","date":"2013-07-19T00:06:11.449Z","type":"message"}
{"nick":"dap","message":"mpipe always causes that output to be passed to the next phase, and it always causes the stdout of whatever task it's running in to be suppressed.","date":"2013-07-19T00:06:12.761Z","type":"message"}
{"nick":"nahamu","message":"nevermind, I was totally wrong.","date":"2013-07-19T00:06:22.791Z","type":"message"}
{"nick":"dap","message":"nahamu: Yeah, it's explicitly not a Manta object unless you name it :)","date":"2013-07-19T00:06:34.071Z","type":"message"}
{"nick":"bixu","reason":"Remote host closed the connection","date":"2013-07-19T00:06:34.886Z","type":"quit"}
{"nick":"mjn","message":"ah ok, that makes sense that, i was thinking of 'output' as in the default of stdout of a phase 1 goes to a phase 2, if you don't mpipe it and it's a 1-to-1 relationship","date":"2013-07-19T00:06:46.734Z","type":"message"}
{"nick":"mjn","message":"the comment in the mpipe manpage that it suppresses output made me worry it suppressed that part too","date":"2013-07-19T00:06:59.726Z","type":"message"}
{"nick":"dap","message":"It does seem like some elements may be overloaded here, but I'm not sure what should change.  We could separate \"pipe this stream to the next phase\" from \"name this output\", but of course, you might want to do both.","date":"2013-07-19T00:07:42.360Z","type":"message"}
{"nick":"dap","message":"But we could also provide special-case aliases that are clearer","date":"2013-07-19T00:08:04.781Z","type":"message"}
{"nick":"mjn","message":"yeah, i'm not even sure the current behavior is wrong, just wrapping my head around the difference between piping and piping-between-phases and naming-an-object","date":"2013-07-19T00:08:44.089Z","type":"message"}
{"nick":"dap","message":"That's fair.  If you think of something that could be clearer, do let us know :)","date":"2013-07-19T00:09:20.024Z","type":"message"}
{"nick":"mjn","message":"the default if you do nothing is that phases get piped and *not* named if they're not last, i believe; while mpipe in a non-final phase stops the local (within-phase) pipe *but* does pipe it to the next phase while also giving an opportunity to name it (mtee-like, but only at phase boundaries)","date":"2013-07-19T00:09:52.079Z","type":"message"}
{"nick":"mjn","message":"and mpipe in the final phase is more like >","date":"2013-07-19T00:09:58.950Z","type":"message"}
{"nick":"dap","message":"That sounds right.","date":"2013-07-19T00:10:50.574Z","type":"message"}
{"nick":"dap","message":"The two main use cases, really, are emitting multiple outputs from a given task (e.g., chunking up an input in some custom way for parallel processing in the next phase), and naming an output object (so you don't have to do the mln/mrm crap)","date":"2013-07-19T00:11:42.375Z","type":"message"}
{"nick":"mjn","message":"yeah that makes sense, those are my two use-cases also","date":"2013-07-19T00:12:05.686Z","type":"message"}
{"nick":"mjn","message":"but i was surprised that mpipe is both of them ;-)","date":"2013-07-19T00:12:10.663Z","type":"message"}
{"nick":"mjn","message":"i don't see anything in that that i can't work with, just took a bit to arrive it... mainly the slightly intertwined semantics of when things get piped on (within a phase and between phases) and when they get saved","date":"2013-07-19T00:12:30.714Z","type":"message"}
{"nick":"mjn","message":"i think i'd feel more comfortable with something like msave (kills any piping on in any case, saves the result to an object) vs. mpipe (pipes this onwards transiently, never saves to an object)","date":"2013-07-19T00:13:49.473Z","type":"message"}
{"nick":"mjn","message":"but it's not a strong preference","date":"2013-07-19T00:14:10.451Z","type":"message"}
{"nick":"mjn","message":"oh and mtee as the 3rd in that set, \"both pipes this on and saves it\"","date":"2013-07-19T00:15:45.282Z","type":"message"}
{"nick":"dap","message":"Yeah.","date":"2013-07-19T00:23:57.901Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-19T00:28:57.105Z","type":"quit"}
{"nick":"asonge","reason":"Read error: Connection reset by peer","date":"2013-07-19T00:58:10.749Z","type":"quit"}
{"nick":"notmatt","reason":"Read error: Connection reset by peer","date":"2013-07-19T01:48:35.634Z","type":"quit"}
{"nick":"notmatt","date":"2013-07-19T01:49:05.578Z","type":"join"}
{"nick":"yunong","reason":"Quit: Leaving.","date":"2013-07-19T01:53:20.885Z","type":"quit"}
{"nick":"fredk","reason":"Quit: Leaving.","date":"2013-07-19T01:54:10.477Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-19T02:00:26.479Z","type":"join"}
{"nick":"ghostbar","reason":"Remote host closed the connection","date":"2013-07-19T02:11:13.280Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-19T02:11:41.765Z","type":"join"}
{"nick":"ghostbar","reason":"Ping timeout: 240 seconds","date":"2013-07-19T02:15:50.618Z","type":"quit"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-07-19T02:32:57.904Z","type":"quit"}
{"nick":"bcantrill","reason":"Quit: Leaving.","date":"2013-07-19T02:36:22.949Z","type":"quit"}
{"nick":"yunong","date":"2013-07-19T03:07:44.664Z","type":"join"}
{"nick":"_Tenchi_","reason":"Quit: Leaving","date":"2013-07-19T03:09:11.437Z","type":"quit"}
{"nick":"yunong","reason":"Client Quit","date":"2013-07-19T03:10:59.612Z","type":"quit"}
{"nick":"mcavage","date":"2013-07-19T03:43:26.188Z","type":"join"}
{"nick":"mcavage","reason":"Ping timeout: 268 seconds","date":"2013-07-19T03:51:16.187Z","type":"quit"}
{"nick":"ghostbar_","date":"2013-07-19T04:04:06.485Z","type":"join"}
{"nick":"ghostbar_","reason":"Remote host closed the connection","date":"2013-07-19T05:03:59.737Z","type":"quit"}
{"nick":"ghostbar","date":"2013-07-19T05:04:31.326Z","type":"join"}
{"nick":"ghostbar","reason":"Ping timeout: 268 seconds","date":"2013-07-19T05:09:35.344Z","type":"quit"}
{"nick":"marsell","reason":"Quit: marsell","date":"2013-07-19T06:18:02.755Z","type":"quit"}
{"nick":"mamash","date":"2013-07-19T07:35:50.633Z","type":"join"}

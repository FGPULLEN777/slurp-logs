{"nick":"jhendricks","reason":"Quit: Leaving.","date":"2016-11-11T00:01:05.303Z","type":"quit"}
{"nick":"jhendricks","date":"2016-11-11T00:12:38.085Z","type":"join"}
{"nick":"therealkoopa","reason":"Remote host closed the connection","date":"2016-11-11T00:15:36.296Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T00:16:12.899Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 256 seconds","date":"2016-11-11T00:20:52.923Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T00:51:17.629Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 268 seconds","date":"2016-11-11T00:56:25.531Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T00:59:35.929Z","type":"join"}
{"nick":"chorrell","date":"2016-11-11T01:02:15.766Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 256 seconds","date":"2016-11-11T01:04:30.841Z","type":"quit"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2016-11-11T01:06:20.713Z","type":"quit"}
{"nick":"chorrell","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2016-11-11T01:18:11.845Z","type":"quit"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2016-11-11T01:20:01.091Z","type":"quit"}
{"nick":"ed209","date":"2016-11-11T01:20:08.919Z","type":"join"}
{"nick":"dap_","reason":"Quit: Leaving.","date":"2016-11-11T01:37:45.557Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T01:48:29.193Z","type":"join"}
{"nick":"therealkoopa","reason":"Remote host closed the connection","date":"2016-11-11T01:49:12.949Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T01:49:44.953Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 260 seconds","date":"2016-11-11T01:54:32.948Z","type":"quit"}
{"nick":"jhendricks","reason":"Quit: Leaving.","date":"2016-11-11T02:01:49.546Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T02:41:42.697Z","type":"join"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2016-11-11T02:43:56.643Z","type":"quit"}
{"nick":"therealkoopa","reason":"Remote host closed the connection","date":"2016-11-11T03:22:41.295Z","type":"quit"}
{"nick":"melloc","reason":"Quit: Leaving.","date":"2016-11-11T03:54:38.595Z","type":"quit"}
{"nick":"bahamat","date":"2016-11-11T03:56:23.464Z","type":"join"}
{"nick":"trentm","date":"2016-11-11T04:18:06.967Z","type":"join"}
{"nick":"therealkoopa","date":"2016-11-11T04:23:47.002Z","type":"join"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2016-11-11T04:26:24.901Z","type":"quit"}
{"nick":"therealkoopa","reason":"Ping timeout: 252 seconds","date":"2016-11-11T04:28:37.951Z","type":"quit"}
{"nick":"trentm","date":"2016-11-11T04:46:39.091Z","type":"join"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2016-11-11T04:55:20.434Z","type":"quit"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2016-11-11T04:56:18.527Z","type":"quit"}
{"nick":"trentm","date":"2016-11-11T04:58:06.602Z","type":"join"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2016-11-11T05:15:38.615Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T05:24:50.697Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 244 seconds","date":"2016-11-11T05:29:05.600Z","type":"quit"}
{"nick":"bahamat","date":"2016-11-11T05:58:02.824Z","type":"join"}
{"nick":"therealkoopa","date":"2016-11-11T06:25:35.529Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 258 seconds","date":"2016-11-11T06:30:20.471Z","type":"quit"}
{"nick":"mhicks","reason":"Quit: Leaving.","date":"2016-11-11T06:57:46.172Z","type":"quit"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2016-11-11T07:04:09.837Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T07:26:22.614Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 268 seconds","date":"2016-11-11T07:32:19.559Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T07:43:37.285Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 240 seconds","date":"2016-11-11T07:47:57.086Z","type":"quit"}
{"nick":"wizard113__","date":"2016-11-11T08:33:40.434Z","type":"join"}
{"nick":"therealkoopa","date":"2016-11-11T08:44:14.009Z","type":"join"}
{"nick":"wizard113__","reason":"Remote host closed the connection","date":"2016-11-11T08:44:52.713Z","type":"quit"}
{"nick":"therealkoopa","reason":"Ping timeout: 245 seconds","date":"2016-11-11T08:48:48.749Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T09:45:09.701Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 244 seconds","date":"2016-11-11T09:49:29.603Z","type":"quit"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2016-11-11T10:20:01.101Z","type":"quit"}
{"nick":"ed209","date":"2016-11-11T10:20:08.834Z","type":"join"}
{"nick":"therealkoopa","date":"2016-11-11T10:45:51.189Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 246 seconds","date":"2016-11-11T10:50:00.116Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T11:46:28.930Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 256 seconds","date":"2016-11-11T11:51:04.883Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T12:47:14.787Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 250 seconds","date":"2016-11-11T12:51:44.809Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T13:48:02.761Z","type":"join"}
{"nick":"therealkoopa","reason":"Ping timeout: 265 seconds","date":"2016-11-11T13:52:58.740Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T14:02:17.215Z","type":"join"}
{"nick":"therealkoopa","reason":"Remote host closed the connection","date":"2016-11-11T14:03:36.130Z","type":"quit"}
{"nick":"therealkoopa","date":"2016-11-11T14:03:57.862Z","type":"join"}
{"nick":"headw01","date":"2016-11-11T14:56:13.586Z","type":"join"}
{"nick":"therealkoopa","date":"2016-11-11T15:07:20.590Z","type":"quit"}
{"nick":"mhicks","date":"2016-11-11T15:27:54.672Z","type":"join"}
{"nick":"metsuke","message":"@bahamas10, it looks like the process stopped about a third of the way through uploading the files: manta-sync: AssertionError: undefined (object) is required","date":"2016-11-11T15:54:34.581Z","type":"message"}
{"nick":"metsuke","message":"I will try again though","date":"2016-11-11T15:54:44.689Z","type":"message"}
{"nick":"chorrell","date":"2016-11-11T16:35:36.683Z","type":"join"}
{"nick":"dap_","date":"2016-11-11T16:36:58.749Z","type":"join"}
{"nick":"chorrell","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2016-11-11T16:56:40.118Z","type":"quit"}
{"nick":"chorrell","date":"2016-11-11T17:06:29.723Z","type":"join"}
{"nick":"jhendricks","date":"2016-11-11T17:08:18.865Z","type":"join"}
{"nick":"bahamas10","message":"metsuke: well, at least it got past the initial file listing step - that's progress!","date":"2016-11-11T17:22:07.128Z","type":"message"}
{"nick":"bahamas10","message":"but, that error message is fairly lame.","date":"2016-11-11T17:22:35.032Z","type":"message"}
{"nick":"metsuke","message":"it's already done with 70K files out of 550K left, so it is still working much better than before.  I'll report back once anything else happens, thanks","date":"2016-11-11T17:30:33.520Z","type":"message"}
{"nick":"bahamas10","message":"metsuke: great. the patch in the `metsuke` branch definitely fixes the initial file listing memory exhausting bug... i'm just not sure why it would fail half way through like that","date":"2016-11-11T17:31:28.474Z","type":"message"}
{"nick":"bahamas10","message":"my initial thought would be the local file list becoming out of sync with the files after the list is created - are the files you are uploading still being modified?","date":"2016-11-11T17:32:10.866Z","type":"message"}
{"nick":"metsuke","message":"No, I didn't sync the files once I started trying to upload, so they should be the same","date":"2016-11-11T17:33:07.431Z","type":"message"}
{"nick":"bahamas10","message":"ok.  i'll try to come up with a patch to make error messages more verbose - having the filename and line number associated with that assertion is a must","date":"2016-11-11T17:35:04.573Z","type":"message"}
{"nick":"wizard113","date":"2016-11-11T17:46:17.674Z","type":"join"}
{"nick":"wizard113","reason":"Ping timeout: 265 seconds","date":"2016-11-11T17:51:44.716Z","type":"quit"}
{"nick":"bahamat","date":"2016-11-11T17:58:54.430Z","type":"join"}
{"nick":"chorrell","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2016-11-11T18:04:15.011Z","type":"quit"}
{"nick":"wizard113","date":"2016-11-11T18:04:34.582Z","type":"join"}
{"nick":"melloc","date":"2016-11-11T18:07:47.964Z","type":"join"}
{"nick":"metsuke","message":"hm, ran into it again after about 100K files","date":"2016-11-11T18:13:53.908Z","type":"message"}
{"nick":"wizard113","reason":"Remote host closed the connection","date":"2016-11-11T18:29:26.657Z","type":"quit"}
{"nick":"bahamas10","message":"metsuke: the stack from the error message is removed as a result of the manta client creation here https://github.com/joyent/node-manta/blob/master/lib/create_client.js#L243-L247","date":"2016-11-11T19:31:58.021Z","type":"message"}
{"nick":"bahamas10","message":"try running your script with the DEBUG env variable set to 1","date":"2016-11-11T19:32:10.272Z","type":"message"}
{"nick":"bahamas10","message":"ie. DEBUG=1 ./manta-sync ...","date":"2016-11-11T19:32:16.917Z","type":"message"}
{"nick":"bahamas10","message":"that way, when that error is encountered we will have a stacktrace to work with","date":"2016-11-11T19:32:41.856Z","type":"message"}
{"nick":"rmustacc","message":"bahamas10: Presumably you could go from the core, no?","date":"2016-11-11T19:37:25.115Z","type":"message"}
{"nick":"bahamas10","message":"metsuke: i don't know how to read it.  mdb and gdb don't seem to like it, and i know very little about what freebsd dumps","date":"2016-11-11T19:41:53.879Z","type":"message"}
{"nick":"metsuke","message":"I'm running with DEBUG=1","date":"2016-11-11T19:57:15.765Z","type":"message"}
{"nick":"bahamas10","message":"rmustacc i tagged metsuke accidentely, that last message was meant for you.","date":"2016-11-11T19:57:50.841Z","type":"message"}
{"nick":"bahamas10","message":"metsuke: great thanks; assuming it fails again we should know more","date":"2016-11-11T19:58:07.729Z","type":"message"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2016-11-11T20:20:00.969Z","type":"quit"}
{"nick":"ed209","date":"2016-11-11T20:20:08.823Z","type":"join"}
{"nick":"headw01","reason":"Read error: No route to host","date":"2016-11-11T21:05:32.232Z","type":"quit"}
{"nick":"metsuke","message":"bahamas10: https://gist.github.com/metsuke0/733726b995cee5619d2a240843b561e3","date":"2016-11-11T21:10:23.268Z","type":"message"}
{"nick":"metsuke","message":"that is the error","date":"2016-11-11T21:10:28.216Z","type":"message"}
{"nick":"melloc","message":"metsuke: Looks like it's this: https://github.com/joyent/node-manta/issues/261","date":"2016-11-11T21:27:25.704Z","type":"message"}
{"nick":"melloc","message":"It was fixed in a recent version of node-manta.","date":"2016-11-11T21:27:43.343Z","type":"message"}
{"nick":"melloc","message":"The release that contains the fix is 3.1.1.","date":"2016-11-11T21:29:42.933Z","type":"message"}
{"nick":"melloc","message":"But manta-sync depends on manta ~3.0.0.","date":"2016-11-11T21:29:59.701Z","type":"message"}
{"nick":"melloc","message":"Although that function is called when there's a read error, anyways.","date":"2016-11-11T21:30:54.030Z","type":"message"}
{"nick":"metsuke","message":"melloc: makes some sense then: https://gist.github.com/metsuke0/e4cff10bee26ef60f670babcd9205545","date":"2016-11-11T21:32:57.001Z","type":"message"}
{"nick":"melloc","message":"If you remove that manta@3.0.0, it should use the manta@3.1.3. You can then run it again, and hopefully get the other error it was trying to report.","date":"2016-11-11T21:35:02.452Z","type":"message"}
{"nick":"melloc","message":"(You could also bump the dependency in the package.json in the manta-sync folder and run npm install in that directory to pull down the newer one.)","date":"2016-11-11T21:35:36.025Z","type":"message"}
{"nick":"metsuke","message":"that sounds better, I chose the latter","date":"2016-11-11T21:37:03.406Z","type":"message"}
{"nick":"tho","date":"2016-11-11T21:42:15.288Z","type":"join"}
{"nick":"tho","date":"2016-11-11T21:43:36.102Z","type":"part"}
{"nick":"headw01","date":"2016-11-11T22:31:20.530Z","type":"join"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2016-11-11T23:00:59.951Z","type":"quit"}
{"nick":"bahamat","date":"2016-11-11T23:02:16.777Z","type":"join"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2016-11-11T23:17:22.696Z","type":"quit"}
{"nick":"bahamat","date":"2016-11-11T23:18:20.135Z","type":"join"}
{"nick":"jhendricks","reason":"Quit: Leaving.","date":"2016-11-11T23:21:41.796Z","type":"quit"}
{"nick":"jhendricks","date":"2016-11-11T23:22:26.710Z","type":"join"}
{"nick":"jhendricks","reason":"Client Quit","date":"2016-11-11T23:23:43.458Z","type":"quit"}
{"nick":"jhendricks","date":"2016-11-11T23:28:27.035Z","type":"join"}

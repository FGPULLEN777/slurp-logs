{"nick":"marsell","reason":"Quit: marsell","date":"2015-04-01T00:03:28.292Z","type":"quit"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2015-04-01T00:07:53.269Z","type":"quit"}
{"nick":"fredk","reason":"Quit: Leaving.","date":"2015-04-01T01:06:18.252Z","type":"quit"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2015-04-01T01:15:04.528Z","type":"quit"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2015-04-01T01:20:00.715Z","type":"quit"}
{"nick":"ed209","date":"2015-04-01T01:20:07.629Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 246 seconds","date":"2015-04-01T01:41:29.874Z","type":"quit"}
{"nick":"pmooney","date":"2015-04-01T01:53:46.143Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 265 seconds","date":"2015-04-01T02:23:10.364Z","type":"quit"}
{"nick":"pmooney","date":"2015-04-01T02:49:34.349Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 250 seconds","date":"2015-04-01T02:54:19.355Z","type":"quit"}
{"nick":"pmooney","date":"2015-04-01T03:00:02.210Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 256 seconds","date":"2015-04-01T03:15:43.280Z","type":"quit"}
{"nick":"trentm","date":"2015-04-01T03:51:59.211Z","type":"join"}
{"nick":"marsell","date":"2015-04-01T04:25:04.878Z","type":"join"}
{"nick":"pmooney","date":"2015-04-01T05:39:37.830Z","type":"join"}
{"nick":"bahamat","date":"2015-04-01T05:41:55.256Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 265 seconds","date":"2015-04-01T05:53:25.353Z","type":"quit"}
{"nick":"pmooney","date":"2015-04-01T06:18:59.168Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 248 seconds","date":"2015-04-01T06:23:49.246Z","type":"quit"}
{"nick":"marsell","reason":"Quit: marsell","date":"2015-04-01T06:25:41.477Z","type":"quit"}
{"nick":"trentm","reason":"Quit: Leaving.","date":"2015-04-01T06:54:53.305Z","type":"quit"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2015-04-01T08:13:53.999Z","type":"quit"}
{"nick":"bixu_","date":"2015-04-01T09:08:06.395Z","type":"join"}
{"nick":"marsell","date":"2015-04-01T09:22:15.287Z","type":"join"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2015-04-01T10:20:01.063Z","type":"quit"}
{"nick":"ed209","date":"2015-04-01T10:20:08.226Z","type":"join"}
{"nick":"chorrell","date":"2015-04-01T12:45:22.504Z","type":"join"}
{"nick":"pmooney","date":"2015-04-01T13:32:35.208Z","type":"join"}
{"nick":"pmooney","reason":"Ping timeout: 256 seconds","date":"2015-04-01T13:55:54.208Z","type":"quit"}
{"nick":"pmooney","date":"2015-04-01T13:57:37.170Z","type":"join"}
{"nick":"trentm","date":"2015-04-01T15:45:54.194Z","type":"join"}
{"nick":"fredk","date":"2015-04-01T16:25:57.174Z","type":"join"}
{"nick":"therealkoopa","date":"2015-04-01T16:51:21.527Z","type":"join"}
{"nick":"bahamat","date":"2015-04-01T18:08:19.315Z","type":"join"}
{"nick":"ryancnelson","date":"2015-04-01T18:38:22.655Z","type":"join"}
{"nick":"chorrell","reason":"Quit: My Mac has gone to sleep. ZZZzzzâ€¦","date":"2015-04-01T18:48:11.193Z","type":"quit"}
{"nick":"chorrell","date":"2015-04-01T18:57:48.877Z","type":"join"}
{"nick":"ryancnelson","date":"2015-04-01T19:17:17.793Z","type":"part"}
{"nick":"bixu_","message":"Has anyone considered an 'mmv' utility (I know, there is already a binary with that name...)","date":"2015-04-01T20:16:16.257Z","type":"message"}
{"nick":"trentm","message":"mantash in python-manta has it, becaseu I wanted it. :)","date":"2015-04-01T20:16:58.954Z","type":"message"}
{"nick":"bahamas10","message":"bixu_: mln foo bar && mrm foo ?","date":"2015-04-01T20:17:46.735Z","type":"message"}
{"nick":"bixu_","message":"Ah - I had not thought of that.","date":"2015-04-01T20:18:10.940Z","type":"message"}
{"nick":"bixu_","message":"The snaplink becomes the new file?","date":"2015-04-01T20:18:22.036Z","type":"message"}
{"nick":"bixu_","message":"Er, object?","date":"2015-04-01T20:18:31.283Z","type":"message"}
{"nick":"bahamas10","message":"yes, https://apidocs.joyent.com/manta/#snaplinks the example starting with \"you can mimic a move with SnapLinks\"","date":"2015-04-01T20:19:15.472Z","type":"message"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2015-04-01T20:20:00.298Z","type":"quit"}
{"nick":"ed209","date":"2015-04-01T20:20:07.253Z","type":"join"}
{"nick":"bixu_","message":"Yes that does work.","date":"2015-04-01T20:28:04.536Z","type":"message"}
{"nick":"trentm","message":"that's what mantash mv does","date":"2015-04-01T20:29:33.156Z","type":"message"}
{"nick":"bahamas10","message":"mmv() { mln \"$1\" \"$2\" && mrm \"$1\"; }","date":"2015-04-01T20:30:31.502Z","type":"message"}
{"nick":"bahamas10","message":"enjoy :D","date":"2015-04-01T20:30:33.541Z","type":"message"}
{"nick":"trentm","message":"-R ? ;)","date":"2015-04-01T20:31:23.378Z","type":"message"}
{"nick":"bahamas10","message":"aha, i'll leave that to someone else.","date":"2015-04-01T20:32:49.917Z","type":"message"}
{"nick":"bixu_","message":"lol yeah","date":"2015-04-01T20:51:37.376Z","type":"message"}
{"nick":"gkyildirim","date":"2015-04-01T21:01:48.842Z","type":"join"}
{"nick":"nahamu","message":"the hard part is if you want to rename a directory.","date":"2015-04-01T21:07:08.053Z","type":"message"}
{"nick":"nahamu","message":"you have to create the new one, snaplink in all the children, then remove the old ones","date":"2015-04-01T21:07:25.520Z","type":"message"}
{"nick":"nahamu","message":"trentm: does mantash have mv -R?","date":"2015-04-01T21:07:54.094Z","type":"message"}
{"nick":"nahamu","message":"https://github.com/joyent/python-manta/blob/master/bin/mantash#L1417 I guess so...","date":"2015-04-01T21:09:18.536Z","type":"message"}
{"nick":"trentm","message":"https://gist.github.com/trentm/1d69ad9b98dfe422c406","date":"2015-04-01T21:09:35.555Z","type":"message"}
{"nick":"trentm","message":"example run and help output: ^^^","date":"2015-04-01T21:09:39.386Z","type":"message"}
{"nick":"trentm","message":"sort of. It can move dirs and do the right thing to a point","date":"2015-04-01T21:09:47.016Z","type":"message"}
{"nick":"trentm","message":"it isn't as complete as your shell's `mv`","date":"2015-04-01T21:09:58.010Z","type":"message"}
{"nick":"nahamu","message":"right.","date":"2015-04-01T21:10:03.091Z","type":"message"}
{"nick":"nahamu","message":"will it work if the dir has one or more subdirs?","date":"2015-04-01T21:10:24.671Z","type":"message"}
{"nick":"gkyildirim","message":"Hello. Sorry if this was asked before. I am trying to figure out manta storage capacity requirements. If I need 100TB of capacity as well as node redundancy should I buy two server hardwares each of 100TBs? Or can I make 3 servers with 50TBs each (like RAID5 over servers)?","date":"2015-04-01T21:11:10.984Z","type":"message"}
{"nick":"nahamu","message":"100TB of logical capacity?","date":"2015-04-01T21:11:38.068Z","type":"message"}
{"nick":"gkyildirim","message":"net capacity","date":"2015-04-01T21:11:54.849Z","type":"message"}
{"nick":"nahamu","message":"by default Manta uses copies=2","date":"2015-04-01T21:11:58.997Z","type":"message"}
{"nick":"nahamu","message":"so if you want to store 100TB of objects all with copies=2 you need 200TB of disk usable by Manta.","date":"2015-04-01T21:12:38.567Z","type":"message"}
{"nick":"goekesmi","message":"gkyildirim: to your point, Manta doesn't do raid5 like redundancy over servers.","date":"2015-04-01T21:13:16.708Z","type":"message"}
{"nick":"nahamu","message":"(also, #manta exists and might be a good place to ask...)","date":"2015-04-01T21:13:21.925Z","type":"message"}
{"nick":"gkyildirim","message":"ok thx for answers","date":"2015-04-01T21:13:52.984Z","type":"message"}
{"nick":"nahamu","message":"oh, this is #manta","date":"2015-04-01T21:13:59.856Z","type":"message"}
{"nick":"gkyildirim","message":":)","date":"2015-04-01T21:14:06.419Z","type":"message"}
{"nick":"goekesmi","action":"chuckles.","date":"2015-04-01T21:14:10.993Z","type":"action"}
{"nick":"nahamu","action":"thought this was #smartos for some reason...","date":"2015-04-01T21:14:13.936Z","type":"action"}
{"nick":"goekesmi","message":"That's probably to your left a tab or two.","date":"2015-04-01T21:14:29.227Z","type":"message"}
{"nick":"trentm","message":"nahamu: yes, works with subdirs: https://gist.github.com/trentm/1d69ad9b98dfe422c406#file-example-run-subdirs-txt","date":"2015-04-01T21:14:31.319Z","type":"message"}
{"nick":"nahamu","message":"trentm: nice!","date":"2015-04-01T21:14:46.761Z","type":"message"}
{"nick":"bixu_","message":"Witchcraft!","date":"2015-04-01T21:15:08.996Z","type":"message"}
{"nick":"nahamu","message":"recursion and all that.","date":"2015-04-01T21:15:13.840Z","type":"message"}
{"nick":"nahamu","message":"gkyildirim: also, if you're using Manta, are you only storing objects or will you also be doing compute?","date":"2015-04-01T21:15:37.549Z","type":"message"}
{"nick":"nahamu","message":"because number of nodes might want to change depending on how much computation you anticipate.","date":"2015-04-01T21:15:54.857Z","type":"message"}
{"nick":"gkyildirim","message":"nahamu: I am looking for object store solution on illumos. I need 1PB of net space and will grow more Having double copies burns my pocket :(","date":"2015-04-01T21:18:10.154Z","type":"message"}
{"nick":"nahamu","message":"... goekesmi understood the question much better than I did. sorry for being silly...","date":"2015-04-01T21:18:18.547Z","type":"message"}
{"nick":"nahamu","message":"gkyildirim: well compression will buy you some of that back.","date":"2015-04-01T21:18:31.284Z","type":"message"}
{"nick":"gkyildirim","message":"Yes data is mostly jpegs and mpegs","date":"2015-04-01T21:18:58.065Z","type":"message"}
{"nick":"nahamu","message":"but yes, if you want objects resilient against an entire node failing you need copies > 1 and thus redundant data.","date":"2015-04-01T21:19:06.361Z","type":"message"}
{"nick":"gkyildirim","message":"*yes but","date":"2015-04-01T21:19:07.135Z","type":"message"}
{"nick":"nahamu","message":"right, if the objects are already pretty well compressed, zfs compression won't do a whole lot.","date":"2015-04-01T21:19:31.269Z","type":"message"}
{"nick":"goekesmi","message":"Note, if you can recreate data after a node loss (derived data) you can set copies independently on each object.","date":"2015-04-01T21:20:06.577Z","type":"message"}
{"nick":"goekesmi","message":"That can be useful in some cases.","date":"2015-04-01T21:20:13.459Z","type":"message"}
{"nick":"nahamu","message":"right, if half of your data are the results of a compute job, you could set copies=1 on those and recreate them after a node failure.","date":"2015-04-01T21:20:49.701Z","type":"message"}
{"nick":"goekesmi","message":"With data volumes of the size you are describing, gkyildirim, it's worth getting to understand your dataset well.","date":"2015-04-01T21:21:34.877Z","type":"message"}
{"nick":"goekesmi","message":"Another order of magnitude, I promote that to 'very well'.","date":"2015-04-01T21:22:10.692Z","type":"message"}
{"nick":"gkyildirim","message":"sadly data can not be created, i thought about that.","date":"2015-04-01T21:22:34.831Z","type":"message"}
{"nick":"nahamu","message":"can you afford to lose data?","date":"2015-04-01T21:23:04.444Z","type":"message"}
{"nick":"goekesmi","message":"Well then, I guess you are in the budget vs risk fight.","date":"2015-04-01T21:23:09.044Z","type":"message"}
{"nick":"gkyildirim","message":"goekesmi you are right. I was thinking of erasure coding ( at least it is what they call). RAID5 or RAID6 like servers will lower budget issues. However it is complicated so you take risk","date":"2015-04-01T21:24:52.138Z","type":"message"}
{"nick":"nahamu","message":"right, Manta does the erasure coding at the ZFS level to protect you from individual spindles dying.","date":"2015-04-01T21:25:26.070Z","type":"message"}
{"nick":"gkyildirim","message":"nahamu I should have an HA","date":"2015-04-01T21:25:29.280Z","type":"message"}
{"nick":"nahamu","message":"another thing to consider: does the project make money?","date":"2015-04-01T21:25:57.630Z","type":"message"}
{"nick":"nahamu","message":"because if you can plan out the expansion plan of rolling out additional storage nodes over time...","date":"2015-04-01T21:26:20.678Z","type":"message"}
{"nick":"nahamu","message":"ideally after some of the first ones have \"paid for themselves\"...","date":"2015-04-01T21:26:35.862Z","type":"message"}
{"nick":"gkyildirim","message":"nahamu it is not","date":"2015-04-01T21:27:13.162Z","type":"message"}
{"nick":"nahamu","message":"hmmm","date":"2015-04-01T21:27:57.751Z","type":"message"}
{"nick":"gkyildirim","message":"nahamu ZFS protects at spindle level but I need server redundancy as well","date":"2015-04-01T21:28:01.077Z","type":"message"}
{"nick":"goekesmi","message":"gkyildirim: as nahamu points out, your individual nodes have RAID5/6 equivilent erasure coding for protection against spindle loss (in rational default SDC server deploys)","date":"2015-04-01T21:28:10.882Z","type":"message"}
{"nick":"nahamu","message":"gkyildirim: sure, that's fine.","date":"2015-04-01T21:28:13.213Z","type":"message"}
{"nick":"goekesmi","message":"If you need server redundancy, you are going to need more than one copy, because you also need site redundancy at that point, and unless you have 3 or more sites, erasure coding across sites doesn't make any sense.","date":"2015-04-01T21:29:02.944Z","type":"message"}
{"nick":"goekesmi","message":"Also, network between those sites to handle the erasure coding is going to be significant.","date":"2015-04-01T21:29:21.612Z","type":"message"}
{"nick":"nahamu","message":"So one option is instead of paying ZFS to do erasure coding, you use some other object store that uses single spindles and does either duplication or erasure encoding across nodes,etc.","date":"2015-04-01T21:29:25.037Z","type":"message"}
{"nick":"goekesmi","message":"(I'm now speaking of hypothetical systems, and not manta)","date":"2015-04-01T21:29:40.565Z","type":"message"}
{"nick":"nahamu","message":"which depending on your budget and your risk tolerance (and lack of need for compute?) might be preferable.","date":"2015-04-01T21:30:12.378Z","type":"message"}
{"nick":"nahamu","message":"Manta, like everything else that comes out of Joyent is pretty opinionated.","date":"2015-04-01T21:30:36.211Z","type":"message"}
{"nick":"nahamu","message":"its opinions might not match your workload.","date":"2015-04-01T21:30:46.816Z","type":"message"}
{"nick":"gkyildirim","message":"Sadly","date":"2015-04-01T21:30:55.746Z","type":"message"}
{"nick":"gkyildirim","message":"Manta is great","date":"2015-04-01T21:31:03.603Z","type":"message"}
{"nick":"gkyildirim","message":"Data is well organized by years.","date":"2015-04-01T21:32:30.761Z","type":"message"}
{"nick":"bixu__","date":"2015-04-01T21:32:51.504Z","type":"join"}
{"nick":"gkyildirim","message":"Old data is mostly for archieve purposes","date":"2015-04-01T21:33:04.650Z","type":"message"}
{"nick":"gkyildirim","message":"Lets say I do not want HA for old data but I want HA for recent","date":"2015-04-01T21:33:25.632Z","type":"message"}
{"nick":"gkyildirim","message":"Is this possible?","date":"2015-04-01T21:33:34.811Z","type":"message"}
{"nick":"goekesmi","message":"Yes.","date":"2015-04-01T21:34:34.218Z","type":"message"}
{"nick":"goekesmi","message":"Set copies=2 for the new data.","date":"2015-04-01T21:34:42.547Z","type":"message"}
{"nick":"goekesmi","message":"Space expands as you expect it would.","date":"2015-04-01T21:34:51.116Z","type":"message"}
{"nick":"goekesmi","message":"Set copies=1 for the archive data.","date":"2015-04-01T21:35:04.172Z","type":"message"}
{"nick":"bixu_","reason":"Ping timeout: 250 seconds","date":"2015-04-01T21:35:21.405Z","type":"quit"}
{"nick":"gkyildirim","message":"that seems possible.","date":"2015-04-01T21:35:40.768Z","type":"message"}
{"nick":"gkyildirim","message":"Is it possible to expose all of data in a single namespace?","date":"2015-04-01T21:37:21.892Z","type":"message"}
{"nick":"goekesmi","message":"That's basically what manta does.","date":"2015-04-01T21:38:36.541Z","type":"message"}
{"nick":"goekesmi","message":"Heck, there is the nfs adapter, if that's really your thing.","date":"2015-04-01T21:38:51.557Z","type":"message"}
{"nick":"gkyildirim","message":"I was about to ask nfs :). Yep that!s my thing","date":"2015-04-01T21:39:18.019Z","type":"message"}
{"nick":"gkyildirim","message":"*thatâ€™s","date":"2015-04-01T21:39:30.202Z","type":"message"}
{"nick":"goekesmi","message":"It has exactly the sort of limitations that a posix adapter on to an object store implies.","date":"2015-04-01T21:39:55.245Z","type":"message"}
{"nick":"goekesmi","message":"If you can live with those, well NFS away.","date":"2015-04-01T21:40:07.881Z","type":"message"}
{"nick":"goekesmi","message":"https://github.com/joyent/manta-nfs","date":"2015-04-01T21:40:35.647Z","type":"message"}
{"nick":"fredk","reason":"Quit: Leaving.","date":"2015-04-01T21:41:25.649Z","type":"quit"}
{"nick":"gkyildirim","message":"Thanks for helping. I need to investigate further","date":"2015-04-01T21:41:50.452Z","type":"message"}
{"nick":"gkyildirim","date":"2015-04-01T21:42:56.244Z","type":"part"}
{"nick":"bahamas10","message":"anyone who uses bash may be interested in this function i use: murl() { for u in \"$@\"; do echo \"$MANTA_URL${u/#~~//$MANTA_USER}\"; done; }","date":"2015-04-01T22:09:35.873Z","type":"message"}
{"nick":"bahamas10","message":"it converts manta paths to URLs, ie.","date":"2015-04-01T22:09:53.576Z","type":"message"}
{"nick":"bahamas10","message":"$ murl ~~/public/foo /Joyent_Dev/public/bar","date":"2015-04-01T22:09:55.995Z","type":"message"}
{"nick":"bahamas10","message":"https://us-east.manta.joyent.com/bahamas10/public/foo","date":"2015-04-01T22:09:57.950Z","type":"message"}
{"nick":"bahamas10","message":"https://us-east.manta.joyent.com/Joyent_Dev/public/bar","date":"2015-04-01T22:09:59.949Z","type":"message"}
{"nick":"fredk","date":"2015-04-01T23:13:01.941Z","type":"join"}
{"nick":"bahamat","reason":"Quit: Leaving.","date":"2015-04-01T23:48:35.836Z","type":"quit"}
{"nick":"bahamat","date":"2015-04-01T23:54:09.280Z","type":"join"}

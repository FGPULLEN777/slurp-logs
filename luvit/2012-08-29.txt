{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-08-29T00:36:13.792Z","type":"quit"}
{"nick":"neopallium","message":"levi: mingw32 build of clang for Windows: http://llvm.org/releases/3.1/clang+llvm-3.1-i386-mingw32-EXPERIMENTAL.tar.bz2","date":"2012-08-29T00:40:19.082Z","type":"message"}
{"nick":"xming","reason":"Read error: Connection reset by peer","date":"2012-08-29T01:04:10.045Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-08-29T01:19:24.719Z","type":"join"}
{"nick":"CIA-22","message":"Ryan Phillips\u000f master\u000f * rcc715a4\u000f \u000f/ lib/luvit/http.lua :\u000f http: fix Host and chunking - http://git.io/7gUBDg","date":"2012-08-29T01:34:52.803Z","type":"message"}
{"nick":"CIA-22","message":"Ryan Phillips\u000f master\u000f * rc810e71\u000f \u000f/ (lib/luvit/utils.lua tests/test-utils.lua):\u000f Merge branch 'master' of github.com:luvit/luvit - http://git.io/XYscyA","date":"2012-08-29T01:34:53.048Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T01:36:56.239Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#428 (master - c810e71 : Ryan Phillips): The build passed.","date":"2012-08-29T01:36:56.491Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/97e52a029111...c810e715d01b","date":"2012-08-29T01:36:56.491Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/2267844","date":"2012-08-29T01:36:56.491Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T01:36:56.491Z","type":"part"}
{"nick":"elguapo99","date":"2012-08-29T02:01:31.435Z","type":"join"}
{"nick":"jbueza","reason":"Quit: jbueza","date":"2012-08-29T02:40:31.707Z","type":"quit"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-08-29T02:54:16.046Z","type":"nick"}
{"nick":"xming","date":"2012-08-29T03:00:39.368Z","type":"join"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-08-29T03:14:56.069Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-08-29T03:18:46.241Z","type":"nick"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-08-29T03:19:45.522Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-08-29T03:24:07.692Z","type":"nick"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-08-29T03:37:40.183Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-08-29T03:42:03.391Z","type":"nick"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-08-29T03:54:27.378Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-08-29T03:58:49.197Z","type":"nick"}
{"nick":"elguapo99","reason":"Ping timeout: 256 seconds","date":"2012-08-29T04:16:31.277Z","type":"quit"}
{"nick":"kristate","date":"2012-08-29T04:21:20.480Z","type":"join"}
{"nick":"take_cheeze","reason":"Quit: Leaving.","date":"2012-08-29T05:22:22.621Z","type":"quit"}
{"nick":"take_cheeze","date":"2012-08-29T05:32:07.904Z","type":"join"}
{"nick":"creationix","message":"I experimented with a strata-style http module I called web","date":"2012-08-29T06:02:01.874Z","type":"message"}
{"nick":"creationix","message":"https://github.com/creationix/luvit-server/blob/master/server.lua","date":"2012-08-29T06:02:02.552Z","type":"message"}
{"nick":"creationix","message":"it seems a lot easier to work with than node's API","date":"2012-08-29T06:02:10.470Z","type":"message"}
{"nick":"creationix","message":"and it makes composing middle wares a lot easier too","date":"2012-08-29T06:02:20.221Z","type":"message"}
{"nick":"creationix","message":"I wonder if we should remove the node-clone http api out of core","date":"2012-08-29T06:05:33.602Z","type":"message"}
{"nick":"creationix","message":"and let third-party modules compete at that level","date":"2012-08-29T06:05:41.503Z","type":"message"}
{"nick":"creationix","message":"I like this style much better than node's traditional interface","date":"2012-08-29T06:06:02.998Z","type":"message"}
{"nick":"dvv1","message":"\\o/","date":"2012-08-29T06:06:14.633Z","type":"message"}
{"nick":"creationix","message":"(I also want to experiment with :read() able streams, but that's for another day)","date":"2012-08-29T06:06:30.150Z","type":"message"}
{"nick":"dvv1","message":"I miss this kind of writing since luvit 0.0.0 :)","date":"2012-08-29T06:06:40.283Z","type":"message"}
{"nick":"creationix","message":"a node clone has value, but I don't like node's http interface","date":"2012-08-29T06:06:58.593Z","type":"message"}
{"nick":"creationix","message":"I designed stack and connect as a patch on node's api","date":"2012-08-29T06:07:09.298Z","type":"message"}
{"nick":"creationix","message":"but with this interface it's trivial to wrap layers","date":"2012-08-29T06:07:21.057Z","type":"message"}
{"nick":"dvv1","message":"i do believe we added object-ish bloat at too deep level","date":"2012-08-29T06:07:43.745Z","type":"message"}
{"nick":"creationix","message":"that too","date":"2012-08-29T06:07:50.824Z","type":"message"}
{"nick":"creationix","message":"but we were going for a robust implementation with full api compat","date":"2012-08-29T06:08:02.783Z","type":"message"}
{"nick":"creationix","message":"that requires a bit of bloat","date":"2012-08-29T06:08:06.635Z","type":"message"}
{"nick":"dvv1","message":"sure","date":"2012-08-29T06:08:14.993Z","type":"message"}
{"nick":"creationix","message":"but *i* personally don't want that","date":"2012-08-29T06:08:24.390Z","type":"message"}
{"nick":"creationix","message":"I'd rather make my own framework at a lower level","date":"2012-08-29T06:08:33.097Z","type":"message"}
{"nick":"dvv1","message":"^^^","date":"2012-08-29T06:08:44.811Z","type":"message"}
{"nick":"dvv1","message":"i would participate","date":"2012-08-29T06:08:51.306Z","type":"message"}
{"nick":"creationix","message":"feel free to mess with my demo repo","date":"2012-08-29T06:09:42.429Z","type":"message"}
{"nick":"creationix","message":"add a router middleware or something","date":"2012-08-29T06:09:48.806Z","type":"message"}
{"nick":"creationix","message":"or websockets ;)","date":"2012-08-29T06:09:52.501Z","type":"message"}
{"nick":"creationix","message":"the req.socket is the raw Tcp instance","date":"2012-08-29T06:10:06.162Z","type":"message"}
{"nick":"dvv1","message":"i kept attempting at making barebone C binding, but memory management in C is a swamp","date":"2012-08-29T06:10:12.173Z","type":"message"}
{"nick":"creationix","message":"well, the raw table containing a single user data (the uv_tcp_t struct)","date":"2012-08-29T06:10:49.036Z","type":"message"}
{"nick":"dvv1","message":"i believe you just relived http module from earlier luvit, right?","date":"2012-08-29T06:11:28.928Z","type":"message"}
{"nick":"creationix","message":"btw, if you haven't heard of the strata style, it's documented at http://stratajs.org/manual","date":"2012-08-29T06:11:44.427Z","type":"message"}
{"nick":"creationix","message":"I modified it a tiny bit to be easier to implement","date":"2012-08-29T06:11:53.009Z","type":"message"}
{"nick":"creationix","message":"but it's the same idea","date":"2012-08-29T06:11:56.566Z","type":"message"}
{"nick":"dvv1","message":"from that times that i developed websocket and sockjs-luvit","date":"2012-08-29T06:11:58.197Z","type":"message"}
{"nick":"dvv1","message":"cool","date":"2012-08-29T06:12:02.178Z","type":"message"}
{"nick":"creationix","message":"the big change from anything we've ever had is you don't get a writable response stream","date":"2012-08-29T06:12:17.477Z","type":"message"}
{"nick":"creationix","message":"if you want to stream to the client, you respond with statusCode, headers, and a readable stream","date":"2012-08-29T06:12:45.657Z","type":"message"}
{"nick":"creationix","message":"and then emit on that readable stream","date":"2012-08-29T06:12:49.972Z","type":"message"}
{"nick":"creationix","message":"and instead of next (which was a problem in lua anyway), you get the raw handle to the next middleware as app","date":"2012-08-29T06:13:26.095Z","type":"message"}
{"nick":"creationix","message":"just call app(req, res) if you want to punt","date":"2012-08-29T06:13:33.919Z","type":"message"}
{"nick":"creationix","message":"There is still a server object that's returned by createServer","date":"2012-08-29T06:14:59.837Z","type":"message"}
{"nick":"creationix","message":"it's the uv.Tcp instance","date":"2012-08-29T06:15:10.720Z","type":"message"}
{"nick":"creationix","message":"but onRequest isn't an event, it's a simple callback","date":"2012-08-29T06:15:32.864Z","type":"message"}
{"nick":"creationix","message":"there is no reason to have multiple listeners","date":"2012-08-29T06:15:41.291Z","type":"message"}
{"nick":"creationix","message":"oh, and I auto-parse the url while parsing the rest of http","date":"2012-08-29T06:16:23.641Z","type":"message"}
{"nick":"creationix","message":"so req.url is a table","date":"2012-08-29T06:16:27.445Z","type":"message"}
{"nick":"creationix","message":"req.url.path is needed by most everything","date":"2012-08-29T06:16:35.733Z","type":"message"}
{"nick":"creationix","message":"so why not pre-parse it","date":"2012-08-29T06:16:42.263Z","type":"message"}
{"nick":"creationix","message":"I'm not sure if I want to keep this directly on top of uv.Tcp or layer it on top of the net module","date":"2012-08-29T06:17:35.511Z","type":"message"}
{"nick":"creationix","message":"it's bare on uv for now","date":"2012-08-29T06:17:41.880Z","type":"message"}
{"nick":"creationix","message":"btw, req, res is short for \"request\" and \"respond\", the second is a verb to do the actual response","date":"2012-08-29T06:18:37.272Z","type":"message"}
{"nick":"creationix","message":"before it was \"request\" and \"response\" because it represented two streams","date":"2012-08-29T06:18:54.221Z","type":"message"}
{"nick":"creationix","message":"anyway, I need to go to bed, it's late here","date":"2012-08-29T06:20:29.584Z","type":"message"}
{"nick":"dvv1","message":"gnite, gjob, thanks!","date":"2012-08-29T06:21:04.300Z","type":"message"}
{"nick":"creationix","reason":"Read error: Operation timed out","date":"2012-08-29T06:22:36.276Z","type":"quit"}
{"nick":"creationix","date":"2012-08-29T06:57:40.983Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-29T07:16:42.141Z","type":"quit"}
{"nick":"arek_deepinit","date":"2012-08-29T07:25:37.635Z","type":"join"}
{"nick":"creationix","reason":"Ping timeout: 246 seconds","date":"2012-08-29T07:56:43.229Z","type":"quit"}
{"nick":"creationix","date":"2012-08-29T08:04:11.937Z","type":"join"}
{"nick":"`3rdEden","date":"2012-08-29T08:13:44.462Z","type":"join"}
{"nick":"dvv1","reason":"Remote host closed the connection","date":"2012-08-29T08:19:10.186Z","type":"quit"}
{"nick":"dvv","date":"2012-08-29T08:20:38.448Z","type":"join"}
{"nick":"creationix","reason":"Ping timeout: 245 seconds","date":"2012-08-29T10:17:38.291Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-29T10:26:40.431Z","type":"quit"}
{"nick":"jbueza","date":"2012-08-29T10:33:04.698Z","type":"join"}
{"nick":"creationix","date":"2012-08-29T11:15:14.475Z","type":"join"}
{"nick":"TheJH","date":"2012-08-29T11:27:49.918Z","type":"join"}
{"nick":"mmalecki","reason":"Read error: Connection reset by peer","date":"2012-08-29T11:41:49.575Z","type":"quit"}
{"nick":"kristate","reason":"Ping timeout: 264 seconds","date":"2012-08-29T11:46:02.456Z","type":"quit"}
{"nick":"mmalecki","date":"2012-08-29T11:47:22.389Z","type":"join"}
{"nick":"`3rdEden","date":"2012-08-29T11:50:55.447Z","type":"join"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-08-29T12:04:07.896Z","type":"nick"}
{"nick":"kristate","date":"2012-08-29T13:31:50.438Z","type":"join"}
{"nick":"dvv","reason":"Ping timeout: 260 seconds","date":"2012-08-29T13:33:53.451Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-08-29T13:42:23.718Z","type":"nick"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-08-29T13:44:14.597Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-29T13:47:46.196Z","type":"join"}
{"nick":"creationix","message":"morning","date":"2012-08-29T14:04:36.264Z","type":"message"}
{"nick":"creationix","message":"(evening, afternoon)","date":"2012-08-29T14:04:42.460Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-08-29T14:10:34.590Z","type":"quit"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-08-29T14:36:11.216Z","type":"nick"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-29T14:50:07.676Z","type":"quit"}
{"nick":"philips_","date":"2012-08-29T14:53:17.521Z","type":"join"}
{"nick":"rphillips","message":"good morning","date":"2012-08-29T15:03:10.572Z","type":"message"}
{"nick":"rphillips","message":"i patched the http client yesterday night","date":"2012-08-29T15:22:34.917Z","type":"message"}
{"nick":"rphillips","message":"it wasn't turning off chunking correctly on GET HEAD","date":"2012-08-29T15:22:47.905Z","type":"message"}
{"nick":"creationix","message":"nice","date":"2012-08-29T15:23:08.649Z","type":"message"}
{"nick":"creationix","message":"http is crazy complicated","date":"2012-08-29T15:23:13.625Z","type":"message"}
{"nick":"creationix","message":"rphillips, I think path.join is busted","date":"2012-08-29T15:27:13.341Z","type":"message"}
{"nick":"creationix","message":"I keep getting // in my joined paths","date":"2012-08-29T15:27:21.103Z","type":"message"}
{"nick":"creationix","action":"is writing a production quality static file server","date":"2012-08-29T15:27:43.314Z","type":"action"}
{"nick":"rphillips","message":"hmm.","date":"2012-08-29T15:28:58.345Z","type":"message"}
{"nick":"rphillips","message":"are the variables nil?","date":"2012-08-29T15:29:04.516Z","type":"message"}
{"nick":"xming","reason":"Changing host","date":"2012-08-29T15:30:02.707Z","type":"quit"}
{"nick":"xming","date":"2012-08-29T15:30:02.943Z","type":"join"}
{"nick":"creationix","message":"no, I'm doing pathJoin(string, anotherString)","date":"2012-08-29T15:35:48.511Z","type":"message"}
{"nick":"creationix","message":"nil values throw an error anyway in the table.concat inside join","date":"2012-08-29T15:36:04.487Z","type":"message"}
{"nick":"creationix","message":"for example, I fo path.join(\"/home/tim/server/public/\", \"/theme/\")","date":"2012-08-29T15:36:45.649Z","type":"message"}
{"nick":"creationix","message":"actually that first variable doesn't even end in a slash","date":"2012-08-29T15:37:16.931Z","type":"message"}
{"nick":"creationix","message":"require('path').join(\"/foo\", \"/bar/\") -> \"/foo//bar/\"","date":"2012-08-29T15:38:01.591Z","type":"message"}
{"nick":"`3rdEden","date":"2012-08-29T15:38:30.430Z","type":"join"}
{"nick":"creationix","message":"luvit version 0.5.0-139-geafbd61","date":"2012-08-29T15:38:36.474Z","type":"message"}
{"nick":"creationix","message":"but in other news, my experimental http interface is going well","date":"2012-08-29T15:40:26.151Z","type":"message"}
{"nick":"rphillips","message":"hmm. i'll take a look at some point today","date":"2012-08-29T15:41:42.987Z","type":"message"}
{"nick":"creationix","message":"rphillips, let me know when you have time. I want some feedback on the new http interface","date":"2012-08-29T15:42:27.782Z","type":"message"}
{"nick":"creationix","message":"the node clone is a lot of code and slow","date":"2012-08-29T15:42:36.373Z","type":"message"}
{"nick":"`3rdEden","reason":"Ping timeout: 264 seconds","date":"2012-08-29T15:43:02.430Z","type":"quit"}
{"nick":"rphillips","message":"oh","date":"2012-08-29T15:44:48.762Z","type":"message"}
{"nick":"rphillips","message":"is there a PR?","date":"2012-08-29T15:44:50.651Z","type":"message"}
{"nick":"rphillips","message":"creationix: ^?","date":"2012-08-29T15:47:34.311Z","type":"message"}
{"nick":"creationix","message":"hmm, fs.createReadStream and :pipe don't seem to work either http://luvit.io:8080/logo.png","date":"2012-08-29T15:47:36.631Z","type":"message"}
{"nick":"creationix","message":"node 0.2.x had the same pipe issues","date":"2012-08-29T15:47:46.512Z","type":"message"}
{"nick":"creationix","message":"rphillips, no PR, just a proof-of-concept so far https://github.com/creationix/luvit-server","date":"2012-08-29T15:48:10.731Z","type":"message"}
{"nick":"creationix","message":"at the moment it's the \"web\" module and it sits directly on top of the \"uv\" and \"http_parser\" modules","date":"2012-08-29T15:48:32.350Z","type":"message"}
{"nick":"creationix","message":"I'm trying to deploy it to luvit.io as soon as I fix the path.join and fs.createReadStream issues","date":"2012-08-29T15:48:58.440Z","type":"message"}
{"nick":"elguapo99","date":"2012-08-29T15:55:05.931Z","type":"join"}
{"nick":"rphillips","message":"sweet","date":"2012-08-29T15:59:23.248Z","type":"message"}
{"nick":"creationix","message":"strange, it's working now","date":"2012-08-29T15:59:49.210Z","type":"message"}
{"nick":"creationix","message":"does luvit.io:8080 work for you?","date":"2012-08-29T15:59:54.729Z","type":"message"}
{"nick":"rphillips","message":"yes","date":"2012-08-29T16:00:12.678Z","type":"message"}
{"nick":"rphillips","message":"page loads","date":"2012-08-29T16:00:14.863Z","type":"message"}
{"nick":"creationix","message":"and it doesn't look all messed up","date":"2012-08-29T16:00:31.233Z","type":"message"}
{"nick":"rphillips","message":"looks fine to me","date":"2012-08-29T16:00:40.107Z","type":"message"}
{"nick":"rphillips","message":"css is there","date":"2012-08-29T16:00:41.516Z","type":"message"}
{"nick":"rphillips","message":"images","date":"2012-08-29T16:00:44.009Z","type":"message"}
{"nick":"creationix","message":"oh strange, it's broken for me on linux, but works on osx","date":"2012-08-29T16:01:45.649Z","type":"message"}
{"nick":"creationix","message":"both latest chrome","date":"2012-08-29T16:01:47.887Z","type":"message"}
{"nick":"creationix","message":"err, I mean broken on Windows, haven't tried linux yet","date":"2012-08-29T16:02:14.388Z","type":"message"}
{"nick":"creationix","message":"I think my windows chrome is busted","date":"2012-08-29T16:02:42.292Z","type":"message"}
{"nick":"creationix","message":"it was doing that for microsoft.com the other day","date":"2012-08-29T16:02:47.890Z","type":"message"}
{"nick":"rphillips","message":"weird","date":"2012-08-29T16:03:26.016Z","type":"message"}
{"nick":"creationix","message":"hmm, busted on Android too","date":"2012-08-29T16:04:17.897Z","type":"message"}
{"nick":"creationix","message":"sounds like it's affected by the network stack","date":"2012-08-29T16:04:39.923Z","type":"message"}
{"nick":"creationix","message":"I'll bet it's not sending more than one packet per resource","date":"2012-08-29T16:04:50.154Z","type":"message"}
{"nick":"creationix","message":"do you guys use createReadStream?","date":"2012-08-29T16:05:20.153Z","type":"message"}
{"nick":"creationix","message":"or stream.pipe","date":"2012-08-29T16:05:26.472Z","type":"message"}
{"nick":"rphillips","message":"rarely","date":"2012-08-29T16:05:35.416Z","type":"message"}
{"nick":"rphillips","message":"i believe we use pipe for sockets","date":"2012-08-29T16:05:43.521Z","type":"message"}
{"nick":"rphillips","message":"not for file streams","date":"2012-08-29T16:05:45.907Z","type":"message"}
{"nick":"creationix","message":"I am bypassing the net module","date":"2012-08-29T16:06:44.830Z","type":"message"}
{"nick":"creationix","message":"so I'm :pipe ing directly to the uv.Tcp instance","date":"2012-08-29T16:07:09.431Z","type":"message"}
{"nick":"kevwil","date":"2012-08-29T16:14:55.695Z","type":"join"}
{"nick":"joshthecoder","date":"2012-08-29T16:22:08.663Z","type":"join"}
{"nick":"elguapo99","reason":"Ping timeout: 264 seconds","date":"2012-08-29T16:38:50.427Z","type":"quit"}
{"nick":"creationix","message":"ok, so the cutoff problem was close being called before write's callback was called","date":"2012-08-29T16:42:23.320Z","type":"message"}
{"nick":"creationix","message":"I guess libuv doesn't wait till all writes are done before closing","date":"2012-08-29T16:46:51.839Z","type":"message"}
{"nick":"creationix","message":"just waits till all reqs are done before calling the close callback","date":"2012-08-29T16:47:04.286Z","type":"message"}
{"nick":"creationix","message":"ahh, but shutdown does wait for pending writes, perfect","date":"2012-08-29T16:47:51.350Z","type":"message"}
{"nick":"luastoned","date":"2012-08-29T17:00:37.425Z","type":"join"}
{"nick":"ajacksified","date":"2012-08-29T17:21:03.734Z","type":"join"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T17:28:13.051Z","type":"quit"}
{"nick":"kevwil","date":"2012-08-29T17:32:28.620Z","type":"join"}
{"nick":"`3rdEden","date":"2012-08-29T17:33:00.869Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-08-29T17:33:04.656Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-29T17:39:36.512Z","type":"join"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T17:42:36.969Z","type":"quit"}
{"nick":"kevwil","date":"2012-08-29T17:44:26.245Z","type":"join"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * r6dd3530\u000f \u000f/ 0.5.0/luvit.tar.gz :\u000f Add symlink to source tarball - http://git.io/0JW61g","date":"2012-08-29T17:54:26.526Z","type":"message"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * ra65e223\u000f \u000f/ (7 files in 2 dirs):\u000f Rewrite server using web module - http://git.io/v_k-rA","date":"2012-08-29T17:55:33.122Z","type":"message"}
{"nick":"creationix","message":"alright luvit.io is running on latest luvit from git and using the new web module","date":"2012-08-29T18:06:52.448Z","type":"message"}
{"nick":"creationix","message":"it should support conditional gets with 304 responses as well as HEAD requests","date":"2012-08-29T18:07:06.837Z","type":"message"}
{"nick":"creationix","message":"the directory listing using chunked encoding and static files stream using a known Content-Length","date":"2012-08-29T18:07:30.075Z","type":"message"}
{"nick":"creationix","message":"oh, and you can get the pre-built binaries from luvit.io now instead of browsing on github http://luvit.io/dist/latest/","date":"2012-08-29T18:07:57.973Z","type":"message"}
{"nick":"creationix","message":"it's a lot faster","date":"2012-08-29T18:08:00.283Z","type":"message"}
{"nick":"creationix","message":"now to fix that path.join issue","date":"2012-08-29T18:08:10.583Z","type":"message"}
{"nick":"elguapo99","date":"2012-08-29T18:11:32.427Z","type":"join"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T18:19:16.485Z","type":"quit"}
{"nick":"rphillips","message":"slick","date":"2012-08-29T18:23:27.029Z","type":"message"}
{"nick":"kevwil","date":"2012-08-29T18:29:39.537Z","type":"join"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * re4f3818\u000f \u000f/ (lib/luvit/path.lua tests/test-path.lua):\u000f Fix path.join to remove inner slashes when joining - http://git.io/TD2pIA","date":"2012-08-29T18:32:48.626Z","type":"message"}
{"nick":"creationix","message":"hmm, pull request fail","date":"2012-08-29T18:33:00.085Z","type":"message"}
{"nick":"creationix","message":"rphillips, care to review the code I accidentally pushed to master? https://github.com/luvit/luvit/commit/e4f3818e840e3c48e19b9418805378aad98d2af6","date":"2012-08-29T18:33:23.457Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T18:35:28.869Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#430 (master - e4f3818 : Tim Caswell): The build passed.","date":"2012-08-29T18:35:29.112Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/c810e715d01b...e4f3818e840e","date":"2012-08-29T18:35:29.112Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/2275806","date":"2012-08-29T18:35:29.112Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T18:35:29.112Z","type":"part"}
{"nick":"rphillips","message":"checking","date":"2012-08-29T18:37:19.459Z","type":"message"}
{"nick":"rphillips","message":"creationix: lgtm","date":"2012-08-29T18:39:26.821Z","type":"message"}
{"nick":"creationix","message":"now all that's missing in my static file server is range requests","date":"2012-08-29T18:39:47.852Z","type":"message"}
{"nick":"creationix","message":"and some good battle testing","date":"2012-08-29T18:39:57.038Z","type":"message"}
{"nick":"creationix","message":"I'm really liking the new http interface","date":"2012-08-29T18:40:17.742Z","type":"message"}
{"nick":"creationix","message":"(the \"web\" module)","date":"2012-08-29T18:40:24.533Z","type":"message"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T18:43:20.138Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-29T18:44:01.833Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-29T18:46:13.418Z","type":"join"}
{"nick":"kevwil","date":"2012-08-29T18:46:37.936Z","type":"join"}
{"nick":"luastoned","reason":"Ping timeout: 264 seconds","date":"2012-08-29T18:50:14.421Z","type":"quit"}
{"nick":"elguapo99","reason":"Ping timeout: 264 seconds","date":"2012-08-29T18:56:50.419Z","type":"quit"}
{"nick":"levi","message":"It looks nice, but I can't recall how it differs from the previous node-like interface anymore. :)","date":"2012-08-29T19:01:46.815Z","type":"message"}
{"nick":"kristate_","date":"2012-08-29T19:02:06.378Z","type":"join"}
{"nick":"kristate","reason":"Read error: Connection reset by peer","date":"2012-08-29T19:02:08.460Z","type":"quit"}
{"nick":"kristate_","new_nick":"kristate","date":"2012-08-29T19:02:09.067Z","type":"nick"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T19:07:37.724Z","type":"quit"}
{"nick":"creationix","message":"levi, the new interface is a lot like wsgi and friends","date":"2012-08-29T19:10:50.650Z","type":"message"}
{"nick":"creationix","message":"the old one gave you a readable and a writable stream","date":"2012-08-29T19:11:00.004Z","type":"message"}
{"nick":"creationix","message":"with custom methods and properties on both","date":"2012-08-29T19:11:06.652Z","type":"message"}
{"nick":"creationix","message":"in particular middleware with the node style require an external helper library like stack or connect","date":"2012-08-29T19:11:50.586Z","type":"message"}
{"nick":"creationix","message":"but with the wsgi model, you just nest app functions inside eachother","date":"2012-08-29T19:12:01.585Z","type":"message"}
{"nick":"creationix","message":"no need for a middleware dispatching library","date":"2012-08-29T19:12:12.243Z","type":"message"}
{"nick":"creationix","message":"alright, so who knows how keepalive is supposed to work","date":"2012-08-29T19:12:40.420Z","type":"message"}
{"nick":"mmalecki","message":"creationix: well, it just means not closing the connection after you get a request","date":"2012-08-29T19:14:41.015Z","type":"message"}
{"nick":"mmalecki","message":"er, send a req and receive a res","date":"2012-08-29T19:14:50.736Z","type":"message"}
{"nick":"mmalecki","message":"it's on by default in http/1.1","date":"2012-08-29T19:15:03.759Z","type":"message"}
{"nick":"indexzero","date":"2012-08-29T19:15:31.576Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-08-29T19:15:37.860Z","type":"quit"}
{"nick":"indexzero","date":"2012-08-29T19:15:58.657Z","type":"join"}
{"nick":"mmalecki","message":"creationix: what do you want to know, exactly?","date":"2012-08-29T19:16:11.110Z","type":"message"}
{"nick":"luastoned","date":"2012-08-29T19:16:37.416Z","type":"join"}
{"nick":"kristate","reason":"Read error: Connection reset by peer","date":"2012-08-29T19:20:32.573Z","type":"quit"}
{"nick":"kristate","date":"2012-08-29T19:21:27.268Z","type":"join"}
{"nick":"levi","message":"creationix: How does data flow betweeen middleware layers?  Is it just standard call parameters/returns?","date":"2012-08-29T19:29:21.404Z","type":"message"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * re94548f\u000f \u000f/ (10 files in 5 dirs):\u000f Copy web demo into examples folder - http://git.io/PyJDEw","date":"2012-08-29T19:30:12.617Z","type":"message"}
{"nick":"creationix","message":"an \"app\" is a function that takes (request, respond)","date":"2012-08-29T19:30:42.384Z","type":"message"}
{"nick":"creationix","message":"respond if a function that takes (code, headers, body)","date":"2012-08-29T19:30:52.494Z","type":"message"}
{"nick":"creationix","message":"so a middleware app is passed a reference to the next most inner app","date":"2012-08-29T19:31:08.030Z","type":"message"}
{"nick":"creationix","message":"for example, see this logging middleware https://github.com/luvit/luvit/blob/master/examples/web-app/modules/log.lua","date":"2012-08-29T19:31:36.853Z","type":"message"}
{"nick":"creationix","message":"it replaces the respond function with it's own to intercept the callback and pull out the statis code","date":"2012-08-29T19:32:19.119Z","type":"message"}
{"nick":"creationix","message":"and here is the big one that does static file serving as well as directory auto-indexing https://github.com/luvit/luvit/blob/master/examples/web-app/modules/static.lua","date":"2012-08-29T19:33:02.084Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T19:33:04.113Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#431 (master - e94548f : Tim Caswell): The build passed.","date":"2012-08-29T19:33:04.360Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/e4f3818e840e...e94548f36fb9","date":"2012-08-29T19:33:04.360Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/2276318","date":"2012-08-29T19:33:04.360Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T19:33:04.360Z","type":"part"}
{"nick":"levi","message":"So an app is a function that takes an app and returns a function(request,respond)?","date":"2012-08-29T19:33:16.455Z","type":"message"}
{"nick":"levi","message":"Or is it just middleware apps that are structured that way?","date":"2012-08-29T19:33:42.302Z","type":"message"}
{"nick":"creationix","message":"right, middleware takes in an app and returns a new wrapped app","date":"2012-08-29T19:33:59.815Z","type":"message"}
{"nick":"creationix","message":"and the main web interface just asks for the outer-most app","date":"2012-08-29T19:34:09.089Z","type":"message"}
{"nick":"creationix","message":"here is a simple non-middleware app https://github.com/luvit/luvit/blob/master/examples/web-app/server.lua#L6-17","date":"2012-08-29T19:34:49.305Z","type":"message"}
{"nick":"creationix","message":"I'm getting 40k requests per second with server-hello.lua","date":"2012-08-29T19:36:29.065Z","type":"message"}
{"nick":"levi","message":"Nice.","date":"2012-08-29T19:36:38.209Z","type":"message"}
{"nick":"creationix","message":"let me compare with the old one and node","date":"2012-08-29T19:36:39.257Z","type":"message"}
{"nick":"levi","message":"It's a very functional approach.  I like it.","date":"2012-08-29T19:36:47.868Z","type":"message"}
{"nick":"creationix","message":"yeah, me too","date":"2012-08-29T19:36:59.641Z","type":"message"}
{"nick":"creationix","message":"it's more composable than the stack method too","date":"2012-08-29T19:37:12.345Z","type":"message"}
{"nick":"levi","message":"That's the great thing about functional approaches.","date":"2012-08-29T19:37:26.147Z","type":"message"}
{"nick":"levi","message":"Composition is a wonderful thing!","date":"2012-08-29T19:37:38.588Z","type":"message"}
{"nick":"levi","message":"I've been playing with Haskell lately, and Haskellers take compositional properties very seriously. :)","date":"2012-08-29T19:38:01.213Z","type":"message"}
{"nick":"creationix","message":"stack composes functions too in the helper library","date":"2012-08-29T19:38:01.617Z","type":"message"}
{"nick":"creationix","message":"but wrapping the body stream is near impossible","date":"2012-08-29T19:38:11.950Z","type":"message"}
{"nick":"creationix","message":"and other things don't work well","date":"2012-08-29T19:38:17.972Z","type":"message"}
{"nick":"levi","message":"The haskell guys have figured out how to compose streams, but it's not trivial!","date":"2012-08-29T19:38:47.750Z","type":"message"}
{"nick":"kristate","reason":"Ping timeout: 265 seconds","date":"2012-08-29T19:43:07.314Z","type":"quit"}
{"nick":"ajacksified","date":"2012-08-29T19:45:56.059Z","type":"part"}
{"nick":"creationix","message":"my benchmark was off","date":"2012-08-29T19:46:05.885Z","type":"message"}
{"nick":"creationix","message":"I was logging http trace data on a terminal","date":"2012-08-29T19:46:12.123Z","type":"message"}
{"nick":"creationix","message":"ok, the old http / stack combo gets ~3k per second","date":"2012-08-29T19:46:40.441Z","type":"message"}
{"nick":"creationix","message":"(in luvit)","date":"2012-08-29T19:46:46.506Z","type":"message"}
{"nick":"creationix","message":"the new one gets about 50K","date":"2012-08-29T19:47:21.229Z","type":"message"}
{"nick":"creationix","message":"I'd say that's an improvement!","date":"2012-08-29T19:47:26.684Z","type":"message"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * rf6fccfc\u000f \u000f/ (2 files in 2 dirs):\u000f Add two hello benchmark apps - http://git.io/Rca42g","date":"2012-08-29T19:48:09.833Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/luvit/blob/master/examples/web-app/server-hello.lua vs https://github.com/luvit/luvit/blob/master/examples/app/server-hello.lua","date":"2012-08-29T19:48:31.271Z","type":"message"}
{"nick":"creationix","message":"and I think the faster one actually sends more headers","date":"2012-08-29T19:48:46.411Z","type":"message"}
{"nick":"rphillips","message":"wow nice","date":"2012-08-29T19:49:51.115Z","type":"message"}
{"nick":"creationix","message":"now the question is how much am I cheating","date":"2012-08-29T19:50:42.230Z","type":"message"}
{"nick":"creationix","message":"I don't have all the features of net + http","date":"2012-08-29T19:50:53.565Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T19:51:01.475Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#432 (master - f6fccfc : Tim Caswell): The build passed.","date":"2012-08-29T19:51:01.714Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/e94548f36fb9...f6fccfcabd18","date":"2012-08-29T19:51:01.714Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/2276540","date":"2012-08-29T19:51:01.714Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-29T19:51:01.714Z","type":"part"}
{"nick":"creationix","message":"I still think it will be a lot faster since the new interface is easier to implement","date":"2012-08-29T19:51:23.648Z","type":"message"}
{"nick":"kevwil","date":"2012-08-29T19:54:25.407Z","type":"join"}
{"nick":"creationix","message":"https://gist.github.com/3517969","date":"2012-08-29T20:01:12.625Z","type":"message"}
{"nick":"rphillips","message":"damn","date":"2012-08-29T20:01:57.519Z","type":"message"}
{"nick":"creationix","message":"old luvit = 2489.87, new luvit = 47989.90, node = 22663.94","date":"2012-08-29T20:01:58.307Z","type":"message"}
{"nick":"rphillips","message":"47989.90","date":"2012-08-29T20:01:59.719Z","type":"message"}
{"nick":"creationix","message":"not sure why old luvit is so freaking slow","date":"2012-08-29T20:02:07.060Z","type":"message"}
{"nick":"rphillips","message":"what changed?","date":"2012-08-29T20:02:26.849Z","type":"message"}
{"nick":"creationix","message":"I rewrote the http layer completely ;)","date":"2012-08-29T20:02:50.251Z","type":"message"}
{"nick":"creationix","message":"same luvit binary","date":"2012-08-29T20:03:03.742Z","type":"message"}
{"nick":"creationix","message":"here is the new http layer https://github.com/luvit/luvit/blob/master/examples/web-app/modules/web.lua","date":"2012-08-29T20:04:23.339Z","type":"message"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-29T20:04:27.203Z","type":"quit"}
{"nick":"creationix","message":"and auto-date, auto-chunked, auto-length, etc at https://github.com/luvit/luvit/blob/master/examples/web-app/modules/cleanup.lua","date":"2012-08-29T20:04:54.682Z","type":"message"}
{"nick":"creationix","message":"anyway, I need to run some errands, I'll be back in an hour or so","date":"2012-08-29T20:05:39.793Z","type":"message"}
{"nick":"philips_","date":"2012-08-29T20:05:49.057Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-29T20:10:52.183Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-29T20:10:59.829Z","type":"quit"}
{"nick":"philips_","date":"2012-08-29T20:12:19.543Z","type":"join"}
{"nick":"bakins","date":"2012-08-29T20:23:29.426Z","type":"join"}
{"nick":"creationix","message":"back..","date":"2012-08-29T20:41:54.102Z","type":"message"}
{"nick":"CIA-22","message":"Tim Caswell\u000f master\u000f * r0b1c7a5\u000f \u000f/ (modules/cleanup.lua modules/web.lua server.lua):\u000f Update to latest version of web module to get working keepalive - http://git.io/LLs2Wg","date":"2012-08-29T20:46:13.534Z","type":"message"}
{"nick":"creationix","message":"hmm, I seem to have messed up with keepalive again","date":"2012-08-29T20:56:14.539Z","type":"message"}
{"nick":"creationix","message":"luvit.io doesn't always load all the resources","date":"2012-08-29T20:56:21.728Z","type":"message"}
{"nick":"levi","message":"Why would keepalive cause it to not load all the resources?","date":"2012-08-29T21:11:47.242Z","type":"message"}
{"nick":"indexzero","date":"2012-08-29T21:14:44.747Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-08-29T21:14:50.830Z","type":"quit"}
{"nick":"creationix","message":"no idea","date":"2012-08-29T21:22:01.061Z","type":"message"}
{"nick":"creationix","message":"but the images simply fail to finish sometimes in chrome","date":"2012-08-29T21:22:10.465Z","type":"message"}
{"nick":"creationix","message":"and sometimes I see the images mixed up on the website","date":"2012-08-29T21:22:25.186Z","type":"message"}
{"nick":"levi","message":"Odd.","date":"2012-08-29T21:29:49.221Z","type":"message"}
{"nick":"levi","message":"I would expect that if keepalive were an issue, it would close the connection after a response was completed and the client would just open a new connection for the next request.","date":"2012-08-29T21:30:37.176Z","type":"message"}
{"nick":"creationix","message":"I guess I need to start sniffing packets","date":"2012-08-29T21:33:41.965Z","type":"message"}
{"nick":"creationix","message":"or write some tcp level unit tests","date":"2012-08-29T21:33:48.990Z","type":"message"}
{"nick":"creationix","message":"strange, it only has issues every other refresh","date":"2012-08-29T21:36:56.816Z","type":"message"}
{"nick":"rphillips","message":"perhaps the browser is caching the connection?","date":"2012-08-29T21:37:29.121Z","type":"message"}
{"nick":"levi","message":"Wireshark is more fun. :)","date":"2012-08-29T21:40:30.952Z","type":"message"}
{"nick":"luastoned","reason":"Quit: Leaving.","date":"2012-08-29T21:46:16.878Z","type":"quit"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T21:54:09.969Z","type":"quit"}
{"nick":"kevwil","date":"2012-08-29T21:54:41.687Z","type":"join"}
{"nick":"kevwil","reason":"Read error: Connection reset by peer","date":"2012-08-29T22:16:11.554Z","type":"quit"}
{"nick":"kevwil","date":"2012-08-29T22:16:58.813Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 244 seconds","date":"2012-08-29T22:34:16.656Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-29T22:34:56.547Z","type":"quit"}
{"nick":"philips_","date":"2012-08-29T22:38:49.165Z","type":"join"}
{"nick":"jelliott_","reason":"Ping timeout: 252 seconds","date":"2012-08-29T22:39:18.102Z","type":"quit"}
{"nick":"bakins","reason":"Quit: bakins","date":"2012-08-29T22:47:54.592Z","type":"quit"}
{"nick":"kevwil","reason":"Quit: WeeChat 0.3.8","date":"2012-08-29T22:55:43.710Z","type":"quit"}
{"nick":"arek_deepinit","reason":"Quit: Konversation terminated!","date":"2012-08-29T23:03:37.155Z","type":"quit"}
{"nick":"jelliott","date":"2012-08-29T23:15:05.537Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: gnite!","date":"2012-08-29T23:22:27.168Z","type":"quit"}
{"nick":"elguapo99","date":"2012-08-29T23:39:08.190Z","type":"join"}

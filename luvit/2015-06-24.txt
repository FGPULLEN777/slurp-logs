{"nick":"quakephil_","date":"2015-06-24T00:14:15.061Z","type":"join"}
{"nick":"quakephil","reason":"Ping timeout: 264 seconds","date":"2015-06-24T00:14:29.668Z","type":"quit"}
{"nick":"dg__","reason":"Ping timeout: 250 seconds","date":"2015-06-24T01:10:07.419Z","type":"quit"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T01:19:33.364Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T01:38:05.445Z","type":"join"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T01:46:44.587Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T01:48:53.247Z","type":"join"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T02:06:21.444Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T02:45:14.255Z","type":"join"}
{"nick":"hdms","reason":"Read error: Connection reset by peer","date":"2015-06-24T02:46:48.005Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T02:50:57.810Z","type":"join"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T02:59:35.675Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T03:15:46.407Z","type":"join"}
{"nick":"dan336","date":"2015-06-24T03:23:43.441Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2015-06-24T03:39:48.663Z","type":"quit"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T03:44:39.511Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T03:45:18.452Z","type":"join"}
{"nick":"dan336","date":"2015-06-24T03:57:41.440Z","type":"join"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-06-24T04:21:08.445Z","type":"quit"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2015-06-24T04:36:39.775Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2015-06-24T05:46:54.497Z","type":"join"}
{"nick":"torpor","date":"2015-06-24T06:31:25.827Z","type":"join"}
{"nick":"SkyRocknRoll_","date":"2015-06-24T07:07:22.813Z","type":"join"}
{"nick":"SkyRocknRoll_","reason":"Client Quit","date":"2015-06-24T07:07:23.041Z","type":"quit"}
{"nick":"dg__","date":"2015-06-24T07:24:04.319Z","type":"join"}
{"nick":"SkyRocknRoll","reason":"Ping timeout: 255 seconds","date":"2015-06-24T09:00:34.579Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2015-06-24T09:17:11.583Z","type":"join"}
{"nick":"dg__","reason":"Ping timeout: 256 seconds","date":"2015-06-24T10:23:05.337Z","type":"quit"}
{"nick":"torpor","reason":"Quit: Leaving.","date":"2015-06-24T10:52:15.629Z","type":"quit"}
{"nick":"hdms","date":"2015-06-24T11:46:42.779Z","type":"join"}
{"nick":"rphillips","message":"good morning","date":"2015-06-24T12:09:00.152Z","type":"message"}
{"nick":"cptG","date":"2015-06-24T13:01:56.311Z","type":"join"}
{"nick":"dg__","date":"2015-06-24T13:03:23.643Z","type":"join"}
{"nick":"cptG","message":"hey there! I'm having problems with weblit-websocket and could not find anything in the sources... If I send frames that are large enough, my connection errors out with \"invalid frame header\" in chrome. The websocket frame view in chrome's devtools shows an opcode of -1 - does anyone have an idea?","date":"2015-06-24T13:03:37.564Z","type":"message"}
{"nick":"rphillips","message":"cptG: Tim did a fix yesterday or the day before, have you picked up that change?","date":"2015-06-24T13:06:23.351Z","type":"message"}
{"nick":"rphillips","message":"this commit: https://github.com/luvit/lit/commit/4cffee03d2388161f6202ee20c7f265b2701d668","date":"2015-06-24T13:07:09.088Z","type":"message"}
{"nick":"cptG","message":"rphillips: hm. My frames succeed until a size of 15, everyting above fails so this commit seems unrelated to my problem. Just to be sure: I'm sending {opcode = 1; payload = mystring; len = mystring:len()} - correct?","date":"2015-06-24T13:19:25.090Z","type":"message"}
{"nick":"torpor","date":"2015-06-24T13:19:53.330Z","type":"join"}
{"nick":"rphillips","message":"hmm. he should be here shortly","date":"2015-06-24T13:20:20.402Z","type":"message"}
{"nick":"cptG","message":"I'll stick around :)","date":"2015-06-24T13:20:32.746Z","type":"message"}
{"nick":"cptG","message":"rphillips: huh. It seems like it was a bug in my version of weblit - an update fixed it :)","date":"2015-06-24T13:27:41.892Z","type":"message"}
{"nick":"rphillips","message":"sweet!","date":"2015-06-24T13:27:51.444Z","type":"message"}
{"nick":"cptG","message":"this is my first project with luvit so I still need some getting used to lit & luvit ;)","date":"2015-06-24T13:28:29.294Z","type":"message"}
{"nick":"rphillips","message":"give us feedback... we want to make it better","date":"2015-06-24T13:28:44.129Z","type":"message"}
{"nick":"cptG","message":"so far it's great. I absolutely love the simple install. I've been developing a C++11-binding lib for luajit and I love that I can use that in my server code, as well. I guess I'll hit some problems later on in my project but I just saw that there's a google group for discussions so I'll head there for feedback :)","date":"2015-06-24T13:33:07.520Z","type":"message"}
{"nick":"rphillips","message":"awesome!","date":"2015-06-24T13:41:35.210Z","type":"message"}
{"nick":"SkyRocknRoll","reason":"Ping timeout: 265 seconds","date":"2015-06-24T13:57:16.469Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2015-06-24T14:10:03.746Z","type":"join"}
{"nick":"SkyRocknRoll","reason":"Remote host closed the connection","date":"2015-06-24T14:18:01.637Z","type":"quit"}
{"nick":"cptG","message":"hum. Quick question for ideas: I can't write to a websocket from within a callback (e.g. setTimeout) is there a way around that? I tried polling in process.nextTick but that yields the same error :(","date":"2015-06-24T14:23:55.514Z","type":"message"}
{"nick":"dan336","date":"2015-06-24T14:33:41.480Z","type":"join"}
{"nick":"gavellaneda","date":"2015-06-24T15:38:45.658Z","type":"join"}
{"nick":"gavellaneda","message":"good morning","date":"2015-06-24T15:39:08.760Z","type":"message"}
{"nick":"gavellaneda","message":"how are you rphillips, creationix?","date":"2015-06-24T15:40:43.444Z","type":"message"}
{"nick":"rphillips","message":"doing good, and you?","date":"2015-06-24T15:41:14.339Z","type":"message"}
{"nick":"gavellaneda","message":"good too, I've moved to Argentina","date":"2015-06-24T15:41:36.992Z","type":"message"}
{"nick":"rphillips","message":"wow. nice","date":"2015-06-24T15:41:44.843Z","type":"message"}
{"nick":"gavellaneda","message":"I've traveled by car from Brazil, a long trip :)","date":"2015-06-24T15:42:12.389Z","type":"message"}
{"nick":"gavellaneda","message":"ryan, I need some help from you :)","date":"2015-06-24T15:43:24.333Z","type":"message"}
{"nick":"gavellaneda","message":"I've published a code were luvit does not flush the output buffers on process exit","date":"2015-06-24T15:44:15.191Z","type":"message"}
{"nick":"gavellaneda","message":"don't know if you have a solution for this","date":"2015-06-24T15:44:24.039Z","type":"message"}
{"nick":"gavellaneda","message":"https://gist.githubusercontent.com/GabrielNicolasAvellaneda/4a1ed23379070a8671e2/raw/20508c487f47e17670157b1c181366b934417341/gistfile1.luawww.mirc.co.uk/register.html","date":"2015-06-24T15:44:25.191Z","type":"message"}
{"nick":"gavellaneda","message":"ups","date":"2015-06-24T15:44:53.860Z","type":"message"}
{"nick":"gavellaneda","message":"https://gist.githubusercontent.com/GabrielNicolasAvellaneda/4a1ed23379070a8671e2/raw/20508c487f47e17670157b1c181366b934417341","date":"2015-06-24T15:44:55.201Z","type":"message"}
{"nick":"rphillips","message":"yeah, i hit this the other day, it's a bug","date":"2015-06-24T15:46:41.317Z","type":"message"}
{"nick":"gavellaneda","message":"good to know","date":"2015-06-24T15:46:50.947Z","type":"message"}
{"nick":"rphillips","message":"you can try putting the process:exit on the nexttick","date":"2015-06-24T15:47:08.232Z","type":"message"}
{"nick":"gavellaneda","message":"I saw someone reporting a similar problem with nodejs","date":"2015-06-24T15:47:09.629Z","type":"message"}
{"nick":"rphillips","message":"it's due to us calling os.exit() here... we don't close all the libuv handles","date":"2015-06-24T15:48:00.213Z","type":"message"}
{"nick":"creationix","message":"cptG: still around?","date":"2015-06-24T15:48:01.167Z","type":"message"}
{"nick":"rphillips","message":"https://github.com/luvit/luvit/blob/master/deps/process.lua#L113","date":"2015-06-24T15:48:02.084Z","type":"message"}
{"nick":"cptG","message":"creationix: yep","date":"2015-06-24T15:48:07.011Z","type":"message"}
{"nick":"creationix","message":"sorry for the websocket bugs.  I made a lot of fixes recently","date":"2015-06-24T15:48:31.336Z","type":"message"}
{"nick":"rphillips","message":"we could wait for the .end event on process.stdout/stderr","date":"2015-06-24T15:48:40.948Z","type":"message"}
{"nick":"gavellaneda","message":"rphillips, perfect","date":"2015-06-24T15:48:41.484Z","type":"message"}
{"nick":"cptG","message":"creationix: no worries :)","date":"2015-06-24T15:49:18.976Z","type":"message"}
{"nick":"gavellaneda","message":"rphillips, so to be in the next tick, put the on('exit') inside the on('data')?","date":"2015-06-24T15:49:22.204Z","type":"message"}
{"nick":"creationix","message":"cptG: are you still having trouble writing in a callback?","date":"2015-06-24T15:49:39.722Z","type":"message"}
{"nick":"rphillips","message":"timer.nextTick(function() process:exit() end)","date":"2015-06-24T15:49:56.137Z","type":"message"}
{"nick":"rphillips","message":"it's lame","date":"2015-06-24T15:50:02.594Z","type":"message"}
{"nick":"rphillips","message":"but might work","date":"2015-06-24T15:50:05.672Z","type":"message"}
{"nick":"creationix","message":"cptG: also are you using coroutine style or callback style?  Mixing them is hard to get right","date":"2015-06-24T15:50:18.635Z","type":"message"}
{"nick":"cptG","message":"creationix: yes, I've not had any success so far - atm I'm looking into using raw tcp sockets as a replacement :/","date":"2015-06-24T15:50:18.822Z","type":"message"}
{"nick":"creationix","message":"I've only used websockets with coroutine based code so far","date":"2015-06-24T15:50:40.459Z","type":"message"}
{"nick":"cptG","message":"creationix: didn't know there's a callback style for websockets - I'm using \"for foo in read\"","date":"2015-06-24T15:50:45.706Z","type":"message"}
{"nick":"gavellaneda","message":"rphillips, thanks, I will try this","date":"2015-06-24T15:50:47.217Z","type":"message"}
{"nick":"creationix","message":"cptG: right, if you want to use the read,write interface, you need to make sure you're always in a coroutine","date":"2015-06-24T15:51:05.626Z","type":"message"}
{"nick":"rphillips","message":"gavellaneda: i'll looking fixing it this week or next, unless you get to it","date":"2015-06-24T15:51:24.510Z","type":"message"}
{"nick":"creationix","message":"raw luv callbacks aren't in coroutines, they are fresh stacks","date":"2015-06-24T15:51:27.516Z","type":"message"}
{"nick":"rphillips","message":"into fixing*","date":"2015-06-24T15:51:29.047Z","type":"message"}
{"nick":"creationix","message":"when you must run code from a callback, wrap it in coroutine.wrap(function () ... end)()","date":"2015-06-24T15:51:53.013Z","type":"message"}
{"nick":"creationix","message":"but more often the correct thing is to convert the callback into a coroutine interface","date":"2015-06-24T15:52:05.475Z","type":"message"}
{"nick":"creationix","message":"what are you doing that needs a callback?","date":"2015-06-24T15:52:11.757Z","type":"message"}
{"nick":"cptG","message":"creationix: I'm launching a childprocess","date":"2015-06-24T15:52:22.835Z","type":"message"}
{"nick":"cptG","message":"creationix: the callbacks are child.stdout('data') and the like","date":"2015-06-24T15:52:46.771Z","type":"message"}
{"nick":"cptG","message":"so... how I could use req.on('message', ...) in my call to weblit.websocket OR wrap the code of my callback in couroutine.wrap OR rewrite my callbacks with coroutines, right?","date":"2015-06-24T15:54:46.019Z","type":"message"}
{"nick":"creationix","message":"cptG: so stdout is a luv stream under the hood","date":"2015-06-24T15:56:11.161Z","type":"message"}
{"nick":"creationix","message":"personally I'd use luv's spawn directly instead of the luvit one and wrap the luv stream as a coroutine stream","date":"2015-06-24T15:56:34.768Z","type":"message"}
{"nick":"creationix","message":"like I said, mixing the two approaches gets messy real quick","date":"2015-06-24T15:56:55.756Z","type":"message"}
{"nick":"creationix","message":"cptG: this is what I use to get read,write out of a uv_stream_t https://github.com/luvit/lit/blob/master/deps/coro-channel.lua#L10-L69","date":"2015-06-24T15:57:23.308Z","type":"message"}
{"nick":"rphillips","message":"i think this does exactly what you want: https://github.com/luvit/lit/blob/a8b3418ee78d64dd0c5abad3bc971a5a7d2db2aa/libs/exec.lua","date":"2015-06-24T15:58:14.871Z","type":"message"}
{"nick":"cptG","message":"creationix: sweet, thanks!","date":"2015-06-24T15:58:23.741Z","type":"message"}
{"nick":"creationix","message":"of that if you just want to read all the output","date":"2015-06-24T15:58:58.100Z","type":"message"}
{"nick":"cptG","message":"ah yes, that's enough for now but the wrap-approach I'll keep in the back of my head for later","date":"2015-06-24T15:59:38.351Z","type":"message"}
{"nick":"cptG","message":"thanks a lot!","date":"2015-06-24T15:59:40.351Z","type":"message"}

{"nick":"rphillips","message":"rje: https://github.com/virgo-agent-toolkit/rackspace-monitoring-agent/pull/735","date":"2015-05-22T00:06:02.252Z","type":"message"}
{"nick":"rphillips","message":"this should fix it","date":"2015-05-22T00:06:05.220Z","type":"message"}
{"nick":"SouL_|_","reason":"Ping timeout: 252 seconds","date":"2015-05-22T00:15:24.929Z","type":"quit"}
{"nick":"SouL_|_","date":"2015-05-22T00:15:57.959Z","type":"join"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-05-22T00:32:49.096Z","type":"quit"}
{"nick":"hdms","date":"2015-05-22T00:42:14.914Z","type":"join"}
{"nick":"hdms","reason":"Client Quit","date":"2015-05-22T00:42:21.723Z","type":"quit"}
{"nick":"SouL_|_","reason":"Ping timeout: 246 seconds","date":"2015-05-22T00:57:53.936Z","type":"quit"}
{"nick":"SouL_|_","date":"2015-05-22T00:58:25.914Z","type":"join"}
{"nick":"kazupon","date":"2015-05-22T01:11:22.930Z","type":"join"}
{"nick":"DarkGod","reason":"Ping timeout: 258 seconds","date":"2015-05-22T01:13:37.096Z","type":"quit"}
{"nick":"squeek","date":"2015-05-22T01:45:05.964Z","type":"join"}
{"nick":"squeeek","date":"2015-05-22T01:45:11.975Z","type":"join"}
{"nick":"squeeek","reason":"Client Quit","date":"2015-05-22T01:45:12.311Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2015-05-22T05:09:57.548Z","type":"quit"}
{"nick":"kazupon","date":"2015-05-22T05:10:28.453Z","type":"join"}
{"nick":"rje","message":"so when run as a service it can't load sigar.dll, not sure why yet","date":"2015-05-22T05:13:54.773Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2015-05-22T05:14:49.376Z","type":"quit"}
{"nick":"kazupon","date":"2015-05-22T05:27:38.554Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2015-05-22T05:31:03.826Z","type":"quit"}
{"nick":"SouL_|_","reason":"Ping timeout: 264 seconds","date":"2015-05-22T05:31:07.138Z","type":"quit"}
{"nick":"kazupon_","date":"2015-05-22T05:31:08.467Z","type":"join"}
{"nick":"SkyRocknRoll","date":"2015-05-22T05:49:51.432Z","type":"join"}
{"nick":"SouL_|_","date":"2015-05-22T06:08:36.491Z","type":"join"}
{"nick":"SouL_|_","reason":"Ping timeout: 264 seconds","date":"2015-05-22T08:32:19.322Z","type":"quit"}
{"nick":"SouL_|_","date":"2015-05-22T08:40:07.360Z","type":"join"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2015-05-22T08:46:03.458Z","type":"quit"}
{"nick":"kazupon","date":"2015-05-22T08:46:30.358Z","type":"join"}
{"nick":"SouL_|_","reason":"Ping timeout: 264 seconds","date":"2015-05-22T09:56:19.422Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2015-05-22T10:12:16.933Z","type":"quit"}
{"nick":"kazupon","date":"2015-05-22T10:12:23.419Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2015-05-22T11:24:56.429Z","type":"quit"}
{"nick":"kazupon","date":"2015-05-22T11:25:23.035Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 258 seconds","date":"2015-05-22T11:29:37.936Z","type":"quit"}
{"nick":"SouL_|_","date":"2015-05-22T12:47:55.746Z","type":"join"}
{"nick":"SouL_|_","reason":"Read error: Connection reset by peer","date":"2015-05-22T12:56:30.758Z","type":"quit"}
{"nick":"SouL_|_","date":"2015-05-22T12:57:35.985Z","type":"join"}
{"nick":"rphillips","message":"good morning","date":"2015-05-22T13:27:46.630Z","type":"message"}
{"nick":"ldub_","date":"2015-05-22T13:48:20.070Z","type":"join"}
{"nick":"ldub_","reason":"Ping timeout: 276 seconds","date":"2015-05-22T13:59:24.108Z","type":"quit"}
{"nick":"SkyRocknRoll","reason":"Remote host closed the connection","date":"2015-05-22T13:59:30.121Z","type":"quit"}
{"nick":"ldub_","date":"2015-05-22T14:04:36.927Z","type":"join"}
{"nick":"kazupon","date":"2015-05-22T14:30:44.519Z","type":"join"}
{"nick":"dan336","date":"2015-05-22T14:32:11.400Z","type":"join"}
{"nick":"SouL_|_","reason":"Read error: Connection reset by peer","date":"2015-05-22T15:03:48.152Z","type":"quit"}
{"nick":"ldub_","message":"t","date":"2015-05-22T15:17:40.234Z","type":"message"}
{"nick":"ldub_","message":"my first C-Land on-cpu Flamegraph for my luvi app : https://drive.google.com/file/d/0B6jIANNz4eD3X2MyY1EzSE04eEE/view?usp=sharing","date":"2015-05-22T15:24:37.070Z","type":"message"}
{"nick":"ldub_","message":"really cool tool from OpenResty  http://openresty.org/#Profiling but . Did not worked for Catching off-cpu backtraces","date":"2015-05-22T15:25:04.454Z","type":"message"}
{"nick":"ldub_","message":"and lua","date":"2015-05-22T15:25:39.960Z","type":"message"}
{"nick":"rphillips","message":"slick","date":"2015-05-22T15:25:42.002Z","type":"message"}
{"nick":"dan336","message":"flame graphs are nice :)","date":"2015-05-22T15:26:22.484Z","type":"message"}
{"nick":"ldub_","message":"good also to learn what's underneath my app","date":"2015-05-22T15:27:09.492Z","type":"message"}
{"nick":"kazupon_","date":"2015-05-22T16:09:47.531Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 250 seconds","date":"2015-05-22T16:12:59.407Z","type":"quit"}
{"nick":"ldub_","reason":"Ping timeout: 272 seconds","date":"2015-05-22T16:16:06.939Z","type":"quit"}
{"nick":"DarkGod","date":"2015-05-22T17:14:54.432Z","type":"join"}
{"nick":"creationix","message":"rphillips: I need to take today off.  If there anything you need in luvit?","date":"2015-05-22T17:17:00.834Z","type":"message"}
{"nick":"rphillips","message":"creationix: I don't think so","date":"2015-05-22T17:17:15.016Z","type":"message"}
{"nick":"rphillips","message":"testing the current release of the agent+{luvi,luvit}","date":"2015-05-22T17:17:44.331Z","type":"message"}
{"nick":"hdms","date":"2015-05-22T17:18:53.923Z","type":"join"}
{"nick":"SouL_|_","date":"2015-05-22T17:35:18.206Z","type":"join"}
{"nick":"rphillips","message":"i wonder if the binary loader can't expand the dll to the filesystem","date":"2015-05-22T18:13:52.490Z","type":"message"}
{"nick":"rphillips","message":"when running as a service","date":"2015-05-22T18:13:59.169Z","type":"message"}
{"nick":"ldub_","date":"2015-05-22T18:34:01.842Z","type":"join"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2015-05-22T18:45:12.153Z","type":"quit"}
{"nick":"bjorn","reason":"Quit: No Ping reply in 180 seconds.","date":"2015-05-22T18:47:23.096Z","type":"quit"}
{"nick":"rje","message":"rphillips, that's what i'm wondering too","date":"2015-05-22T18:49:11.566Z","type":"message"}
{"nick":"rje","message":"rphillips, all this fun, the calls succeed but nothing goes in the files dammit https://github.com/virgo-agent-toolkit/rackspace-monitoring-agent/commit/7762845922c857e8b373379bbad2bb7bd8e42bce#diff-51de066f3a8584bd8f49fa5beb5c3f80R282","date":"2015-05-22T18:50:28.027Z","type":"message"}
{"nick":"rphillips","message":"rje: ProgramData","date":"2015-05-22T19:13:59.527Z","type":"message"}
{"nick":"rphillips","message":"should be 'Program Data'","date":"2015-05-22T19:14:05.214Z","type":"message"}
{"nick":"rphillips","message":"?","date":"2015-05-22T19:14:07.760Z","type":"message"}
{"nick":"rphillips","message":"rje: vidyo. I know why it isn't working","date":"2015-05-22T19:15:36.685Z","type":"message"}
{"nick":"rphillips","message":"your room","date":"2015-05-22T19:16:04.499Z","type":"message"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2015-05-22T19:25:47.612Z","type":"quit"}
{"nick":"rje","message":"rphillips, The specified module could not be found.","date":"2015-05-22T20:09:49.787Z","type":"message"}
{"nick":"rphillips","message":"ah hah","date":"2015-05-22T20:09:58.567Z","type":"message"}
{"nick":"rje","message":"now i modified require, ran lit make got that output","date":"2015-05-22T20:10:27.384Z","type":"message"}
{"nick":"rje","message":"modified it again to add the file name and path, ran lit make again and cant get the exe to change","date":"2015-05-22T20:11:01.609Z","type":"message"}
{"nick":"rphillips","message":"lit make ?","date":"2015-05-22T20:11:11.530Z","type":"message"}
{"nick":"rphillips","message":"it might be in use by windows","date":"2015-05-22T20:11:26.865Z","type":"message"}
{"nick":"rje","message":"yeag","date":"2015-05-22T20:11:27.437Z","type":"message"}
{"nick":"rje","message":"it succeeded","date":"2015-05-22T20:11:34.638Z","type":"message"}
{"nick":"rje","message":"C:\\Windows\\TEMP\\lib-xRSwcV\\sigar.dll#luaopen_sigar: The specified module could not be found.","date":"2015-05-22T20:18:06.648Z","type":"message"}
{"nick":"rje","message":"there","date":"2015-05-22T20:18:12.468Z","type":"message"}
{"nick":"rje","message":"PS C:\\Users\\rje\\Documents\\rackspace\\virgo> ls C:\\Windows\\Temp\\lib-xRSwcV","date":"2015-05-22T20:18:57.741Z","type":"message"}
{"nick":"rje","message":"    Directory: C:\\Windows\\Temp\\lib-xRSwcV","date":"2015-05-22T20:18:57.935Z","type":"message"}
{"nick":"rje","message":"Mode                LastWriteTime     Length Name","date":"2015-05-22T20:18:57.935Z","type":"message"}
{"nick":"rje","message":"----                -------------     ------ ----","date":"2015-05-22T20:18:57.936Z","type":"message"}
{"nick":"rje","message":"-a---         5/22/2015   1:17 PM     124928 sigar.dll","date":"2015-05-22T20:18:58.893Z","type":"message"}
{"nick":"rje","message":"rphillips, so yes loading sigar is the issue.  didn't 1.2.8 have the same issue but also when run from the command line","date":"2015-05-22T20:20:01.944Z","type":"message"}
{"nick":"rphillips","message":"hmm. i didn't test 1.2.8 a ton","date":"2015-05-22T20:27:17.182Z","type":"message"}
{"nick":"rphillips","message":"rje: i have a thought","date":"2015-05-22T20:38:35.728Z","type":"message"}
{"nick":"rphillips","message":"try renaming rackspace-monitoring-agent.exe to luvi.exe","date":"2015-05-22T20:38:51.228Z","type":"message"}
{"nick":"rphillips","message":"and installing the luvi.exe as the service","date":"2015-05-22T20:39:00.828Z","type":"message"}
{"nick":"rje","message":"k","date":"2015-05-22T20:39:21.046Z","type":"message"}
{"nick":"rje","message":"i see where you're going","date":"2015-05-22T20:39:39.962Z","type":"message"}
{"nick":"rje","message":"i don't like it either :P","date":"2015-05-22T20:40:03.310Z","type":"message"}
{"nick":"rphillips","message":"yeah, me either","date":"2015-05-22T20:41:00.980Z","type":"message"}
{"nick":"rje","message":"wtf, that worked","date":"2015-05-22T20:41:36.324Z","type":"message"}
{"nick":"rphillips","message":"seriously?","date":"2015-05-22T20:41:47.724Z","type":"message"}
{"nick":"rje","message":"yeah","date":"2015-05-22T20:42:08.523Z","type":"message"}
{"nick":"rphillips","message":"what if we had the rackspace-monitoring-agent.exe and the luvi.exe in the same directory","date":"2015-05-22T20:43:17.419Z","type":"message"}
{"nick":"rphillips","message":"i wonder if that works","date":"2015-05-22T20:43:20.176Z","type":"message"}
{"nick":"rje","message":"and yes, that too","date":"2015-05-22T20:45:02.090Z","type":"message"}
{"nick":"rphillips","message":"so, something with the dll munging?","date":"2015-05-22T20:46:05.974Z","type":"message"}
{"nick":"rje","message":"yeah, delayed loading as a service seems to be borked","date":"2015-05-22T20:47:24.239Z","type":"message"}
{"nick":"rje","message":"nice data point","date":"2015-05-22T20:47:47.005Z","type":"message"}
{"nick":"rje","message":"rphillips, do these need to be newer versions?","date":"2015-05-22T20:54:01.408Z","type":"message"}
{"nick":"rje","message":"https://github.com/virgo-agent-toolkit/lua-sigar/blob/master/CMakeLists.txt#L55","date":"2015-05-22T20:54:04.021Z","type":"message"}
{"nick":"rje","message":"now i want to know what this is: https://github.com/luvit/luvi/blob/master/src/luvi_renamed.c#L12","date":"2015-05-22T20:55:12.417Z","type":"message"}
{"nick":"rphillips","message":"yeah, perhaps the dll needs to be rebuilt","date":"2015-05-22T20:57:50.291Z","type":"message"}
{"nick":"rphillips","message":"and added to the repo","date":"2015-05-22T20:58:03.776Z","type":"message"}
{"nick":"Akagi201","date":"2015-05-22T21:01:39.300Z","type":"join"}
{"nick":"rphillips","message":"rje: the sigar.dll I built is from march 9","date":"2015-05-22T21:01:41.789Z","type":"message"}
{"nick":"rphillips","message":"looks like the renamed stuff was added a week or two later","date":"2015-05-22T21:01:51.897Z","type":"message"}
{"nick":"rje","message":"so we've been lucky running it from the command line as the luvi.exe has been there with it","date":"2015-05-22T21:02:57.105Z","type":"message"}
{"nick":"rje","message":"swell","date":"2015-05-22T21:03:01.308Z","type":"message"}
{"nick":"rje","action":"tests some more.  could you bump the dll?","date":"2015-05-22T21:03:26.679Z","type":"action"}
{"nick":"rphillips","message":"yeah","date":"2015-05-22T21:04:52.826Z","type":"message"}
{"nick":"rje","message":"yeah, that's the winner.  fuck.","date":"2015-05-22T21:05:20.842Z","type":"message"}
{"nick":"rje","message":"moved the exe somewhere else and ran with that as the cwd and its failure central","date":"2015-05-22T21:05:56.646Z","type":"message"}
{"nick":"rphillips","message":"rje: ok. pushed the new sigar.dll","date":"2015-05-22T21:12:17.850Z","type":"message"}
{"nick":"rje","message":"rphillips, thank you","date":"2015-05-22T21:12:53.707Z","type":"message"}
{"nick":"DarkGod","reason":"Ping timeout: 246 seconds","date":"2015-05-22T21:24:17.917Z","type":"quit"}
{"nick":"DarkGod","date":"2015-05-22T21:28:41.358Z","type":"join"}
{"nick":"ldub_","reason":"Quit: Leaving.","date":"2015-05-22T21:35:15.968Z","type":"quit"}
{"nick":"rje","message":"rphillips, when you push a new dll where/when does that get pulled?  in my version it gets built from source","date":"2015-05-22T21:38:28.738Z","type":"message"}
{"nick":"rphillips","message":"are you using build.sh?","date":"2015-05-22T21:38:46.869Z","type":"message"}
{"nick":"rphillips","message":"hmm","date":"2015-05-22T21:39:03.484Z","type":"message"}
{"nick":"rje","message":"er?  make.bat","date":"2015-05-22T21:39:11.794Z","type":"message"}
{"nick":"rphillips","message":"ah hah","date":"2015-05-22T21:40:02.140Z","type":"message"}
{"nick":"rphillips","message":"https://github.com/virgo-agent-toolkit/rackspace-monitoring-agent/blob/luvi-up/Make.bat#L20","date":"2015-05-22T21:40:11.143Z","type":"message"}
{"nick":"rphillips","message":"that should copy it into libs/Windows-x64","date":"2015-05-22T21:40:27.744Z","type":"message"}
{"nick":"rphillips","message":"i pushed it into https://github.com/virgo-agent-toolkit/rackspace-monitoring-agent/tree/luvi-up/libs/Windows-x64","date":"2015-05-22T21:40:51.223Z","type":"message"}
{"nick":"rje","message":"vidyo?","date":"2015-05-22T21:41:36.490Z","type":"message"}
{"nick":"rphillips","message":"rje: sure","date":"2015-05-22T21:47:00.622Z","type":"message"}
{"nick":"rje","message":"rphillips, the world is such a better place now :)","date":"2015-05-22T22:06:30.966Z","type":"message"}
{"nick":"rphillips","message":"yay! :)","date":"2015-05-22T22:09:39.629Z","type":"message"}
{"nick":"rphillips","message":"make.bat in the agent should have that sigar build removed","date":"2015-05-22T22:10:41.633Z","type":"message"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-05-22T22:11:25.414Z","type":"quit"}
{"nick":"rje","message":"rphillips, so i still have a serious concern, we'll need to be able to redirect all the stdout info from luvi especially if we need to debug clients machines using only the logs","date":"2015-05-22T22:36:18.195Z","type":"message"}
{"nick":"rphillips","message":"rje: didn't the v1 agent always log to stdout or a file?","date":"2015-05-22T23:09:51.174Z","type":"message"}
{"nick":"rje","message":"yes, the error calls were handled in virgo's C and then would write errors to a file.","date":"2015-05-22T23:11:08.229Z","type":"message"}
{"nick":"rphillips","message":"rje: https://github.com/virgo-agent-toolkit/virgo-base-agent/blob/99e7b52a18a725d736fe24a84d168b6e4f143475/lib/virgo_logging.c#L176","date":"2015-05-22T23:12:37.136Z","type":"message"}
{"nick":"rphillips","message":"here ?","date":"2015-05-22T23:12:39.326Z","type":"message"}
{"nick":"rje","message":"yes and then we'd catch things like this https://github.com/virgo-agent-toolkit/virgo-base-agent/blob/99e7b52a18a725d736fe24a84d168b6e4f143475/lib/virgo_win32_service.c#L245","date":"2015-05-22T23:23:44.734Z","type":"message"}
{"nick":"rphillips","message":"rje: wdyt? https://github.com/rphillips/virgo-logging/pull/2","date":"2015-05-22T23:40:54.668Z","type":"message"}
{"nick":"rje","message":"ok, how would you tie that in at the luvi level?  i'm debugging more and its still broken at some level when run as a service.  after the dll now. so anything to get the actual error into a file makes me happy","date":"2015-05-22T23:43:07.342Z","type":"message"}
{"nick":"rphillips","message":"ah, luvi level... hmm","date":"2015-05-22T23:43:41.102Z","type":"message"}
{"nick":"rphillips","message":"luvi doesn't have a default logger","date":"2015-05-22T23:44:05.385Z","type":"message"}
{"nick":"rje","message":"and that's ok i think","date":"2015-05-22T23:45:30.266Z","type":"message"}
{"nick":"rje","message":"what i want is to be able to override the error call and catch that output like from the require","date":"2015-05-22T23:45:58.213Z","type":"message"}
{"nick":"rphillips","message":"you can pcall require","date":"2015-05-22T23:46:12.755Z","type":"message"}
{"nick":"rje","message":"you're missing the point.... there will be cases where error gets called from within a service, we need that output","date":"2015-05-22T23:47:08.872Z","type":"message"}
{"nick":"rphillips","message":"ah right... you can pcall the windows service function","date":"2015-05-22T23:47:26.445Z","type":"message"}
{"nick":"rje","message":"ok, that's doable","date":"2015-05-22T23:47:56.847Z","type":"message"}
{"nick":"DarkGod","reason":"Ping timeout: 256 seconds","date":"2015-05-22T23:53:44.311Z","type":"quit"}

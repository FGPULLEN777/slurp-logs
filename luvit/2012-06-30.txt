{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-06-30T00:03:19.420Z","type":"nick"}
{"nick":"luvit-bb","message":"build #949 of virgo-windows2008_x64 is complete: Failure [failed integration tests]  Build details are at https://virgo-bb.k1k.me/builders/virgo-windows2008_x64/builds/949","date":"2012-06-30T00:06:45.332Z","type":"message"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-06-30T00:14:13.348Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-06-30T00:14:36.555Z","type":"nick"}
{"nick":"tim_smart","message":"Hah, now http.request will not emit the end event","date":"2012-06-30T00:26:54.770Z","type":"message"}
{"nick":"el_tejon","reason":"Read error: Connection reset by peer","date":"2012-06-30T00:54:09.721Z","type":"quit"}
{"nick":"TheJH","reason":"Ping timeout: 246 seconds","date":"2012-06-30T00:55:35.357Z","type":"quit"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-06-30T00:57:04.231Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-06-30T00:57:19.529Z","type":"nick"}
{"nick":"el_tejon","date":"2012-06-30T00:58:39.055Z","type":"join"}
{"nick":"tsing","date":"2012-06-30T01:01:36.716Z","type":"join"}
{"nick":"xming","reason":"Ping timeout: 272 seconds","date":"2012-06-30T01:05:53.517Z","type":"quit"}
{"nick":"charetjc","date":"2012-06-30T01:24:11.642Z","type":"join"}
{"nick":"charetjc","message":"just ran into luvit and looking to build it on an x86 linux box.  anyone here attempt this already and sorted out the build files?","date":"2012-06-30T01:25:35.640Z","type":"message"}
{"nick":"tim_smart","message":"charetjc: My uname:","date":"2012-06-30T01:33:23.047Z","type":"message"}
{"nick":"tim_smart","message":"Linux tim-macbook-arch 3.4.4-2-ARCH #1 SMP PREEMPT Sun Jun 24 18:59:47 CEST 2012 x86_64 GNU/Linux","date":"2012-06-30T01:33:38.892Z","type":"message"}
{"nick":"charetjc","message":"Linux redbox 3.2.12-gentoo #3 PREEMPT Sat May 5 15:27:15 PDT 2012 i686 AMD Athlon(tm) 64 Processor 3500+ AuthenticAMD GNU/Linux","date":"2012-06-30T01:34:00.455Z","type":"message"}
{"nick":"charetjc","message":"it's an old box","date":"2012-06-30T01:34:16.611Z","type":"message"}
{"nick":"tim_smart","message":"charetjc: Have you tried building it? It should be fine","date":"2012-06-30T01:34:43.832Z","type":"message"}
{"nick":"charetjc","message":"i was trying to build it with gyp, but just checked with make, it's going","date":"2012-06-30T01:35:29.526Z","type":"message"}
{"nick":"charetjc","message":"gyp complained that openssl-config didn't have settings for my platform","date":"2012-06-30T01:35:51.933Z","type":"message"}
{"nick":"tim_smart","message":"./configure && make && make install should be fine","date":"2012-06-30T01:36:01.424Z","type":"message"}
{"nick":"tim_smart","message":"Hmm","date":"2012-06-30T01:36:18.235Z","type":"message"}
{"nick":"charetjc","message":"hang on, i'll paste bin the exact error","date":"2012-06-30T01:36:30.809Z","type":"message"}
{"nick":"charetjc","message":"http://pastebin.com/nFhA7dBe","date":"2012-06-30T01:37:53.611Z","type":"message"}
{"nick":"tim_smart","message":"It should use the x64 config","date":"2012-06-30T01:39:25.835Z","type":"message"}
{"nick":"tim_smart","message":"You can probably force the architecture somewhere","date":"2012-06-30T01:39:54.844Z","type":"message"}
{"nick":"charetjc","message":"just noticed configure is a python script, i usually don't bother looking in an autotools configure","date":"2012-06-30T01:40:33.522Z","type":"message"}
{"nick":"charetjc","message":"the \"uname -p\" is missing an x86 keyword i imagine","date":"2012-06-30T01:41:18.721Z","type":"message"}
{"nick":"tim_smart","message":"charetjc: What if you ./configure --arch x86?","date":"2012-06-30T01:42:17.325Z","type":"message"}
{"nick":"charetjc","message":"same error as before with \"linux-x86\" instead of \"linux-AMD...\"","date":"2012-06-30T01:43:03.246Z","type":"message"}
{"nick":"tim_smart","message":"--arch x64","date":"2012-06-30T01:43:25.775Z","type":"message"}
{"nick":"tim_smart","message":"My bad","date":"2012-06-30T01:43:31.249Z","type":"message"}
{"nick":"charetjc","message":"still getting same error as before, now with \"linux-x64\"","date":"2012-06-30T01:44:41.120Z","type":"message"}
{"nick":"charetjc","message":"also tried \"--arch amd64\" and \"--arch x86_64\"","date":"2012-06-30T01:44:55.704Z","type":"message"}
{"nick":"tim_smart","message":"Hmm.. The configure scripts says it will check the x64 directory as well as the linux-x64 directory","date":"2012-06-30T01:47:23.923Z","type":"message"}
{"nick":"tim_smart","message":"*script","date":"2012-06-30T01:47:28.439Z","type":"message"}
{"nick":"charetjc","message":"maybe it's because i'm trying to use a build folder like i usually do with autotools builds ><","date":"2012-06-30T01:49:01.288Z","type":"message"}
{"nick":"charetjc","message":"yeap, that fixed that error","date":"2012-06-30T01:50:08.663Z","type":"message"}
{"nick":"charetjc","message":"new error:  pointer size mismatch in cross-build","date":"2012-06-30T01:51:13.944Z","type":"message"}
{"nick":"charetjc","message":"probably doesn't like \"--arch x64\" on my 32 bit system?","date":"2012-06-30T01:51:48.452Z","type":"message"}
{"nick":"tim_smart","message":"charetjc: OH I thought is was 64 bit hah","date":"2012-06-30T01:52:02.502Z","type":"message"}
{"nick":"charetjc","message":"na :D","date":"2012-06-30T01:52:22.023Z","type":"message"}
{"nick":"charetjc","message":"./configure --arch ia32 && make -C out is going now","date":"2012-06-30T01:52:45.458Z","type":"message"}
{"nick":"tim_smart","message":"--arch ia32","date":"2012-06-30T01:52:45.458Z","type":"message"}
{"nick":"charetjc","message":"thanks for helping.  while this compiles, I'm gonna grab dinner.  cya around :)","date":"2012-06-30T01:54:03.928Z","type":"message"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-06-30T01:59:07.143Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-06-30T02:12:57.303Z","type":"nick"}
{"nick":"AvianFlu","date":"2012-06-30T02:30:09.719Z","type":"join"}
{"nick":"tsing","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-06-30T02:46:38.311Z","type":"quit"}
{"nick":"xming","date":"2012-06-30T03:01:29.563Z","type":"join"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-06-30T03:21:08.217Z","type":"quit"}
{"nick":"charetjc","reason":"Read error: Operation timed out","date":"2012-06-30T05:34:21.081Z","type":"quit"}
{"nick":"xming","reason":"Changing host","date":"2012-06-30T07:51:11.796Z","type":"quit"}
{"nick":"xming","date":"2012-06-30T07:51:12.287Z","type":"join"}
{"nick":"aliem","date":"2012-06-30T08:02:27.269Z","type":"join"}
{"nick":"DarkGod","date":"2012-06-30T11:47:11.815Z","type":"join"}
{"nick":"el_tejon","reason":"Ping timeout: 252 seconds","date":"2012-06-30T11:54:49.037Z","type":"quit"}
{"nick":"DarkGod","message":"hi, I can not seem to find the method to close a net client (that I get from a callback of createServer)","date":"2012-06-30T11:56:43.721Z","type":"message"}
{"nick":"DarkGod","message":"I tried finish, close but none work","date":"2012-06-30T11:56:51.604Z","type":"message"}
{"nick":"xming","message":":destroy()","date":"2012-06-30T11:57:22.944Z","type":"message"}
{"nick":"el_tejon","date":"2012-06-30T11:57:48.933Z","type":"join"}
{"nick":"DarkGod","message":"ahah :)","date":"2012-06-30T11:58:08.539Z","type":"message"}
{"nick":"DarkGod","message":"thanks :)","date":"2012-06-30T11:58:09.741Z","type":"message"}
{"nick":"xming","message":"universe:destroy() moahahahaha","date":"2012-06-30T11:58:42.017Z","type":"message"}
{"nick":"DarkGod","message":":>","date":"2012-06-30T11:59:56.692Z","type":"message"}
{"nick":"DarkGod","message":"out of cheese error, please reboot universe","date":"2012-06-30T12:00:08.789Z","type":"message"}
{"nick":"luvit-bb","message":"build #950 of virgo-windows2008_x64 is complete: Failure [failed integration tests]  Build details are at https://virgo-bb.k1k.me/builders/virgo-windows2008_x64/builds/950","date":"2012-06-30T12:06:44.853Z","type":"message"}
{"nick":"DarkGod","message":"loadfile() is not available in any way in luvit ?","date":"2012-06-30T12:17:34.522Z","type":"message"}
{"nick":"DarkGod","message":"also is there a mysql connector that works in async mode with luvit ?","date":"2012-06-30T12:35:23.024Z","type":"message"}
{"nick":"TheJH","date":"2012-06-30T12:41:42.942Z","type":"join"}
{"nick":"tim_smart","message":"creationix: rphillips: https://github.com/luvit/luvit/pull/268","date":"2012-06-30T13:14:21.962Z","type":"message"}
{"nick":"tim_smart","message":"Fix still needs to be made, but a failing test is there.","date":"2012-06-30T13:14:41.920Z","type":"message"}
{"nick":"tim_smart","message":"Probably need to add some tests regarding http 1.0","date":"2012-06-30T13:14:55.288Z","type":"message"}
{"nick":"tim_smart","message":"*some more","date":"2012-06-30T13:15:03.795Z","type":"message"}
{"nick":"AvianFlu","date":"2012-06-30T13:20:20.043Z","type":"join"}
{"nick":"tim_smart","message":"DarkGod: ^","date":"2012-06-30T13:20:28.637Z","type":"message"}
{"nick":"tim_smart","message":"There is a patch for that in that pull request","date":"2012-06-30T13:20:43.915Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-06-30T13:20:58.574Z","type":"quit"}
{"nick":"DarkGod","message":"for mysql async ?","date":"2012-06-30T13:23:38.645Z","type":"message"}
{"nick":"tim_smart","message":"DarkGod: :done method on net.Socket","date":"2012-06-30T13:26:08.159Z","type":"message"}
{"nick":"tim_smart","message":"And rename response:finish to response:done","date":"2012-06-30T13:26:26.850Z","type":"message"}
{"nick":"tim_smart","message":"Cleans up the api a bit :)","date":"2012-06-30T13:26:51.361Z","type":"message"}
{"nick":"DarkGod","message":"ah :)","date":"2012-06-30T13:27:10.335Z","type":"message"}
{"nick":"DarkGod","message":"well I can live with :destroy() and it's FUN to *destroy* things :)","date":"2012-06-30T13:27:25.773Z","type":"message"}
{"nick":"tim_smart","message":"Oh dear","date":"2012-06-30T13:27:33.788Z","type":"message"}
{"nick":"tim_smart","message":"I can imagine you as the kind of person who destroys my legos or something","date":"2012-06-30T13:29:22.136Z","type":"message"}
{"nick":"tim_smart","message":"Or card tower","date":"2012-06-30T13:29:30.050Z","type":"message"}
{"nick":"DarkGod","message":"I feed on your tears!","date":"2012-06-30T13:31:26.338Z","type":"message"}
{"nick":"DarkGod","message":"hum .. http.get, it returns me a stream","date":"2012-06-30T13:32:55.102Z","type":"message"}
{"nick":"DarkGod","message":"or a request ? and what is the callback meant to do ?","date":"2012-06-30T13:33:12.859Z","type":"message"}
{"nick":"DarkGod","message":"if I inspect the thing it returns it klooks like a requets, ith headers and all, but I dont have a body and I dont see how to get it","date":"2012-06-30T13:35:55.783Z","type":"message"}
{"nick":"tim_smart","message":"I haven't used it DarkGod, let me check it out.","date":"2012-06-30T13:44:06.673Z","type":"message"}
{"nick":"DarkGod","message":"thanks","date":"2012-06-30T13:44:20.449Z","type":"message"}
{"nick":"DarkGod","message":"from looking at https://github.com/luvit/luvit/blob/master/lib/luvit/http.lua it seems I would need to bind req:on(\"data\") but I receive nothing","date":"2012-06-30T13:44:38.503Z","type":"message"}
{"nick":"tim_smart","message":"DarkGod: http.get('http://www.google.com/', function (response) response.on('data', function (chunk) end); response.on('end', function () end))","date":"2012-06-30T13:56:24.044Z","type":"message"}
{"nick":"DarkGod","message":"ahah, I was doing :on on the return of http.get .. woops","date":"2012-06-30T13:58:30.777Z","type":"message"}
{"nick":"DarkGod","message":"thanks","date":"2012-06-30T13:58:31.718Z","type":"message"}
{"nick":"DarkGod","message":"huummm http.get doesnt send a Host: header","date":"2012-06-30T14:09:30.930Z","type":"message"}
{"nick":"DarkGod","message":"  _header = \"GET /tome HTTP/1.1\\r\\nConnection: close\\r\\nTransfer-Encoding: chunked\\r\\n\\r\\n\",","date":"2012-06-30T14:09:55.074Z","type":"message"}
{"nick":"DarkGod","message":"even though I call it and specify a host=\"foo\" field","date":"2012-06-30T14:09:55.276Z","type":"message"}
{"nick":"DarkGod","message":"I can fix it by adding it to the headers myself but it sounds like something that should be automatic no ?","date":"2012-06-30T14:11:13.720Z","type":"message"}
{"nick":"creationix","message":"tim_smart, don't need configure for Makefile","date":"2012-06-30T14:15:47.813Z","type":"message"}
{"nick":"creationix","message":"./configure && make -C out","date":"2012-06-30T14:15:56.902Z","type":"message"}
{"nick":"creationix","message":"or just make && make install","date":"2012-06-30T14:16:01.615Z","type":"message"}
{"nick":"tim_smart","message":"creationix: ?","date":"2012-06-30T14:17:13.171Z","type":"message"}
{"nick":"tim_smart","message":"I didn't have any issues building","date":"2012-06-30T14:17:27.496Z","type":"message"}
{"nick":"creationix","message":"you were telling someone to use ./configure ; make; make install","date":"2012-06-30T14:17:41.500Z","type":"message"}
{"nick":"creationix","message":"but vanilla make doesn't use ./configure","date":"2012-06-30T14:17:47.294Z","type":"message"}
{"nick":"creationix","message":"just wanted to clarify","date":"2012-06-30T14:17:53.261Z","type":"message"}
{"nick":"tim_smart","message":"right. Does make do its own architecture lookup?","date":"2012-06-30T14:20:41.480Z","type":"message"}
{"nick":"creationix","message":"DarkGod, yes, that should be automatic.  Feel free to file a bug.  That API is supposed to mirror node and node auto-sends the host header","date":"2012-06-30T14:20:42.822Z","type":"message"}
{"nick":"creationix","message":"tim_smart, the configure script hooks into gyp and generates a makefile in out","date":"2012-06-30T14:22:37.901Z","type":"message"}
{"nick":"creationix","message":"the Makefile works on most unix systems and has lots of conditionals","date":"2012-06-30T14:22:47.357Z","type":"message"}
{"nick":"creationix","message":"someday we'll unify the build systems","date":"2012-06-30T14:22:57.443Z","type":"message"}
{"nick":"creationix","message":"xming is working on a unified system based on cmake","date":"2012-06-30T14:23:10.148Z","type":"message"}
{"nick":"DarkGod","message":"creationix, I shall thanks :)","date":"2012-06-30T14:26:07.478Z","type":"message"}
{"nick":"DarkGod","message":"any way to get the remote IP address of the socket in the net.createServer callback ?","date":"2012-06-30T14:26:39.327Z","type":"message"}
{"nick":"DarkGod","message":"I inspected the stream but it doesnt have it","date":"2012-06-30T14:26:45.838Z","type":"message"}
{"nick":"DarkGod","message":"(sorry I aask much questions, but I really like luvit :) )","date":"2012-06-30T14:28:17.821Z","type":"message"}
{"nick":"philips","reason":"Excess Flood","date":"2012-06-30T14:37:26.299Z","type":"quit"}
{"nick":"creationix","message":"DarkGod, is should be in the res stream","date":"2012-06-30T14:37:31.009Z","type":"message"}
{"nick":"creationix","message":"I remember bindings that (I think)","date":"2012-06-30T14:37:40.140Z","type":"message"}
{"nick":"creationix","message":"DarkGod, and questions are fine, luvit is still young, it makes me happy to see fresh people in here","date":"2012-06-30T14:38:07.402Z","type":"message"}
{"nick":"creationix","message":"DarkGod, ok, so the bindings are here https://github.com/luvit/luvit/blob/master/src/luv_tcp.c#L86-156","date":"2012-06-30T14:39:15.584Z","type":"message"}
{"nick":"creationix","message":"now to figure out how to use this from your lua app","date":"2012-06-30T14:39:24.642Z","type":"message"}
{"nick":"philips","date":"2012-06-30T14:40:13.144Z","type":"join"}
{"nick":"creationix","message":"DarkGod, https://github.com/luvit/luvit/blob/master/lib/luvit/uv.lua#L91-94","date":"2012-06-30T14:40:39.818Z","type":"message"}
{"nick":"creationix","message":"so there are two methods on all tcp streams","date":"2012-06-30T14:40:50.962Z","type":"message"}
{"nick":"creationix","message":"so res:getSockName() or res:getPeerName()","date":"2012-06-30T14:40:59.988Z","type":"message"}
{"nick":"creationix","message":":)","date":"2012-06-30T14:41:00.797Z","type":"message"}
{"nick":"creationix","message":"philips, I love your slides","date":"2012-06-30T14:41:21.209Z","type":"message"}
{"nick":"DarkGod","message":"ah so simple :)","date":"2012-06-30T14:41:22.025Z","type":"message"}
{"nick":"creationix","message":"I'm working on my luvit slides now","date":"2012-06-30T14:41:31.155Z","type":"message"}
{"nick":"creationix","message":"philips, I may borrow some text","date":"2012-06-30T14:41:36.412Z","type":"message"}
{"nick":"philips","message":"creationix: heh, thanks. The luvit ones?","date":"2012-06-30T14:41:41.832Z","type":"message"}
{"nick":"philips","message":"creationix: yea, sure!","date":"2012-06-30T14:41:43.632Z","type":"message"}
{"nick":"creationix","message":"luvit and libuv","date":"2012-06-30T14:41:46.787Z","type":"message"}
{"nick":"creationix","message":"I liked them both","date":"2012-06-30T14:41:49.667Z","type":"message"}
{"nick":"creationix","message":"my talk is about sharing my experience porting node to a new platform","date":"2012-06-30T14:42:04.010Z","type":"message"}
{"nick":"philips","message":":)","date":"2012-06-30T14:42:05.957Z","type":"message"}
{"nick":"creationix","message":"I think I'll just use keynote this time though","date":"2012-06-30T14:42:20.641Z","type":"message"}
{"nick":"creationix","message":"html5 slides take me so much longer because I like to play with the code","date":"2012-06-30T14:42:31.611Z","type":"message"}
{"nick":"DarkGod2","reason":"Ping timeout: 245 seconds","date":"2012-06-30T14:42:55.464Z","type":"quit"}
{"nick":"DarkGod2","date":"2012-06-30T14:43:56.938Z","type":"join"}
{"nick":"DarkGod","message":"when I write to a stream (a fs stream in this case); can I just do:","date":"2012-06-30T15:06:24.294Z","type":"message"}
{"nick":"DarkGod","message":"stream:write(data)","date":"2012-06-30T15:06:32.045Z","type":"message"}
{"nick":"DarkGod","message":"stream:destroy()","date":"2012-06-30T15:06:36.824Z","type":"message"}
{"nick":"DarkGod","message":"or doI need to destroy in a callback ?","date":"2012-06-30T15:06:45.652Z","type":"message"}
{"nick":"charetjc","date":"2012-06-30T15:14:22.028Z","type":"join"}
{"nick":"xming","message":"my arm aches from doing windows builds","date":"2012-06-30T15:17:00.493Z","type":"message"}
{"nick":"tim_smart","message":"My eyes hurt from staring at http implementation","date":"2012-06-30T15:34:11.311Z","type":"message"}
{"nick":"creationix","message":"tim_smart, why is that?","date":"2012-06-30T15:44:26.692Z","type":"message"}
{"nick":"tim_smart","message":"All most 4am","date":"2012-06-30T15:44:44.731Z","type":"message"}
{"nick":"creationix","message":"DarkGod, good question","date":"2012-06-30T15:44:46.120Z","type":"message"}
{"nick":"creationix","message":"I always get confused between end/finish, close, and destroy","date":"2012-06-30T15:45:09.607Z","type":"message"}
{"nick":"creationix","message":"(end in node, finish in luvit)","date":"2012-06-30T15:45:14.692Z","type":"message"}
{"nick":"tim_smart","message":"creationix: I am trying to hook up ServerResponse to the http server","date":"2012-06-30T15:45:19.636Z","type":"message"}
{"nick":"tim_smart","message":"creationix: It's done() in luvit now","date":"2012-06-30T15:45:34.645Z","type":"message"}
{"nick":"creationix","message":":done() is node's .end()?","date":"2012-06-30T15:45:49.309Z","type":"message"}
{"nick":"tim_smart","message":"Yeah","date":"2012-06-30T15:45:55.021Z","type":"message"}
{"nick":"creationix","message":"I vaguly remember that","date":"2012-06-30T15:45:56.991Z","type":"message"}
{"nick":"creationix","message":"I need to find time to use luvit","date":"2012-06-30T15:46:02.933Z","type":"message"}
{"nick":"tim_smart","message":"response:finish needs to be changed, its the only stream that has it","date":"2012-06-30T15:46:23.731Z","type":"message"}
{"nick":"tim_smart","message":"I have a patch for it in a pull request, but it is part of a larger refactor","date":"2012-06-30T15:47:08.303Z","type":"message"}
{"nick":"creationix","message":"tim_smart, cool, just coordinate with rphillips.  I haven't touched that code in a while","date":"2012-06-30T15:54:11.414Z","type":"message"}
{"nick":"tim_smart","message":"rphillips: When I'm back (sleeping now) we should talk about the http server and serverresponse","date":"2012-06-30T15:57:13.950Z","type":"message"}
{"nick":"tim_smart","message":"Anyway, I'm out.","date":"2012-06-30T15:57:25.671Z","type":"message"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-06-30T15:58:03.052Z","type":"nick"}
{"nick":"paulsherwood","date":"2012-06-30T16:00:08.881Z","type":"join"}
{"nick":"DarkGod","message":"hum got a segfault: http://pastebin.com/TLzRR5Zn","date":"2012-06-30T16:31:54.053Z","type":"message"}
{"nick":"DarkGod","message":"does that speak to somebody ?","date":"2012-06-30T16:32:00.186Z","type":"message"}
{"nick":"DarkGod","message":"(the server was under \"heavy\" load, a few hundred clients)","date":"2012-06-30T16:32:23.969Z","type":"message"}
{"nick":"AvianFlu","date":"2012-06-30T16:36:01.295Z","type":"join"}
{"nick":"creationix","message":"DarkGod, unfortunately, nothing jumps out right now.  I don't have time at the moment to help debug it","date":"2012-06-30T16:53:10.498Z","type":"message"}
{"nick":"DarkGod","message":":<","date":"2012-06-30T16:53:48.152Z","type":"message"}
{"nick":"charetjc","message":"i'd check that handle variable at line 219 and verify it has a valid address","date":"2012-06-30T17:13:52.410Z","type":"message"}
{"nick":"CIA-113","message":"Tim Caswell\u000f master\u000f * r4cd3d11\u000f \u000f/ (deps/luajit jit):\u000f Upgrade to luajit v2.0.0-beta10-62 - http://git.io/vOlnvQ","date":"2012-06-30T17:15:08.447Z","type":"message"}
{"nick":"charetjc","message":"then i'd look into why the lua state L switched from 0x40000378 to 0x401ae390, DarkGod","date":"2012-06-30T17:15:55.394Z","type":"message"}
{"nick":"DarkGod","message":"I'm using coroutines, probably why it switches states","date":"2012-06-30T17:16:51.220Z","type":"message"}
{"nick":"creationix","message":"DarkGod, are you using coroutines?","date":"2012-06-30T17:16:53.869Z","type":"message"}
{"nick":"creationix","message":"heh, I guess go","date":"2012-06-30T17:17:00.844Z","type":"message"}
{"nick":"DarkGod","message":"is taht bad ?","date":"2012-06-30T17:17:10.528Z","type":"message"}
{"nick":"creationix","message":"coroutines are still somewhat buggy","date":"2012-06-30T17:17:14.309Z","type":"message"}
{"nick":"creationix","message":"they should work","date":"2012-06-30T17:17:20.131Z","type":"message"}
{"nick":"DarkGod","message":"coroutines allow me to write code in a \"natural\" way instead of event-like","date":"2012-06-30T17:17:22.950Z","type":"message"}
{"nick":"creationix","message":"but most people don't use them, so they get little testing","date":"2012-06-30T17:17:27.468Z","type":"message"}
{"nick":"creationix","message":"DarkGod, are you using my fiber module?","date":"2012-06-30T17:17:37.226Z","type":"message"}
{"nick":"creationix","message":"or raw lua coroutines","date":"2012-06-30T17:17:43.450Z","type":"message"}
{"nick":"DarkGod","message":"nope, cooked my own thing before I found it","date":"2012-06-30T17:17:48.861Z","type":"message"}
{"nick":"creationix","message":"cool","date":"2012-06-30T17:17:53.444Z","type":"message"}
{"nick":"charetjc","message":"so the lua state makes sense, does that handle variable have a valid address?","date":"2012-06-30T17:18:52.063Z","type":"message"}
{"nick":"DarkGod","message":"nothing complex, I bind on stream:data, push data to a buffer; my coroutine when it needs to read a line (its a SMTP-like protocol) will check the buffer, if not filled enough it yields and is resumed one next data","date":"2012-06-30T17:18:59.086Z","type":"message"}
{"nick":"DarkGod","message":"and so on","date":"2012-06-30T17:19:00.529Z","type":"message"}
{"nick":"DarkGod","message":"charetjc, I dont have the app running anymore, the only way to make it crash is to submit it to the real game load, but I cant let the server down for long in prod :/","date":"2012-06-30T17:20:07.018Z","type":"message"}
{"nick":"DarkGod","message":"because obviously when testing it with 1/2 clienst I never got any craash","date":"2012-06-30T17:20:20.366Z","type":"message"}
{"nick":"charetjc","message":"ah","date":"2012-06-30T17:20:42.854Z","type":"message"}
{"nick":"charetjc","message":"how many clients were on when it crashed?","date":"2012-06-30T17:21:01.700Z","type":"message"}
{"nick":"DarkGod","message":"about 100","date":"2012-06-30T17:21:40.388Z","type":"message"}
{"nick":"charetjc","message":"so can't be exceeding the fd limit :/","date":"2012-06-30T17:22:03.637Z","type":"message"}
{"nick":"DarkGod","message":"I can redeply it now and wait for an other crash","date":"2012-06-30T17:22:04.358Z","type":"message"}
{"nick":"DarkGod","message":"(it comes very fast)","date":"2012-06-30T17:22:07.421Z","type":"message"}
{"nick":"DarkGod","message":"na, I increased the fd limit to a lot a long while ago anyway","date":"2012-06-30T17:22:22.879Z","type":"message"}
{"nick":"DarkGod","message":"running, waiting the the crash","date":"2012-06-30T17:23:11.951Z","type":"message"}
{"nick":"aliem","reason":"Remote host closed the connection","date":"2012-06-30T17:24:13.367Z","type":"quit"}
{"nick":"DarkGod","message":"hum got a different one: http://pastebin.com/sFaWNwZ9","date":"2012-06-30T17:25:20.330Z","type":"message"}
{"nick":"DarkGod","message":"the line line repeats a lot (the address changes)","date":"2012-06-30T17:25:29.680Z","type":"message"}
{"nick":"DarkGod","message":"but the stacktrace doesnt show any of my code","date":"2012-06-30T17:25:53.293Z","type":"message"}
{"nick":"DarkGod","message":"ah got the old error again: http://pastebin.com/gTEfY45x","date":"2012-06-30T17:28:17.495Z","type":"message"}
{"nick":"charetjc","message":"i must have a different revision of fs.lua, because line 253 is the end) of a callback","date":"2012-06-30T17:28:26.410Z","type":"message"}
{"nick":"DarkGod","message":"(gdb) p handle","date":"2012-06-30T17:28:30.247Z","type":"message"}
{"nick":"DarkGod","message":"$2 = (uv_stream_t *) 0x0","date":"2012-06-30T17:28:30.445Z","type":"message"}
{"nick":"charetjc","message":"so now the question is \"why's the handle is null?\"","date":"2012-06-30T17:29:22.023Z","type":"message"}
{"nick":"DarkGod","message":"anything else I can check ?","date":"2012-06-30T17:29:23.818Z","type":"message"}
{"nick":"charetjc","message":"at this point i browse the code looking for \"handle = \" lines starting with luv_write()","date":"2012-06-30T17:30:00.058Z","type":"message"}
{"nick":"charetjc","message":"ouch, it's pulled from the Lua state","date":"2012-06-30T17:31:10.800Z","type":"message"}
{"nick":"DarkGod","message":"hum","date":"2012-06-30T17:31:19.818Z","type":"message"}
{"nick":"charetjc","message":"i hate bouncing back and forth between lua and c","date":"2012-06-30T17:31:27.303Z","type":"message"}
{"nick":"DarkGod","message":"handle is a stream right ?","date":"2012-06-30T17:31:32.008Z","type":"message"}
{"nick":"DarkGod","message":"could this be trying to write to a destroyed stream ?","date":"2012-06-30T17:31:43.076Z","type":"message"}
{"nick":"charetjc","message":"possibly","date":"2012-06-30T17:31:53.118Z","type":"message"}
{"nick":"charetjc","message":"either the stream was never created, or it was destroyed","date":"2012-06-30T17:32:13.282Z","type":"message"}
{"nick":"xming","message":"just a wild shot, you :destroy() something that it's there any more?","date":"2012-06-30T17:32:24.348Z","type":"message"}
{"nick":"xming","message":"isn't*","date":"2012-06-30T17:32:37.034Z","type":"message"}
{"nick":"DarkGod","message":"xming, what do you mean ?","date":"2012-06-30T17:32:51.721Z","type":"message"}
{"nick":"xming","message":"that the stream is already terminated","date":"2012-06-30T17:33:15.178Z","type":"message"}
{"nick":"xming","message":"or vice versa","date":"2012-06-30T17:33:21.159Z","type":"message"}
{"nick":"DarkGod","message":"I might have some code :destroy'ing a stram that was already closed or destroyed yes","date":"2012-06-30T17:33:29.044Z","type":"message"}
{"nick":"xming","message":"don't do that :D","date":"2012-06-30T17:33:39.400Z","type":"message"}
{"nick":"DarkGod","message":"shoudlnt it silently ignore the second destroy ?","date":"2012-06-30T17:34:09.820Z","type":"message"}
{"nick":"xming","message":"I am not saying it's not a bug :D","date":"2012-06-30T17:35:11.499Z","type":"message"}
{"nick":"charetjc","message":"from what I see in luv_stream.c, values pulled from udata aren't sanity checked, they're assumed to be valid.","date":"2012-06-30T17:35:28.887Z","type":"message"}
{"nick":"DarkGod","message":"hum","date":"2012-06-30T17:35:51.735Z","type":"message"}
{"nick":"DarkGod","message":"ah I see in the stream object there isa destroyed field, I can use that to check I suppose","date":"2012-06-30T17:39:17.053Z","type":"message"}
{"nick":"DarkGod","message":"*test*","date":"2012-06-30T17:42:10.300Z","type":"message"}
{"nick":"DarkGod","message":"hum I have protected all my destroy's and write's with an if not stream.destroyed","date":"2012-06-30T17:46:31.537Z","type":"message"}
{"nick":"DarkGod","message":"but  I still get it :/","date":"2012-06-30T17:46:35.157Z","type":"message"}
{"nick":"charetjc","message":"i'm not sure what it is then.  i'd be inclined to check whether the stream handle was never created or erroneously overwritten.","date":"2012-06-30T17:50:21.460Z","type":"message"}
{"nick":"DarkGod","message":"how could it never be created ? the only streams are use are the ones I get from createServer callback","date":"2012-06-30T17:51:22.985Z","type":"message"}
{"nick":"DarkGod","message":"and some fileoutput","date":"2012-06-30T17:51:30.614Z","type":"message"}
{"nick":"DarkGod","message":"but I only use fs.writeFile so I dont even do the opening/writing myself","date":"2012-06-30T17:51:47.567Z","type":"message"}
{"nick":"charetjc","message":"sorry, i'm not familiar enough with luvit to deduce where that particular bug is likely to occur.","date":"2012-06-30T17:53:11.583Z","type":"message"}
{"nick":"DarkGod","message":":<","date":"2012-06-30T17:53:31.159Z","type":"message"}
{"nick":"charetjc","message":"i mean, you have no stream when the segfault occurs, handle == NULL.","date":"2012-06-30T17:53:53.830Z","type":"message"}
{"nick":"charetjc","message":"if the stream isn't destroyed like you said, how else is that handle set to NULL","date":"2012-06-30T17:54:17.772Z","type":"message"}
{"nick":"DarkGod","message":"well I read stream.destroyed; maybe it is not correctly set when the stream dies in some way ?","date":"2012-06-30T17:55:56.201Z","type":"message"}
{"nick":"charetjc","message":"that's also a possibility","date":"2012-06-30T17:56:05.178Z","type":"message"}
{"nick":"charetjc","message":"i'm still sorting through the luv_write() function","date":"2012-06-30T17:56:48.481Z","type":"message"}
{"nick":"charetjc","message":"what i find wierd... luv_write() calls luv_checkudata(L, 1, \"stream\")...","date":"2012-06-30T17:57:36.468Z","type":"message"}
{"nick":"charetjc","message":"but luv_checkudata() nevery uses that third argument, \"stream\".","date":"2012-06-30T17:57:55.471Z","type":"message"}
{"nick":"charetjc","message":"*never","date":"2012-06-30T17:58:06.838Z","type":"message"}
{"nick":"charetjc","message":"fat fingers ><","date":"2012-06-30T17:58:11.333Z","type":"message"}
{"nick":"DarkGod","message":"heh hum","date":"2012-06-30T17:58:35.717Z","type":"message"}
{"nick":"charetjc","message":"if the stream object, T, is a lua table, then I imagine the uv_handle_t* is stored T[\"userdata\"] according to luv_checkudata()","date":"2012-06-30T18:01:19.626Z","type":"message"}
{"nick":"charetjc","message":"when you check for stream.destroyed, you might also check stream.userdata","date":"2012-06-30T18:02:03.108Z","type":"message"}
{"nick":"DarkGod","message":"I can try that after eating :)","date":"2012-06-30T18:02:56.625Z","type":"message"}
{"nick":"charetjc","message":"sure.  bon appetite","date":"2012-06-30T18:03:16.959Z","type":"message"}
{"nick":"DarkGod","message":"re","date":"2012-06-30T19:09:20.851Z","type":"message"}
{"nick":"charetjc","message":"w","date":"2012-06-30T19:09:29.578Z","type":"message"}
{"nick":"charetjc","message":"wb","date":"2012-06-30T19:09:30.360Z","type":"message"}
{"nick":"DarkGod","message":"I checked stream._handle.userdata but no luck :/","date":"2012-06-30T19:09:39.188Z","type":"message"}
{"nick":"charetjc","message":"why the _handle?","date":"2012-06-30T19:10:59.127Z","type":"message"}
{"nick":"DarkGod","message":"because stream.userdata just doestn exist, ever","date":"2012-06-30T19:11:31.598Z","type":"message"}
{"nick":"DarkGod","message":"I did, p(stream) and it's never listed","date":"2012-06-30T19:11:42.180Z","type":"message"}
{"nick":"charetjc","message":"ah","date":"2012-06-30T19:12:02.843Z","type":"message"}
{"nick":"charetjc","message":"well, i'm lost then","date":"2012-06-30T19:12:20.979Z","type":"message"}
{"nick":"DarkGod","message":":<","date":"2012-06-30T19:12:57.406Z","type":"message"}
{"nick":"charetjc","message":"i've been trying to figure out where this userdata that luv_checkudata() uses comes from, with no luck","date":"2012-06-30T19:14:05.646Z","type":"message"}
{"nick":"charetjc","message":"but then again, luv_checkudata() only accesses t.userdata if t is a table.","date":"2012-06-30T19:14:53.616Z","type":"message"}
{"nick":"charetjc","message":"i guess t isn't a table then ><","date":"2012-06-30T19:15:04.235Z","type":"message"}
{"nick":"DarkGod","message":"humm","date":"2012-06-30T19:20:02.545Z","type":"message"}
{"nick":"charetjc","message":"any idea which line of your lua code is producing this segfault?","date":"2012-06-30T19:22:37.493Z","type":"message"}
{"nick":"DarkGod","message":"no :/","date":"2012-06-30T19:26:01.545Z","type":"message"}
{"nick":"DarkGod","message":"I wonder if it would be opssible to get a lua traceback on crash with gdb, any ideas?","date":"2012-06-30T19:26:20.760Z","type":"message"}
{"nick":"charetjc","message":"do you have a sample line of lua using the write function?","date":"2012-06-30T19:26:24.362Z","type":"message"}
{"nick":"xming","message":"is it the destroy()? Does it happen when you don't destroy?","date":"2012-06-30T19:26:46.038Z","type":"message"}
{"nick":"charetjc","message":"no clue on that traceback","date":"2012-06-30T19:26:56.099Z","type":"message"}
{"nick":"xming","message":"you will probably running out of fd :d","date":"2012-06-30T19:26:57.523Z","type":"message"}
{"nick":"charetjc","message":"we considered lack of fd's earlier","date":"2012-06-30T19:27:54.588Z","type":"message"}
{"nick":"charetjc","message":"but then again, DarkGod, when you increased the fd limit, are you sure you set it to a higher number?","date":"2012-06-30T19:28:33.435Z","type":"message"}
{"nick":"xming","message":"it heppends with write(), is it trying to write to an destroyed stream?","date":"2012-06-30T19:28:35.958Z","type":"message"}
{"nick":"DarkGod","message":"seems to","date":"2012-06-30T19:28:53.759Z","type":"message"}
{"nick":"DarkGod","message":"\tif not self.stream.destroyed and self.stream._handle.userdata and not self.stream:write(s:format(...)) then","date":"2012-06-30T19:28:57.936Z","type":"message"}
{"nick":"philips","reason":"Excess Flood","date":"2012-06-30T19:29:26.489Z","type":"quit"}
{"nick":"charetjc","message":"the userdata thing was my idea, i think we can toss that out now","date":"2012-06-30T19:29:45.976Z","type":"message"}
{"nick":"charetjc","message":"xming, how would you check whether a stream is destroyed before writing to it?","date":"2012-06-30T19:30:18.052Z","type":"message"}
{"nick":"xming","message":"where do you use destroy? If I am correct the connection is shutdown automatically unless errors happens","date":"2012-06-30T19:30:25.386Z","type":"message"}
{"nick":"xming","message":"charetjc: I onlt destroy on error, I I would never write to a manually destroyed stream","date":"2012-06-30T19:31:02.056Z","type":"message"}
{"nick":"DarkGod","message":"well when the server receives a QUIT comand it needs to destroy the connection","date":"2012-06-30T19:31:53.403Z","type":"message"}
{"nick":"DarkGod","message":"you cant trust the client to do it","date":"2012-06-30T19:32:00.810Z","type":"message"}
{"nick":"philips","date":"2012-06-30T19:32:47.015Z","type":"join"}
{"nick":"xming","message":"so why are you writing tot the destroyed stream?","date":"2012-06-30T19:33:32.416Z","type":"message"}
{"nick":"xming","message":"yeas I forgot that I do destroy and on:end too","date":"2012-06-30T19:34:16.324Z","type":"message"}
{"nick":"DarkGod","message":"but I dont :/","date":"2012-06-30T19:35:24.555Z","type":"message"}
{"nick":"DarkGod","message":"I'm in a coroutine, running a while loop; when the loop ends the connection is destroyed","date":"2012-06-30T19:35:38.815Z","type":"message"}
{"nick":"DarkGod","message":"and writes can only be called inside the while","date":"2012-06-30T19:35:46.057Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 265 seconds","date":"2012-06-30T19:36:31.440Z","type":"quit"}
{"nick":"xming","message":"but you can still use a conn:on(\"end\", func() ...)","date":"2012-06-30T19:37:34.276Z","type":"message"}
{"nick":"xming","message":"to catch the case where the stream is down w/o probper shutdowns","date":"2012-06-30T19:37:47.674Z","type":"message"}
{"nick":"xming","message":"I am just guessing that you write() to a timeout/broken stream","date":"2012-06-30T19:39:34.622Z","type":"message"}
{"nick":"DarkGod","message":"but how can I test for it ?","date":"2012-06-30T19:40:35.175Z","type":"message"}
{"nick":"xming","message":"with what you did :|","date":"2012-06-30T19:45:52.666Z","type":"message"}
{"nick":"xming","message":"Can you start to reproduce this with just 1~2 client? Force shutdown the connection?","date":"2012-06-30T19:46:45.262Z","type":"message"}
{"nick":"xming","message":"is it TCP?","date":"2012-06-30T19:46:57.398Z","type":"message"}
{"nick":"philips","message":"DarkGod: can you post the code or something so I can reproduce?","date":"2012-06-30T19:46:57.636Z","type":"message"}
{"nick":"xming","message":"philips: for started ATM he need live env to have this triggered","date":"2012-06-30T19:47:24.956Z","type":"message"}
{"nick":"DarkGod","message":"the code needsa database & many other htings connected to work :/ I'm trying to get a minimal example of failure but it's kinda hard since I dont know whats wrong :/","date":"2012-06-30T19:47:51.548Z","type":"message"}
{"nick":"philips","message":"ah, ok","date":"2012-06-30T19:48:03.903Z","type":"message"}
{"nick":"DarkGod","message":"I did earlier a simple test taht ran thousands of connections that opened/pinged/closed; and it never failed","date":"2012-06-30T19:48:16.853Z","type":"message"}
{"nick":"philips","message":"I bet it has something to do with destroying and then some other part of the code being naive","date":"2012-06-30T19:48:23.074Z","type":"message"}
{"nick":"philips","message":"You are using coroutines so it probably isn't related to the gc avoiding code I did for callbacks","date":"2012-06-30T19:48:53.958Z","type":"message"}
{"nick":"xming","message":"oh great, clicked wrong button and VS is rebuilding everything :/","date":"2012-06-30T19:51:33.663Z","type":"message"}
{"nick":"xming","message":"GUI for development, seriously?","date":"2012-06-30T19:51:51.742Z","type":"message"}
{"nick":"DarkGod","message":":>","date":"2012-06-30T19:53:24.122Z","type":"message"}
{"nick":"xming","message":"philips: are you guys using VS and mingw?","date":"2012-06-30T19:56:34.606Z","type":"message"}
{"nick":"philips","message":"xming: we are using msys git and vs 2010","date":"2012-06-30T19:57:01.508Z","type":"message"}
{"nick":"xming","message":"I thought someone here needed mingw support too","date":"2012-06-30T19:57:50.323Z","type":"message"}
{"nick":"philips","message":"xming: It wasn't me.","date":"2012-06-30T19:58:33.310Z","type":"message"}
{"nick":"xming","message":"roger","date":"2012-06-30T19:58:41.288Z","type":"message"}
{"nick":"philips","message":"xming: pancake was aking about it in march according to my logs","date":"2012-06-30T19:59:25.040Z","type":"message"}
{"nick":"philips","message":"other than that I don't see much","date":"2012-06-30T19:59:31.239Z","type":"message"}
{"nick":"xming","message":"ty","date":"2012-06-30T19:59:39.308Z","type":"message"}
{"nick":"xming","message":"philips: I was thinking about to let luajit to generate .c instead of .o/.ojb so we can eliminate the export hack","date":"2012-06-30T20:00:31.596Z","type":"message"}
{"nick":"philips","message":"xming: what is the export hack?","date":"2012-06-30T20:00:57.777Z","type":"message"}
{"nick":"xming","message":"luvit_exports.c","date":"2012-06-30T20:01:30.847Z","type":"message"}
{"nick":"philips","message":"xming: ah, right. Getting rid of that hack would be nice","date":"2012-06-30T20:02:10.234Z","type":"message"}
{"nick":"xming","message":"I don' know about beta9 but beta10 of luajit can generate bytecode embeded in a .c","date":"2012-06-30T20:03:00.013Z","type":"message"}
{"nick":"philips","message":"xming: the changelog seems to have that as a beta9 feature","date":"2012-06-30T20:04:25.291Z","type":"message"}
{"nick":"philips","message":"would be cool","date":"2012-06-30T20:04:28.450Z","type":"message"}
{"nick":"xming","message":"I get unresolved symbols of those bytecodes with VS :/","date":"2012-06-30T20:05:03.838Z","type":"message"}
{"nick":"xming","message":"and since I also wanted corss compiling this makes sense","date":"2012-06-30T20:05:19.084Z","type":"message"}
{"nick":"xming","message":"this will facilitate cross-compiling","date":"2012-06-30T20:05:31.939Z","type":"message"}
{"nick":"creationix","message":"wow, our API really does match node's","date":"2012-06-30T20:40:25.888Z","type":"message"}
{"nick":"creationix","message":"check out this slide from my preso next week http://creationix.com/compare.png","date":"2012-06-30T20:40:34.458Z","type":"message"}
{"nick":"creationix","message":"yes, the projectors wil be 1080p :)","date":"2012-06-30T20:41:02.171Z","type":"message"}
{"nick":"philips","message":"creationix: we should create a console table with log = print :)","date":"2012-06-30T20:58:16.595Z","type":"message"}
{"nick":"creationix","message":"I guess","date":"2012-06-30T20:59:21.155Z","type":"message"}
{"nick":"creationix","message":"I prefer print","date":"2012-06-30T20:59:23.426Z","type":"message"}
{"nick":"creationix","message":"but yeah, that's the only API diff in the slide","date":"2012-06-30T20:59:52.706Z","type":"message"}
{"nick":"creationix","message":"it's just that console.log is a lot more than just print","date":"2012-06-30T21:00:12.905Z","type":"message"}
{"nick":"xming","message":"charetjc: it fits my screen :D","date":"2012-06-30T21:47:54.498Z","type":"message"}
{"nick":"xming","message":"creationix: it fits my screen :D","date":"2012-06-30T21:48:04.320Z","type":"message"}
{"nick":"creationix","message":"yeah, both my desktops are 1080p","date":"2012-06-30T21:48:19.294Z","type":"message"}
{"nick":"creationix","message":"it's quite convenient","date":"2012-06-30T21:48:23.880Z","type":"message"}
{"nick":"xming","message":"2560x1440 is even better","date":"2012-06-30T21:51:21.573Z","type":"message"}
{"nick":"xming","message":"I bought a IPS 27\" for less than 300 euro","date":"2012-06-30T21:51:44.942Z","type":"message"}
{"nick":"indexzero","date":"2012-06-30T21:54:32.395Z","type":"join"}
{"nick":"creationix","message":"did we never bind uv_get_process_title?","date":"2012-06-30T22:13:03.941Z","type":"message"}
{"nick":"creationix","message":"process.title is nil","date":"2012-06-30T22:13:10.259Z","type":"message"}
{"nick":"xming","message":"apparently those kind of monitor only costs 200 USD retail in korea (abeit not a+ panel but A/A-","date":"2012-06-30T22:13:25.858Z","type":"message"}
{"nick":"xming","message":"apple and dell are selling them with huge margins","date":"2012-06-30T22:13:40.272Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-06-30T22:16:38.649Z","type":"quit"}
{"nick":"DarkGod","message":"about the error I am having, I narrowed it down a bit; my clients have two sockets each, one for commands and one for random data push; it bugs when (somtimes) I send a push to a client","date":"2012-06-30T22:58:44.996Z","type":"message"}
{"nick":"DarkGod","message":"I inspect the push stream jsut before sending and it's not set as destroyed though","date":"2012-06-30T22:59:05.194Z","type":"message"}
{"nick":"DarkGod","message":"when it disconnects I kill the stream AND set a special field so I know it's one; so I dont push after death","date":"2012-06-30T23:00:11.166Z","type":"message"}
{"nick":"indexzero","date":"2012-06-30T23:11:55.080Z","type":"join"}
{"nick":"DarkGod","message":"http://pastebin.com/qGCv0dun","date":"2012-06-30T23:19:58.456Z","type":"message"}
{"nick":"DarkGod","message":"I put a stackdump right before t he crash","date":"2012-06-30T23:20:11.862Z","type":"message"}
{"nick":"DarkGod","message":"handle is null and yet the 1 stack item is a userdata (and handle is gotten form stack item 1)","date":"2012-06-30T23:20:43.687Z","type":"message"}
{"nick":"DarkGod","message":"  uv_stream_t* handle = (uv_stream_t*)luv_checkudata(L, 1, \"stream\");","date":"2012-06-30T23:24:10.461Z","type":"message"}
{"nick":"DarkGod","message":"it seems this actually returns [stack item1]->handle","date":"2012-06-30T23:24:24.537Z","type":"message"}
{"nick":"DarkGod","message":"so the stack item is indeed there but it missed an initialization ? or somesuch","date":"2012-06-30T23:24:47.859Z","type":"message"}
{"nick":"DarkGod","message":"philips, creationix , xming; does this help ?","date":"2012-06-30T23:25:28.521Z","type":"message"}
{"nick":"creationix","message":"DarkGod: I really do wish I had time to help right now, but I'm up against a tight deadline at the moment","date":"2012-06-30T23:27:02.171Z","type":"message"}
{"nick":"creationix","message":"I can tell you that I call all callbacks in the main \"thread\"","date":"2012-06-30T23:27:14.352Z","type":"message"}
{"nick":"creationix","message":"even if they were registered from a coroutine","date":"2012-06-30T23:27:21.360Z","type":"message"}
{"nick":"creationix","message":"not sure if this issue is coroutine related though","date":"2012-06-30T23:27:43.934Z","type":"message"}
{"nick":"DarkGod","message":"why not call them in the thread that registered them ? but anyway I dont think this should be the problem; the callbacks I use are in the main thread","date":"2012-06-30T23:29:27.130Z","type":"message"}
{"nick":"DarkGod","message":"I put a simple :   if (!handle) return 0;","date":"2012-06-30T23:29:57.767Z","type":"message"}
{"nick":"DarkGod","message":"in the function; we'll see if this still crashes; still I feel this is the wrong solution :)","date":"2012-06-30T23:29:57.945Z","type":"message"}
{"nick":"DarkGod","message":"did the same in luv_write_queue_size","date":"2012-06-30T23:34:29.773Z","type":"message"}
{"nick":"DarkGod","message":"seems to not crash anymore","date":"2012-06-30T23:34:34.801Z","type":"message"}
{"nick":"creationix","message":"if you could, file an issue on github detailing what you found.  I'll look into it when I get a chance","date":"2012-06-30T23:35:31.483Z","type":"message"}
{"nick":"DarkGod","message":"sure","date":"2012-06-30T23:36:38.609Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-30T23:48:16.259Z","type":"join"}

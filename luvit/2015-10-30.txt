{"nick":"hdms","reason":"Remote host closed the connection","date":"2015-10-30T01:15:42.704Z","type":"quit"}
{"nick":"hdms","date":"2015-10-30T01:16:32.330Z","type":"join"}
{"nick":"dan336","date":"2015-10-30T01:55:04.371Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2015-10-30T02:42:34.717Z","type":"quit"}
{"nick":"kostco","reason":"Read error: Connection reset by peer","date":"2015-10-30T03:05:20.425Z","type":"quit"}
{"nick":"Michalik","reason":"Ping timeout: 268 seconds","date":"2015-10-30T03:06:01.574Z","type":"quit"}
{"nick":"tfnico","reason":"Write error: Connection reset by peer","date":"2015-10-30T03:06:12.013Z","type":"quit"}
{"nick":"piernov","reason":"Ping timeout: 250 seconds","date":"2015-10-30T03:07:17.536Z","type":"quit"}
{"nick":"kostco","date":"2015-10-30T03:07:37.176Z","type":"join"}
{"nick":"piernov","date":"2015-10-30T03:07:55.137Z","type":"join"}
{"nick":"Michalik","date":"2015-10-30T03:09:04.518Z","type":"join"}
{"nick":"dan336","date":"2015-10-30T03:14:02.403Z","type":"join"}
{"nick":"tfnico","date":"2015-10-30T03:15:08.203Z","type":"join"}
{"nick":"SkyRocknRoll","date":"2015-10-30T04:42:37.162Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2015-10-30T04:59:49.839Z","type":"quit"}
{"nick":"hdms","reason":"Quit: hdms","date":"2015-10-30T05:53:56.731Z","type":"quit"}
{"nick":"Something12","reason":"Ping timeout: 265 seconds","date":"2015-10-30T06:16:17.616Z","type":"quit"}
{"nick":"SkyRocknRoll","reason":"Ping timeout: 240 seconds","date":"2015-10-30T07:19:59.130Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2015-10-30T07:33:07.590Z","type":"join"}
{"nick":"DarkGod","date":"2015-10-30T08:27:22.827Z","type":"join"}
{"nick":"Michalik","reason":"Ping timeout: 246 seconds","date":"2015-10-30T09:52:04.585Z","type":"quit"}
{"nick":"Michalik","date":"2015-10-30T09:52:46.085Z","type":"join"}
{"nick":"hdms","date":"2015-10-30T11:47:03.917Z","type":"join"}
{"nick":"dan336","date":"2015-10-30T14:33:42.338Z","type":"join"}
{"nick":"creationix","message":"rphillips, you're right, it is still leaking, but much slower","date":"2015-10-30T14:40:47.916Z","type":"message"}
{"nick":"creationix","message":"we're down to 2 new heap objects per request instead of ~40","date":"2015-10-30T14:43:09.664Z","type":"message"}
{"nick":"creationix","message":"https://gist.github.com/creationix/85b52a2c49530d87e8b0","date":"2015-10-30T14:44:55.047Z","type":"message"}
{"nick":"creationix","message":"leaking about 700 bytes per request","date":"2015-10-30T14:46:57.443Z","type":"message"}
{"nick":"piernov","reason":"Ping timeout: 240 seconds","date":"2015-10-30T15:06:46.145Z","type":"quit"}
{"nick":"piernov","date":"2015-10-30T15:07:10.165Z","type":"join"}
{"nick":"rphillips","message":"hmm","date":"2015-10-30T15:17:35.345Z","type":"message"}
{"nick":"creationix","message":"actually, it seems there are no heap objects leaking at all, I wonder what's causing the 700 bytes","date":"2015-10-30T15:32:54.762Z","type":"message"}
{"nick":"SkyRocknRoll","reason":"Ping timeout: 256 seconds","date":"2015-10-30T15:38:29.342Z","type":"quit"}
{"nick":"rphillips","message":"might be allocated objects in lua","date":"2015-10-30T15:39:44.691Z","type":"message"}
{"nick":"rphillips","message":"just saw your comment","date":"2015-10-30T15:47:26.111Z","type":"message"}
{"nick":"rphillips","message":"creationix: try calling collectgarbage() twice","date":"2015-10-30T15:48:36.810Z","type":"message"}
{"nick":"rphillips","message":"sometimes the lua gc marks it for GC on the first pass","date":"2015-10-30T15:48:51.941Z","type":"message"}
{"nick":"rphillips","message":"creationix: i tried your leak checker. first pass is 0 leaks","date":"2015-10-30T15:54:05.124Z","type":"message"}
{"nick":"rphillips","message":"then the next pass is 8 objects","date":"2015-10-30T15:54:24.785Z","type":"message"}
{"nick":"creationix","message":"without the patch?","date":"2015-10-30T15:54:25.258Z","type":"message"}
{"nick":"rphillips","message":"with the path","date":"2015-10-30T15:54:32.133Z","type":"message"}
{"nick":"rphillips","message":"patch","date":"2015-10-30T15:54:34.463Z","type":"message"}
{"nick":"rphillips","message":"then 13 on the next pass","date":"2015-10-30T15:54:43.185Z","type":"message"}
{"nick":"rphillips","message":"11 on the 3rd","date":"2015-10-30T15:54:50.752Z","type":"message"}
{"nick":"rphillips","message":"this is what I tested: https://gist.github.com/rphillips/9b72ceee15895a8bc513","date":"2015-10-30T15:56:08.152Z","type":"message"}
{"nick":"creationix","message":"oh interesting, check on end","date":"2015-10-30T15:56:41.643Z","type":"message"}
{"nick":"rphillips","message":"changing that to 'close' is a tad better","date":"2015-10-30T15:56:55.469Z","type":"message"}
{"nick":"rphillips","message":"but I still see a few objects","date":"2015-10-30T15:57:00.488Z","type":"message"}
{"nick":"creationix","message":"try with a timer, something like 100ms","date":"2015-10-30T15:57:53.674Z","type":"message"}
{"nick":"creationix","message":"you're sending the request one a time manually right?","date":"2015-10-30T15:58:06.254Z","type":"message"}
{"nick":"creationix","message":"I'm still getting zero leaks on the fix-exit-leak branch","date":"2015-10-30T15:59:16.970Z","type":"message"}
{"nick":"creationix","message":"even moving leak-check to the end event","date":"2015-10-30T15:59:24.511Z","type":"message"}

{"nick":"jirwin","message":"creationix: nice!","date":"2014-09-26T00:19:42.404Z","type":"message"}
{"nick":"DarkGod","reason":"Ping timeout: 246 seconds","date":"2014-09-26T00:31:27.431Z","type":"quit"}
{"nick":"rphillips","message":"creationix: a release anytime would be great","date":"2014-09-26T01:16:33.018Z","type":"message"}
{"nick":"kazupon","date":"2014-09-26T01:42:27.974Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-09-26T03:34:23.804Z","type":"quit"}
{"nick":"kazupon","date":"2014-09-26T03:34:50.582Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2014-09-26T03:39:03.329Z","type":"quit"}
{"nick":"kazupon","date":"2014-09-26T04:19:17.531Z","type":"join"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-09-26T04:32:59.086Z","type":"quit"}
{"nick":"novikane","reason":"Ping timeout: 272 seconds","date":"2014-09-26T05:01:48.162Z","type":"quit"}
{"nick":"tim_smart","reason":"Quit: leaving","date":"2014-09-26T05:28:12.703Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-09-26T06:30:28.257Z","type":"quit"}
{"nick":"kazupon","date":"2014-09-26T06:30:56.270Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2014-09-26T06:31:17.277Z","type":"quit"}
{"nick":"kazupon_","date":"2014-09-26T06:31:22.519Z","type":"join"}
{"nick":"kazupon","date":"2014-09-26T07:11:59.731Z","type":"join"}
{"nick":"kazupon_","reason":"Ping timeout: 246 seconds","date":"2014-09-26T07:15:00.421Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2014-09-26T07:16:27.546Z","type":"quit"}
{"nick":"DarkGod","date":"2014-09-26T07:19:02.261Z","type":"join"}
{"nick":"kazupon","date":"2014-09-26T07:38:20.083Z","type":"join"}
{"nick":"DarkGod","reason":"Ping timeout: 272 seconds","date":"2014-09-26T10:44:37.616Z","type":"quit"}
{"nick":"DarkGod","date":"2014-09-26T10:57:33.067Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-09-26T11:03:52.057Z","type":"quit"}
{"nick":"kazupon","date":"2014-09-26T11:04:20.292Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 244 seconds","date":"2014-09-26T11:08:52.075Z","type":"quit"}
{"nick":"a_le","date":"2014-09-26T12:54:17.091Z","type":"join"}
{"nick":"kazupon","date":"2014-09-26T13:31:18.380Z","type":"join"}
{"nick":"dan336","date":"2014-09-26T14:20:22.775Z","type":"join"}
{"nick":"creationix","message":"it seems there is a memory leak we should fix before releasing","date":"2014-09-26T14:34:50.699Z","type":"message"}
{"nick":"rphillips","message":"where?","date":"2014-09-26T14:38:06.182Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/luvit/issues/509#issuecomment-56918579","date":"2014-09-26T14:39:59.425Z","type":"message"}
{"nick":"creationix","message":"hmm, I can’t seem to find the actual issue as the moment.  He’s in some asia timezone I think so it probably asleep now","date":"2014-09-26T14:41:13.518Z","type":"message"}
{"nick":"creationix","message":"rphillips: how much do you know about coroutines and garbage collection in lua?  They are different enough from es6 generators to be extremely confusing for me","date":"2014-09-26T14:42:27.324Z","type":"message"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-09-26T14:43:02.252Z","type":"quit"}
{"nick":"rphillips","message":"very little","date":"2014-09-26T14:43:13.380Z","type":"message"}
{"nick":"creationix","message":"cool, I’ve got an idea what’s wrong, was just hoping for some extra help.","date":"2014-09-26T14:44:09.856Z","type":"message"}
{"nick":"rphillips","message":"http://stackoverflow.com/questions/3642808/abandoning-coroutines","date":"2014-09-26T14:44:33.733Z","type":"message"}
{"nick":"rphillips","message":"this has a linked pdf","date":"2014-09-26T14:44:39.743Z","type":"message"}
{"nick":"creationix","message":"Also Predawn for sublime combined with clang linter is a thing of beauty","date":"2014-09-26T14:44:55.892Z","type":"message"}
{"nick":"creationix","message":"yep, my issue is they are being collected before I’m done with them","date":"2014-09-26T14:45:45.602Z","type":"message"}
{"nick":"creationix","message":"libuv bindings allow me to keep references that lua vm doesn’t know about","date":"2014-09-26T14:46:01.886Z","type":"message"}
{"nick":"rphillips","message":"gotcha","date":"2014-09-26T14:46:19.421Z","type":"message"}
{"nick":"creationix","message":"(at least I assume that the issue, adding collectgarbage() everywhere triggers the bug)","date":"2014-09-26T14:46:20.998Z","type":"message"}
{"nick":"rphillips","message":"https://github.com/kernelsauce/turbo/blob/master/turbo/ioloop.lua#L163","date":"2014-09-26T14:48:54.369Z","type":"message"}
{"nick":"rphillips","message":"turbo keeps a reference for non-finalized coroutines","date":"2014-09-26T14:49:13.321Z","type":"message"}
{"nick":"creationix","message":"I don’t want users of luv to have to do special things in lua side.  It’s already bad that they have to remember to close all handles instead of automatically gc and close them.","date":"2014-09-26T14:52:11.308Z","type":"message"}
{"nick":"creationix","message":"for userdata, I’m storing a reference in the global registry from creation till uv_close","date":"2014-09-26T14:52:42.919Z","type":"message"}
{"nick":"creationix","message":"(till close callback actually)","date":"2014-09-26T14:52:51.112Z","type":"message"}
{"nick":"creationix","message":"so that makes  uv_loop_t* uv_req_t* and uv_handle_t* instances all safe","date":"2014-09-26T14:53:13.780Z","type":"message"}
{"nick":"rphillips","message":"makes sense","date":"2014-09-26T14:53:14.132Z","type":"message"}
{"nick":"creationix","message":"but I’m trying an experiment and blocking coroutines for one-off actions like uv.close and uv.write","date":"2014-09-26T14:53:48.787Z","type":"message"}
{"nick":"creationix","message":"and all multiple emitters like timeouts and server connections create a new coroutine for the callback to run in","date":"2014-09-26T14:54:15.227Z","type":"message"}
{"nick":"a_le","date":"2014-09-26T14:56:36.996Z","type":"join"}
{"nick":"creationix","message":"ok, I think it’s my user-created coroutine getting collected.  I never create one in C side in this case.  I guess I need to always ref the currently running lua_State when yielding in C","date":"2014-09-26T15:00:01.926Z","type":"message"}
{"nick":"rphillips","message":"i don't know what leak imzyxwvu is talking about","date":"2014-09-26T15:34:35.179Z","type":"message"}
{"nick":"creationix","message":"I think hes confusing luv with luvit","date":"2014-09-26T15:38:03.085Z","type":"message"}

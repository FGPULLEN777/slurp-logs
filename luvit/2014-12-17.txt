{"nick":"travis-ci","date":"2014-12-17T00:00:37.142Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1408 (luvi-up - 09f4666 : Tim Caswell): The build passed.","date":"2014-12-17T00:00:37.329Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/829820f616cb...09f4666382f3","date":"2014-12-17T00:00:37.329Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/44274781","date":"2014-12-17T00:00:37.330Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-17T00:00:37.330Z","type":"part"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2014-12-17T00:52:42.828Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T02:22:03.133Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 240 seconds","date":"2014-12-17T02:27:17.305Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T02:28:56.873Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 264 seconds","date":"2014-12-17T03:13:41.848Z","type":"quit"}
{"nick":"dan336","date":"2014-12-17T03:36:03.730Z","type":"join"}
{"nick":"cledev","date":"2014-12-17T04:04:11.525Z","type":"join"}
{"nick":"cledev","reason":"Client Quit","date":"2014-12-17T04:08:09.575Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T04:19:21.362Z","type":"join"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-12-17T04:30:06.049Z","type":"quit"}
{"nick":"cledev","reason":"Ping timeout: 264 seconds","date":"2014-12-17T04:58:01.338Z","type":"quit"}
{"nick":"DarkGod","reason":"Ping timeout: 258 seconds","date":"2014-12-17T04:59:13.676Z","type":"quit"}
{"nick":"DarkGod","date":"2014-12-17T04:59:36.871Z","type":"join"}
{"nick":"cledev","date":"2014-12-17T06:24:29.281Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-17T06:35:14.914Z","type":"quit"}
{"nick":"cledev","reason":"Ping timeout: 250 seconds","date":"2014-12-17T07:48:40.331Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T07:52:24.320Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 250 seconds","date":"2014-12-17T09:06:14.321Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T09:11:20.504Z","type":"join"}
{"nick":"cledev","reason":"Remote host closed the connection","date":"2014-12-17T09:23:15.407Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T09:24:23.904Z","type":"join"}
{"nick":"a_le","date":"2014-12-17T09:40:57.327Z","type":"join"}
{"nick":"cledev","reason":"Read error: Connection reset by peer","date":"2014-12-17T10:25:30.984Z","type":"quit"}
{"nick":"cledev","date":"2014-12-17T10:26:42.621Z","type":"join"}
{"nick":"torpor1","date":"2014-12-17T10:51:38.331Z","type":"join"}
{"nick":"torpor","reason":"Ping timeout: 252 seconds","date":"2014-12-17T10:53:49.296Z","type":"quit"}
{"nick":"DarkGod","reason":"Remote host closed the connection","date":"2014-12-17T13:32:08.640Z","type":"quit"}
{"nick":"DarkGod","date":"2014-12-17T13:33:24.065Z","type":"join"}
{"nick":"KennethWilke","date":"2014-12-17T14:53:14.155Z","type":"join"}
{"nick":"torpor1","reason":"Read error: Connection reset by peer","date":"2014-12-17T14:55:55.777Z","type":"quit"}
{"nick":"torpor","date":"2014-12-17T14:56:17.327Z","type":"join"}
{"nick":"torpor","reason":"Quit: Leaving.","date":"2014-12-17T15:15:57.380Z","type":"quit"}
{"nick":"torpor","date":"2014-12-17T15:16:13.362Z","type":"join"}
{"nick":"dan336","date":"2014-12-17T15:19:38.753Z","type":"join"}
{"nick":"torpor","date":"2014-12-17T15:24:57.903Z","type":"part"}
{"nick":"KennethWilke","reason":"Remote host closed the connection","date":"2014-12-17T15:29:17.738Z","type":"quit"}
{"nick":"KennethWilke","date":"2014-12-17T15:33:00.507Z","type":"join"}
{"nick":"xt","date":"2014-12-17T15:36:20.113Z","type":"join"}
{"nick":"KennethWilke","message":"g'morning","date":"2014-12-17T15:36:56.685Z","type":"message"}
{"nick":"dan336","message":"morning","date":"2014-12-17T15:37:29.169Z","type":"message"}
{"nick":"xt","message":"I'm new to luvit and I'm confused by the state of the different repos.","date":"2014-12-17T15:38:08.587Z","type":"message"}
{"nick":"xt","message":"I'm porting my IRC bot from ev to uv, and I need things like http client too","date":"2014-12-17T15:38:28.914Z","type":"message"}
{"nick":"xt","message":"can anyone help me out with which repos I should use?","date":"2014-12-17T15:38:38.740Z","type":"message"}
{"nick":"dan336","message":"xt: yeah there are a few repos aren't there. There are mainly three that you could use","date":"2014-12-17T15:41:00.736Z","type":"message"}
{"nick":"dan336","message":"(any who know better feel free to correct me)","date":"2014-12-17T15:41:12.178Z","type":"message"}
{"nick":"xt","message":"I have used luv now","date":"2014-12-17T15:41:16.004Z","type":"message"}
{"nick":"xt","message":"and I got a working client","date":"2014-12-17T15:41:20.976Z","type":"message"}
{"nick":"xt","message":"but then I discovered that all the helpers like http/dns are in luvit repo","date":"2014-12-17T15:41:31.797Z","type":"message"}
{"nick":"dan336","message":"thats right","date":"2014-12-17T15:41:37.740Z","type":"message"}
{"nick":"xt","message":"can I use those with luv?","date":"2014-12-17T15:41:49.403Z","type":"message"}
{"nick":"KennethWilke","message":"i believe you can, i know a few of the http bits are in flux atm","date":"2014-12-17T15:42:18.587Z","type":"message"}
{"nick":"dan336","message":"probably","date":"2014-12-17T15:42:23.813Z","type":"message"}
{"nick":"KennethWilke","message":"creationix would know for sure","date":"2014-12-17T15:42:28.912Z","type":"message"}
{"nick":"KennethWilke","message":"ping!","date":"2014-12-17T15:42:33.936Z","type":"message"}
{"nick":"xt","message":"local native = require('uv_native')","date":"2014-12-17T15:42:44.158Z","type":"message"}
{"nick":"xt","message":"is there some branch that's ready to use?","date":"2014-12-17T15:42:55.240Z","type":"message"}
{"nick":"xt","message":"or do I have to change stuff to use luvit-libs with luv?","date":"2014-12-17T15:43:06.653Z","type":"message"}
{"nick":"KennethWilke","message":"i've been using the luvi-up branch of the luvit repo for my tinkering","date":"2014-12-17T15:43:21.924Z","type":"message"}
{"nick":"KennethWilke","message":"it's been fairly reliable for me, easy to setup","date":"2014-12-17T15:43:59.920Z","type":"message"}
{"nick":"dan336","message":"and I've been using the master branch, so I will have to update to the luvi-up branch soon.","date":"2014-12-17T15:44:00.106Z","type":"message"}
{"nick":"KennethWilke","message":"i've not been using the http features, but the http decoder/encoder is still there in working order i believe","date":"2014-12-17T15:44:57.232Z","type":"message"}
{"nick":"KennethWilke","message":"https://github.com/luvit/luvit/tree/luvi-up/app/modules","date":"2014-12-17T15:45:05.688Z","type":"message"}
{"nick":"xt","message":"ok, thanks for answers guys. I will explore some more","date":"2014-12-17T15:50:51.943Z","type":"message"}
{"nick":"KennethWilke","message":"no problem, good luck!","date":"2014-12-17T16:01:01.520Z","type":"message"}
{"nick":"xt","message":"require'logging.console'","date":"2014-12-17T16:01:05.100Z","type":"message"}
{"nick":"xt","message":"[string \"bundle:modules/require.lua\"]:147: Unknown format: console","date":"2014-12-17T16:01:08.890Z","type":"message"}
{"nick":"xt","message":"Sadness.","date":"2014-12-17T16:01:12.361Z","type":"message"}
{"nick":"dan3361","date":"2014-12-17T16:32:44.678Z","type":"join"}
{"nick":"dan336","reason":"Ping timeout: 258 seconds","date":"2014-12-17T16:35:21.651Z","type":"quit"}
{"nick":"UniOn","date":"2014-12-17T16:59:51.294Z","type":"join"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2014-12-17T17:00:25.058Z","type":"quit"}
{"nick":"UniOn","date":"2014-12-17T17:00:46.287Z","type":"join"}
{"nick":"KennethWilke","reason":"Quit: Leaving","date":"2014-12-17T17:45:37.502Z","type":"quit"}
{"nick":"KennethWilke","date":"2014-12-17T17:50:08.827Z","type":"join"}
{"nick":"creationix","message":"KennethWilke: I reviewed your PR, comments are in the commit","date":"2014-12-17T17:55:15.802Z","type":"message"}
{"nick":"xt","message":"you can only make apps using luvit using the luvit binary now?","date":"2014-12-17T17:55:48.602Z","type":"message"}
{"nick":"xt","message":"the custom require functions breaks things for me :(","date":"2014-12-17T17:56:00.110Z","type":"message"}
{"nick":"KennethWilke","message":"i saw 'em, making changes","date":"2014-12-17T17:56:02.905Z","type":"message"}
{"nick":"creationix","message":"xt: what do you mean?  Which version of luvit are you using and what’s breaking?","date":"2014-12-17T17:57:23.770Z","type":"message"}
{"nick":"xt","message":"do you see my messages from two hours ago?","date":"2014-12-17T17:57:39.209Z","type":"message"}
{"nick":"xt","message":"or shall I repaste?","date":"2014-12-17T17:57:45.538Z","type":"message"}
{"nick":"creationix","message":"nope, sorry","date":"2014-12-17T17:57:47.222Z","type":"message"}
{"nick":"xt","message":"require'logging.console'","date":"2014-12-17T17:57:53.410Z","type":"message"}
{"nick":"xt","message":"[string \"bundle:modules/require.lua\"]:147: Unknown format: console","date":"2014-12-17T17:57:56.760Z","type":"message"}
{"nick":"xt","message":"I'm using the luvi-up branch of luvit","date":"2014-12-17T17:58:09.244Z","type":"message"}
{"nick":"creationix","message":"is this luvit from luvit.io or from the luvi-up branch on github?","date":"2014-12-17T17:58:13.684Z","type":"message"}
{"nick":"creationix","message":"sounds like luvi-up version with the bundle: url","date":"2014-12-17T17:58:36.981Z","type":"message"}
{"nick":"xt","message":"what i want is to use luv, I already have that part figured out. But I also want to use the http-client and stuff from luvit","date":"2014-12-17T17:59:19.762Z","type":"message"}
{"nick":"creationix","message":"yeah, looks like it thinks .console is the file extension and doesn’t know how to open such a file, try adding .lua","date":"2014-12-17T17:59:22.685Z","type":"message"}
{"nick":"KennethWilke","message":"creationix, the data member is the only way to associate data with the callbacks in libuv","date":"2014-12-17T17:59:23.149Z","type":"message"}
{"nick":"KennethWilke","message":"is it assumed closures will be used for any arbitrary data as well?","date":"2014-12-17T17:59:36.669Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: the data member is a void* in C, it has nothing to do with lua variables","date":"2014-12-17T17:59:53.074Z","type":"message"}
{"nick":"creationix","message":"there are no closures in C","date":"2014-12-17T18:00:00.190Z","type":"message"}
{"nick":"KennethWilke","message":"right, but what if i want data to be passed into my callback","date":"2014-12-17T18:00:08.643Z","type":"message"}
{"nick":"KennethWilke","message":"that's what that void pointer is for, user defined purposes","date":"2014-12-17T18:00:15.429Z","type":"message"}
{"nick":"creationix","message":"right, the void* data is to work around the lack of closure in C","date":"2014-12-17T18:00:33.502Z","type":"message"}
{"nick":"creationix","message":"which is what I use it for","date":"2014-12-17T18:00:37.658Z","type":"message"}
{"nick":"creationix","message":"but in lua, I don’t even give you the handle in the callback","date":"2014-12-17T18:00:45.877Z","type":"message"}
{"nick":"KennethWilke","message":"yeah, that's another thing that still seems odd to me","date":"2014-12-17T18:01:00.480Z","type":"message"}
{"nick":"creationix","message":"so attaching arbitrary data on the handle won’t do you much good since you need the closure to get the handle in the first place in lua","date":"2014-12-17T18:01:02.734Z","type":"message"}
{"nick":"creationix","message":"I could modify the metatable of userdata to allow setting arbitrary properties on it","date":"2014-12-17T18:01:30.795Z","type":"message"}
{"nick":"creationix","message":"I used to do this, I don’t think it has much overhead for people who don’t use it","date":"2014-12-17T18:01:46.586Z","type":"message"}
{"nick":"creationix","message":"in the old libuv bindings in older luv, that was how you attached callbacks","date":"2014-12-17T18:02:04.270Z","type":"message"}
{"nick":"creationix","message":"handle.onfoo = function (…) end","date":"2014-12-17T18:02:14.191Z","type":"message"}
{"nick":"KennethWilke","message":"but that's trying to be more on the node style of things isn't it?","date":"2014-12-17T18:02:31.547Z","type":"message"}
{"nick":"creationix","message":"the luv bindings are just trying to be libuv in lua","date":"2014-12-17T18:02:53.052Z","type":"message"}
{"nick":"KennethWilke","message":"not having the handles passed to the callbacks makes me miss the libuv style of things","date":"2014-12-17T18:03:00.551Z","type":"message"}
{"nick":"creationix","message":"right, like I said.  I initially did it that way, but after a few weeks of using it, everyone agreed it was a bad idea","date":"2014-12-17T18:03:30.471Z","type":"message"}
{"nick":"KennethWilke","message":"a lot of encouragement to use closures, which are great i just don't like being forced to use them","date":"2014-12-17T18:03:35.602Z","type":"message"}
{"nick":"creationix","message":"my choices are either force you to use closures for the times you need the handle in a callback or force all callbacks to have an extra parameter that you usually don’t need","date":"2014-12-17T18:04:13.890Z","type":"message"}
{"nick":"xt","message":"creationix: it actually works with require 'logging/console'","date":"2014-12-17T18:04:16.311Z","type":"message"}
{"nick":"xt","message":"but then I discovered luvit doesn't use the standard lua package.path","date":"2014-12-17T18:04:29.619Z","type":"message"}
{"nick":"creationix","message":"xt, correct, luvit’s require has little to do with lua’s require","date":"2014-12-17T18:04:46.076Z","type":"message"}
{"nick":"creationix","message":"but it should fall back to lua’s require if it can’t find something.  The fact that is errored on an unknown extension is a bug","date":"2014-12-17T18:05:06.744Z","type":"message"}
{"nick":"xt","message":"is there a tutorial I can follow for this?","date":"2014-12-17T18:05:25.418Z","type":"message"}
{"nick":"xt","message":"http://luvit.io/ is down","date":"2014-12-17T18:05:37.355Z","type":"message"}
{"nick":"creationix","message":"not yet, sorry.","date":"2014-12-17T18:05:40.350Z","type":"message"}
{"nick":"creationix","message":"luvit.io would be wrong for latest luvit anyway","date":"2014-12-17T18:05:47.949Z","type":"message"}
{"nick":"creationix","message":"rebooted the server","date":"2014-12-17T18:06:44.151Z","type":"message"}
{"nick":"creationix","message":"it has a memory leak and I haven’t had time to track it down.  It goes down every couple of weeks","date":"2014-12-17T18:06:57.639Z","type":"message"}
{"nick":"xt","message":"string.gfind, attempt to call field 'gfind' (a nil value)","date":"2014-12-17T18:07:04.946Z","type":"message"}
{"nick":"xt","message":"what is going on..","date":"2014-12-17T18:07:08.477Z","type":"message"}
{"nick":"creationix","message":"gfind isn’t a lua thing","date":"2014-12-17T18:07:15.348Z","type":"message"}
{"nick":"creationix","message":"I think you mean gmatch","date":"2014-12-17T18:07:37.750Z","type":"message"}
{"nick":"creationix","message":"http://www.lua.org/manual/5.1/manual.html#pdf-string.gmatch","date":"2014-12-17T18:07:43.200Z","type":"message"}
{"nick":"creationix","message":"xt, if you want, you can just use luv with the normal lua or luajit runtime","date":"2014-12-17T18:08:28.449Z","type":"message"}
{"nick":"creationix","message":"the http decoder from luvit is just a single file you can pull out","date":"2014-12-17T18:08:37.271Z","type":"message"}
{"nick":"creationix","message":"though the tls stuff is trickier","date":"2014-12-17T18:08:42.528Z","type":"message"}
{"nick":"xt","message":"segmentation fault","date":"2014-12-17T18:08:57.500Z","type":"message"}
{"nick":"xt","message":"lol","date":"2014-12-17T18:08:59.791Z","type":"message"}
{"nick":"xt","message":"creationix: okay, I mgiht try that, this is leading to all sorts of strangeness","date":"2014-12-17T18:09:13.176Z","type":"message"}
{"nick":"xt","message":"I was using luajit before, I thought luvit used that too, but maybe with lua5.2-flags?","date":"2014-12-17T18:09:31.457Z","type":"message"}
{"nick":"xt","message":"DLUAJIT_ENABLE_LUA52COMPAT removes string.gfind","date":"2014-12-17T18:09:43.303Z","type":"message"}
{"nick":"creationix","message":"what is string.gfind then?","date":"2014-12-17T18:10:44.653Z","type":"message"}
{"nick":"creationix","message":"I don’t see that in the 5.1 manual?","date":"2014-12-17T18:10:48.884Z","type":"message"}
{"nick":"creationix","message":"but yes, I build luvit with LUA52COMPAT turned on","date":"2014-12-17T18:10:59.595Z","type":"message"}
{"nick":"xt","message":"Function string.gfind was renamed string.gmatch. (See compile-time option LUA_COMPAT_GFIND in luaconf.h.)","date":"2014-12-17T18:11:17.210Z","type":"message"}
{"nick":"xt","message":"from 5.1 manual","date":"2014-12-17T18:11:21.104Z","type":"message"}
{"nick":"creationix","message":"ahh, so it’s an old lua thing","date":"2014-12-17T18:12:10.422Z","type":"message"}
{"nick":"creationix","message":"I guess luajit left it in for backwards compat","date":"2014-12-17T18:12:19.081Z","type":"message"}
{"nick":"xt","message":"yeah, I never noticed until now","date":"2014-12-17T18:12:29.093Z","type":"message"}
{"nick":"creationix","message":"and I see the free version of PIL uses it","date":"2014-12-17T18:12:30.933Z","type":"message"}
{"nick":"creationix","message":"http://lua-users.org/lists/lua-l/2013-04/msg00117.html","date":"2014-12-17T18:14:01.287Z","type":"message"}
{"nick":"xt","message":"yeah, thanks","date":"2014-12-17T18:14:26.500Z","type":"message"}
{"nick":"xt","message":"I think I must try to use luvit libs without using luvit launcher, since it's not so compatible with existing code","date":"2014-12-17T18:14:56.584Z","type":"message"}
{"nick":"creationix","message":"so if you want to use luvit’s require, don’t use ‘.’ when you mean ‘/‘, it really confuses it","date":"2014-12-17T18:15:04.028Z","type":"message"}
{"nick":"KennethWilke","message":"creationix, i think i got all your feedback added that PR","date":"2014-12-17T18:15:05.055Z","type":"message"}
{"nick":"creationix","message":"yep, much better","date":"2014-12-17T18:17:06.558Z","type":"message"}
{"nick":"creationix","message":"did my notes pointing to the various sources help?","date":"2014-12-17T18:17:26.376Z","type":"message"}
{"nick":"creationix","message":"oh, should probably add [ci skip] when making doc only commits do the CI bots don’t do extra work","date":"2014-12-17T18:18:07.942Z","type":"message"}
{"nick":"KennethWilke","message":"yeah they helped","date":"2014-12-17T18:19:19.406Z","type":"message"}
{"nick":"KennethWilke","message":"i understand a bit more about how the things come together in C","date":"2014-12-17T18:19:36.195Z","type":"message"}
{"nick":"KennethWilke","message":"but with that i found a lot of things that didn't work as i expected them to","date":"2014-12-17T18:19:51.153Z","type":"message"}
{"nick":"KennethWilke","message":"i understand the reasoning behind why things aren't as i'd expect, but it feels stylistically restrictive to me","date":"2014-12-17T18:22:41.476Z","type":"message"}
{"nick":"creationix","message":"you mean like how the callbacks work?","date":"2014-12-17T18:25:22.536Z","type":"message"}
{"nick":"KennethWilke","message":"yeah, not being able to get to the object i expect to be able to access without using closures","date":"2014-12-17T18:26:08.007Z","type":"message"}
{"nick":"KennethWilke","message":"it seems like it'd make generalizing a lot of things more confusing when collaborating with other developers","date":"2014-12-17T18:28:17.579Z","type":"message"}
{"nick":"creationix","message":"I think it depends on your background.  Using closures certainly isn’t very C like","date":"2014-12-17T18:28:53.668Z","type":"message"}
{"nick":"creationix","message":"coming from C, you expect all state to be passed in as parameters to callbacks","date":"2014-12-17T18:29:07.687Z","type":"message"}
{"nick":"creationix","message":"in JavaScript you have closures and can pass the state via “this” without putting extra stuff in the args","date":"2014-12-17T18:29:32.785Z","type":"message"}
{"nick":"creationix","message":"lua has closures, but no this","date":"2014-12-17T18:29:37.123Z","type":"message"}
{"nick":"KennethWilke","message":"it has self, but it seems like that'd complicate things making callbacks methdos","date":"2014-12-17T18:30:11.668Z","type":"message"}
{"nick":"KennethWilke","message":"methods*","date":"2014-12-17T18:30:14.175Z","type":"message"}
{"nick":"creationix","message":"luv used to look like uv.read_start(stream, function (stream, err, chunk) … end)","date":"2014-12-17T18:30:16.549Z","type":"message"}
{"nick":"creationix","message":"right, the self sugar doesn’t work for inline callbacks","date":"2014-12-17T18:30:30.920Z","type":"message"}
{"nick":"creationix","message":"it worked back when callbacks were properties on the userdata","date":"2014-12-17T18:30:42.153Z","type":"message"}
{"nick":"KennethWilke","message":"the thing i'm missing is being able to define a function and pass it as that callback argument","date":"2014-12-17T18:30:52.713Z","type":"message"}
{"nick":"creationix","message":"function stream:onread(err, chunk) end","date":"2014-12-17T18:30:53.773Z","type":"message"}
{"nick":"KennethWilke","message":"my experience isn't so much coming from a C background, it's more of a perl, javascript, php, python background","date":"2014-12-17T18:32:04.750Z","type":"message"}
{"nick":"KennethWilke","message":"i've rarely been able to use C for work projects","date":"2014-12-17T18:32:15.945Z","type":"message"}
{"nick":"creationix","message":"stream:read_start(function (err, chunk) return userfn(stream, err, chunk) end)","date":"2014-12-17T18:32:17.230Z","type":"message"}
{"nick":"creationix","message":"just wrap the function the user passes you to inject the stream","date":"2014-12-17T18:32:33.932Z","type":"message"}
{"nick":"KennethWilke","message":"yeah that seems okay","date":"2014-12-17T18:33:16.159Z","type":"message"}
{"nick":"creationix","message":"you can’t pass arbitrary methods as event handlers in JavaScript without binding them either","date":"2014-12-17T18:33:29.795Z","type":"message"}
{"nick":"KennethWilke","message":"i usually use js more like a structured or functional language than as an object oriented language","date":"2014-12-17T18:34:10.083Z","type":"message"}
{"nick":"KennethWilke","message":"so i've not often ran into that being a problem","date":"2014-12-17T18:34:32.929Z","type":"message"}
{"nick":"creationix","message":"me too, but I digress","date":"2014-12-17T18:34:33.443Z","type":"message"}
{"nick":"creationix","message":"I run into that problem because I spent years teaching node.js to newbies who love OOP","date":"2014-12-17T18:34:49.381Z","type":"message"}
{"nick":"creationix","message":"closures are fantastic for event code","date":"2014-12-17T18:35:09.831Z","type":"message"}
{"nick":"creationix","message":"btw, I fixed `lit install` last night","date":"2014-12-17T18:35:54.885Z","type":"message"}
{"nick":"creationix","message":"the tools/test.sh script should actually run now","date":"2014-12-17T18:36:02.815Z","type":"message"}
{"nick":"KennethWilke","message":"ahh, nice","date":"2014-12-17T18:36:12.141Z","type":"message"}
{"nick":"creationix","message":"now I need to implement the network protocols and the server and we’ll have a POC minux security","date":"2014-12-17T18:37:02.060Z","type":"message"}
{"nick":"creationix","message":"then add in some actual signature verification and it will be a usable beta","date":"2014-12-17T18:37:10.549Z","type":"message"}
{"nick":"creationix","message":"*minus","date":"2014-12-17T18:37:18.700Z","type":"message"}
{"nick":"KennethWilke","message":"nice! that'll be a great thing to have ready to rock","date":"2014-12-17T18:37:29.929Z","type":"message"}
{"nick":"creationix","message":"hmm, and recursive dependencies","date":"2014-12-17T18:37:43.812Z","type":"message"}
{"nick":"creationix","message":"I should file github tickets to track this","date":"2014-12-17T18:37:49.032Z","type":"message"}
{"nick":"creationix","message":"probably a good practice anyway since I work remote remote","date":"2014-12-17T18:38:05.085Z","type":"message"}
{"nick":"KennethWilke","message":"lol","date":"2014-12-17T18:38:15.246Z","type":"message"}
{"nick":"KennethWilke","message":"yeah the github issue tracker is pretty nice","date":"2014-12-17T18:38:33.208Z","type":"message"}
{"nick":"creationix","message":"(My team is remote to San Antonio (San Francisco) and I’m remote to my team (Red Lick, TX))","date":"2014-12-17T18:38:44.518Z","type":"message"}
{"nick":"KennethWilke","message":"oh? i thought some of your team worked outa' austin too","date":"2014-12-17T18:39:06.507Z","type":"message"}
{"nick":"creationix","message":"just rphillips on our team I think","date":"2014-12-17T18:39:15.185Z","type":"message"}
{"nick":"creationix","message":"though he’s done a large part of luvit work over the years.","date":"2014-12-17T18:39:31.324Z","type":"message"}
{"nick":"KennethWilke","message":"is it the cloud monitoring team?","date":"2014-12-17T18:39:37.956Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2014-12-17T18:39:41.035Z","type":"message"}
{"nick":"creationix","message":"rje is in Washington state","date":"2014-12-17T18:39:52.451Z","type":"message"}
{"nick":"creationix","message":"we’re all sorts of distributed","date":"2014-12-17T18:39:59.511Z","type":"message"}
{"nick":"KennethWilke","message":"well, at least that's common in open source development, people are pretty used to things being remote","date":"2014-12-17T18:40:32.491Z","type":"message"}
{"nick":"creationix","message":"yep, all the more reason to file issues","date":"2014-12-17T18:40:48.849Z","type":"message"}
{"nick":"KennethWilke","message":"i was trying to look through them the other day to see if any were closable","date":"2014-12-17T18:41:06.719Z","type":"message"}
{"nick":"xt","message":"the lib/luvit/*.lua can't be used with luv?","date":"2014-12-17T18:41:15.677Z","type":"message"}
{"nick":"xt","message":"I don't know what uv_native is","date":"2014-12-17T18:41:23.145Z","type":"message"}
{"nick":"xt","message":"sorry for having bad questions :(","date":"2014-12-17T18:41:38.038Z","type":"message"}
{"nick":"xt","message":"this is all a bit confusing for a newcomer","date":"2014-12-17T18:41:46.524Z","type":"message"}
{"nick":"KennethWilke","message":"they aren't bad questions! there's a lot of stuff in there","date":"2014-12-17T18:42:42.058Z","type":"message"}
{"nick":"KennethWilke","message":"at least you seem to have a better grasp of Lua than i do","date":"2014-12-17T18:43:22.266Z","type":"message"}
{"nick":"KennethWilke","message":":p","date":"2014-12-17T18:43:25.457Z","type":"message"}
{"nick":"creationix","message":"xt: that folder is legacy stuff from luvit 1.0","date":"2014-12-17T18:43:32.301Z","type":"message"}
{"nick":"creationix","message":"use the libraries in app/modules","date":"2014-12-17T18:43:39.190Z","type":"message"}
{"nick":"xt","message":"but those seem very incomplete","date":"2014-12-17T18:43:45.698Z","type":"message"}
{"nick":"creationix","message":"they use “uv” which is the same as “luv\"","date":"2014-12-17T18:43:46.091Z","type":"message"}
{"nick":"creationix","message":"yep, we’re not done","date":"2014-12-17T18:43:51.967Z","type":"message"}
{"nick":"xt","message":"no URL parser","date":"2014-12-17T18:43:54.160Z","type":"message"}
{"nick":"xt","message":"oh, ok","date":"2014-12-17T18:44:07.473Z","type":"message"}
{"nick":"creationix","message":"luv was re-written just a couple months ago","date":"2014-12-17T18:44:14.261Z","type":"message"}
{"nick":"creationix","message":"and now we’re in the process of rewriting luvit to use it","date":"2014-12-17T18:44:23.959Z","type":"message"}
{"nick":"creationix","message":"luv itself is quite stable and usable now, we even have most the docs covered now","date":"2014-12-17T18:44:45.374Z","type":"message"}
{"nick":"xt","message":"yes, the luv part was easy to figure out","date":"2014-12-17T18:44:58.596Z","type":"message"}
{"nick":"xt","message":"it's the supporting libs that confuse me","date":"2014-12-17T18:45:06.203Z","type":"message"}
{"nick":"xt","message":"so maybe I should look at porting some of the old libs to new libs?","date":"2014-12-17T18:45:15.256Z","type":"message"}
{"nick":"creationix","message":"that would be great","date":"2014-12-17T18:45:25.500Z","type":"message"}
{"nick":"xt","message":"if I want a simple http client","date":"2014-12-17T18:45:27.008Z","type":"message"}
{"nick":"creationix","message":"http_parser isn’t in the new code base, I instead wrote a pure lua encoder/decoder","date":"2014-12-17T18:45:42.376Z","type":"message"}
{"nick":"creationix","message":"here is one example of making an HTTP request in the new code https://github.com/luvit/luvit/blob/luvi-up/tests/test-http.lua","date":"2014-12-17T18:46:11.233Z","type":"message"}
{"nick":"creationix","message":"it’s not pretty, but works mostly","date":"2014-12-17T18:46:28.818Z","type":"message"}
{"nick":"xt","message":"yeah, tested that. But it's missing a lot of stuff","date":"2014-12-17T18:46:29.003Z","type":"message"}
{"nick":"xt","message":"no IDN, no url parser, no location moved follow","date":"2014-12-17T18:46:43.446Z","type":"message"}
{"nick":"creationix","message":"libcurl bindings are another option I’ve considered","date":"2014-12-17T18:47:06.290Z","type":"message"}
{"nick":"xt","message":":S","date":"2014-12-17T18:47:15.334Z","type":"message"}
{"nick":"creationix","message":"I think the multi interface can be made to play nice with the libuv event loop","date":"2014-12-17T18:47:16.372Z","type":"message"}
{"nick":"creationix","message":"though the libcurl API is strange","date":"2014-12-17T18:47:25.439Z","type":"message"}
{"nick":"creationix","message":"I recently write sync bindings for duktape, https://github.com/creationix/dukcurl","date":"2014-12-17T18:47:49.773Z","type":"message"}
{"nick":"creationix","message":"with a little sugar, it wasn’t too bad https://github.com/creationix/dukcurl/blob/master/request.js#L9-L62","date":"2014-12-17T18:48:18.258Z","type":"message"}
{"nick":"xt","message":"kinda backwards to use curl when we have all the pieces","date":"2014-12-17T18:48:46.226Z","type":"message"}
{"nick":"creationix","message":"agreed, but it’s still a lot of work to glue all those pieces together","date":"2014-12-17T18:49:18.011Z","type":"message"}
{"nick":"creationix","message":"tls is especially nasty","date":"2014-12-17T18:49:22.478Z","type":"message"}
{"nick":"creationix","message":"rphillips: has been working on tls for quite a while now","date":"2014-12-17T18:49:32.672Z","type":"message"}
{"nick":"rphillips","message":"i created a curl binding with the old luvit awhile ago. https://gist.github.com/rphillips/b501c8320381f1bdca64","date":"2014-12-17T18:50:08.027Z","type":"message"}
{"nick":"xt","message":"these are the handlers I'm coming from https://github.com/Neopallium/lua-handlers","date":"2014-12-17T18:50:27.076Z","type":"message"}
{"nick":"xt","message":"all the same problems solved, but with different even tloop","date":"2014-12-17T18:50:39.619Z","type":"message"}
{"nick":"xt","message":"working fully with https","date":"2014-12-17T18:51:10.500Z","type":"message"}
{"nick":"creationix","message":"nice","date":"2014-12-17T18:51:19.490Z","type":"message"}
{"nick":"creationix","message":"xt: so why are you looking into luv/luvit then?","date":"2014-12-17T18:51:30.068Z","type":"message"}
{"nick":"xt","message":"I like the basic blocks better","date":"2014-12-17T18:52:08.400Z","type":"message"}
{"nick":"creationix","message":"hmm, doesn’t appear to be native to windows","date":"2014-12-17T18:52:10.299Z","type":"message"}
{"nick":"creationix","message":"I really like luv and luvi, still unsure about the layers above that in luvit","date":"2014-12-17T18:52:31.783Z","type":"message"}
{"nick":"xt","message":"and as you can see, no recent patches","date":"2014-12-17T18:52:33.181Z","type":"message"}
{"nick":"creationix","message":"xt: so you’re writing high level HTTP API clients right?","date":"2014-12-17T18:52:51.914Z","type":"message"}
{"nick":"creationix","message":"rphillips: nice ffi, I keep forgetting that’s an option","date":"2014-12-17T18:53:12.845Z","type":"message"}
{"nick":"xt","message":"well.. I sort of expected there to be one already","date":"2014-12-17T18:53:20.542Z","type":"message"}
{"nick":"xt","message":"but as far as I can tell there is one for old API, but not new","date":"2014-12-17T18:53:33.340Z","type":"message"}
{"nick":"creationix","message":"right, I mean you want to work at the application layer doing things like reading and writing custom headers, sharing JSON messages, checking status codes and setting http methods right?","date":"2014-12-17T18:54:03.352Z","type":"message"}
{"nick":"xt","message":"aye","date":"2014-12-17T18:54:13.093Z","type":"message"}
{"nick":"rphillips","message":"thanks... the thought was to perhaps use libcurl for our poller since most everyone uses libcurl anyway to test webservers","date":"2014-12-17T18:54:20.602Z","type":"message"}
{"nick":"drorh","date":"2014-12-17T18:54:27.967Z","type":"join"}
{"nick":"creationix","message":"rphillips: not a bad idea, it’s certainly battle tested.  I’m just unsure of how nice it plays with the event loop","date":"2014-12-17T18:54:45.852Z","type":"message"}
{"nick":"xt","message":"libcurl will certainly be blocking, I think?","date":"2014-12-17T18:54:59.817Z","type":"message"}
{"nick":"rphillips","message":"no. it's async","date":"2014-12-17T18:55:11.530Z","type":"message"}
{"nick":"creationix","message":"curl_easy_perform is blocking","date":"2014-12-17T18:55:16.827Z","type":"message"}
{"nick":"creationix","message":"but the multi interface has it’s own event loop of sorts","date":"2014-12-17T18:55:26.090Z","type":"message"}
{"nick":"xt","message":"have you considered working togheter with openresty community on some of these things?","date":"2014-12-17T18:56:08.403Z","type":"message"}
{"nick":"creationix","message":"well we’re now writing nginx plugins, but yeah, once the core is stable, we can look into sharing high-level libraries","date":"2014-12-17T18:56:42.878Z","type":"message"}
{"nick":"creationix","message":"s/now/not/","date":"2014-12-17T18:56:47.666Z","type":"message"}
{"nick":"xt","message":"they too are reimplementing all the things to run on top of event loop","date":"2014-12-17T18:57:09.573Z","type":"message"}
{"nick":"xt","message":"https://github.com/pintsized/lua-resty-http","date":"2014-12-17T18:57:44.044Z","type":"message"}
{"nick":"creationix","message":"rphillips: I wonder if libuv can select on http://curl.haxx.se/libcurl/c/curl_multi_fdset.html","date":"2014-12-17T18:57:57.790Z","type":"message"}
{"nick":"creationix","message":"I’m experimenting with coroutine based APIs.  Luvit itself needs to remain backwards compat for now with the node style APIs","date":"2014-12-17T18:59:05.072Z","type":"message"}
{"nick":"creationix","message":"this is why I split luvit into three layers (luvit, luvi, luv)","date":"2014-12-17T18:59:16.115Z","type":"message"}
{"nick":"xt","message":"creationix: this is what I'm most interested in myself","date":"2014-12-17T18:59:20.379Z","type":"message"}
{"nick":"xt","message":"I find it very easy to use as a \"end user\" of the APIs","date":"2014-12-17T18:59:33.830Z","type":"message"}
{"nick":"creationix","message":"xt: look at my lit code I’ve been writing.  It’s all coroutine based, but using luv","date":"2014-12-17T18:59:42.512Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/lit","date":"2014-12-17T18:59:50.075Z","type":"message"}
{"nick":"creationix","message":"nice blocking I/O that only blocks the current coroutine https://github.com/luvit/lit/blob/master/commands/install.lua#L13","date":"2014-12-17T19:00:11.158Z","type":"message"}
{"nick":"creationix","message":"it’s also using luvit’s require system since I like it a lot better than the lua one","date":"2014-12-17T19:01:22.124Z","type":"message"}
{"nick":"xt","message":"so, don't you require a http client for that? :-)","date":"2014-12-17T19:01:31.608Z","type":"message"}
{"nick":"creationix","message":"nope","date":"2014-12-17T19:01:35.757Z","type":"message"}
{"nick":"creationix","message":"but I did implement git core for the storage","date":"2014-12-17T19:01:54.695Z","type":"message"}
{"nick":"creationix","message":"and will be soon implementing the network protocol for syncing between nodes","date":"2014-12-17T19:02:09.366Z","type":"message"}
{"nick":"creationix","message":"xt: though I may end up adding an HTTP based version of the protocol for people behind crappy proxies","date":"2014-12-17T19:06:38.556Z","type":"message"}
{"nick":"creationix","message":"seems https is the only reliable protocol for communicating in some places","date":"2014-12-17T19:06:55.892Z","type":"message"}
{"nick":"xt","message":"I must go back to the drawing board, and see what I want to do..","date":"2014-12-17T19:07:37.963Z","type":"message"}
{"nick":"creationix","message":"xt: you could just use stable luvit for now","date":"2014-12-17T19:07:55.127Z","type":"message"}
{"nick":"creationix","message":"luvit.io is back up","date":"2014-12-17T19:07:57.688Z","type":"message"}
{"nick":"creationix","message":"and the master branch on github still has the code","date":"2014-12-17T19:08:04.768Z","type":"message"}
{"nick":"creationix","message":"it’s used in production at lots of places","date":"2014-12-17T19:08:12.683Z","type":"message"}
{"nick":"xt","message":"I guess","date":"2014-12-17T19:08:28.733Z","type":"message"}
{"nick":"creationix","message":"personally I would rather use luv and luvi","date":"2014-12-17T19:08:36.029Z","type":"message"}
{"nick":"xt","message":"I have ported to luv already, so I could even cheat and use curl for the http-things I need. But then again, I would also need a http server","date":"2014-12-17T19:09:23.619Z","type":"message"}
{"nick":"creationix","message":"I think http sugar is next on rphillips’s list when he finishes the tls stuff","date":"2014-12-17T19:09:32.940Z","type":"message"}
{"nick":"creationix","message":"xt: did you see https://github.com/luvit/luvit/tree/luvi-up/bench/http-cluster ?","date":"2014-12-17T19:10:03.397Z","type":"message"}
{"nick":"creationix","message":"it’s a really fast http server using the encoder/decoder directly","date":"2014-12-17T19:10:16.906Z","type":"message"}
{"nick":"creationix","message":"hmm, that section “How HTTP works” is wrong, it’s explaining the old coroutine based codec","date":"2014-12-17T19:12:19.851Z","type":"message"}
{"nick":"xt","message":"looks almost like nginx design","date":"2014-12-17T19:12:33.456Z","type":"message"}
{"nick":"creationix","message":"the fd passing?","date":"2014-12-17T19:12:49.051Z","type":"message"}
{"nick":"xt","message":"and worker per core","date":"2014-12-17T19:12:58.381Z","type":"message"}
{"nick":"creationix","message":"it’s a pretty common trick on unix systems.  The workers aren’t balanced, but I don’t consider that a problem","date":"2014-12-17T19:13:12.391Z","type":"message"}
{"nick":"creationix","message":"if you don’t have enough work to keep all workers busy, what’s wrong with one worker getting most the work.  It’s not like it slows anything down","date":"2014-12-17T19:13:37.727Z","type":"message"}
{"nick":"creationix","message":"if anything, all work going to the first worker is a good thing under low load.  Keeps cpu affinity and caches in a better state","date":"2014-12-17T19:14:26.157Z","type":"message"}
{"nick":"creationix","message":"lit milestone! https://github.com/luvit/lit/milestones","date":"2014-12-17T19:17:13.831Z","type":"message"}
{"nick":"creationix","message":"rphillips: does curl work on windows?  It seems to be all fd based.  Windows has SOCKET handles instead","date":"2014-12-17T19:20:19.801Z","type":"message"}
{"nick":"creationix","message":"I guess for the agent pollers  that wouldn’t matter since they always run on linux","date":"2014-12-17T19:20:45.774Z","type":"message"}
{"nick":"songgao","reason":"Excess Flood","date":"2014-12-17T19:21:14.387Z","type":"quit"}
{"nick":"creationix","message":"I think using uv_poll_init_socket and uv_poll_start with the fs set from curl should make for a decently fast integration","date":"2014-12-17T19:21:30.844Z","type":"message"}
{"nick":"songgao","date":"2014-12-17T19:21:46.339Z","type":"join"}
{"nick":"creationix","message":"I found what’s been causing short call stacks.  It’s when I use coroutine.wrap(), it by default onlt shows the top stack call","date":"2014-12-17T20:14:27.414Z","type":"message"}
{"nick":"creationix","message":"putting an xpcall with debug.traceback in there helps","date":"2014-12-17T20:14:42.361Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/lit/blob/master/main.lua#L5-L18","date":"2014-12-17T20:15:08.987Z","type":"message"}
{"nick":"creationix","message":"also starting a coroutine before requiring the apps main logic means I can block on I/O whenever I want","date":"2014-12-17T20:15:33.548Z","type":"message"}
{"nick":"songgao","reason":"Excess Flood","date":"2014-12-17T20:26:33.620Z","type":"quit"}
{"nick":"songgao","date":"2014-12-17T20:26:51.617Z","type":"join"}
{"nick":"dan3361","reason":"Quit: Leaving.","date":"2014-12-17T22:58:31.258Z","type":"quit"}
{"nick":"KennethWilke","reason":"Quit: Leaving","date":"2014-12-17T23:40:11.285Z","type":"quit"}

{"nick":"rphillips","message":"creationix: https://pgp.mit.edu/pks/lookup?op=vindex&search=0x890FF26A14C0FB1B","date":"2014-12-03T00:00:36.239Z","type":"message"}
{"nick":"rphillips","message":"my signature showed up","date":"2014-12-03T00:00:39.495Z","type":"message"}
{"nick":"creationix","message":"awesome","date":"2014-12-03T00:00:44.356Z","type":"message"}
{"nick":"creationix","message":"dinner time","date":"2014-12-03T00:00:47.412Z","type":"message"}
{"nick":"creationix","message":"and the raspberry pi just finished","date":"2014-12-03T00:00:57.348Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/luvi-binaries/commit/b8b66123d7a3f5e58cb05dca3254cc86cd7c4c43","date":"2014-12-03T00:01:24.905Z","type":"message"}
{"nick":"rphillips","message":"nice!","date":"2014-12-03T00:01:33.377Z","type":"message"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T00:03:40.505Z","type":"quit"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-12-03T00:09:35.991Z","type":"quit"}
{"nick":"a_le","date":"2014-12-03T00:10:00.074Z","type":"join"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-12-03T00:10:35.634Z","type":"quit"}
{"nick":"a_le","date":"2014-12-03T00:11:06.865Z","type":"join"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-12-03T00:11:25.506Z","type":"quit"}
{"nick":"a_le","date":"2014-12-03T00:17:07.421Z","type":"join"}
{"nick":"a_le","reason":"Ping timeout: 244 seconds","date":"2014-12-03T00:21:42.098Z","type":"quit"}
{"nick":"a_le","date":"2014-12-03T00:24:41.138Z","type":"join"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2014-12-03T00:42:54.256Z","type":"quit"}
{"nick":"kazupon","date":"2014-12-03T01:14:13.473Z","type":"join"}
{"nick":"rphillips","message":"tls server support is another big ticket item","date":"2014-12-03T01:17:26.422Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-12-03T01:35:35.758Z","type":"quit"}
{"nick":"kazupon","date":"2014-12-03T01:56:26.930Z","type":"join"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-12-03T02:16:57.340Z","type":"quit"}
{"nick":"a__","date":"2014-12-03T02:24:15.992Z","type":"join"}
{"nick":"a_le","date":"2014-12-03T02:32:50.595Z","type":"join"}
{"nick":"dan336","date":"2014-12-03T02:35:50.051Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2014-12-03T03:14:53.951Z","type":"quit"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T03:17:27.650Z","type":"quit"}
{"nick":"dan336","date":"2014-12-03T03:20:29.089Z","type":"join"}
{"nick":"kazupon","date":"2014-12-03T03:25:57.740Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-12-03T03:58:49.852Z","type":"quit"}
{"nick":"a__","reason":"Ping timeout: 272 seconds","date":"2014-12-03T04:10:33.850Z","type":"quit"}
{"nick":"a__","date":"2014-12-03T04:10:46.362Z","type":"join"}
{"nick":"a__","reason":"Ping timeout: 250 seconds","date":"2014-12-03T04:21:34.268Z","type":"quit"}
{"nick":"kazupon","date":"2014-12-03T04:39:39.397Z","type":"join"}
{"nick":"travis-ci","date":"2014-12-03T06:09:00.044Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#179 (feat/add_zlib - 8e7f177 : Rob Emanuele): The build failed.","date":"2014-12-03T06:09:00.099Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/0c5d64e54643...8e7f177fbc35","date":"2014-12-03T06:09:00.100Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/42828736","date":"2014-12-03T06:09:00.100Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T06:09:00.100Z","type":"part"}
{"nick":"erlbot--","reason":"Ping timeout: 250 seconds","date":"2014-12-03T06:12:04.314Z","type":"quit"}
{"nick":"a__","date":"2014-12-03T06:13:19.883Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T06:32:57.448Z","type":"quit"}
{"nick":"dan336","date":"2014-12-03T06:33:41.042Z","type":"join"}
{"nick":"dan336","reason":"Ping timeout: 258 seconds","date":"2014-12-03T06:38:15.197Z","type":"quit"}
{"nick":"DarkGod","date":"2014-12-03T07:44:21.280Z","type":"join"}
{"nick":"DarkGod","reason":"Remote host closed the connection","date":"2014-12-03T08:09:56.878Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T09:04:09.279Z","type":"join"}
{"nick":"a__","reason":"Ping timeout: 264 seconds","date":"2014-12-03T09:26:18.004Z","type":"quit"}
{"nick":"dan336","date":"2014-12-03T10:50:06.117Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T10:56:10.733Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-12-03T11:09:54.032Z","type":"quit"}
{"nick":"erlbot--","reason":"Ping timeout: 255 seconds","date":"2014-12-03T11:48:25.281Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T12:04:40.059Z","type":"join"}
{"nick":"erlbot--","reason":"Ping timeout: 258 seconds","date":"2014-12-03T12:13:40.053Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T12:17:27.087Z","type":"join"}
{"nick":"erlbot--","reason":"Ping timeout: 244 seconds","date":"2014-12-03T13:17:44.066Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T13:24:29.633Z","type":"join"}
{"nick":"erlbot--","reason":"Ping timeout: 256 seconds","date":"2014-12-03T13:47:18.608Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T13:53:02.379Z","type":"join"}
{"nick":"creationix!~creationi@2001","topic":"Lua + libUV + jiT = pure awesome-sauce | http://luvit.io | https://github.com/luvit/luvit | https://github.com/luvit/luv","date":"2014-12-03T14:12:19.098Z","type":"topic"}
{"nick":"erlbot--","reason":"Ping timeout: 252 seconds","date":"2014-12-03T14:23:51.055Z","type":"quit"}
{"nick":"kazupon","date":"2014-12-03T14:38:16.359Z","type":"join"}
{"nick":"songgao","reason":"Ping timeout: 258 seconds","date":"2014-12-03T14:47:23.285Z","type":"quit"}
{"nick":"songgao","date":"2014-12-03T14:49:13.681Z","type":"join"}
{"nick":"erlbot--","date":"2014-12-03T15:04:35.909Z","type":"join"}
{"nick":"dan336","date":"2014-12-03T15:09:33.229Z","type":"join"}
{"nick":"rphillips","message":"https://github.com/CorsixTH/CorsixTH","date":"2014-12-03T15:41:15.584Z","type":"message"}
{"nick":"mattlgy","date":"2014-12-03T15:41:22.643Z","type":"join"}
{"nick":"rphillips","message":"somewhat nifty","date":"2014-12-03T15:41:27.206Z","type":"message"}
{"nick":"rphillips","message":"uses a lot of lua","date":"2014-12-03T15:41:31.291Z","type":"message"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-12-03T15:46:11.024Z","type":"quit"}
{"nick":"creationix","message":"neat","date":"2014-12-03T15:54:45.303Z","type":"message"}
{"nick":"KennethWilke","date":"2014-12-03T15:56:48.406Z","type":"join"}
{"nick":"KennethWilke","message":"howdy","date":"2014-12-03T15:58:53.978Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: hi","date":"2014-12-03T15:59:10.002Z","type":"message"}
{"nick":"KennethWilke","message":"creationix: how's it goin?","date":"2014-12-03T15:59:26.173Z","type":"message"}
{"nick":"creationix","message":"great, working hard on luvit 2.0","date":"2014-12-03T15:59:38.798Z","type":"message"}
{"nick":"KennethWilke","message":"nice, i'm gonna start tinkering more with it today, though i'm still pretty new to lua","date":"2014-12-03T16:00:12.717Z","type":"message"}
{"nick":"creationix","message":"the Programming In Lua  book helped me a lot","date":"2014-12-03T16:00:38.284Z","type":"message"}
{"nick":"KennethWilke","message":"writing parsers for that load balancer i was working on has been driving me up the wall","date":"2014-12-03T16:00:41.530Z","type":"message"}
{"nick":"KennethWilke","message":"i really wanted to stick with pure C, but i don't think i can in the timeframe i want to get it written in","date":"2014-12-03T16:01:16.794Z","type":"message"}
{"nick":"a_le","date":"2014-12-03T16:01:32.294Z","type":"join"}
{"nick":"rch","message":"i've really wanted to make a parser combinator library for luvit like https://github.com/jneen/parsimmon","date":"2014-12-03T16:01:35.467Z","type":"message"}
{"nick":"KennethWilke","message":"that does look pretty nice","date":"2014-12-03T16:02:45.873Z","type":"message"}
{"nick":"rch","message":"i really like it","date":"2014-12-03T16:03:22.800Z","type":"message"}
{"nick":"creationix","message":"rch: how does that compare to lpeg?","date":"2014-12-03T16:03:32.302Z","type":"message"}
{"nick":"rch","message":"lpeg is very powerful and very efficient","date":"2014-12-03T16:03:40.706Z","type":"message"}
{"nick":"rch","message":"and very awkward","date":"2014-12-03T16:03:43.173Z","type":"message"}
{"nick":"rch","message":"and you have to statically link it in","date":"2014-12-03T16:03:52.524Z","type":"message"}
{"nick":"rch","message":"so i like peg parsers but the ones which have you write in a separate syntax to define your grammar i like a bit less. lpeg is one of those.","date":"2014-12-03T16:04:21.267Z","type":"message"}
{"nick":"rch","message":"mostly though it's that it's not a native lua library","date":"2014-12-03T16:04:56.203Z","type":"message"}
{"nick":"rch","message":"the interface parsimmon exposes is very simple and nice to use and entirely pure javascript","date":"2014-12-03T16:05:30.475Z","type":"message"}
{"nick":"KennethWilke","message":"the only one i've gotten very familiar with is flex/bison and something similar to those in python","date":"2014-12-03T16:05:30.979Z","type":"message"}
{"nick":"rch","message":"KennethWilke: codegen, a whole different world","date":"2014-12-03T16:05:42.136Z","type":"message"}
{"nick":"KennethWilke","message":"pylex or something","date":"2014-12-03T16:05:44.131Z","type":"message"}
{"nick":"KennethWilke","message":"yeah","date":"2014-12-03T16:06:04.187Z","type":"message"}
{"nick":"rch","message":"here's an example of an lpeg parser https://github.com/robert-chiniquy/languor/blob/master/lib/redis/languor.lua#L166","date":"2014-12-03T16:06:18.914Z","type":"message"}
{"nick":"KennethWilke","message":"bah safari doesn't seem to have that lua book","date":"2014-12-03T16:06:21.994Z","type":"message"}
{"nick":"rch","message":"you can find it online, 1s","date":"2014-12-03T16:06:40.358Z","type":"message"}
{"nick":"KennethWilke","message":"ty","date":"2014-12-03T16:06:46.870Z","type":"message"}
{"nick":"KennethWilke","message":"h derp","date":"2014-12-03T16:06:59.842Z","type":"message"}
{"nick":"KennethWilke","message":"oh*","date":"2014-12-03T16:07:02.867Z","type":"message"}
{"nick":"KennethWilke","message":"i was already there","date":"2014-12-03T16:07:04.879Z","type":"message"}
{"nick":"rch","message":"http://www.lua.org/pil/contents.html","date":"2014-12-03T16:07:05.223Z","type":"message"}
{"nick":"rch","message":"i think this is a few versions old","date":"2014-12-03T16:07:12.092Z","type":"message"}
{"nick":"rch","message":"but still mostly true","date":"2014-12-03T16:07:15.906Z","type":"message"}
{"nick":"creationix","message":"the first edition is free, it’s a little dated but not too bad","date":"2014-12-03T16:07:16.155Z","type":"message"}
{"nick":"KennethWilke","message":"it'll probably do","date":"2014-12-03T16:07:24.575Z","type":"message"}
{"nick":"creationix","message":"luajit is lua 5.1 with some 5.2 non-breaking changed added in","date":"2014-12-03T16:07:29.030Z","type":"message"}
{"nick":"creationix","message":"the free book is lua 5.0","date":"2014-12-03T16:07:33.378Z","type":"message"}
{"nick":"KennethWilke","message":"nice, what's the best place to ref docs for luvit?","date":"2014-12-03T16:07:55.562Z","type":"message"}
{"nick":"rch","message":"nodejs.org ;p","date":"2014-12-03T16:08:03.519Z","type":"message"}
{"nick":"creationix","message":"that would be on my todo list","date":"2014-12-03T16:08:09.848Z","type":"message"}
{"nick":"rch","message":"heh","date":"2014-12-03T16:08:13.334Z","type":"message"}
{"nick":"dan336","message":"hahaha","date":"2014-12-03T16:08:14.549Z","type":"message"}
{"nick":"KennethWilke","message":"no worries, so the git repo for now? :p","date":"2014-12-03T16:08:19.122Z","type":"message"}
{"nick":"creationix","message":"luv’s docs are docs.libuv.org and luvit’s docs are nodejs.org","date":"2014-12-03T16:08:21.743Z","type":"message"}
{"nick":"KennethWilke","message":"yeah fortunately i've done a lot of tinkering with libuv in C so i imagine that'll be pretty easy to get used to","date":"2014-12-03T16:08:59.863Z","type":"message"}
{"nick":"dan336","message":"I look at the tests sometimes too, that seems to be a good place if you like reading code.","date":"2014-12-03T16:09:23.263Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: is this for a new project or working on an existing luvit project?","date":"2014-12-03T16:09:31.415Z","type":"message"}
{"nick":"KennethWilke","message":"this would be a new project","date":"2014-12-03T16:09:44.133Z","type":"message"}
{"nick":"KennethWilke","message":"i just want a little redis proxy","date":"2014-12-03T16:09:56.850Z","type":"message"}
{"nick":"KennethWilke","message":"that can do some small features beyond proxying","date":"2014-12-03T16:10:05.143Z","type":"message"}
{"nick":"dan336","message":"like master dection?","date":"2014-12-03T16:10:16.032Z","type":"message"}
{"nick":"creationix","message":"since you know libuv, raw luv might be useful","date":"2014-12-03T16:10:22.111Z","type":"message"}
{"nick":"creationix","message":"or use the new luvit version and just use the “uv” module directly instead of the sugar we’re still implementing","date":"2014-12-03T16:10:37.419Z","type":"message"}
{"nick":"KennethWilke","message":"not even that, i just want to like limit the command set that can be used via a proxy","date":"2014-12-03T16:10:48.758Z","type":"message"}
{"nick":"KennethWilke","message":"so that web nodes can just do GET and SET, but admins can use the full command set on the redis server for whatever they need","date":"2014-12-03T16:11:07.141Z","type":"message"}
{"nick":"KennethWilke","message":"without renaming commands or any of that kinda stuff","date":"2014-12-03T16:11:17.164Z","type":"message"}
{"nick":"rch","message":"RBAC for redis","date":"2014-12-03T16:11:18.440Z","type":"message"}
{"nick":"KennethWilke","message":"yeah kinda","date":"2014-12-03T16:11:23.067Z","type":"message"}
{"nick":"rch","message":"interesting","date":"2014-12-03T16:11:43.485Z","type":"message"}
{"nick":"KennethWilke","message":"additionally, if i could, i'd like to use unix sockets so i can grab UIDs and namespace operations based on the UID of the remote connection","date":"2014-12-03T16:11:51.034Z","type":"message"}
{"nick":"creationix","message":"the luv tests are probably the best docs for the “uv” module currently https://github.com/luvit/luv/blob/master/tests/test-tcp.lua","date":"2014-12-03T16:12:39.559Z","type":"message"}
{"nick":"creationix","message":"I really enjoy using it directly personally","date":"2014-12-03T16:12:48.948Z","type":"message"}
{"nick":"creationix","message":"but if you use the new “luvi-up” version of luvit (soon to be 2.0) you get awesome pretty-printing, a repl, and node-like requires","date":"2014-12-03T16:13:28.915Z","type":"message"}
{"nick":"KennethWilke","message":"whats the raw luv stuff?","date":"2014-12-03T16:13:30.164Z","type":"message"}
{"nick":"creationix","message":"luv is lua bindings for libuv","date":"2014-12-03T16:13:41.447Z","type":"message"}
{"nick":"creationix","message":"it’s the same API style as libuv","date":"2014-12-03T16:14:06.204Z","type":"message"}
{"nick":"creationix","message":"but luvit is node.js in lua, so a lot of API sugar is needed to bridge the gap between libuv and node","date":"2014-12-03T16:14:15.367Z","type":"message"}
{"nick":"creationix","message":"we’re still working on that bridge part, but luv itself is quite stable and done","date":"2014-12-03T16:14:28.791Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-12-03T16:14:38.599Z","type":"quit"}
{"nick":"creationix","message":"the older stable version of luvit had it’s own C bindings to libuv directly for luvit","date":"2014-12-03T16:14:53.147Z","type":"message"}
{"nick":"KennethWilke","message":"so luvit is more of that built upon event driven kinda model?","date":"2014-12-03T16:14:54.182Z","type":"message"}
{"nick":"KennethWilke","message":"vs like a procedural lua intepreter?","date":"2014-12-03T16:15:19.043Z","type":"message"}
{"nick":"creationix","message":"yeah, luvit is luv + node style APIs (event emitters, node streams, etc)","date":"2014-12-03T16:15:20.148Z","type":"message"}
{"nick":"creationix","message":"though libuv itself is also callback based, so it’s not that different, just simpler","date":"2014-12-03T16:15:42.317Z","type":"message"}
{"nick":"rch","message":"KennethWilke: luv is still async, if you don't call the event loop yourself nothing happens","date":"2014-12-03T16:15:46.079Z","type":"message"}
{"nick":"rch","message":"KennethWilke: just a lot more like writing C against libuv","date":"2014-12-03T16:16:01.363Z","type":"message"}
{"nick":"KennethWilke","message":"alrighty","date":"2014-12-03T16:16:25.625Z","type":"message"}
{"nick":"creationix","message":"I started writing a package manager for luvit using luvit and my own style of async code.  Here is my wrapping of the libuv fs functions to be coroutine friendly https://github.com/luvit/lit/blob/master/fs.lua","date":"2014-12-03T16:16:54.496Z","type":"message"}
{"nick":"KennethWilke","message":"does the regular lua interpreter have a package manager?","date":"2014-12-03T16:17:09.804Z","type":"message"}
{"nick":"KennethWilke","message":"i've not used it at all","date":"2014-12-03T16:17:19.094Z","type":"message"}
{"nick":"KennethWilke","message":"i've only used lua when it was embedded in some other program","date":"2014-12-03T16:17:34.143Z","type":"message"}
{"nick":"creationix","message":"lua itself doesn’t.  The lua community has a few","date":"2014-12-03T16:17:50.467Z","type":"message"}
{"nick":"creationix","message":"luarocks is fairly popular","date":"2014-12-03T16:17:55.975Z","type":"message"}
{"nick":"creationix","message":"but luvit doesn’t have the same module resolution algorithm as stock lua, so it doesn’t always work","date":"2014-12-03T16:18:32.200Z","type":"message"}
{"nick":"creationix","message":"I did add a fallback in the new version to support normal lua modules","date":"2014-12-03T16:18:42.483Z","type":"message"}
{"nick":"creationix","message":"the lua community is extremely fragmented because of it’s heavy emphasis on embedding","date":"2014-12-03T16:19:19.545Z","type":"message"}
{"nick":"KennethWilke","message":"hmm, i think for this project i'll try going the luvit route, seems interesting and y'all are pretty friendly i'd like to contribute if i could","date":"2014-12-03T16:19:21.167Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: awesome, let me know how to help","date":"2014-12-03T16:19:36.471Z","type":"message"}
{"nick":"rch","message":"i still kind of think mix-n-matching modules from luvit and vanilla lua is a bad idea, reminds me of what happened in python with all the eventing frameworks","date":"2014-12-03T16:19:43.727Z","type":"message"}
{"nick":"rch","message":"but i get it","date":"2014-12-03T16:20:03.539Z","type":"message"}
{"nick":"creationix","message":"rch: that’s exactly why luvit 1.0 explicitly didn’t support loading from luarocks","date":"2014-12-03T16:20:10.172Z","type":"message"}
{"nick":"dan336","message":"KennethWilke: so are you going to have the proxy speak the protocol that redis uses? or something else?","date":"2014-12-03T16:20:33.906Z","type":"message"}
{"nick":"KennethWilke","message":"dan336, yar, the redis protocol","date":"2014-12-03T16:20:50.506Z","type":"message"}
{"nick":"KennethWilke","message":"i'd like to make a generic or modular proxy","date":"2014-12-03T16:20:58.330Z","type":"message"}
{"nick":"creationix","message":"sounds like fun","date":"2014-12-03T16:20:59.994Z","type":"message"}
{"nick":"KennethWilke","message":"but i'd like to know what i'm doing a little bit more before getting that ambitious","date":"2014-12-03T16:21:10.014Z","type":"message"}
{"nick":"rch","message":"i haven't actually gotten this to work but there's luvit redis parsing code in it https://github.com/tadeuszwojcik/luvit-redis","date":"2014-12-03T16:21:14.855Z","type":"message"}
{"nick":"creationix","message":"I recommend writing the actual protocol parser in a way that doesn’t involve I/O","date":"2014-12-03T16:21:16.183Z","type":"message"}
{"nick":"rch","message":"+1","date":"2014-12-03T16:21:20.735Z","type":"message"}
{"nick":"dan336","message":"yeah","date":"2014-12-03T16:21:23.495Z","type":"message"}
{"nick":"rch","message":"using a stream interface is one approach","date":"2014-12-03T16:21:25.956Z","type":"message"}
{"nick":"creationix","message":"the new style proposed by imzyxwvu is working really nice for me now","date":"2014-12-03T16:22:22.502Z","type":"message"}
{"nick":"creationix","message":"adapting that to a stream is pretty straightforward","date":"2014-12-03T16:22:34.327Z","type":"message"}
{"nick":"rch","message":"i still haven't dug into that","date":"2014-12-03T16:22:39.573Z","type":"message"}
{"nick":"KennethWilke","message":"not involving I/O i think is what i had in mind","date":"2014-12-03T16:22:40.486Z","type":"message"}
{"nick":"KennethWilke","message":"trying to parse what i can as data comes in asynchronously, no blocking operations","date":"2014-12-03T16:22:58.036Z","type":"message"}
{"nick":"creationix","message":"rch: the only part of his proposal that I’m using is the decoder part.  But I’m really loving it","date":"2014-12-03T16:23:08.159Z","type":"message"}
{"nick":"KennethWilke","message":"is that what you mean?","date":"2014-12-03T16:23:18.147Z","type":"message"}
{"nick":"dan336","message":"rch: i have used that redis library quite a few times. I think there is a missing header file in the project though....","date":"2014-12-03T16:23:38.779Z","type":"message"}
{"nick":"creationix","message":"right, the basic idea is to have a simple decoder function that reads the input till either it’s done parsing a unit or needs more data","date":"2014-12-03T16:23:43.299Z","type":"message"}
{"nick":"creationix","message":"if it needs more data, it returns nil meaning it needs more data","date":"2014-12-03T16:23:51.439Z","type":"message"}
{"nick":"creationix","message":"it will be called again and start over when there is more data","date":"2014-12-03T16:23:59.448Z","type":"message"}
{"nick":"KennethWilke","message":"yeah that's what i want to build","date":"2014-12-03T16:24:09.372Z","type":"message"}
{"nick":"creationix","message":"if it had enough, it returns the parsed value and the extra data","date":"2014-12-03T16:24:10.876Z","type":"message"}
{"nick":"a___","date":"2014-12-03T16:24:15.847Z","type":"join"}
{"nick":"creationix","message":"(lua has multiple return values)","date":"2014-12-03T16:24:17.993Z","type":"message"}
{"nick":"KennethWilke","message":"was trying to do that in C, but was trying to chain buffers in a linked list and made all these functions to manipulate the buffer chains as list and it just got crazy","date":"2014-12-03T16:24:40.223Z","type":"message"}
{"nick":"creationix","message":"for years I wrote resumable statemachines, often working a character at a time, but I’m starting to learn this restart style is much simpler and actually faster in practice","date":"2014-12-03T16:24:56.827Z","type":"message"}
{"nick":"KennethWilke","message":"it was fast because nothing was being copied around, and memory allocations were few, but it was getting way to complicated for the amount of time i want to spend on it","date":"2014-12-03T16:25:19.131Z","type":"message"}
{"nick":"creationix","message":"lua doesn’t have buffer chains like V8, but string concat is usually fast enough for parsers.","date":"2014-12-03T16:25:40.499Z","type":"message"}
{"nick":"creationix","message":"yep, it’s a great optimization technique, but even luajit never implemented it as far as I know","date":"2014-12-03T16:26:10.157Z","type":"message"}
{"nick":"KennethWilke","message":"at this point i think concat will be performant enough for my own needs","date":"2014-12-03T16:26:26.452Z","type":"message"}
{"nick":"creationix","message":"I think so.  Your messages are pretty small and tcp chunks are bigish in a busy network","date":"2014-12-03T16:26:45.831Z","type":"message"}
{"nick":"KennethWilke","message":"i was just trying to pull out every trick i could think of","date":"2014-12-03T16:26:47.734Z","type":"message"}
{"nick":"KennethWilke","message":"lol","date":"2014-12-03T16:26:52.730Z","type":"message"}
{"nick":"creationix","message":"for reference, here is my binary decoder for a protocol I invented a while back https://github.com/luvit/lit/blob/master/net-decoder.lua#L3-L69","date":"2014-12-03T16:27:46.323Z","type":"message"}
{"nick":"creationix","message":"it works really well and is easy to read","date":"2014-12-03T16:27:53.199Z","type":"message"}
{"nick":"creationix","message":"it’s a syncing protocol between two CAS databases (Content Addressable Storage)","date":"2014-12-03T16:28:40.179Z","type":"message"}
{"nick":"KennethWilke","message":"yeah that'","date":"2014-12-03T16:30:40.457Z","type":"message"}
{"nick":"KennethWilke","message":"s not too bad","date":"2014-12-03T16:30:43.172Z","type":"message"}
{"nick":"creationix","message":"and there is only actually one concat in it’s usage.  For the case where more data was needed and a new tcp chunk came in https://github.com/luvit/lit/blob/master/server.lua#L22","date":"2014-12-03T16:32:07.230Z","type":"message"}
{"nick":"creationix","message":"the rest is just string reading and slicing","date":"2014-12-03T16:32:14.417Z","type":"message"}
{"nick":"a____","date":"2014-12-03T16:37:49.058Z","type":"join"}
{"nick":"a___","reason":"Ping timeout: 272 seconds","date":"2014-12-03T16:38:31.904Z","type":"quit"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T16:44:52.827Z","type":"quit"}
{"nick":"a____","reason":"Ping timeout: 252 seconds","date":"2014-12-03T16:45:23.059Z","type":"quit"}
{"nick":"a_____","date":"2014-12-03T16:45:26.568Z","type":"join"}
{"nick":"erlbot--","reason":"Ping timeout: 264 seconds","date":"2014-12-03T16:45:29.964Z","type":"quit"}
{"nick":"rphillips","message":"my super simple agent works now: https://gist.github.com/rphillips/cd979a607a432694b291","date":"2014-12-03T16:48:49.552Z","type":"message"}
{"nick":"rphillips","message":"3 tls connections","date":"2014-12-03T16:48:50.442Z","type":"message"}
{"nick":"rphillips","message":"2.6 MB","date":"2014-12-03T16:49:08.817Z","type":"message"}
{"nick":"creationix","message":"rphillips: awesome","date":"2014-12-03T16:53:49.288Z","type":"message"}
{"nick":"a____","date":"2014-12-03T16:54:01.580Z","type":"join"}
{"nick":"a_____","reason":"Ping timeout: 255 seconds","date":"2014-12-03T16:54:25.521Z","type":"quit"}
{"nick":"rphillips","message":"i'm going to see how far virgo-base comes along, and get tls.createServer functional (no tls server support yet)","date":"2014-12-03T16:54:28.201Z","type":"message"}
{"nick":"creationix","message":"I’m pushing a minor update to luvi to fix case in uv type constants","date":"2014-12-03T16:54:30.481Z","type":"message"}
{"nick":"creationix","message":"rphillips: I’m trying to update luvit to the new luvi versions and I’m getting a hang in one of the TLS tests","date":"2014-12-03T16:54:47.412Z","type":"message"}
{"nick":"rphillips","message":"creationix: probably the sigterm constant","date":"2014-12-03T16:55:11.317Z","type":"message"}
{"nick":"creationix","message":"ok, I’ll look again.  I did a global search for all-caps strings","date":"2014-12-03T16:55:30.108Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T16:57:41.325Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luv#190 (master - 83d485e : Tim Caswell): The build passed.","date":"2014-12-03T16:57:41.327Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luv/compare/6c4bd1a3a5f7...83d485eae2b8","date":"2014-12-03T16:57:41.327Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luv/builds/42882432","date":"2014-12-03T16:57:41.327Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T16:57:41.327Z","type":"part"}
{"nick":"creationix","message":"strange, works just fine with luvi v0.5.1","date":"2014-12-03T16:58:39.916Z","type":"message"}
{"nick":"creationix","message":"that change shouldn’t have affected it I thought","date":"2014-12-03T16:58:46.815Z","type":"message"}
{"nick":"a____","reason":"Ping timeout: 256 seconds","date":"2014-12-03T16:59:24.636Z","type":"quit"}
{"nick":"a____","date":"2014-12-03T16:59:33.270Z","type":"join"}
{"nick":"travis-ci","date":"2014-12-03T17:00:22.224Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#181 (master - 1287a05 : Tim Caswell): The build passed.","date":"2014-12-03T17:00:22.226Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/1d2d8d316d76...1287a0545f65","date":"2014-12-03T17:00:22.226Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/42882741","date":"2014-12-03T17:00:22.226Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T17:00:22.226Z","type":"part"}
{"nick":"KennethWilke","reason":"Read error: Connection reset by peer","date":"2014-12-03T17:01:49.567Z","type":"quit"}
{"nick":"a____","reason":"Ping timeout: 240 seconds","date":"2014-12-03T17:05:57.281Z","type":"quit"}
{"nick":"a____","date":"2014-12-03T17:07:10.273Z","type":"join"}
{"nick":"rphillips","message":"it doesn't look like a relative require is working... require('./some-file')","date":"2014-12-03T17:07:32.836Z","type":"message"}
{"nick":"creationix","message":"that’s strange","date":"2014-12-03T17:07:51.409Z","type":"message"}
{"nick":"creationix","message":"I use it all the time, where is it failing?","date":"2014-12-03T17:08:20.741Z","type":"message"}
{"nick":"rphillips","message":"in my the virgo-base directory...","date":"2014-12-03T17:10:03.569Z","type":"message"}
{"nick":"erlbot--","date":"2014-12-03T17:10:15.257Z","type":"join"}
{"nick":"creationix","message":"is this inside a zip or a LUVI_APP bundle?","date":"2014-12-03T17:11:15.965Z","type":"message"}
{"nick":"a_____","date":"2014-12-03T17:11:42.059Z","type":"join"}
{"nick":"a____","reason":"Ping timeout: 244 seconds","date":"2014-12-03T17:12:18.262Z","type":"quit"}
{"nick":"rphillips","message":"inside the zip","date":"2014-12-03T17:12:19.211Z","type":"message"}
{"nick":"rphillips","message":"module.dir doesn't seem to be defined","date":"2014-12-03T17:12:31.937Z","type":"message"}
{"nick":"UniOn","date":"2014-12-03T17:12:33.939Z","type":"join"}
{"nick":"rphillips","message":"hmm","date":"2014-12-03T17:12:46.020Z","type":"message"}
{"nick":"dan336","date":"2014-12-03T17:12:49.192Z","type":"join"}
{"nick":"creationix","message":"yeah that will break it, I wonder where the bug is","date":"2014-12-03T17:13:15.431Z","type":"message"}
{"nick":"rphillips","message":"checking","date":"2014-12-03T17:14:01.521Z","type":"message"}
{"nick":"a_____","reason":"Ping timeout: 252 seconds","date":"2014-12-03T17:16:33.059Z","type":"quit"}
{"nick":"KennethWilke","date":"2014-12-03T17:20:00.662Z","type":"join"}
{"nick":"a___","date":"2014-12-03T17:21:05.297Z","type":"join"}
{"nick":"kazupon","date":"2014-12-03T17:25:26.608Z","type":"join"}
{"nick":"travis-ci","date":"2014-12-03T17:25:47.811Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1292 (update-luvi - 452a905 : Tim Caswell): The build passed.","date":"2014-12-03T17:25:47.812Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/commit/452a90580b0e","date":"2014-12-03T17:25:47.813Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/42885804","date":"2014-12-03T17:25:47.813Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T17:25:47.813Z","type":"part"}
{"nick":"rch","message":"rphillips: nice! (re: mini-agent)","date":"2014-12-03T17:27:22.352Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2014-12-03T17:29:58.554Z","type":"quit"}
{"nick":"a____","date":"2014-12-03T17:30:33.913Z","type":"join"}
{"nick":"a___","reason":"Ping timeout: 258 seconds","date":"2014-12-03T17:30:41.361Z","type":"quit"}
{"nick":"travis-ci","date":"2014-12-03T17:33:07.641Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1293 (update-luvi - dbe8d4d : Tim Caswell): The build passed.","date":"2014-12-03T17:33:07.643Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/452a90580b0e...dbe8d4da6c56","date":"2014-12-03T17:33:07.643Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/42886661","date":"2014-12-03T17:33:07.643Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T17:33:07.643Z","type":"part"}
{"nick":"a_____","date":"2014-12-03T17:34:14.892Z","type":"join"}
{"nick":"a____","reason":"Ping timeout: 264 seconds","date":"2014-12-03T17:35:17.937Z","type":"quit"}
{"nick":"travis-ci","date":"2014-12-03T17:37:35.357Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#183 (master - cb76af3 : Tim Caswell): The build passed.","date":"2014-12-03T17:37:35.398Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/1287a0545f65...cb76af371535","date":"2014-12-03T17:37:35.398Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/42886943","date":"2014-12-03T17:37:35.398Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T17:37:35.398Z","type":"part"}
{"nick":"rphillips","message":"got it working... my fault :/","date":"2014-12-03T17:38:12.150Z","type":"message"}
{"nick":"rphillips","message":"creationix: must I prefix all the imports with bundle: ?","date":"2014-12-03T17:39:26.727Z","type":"message"}
{"nick":"creationix","message":"where are you requireing from?","date":"2014-12-03T17:39:49.845Z","type":"message"}
{"nick":"rphillips","message":"the executable where the zip is attached","date":"2014-12-03T17:40:34.606Z","type":"message"}
{"nick":"a_____","reason":"Ping timeout: 272 seconds","date":"2014-12-03T17:43:07.856Z","type":"quit"}
{"nick":"creationix","message":"rphillips: so you mean from the repl?","date":"2014-12-03T17:45:11.069Z","type":"message"}
{"nick":"creationix","message":"or from main.lua in the bundle?","date":"2014-12-03T17:45:35.440Z","type":"message"}
{"nick":"rphillips","message":"the virgo-base executable... i'm running ./virgo-base to run the unit tests","date":"2014-12-03T17:45:45.142Z","type":"message"}
{"nick":"creationix","message":"ok, so are the unit tests inside the zip too?","date":"2014-12-03T17:46:12.828Z","type":"message"}
{"nick":"rphillips","message":"roger","date":"2014-12-03T17:46:41.656Z","type":"message"}
{"nick":"creationix","message":"what requires the unit tests?","date":"2014-12-03T17:47:18.613Z","type":"message"}
{"nick":"creationix","message":"main.lua?","date":"2014-12-03T17:47:21.010Z","type":"message"}
{"nick":"rphillips","message":"correct","date":"2014-12-03T17:49:13.209Z","type":"message"}
{"nick":"creationix","message":"that should work then since all the files live inside bundle, hmm","date":"2014-12-03T17:49:45.938Z","type":"message"}
{"nick":"rphillips","message":"it works if I put bundle: ... is that required?","date":"2014-12-03T17:50:39.962Z","type":"message"}
{"nick":"creationix","message":"that should only be required if the file calling require is outside the bundle","date":"2014-12-03T17:50:54.125Z","type":"message"}
{"nick":"creationix","message":"the only implicit place to grab bundle files from the outside is via global modules in the bundle:/modules/ folder","date":"2014-12-03T17:51:20.836Z","type":"message"}
{"nick":"creationix","message":"but from inside, local relative requries should work just fine","date":"2014-12-03T17:51:32.504Z","type":"message"}
{"nick":"rphillips","message":"local Connection = require('virgo/connection')","date":"2014-12-03T17:54:58.112Z","type":"message"}
{"nick":"creationix","message":"virgo is at “bundle:virgo” ?","date":"2014-12-03T17:55:36.702Z","type":"message"}
{"nick":"rphillips","message":"virgo/connection.lua within the zip","date":"2014-12-03T17:55:42.913Z","type":"message"}
{"nick":"creationix","message":"or “bundle:modules/virgo”","date":"2014-12-03T17:55:47.493Z","type":"message"}
{"nick":"rphillips","message":"it's in the root","date":"2014-12-03T17:55:58.251Z","type":"message"}
{"nick":"rphillips","message":" /virgo/connection","date":"2014-12-03T17:56:03.792Z","type":"message"}
{"nick":"creationix","message":"ok, so from main it would be “./virgo/connection” then","date":"2014-12-03T17:56:10.236Z","type":"message"}
{"nick":"creationix","message":"“virgo/connection” is not a relative require","date":"2014-12-03T17:56:24.114Z","type":"message"}
{"nick":"rphillips","message":"so, if I move that into modules/ it'll work with just 'virgo/connection'","date":"2014-12-03T17:57:13.175Z","type":"message"}
{"nick":"rphillips","message":"ah i see","date":"2014-12-03T17:57:28.860Z","type":"message"}
{"nick":"creationix","message":"I wonder if we should make global requires also look in the local folder","date":"2014-12-03T17:59:27.286Z","type":"message"}
{"nick":"creationix","message":"currently it’s considered local if is begins with “./“ or “../“","date":"2014-12-03T18:00:19.307Z","type":"message"}
{"nick":"a_____","date":"2014-12-03T18:00:41.379Z","type":"join"}
{"nick":"a_le","reason":"Ping timeout: 258 seconds","date":"2014-12-03T18:04:02.442Z","type":"quit"}
{"nick":"a_____","reason":"Ping timeout: 240 seconds","date":"2014-12-03T18:08:57.325Z","type":"quit"}
{"nick":"a_____","date":"2014-12-03T18:09:04.236Z","type":"join"}
{"nick":"travis-ci","date":"2014-12-03T18:11:22.369Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1295 (update-luvi - 3c57deb : Tim Caswell): The build passed.","date":"2014-12-03T18:11:22.371Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/dbe8d4da6c56...3c57deb94caf","date":"2014-12-03T18:11:22.371Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/42890797","date":"2014-12-03T18:11:22.371Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T18:11:22.371Z","type":"part"}
{"nick":"a_le","date":"2014-12-03T18:17:55.422Z","type":"join"}
{"nick":"a___","date":"2014-12-03T18:21:49.260Z","type":"join"}
{"nick":"a_____","reason":"Ping timeout: 258 seconds","date":"2014-12-03T18:22:03.289Z","type":"quit"}
{"nick":"KennethWilke","message":"i'm tinkering with the tcp echo server example, and getting this error: [string \"bundle:modules/stream_readable.lua\"]:616: attempt to index local 'dest' (a nil value)","date":"2014-12-03T18:25:43.569Z","type":"message"}
{"nick":"rphillips","message":"we haven't gone through the examples yet","date":"2014-12-03T18:27:03.292Z","type":"message"}
{"nick":"rphillips","message":"i suggest starting with the master branch","date":"2014-12-03T18:27:16.905Z","type":"message"}
{"nick":"KennethWilke","message":"alrighty","date":"2014-12-03T18:27:20.566Z","type":"message"}
{"nick":"KennethWilke","message":"yeah this was from the luvi-up branch","date":"2014-12-03T18:27:26.045Z","type":"message"}
{"nick":"a___","reason":"Ping timeout: 258 seconds","date":"2014-12-03T18:28:11.291Z","type":"quit"}
{"nick":"a____","date":"2014-12-03T18:28:15.880Z","type":"join"}
{"nick":"KennethWilke","message":"rphillips: yeah it's looking fine on the master, ty","date":"2014-12-03T18:30:25.728Z","type":"message"}
{"nick":"a_____","date":"2014-12-03T18:32:44.060Z","type":"join"}
{"nick":"a____","reason":"Ping timeout: 272 seconds","date":"2014-12-03T18:33:09.890Z","type":"quit"}
{"nick":"rphillips","message":"creationix: if I do this from main.lua, require('bundle:/unit-tests/entry').run() should all the requires within the run() not require 'bundle:'?","date":"2014-12-03T18:44:51.078Z","type":"message"}
{"nick":"rphillips","message":"i'll make a test case","date":"2014-12-03T18:45:01.372Z","type":"message"}
{"nick":"creationix","message":"no they shouldn’t.  You shouldn’t even need bundle in main.lua","date":"2014-12-03T18:45:34.216Z","type":"message"}
{"nick":"creationix","message":"I think it’s a bug, please send a test case","date":"2014-12-03T18:45:39.271Z","type":"message"}
{"nick":"rphillips","message":"creationix: https://www.dropbox.com/s/rbutaavn5c3yueb/test-case.tar.gz?dl=0","date":"2014-12-03T18:51:50.885Z","type":"message"}
{"nick":"rphillips","message":"osx luvi binary included","date":"2014-12-03T18:52:07.353Z","type":"message"}
{"nick":"creationix","message":"got it, thanks","date":"2014-12-03T18:53:41.000Z","type":"message"}
{"nick":"creationix","message":"so that’s luvit’s require.lua right?","date":"2014-12-03T18:53:46.733Z","type":"message"}
{"nick":"rphillips","message":"correct","date":"2014-12-03T18:53:54.478Z","type":"message"}
{"nick":"erlbot--","reason":"Ping timeout: 245 seconds","date":"2014-12-03T18:55:45.039Z","type":"quit"}
{"nick":"creationix","message":"rphillips: fixed it https://gist.github.com/creationix/81d6df3dca8cb96eb1a5","date":"2014-12-03T18:56:39.053Z","type":"message"}
{"nick":"creationix","message":"sorry if I confused you","date":"2014-12-03T18:56:44.622Z","type":"message"}
{"nick":"rphillips","message":"going to try one more thing","date":"2014-12-03T18:57:13.139Z","type":"message"}
{"nick":"rphillips","message":"oh interesting... the lua extension is required","date":"2014-12-03T18:57:39.860Z","type":"message"}
{"nick":"creationix","message":"oh, ignore that part","date":"2014-12-03T18:57:56.865Z","type":"message"}
{"nick":"creationix","message":"works without the extension","date":"2014-12-03T18:58:09.646Z","type":"message"}
{"nick":"rphillips","message":"gotcha","date":"2014-12-03T18:58:17.489Z","type":"message"}
{"nick":"rphillips","message":"int('hello world')","date":"2014-12-03T19:00:20.775Z","type":"message"}
{"nick":"rphillips","message":" |+ modules/                       |","date":"2014-12-03T19:00:20.777Z","type":"message"}
{"nick":"rphillips","message":" |  main.lua                       |require('./secondary')","date":"2014-12-03T19:00:20.777Z","type":"message"}
{"nick":"rphillips","message":"bad paste","date":"2014-12-03T19:00:39.226Z","type":"message"}
{"nick":"rphillips","message":"creationix: is the require('./secondary') intended to be that way? if I do require('secondary') within the testing.lua file","date":"2014-12-03T19:01:01.578Z","type":"message"}
{"nick":"rphillips","message":"the ./ is required","date":"2014-12-03T19:01:06.563Z","type":"message"}
{"nick":"creationix","message":"./ is required for relative requires","date":"2014-12-03T19:01:24.468Z","type":"message"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-12-03T19:02:00.681Z","type":"quit"}
{"nick":"rphillips","message":"so the search path is only in modules/ right?","date":"2014-12-03T19:02:03.314Z","type":"message"}
{"nick":"rphillips","message":"require('secondary') would need to be in modules/","date":"2014-12-03T19:02:12.307Z","type":"message"}
{"nick":"creationix","message":"right","date":"2014-12-03T19:02:16.172Z","type":"message"}
{"nick":"rphillips","message":"k. that was a bit confusing","date":"2014-12-03T19:02:26.005Z","type":"message"}
{"nick":"creationix","message":"paths inside the bundle work exactly like outside the bundle","date":"2014-12-03T19:02:32.938Z","type":"message"}
{"nick":"creationix","message":"the only special thing is if a module isn’t found outside the bundle, it will look inside bundle:modules","date":"2014-12-03T19:02:57.320Z","type":"message"}
{"nick":"creationix","message":"(but only for non-relative requires)","date":"2014-12-03T19:03:49.766Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T19:03:58.059Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#184 (feat/add_zlib - 2216e72 : Rob Emanuele): The build is still failing.","date":"2014-12-03T19:03:58.061Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/8e7f177fbc35...2216e7228426","date":"2014-12-03T19:03:58.061Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/42896446","date":"2014-12-03T19:03:58.061Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T19:03:58.062Z","type":"part"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-12-03T19:08:19.422Z","type":"quit"}
{"nick":"a_le","date":"2014-12-03T19:08:46.381Z","type":"join"}
{"nick":"creationix","message":"rje: on your pr, travis sees: “/home/travis/build/luvit/luvi/src/main.c:27:1: error: duplicate ‘extern’”","date":"2014-12-03T19:11:45.370Z","type":"message"}
{"nick":"creationix","message":"I wonder if miniz is conflicting with zlib","date":"2014-12-03T19:11:53.005Z","type":"message"}
{"nick":"creationix","message":"I include miniz.c indirectly from main.c","date":"2014-12-03T19:12:13.475Z","type":"message"}
{"nick":"creationix","message":"https://travis-ci.org/luvit/luvi/jobs/42896448#L342","date":"2014-12-03T19:12:26.209Z","type":"message"}
{"nick":"rje","message":"creationix: hmmm, i wonder why i don't see that on osx","date":"2014-12-03T19:18:32.483Z","type":"message"}
{"nick":"erlbot--","date":"2014-12-03T19:18:40.643Z","type":"join"}
{"nick":"erlbot--","reason":"Excess Flood","date":"2014-12-03T19:18:40.645Z","type":"quit"}
{"nick":"creationix","message":"that’s strange","date":"2014-12-03T19:18:48.514Z","type":"message"}
{"nick":"erlbot--","date":"2014-12-03T19:19:02.318Z","type":"join"}
{"nick":"rch","message":"\"paths inside the bundle work exactly like outside the bundle\" <—— does this mean the bundle is treated as the same as cwd ?","date":"2014-12-03T19:38:25.131Z","type":"message"}
{"nick":"creationix","message":"this means “./foo” from “bundle:bar/baz/” will resolve to “bundle:bar/foo”","date":"2014-12-03T19:40:39.494Z","type":"message"}
{"nick":"rch","message":"not \"bundle:bar/baz/foo\" ?","date":"2014-12-03T19:41:02.709Z","type":"message"}
{"nick":"creationix","message":"and from “fs:/home/tim/bar/baz” will resolve to “fs:/home/tim/bar/foo”","date":"2014-12-03T19:41:14.375Z","type":"message"}
{"nick":"creationix","message":"sorry, I didn’t mean to include the trailing slash","date":"2014-12-03T19:41:24.305Z","type":"message"}
{"nick":"rch","message":"ohhhhh got it","date":"2014-12-03T19:41:29.205Z","type":"message"}
{"nick":"rch","message":"so let's say i have a binary with a bundle and i do like $ ./rch-binary foo.lua","date":"2014-12-03T19:42:10.088Z","type":"message"}
{"nick":"rch","message":"can foo.lua require() from inside the bundle? actually is this an intended use case in general for a binary with a bundle or will it always just load main.lua or something?","date":"2014-12-03T19:42:31.618Z","type":"message"}
{"nick":"creationix","message":"that depends on how you setup require","date":"2014-12-03T19:42:49.713Z","type":"message"}
{"nick":"rch","message":"heh","date":"2014-12-03T19:42:55.165Z","type":"message"}
{"nick":"creationix","message":"remember that luvit’s require is not part of luvi","date":"2014-12-03T19:42:58.141Z","type":"message"}
{"nick":"rch","message":"right, brave new world","date":"2014-12-03T19:43:01.157Z","type":"message"}
{"nick":"rch","message":"yup","date":"2014-12-03T19:43:02.435Z","type":"message"}
{"nick":"creationix","message":"but proper usage of luvit’s require module is to create a new require with the full path to the file being executed as the extra arg","date":"2014-12-03T19:43:32.781Z","type":"message"}
{"nick":"rch","message":"so luvit 2 is a luvi binary and the core modules will be in the luvit bundle right, enabling me to require() them from rch.lua","date":"2014-12-03T19:43:46.285Z","type":"message"}
{"nick":"rch","message":"hmmm","date":"2014-12-03T19:43:48.741Z","type":"message"}
{"nick":"creationix","message":"so a require in foo.lua would be relative to cwd + foo.lua","date":"2014-12-03T19:43:51.291Z","type":"message"}
{"nick":"rch","message":"but i'd be able to require('stream') and it will use \"bundle:modules\" which is where the core libraries live?","date":"2014-12-03T19:44:42.943Z","type":"message"}
{"nick":"creationix","message":"right, the only implicit way that bundle files get required from non-bundle files is when it’s non-relative and isn’t found on the outside","date":"2014-12-03T19:47:03.405Z","type":"message"}
{"nick":"creationix","message":"it will look in ./modules/foo, ../modules/foo, all the way down to /modules/foo","date":"2014-12-03T19:47:20.030Z","type":"message"}
{"nick":"creationix","message":"then it will look in bundle:modules/foo","date":"2014-12-03T19:47:32.096Z","type":"message"}
{"nick":"creationix","message":"that’s why all luvit built-ins live in bundle:modules","date":"2014-12-03T19:47:47.514Z","type":"message"}
{"nick":"rch","message":"cool","date":"2014-12-03T19:54:35.525Z","type":"message"}
{"nick":"creationix","message":"I think it’s time to add binary module support to luvi.  I think some combination of uv_dlopen and uv_fs_mkdtemp","date":"2014-12-03T20:05:44.368Z","type":"message"}
{"nick":"rphillips","message":"+1","date":"2014-12-03T20:06:11.712Z","type":"message"}
{"nick":"rphillips","message":"should work","date":"2014-12-03T20:06:15.259Z","type":"message"}
{"nick":"creationix","message":"too bad libuv doesn’t have mkstemp","date":"2014-12-03T20:06:27.340Z","type":"message"}
{"nick":"rphillips","message":"though, i wonder if virus scanners think that is evil","date":"2014-12-03T20:06:47.792Z","type":"message"}
{"nick":"creationix","message":"but I can try creating the temp directory, dumping the .so, dl-open it and delete it","date":"2014-12-03T20:06:52.213Z","type":"message"}
{"nick":"creationix","message":"main issue is it won’t work on systems without a writable tmp filesystem","date":"2014-12-03T20:09:09.444Z","type":"message"}
{"nick":"rphillips","message":"we need a logging module","date":"2014-12-03T20:12:58.222Z","type":"message"}
{"nick":"rphillips","message":"virgo gave us a logging module","date":"2014-12-03T20:13:09.371Z","type":"message"}
{"nick":"rphillips","message":"man, so much to do","date":"2014-12-03T20:13:38.818Z","type":"message"}
{"nick":"rphillips","message":"it would be nice to keep the same api","date":"2014-12-03T20:13:59.446Z","type":"message"}
{"nick":"rch","message":"i would worry about virus scanners too","date":"2014-12-03T20:14:35.776Z","type":"message"}
{"nick":"rch","message":"but not sure what the alternative is","date":"2014-12-03T20:14:42.415Z","type":"message"}
{"nick":"rphillips","message":"luckily, unix shouldn't be an issue","date":"2014-12-03T20:16:18.608Z","type":"message"}
{"nick":"rphillips","message":"who runs a virus scanner on their linux box :)","date":"2014-12-03T20:16:18.650Z","type":"message"}
{"nick":"rch","message":"can we make binary module support a luvi plugin somehow? so it is possible to make luvi/luvit binaries without it","date":"2014-12-03T20:17:20.409Z","type":"message"}
{"nick":"rch","message":"virgo-upgrade-service.lib.entry: error {\"err\":{\"error\":{\"code\":\"ECONNREFUSED\",\"errno\":\"ECONNREFUSED\",\"syscall\":\"connect\"}}}","date":"2014-12-03T20:18:41.780Z","type":"message"}
{"nick":"rch","message":"^ do i need to rebuild my vm to get etcd somehow? it runs under init or something?","date":"2014-12-03T20:18:52.542Z","type":"message"}
{"nick":"rch","message":"whoops wrong channel x.x sorry","date":"2014-12-03T20:19:00.716Z","type":"message"}
{"nick":"creationix","message":"rch: sure, it can be left out of the tiny build if it ends up being a problem.  It won’t be enough code to worry about it’s size","date":"2014-12-03T20:21:36.741Z","type":"message"}
{"nick":"creationix","message":"I expect about 10 lines of C","date":"2014-12-03T20:21:40.864Z","type":"message"}
{"nick":"rch","message":"=]","date":"2014-12-03T20:22:13.672Z","type":"message"}
{"nick":"creationix","message":"and luajit already makes calls to dlopen to trigger over sensitive security scanners","date":"2014-12-03T20:22:14.979Z","type":"message"}
{"nick":"dan336","date":"2014-12-03T20:24:40.318Z","type":"join"}
{"nick":"phore","date":"2014-12-03T20:32:28.591Z","type":"join"}
{"nick":"travis-ci","date":"2014-12-03T20:40:36.604Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1297 (luvi-up - 05c6ef1 : Tim Caswell): The build passed.","date":"2014-12-03T20:40:36.642Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/7d7a3287c48c...05c6ef170711","date":"2014-12-03T20:40:36.642Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/42907543","date":"2014-12-03T20:40:36.642Z","type":"message"}
{"nick":"travis-ci","date":"2014-12-03T20:40:36.642Z","type":"part"}
{"nick":"creationix","message":"rch: Assuming I can load dynamic libraries out of the zip, how do we want to handle binary dependencies for the various platforms in a single source tree","date":"2014-12-03T20:41:22.692Z","type":"message"}
{"nick":"creationix","message":"I’m thinking maybe submodules containing binaries for the supported platforms and then the bundler being smart enough to grab the correct one?","date":"2014-12-03T20:42:14.662Z","type":"message"}
{"nick":"creationix","message":"and if a file doesn’t exist when searching, try adding a platform specefic suffix","date":"2014-12-03T20:42:48.167Z","type":"message"}
{"nick":"erlbot--","reason":"Remote host closed the connection","date":"2014-12-03T20:43:03.898Z","type":"quit"}
{"nick":"erlbot--","date":"2014-12-03T20:43:12.346Z","type":"join"}
{"nick":"creationix","message":"Looking for “gamepad” would first check for “gamepad.luvit”, but if it’s not there, look for “gamepad.dll” on windows or “gamepad.darwin.so” on osx, “gamepad.linux-x64.so” on linux, etc","date":"2014-12-03T20:44:30.888Z","type":"message"}
{"nick":"rphillips","message":"hmm. that might work well","date":"2014-12-03T21:04:39.331Z","type":"message"}
{"nick":"KennethWilke","message":"i'm messing with the tcp echo server example. how do i go about setting a callback for reads as they come in from the client?","date":"2014-12-03T21:33:11.746Z","type":"message"}
{"nick":"KennethWilke","message":"i'm thinking i use readStart for that in some way","date":"2014-12-03T21:36:34.800Z","type":"message"}
{"nick":"KennethWilke","message":"ah nvm, i think i found what i'm looking for","date":"2014-12-03T21:46:09.188Z","type":"message"}
{"nick":"creationix","message":"this seems to work https://gist.github.com/creationix/804045fd48aa6374a74a","date":"2014-12-03T21:51:03.562Z","type":"message"}
{"nick":"creationix","message":"then you can require .so files in any luvi bundle","date":"2014-12-03T21:51:41.605Z","type":"message"}
{"nick":"dan336","reason":"Ping timeout: 258 seconds","date":"2014-12-03T21:52:53.278Z","type":"quit"}
{"nick":"dan336","date":"2014-12-03T21:53:38.293Z","type":"join"}
{"nick":"KennethWilke","message":"i'm realizing now why it was suggested i look at the nodejs docs :p","date":"2014-12-03T21:55:41.622Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: I see you went with using the node-like sugar layer","date":"2014-12-03T21:56:30.657Z","type":"message"}
{"nick":"KennethWilke","message":"oh that wasn't intentional","date":"2014-12-03T21:56:44.990Z","type":"message"}
{"nick":"KennethWilke","message":"i just saw something in the tests that i could run with lol","date":"2014-12-03T21:56:56.070Z","type":"message"}
{"nick":"creationix","message":"luvit’s tests or luv’s tests?","date":"2014-12-03T21:57:05.773Z","type":"message"}
{"nick":"KennethWilke","message":"luvits","date":"2014-12-03T21:57:10.269Z","type":"message"}
{"nick":"creationix","message":"there are examples in luv’s tests that only use the libuv APIs is you already know those","date":"2014-12-03T21:57:18.877Z","type":"message"}
{"nick":"KennethWilke","message":"at this point node-like sugar doesn't do me any good since i've used luvit now more than node","date":"2014-12-03T21:57:25.354Z","type":"message"}
{"nick":"creationix","message":"but it is lower level, just less to learn","date":"2014-12-03T21:57:26.433Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/luv/blob/master/tests/test-tcp.lua","date":"2014-12-03T21:57:50.826Z","type":"message"}
{"nick":"creationix","message":"luv has two syntaxes, one is C style where you pass in the context as the first argument, the other is using lua’s : trick","date":"2014-12-03T21:58:12.020Z","type":"message"}
{"nick":"creationix","message":"the last two tests in this file are identical, just different syntax","date":"2014-12-03T21:58:30.294Z","type":"message"}
{"nick":"creationix","message":"and you can ignore the expect() and most the assert() stuff, that’s for the unit test","date":"2014-12-03T21:59:09.065Z","type":"message"}
{"nick":"KennethWilke","message":"ahh alrighty","date":"2014-12-03T22:00:10.665Z","type":"message"}
{"nick":"rch","message":"creationix: interesting. hard problem to solve, i don't have a brilliant idea for binary deps","date":"2014-12-03T22:01:49.273Z","type":"message"}
{"nick":"KennethWilke","message":"so i'd pass a callback to the socket:read_start() right?","date":"2014-12-03T22:02:49.482Z","type":"message"}
{"nick":"creationix","message":"right","date":"2014-12-03T22:02:58.953Z","type":"message"}
{"nick":"creationix","message":"here is my sync server https://github.com/luvit/lit/blob/master/server.lua","date":"2014-12-03T22:03:24.540Z","type":"message"}
{"nick":"KennethWilke","message":"oooo okay","date":"2014-12-03T22:03:58.089Z","type":"message"}
{"nick":"creationix","message":"I have the protocol logic in decoder","date":"2014-12-03T22:04:04.293Z","type":"message"}
{"nick":"KennethWilke","message":"i see what i'm doing wrong then, the way i kicked off the server is node style","date":"2014-12-03T22:04:09.957Z","type":"message"}
{"nick":"KennethWilke","message":"so i don't have that method defined on this client object","date":"2014-12-03T22:04:19.040Z","type":"message"}
{"nick":"KennethWilke","message":"this example is a lot more like what i'm accustomed to","date":"2014-12-03T22:05:07.564Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/lit/blob/master/server.lua#L14-L53 shows how to wrap a bare uv_tcp_t with full backpressure and a decoder","date":"2014-12-03T22:05:22.925Z","type":"message"}
{"nick":"creationix","message":"the actual logic is in a blocking coroutine with sync I/O https://github.com/luvit/lit/blob/master/server.lua#L59-L64","date":"2014-12-03T22:05:45.545Z","type":"message"}
{"nick":"KennethWilke","message":"that lexical scoping thing lua does is pretty great for this use","date":"2014-12-03T22:05:48.381Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2014-12-03T22:06:00.425Z","type":"message"}
{"nick":"creationix","message":"I prefer using luv directly since I know the libuv API","date":"2014-12-03T22:06:16.460Z","type":"message"}
{"nick":"KennethWilke","message":"https://github.com/luvit/lit/blob/master/server.lua#L46 whats the hash doing here?","date":"2014-12-03T22:06:18.833Z","type":"message"}
{"nick":"creationix","message":"hash means length","date":"2014-12-03T22:06:31.832Z","type":"message"}
{"nick":"KennethWilke","message":"ahhhh alrighty","date":"2014-12-03T22:06:36.932Z","type":"message"}
{"nick":"creationix","message":"it’s a lua thing","date":"2014-12-03T22:06:39.036Z","type":"message"}
{"nick":"KennethWilke","message":"trying to take note of the lua things, i went through a good bit of that book you suggested","date":"2014-12-03T22:07:03.641Z","type":"message"}
{"nick":"KennethWilke","message":"and i'm glad i did because i wouldn't have expected 0 to be true","date":"2014-12-03T22:07:17.189Z","type":"message"}
{"nick":"creationix","message":"or lists be 1 indexed","date":"2014-12-03T22:07:39.986Z","type":"message"}
{"nick":"rch","message":"KennethWilke: https://github.com/luvit/luvit/wiki/node-to-luvit-gotchas <—— may help or may be something you can add stuff to","date":"2014-12-03T22:07:40.722Z","type":"message"}
{"nick":"KennethWilke","message":"yeah that too","date":"2014-12-03T22:07:44.569Z","type":"message"}
{"nick":"KennethWilke","message":"ahh but i dunno jack about node, other than i love libuv and it uses it","date":"2014-12-03T22:08:20.667Z","type":"message"}
{"nick":"creationix","message":"rch: ohh, module and module.exports now work in luvit 2.0 :)","date":"2014-12-03T22:08:25.453Z","type":"message"}
{"nick":"creationix","message":"javascript is closer to C in syntax than lua is","date":"2014-12-03T22:08:47.723Z","type":"message"}
{"nick":"rch","message":"creationix: innnnnteresting wait does that mean recursive requires work too","date":"2014-12-03T22:08:49.723Z","type":"message"}
{"nick":"creationix","message":"rch: yep","date":"2014-12-03T22:08:56.398Z","type":"message"}
{"nick":"rch","message":"KennethWilke: aha maybe you want to do \"lua for libuv covers\" wiki page then","date":"2014-12-03T22:09:02.698Z","type":"message"}
{"nick":"rch","message":"creationix: woohoo!","date":"2014-12-03T22:09:04.303Z","type":"message"}
{"nick":"creationix","message":"I fixed that weeks ago","date":"2014-12-03T22:09:05.523Z","type":"message"}
{"nick":"KennethWilke","message":"yeah i've written plenty of javascript, just not in the context of node","date":"2014-12-03T22:09:07.252Z","type":"message"}
{"nick":"rch","message":"s/covers/coders/","date":"2014-12-03T22:09:19.250Z","type":"message"}
{"nick":"KennethWilke","message":"more in the context of those dirty browsers","date":"2014-12-03T22:09:22.975Z","type":"message"}
{"nick":"KennethWilke","message":"and necessary evils","date":"2014-12-03T22:09:28.432Z","type":"message"}
{"nick":"creationix","message":"lua + libuv is a really nice combo, I enjoy it","date":"2014-12-03T22:09:50.089Z","type":"message"}
{"nick":"creationix","message":"the luvit sugar is more for people coming from node who need something not to memory hungry","date":"2014-12-03T22:10:07.625Z","type":"message"}
{"nick":"KennethWilke","message":"it seems pretty nice to me so far","date":"2014-12-03T22:10:09.525Z","type":"message"}
{"nick":"rch","message":"i like the node/luvit api in most places","date":"2014-12-03T22:10:30.021Z","type":"message"}
{"nick":"rch","message":"give me the native uv stuff for when i need it and i'm good","date":"2014-12-03T22:10:35.931Z","type":"message"}
{"nick":"creationix","message":"yep, both are in luvit now","date":"2014-12-03T22:10:47.022Z","type":"message"}
{"nick":"KennethWilke","message":"luv by itself is a lib for things with a lua interpreter right?","date":"2014-12-03T22:11:42.504Z","type":"message"}
{"nick":"KennethWilke","message":"a lua lib or module","date":"2014-12-03T22:12:11.484Z","type":"message"}
{"nick":"creationix","message":"rch: https://github.com/luvit/luvit/blob/luvi-up/tests/test-require.lua#L123-L131","date":"2014-12-03T22:12:11.804Z","type":"message"}
{"nick":"creationix","message":"KennethWilke: right, luv is just bindings to libuv using the lua C API","date":"2014-12-03T22:12:22.869Z","type":"message"}
{"nick":"creationix","message":"works with luajit, luvit, normal lua, etc","date":"2014-12-03T22:12:29.378Z","type":"message"}
{"nick":"creationix","message":"luvi bakes it into luajit and adds a nice way to build without a C compiler, and luvit is a better module system + lots of node sugar","date":"2014-12-03T22:13:03.316Z","type":"message"}
{"nick":"rch","message":"creationix: nice, thanks","date":"2014-12-03T22:13:43.037Z","type":"message"}
{"nick":"KennethWilke","message":"the better module system aspect there makes me want to stick with luvit for what i'm doing","date":"2014-12-03T22:13:59.058Z","type":"message"}
{"nick":"creationix","message":"right, use luvit, but you don’t have to use the sugar","date":"2014-12-03T22:14:17.216Z","type":"message"}
{"nick":"creationix","message":"just require “uv” instead of “net” to create a TCP server","date":"2014-12-03T22:14:24.380Z","type":"message"}
{"nick":"KennethWilke","message":"that sounds good","date":"2014-12-03T22:14:38.575Z","type":"message"}
{"nick":"creationix","message":"net comes with node style streams, automatic timeout and all sorts of other stuff","date":"2014-12-03T22:14:40.852Z","type":"message"}
{"nick":"rch","message":"i wish you could do that in node too ;p but they remove uv_native from the userspace runtime","date":"2014-12-03T22:14:50.025Z","type":"message"}
{"nick":"creationix","message":"I","date":"2014-12-03T22:14:59.121Z","type":"message"}
{"nick":"creationix","message":"I’m trying to talk iojs into splitting node like we did","date":"2014-12-03T22:15:09.100Z","type":"message"}
{"nick":"rch","message":"that would be so dope","date":"2014-12-03T22:15:16.221Z","type":"message"}
{"nick":"creationix","message":"libuv.js would be the node version of luv","date":"2014-12-03T22:15:23.652Z","type":"message"}
{"nick":"rch","message":"major refactor though when they already have enough on their hands","date":"2014-12-03T22:15:48.037Z","type":"message"}
{"nick":"KennethWilke","message":"so what about the package management stuff, luvit has this or it's being worked on?","date":"2014-12-03T22:15:56.358Z","type":"message"}
{"nick":"creationix","message":"worked on","date":"2014-12-03T22:16:20.041Z","type":"message"}
{"nick":"rch","message":"KennethWilke: most people use git submodules or npm for now but creationix has a thing coming","date":"2014-12-03T22:16:27.206Z","type":"message"}
{"nick":"KennethWilke","message":"that's one of the things that got me really liking python","date":"2014-12-03T22:17:00.368Z","type":"message"}
{"nick":"KennethWilke","message":"dat pip","date":"2014-12-03T22:17:02.618Z","type":"message"}
{"nick":"rch","message":"sorry i can't sympathise i am very unhappy with pip","date":"2014-12-03T22:17:11.350Z","type":"message"}
{"nick":"KennethWilke","message":"well i used to use cpan with perl","date":"2014-12-03T22:17:21.565Z","type":"message"}
{"nick":"rch","message":"heh","date":"2014-12-03T22:17:24.185Z","type":"message"}
{"nick":"KennethWilke","message":"so pip seems fantastic","date":"2014-12-03T22:17:24.314Z","type":"message"}
{"nick":"rch","message":"cool","date":"2014-12-03T22:17:27.712Z","type":"message"}
{"nick":"KennethWilke","message":"and the ruby one...","date":"2014-12-03T22:17:30.879Z","type":"message"}
{"nick":"KennethWilke","message":"blech","date":"2014-12-03T22:17:31.662Z","type":"message"}
{"nick":"KennethWilke","message":"gems or whatever they are","date":"2014-12-03T22:17:57.463Z","type":"message"}
{"nick":"creationix","message":"npm for node is pretty nice","date":"2014-12-03T22:18:36.919Z","type":"message"}
{"nick":"creationix","message":"I hope mine will be even better, I’ve learned a lot over the last 5 years working on node","date":"2014-12-03T22:18:59.636Z","type":"message"}
{"nick":"KennethWilke","message":"yeah our UI people are using node so i've used npm to get deps on our webheads and stuff","date":"2014-12-03T22:18:59.748Z","type":"message"}
{"nick":"creationix","message":"some parts of npm really rub me raw","date":"2014-12-03T22:19:14.605Z","type":"message"}
{"nick":"KennethWilke","message":"i've seen it do screwy things with dependency handling","date":"2014-12-03T22:19:37.617Z","type":"message"}
{"nick":"KennethWilke","message":"but to be fair i've has similar issues in perl and python too","date":"2014-12-03T22:19:46.239Z","type":"message"}
{"nick":"KennethWilke","message":"i'd be interested in helping out with luvit's package manager as i gain enough knowledge to be useful/dangerous","date":"2014-12-03T22:20:50.328Z","type":"message"}
{"nick":"rch","message":"https://github.com/luvit/lit","date":"2014-12-03T22:21:13.444Z","type":"message"}
{"nick":"creationix","message":"lit is still pretty early, I only spent a couple days on it","date":"2014-12-03T22:21:37.830Z","type":"message"}
{"nick":"KennethWilke","message":"yeah i'm still pretty early too ;p","date":"2014-12-03T22:21:53.133Z","type":"message"}
{"nick":"creationix","message":"but the idea is your machine will have a local database that syncs down just the packages you’re interested in from some remote repo","date":"2014-12-03T22:22:10.349Z","type":"message"}
{"nick":"creationix","message":"storage will be much like a git repo’s internals using content addressable storage","date":"2014-12-03T22:22:22.265Z","type":"message"}
{"nick":"creationix","message":"this way duplicate files across any versions or packages will be only downloaded or stored once","date":"2014-12-03T22:22:41.820Z","type":"message"}
{"nick":"creationix","message":"and names/versions will just be bookmarks into this graph","date":"2014-12-03T22:22:58.990Z","type":"message"}
{"nick":"rch","message":"like, symlinks?","date":"2014-12-03T22:23:06.944Z","type":"message"}
{"nick":"KennethWilke","message":"that sounds good, i dunno if i have skills that'd be beneficial for the early part of that process, but i'd certaining be interesting in authoring some libraries that can be distributed through it","date":"2014-12-03T22:23:13.893Z","type":"message"}
{"nick":"creationix","message":"no, content addressable means the key is a hash of the actual value","date":"2014-12-03T22:23:23.155Z","type":"message"}
{"nick":"KennethWilke","message":"certainly* rather","date":"2014-12-03T22:23:24.593Z","type":"message"}
{"nick":"rch","message":"right but i meant mechanically when i require a given thing in a package that needs version 1.0.0 how does require resolve this? is the package i need in my local modules dir?","date":"2014-12-03T22:23:59.169Z","type":"message"}
{"nick":"creationix","message":"the key “is” the data, just highly compressed to a 20 byte hash that can only be “decompressed” with a database that contains the full value","date":"2014-12-03T22:23:59.879Z","type":"message"}
{"nick":"creationix","message":"rch: so I have to ideas, one is to just export a tree form the graph to the filesystem in the project’s modules folder","date":"2014-12-03T22:24:35.069Z","type":"message"}
{"nick":"creationix","message":"symlinks won’t help since the objects are deflated on disk or stored in leveldb or soemthing","date":"2014-12-03T22:24:50.256Z","type":"message"}
{"nick":"creationix","message":"another idea is to enable luvit to require directly out of the local database","date":"2014-12-03T22:25:06.542Z","type":"message"}
{"nick":"rch","message":"ah i think i like the first model better","date":"2014-12-03T22:25:14.998Z","type":"message"}
{"nick":"creationix","message":"I’ll do the first for sure since it’s what people are used to","date":"2014-12-03T22:25:27.780Z","type":"message"}
{"nick":"rch","message":"but a luvit require module to support the second option would be cool in some circumstances","date":"2014-12-03T22:25:35.060Z","type":"message"}
{"nick":"creationix","message":"but I plan on added the second style for people who prefer that","date":"2014-12-03T22:25:36.060Z","type":"message"}
{"nick":"rch","message":"yeah i think the first one seems more initially appealling because it doesn't lock you in","date":"2014-12-03T22:25:45.465Z","type":"message"}
{"nick":"creationix","message":"my wheaty platform (js-git/node) serves web app directly from local git repos","date":"2014-12-03T22:26:06.996Z","type":"message"}
{"nick":"creationix","message":"even bare repos,","date":"2014-12-03T22:26:13.463Z","type":"message"}
{"nick":"creationix","message":"it can even serve from remote repos.  It just caches stuff locally so it’s fast and works when offline","date":"2014-12-03T22:26:28.070Z","type":"message"}
{"nick":"creationix","message":"try it, `npm install -g wheaty` and then `wheaty git://github.com/creationix/howtonode.org.git`","date":"2014-12-03T22:27:05.782Z","type":"message"}
{"nick":"creationix","message":"I think that’s the command","date":"2014-12-03T22:27:11.202Z","type":"message"}
{"nick":"creationix","message":"needs node 0.11.x installed to /usr/local/bin I think though","date":"2014-12-03T22:27:27.923Z","type":"message"}
{"nick":"KennethWilke","message":"regarding the libuv like uv module vs the node like net module; which route would you guys suggest going with?","date":"2014-12-03T22:29:23.062Z","type":"message"}
{"nick":"KennethWilke","message":"if the net module adds a good bit of useful functionality i'd consider using it","date":"2014-12-03T22:29:45.162Z","type":"message"}
{"nick":"rch","message":"KennethWilke: the luvit stuff will have a simpler interface and make 90% of the stuff you do a lot more succinct","date":"2014-12-03T22:29:55.561Z","type":"message"}
{"nick":"rch","message":"KennethWilke: it is basically the most common use cases built on top of the luv stuff","date":"2014-12-03T22:30:03.361Z","type":"message"}
{"nick":"KennethWilke","message":"yeah it seems like that","date":"2014-12-03T22:30:21.112Z","type":"message"}
{"nick":"rch","message":"KennethWilke: kind of depends on if you want a C-like development experience or you want a higher level one","date":"2014-12-03T22:30:22.642Z","type":"message"}
{"nick":"rch","message":"KennethWilke: but i am biased because i like luvit/node","date":"2014-12-03T22:30:34.169Z","type":"message"}
{"nick":"KennethWilke","message":"i always like the level of control the C-like route provides, but if the abstractions are done well and hit a lot of things that aren't worth doing  myself it seems like a good choice","date":"2014-12-03T22:31:09.332Z","type":"message"}
{"nick":"creationix","message":"I prefer the libuv style and I created luvit","date":"2014-12-03T22:31:13.021Z","type":"message"}
{"nick":"rch","message":"creationix: heh yes","date":"2014-12-03T22:31:24.460Z","type":"message"}
{"nick":"rch","message":"creationix: there are so many reasons why that makes sense","date":"2014-12-03T22:31:32.001Z","type":"message"}
{"nick":"rch","message":"to build luvit you need to be a libuv expert","date":"2014-12-03T22:31:37.846Z","type":"message"}
{"nick":"KennethWilke","message":"lol","date":"2014-12-03T22:31:42.303Z","type":"message"}
{"nick":"rch","message":"you love coroutines and other flow control methods","date":"2014-12-03T22:31:45.073Z","type":"message"}
{"nick":"KennethWilke","message":"as a crazu person who loves C, libuv is one of the best libs i've used for sure","date":"2014-12-03T22:31:57.621Z","type":"message"}
{"nick":"rch","message":"you love experimenting so a more flexible tool is worth more","date":"2014-12-03T22:31:59.452Z","type":"message"}
{"nick":"creationix","message":"dinner time, wife is calling me","date":"2014-12-03T22:32:05.353Z","type":"message"}
{"nick":"rch","message":"see ya","date":"2014-12-03T22:32:11.090Z","type":"message"}
{"nick":"creationix","message":"good luck KennethWilke.  Feel free to steal any ideas from lit’s code.  It’s the closest thing existing to what you’re writing","date":"2014-12-03T22:32:55.183Z","type":"message"}
{"nick":"KennethWilke","message":"creationix, ty! i'll be sure to bug you some more too :p","date":"2014-12-03T22:33:18.336Z","type":"message"}
{"nick":"KennethWilke","message":"and now i can add lua to my repertoire of languages, having flashbacks to all the crap that had a lua interpret that i was just confused by","date":"2014-12-03T22:36:12.962Z","type":"message"}
{"nick":"erlbot--","reason":"Ping timeout: 250 seconds","date":"2014-12-03T22:40:04.323Z","type":"quit"}
{"nick":"KennethWilke","message":"is there a way to see what methods are attached to an object in lua?","date":"2014-12-03T22:40:26.691Z","type":"message"}
{"nick":"KennethWilke","message":"i tried 'for i in pairs(object) do print(i) end' but it only seems to give me object members not methods","date":"2014-12-03T22:40:58.477Z","type":"message"}
{"nick":"KennethWilke","message":"ah nvm i found some crazy function that'll do what i'm lookin for","date":"2014-12-03T22:45:20.534Z","type":"message"}
{"nick":"bjorn","message":"for i in pairs(getmetatable(object).__index) do print(i) end","date":"2014-12-03T23:15:44.006Z","type":"message"}
{"nick":"KennethWilke","message":"yeah i found http://stackoverflow.com/questions/5636596/how-to-find-out-all-properties-of-an-object-in-lua","date":"2014-12-03T23:17:39.569Z","type":"message"}
{"nick":"KennethWilke","message":"gave a nice example of where that stuff hides","date":"2014-12-03T23:18:00.563Z","type":"message"}
{"nick":"mattlgy","reason":"Remote host closed the connection","date":"2014-12-03T23:19:48.692Z","type":"quit"}
{"nick":"a__","date":"2014-12-03T23:22:42.320Z","type":"join"}
{"nick":"a_____","reason":"Ping timeout: 252 seconds","date":"2014-12-03T23:22:51.059Z","type":"quit"}
{"nick":"dan336","date":"2014-12-03T23:27:53.467Z","type":"part"}
{"nick":"dan336","date":"2014-12-03T23:28:02.698Z","type":"join"}
{"nick":"KennethWilke","reason":"Quit: Leaving","date":"2014-12-03T23:43:02.186Z","type":"quit"}

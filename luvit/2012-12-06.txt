{"nick":"kevwil","reason":"Quit: WeeChat 0.3.9.2","date":"2012-12-06T00:03:05.137Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-06T00:34:51.273Z","type":"quit"}
{"nick":"travis-ci","date":"2012-12-06T01:39:08.148Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#533 (tls-puller-fix - 4a43977 : Brandon Philips): The build passed.","date":"2012-12-06T01:39:08.407Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/commit/4a43977c74b0","date":"2012-12-06T01:39:08.407Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/3524584","date":"2012-12-06T01:39:08.407Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-06T01:39:08.407Z","type":"part"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-12-06T03:09:46.167Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2012-12-06T03:15:53.296Z","type":"nick"}
{"nick":"Goles","date":"2012-12-06T04:31:51.531Z","type":"join"}
{"nick":"joshthecoder","date":"2012-12-06T04:37:11.790Z","type":"join"}
{"nick":"Goles","reason":"Remote host closed the connection","date":"2012-12-06T05:03:13.676Z","type":"quit"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-12-06T05:09:30.032Z","type":"nick"}
{"nick":"kazupon","date":"2012-12-06T06:24:40.984Z","type":"join"}
{"nick":"kristate","date":"2012-12-06T06:26:23.073Z","type":"join"}
{"nick":"joshthecoder","reason":"Ping timeout: 252 seconds","date":"2012-12-06T06:50:53.899Z","type":"quit"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-12-06T07:50:56.726Z","type":"nick"}
{"nick":"DarkGod","date":"2012-12-06T08:03:49.396Z","type":"join"}
{"nick":"erlbot--","reason":"*.net *.split","date":"2012-12-06T08:19:34.621Z","type":"quit"}
{"nick":"erlbot--","date":"2012-12-06T08:19:56.292Z","type":"join"}
{"nick":"kristate","reason":"Ping timeout: 265 seconds","date":"2012-12-06T08:20:42.822Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-06T08:40:55.448Z","type":"quit"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-12-06T08:53:23.573Z","type":"nick"}
{"nick":"kristate","date":"2012-12-06T08:58:53.444Z","type":"join"}
{"nick":"kristate_","date":"2012-12-06T09:00:39.093Z","type":"join"}
{"nick":"kristate","reason":"Ping timeout: 256 seconds","date":"2012-12-06T09:03:33.099Z","type":"quit"}
{"nick":"luastoned","date":"2012-12-06T09:32:24.726Z","type":"join"}
{"nick":"devurandom","reason":"Ping timeout: 260 seconds","date":"2012-12-06T09:46:03.360Z","type":"quit"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2012-12-06T11:04:37.060Z","type":"nick"}
{"nick":"Goles","date":"2012-12-06T11:20:24.561Z","type":"join"}
{"nick":"spion","date":"2012-12-06T11:24:31.398Z","type":"join"}
{"nick":"spion","reason":"Ping timeout: 246 seconds","date":"2012-12-06T11:54:23.175Z","type":"quit"}
{"nick":"Goles","reason":"Remote host closed the connection","date":"2012-12-06T12:02:56.027Z","type":"quit"}
{"nick":"spion","date":"2012-12-06T12:06:49.162Z","type":"join"}
{"nick":"Goles","date":"2012-12-06T12:38:08.894Z","type":"join"}
{"nick":"Goles","reason":"Ping timeout: 246 seconds","date":"2012-12-06T13:26:34.887Z","type":"quit"}
{"nick":"Goles","date":"2012-12-06T13:35:52.490Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[out]","date":"2012-12-06T14:00:58.532Z","type":"nick"}
{"nick":"indexzero","date":"2012-12-06T14:13:58.325Z","type":"join"}
{"nick":"devurandom","date":"2012-12-06T14:15:25.364Z","type":"join"}
{"nick":"Goles_","date":"2012-12-06T14:52:34.918Z","type":"join"}
{"nick":"Goles","reason":"Ping timeout: 240 seconds","date":"2012-12-06T14:55:54.947Z","type":"quit"}
{"nick":"Goles_","reason":"Remote host closed the connection","date":"2012-12-06T15:17:22.337Z","type":"quit"}
{"nick":"mmalecki[out]","new_nick":"mmalecki","date":"2012-12-06T15:17:43.807Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-06T15:31:58.743Z","type":"quit"}
{"nick":"devurandom","message":"creationix: Hi! How do I do authentication with Luv?","date":"2012-12-06T16:27:11.417Z","type":"message"}
{"nick":"creationix","message":"devurandom, implement it manually","date":"2012-12-06T16:44:23.050Z","type":"message"}
{"nick":"creationix","message":"there aren't any libraries yet","date":"2012-12-06T16:44:27.207Z","type":"message"}
{"nick":"creationix","message":"http basic auth is pretty simple","date":"2012-12-06T16:44:33.298Z","type":"message"}
{"nick":"creationix","message":"and quite secure when done over https","date":"2012-12-06T16:44:40.335Z","type":"message"}
{"nick":"creationix","message":"(and not secure at all when over plain http)","date":"2012-12-06T16:44:47.369Z","type":"message"}
{"nick":"devurandom","message":"I'd need basic-auth anyway, because I would go via PAM (or LDAP if PAM is not possible).","date":"2012-12-06T16:48:55.993Z","type":"message"}
{"nick":"devurandom","message":"Do you have a suggestion were to hook in my auth code?","date":"2012-12-06T16:49:23.567Z","type":"message"}
{"nick":"devurandom","message":"I.e. what part of Moonslice/Luv/LHTTP/... should I look at?","date":"2012-12-06T16:49:54.886Z","type":"message"}
{"nick":"creationix","message":"the easiest route would be to write a new web middleware","date":"2012-12-06T16:50:31.204Z","type":"message"}
{"nick":"creationix","message":"return function (app, authOptions) return function (req, res) ... end end","date":"2012-12-06T16:50:45.825Z","type":"message"}
{"nick":"devurandom","message":"What I would like to do is something like <Location /foo> Require @somegroup </...>","date":"2012-12-06T16:50:57.332Z","type":"message"}
{"nick":"creationix","message":"are you using moonslice.lua in the moonslice-luv folder?","date":"2012-12-06T16:51:18.789Z","type":"message"}
{"nick":"devurandom","message":"Currently I am not using anything at all, yet.","date":"2012-12-06T16:51:35.229Z","type":"message"}
{"nick":"creationix","message":"so with raw web middlewares, there is no concept of url routing, just layers","date":"2012-12-06T16:51:50.884Z","type":"message"}
{"nick":"creationix","message":"and you inspect the req.url in your layer to know if you should interfere or not","date":"2012-12-06T16:52:03.418Z","type":"message"}
{"nick":"devurandom","message":"I guess I first need to know the basics... :( What is a web-middleware? What is that return function(app,authopts) ... you wrote and where would I put it?","date":"2012-12-06T16:53:16.278Z","type":"message"}
{"nick":"creationix","message":"look in req for the right www-authenticate header.  If it's not there, call respond directly with , if it's not authenticated, call res with a 401 response","date":"2012-12-06T16:53:48.721Z","type":"message"}
{"nick":"creationix","message":"if it is authenticated, call through to app(req, res)","date":"2012-12-06T16:53:56.798Z","type":"message"}
{"nick":"devurandom","message":"My background in webprogramming is roughly PHP3 -- so you get an idea how outdated my experiences might be. ;)","date":"2012-12-06T16:53:59.664Z","type":"message"}
{"nick":"creationix","message":"yeah, this will be different, it's low-level http stuff","date":"2012-12-06T16:54:12.355Z","type":"message"}
{"nick":"creationix","message":"but not hard","date":"2012-12-06T16:54:15.631Z","type":"message"}
{"nick":"creationix","message":"I can write a quick basic auth plugin later, but I need to run some errands now","date":"2012-12-06T16:54:27.293Z","type":"message"}
{"nick":"creationix","message":"but the primitives you have are, the request, the inner layer, and the respond function","date":"2012-12-06T16:54:56.881Z","type":"message"}
{"nick":"devurandom","message":"Ok, thanks for those hints. I'll continue porting to Lua 5.2 and then hopefully get some poking done to figure out how the auth shall work.","date":"2012-12-06T16:55:24.743Z","type":"message"}
{"nick":"devurandom","message":"the-inner-layer = app()?","date":"2012-12-06T16:55:40.722Z","type":"message"}
{"nick":"creationix","message":"yeah, the way \"web\" works is by wrapping app functions in layers","date":"2012-12-06T16:56:18.348Z","type":"message"}
{"nick":"creationix","message":"https://github.com/creationix/luv-chat/blob/master/server.lua#L11-L12","date":"2012-12-06T16:56:19.543Z","type":"message"}
{"nick":"creationix","message":"so using your auth middleware would be something like \"app = require('basic-auth')(app, authOptions)\"","date":"2012-12-06T16:56:52.457Z","type":"message"}
{"nick":"indexzero","date":"2012-12-06T16:56:55.013Z","type":"join"}
{"nick":"creationix","message":"and the middleware itself would be structured like I showed before","date":"2012-12-06T16:57:02.902Z","type":"message"}
{"nick":"devurandom","message":"Nice, thanks :)","date":"2012-12-06T16:58:52.737Z","type":"message"}
{"nick":"devurandom","message":"Different topic: Do you have unit tests for lhttp_parser?","date":"2012-12-06T16:59:13.243Z","type":"message"}
{"nick":"devurandom","message":"Since I finished that and it compiles, but since I never used uservalues before, I am not sure whether it actually works.","date":"2012-12-06T16:59:50.736Z","type":"message"}
{"nick":"devurandom","message":"unit tests for luv: When test-tcp and test-timer report \"done\", everything works?","date":"2012-12-06T17:10:12.448Z","type":"message"}
{"nick":"rje`mac","date":"2012-12-06T17:18:00.365Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-06T17:25:48.301Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-12-06T17:27:23.535Z","type":"quit"}
{"nick":"philips_","date":"2012-12-06T17:31:42.930Z","type":"join"}
{"nick":"devurandom","message":"creationix?","date":"2012-12-06T17:52:20.852Z","type":"message"}
{"nick":"devurandom","message":"moonslice-luv tests (web and autoheaders) work now, too. Is that enough to ensure proper operation?","date":"2012-12-06T17:52:58.278Z","type":"message"}
{"nick":"devurandom","message":"Trying the examples (samples/) now: lua: ./websocket.lua:1: module 'ffi' not found:","date":"2012-12-06T17:54:12.847Z","type":"message"}
{"nick":"devurandom","message":"Hm, when compiled for lua 5.2, luv.so does not load anymore in luajit, because the latter does not export luaL_setfuncs.","date":"2012-12-06T17:57:25.738Z","type":"message"}
{"nick":"devurandom","message":"I guess that can easily be fixed by building luv against luajit instead.","date":"2012-12-06T17:57:43.926Z","type":"message"}
{"nick":"devurandom","message":"creationix: Apart from that it seems to work. Will commit and create the pullrequest.","date":"2012-12-06T18:00:40.753Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-06T18:19:09.372Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#534 (check-ssl-in-puller - e76c7f2 : Brandon Philips): The build passed.","date":"2012-12-06T18:19:09.372Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/commit/e76c7f28ca7a","date":"2012-12-06T18:19:09.372Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/3535934","date":"2012-12-06T18:19:09.372Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-06T18:19:09.372Z","type":"part"}
{"nick":"devurandom","message":"creationix: pullrequests created","date":"2012-12-06T18:21:19.588Z","type":"message"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-12-06T18:24:09.611Z","type":"nick"}
{"nick":"travis-ci","date":"2012-12-06T18:25:36.201Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#536 (master - f26fac3 : Brandon Philips): The build was fixed.","date":"2012-12-06T18:25:36.469Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/6e862819a40a...f26fac34f1b8","date":"2012-12-06T18:25:36.469Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/3536001","date":"2012-12-06T18:25:36.469Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-06T18:25:36.469Z","type":"part"}
{"nick":"spion","reason":"Ping timeout: 246 seconds","date":"2012-12-06T18:29:32.059Z","type":"quit"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-12-06T18:40:46.033Z","type":"nick"}
{"nick":"joshthecoder","date":"2012-12-06T18:44:00.296Z","type":"join"}
{"nick":"spion","date":"2012-12-06T18:46:37.669Z","type":"join"}
{"nick":"spion","reason":"Ping timeout: 246 seconds","date":"2012-12-06T18:52:17.179Z","type":"quit"}
{"nick":"creationix","message":"devurandom, thanks, I'll look at it later, in meetings now","date":"2012-12-06T19:03:05.775Z","type":"message"}
{"nick":"spion","date":"2012-12-06T19:05:57.131Z","type":"join"}
{"nick":"Goles_","date":"2012-12-06T19:21:50.232Z","type":"join"}
{"nick":"Goles_","reason":"Remote host closed the connection","date":"2012-12-06T19:22:12.571Z","type":"quit"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-12-06T19:41:06.500Z","type":"nick"}
{"nick":"tim_smart","new_nick":"tim_smart|away","date":"2012-12-06T19:46:34.710Z","type":"nick"}
{"nick":"tim_smart|away","new_nick":"tim_smart","date":"2012-12-06T19:48:46.727Z","type":"nick"}
{"nick":"kristate_","reason":"Ping timeout: 265 seconds","date":"2012-12-06T19:53:19.931Z","type":"quit"}
{"nick":"kristate","date":"2012-12-06T20:01:45.268Z","type":"join"}
{"nick":"indexzero","date":"2012-12-06T20:02:54.115Z","type":"join"}
{"nick":"travis-ci","date":"2012-12-06T21:00:25.177Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] luvit/luvit#538 (master - 0c4d880 : Brandon Philips): The build passed.","date":"2012-12-06T21:00:25.439Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/luvit/luvit/compare/f26fac34f1b8...0c4d88057cde","date":"2012-12-06T21:00:25.439Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/luvit/luvit/builds/3538319","date":"2012-12-06T21:00:25.439Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-06T21:00:25.439Z","type":"part"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-06T22:21:10.988Z","type":"quit"}
{"nick":"kristate","reason":"Ping timeout: 240 seconds","date":"2012-12-06T22:33:55.081Z","type":"quit"}
{"nick":"ajacksified","date":"2012-12-06T22:54:47.278Z","type":"join"}
{"nick":"devurandom","message":"creationix: Thanks for looking into it! Would be nice if you could do some more extensive testing. So far I only ran the samples and tests I found in the git repos...","date":"2012-12-06T22:59:10.869Z","type":"message"}
{"nick":"ajacksified","date":"2012-12-06T23:13:03.881Z","type":"part"}
{"nick":"DarkGod","reason":"Remote host closed the connection","date":"2012-12-06T23:16:38.840Z","type":"quit"}
{"nick":"ajacksified","date":"2012-12-06T23:17:46.718Z","type":"join"}

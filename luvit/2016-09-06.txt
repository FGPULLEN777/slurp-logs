{"nick":"daurnimator","date":"2016-09-06T00:12:44.503Z","type":"join"}
{"nick":"rgrinberg","date":"2016-09-06T01:36:12.645Z","type":"join"}
{"nick":"SkyRocknRoll","date":"2016-09-06T06:06:52.349Z","type":"join"}
{"nick":"rgrinberg","reason":"Ping timeout: 265 seconds","date":"2016-09-06T06:18:48.363Z","type":"quit"}
{"nick":"rendar","date":"2016-09-06T06:37:29.634Z","type":"join"}
{"nick":"SinisterRectus","reason":"Ping timeout: 244 seconds","date":"2016-09-06T07:16:30.988Z","type":"quit"}
{"nick":"SinisterRectus","date":"2016-09-06T07:16:43.981Z","type":"join"}
{"nick":"rgrinberg","date":"2016-09-06T12:17:57.629Z","type":"join"}
{"nick":"rgrinberg","reason":"Quit: WeeChat 1.5","date":"2016-09-06T12:20:33.512Z","type":"quit"}
{"nick":"rgrinberg","date":"2016-09-06T12:20:53.725Z","type":"join"}
{"nick":"rgrinberg","reason":"Ping timeout: 260 seconds","date":"2016-09-06T12:31:29.535Z","type":"quit"}
{"nick":"rgrinberg","date":"2016-09-06T12:48:02.241Z","type":"join"}
{"nick":"zatherz","date":"2016-09-06T13:48:44.314Z","type":"join"}
{"nick":"zatherz","message":"I think I found a bug in luvit, https://zatherz.eu/trashcan/lua/luvit/","date":"2016-09-06T13:49:04.573Z","type":"message"}
{"nick":"zatherz","message":"download both x.lua and test.lua, then run x.lua","date":"2016-09-06T13:49:10.967Z","type":"message"}
{"nick":"zatherz","message":"on any sane Lua version, it prints 3","date":"2016-09-06T13:49:17.519Z","type":"message"}
{"nick":"zatherz","message":"on Luvit, it prints nil","date":"2016-09-06T13:49:22.144Z","type":"message"}
{"nick":"zatherz","message":"related to requires and global variables","date":"2016-09-06T13:49:27.122Z","type":"message"}
{"nick":"rphillips","message":"zatherz: luvit has its own require system","date":"2016-09-06T14:03:15.079Z","type":"message"}
{"nick":"daurnimator","message":"loadfile isn't related to require","date":"2016-09-06T14:05:41.775Z","type":"message"}
{"nick":"daurnimator","message":"at least. it shouldn't be.","date":"2016-09-06T14:05:50.288Z","type":"message"}
{"nick":"daurnimator","action":"glares at creationix_","date":"2016-09-06T14:06:11.468Z","type":"action"}
{"nick":"SinisterRectus","message":"i think we figured out that you need to explicitly use the _G table","date":"2016-09-06T14:07:05.359Z","type":"message"}
{"nick":"SkyRocknRoll","reason":"Remote host closed the connection","date":"2016-09-06T14:07:14.036Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2016-09-06T14:41:58.503Z","type":"join"}
{"nick":"SkyRocknRoll","reason":"Remote host closed the connection","date":"2016-09-06T15:05:01.808Z","type":"quit"}
{"nick":"SkyRocknRoll","date":"2016-09-06T15:06:06.695Z","type":"join"}
{"nick":"creationix","message":"daurnimator I don't touch loadfile, but luvit's custom require does wrap modules in a custom scope","date":"2016-09-06T15:38:48.574Z","type":"message"}
{"nick":"creationix","message":"still I recommend using the luvit-loader lib instead of luvit's require, but migration is slow","date":"2016-09-06T15:39:07.452Z","type":"message"}
{"nick":"daurnimator","message":"creationix: ah; so x.lua's global scope was not the global scope?","date":"2016-09-06T15:39:41.860Z","type":"message"}
{"nick":"creationix","message":"right, but I do expose a reference to the real global scope via _G","date":"2016-09-06T15:40:06.615Z","type":"message"}
{"nick":"creationix","message":"the idea was to make global leakage explicit and not accidental","date":"2016-09-06T15:40:18.738Z","type":"message"}
{"nick":"creationix","message":"luvit 1.0 was very opinionated","date":"2016-09-06T15:40:27.194Z","type":"message"}
{"nick":"daurnimator","message":"i'm still a little confused...","date":"2016-09-06T15:44:24.970Z","type":"message"}
{"nick":"daurnimator","message":"doesn't loadfile give the loaded code the same env as the caller?","date":"2016-09-06T15:44:36.574Z","type":"message"}
{"nick":"daurnimator","message":"I might be misremembering that one","date":"2016-09-06T15:44:41.145Z","type":"message"}
{"nick":"creationix","message":"from the manual \"The environment of the returned function is the global environment.\"","date":"2016-09-06T15:46:19.646Z","type":"message"}
{"nick":"creationix","message":"and since the parent module is in a luvit sandbox, `x` doesn't exist in global","date":"2016-09-06T15:46:34.322Z","type":"message"}
{"nick":"creationix","message":"SinisterRectus zatherz, I recommend switching to luvit-loader instead of using the legacy luvit binary.  Any ideas of how to communicate that better are welcome","date":"2016-09-06T15:47:59.855Z","type":"message"}
{"nick":"creationix","message":"luvit's built-in require is very opionated and causes more trouble than good if you have any prior experience with lua.  My target audience when designing it was JS developers coming over from node.js","date":"2016-09-06T15:48:59.000Z","type":"message"}
{"nick":"daurnimator","message":"creationix: ah true. http://www.lua.org/source/5.3/lapi.c.html#lua_load it does grab the global env :)","date":"2016-09-06T15:50:02.256Z","type":"message"}
{"nick":"daurnimator","message":"creationix: yeah I do know that. I'm not sure if any JS devs understand node's require either though :P","date":"2016-09-06T15:50:29.729Z","type":"message"}
{"nick":"creationix","message":"I can't change luvit, it will break code for most the people using luvit in large systems","date":"2016-09-06T15:50:52.277Z","type":"message"}
{"nick":"creationix","message":"breaking the system for my most loyal users to make things easier for newcomers isn't a good tradeoff I think","date":"2016-09-06T15:51:22.762Z","type":"message"}
{"nick":"daurnimator","message":"creationix: btw, watch out for impending openssl 1.1.0 release","date":"2016-09-06T15:51:52.069Z","type":"message"}
{"nick":"daurnimator","message":"it causes breakage with a *huge* number of packages.","date":"2016-09-06T15:52:04.190Z","type":"message"}
{"nick":"creationix","message":"fun","date":"2016-09-06T15:52:19.015Z","type":"message"}
{"nick":"creationix","message":"maybe I should just start over once midipix gets stable and drop libuv","date":"2016-09-06T15:52:43.781Z","type":"message"}
{"nick":"daurnimator","action":"ported cqueues tonight minus one remaining issue.","date":"2016-09-06T15:52:47.940Z","type":"action"}
{"nick":"daurnimator","message":"luaossl will take more effort :(","date":"2016-09-06T15:52:55.100Z","type":"message"}
{"nick":"creationix","message":":/","date":"2016-09-06T15:53:04.919Z","type":"message"}
{"nick":"daurnimator","message":"creationix: I wish. midipix is now running 4 months late on release though :P","date":"2016-09-06T15:53:17.921Z","type":"message"}
{"nick":"creationix","message":"yeah, I thought they were going slowly lately","date":"2016-09-06T15:53:34.678Z","type":"message"}
{"nick":"creationix","message":"I wonder if the linux subsystem for windows took some of their steam away","date":"2016-09-06T15:53:54.461Z","type":"message"}
{"nick":"daurnimator","message":"well the main author did go overseas for a couple of months there. back a couple of weeks ago IIRC","date":"2016-09-06T15:55:33.510Z","type":"message"}
{"nick":"creationix","message":"that will do it","date":"2016-09-06T15:55:41.186Z","type":"message"}
{"nick":"daurnimator","message":"/bed for me","date":"2016-09-06T15:56:32.779Z","type":"message"}
{"nick":"creationix","message":"good night","date":"2016-09-06T15:56:36.512Z","type":"message"}
{"nick":"rgrinberg","reason":"Ping timeout: 244 seconds","date":"2016-09-06T15:57:39.175Z","type":"quit"}

{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-11-20T00:04:45.831Z","type":"quit"}
{"nick":"a_le","date":"2014-11-20T00:18:25.902Z","type":"join"}
{"nick":"a_le_","date":"2014-11-20T00:28:02.649Z","type":"join"}
{"nick":"a_le","reason":"Ping timeout: 255 seconds","date":"2014-11-20T00:29:49.286Z","type":"quit"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2014-11-20T00:32:54.621Z","type":"quit"}
{"nick":"cledev","date":"2014-11-20T00:42:00.968Z","type":"join"}
{"nick":"kazupon","date":"2014-11-20T01:20:39.520Z","type":"join"}
{"nick":"a_le_","reason":"Ping timeout: 256 seconds","date":"2014-11-20T02:34:16.613Z","type":"quit"}
{"nick":"a_le","date":"2014-11-20T02:38:18.283Z","type":"join"}
{"nick":"DarkGod","reason":"Ping timeout: 272 seconds","date":"2014-11-20T02:41:11.847Z","type":"quit"}
{"nick":"dan336","date":"2014-11-20T03:25:48.866Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T03:54:01.776Z","type":"quit"}
{"nick":"cledev","reason":"Ping timeout: 264 seconds","date":"2014-11-20T04:04:05.963Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T04:26:23.069Z","type":"join"}
{"nick":"dan336","reason":"Quit: Leaving.","date":"2014-11-20T05:05:58.821Z","type":"quit"}
{"nick":"rphillips","message":"load the cert store by filename and it works","date":"2014-11-20T05:09:07.445Z","type":"message"}
{"nick":"rphillips","message":"load the cert store by pem certificates in memory and it doesn't","date":"2014-11-20T05:09:18.176Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T06:03:37.080Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T06:04:23.742Z","type":"join"}
{"nick":"endou","reason":"Read error: Connection reset by peer","date":"2014-11-20T06:11:00.369Z","type":"quit"}
{"nick":"endou","date":"2014-11-20T06:11:15.840Z","type":"join"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-11-20T07:42:05.144Z","type":"quit"}
{"nick":"erlbot--","reason":"Remote host closed the connection","date":"2014-11-20T07:47:39.851Z","type":"quit"}
{"nick":"DarkGod","date":"2014-11-20T08:17:09.687Z","type":"join"}
{"nick":"cledev","date":"2014-11-20T09:09:07.591Z","type":"join"}
{"nick":"torpor","date":"2014-11-20T10:28:32.176Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T11:08:47.561Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T11:09:28.105Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 240 seconds","date":"2014-11-20T11:13:23.092Z","type":"quit"}
{"nick":"erlbot--","date":"2014-11-20T11:21:02.080Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 265 seconds","date":"2014-11-20T12:44:10.649Z","type":"quit"}
{"nick":"tjcravey_","date":"2014-11-20T13:06:44.431Z","type":"join"}
{"nick":"tjcravey_","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-11-20T14:10:07.067Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T14:14:48.281Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T14:35:18.690Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T14:48:37.929Z","type":"join"}
{"nick":"dan336","date":"2014-11-20T15:27:45.830Z","type":"join"}
{"nick":"travis-ci","date":"2014-11-20T15:35:30.854Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1217 (ziptastic - 0a717ae : Tim Caswell): The build passed.","date":"2014-11-20T15:35:30.948Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/commit/0a717aee040e","date":"2014-11-20T15:35:30.948Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41611896","date":"2014-11-20T15:35:30.949Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T15:35:30.949Z","type":"part"}
{"nick":"rphillips","message":"memory management is broken with the SSL object in lua-openssl","date":"2014-11-20T15:35:53.492Z","type":"message"}
{"nick":"creationix","message":":(","date":"2014-11-20T16:09:21.830Z","type":"message"}
{"nick":"creationix","message":"fwiw, the polling code won’t need tls in luvi since we can just put it behind an nginx proxy.  But anything needing https client will certainly need tls","date":"2014-11-20T16:18:51.400Z","type":"message"}
{"nick":"cledev","date":"2014-11-20T16:20:48.131Z","type":"join"}
{"nick":"rphillips","message":"yeah, we authenticate our cert within the agent","date":"2014-11-20T16:20:54.592Z","type":"message"}
{"nick":"rphillips","message":"the SSL_CTX manages the memory for it's data structure, and the lua binding is assuming the caller is","date":"2014-11-20T16:21:44.760Z","type":"message"}
{"nick":"UniOn","date":"2014-11-20T16:42:46.428Z","type":"join"}
{"nick":"UniOn","reason":"Remote host closed the connection","date":"2014-11-20T16:43:24.870Z","type":"quit"}
{"nick":"UniOn","date":"2014-11-20T16:43:46.275Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T17:02:31.446Z","type":"quit"}
{"nick":"kazupon","date":"2014-11-20T17:04:07.281Z","type":"join"}
{"nick":"dan3361","date":"2014-11-20T17:08:00.894Z","type":"join"}
{"nick":"dan336","reason":"Read error: Connection reset by peer","date":"2014-11-20T17:08:00.964Z","type":"quit"}
{"nick":"travis-ci","date":"2014-11-20T17:14:43.635Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1218 (tls.connect - 3bf1b25 : Ryan Phillips): The build was broken.","date":"2014-11-20T17:14:43.691Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/5637e160cf2d...3bf1b25bf751","date":"2014-11-20T17:14:43.691Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41622470","date":"2014-11-20T17:14:43.691Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T17:14:43.692Z","type":"part"}
{"nick":"creationix","message":"rphillips: made a few fixes to the fs module https://github.com/luvit/luvit/commit/934338a30f4aeec3eb1a942c42a136498fddce0b","date":"2014-11-20T17:20:11.681Z","type":"message"}
{"nick":"creationix","message":"turns out `0644` is not octal in luajit, but decimal","date":"2014-11-20T17:20:22.139Z","type":"message"}
{"nick":"rphillips","message":"ah +1","date":"2014-11-20T17:20:59.591Z","type":"message"}
{"nick":"creationix","message":"also I defaulted to 0666 instead of 0600.  The fs will & this with the users umask","date":"2014-11-20T17:21:13.562Z","type":"message"}
{"nick":"creationix","message":"(usually 755 I think)","date":"2014-11-20T17:21:25.933Z","type":"message"}
{"nick":"creationix","message":"and added the missing writeFileSync to complete the set","date":"2014-11-20T17:21:50.068Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T17:28:30.065Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1219 (ziptastic - 934338a : Tim Caswell): The build has errored.","date":"2014-11-20T17:28:30.121Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/0a717aee040e...934338a30f4a","date":"2014-11-20T17:28:30.122Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41624133","date":"2014-11-20T17:28:30.122Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T17:28:30.122Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T17:32:54.780Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1220 (ziptastic - 79833f7 : Tim Caswell): The build passed.","date":"2014-11-20T17:32:54.836Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/934338a30f4a...79833f77a0fb","date":"2014-11-20T17:32:54.836Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41624456","date":"2014-11-20T17:32:54.836Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T17:32:54.836Z","type":"part"}
{"nick":"torpor1","date":"2014-11-20T17:34:26.723Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 244 seconds","date":"2014-11-20T17:35:41.083Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-11-20T17:35:47.391Z","type":"quit"}
{"nick":"torpor","reason":"Ping timeout: 256 seconds","date":"2014-11-20T17:36:12.806Z","type":"quit"}
{"nick":"creationix","message":"I think I’ll put the zip-builder in luvi.  It’s only about 60 lines of code","date":"2014-11-20T17:36:58.299Z","type":"message"}
{"nick":"creationix","message":"what’s the typical way to send multiple arguments to an environment variable?","date":"2014-11-20T17:37:31.869Z","type":"message"}
{"nick":"creationix","message":"comma separated, semicolons?","date":"2014-11-20T17:37:46.725Z","type":"message"}
{"nick":"creationix","message":"probably should use : since that’s what $PATH uses","date":"2014-11-20T17:38:52.108Z","type":"message"}
{"nick":"creationix","message":"LUVI_TARGET=luvit LUVI_APP=luvit/app:virgo-base/app luvi","date":"2014-11-20T17:39:46.835Z","type":"message"}
{"nick":"creationix","message":"maybe just LUVI_TARGET and LUVI_SOURCE","date":"2014-11-20T17:40:50.862Z","type":"message"}
{"nick":"creationix","message":"if target isn’t set then run main.lua in the bundle, if it is set, extract the front portion of luvi and append the zip/folder(s) specified in LUVI_SOURCE","date":"2014-11-20T17:43:20.294Z","type":"message"}
{"nick":"creationix","message":"could even add LUVI_MAIN to overrive “main.lua” to be something custom so an app could have multiple entry points","date":"2014-11-20T17:43:47.337Z","type":"message"}
{"nick":"creationix","message":"could even add a wildcard to main so busybox style symlinks could be used","date":"2014-11-20T17:44:44.465Z","type":"message"}
{"nick":"rphillips","message":":)","date":"2014-11-20T17:45:42.176Z","type":"message"}
{"nick":"rphillips","message":"that is sweet","date":"2014-11-20T17:45:43.862Z","type":"message"}
{"nick":"creationix","message":"args[0] would be the name of the symlink while uv.exepath() would be the actual binarhy","date":"2014-11-20T17:45:59.037Z","type":"message"}
{"nick":"creationix","message":"though the busybox style isn’t very windows friendly","date":"2014-11-20T17:48:24.151Z","type":"message"}
{"nick":"creationix","message":"nor is using environment variables since SET is it’s own command","date":"2014-11-20T17:48:43.453Z","type":"message"}
{"nick":"creationix","message":"so with zipbuilder, the ability to load object code (dll/so) from the zip bundle, and a package manager, we’ll have a nice platform for all kinds of stuff","date":"2014-11-20T17:54:21.896Z","type":"message"}
{"nick":"creationix","message":"I’m thinking of integrating some form of dependency/build manifest into zipbuilder, but that may be too much for luvi","date":"2014-11-20T17:54:59.697Z","type":"message"}
{"nick":"cledev","date":"2014-11-20T17:56:30.083Z","type":"join"}
{"nick":"rphillips","message":"it sorta makes sense to have that in lovi","date":"2014-11-20T17:57:47.970Z","type":"message"}
{"nick":"rphillips","message":"luvi*","date":"2014-11-20T17:57:51.319Z","type":"message"}
{"nick":"creationix","message":"the zipbuilder makes sense so that building luvit needs nothing more than luvi binaries","date":"2014-11-20T17:58:42.858Z","type":"message"}
{"nick":"rphillips","message":"right","date":"2014-11-20T17:58:55.282Z","type":"message"}
{"nick":"creationix","message":"but network code to pull down dependencies seems like a bit much","date":"2014-11-20T17:58:56.673Z","type":"message"}
{"nick":"creationix","message":"and once we solve the package management and binary dependency problem, luvi and be ultra lean","date":"2014-11-20T17:59:36.954Z","type":"message"}
{"nick":"creationix","message":"* can be","date":"2014-11-20T17:59:47.846Z","type":"message"}
{"nick":"creationix","action":"pretends for a moment that binary dependencies are an easy problem.","date":"2014-11-20T18:00:19.407Z","type":"action"}
{"nick":"rphillips","message":"heh","date":"2014-11-20T18:00:32.745Z","type":"message"}
{"nick":"creationix","message":"I’ve been using `uname -m -s` to key the different binary builds.  It seems to mostly work","date":"2014-11-20T18:01:07.113Z","type":"message"}
{"nick":"creationix","message":"rphillips: what should be the special path to include the bundled files in the luvi binary? (for example, using luvit to build virgo, we want the code inside luvit)","date":"2014-11-20T18:05:53.076Z","type":"message"}
{"nick":"creationix","message":"“self”, “-“, “%SELF%”","date":"2014-11-20T18:06:14.840Z","type":"message"}
{"nick":"rphillips","message":"?","date":"2014-11-20T18:07:25.392Z","type":"message"}
{"nick":"rphillips","message":"special path?","date":"2014-11-20T18:07:48.080Z","type":"message"}
{"nick":"creationix","message":"in LUVI_SOURCE, the value is a colon separated list of paths.  I want a special path to mean the binary itself in case it’s not a raw luvi build but rather a luvit build","date":"2014-11-20T18:08:09.489Z","type":"message"}
{"nick":"creationix","message":"or just an empty path could mean self","date":"2014-11-20T18:10:30.272Z","type":"message"}
{"nick":"creationix","message":":my_stuff would be self and my_stuff","date":"2014-11-20T18:10:46.734Z","type":"message"}
{"nick":"creationix","message":"my_stuff: would out my stuff behind the internal zip","date":"2014-11-20T18:11:06.597Z","type":"message"}
{"nick":"rphillips","message":"hmm. self is used in lua... it might get confusing","date":"2014-11-20T18:11:13.960Z","type":"message"}
{"nick":"creationix","message":"but my_stuff would be just my code and ignore the zip in the binary","date":"2014-11-20T18:11:28.353Z","type":"message"}
{"nick":"creationix","message":"(which is how LUVI_DIR works currently)","date":"2014-11-20T18:11:43.537Z","type":"message"}
{"nick":"rphillips","message":"ahhh","date":"2014-11-20T18:12:41.587Z","type":"message"}
{"nick":"rphillips","message":"gotcha","date":"2014-11-20T18:12:43.612Z","type":"message"}
{"nick":"rphillips","message":"that makes sense","date":"2014-11-20T18:12:48.621Z","type":"message"}
{"nick":"creationix","message":"also on order, should left be on top or right","date":"2014-11-20T18:13:12.525Z","type":"message"}
{"nick":"creationix","message":"when files conflict, the top ones win","date":"2014-11-20T18:13:20.588Z","type":"message"}
{"nick":"creationix","message":"so if there is a/main.lua and b/main.lua which main should a:b load?","date":"2014-11-20T18:14:37.978Z","type":"message"}
{"nick":"creationix","message":"probably left since that’s what $PATH does","date":"2014-11-20T18:16:11.029Z","type":"message"}
{"nick":"rphillips","message":"so in your example it would be LUVI_APP=virgo-base/app:luvit/app","date":"2014-11-20T18:18:48.062Z","type":"message"}
{"nick":"rphillips","message":"right?","date":"2014-11-20T18:18:49.659Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2014-11-20T18:21:08.690Z","type":"message"}
{"nick":"creationix","message":"layer virgo-base on top of luvit","date":"2014-11-20T18:21:49.378Z","type":"message"}
{"nick":"creationix","message":"and if you were using the luvit binary instead of the raw luvi, it would be virgo-base: and you wouldn’t need to clone luvit","date":"2014-11-20T18:22:16.666Z","type":"message"}
{"nick":"a_le","date":"2014-11-20T18:22:31.876Z","type":"join"}
{"nick":"creationix","message":"folders and zip files are interchangable, so you could download luvi.exe on windows, download luvit.zip (which is the app folder zipped) and to virgo-base:luvit.zip","date":"2014-11-20T18:23:31.966Z","type":"message"}
{"nick":"creationix","message":"for development, you can just set the LUVI_SOURCE variable to point to luvit and virgo folders and when done, add LUVI_TARGET to generate the binary","date":"2014-11-20T18:24:45.372Z","type":"message"}
{"nick":"creationix","message":"LUVI_APP might be better then LUVI_SOURCE since the latter sounds like the C source to luvi itself","date":"2014-11-20T18:26:01.695Z","type":"message"}
{"nick":"rphillips","message":"i think it should definitely print a warning if a file is overriding another","date":"2014-11-20T18:30:50.897Z","type":"message"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-11-20T18:30:55.600Z","type":"quit"}
{"nick":"creationix","message":"on every run or just on build?","date":"2014-11-20T18:51:09.689Z","type":"message"}
{"nick":"creationix","message":"on build for sure since that’s the destructive part.  The shawdowed files won’t exist in the final zip","date":"2014-11-20T18:52:26.023Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T18:53:52.923Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#146 (move-deps - 0661f2b : Tim Caswell): The build passed.","date":"2014-11-20T18:53:52.979Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/commit/0661f2bc94df","date":"2014-11-20T18:53:52.979Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41632162","date":"2014-11-20T18:53:52.979Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T18:53:52.979Z","type":"part"}
{"nick":"creationix","message":"the easiest way for me would be to warn every time you load a file from the bundle that shawdows another file (or readdir a folder that contains shawdowed files)","date":"2014-11-20T18:54:17.397Z","type":"message"}
{"nick":"creationix","message":"since bundle APIs are sync, programs shouldn’t use them after startup","date":"2014-11-20T18:54:32.801Z","type":"message"}
{"nick":"rphillips","message":"so paul was talking about streaming the check schedule to the new collector","date":"2014-11-20T19:13:40.678Z","type":"message"}
{"nick":"rphillips","message":"instead of storing it, so it might remove the dependency of leveldb","date":"2014-11-20T19:13:57.871Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T19:22:33.668Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1221 (ziptastic - 9e9c68c : Tim Caswell): The build passed.","date":"2014-11-20T19:22:33.724Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/79833f77a0fb...9e9c68c6045a","date":"2014-11-20T19:22:33.724Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41634973","date":"2014-11-20T19:22:33.724Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T19:22:33.724Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T19:29:10.032Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1223 (fs-tweaks - c1d6650 : Tim Caswell): The build passed.","date":"2014-11-20T19:29:10.113Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/a2a511eb2a78^...c1d66508ac94","date":"2014-11-20T19:29:10.169Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41635642","date":"2014-11-20T19:29:10.170Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T19:29:10.170Z","type":"part"}
{"nick":"creationix","message":"rphillips: as long as the collector can take the data fast enough","date":"2014-11-20T19:29:34.653Z","type":"message"}
{"nick":"creationix","message":"I’m thinking about leveldb + lua-git for the package manager though","date":"2014-11-20T19:29:59.680Z","type":"message"}
{"nick":"rphillips","message":"nice","date":"2014-11-20T19:30:08.059Z","type":"message"}
{"nick":"rch","message":"leveldb in the remote poller?","date":"2014-11-20T19:30:12.006Z","type":"message"}
{"nick":"creationix","message":"level still might be nice for storing config data though","date":"2014-11-20T19:30:29.986Z","type":"message"}
{"nick":"rch","message":"hmm","date":"2014-11-20T19:30:34.758Z","type":"message"}
{"nick":"creationix","message":"what does the other agent do?","date":"2014-11-20T19:30:36.770Z","type":"message"}
{"nick":"rch","message":"just in memory objects","date":"2014-11-20T19:30:44.640Z","type":"message"}
{"nick":"creationix","message":"so it’s pretty dumb and stateless then","date":"2014-11-20T19:31:17.355Z","type":"message"}
{"nick":"rch","message":"right, alternatively \"simple\" ;)","date":"2014-11-20T19:31:35.877Z","type":"message"}
{"nick":"rphillips","message":"right","date":"2014-11-20T19:31:35.933Z","type":"message"}
{"nick":"creationix","message":"rphillips, https://github.com/luvit/luvit/pull/543","date":"2014-11-20T19:32:22.786Z","type":"message"}
{"nick":"rphillips","message":"http://blog.rust-lang.org/2014/11/20/Cargo.html","date":"2014-11-20T19:34:39.142Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T19:36:18.635Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvit#1224 (luvi-up - abf1b75 : Tim Caswell): The build passed.","date":"2014-11-20T19:36:18.691Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvit/compare/2144ac4bfd8a...abf1b7549f9a","date":"2014-11-20T19:36:18.691Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvit/builds/41636353","date":"2014-11-20T19:36:18.692Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T19:36:18.692Z","type":"part"}
{"nick":"creationix","message":"rphillips: so the Cargo.lock idea is similar to what I was thinking with git submodules a while back","date":"2014-11-20T19:40:33.442Z","type":"message"}
{"nick":"creationix","message":"locked by default with explicit updates","date":"2014-11-20T19:40:39.849Z","type":"message"}
{"nick":"rphillips","message":"+1","date":"2014-11-20T19:41:09.884Z","type":"message"}
{"nick":"creationix","message":"npm deps move too much in production","date":"2014-11-20T19:42:16.317Z","type":"message"}
{"nick":"creationix","message":"the unit test and doc integration is really nice, we should do something like that too","date":"2014-11-20T19:42:43.432Z","type":"message"}
{"nick":"creationix","message":"just need to define some standards so it can be automated","date":"2014-11-20T19:43:01.156Z","type":"message"}
{"nick":"rphillips","message":"i think the coroutines are messing up the verify_cb within lua-openssl","date":"2014-11-20T19:57:41.855Z","type":"message"}
{"nick":"creationix","message":"how so?","date":"2014-11-20T19:59:57.801Z","type":"message"}
{"nick":"creationix","message":"in luvi, all libuv callbacks are called in the main thread","date":"2014-11-20T20:00:22.041Z","type":"message"}
{"nick":"rphillips","message":"the chain i think","date":"2014-11-20T20:00:44.178Z","type":"message"}
{"nick":"creationix","message":"so you can’t call read or write from a callback since it’s not running in the coroutine anymore","date":"2014-11-20T20:01:49.010Z","type":"message"}
{"nick":"creationix","message":"(assuming the callback is from a real libuv event)","date":"2014-11-20T20:02:01.058Z","type":"message"}
{"nick":"rphillips","message":"the callback comes from the lua-openssl library","date":"2014-11-20T20:02:11.967Z","type":"message"}
{"nick":"rphillips","message":"set_verify","date":"2014-11-20T20:02:17.777Z","type":"message"}
{"nick":"creationix","message":"so it’s probably triggered by something you write to openssl","date":"2014-11-20T20:02:32.972Z","type":"message"}
{"nick":"creationix","message":"so it’s being called in the context of that call","date":"2014-11-20T20:02:41.088Z","type":"message"}
{"nick":"creationix","message":"maybe coroutine based chains aren’t a good fit for luvit since all the public APis are callback based and so it libuv?","date":"2014-11-20T20:04:12.806Z","type":"message"}
{"nick":"creationix","message":"you could wrap a chain to be event based on the outside, the setImmediate callback is always called in the main thread if you need to escape a coroutine","date":"2014-11-20T20:05:14.618Z","type":"message"}
{"nick":"a_le","date":"2014-11-20T20:27:03.935Z","type":"join"}
{"nick":"cledev","reason":"Ping timeout: 255 seconds","date":"2014-11-20T20:28:15.068Z","type":"quit"}
{"nick":"cledev","date":"2014-11-20T20:39:13.598Z","type":"join"}
{"nick":"songgao","reason":"Ping timeout: 272 seconds","date":"2014-11-20T20:58:45.988Z","type":"quit"}
{"nick":"songgao","date":"2014-11-20T21:01:01.317Z","type":"join"}
{"nick":"bjorn","message":"local cr = coroutine.running(); uv.func(..., function(...) coroutine.resume(cr, ...) end); local err = coroutine.yield()","date":"2014-11-20T21:41:46.942Z","type":"message"}
{"nick":"bjorn","message":"I guess it could work like that? Doesn't seem too performant, heh.","date":"2014-11-20T21:41:57.820Z","type":"message"}
{"nick":"bjorn","message":"Though the function could be cached / re-used.","date":"2014-11-20T21:42:12.814Z","type":"message"}
{"nick":"creationix","message":"bjorn: did you see utils.adapt? https://github.com/luvit/luvit/blob/luvi-up/app/modules/utils.lua#L271-L309","date":"2014-11-20T21:53:28.260Z","type":"message"}
{"nick":"creationix","message":"allows any callback based API to be consumed with either callbacks or coroutines","date":"2014-11-20T21:53:39.530Z","type":"message"}
{"nick":"creationix","message":"used a lot in the fs module","date":"2014-11-20T21:53:42.871Z","type":"message"}
{"nick":"creationix","message":"https://github.com/luvit/luvit/blob/luvi-up/tests/test-fs.lua#L21-L64","date":"2014-11-20T21:54:08.552Z","type":"message"}
{"nick":"bjorn","message":"creationix: Ah, that looks useful.","date":"2014-11-20T22:00:19.622Z","type":"message"}
{"nick":"bjorn","message":"creationix: But I'm a little scared by all the tables being created and unpacked. Is that really necessary? Or doesn't it have a large overhead?","date":"2014-11-20T22:00:53.222Z","type":"message"}
{"nick":"bjorn","message":"In any case it seems way more complicated than I had imagined.","date":"2014-11-20T22:01:49.117Z","type":"message"}
{"nick":"creationix","message":"not sure about the fs stuff","date":"2014-11-20T22:02:26.013Z","type":"message"}
{"nick":"creationix","message":"I benchmarked the coroutines in the http codec chain and it was pretty fast","date":"2014-11-20T22:02:36.943Z","type":"message"}
{"nick":"creationix","message":"got around 100k http requests handled per second","date":"2014-11-20T22:02:46.322Z","type":"message"}
{"nick":"creationix","message":"that’s about what the old callback luv benchmark was hitting (pure luv, not luvit)","date":"2014-11-20T22:03:02.347Z","type":"message"}
{"nick":"bjorn","message":"Alright, so it's probably not adding significant overhead as soon as real work is involved.","date":"2014-11-20T22:03:53.487Z","type":"message"}
{"nick":"creationix","message":"bjorn: you could also make a custom version of luvit’s fs.lua that always worked with coroutines and used coroutine.running() internally","date":"2014-11-20T22:04:22.194Z","type":"message"}
{"nick":"creationix","message":"it would just look like blocking calls on the outside, but only work if you’re in a coroutine","date":"2014-11-20T22:04:34.138Z","type":"message"}
{"nick":"creationix","message":"but luvit wants to keep backwards comapt somewhat so that was not used","date":"2014-11-20T22:04:51.929Z","type":"message"}
{"nick":"creationix","message":"would be a great 3rd party module, coro-fs or something","date":"2014-11-20T22:05:08.654Z","type":"message"}
{"nick":"creationix","message":"(or maybe a new core module in luvit)","date":"2014-11-20T22:05:16.169Z","type":"message"}
{"nick":"bjorn","message":"Well it seems to be like it should be possible to write a much simpler adapt, along the lines of the code I posted up there, once you can assume running inside a coroutine.","date":"2014-11-20T22:06:23.942Z","type":"message"}
{"nick":"bjorn","message":"seems to me*","date":"2014-11-20T22:06:38.031Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2014-11-20T22:07:29.450Z","type":"message"}
{"nick":"rphillips","message":"progress... man almost got the verification code","date":"2014-11-20T22:08:21.220Z","type":"message"}
{"nick":"creationix","message":"I’m almost done getting the new zip stuff into luvi.  It’s going to be beutiful","date":"2014-11-20T22:08:49.395Z","type":"message"}
{"nick":"rphillips","message":"<3","date":"2014-11-20T22:09:04.241Z","type":"message"}
{"nick":"rphillips","message":"lua-openssl is going to need to check the reference counts before freeing objects","date":"2014-11-20T22:09:30.928Z","type":"message"}
{"nick":"creationix","message":"whoops, didn’t mean to commit that to master https://github.com/luvit/luvi/commit/9b448a9746657944bd6913290f71ab0097aa79ce","date":"2014-11-20T22:18:12.947Z","type":"message"}
{"nick":"creationix","message":"well, it’s done, just needs docs and test framework updates","date":"2014-11-20T22:18:24.802Z","type":"message"}
{"nick":"bjorn","message":"creationix: Hmm, I must be doing something wrong: http://paste.ubuntu.com/9133121/","date":"2014-11-20T22:19:42.619Z","type":"message"}
{"nick":"bjorn","message":"Arg, never created the coroutine. ..","date":"2014-11-20T22:20:02.554Z","type":"message"}
{"nick":"bjorn","message":"Well I'm not sure if that's my only problem.","date":"2014-11-20T22:21:05.852Z","type":"message"}
{"nick":"creationix","message":"can you do (…, arg)?","date":"2014-11-20T22:21:30.870Z","type":"message"}
{"nick":"creationix","message":"I thought … could only go at the end","date":"2014-11-20T22:21:36.410Z","type":"message"}
{"nick":"bjorn","message":"Whoops, yeah that's also a problem, it would truncate it to the first one.","date":"2014-11-20T22:22:01.399Z","type":"message"}
{"nick":"bjorn","message":"I go get some sleep. :)","date":"2014-11-20T22:22:25.214Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:23:26.993Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#148 (master - 9b448a9 : Tim Caswell): The build was broken.","date":"2014-11-20T22:23:27.088Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/34ea1ce9e2d1...9b448a974665","date":"2014-11-20T22:23:27.143Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41653825","date":"2014-11-20T22:23:27.144Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:23:27.144Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T22:34:01.351Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#149 (master - 722ea56 : Tim Caswell): The build was fixed.","date":"2014-11-20T22:34:01.406Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/9b448a974665...722ea56024df","date":"2014-11-20T22:34:01.407Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41654953","date":"2014-11-20T22:34:01.407Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:34:01.407Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T22:40:57.082Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#150 (master - 69cd1f3 : Tim Caswell): The build passed.","date":"2014-11-20T22:40:57.137Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/722ea56024df...69cd1f3989db","date":"2014-11-20T22:40:57.138Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41655794","date":"2014-11-20T22:40:57.138Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:40:57.138Z","type":"part"}
{"nick":"creationix","message":"rphillips: I forgot to make a proper branch, but here is the changes to luvi that need reveiwing https://github.com/luvit/luvi/compare/34ea1ce9e2d19ac4334cfbc18ec9f3e13927c552...master","date":"2014-11-20T22:48:43.733Z","type":"message"}
{"nick":"creationix","message":"it’s a breaking API change, so I’ll bump the version to 0.4.0","date":"2014-11-20T22:48:53.934Z","type":"message"}
{"nick":"creationix","message":"made an issue if you want to comment https://github.com/luvit/luvi/issues/31","date":"2014-11-20T22:49:51.664Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:57:09.278Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#151 (master - e40f3ba : Tim Caswell): The build passed.","date":"2014-11-20T22:57:09.372Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/a3cbc5e9b32a...e40f3baa564d","date":"2014-11-20T22:57:09.372Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41657736","date":"2014-11-20T22:57:09.372Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T22:57:09.372Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T23:13:24.880Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#152 (busybox-style - 7cc478b : Tim Caswell): The build passed.","date":"2014-11-20T23:13:24.936Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/commit/7cc478b3ebd2","date":"2014-11-20T23:13:24.937Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41659743","date":"2014-11-20T23:13:24.937Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:13:24.937Z","type":"part"}
{"nick":"creationix","message":"rphillips: shall I pull in master on lua-openssl for the new luvi build?  I see he made a fix for your gc issue","date":"2014-11-20T23:18:07.929Z","type":"message"}
{"nick":"rphillips","message":"well","date":"2014-11-20T23:18:15.667Z","type":"message"}
{"nick":"rphillips","message":"it doesn't work yet","date":"2014-11-20T23:18:18.326Z","type":"message"}
{"nick":"rphillips","message":"i'm still working it... i have two trees, one fixed and one not working with all the checked in code","date":"2014-11-20T23:18:38.617Z","type":"message"}
{"nick":"creationix","message":"cool, I’ll leave lua-ssl alone and build what I have now.  I need the binary published to update luvit to the updated build system","date":"2014-11-20T23:20:38.334Z","type":"message"}
{"nick":"piernov","date":"2014-11-20T23:20:43.638Z","type":"join"}
{"nick":"creationix","message":"we can push a minor update when the ssl stuff gets fixed","date":"2014-11-20T23:20:50.096Z","type":"message"}
{"nick":"piernov","message":"Hey. :)","date":"2014-11-20T23:20:56.811Z","type":"message"}
{"nick":"creationix","message":"piernov: hi","date":"2014-11-20T23:21:37.165Z","type":"message"}
{"nick":"UniOn_","date":"2014-11-20T23:24:11.338Z","type":"join"}
{"nick":"UniOn","reason":"Ping timeout: 265 seconds","date":"2014-11-20T23:24:35.628Z","type":"quit"}
{"nick":"piernov","message":"I just discovered Luvit, and I see it's possible to embed it in C with the master branch. Is it possible to do so with the luvi-up branch ? If I just want to try Luvit on top of a C (well, C++) app which already has a main loop, what should I do ?","date":"2014-11-20T23:27:32.929Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:28:02.418Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#154 (v0.4.0 - 0661f2b : Tim Caswell): The build passed.","date":"2014-11-20T23:28:02.419Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/v0.4.0","date":"2014-11-20T23:28:02.419Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41661025","date":"2014-11-20T23:28:02.419Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:28:02.419Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T23:29:45.719Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#155 (master - 7474ad3 : Tim Caswell): The build passed.","date":"2014-11-20T23:29:45.775Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/b011eea0d896...7474ad3eaef8","date":"2014-11-20T23:29:45.775Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41661087","date":"2014-11-20T23:29:45.775Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:29:45.775Z","type":"part"}
{"nick":"travis-ci","date":"2014-11-20T23:33:05.763Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#156 (v0.4.0 - 7474ad3 : Tim Caswell): The build passed.","date":"2014-11-20T23:33:05.856Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/0661f2bc94df...7474ad3eaef8","date":"2014-11-20T23:33:05.856Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41661475","date":"2014-11-20T23:33:05.856Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:33:05.856Z","type":"part"}
{"nick":"cledev","reason":"Ping timeout: 256 seconds","date":"2014-11-20T23:37:22.615Z","type":"quit"}
{"nick":"travis-ci","date":"2014-11-20T23:49:23.052Z","type":"join"}
{"nick":"travis-ci","message":"luvit/luvi#157 (master - 93ff2df : Tim Caswell): The build passed.","date":"2014-11-20T23:49:23.109Z","type":"message"}
{"nick":"travis-ci","message":"Change view : https://github.com/luvit/luvi/compare/7474ad3eaef8...93ff2dfc9b56","date":"2014-11-20T23:49:23.109Z","type":"message"}
{"nick":"travis-ci","message":"Build details : http://travis-ci.org/luvit/luvi/builds/41662703","date":"2014-11-20T23:49:23.109Z","type":"message"}
{"nick":"travis-ci","date":"2014-11-20T23:49:23.109Z","type":"part"}

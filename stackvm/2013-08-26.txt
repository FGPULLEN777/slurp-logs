{"nick":"ircretary","date":"2013-08-26T00:00:08.335Z","type":"join"}
{"nick":"st_luke","date":"2013-08-26T00:03:55.616Z","type":"join"}
{"nick":"ins0mnia","reason":"Ping timeout: 276 seconds","date":"2013-08-26T00:05:00.841Z","type":"quit"}
{"nick":"st_luke","reason":"Ping timeout: 245 seconds","date":"2013-08-26T00:07:56.657Z","type":"quit"}
{"nick":"ins0mnia","date":"2013-08-26T00:09:38.498Z","type":"join"}
{"nick":"maksimlin","date":"2013-08-26T00:19:26.109Z","type":"join"}
{"nick":"sorensen_","date":"2013-08-26T00:21:42.824Z","type":"join"}
{"nick":"sorensen_","reason":"Remote host closed the connection","date":"2013-08-26T00:21:44.214Z","type":"quit"}
{"nick":"daleharvey","message":"substack: this setup is pretty sweet, one issue is that testling is leaving a browser instance open, checking the source now, that a bug?","date":"2013-08-26T00:25:01.772Z","type":"message"}
{"nick":"ins0mnia","reason":"Ping timeout: 240 seconds","date":"2013-08-26T00:25:50.548Z","type":"quit"}
{"nick":"daleharvey","message":"if I run it with the previous instance open, it hangs","date":"2013-08-26T00:27:04.498Z","type":"message"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-26T00:29:17.345Z","type":"quit"}
{"nick":"substack","message":"daleharvey: I don't have a mac so I can't debug that","date":"2013-08-26T00:33:07.929Z","type":"message"}
{"nick":"substack","message":"happens on mac, not on linux","date":"2013-08-26T00:33:15.769Z","type":"message"}
{"nick":"daleharvey","message":"ah k, trying out xquartz","date":"2013-08-26T00:33:38.751Z","type":"message"}
{"nick":"cpettitt","date":"2013-08-26T00:35:01.690Z","type":"join"}
{"nick":"isaacs","message":"ircretary: tell dominictarr Portability","date":"2013-08-26T00:44:11.089Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell dominictarr","date":"2013-08-26T00:44:11.296Z","type":"message"}
{"nick":"missinglink","reason":"Ping timeout: 276 seconds","date":"2013-08-26T00:45:18.710Z","type":"quit"}
{"nick":"cpettitt","reason":"Quit: cpettitt","date":"2013-08-26T00:58:07.418Z","type":"quit"}
{"nick":"jergason","date":"2013-08-26T01:08:24.188Z","type":"join"}
{"nick":"maksimlin","reason":"Ping timeout: 260 seconds","date":"2013-08-26T01:08:43.971Z","type":"quit"}
{"nick":"i_m_ca","date":"2013-08-26T01:16:18.677Z","type":"join"}
{"nick":"thlorenz","date":"2013-08-26T01:24:00.894Z","type":"join"}
{"nick":"shama","reason":"Read error: Connection reset by peer","date":"2013-08-26T01:28:50.362Z","type":"quit"}
{"nick":"shama","date":"2013-08-26T01:29:18.031Z","type":"join"}
{"nick":"maksimlin","date":"2013-08-26T01:30:19.946Z","type":"join"}
{"nick":"i_m_ca","reason":"Ping timeout: 245 seconds","date":"2013-08-26T01:35:51.683Z","type":"quit"}
{"nick":"calvinfo","date":"2013-08-26T01:38:48.830Z","type":"join"}
{"nick":"jcrugzz","date":"2013-08-26T01:41:36.287Z","type":"join"}
{"nick":"mikolalysenko","reason":"Ping timeout: 264 seconds","date":"2013-08-26T01:50:38.795Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-26T01:56:28.846Z","type":"join"}
{"nick":"coderzach","date":"2013-08-26T01:57:53.789Z","type":"join"}
{"nick":"vitorpacheco","date":"2013-08-26T02:11:27.572Z","type":"join"}
{"nick":"shama","reason":"Read error: Connection reset by peer","date":"2013-08-26T02:14:58.178Z","type":"quit"}
{"nick":"shama","date":"2013-08-26T02:15:40.344Z","type":"join"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-26T02:16:01.853Z","type":"quit"}
{"nick":"stagas","date":"2013-08-26T02:24:04.589Z","type":"join"}
{"nick":"maksimlin","reason":"Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130803215302]","date":"2013-08-26T02:25:10.484Z","type":"quit"}
{"nick":"shama","reason":"Remote host closed the connection","date":"2013-08-26T02:26:42.716Z","type":"quit"}
{"nick":"calvinfo","date":"2013-08-26T02:31:54.981Z","type":"join"}
{"nick":"thlorenz","message":"Raynos: do you have no shame :P http://i.imgur.com/OUyaMdf.png","date":"2013-08-26T02:37:13.601Z","type":"message"}
{"nick":"thlorenz","message":"Raynos: I take that back, looks like none of these are actually on github - except maybe 'clientmongo' camouflaged as mongoclient which even my tool can't find ;)","date":"2013-08-26T02:48:03.857Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T03:20:58.785Z","type":"quit"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-26T03:23:20.025Z","type":"quit"}
{"nick":"vitorpacheco","reason":"Ping timeout: 240 seconds","date":"2013-08-26T03:27:50.544Z","type":"quit"}
{"nick":"mikolalysenko","reason":"Ping timeout: 264 seconds","date":"2013-08-26T03:33:14.854Z","type":"quit"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-26T03:34:54.394Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-26T03:38:32.026Z","type":"join"}
{"nick":"calvinfo","date":"2013-08-26T03:50:51.120Z","type":"join"}
{"nick":"vitorpacheco","date":"2013-08-26T03:52:24.430Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-26T03:58:55.477Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-26T04:04:13.965Z","type":"quit"}
{"nick":"jergason","reason":"Remote host closed the connection","date":"2013-08-26T04:05:30.509Z","type":"quit"}
{"nick":"dguttman","date":"2013-08-26T04:13:04.431Z","type":"join"}
{"nick":"dguttman","reason":"Client Quit","date":"2013-08-26T04:16:08.755Z","type":"quit"}
{"nick":"jergason","date":"2013-08-26T04:18:03.519Z","type":"join"}
{"nick":"coderzach","date":"2013-08-26T04:20:11.146Z","type":"join"}
{"nick":"gwenbell","date":"2013-08-26T04:27:35.598Z","type":"join"}
{"nick":"timoxley","date":"2013-08-26T04:40:08.012Z","type":"join"}
{"nick":"itpro","date":"2013-08-26T04:43:46.168Z","type":"join"}
{"nick":"itpro","new_nick":"ITpro","date":"2013-08-26T04:43:46.381Z","type":"nick"}
{"nick":"fotoverite","reason":"Ping timeout: 240 seconds","date":"2013-08-26T04:49:19.131Z","type":"quit"}
{"nick":"fotoverite","date":"2013-08-26T04:49:39.743Z","type":"join"}
{"nick":"gwenbell","reason":"Quit: Lost terminal","date":"2013-08-26T04:53:31.466Z","type":"quit"}
{"nick":"jcrugzz","reason":"Ping timeout: 268 seconds","date":"2013-08-26T05:08:53.072Z","type":"quit"}
{"nick":"maksimlin","date":"2013-08-26T05:09:04.401Z","type":"join"}
{"nick":"rvagg","message":"Raynos: ping you here?","date":"2013-08-26T05:34:18.755Z","type":"message"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-26T05:42:10.469Z","type":"quit"}
{"nick":"i_m_ca","date":"2013-08-26T05:47:49.662Z","type":"join"}
{"nick":"djcoin","date":"2013-08-26T06:00:46.726Z","type":"join"}
{"nick":"mikolalysenko","reason":"Ping timeout: 260 seconds","date":"2013-08-26T06:01:19.993Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-26T06:08:37.374Z","type":"join"}
{"nick":"mikolalysenko","reason":"Client Quit","date":"2013-08-26T06:13:09.952Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-26T06:43:55.538Z","type":"quit"}
{"nick":"guybrush","message":"oh this is interesting https://bugzilla.mozilla.org/show_bug.cgi?id=901614","date":"2013-08-26T06:53:02.895Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-26T06:54:53.342Z","type":"nick"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-26T07:27:38.069Z","type":"quit"}
{"nick":"jergason","reason":"Remote host closed the connection","date":"2013-08-26T07:34:44.890Z","type":"quit"}
{"nick":"substack","message":"https://github.com/substack/level-assoc#live \\o/","date":"2013-08-26T07:38:05.836Z","type":"message"}
{"nick":"calvinfo","date":"2013-08-26T07:57:59.540Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-26T07:59:00.586Z","type":"nick"}
{"nick":"calvinfo","reason":"Ping timeout: 240 seconds","date":"2013-08-26T08:05:26.581Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-26T08:07:12.726Z","type":"quit"}
{"nick":"i_m_ca","reason":"Ping timeout: 245 seconds","date":"2013-08-26T08:10:26.621Z","type":"quit"}
{"nick":"mirkokiefer","date":"2013-08-26T08:12:41.756Z","type":"join"}
{"nick":"maksimlin","reason":"Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130803215302]","date":"2013-08-26T08:26:28.338Z","type":"quit"}
{"nick":"dominictarr","date":"2013-08-26T08:30:49.882Z","type":"join"}
{"nick":"mirkokiefer","reason":"Quit: mirkokiefer","date":"2013-08-26T08:34:07.051Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-26T08:37:53.560Z","type":"join"}
{"nick":"jergason","date":"2013-08-26T08:45:44.125Z","type":"join"}
{"nick":"jergason","reason":"Ping timeout: 246 seconds","date":"2013-08-26T08:49:52.914Z","type":"quit"}
{"nick":"dominictarr","message":"jaz303: idea: you just could just have icons on each window/widget/iframe that you could click and it would copy that object's address,","date":"2013-08-26T08:53:41.555Z","type":"message"}
{"nick":"dominictarr","message":"then you could paste that into some other thing to get messages through to that thing","date":"2013-08-26T08:54:08.782Z","type":"message"}
{"nick":"dominictarr","message":"computer -> mobile, a qr code would work fairly well, or this: http://smus.com/ultrasonic-networking/","date":"2013-08-26T08:55:13.097Z","type":"message"}
{"nick":"mcollina","date":"2013-08-26T08:56:55.538Z","type":"join"}
{"nick":"jaz303","message":"how does routing work?","date":"2013-08-26T09:01:14.022Z","type":"message"}
{"nick":"jaz303","message":"s/does/could","date":"2013-08-26T09:01:19.901Z","type":"message"}
{"nick":"jaz303","message":"sounds like you need to right down at the OS level","date":"2013-08-26T09:02:49.355Z","type":"message"}
{"nick":"dominictarr","message":"so, you'd have a web/websocket server","date":"2013-08-26T09:05:40.115Z","type":"message"}
{"nick":"dominictarr","message":"and browser tabs can connect to that","date":"2013-08-26T09:05:47.601Z","type":"message"}
{"nick":"dominictarr","message":"websockets can do cross origin","date":"2013-08-26T09:05:56.030Z","type":"message"}
{"nick":"dominictarr","message":"so there is a lot of flexilibity there","date":"2013-08-26T09:06:05.667Z","type":"message"}
{"nick":"dominictarr","message":"basically, each thing routes to it's children","date":"2013-08-26T09:06:33.486Z","type":"message"}
{"nick":"dominictarr","message":"and has more permissions than it's children","date":"2013-08-26T09:06:44.022Z","type":"message"}
{"nick":"dominictarr","message":"so, if a child has an address it can't reach, it sends it to it's parent,","date":"2013-08-26T09:07:13.578Z","type":"message"}
{"nick":"dominictarr","message":"(and so on)","date":"2013-08-26T09:07:18.049Z","type":"message"}
{"nick":"dominictarr","message":"until someone can proxy that to the correct location.","date":"2013-08-26T09:07:33.492Z","type":"message"}
{"nick":"dominictarr","message":"once you are at the socket server then you could make straight tcp connections","date":"2013-08-26T09:08:19.822Z","type":"message"}
{"nick":"dominictarr","message":"and once on a local machine you can do unix pipes, or open file","date":"2013-08-26T09:08:34.988Z","type":"message"}
{"nick":"dominictarr","message":"s","date":"2013-08-26T09:08:36.150Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-26T09:08:53.812Z","type":"nick"}
{"nick":"substack","message":"dominictarr: new thing for streaming https://github.com/substack/level-assoc#live","date":"2013-08-26T09:09:07.426Z","type":"message"}
{"nick":"jaz303","message":"i'm still a bit confused; let's say we want to connect to address x that is a thing living inside a machine with address y","date":"2013-08-26T09:09:22.799Z","type":"message"}
{"nick":"jaz303","message":"what address do you type in to access it?","date":"2013-08-26T09:09:46.581Z","type":"message"}
{"nick":"substack","message":"the best part is you can pipe a live stream and if a new parent doc gets inserted, you get that doc and you also get a stream of all its children","date":"2013-08-26T09:10:08.613Z","type":"message"}
{"nick":"dominictarr","message":"jaz303: the address for x.y will be the x address with something appended on it","date":"2013-08-26T09:11:01.191Z","type":"message"}
{"nick":"jaz303","message":"ah","date":"2013-08-26T09:11:08.130Z","type":"message"}
{"nick":"dominictarr","message":"like twitter.com/jaz303","date":"2013-08-26T09:11:12.233Z","type":"message"}
{"nick":"dominictarr","message":"but it's up to twitter to decide what scheme it wants to use there","date":"2013-08-26T09:11:31.541Z","type":"message"}
{"nick":"dominictarr","message":"like, you can build a new house in your backyard and make it 1B infinite loop, cupidtino","date":"2013-08-26T09:12:17.972Z","type":"message"}
{"nick":"dominictarr","message":"etc","date":"2013-08-26T09:12:19.125Z","type":"message"}
{"nick":"jaz303","message":"so is it fair to say addresses are more like URLs?","date":"2013-08-26T09:12:29.390Z","type":"message"}
{"nick":"dominictarr","message":"more or less","date":"2013-08-26T09:12:37.015Z","type":"message"}
{"nick":"dominictarr","message":"and with urls you can usually mount a service under a prefix host.com/prefix/service etc!","date":"2013-08-26T09:13:37.821Z","type":"message"}
{"nick":"jaz303","message":"yes understand now","date":"2013-08-26T09:13:57.223Z","type":"message"}
{"nick":"dominictarr","message":"domains are weird because they are reverse. should be com.domain.subdomain.subsubdomain","date":"2013-08-26T09:14:18.097Z","type":"message"}
{"nick":"dominictarr","message":"also, every object can have many addresses. like you probably have a phone number, an physical address, a mailing address (maybe) and an email.","date":"2013-08-26T09:15:47.525Z","type":"message"}
{"nick":"dominictarr","message":"substack: nice","date":"2013-08-26T09:16:00.450Z","type":"message"}
{"nick":"dominictarr","message":"I need to update level-sublevel to use gte, gt, lt, lte","date":"2013-08-26T09:16:40.650Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-26T09:18:52.326Z","type":"nick"}
{"nick":"dominictarr","message":"check this out: DIY modem from the 70s http://www.classiccmp.org/cini/pdf/pe/1976/PE1976-Mar-pg43.pdf","date":"2013-08-26T09:19:01.662Z","type":"message"}
{"nick":"dominictarr","message":"jaz303: also, there is webrtc which create a peer to peer connection between browsers (but only supported in chrome ff currently)","date":"2013-08-26T09:21:47.162Z","type":"message"}
{"nick":"dominictarr","message":"Another thing that is needed is a way to directly connect devices that are on the same local network.","date":"2013-08-26T09:34:10.323Z","type":"message"}
{"nick":"dominictarr","message":"so, if I have a server on my \"dynabook\" (aka laptop) running some webapp that you have open, the server you are connected to should notice that it's connected from the same ip address","date":"2013-08-26T09:35:23.258Z","type":"message"}
{"nick":"dominictarr","message":"and tell you to try my local ip","date":"2013-08-26T09:35:32.033Z","type":"message"}
{"nick":"dominictarr","message":"then, you could connect directly to that with no outside internet.","date":"2013-08-26T09:35:52.536Z","type":"message"}
{"nick":"dominictarr","message":"this will be extremely helpful for development.","date":"2013-08-26T09:36:06.202Z","type":"message"}
{"nick":"dominictarr","message":"(especially mobile development)","date":"2013-08-26T09:36:22.386Z","type":"message"}
{"nick":"dominictarr","message":"ooh, this is interesting http://syntaxcandy.blogspot.ie/2012/08/perceptual-hash.html < need a level plugin for this","date":"2013-08-26T09:45:10.786Z","type":"message"}
{"nick":"ins0mnia","date":"2013-08-26T09:47:51.363Z","type":"join"}
{"nick":"daleharvey","message":"weird, how do I run all the tests? http://pastie.org/8270498","date":"2013-08-26T10:03:05.079Z","type":"message"}
{"nick":"mirkokiefer","date":"2013-08-26T10:03:57.328Z","type":"join"}
{"nick":"dominictarr","message":"daleharvey: authors should set their test command in scripts.test = cmd","date":"2013-08-26T10:10:11.918Z","type":"message"}
{"nick":"dominictarr","message":"in package.json","date":"2013-08-26T10:10:16.206Z","type":"message"}
{"nick":"dominictarr","message":"then you do `npm test`","date":"2013-08-26T10:10:20.495Z","type":"message"}
{"nick":"dominictarr","message":"oh, and node only runs the first file","date":"2013-08-26T10:10:51.739Z","type":"message"}
{"nick":"dominictarr","message":"I use:","date":"2013-08-26T10:10:57.010Z","type":"message"}
{"nick":"dominictarr","message":"set -e; for t in test/*.js; do node \"$t\"; done","date":"2013-08-26T10:11:22.491Z","type":"message"}
{"nick":"mirkokiefer","reason":"Quit: mirkokiefer","date":"2013-08-26T10:13:54.236Z","type":"quit"}
{"nick":"mirkokiefer","date":"2013-08-26T10:15:50.824Z","type":"join"}
{"nick":"daleharvey","message":"cool cheers","date":"2013-08-26T10:21:02.170Z","type":"message"}
{"nick":"mcollina","reason":"Read error: Connection reset by peer","date":"2013-08-26T10:24:33.246Z","type":"quit"}
{"nick":"mcollina_","date":"2013-08-26T10:24:38.259Z","type":"join"}
{"nick":"substack","message":"daleharvey: you can use `tape test/*.js` as the scripts.test command","date":"2013-08-26T10:25:17.164Z","type":"message"}
{"nick":"daleharvey","message":"even nicer, thanks","date":"2013-08-26T10:26:33.574Z","type":"message"}
{"nick":"daleharvey","message":"ow wow, it seems in my previous refactor I got browserify support without realising it","date":"2013-08-26T10:36:53.866Z","type":"message"}
{"nick":"daleharvey","message":"*oh","date":"2013-08-26T10:36:58.727Z","type":"message"}
{"nick":"daleharvey","message":"although the bunch is 100kb larger than it should be, probably some stuff in there I dont need, but --list doesnt seem to work well with -i","date":"2013-08-26T10:37:39.221Z","type":"message"}
{"nick":"mcollina_","message":"dominictarr: recently I was thinking about a REST on everything approach, tunnelling CoAP (http://datatracker.ietf.org/doc/draft-ietf-core-coap/) over WebRTC to build P2P web apps.","date":"2013-08-26T10:38:41.598Z","type":"message"}
{"nick":"daleharvey","message":"know whats up with http://pastie.org/8270573 ?","date":"2013-08-26T10:38:48.954Z","type":"message"}
{"nick":"daleharvey","message":"ignoring request, but dying on a request dep","date":"2013-08-26T10:39:09.386Z","type":"message"}
{"nick":"dominictarr","message":"mcollina_: I hate REST","date":"2013-08-26T10:39:17.419Z","type":"message"}
{"nick":"dominictarr","message":"I want duplex streaming connections","date":"2013-08-26T10:39:26.382Z","type":"message"}
{"nick":"mcollina_","message":"REST is here to stay :P. But duplex streaming connections are way better!","date":"2013-08-26T10:40:29.458Z","type":"message"}
{"nick":"dominictarr","message":"mcollina_: that is true, but we have websockets, and we can pollyfil duplex over rest","date":"2013-08-26T10:40:53.073Z","type":"message"}
{"nick":"dominictarr","message":"people end up creating duplex like things on top of rest anyway","date":"2013-08-26T10:41:19.595Z","type":"message"}
{"nick":"mcollina_","message":"yup","date":"2013-08-26T10:41:30.566Z","type":"message"}
{"nick":"dominictarr","message":"like, long polling","date":"2013-08-26T10:41:32.055Z","type":"message"}
{"nick":"mcollina_","message":"yeah!","date":"2013-08-26T10:41:58.870Z","type":"message"}
{"nick":"dominictarr","message":"or even just pagination","date":"2013-08-26T10:42:03.498Z","type":"message"}
{"nick":"mcollina_","message":"THe whole problem of WebSocket is that you end up building your own routing layer, while you get it for free with REST.","date":"2013-08-26T10:42:43.059Z","type":"message"}
{"nick":"dominictarr","message":"with urls?","date":"2013-08-26T10:43:42.502Z","type":"message"}
{"nick":"dominictarr","message":"websockets can have urls too","date":"2013-08-26T10:43:56.249Z","type":"message"}
{"nick":"dominictarr","message":"http would be okay if browsers could do full duplex.","date":"2013-08-26T10:44:48.469Z","type":"message"}
{"nick":"dominictarr","message":"you can use http to do full duplex with node <-> node","date":"2013-08-26T10:45:06.918Z","type":"message"}
{"nick":"dominictarr","message":"but rest is different, the main idea being that rest is scaleable because it's designed for cacheableity","date":"2013-08-26T10:45:36.746Z","type":"message"}
{"nick":"mcollina_","message":"which is quite the opposite of WebSocket :)","date":"2013-08-26T10:46:05.058Z","type":"message"}
{"nick":"dominictarr","message":"yes, and this was over 10 years ago","date":"2013-08-26T10:46:36.805Z","type":"message"}
{"nick":"dominictarr","message":"now we have node.js","date":"2013-08-26T10:46:47.554Z","type":"message"}
{"nick":"dominictarr","message":"even in the fielding dissertation he says that clearly REST isn't ideal for cases, where you want realtime updates, but currently that takes too much resources...","date":"2013-08-26T10:47:56.360Z","type":"message"}
{"nick":"dominictarr","message":"mcollina_: now, people are talking about millions of connections http://c10m.robertgraham.com/p/manifesto.html","date":"2013-08-26T10:49:21.082Z","type":"message"}
{"nick":"mcollina_","message":"Well, our world right now is of both of them","date":"2013-08-26T10:49:54.843Z","type":"message"}
{"nick":"mcollina_","message":"realtime updates and non-realtime updates.","date":"2013-08-26T10:50:06.238Z","type":"message"}
{"nick":"mcollina_","message":"Meaning that most of the stuff out there is built on REST and it's a good fit.","date":"2013-08-26T10:51:27.507Z","type":"message"}
{"nick":"mcollina_","message":"Click on a button -> do something on a server.","date":"2013-08-26T10:51:52.290Z","type":"message"}
{"nick":"dominictarr","message":"sure, but a stream is a better lowest common denomenator","date":"2013-08-26T10:53:11.545Z","type":"message"}
{"nick":"dominictarr","message":"http is over tcp, afterall","date":"2013-08-26T10:53:19.334Z","type":"message"}
{"nick":"dominictarr","message":"but I agree, we are stuck with http.","date":"2013-08-26T10:59:26.478Z","type":"message"}
{"nick":"mcollina_","message":"indefinitely","date":"2013-08-26T10:59:44.248Z","type":"message"}
{"nick":"dominictarr","message":"we arn't gonna go back to tcp, but instead of the 7 layer model","date":"2013-08-26T10:59:58.419Z","type":"message"}
{"nick":"dominictarr","message":"we'll just add polyfill layers into the application layer","date":"2013-08-26T11:00:13.781Z","type":"message"}
{"nick":"mcollina_","message":"ahah yes","date":"2013-08-26T11:00:21.811Z","type":"message"}
{"nick":"dominictarr","message":"tcp tunneled over http","date":"2013-08-26T11:00:29.759Z","type":"message"}
{"nick":"dominictarr","message":"mcollina_: maybe we'll be able to get new ideas in around the side, though","date":"2013-08-26T11:16:00.384Z","type":"message"}
{"nick":"dominictarr","message":"they'll just have to be backwards compatible with the polyfils","date":"2013-08-26T11:16:13.926Z","type":"message"}
{"nick":"nicholasf","date":"2013-08-26T11:16:17.744Z","type":"join"}
{"nick":"daleharvey","message":"crap, this works in browserify, thats pretty sweet","date":"2013-08-26T11:27:22.483Z","type":"message"}
{"nick":"daleharvey","message":"so I have one issue, https://github.com/daleharvey/pouchdb/blob/master/src/pouch.js#L429","date":"2013-08-26T11:28:27.495Z","type":"message"}
{"nick":"daleharvey","message":"I need to do an optional require based on browserify vs node","date":"2013-08-26T11:28:54.974Z","type":"message"}
{"nick":"daleharvey","message":"in browserify I need to require pouch.idb.js + pouch.websql.js, in node I need pouch.leveldb.js","date":"2013-08-26T11:29:39.922Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: best way is to have a different entry file for browser bundle, with this https://gist.github.com/shtylman/4339901","date":"2013-08-26T11:37:11.454Z","type":"message"}
{"nick":"daleharvey","message":"that file is a common global entry point, not sure how that would be possible","date":"2013-08-26T11:38:23.574Z","type":"message"}
{"nick":"daleharvey","message":"I create a pouch.browser.js and required idb in that, that worked, however I really want to be able to require('pouch.js') in the test suite and have it work in browserify + node","date":"2013-08-26T11:45:00.230Z","type":"message"}
{"nick":"dominictarr","message":"you can do that","date":"2013-08-26T11:45:18.738Z","type":"message"}
{"nick":"dominictarr","message":"in package.json, main: pouch.node.js","date":"2013-08-26T11:45:31.534Z","type":"message"}
{"nick":"dominictarr","message":"and browser: pouch.browser.js","date":"2013-08-26T11:46:47.298Z","type":"message"}
{"nick":"daleharvey","message":"the tests are inside the repo though, a module cant require itself can it ?","date":"2013-08-26T11:46:53.849Z","type":"message"}
{"nick":"dominictarr","message":"here is an example https://github.com/dominictarr/reconnect/blob/master/package.json#L24-L27","date":"2013-08-26T11:47:21.302Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: you have to do require('../')","date":"2013-08-26T11:47:30.040Z","type":"message"}
{"nick":"dominictarr","message":"(unfortunately)","date":"2013-08-26T11:47:39.080Z","type":"message"}
{"nick":"dominictarr","message":"or you can add a symlink","date":"2013-08-26T11:47:55.551Z","type":"message"}
{"nick":"dominictarr","message":"./test/node_modules/pouch -> ./","date":"2013-08-26T11:48:12.767Z","type":"message"}
{"nick":"dominictarr","message":"but that will break if anyone trys to run the tests from the npm module because npm doesn't preserve symlinks (because windows)","date":"2013-08-26T11:49:00.403Z","type":"message"}
{"nick":"daleharvey","message":"hmm, this seems to break browserify's module path lookup","date":"2013-08-26T11:50:26.642Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: the symlink?","date":"2013-08-26T11:57:16.603Z","type":"message"}
{"nick":"daleharvey","message":"nah, the ../","date":"2013-08-26T11:57:56.137Z","type":"message"}
{"nick":"daleharvey","message":"oh wait, may be my bug","date":"2013-08-26T11:58:37.561Z","type":"message"}
{"nick":"timoxley","reason":"Read error: No route to host","date":"2013-08-26T12:10:00.024Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-26T12:10:25.241Z","type":"join"}
{"nick":"daleharvey","message":"heh, slightly hacky, but this works, can clean it up later, the ../ trick half worked, but I am using a global object which gets modified and it screwed that up in weird ways","date":"2013-08-26T12:13:27.310Z","type":"message"}
{"nick":"daleharvey","message":"  require('./adapters/pouch.idb.js');","date":"2013-08-26T12:13:29.626Z","type":"message"}
{"nick":"daleharvey","message":"  if (typeof window === 'undefined') {","date":"2013-08-26T12:13:29.843Z","type":"message"}
{"nick":"daleharvey","message":"    require('./adapters/pouch.' + 'leveldb' + '.js');","date":"2013-08-26T12:13:29.843Z","type":"message"}
{"nick":"daleharvey","message":"  }","date":"2013-08-26T12:13:29.843Z","type":"message"}
{"nick":"daleharvey","message":"we can include idb anyway, it wont break in node, just unused","date":"2013-08-26T12:13:56.483Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: you can tell it to ignore modules with the browser option too","date":"2013-08-26T12:15:21.629Z","type":"message"}
{"nick":"dominictarr","message":"'./adapters/pouch.leveldb' : false","date":"2013-08-26T12:15:33.420Z","type":"message"}
{"nick":"mirkokiefer","reason":"Quit: mirkokiefer","date":"2013-08-26T12:15:47.521Z","type":"quit"}
{"nick":"dominictarr","message":"daleharvey: also, the best way to detect whether you are in browser or node is process.title !== 'browser' => you are in node.","date":"2013-08-26T12:16:24.095Z","type":"message"}
{"nick":"daleharvey","message":"sweet thanks","date":"2013-08-26T12:16:43.167Z","type":"message"}
{"nick":"dominictarr","message":"window isn't defined in webworkers","date":"2013-08-26T12:16:50.746Z","type":"message"}
{"nick":"dominictarr","message":"but you can still access indexeddb, I think","date":"2013-08-26T12:17:13.476Z","type":"message"}
{"nick":"daleharvey","message":"not in web workers in ffx","date":"2013-08-26T12:17:24.579Z","type":"message"}
{"nick":"daleharvey","message":"but thats being fixed, will switch to yours","date":"2013-08-26T12:17:50.637Z","type":"message"}
{"nick":"daleharvey","message":"actually that wont work, this still supports being run in a plain browser (sans browserify)","date":"2013-08-26T12:18:21.380Z","type":"message"}
{"nick":"daleharvey","message":"heh I should have paid more attention, I dont need to care about importing leveldb either, it wont break anything, just unused again","date":"2013-08-26T12:19:18.741Z","type":"message"}
{"nick":"fotoverite","reason":"Quit: fotoverite","date":"2013-08-26T12:24:38.467Z","type":"quit"}
{"nick":"dominictarr","message":"daleharvey: you could just bundle with browserify --standalone","date":"2013-08-26T12:26:48.710Z","type":"message"}
{"nick":"dominictarr","message":"that gets you a 'normal' script tag that people who arn't using browserify yet can use","date":"2013-08-26T12:27:40.460Z","type":"message"}
{"nick":"daleharvey","message":"this is pretty close to running how I want it, cheers for the help","date":"2013-08-26T12:29:25.386Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: no problem","date":"2013-08-26T12:34:41.853Z","type":"message"}
{"nick":"dominictarr","message":"substack: mbalho juliangruber ins0mnia binary over sockjs: https://github.com/sockjs/sockjs-protocol/issues/74","date":"2013-08-26T12:35:14.153Z","type":"message"}
{"nick":"daleharvey","message":"this is strange","date":"2013-08-26T12:36:53.883Z","type":"message"}
{"nick":"daleharvey","message":"http://pastie.org/8270830","date":"2013-08-26T12:36:58.192Z","type":"message"}
{"nick":"daleharvey","message":"the browserify packages is 229K vs 154k for nightly, same files","date":"2013-08-26T12:37:17.877Z","type":"message"}
{"nick":"daleharvey","message":"actually nightly has extra files","date":"2013-08-26T12:38:05.783Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: it would've been great if this was possible, I asked a similar question in #sockjs but it seems everyone is just idling there","date":"2013-08-26T12:39:09.917Z","type":"message"}
{"nick":"dominictarr","message":"ins0mnia: it would be a fairly big bit of work.","date":"2013-08-26T12:39:53.720Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: Chrome, Browserify, Safari and IE10 support TypedArray it makes sense","date":"2013-08-26T12:40:07.714Z","type":"message"}
{"nick":"dominictarr","message":"so, the maintainers won't be jumping out of thier seats to do it.","date":"2013-08-26T12:40:18.032Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: yeah I guess not...","date":"2013-08-26T12:40:28.469Z","type":"message"}
{"nick":"dominictarr","message":"but, if you made a pull request, and did it well","date":"2013-08-26T12:40:32.303Z","type":"message"}
{"nick":"dominictarr","message":"and it was backwards compatible...","date":"2013-08-26T12:40:41.199Z","type":"message"}
{"nick":"dominictarr","message":"I think they might take it.","date":"2013-08-26T12:40:45.502Z","type":"message"}
{"nick":"dominictarr","message":"also, they have a spec!","date":"2013-08-26T12:40:55.863Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: my problem with sockjs is that they whole thing is in coffescript","date":"2013-08-26T12:41:06.232Z","type":"message"}
{"nick":"dominictarr","message":"so, you could build another implementation that was compatable","date":"2013-08-26T12:41:11.319Z","type":"message"}
{"nick":"dominictarr","message":"ins0mnia: who cares?","date":"2013-08-26T12:41:15.631Z","type":"message"}
{"nick":"dominictarr","message":"they have a spec. that is the most important thing","date":"2013-08-26T12:41:31.155Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: I hate coffescript it makes me want to throw up I'd probably need to look into sockjs itself","date":"2013-08-26T12:41:41.496Z","type":"message"}
{"nick":"daleharvey","message":"it looks like there is some buffers stuff in the browserify version that takes up a ton","date":"2013-08-26T12:41:46.542Z","type":"message"}
{"nick":"dominictarr","message":"the spec is in mython","date":"2013-08-26T12:41:47.552Z","type":"message"}
{"nick":"dominictarr","message":"python","date":"2013-08-26T12:41:50.378Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: right - that gets inserted if you use buffers","date":"2013-08-26T12:42:18.839Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: are you using binary?","date":"2013-08-26T12:42:34.433Z","type":"message"}
{"nick":"dominictarr","message":"ins0mnia: maybe reimplement sockjs in pure js with browserify?","date":"2013-08-26T12:43:07.711Z","type":"message"}
{"nick":"dominictarr","message":"how hard could it be?","date":"2013-08-26T12:43:16.641Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: it's the fall back stuff they're doing which makes sockjs interesting","date":"2013-08-26T12:43:39.095Z","type":"message"}
{"nick":"dominictarr","message":"agree, but that could have binary support too","date":"2013-08-26T12:43:56.265Z","type":"message"}
{"nick":"ins0mnia","message":"yeah there's no reason it shouldn't.. I mean it's just data..","date":"2013-08-26T12:44:19.358Z","type":"message"}
{"nick":"ins0mnia","message":"sockjs shouldn't care about that","date":"2013-08-26T12:44:29.360Z","type":"message"}
{"nick":"daleharvey","message":"I noticed browserify still traverses modules even if you ignore a top level module, seems like it may be that","date":"2013-08-26T12:44:43.343Z","type":"message"}
{"nick":"dominictarr","message":"just use base64 on jsonp etc","date":"2013-08-26T12:44:44.422Z","type":"message"}
{"nick":"daleharvey","message":"the level implementation uses buffers","date":"2013-08-26T12:44:52.840Z","type":"message"}
{"nick":"ins0mnia","message":"that's 30% increase in the packet size","date":"2013-08-26T12:45:00.372Z","type":"message"}
{"nick":"daleharvey","message":"thye dont show up in --list though","date":"2013-08-26T12:45:00.582Z","type":"message"}
{"nick":"mirkokiefer","date":"2013-08-26T12:45:16.002Z","type":"join"}
{"nick":"dominictarr","message":"ins0mnia: but if you need binary, you have to do that anyway","date":"2013-08-26T12:45:22.698Z","type":"message"}
{"nick":"ins0mnia","message":"bandwidth is more expensive that storage","date":"2013-08-26T12:45:26.166Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: yes, but this can be acheived on the client","date":"2013-08-26T12:45:42.916Z","type":"message"}
{"nick":"dominictarr","message":"ins0mnia: this is only on the bad fallbacks","date":"2013-08-26T12:45:51.243Z","type":"message"}
{"nick":"dominictarr","message":"the good ones get straight binary","date":"2013-08-26T12:45:58.246Z","type":"message"}
{"nick":"mcollina_","reason":"Read error: No route to host","date":"2013-08-26T12:46:07.355Z","type":"quit"}
{"nick":"dominictarr","message":"daleharvey: what browserify version are you on?","date":"2013-08-26T12:46:26.451Z","type":"message"}
{"nick":"daleharvey","message":"2.29","date":"2013-08-26T12:46:40.337Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: yeah on the bad fallbacks it makes sense then","date":"2013-08-26T12:47:03.691Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: in one year or two IE8/9 would hopefully be rotten dead","date":"2013-08-26T12:48:12.996Z","type":"message"}
{"nick":"dominictarr","message":"they will live on in the enterprise","date":"2013-08-26T12:48:45.885Z","type":"message"}
{"nick":"dominictarr","message":"also, on pirated win ex in china","date":"2013-08-26T12:49:07.878Z","type":"message"}
{"nick":"daleharvey","message":"this is working as I want it for now, its 'browserifyable', I can write the tests the way I want, and I can still use my existing build / packaging tools","date":"2013-08-26T12:49:10.055Z","type":"message"}
{"nick":"dominictarr","message":"xp","date":"2013-08-26T12:49:14.616Z","type":"message"}
{"nick":"daleharvey","message":"will open an issue for the nested ignores and take a look if we switch to full browserify down the line","date":"2013-08-26T12:49:33.180Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: okay, cool","date":"2013-08-26T12:49:38.259Z","type":"message"}
{"nick":"ins0mnia","message":"yeah...","date":"2013-08-26T12:49:42.275Z","type":"message"}
{"nick":"jcrugzz","date":"2013-08-26T12:49:45.880Z","type":"join"}
{"nick":"thlorenz","date":"2013-08-26T12:51:02.002Z","type":"join"}
{"nick":"ins0mnia","message":"even engine.io only supports utf-8 strings, no binary","date":"2013-08-26T12:51:16.593Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: what are you using to bundle at the moment, I see lots of requires in there?","date":"2013-08-26T12:51:41.863Z","type":"message"}
{"nick":"ins0mnia","action":"afk","date":"2013-08-26T12:52:09.410Z","type":"action"}
{"nick":"daleharvey","message":"https://github.com/daleharvey/pouchdb/blob/master/Gruntfile.js#L11","date":"2013-08-26T12:52:22.529Z","type":"message"}
{"nick":"daleharvey","message":"will likely get rid of grunt, its just annoying","date":"2013-08-26T12:53:53.077Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: browserify is including Buffer stuff because of this https://github.com/daleharvey/pouchdb/blob/master/src/pouch.utils.js#L292","date":"2013-08-26T12:56:08.251Z","type":"message"}
{"nick":"dominictarr","message":"if that isn't used in browsers you'd have to move it to a separate thing.","date":"2013-08-26T12:56:52.128Z","type":"message"}
{"nick":"daleharvey","message":"ah cause buffers are in built","date":"2013-08-26T12:57:50.926Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: we use https://github.com/chrisdickinson/bops to get portable binary","date":"2013-08-26T12:58:39.678Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T12:59:58.236Z","type":"quit"}
{"nick":"daleharvey","message":"sure, but for now trying to avoid adding any unneeded code","date":"2013-08-26T13:00:32.839Z","type":"message"}
{"nick":"daleharvey","message":"cheers for finding","date":"2013-08-26T13:00:41.028Z","type":"message"}
{"nick":"thlorenz","date":"2013-08-26T13:01:15.302Z","type":"join"}
{"nick":"dominictarr","message":"yeah, you'd probably want to just move those functions into another file that is ignored if you where to use browserify","date":"2013-08-26T13:03:29.723Z","type":"message"}
{"nick":"daleharvey","message":"yay, level is segfaulting now","date":"2013-08-26T13:05:54.714Z","type":"message"}
{"nick":"daleharvey","message":"dont think this has to do with my changes though","date":"2013-08-26T13:06:09.032Z","type":"message"}
{"nick":"kevino80","date":"2013-08-26T13:08:19.144Z","type":"join"}
{"nick":"ins0mnia","message":"dominictarr: think we could get mux demux to work with max's websocket-stream?","date":"2013-08-26T13:10:50.850Z","type":"message"}
{"nick":"ins0mnia","message":"it should be possible, in theory","date":"2013-08-26T13:10:56.002Z","type":"message"}
{"nick":"dominictarr","message":"ins0mnia: yes, it works","date":"2013-08-26T13:11:54.667Z","type":"message"}
{"nick":"ins0mnia","message":"cool","date":"2013-08-26T13:12:35.677Z","type":"message"}
{"nick":"ins0mnia","message":"so in theory","date":"2013-08-26T13:12:52.676Z","type":"message"}
{"nick":"mirkokiefer","reason":"Quit: mirkokiefer","date":"2013-08-26T13:12:53.512Z","type":"quit"}
{"nick":"ins0mnia","message":"websocket-stream can be a starting point","date":"2013-08-26T13:13:05.449Z","type":"message"}
{"nick":"ins0mnia","message":"with some sort of ajax+cors fallback for older browsers","date":"2013-08-26T13:13:14.434Z","type":"message"}
{"nick":"mirkokiefer","date":"2013-08-26T13:13:39.342Z","type":"join"}
{"nick":"ins0mnia","message":"like, no websockets = some basic ajax protocol with a similar interface so that 'data', 'end', 'error' events are more or less the same","date":"2013-08-26T13:15:32.138Z","type":"message"}
{"nick":"ins0mnia","message":"a websocket interface based on ajax","date":"2013-08-26T13:16:13.590Z","type":"message"}
{"nick":"ins0mnia","message":"with http polling","date":"2013-08-26T13:16:28.844Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T13:18:57.852Z","type":"quit"}
{"nick":"dominictarr","message":"ins0mnia: yes, that would just be a binary version of sockjs","date":"2013-08-26T13:21:59.988Z","type":"message"}
{"nick":"dominictarr","message":"well, cept with streams","date":"2013-08-26T13:22:20.384Z","type":"message"}
{"nick":"jergason","date":"2013-08-26T13:22:46.050Z","type":"join"}
{"nick":"dominictarr","message":"but it's the same diff. would be better to get it into sock.js because then there are other people who understand the code.","date":"2013-08-26T13:23:03.608Z","type":"message"}
{"nick":"dominictarr","message":"and a spec and tests","date":"2013-08-26T13:23:14.296Z","type":"message"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-26T13:29:20.691Z","type":"quit"}
{"nick":"ins0mnia","message":"dominictarr: yeah, let's not hope that sockjs, internally, doesn't expect the data to be a string","date":"2013-08-26T13:29:35.655Z","type":"message"}
{"nick":"ins0mnia","message":"not=just","date":"2013-08-26T13:29:43.406Z","type":"message"}
{"nick":"kevino80","date":"2013-08-26T13:30:28.307Z","type":"join"}
{"nick":"daleharvey","message":"woot, thats browserify supported","date":"2013-08-26T13:30:45.861Z","type":"message"}
{"nick":"dominictarr","message":"that is probably something easy to support, just add bops.is(message) next to 'string' === typeof message","date":"2013-08-26T13:31:16.445Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: sweet!","date":"2013-08-26T13:31:23.862Z","type":"message"}
{"nick":"jcrugzz","reason":"Ping timeout: 276 seconds","date":"2013-08-26T13:52:27.656Z","type":"quit"}
{"nick":"mcollina","date":"2013-08-26T13:56:53.979Z","type":"join"}
{"nick":"thlorenz","date":"2013-08-26T13:58:47.608Z","type":"join"}
{"nick":"fallsemo","date":"2013-08-26T14:06:20.170Z","type":"join"}
{"nick":"kenperkins","date":"2013-08-26T14:16:42.148Z","type":"join"}
{"nick":"dominictarr","message":"everyone in stackvm should read this http://worrydream.com/EarlyHistoryOfSmalltalk/","date":"2013-08-26T14:20:51.902Z","type":"message"}
{"nick":"dguttman","date":"2013-08-26T14:26:30.437Z","type":"join"}
{"nick":"coderzach","date":"2013-08-26T14:31:33.720Z","type":"join"}
{"nick":"yorick","date":"2013-08-26T14:32:00.925Z","type":"join"}
{"nick":"jesusabdullah","message":"MAYBE I WILL","date":"2013-08-26T14:32:39.856Z","type":"message"}
{"nick":"LOUDBOT","message":"I SEE YOU GAVE IN TO THE TEMPTATION TUT TUT TOES :P","date":"2013-08-26T14:32:40.218Z","type":"message"}
{"nick":"jcrugzz","date":"2013-08-26T14:33:03.274Z","type":"join"}
{"nick":"daleharvey","message":"woot - https://github.com/daleharvey/pouchdb/blob/master/test/integration/basics_test.js","date":"2013-08-26T14:35:51.497Z","type":"message"}
{"nick":"daleharvey","message":"compared to the setup I was doing in https://github.com/daleharvey/pouchdb/blob/master/tests/test.basics.js#L1, so much nicer","date":"2013-08-26T14:36:33.333Z","type":"message"}
{"nick":"daleharvey","message":"still need to do setup / teardown and options passing though","date":"2013-08-26T14:37:32.925Z","type":"message"}
{"nick":"daleharvey","message":"may switch back to mocha for that stuff since it doesnt look like tape does it, but now that its browserified the tests are gonna be much cleaner","date":"2013-08-26T14:39:01.179Z","type":"message"}
{"nick":"AvianFlu","date":"2013-08-26T14:45:19.750Z","type":"join"}
{"nick":"dominictarr","message":"daleharvey: tape tests run in order, so you can just do setup in the first test","date":"2013-08-26T14:45:22.260Z","type":"message"}
{"nick":"dominictarr","message":"there is no teardown, but just cleanup the previous test in the setup.","date":"2013-08-26T14:45:43.682Z","type":"message"}
{"nick":"daleharvey","message":"everything else runs them in order too, but I still need setup / teardown for indiviual tests","date":"2013-08-26T14:46:28.907Z","type":"message"}
{"nick":"dominictarr","message":"just make a thing: tape('test', withSetupAndTeardown(function (t) {…}))","date":"2013-08-26T14:51:55.799Z","type":"message"}
{"nick":"dominictarr","message":"and it injects setup...","date":"2013-08-26T14:52:09.923Z","type":"message"}
{"nick":"dominictarr","message":"hmm, teardown is more problematic","date":"2013-08-26T14:52:34.759Z","type":"message"}
{"nick":"dominictarr","message":"… because if the test fails the state could be messy","date":"2013-08-26T14:53:05.354Z","type":"message"}
{"nick":"daleharvey","message":"thats kindoff ok, the setup has to handle the case that the test completely died anyway","date":"2013-08-26T14:54:10.420Z","type":"message"}
{"nick":"daleharvey","message":"but both setup and teardown are async, cant quite see if that will be possible to do and still get proper ordering, but will give it a test","date":"2013-08-26T14:55:49.374Z","type":"message"}
{"nick":"calvinfo","date":"2013-08-26T14:59:54.961Z","type":"join"}
{"nick":"dominictarr","message":"daleharvey: that was what I meant by in order - tape doesn't start the next test until the first is t.end()","date":"2013-08-26T15:00:41.543Z","type":"message"}
{"nick":"dominictarr","message":"\"serially\" i should have said.","date":"2013-08-26T15:00:57.723Z","type":"message"}
{"nick":"evbogue","date":"2013-08-26T15:04:18.639Z","type":"join"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-26T15:07:45.548Z","type":"quit"}
{"nick":"kevino80","date":"2013-08-26T15:09:20.752Z","type":"join"}
{"nick":"shama","date":"2013-08-26T15:14:32.750Z","type":"join"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-26T15:22:08.754Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-08-26T15:23:19.033Z","type":"quit"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T15:26:48.973Z","type":"quit"}
{"nick":"stagas","date":"2013-08-26T15:27:32.042Z","type":"join"}
{"nick":"brianloveswords_","new_nick":"brianloveswords","date":"2013-08-26T15:34:45.593Z","type":"nick"}
{"nick":"thlorenz","date":"2013-08-26T15:43:33.761Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T15:47:26.745Z","type":"quit"}
{"nick":"thlorenz","date":"2013-08-26T15:48:01.320Z","type":"join"}
{"nick":"thlorenz_","date":"2013-08-26T15:50:25.173Z","type":"join"}
{"nick":"thlorenz_","reason":"Remote host closed the connection","date":"2013-08-26T15:50:33.456Z","type":"quit"}
{"nick":"thlorenz","reason":"Read error: Connection reset by peer","date":"2013-08-26T15:50:35.919Z","type":"quit"}
{"nick":"thlorenz","date":"2013-08-26T15:51:08.288Z","type":"join"}
{"nick":"djcoin","reason":"Quit: WeeChat 0.4.0","date":"2013-08-26T15:51:41.095Z","type":"quit"}
{"nick":"coderzach","date":"2013-08-26T15:54:02.536Z","type":"join"}
{"nick":"mcollina","reason":"Read error: Connection reset by peer","date":"2013-08-26T15:59:54.433Z","type":"quit"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-26T16:03:37.956Z","type":"quit"}
{"nick":"calvinfo","date":"2013-08-26T16:12:49.573Z","type":"join"}
{"nick":"fotoverite","date":"2013-08-26T16:15:24.872Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-26T16:18:26.687Z","type":"quit"}
{"nick":"daleharvey","message":"substack / dominictarr any way to catch when a test has ended?","date":"2013-08-26T16:19:54.461Z","type":"message"}
{"nick":"daleharvey","message":"http://pastie.org/8271409","date":"2013-08-26T16:20:14.143Z","type":"message"}
{"nick":"dominictarr","message":"daleharvey: no… you could patch t.end","date":"2013-08-26T16:22:10.472Z","type":"message"}
{"nick":"dominictarr","message":"but not calling t.end is a way to fail","date":"2013-08-26T16:22:25.155Z","type":"message"}
{"nick":"dominictarr","message":"simplest is just to not rely on teardowns at all","date":"2013-08-26T16:22:41.243Z","type":"message"}
{"nick":"dominictarr","message":"what do you need it for?","date":"2013-08-26T16:23:06.258Z","type":"message"}
{"nick":"daleharvey","message":"so I dont fill my browser with test databases (they use randomly generated names)","date":"2013-08-26T16:23:50.003Z","type":"message"}
{"nick":"daleharvey","message":"or the server for that matter","date":"2013-08-26T16:24:47.703Z","type":"message"}
{"nick":"daleharvey","message":"will just switch back to mocha, getting the browserified stuff working nicely was the important bit","date":"2013-08-26T16:25:57.965Z","type":"message"}
{"nick":"mirkokiefer","reason":"Quit: mirkokiefer","date":"2013-08-26T16:26:43.379Z","type":"quit"}
{"nick":"dominictarr","message":"daleharvey: mocha works with drowserify too, anyway","date":"2013-08-26T16:27:03.242Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-26T16:31:19.561Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-26T16:31:22.047Z","type":"quit"}
{"nick":"daleharvey","message":"yeh I started with mocha but its browser version sucks, so this could be best of both worlds","date":"2013-08-26T16:31:27.684Z","type":"message"}
{"nick":"evbogue","reason":"Quit: Lost terminal","date":"2013-08-26T16:32:07.273Z","type":"quit"}
{"nick":"evbogue","date":"2013-08-26T16:32:44.429Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-26T16:40:16.200Z","type":"join"}
{"nick":"evbogue","reason":"Ping timeout: 245 seconds","date":"2013-08-26T16:58:21.619Z","type":"quit"}
{"nick":"dguttman","date":"2013-08-26T16:59:53.533Z","type":"join"}
{"nick":"dguttman","reason":"Client Quit","date":"2013-08-26T17:03:17.079Z","type":"quit"}
{"nick":"kumavis_","date":"2013-08-26T17:04:38.480Z","type":"join"}
{"nick":"mirkokiefer","date":"2013-08-26T17:10:00.192Z","type":"join"}
{"nick":"AvianFlu_","date":"2013-08-26T17:13:16.161Z","type":"join"}
{"nick":"dominictarr","date":"2013-08-26T17:15:57.890Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2013-08-26T17:16:35.925Z","type":"quit"}
{"nick":"Raynos","message":"thlorenz: whats wrong with those repos?","date":"2013-08-26T17:17:00.531Z","type":"message"}
{"nick":"Raynos","message":"rvagg: ping","date":"2013-08-26T17:17:13.090Z","type":"message"}
{"nick":"jxson","date":"2013-08-26T17:24:48.443Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-26T17:31:29.615Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-08-26T17:35:12.232Z","type":"nick"}
{"nick":"Raynos","message":"dominictarr: pong","date":"2013-08-26T17:41:44.884Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: hey whats up?","date":"2013-08-26T17:42:29.387Z","type":"message"}
{"nick":"Raynos","message":"you said hey earleir","date":"2013-08-26T17:42:46.018Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: yes, I wanted to ask your opinion on something","date":"2013-08-26T17:43:07.697Z","type":"message"}
{"nick":"dominictarr","message":"I've been thinking: that frontend frameworks need better abstractions","date":"2013-08-26T17:43:48.589Z","type":"message"}
{"nick":"dominictarr","message":"like, avoid the messy parts of the dob","date":"2013-08-26T17:44:00.665Z","type":"message"}
{"nick":"dominictarr","message":"dom","date":"2013-08-26T17:44:02.181Z","type":"message"}
{"nick":"dominictarr","message":"and abstract out the parts that are universal","date":"2013-08-26T17:44:19.887Z","type":"message"}
{"nick":"st_luke","date":"2013-08-26T17:44:29.873Z","type":"join"}
{"nick":"dominictarr","message":"in particular, use a better point/box model","date":"2013-08-26T17:44:46.705Z","type":"message"}
{"nick":"dominictarr","message":"have been using this https://github.com/tmpvar/vec2.js","date":"2013-08-26T17:45:10.194Z","type":"message"}
{"nick":"dominictarr","message":"and making things like this: http://dominictarr.github.io/vec2-layout/","date":"2013-08-26T17:45:25.875Z","type":"message"}
{"nick":"Raynos","message":"i see","date":"2013-08-26T17:47:17.591Z","type":"message"}
{"nick":"Raynos","message":"i dont understand how layout works","date":"2013-08-26T17:47:22.673Z","type":"message"}
{"nick":"Raynos","message":"i looked at the xample","date":"2013-08-26T17:47:25.694Z","type":"message"}
{"nick":"Raynos","message":"and all I see is layout(elem)","date":"2013-08-26T17:47:29.870Z","type":"message"}
{"nick":"Raynos","message":"and elem.layout(grid || tile)","date":"2013-08-26T17:47:40.849Z","type":"message"}
{"nick":"dominictarr","message":"there is a function that is passed in, that provides the laying out","date":"2013-08-26T17:47:52.389Z","type":"message"}
{"nick":"dominictarr","message":"see tile.js and grid.js","date":"2013-08-26T17:47:58.615Z","type":"message"}
{"nick":"Raynos","message":"I see","date":"2013-08-26T17:48:15.885Z","type":"message"}
{"nick":"Raynos","message":"tile is meant to look like that","date":"2013-08-26T17:48:20.477Z","type":"message"}
{"nick":"dominictarr","message":"I adapted tile from nwm, a tiling window manager for node","date":"2013-08-26T17:48:41.839Z","type":"message"}
{"nick":"dominictarr","message":"(and grid)","date":"2013-08-26T17:48:46.076Z","type":"message"}
{"nick":"Raynos","message":"what is element.set ?","date":"2013-08-26T17:48:52.343Z","type":"message"}
{"nick":"Raynos","message":"https://github.com/dominictarr/vec2-layout/blob/master/tile.js#L16","date":"2013-08-26T17:49:08.588Z","type":"message"}
{"nick":"dominictarr","message":"oh, I should change that name","date":"2013-08-26T17:49:25.882Z","type":"message"}
{"nick":"dominictarr","message":"instead of being passed htmlelements it gets past rec2 (subclass of vec2)","date":"2013-08-26T17:49:52.693Z","type":"message"}
{"nick":"Raynos","message":"I see","date":"2013-08-26T17:49:56.311Z","type":"message"}
{"nick":"dominictarr","message":"that represents the position and dimentions of the element","date":"2013-08-26T17:50:08.265Z","type":"message"}
{"nick":"dominictarr","message":"using absolute positioning.","date":"2013-08-26T17:50:13.586Z","type":"message"}
{"nick":"Raynos","message":"Ok","date":"2013-08-26T17:50:37.805Z","type":"message"}
{"nick":"Raynos","message":"I agree we need better primitives","date":"2013-08-26T17:50:45.384Z","type":"message"}
{"nick":"Raynos","message":"this looks interesting","date":"2013-08-26T17:50:48.450Z","type":"message"}
{"nick":"dominictarr","message":"so - html layout shoudl only be used to layout text","date":"2013-08-26T17:50:52.841Z","type":"message"}
{"nick":"dominictarr","message":"to typeset.","date":"2013-08-26T17:50:58.637Z","type":"message"}
{"nick":"dominictarr","message":"that is what it's designed for","date":"2013-08-26T17:51:04.145Z","type":"message"}
{"nick":"dominictarr","message":"ALSO: vec2 has a .changes(listener)","date":"2013-08-26T17:51:30.096Z","type":"message"}
{"nick":"dominictarr","message":"thing, so you can do FRP with it too","date":"2013-08-26T17:51:45.365Z","type":"message"}
{"nick":"Raynos","message":"cool","date":"2013-08-26T17:52:15.523Z","type":"message"}
{"nick":"dominictarr","message":"but, the specific thing I wanted to ask was this:","date":"2013-08-26T17:53:32.165Z","type":"message"}
{"nick":"dominictarr","message":"I'm adding properties to the elements https://github.com/dominictarr/vec2-layout/blob/master/index.js#L7","date":"2013-08-26T17:53:46.957Z","type":"message"}
{"nick":"dominictarr","message":"but, I was wondering how you would do this?","date":"2013-08-26T17:54:26.710Z","type":"message"}
{"nick":"nicholasf","reason":"Ping timeout: 240 seconds","date":"2013-08-26T18:04:50.317Z","type":"quit"}
{"nick":"nicholas_","date":"2013-08-26T18:04:53.106Z","type":"join"}
{"nick":"mikolalysenko","date":"2013-08-26T18:07:19.821Z","type":"join"}
{"nick":"dguttman","date":"2013-08-26T18:16:25.412Z","type":"join"}
{"nick":"jlord","message":"does anyone here k now about stock??","date":"2013-08-26T18:17:26.130Z","type":"message"}
{"nick":"jlord","message":"ohh wait i thought i was in the other room","date":"2013-08-26T18:17:49.246Z","type":"message"}
{"nick":"jlord","message":"blehh","date":"2013-08-26T18:17:51.474Z","type":"message"}
{"nick":"evbogue","date":"2013-08-26T18:20:01.133Z","type":"join"}
{"nick":"mbalho","message":"you know youre in the bay area when...","date":"2013-08-26T18:21:46.551Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T18:24:15.053Z","type":"quit"}
{"nick":"jxson","date":"2013-08-26T18:25:27.618Z","type":"join"}
{"nick":"mbrevoort","date":"2013-08-26T18:27:18.300Z","type":"join"}
{"nick":"mbrevoort","message":"dominictarr: hi","date":"2013-08-26T18:27:41.174Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: hey, this thing is weird","date":"2013-08-26T18:27:52.727Z","type":"message"}
{"nick":"mbrevoort","message":"yeah :)","date":"2013-08-26T18:28:02.566Z","type":"message"}
{"nick":"dominictarr","message":"so, how is the server's message getting mixed into the client's message?","date":"2013-08-26T18:29:25.782Z","type":"message"}
{"nick":"dominictarr","message":"is it the server or the client that emits the error?","date":"2013-08-26T18:30:29.300Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: what do the colors mean?","date":"2013-08-26T18:30:49.950Z","type":"message"}
{"nick":"mbrevoort","message":"I'm not sure, but what the server is sending seems to be getting emitted into or echodd (or something) into the scuttlebutt stream that the server is reading. For example, here's that latter bit of what is JSON parsed...","date":"2013-08-26T18:31:18.188Z","type":"message"}
{"nick":"substack","message":"daleharvey: t.on('end', fn) and test().on('end', fn) both work","date":"2013-08-26T18:31:24.748Z","type":"message"}
{"nick":"mbrevoort","message":"https://s3.amazonaws.com/uploads.hipchat.com/20895/99444/clg3v6hqxqex7do/Screen+Shot+2013-08-26+at+12.28.54+PM.png","date":"2013-08-26T18:31:52.846Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: so the red is data in the tcp stream coming from the \"client\" and the blue is data being sent from the \"server\"","date":"2013-08-26T18:32:32.519Z","type":"message"}
{"nick":"dominictarr","message":"and who is throwing?","date":"2013-08-26T18:32:51.950Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: on the server, the stream-serializer is getting the 1st packet plus the packet in blue that he sent and trying to JSON parse that","date":"2013-08-26T18:33:48.593Z","type":"message"}
{"nick":"dominictarr","message":"do you have a stacktrace?","date":"2013-08-26T18:34:14.706Z","type":"message"}
{"nick":"dominictarr","message":"also, does this happen every time?","date":"2013-08-26T18:34:41.675Z","type":"message"}
{"nick":"thlorenz","message":"Raynos: the npm packages are missing repo urls","date":"2013-08-26T18:34:45.458Z","type":"message"}
{"nick":"dominictarr","message":"or only sometimes?","date":"2013-08-26T18:34:47.081Z","type":"message"}
{"nick":"thlorenz","message":"I need some stream help - been banging my head against the wall for over an hour now: https://github.com/thlorenz/browserify-dedupe/blob/master/index.js#L33-L37","date":"2013-08-26T18:35:13.935Z","type":"message"}
{"nick":"thlorenz","message":"the comments explain what my problem is, maybe dominictarr you know what is going on here?","date":"2013-08-26T18:35:39.215Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: not for this specific case (from screenshots) but all look like this: https://gist.github.com/mbrevoort/6344896","date":"2013-08-26T18:35:49.368Z","type":"message"}
{"nick":"dominictarr","message":"what node version?","date":"2013-08-26T18:36:22.427Z","type":"message"}
{"nick":"dominictarr","message":"thlorenz: this problem is urgent. will look at yours in a bit","date":"2013-08-26T18:36:52.972Z","type":"message"}
{"nick":"thlorenz","message":"ok thanks np","date":"2013-08-26T18:37:00.615Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: no not happening everytime. Node 0.10.16","date":"2013-08-26T18:37:18.167Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: how oftenL","date":"2013-08-26T18:37:36.987Z","type":"message"}
{"nick":"dominictarr","message":"L","date":"2013-08-26T18:37:37.900Z","type":"message"}
{"nick":"dominictarr","message":"?","date":"2013-08-26T18:37:39.324Z","type":"message"}
{"nick":"mbrevoort","message":"right now it's happening very often  :(","date":"2013-08-26T18:38:08.471Z","type":"message"}
{"nick":"dominictarr","message":"how many instances are there?","date":"2013-08-26T18:38:25.452Z","type":"message"}
{"nick":"mbrevoort","message":"seaport wasn't handling the error on the stream and it's causing the server process to exit","date":"2013-08-26T18:38:56.368Z","type":"message"}
{"nick":"dominictarr","message":"does it restart it automatically?","date":"2013-08-26T18:39:37.790Z","type":"message"}
{"nick":"dominictarr","message":"also: how does seaport persist it?","date":"2013-08-26T18:39:59.912Z","type":"message"}
{"nick":"mbrevoort","message":"So there's a lot of orphaned data that's accumulating every time it throws and restarts and it's not getting a chance to clean itself up, meanwhile all of the clients are just trying to sync all of the bad data back to the server","date":"2013-08-26T18:40:07.737Z","type":"message"}
{"nick":"mbrevoort","message":"upstart restarts the process... seaport doesn't persist it to disk, only in memory","date":"2013-08-26T18:40:37.435Z","type":"message"}
{"nick":"dominictarr","message":"hmm… oh, okay.","date":"2013-08-26T18:40:47.097Z","type":"message"}
{"nick":"mbrevoort","message":"So it has to resync everything","date":"2013-08-26T18:40:51.613Z","type":"message"}
{"nick":"dominictarr","message":"hmm. okay… okay, one thing that should work… although it's a hack would be to disable the vector clocks","date":"2013-08-26T18:41:31.564Z","type":"message"}
{"nick":"dominictarr","message":"when it connects it would just send everything","date":"2013-08-26T18:41:43.015Z","type":"message"}
{"nick":"mbrevoort","message":"so luckily this is not happening in production at the moment, but in a test environment with about 100 instances...  hehe I would have to do that to all of the instances","date":"2013-08-26T18:43:36.100Z","type":"message"}
{"nick":"mbrevoort","message":"but I've got it in this crazy state where it's spinning out of control, trying to not lose to opportunity to root out what's going on in a scenario that may be hard to reproduce","date":"2013-08-26T18:44:47.724Z","type":"message"}
{"nick":"dominictarr","message":"okay, cool","date":"2013-08-26T18:45:15.500Z","type":"message"}
{"nick":"dominictarr","message":"are you using the sendClock?","date":"2013-08-26T18:45:26.015Z","type":"message"}
{"nick":"dominictarr","message":"option?","date":"2013-08-26T18:45:30.315Z","type":"message"}
{"nick":"mbrevoort","message":"no, but both are writable streams - I thought that only applied to just readable streams... ?","date":"2013-08-26T18:47:04.433Z","type":"message"}
{"nick":"mbrevoort","message":"any idea how the streams could be getting crossed? http://longboxgraveyard.files.wordpress.com/2011/11/371-dont-cross-the-streams.jpg","date":"2013-08-26T18:47:46.335Z","type":"message"}
{"nick":"dominictarr","message":"indeed. that is just what I'm trying to figure out","date":"2013-08-26T18:48:26.983Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T18:48:52.513Z","type":"quit"}
{"nick":"jxson","date":"2013-08-26T18:49:31.533Z","type":"join"}
{"nick":"dominictarr","message":"mbrevoort: are you using stock seaport? or a modified seaport?","date":"2013-08-26T18:50:51.045Z","type":"message"}
{"nick":"jxson","reason":"Read error: No route to host","date":"2013-08-26T18:51:02.401Z","type":"quit"}
{"nick":"kumavis_","reason":"Quit: kumavis_","date":"2013-08-26T18:51:09.381Z","type":"quit"}
{"nick":"mbrevoort","message":"dominictarr: no, it's stock... the latest","date":"2013-08-26T18:51:20.642Z","type":"message"}
{"nick":"jxson","date":"2013-08-26T18:51:29.682Z","type":"join"}
{"nick":"evbogue","reason":"Quit: Lost terminal","date":"2013-08-26T18:51:44.845Z","type":"quit"}
{"nick":"mbrevoort","message":"besides my own layer, nothing's forked at this point","date":"2013-08-26T18:51:45.969Z","type":"message"}
{"nick":"dominictarr","message":"aha, okay","date":"2013-08-26T18:51:59.309Z","type":"message"}
{"nick":"kumavis_","date":"2013-08-26T18:53:28.622Z","type":"join"}
{"nick":"dominictarr","message":"https://github.com/substack/seaport/blame/master/lib/seaport.js#L190-L194","date":"2013-08-26T18:53:42.257Z","type":"message"}
{"nick":"dominictarr","message":"this is weird","date":"2013-08-26T18:53:44.488Z","type":"message"}
{"nick":"dominictarr","message":"this will break pausing i think","date":"2013-08-26T18:54:23.755Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-26T18:54:45.444Z","type":"nick"}
{"nick":"dominictarr","message":"yeah, I think this is about backpressure.","date":"2013-08-26T18:56:06.293Z","type":"message"}
{"nick":"mbrevoort","message":"interesting","date":"2013-08-26T18:56:33.382Z","type":"message"}
{"nick":"dominictarr","message":"although… not sure how that gets the packets mixed up","date":"2013-08-26T18:57:55.657Z","type":"message"}
{"nick":"dominictarr","message":"that code is definately out of order.","date":"2013-08-26T18:58:04.795Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: what level of emergency is this for you right now?","date":"2013-08-26T18:59:01.683Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: not affecting production, though I'm blocked until I work through this or do something drastic - mediumish","date":"2013-08-26T19:00:26.888Z","type":"message"}
{"nick":"dominictarr","message":"okay, cool.","date":"2013-08-26T19:00:37.451Z","type":"message"}
{"nick":"dominictarr","message":"so, lets fix this the right way.","date":"2013-08-26T19:01:02.671Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: thank you :) you're amazing","date":"2013-08-26T19:01:35.827Z","type":"message"}
{"nick":"dominictarr","message":"okay, so, this line https://github.com/substack/seaport/blame/master/lib/seaport.js#L191","date":"2013-08-26T19:02:25.613Z","type":"message"}
{"nick":"mbrevoort","message":"So what about that code would break pausing (still wrap my brain in knots sometimes with streams)","date":"2013-08-26T19:02:26.733Z","type":"message"}
{"nick":"dominictarr","message":"^ the way that s and tr are coupled together","date":"2013-08-26T19:02:53.001Z","type":"message"}
{"nick":"evbogue","date":"2013-08-26T19:03:03.159Z","type":"join"}
{"nick":"mbrevoort","message":"binding to those events yet still piped?","date":"2013-08-26T19:04:33.837Z","type":"message"}
{"nick":"dominictarr","message":"yeah.","date":"2013-08-26T19:04:44.930Z","type":"message"}
{"nick":"dominictarr","message":"when s emits data gets written to tr","date":"2013-08-26T19:05:08.236Z","type":"message"}
{"nick":"mbrevoort","message":"oh, it's just piped one way and then selectively binding to events the other way?","date":"2013-08-26T19:05:25.753Z","type":"message"}
{"nick":"dominictarr","message":"and then look at tr = through(write)","date":"2013-08-26T19:05:27.620Z","type":"message"}
{"nick":"dominictarr","message":"write (data) { s.write(data) /* !!! */ }","date":"2013-08-26T19:05:49.935Z","type":"message"}
{"nick":"dominictarr","message":"when s emits data… it's gonna get written back to s!","date":"2013-08-26T19:06:57.591Z","type":"message"}
{"nick":"dominictarr","message":"so, if s has recieved half a message… and then it emits a message","date":"2013-08-26T19:07:18.978Z","type":"message"}
{"nick":"dominictarr","message":"bamm!","date":"2013-08-26T19:07:25.276Z","type":"message"}
{"nick":"dominictarr","message":"it's interrupted you by talking to it self!","date":"2013-08-26T19:07:54.152Z","type":"message"}
{"nick":"dominictarr","message":"I'm gonna contruct a test case to check...","date":"2013-08-26T19:08:56.453Z","type":"message"}
{"nick":"mbrevoort","message":"but does that explain why the message written by the \"server\" gets wrote back to the client's stream?","date":"2013-08-26T19:10:01.436Z","type":"message"}
{"nick":"mbrevoort","message":"oh","date":"2013-08-26T19:10:19.829Z","type":"message"}
{"nick":"mbrevoort","message":"yeah, I can sort of see how that can happen... let me write out some debug and try to validate too","date":"2013-08-26T19:11:05.538Z","type":"message"}
{"nick":"Raynos","message":"thlorenz: yeah those packages suck anyway :p","date":"2013-08-26T19:11:32.616Z","type":"message"}
{"nick":"thlorenz","message":":)","date":"2013-08-26T19:11:51.370Z","type":"message"}
{"nick":"dominictarr","message":"so, when a large packet comes in, it gets one bit and then another","date":"2013-08-26T19:14:26.380Z","type":"message"}
{"nick":"dominictarr","message":"so part could be sitting in the buffer when the second write is called","date":"2013-08-26T19:14:39.965Z","type":"message"}
{"nick":"mbrevoort","message":"the 1st part is sitting in the buffer when the extraneous message comes through","date":"2013-08-26T19:15:21.368Z","type":"message"}
{"nick":"dominictarr","message":"yeah","date":"2013-08-26T19:16:21.115Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 276 seconds","date":"2013-08-26T19:16:48.671Z","type":"quit"}
{"nick":"dominictarr","message":"because the client connects and sends the first message","date":"2013-08-26T19:16:51.360Z","type":"message"}
{"nick":"dominictarr","message":"(the first packet is always from client… see tcp state diagram)","date":"2013-08-26T19:17:11.683Z","type":"message"}
{"nick":"dominictarr","message":"so, on a new connection I can see that there would be a message sitting there..","date":"2013-08-26T19:18:04.747Z","type":"message"}
{"nick":"dominictarr","message":"and since it's a large packet, it's gonna wait for a packet from the server to send a packet back","date":"2013-08-26T19:18:28.551Z","type":"message"}
{"nick":"dominictarr","message":"now, this stream is in {writable: false} correct?","date":"2013-08-26T19:18:48.851Z","type":"message"}
{"nick":"mbrevoort","message":"no, it is writable","date":"2013-08-26T19:19:30.950Z","type":"message"}
{"nick":"dominictarr","message":"{writable: true}","date":"2013-08-26T19:20:03.672Z","type":"message"}
{"nick":"dominictarr","message":"or seaport.createWritableStream()","date":"2013-08-26T19:20:18.027Z","type":"message"}
{"nick":"mbrevoort","message":"I thought it was writable by default?","date":"2013-08-26T19:20:58.278Z","type":"message"}
{"nick":"mbrevoort","message":"no?","date":"2013-08-26T19:20:59.400Z","type":"message"}
{"nick":"dominictarr","message":"it's duplex by default","date":"2013-08-26T19:21:06.255Z","type":"message"}
{"nick":"dominictarr","message":"I'm just checking because I remember you posted an issue on this a few months ago","date":"2013-08-26T19:21:25.661Z","type":"message"}
{"nick":"mbrevoort","message":"yeah, that was for another somewhat related CRDT use","date":"2013-08-26T19:21:54.266Z","type":"message"}
{"nick":"dominictarr","message":"okay, cool","date":"2013-08-26T19:22:07.584Z","type":"message"}
{"nick":"mbrevoort","message":"however I am considering this too: https://github.com/substack/seaport/issues/38","date":"2013-08-26T19:22:27.087Z","type":"message"}
{"nick":"dominictarr","message":"you could certainly have a feature that filtered the Docs that a particular client is interested in","date":"2013-08-26T19:23:47.417Z","type":"message"}
{"nick":"dominictarr","message":"if you are using it with a centralized server","date":"2013-08-26T19:23:59.503Z","type":"message"}
{"nick":"mbrevoort","message":"centralized servers that could be peered","date":"2013-08-26T19:24:27.152Z","type":"message"}
{"nick":"dominictarr","message":"okay… I think this is combining with a scuttlebutt bug too","date":"2013-08-26T19:26:43.094Z","type":"message"}
{"nick":"dominictarr","message":"because writing back the message isn't enough to explain it","date":"2013-08-26T19:27:16.526Z","type":"message"}
{"nick":"dominictarr","message":"the other problem is here: https://github.com/dominictarr/scuttlebutt/blob/master/index.js#L219","date":"2013-08-26T19:27:27.813Z","type":"message"}
{"nick":"dominictarr","message":"the internat update listener is being registered before data is sent","date":"2013-08-26T19:27:47.187Z","type":"message"}
{"nick":"dominictarr","message":"so there is a race condition, if an update happens before the first client clock is recieved.","date":"2013-08-26T19:28:22.785Z","type":"message"}
{"nick":"dominictarr","message":"which would normally never happen, unless the first packet is split!","date":"2013-08-26T19:28:38.076Z","type":"message"}
{"nick":"mbrevoort","message":"wow","date":"2013-08-26T19:28:49.231Z","type":"message"}
{"nick":"dominictarr","message":"wonder when that was introduced","date":"2013-08-26T19:29:28.210Z","type":"message"}
{"nick":"dominictarr","message":"hmm, looks like it's always been there","date":"2013-08-26T19:31:19.884Z","type":"message"}
{"nick":"dominictarr","message":"anyway, it should only register the update listener after it's sent the history","date":"2013-08-26T19:31:57.035Z","type":"message"}
{"nick":"dominictarr","message":"okay, I've got a patch to seaport that passes the tests, I'll fix this in scuttlebutt too, and put a PR into seaport.","date":"2013-08-26T19:33:08.035Z","type":"message"}
{"nick":"dominictarr","message":"substack should be waking up shortly :) and he'll be able to merge it","date":"2013-08-26T19:33:25.063Z","type":"message"}
{"nick":"mbrevoort","message":"hehe - does that explain the entire issue?","date":"2013-08-26T19:34:00.356Z","type":"message"}
{"nick":"mbrevoort","message":"let's say it's not the client clock message but a really large update that's split","date":"2013-08-26T19:34:25.714Z","type":"message"}
{"nick":"mbrevoort","message":"should it not write into the middle of a message that's being received?","date":"2013-08-26T19:35:14.806Z","type":"message"}
{"nick":"jesusabdullah","message":"What's all this?","date":"2013-08-26T19:36:59.701Z","type":"message"}
{"nick":"mbrevoort","message":"jesusabdullah: related to this: https://github.com/dominictarr/scuttlebutt/issues/27","date":"2013-08-26T19:37:50.250Z","type":"message"}
{"nick":"jesusabdullah","message":"aha","date":"2013-08-26T19:38:05.487Z","type":"message"}
{"nick":"jesusabdullah","message":"whatcha usin' scuttlebutt for?","date":"2013-08-26T19:39:09.719Z","type":"message"}
{"nick":"mbrevoort","message":"currently using seaport -> CRDT -> Scuttlebutt to register apps and dynamically configure haproxy instances... also now to stream haproxy config and status... and to peer proxies (commute on that config)","date":"2013-08-26T19:41:06.169Z","type":"message"}
{"nick":"mbrevoort","message":"and all that mux'd streaming to the browser to visualize","date":"2013-08-26T19:41:48.424Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: well, the streams getting crossed was caused by the problem is seaport","date":"2013-08-26T19:41:59.464Z","type":"message"}
{"nick":"dominictarr","message":"but also, there was a message out of order","date":"2013-08-26T19:42:10.615Z","type":"message"}
{"nick":"dominictarr","message":"normally, the server doesn't send any messages until it's recieved a handshake","date":"2013-08-26T19:42:57.412Z","type":"message"}
{"nick":"mbrevoort","message":"ah, OK. I'll wait to see your PR on seaport.","date":"2013-08-26T19:43:20.962Z","type":"message"}
{"nick":"dominictarr","message":"so it was very strange that it was writing a message at that pont anyway.","date":"2013-08-26T19:43:24.651Z","type":"message"}
{"nick":"mbrevoort","message":"the server does register back on itself which would happen almost immediately","date":"2013-08-26T19:43:57.808Z","type":"message"}
{"nick":"dominictarr","message":"hmm, that -- or the fact that the server sends it's own clock to it self","date":"2013-08-26T19:44:55.543Z","type":"message"}
{"nick":"dominictarr","message":"which then makes it think it's time to get started","date":"2013-08-26T19:45:04.736Z","type":"message"}
{"nick":"mbrevoort","message":"hmmm let me look. I think the server connects to itself as a client which means it has two copies of the document. obviously not the most efficient thing but it just uses that same client library... might be something there though","date":"2013-08-26T19:47:42.510Z","type":"message"}
{"nick":"nicholas_","reason":"Read error: Connection reset by peer","date":"2013-08-26T19:48:40.402Z","type":"quit"}
{"nick":"nicholasf","date":"2013-08-26T19:49:04.636Z","type":"join"}
{"nick":"kumavis_","reason":"Quit: kumavis_","date":"2013-08-26T19:51:38.160Z","type":"quit"}
{"nick":"mbrevoort","message":"dominictarr: yeah, the server connects back on itself over tcp currently so the two docs should be distinct but that will happen immediately at startup while other remote clients are connecting","date":"2013-08-26T19:53:33.637Z","type":"message"}
{"nick":"mbrevoort","message":"seaport doesn't expose a way to do it so that was just cleaner and more consistent for now","date":"2013-08-26T19:54:18.763Z","type":"message"}
{"nick":"substack","message":"beep boop","date":"2013-08-26T20:06:22.184Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: substack  Domenic_ isaacs what does a stream2 do when if the source emits close prematurely?","date":"2013-08-26T20:14:30.225Z","type":"message"}
{"nick":"dominictarr","message":"I remember it doesn't call destroy like a streams1 does","date":"2013-08-26T20:14:47.613Z","type":"message"}
{"nick":"Domenic_","message":"dominictarr: no real idea but https://github.com/joyent/node/blob/master/lib/_stream_readable.js#L562-L565","date":"2013-08-26T20:17:53.070Z","type":"message"}
{"nick":"dominictarr","message":"oh! destroy() will get called, because it will be stream1.pipe(stream2)","date":"2013-08-26T20:18:36.004Z","type":"message"}
{"nick":"dominictarr","message":"so it will get called by stream1","date":"2013-08-26T20:18:45.486Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T20:20:58.682Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-26T20:22:01.534Z","type":"quit"}
{"nick":"jxson","date":"2013-08-26T20:23:43.613Z","type":"join"}
{"nick":"st_luke","date":"2013-08-26T20:24:03.252Z","type":"join"}
{"nick":"dominictarr","message":"substack: mbrevoort https://github.com/substack/seaport/pull/41","date":"2013-08-26T20:24:23.737Z","type":"message"}
{"nick":"dominictarr","message":"oh no! node just official became uncool! https://www.ibm.com/developerworks/mobile/library/mo-nodejs-1/","date":"2013-08-26T20:27:01.588Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: AWESOME - I'll try this ASAP  --- THANK YOU!","date":"2013-08-26T20:28:11.443Z","type":"message"}
{"nick":"mikolalysenko","reason":"Ping timeout: 268 seconds","date":"2013-08-26T20:28:20.108Z","type":"quit"}
{"nick":"st_luke","message":"dominictarr: thank science","date":"2013-08-26T20:28:35.921Z","type":"message"}
{"nick":"st_luke","message":"I hope it becomes as uncool as humanly possible","date":"2013-08-26T20:28:41.176Z","type":"message"}
{"nick":"dominictarr","message":"st_luke: hmm, maybe we need IMB to sponsor node.js themed crocs?","date":"2013-08-26T20:30:06.847Z","type":"message"}
{"nick":"substack","message":"mbrevoort: pushlished in 1.5.3","date":"2013-08-26T20:30:10.369Z","type":"message"}
{"nick":"st_luke","message":"dominictarr: crocks are too far","date":"2013-08-26T20:30:21.924Z","type":"message"}
{"nick":"st_luke","message":"there's a difference between cool and sad","date":"2013-08-26T20:30:34.501Z","type":"message"}
{"nick":"substack","message":"IBM EXTREME BLUE TEAM, GO","date":"2013-08-26T20:30:46.993Z","type":"message"}
{"nick":"LOUDBOT","message":"YES I CAN SEE WHERE THIS IS HEADED. IT'S HEADED TO A POINT WHERE THE PRINTED COCKS GET HEAD.","date":"2013-08-26T20:30:47.319Z","type":"message"}
{"nick":"dominictarr","message":"right just calibrating my scale","date":"2013-08-26T20:30:56.951Z","type":"message"}
{"nick":"dominictarr","message":"what defines 0 cool to st_luke ?","date":"2013-08-26T20:31:08.607Z","type":"message"}
{"nick":"mbrevoort","message":"substack: thanks!","date":"2013-08-26T20:31:21.546Z","type":"message"}
{"nick":"substack","message":"and they're using mongodb because webscale","date":"2013-08-26T20:31:41.479Z","type":"message"}
{"nick":"substack","message":"good to see","date":"2013-08-26T20:31:44.645Z","type":"message"}
{"nick":"st_luke","message":"dominictarr: non handicapped people who park in handicapped parking spaces","date":"2013-08-26T20:31:45.335Z","type":"message"}
{"nick":"dominictarr","message":"I'd class that more as an \"asshole\"","date":"2013-08-26T20:32:38.951Z","type":"message"}
{"nick":"substack","message":"hah DB2!","date":"2013-08-26T20:33:06.847Z","type":"message"}
{"nick":"substack","message":"my mom learned DB2 in the 80s","date":"2013-08-26T20:33:22.941Z","type":"message"}
{"nick":"substack","message":"there's still an old book lying around my parent's house about it","date":"2013-08-26T20:33:42.722Z","type":"message"}
{"nick":"mbrevoort","message":"w/ cobol?","date":"2013-08-26T20:33:48.267Z","type":"message"}
{"nick":"mk30_","date":"2013-08-26T20:36:39.276Z","type":"join"}
{"nick":"substack","message":"\"This concept is referred to as JavaScript Everywhere\"","date":"2013-08-26T20:36:43.524Z","type":"message"}
{"nick":"substack","message":"[citation needed]","date":"2013-08-26T20:37:24.621Z","type":"message"}
{"nick":"dominictarr","message":"40% less time to build that java","date":"2013-08-26T20:37:55.220Z","type":"message"}
{"nick":"dominictarr","message":"and I'm assuming that they probably wrote pretty java like code","date":"2013-08-26T20:38:11.136Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T20:43:23.213Z","type":"quit"}
{"nick":"kumavis_","date":"2013-08-26T20:43:58.521Z","type":"join"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-26T20:49:17.722Z","type":"quit"}
{"nick":"coderzach","date":"2013-08-26T20:49:34.757Z","type":"part"}
{"nick":"mikolalysenko","date":"2013-08-26T20:50:19.145Z","type":"join"}
{"nick":"st_luke","message":"Domenic_: lots of issues opened lately where the issue belongs somewhere else","date":"2013-08-26T20:56:52.419Z","type":"message"}
{"nick":"st_luke","message":"by lots i guess i mean more than usual","date":"2013-08-26T20:57:08.649Z","type":"message"}
{"nick":"Domenic_","message":"st_luke: yeah..","date":"2013-08-26T20:57:24.546Z","type":"message"}
{"nick":"juliangruber","message":"how can I find out what keeps the event loop from quitting?","date":"2013-08-26T21:01:08.770Z","type":"message"}
{"nick":"robertkowalski","message":"hey","date":"2013-08-26T21:01:33.303Z","type":"message"}
{"nick":"robertkowalski","message":"st_luke: maybe we can tweak something on the error messages again?","date":"2013-08-26T21:02:22.816Z","type":"message"}
{"nick":"shama","reason":"Read error: Connection reset by peer","date":"2013-08-26T21:04:09.653Z","type":"quit"}
{"nick":"shama","date":"2013-08-26T21:04:33.290Z","type":"join"}
{"nick":"robertkowalski","message":"isaacs, Domenic_, st_luke seems like forbes lindesay has finished large parts of npm-fetch yesterday night, so we can replace large parts of the cache.js with it ( https://github.com/ForbesLindesay/npm-fetch )","date":"2013-08-26T21:06:56.623Z","type":"message"}
{"nick":"Domenic_","message":":D","date":"2013-08-26T21:07:08.060Z","type":"message"}
{"nick":"Guest55119","new_nick":"jden","date":"2013-08-26T21:07:40.355Z","type":"nick"}
{"nick":"isaacs","message":"robertkowalski: bajtos is working on strong-caching-http-client which might be useful here, as well.","date":"2013-08-26T21:08:06.045Z","type":"message"}
{"nick":"calvinfo","date":"2013-08-26T21:10:05.216Z","type":"join"}
{"nick":"dominictarr","message":"mbrevoort: did that work?","date":"2013-08-26T21:10:42.877Z","type":"message"}
{"nick":"isaacs","message":"robertkowalski: it looks like npm-fetch does not do caching?","date":"2013-08-26T21:11:19.255Z","type":"message"}
{"nick":"robertkowalski","message":"isaacs: nope - it just returns streams that you could pipe into a cache","date":"2013-08-26T21:12:08.687Z","type":"message"}
{"nick":"robertkowalski","message":"or through","date":"2013-08-26T21:12:19.079Z","type":"message"}
{"nick":"isaacs","message":"gotcha..","date":"2013-08-26T21:12:45.053Z","type":"message"}
{"nick":"isaacs","message":"well, that's not quite ideal, then","date":"2013-08-26T21:12:58.762Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: YES - just finish testing it and it's a resounding success :)","date":"2013-08-26T21:13:06.029Z","type":"message"}
{"nick":"isaacs","message":"i mean, i'd want the http layer to just do caching transparently","date":"2013-08-26T21:13:14.787Z","type":"message"}
{"nick":"mbrevoort","message":"dominictarr: thanks again! I definitely owe you some beer(s)","date":"2013-08-26T21:13:40.082Z","type":"message"}
{"nick":"dominictarr","message":"haha, I'll be at realtimeconf in october!","date":"2013-08-26T21:14:06.464Z","type":"message"}
{"nick":"jxson","date":"2013-08-26T21:14:30.516Z","type":"join"}
{"nick":"mbrevoort","message":"grrr not making it again this year though I will be at LXJS :)","date":"2013-08-26T21:15:24.904Z","type":"message"}
{"nick":"jesusabdullah","message":"heh","date":"2013-08-26T21:15:36.181Z","type":"message"}
{"nick":"jesusabdullah","message":"I think I'm-a fork over the dough for cascadiajs if my talk doesn't get accepted","date":"2013-08-26T21:17:04.941Z","type":"message"}
{"nick":"juliangruber","message":"substack: having problems killing a `npm start` process, the raw `node bin/...` works well. I think you had the same problem with ploy, didn't you?","date":"2013-08-26T21:18:39.146Z","type":"message"}
{"nick":"dominictarr","message":"mbrevoort: aha cool, see you then!","date":"2013-08-26T21:19:52.332Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-08-26T21:20:14.754Z","type":"join"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-08-26T21:20:28.560Z","type":"quit"}
{"nick":"robertkowalski","message":"isaacs: for details see https://github.com/ForbesLindesay/npm-fetch/issues/24 but i think transparent caching could be added later on without problems.","date":"2013-08-26T21:22:05.083Z","type":"message"}
{"nick":"substack","message":"juliangruber: yes, `npm start` traps a bunch of signals","date":"2013-08-26T21:22:56.604Z","type":"message"}
{"nick":"st_luke","message":"robertkowalski: what were you thinking about tweaking on the error messages?","date":"2013-08-26T21:23:12.320Z","type":"message"}
{"nick":"isaacs","message":"robertkowalski: well, all it would take is for npm-fetch to allow a configurable http agent to use","date":"2013-08-26T21:23:16.935Z","type":"message"}
{"nick":"substack","message":"juliangruber: just don't use it if you're going to run `npm start` from a script","date":"2013-08-26T21:23:17.603Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 246 seconds","date":"2013-08-26T21:23:26.052Z","type":"quit"}
{"nick":"robertkowalski","message":"i would liked to have something like a strategy-cache but that would not be transparent.","date":"2013-08-26T21:23:38.527Z","type":"message"}
{"nick":"jxson","reason":"Ping timeout: 256 seconds","date":"2013-08-26T21:24:00.298Z","type":"quit"}
{"nick":"evbogue","message":" /connect irc.efnet.org","date":"2013-08-26T21:25:27.582Z","type":"message"}
{"nick":"evbogue","message":"partyfoul","date":"2013-08-26T21:25:38.985Z","type":"message"}
{"nick":"mbalho","message":"evbogue: theres a little star pizza on grand ave in oakland called 'the star'","date":"2013-08-26T21:26:27.279Z","type":"message"}
{"nick":"coderzach","date":"2013-08-26T21:27:17.935Z","type":"join"}
{"nick":"robertkowalski","message":"isaacs: i'll open an issue with your feedback.","date":"2013-08-26T21:28:48.096Z","type":"message"}
{"nick":"robertkowalski","message":"st_luke: just a thought without knowing the exact issues. thought about something like the error messages for a \"missing git\" or \"bad network\"","date":"2013-08-26T21:29:55.472Z","type":"message"}
{"nick":"evbogue","message":"mbalho: cool!","date":"2013-08-26T21:30:15.633Z","type":"message"}
{"nick":"juliangruber","message":"substack: ok, got it!","date":"2013-08-26T21:30:32.219Z","type":"message"}
{"nick":"Domenic_","message":"isaacs: robertkowalski: I never understood the desire to couple caching to npm fetch. it seems like what got us into this problem in the first place. On the other hand, the transparently-caching agent idea is an interesting one.","date":"2013-08-26T21:31:07.852Z","type":"message"}
{"nick":"Ralt_","new_nick":"Ralt","date":"2013-08-26T21:34:15.410Z","type":"nick"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-26T21:37:16.218Z","type":"quit"}
{"nick":"isaacs","message":"Domenic_: yeah, another thing is that it has to support tunneling https-over-http","date":"2013-08-26T21:37:38.496Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: so, the strong-caching-omg-this-name-srsly-wow","date":"2013-08-26T21:37:53.017Z","type":"message"}
{"nick":"isaacs","message":"that thing","date":"2013-08-26T21:37:53.228Z","type":"message"}
{"nick":"isaacs","message":"it has to be able to use a tunneling-agent module as well, to support proxying","date":"2013-08-26T21:38:06.182Z","type":"message"}
{"nick":"isaacs","message":"but really, that's all that the npm http agent needs to do","date":"2013-08-26T21:38:16.457Z","type":"message"}
{"nick":"isaacs","message":"requests need to be transparently cached, and that caching has to be not registry-specific, and it has to be proxy-savvy","date":"2013-08-26T21:38:35.806Z","type":"message"}
{"nick":"Domenic_","message":"isaacs: yeah I guess if it's as decoupled as \"plugin in a tunnelling-plus-caching agent,\" that's a really nice place to be.","date":"2013-08-26T21:38:45.630Z","type":"message"}
{"nick":"isaacs","message":"and really, i think that's a worthwhile module *in general*","date":"2013-08-26T21:38:48.637Z","type":"message"}
{"nick":"isaacs","message":"then npm-fetch can just have a way to say \"Use this here agent thingie\"","date":"2013-08-26T21:39:12.734Z","type":"message"}
{"nick":"isaacs","message":"and or build on top of it, whatever.","date":"2013-08-26T21:39:21.726Z","type":"message"}
{"nick":"Domenic_","message":"or even better something like `{ agent: require(\"tunnel-agent\")(require(\"cache-agent\")(http.DefaultAgent))) }`","date":"2013-08-26T21:39:31.086Z","type":"message"}
{"nick":"Domenic_","message":"that feels dangerously optimistic though","date":"2013-08-26T21:40:02.131Z","type":"message"}
{"nick":"dguttman","date":"2013-08-26T21:40:22.547Z","type":"join"}
{"nick":"Raynos","message":"what would a caching agent look like?","date":"2013-08-26T21:41:46.064Z","type":"message"}
{"nick":"defunctzombie","message":"substack: I am gonna see how your latest stuff with md5 impacts the external patch so we can respond to that pull request","date":"2013-08-26T21:42:04.902Z","type":"message"}
{"nick":"jcrugzz_","date":"2013-08-26T21:43:18.706Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 264 seconds","date":"2013-08-26T21:46:07.029Z","type":"quit"}
{"nick":"jxson","date":"2013-08-26T21:48:40.344Z","type":"join"}
{"nick":"robertkowalski","message":"at least i can say npm-fetch should not know about the implementation of the cache and types of caches should be interchangable.","date":"2013-08-26T21:49:32.294Z","type":"message"}
{"nick":"robertkowalski","message":"have to leave now. timezones suck.","date":"2013-08-26T21:50:18.035Z","type":"message"}
{"nick":"nicholasf","reason":"Remote host closed the connection","date":"2013-08-26T21:51:24.158Z","type":"quit"}
{"nick":"jcrugzz_","new_nick":"jcrugzz","date":"2013-08-26T21:51:33.157Z","type":"nick"}
{"nick":"st_luke","message":"isaacs: NaN in JS is the best analogy to gender","date":"2013-08-26T22:00:58.004Z","type":"message"}
{"nick":"st_luke","message":"assert(NaN !== NaN)","date":"2013-08-26T22:01:14.093Z","type":"message"}
{"nick":"isaacs","message":"robertkowalski: we ought to get you over to us/pacific, where all programmers belong","date":"2013-08-26T22:03:30.965Z","type":"message"}
{"nick":"isaacs","message":"robertkowalski: ;)","date":"2013-08-26T22:03:35.978Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-26T22:03:45.905Z","type":"quit"}
{"nick":"soldair","date":"2013-08-26T22:04:56.784Z","type":"join"}
{"nick":"isaacs","message":"creationix: > true > false","date":"2013-08-26T22:05:50.277Z","type":"message"}
{"nick":"isaacs","message":"true","date":"2013-08-26T22:05:50.866Z","type":"message"}
{"nick":"isaacs","message":"creationix: booleans don't hold the !(a>b)&&!(b>a)&&!(a==b)","date":"2013-08-26T22:06:13.336Z","type":"message"}
{"nick":"isaacs","message":"creationix: only NaN, or values with identity that valueOf to NaN, would pass the test","date":"2013-08-26T22:06:39.867Z","type":"message"}
{"nick":"isaacs","message":"creationix: but true valueOf()'s to 1","date":"2013-08-26T22:06:53.946Z","type":"message"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-26T22:08:09.231Z","type":"quit"}
{"nick":"juliangruber","message":"substack: just out of curiosity, there must be a way to kill a `npm start x`","date":"2013-08-26T22:14:04.022Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: so, i'd actually really like to rewrite request into something much much smaller and pluggable","date":"2013-08-26T22:14:45.421Z","type":"message"}
{"nick":"kanzure","message":"shouldn't unit tests be provided as an additional package inside a node module, which can be independently installed? and then you can just cycle/walk through all the test modules that define the test suite of your project.","date":"2013-08-26T22:15:25.695Z","type":"message"}
{"nick":"kumavis_","reason":"Quit: kumavis_","date":"2013-08-26T22:16:20.907Z","type":"quit"}
{"nick":"mikolalysenko","reason":"Ping timeout: 245 seconds","date":"2013-08-26T22:20:00.144Z","type":"quit"}
{"nick":"creationix","message":"isaacs, right, I typoed when I was testing it in a repl, sorry for that","date":"2013-08-26T22:20:32.447Z","type":"message"}
{"nick":"isaacs","message":"creationix: no problem","date":"2013-08-26T22:20:55.213Z","type":"message"}
{"nick":"kumavis_","date":"2013-08-26T22:21:44.150Z","type":"join"}
{"nick":"creationix","message":"also I meant \"and\" not \"but\" when agreeing with you","date":"2013-08-26T22:21:47.368Z","type":"message"}
{"nick":"creationix","action":"closes twitter","date":"2013-08-26T22:21:52.123Z","type":"action"}
{"nick":"creationix","message":"obviously I need more sleep before engaging in twitter conversations","date":"2013-08-26T22:22:05.413Z","type":"message"}
{"nick":"creationix","message":"heh, I close twitter and isaacs mentions me 3 times in a row making my phone go off :P","date":"2013-08-26T22:24:12.075Z","type":"message"}
{"nick":"creationix","message":"isaacs, btw, you never answered my question about no.js.  do you have any concrete goals with that?  or are you too enveloped in node.js releases?","date":"2013-08-26T22:24:49.931Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T22:24:55.403Z","type":"quit"}
{"nick":"isaacs","message":"creationix: i am enveloped.","date":"2013-08-26T22:25:20.400Z","type":"message"}
{"nick":"creationix","message":"I'm working on a no.js equivalent for luvit (a client is paying me for it)","date":"2013-08-26T22:25:25.839Z","type":"message"}
{"nick":"isaacs","message":"creationix: no.js is a pipe-dream, let's be honest.","date":"2013-08-26T22:25:26.153Z","type":"message"}
{"nick":"isaacs","message":"creationix: i'd be more likely to work on a node.c","date":"2013-08-26T22:25:41.124Z","type":"message"}
{"nick":"creationix","message":"what's node.c?","date":"2013-08-26T22:25:47.481Z","type":"message"}
{"nick":"creationix","message":"a better libuv or something?","date":"2013-08-26T22:25:52.363Z","type":"message"}
{"nick":"isaacs","message":"creationix: node in c :)","date":"2013-08-26T22:25:54.840Z","type":"message"}
{"nick":"isaacs","message":"creationix: well, so, libuv is nice, but libuv is more low-level than node.","date":"2013-08-26T22:26:03.905Z","type":"message"}
{"nick":"AvianFlu","date":"2013-08-26T22:26:08.360Z","type":"join"}
{"nick":"creationix","message":"interesting","date":"2013-08-26T22:26:17.379Z","type":"message"}
{"nick":"isaacs","message":"creationix: node.c would also bind to openssl, c-ares, etc., and have http server apis, etc.","date":"2013-08-26T22:26:27.804Z","type":"message"}
{"nick":"creationix","message":"so sortof like https://github.com/d5/node.native, but in normal C?","date":"2013-08-26T22:26:45.022Z","type":"message"}
{"nick":"isaacs","message":"creationix: the hello world in node.c would be an http server, just like in node.js","date":"2013-08-26T22:26:50.974Z","type":"message"}
{"nick":"isaacs","message":"creationix: sort of, yes.","date":"2013-08-26T22:26:54.113Z","type":"message"}
{"nick":"creationix","message":"that could be cool","date":"2013-08-26T22:27:02.567Z","type":"message"}
{"nick":"creationix","message":"and very fast","date":"2013-08-26T22:27:07.234Z","type":"message"}
{"nick":"isaacs","message":"creationix: yeah, that would be amazing.","date":"2013-08-26T22:27:10.164Z","type":"message"}
{"nick":"isaacs","message":"creationix: and a delight to use.","date":"2013-08-26T22:27:16.584Z","type":"message"}
{"nick":"Domenic_","message":"what problems does no.js solve.","date":"2013-08-26T22:27:17.406Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: the same problems that Node.js solves.","date":"2013-08-26T22:27:25.872Z","type":"message"}
{"nick":"Domenic_","message":"isaacs: but worse?","date":"2013-08-26T22:27:32.229Z","type":"message"}
{"nick":"creationix","message":"Domenic_, end flame wars by letting people implement their own fragmented opinions on top","date":"2013-08-26T22:27:40.238Z","type":"message"}
{"nick":"creationix","message":"Domenic_, I want it so I can have more freedom in experimenting","date":"2013-08-26T22:27:53.547Z","type":"message"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-08-26T22:28:02.613Z","type":"quit"}
{"nick":"Domenic_","message":"creationix: would you really be more free?","date":"2013-08-26T22:28:06.847Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2013-08-26T22:28:13.570Z","type":"message"}
{"nick":"creationix","message":"the same way all users of libuv are free","date":"2013-08-26T22:28:21.139Z","type":"message"}
{"nick":"Domenic_","message":"O_o","date":"2013-08-26T22:28:24.897Z","type":"message"}
{"nick":"creationix","message":"I've seen 5 different lua bindings for libuv","date":"2013-08-26T22:28:30.290Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: the idea is that it would be just a module system, but use code from npm without having to pre-install, so your \"http\" comes from there.","date":"2013-08-26T22:28:32.242Z","type":"message"}
{"nick":"creationix","message":"with wildly different async semantics","date":"2013-08-26T22:28:40.091Z","type":"message"}
{"nick":"Domenic_","message":"nothing's stopping you from using a different http module today. i don't get it.","date":"2013-08-26T22:28:49.995Z","type":"message"}
{"nick":"creationix","message":"Domenic_, well, the difference for me is I could create a node-fiber based platform on top of no.js and call it a no.js module and people wouldn't get upset telling it it's not the node way","date":"2013-08-26T22:29:28.862Z","type":"message"}
{"nick":"creationix","message":"yes I can do that today technally","date":"2013-08-26T22:29:38.851Z","type":"message"}
{"nick":"creationix","message":"but if it's a node module, you should probably use node callbacks and node streams","date":"2013-08-26T22:29:53.355Z","type":"message"}
{"nick":"fallsemo","date":"2013-08-26T22:29:54.346Z","type":"join"}
{"nick":"creationix","message":"also I just like lightweight cores, they make me happy","date":"2013-08-26T22:30:10.652Z","type":"message"}
{"nick":"creationix","message":"a tiny custom js interpreter coupled with libuv would make for a fun platform to program mips routers","date":"2013-08-26T22:30:37.281Z","type":"message"}
{"nick":"creationix","message":"the only reason I use lua is because it's so light","date":"2013-08-26T22:30:49.796Z","type":"message"}
{"nick":"creationix","message":"v8 is a beast on tiny devices","date":"2013-08-26T22:30:55.315Z","type":"message"}
{"nick":"fallsemo","reason":"Client Quit","date":"2013-08-26T22:31:25.379Z","type":"quit"}
{"nick":"Domenic_","message":"custom js interpreter O_o","date":"2013-08-26T22:33:59.711Z","type":"message"}
{"nick":"creationix","message":"a slow interpreter shouldn't be that hard to write","date":"2013-08-26T22:34:11.959Z","type":"message"}
{"nick":"creationix","message":"especially for a subset of javascript","date":"2013-08-26T22:34:18.128Z","type":"message"}
{"nick":"creationix","message":"(keep in mind in terribly bad about taking on hard challenges)","date":"2013-08-26T22:34:40.424Z","type":"message"}
{"nick":"Domenic_","message":"subset of javascript O_____o","date":"2013-08-26T22:34:43.223Z","type":"message"}
{"nick":"yorick","reason":"Remote host closed the connection","date":"2013-08-26T22:34:46.424Z","type":"quit"}
{"nick":"creationix","message":"Domenic_, do you really want with and arguments.callee?","date":"2013-08-26T22:34:58.181Z","type":"message"}
{"nick":"Domenic_","message":"creationix: no, but I want to run existing JS code.","date":"2013-08-26T22:35:12.578Z","type":"message"}
{"nick":"substack","message":"js -> c compiler!","date":"2013-08-26T22:35:31.335Z","type":"message"}
{"nick":"creationix","message":"you can't run existing js code on tiny devices today","date":"2013-08-26T22:35:36.154Z","type":"message"}
{"nick":"mikolalysenko","date":"2013-08-26T22:35:37.959Z","type":"join"}
{"nick":"Domenic_","message":"creationix: that is solved by writing ES6 modules anyway, they are automatically strict and so those things are gone.","date":"2013-08-26T22:35:39.603Z","type":"message"}
{"nick":"creationix","message":"a subset is better than nothing","date":"2013-08-26T22:35:41.351Z","type":"message"}
{"nick":"Domenic_","message":"i guess i am not sure that is true.","date":"2013-08-26T22:35:50.767Z","type":"message"}
{"nick":"creationix","message":"and by tiny I mean things like my $10 router I picked up in china","date":"2013-08-26T22:36:09.151Z","type":"message"}
{"nick":"creationix","message":"1mb ram 10mb hard-drive","date":"2013-08-26T22:36:17.414Z","type":"message"}
{"nick":"creationix","message":"node and v8 would never run on there","date":"2013-08-26T22:36:32.398Z","type":"message"}
{"nick":"jesusabdullah","message":"back in","date":"2013-08-26T22:36:32.722Z","type":"message"}
{"nick":"jesusabdullah","message":"MY day","date":"2013-08-26T22:36:35.519Z","type":"message"}
{"nick":"creationix","message":"but lua can","date":"2013-08-26T22:36:39.676Z","type":"message"}
{"nick":"creationix","message":"and libuv almost can","date":"2013-08-26T22:36:42.342Z","type":"message"}
{"nick":"jesusabdullah","message":"that would run windows 3.11","date":"2013-08-26T22:36:43.603Z","type":"message"}
{"nick":"jesusabdullah","message":"!","date":"2013-08-26T22:36:51.471Z","type":"message"}
{"nick":"jesusabdullah","message":"really, libuv won't run on that? Bummer","date":"2013-08-26T22:37:02.671Z","type":"message"}
{"nick":"jesusabdullah","message":"so whaddaya do creationix?","date":"2013-08-26T22:37:07.907Z","type":"message"}
{"nick":"creationix","message":"there are ways to trim down libuv","date":"2013-08-26T22:37:21.514Z","type":"message"}
{"nick":"jesusabdullah","message":"aha","date":"2013-08-26T22:37:25.793Z","type":"message"}
{"nick":"evbogue","message":" /exit","date":"2013-08-26T22:37:33.962Z","type":"message"}
{"nick":"evbogue","reason":"Quit: leaving","date":"2013-08-26T22:37:38.495Z","type":"quit"}
{"nick":"creationix","message":"also you don't have to use libuv, you can write direct bindings for things like epoll","date":"2013-08-26T22:37:44.474Z","type":"message"}
{"nick":"creationix","message":"it's not like you need to support windows at that level","date":"2013-08-26T22:37:53.358Z","type":"message"}
{"nick":"jesusabdullah","message":"yeah I was gonna say","date":"2013-08-26T22:39:14.538Z","type":"message"}
{"nick":"jesusabdullah","message":"libev maybe, or just poll/queue yo dang self","date":"2013-08-26T22:39:27.471Z","type":"message"}
{"nick":"creationix","message":"jesusabdullah, also \"3 megabytes (MB) total memory for version 3.11 (4 MB is recommended)\"","date":"2013-08-26T22:39:32.191Z","type":"message"}
{"nick":"creationix","message":"windows won't run on that","date":"2013-08-26T22:39:36.371Z","type":"message"}
{"nick":"jesusabdullah","message":"weak","date":"2013-08-26T22:39:40.678Z","type":"message"}
{"nick":"creationix","message":"though is is funny that node has higher requirements for a simple tcp server than windows 3.11","date":"2013-08-26T22:40:08.903Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: good spotting, thanks","date":"2013-08-26T22:40:09.926Z","type":"message"}
{"nick":"dominictarr","message":"substack: mbrevoort Raynos spotted a mistake that I made with the scuttlebutt fix, make sure you have 5.6.6","date":"2013-08-26T22:40:58.795Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: aha, it would have called onUpdate twice with each message,","date":"2013-08-26T22:42:17.370Z","type":"message"}
{"nick":"dominictarr","message":"but the second one would get filtered out","date":"2013-08-26T22:42:29.795Z","type":"message"}
{"nick":"dominictarr","message":"at line 204","date":"2013-08-26T22:42:39.606Z","type":"message"}
{"nick":"st_luke","message":"is there a good twerk ascii art","date":"2013-08-26T22:44:04.816Z","type":"message"}
{"nick":"st_luke","message":"that isn't offensive","date":"2013-08-26T22:44:08.926Z","type":"message"}
{"nick":"dominictarr","message":"libuvlite?","date":"2013-08-26T22:44:25.514Z","type":"message"}
{"nick":"Domenic_","message":"at some point you have to stop reinventing things that already work","date":"2013-08-26T22:45:01.975Z","type":"message"}
{"nick":"Domenic_","message":"even if they are not your ideal code","date":"2013-08-26T22:45:07.420Z","type":"message"}
{"nick":"Domenic_","message":"i guess if you have a real problem to solve, like running on a 1 mb memory device","date":"2013-08-26T22:45:29.490Z","type":"message"}
{"nick":"Domenic_","message":"but even then i question whether reinventing existing tools is the right approach vs. using ones specific for that situation","date":"2013-08-26T22:45:43.826Z","type":"message"}
{"nick":"dominictarr","message":"creationix: jesusabdullah maybe a better idea: make node_modules pattern work for C","date":"2013-08-26T22:46:32.073Z","type":"message"}
{"nick":"mikolalysenko","reason":"Ping timeout: 246 seconds","date":"2013-08-26T22:47:04.970Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-26T22:51:31.992Z","type":"quit"}
{"nick":"st_luke","message":"npm twerk","date":"2013-08-26T22:52:05.459Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: just realised that thunks (as used in co) and continuables have the same api, that's awesome!","date":"2013-08-26T22:53:40.497Z","type":"message"}
{"nick":"juliangruber","message":"st_luke: what does twerk mean?","date":"2013-08-26T22:54:19.457Z","type":"message"}
{"nick":"juliangruber","message":"oh I see","date":"2013-08-26T22:54:28.227Z","type":"message"}
{"nick":"juliangruber","message":"epic","date":"2013-08-26T22:54:39.968Z","type":"message"}
{"nick":"juliangruber","message":"st_luke: do npm authors have cute girls dancing for them?","date":"2013-08-26T22:55:10.004Z","type":"message"}
{"nick":"st_luke","message":"juliangruber: its a thing grown-ups do when they really like a certain piece of music","date":"2013-08-26T22:55:19.239Z","type":"message"}
{"nick":"juliangruber","message":"shaking asynchronously?","date":"2013-08-26T22:55:30.443Z","type":"message"}
{"nick":"thlorenz","date":"2013-08-26T22:56:13.690Z","type":"join"}
{"nick":"daleharvey","message":"substack: cheers","date":"2013-08-26T22:59:43.350Z","type":"message"}
{"nick":"daleharvey","message":"substack: problem is I need to block the next test from starting as well","date":"2013-08-26T22:59:57.489Z","type":"message"}
{"nick":"jcrugzz","reason":"Ping timeout: 264 seconds","date":"2013-08-26T23:04:18.288Z","type":"quit"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T23:04:27.658Z","type":"quit"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-08-26T23:04:36.614Z","type":"quit"}
{"nick":"defunctzombie","message":"anyone got a tool to dump what things in node/js are using up cpu?","date":"2013-08-26T23:04:45.927Z","type":"message"}
{"nick":"defunctzombie","message":"like valgrind/cachegrind type views of stuff?","date":"2013-08-26T23:04:58.543Z","type":"message"}
{"nick":"jxson","date":"2013-08-26T23:05:00.537Z","type":"join"}
{"nick":"substack","message":"daleharvey: just use another test for that","date":"2013-08-26T23:05:05.123Z","type":"message"}
{"nick":"substack","message":"test('setup', function (t) { /* do setup things and then call t.end() */ })","date":"2013-08-26T23:05:19.714Z","type":"message"}
{"nick":"defunctzombie","message":"+1 for setup tests","date":"2013-08-26T23:05:38.135Z","type":"message"}
{"nick":"daleharvey","message":"after every test? (this is setup / teardown)","date":"2013-08-26T23:06:10.006Z","type":"message"}
{"nick":"ednapiranha","date":"2013-08-26T23:06:11.216Z","type":"join"}
{"nick":"substack","message":"daleharvey: what are you doing?","date":"2013-08-26T23:07:03.128Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-26T23:07:04.902Z","type":"quit"}
{"nick":"substack","message":"it sounds like you're doing something weird","date":"2013-08-26T23:07:08.660Z","type":"message"}
{"nick":"jxson","date":"2013-08-26T23:07:36.356Z","type":"join"}
{"nick":"ednapiranha","reason":"Remote host closed the connection","date":"2013-08-26T23:07:57.947Z","type":"quit"}
{"nick":"daleharvey","message":"setup and teardown for tests is pretty normal, I want to make sure my tests run well isolated, and clean themselves up","date":"2013-08-26T23:08:21.676Z","type":"message"}
{"nick":"daleharvey","message":"but its fine, I got browserify working so I can just use mocha now, I was mostly avoiding it because its browser runner sucked, but I should be able to just browserify it all","date":"2013-08-26T23:09:22.887Z","type":"message"}
{"nick":"juliangruber","message":"isaacs: trololol https://npmjs.org/package/is-type","date":"2013-08-26T23:12:45.728Z","type":"message"}
{"nick":"substack","message":"daleharvey: running mocha in browsers is still weird","date":"2013-08-26T23:17:05.723Z","type":"message"}
{"nick":"defunctzombie","message":"daleharvey: use zuul for mocha in the browser","date":"2013-08-26T23:17:27.283Z","type":"message"}
{"nick":"defunctzombie","message":"it will handle the browser stuff for you so you can just write the tests","date":"2013-08-26T23:17:43.615Z","type":"message"}
{"nick":"substack","message":"also: mocha sucks","date":"2013-08-26T23:18:07.739Z","type":"message"}
{"nick":"defunctzombie","message":"meh","date":"2013-08-26T23:18:19.723Z","type":"message"}
{"nick":"defunctzombie","message":"mocha tdd is fine","date":"2013-08-26T23:18:22.592Z","type":"message"}
{"nick":"substack","message":"globals everywhere, added at runtime!","date":"2013-08-26T23:18:27.979Z","type":"message"}
{"nick":"substack","message":"and you can't just node test.js","date":"2013-08-26T23:18:34.489Z","type":"message"}
{"nick":"defunctzombie","message":"whatever.. haha.. as long as they let me write simple asserts","date":"2013-08-26T23:18:45.516Z","type":"message"}
{"nick":"defunctzombie","message":"and stay out of my way","date":"2013-08-26T23:18:56.173Z","type":"message"}
{"nick":"daleharvey","message":"at this point I am happy with tape, I just need the ability to do teardown, take a pr for that and any suggestions on a decent api for it?","date":"2013-08-26T23:19:45.139Z","type":"message"}
{"nick":"substack","message":"daleharvey: you can just write a function for that","date":"2013-08-26T23:20:11.064Z","type":"message"}
{"nick":"substack","message":"tape is just callbacks","date":"2013-08-26T23:20:13.620Z","type":"message"}
{"nick":"substack","message":"go wild","date":"2013-08-26T23:20:16.111Z","type":"message"}
{"nick":"substack","message":"you don't need a special api to do teardown/setup","date":"2013-08-26T23:20:36.176Z","type":"message"}
{"nick":"substack","message":"you only need that with shit libraries like jasmine that are super fragile","date":"2013-08-26T23:20:50.946Z","type":"message"}
{"nick":"daleharvey","message":"how would I block the next test from running?","date":"2013-08-26T23:20:53.843Z","type":"message"}
{"nick":"guybrush","message":"why not just test(name,function(cb){})","date":"2013-08-26T23:21:06.127Z","type":"message"}
{"nick":"substack","message":"daleharvey: the next test only runs when the current one is finished","date":"2013-08-26T23:21:12.531Z","type":"message"}
{"nick":"substack","message":"guybrush: that's not necessary","date":"2013-08-26T23:21:47.786Z","type":"message"}
{"nick":"daleharvey","message":"sure, and I want t.end called from the test","date":"2013-08-26T23:21:58.026Z","type":"message"}
{"nick":"daleharvey","message":"http://pastebin.mozilla.org/2920840 is the current code","date":"2013-08-26T23:22:03.523Z","type":"message"}
{"nick":"daleharvey","message":"so the test has finished, I can wrap the test and call teardown once it ends, but its gonna be running the next test at the same time","date":"2013-08-26T23:22:48.333Z","type":"message"}
{"nick":"guybrush","message":"anyway nowadays i try to switch from mocha to tape :p","date":"2013-08-26T23:22:49.407Z","type":"message"}
{"nick":"substack","message":"function withSetup (name, cb) { test('setup', function (t) { /* ... */ }); test(name, cb); test('teardown', function (t) { /* ... */ }) }","date":"2013-08-26T23:23:09.523Z","type":"message"}
{"nick":"guybrush","message":"long time i was on the mocha-train, now i felt some pain with all the --grep and mocha(1) fuck","date":"2013-08-26T23:23:17.427Z","type":"message"}
{"nick":"guybrush","message":"had to get hurt first to learn the lesson","date":"2013-08-26T23:23:28.695Z","type":"message"}
{"nick":"substack","message":"then just call withSetup(name, cb) instead of test(name, cb)","date":"2013-08-26T23:23:34.904Z","type":"message"}
{"nick":"daleharvey","message":"hmm, that could work","date":"2013-08-26T23:23:52.595Z","type":"message"}
{"nick":"daleharvey","message":"it does work, with async setup and teardown too :) only annoying thing now is the extra reporting, but I can live with that","date":"2013-08-26T23:29:27.000Z","type":"message"}
{"nick":"substack","message":"you can use the tap runner for more compressed output","date":"2013-08-26T23:30:33.364Z","type":"message"}
{"nick":"substack","message":"npm install -g tap; tap test/*.js","date":"2013-08-26T23:30:46.055Z","type":"message"}
{"nick":"thlorenz","date":"2013-08-26T23:30:47.463Z","type":"join"}
{"nick":"juliangruber","message":"daleharvey: tap is less semantic but way more hackable than mocha, that's the tradeoff","date":"2013-08-26T23:31:17.130Z","type":"message"}
{"nick":"daleharvey","message":"well I just meant the setup and teardown tests being reported as tests - http://pastebin.mozilla.org/2920857","date":"2013-08-26T23:32:07.464Z","type":"message"}
{"nick":"vitorpacheco","reason":"Ping timeout: 276 seconds","date":"2013-08-26T23:32:15.585Z","type":"quit"}
{"nick":"substack","message":"yeah, that's the downside to that approach","date":"2013-08-26T23:32:54.836Z","type":"message"}
{"nick":"juliangruber","message":"if nothing can go wrong in setup/teardown, a custom wrapper as substack mentioned should be fine","date":"2013-08-26T23:33:04.579Z","type":"message"}
{"nick":"substack","message":"but the upside is that it doesn't require any custom api support and is much more flexible as a result","date":"2013-08-26T23:33:12.771Z","type":"message"}
{"nick":"jcrugzz","date":"2013-08-26T23:34:26.847Z","type":"join"}
{"nick":"juliangruber","message":"yeah, with mocha it's like \"don't fuck with the system\"","date":"2013-08-26T23:35:05.004Z","type":"message"}
{"nick":"vitorpacheco","date":"2013-08-26T23:36:52.314Z","type":"join"}
{"nick":"daleharvey","message":"if only we had some magic way of writing code that made sure it had run before the next thing runs :P","date":"2013-08-26T23:39:59.206Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-26T23:40:37.795Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-26T23:44:33.171Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-26T23:45:44.606Z","type":"quit"}
{"nick":"ralphtheninja","reason":"Read error: Operation timed out","date":"2013-08-26T23:45:50.703Z","type":"quit"}
{"nick":"ralphtheninja","date":"2013-08-26T23:45:58.022Z","type":"join"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-26T23:46:23.466Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-26T23:47:28.721Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-26T23:52:56.547Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-26T23:56:57.326Z","type":"quit"}
{"nick":"mikolalysenko","reason":"Ping timeout: 256 seconds","date":"2013-08-26T23:57:50.282Z","type":"quit"}

{"nick":"feross","message":"and they'll think that it's not possible to make a website to show words without 100 software engineers that get paid $120k/yr","date":"2016-01-05T00:00:19.279Z","type":"message"}
{"nick":"mrb_bk_","reason":"Quit: Connection closed for inactivity","date":"2016-01-05T00:02:03.598Z","type":"quit"}
{"nick":"jfhbrook","message":"it's harder than it sounds?","date":"2016-01-05T00:26:31.099Z","type":"message"}
{"nick":"jfhbrook","message":"I mean, I don't know why the fuck medium has front-end javascript (we generate most of our content server-side)","date":"2016-01-05T00:26:53.781Z","type":"message"}
{"nick":"jfhbrook","message":"do they have ads?","date":"2016-01-05T00:27:07.302Z","type":"message"}
{"nick":"jfhbrook","message":"usually it's the ads and the analytixxx that lead to hella javascript","date":"2016-01-05T00:27:19.387Z","type":"message"}
{"nick":"dguttman","date":"2016-01-05T00:55:28.525Z","type":"join"}
{"nick":"ogd","message":"feross: hahahah","date":"2016-01-05T01:11:17.087Z","type":"message"}
{"nick":"ogd","message":"feross: i think that salary is conservative","date":"2016-01-05T01:11:37.345Z","type":"message"}
{"nick":"jfhbrook","message":"feross: ogd I work for a major publisher and can confirm, that is relatively conservative","date":"2016-01-05T01:12:46.055Z","type":"message"}
{"nick":"ogd","message":"i meant specifically for medium","date":"2016-01-05T01:13:10.505Z","type":"message"}
{"nick":"ogd","message":"but also generally probably too","date":"2016-01-05T01:13:22.628Z","type":"message"}
{"nick":"jfhbrook","message":"right, I just have to assume that salaries amongst people in publishing are similar","date":"2016-01-05T01:14:35.051Z","type":"message"}
{"nick":"jfhbrook","message":"though medium's west coast huh?","date":"2016-01-05T01:14:40.303Z","type":"message"}
{"nick":"jfhbrook","message":"I think most of the major publishers are east coast","date":"2016-01-05T01:14:47.335Z","type":"message"}
{"nick":"jfhbrook","message":"I know tumblr has offices here","date":"2016-01-05T01:14:51.800Z","type":"message"}
{"nick":"pfraze","date":"2016-01-05T02:01:55.143Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2016-01-05T02:07:09.090Z","type":"quit"}
{"nick":"ogd","message":"substack: mk30 you need any warm snow clothes or are you good to go? i might have extras or can pick up cheap stuff at andy and bax if you need anything specific","date":"2016-01-05T02:14:57.314Z","type":"message"}
{"nick":"substack","message":"we have warm clothes","date":"2016-01-05T02:16:45.469Z","type":"message"}
{"nick":"ogd","message":"substack: cool! so were gonna pick you up from the airport then drive down","date":"2016-01-05T02:21:49.263Z","type":"message"}
{"nick":"ogd","message":"substack: what is yours and mk30's shoe sizes so i can get snow shoes","date":"2016-01-05T02:22:14.229Z","type":"message"}
{"nick":"substack","message":"I'm 10, marina is 8.5-9","date":"2016-01-05T02:23:22.252Z","type":"message"}
{"nick":"jfhbrook","message":"man you two are YOUNG substack","date":"2016-01-05T03:08:30.832Z","type":"message"}
{"nick":"jfhbrook","message":"also my feet are apparently huge","date":"2016-01-05T03:08:43.724Z","type":"message"}
{"nick":"jfhbrook","message":"I'm a size 13","date":"2016-01-05T03:08:48.991Z","type":"message"}
{"nick":"darvon","reason":"Remote host closed the connection","date":"2016-01-05T03:18:16.884Z","type":"quit"}
{"nick":"shama","reason":"Quit: (╯°□°）╯︵ɐɯɐɥs","date":"2016-01-05T03:18:23.745Z","type":"quit"}
{"nick":"noffle","message":"oh, medium. they also break rss: sure they'll give you a feed, but it's just a sub-paragraph stub with a \"read the full article\" link","date":"2016-01-05T03:47:00.682Z","type":"message"}
{"nick":"noffle","message":"feross: that's so damaging! to think that the new gen of devs will think that this is the Right Way(tm) to do web dev. they won't even know that Back In the Day(R) you could actually read websites and that this was hugely condusive to the spirit of the web!","date":"2016-01-05T03:47:47.606Z","type":"message"}
{"nick":"substack","message":"it's much easier to learn how to make websites now","date":"2016-01-05T03:50:04.899Z","type":"message"}
{"nick":"substack","message":"I don't think we've lost anything valuable because view->source doesn't turn up however a website was haphazardly constructed","date":"2016-01-05T03:50:38.002Z","type":"message"}
{"nick":"feross","message":"substack: I didn't understand your last point. could you rephrase?","date":"2016-01-05T03:54:48.261Z","type":"message"}
{"nick":"substack","message":"learning websites with view->source","date":"2016-01-05T03:55:37.759Z","type":"message"}
{"nick":"substack","message":"which I did plenty of, 15 years ago","date":"2016-01-05T03:55:51.503Z","type":"message"}
{"nick":"substack","message":"not a very good way to learn","date":"2016-01-05T03:56:09.186Z","type":"message"}
{"nick":"feross","message":"interesting, I still learn mostly by reading other people's code","date":"2016-01-05T03:57:21.410Z","type":"message"}
{"nick":"feross","message":"back when I learned, people's source code was available with view source","date":"2016-01-05T03:57:51.141Z","type":"message"}
{"nick":"feross","message":"now it's hosted on GitHub","date":"2016-01-05T03:58:12.867Z","type":"message"}
{"nick":"feross","message":"same thing essentially, except you can't accidentally stumble onto github as easily as right click -> view source","date":"2016-01-05T03:59:49.761Z","type":"message"}
{"nick":"feross","message":"but I guess there's lot of awareness building stuff now, classes, etc","date":"2016-01-05T04:00:12.092Z","type":"message"}
{"nick":"feross","message":"maybe it's not an issue anymore","date":"2016-01-05T04:00:19.706Z","type":"message"}
{"nick":"jfhbrook","message":"what of server-side code?","date":"2016-01-05T04:06:30.487Z","type":"message"}
{"nick":"noffle","message":"I still do a lot of digging /w view source too","date":"2016-01-05T04:06:44.196Z","type":"message"}
{"nick":"jfhbrook","message":"I feel like Back In The Day people were mostly using js for chrome and the heavy lifting was in php","date":"2016-01-05T04:06:47.010Z","type":"message"}
{"nick":"noffle","message":"jfhbrook: are you asking how can we get \"view source\" for server code? github's the best we have, I think?","date":"2016-01-05T04:11:29.428Z","type":"message"}
{"nick":"jfhbrook","message":"I'm mostly suggesting that view-source wasn't actually that useful back in the day","date":"2016-01-05T04:12:58.110Z","type":"message"}
{"nick":"noffle","message":"oh I see -- because JS was inconsequential for logic? I meant more for html/css/layout learning","date":"2016-01-05T04:13:52.279Z","type":"message"}
{"nick":"mikolalysenko","message":"mk30: substack wonder if it is possible to mess with the bbc documentary on oakland?  https://www.reddit.com/r/oakland/comments/3ypmt0/im_a_bbc_reporter_making_a_documentary_on_oakland/","date":"2016-01-05T04:15:26.897Z","type":"message"}
{"nick":"mikolalysenko","message":"re learning js today: it always gets more hopeless","date":"2016-01-05T04:23:18.601Z","type":"message"}
{"nick":"mikolalysenko","message":"people used to be able to see all the code their machines were running","date":"2016-01-05T04:23:31.187Z","type":"message"}
{"nick":"mikolalysenko","message":"total awareness of all machine instructions wasn't a big deal back when computers had at most 64k of memory","date":"2016-01-05T04:23:56.938Z","type":"message"}
{"nick":"mikolalysenko","message":"these days who knows what the hell computers do?","date":"2016-01-05T04:24:03.836Z","type":"message"}
{"nick":"mikolalysenko","message":"we all probably have dozens of rootkits from various government agencies, criminal organizations and corporations monitoring and watching our every move","date":"2016-01-05T04:24:51.541Z","type":"message"}
{"nick":"substack","message":"mikolalysenko: are the nodes in your interval-tree-1d balanced?","date":"2016-01-05T04:50:10.446Z","type":"message"}
{"nick":"mikolalysenko","message":"substack: yeah","date":"2016-01-05T04:50:21.687Z","type":"message"}
{"nick":"mikolalysenko","message":"*weight-balanced technically","date":"2016-01-05T04:50:29.831Z","type":"message"}
{"nick":"mikolalysenko","message":"so it is an amortized thing","date":"2016-01-05T04:50:41.340Z","type":"message"}
{"nick":"mikolalysenko","message":"that modules is kind of half assed though","date":"2016-01-05T04:50:56.626Z","type":"message"}
{"nick":"mikolalysenko","message":"I know I can do it better, but it takes time","date":"2016-01-05T04:51:05.796Z","type":"message"}
{"nick":"substack","message":"I'm attempting to use an interval tree as an example for a log structured merge tree module I'm working on","date":"2016-01-05T04:52:39.015Z","type":"message"}
{"nick":"substack","message":"but I'm thinking maybe it's a bit too complicated, hard to figure out how to merge N trees into 1 without buffering them all into memory","date":"2016-01-05T04:53:06.745Z","type":"message"}
{"nick":"mikolalysenko","message":"well, there are multiple ways to do interval trees","date":"2016-01-05T04:53:30.036Z","type":"message"}
{"nick":"mikolalysenko","message":"some might be easier to merge than others","date":"2016-01-05T04:53:36.105Z","type":"message"}
{"nick":"mikolalysenko","message":"another option is to try r-trees","date":"2016-01-05T04:54:04.526Z","type":"message"}
{"nick":"mikolalysenko","message":"though they don't have as nice theoretical properties they are simpler and often work ok in practice","date":"2016-01-05T04:54:27.980Z","type":"message"}
{"nick":"mikolalysenko","message":"re merging the trees: what you just do a full rebuild of the interval tree?","date":"2016-01-05T04:55:38.461Z","type":"message"}
{"nick":"mikolalysenko","message":"that isn't too bad to do streaming","date":"2016-01-05T04:55:43.168Z","type":"message"}
{"nick":"substack","message":"yes pretty much","date":"2016-01-05T04:55:51.416Z","type":"message"}
{"nick":"mikolalysenko","message":"and that's all you need to do for log structured merging","date":"2016-01-05T04:56:05.522Z","type":"message"}
{"nick":"mikolalysenko","message":"seems wasteful to throw out the old tree data structures, but at worst you are paying 2x","date":"2016-01-05T04:56:22.397Z","type":"message"}
{"nick":"substack","message":"with lsm you have N trees, each size 2^N ascending from 1..M","date":"2016-01-05T04:56:23.478Z","type":"message"}
{"nick":"substack","message":"times B","date":"2016-01-05T04:56:31.771Z","type":"message"}
{"nick":"mikolalysenko","message":"right","date":"2016-01-05T04:56:35.241Z","type":"message"}
{"nick":"mikolalysenko","message":"so just concat all the intervals together when you merge some set of trees and then do a full rebuild","date":"2016-01-05T04:57:00.075Z","type":"message"}
{"nick":"substack","message":"that's what I was thinking","date":"2016-01-05T04:58:30.075Z","type":"message"}
{"nick":"mikolalysenko","message":"you don't need to buffer them to do that","date":"2016-01-05T04:58:45.667Z","type":"message"}
{"nick":"substack","message":"does that require any special tricks or is it pretty straightforward from how interval tree construction or insertion is usually described?","date":"2016-01-05T04:59:29.455Z","type":"message"}
{"nick":"mikolalysenko","message":"no, don't do insertion","date":"2016-01-05T04:59:38.116Z","type":"message"}
{"nick":"mikolalysenko","message":"do divide and conquer","date":"2016-01-05T04:59:40.964Z","type":"message"}
{"nick":"mikolalysenko","message":"it takes as many passes as the height of the tree, which is  O(log(n))","date":"2016-01-05T05:00:02.749Z","type":"message"}
{"nick":"mikolalysenko","message":"and each pass is basically a partition operation","date":"2016-01-05T05:00:09.492Z","type":"message"}
{"nick":"substack","message":"cool","date":"2016-01-05T05:00:19.439Z","type":"message"}
{"nick":"mikolalysenko","message":"split the stream of intervals into 3 substreams","date":"2016-01-05T05:00:20.744Z","type":"message"}
{"nick":"mikolalysenko","message":"one for intervals to the left/right/crossing the partition point","date":"2016-01-05T05:00:33.283Z","type":"message"}
{"nick":"mikolalysenko","message":"then for those crossing you need to do one extra pass to sort the left/right end points","date":"2016-01-05T05:00:52.191Z","type":"message"}
{"nick":"mikolalysenko","message":"incremental insertion/deletion is almost always a bad idea when building trees","date":"2016-01-05T05:01:15.556Z","type":"message"}
{"nick":"mikolalysenko","message":"better to do things in batches like that, you get economies of scale and better cache performance","date":"2016-01-05T05:01:29.773Z","type":"message"}
{"nick":"PsionTheory","reason":"Read error: Connection reset by peer","date":"2016-01-05T05:03:33.161Z","type":"quit"}
{"nick":"mikolalysenko","message":"basically comparing O(n/B log(n)) vs O(n log_B(n))","date":"2016-01-05T05:04:19.165Z","type":"message"}
{"nick":"mikolalysenko","message":"since log(n)/b is usually < log_b(n) for large enough B (which is always the case in practice)","date":"2016-01-05T05:05:12.361Z","type":"message"}
{"nick":"mikolalysenko","message":"also if your tree construction is done using shell scripts you could get some parallelism by building the subtrees using separate processes","date":"2016-01-05T05:16:33.264Z","type":"message"}
{"nick":"mikolalysenko","message":"so basically you build the top P levels sequentially and then you get a 1/P speed up on the rest of the tree","date":"2016-01-05T05:17:04.122Z","type":"message"}
{"nick":"mikolalysenko","message":"giving a complexity of O((P * n + n log(n)/P) / B) for P processors","date":"2016-01-05T05:17:45.458Z","type":"message"}
{"nick":"substack","message":"what about merging with streams for each tree from minimum to maximum values, since the nodes are already sorted?","date":"2016-01-05T05:20:28.142Z","type":"message"}
{"nick":"substack","message":"I can easily see how the construction would work for that approach, not so much for building each level in a separate pass","date":"2016-01-05T05:20:52.687Z","type":"message"}
{"nick":"pfraze","reason":"Remote host closed the connection","date":"2016-01-05T05:35:50.367Z","type":"quit"}
{"nick":"mikolalysenko","message":"once you know the split value you just classify left/right/center","date":"2016-01-05T05:48:41.623Z","type":"message"}
{"nick":"mikolalysenko","message":"and then emit the nodes into each stream","date":"2016-01-05T05:48:48.028Z","type":"message"}
{"nick":"mikolalysenko","message":"after those streams return you merge them together into the final tree","date":"2016-01-05T05:49:02.391Z","type":"message"}
{"nick":"mikolalysenko","message":"look at how this subroutine does it:  https://github.com/mikolalysenko/interval-tree-1d/blob/master/interval-tree.js#L265-L302","date":"2016-01-05T05:49:57.128Z","type":"message"}
{"nick":"mikolalysenko","message":"that is the only interesting thing in that module","date":"2016-01-05T05:50:02.832Z","type":"message"}
{"nick":"mikolalysenko","message":"the rest is just book keeping which figures out when to blow up subtrees and rebuild them due to the weight balance invariant being violated","date":"2016-01-05T05:50:26.960Z","type":"message"}
{"nick":"mikolalysenko","message":"if you replace the arrays with streams, you get the idea","date":"2016-01-05T05:50:41.971Z","type":"message"}
{"nick":"mikolalysenko","message":"this part here: https://github.com/mikolalysenko/interval-tree-1d/blob/master/interval-tree.js#L269-L275 is just to select the cut point","date":"2016-01-05T05:51:10.638Z","type":"message"}
{"nick":"mikolalysenko","message":"it is wasteful since you could do it in O(n), but like I said earlier this code is half assed","date":"2016-01-05T05:51:24.676Z","type":"message"}
{"nick":"mikolalysenko","message":"this part is what splits the intervals into 3 streams:  https://github.com/mikolalysenko/interval-tree-1d/blob/master/interval-tree.js#L277-L289","date":"2016-01-05T05:51:42.540Z","type":"message"}
{"nick":"mikolalysenko","message":"this is the extra book keeping for the center intervals:  https://github.com/mikolalysenko/interval-tree-1d/blob/master/interval-tree.js#L291-L295","date":"2016-01-05T05:52:00.462Z","type":"message"}
{"nick":"mikolalysenko","message":"and this is the divide and conquer recursive step:  https://github.com/mikolalysenko/interval-tree-1d/blob/master/interval-tree.js#L297-L301","date":"2016-01-05T05:52:20.505Z","type":"message"}
{"nick":"substack","message":"cool thanks!","date":"2016-01-05T05:53:44.443Z","type":"message"}
{"nick":"mikolalysenko","message":"if the streams are sorted you can get the cut point in O(1) if you can seek","date":"2016-01-05T05:55:57.107Z","type":"message"}
{"nick":"substack","message":"starting to get the idea I think","date":"2016-01-05T05:56:01.123Z","type":"message"}
{"nick":"mikolalysenko","message":"or if you can't seek on the streams you can get it by scanning using the tortoise-hare trick","date":"2016-01-05T05:56:15.783Z","type":"message"}
{"nick":"substack","message":"how does it work to get the cut point across N trees in O(1)?","date":"2016-01-05T05:56:46.119Z","type":"message"}
{"nick":"mikolalysenko","message":"you have to scan all the intervals","date":"2016-01-05T05:57:01.657Z","type":"message"}
{"nick":"mikolalysenko","message":"to find the mid point","date":"2016-01-05T05:57:04.085Z","type":"message"}
{"nick":"mikolalysenko","message":"you can do it in O(n) time using a fast median algorithm like quick select","date":"2016-01-05T05:57:14.982Z","type":"message"}
{"nick":"mikolalysenko","message":"or if they are sorted already you just take the middle element","date":"2016-01-05T05:57:39.084Z","type":"message"}
{"nick":"substack","message":"they're each sorted, but not in the aggregate","date":"2016-01-05T05:58:12.791Z","type":"message"}
{"nick":"mikolalysenko","message":"is it reasonable to assume that you can seek on these streams?","date":"2016-01-05T05:58:37.117Z","type":"message"}
{"nick":"substack","message":"yes","date":"2016-01-05T05:58:50.420Z","type":"message"}
{"nick":"mikolalysenko","message":"ok","date":"2016-01-05T05:58:54.937Z","type":"message"}
{"nick":"mikolalysenko","message":"so you can think of this as finding the median of a set of k sorted lists","date":"2016-01-05T05:59:39.948Z","type":"message"}
{"nick":"mikolalysenko","message":"I can think of a way to do this in k log(n), but feels like you could maybe do it in O(k) time...","date":"2016-01-05T06:00:08.643Z","type":"message"}
{"nick":"mikolalysenko","message":"ok, you could do this again using interval trees","date":"2016-01-05T06:02:43.477Z","type":"message"}
{"nick":"mikolalysenko","message":"so for each of the k lists, let [l_i, h_i] be the lowest and highest elements in each list","date":"2016-01-05T06:03:22.148Z","type":"message"}
{"nick":"mikolalysenko","message":"then select the mid point of the 2k endpoints of these lists (can do it in O(k) time using quick select or whatever)","date":"2016-01-05T06:03:54.107Z","type":"message"}
{"nick":"mikolalysenko","message":"ah wait this won't work...","date":"2016-01-05T06:05:00.931Z","type":"message"}
{"nick":"mikolalysenko","message":"ok, only way I can think to do it is the O(log(k*n)) algorithm","date":"2016-01-05T06:07:30.781Z","type":"message"}
{"nick":"substack","message":"I think it will be ok without this particular optimization","date":"2016-01-05T06:07:43.771Z","type":"message"}
{"nick":"mikolalysenko","message":"yeah","date":"2016-01-05T06:08:01.306Z","type":"message"}
{"nick":"mikolalysenko","message":"worst case merging everything is still linear so amortized it doesn't matter","date":"2016-01-05T06:08:12.271Z","type":"message"}
{"nick":"mikolalysenko","message":"but you can skip that merging step if you can seek","date":"2016-01-05T06:08:23.020Z","type":"message"}
{"nick":"fotoverite_","date":"2016-01-05T07:26:23.683Z","type":"join"}
{"nick":"fotoverite","reason":"Ping timeout: 276 seconds","date":"2016-01-05T07:26:26.141Z","type":"quit"}
{"nick":"fotoverite_","new_nick":"fotoverite","date":"2016-01-05T07:26:26.744Z","type":"nick"}

{"nick":"guybrush","message":"lol epic spaghetti https://github.com/guybrush/nexus/blob/master/test/test-server.js#L56-122","date":"2012-06-20T00:05:06.810Z","type":"message"}
{"nick":"SubStack","message":"drat, more work for me","date":"2012-06-20T00:06:13.880Z","type":"message"}
{"nick":"SubStack","message":"isaacs: quit releasing new nodes!","date":"2012-06-20T00:06:28.067Z","type":"message"}
{"nick":"isaacs","message":"SubStack: haaha","date":"2012-06-20T00:06:35.949Z","type":"message"}
{"nick":"isaacs","message":"SubStack: you know i'll never do that.","date":"2012-06-20T00:06:40.283Z","type":"message"}
{"nick":"isaacs","message":"SubStack: my goal is to make your life hard enough that you build me a robot to make node builds safe and easy and rapid","date":"2012-06-20T00:06:57.903Z","type":"message"}
{"nick":"SubStack","message":"well that doesn't solve MY problem","date":"2012-06-20T00:07:21.778Z","type":"message"}
{"nick":"SubStack","message":"which is that I have to go into the modules that I still care about that are broken and fix them when things change","date":"2012-06-20T00:07:44.034Z","type":"message"}
{"nick":"SubStack","message":"and away I go!","date":"2012-06-20T00:08:33.120Z","type":"message"}
{"nick":"wiwillia","reason":"Ping timeout: 272 seconds","date":"2012-06-20T00:20:10.158Z","type":"quit"}
{"nick":"jesusabdullah","message":"isaacs: Keep releasing new nodes.","date":"2012-06-20T00:23:07.751Z","type":"message"}
{"nick":"isaacs","message":"SubStack: for what it's worth, the shift from 0.6 to 0.8 is quite a bit smalle rthan from 0.4 to 0.6","date":"2012-06-20T00:23:56.451Z","type":"message"}
{"nick":"isaacs","message":"SubStack: for most of those, the thing that's broen is the \"engines\":{\"node\":\"0.6.x\"}","date":"2012-06-20T00:24:14.831Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.57.174.117(dev2)","date":"2012-06-20T00:24:45.263Z","type":"message"}
{"nick":"chapel","message":"sorry guybrush","date":"2012-06-20T00:28:37.931Z","type":"message"}
{"nick":"chapel","message":"I liked your code and it got tweeted :P","date":"2012-06-20T00:28:50.504Z","type":"message"}
{"nick":"jesusabdullah","message":"isaacs is right! We should hardly notice a difference minus having to yell at some people with crappy modules","date":"2012-06-20T00:32:55.708Z","type":"message"}
{"nick":"jesusabdullah","message":"I'd imagine eventually apis will barely change","date":"2012-06-20T00:33:22.225Z","type":"message"}
{"nick":"jesusabdullah","message":"meaning people will start repping the * and/or ge","date":"2012-06-20T00:33:44.137Z","type":"message"}
{"nick":"isaacs","message":"jesusabdullah: new npm init doesn't even set engines","date":"2012-06-20T00:34:33.164Z","type":"message"}
{"nick":"isaacs","message":"becasue why, srsliy?","date":"2012-06-20T00:34:36.793Z","type":"message"}
{"nick":"isaacs","message":"that used to be the most important thing in package.json, though","date":"2012-06-20T00:35:06.537Z","type":"message"}
{"nick":"jesusabdullah","message":"isaacs: it's useful for nodejitsu","date":"2012-06-20T00:35:41.030Z","type":"message"}
{"nick":"jesusabdullah","message":"isaacs: because it's basically asking, which version of node do you *prefer*, not which ones are merely *allowed*","date":"2012-06-20T00:35:58.779Z","type":"message"}
{"nick":"jesusabdullah","message":"isaacs: but yeah I hear you, for libraries it should hardly matter","date":"2012-06-20T00:36:23.735Z","type":"message"}
{"nick":"jesusabdullah","message":"in other news: holy christ is chromium a beast to compile","date":"2012-06-20T00:37:31.293Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T00:53:45.437Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T00:58:45.911Z","type":"message"}
{"nick":"wiwillia","date":"2012-06-20T01:02:36.181Z","type":"join"}
{"nick":"guybrush","message":"lol chapel thanks a lot ^^","date":"2012-06-20T01:12:59.716Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T01:13:15.326Z","type":"message"}
{"nick":"chapel","message":":)","date":"2012-06-20T01:14:09.489Z","type":"message"}
{"nick":"chapel","message":"<3","date":"2012-06-20T01:14:10.410Z","type":"message"}
{"nick":"guybrush","message":"in the end its what i would like to be known for! megaspaghetti this is how you do async!","date":"2012-06-20T01:15:05.887Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.57.226.209(free4)","date":"2012-06-20T01:44:45.050Z","type":"message"}
{"nick":"wiwillia","reason":"Ping timeout: 245 seconds","date":"2012-06-20T01:52:54.142Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T01:58:46.081Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:03:15.093Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:07:45.405Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:21:15.081Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:22:45.142Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:25:45.011Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:27:45.079Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:34:15.051Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:38:15.139Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T02:58:45.789Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T02:59:45.158Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T03:13:45.026Z","type":"message"}
{"nick":"farnsworth","reason":"Ping timeout: 244 seconds","date":"2012-06-20T03:53:20.357Z","type":"quit"}
{"nick":"cubert","reason":"Ping timeout: 244 seconds","date":"2012-06-20T03:53:54.290Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T03:58:45.817Z","type":"message"}
{"nick":"shykes","new_nick":"zz_shykes","date":"2012-06-20T04:05:49.829Z","type":"nick"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T04:19:45.162Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T04:55:15.022Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T04:58:45.818Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 173.203.67.76(free3)","date":"2012-06-20T05:03:15.478Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T05:05:14.976Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T05:11:45.035Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T05:13:45.013Z","type":"message"}
{"nick":"guybrush","message":"chapel: https://github.com/guybrush/nexus/blob/master/test/test-server.js#L55-132 now with AA :D","date":"2012-06-20T05:14:21.475Z","type":"message"}
{"nick":"chapel","message":"whos module is async-array?","date":"2012-06-20T05:14:55.987Z","type":"message"}
{"nick":"guybrush","message":"timsmart","date":"2012-06-20T05:15:01.378Z","type":"message"}
{"nick":"chapel","message":"ah yes","date":"2012-06-20T05:15:05.341Z","type":"message"}
{"nick":"guybrush","message":"its the most awesome flowcontrol there is","date":"2012-06-20T05:15:08.904Z","type":"message"}
{"nick":"chapel","message":"I will let him know :)","date":"2012-06-20T05:15:10.586Z","type":"message"}
{"nick":"chapel","message":"he works on geeklist with me","date":"2012-06-20T05:15:18.600Z","type":"message"}
{"nick":"guybrush","message":"nice","date":"2012-06-20T05:15:23.220Z","type":"message"}
{"nick":"guybrush","message":"tell him i use require('async-array') like in 80% of my files","date":"2012-06-20T05:15:58.041Z","type":"message"}
{"nick":"jesusabdullah","message":"funny","date":"2012-06-20T05:16:05.830Z","type":"message"}
{"nick":"jesusabdullah","message":"My go-to is async.forEachSeries","date":"2012-06-20T05:16:18.986Z","type":"message"}
{"nick":"guybrush","message":"boaah this nexus-thing becomes crazy itself, all these timing-issues lol","date":"2012-06-20T05:17:05.391Z","type":"message"}
{"nick":"guybrush","message":"didnt even think that it would become half as complex","date":"2012-06-20T05:17:36.143Z","type":"message"}
{"nick":"SubStack","message":"tests!","date":"2012-06-20T05:17:56.436Z","type":"message"}
{"nick":"SubStack","message":"tests are great because then you can guess and check","date":"2012-06-20T05:18:13.480Z","type":"message"}
{"nick":"SubStack","message":"smash on the keyboard until something passes all the tests then ship it","date":"2012-06-20T05:18:26.754Z","type":"message"}
{"nick":"guybrush","message":"oh lol i like random errors","date":"2012-06-20T05:19:08.310Z","type":"message"}
{"nick":"guybrush","message":"Error: kill ESRCH","date":"2012-06-20T05:19:15.303Z","type":"message"}
{"nick":"guybrush","message":"seems like node doesnt like to do some process.kill repeatedly?","date":"2012-06-20T05:19:34.695Z","type":"message"}
{"nick":"isaacs","message":"guybrush: what version is that, 0.6?","date":"2012-06-20T05:25:44.483Z","type":"message"}
{"nick":"isaacs","message":"guybrush: in 0.8, we swallow esrch, because whatever.","date":"2012-06-20T05:25:56.322Z","type":"message"}
{"nick":"isaacs","message":"who cares.","date":"2012-06-20T05:25:57.531Z","type":"message"}
{"nick":"SubStack","message":"esrch what is that even","date":"2012-06-20T05:26:11.921Z","type":"message"}
{"nick":"isaacs","message":"ESRCH = \"The thing you're sending a message to isn't a thing\"","date":"2012-06-20T05:26:12.121Z","type":"message"}
{"nick":"isaacs","message":"     [ESRCH]            No process or process group can be found corresponding to that specified by pid.","date":"2012-06-20T05:26:33.152Z","type":"message"}
{"nick":"isaacs","message":"man 2 kill","date":"2012-06-20T05:26:37.122Z","type":"message"}
{"nick":"SubStack","message":"fuck I think it might be the software messing up the mouse after all","date":"2012-06-20T05:27:44.205Z","type":"message"}
{"nick":"SubStack","message":"because the touchpad stopped working briefly and then both mice came back","date":"2012-06-20T05:28:06.400Z","type":"message"}
{"nick":"guybrush","message":"yes 0.6.18","date":"2012-06-20T05:28:17.347Z","type":"message"}
{"nick":"guybrush","message":"im installing 07 right now","date":"2012-06-20T05:28:36.954Z","type":"message"}
{"nick":"isaacs","message":"guybrush: seriously, 0.7.12 is basically 0.8 already","date":"2012-06-20T05:28:53.200Z","type":"message"}
{"nick":"guybrush","message":"super cool","date":"2012-06-20T05:28:59.601Z","type":"message"}
{"nick":"isaacs","message":"guybrush: apparently fs.watchFile is somewhat broken.","date":"2012-06-20T05:29:04.509Z","type":"message"}
{"nick":"isaacs","message":"but that's why we have these types of builds for people to try out :)","date":"2012-06-20T05:29:15.959Z","type":"message"}
{"nick":"isaacs","message":"and you shoudl be using the much more awesome fs.watch() anyway","date":"2012-06-20T05:29:23.439Z","type":"message"}
{"nick":"guybrush","message":"i run my apps on 0.7.10-pre or something already, only minor issues most tests passed","date":"2012-06-20T05:29:30.351Z","type":"message"}
{"nick":"isaacs","message":"watchFile is slow and terrible","date":"2012-06-20T05:29:34.149Z","type":"message"}
{"nick":"guybrush","message":"i dont use fs.watch* at all i think, cant remember that i used it anywhere","date":"2012-06-20T05:30:51.233Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T05:38:45.079Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T05:58:45.927Z","type":"message"}
{"nick":"guybrush","message":"oh one thing i noticed right now, in 06 i just reused the same unix-socket - now i have to unlink it first?","date":"2012-06-20T06:08:22.969Z","type":"message"}
{"nick":"guybrush","message":"like i listen with a server on the unix-socket, the server crashes - the unix-socket still remains and cant be used to listen on again","date":"2012-06-20T06:09:14.349Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T06:09:45.036Z","type":"message"}
{"nick":"isaacs","message":"guybrush: yeah, it doesn't clobber now, i don't think","date":"2012-06-20T06:09:56.677Z","type":"message"}
{"nick":"guybrush","message":"its really just a view tests failing, i think i am fine after getting some food into my belly","date":"2012-06-20T06:10:35.584Z","type":"message"}
{"nick":"guybrush","message":"isaacs: so the proper way to handle this is, to just unlink if the socket already exists?","date":"2012-06-20T06:11:53.443Z","type":"message"}
{"nick":"SubStack","message":"isaacs: https://github.com/substack/dnode/blob/pipe/examples/stream/connect.js https://github.com/substack/dnode/blob/pipe/examples/stream/listen.js","date":"2012-06-20T06:11:58.780Z","type":"message"}
{"nick":"SubStack","message":"also trying to get weakrefs working in this release","date":"2012-06-20T06:12:11.837Z","type":"message"}
{"nick":"guybrush","message":"SubStack: will the dnode changes be backwardscompatible?","date":"2012-06-20T06:12:15.900Z","type":"message"}
{"nick":"isaacs","message":"SubStack: nice!","date":"2012-06-20T06:12:24.927Z","type":"message"}
{"nick":"SubStack","message":"guybrush: for tcp connections, mostly","date":"2012-06-20T06:12:30.162Z","type":"message"}
{"nick":"SubStack","message":"for browser connections, I'm dropping the magic .listen(app) noise","date":"2012-06-20T06:12:39.899Z","type":"message"}
{"nick":"guybrush","message":"the pipe-able api is just another gamechanger!","date":"2012-06-20T06:12:45.575Z","type":"message"}
{"nick":"SubStack","message":"instead you'll use browser-stream to set that up","date":"2012-06-20T06:12:49.055Z","type":"message"}
{"nick":"ryan_stevens","reason":"Quit: Leaving.","date":"2012-06-20T06:13:03.797Z","type":"quit"}
{"nick":"guybrush","message":"sounds really cool, will you drop socketio?","date":"2012-06-20T06:13:04.464Z","type":"message"}
{"nick":"SubStack","message":"but .connect() and .listen() with hosts and ports works the same","date":"2012-06-20T06:13:07.103Z","type":"message"}
{"nick":"SubStack","message":"yes socketio is already dropped in this fork","date":"2012-06-20T06:13:12.726Z","type":"message"}
{"nick":"guybrush","message":"w00t cant wait to see this in action","date":"2012-06-20T06:13:28.407Z","type":"message"}
{"nick":"SubStack","message":"oh wait that example uses `new` which isn't necessary","date":"2012-06-20T06:14:19.587Z","type":"message"}
{"nick":"guybrush","message":"its much better to let another module implement browser<->server with stream","date":"2012-06-20T06:14:24.466Z","type":"message"}
{"nick":"SubStack","message":"that was from when I was testing the internal prototype","date":"2012-06-20T06:14:28.056Z","type":"message"}
{"nick":"SubStack","message":"guybrush: also it's much easier to use dnode on top of other streaming transports this way too!","date":"2012-06-20T06:14:52.536Z","type":"message"}
{"nick":"SubStack","message":"including multiband streams","date":"2012-06-20T06:14:56.184Z","type":"message"}
{"nick":"SubStack","message":"which is something I want to use for browserling","date":"2012-06-20T06:15:12.548Z","type":"message"}
{"nick":"guybrush","message":"im sure i cant even think of all the possibilities","date":"2012-06-20T06:15:20.886Z","type":"message"}
{"nick":"SubStack","message":"stream all the things","date":"2012-06-20T06:15:28.270Z","type":"message"}
{"nick":"SubStack","message":"plus, kickin' new logo","date":"2012-06-20T06:15:35.628Z","type":"message"}
{"nick":"SubStack","message":"http://substack.net/images/dnode.png","date":"2012-06-20T06:15:44.195Z","type":"message"}
{"nick":"guybrush","message":"the skater-turtle? :D","date":"2012-06-20T06:15:44.798Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T06:15:45.093Z","type":"message"}
{"nick":"guybrush","message":"retweeted that already!","date":"2012-06-20T06:15:54.393Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T06:16:45.095Z","type":"message"}
{"nick":"ryan_stevens","date":"2012-06-20T06:25:32.526Z","type":"join"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T06:31:15.123Z","type":"message"}
{"nick":"blakmatrix","date":"2012-06-20T06:48:09.218Z","type":"part"}
{"nick":"guybrush","message":"isaacs: like that https://github.com/guybrush/nexus/blob/master/bin/server.js#L168-176 -- at least it works for me (i think :D)","date":"2012-06-20T06:51:03.861Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T06:58:45.802Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T07:08:15.066Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T07:13:45.118Z","type":"message"}
{"nick":"dominictarr","date":"2012-06-20T07:32:29.292Z","type":"join"}
{"nick":"SubStack","message":"a dominictarr appears!","date":"2012-06-20T07:35:25.137Z","type":"message"}
{"nick":"SubStack","action":"is hacking clean weakrefs into dnode-protocol","date":"2012-06-20T07:36:07.147Z","type":"action"}
{"nick":"SubStack","message":"dominictarr: also https://github.com/substack/dnode/tree/pipe/examples/stream","date":"2012-06-20T07:36:26.523Z","type":"message"}
{"nick":"SubStack","message":"particularly, https://github.com/substack/dnode/blob/pipe/examples/stream/listen.js#L10 and https://github.com/substack/dnode/blob/pipe/examples/stream/connect.js#L13","date":"2012-06-20T07:36:46.623Z","type":"message"}
{"nick":"dominictarr","reason":"Ping timeout: 265 seconds","date":"2012-06-20T07:54:45.095Z","type":"quit"}
{"nick":"SubStack","message":"ug that old {local,remote}Store patch thejh sent me is so bad, ripping all of this out","date":"2012-06-20T07:56:44.482Z","type":"message"}
{"nick":"SubStack","message":"it doesn't even play nicely with weakrefs, I don't know why it's in there at all","date":"2012-06-20T07:56:57.336Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T07:58:15.119Z","type":"message"}
{"nick":"guybrush","message":"will you depend on node-weak?","date":"2012-06-20T07:58:39.193Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T07:58:45.819Z","type":"message"}
{"nick":"SubStack","message":"guybrush: only in the tests","date":"2012-06-20T08:01:44.332Z","type":"message"}
{"nick":"SubStack","message":"and in dnode proper","date":"2012-06-20T08:01:46.708Z","type":"message"}
{"nick":"SubStack","message":"dnode-protocol will not directly depend on it since I need to use it in the browser","date":"2012-06-20T08:02:05.314Z","type":"message"}
{"nick":"guybrush","message":"some time ago i tried to look into the memleak-issue, just didnt get it","date":"2012-06-20T08:02:22.769Z","type":"message"}
{"nick":"SubStack","message":"haha whoa, calling Array.prototype.indexOf() on an object literal with numeric keys is 50% faster than calling .indexOf on a real array directly","date":"2012-06-20T08:11:54.880Z","type":"message"}
{"nick":"SubStack","message":"in my test","date":"2012-06-20T08:12:00.585Z","type":"message"}
{"nick":"SubStack","message":"oh wait nevermind","date":"2012-06-20T08:12:29.575Z","type":"message"}
{"nick":"SubStack","message":"it only works if you set 'length'","date":"2012-06-20T08:12:34.659Z","type":"message"}
{"nick":"SubStack","message":"it was just returning -1 is why","date":"2012-06-20T08:12:38.935Z","type":"message"}
{"nick":"SubStack","message":"right, it's slightly slower as I would expect","date":"2012-06-20T08:13:13.656Z","type":"message"}
{"nick":"SubStack","message":"FALSE ALARM","date":"2012-06-20T08:13:19.674Z","type":"message"}
{"nick":"LOUDBOT","message":"HOW ARE BASES FORMED. HOW MILITARY GET DEPLOYED","date":"2012-06-20T08:13:20.229Z","type":"message"}
{"nick":"guybrush","message":"btw isaacs the Error: kill ESRCH does not appear anymore in 0.7.x","date":"2012-06-20T08:18:36.288Z","type":"message"}
{"nick":"guybrush","message":"also epipe has gone somehow hopefully haha","date":"2012-06-20T08:18:57.157Z","type":"message"}
{"nick":"SubStack","message":"I fucking hate epipe","date":"2012-06-20T08:19:51.147Z","type":"message"}
{"nick":"SubStack","message":"so much","date":"2012-06-20T08:19:52.449Z","type":"message"}
{"nick":"SubStack","message":"kill it kill it kill it","date":"2012-06-20T08:19:58.134Z","type":"message"}
{"nick":"SubStack","message":"epipe is why browserling crashes so much","date":"2012-06-20T08:20:12.049Z","type":"message"}
{"nick":"SubStack","message":"and I have no idea how to even find where it's coming from","date":"2012-06-20T08:20:23.859Z","type":"message"}
{"nick":"guybrush","message":"the best things are random errors which only occur occasionally","date":"2012-06-20T08:20:24.981Z","type":"message"}
{"nick":"SubStack","message":"if I tried to write to an unwritable stream I DON'T FUCKING CARE","date":"2012-06-20T08:20:58.799Z","type":"message"}
{"nick":"SubStack","message":"just don't explode","date":"2012-06-20T08:21:04.203Z","type":"message"}
{"nick":"SubStack","message":"that's the one thing that node shouldn't do, explode","date":"2012-06-20T08:21:13.999Z","type":"message"}
{"nick":"SubStack","message":"but that's what it does","date":"2012-06-20T08:21:20.647Z","type":"message"}
{"nick":"guybrush","message":"lol my internetconnection just drops randomly all the time too...... fucking isp - i have to do a call with the phone to clear the wire or something, then it works again. and the first thing they do? they lower the bandwidth and see what happens","date":"2012-06-20T08:24:48.467Z","type":"message"}
{"nick":"guybrush","message":"bastards","date":"2012-06-20T08:24:51.896Z","type":"message"}
{"nick":"ryan_stevens","reason":"Quit: Leaving.","date":"2012-06-20T08:44:52.951Z","type":"quit"}
{"nick":"SubStack","message":"wooo  4 files changed, 39 insertions(+), 168 deletions(-)","date":"2012-06-20T08:51:20.636Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T08:54:15.115Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T08:58:45.815Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T09:14:15.035Z","type":"message"}
{"nick":"dominictarr","date":"2012-06-20T09:30:43.358Z","type":"join"}
{"nick":"SubStack","message":"'hoy","date":"2012-06-20T09:30:59.798Z","type":"message"}
{"nick":"dominictarr","message":"substack, I SAW THAT","date":"2012-06-20T09:48:31.960Z","type":"message"}
{"nick":"dominictarr","message":"APPROVE VERY MUCH","date":"2012-06-20T09:48:39.450Z","type":"message"}
{"nick":"LOUDBOT","message":"I WILL FUCKING WWEBSITE YOU","date":"2012-06-20T09:48:39.823Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T09:49:45.704Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, I'm getting a little concerned with this talk about \"client side package managers\"","date":"2012-06-20T09:54:26.527Z","type":"message"}
{"nick":"dominictarr","message":"I mean, we have the worlds best package manager already. so why would we want another one?","date":"2012-06-20T09:55:11.962Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T09:58:45.946Z","type":"message"}
{"nick":"SubStack","message":"haha yeah","date":"2012-06-20T10:01:34.965Z","type":"message"}
{"nick":"SubStack","message":"dominictarr: who is giving that talk?","date":"2012-06-20T10:01:43.760Z","type":"message"}
{"nick":"SubStack","message":"I just use npm since it has the most packages","date":"2012-06-20T10:02:01.461Z","type":"message"}
{"nick":"SubStack","message":"the most packages and the easiest to publish to and libraries can be quite tiny and reusable","date":"2012-06-20T10:02:38.178Z","type":"message"}
{"nick":"SubStack","message":"dominictarr: also .listen() and .connect() are implemented in terms of .pipe() in dnode, readable/writable streaming is the primitive in dnode now","date":"2012-06-20T10:04:34.580Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, SWEET","date":"2012-06-20T10:04:55.105Z","type":"message"}
{"nick":"SubStack","message":"also: weakrefs","date":"2012-06-20T10:04:55.824Z","type":"message"}
{"nick":"SubStack","message":"working on those right now","date":"2012-06-20T10:04:58.923Z","type":"message"}
{"nick":"dominictarr","message":"what are you using weakrefs for?","date":"2012-06-20T10:05:09.813Z","type":"message"}
{"nick":"SubStack","message":"I've already got a counter lib and an example script using tootallnate's node-weak","date":"2012-06-20T10:05:11.894Z","type":"message"}
{"nick":"dominictarr","message":"here is one https://github.com/caolan/jam","date":"2012-06-20T10:05:20.275Z","type":"message"}
{"nick":"SubStack","message":"weakrefs for auto-culling","date":"2012-06-20T10:05:24.953Z","type":"message"}
{"nick":"SubStack","message":"oh right, jam","date":"2012-06-20T10:05:27.301Z","type":"message"}
{"nick":"SubStack","message":"weakrefs to the memory can get garbage collected when functions aren't being used anymore","date":"2012-06-20T10:05:44.183Z","type":"message"}
{"nick":"dominictarr","message":"I saw tj and isaacs mention the them a few times, and that got me worried.","date":"2012-06-20T10:06:01.737Z","type":"message"}
{"nick":"SubStack","message":"I also want to have an option you can switch on that sets an absolute maximum number of callbacks a session can have","date":"2012-06-20T10:06:13.127Z","type":"message"}
{"nick":"dominictarr","message":"I've been thinking of using weakrefs to test garbage collection.","date":"2012-06-20T10:06:45.666Z","type":"message"}
{"nick":"SubStack","message":"it's fun to see what triggers garbage collection","date":"2012-06-20T10:07:01.270Z","type":"message"}
{"nick":"dominictarr","message":"to test wether something actually gets disposed of properly","date":"2012-06-20T10:07:09.717Z","type":"message"}
{"nick":"dominictarr","message":"that can be tricky with complex event emitters and streams.","date":"2012-06-20T10:07:27.428Z","type":"message"}
{"nick":"SubStack","message":"when I make an array with 12000 function elements and clear it it's not triggered but then at 13000 it triggers","date":"2012-06-20T10:07:44.418Z","type":"message"}
{"nick":"SubStack","message":"fun to tinker with","date":"2012-06-20T10:08:01.292Z","type":"message"}
{"nick":"dominictarr","message":"if you build really large objects with logging you can see it pausing to collect","date":"2012-06-20T10:11:00.335Z","type":"message"}
{"nick":"SubStack","message":"oh and another thing","date":"2012-06-20T10:12:46.238Z","type":"message"}
{"nick":"SubStack","message":"when I was thinking out loud on twitter yesterday about writable streams having a .accept","date":"2012-06-20T10:13:03.674Z","type":"message"}
{"nick":"SubStack","message":"it was from this: https://github.com/substack/dnode/blob/pipe/lib/dnode.js#L56-L59","date":"2012-06-20T10:13:07.875Z","type":"message"}
{"nick":"SubStack","message":"because I want to pipe raw objects through a stream multiplexer in a multi-band fashion","date":"2012-06-20T10:13:50.258Z","type":"message"}
{"nick":"SubStack","message":"without having to stringify/parse needlessly","date":"2012-06-20T10:14:13.363Z","type":"message"}
{"nick":"SubStack","message":"but if writable streams could declare their accept preferences, then readable streams could more intelligently emit data","date":"2012-06-20T10:14:44.383Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, that is a quite a good point for multiplexers.","date":"2012-06-20T10:15:43.330Z","type":"message"}
{"nick":"dominictarr","message":"hmm.","date":"2012-06-20T10:15:45.092Z","type":"message"}
{"nick":"SubStack","message":"multi-band all the streams!","date":"2012-06-20T10:15:57.625Z","type":"message"}
{"nick":"SubStack","message":"so for instance something like JSONStream.stringify() could have a .accept = 'object' to signify that it eats objects on 'data'","date":"2012-06-20T10:16:23.052Z","type":"message"}
{"nick":"SubStack","message":"or other streams could have an array 'accept' header to state their preference order if they can accept multiple types of input","date":"2012-06-20T10:16:51.719Z","type":"message"}
{"nick":"dominictarr","message":"you mean spews them out","date":"2012-06-20T10:16:59.022Z","type":"message"}
{"nick":"dominictarr","message":"oh, no","date":"2012-06-20T10:17:04.057Z","type":"message"}
{"nick":"dominictarr","message":"stringify","date":"2012-06-20T10:17:06.561Z","type":"message"}
{"nick":"SubStack","message":"the problem is that Stream.prototype.pipe() isn't smart about this at all","date":"2012-06-20T10:17:10.438Z","type":"message"}
{"nick":"SubStack","message":"it just pumps the same data to every connected writable stream","date":"2012-06-20T10:17:27.134Z","type":"message"}
{"nick":"dominictarr","message":"you could have a SmartStream wrapper that wrapped pipe and inserted extra streams if necessary","date":"2012-06-20T10:17:58.940Z","type":"message"}
{"nick":"SubStack","message":"yes, I was poking at some sort of AcceptStream","date":"2012-06-20T10:18:22.076Z","type":"message"}
{"nick":"SubStack","message":"that could negotiate between readable and writable streams what to emit","date":"2012-06-20T10:18:37.247Z","type":"message"}
{"nick":"dominictarr","message":"something like smart(RAW, null, 'buffers').pipe(smart(JSONSTREAM, 'line', 'object'))","date":"2012-06-20T10:19:16.092Z","type":"message"}
{"nick":"SubStack","message":"or perhaps a stream demuxer could do this","date":"2012-06-20T10:19:17.387Z","type":"message"}
{"nick":"SubStack","message":"where the readable stream emits to different event names","date":"2012-06-20T10:19:28.981Z","type":"message"}
{"nick":"SubStack","message":"and the demuxer turns those names into 2 streams that emit 'data'","date":"2012-06-20T10:19:40.201Z","type":"message"}
{"nick":"dominictarr","message":"it's probably simpler to insert extra streams into the pipe","date":"2012-06-20T10:20:23.412Z","type":"message"}
{"nick":"dominictarr","message":"afterall, these translation streams will be sync","date":"2012-06-20T10:20:36.490Z","type":"message"}
{"nick":"SubStack","message":"probably","date":"2012-06-20T10:21:10.805Z","type":"message"}
{"nick":"SubStack","message":"maybe some convention where you emit to data.TYPE and a demuxer stream in the pipeline pulls those apart into regular data streams","date":"2012-06-20T10:21:57.712Z","type":"message"}
{"nick":"dominictarr","message":"you'd totally have to regig the pipe implementation if you are gonna emit more events","date":"2012-06-20T10:22:44.611Z","type":"message"}
{"nick":"SubStack","message":"I've done that before","date":"2012-06-20T10:23:02.231Z","type":"message"}
{"nick":"SubStack","message":"for stoppable .pipe()s with multiple targets","date":"2012-06-20T10:23:18.901Z","type":"message"}
{"nick":"dominictarr","message":"there is so much subtly to pipe, it's dangerous.","date":"2012-06-20T10:23:40.219Z","type":"message"}
{"nick":"SubStack","message":"very","date":"2012-06-20T10:23:46.666Z","type":"message"}
{"nick":"dominictarr","message":"a small wrapper around pipe is okay","date":"2012-06-20T10:24:05.394Z","type":"message"}
{"nick":"SubStack","message":"well perhaps it could all go through the same data events","date":"2012-06-20T10:24:45.032Z","type":"message"}
{"nick":"dominictarr","message":"I prefer the idea of an accept=type, produce=type properties on the streams","date":"2012-06-20T10:24:49.460Z","type":"message"}
{"nick":"SubStack","message":"ah produce would be a good name","date":"2012-06-20T10:25:08.621Z","type":"message"}
{"nick":"dominictarr","message":"and then a translator stream that knows how to change from one to the other","date":"2012-06-20T10:25:14.836Z","type":"message"}
{"nick":"SubStack","message":"yes, this could work very well for my use-case","date":"2012-06-20T10:26:13.581Z","type":"message"}
{"nick":"dominictarr","message":"plus, if it's just properties, it's one line pull-requests to add them to people's modules.","date":"2012-06-20T10:26:17.467Z","type":"message"}
{"nick":"dominictarr","message":"or core's for that matter","date":"2012-06-20T10:27:13.703Z","type":"message"}
{"nick":"SubStack","message":"and there aren't many streams that emit objects yet","date":"2012-06-20T10:27:39.859Z","type":"message"}
{"nick":"dominictarr","message":"not in core.","date":"2012-06-20T10:27:48.299Z","type":"message"}
{"nick":"SubStack","message":"it would be nice if streams stated whether they emitted buffers or strings though","date":"2012-06-20T10:27:51.364Z","type":"message"}
{"nick":"dominictarr","message":"the stream doc's mentions a setEncoding","date":"2012-06-20T10:28:14.814Z","type":"message"}
{"nick":"dominictarr","message":"hmm. but there is no way to read the encoding","date":"2012-06-20T10:30:00.750Z","type":"message"}
{"nick":"dominictarr","message":"so a readable stream can't tell you what it will emit","date":"2012-06-20T10:30:28.785Z","type":"message"}
{"nick":"SubStack","message":"it's not on stream.prototype though","date":"2012-06-20T10:31:34.399Z","type":"message"}
{"nick":"SubStack","message":"just in assorted methods","date":"2012-06-20T10:31:41.953Z","type":"message"}
{"nick":"dominictarr","message":"oh, because the user sets it on the readable stream","date":"2012-06-20T10:31:48.243Z","type":"message"}
{"nick":"dominictarr","message":"yeah, it's just a feature on the core streams, presumably.","date":"2012-06-20T10:32:31.504Z","type":"message"}
{"nick":"dominictarr","message":"it takes `base64` `ascii` and `utf8`","date":"2012-06-20T10:33:58.557Z","type":"message"}
{"nick":"dominictarr","message":"accept and produce properties are simple enough, and are easy to set manually.","date":"2012-06-20T10:38:04.572Z","type":"message"}
{"nick":"dominictarr","message":"or add to pull requests.","date":"2012-06-20T10:38:18.875Z","type":"message"}
{"nick":"dominictarr","message":"the trouble is, adoption of streaming is not yet widespread.","date":"2012-06-20T10:39:31.471Z","type":"message"}
{"nick":"SubStack","message":"and there is a lot of territory that hasn't been sufficiently explored","date":"2012-06-20T10:40:34.372Z","type":"message"}
{"nick":"SubStack","message":"like multi-band streams","date":"2012-06-20T10:40:38.847Z","type":"message"}
{"nick":"SubStack","message":"and mux/demuxers","date":"2012-06-20T10:40:54.987Z","type":"message"}
{"nick":"SubStack","message":"and type negotiation of course","date":"2012-06-20T10:41:31.021Z","type":"message"}
{"nick":"SubStack","message":"need to blaze some trails","date":"2012-06-20T10:42:07.548Z","type":"message"}
{"nick":"SubStack","message":"CAULK THE WAGONS AND FLOAT.","date":"2012-06-20T10:42:51.990Z","type":"message"}
{"nick":"LOUDBOT","message":"AND YOUR DICK DOESN'T COUNT","date":"2012-06-20T10:42:52.528Z","type":"message"}
{"nick":"SubStack","message":"NICE HOMOPHONE","date":"2012-06-20T10:43:09.368Z","type":"message"}
{"nick":"LOUDBOT","message":"WINDOWS 2012 IS WHAT THE MAYANS WERE REALLY PREDICTING","date":"2012-06-20T10:43:09.737Z","type":"message"}
{"nick":"dominictarr","message":"browser-stream implements multiband streams, effectively, but still creates the appearance of individual streams","date":"2012-06-20T10:45:37.191Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, https://github.com/substack/node-browserify/issues/174","date":"2012-06-20T10:45:42.225Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, https://github.com/substack/node-browserify/issues/175","date":"2012-06-20T10:45:51.321Z","type":"message"}
{"nick":"dominictarr","message":"you thoughts?","date":"2012-06-20T10:45:55.603Z","type":"message"}
{"nick":"SubStack","message":"saw those","date":"2012-06-20T10:46:28.956Z","type":"message"}
{"nick":"SubStack","message":"well a second-arg on require is used in some places already to state the origin file","date":"2012-06-20T10:46:50.499Z","type":"message"}
{"nick":"SubStack","message":"another idea: file.browser.js","date":"2012-06-20T10:47:46.948Z","type":"message"}
{"nick":"SubStack","message":"also: browser_modules","date":"2012-06-20T10:48:02.842Z","type":"message"}
{"nick":"dominictarr","message":"the origin file?","date":"2012-06-20T10:49:50.609Z","type":"message"}
{"nick":"SubStack","message":"the file that require() was called from","date":"2012-06-20T10:50:03.643Z","type":"message"}
{"nick":"SubStack","message":"also if we're going to change how require() works you can already do typeof window === 'undefined' ? (require)('server-thing') : require('client-thing')","date":"2012-06-20T10:51:22.087Z","type":"message"}
{"nick":"dominictarr","message":"good point.","date":"2012-06-20T10:53:20.027Z","type":"message"}
{"nick":"dominictarr","message":"so I could just write a function to install this myself","date":"2012-06-20T10:53:52.515Z","type":"message"}
{"nick":"SubStack","message":"also there are some hooks you can listen to to delete files from the bundle","date":"2012-06-20T10:54:43.236Z","type":"message"}
{"nick":"SubStack","message":"bundle.register() might be a good use for this","date":"2012-06-20T10:54:52.505Z","type":"message"}
{"nick":"SubStack","message":"if you just delete the elements out of bundle.files before bundle.bundle() gets called they won't show up","date":"2012-06-20T10:55:20.986Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T10:58:45.814Z","type":"message"}
{"nick":"SubStack","message":"haha rest","date":"2012-06-20T11:07:46.927Z","type":"message"}
{"nick":"SubStack","message":"what's up with that","date":"2012-06-20T11:07:50.269Z","type":"message"}
{"nick":"SubStack","action":"likes state and streams","date":"2012-06-20T11:08:01.747Z","type":"action"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T11:14:18.138Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T11:21:45.060Z","type":"message"}
{"nick":"dominictarr","message":"he keeps on saying \"business applications\" I think he might be a Java developer.","date":"2012-06-20T11:23:48.397Z","type":"message"}
{"nick":"dominictarr","reason":"Ping timeout: 244 seconds","date":"2012-06-20T11:29:33.363Z","type":"quit"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T11:30:45.150Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T11:32:45.001Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 173.203.67.76(free3)","date":"2012-06-20T11:51:15.052Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T11:58:45.788Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Encoders down: 50.56.32.168(free1)","date":"2012-06-20T12:26:16.084Z","type":"message"}
{"nick":"simcop2387","reason":"Excess Flood","date":"2012-06-20T12:37:25.174Z","type":"quit"}
{"nick":"cubert_","date":"2012-06-20T12:37:30.973Z","type":"join"}
{"nick":"farnsworth","date":"2012-06-20T12:37:31.326Z","type":"join"}
{"nick":"simcop2387","date":"2012-06-20T12:37:32.992Z","type":"join"}
{"nick":"simcop2387","reason":"Changing host","date":"2012-06-20T12:37:33.485Z","type":"quit"}
{"nick":"simcop2387","date":"2012-06-20T12:37:33.685Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T12:58:45.799Z","type":"message"}
{"nick":"cubert_","new_nick":"cubert","date":"2012-06-20T13:01:38.172Z","type":"nick"}
{"nick":"xaq","date":"2012-06-20T13:10:48.485Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-06-20T13:12:10.006Z","type":"quit"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T13:14:15.097Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T13:58:47.380Z","type":"message"}
{"nick":"xaq","date":"2012-06-20T14:05:46.165Z","type":"join"}
{"nick":"wiwillia","date":"2012-06-20T14:10:06.505Z","type":"join"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.56.32.168(free1)","date":"2012-06-20T14:26:45.005Z","type":"message"}
{"nick":"SubStack","message":"running a pummel test for dnode with weak refs","date":"2012-06-20T14:51:57.077Z","type":"message"}
{"nick":"SubStack","message":"10 clients going full-out at about 100 msgs / sec each","date":"2012-06-20T14:52:38.876Z","type":"message"}
{"nick":"SubStack","message":"memory hasn't gotten above 1.4% yet after 2.5 minutes","date":"2012-06-20T14:53:05.353Z","type":"message"}
{"nick":"SubStack","message":"I'll let it run to 10 minutes","date":"2012-06-20T14:53:13.677Z","type":"message"}
{"nick":"dominictarr","date":"2012-06-20T14:54:02.090Z","type":"join"}
{"nick":"SubStack","message":"seems to be at steady state between 1.4% and 0.5% memory usage","date":"2012-06-20T14:54:12.023Z","type":"message"}
{"nick":"SubStack","message":"v8 is really aggressive with optimizations though so it might be hard to tell if this is even doing anything","date":"2012-06-20T14:55:20.718Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T14:58:45.826Z","type":"message"}
{"nick":"SubStack","message":"already up to 2.1% without weakref culling","date":"2012-06-20T15:00:11.820Z","type":"message"}
{"nick":"SubStack","message":"2.3 at 1 minute in","date":"2012-06-20T15:00:47.472Z","type":"message"}
{"nick":"SubStack","message":"jumping around a bit but now at 2.9, 1.5 minutes in","date":"2012-06-20T15:01:37.927Z","type":"message"}
{"nick":"SubStack","message":"3.2 at 2 minutes","date":"2012-06-20T15:02:34.733Z","type":"message"}
{"nick":"SubStack","message":"making toast &","date":"2012-06-20T15:02:54.771Z","type":"message"}
{"nick":"SubStack","message":"4.2%","date":"2012-06-20T15:04:45.486Z","type":"message"}
{"nick":"SubStack","message":"ok it's safe to say that this thing is leaking memory without weakrefs","date":"2012-06-20T15:04:55.387Z","type":"message"}
{"nick":"_sorensen","date":"2012-06-20T15:08:45.920Z","type":"join"}
{"nick":"rowbit","message":"SubStack, pkrumins: These encoders are STILL down: 50.57.223.161(free5)","date":"2012-06-20T15:14:15.365Z","type":"message"}
{"nick":"isaacs","message":"guybrush: you could also use rimraf, which just destroys everythign it sees","date":"2012-06-20T15:17:22.246Z","type":"message"}
{"nick":"isaacs","message":"guybrush: (re: https://github.com/guybrush/nexus/blob/master/bin/server.js#L168-176)","date":"2012-06-20T15:17:32.186Z","type":"message"}
{"nick":"isaacs","message":"guybrush: rimraf(path, cb)","date":"2012-06-20T15:17:56.796Z","type":"message"}
{"nick":"isaacs","message":"dominictarr, SubStack: Yes, I'm quite serious about that.  the module system is indeed locked.","date":"2012-06-20T15:18:23.053Z","type":"message"}
{"nick":"isaacs","message":"innovate away. we wont' steal your cookies.","date":"2012-06-20T15:18:35.866Z","type":"message"}
{"nick":"SubStack","message":"so weakrefs work","date":"2012-06-20T15:20:36.568Z","type":"message"}
{"nick":"SubStack","message":"and I've verified that they prevent memory leaks","date":"2012-06-20T15:20:46.938Z","type":"message"}
{"nick":"SubStack","message":"and all the tests pass of course","date":"2012-06-20T15:21:13.592Z","type":"message"}
{"nick":"tanepiper","message":"nice just saw your tweet","date":"2012-06-20T15:24:06.366Z","type":"message"}
{"nick":"tanepiper","message":"so really for my talk I should show the 'new' way? :D","date":"2012-06-20T15:24:28.063Z","type":"message"}
{"nick":"isaacs","message":"SubStack: that's many types of awesomes.","date":"2012-06-20T15:24:35.710Z","type":"message"}
{"nick":"SubStack","message":"tanepiper: if you like","date":"2012-06-20T15:24:53.546Z","type":"message"}
{"nick":"isaacs","message":"SubStack: weakrefs how, exactly?  using the --harmony_collection flag?","date":"2012-06-20T15:24:55.420Z","type":"message"}
{"nick":"SubStack","message":"I haven't whipped up a browser example yet though","date":"2012-06-20T15:25:01.476Z","type":"message"}
{"nick":"SubStack","message":"isaacs: using https://github.com/TooTallNate/node-weak","date":"2012-06-20T15:25:11.243Z","type":"message"}
{"nick":"isaacs","message":"ah, nice","date":"2012-06-20T15:25:28.009Z","type":"message"}
{"nick":"tanepiper","message":"oh you've changed the logo too!","date":"2012-06-20T15:26:06.479Z","type":"message"}
{"nick":"isaacs","message":"$ ./node --harmony_collections","date":"2012-06-20T15:26:15.605Z","type":"message"}
{"nick":"isaacs","message":"> WeakMap","date":"2012-06-20T15:26:15.804Z","type":"message"}
{"nick":"isaacs","message":"[Function: WeakMap]","date":"2012-06-20T15:26:17.959Z","type":"message"}
{"nick":"SubStack","message":"and I can even feature-detect if browsers have weakmaps and use that accordingly","date":"2012-06-20T15:26:21.914Z","type":"message"}
{"nick":"isaacs","message":"SubStack: it'd be good to write a WeakMap implementation that used node-weak","date":"2012-06-20T15:26:33.249Z","type":"message"}
{"nick":"isaacs","message":"SubStack: then you could optionally depend on that, or sniff for WeakMap","date":"2012-06-20T15:26:43.990Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Developers waiting in the queue for ie9 (Queue length: 1 on 1 servers. Total servers: 3)","date":"2012-06-20T15:26:45.080Z","type":"message"}
{"nick":"SubStack","message":"i think there is one already","date":"2012-06-20T15:26:48.231Z","type":"message"}
{"nick":"isaacs","message":"SubStack: since that's what browsers will have eventually","date":"2012-06-20T15:26:52.493Z","type":"message"}
{"nick":"isaacs","message":"buti dont' think a weakref callback is on the spec's agenda","date":"2012-06-20T15:27:13.709Z","type":"message"}
{"nick":"tanepiper","action":"loves when things change or get new features just before he talks about them :p","date":"2012-06-20T15:27:55.798Z","type":"action"}
{"nick":"SubStack","message":"tanepiper: it means you are talking about happening things!","date":"2012-06-20T15:28:19.228Z","type":"message"}
{"nick":"SubStack","message":"and you are on the bleeding edge and all that","date":"2012-06-20T15:28:28.416Z","type":"message"}
{"nick":"tanepiper","message":"hehe, yea :) It'll be awesome","date":"2012-06-20T15:28:46.219Z","type":"message"}
{"nick":"tanepiper","message":"i'm going to talk about my annoyance of people who think js is a toy lang and call them our as trolls","date":"2012-06-20T15:29:12.341Z","type":"message"}
{"nick":"tanepiper","message":"then dnode","date":"2012-06-20T15:29:17.471Z","type":"message"}
{"nick":"tanepiper","message":"(then hopfully seaport/airport if I get time)","date":"2012-06-20T15:29:51.743Z","type":"message"}
{"nick":"dominictarr","message":"SubStack, require.toString() == 'function require(path) {...","date":"2012-06-20T15:31:34.474Z","type":"message"}
{"nick":"dominictarr","message":"so no second argument.","date":"2012-06-20T15:31:41.367Z","type":"message"}
{"nick":"dominictarr","message":"did you mean it uses a second argument in browserify?","date":"2012-06-20T15:31:57.505Z","type":"message"}
{"nick":"SubStack","message":"dominictarr: there are 2 require()s","date":"2012-06-20T15:32:01.649Z","type":"message"}
{"nick":"SubStack","message":"it's complicated","date":"2012-06-20T15:32:13.351Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Developers waiting in the queue for ie9 (Queue length: 1 on 1 servers. Total servers: 3)","date":"2012-06-20T15:32:15.071Z","type":"message"}
{"nick":"dominictarr","message":"do you mean the global require?","date":"2012-06-20T15:32:27.675Z","type":"message"}
{"nick":"SubStack","message":"silly rowbit there are plenty of servers","date":"2012-06-20T15:33:11.729Z","type":"message"}
{"nick":"SubStack","message":"I just need to retool the queue balancer","date":"2012-06-20T15:33:21.136Z","type":"message"}
{"nick":"tanepiper","message":"so is dnode going full stream then, and ditching .listen/.connect ?  https://github.com/substack/dnode/blob/2143136366ed10df5a18161627667c2ce2b8a8e6/lib/dnode.js","date":"2012-06-20T15:35:59.215Z","type":"message"}
{"nick":"SubStack","message":".listen and .connect are still around but they are written in terms of the readable/writable stream","date":"2012-06-20T15:36:21.402Z","type":"message"}
{"nick":"SubStack","message":"tanepiper: index.js has connect and listen","date":"2012-06-20T15:37:00.441Z","type":"message"}
{"nick":"SubStack","message":"index.js is node-specific code","date":"2012-06-20T15:37:06.924Z","type":"message"}
{"nick":"SubStack","message":"lib/dnode.js is both node and browsers","date":"2012-06-20T15:37:21.345Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Developers waiting in the queue for ie9 (Queue length: 1 on 1 servers. Total servers: 3)","date":"2012-06-20T15:37:44.994Z","type":"message"}
{"nick":"SubStack","message":"they should just refresh >_<","date":"2012-06-20T15:38:10.698Z","type":"message"}
{"nick":"tanepiper","message":"what about .use ? my app is using it for dnode-session and some of my app code","date":"2012-06-20T15:39:10.176Z","type":"message"}
{"nick":"dominictarr","message":"I smell a module that wants a nappy changed","date":"2012-06-20T15:39:39.219Z","type":"message"}
{"nick":"tanepiper","message":"oh i see, .on('local' instead - so this. in there ?","date":"2012-06-20T15:39:54.758Z","type":"message"}
{"nick":"SubStack","message":"yes instead of .use use that","date":"2012-06-20T15:40:34.842Z","type":"message"}
{"nick":"SubStack","message":"events > middleware","date":"2012-06-20T15:40:42.854Z","type":"message"}
{"nick":"dominictarr","message":"isaacs, I think I've asked you about this before, but what gave you guys the idea to use node_modules and abandon NODE_PATH?","date":"2012-06-20T15:40:53.056Z","type":"message"}
{"nick":"SubStack","message":"npm was doing modules correctly since the beginning I thought?","date":"2012-06-20T15:41:19.234Z","type":"message"}
{"nick":"SubStack","message":"it was just really hackish and terrible with crazy symlink tricks","date":"2012-06-20T15:41:33.452Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Developers waiting in the queue for ie9 (Queue length: 1 on 1 servers. Total servers: 3)","date":"2012-06-20T15:42:45.360Z","type":"message"}
{"nick":"isaacs","message":"SubStack: well... npmwas kind of making do, but not actually doing modules \"correctly\"","date":"2012-06-20T15:43:02.538Z","type":"message"}
{"nick":"tanepiper","message":"SubStack: agreed - middleware has been a pain :| I worked around most of my issues but OH MY GAWD THE SPAGHETTI CODE","date":"2012-06-20T15:43:21.411Z","type":"message"}
{"nick":"SubStack","message":"npm had lofty ideals then","date":"2012-06-20T15:43:21.840Z","type":"message"}
{"nick":"isaacs","message":"SubStack: the node_modules approach was a way to make npm less hacky, and get the semantics more correct","date":"2012-06-20T15:43:22.496Z","type":"message"}
{"nick":"dominictarr","message":"npm < 0.3 was pretty wacky with shims and stuff.","date":"2012-06-20T15:43:27.087Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: <1.0","date":"2012-06-20T15:43:34.786Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: though, yes, 0.2 was much worse","date":"2012-06-20T15:43:41.146Z","type":"message"}
{"nick":"isaacs","message":"remember \"modules\": { \"foo\" : \"lib/utils/foo.js\" }?","date":"2012-06-20T15:43:52.746Z","type":"message"}
{"nick":"isaacs","message":"just so that you could do require(\"bar/foo\")","date":"2012-06-20T15:43:58.938Z","type":"message"}
{"nick":"isaacs","message":"instead of require(\"bar/lib/utils/foo.js\")?","date":"2012-06-20T15:44:08.676Z","type":"message"}
{"nick":"dominictarr","message":"yeah, and the shim files it would generate","date":"2012-06-20T15:44:10.752Z","type":"message"}
{"nick":"isaacs","message":"commonjs inSANity","date":"2012-06-20T15:44:12.155Z","type":"message"}
{"nick":"isaacs","message":"seemed like a cute idea at the time","date":"2012-06-20T15:44:22.376Z","type":"message"}
{"nick":"SubStack","message":"haha I remember those","date":"2012-06-20T15:44:26.801Z","type":"message"}
{"nick":"isaacs","message":"in practice: very terrible.","date":"2012-06-20T15:44:29.596Z","type":"message"}
{"nick":"SubStack","message":"I still get warnings about those from old versions of code on npm","date":"2012-06-20T15:44:38.391Z","type":"message"}
{"nick":"SubStack","message":"which is very annoying actually","date":"2012-06-20T15:44:43.184Z","type":"message"}
{"nick":"dominictarr","message":"so what gave you the idea of node_modules and default local installation?","date":"2012-06-20T15:45:04.965Z","type":"message"}
{"nick":"isaacs","message":"the worst part was like, \"Oh, look there's an error when i use this redis function.  well, let's see what redis is... oh, it's a symlink.  ok.  follow the symlink, open it up in vim... '// generated by npm please don't touch!' FFFFFFFFFFFFFFFUUUUUUUUUU\"","date":"2012-06-20T15:45:19.367Z","type":"message"}
{"nick":"maxogden","message":"lol","date":"2012-06-20T15:45:32.910Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: it was ryah mostly, actually.","date":"2012-06-20T15:45:51.934Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: ryah was like, \"fix this or we're removing the module system i don't give a shit what anyone thinks with their bullshit shims and module insanity\" because he encountered it one day.","date":"2012-06-20T15:46:21.456Z","type":"message"}
{"nick":"tanepiper","message":"npm could do with some genocide - or at least some way of marking broken packages","date":"2012-06-20T15:46:25.404Z","type":"message"}
{"nick":"dominictarr","message":"ahuh","date":"2012-06-20T15:46:51.398Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: i mean, i knew it was a problem, but he really was rageful over it.  i'd grown too accustomed to the pain to really feel it, plus i knew how it worked, so meh.","date":"2012-06-20T15:47:10.212Z","type":"message"}
{"nick":"dominictarr","message":"who suggested to make everything local?","date":"2012-06-20T15:47:47.247Z","type":"message"}
{"nick":"isaacs","message":"but i was struggling with the process.nextTick(function () { require('foo') }) bug, where you'd occasionally get the wrong version.","date":"2012-06-20T15:47:50.472Z","type":"message"}
{"nick":"isaacs","message":"so for npm 0.3, i was making everything local already, and setting up the shims tht way, but it still didn't fix the problem as nicely.","date":"2012-06-20T15:48:11.188Z","type":"message"}
{"nick":"rowbit","message":"SubStack, pkrumins: Developers waiting in the queue for ie9 (Queue length: 1 on 1 servers. Total servers: 3)","date":"2012-06-20T15:48:16.094Z","type":"message"}
{"nick":"isaacs","message":"\"local\" in the sense of \"locally installed in the module, which was installed globally\"","date":"2012-06-20T15:48:25.534Z","type":"message"}
{"nick":"isaacs","message":"like how global installs are now","date":"2012-06-20T15:48:29.093Z","type":"message"}
{"nick":"tanepiper","message":"it was a beautuful accident/decsision then :D","date":"2012-06-20T15:48:40.269Z","type":"message"}
{"nick":"isaacs","message":"and we had the `npm bundle` command pretty early on.","date":"2012-06-20T15:48:44.024Z","type":"message"}
{"nick":"tanepiper","message":"oh ffs, keyboard flail","date":"2012-06-20T15:48:50.776Z","type":"message"}
{"nick":"tanepiper","message":"*fail","date":"2012-06-20T15:48:53.132Z","type":"message"}
{"nick":"dominictarr","message":"like you'd have a simlink to the global install?","date":"2012-06-20T15:48:55.749Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: nono, i mean, the default install was global, but it just put deps in subfolders.","date":"2012-06-20T15:49:12.943Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: but it still had lots of crazy symlinks everywhere","date":"2012-06-20T15:49:34.292Z","type":"message"}
{"nick":"isaacs","message":"npm bundle used to be just \"do a global install, with prefix=~/node_modules\"","date":"2012-06-20T15:49:56.683Z","type":"message"}
{"nick":"dominictarr","message":"install into home/isaacs/node_modules ?","date":"2012-06-20T15:50:42.651Z","type":"message"}
{"nick":"isaacs","message":"so, with ryan raging about it, and me wanting to work around this \"must require on first tick\" issue, we came up with basically the module system we have now (which was also thankfully only a pretty minor code change) and i made npm install be local.","date":"2012-06-20T15:50:45.864Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: yeah, but it'd do a \"global install\" into that folder.","date":"2012-06-20T15:50:55.380Z","type":"message"}
{"nick":"isaacs","message":"like, with symlinks and foo@version folders and other bullshit.","date":"2012-06-20T15:51:07.842Z","type":"message"}
{"nick":"isaacs","message":"and an \"active\" version","date":"2012-06-20T15:51:15.360Z","type":"message"}
{"nick":"isaacs","message":"and no one really understood 'active' vs 'inactive' versions anyway.  it was an implementation detail that i was never really happy about.","date":"2012-06-20T15:51:48.042Z","type":"message"}
{"nick":"dominictarr","message":"I'm confused. but it doesn't matter, because what we have now is so simple.","date":"2012-06-20T15:51:57.647Z","type":"message"}
{"nick":"isaacs","message":"yeah, it was confusing :)","date":"2012-06-20T15:52:06.961Z","type":"message"}
{"nick":"tanepiper","message":"i'm also glad you went with a non-enforced preferGlobal","date":"2012-06-20T15:52:18.087Z","type":"message"}
{"nick":"dominictarr","message":"every package manager was like that. I never knew how rubygems worked.","date":"2012-06-20T15:52:32.662Z","type":"message"}
{"nick":"isaacs","message":"tanepiper: yeah.  it's kind of dumb that it warns when you'er installing a listed dependency.","date":"2012-06-20T15:52:38.541Z","type":"message"}
{"nick":"isaacs","message":"it should only be if you dont' list it as a dep.","date":"2012-06-20T15:52:47.950Z","type":"message"}
{"nick":"isaacs","message":"since clearly at that point you know what you doing.","date":"2012-06-20T15:53:04.120Z","type":"message"}
{"nick":"dominictarr","message":"once I met a guy who was working on a ruby continious integration server... and he got so emotionally distressed telling me about bundler.","date":"2012-06-20T15:54:11.877Z","type":"message"}
{"nick":"maxogden","message":"yea bundler is so overengineered","date":"2012-06-20T15:54:33.343Z","type":"message"}
{"nick":"dominictarr","message":"and I asked him if bundler supported version conflicts... he didn't know.","date":"2012-06-20T15:54:42.329Z","type":"message"}
{"nick":"isaacs","message":"bundler : ruby :: npm : node","date":"2012-06-20T15:55:45.775Z","type":"message"}
{"nick":"isaacs","message":"comparing npm to rubygems is not quite right","date":"2012-06-20T15:55:51.788Z","type":"message"}
{"nick":"isaacs","message":"but yes, my experience with bundler is that it is a great example of basically everythign i dislike about ruby","date":"2012-06-20T15:56:20.738Z","type":"message"}
{"nick":"isaacs","message":"lots of magic, many moving parts whirring about, etc.  the same complaint can be made about npm, but we don't *like* that aspect of npm.","date":"2012-06-20T15:56:48.995Z","type":"message"}
{"nick":"isaacs","message":"like, i acknowledge that as a bug","date":"2012-06-20T15:57:01.387Z","type":"message"}
{"nick":"dominictarr","message":"the thing is, everyone knows how npm and node_modules works.","date":"2012-06-20T15:57:06.844Z","type":"message"}
{"nick":"dominictarr","message":"you don't even need npm. you could install all your own modules manually","date":"2012-06-20T15:57:22.457Z","type":"message"}
{"nick":"isaacs","message":"dominictarr: well, not everyone.  just everyone who's read the docs :)","date":"2012-06-20T15:57:30.697Z","type":"message"}
{"nick":"isaacs","message":"or pokes around in the folder","date":"2012-06-20T15:57:37.413Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: []","date":"2012-06-20T15:58:45.806Z","type":"message"}
{"nick":"dominictarr","message":"yeah, anyone who isn't a beginner.","date":"2012-06-20T15:58:46.519Z","type":"message"}
{"nick":"dominictarr","message":"anymore","date":"2012-06-20T15:58:52.803Z","type":"message"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-08-28T00:00:00.325Z","type":"quit"}
{"nick":"ircretary","date":"2013-08-28T00:00:07.345Z","type":"join"}
{"nick":"Raynos","message":"im thinking I want function* (duplex) { }","date":"2013-08-28T00:01:11.610Z","type":"message"}
{"nick":"Raynos","message":"wel function* (duplex, opts) {} really","date":"2013-08-28T00:01:57.462Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-28T00:09:51.091Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-28T00:10:20.820Z","type":"join"}
{"nick":"mcollina","reason":"Ping timeout: 245 seconds","date":"2013-08-28T00:16:41.648Z","type":"quit"}
{"nick":"juliangruber","message":"Raynos: the koa router will be very sexy: app.get('/:cat/:id', function(cat, id) { this.body = cat })","date":"2013-08-28T00:17:24.054Z","type":"message"}
{"nick":"juliangruber","message":"very similar to director from flatiron","date":"2013-08-28T00:17:32.123Z","type":"message"}
{"nick":"substack","message":"this.body?","date":"2013-08-28T00:17:45.705Z","type":"message"}
{"nick":"juliangruber","message":"or whatever the router is called","date":"2013-08-28T00:17:47.933Z","type":"message"}
{"nick":"substack","message":"(skeptical face)","date":"2013-08-28T00:17:50.423Z","type":"message"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-28T00:18:03.072Z","type":"quit"}
{"nick":"juliangruber","message":"substack: this.body = fs.createReadStream(...) works too","date":"2013-08-28T00:18:04.674Z","type":"message"}
{"nick":"Raynos","message":"juliangruber: thats not sexy :p","date":"2013-08-28T00:18:09.548Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: you're not sexy :P","date":"2013-08-28T00:18:21.149Z","type":"message"}
{"nick":"substack","message":"juliangruber: why not just use the http.createServer() idioms?","date":"2013-08-28T00:18:23.712Z","type":"message"}
{"nick":"juliangruber","message":":D","date":"2013-08-28T00:18:25.883Z","type":"message"}
{"nick":"juliangruber","message":"substack: more semantic, less technical","date":"2013-08-28T00:18:52.603Z","type":"message"}
{"nick":"juliangruber","message":"res.end('bla') vs this.body = 'bla'","date":"2013-08-28T00:19:01.844Z","type":"message"}
{"nick":"Raynos","message":"http.createServer(route({ \"/:cat/:id\": function* (duplex, opts) { sendBody(duplex, opts.params.cat) }))","date":"2013-08-28T00:19:08.452Z","type":"message"}
{"nick":"Raynos","message":"but I have thought about doing","date":"2013-08-28T00:19:35.644Z","type":"message"}
{"nick":"juliangruber","message":"substack: i'm not saying i'm prefering that or anything","date":"2013-08-28T00:19:45.693Z","type":"message"}
{"nick":"Raynos","message":"http.createServer(route({ \"/:cat/:id\": function* (duplex, opts) { return { body: opts.params.cat } }))","date":"2013-08-28T00:19:50.752Z","type":"message"}
{"nick":"Raynos","message":"or","date":"2013-08-28T00:20:01.353Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: too object-y/configuration-y for my taste","date":"2013-08-28T00:20:08.672Z","type":"message"}
{"nick":"Raynos","message":"http.createServer(route({ \"/:cat/:id\": function* (duplex, opts) { return stream([opts.params.cat]) }))","date":"2013-08-28T00:20:12.498Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: I had this realisation that most http things are cached anyways, and with generators flow control is way easier -> less reasons to use streams for http responses","date":"2013-08-28T00:20:53.398Z","type":"message"}
{"nick":"Raynos","message":"well that depends","date":"2013-08-28T00:21:14.877Z","type":"message"}
{"nick":"Raynos","message":"most of the time i dont use streams","date":"2013-08-28T00:21:19.581Z","type":"message"}
{"nick":"substack","message":"var parts = req.url.split('/'); if (parts.length === 2) { res.end('cat=' + parts[0] + '; id=' + parts[1]) } else res.end('404!')","date":"2013-08-28T00:21:20.013Z","type":"message"}
{"nick":"juliangruber","message":"substack: that's harder to scale","date":"2013-08-28T00:22:32.316Z","type":"message"}
{"nick":"juliangruber","message":"app.get('/:cat/:id', function*(){ this.body = 'cat=' + cat + ';id=' + id })","date":"2013-08-28T00:23:02.525Z","type":"message"}
{"nick":"juliangruber","message":"that's more dense :P","date":"2013-08-28T00:23:10.005Z","type":"message"}
{"nick":"substack","message":"why are you throwing away (req,res)?","date":"2013-08-28T00:23:24.438Z","type":"message"}
{"nick":"substack","message":"I need those","date":"2013-08-28T00:23:26.733Z","type":"message"}
{"nick":"substack","message":"give them back","date":"2013-08-28T00:23:29.704Z","type":"message"}
{"nick":"juliangruber","message":":D","date":"2013-08-28T00:23:32.054Z","type":"message"}
{"nick":"juliangruber","message":":D :D","date":"2013-08-28T00:23:33.614Z","type":"message"}
{"nick":"substack","message":"and don't put them on `this`, that's weird","date":"2013-08-28T00:23:44.999Z","type":"message"}
{"nick":"juliangruber","message":"for standard web applications you might not need them that much","date":"2013-08-28T00:23:50.383Z","type":"message"}
{"nick":"kevino80","date":"2013-08-28T00:23:52.377Z","type":"join"}
{"nick":"jxson","date":"2013-08-28T00:24:18.337Z","type":"join"}
{"nick":"juliangruber","message":"substack: usual thing: get query, go to database, call to templating lib, render to client","date":"2013-08-28T00:24:23.374Z","type":"message"}
{"nick":"juliangruber","message":"in koa terms that's arguments, generators, this.body = render(template, args)","date":"2013-08-28T00:25:02.484Z","type":"message"}
{"nick":"juliangruber","message":"no need for req/res","date":"2013-08-28T00:25:10.723Z","type":"message"}
{"nick":"juliangruber","message":"when you want to pass req/res around it's weird having them on the context, agree","date":"2013-08-28T00:25:30.116Z","type":"message"}
{"nick":"juliangruber","message":"also with req, res, when you attach things to them, it's not always clear whether something should be attached to req or res","date":"2013-08-28T00:26:31.834Z","type":"message"}
{"nick":"juliangruber","message":"given you think that's a good idea","date":"2013-08-28T00:27:02.844Z","type":"message"}
{"nick":"Ralt","message":"that's only when you don't know what they mean, or you don't know http?","date":"2013-08-28T00:27:39.696Z","type":"message"}
{"nick":"Ralt","message":"Raynos: ping","date":"2013-08-28T00:29:37.640Z","type":"message"}
{"nick":"juliangruber","message":"Ralt: res.model, req.user, req.cookie, res.cookie, ...","date":"2013-08-28T00:31:09.205Z","type":"message"}
{"nick":"Raynos","message":"Ralt: yo","date":"2013-08-28T00:31:58.219Z","type":"message"}
{"nick":"mikolalysenko","reason":"Quit: Lost terminal","date":"2013-08-28T00:32:13.455Z","type":"quit"}
{"nick":"jergason","date":"2013-08-28T00:32:16.384Z","type":"join"}
{"nick":"Raynos","message":"juliangruber: people that do that should get shot","date":"2013-08-28T00:32:44.075Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: i'm pretty sure stackvm people do that","date":"2013-08-28T00:33:13.285Z","type":"message"}
{"nick":"juliangruber","message":"I did it","date":"2013-08-28T00:33:17.504Z","type":"message"}
{"nick":"Raynos","message":"yeah and its a mistake","date":"2013-08-28T00:33:39.621Z","type":"message"}
{"nick":"Raynos","message":"i've done it in the past","date":"2013-08-28T00:33:42.800Z","type":"message"}
{"nick":"juliangruber","message":"it's just so much nicer to call `res.error(err)` than to `error(req, res, err)` or `var error = errorHandler(req, res); error(err)`","date":"2013-08-28T00:34:13.375Z","type":"message"}
{"nick":"juliangruber","message":"ok it's not _much_ niser","date":"2013-08-28T00:34:32.317Z","type":"message"}
{"nick":"juliangruber","message":"nicer","date":"2013-08-28T00:34:33.704Z","type":"message"}
{"nick":"juliangruber","message":"but nicer","date":"2013-08-28T00:34:35.616Z","type":"message"}
{"nick":"timoxley","date":"2013-08-28T00:34:51.309Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 245 seconds","date":"2013-08-28T00:35:25.125Z","type":"quit"}
{"nick":"juliangruber","message":"substack: i've been working with people which I would never let go the \"do it yourself approach\" but use some libs that enforce structure","date":"2013-08-28T00:35:35.864Z","type":"message"}
{"nick":"AvianPhone","date":"2013-08-28T00:35:51.533Z","type":"join"}
{"nick":"juliangruber","message":"it's ideologically wrong, but pragmatical in that case","date":"2013-08-28T00:35:54.607Z","type":"message"}
{"nick":"juliangruber","message":"s/i've been working/i've worked/","date":"2013-08-28T00:36:21.093Z","type":"message"}
{"nick":"jergason","reason":"Ping timeout: 245 seconds","date":"2013-08-28T00:36:48.165Z","type":"quit"}
{"nick":"juliangruber","message":"substack: I mean, if I'd only ever work alone I'd definitely choose something more exciting than koa","date":"2013-08-28T00:38:39.876Z","type":"message"}
{"nick":"Raynos","message":"juliangruber: sendError(req, res, err) is silly. do callback(err)","date":"2013-08-28T00:39:12.508Z","type":"message"}
{"nick":"Raynos","message":"get(\"/:id\", function (duplex, opts, cb) { db.get(opts.params.id, function (err, result) { if (err) return cb(err); sendJson(duplex, result) }) })","date":"2013-08-28T00:40:21.951Z","type":"message"}
{"nick":"juliangruber","message":"Raynos: yeah that works, but doesn't work if you stick to the standard http signature","date":"2013-08-28T00:45:32.415Z","type":"message"}
{"nick":"juliangruber","message":"which substack wants to do","date":"2013-08-28T00:45:42.784Z","type":"message"}
{"nick":"Raynos","message":"get(\"/:id\", function (req, res, opts, cb) { db.get(opts.params.id, function (err, result) { if (err) return cb(err); sendJson(req, res, result) }) })","date":"2013-08-28T00:54:27.380Z","type":"message"}
{"nick":"Raynos","message":"juliangruber s/duplex/req, res/","date":"2013-08-28T00:54:37.077Z","type":"message"}
{"nick":"Raynos","message":"get(\"/:id\", function* (req, res, opts) { sendJson(req, res, yield db.get(opts.params.id)) }) })","date":"2013-08-28T00:55:23.315Z","type":"message"}
{"nick":"Raynos","message":"juliangruber: also generators are nice ^","date":"2013-08-28T00:55:29.272Z","type":"message"}
{"nick":"substack","message":"what's with this sendJSON thing?","date":"2013-08-28T00:56:14.104Z","type":"message"}
{"nick":"substack","message":"db.getJSON(opts.params.id).pipe(res)","date":"2013-08-28T00:56:23.942Z","type":"message"}
{"nick":"substack","message":"or","date":"2013-08-28T00:56:28.716Z","type":"message"}
{"nick":"substack","message":"db.get(opts.params.id, function (err, value) { res.end(JSON.stringify(value)) })","date":"2013-08-28T00:57:03.785Z","type":"message"}
{"nick":"chilts","reason":"Ping timeout: 240 seconds","date":"2013-08-28T00:59:26.795Z","type":"quit"}
{"nick":"chilts","date":"2013-08-28T01:00:00.165Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-28T01:00:28.087Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-28T01:01:07.184Z","type":"nick"}
{"nick":"Kessler_","date":"2013-08-28T01:01:13.774Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-28T01:02:32.329Z","type":"quit"}
{"nick":"Kessler","reason":"Ping timeout: 240 seconds","date":"2013-08-28T01:03:59.104Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-28T01:06:04.993Z","type":"join"}
{"nick":"Raynos","message":"substack: JSON.stringify & setting headers is too much effort ( https://github.com/Raynos/send-data/blob/master/json.js#L19 )","date":"2013-08-28T01:12:21.870Z","type":"message"}
{"nick":"Raynos","message":"substack: it also sets content-length https://github.com/Raynos/send-data/blob/master/index.js#L45","date":"2013-08-28T01:12:52.883Z","type":"message"}
{"nick":"ins0mnia","reason":"Read error: Operation timed out","date":"2013-08-28T01:16:27.176Z","type":"quit"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-28T01:17:19.596Z","type":"quit"}
{"nick":"jxson","date":"2013-08-28T01:17:38.799Z","type":"join"}
{"nick":"joliss","reason":"Ping timeout: 260 seconds","date":"2013-08-28T01:26:43.965Z","type":"quit"}
{"nick":"kevino80","reason":"Read error: Connection reset by peer","date":"2013-08-28T01:26:46.275Z","type":"quit"}
{"nick":"kevino80","date":"2013-08-28T01:27:48.896Z","type":"join"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-28T01:31:25.893Z","type":"quit"}
{"nick":"chapel","reason":"Ping timeout: 240 seconds","date":"2013-08-28T01:34:14.545Z","type":"quit"}
{"nick":"thlorenz","date":"2013-08-28T01:34:50.256Z","type":"join"}
{"nick":"mikolalysenko","date":"2013-08-28T01:36:58.744Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-28T01:44:42.615Z","type":"quit"}
{"nick":"mk30","reason":"Ping timeout: 250 seconds","date":"2013-08-28T01:45:55.341Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-28T01:46:52.664Z","type":"join"}
{"nick":"chapel","date":"2013-08-28T01:51:48.767Z","type":"join"}
{"nick":"defunctzombie","message":"Raynos: use express :p","date":"2013-08-28T01:56:30.330Z","type":"message"}
{"nick":"shama","reason":"Remote host closed the connection","date":"2013-08-28T02:00:22.892Z","type":"quit"}
{"nick":"shama","date":"2013-08-28T02:02:42.344Z","type":"join"}
{"nick":"mikolalysenko","reason":"Ping timeout: 245 seconds","date":"2013-08-28T02:03:45.188Z","type":"quit"}
{"nick":"AvianPhone","reason":"Ping timeout: 240 seconds","date":"2013-08-28T02:04:14.540Z","type":"quit"}
{"nick":"tim_smart","reason":"Ping timeout: 264 seconds","date":"2013-08-28T02:05:55.232Z","type":"quit"}
{"nick":"tim_smart","date":"2013-08-28T02:06:19.502Z","type":"join"}
{"nick":"dguttman","date":"2013-08-28T02:06:27.792Z","type":"join"}
{"nick":"shama","reason":"Read error: Connection reset by peer","date":"2013-08-28T02:15:17.835Z","type":"quit"}
{"nick":"shama","date":"2013-08-28T02:16:07.479Z","type":"join"}
{"nick":"kumavis","reason":"Quit: kumavis","date":"2013-08-28T02:16:08.289Z","type":"quit"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-28T02:17:40.044Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-28T02:18:37.171Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-28T02:22:00.536Z","type":"join"}
{"nick":"jxson_","date":"2013-08-28T02:30:09.384Z","type":"join"}
{"nick":"jxson_","reason":"Remote host closed the connection","date":"2013-08-28T02:30:27.326Z","type":"quit"}
{"nick":"jxson","reason":"Ping timeout: 245 seconds","date":"2013-08-28T02:33:20.125Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-28T03:05:57.182Z","type":"join"}
{"nick":"coderzach","reason":"Quit: coderzach","date":"2013-08-28T03:20:57.137Z","type":"quit"}
{"nick":"mikolalysenko","reason":"Ping timeout: 240 seconds","date":"2013-08-28T03:21:02.536Z","type":"quit"}
{"nick":"coderzach","date":"2013-08-28T03:21:36.202Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-28T03:23:00.248Z","type":"quit"}
{"nick":"dguttman","date":"2013-08-28T03:24:02.535Z","type":"join"}
{"nick":"coderzach","reason":"Client Quit","date":"2013-08-28T03:24:29.556Z","type":"quit"}
{"nick":"dguttman","reason":"Client Quit","date":"2013-08-28T03:25:00.928Z","type":"quit"}
{"nick":"dguttman","date":"2013-08-28T03:28:09.694Z","type":"join"}
{"nick":"chapel","reason":"Ping timeout: 240 seconds","date":"2013-08-28T03:31:02.538Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-08-28T03:31:41.219Z","type":"join"}
{"nick":"mikolalysenko","reason":"Ping timeout: 240 seconds","date":"2013-08-28T03:44:03.805Z","type":"quit"}
{"nick":"Kessler_","reason":"Ping timeout: 276 seconds","date":"2013-08-28T03:44:51.668Z","type":"quit"}
{"nick":"chapel","date":"2013-08-28T03:51:00.926Z","type":"join"}
{"nick":"chapel","reason":"Ping timeout: 240 seconds","date":"2013-08-28T04:12:14.536Z","type":"quit"}
{"nick":"mk30","date":"2013-08-28T04:20:55.288Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-28T04:28:59.265Z","type":"quit"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-28T04:30:39.727Z","type":"quit"}
{"nick":"dguttman","date":"2013-08-28T04:39:51.929Z","type":"join"}
{"nick":"jergason","date":"2013-08-28T05:07:50.548Z","type":"join"}
{"nick":"jergason","reason":"Ping timeout: 256 seconds","date":"2013-08-28T05:13:06.270Z","type":"quit"}
{"nick":"rxgx","reason":"Quit: timeout","date":"2013-08-28T05:16:11.202Z","type":"quit"}
{"nick":"jergason","date":"2013-08-28T05:21:32.471Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-28T05:30:31.910Z","type":"quit"}
{"nick":"i_m_ca","date":"2013-08-28T05:37:31.580Z","type":"join"}
{"nick":"calvinfo","date":"2013-08-28T05:37:38.123Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-28T05:51:12.675Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-28T05:51:41.451Z","type":"join"}
{"nick":"chapel","date":"2013-08-28T05:52:21.691Z","type":"join"}
{"nick":"jxson","date":"2013-08-28T06:02:48.377Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-28T06:06:56.873Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-28T06:07:25.456Z","type":"join"}
{"nick":"jergason","reason":"Remote host closed the connection","date":"2013-08-28T06:18:31.469Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-28T06:27:25.614Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-28T06:31:24.527Z","type":"nick"}
{"nick":"djcoin","date":"2013-08-28T06:32:50.267Z","type":"join"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-28T06:33:58.554Z","type":"quit"}
{"nick":"kumavis","date":"2013-08-28T06:36:15.992Z","type":"join"}
{"nick":"dguttman","date":"2013-08-28T06:42:13.063Z","type":"join"}
{"nick":"kumavis","reason":"Quit: kumavis","date":"2013-08-28T06:43:16.062Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-28T06:45:19.878Z","type":"nick"}
{"nick":"dguttman","reason":"Ping timeout: 240 seconds","date":"2013-08-28T06:46:14.565Z","type":"quit"}
{"nick":"rvagg","new_nick":"Omakase","date":"2013-08-28T06:50:12.731Z","type":"nick"}
{"nick":"Omakase","new_nick":"rvagg","date":"2013-08-28T06:50:37.111Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-28T06:52:17.530Z","type":"nick"}
{"nick":"chapel","reason":"Ping timeout: 240 seconds","date":"2013-08-28T06:57:26.541Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-28T07:01:55.925Z","type":"nick"}
{"nick":"i_m_ca","reason":"Ping timeout: 276 seconds","date":"2013-08-28T07:12:12.592Z","type":"quit"}
{"nick":"mirkokiefer","date":"2013-08-28T07:14:02.511Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-28T07:18:38.803Z","type":"quit"}
{"nick":"wolfeida_","reason":"Remote host closed the connection","date":"2013-08-28T07:19:10.176Z","type":"quit"}
{"nick":"maksimlin","reason":"Quit: ChatZilla 0.9.90.1 [Firefox 23.0/20130803215302]","date":"2013-08-28T07:20:05.797Z","type":"quit"}
{"nick":"dominictarr","date":"2013-08-28T07:21:58.788Z","type":"join"}
{"nick":"jergason","date":"2013-08-28T07:29:06.636Z","type":"join"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-08-28T07:29:11.494Z","type":"quit"}
{"nick":"jergason","reason":"Ping timeout: 245 seconds","date":"2013-08-28T07:33:46.594Z","type":"quit"}
{"nick":"mk30","reason":"Ping timeout: 250 seconds","date":"2013-08-28T07:36:03.306Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-28T07:46:07.073Z","type":"quit"}
{"nick":"chapel","date":"2013-08-28T07:52:31.758Z","type":"join"}

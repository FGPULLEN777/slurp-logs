{"nick":"piscisaureus","reason":"Ping timeout: 246 seconds","date":"2014-10-24T00:07:39.308Z","type":"quit"}
{"nick":"ramitos_","date":"2014-10-24T00:39:55.558Z","type":"join"}
{"nick":"ramitos","reason":"Ping timeout: 245 seconds","date":"2014-10-24T00:42:44.596Z","type":"quit"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-10-24T00:43:34.730Z","type":"quit"}
{"nick":"themiddleman","reason":"Remote host closed the connection","date":"2014-10-24T00:45:45.607Z","type":"quit"}
{"nick":"bnoordhuis","date":"2014-10-24T00:53:52.284Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2014-10-24T00:58:24.343Z","type":"quit"}
{"nick":"rmg","date":"2014-10-24T01:44:06.051Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 244 seconds","date":"2014-10-24T01:48:26.866Z","type":"quit"}
{"nick":"ramitos","date":"2014-10-24T02:18:41.987Z","type":"join"}
{"nick":"ramitos_","reason":"Ping timeout: 244 seconds","date":"2014-10-24T02:21:48.454Z","type":"quit"}
{"nick":"octetcloud","date":"2014-10-24T03:00:34.037Z","type":"join"}
{"nick":"themiddleman","date":"2014-10-24T03:03:31.466Z","type":"join"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-10-24T03:15:23.961Z","type":"quit"}
{"nick":"indutny","message":"trevnorris: heya","date":"2014-10-24T03:56:37.429Z","type":"message"}
{"nick":"octetcloud","reason":"Ping timeout: 260 seconds","date":"2014-10-24T05:40:01.036Z","type":"quit"}
{"nick":"ijroth","date":"2014-10-24T05:55:55.156Z","type":"join"}
{"nick":"paulfryzel","reason":"*.net *.split","date":"2014-10-24T06:47:41.670Z","type":"quit"}
{"nick":"themiddleman","reason":"*.net *.split","date":"2014-10-24T06:47:42.849Z","type":"quit"}
{"nick":"nexxy_","reason":"*.net *.split","date":"2014-10-24T06:47:43.542Z","type":"quit"}
{"nick":"Wraithan","reason":"*.net *.split","date":"2014-10-24T06:47:44.154Z","type":"quit"}
{"nick":"matuzak","reason":"*.net *.split","date":"2014-10-24T06:47:44.993Z","type":"quit"}
{"nick":"mmalecki","reason":"*.net *.split","date":"2014-10-24T06:47:45.548Z","type":"quit"}
{"nick":"hayes","reason":"Ping timeout: 250 seconds","date":"2014-10-24T06:51:06.314Z","type":"quit"}
{"nick":"hayes","date":"2014-10-24T06:56:19.006Z","type":"join"}
{"nick":"themiddleman","date":"2014-10-24T06:59:09.540Z","type":"join"}
{"nick":"nexxy_","date":"2014-10-24T06:59:09.760Z","type":"join"}
{"nick":"Wraithan","date":"2014-10-24T06:59:09.761Z","type":"join"}
{"nick":"paulfryzel","date":"2014-10-24T06:59:09.761Z","type":"join"}
{"nick":"matuzak","date":"2014-10-24T06:59:09.761Z","type":"join"}
{"nick":"mmalecki","date":"2014-10-24T06:59:09.761Z","type":"join"}
{"nick":"rvagg","message":"indutny, trevnorris: so, Mark Wolfe (@wolfeidau) from Ninjablocks was having a bit of a rant the other night about Node's instability with regard to memory usage, they feel it acutely with what they do.","date":"2014-10-24T07:09:49.820Z","type":"message"}
{"nick":"rvagg","message":"indutny, trevnorris: he showed this as an example: https://github.com/wolfeidau/nodejsinprod-talk","date":"2014-10-24T07:10:01.119Z","type":"message"}
{"nick":"rvagg","message":"indutny, trevnorris: see the requesthttp.js and  requesthttps.js files and ignore all the timing stuff and you'll see it's simply an http and an https client call with `request` every 500ms doing nothing in particular, just doing it over and over","date":"2014-10-24T07:10:57.811Z","type":"message"}
{"nick":"rvagg","message":"indutny, trevnorris: this is what the graphs for them look like: https://www.dropbox.com/s/xffljhnqq2ypy7v/Screenshot%202014-10-24%2018.06.30.png?dl=0 - note particularly how https blows right out, it's doing the same thing as http but the rss is huge, something in openssl or perhaps in buffers?","date":"2014-10-24T07:12:11.932Z","type":"message"}
{"nick":"wolfeidau","date":"2014-10-24T07:21:17.346Z","type":"join"}
{"nick":"damncabbage","date":"2014-10-24T07:21:31.179Z","type":"join"}
{"nick":"rvagg","message":"indutny, trevnorris: ^ wolfeidau has joined so he can rant more directly and perhaps get answers or help provide data","date":"2014-10-24T07:23:28.301Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah more than happy to help out where i can","date":"2014-10-24T07:25:05.322Z","type":"message"}
{"nick":"paulfryzel","reason":"*.net *.split","date":"2014-10-24T07:29:04.447Z","type":"quit"}
{"nick":"themiddleman","reason":"*.net *.split","date":"2014-10-24T07:29:05.570Z","type":"quit"}
{"nick":"nexxy_","reason":"*.net *.split","date":"2014-10-24T07:29:06.248Z","type":"quit"}
{"nick":"Wraithan","reason":"*.net *.split","date":"2014-10-24T07:29:06.785Z","type":"quit"}
{"nick":"matuzak","reason":"*.net *.split","date":"2014-10-24T07:29:07.544Z","type":"quit"}
{"nick":"mmalecki","reason":"*.net *.split","date":"2014-10-24T07:29:08.109Z","type":"quit"}
{"nick":"mmalecki","date":"2014-10-24T07:32:15.680Z","type":"join"}
{"nick":"matuzak","date":"2014-10-24T07:32:15.900Z","type":"join"}
{"nick":"Wraithan","date":"2014-10-24T07:32:15.900Z","type":"join"}
{"nick":"nexxy_","date":"2014-10-24T07:32:15.900Z","type":"join"}
{"nick":"themiddleman","date":"2014-10-24T07:32:15.900Z","type":"join"}
{"nick":"themiddleman","reason":"*.net *.split","date":"2014-10-24T07:36:45.522Z","type":"quit"}
{"nick":"nexxy_","reason":"*.net *.split","date":"2014-10-24T07:36:46.268Z","type":"quit"}
{"nick":"Wraithan","reason":"*.net *.split","date":"2014-10-24T07:36:46.834Z","type":"quit"}
{"nick":"matuzak","reason":"*.net *.split","date":"2014-10-24T07:36:47.672Z","type":"quit"}
{"nick":"mmalecki","reason":"*.net *.split","date":"2014-10-24T07:36:48.225Z","type":"quit"}
{"nick":"paulfryzel","date":"2014-10-24T07:37:29.603Z","type":"join"}
{"nick":"themiddleman","date":"2014-10-24T07:40:02.947Z","type":"join"}
{"nick":"nexxy_","date":"2014-10-24T07:40:03.164Z","type":"join"}
{"nick":"Wraithan","date":"2014-10-24T07:40:03.165Z","type":"join"}
{"nick":"matuzak","date":"2014-10-24T07:40:03.165Z","type":"join"}
{"nick":"mmalecki","date":"2014-10-24T07:40:03.165Z","type":"join"}
{"nick":"ijroth","reason":"Quit: Leaving.","date":"2014-10-24T08:10:28.312Z","type":"quit"}
{"nick":"indexzero_","new_nick":"indexzero","date":"2014-10-24T08:51:42.286Z","type":"nick"}
{"nick":"indexzero","date":"2014-10-24T08:53:31.789Z","type":"quit"}
{"nick":"indexzero","date":"2014-10-24T08:53:47.009Z","type":"join"}
{"nick":"hayes","reason":"*.net *.split","date":"2014-10-24T09:53:23.983Z","type":"quit"}
{"nick":"hayes","date":"2014-10-24T09:53:42.066Z","type":"join"}
{"nick":"themiddleman","reason":"*.net *.split","date":"2014-10-24T09:55:22.791Z","type":"quit"}
{"nick":"nexxy_","reason":"*.net *.split","date":"2014-10-24T09:55:23.428Z","type":"quit"}
{"nick":"Wraithan","reason":"*.net *.split","date":"2014-10-24T09:55:23.970Z","type":"quit"}
{"nick":"matuzak","reason":"*.net *.split","date":"2014-10-24T09:55:24.746Z","type":"quit"}
{"nick":"mmalecki","reason":"*.net *.split","date":"2014-10-24T09:55:25.302Z","type":"quit"}
{"nick":"themiddleman","date":"2014-10-24T09:56:04.077Z","type":"join"}
{"nick":"nexxy_","date":"2014-10-24T09:56:04.259Z","type":"join"}
{"nick":"Wraithan","date":"2014-10-24T09:56:04.259Z","type":"join"}
{"nick":"matuzak","date":"2014-10-24T09:56:04.259Z","type":"join"}
{"nick":"mmalecki","date":"2014-10-24T09:56:04.259Z","type":"join"}
{"nick":"zz_joeybaker","reason":"*.net *.split","date":"2014-10-24T09:58:20.504Z","type":"quit"}
{"nick":"zz_joeybaker","date":"2014-10-24T09:58:51.825Z","type":"join"}
{"nick":"rmg","date":"2014-10-24T10:09:19.098Z","type":"join"}
{"nick":"seishun","date":"2014-10-24T10:14:03.215Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 272 seconds","date":"2014-10-24T10:14:19.856Z","type":"quit"}
{"nick":"hipsterslapfight","date":"2014-10-24T11:29:55.971Z","type":"join"}
{"nick":"bnoordhuis","date":"2014-10-24T11:44:08.964Z","type":"join"}
{"nick":"indutny","message":"rvagg: what version are we talking about?","date":"2014-10-24T12:19:47.698Z","type":"message"}
{"nick":"indutny","message":"v0.10?","date":"2014-10-24T12:19:48.879Z","type":"message"}
{"nick":"indutny","message":"I think I did some commits with regards of https memory usage","date":"2014-10-24T12:20:09.018Z","type":"message"}
{"nick":"rvagg","message":"indutny: yes, 0.10","date":"2014-10-24T12:24:39.195Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-10-24T12:24:45.597Z","type":"message"}
{"nick":"indutny","message":"I see","date":"2014-10-24T12:24:50.601Z","type":"message"}
{"nick":"indutny","message":"the main thing here","date":"2014-10-24T12:25:08.901Z","type":"message"}
{"nick":"indutny","message":"(while I'll certainly have a deeper look at it)","date":"2014-10-24T12:25:17.998Z","type":"message"}
{"nick":"indutny","message":"is that we have very limited control of how GC behaves :)","date":"2014-10-24T12:25:34.931Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2014-10-24T12:25:42.845Z","type":"message"}
{"nick":"indutny","message":"but yeah","date":"2014-10-24T12:25:46.794Z","type":"message"}
{"nick":"indutny","message":"it sounds like there are tons of wasted storage anyway","date":"2014-10-24T12:25:53.545Z","type":"message"}
{"nick":"indutny","message":"on https","date":"2014-10-24T12:25:58.972Z","type":"message"}
{"nick":"indutny","message":"though, it is kind of expected","date":"2014-10-24T12:26:04.965Z","type":"message"}
{"nick":"indutny","message":"is 80mb RSS way too much/","date":"2014-10-24T12:26:14.530Z","type":"message"}
{"nick":"indutny","message":"?","date":"2014-10-24T12:26:15.293Z","type":"message"}
{"nick":"rvagg","message":"for Ninjablocks it is because they are using small ARM devices; but regardless, that's a huge jump for simply invoking https over http","date":"2014-10-24T12:26:45.407Z","type":"message"}
{"nick":"indutny","message":"it is kind of expected, though","date":"2014-10-24T12:33:54.937Z","type":"message"}
{"nick":"indutny","message":"OpenSSL has it's overheads","date":"2014-10-24T12:34:07.355Z","type":"message"}
{"nick":"rvagg","message":"oh? that's a lot of overhead!","date":"2014-10-24T12:34:15.877Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2014-10-24T12:34:19.950Z","type":"message"}
{"nick":"indutny","message":"so","date":"2014-10-24T12:34:21.237Z","type":"message"}
{"nick":"rvagg","message":"it really is a monolith","date":"2014-10-24T12:34:21.885Z","type":"message"}
{"nick":"indutny","message":"in fact you are running two servers here","date":"2014-10-24T12:34:27.024Z","type":"message"}
{"nick":"indutny","message":"one for encrypted data","date":"2014-10-24T12:34:33.826Z","type":"message"}
{"nick":"indutny","message":"and one for cleartext","date":"2014-10-24T12:34:36.625Z","type":"message"}
{"nick":"indutny","message":"sort of","date":"2014-10-24T12:34:52.995Z","type":"message"}
{"nick":"indutny","message":"and this is why you see this memory consumption","date":"2014-10-24T12:35:06.097Z","type":"message"}
{"nick":"indutny","message":"it could probably be tweaked a bit","date":"2014-10-24T12:35:11.458Z","type":"message"}
{"nick":"indutny","message":"but it still will be higher than plain http","date":"2014-10-24T12:35:20.784Z","type":"message"}
{"nick":"rvagg","message":"mm, it's just surprisingly high, but if it can be justified then fine","date":"2014-10-24T12:36:26.414Z","type":"message"}
{"nick":"indutny","message":"well, I'd look into v0.11 memory usage","date":"2014-10-24T12:37:25.447Z","type":"message"}
{"nick":"indutny","message":"v0.10 is not something that I'd like to focus much","date":"2014-10-24T12:37:33.888Z","type":"message"}
{"nick":"indutny","message":"I think v0.11 usage right now could be a bit higher than this","date":"2014-10-24T12:37:41.949Z","type":"message"}
{"nick":"indutny","message":"and this is kind of bad","date":"2014-10-24T12:40:01.485Z","type":"message"}
{"nick":"cjihrig","date":"2014-10-24T12:40:37.480Z","type":"join"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-10-24T12:57:59.591Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: buffertools is an add-on i wrote","date":"2014-10-24T13:00:05.670Z","type":"message"}
{"nick":"indutny","message":"does it allocate memory by it's own?","date":"2014-10-24T13:00:39.085Z","type":"message"}
{"nick":"indutny","message":"doesn't seem like so","date":"2014-10-24T13:00:46.118Z","type":"message"}
{"nick":"bnoordhuis","message":"no, it operates on existing buffers","date":"2014-10-24T13:00:56.609Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: btw, want to review merge of origin/v0.12 into nf/v0.12?","date":"2014-10-24T13:01:07.007Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sure. link?","date":"2014-10-24T13:01:51.666Z","type":"message"}
{"nick":"indutny","message":"one sec","date":"2014-10-24T13:02:01.286Z","type":"message"}
{"nick":"indutny","message":"still running tests","date":"2014-10-24T13:02:03.774Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. ping me when it's ready","date":"2014-10-24T13:02:11.531Z","type":"message"}
{"nick":"indutny","message":"sure","date":"2014-10-24T13:03:05.313Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/node-forward/node/tree/nf/indutny-merge-review","date":"2014-10-24T13:06:08.086Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:06:13.451Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] indutny\u000f created nf/indutny-merge-review\u000f (+16\u000f new commits): https://github.com/node-forward/node/compare/a2a3fd48934f^...80de1558a90c\u000f","date":"2014-10-24T13:06:13.632Z","type":"message"}
{"nick":"node-forward-gh","message":"node\u000f/nf/indutny-merge-review\u000f a2a3fd4\u000f Fedor Indutny\u000f: tls_wrap: ignore ZERO_RETURN after close_notify...","date":"2014-10-24T13:06:13.632Z","type":"message"}
{"nick":"node-forward-gh","message":"node\u000f/nf/indutny-merge-review\u000f 9116b24\u000f Refael Ackermann\u000f: deps: update v8 to 3.28.73...","date":"2014-10-24T13:06:13.632Z","type":"message"}
{"nick":"node-forward-gh","message":"node\u000f/nf/indutny-merge-review\u000f 270e998\u000f Fedor Indutny\u000f: deps: apply floating irhydra patch to v8...","date":"2014-10-24T13:06:13.632Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:06:13.632Z","type":"part"}
{"nick":"bnoordhuis","message":"indutny: can you PR that?","date":"2014-10-24T13:07:13.266Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/node-forward/node/pull/31","date":"2014-10-24T13:07:37.662Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:07:50.692Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] indutny\u000f opened pull request #31: Nf/indutny merge review (v0.12\u000f...nf/indutny-merge-review\u000f) https://github.com/node-forward/node/pull/31\u000f","date":"2014-10-24T13:07:50.874Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:07:50.874Z","type":"part"}
{"nick":"bnoordhuis","message":"cheers, looking","date":"2014-10-24T13:07:51.055Z","type":"message"}
{"nick":"indutny","message":"odd","date":"2014-10-24T13:08:08.905Z","type":"message"}
{"nick":"indutny","message":"I think I have fixed style in path.js","date":"2014-10-24T13:08:12.721Z","type":"message"}
{"nick":"indutny","message":"nah","date":"2014-10-24T13:08:27.750Z","type":"message"}
{"nick":"indutny","message":"forgot to commit","date":"2014-10-24T13:08:29.504Z","type":"message"}
{"nick":"indutny","message":"please ignore it","date":"2014-10-24T13:08:31.725Z","type":"message"}
{"nick":"bnoordhuis","message":"tls.createSecureContext() is undeprecated now?","date":"2014-10-24T13:08:34.403Z","type":"message"}
{"nick":"indutny","message":"was it deprecated?","date":"2014-10-24T13:18:06.592Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:18:09.985Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] indutny\u000f pushed 1\u000f new commit to v0.12\u000f: https://github.com/node-forward/node/commit/be17aa4385c609fe8401c5209c59aee39291d169\u000f","date":"2014-10-24T13:18:10.166Z","type":"message"}
{"nick":"node-forward-gh","message":"node\u000f/v0.12\u000f be17aa4\u000f Fedor Indutny\u000f: Merge remote-tracking branch 'origin/v0.12' into v0.12...","date":"2014-10-24T13:18:10.167Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:18:10.167Z","type":"part"}
{"nick":"indutny","message":"ah","date":"2014-10-24T13:18:21.857Z","type":"message"}
{"nick":"indutny","message":"this was a mistake","date":"2014-10-24T13:18:24.188Z","type":"message"}
{"nick":"indutny","message":"copy-paste from crypto","date":"2014-10-24T13:18:27.426Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:18:56.066Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] indutny\u000f closed pull request #31: Nf/indutny merge review (v0.12\u000f...nf/indutny-merge-review\u000f) https://github.com/node-forward/node/pull/31\u000f","date":"2014-10-24T13:18:56.246Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T13:18:56.246Z","type":"part"}
{"nick":"cjihrig","date":"2014-10-24T13:45:01.316Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 255 seconds","date":"2014-10-24T13:54:52.456Z","type":"quit"}
{"nick":"seishun","date":"2014-10-24T14:00:05.093Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: you still around/","date":"2014-10-24T14:06:34.039Z","type":"message"}
{"nick":"indutny","message":"?","date":"2014-10-24T14:06:34.752Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i can deny nor confirm that","date":"2014-10-24T14:07:08.274Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-10-24T14:07:14.075Z","type":"message"}
{"nick":"bnoordhuis","message":"what's up?","date":"2014-10-24T14:07:19.352Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/issues/8597#issuecomment-60294765","date":"2014-10-24T14:07:22.238Z","type":"message"}
{"nick":"indutny","message":"the issue is following","date":"2014-10-24T14:07:28.626Z","type":"message"}
{"nick":"indutny","message":"net.Socket is created","date":"2014-10-24T14:07:31.238Z","type":"message"}
{"nick":"indutny","message":"it's handle is given to TLSSocket","date":"2014-10-24T14:07:40.367Z","type":"message"}
{"nick":"indutny","message":"TLSSocket is closed","date":"2014-10-24T14:07:48.367Z","type":"message"}
{"nick":"indutny","message":"handle in net.Socket is dead","date":"2014-10-24T14:07:54.136Z","type":"message"}
{"nick":"indutny","message":"I have multiple solutions to the problem","date":"2014-10-24T14:08:02.496Z","type":"message"}
{"nick":"indutny","message":"wanted to discuss them with you","date":"2014-10-24T14:08:08.204Z","type":"message"}
{"nick":"indutny","message":"if you have some time","date":"2014-10-24T14:08:10.473Z","type":"message"}
{"nick":"bnoordhuis","message":"sure. shoot","date":"2014-10-24T14:08:14.172Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-10-24T14:08:54.841Z","type":"message"}
{"nick":"indutny","message":"1. set originalSocket._handle = null","date":"2014-10-24T14:09:01.988Z","type":"message"}
{"nick":"indutny","message":"but","date":"2014-10-24T14:09:08.026Z","type":"message"}
{"nick":"indutny","message":"this will break some code","date":"2014-10-24T14:09:12.752Z","type":"message"}
{"nick":"indutny","message":"especially the one in the issue","date":"2014-10-24T14:09:24.878Z","type":"message"}
{"nick":"indutny","message":"2. ignore callbacks invokation if the InternalPointer is null","date":"2014-10-24T14:10:00.299Z","type":"message"}
{"nick":"indutny","message":"HandleWrap null-ifies it","date":"2014-10-24T14:10:08.218Z","type":"message"}
{"nick":"indutny","message":"and we could just assume that it can be null and handle it everywhere","date":"2014-10-24T14:10:20.758Z","type":"message"}
{"nick":"indutny","message":"3. Somehow create a pseudo-handle","date":"2014-10-24T14:10:26.247Z","type":"message"}
{"nick":"indutny","message":"or","date":"2014-10-24T14:10:30.661Z","type":"message"}
{"nick":"indutny","message":"pseudo-handlewrap","date":"2014-10-24T14:10:33.858Z","type":"message"}
{"nick":"indutny","message":"and rewrite how TLSCallbacks works","date":"2014-10-24T14:10:42.024Z","type":"message"}
{"nick":"bnoordhuis","message":"option 2 sounds the most reasonable / straightforward","date":"2014-10-24T14:10:54.523Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2014-10-24T14:10:59.295Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-10-24T14:11:05.066Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2014-10-24T14:11:06.263Z","type":"message"}
{"nick":"bnoordhuis","message":"check for nullptr in the right places, then add CHECKs where it should not be null","date":"2014-10-24T14:11:23.753Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2014-10-24T14:11:27.077Z","type":"message"}
{"nick":"indutny","message":"we already handle it","date":"2014-10-24T14:11:30.257Z","type":"message"}
{"nick":"indutny","message":"in handle wrap","date":"2014-10-24T14:11:32.102Z","type":"message"}
{"nick":"indutny","message":"just not in stream wrap","date":"2014-10-24T14:11:36.867Z","type":"message"}
{"nick":"indutny","message":"nice","date":"2014-10-24T14:11:48.919Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: is it legal to do `inline bool is_dead() { return this == nullptr || this->handle_ == nullptr; }`","date":"2014-10-24T14:12:33.400Z","type":"message"}
{"nick":"indutny","message":"never did `this == nullptr` checks :)","date":"2014-10-24T14:12:40.392Z","type":"message"}
{"nick":"bnoordhuis","message":"strictly speaking, no. it's UB","date":"2014-10-24T14:13:29.146Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-10-24T14:13:48.259Z","type":"message"}
{"nick":"indutny","message":"this is what I thought","date":"2014-10-24T14:13:50.831Z","type":"message"}
{"nick":"indutny","message":"I could make it static, though","date":"2014-10-24T14:13:58.883Z","type":"message"}
{"nick":"saghul","reason":"Quit: leaving","date":"2014-10-24T14:18:07.514Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: https://gist.github.com/indutny/159a035e3cdeb9dcab2e","date":"2014-10-24T14:21:46.874Z","type":"message"}
{"nick":"indutny","message":"something like this","date":"2014-10-24T14:21:48.888Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yes, exactly","date":"2014-10-24T14:24:49.325Z","type":"message"}
{"nick":"bnoordhuis","message":"you could make GetHandle() const, then the wrap argument could be const in IsAlive()","date":"2014-10-24T14:25:15.274Z","type":"message"}
{"nick":"bnoordhuis","message":"but either way is fine","date":"2014-10-24T14:25:45.598Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2014-10-24T14:27:30.358Z","type":"message"}
{"nick":"rmg","date":"2014-10-24T15:52:14.211Z","type":"join"}
{"nick":"octetcloud","date":"2014-10-24T16:12:32.790Z","type":"join"}
{"nick":"billautomata","date":"2014-10-24T16:24:37.027Z","type":"join"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-10-24T16:42:04.718Z","type":"quit"}
{"nick":"cjihrig","date":"2014-10-24T16:42:45.070Z","type":"join"}
{"nick":"wolfeidau_","date":"2014-10-24T18:13:22.020Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 260 seconds","date":"2014-10-24T18:16:01.032Z","type":"quit"}
{"nick":"cnd","date":"2014-10-24T18:21:14.142Z","type":"join"}
{"nick":"Wraithan","message":"rvagg, indutny: Yeah, we definitely get many more complaints about the newrelic agent's memory usage every since we enabled ssl support for pushing data to our servers. The overhead is much higher with that enabled for sure.","date":"2014-10-24T20:46:01.114Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2014-10-24T20:48:22.946Z","type":"quit"}
{"nick":"bnoordhuis","date":"2014-10-24T20:56:22.103Z","type":"join"}
{"nick":"wolfeidau_","message":"Wraithan: out of interest has anyone tuned the params for the ssl connection based on the work done by paypal?","date":"2014-10-24T21:24:17.080Z","type":"message"}
{"nick":"wolfeidau_","new_nick":"wolfeidau","date":"2014-10-24T21:25:15.617Z","type":"nick"}
{"nick":"Wraithan","message":"wolfeidau: not as far as I know.","date":"2014-10-24T21:25:53.769Z","type":"message"}
{"nick":"wolfeidau","message":"Wraithan: This is the post if you haven't seen it https://gist.github.com/tlivings/1233f4f98da1651a8498 it is a good overview of tuning which is possible and highlights some of the changes in 0.11 I am not sure where these are at the moment maybe indutny or trevnorris can speak more about them","date":"2014-10-24T21:30:30.086Z","type":"message"}
{"nick":"indutny","message":"yeah, I seen it","date":"2014-10-24T21:31:34.423Z","type":"message"}
{"nick":"wolfeidau","message":"Wraithan: My tests didn't use any of these as they aren't baked into any of the http clients and you sort of need to own that other end","date":"2014-10-24T21:32:18.896Z","type":"message"}
{"nick":"Wraithan","message":"wolfeidau: Oh, I've seen it. but things like the slab buffer we can't change as we'll affect the user's application. And our cipher list is set to ones that our security team picked for us","date":"2014-10-24T21:36:46.418Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: I am intrigued as to why there is so much overhead when using ssl, and also why it impacts the event thread so much. I have dug into this for quite a few hours and in my experiance found a massive amount of \"stuff\" allocated in v8 when spinning up and tearing down an ssl socket. Does this \"stuff\" impact how quickly buffers ect are cleared up?","date":"2014-10-24T21:37:10.819Z","type":"message"}
{"nick":"indutny","message":"em","date":"2014-10-24T21:37:38.397Z","type":"message"}
{"nick":"wolfeidau","message":"Wraithan: Yeah great, good to hear","date":"2014-10-24T21:37:41.375Z","type":"message"}
{"nick":"indutny","message":"so basically","date":"2014-10-24T21:37:42.089Z","type":"message"}
{"nick":"indutny","message":"there is an overhead in memory","date":"2014-10-24T21:37:46.246Z","type":"message"}
{"nick":"indutny","message":"because","date":"2014-10-24T21:37:47.885Z","type":"message"}
{"nick":"indutny","message":"it receives data from socket into one buffer","date":"2014-10-24T21:38:00.560Z","type":"message"}
{"nick":"indutny","message":"and decodes into another","date":"2014-10-24T21:38:04.501Z","type":"message"}
{"nick":"indutny","message":"and","date":"2014-10-24T21:38:05.310Z","type":"message"}
{"nick":"indutny","message":"receives data from user in 3rd buffer","date":"2014-10-24T21:38:12.668Z","type":"message"}
{"nick":"indutny","message":"and encrypts it into 4th buffer","date":"2014-10-24T21:38:18.891Z","type":"message"}
{"nick":"indutny","message":"so there is 2x buffers than usual","date":"2014-10-24T21:38:27.265Z","type":"message"}
{"nick":"indutny","message":"(in the most of the cases)","date":"2014-10-24T21:38:32.362Z","type":"message"}
{"nick":"wolfeidau","message":"so that graph is 1 req / sec to a local ssl server, and i haven't hacked the client to pool connections or anything, and it ramps up, so something is being allocated for the first request, then the second ect. Any idea why it sort of plateau like that at?","date":"2014-10-24T21:42:38.426Z","type":"message"}
{"nick":"wolfeidau","message":"FYI here is another snapshot https://www.dropbox.com/s/pr6nl9rbukbbrn9/Screenshot%202014-10-25%2008.43.48.png?dl=0","date":"2014-10-24T21:44:08.249Z","type":"message"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-10-24T21:47:50.147Z","type":"quit"}
{"nick":"wolfeidau","message":"Wraithan: We also see a lot of cpu usage with frequent reconnects of the ssl socket, do you know if this affects your client much?","date":"2014-10-24T21:53:18.853Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: would there be any way to track or trace this stuff so a user can report what is allocated where? As the node team has it's view of how things will work, and then it is released and you wait for tickets to flow in, with just basic observations like mine.. Could this be instrumented?","date":"2014-10-24T21:58:57.702Z","type":"message"}
{"nick":"indutny","message":"there is a heapdump tool","date":"2014-10-24T21:59:37.353Z","type":"message"}
{"nick":"indutny","message":"but","date":"2014-10-24T21:59:38.994Z","type":"message"}
{"nick":"indutny","message":"it isn't really showing anything like that","date":"2014-10-24T21:59:48.759Z","type":"message"}
{"nick":"indutny","message":"I think it makes sense to open a ticket for such instrumentation","date":"2014-10-24T21:59:56.145Z","type":"message"}
{"nick":"indutny","message":"we'll share our implementation ideas there","date":"2014-10-24T22:00:01.407Z","type":"message"}
{"nick":"indutny","message":"sorry, I'm burried in developing the register allocator","date":"2014-10-24T22:00:09.367Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: not a problem at all, I would love to also discuss this with trevnorris when he is around","date":"2014-10-24T22:03:24.224Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: AsyncWrap does now track TLSWrap instantiations, but doesn't sound like that'd be enough for your request. can you be more specific about what you'd like to trace?","date":"2014-10-24T22:13:38.722Z","type":"message"}
{"nick":"Wraithan","message":"wolfeidau: we only connect to once per minute with a keep alive agent that keeps it up for a little bit for us to do 3-4 requests","date":"2014-10-24T22:15:36.669Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: I want to know what is happening with the chunk of memory between the V8heap and RSS and sort of what that is attached too. A bit of back story, we use node on servers and small ARM devices, we have seen a lot of cases were our process v8 heap is nice small and stable but buffers are growing for no clear reason, and currently there is no way to answer the why.","date":"2014-10-24T22:19:05.232Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: also if i have a problem in prod atm, i have no graphs or traces i can show you to help figure out who or what is going on","date":"2014-10-24T22:19:59.491Z","type":"message"}
{"nick":"seishun","message":"whoops, there was another case of nullptr misuse that I missed","date":"2014-10-24T22:23:59.186Z","type":"message"}
{"nick":"seishun","message":"should I submit a PR?","date":"2014-10-24T22:24:29.594Z","type":"message"}
{"nick":"trevnorris","message":"seishun: yeah.","date":"2014-10-24T22:26:45.040Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T22:39:27.470Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] seishun\u000f opened pull request #32: src: fix comparison of WCHAR with nullptr (v0.12\u000f...patch-1\u000f) https://github.com/node-forward/node/pull/32\u000f","date":"2014-10-24T22:39:27.689Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T22:39:27.689Z","type":"part"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-10-24T22:39:52.541Z","type":"quit"}
{"nick":"trevnorris","message":"wolfeidau: so you want to be able to \"track\" any Buffers that were created from tls/crypto?","date":"2014-10-24T22:41:56.936Z","type":"message"}
{"nick":"hayes","reason":"*.net *.split","date":"2014-10-24T22:43:23.370Z","type":"quit"}
{"nick":"wolfeidau","message":"trevnorris: did you see the graph? I want to answer a) what is in that space between v8 heap and RSS b) when things are allocated in their and lastly c) why it stopped growing","date":"2014-10-24T22:44:59.630Z","type":"message"}
{"nick":"wolfeidau","message":"next level is what is triggering those allocations","date":"2014-10-24T22:45:17.659Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: does it seem silly to want to graph or trace this?","date":"2014-10-24T22:46:07.101Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: answer to (a) is \"empty space\" + \"externally allocated memory\". you'd have to get the actual size of the V8 heap to see how much has been externally allocated.","date":"2014-10-24T22:47:08.536Z","type":"message"}
{"nick":"trevnorris","message":"but V8 is extremely liberal with it's use of the heap, and won't bother to compact if it doesn't have to.","date":"2014-10-24T22:47:28.306Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: yeah this https://www.dropbox.com/s/pr6nl9rbukbbrn9/Screenshot%202014-10-25%2008.43.48.png?dl=0","date":"2014-10-24T22:48:10.886Z","type":"message"}
{"nick":"trevnorris","message":"so you might have large contiguous spaces of technically unused but allocated space for V8.","date":"2014-10-24T22:48:14.847Z","type":"message"}
{"nick":"wolfeidau","message":"v8 is fine, i am talking outside v8","date":"2014-10-24T22:48:29.621Z","type":"message"}
{"nick":"wolfeidau","message":"that big gap between v8 heap total and RSS","date":"2014-10-24T22:48:44.664Z","type":"message"}
{"nick":"wolfeidau","message":"I have no statistics for what is in there, no idea how much is used and why","date":"2014-10-24T22:49:06.720Z","type":"message"}
{"nick":"trevnorris","message":"well, that value is only what v8 is actually _actively_ using. not how much it has allocated to the heap, IIRC.","date":"2014-10-24T22:49:32.017Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: and that is doing 1 https req/s","date":"2014-10-24T22:49:33.839Z","type":"message"}
{"nick":"trevnorris","message":"wait, nm.","date":"2014-10-24T22:49:50.549Z","type":"message"}
{"nick":"trevnorris","message":"I see your heapTotal/heapUsed.","date":"2014-10-24T22:50:03.957Z","type":"message"}
{"nick":"trevnorris","message":"sorry, have a retina screen w/ linux and that graphic is freakishly tiny. had to zoom in.","date":"2014-10-24T22:50:24.079Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: does rss continue to grow, or does it level off?","date":"2014-10-24T22:51:01.852Z","type":"message"}
{"nick":"wolfeidau","message":"this is HTTP, yeah sorry I need to put all this stuff on the net https://www.dropbox.com/s/hpgzldeqcukgslo/Screenshot%202014-10-25%2009.50.14.png?dl=0","date":"2014-10-24T22:51:04.345Z","type":"message"}
{"nick":"wolfeidau","message":"levels off","date":"2014-10-24T22:51:10.187Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: what version of Node?","date":"2014-10-24T22:51:23.762Z","type":"message"}
{"nick":"wolfeidau","message":"0.10.32","date":"2014-10-24T22:51:38.403Z","type":"message"}
{"nick":"hayes","date":"2014-10-24T22:51:51.066Z","type":"join"}
{"nick":"wolfeidau","message":"This is on OSX atm","date":"2014-10-24T22:51:54.671Z","type":"message"}
{"nick":"trevnorris","message":"okay. and just to double check, those two graphs are HTTPS vs HTTP?","date":"2014-10-24T22:52:17.631Z","type":"message"}
{"nick":"wolfeidau","message":"yes","date":"2014-10-24T22:52:26.022Z","type":"message"}
{"nick":"trevnorris","message":"indutny: if he's running v0.10.x then it can't be any smalloc changes.","date":"2014-10-24T22:52:32.975Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: have you tried the same running on v0.11?","date":"2014-10-24T22:52:44.573Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: Not recently","date":"2014-10-24T22:53:34.222Z","type":"message"}
{"nick":"wolfeidau","message":"We only use 0.10 in prod, and 0.11 doesn't build on arm atm","date":"2014-10-24T22:53:50.074Z","type":"message"}
{"nick":"trevnorris","message":"ah, crap.","date":"2014-10-24T22:53:58.467Z","type":"message"}
{"nick":"trevnorris","message":"our screw-up?","date":"2014-10-24T22:54:17.863Z","type":"message"}
{"nick":"wolfeidau","message":"node-gyp related i believe","date":"2014-10-24T22:54:27.707Z","type":"message"}
{"nick":"wolfeidau","message":"there is a ticket on nodejs project","date":"2014-10-24T22:54:43.718Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok.","date":"2014-10-24T22:55:02.235Z","type":"message"}
{"nick":"octetcloud","reason":"Ping timeout: 244 seconds","date":"2014-10-24T22:55:05.475Z","type":"quit"}
{"nick":"wolfeidau","message":"but yeah I will rerun my tests with 0.11 and get some graphs, I think there is still a need for some telemtry around buffers so I can see when things are happening","date":"2014-10-24T22:58:06.443Z","type":"message"}
{"nick":"wolfeidau","message":"otherwise I can't help you help me","date":"2014-10-24T22:58:31.149Z","type":"message"}
{"nick":"trevnorris","message":"well, if the memory is allocated externally then it might not be in a Buffer (at least, what you're looking for)","date":"2014-10-24T22:59:19.433Z","type":"message"}
{"nick":"trevnorris","message":"but we can look at adding some tracing around external memory allocations.","date":"2014-10-24T22:59:45.654Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: yeah but that 150mb of ? is a pretty big thing right","date":"2014-10-24T23:00:31.294Z","type":"message"}
{"nick":"trevnorris","message":"not sure. i mean, it's not leaking but that is more than I'd expect if we were caching unused memory allocations.","date":"2014-10-24T23:02:04.677Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2014-10-24T23:04:10.017Z","type":"quit"}
{"nick":"wolfeidau","message":"yeah and this is a process doing 1 https req / second","date":"2014-10-24T23:04:56.852Z","type":"message"}
{"nick":"wolfeidau","message":"The thing serving these requests is using 3.4mb of ram atm","date":"2014-10-24T23:06:11.493Z","type":"message"}
{"nick":"trevnorris","message":"hm. what the crap is that memory...","date":"2014-10-24T23:06:34.597Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: did you see the graph of the event thread?","date":"2014-10-24T23:07:46.713Z","type":"message"}
{"nick":"indutny","message":"so","date":"2014-10-24T23:08:05.353Z","type":"message"}
{"nick":"indutny","message":"trevnorris: it is a slab!","date":"2014-10-24T23:08:16.599Z","type":"message"}
{"nick":"indutny","message":":)","date":"2014-10-24T23:08:17.302Z","type":"message"}
{"nick":"trevnorris","message":"indutny: that is one massive slab...","date":"2014-10-24T23:08:29.855Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2014-10-24T23:08:33.286Z","type":"message"}
{"nick":"indutny","message":"many of thems","date":"2014-10-24T23:08:34.820Z","type":"message"}
{"nick":"trevnorris","message":"heh. how many is it keeping around?","date":"2014-10-24T23:08:48.019Z","type":"message"}
{"nick":"trevnorris","message":"indutny: IOW, is there a hardcoded value of how many slabs are cached?","date":"2014-10-24T23:09:29.984Z","type":"message"}
{"nick":"indutny","message":"it is not about cache","date":"2014-10-24T23:09:45.725Z","type":"message"}
{"nick":"indutny","message":"each tls connection takes a chunk of slab","date":"2014-10-24T23:09:52.293Z","type":"message"}
{"nick":"indutny","message":"and while it is alive it is very likely that the slab is alive too","date":"2014-10-24T23:10:02.710Z","type":"message"}
{"nick":"indutny","message":"now","date":"2014-10-24T23:10:03.571Z","type":"message"}
{"nick":"indutny","message":"imagine that every 1000 connection persists","date":"2014-10-24T23:10:10.157Z","type":"message"}
{"nick":"indutny","message":"and every 1000 connections new slab is created","date":"2014-10-24T23:10:17.457Z","type":"message"}
{"nick":"indutny","message":"also","date":"2014-10-24T23:10:21.255Z","type":"message"}
{"nick":"indutny","message":"lots of this space is occupied by OpenSSL structures","date":"2014-10-24T23:10:32.292Z","type":"message"}
{"nick":"indutny","message":"it is doing some allocations internally","date":"2014-10-24T23:10:38.900Z","type":"message"}
{"nick":"indutny","message":"that are out of my control","date":"2014-10-24T23:10:43.181Z","type":"message"}
{"nick":"indutny","message":"wolfeidau: how much RSS does nginx use on the same machine?","date":"2014-10-24T23:10:53.406Z","type":"message"}
{"nick":"indutny","message":"for https","date":"2014-10-24T23:10:54.441Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: sec will just install it","date":"2014-10-24T23:11:52.776Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: doing 1 https req per second 982k of memory","date":"2014-10-24T23:18:02.866Z","type":"message"}
{"nick":"indutny","message":"982k of RSS?","date":"2014-10-24T23:18:11.751Z","type":"message"}
{"nick":"indutny","message":"ok, this is kind of cool","date":"2014-10-24T23:18:21.140Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2014-10-24T23:18:24.596Z","type":"message"}
{"nick":"indutny","message":"I just realised","date":"2014-10-24T23:18:27.592Z","type":"message"}
{"nick":"indutny","message":"1 rps","date":"2014-10-24T23:18:28.781Z","type":"message"}
{"nick":"indutny","message":"man, it should not really use that much memory","date":"2014-10-24T23:18:36.324Z","type":"message"}
{"nick":"indutny","message":"I mean node.js","date":"2014-10-24T23:18:40.156Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2014-10-24T23:18:50.532Z","type":"message"}
{"nick":"wolfeidau","message":"indutny: so RSS is 2.5mb","date":"2014-10-24T23:18:51.818Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2014-10-24T23:18:54.723Z","type":"message"}
{"nick":"indutny","message":"and it is like 200mb for node, right?","date":"2014-10-24T23:19:01.731Z","type":"message"}
{"nick":"wolfeidau","message":"yeah","date":"2014-10-24T23:19:09.102Z","type":"message"}
{"nick":"indutny","message":"we'll figure something out","date":"2014-10-24T23:19:21.734Z","type":"message"}
{"nick":"indutny","message":"but it won't ever be around 2.5mb","date":"2014-10-24T23:19:31.410Z","type":"message"}
{"nick":"indutny","message":":)","date":"2014-10-24T23:19:32.505Z","type":"message"}
{"nick":"wolfeidau","message":"haha yeah the other thing that struck me was the event thread impact of 1 https req per second","date":"2014-10-24T23:20:41.867Z","type":"message"}
{"nick":"wolfeidau","message":"vs http","date":"2014-10-24T23:20:49.077Z","type":"message"}
{"nick":"wolfeidau","message":"https://www.dropbox.com/s/0gxjpdmt7xcj0u6/Screenshot%202014-10-25%2010.21.24.png?dl=0","date":"2014-10-24T23:21:43.012Z","type":"message"}
{"nick":"wolfeidau","message":"There is obviously a lot going on there","date":"2014-10-24T23:21:57.816Z","type":"message"}
{"nick":"bnoordhuis","message":"god, gyp is doing that thing again where it completely ignores common.gypi...","date":"2014-10-24T23:31:37.681Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: what's with that? isn't it the same reason I (and libuv) are manually passing it to gyp?","date":"2014-10-24T23:32:44.178Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: yes, but even then it sometimes goes wrong","date":"2014-10-24T23:33:48.182Z","type":"message"}
{"nick":"bnoordhuis","message":"either i'm doing something wrong or i hit a bug","date":"2014-10-24T23:34:05.092Z","type":"message"}
{"nick":"bnoordhuis","message":"it's gyp so chances are 50/50","date":"2014-10-24T23:34:26.694Z","type":"message"}
{"nick":"trevnorris","message":"oy. well, honestly, i consider it a but that I can't have the same name build target as a dependency.","date":"2014-10-24T23:34:51.302Z","type":"message"}
{"nick":"trevnorris","message":"also, that thing with icu and host/target.","date":"2014-10-24T23:35:01.310Z","type":"message"}
{"nick":"trevnorris","message":"the fact that breaking those apart and renaming them is necessary to remove the warning is stupid.","date":"2014-10-24T23:35:15.548Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah. it sounds like a gyp deficiency to me but i don't know, maybe we're making bad assumptions","date":"2014-10-24T23:37:27.275Z","type":"message"}
{"nick":"bnoordhuis","message":"on the other hand, toolsets is completely undocumented. makes making the right assumptions kind of difficult","date":"2014-10-24T23:37:59.410Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, i had the luminuous idea of pulling in some files from chromium base","date":"2014-10-24T23:39:07.460Z","type":"message"}
{"nick":"bnoordhuis","message":"that way we don't have to keep reinventing the wheel for simple stuff","date":"2014-10-24T23:39:16.322Z","type":"message"}
{"nick":"bnoordhuis","message":"there's plenty of good stuff in chromium base","date":"2014-10-24T23:39:24.979Z","type":"message"}
{"nick":"rmg","date":"2014-10-24T23:40:21.712Z","type":"join"}
{"nick":"trevnorris","message":"cool. what have you pulled in so far?","date":"2014-10-24T23:41:27.193Z","type":"message"}
{"nick":"bnoordhuis","message":"i thought i'd start out simple, pull in chromium's command line arg parser and follow the deps from there","date":"2014-10-24T23:42:43.000Z","type":"message"}
{"nick":"bnoordhuis","message":"something else, i just realized i may have been a bad boy","date":"2014-10-24T23:42:58.073Z","type":"message"}
{"nick":"trevnorris","message":"heh. with what?","date":"2014-10-24T23:43:07.206Z","type":"message"}
{"nick":"bnoordhuis","message":"i landed those c++11 changes without updating the commit logs with PR-URL and Reviewed-By tags","date":"2014-10-24T23:43:21.505Z","type":"message"}
{"nick":"bnoordhuis","message":"i hang my head in shame","date":"2014-10-24T23:43:33.632Z","type":"message"}
{"nick":"trevnorris","message":"heh. i'll work on that script once the AL patch is done.","date":"2014-10-24T23:44:25.179Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T23:44:35.672Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] bnoordhuis\u000f pushed 1\u000f new commit to v0.12\u000f: https://github.com/node-forward/node/commit/b105f6f74190c11dcb27d4c8cb8225b71b154580\u000f","date":"2014-10-24T23:44:35.853Z","type":"message"}
{"nick":"node-forward-gh","message":"node\u000f/v0.12\u000f b105f6f\u000f Nikolai Vavilov\u000f: src: fix comparison of WCHAR with nullptr...","date":"2014-10-24T23:44:35.853Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T23:44:35.853Z","type":"part"}
{"nick":"trevnorris","message":"TJ had some useful tips on implementation of the async id.","date":"2014-10-24T23:44:47.132Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T23:44:57.004Z","type":"join"}
{"nick":"node-forward-gh","message":"[node\u000f] bnoordhuis\u000f closed pull request #32: src: fix comparison of WCHAR with nullptr (v0.12\u000f...patch-1\u000f) https://github.com/node-forward/node/pull/32\u000f","date":"2014-10-24T23:44:57.185Z","type":"message"}
{"nick":"node-forward-gh","date":"2014-10-24T23:44:57.185Z","type":"part"}
{"nick":"trevnorris","message":"like, we'll have the default implementation, but also allow the user to overwrite that with a JS or C++ callback so they can generate their own.","date":"2014-10-24T23:45:09.634Z","type":"message"}
{"nick":"bnoordhuis","message":"i saw an email with comments. haven't looked in detail yet","date":"2014-10-24T23:45:39.777Z","type":"message"}
{"nick":"trevnorris","message":"not much more detail really. that's the gist of it.","date":"2014-10-24T23:45:57.902Z","type":"message"}
{"nick":"rmg","reason":"Ping timeout: 265 seconds","date":"2014-10-24T23:46:06.126Z","type":"quit"}
{"nick":"bnoordhuis","message":"ah, okay. +1 in that case :)","date":"2014-10-24T23:46:18.537Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2014-10-24T23:46:46.651Z","type":"message"}
{"nick":"trevnorris","message":"also, is anything in man 7 aio useful? i mean, i'd think that libuv would leverage that. but don't see it being used.","date":"2014-10-24T23:47:28.686Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, aio... that's a long story but the tl;dr answer is 'no'","date":"2014-10-24T23:48:00.298Z","type":"message"}
{"nick":"trevnorris","message":"haha. okay. so \"is it useful?\". answer is \"no\".","date":"2014-10-24T23:49:03.313Z","type":"message"}
{"nick":"bnoordhuis","message":"yep. if you want the gory details, just say the word","date":"2014-10-24T23:49:20.246Z","type":"message"}
{"nick":"trevnorris","message":"if you have the time, i'd like them.","date":"2014-10-24T23:50:33.124Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. for starters, `man 7 aio` describes the libc libaio that's just a user-land thread pool","date":"2014-10-24T23:51:09.970Z","type":"message"}
{"nick":"bnoordhuis","message":"in other words, it doesn't offer anything that libuv's built-in threadpool doesn't already have","date":"2014-10-24T23:51:29.794Z","type":"message"}
{"nick":"bnoordhuis","message":"then there is native linux aio (lio) but that is traditionally very broken in many ways","date":"2014-10-24T23:52:00.441Z","type":"message"}
{"nick":"bnoordhuis","message":"for example, it doesn't really work without O_DIRECT","date":"2014-10-24T23:52:21.109Z","type":"message"}
{"nick":"bnoordhuis","message":"some filesystems didn't (and probably don't) support it","date":"2014-10-24T23:52:35.259Z","type":"message"}
{"nick":"bnoordhuis","message":"it sometimes silently falls back to synchronous i/o","date":"2014-10-24T23:52:44.907Z","type":"message"}
{"nick":"bnoordhuis","message":"there have been all kinds of kernel bugs, like memory leaks, use-after-frees, etc.","date":"2014-10-24T23:53:04.553Z","type":"message"}
{"nick":"bnoordhuis","message":"in short, only pain awaits those who use lio","date":"2014-10-24T23:53:46.153Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess the same is true for people that insist on using gyp...","date":"2014-10-24T23:56:58.854Z","type":"message"}
{"nick":"trevnorris","message":"interesting.","date":"2014-10-24T23:57:03.533Z","type":"message"}
{"nick":"trevnorris","message":"so, can you clarify something? does that mean the user needs to implement those functions (i.e. they're not implemented by libc)?","date":"2014-10-24T23:58:43.368Z","type":"message"}

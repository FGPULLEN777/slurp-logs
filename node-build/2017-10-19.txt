{"nick":"Trott","message":"Kicked off a node-daily-master just so we can get a baseline of sorts. https://ci.nodejs.org/job/node-daily-master/904/","date":"2017-10-19T00:09:52.559Z","type":"message"}
{"nick":"node-gh","date":"2017-10-19T00:25:22.966Z","type":"join"}
{"nick":"node-gh","date":"2017-10-19T00:25:23.004Z","type":"part"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2017-10-19T00:36:57.267Z","type":"quit"}
{"nick":"Fishrock123","date":"2017-10-19T00:37:33.759Z","type":"join"}
{"nick":"Fishrock123","reason":"Ping timeout: 258 seconds","date":"2017-10-19T00:42:08.789Z","type":"quit"}
{"nick":"Fishrock123","date":"2017-10-19T00:44:52.000Z","type":"join"}
{"nick":"rvagg","message":"mylesborins: figured out the smartos14 thing‚Äîthere's a thing in Jenkins that removes the `release-only` bit for non-release builds (cause it screws everything up, see https://github.com/nodejs/node/pull/12958) but it doesn't work on smartos! `perl -pi -e 's/: release-only/:/g' Makefile` works on every other platform but smartos14, even `sed -i` doesn't do anything, I don't understand it but I'm going to chalk it up","date":"2017-10-19T00:58:14.839Z","type":"message"}
{"nick":"rvagg","message":"to OS differences for now (which doesn't make a ton of sense tbh)","date":"2017-10-19T00:58:14.840Z","type":"message"}
{"nick":"joyee","date":"2017-10-19T01:02:52.168Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2017-10-19T01:04:40.774Z","type":"quit"}
{"nick":"node-gh","date":"2017-10-19T01:14:37.746Z","type":"join"}
{"nick":"node-gh","date":"2017-10-19T01:14:37.785Z","type":"part"}
{"nick":"Fishrock123","date":"2017-10-19T01:23:52.849Z","type":"join"}
{"nick":"joyee","message":"Hi, anyone knows which target in the Makefile are the Raspberry Pis using to run tests?","date":"2017-10-19T02:00:26.248Z","type":"message"}
{"nick":"joyee","message":"See https://github.com/nodejs/node/pull/16301","date":"2017-10-19T02:00:31.198Z","type":"message"}
{"nick":"refack","message":"joyee: Trott asked about it a few hours ago. I think the Jenkins job was broken (it pulled `master` instead of the PR branch)","date":"2017-10-19T02:02:03.789Z","type":"message"}
{"nick":"refack","message":"Anyway it's `make test-ci-js`","date":"2017-10-19T02:05:10.454Z","type":"message"}
{"nick":"joyee","message":"refack: OK thanks","date":"2017-10-19T02:14:16.424Z","type":"message"}
{"nick":"joyee","message":"refack: just got up so didn't see the previous conversations. (should definitely get a bounce server set up","date":"2017-10-19T02:14:55.884Z","type":"message"}
{"nick":"refack","message":"http://logs.libuv.org/node-build/2017-10-18","date":"2017-10-19T02:15:22.241Z","type":"message"}
{"nick":"joyee","message":"(thumb)","date":"2017-10-19T02:15:42.417Z","type":"message"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2017-10-19T02:39:50.527Z","type":"quit"}
{"nick":"Trott","message":"joyee: My attempted fixes have all run into various problems. Do you have a solution you're working on? My next step is to move `test-make-doc` to its own directory and add it that directory to `IGNORED_SUITES` in `test.py`. But if you're working on a simpler/better solution, I'm happy to stop what I'm doing. :-D","date":"2017-10-19T02:39:58.150Z","type":"message"}
{"nick":"Trott","message":"Actually, I think I have a better solution than that...maybe...","date":"2017-10-19T02:42:18.799Z","type":"message"}
{"nick":"joaocgreis","message":"About the arm-fanned job: the compile part runs on a machine that is configured with the scripts at the bottom of https://github.com/nodejs/build/pull/244/files , then it just uses make build-ci","date":"2017-10-19T02:43:44.389Z","type":"message"}
{"nick":"joaocgreis","message":"then the test-binary uses test-ci-native on only one worker and test-ci-js on all the others dividing the tests.. the sum of this should always be exactly the same as test-ci","date":"2017-10-19T02:44:49.556Z","type":"message"}
{"nick":"joaocgreis","message":"Windows should start using something like this when I have time to do it, didn't yet because the test matrix is already huge and I want to split the job","date":"2017-10-19T02:45:57.696Z","type":"message"}
{"nick":"joaocgreis","message":"Trott, joyee, refack hope this helps!","date":"2017-10-19T02:46:39.933Z","type":"message"}
{"nick":"refack","message":"üëç","date":"2017-10-19T02:47:37.708Z","type":"message"}
{"nick":"Trott","message":"Thanks joaocgreis. My current plan is to move the test to doctool, add doctool to IGNORED_SUITES, and add doctool explicitly to `make test` and `make test-ci` but leave it off of `make test-ci-js`.","date":"2017-10-19T02:47:50.064Z","type":"message"}
{"nick":"Trott","message":"Testing locally now.","date":"2017-10-19T02:47:55.093Z","type":"message"}
{"nick":"refack","message":"Is it the same issue as with the ESM test, that the build & test are coupled but run on different machines?","date":"2017-10-19T02:48:59.583Z","type":"message"}
{"nick":"refack","message":"Call `make doc-only` from within the test","date":"2017-10-19T02:49:31.275Z","type":"message"}
{"nick":"refack","message":"Alternatively skip on windows & arm. We just need it to be sane on one platform","date":"2017-10-19T02:50:19.841Z","type":"message"}
{"nick":"joyee","message":"Trott: yeah that's what I thought about doing when I landed that PR","date":"2017-10-19T02:51:54.098Z","type":"message"}
{"nick":"joyee","message":"(minus the IGNORED_SUITES part","date":"2017-10-19T02:52:19.230Z","type":"message"}
{"nick":"Trott","message":"refack: As a last resort, yes. But if possible, I'd rather not skip on arm because it really should build there. Having it run depending on whether it's fanned or not is closer to feature detection IMO, so hopefully more robust.","date":"2017-10-19T02:52:42.152Z","type":"message"}
{"nick":"Trott","message":"joyee: Your instincts were good. :-D","date":"2017-10-19T02:53:21.966Z","type":"message"}
{"nick":"Fishrock123","date":"2017-10-19T02:53:35.961Z","type":"join"}
{"nick":"joyee","message":"Trott: hmm..any reason why we should build the docs on arm","date":"2017-10-19T02:53:55.983Z","type":"message"}
{"nick":"Trott","message":"If anyone wants to review: PR is at https://github.com/nodejs/node/pull/16301","date":"2017-10-19T02:54:05.470Z","type":"message"}
{"nick":"Trott","message":"joyee: On arm in general, sure. But on the Raspberry Pi devices specifically: We build on a separate machine than where the tests run. I *think* what we do now is just move over `out/Release`. If we run the test on those machines, we'll need to move over `out/doc` as well. I guess that's do-able, but I don't know how.","date":"2017-10-19T02:55:55.753Z","type":"message"}
{"nick":"Trott","message":"So, future enhancement for someone who wants to dig into it, maybe? :-D","date":"2017-10-19T02:56:08.670Z","type":"message"}
{"nick":"joyee","message":"Trott: I guess we could do what refack suggested, run `make doc-only` in the test? (Similar to what my original PR did","date":"2017-10-19T02:58:45.269Z","type":"message"}
{"nick":"Trott","message":"Two problems with that:","date":"2017-10-19T02:59:00.705Z","type":"message"}
{"nick":"joyee","message":"I think we bumped into that -jn issue on freebsd because it's not `make doc-only`, but `make doc` so it builds NODE_EXE","date":"2017-10-19T02:59:15.438Z","type":"message"}
{"nick":"refack","message":"a good case study for how fast bit-rot spreads. During the two weeks we didn't properly cover the PIs we got two similar failing edge cases","date":"2017-10-19T03:00:03.272Z","type":"message"}
{"nick":"Trott","message":"Hmmm, never mind. Both of my \"problems\" may be non problems.","date":"2017-10-19T03:00:37.874Z","type":"message"}
{"nick":"refack","message":"Night & good luck üé©","date":"2017-10-19T03:01:12.903Z","type":"message"}
{"nick":"Trott","message":"gn","date":"2017-10-19T03:01:48.530Z","type":"message"}
{"nick":"Trott","message":"Maybe only run `make doc-only` if `out/doc` isn't found?","date":"2017-10-19T03:02:34.271Z","type":"message"}
{"nick":"Trott","message":"joyee: I'm confused. Do you think it will work if we just change the `make doc` bits you added `Makefile` to instead invoke `make doc-only`? Or will that fail on freebsd?","date":"2017-10-19T03:03:35.755Z","type":"message"}
{"nick":"Trott","message":"Because that sure *seems* like a straightforward solution....","date":"2017-10-19T03:04:12.005Z","type":"message"}
{"nick":"Trott","message":"Trying that in https://github.com/nodejs/node/pull/16309.","date":"2017-10-19T03:07:36.798Z","type":"message"}
{"nick":"joyee","message":"Trott: yep, that's what I think","date":"2017-10-19T03:18:52.313Z","type":"message"}
{"nick":"joyee","message":"Oh, I read the new PR, I meant to invoke `make doc-only` in the test script","date":"2017-10-19T03:19:41.692Z","type":"message"}
{"nick":"joyee","message":"as in, with child_process.spawn","date":"2017-10-19T03:19:56.962Z","type":"message"}
{"nick":"Fishrock123","reason":"Quit: Leaving...","date":"2017-10-19T03:25:04.547Z","type":"quit"}

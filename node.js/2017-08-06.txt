{"nick":"darkSeid_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T00:00:05.506Z","type":"quit"}
{"nick":"airdisa","date":"2017-08-06T00:00:25.590Z","type":"join"}
{"nick":"darkSeid_","date":"2017-08-06T00:00:37.099Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 246 seconds","date":"2017-08-06T00:00:49.484Z","type":"quit"}
{"nick":"MOVAH09","date":"2017-08-06T00:02:32.712Z","type":"join"}
{"nick":"modernpacifist","date":"2017-08-06T00:03:48.563Z","type":"join"}
{"nick":"webdev007","reason":"Ping timeout: 268 seconds","date":"2017-08-06T00:03:51.801Z","type":"quit"}
{"nick":"doomhz","date":"2017-08-06T00:04:10.350Z","type":"join"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T00:04:13.272Z","type":"quit"}
{"nick":"MOVAH09_","reason":"Ping timeout: 276 seconds","date":"2017-08-06T00:04:34.706Z","type":"quit"}
{"nick":"d0ruk","reason":"Ping timeout: 240 seconds","date":"2017-08-06T00:05:40.360Z","type":"quit"}
{"nick":"Industrial","reason":"Ping timeout: 276 seconds","date":"2017-08-06T00:07:10.716Z","type":"quit"}
{"nick":"doomhz","reason":"Ping timeout: 240 seconds","date":"2017-08-06T00:08:10.333Z","type":"quit"}
{"nick":"zaiste","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T00:11:11.894Z","type":"quit"}
{"nick":"teamcoltra","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T00:14:57.436Z","type":"quit"}
{"nick":"jscheel","date":"2017-08-06T00:15:30.489Z","type":"join"}
{"nick":"Treefingers","reason":"Read error: Connection reset by peer","date":"2017-08-06T00:22:15.089Z","type":"quit"}
{"nick":"victorqueiroz","reason":"Ping timeout: 255 seconds","date":"2017-08-06T00:23:13.037Z","type":"quit"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T00:25:21.961Z","type":"quit"}
{"nick":"jscheel","date":"2017-08-06T00:25:55.603Z","type":"join"}
{"nick":"dysfigured","message":"danneu: thanks for the feedback! so, my idea right now is that i have all this data across services, and they all have apis where i can access that data, and so i'm making a \"feed\" that requests my data from all these services, and then on my blog i'll post a feed from it. getting rxjs to merge all these requests is the easy part, i'm just trying to figure out how to integrate this into websockets","date":"2017-08-06T00:27:31.943Z","type":"message"}
{"nick":"dysfigured","message":"the basic idea being, and when a websocket is open, i'm polling these services every n seconds, and publishing them over a websocket, so if i post something on reddit then it will pop-up on my websites","date":"2017-08-06T00:31:08.401Z","type":"message"}
{"nick":"danneu","message":"dysfigured: sound pretty normal","date":"2017-08-06T00:31:42.258Z","type":"message"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T00:33:40.262Z","type":"quit"}
{"nick":"JohnBeales","reason":"Ping timeout: 260 seconds","date":"2017-08-06T00:34:47.659Z","type":"quit"}
{"nick":"JohnBeal_","date":"2017-08-06T00:35:02.526Z","type":"join"}
{"nick":"a--m","reason":"Quit: a--m ... away","date":"2017-08-06T00:35:04.820Z","type":"quit"}
{"nick":"JohnBeal_","reason":"Client Quit","date":"2017-08-06T00:35:23.238Z","type":"quit"}
{"nick":"jscheel","date":"2017-08-06T00:35:29.463Z","type":"join"}
{"nick":"kakashiAL","date":"2017-08-06T00:36:13.342Z","type":"join"}
{"nick":"victorqueiroz","date":"2017-08-06T00:37:03.014Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 246 seconds","date":"2017-08-06T00:37:41.596Z","type":"quit"}
{"nick":"danneu","message":"polling is often fine and simple. one improvement of course would be to push updates to your websocket server as well that it rebroadcasts to websocket clients. for example, maybe your database lets db clients subscribe to events. postgres has LISTEN (subscribe from client) and NOTIFY (broadcast from database)","date":"2017-08-06T00:38:30.033Z","type":"message"}
{"nick":"marciocg","reason":"Remote host closed the connection","date":"2017-08-06T00:38:49.711Z","type":"quit"}
{"nick":"rdg","date":"2017-08-06T00:39:08.338Z","type":"join"}
{"nick":"marciocg","date":"2017-08-06T00:39:09.922Z","type":"join"}
{"nick":"alexi5","date":"2017-08-06T00:39:19.633Z","type":"join"}
{"nick":"danneu","message":"whether it makes sense to do that ofc depends on thing like your data volume and how fresh data needs to be for clients.","date":"2017-08-06T00:39:25.817Z","type":"message"}
{"nick":"alexi5_","reason":"Ping timeout: 248 seconds","date":"2017-08-06T00:39:29.447Z","type":"quit"}
{"nick":"dysfigured","message":"yeah, rxjs will poll, and publish events to the websocket when any of them change","date":"2017-08-06T00:39:34.161Z","type":"message"}
{"nick":"danneu","message":"i c","date":"2017-08-06T00:39:43.958Z","type":"message"}
{"nick":"Cabanossi","date":"2017-08-06T00:39:57.203Z","type":"join"}
{"nick":"dysfigured","message":"that's the idea anyway, i've just never messed with websockets","date":"2017-08-06T00:40:03.012Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2017-08-06T00:40:40.336Z","type":"quit"}
{"nick":"vikr","date":"2017-08-06T00:41:13.716Z","type":"join"}
{"nick":"vikr","reason":"Client Quit","date":"2017-08-06T00:42:46.378Z","type":"quit"}
{"nick":"a--m","date":"2017-08-06T00:44:53.174Z","type":"join"}
{"nick":"a--m","reason":"Client Quit","date":"2017-08-06T00:46:00.662Z","type":"quit"}
{"nick":"SirPole","reason":"Ping timeout: 260 seconds","date":"2017-08-06T00:46:48.627Z","type":"quit"}
{"nick":"Hoffman","reason":"Ping timeout: 240 seconds","date":"2017-08-06T00:47:35.598Z","type":"quit"}
{"nick":"ahmedelgabri","reason":"Quit: WeeChat 1.9","date":"2017-08-06T00:52:25.394Z","type":"quit"}
{"nick":"markasoftware","reason":"Remote host closed the connection","date":"2017-08-06T00:53:05.501Z","type":"quit"}
{"nick":"quantik_","date":"2017-08-06T00:53:49.846Z","type":"join"}
{"nick":"quantik_","reason":"Max SendQ exceeded","date":"2017-08-06T00:56:39.806Z","type":"quit"}
{"nick":"quantik_","date":"2017-08-06T00:57:40.762Z","type":"join"}
{"nick":"plexigras","reason":"Ping timeout: 268 seconds","date":"2017-08-06T00:58:44.798Z","type":"quit"}
{"nick":"coot__________","date":"2017-08-06T01:02:00.274Z","type":"join"}
{"nick":"goodenou_","reason":"Remote host closed the connection","date":"2017-08-06T01:02:40.540Z","type":"quit"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T01:05:59.744Z","type":"quit"}
{"nick":"AtumT","reason":"Remote host closed the connection","date":"2017-08-06T01:11:12.361Z","type":"quit"}
{"nick":"ncthom91","date":"2017-08-06T01:11:47.501Z","type":"join"}
{"nick":"rdg","reason":"Remote host closed the connection","date":"2017-08-06T01:15:13.850Z","type":"quit"}
{"nick":"cannap","reason":"Quit: Leaving","date":"2017-08-06T01:19:47.966Z","type":"quit"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2017-08-06T01:20:00.748Z","type":"quit"}
{"nick":"ed209","date":"2017-08-06T01:20:06.641Z","type":"join"}
{"nick":"duderonomy","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T01:22:49.029Z","type":"quit"}
{"nick":"marciocg","reason":"Quit: Konversation terminated!","date":"2017-08-06T01:25:33.295Z","type":"quit"}
{"nick":"noraatepernos","reason":"Quit: noraatepernos","date":"2017-08-06T01:25:52.572Z","type":"quit"}
{"nick":"anjibaicha__","reason":"Quit: anjibaicha__","date":"2017-08-06T01:26:06.895Z","type":"quit"}
{"nick":"R34p3R","reason":"Ping timeout: 246 seconds","date":"2017-08-06T01:26:13.490Z","type":"quit"}
{"nick":"ncthom91","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T01:26:32.608Z","type":"quit"}
{"nick":"R34p3R","date":"2017-08-06T01:27:17.688Z","type":"join"}
{"nick":"darkSeid_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T01:28:07.281Z","type":"quit"}
{"nick":"anjibaicha__","date":"2017-08-06T01:29:20.641Z","type":"join"}
{"nick":"nya","reason":"Remote host closed the connection","date":"2017-08-06T01:30:48.487Z","type":"quit"}
{"nick":"webdev007","date":"2017-08-06T01:31:10.631Z","type":"join"}
{"nick":"star_prone","date":"2017-08-06T01:31:39.645Z","type":"join"}
{"nick":"anuxivm","reason":"Remote host closed the connection","date":"2017-08-06T01:32:41.780Z","type":"quit"}
{"nick":"goodenough","date":"2017-08-06T01:33:11.695Z","type":"join"}
{"nick":"quantik_","reason":"Quit: So long and thanks for all the fish","date":"2017-08-06T01:33:15.774Z","type":"quit"}
{"nick":"anjibaicha__","reason":"Quit: anjibaicha__","date":"2017-08-06T01:34:23.520Z","type":"quit"}
{"nick":"airdisa","date":"2017-08-06T01:36:00.101Z","type":"quit"}
{"nick":"beerdrop","reason":"Ping timeout: 240 seconds","date":"2017-08-06T01:36:35.511Z","type":"quit"}
{"nick":"ahrs","reason":"Remote host closed the connection","date":"2017-08-06T01:36:42.496Z","type":"quit"}
{"nick":"star_prone","reason":"Ping timeout: 260 seconds","date":"2017-08-06T01:36:44.659Z","type":"quit"}
{"nick":"hero1245","date":"2017-08-06T01:37:26.544Z","type":"join"}
{"nick":"Kosingas","reason":"Quit: Leaving","date":"2017-08-06T01:37:31.090Z","type":"quit"}
{"nick":"ahrs","date":"2017-08-06T01:37:51.794Z","type":"join"}
{"nick":"brent__","date":"2017-08-06T01:37:55.295Z","type":"join"}
{"nick":"hero1245","date":"2017-08-06T01:37:55.470Z","type":"part"}
{"nick":"brent__","reason":"Read error: Connection timed out","date":"2017-08-06T01:38:03.654Z","type":"quit"}
{"nick":"Cabanossi","reason":"Ping timeout: 264 seconds","date":"2017-08-06T01:38:10.307Z","type":"quit"}
{"nick":"goodenough","reason":"Ping timeout: 276 seconds","date":"2017-08-06T01:38:10.673Z","type":"quit"}
{"nick":"brent__","date":"2017-08-06T01:38:39.613Z","type":"join"}
{"nick":"hero1245","date":"2017-08-06T01:39:19.538Z","type":"join"}
{"nick":"hero1245","message":"why do I get �� at the start of my first line using lineread","date":"2017-08-06T01:39:24.948Z","type":"message"}
{"nick":"hero1245","message":"readline","date":"2017-08-06T01:39:30.854Z","type":"message"}
{"nick":"Cabanossi","date":"2017-08-06T01:40:05.286Z","type":"join"}
{"nick":"safe","reason":"Read error: Connection reset by peer","date":"2017-08-06T01:44:11.707Z","type":"quit"}
{"nick":"bytenybblebit","date":"2017-08-06T01:45:02.262Z","type":"join"}
{"nick":"sterns","reason":"Ping timeout: 255 seconds","date":"2017-08-06T01:46:47.847Z","type":"quit"}
{"nick":"beerdrop","date":"2017-08-06T01:49:40.380Z","type":"join"}
{"nick":"star_prone","date":"2017-08-06T01:52:34.845Z","type":"join"}
{"nick":"brent__","reason":"Remote host closed the connection","date":"2017-08-06T01:53:07.159Z","type":"quit"}
{"nick":"erikg_","date":"2017-08-06T01:54:19.494Z","type":"join"}
{"nick":"neoncontrails","reason":"Remote host closed the connection","date":"2017-08-06T01:54:37.853Z","type":"quit"}
{"nick":"joshontheweb","reason":"Quit: Computer has gone to sleep.","date":"2017-08-06T01:54:43.458Z","type":"quit"}
{"nick":"neoncontrails","date":"2017-08-06T01:55:14.850Z","type":"join"}
{"nick":"erikg_","date":"2017-08-06T01:56:41.719Z","type":"part"}
{"nick":"star_prone","reason":"Ping timeout: 255 seconds","date":"2017-08-06T01:57:08.847Z","type":"quit"}
{"nick":"neoncontrails","reason":"Ping timeout: 240 seconds","date":"2017-08-06T01:59:27.816Z","type":"quit"}
{"nick":"safe","date":"2017-08-06T02:00:30.525Z","type":"join"}
{"nick":"roy","date":"2017-08-06T02:03:08.671Z","type":"join"}
{"nick":"Industrial","date":"2017-08-06T02:04:05.270Z","type":"join"}
{"nick":"doomhz","date":"2017-08-06T02:05:47.260Z","type":"join"}
{"nick":"ecuanaso","date":"2017-08-06T02:06:38.233Z","type":"join"}
{"nick":"bytenybblebit","reason":"Ping timeout: 240 seconds","date":"2017-08-06T02:07:40.279Z","type":"quit"}
{"nick":"Industrial","reason":"Ping timeout: 248 seconds","date":"2017-08-06T02:08:33.455Z","type":"quit"}
{"nick":"roy","date":"2017-08-06T02:09:07.257Z","type":"part"}
{"nick":"roy","date":"2017-08-06T02:09:20.504Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 276 seconds","date":"2017-08-06T02:09:22.698Z","type":"quit"}
{"nick":"roy","date":"2017-08-06T02:09:44.747Z","type":"part"}
{"nick":"Cabanossi","date":"2017-08-06T02:10:09.677Z","type":"join"}
{"nick":"doomhz","reason":"Ping timeout: 240 seconds","date":"2017-08-06T02:11:10.255Z","type":"quit"}
{"nick":"zchrykng_","date":"2017-08-06T02:11:24.719Z","type":"join"}
{"nick":"star_prone","date":"2017-08-06T02:13:07.636Z","type":"join"}
{"nick":"victorqueiroz","reason":"Ping timeout: 255 seconds","date":"2017-08-06T02:13:52.897Z","type":"quit"}
{"nick":"zchrykng_","reason":"Quit: http://quassel-irc.org - Chat comfortably. Anywhere.","date":"2017-08-06T02:14:50.893Z","type":"quit"}
{"nick":"imdaroy","date":"2017-08-06T02:15:53.355Z","type":"join"}
{"nick":"jscheel","date":"2017-08-06T02:16:15.889Z","type":"join"}
{"nick":"bytenybblebit","date":"2017-08-06T02:16:47.314Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 246 seconds","date":"2017-08-06T02:17:19.508Z","type":"quit"}
{"nick":"systemovich","reason":"Remote host closed the connection","date":"2017-08-06T02:18:13.038Z","type":"quit"}
{"nick":"systemovich","date":"2017-08-06T02:18:37.262Z","type":"join"}
{"nick":"Delta-One","date":"2017-08-06T02:19:37.429Z","type":"join"}
{"nick":"hero1245","reason":"Quit: hero1245","date":"2017-08-06T02:19:53.292Z","type":"quit"}
{"nick":"beefjoe","reason":"Remote host closed the connection","date":"2017-08-06T02:21:39.520Z","type":"quit"}
{"nick":"coot__________","reason":"Quit: coot__________","date":"2017-08-06T02:23:56.298Z","type":"quit"}
{"nick":"hndk","date":"2017-08-06T02:24:12.573Z","type":"join"}
{"nick":"zchrykng_","date":"2017-08-06T02:26:14.719Z","type":"join"}
{"nick":"alexi5_","date":"2017-08-06T02:27:26.718Z","type":"join"}
{"nick":"alexi5","reason":"Ping timeout: 260 seconds","date":"2017-08-06T02:27:36.473Z","type":"quit"}
{"nick":"goodenough","date":"2017-08-06T02:27:40.585Z","type":"join"}
{"nick":"HoierM","reason":"Ping timeout: 248 seconds","date":"2017-08-06T02:28:49.480Z","type":"quit"}
{"nick":"jeffreylevesque","date":"2017-08-06T02:29:35.418Z","type":"join"}
{"nick":"andrehjr","date":"2017-08-06T02:30:28.223Z","type":"join"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T02:32:08.553Z","type":"quit"}
{"nick":"inflames","date":"2017-08-06T02:35:54.586Z","type":"join"}
{"nick":"victorqueiroz","date":"2017-08-06T02:37:03.475Z","type":"join"}
{"nick":"webdev007","reason":"Quit: Leaving","date":"2017-08-06T02:37:06.633Z","type":"quit"}
{"nick":"victorqueiroz","reason":"Max SendQ exceeded","date":"2017-08-06T02:37:11.434Z","type":"quit"}
{"nick":"victorqueiroz","date":"2017-08-06T02:38:08.631Z","type":"join"}
{"nick":"wijagels","date":"2017-08-06T02:41:46.234Z","type":"join"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T02:46:57.117Z","type":"quit"}
{"nick":"chjj","reason":"Ping timeout: 276 seconds","date":"2017-08-06T02:49:01.717Z","type":"quit"}
{"nick":"MacWinner","date":"2017-08-06T02:51:33.508Z","type":"join"}
{"nick":"texinwien","date":"2017-08-06T02:53:03.555Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 246 seconds","date":"2017-08-06T02:53:08.569Z","type":"quit"}
{"nick":"chjj","date":"2017-08-06T02:54:28.646Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T02:55:03.463Z","type":"join"}
{"nick":"jscheel","date":"2017-08-06T02:55:39.747Z","type":"join"}
{"nick":"Phloxx","reason":"Ping timeout: 276 seconds","date":"2017-08-06T03:00:04.698Z","type":"quit"}
{"nick":"texinwien","reason":"Ping timeout: 248 seconds","date":"2017-08-06T03:00:17.595Z","type":"quit"}
{"nick":"Phloxx","date":"2017-08-06T03:02:22.586Z","type":"join"}
{"nick":"eastwoot","date":"2017-08-06T03:02:43.488Z","type":"join"}
{"nick":"yadayada","date":"2017-08-06T03:03:12.017Z","type":"join"}
{"nick":"ecuanaso","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T03:03:20.495Z","type":"quit"}
{"nick":"hero1245","date":"2017-08-06T03:04:01.556Z","type":"join"}
{"nick":"hero1245","message":"how can I test what headers is being sent with a proxy with nodejs?","date":"2017-08-06T03:04:07.584Z","type":"message"}
{"nick":"lem0nify","reason":"Ping timeout: 255 seconds","date":"2017-08-06T03:05:40.028Z","type":"quit"}
{"nick":"h12o","date":"2017-08-06T03:07:46.847Z","type":"join"}
{"nick":"teamcoltra","date":"2017-08-06T03:07:56.650Z","type":"join"}
{"nick":"h12o","reason":"Ping timeout: 240 seconds","date":"2017-08-06T03:11:57.814Z","type":"quit"}
{"nick":"jeffreylevesque","reason":"Quit: Colloquy for iPhone - http://colloquy.mobi","date":"2017-08-06T03:16:58.507Z","type":"quit"}
{"nick":"DeltaHeavy","message":"I don't think you can. How can you even really determine they're being proxied?","date":"2017-08-06T03:16:59.342Z","type":"message"}
{"nick":"imdaroy","reason":"Quit: WeeChat 1.4","date":"2017-08-06T03:17:49.545Z","type":"quit"}
{"nick":"systemovich","reason":"Remote host closed the connection","date":"2017-08-06T03:19:38.751Z","type":"quit"}
{"nick":"systemovich","date":"2017-08-06T03:20:06.487Z","type":"join"}
{"nick":"hero1245","message":"Im the one sending the request with the proxy","date":"2017-08-06T03:20:36.439Z","type":"message"}
{"nick":"hero1245","message":"Im thinking of doing an express server that outputs the headers and use that","date":"2017-08-06T03:20:55.717Z","type":"message"}
{"nick":"goodenough","date":"2017-08-06T03:21:54.578Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 264 seconds","date":"2017-08-06T03:22:34.284Z","type":"quit"}
{"nick":"Cabanossi","date":"2017-08-06T03:24:04.947Z","type":"join"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T03:26:16.490Z","type":"quit"}
{"nick":"BYAH","date":"2017-08-06T03:27:05.040Z","type":"join"}
{"nick":"BYAH","message":"can anyone spot why the promise isn't triggering any console.logs in this code?","date":"2017-08-06T03:27:18.849Z","type":"message"}
{"nick":"BYAH","message":"code: https://gist.github.com/CharlesStocky/dfb1624061ee4fa25642d18dbae988df","date":"2017-08-06T03:27:40.359Z","type":"message"}
{"nick":"BYAH","message":"if i put the get request outside of the function, it works. but i can't think of a way to paginate cursor objects without it being in a function","date":"2017-08-06T03:28:25.280Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 255 seconds","date":"2017-08-06T03:29:58.036Z","type":"quit"}
{"nick":"alexweissman","reason":"Remote host closed the connection","date":"2017-08-06T03:30:13.872Z","type":"quit"}
{"nick":"Lee1092","date":"2017-08-06T03:30:43.802Z","type":"join"}
{"nick":"alexweissman","date":"2017-08-06T03:31:00.189Z","type":"join"}
{"nick":"andrehjr","reason":"Quit: has gone to sleep. ZZZzzz…","date":"2017-08-06T03:35:27.404Z","type":"quit"}
{"nick":"pstef","reason":"Ping timeout: 246 seconds","date":"2017-08-06T03:37:07.591Z","type":"quit"}
{"nick":"BYAH","reason":"Ping timeout: 260 seconds","date":"2017-08-06T03:40:05.031Z","type":"quit"}
{"nick":"nahtnam","reason":"Quit: Connection closed for inactivity","date":"2017-08-06T03:41:19.978Z","type":"quit"}
{"nick":"eastw00t","date":"2017-08-06T03:42:25.508Z","type":"join"}
{"nick":"KeyboardNotFound","date":"2017-08-06T03:43:29.556Z","type":"join"}
{"nick":"eastwoot","reason":"Ping timeout: 260 seconds","date":"2017-08-06T03:45:32.483Z","type":"quit"}
{"nick":"eastw00t","new_nick":"eastwoot","date":"2017-08-06T03:45:39.167Z","type":"nick"}
{"nick":"smccarthy","date":"2017-08-06T03:50:19.541Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2017-08-06T03:50:21.421Z","type":"quit"}
{"nick":"smccarthy","date":"2017-08-06T03:54:33.442Z","type":"join"}
{"nick":"KeyboardNotFound","reason":"Remote host closed the connection","date":"2017-08-06T03:55:17.647Z","type":"quit"}
{"nick":"pgm","date":"2017-08-06T03:55:38.812Z","type":"join"}
{"nick":"victorqueiroz","reason":"Ping timeout: 246 seconds","date":"2017-08-06T03:57:32.575Z","type":"quit"}
{"nick":"smccarthy","reason":"Ping timeout: 240 seconds","date":"2017-08-06T03:59:10.428Z","type":"quit"}
{"nick":"wonko7","reason":"Quit: See You Space Cowboy..","date":"2017-08-06T04:03:22.322Z","type":"quit"}
{"nick":"doomhz","date":"2017-08-06T04:08:14.685Z","type":"join"}
{"nick":"Qantas94Heavy","date":"2017-08-06T04:10:58.686Z","type":"join"}
{"nick":"pilne","reason":"Quit: Quitting!","date":"2017-08-06T04:12:28.197Z","type":"quit"}
{"nick":"doomhz","reason":"Ping timeout: 276 seconds","date":"2017-08-06T04:12:52.685Z","type":"quit"}
{"nick":"pgm","reason":"Quit: pgm","date":"2017-08-06T04:13:21.054Z","type":"quit"}
{"nick":"teamcoltra","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T04:15:24.620Z","type":"quit"}
{"nick":"goodenough","date":"2017-08-06T04:16:06.583Z","type":"join"}
{"nick":"systemfault","date":"2017-08-06T04:16:36.317Z","type":"join"}
{"nick":"jscheel","reason":"Quit: jscheel","date":"2017-08-06T04:17:52.000Z","type":"quit"}
{"nick":"devc`markos","new_nick":"devc`sanko","date":"2017-08-06T04:18:41.797Z","type":"nick"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T04:20:31.548Z","type":"quit"}
{"nick":"star_prone","date":"2017-08-06T04:24:32.278Z","type":"join"}
{"nick":"kingarmadillo","date":"2017-08-06T04:26:11.893Z","type":"join"}
{"nick":"Yacker","date":"2017-08-06T04:27:59.019Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 258 seconds","date":"2017-08-06T04:29:09.260Z","type":"quit"}
{"nick":"dk0r","reason":"Read error: Connection reset by peer","date":"2017-08-06T04:29:29.063Z","type":"quit"}
{"nick":"Aseity","reason":"Remote host closed the connection","date":"2017-08-06T04:30:13.816Z","type":"quit"}
{"nick":"kingarmadillo","reason":"Ping timeout: 246 seconds","date":"2017-08-06T04:31:43.491Z","type":"quit"}
{"nick":"NikNakFlak","date":"2017-08-06T04:33:12.879Z","type":"join"}
{"nick":"smccarthy","date":"2017-08-06T04:36:21.835Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2017-08-06T04:37:19.268Z","type":"quit"}
{"nick":"smccarthy","date":"2017-08-06T04:37:32.190Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 276 seconds","date":"2017-08-06T04:37:34.688Z","type":"quit"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2017-08-06T04:38:22.605Z","type":"quit"}
{"nick":"smccarthy","date":"2017-08-06T04:39:11.709Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T04:39:12.450Z","type":"join"}
{"nick":"einnjo","date":"2017-08-06T04:41:41.915Z","type":"join"}
{"nick":"jscheel","date":"2017-08-06T04:42:27.664Z","type":"join"}
{"nick":"jscheel","reason":"Client Quit","date":"2017-08-06T04:42:33.096Z","type":"quit"}
{"nick":"alexweissman","reason":"Remote host closed the connection","date":"2017-08-06T04:44:19.257Z","type":"quit"}
{"nick":"ryzokuken","date":"2017-08-06T04:44:30.063Z","type":"join"}
{"nick":"smccarthy","reason":"Ping timeout: 276 seconds","date":"2017-08-06T04:44:43.716Z","type":"quit"}
{"nick":"alexweissman","date":"2017-08-06T04:45:04.569Z","type":"join"}
{"nick":"Yacker","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T04:50:16.992Z","type":"quit"}
{"nick":"zxc","date":"2017-08-06T04:51:40.694Z","type":"join"}
{"nick":"lpin","date":"2017-08-06T04:52:10.767Z","type":"join"}
{"nick":"eastwoot","reason":"Remote host closed the connection","date":"2017-08-06T04:55:39.103Z","type":"quit"}
{"nick":"duderonomy","date":"2017-08-06T04:56:23.495Z","type":"join"}
{"nick":"quantik","date":"2017-08-06T04:56:46.775Z","type":"join"}
{"nick":"quantik","reason":"Client Quit","date":"2017-08-06T04:56:54.116Z","type":"quit"}
{"nick":"quantik","date":"2017-08-06T04:57:47.848Z","type":"join"}
{"nick":"teamcoltra","date":"2017-08-06T04:57:56.685Z","type":"join"}
{"nick":"star_prone","date":"2017-08-06T05:00:31.813Z","type":"join"}
{"nick":"mr-foobar","date":"2017-08-06T05:02:58.629Z","type":"join"}
{"nick":"goodenough","date":"2017-08-06T05:03:34.550Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 240 seconds","date":"2017-08-06T05:04:27.820Z","type":"quit"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T05:07:46.479Z","type":"quit"}
{"nick":"benjamingr_","reason":"Quit: Connection closed for inactivity","date":"2017-08-06T05:07:54.053Z","type":"quit"}
{"nick":"duderono_","date":"2017-08-06T05:12:24.197Z","type":"join"}
{"nick":"duderonomy","reason":"Ping timeout: 276 seconds","date":"2017-08-06T05:13:58.707Z","type":"quit"}
{"nick":"jkridner","reason":"Remote host closed the connection","date":"2017-08-06T05:16:34.590Z","type":"quit"}
{"nick":"duderono_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T05:19:07.515Z","type":"quit"}
{"nick":"qrestlove","reason":"Ping timeout: 246 seconds","date":"2017-08-06T05:21:25.581Z","type":"quit"}
{"nick":"hero1245","date":"2017-08-06T05:24:46.845Z","type":"part"}
{"nick":"coot__________","date":"2017-08-06T05:26:44.873Z","type":"join"}
{"nick":"hero1245","date":"2017-08-06T05:27:43.253Z","type":"join"}
{"nick":"hero1245","message":"how can i do a get request and see the speed of the request?","date":"2017-08-06T05:28:04.709Z","type":"message"}
{"nick":"quantik","reason":"Ping timeout: 248 seconds","date":"2017-08-06T05:28:49.765Z","type":"quit"}
{"nick":"desiph3r","date":"2017-08-06T05:29:14.692Z","type":"join"}
{"nick":"coot__________","reason":"Read error: No route to host","date":"2017-08-06T05:30:42.050Z","type":"quit"}
{"nick":"coot__________","date":"2017-08-06T05:30:59.689Z","type":"join"}
{"nick":"LXXIII","date":"2017-08-06T05:34:47.654Z","type":"join"}
{"nick":"qrestlove","date":"2017-08-06T05:36:21.469Z","type":"join"}
{"nick":"jphase","date":"2017-08-06T05:39:00.848Z","type":"join"}
{"nick":"DeltaHeavy","message":"hero1245: The network tab in your browsers dev tools","date":"2017-08-06T05:39:04.832Z","type":"message"}
{"nick":"hero1245","message":"i'm doing the request from node.js using request module right now","date":"2017-08-06T05:39:49.051Z","type":"message"}
{"nick":"duderonomy","date":"2017-08-06T05:39:58.688Z","type":"join"}
{"nick":"smccarthy","date":"2017-08-06T05:40:34.660Z","type":"join"}
{"nick":"DeltaHeavy","message":"hero1245: Use node-inspector then","date":"2017-08-06T05:42:20.041Z","type":"message"}
{"nick":"DeltaHeavy","message":"https://github.com/node-inspector/node-inspector","date":"2017-08-06T05:42:22.500Z","type":"message"}
{"nick":"Dal1980","message":"Hi guys. I think I've narrowed my problem down. I ask the db for each row and I process the row by creating a file. Seems that the files are only wrote when the db has finished looking up all of the rows. Can anyone suggest what I'm doing wrong: https://gist.github.com/zombiesbyte/7b144c1ae63fb0191066f7297bbb56b5","date":"2017-08-06T05:42:23.477Z","type":"message"}
{"nick":"DeltaHeavy","message":"Dal1980: Why are you querying a DB only to write it's contents back onto the hardrive again?","date":"2017-08-06T05:43:18.076Z","type":"message"}
{"nick":"jphase","reason":"Ping timeout: 255 seconds","date":"2017-08-06T05:43:29.845Z","type":"quit"}
{"nick":"Dal1980","message":"I'm not but this is to show an example of the problem. The real script creates images","date":"2017-08-06T05:43:59.093Z","type":"message"}
{"nick":"smccarthy","reason":"Ping timeout: 260 seconds","date":"2017-08-06T05:45:07.651Z","type":"quit"}
{"nick":"DeltaHeavy","message":"You're leaving out information to a point where I'm findint it confusing to figure out","date":"2017-08-06T05:45:42.283Z","type":"message"}
{"nick":"DeltaHeavy","message":"Like...what's the promises of arrays?","date":"2017-08-06T05:45:47.906Z","type":"message"}
{"nick":"DeltaHeavy","message":"At least include a couple examples so it's clear as to what's going on","date":"2017-08-06T05:45:58.477Z","type":"message"}
{"nick":"DeltaHeavy","message":"That said I\"m heading off soon","date":"2017-08-06T05:46:01.812Z","type":"message"}
{"nick":"Dal1980","message":"ok","date":"2017-08-06T05:46:15.750Z","type":"message"}
{"nick":"Dal1980","message":"https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d","date":"2017-08-06T05:46:56.122Z","type":"message"}
{"nick":"DeltaHeavy","message":"Also use a .js on the file name extension for your gist","date":"2017-08-06T05:46:58.943Z","type":"message"}
{"nick":"DeltaHeavy","message":"Syntax highlighting helps alot","date":"2017-08-06T05:47:03.078Z","type":"message"}
{"nick":"Dal1980","message":"Ah - sorry","date":"2017-08-06T05:47:10.774Z","type":"message"}
{"nick":"danneu","message":"hero1245: could compare Date.now() before and after","date":"2017-08-06T05:47:18.860Z","type":"message"}
{"nick":"plutoniix","reason":"Quit: Leaving","date":"2017-08-06T05:47:27.915Z","type":"quit"}
{"nick":"DeltaHeavy","message":"np","date":"2017-08-06T05:47:30.924Z","type":"message"}
{"nick":"danneu","message":"er, the difference","date":"2017-08-06T05:47:31.529Z","type":"message"}
{"nick":"hero1245","message":"I actually found out there's a time option in request module so no need","date":"2017-08-06T05:47:47.681Z","type":"message"}
{"nick":"duderono_","date":"2017-08-06T05:47:51.317Z","type":"join"}
{"nick":"danneu","message":"kool","date":"2017-08-06T05:48:00.020Z","type":"message"}
{"nick":"Dal1980","message":"updated syntax","date":"2017-08-06T05:48:01.637Z","type":"message"}
{"nick":"DeltaHeavy","message":"Why are you running Promise.all on getAssets()? Does it return an array of promises","date":"2017-08-06T05:49:02.138Z","type":"message"}
{"nick":"adempus","reason":"Ping timeout: 248 seconds","date":"2017-08-06T05:49:21.450Z","type":"quit"}
{"nick":"Dal1980","message":"Yeah - it grabs an array of Jimp object assets that I use to create the images based on the results of a db row","date":"2017-08-06T05:49:35.458Z","type":"message"}
{"nick":"chjj","reason":"Ping timeout: 260 seconds","date":"2017-08-06T05:50:22.651Z","type":"quit"}
{"nick":"Dal1980","message":"If I don't use them as a pre-determined list of \"assets\" then Jimp will just keep reading and storing the same ones over and over and I hit memory issues early on","date":"2017-08-06T05:50:36.524Z","type":"message"}
{"nick":"duderonomy","reason":"Ping timeout: 260 seconds","date":"2017-08-06T05:50:57.650Z","type":"quit"}
{"nick":"Dal1980","message":"That being said, the write buffer isn't cleared until the db has finished reading all data... which is my problem","date":"2017-08-06T05:51:13.279Z","type":"message"}
{"nick":"DeltaHeavy","message":"Dal1980: Where are you writing these files exactly? prepElements () is the DB call in question?","date":"2017-08-06T05:51:31.547Z","type":"message"}
{"nick":"orbyt_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T05:51:32.683Z","type":"quit"}
{"nick":"Cabanossi","reason":"Ping timeout: 246 seconds","date":"2017-08-06T05:51:38.562Z","type":"quit"}
{"nick":"DeltaHeavy","message":"brb heading out for a quick smoke","date":"2017-08-06T05:51:41.625Z","type":"message"}
{"nick":"Dal1980","message":"ok","date":"2017-08-06T05:51:47.759Z","type":"message"}
{"nick":"Cabanossi","date":"2017-08-06T05:54:20.967Z","type":"join"}
{"nick":"Dal1980","message":"DeltaHeavy: A lot of the functions build out how the object assets should be arranged on a Platter (a blank image), then addParts is sent an object with instructions on what to do with an asset and final asks Jimp to write it (line 297). It then returns to the previous function to gather more assets until the complete image is finished with at which point it returns for a new row to work with. The problem I see is","date":"2017-08-06T05:56:03.343Z","type":"message"}
{"nick":"Dal1980","message":"that Jimp write function converts the buffer to a write stream and this is only ever activated when the db has served all of the rows.","date":"2017-08-06T05:56:03.519Z","type":"message"}
{"nick":"jugglinmike","reason":"Quit: Leaving.","date":"2017-08-06T05:56:15.834Z","type":"quit"}
{"nick":"Dal1980","message":"At which point all files seems to be created and dumped out in a single large write package (for lack of a better term)","date":"2017-08-06T05:56:53.783Z","type":"message"}
{"nick":"jugglinmike","date":"2017-08-06T05:56:58.047Z","type":"join"}
{"nick":"teamcoltra","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T05:58:30.472Z","type":"quit"}
{"nick":"duderono_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T05:58:40.937Z","type":"quit"}
{"nick":"DeltaHeavy","message":"Dal1980: Are you sure db.each runs multiple queries, or runs one query and the callback iterates over the result?","date":"2017-08-06T05:59:03.395Z","type":"message"}
{"nick":"Industrial","date":"2017-08-06T05:59:11.851Z","type":"join"}
{"nick":"Dal1980","message":"db.each retruns a single row each time until it finishes. During each cycle I process the image","date":"2017-08-06T05:59:46.744Z","type":"message"}
{"nick":"manaskotian","date":"2017-08-06T06:00:10.824Z","type":"join"}
{"nick":"Dal1980","message":"Line 68 only sees 1 db row at a time","date":"2017-08-06T06:00:26.301Z","type":"message"}
{"nick":"jugglinmike","reason":"Ping timeout: 240 seconds","date":"2017-08-06T06:01:10.110Z","type":"quit"}
{"nick":"DeltaHeavy","message":"I think db.each isn't what you want if you want to batch this","date":"2017-08-06T06:01:10.280Z","type":"message"}
{"nick":"DeltaHeavy","message":"You might want a recursive function or something","date":"2017-08-06T06:01:19.850Z","type":"message"}
{"nick":"Dal1980","message":"ok, thanks. two weeks into node and I'm banging my head lol","date":"2017-08-06T06:02:36.197Z","type":"message"}
{"nick":"Dal1980","message":"Async makes me cry :D","date":"2017-08-06T06:02:45.384Z","type":"message"}
{"nick":"ryzokuken","reason":"Read error: Connection reset by peer","date":"2017-08-06T06:02:47.985Z","type":"quit"}
{"nick":"ryzokuken","date":"2017-08-06T06:03:08.695Z","type":"join"}
{"nick":"adempus","date":"2017-08-06T06:03:17.877Z","type":"join"}
{"nick":"f32","message":"Dal1980: async is awesome when you get used to it","date":"2017-08-06T06:03:26.971Z","type":"message"}
{"nick":"f32","message":"Dal1980: using async/await?","date":"2017-08-06T06:03:34.944Z","type":"message"}
{"nick":"DeltaHeavy","message":"Dal1980: One other thing you can start doing is use === and !== over == and !=","date":"2017-08-06T06:04:11.359Z","type":"message"}
{"nick":"DeltaHeavy","message":"Like...all the time","date":"2017-08-06T06:04:15.361Z","type":"message"}
{"nick":"Dal1980","message":"no f32, I'm very much learning and I'm finding that modules all support different stuff","date":"2017-08-06T06:04:23.894Z","type":"message"}
{"nick":"DeltaHeavy","message":"Also use const, or let if you need to reassign instead of var","date":"2017-08-06T06:04:31.629Z","type":"message"}
{"nick":"f32","message":"Dal1980: want some help?","date":"2017-08-06T06:04:44.772Z","type":"message"}
{"nick":"f32","message":"Dal1980: help / guidance?","date":"2017-08-06T06:05:02.451Z","type":"message"}
{"nick":"Dal1980","message":"I wouldn't mind f32 - I'm stretching the two brain cells as it is","date":"2017-08-06T06:05:21.802Z","type":"message"}
{"nick":"f32","message":"Dal1980: http://collabedit.com/ufn2h","date":"2017-08-06T06:05:48.485Z","type":"message"}
{"nick":"Dal1980","message":"Thanks DeltaHeavy - I've just started to investigate the let and const stuff. I'm used to JavaScript Var this var that :)","date":"2017-08-06T06:05:52.110Z","type":"message"}
{"nick":"DeltaHeavy","message":"The difference between let and var is let scopes things at the block level while var does at the function level. Then const is just like let but you can't resassign a variable","date":"2017-08-06T06:06:35.006Z","type":"message"}
{"nick":"DeltaHeavy","message":"n> const a = 5; a = 6","date":"2017-08-06T06:06:41.188Z","type":"message"}
{"nick":"babelboot","message":"DeltaHeavy: (okay) ^  TypeError: Assignment to constant variable. at eval (eval at <anonymous> (/var/ws/eval-js.js:11:21), <anonymous>:1:17) at Object.<anonymous> (/var/ws/eval-js.js:11:21) at Module._compile (module.js:569:30) at Object ... https://git.io/v7rw8","date":"2017-08-06T06:06:45.343Z","type":"message"}
{"nick":"DeltaHeavy","message":"Because it's block scoped, if you were in a for loop lets say, you could declare it ever iteration","date":"2017-08-06T06:07:11.098Z","type":"message"}
{"nick":"nya","date":"2017-08-06T06:07:43.607Z","type":"join"}
{"nick":"einnjo","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T06:08:25.732Z","type":"quit"}
{"nick":"nya","reason":"Remote host closed the connection","date":"2017-08-06T06:08:26.300Z","type":"quit"}
{"nick":"nya","date":"2017-08-06T06:08:35.489Z","type":"join"}
{"nick":"DeltaHeavy","message":"Heading to bed now, good luck and good night~","date":"2017-08-06T06:08:42.392Z","type":"message"}
{"nick":"doomhz","date":"2017-08-06T06:08:45.016Z","type":"join"}
{"nick":"einnjo","date":"2017-08-06T06:09:00.348Z","type":"join"}
{"nick":"DeltaHeavy","reason":"Read error: Connection reset by peer","date":"2017-08-06T06:09:02.328Z","type":"quit"}
{"nick":"einnjo","reason":"Client Quit","date":"2017-08-06T06:09:13.294Z","type":"quit"}
{"nick":"einnjo","date":"2017-08-06T06:09:52.276Z","type":"join"}
{"nick":"einnjo","reason":"Client Quit","date":"2017-08-06T06:10:01.235Z","type":"quit"}
{"nick":"einnjo","date":"2017-08-06T06:10:27.667Z","type":"join"}
{"nick":"einnjo","reason":"Client Quit","date":"2017-08-06T06:10:50.440Z","type":"quit"}
{"nick":"einnjo","date":"2017-08-06T06:12:13.376Z","type":"join"}
{"nick":"einnjo","reason":"Client Quit","date":"2017-08-06T06:12:26.288Z","type":"quit"}
{"nick":"doomhz","reason":"Ping timeout: 255 seconds","date":"2017-08-06T06:14:13.035Z","type":"quit"}
{"nick":"sbellina","date":"2017-08-06T06:15:47.936Z","type":"join"}
{"nick":"chjj","date":"2017-08-06T06:17:19.589Z","type":"join"}
{"nick":"Yacker","date":"2017-08-06T06:18:49.251Z","type":"join"}
{"nick":"alexweissman","reason":"Remote host closed the connection","date":"2017-08-06T06:19:23.242Z","type":"quit"}
{"nick":"stoneburner","date":"2017-08-06T06:23:31.435Z","type":"join"}
{"nick":"omnipot","date":"2017-08-06T06:26:06.898Z","type":"join"}
{"nick":"kingarmadillo","date":"2017-08-06T06:27:43.494Z","type":"join"}
{"nick":"TyrfingMjolnir_","date":"2017-08-06T06:28:52.485Z","type":"join"}
{"nick":"bytenybblebit","reason":"Ping timeout: 240 seconds","date":"2017-08-06T06:29:40.056Z","type":"quit"}
{"nick":"cob","reason":"Ping timeout: 240 seconds","date":"2017-08-06T06:30:48.471Z","type":"quit"}
{"nick":"hero1245","message":"anyone knows why request.abort() terminates my whole program instead of just terminating the request","date":"2017-08-06T06:31:03.201Z","type":"message"}
{"nick":"Yacker","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T06:31:47.658Z","type":"quit"}
{"nick":"myndzi","message":"i assume you don't have anything pending and therefore nothing keeps node running once the socket is closed?","date":"2017-08-06T06:32:50.849Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 255 seconds","date":"2017-08-06T06:33:04.936Z","type":"quit"}
{"nick":"hero1245","message":"well there should be stuff pending","date":"2017-08-06T06:33:11.272Z","type":"message"}
{"nick":"hero1245","message":"its doing line by line requests","date":"2017-08-06T06:33:19.174Z","type":"message"}
{"nick":"NikNakFlak","reason":"Ping timeout: 240 seconds","date":"2017-08-06T06:33:27.838Z","type":"quit"}
{"nick":"hero1245","message":"using readline","date":"2017-08-06T06:33:28.191Z","type":"message"}
{"nick":"myndzi","message":"if you're not calling process.exit(), the only reason for node to exit is no pending i/o","date":"2017-08-06T06:33:31.108Z","type":"message"}
{"nick":"myndzi","message":"or an unhandled error","date":"2017-08-06T06:33:44.821Z","type":"message"}
{"nick":"hero1245","message":"oh true that must be an error not showing","date":"2017-08-06T06:34:10.487Z","type":"message"}
{"nick":"hndk","reason":"Quit: Leaving","date":"2017-08-06T06:36:14.150Z","type":"quit"}
{"nick":"tkore","date":"2017-08-06T06:36:46.260Z","type":"join"}
{"nick":"star_prone","date":"2017-08-06T06:38:47.545Z","type":"join"}
{"nick":"nodweber","date":"2017-08-06T06:43:05.835Z","type":"join"}
{"nick":"cob","date":"2017-08-06T06:43:10.074Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 248 seconds","date":"2017-08-06T06:43:13.539Z","type":"quit"}
{"nick":"GreenJello","date":"2017-08-06T06:43:41.175Z","type":"join"}
{"nick":"rememberYou","date":"2017-08-06T06:47:55.769Z","type":"join"}
{"nick":"nodweber","reason":"Ping timeout: 260 seconds","date":"2017-08-06T06:48:00.524Z","type":"quit"}
{"nick":"Cabanossi","reason":"Ping timeout: 264 seconds","date":"2017-08-06T06:53:10.310Z","type":"quit"}
{"nick":"brent__","date":"2017-08-06T06:54:14.259Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T06:54:17.907Z","type":"join"}
{"nick":"xall","date":"2017-08-06T06:56:53.476Z","type":"join"}
{"nick":"sobersabre","date":"2017-08-06T06:57:18.678Z","type":"join"}
{"nick":"brent__","reason":"Ping timeout: 240 seconds","date":"2017-08-06T06:58:27.915Z","type":"quit"}
{"nick":"h12o","date":"2017-08-06T07:00:41.481Z","type":"join"}
{"nick":"teamcoltra","date":"2017-08-06T07:01:51.639Z","type":"join"}
{"nick":"wsieroci","date":"2017-08-06T07:02:35.415Z","type":"join"}
{"nick":"vuoto","date":"2017-08-06T07:05:19.719Z","type":"join"}
{"nick":"benjamingr_","date":"2017-08-06T07:05:42.204Z","type":"join"}
{"nick":"sergey","date":"2017-08-06T07:08:23.709Z","type":"join"}
{"nick":"Qantas94Heavy","reason":"Remote host closed the connection","date":"2017-08-06T07:09:25.032Z","type":"quit"}
{"nick":"chargen","date":"2017-08-06T07:09:29.032Z","type":"join"}
{"nick":"alexi5_","date":"2017-08-06T07:09:49.621Z","type":"quit"}
{"nick":"vuoto","reason":"Client Quit","date":"2017-08-06T07:09:52.323Z","type":"quit"}
{"nick":"Qantas94Heavy","date":"2017-08-06T07:09:57.432Z","type":"join"}
{"nick":"vuoto","date":"2017-08-06T07:10:19.788Z","type":"join"}
{"nick":"vuoto","reason":"Client Quit","date":"2017-08-06T07:11:42.050Z","type":"quit"}
{"nick":"stoneburner","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T07:12:53.870Z","type":"quit"}
{"nick":"led1","reason":"Quit: led1","date":"2017-08-06T07:15:57.677Z","type":"quit"}
{"nick":"systemfault","reason":"Quit: Bye!","date":"2017-08-06T07:17:05.749Z","type":"quit"}
{"nick":"coot__________","reason":"Quit: coot__________","date":"2017-08-06T07:21:13.650Z","type":"quit"}
{"nick":"led1","date":"2017-08-06T07:22:02.990Z","type":"join"}
{"nick":"pstef_","date":"2017-08-06T07:24:10.844Z","type":"join"}
{"nick":"h12o","reason":"Ping timeout: 260 seconds","date":"2017-08-06T07:24:52.649Z","type":"quit"}
{"nick":"h12o","date":"2017-08-06T07:28:57.245Z","type":"join"}
{"nick":"adempus","reason":"Remote host closed the connection","date":"2017-08-06T07:29:54.987Z","type":"quit"}
{"nick":"alexweissman","date":"2017-08-06T07:29:56.002Z","type":"join"}
{"nick":"xall","reason":"Quit: xall","date":"2017-08-06T07:30:23.570Z","type":"quit"}
{"nick":"yadayada","reason":"Quit: Page closed","date":"2017-08-06T07:32:09.001Z","type":"quit"}
{"nick":"coot__________","date":"2017-08-06T07:33:20.666Z","type":"join"}
{"nick":"alexweissman","reason":"Ping timeout: 240 seconds","date":"2017-08-06T07:34:09.972Z","type":"quit"}
{"nick":"h12o","reason":"Quit: ZNC - http://znc.in","date":"2017-08-06T07:38:28.783Z","type":"quit"}
{"nick":"manaskotian","date":"2017-08-06T07:38:37.907Z","type":"quit"}
{"nick":"mr-foobar","reason":"Ping timeout: 260 seconds","date":"2017-08-06T07:39:20.638Z","type":"quit"}
{"nick":"SirPole","date":"2017-08-06T07:40:17.480Z","type":"join"}
{"nick":"smccarthy","date":"2017-08-06T07:41:21.077Z","type":"join"}
{"nick":"littlebear","reason":"Read error: Connection reset by peer","date":"2017-08-06T07:42:01.170Z","type":"quit"}
{"nick":"f32","message":"myndzi: do you know much about webrtc?","date":"2017-08-06T07:42:30.520Z","type":"message"}
{"nick":"led2","date":"2017-08-06T07:42:39.712Z","type":"join"}
{"nick":"mr-foobar","date":"2017-08-06T07:42:54.054Z","type":"join"}
{"nick":"led2","reason":"Client Quit","date":"2017-08-06T07:43:01.538Z","type":"quit"}
{"nick":"smccarthy","reason":"Ping timeout: 255 seconds","date":"2017-08-06T07:46:01.036Z","type":"quit"}
{"nick":"lowercaseman","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T07:46:38.087Z","type":"quit"}
{"nick":"Dal1980","message":"f32, think I have that now... hopefully","date":"2017-08-06T07:48:05.306Z","type":"message"}
{"nick":"f32","message":"Dal1980: cool, lets check","date":"2017-08-06T07:48:18.045Z","type":"message"}
{"nick":"GreenJel_","date":"2017-08-06T07:52:20.709Z","type":"join"}
{"nick":"indistylo","date":"2017-08-06T07:52:49.853Z","type":"join"}
{"nick":"Dal1980","message":"Hey f32 - Thanks so much for the help, that was awesome!!","date":"2017-08-06T07:55:03.257Z","type":"message"}
{"nick":"f32","message":"no worries mate","date":"2017-08-06T07:55:13.118Z","type":"message"}
{"nick":"GreenJello","reason":"Ping timeout: 276 seconds","date":"2017-08-06T07:55:49.699Z","type":"quit"}
{"nick":"Dal1980","message":"I think I'll be looking at code differently now","date":"2017-08-06T07:55:52.201Z","type":"message"}
{"nick":"f32","message":"yeah, async isn't too bad when you get the gist of promises and things, it might be a bit difficult to get into the depth of with without having the background that lead to it, so i hope i helped out in that regard","date":"2017-08-06T07:57:31.315Z","type":"message"}
{"nick":"f32","message":"Dal1980: awesome tho, good luck !","date":"2017-08-06T07:57:52.138Z","type":"message"}
{"nick":"ryzokuken","message":"any good speech toolkits for node?","date":"2017-08-06T07:57:53.979Z","type":"message"}
{"nick":"goodenough","date":"2017-08-06T07:58:01.694Z","type":"join"}
{"nick":"ryzokuken","message":"espeak bindings or the likes?","date":"2017-08-06T07:58:13.216Z","type":"message"}
{"nick":"safe","reason":"Read error: Connection reset by peer","date":"2017-08-06T07:58:25.973Z","type":"quit"}
{"nick":"coot__________","reason":"Quit: coot__________","date":"2017-08-06T07:59:09.606Z","type":"quit"}
{"nick":"Dal1980","message":"Yeah definitely f32!","date":"2017-08-06T07:59:37.550Z","type":"message"}
{"nick":"_main_","date":"2017-08-06T08:01:00.970Z","type":"join"}
{"nick":"_main_","reason":"Read error: Connection reset by peer","date":"2017-08-06T08:01:46.495Z","type":"quit"}
{"nick":"__main__","reason":"Read error: Connection reset by peer","date":"2017-08-06T08:01:50.786Z","type":"quit"}
{"nick":"_main_","date":"2017-08-06T08:02:04.865Z","type":"join"}
{"nick":"teamcoltra","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T08:02:30.880Z","type":"quit"}
{"nick":"_main_","reason":"Read error: Connection reset by peer","date":"2017-08-06T08:03:38.633Z","type":"quit"}
{"nick":"__main__","date":"2017-08-06T08:04:06.886Z","type":"join"}
{"nick":"Dal1980","message":"Can anyone explain why a bunch of files only get generated at the end of code?","date":"2017-08-06T08:06:16.740Z","type":"message"}
{"nick":"Dal1980","message":"(I don't know how to ask the question)","date":"2017-08-06T08:06:36.687Z","type":"message"}
{"nick":"Booster2ooo","date":"2017-08-06T08:07:59.681Z","type":"join"}
{"nick":"Dal1980","message":"I ask node to create a bunch of files from some info gathered from a db. These files seem to be wrote to the buffer until the script is done THEN they are wrote","date":"2017-08-06T08:09:03.737Z","type":"message"}
{"nick":"star_prone","date":"2017-08-06T08:09:55.627Z","type":"join"}
{"nick":"vuoto","date":"2017-08-06T08:10:42.502Z","type":"join"}
{"nick":"Dal1980","message":"https://gist.github.com/zombiesbyte/7b144c1ae63fb0191066f7297bbb56b5","date":"2017-08-06T08:10:54.935Z","type":"message"}
{"nick":"star_prone","reason":"Ping timeout: 260 seconds","date":"2017-08-06T08:14:20.495Z","type":"quit"}
{"nick":"Elisha","date":"2017-08-06T08:18:19.503Z","type":"join"}
{"nick":"myndzi","message":"not sure what you mean by 'until the script is done'","date":"2017-08-06T08:19:08.629Z","type":"message"}
{"nick":"Dal1980","message":"finished - like ended or process.exit()","date":"2017-08-06T08:19:38.084Z","type":"message"}
{"nick":"Dal1980","message":"(but naturally)","date":"2017-08-06T08:19:47.258Z","type":"message"}
{"nick":"myndzi","message":"fs.writeFile writes the entire contents of what you specify ~at once","date":"2017-08-06T08:19:52.990Z","type":"message"}
{"nick":"myndzi","message":"if you want to stream it, you want fs.createWriteStream","date":"2017-08-06T08:20:03.089Z","type":"message"}
{"nick":"desiph3r","reason":"Remote host closed the connection","date":"2017-08-06T08:20:07.811Z","type":"quit"}
{"nick":"myndzi","message":"yeah, but i am not sure how you're determining/measuring that","date":"2017-08-06T08:20:16.009Z","type":"message"}
{"nick":"myndzi","message":"naturally, if your code goes like","date":"2017-08-06T08:20:25.748Z","type":"message"}
{"nick":"myndzi","message":"get the data -> write the data -> exit","date":"2017-08-06T08:20:30.427Z","type":"message"}
{"nick":"myndzi","message":"then the data can be considered to be written close to when the script exits in timing","date":"2017-08-06T08:20:42.983Z","type":"message"}
{"nick":"myndzi","message":"i'm not entirely sure how db.each behaves, but i would expect its callback only completes when all the items in 'each' have completed","date":"2017-08-06T08:21:22.267Z","type":"message"}
{"nick":"myndzi","message":"which also fits with what you're suggesting","date":"2017-08-06T08:21:27.193Z","type":"message"}
{"nick":"myndzi","message":"perhaps a better question to ask is: what behavior do you want/expect?","date":"2017-08-06T08:21:38.768Z","type":"message"}
{"nick":"Dal1980","message":"ok","date":"2017-08-06T08:21:49.136Z","type":"message"}
{"nick":"Dal1980","message":"Thanks myndzi","date":"2017-08-06T08:21:55.743Z","type":"message"}
{"nick":"myndzi","message":"also, i mean","date":"2017-08-06T08:22:33.586Z","type":"message"}
{"nick":"myndzi","message":"in the code you pasted","date":"2017-08-06T08:22:35.826Z","type":"message"}
{"nick":"myndzi","message":"if you have a 3 second delay","date":"2017-08-06T08:22:40.461Z","type":"message"}
{"nick":"myndzi","message":"and you expect that all the queries will be completed in less time than that","date":"2017-08-06T08:22:50.100Z","type":"message"}
{"nick":"myndzi","message":"the minimum time before the first byte is written is 3 seconds","date":"2017-08-06T08:22:59.054Z","type":"message"}
{"nick":"myndzi","message":"the behavior you are asking about may not be included in your paste","date":"2017-08-06T08:23:07.829Z","type":"message"}
{"nick":"Dal1980","message":"It's a horrible thing being stuck in a dark room with no way of explaining what colour the walls are haha","date":"2017-08-06T08:24:33.421Z","type":"message"}
{"nick":"charmander","message":"Dal1980: this is the same problem as last time with the loop","date":"2017-08-06T08:25:39.785Z","type":"message"}
{"nick":"Dal1980","message":"I need to write files as the db is getting the data - kind of like flushing the files out.... the function is actually using createWriteStream but it looks like it's pulling it from some buffer","date":"2017-08-06T08:25:41.927Z","type":"message"}
{"nick":"Dal1980","message":"Hi charmander","date":"2017-08-06T08:25:52.712Z","type":"message"}
{"nick":"myndzi","message":"the only buffering happening is likely the result of how you are connecting your async code","date":"2017-08-06T08:26:09.243Z","type":"message"}
{"nick":"Dal1980","message":"not really - I got that all working awesomely with your help","date":"2017-08-06T08:26:12.191Z","type":"message"}
{"nick":"myndzi","message":"i suspect what you're doing is essentially setting things up so that you collect all the data first and then write it","date":"2017-08-06T08:26:26.986Z","type":"message"}
{"nick":"myndzi","message":"somehow","date":"2017-08-06T08:26:28.076Z","type":"message"}
{"nick":"charmander","message":"Dal1980: `prepElements` runs the callback once for each row, which starts 10 3-second timers at the same time","date":"2017-08-06T08:26:28.940Z","type":"message"}
{"nick":"myndzi","message":"but you've excluded the parts that might explain the behavior","date":"2017-08-06T08:26:39.010Z","type":"message"}
{"nick":"myndzi","message":"(by replacing them with the timer stub)","date":"2017-08-06T08:26:47.976Z","type":"message"}
{"nick":"Dal1980","message":"Ok - guys - I wanted to keep this simple but I think I'm barking up the wrong tree","date":"2017-08-06T08:26:52.531Z","type":"message"}
{"nick":"myndzi","message":"you need to think of async in terms of causality","date":"2017-08-06T08:26:58.233Z","type":"message"}
{"nick":"rendar","date":"2017-08-06T08:27:01.649Z","type":"join"}
{"nick":"Dal1980","message":"The problem I have it that I'm not writing the files... Jimp is","date":"2017-08-06T08:27:26.580Z","type":"message"}
{"nick":"myndzi","message":"if you want to write the data to the file progressively, you need to ensure that you're querying and responding to the queries progressively","date":"2017-08-06T08:27:33.625Z","type":"message"}
{"nick":"Dal1980","message":"https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d","date":"2017-08-06T08:27:37.582Z","type":"message"}
{"nick":"Dal1980","message":"This is my script in full","date":"2017-08-06T08:27:57.988Z","type":"message"}
{"nick":"kingarmadillo","date":"2017-08-06T08:28:45.955Z","type":"join"}
{"nick":"charmander","message":"Dal1980: it really is the same problem as before","date":"2017-08-06T08:29:06.779Z","type":"message"}
{"nick":"charmander","message":"also you can use forward slashes on Windows","date":"2017-08-06T08:29:16.787Z","type":"message"}
{"nick":"Dal1980","message":"^ thanks cool tip","date":"2017-08-06T08:29:36.427Z","type":"message"}
{"nick":"Dal1980","message":"Yeah I think it's the same problem as before... trying to narrow it down","date":"2017-08-06T08:29:54.310Z","type":"message"}
{"nick":"myndzi","message":"what i expect, looking at this code, is that there's a small delay and then everything happens at once","date":"2017-08-06T08:30:13.230Z","type":"message"}
{"nick":"myndzi","message":"this is because the 'db.each' method is just executing a single query, but then calling the callback (possibly synchronously?) once per row","date":"2017-08-06T08:30:30.496Z","type":"message"}
{"nick":"charmander","message":"Dal1980: a good place to start would be to move to promises entirely","date":"2017-08-06T08:30:43.565Z","type":"message"}
{"nick":"myndzi","message":"that is, using db.each isn't making it 'stream' the results from sqlite (probably?)","date":"2017-08-06T08:30:44.115Z","type":"message"}
{"nick":"myndzi","message":"the db call seems to be the thing you want to 'stream' but there's no time element in an sql query","date":"2017-08-06T08:31:14.104Z","type":"message"}
{"nick":"myndzi","message":"so i'm still not totally certain what behavior you want/expect","date":"2017-08-06T08:31:23.590Z","type":"message"}
{"nick":"myndzi","message":"my best guess is that what you're seeing is simply the result of \"i queried the database, then got all the data\"","date":"2017-08-06T08:31:51.735Z","type":"message"}
{"nick":"qbic","date":"2017-08-06T08:31:58.585Z","type":"join"}
{"nick":"myndzi","message":"that's not buffering so much as it is query latency","date":"2017-08-06T08:32:06.374Z","type":"message"}
{"nick":"Dal1980","message":"Grab a db row, create an image get another row create another image","date":"2017-08-06T08:32:10.169Z","type":"message"}
{"nick":"Delta-One","reason":"Read error: Connection reset by peer","date":"2017-08-06T08:32:10.344Z","type":"quit"}
{"nick":"myndzi","message":"i think that's your misconception","date":"2017-08-06T08:32:22.794Z","type":"message"}
{"nick":"myndzi","message":"i'm not certain, but by the syntax, i think what is actually happening is:","date":"2017-08-06T08:32:33.609Z","type":"message"}
{"nick":"Delta-One","date":"2017-08-06T08:32:36.602Z","type":"join"}
{"nick":"charmander","message":"Dal1980: Make `prepElements` return a promise of a row array","date":"2017-08-06T08:32:41.510Z","type":"message"}
{"nick":"myndzi","message":"\"grab ALL the db rows, then execute some series of code for each row\"","date":"2017-08-06T08:32:45.413Z","type":"message"}
{"nick":"charmander","message":"instead of having it call a callback","date":"2017-08-06T08:32:46.118Z","type":"message"}
{"nick":"charmander","message":"that should help you read it","date":"2017-08-06T08:33:02.919Z","type":"message"}
{"nick":"DDR_","reason":"Ping timeout: 240 seconds","date":"2017-08-06T08:33:09.971Z","type":"quit"}
{"nick":"Dal1980","message":"But if I return a promise then how do I loop a promise on that","date":"2017-08-06T08:33:29.331Z","type":"message"}
{"nick":"charmander","message":"(and then you can use bluebird’s concurrency option, too – or mapSeries if it’s always 1)","date":"2017-08-06T08:33:34.232Z","type":"message"}
{"nick":"myndzi","message":"if what you want is to literally fetch one row at a time, i think the thing you want is a 'cursor', but i'm not sure it's what you actually want here","date":"2017-08-06T08:33:36.023Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 268 seconds","date":"2017-08-06T08:33:50.856Z","type":"quit"}
{"nick":"myndzi","message":"like, certainly you could return the data slower","date":"2017-08-06T08:33:58.602Z","type":"message"}
{"nick":"myndzi","message":"but it's not really much sweat on the database's back to fill your query all at once","date":"2017-08-06T08:34:16.792Z","type":"message"}
{"nick":"charmander","message":"Dal1980: http://bluebirdjs.com/docs/api/promise.mapseries.html","date":"2017-08-06T08:34:17.967Z","type":"message"}
{"nick":"myndzi","message":"are you trying to animate something?","date":"2017-08-06T08:34:24.535Z","type":"message"}
{"nick":"Dal1980","message":"thanks charmander","date":"2017-08-06T08:34:56.545Z","type":"message"}
{"nick":"Dal1980","message":"no myndzi","date":"2017-08-06T08:35:02.682Z","type":"message"}
{"nick":"charmander","message":"(ignore the example on that page, though, Dal1980; it’s horrible)","date":"2017-08-06T08:35:05.351Z","type":"message"}
{"nick":"Dal1980","message":" I'm building images from other images based on db rows","date":"2017-08-06T08:35:15.707Z","type":"message"}
{"nick":"Dal1980","message":"ok charmander","date":"2017-08-06T08:35:26.564Z","type":"message"}
{"nick":"lexileo","date":"2017-08-06T08:35:34.469Z","type":"join"}
{"nick":"myndzi","message":"sure, but i'm trying to quantify what the behavior you want vs what you get is","date":"2017-08-06T08:35:37.471Z","type":"message"}
{"nick":"myndzi","message":"another way to phrase it is,","date":"2017-08-06T08:35:40.993Z","type":"message"}
{"nick":"myndzi","message":"what's wrong with \"it all happens at once\"?","date":"2017-08-06T08:35:47.097Z","type":"message"}
{"nick":"myndzi","message":"and what do you want instead?","date":"2017-08-06T08:35:58.657Z","type":"message"}
{"nick":"myndzi","message":"also note that since nothing async is happening in, e.g. https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d#file-gistfile1-js-L142","date":"2017-08-06T08:36:53.419Z","type":"message"}
{"nick":"myndzi","message":"you don't need promises there at all","date":"2017-08-06T08:36:56.984Z","type":"message"}
{"nick":"Dal1980","message":"myndzi  if I showed you the image maybe that would make sense","date":"2017-08-06T08:37:08.400Z","type":"message"}
{"nick":"Dal1980","message":"So I have parts like this:","date":"2017-08-06T08:37:28.008Z","type":"message"}
{"nick":"Dal1980","message":"https://usercontent.irccloud-cdn.com/file/MFn9DsTk/btn_red.png","date":"2017-08-06T08:37:33.554Z","type":"message"}
{"nick":"Dal1980","message":"https://usercontent.irccloud-cdn.com/file/TqgDU472/joy_2hn_red.png","date":"2017-08-06T08:37:38.674Z","type":"message"}
{"nick":"myndzi","message":"but since you are creating promises there and not doing anything with their return value, you can expect that, if you're synchronously looping through a bunch of stuff and say, logging when you hit certain lines, all of them will come as a batch","date":"2017-08-06T08:37:42.178Z","type":"message"}
{"nick":"mr-foobar","reason":"Ping timeout: 255 seconds","date":"2017-08-06T08:37:46.019Z","type":"quit"}
{"nick":"charmander","message":"Dal1980: I noticed an undeclared variable, too; make sure to turn on strict mode. https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode","date":"2017-08-06T08:38:06.950Z","type":"message"}
{"nick":"myndzi","message":"(if you do something like: function functionThatCreatesPromise() { return new Promise(resolve => { console.log('b'); resolve(); }; } for (var i = 0; i < 10; i++) { console.log('a'); functionThatCreatesPromise(); }","date":"2017-08-06T08:38:56.136Z","type":"message"}
{"nick":"Dal1980","message":"My code has gotten sloppy trying to get this working... it wouldn't normally be so sloppy","date":"2017-08-06T08:38:59.806Z","type":"message"}
{"nick":"myndzi","message":"you'll get a a a a a a a a a a b b b b b b b b b b","date":"2017-08-06T08:39:06.765Z","type":"message"}
{"nick":"mr-foobar","date":"2017-08-06T08:39:06.971Z","type":"join"}
{"nick":"myndzi","message":"i understand (trying to get something to work = messy code, then clean it up)","date":"2017-08-06T08:40:00.338Z","type":"message"}
{"nick":"Dal1980","message":"It might help to explain what I want- did you see those two images files I posted","date":"2017-08-06T08:40:11.948Z","type":"message"}
{"nick":"myndzi","message":"but i'm not sure how you're observing the problem you're reporting, and it may be due simply to things like this","date":"2017-08-06T08:40:13.934Z","type":"message"}
{"nick":"myndzi","message":"i saw the images","date":"2017-08-06T08:40:17.603Z","type":"message"}
{"nick":"myndzi","message":"what do you want from/with them? what is behaving differently than you want/expect?","date":"2017-08-06T08:40:32.579Z","type":"message"}
{"nick":"Dal1980","message":"This is what gets created from those assets I posted previously https://usercontent.irccloud-cdn.com/file/j7L1VJwA/600.png","date":"2017-08-06T08:40:50.896Z","type":"message"}
{"nick":"Dal1980","message":"Each file has a different amount of assets (all different combos)","date":"2017-08-06T08:41:16.266Z","type":"message"}
{"nick":"myndzi","message":"okay","date":"2017-08-06T08:41:23.661Z","type":"message"}
{"nick":"Dal1980","message":"I use the db to tell me what the image should contain then calculate where to put them on a black platter/image","date":"2017-08-06T08:41:41.342Z","type":"message"}
{"nick":"myndzi","message":"i understand that you have a database that has a series of descriptions of \"how to compose the images into a result\"","date":"2017-08-06T08:41:54.851Z","type":"message"}
{"nick":"GreenJel_","new_nick":"GreenJello","date":"2017-08-06T08:41:55.026Z","type":"nick"}
{"nick":"myndzi","message":"and that you want to take each description and output a result","date":"2017-08-06T08:42:03.129Z","type":"message"}
{"nick":"Dal1980","message":"Jimp uses single writes to build up an image but seem to store it in buffer","date":"2017-08-06T08:42:07.983Z","type":"message"}
{"nick":"sbellina","reason":"Ping timeout: 255 seconds","date":"2017-08-06T08:42:13.887Z","type":"quit"}
{"nick":"Dal1980","message":"yesp myndzi","date":"2017-08-06T08:42:21.660Z","type":"message"}
{"nick":"Dal1980","message":"yep*","date":"2017-08-06T08:42:24.196Z","type":"message"}
{"nick":"darren_lamb","date":"2017-08-06T08:43:01.706Z","type":"join"}
{"nick":"myndzi","message":"by the code, i expect that the file in full will be written here: https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d#file-gistfile1-js-L297","date":"2017-08-06T08:43:03.819Z","type":"message"}
{"nick":"Dal1980","message":"I used my \"simplified\" example to try and illustrate the problem but I see now it just confused things lol","date":"2017-08-06T08:43:06.343Z","type":"message"}
{"nick":"Dal1980","message":"So would I","date":"2017-08-06T08:43:32.869Z","type":"message"}
{"nick":"myndzi","message":"which is called by placeElements","date":"2017-08-06T08:43:36.731Z","type":"message"}
{"nick":"Dal1980","message":"It doesn't though","date":"2017-08-06T08:43:40.544Z","type":"message"}
{"nick":"myndzi","message":"which, itself, is called in the db.each callback","date":"2017-08-06T08:43:53.583Z","type":"message"}
{"nick":"myndzi","message":"my suspicion is that your code is doing the right thing (with a bunch of extraneous promises that don't need to happen)","date":"2017-08-06T08:44:16.625Z","type":"message"}
{"nick":"Nevolution2","reason":"Quit: cya~","date":"2017-08-06T08:44:19.126Z","type":"quit"}
{"nick":"myndzi","message":"and that your method of observing what's happening is producing results you don't understand, whatever that is","date":"2017-08-06T08:44:28.004Z","type":"message"}
{"nick":"Nevolution2","date":"2017-08-06T08:44:44.119Z","type":"join"}
{"nick":"myndzi","message":"promise callbacks are guaranteed to happen the next event loop tick","date":"2017-08-06T08:44:51.655Z","type":"message"}
{"nick":"myndzi","message":"so if you're creating lots of promises that behave synchronously and adding console.log or something","date":"2017-08-06T08:45:04.329Z","type":"message"}
{"nick":"myndzi","message":"they're not going to necessarily print statements in the order you expect","date":"2017-08-06T08:45:13.135Z","type":"message"}
{"nick":"myndzi","message":"if you can explain how you're deciding it's behaving poorly (how are you observing the behavior, and how does it differ from your expectation) i might be able to explain what is going on","date":"2017-08-06T08:45:47.947Z","type":"message"}
{"nick":"Dal1980","message":"The 297 line you highlighted","date":"2017-08-06T08:46:18.968Z","type":"message"}
{"nick":"myndzi","message":"my best guess, though, is you're using console.log in various places, and as a result of the next-tick guarantee of promises, all your log lines are getting printed in the next turn of the event loop or something","date":"2017-08-06T08:46:28.610Z","type":"message"}
{"nick":"Dal1980","message":"I want that to actually push out a file","date":"2017-08-06T08:46:30.737Z","type":"message"}
{"nick":"chjj","reason":"Ping timeout: 255 seconds","date":"2017-08-06T08:46:43.927Z","type":"quit"}
{"nick":"Dal1980","message":"Ok, maybe if I explain this it might help","date":"2017-08-06T08:47:00.223Z","type":"message"}
{"nick":"Dal1980","message":"I ask for 1000 db rows","date":"2017-08-06T08:47:07.725Z","type":"message"}
{"nick":"Dal1980","message":"it works through 1000 rows creating the images","date":"2017-08-06T08:47:22.616Z","type":"message"}
{"nick":"Dal1980","message":"about 3 or 4 minutes later I run out of memory and not a single image appears in the directory","date":"2017-08-06T08:47:47.835Z","type":"message"}
{"nick":"eshlox","date":"2017-08-06T08:47:55.691Z","type":"join"}
{"nick":"myndzi","message":"ah","date":"2017-08-06T08:47:59.177Z","type":"message"}
{"nick":"Dal1980","message":"If I ask for 500 then 2-3 minutes later it finishes and then I suddenly get ALL the images landing in the dire","date":"2017-08-06T08:48:12.468Z","type":"message"}
{"nick":"Dal1980","message":"dir*","date":"2017-08-06T08:48:14.400Z","type":"message"}
{"nick":"myndzi","message":"so i think the thing you're missing is that","date":"2017-08-06T08:48:15.408Z","type":"message"}
{"nick":"myndzi","message":"image.write is asynchronous","date":"2017-08-06T08:48:18.875Z","type":"message"}
{"nick":"myndzi","message":"but you're not calling it asynchronously","date":"2017-08-06T08:48:23.629Z","type":"message"}
{"nick":"cveron","date":"2017-08-06T08:48:27.543Z","type":"join"}
{"nick":"Dal1980","message":"Ah - right... I think","date":"2017-08-06T08:48:41.046Z","type":"message"}
{"nick":"myndzi","message":"which means you're essentially just kicking it off and going on with the next image(s)","date":"2017-08-06T08:48:41.221Z","type":"message"}
{"nick":"fdarling","date":"2017-08-06T08:48:48.366Z","type":"join"}
{"nick":"myndzi","message":"you can see in the docs here it takes a callback: https://github.com/oliver-moran/jimp#writing-to-files","date":"2017-08-06T08:48:56.024Z","type":"message"}
{"nick":"myndzi","message":"so, if the image processing takes some work/time/memory","date":"2017-08-06T08:49:12.601Z","type":"message"}
{"nick":"myndzi","message":"you're probably starting them faster than they can finish","date":"2017-08-06T08:49:24.907Z","type":"message"}
{"nick":"myndzi","message":"what you need is to limit the concurrency, so you are only ever doing X at once","date":"2017-08-06T08:49:36.909Z","type":"message"}
{"nick":"Dal1980","message":"None of them finish ever until the script finishes","date":"2017-08-06T08:49:51.406Z","type":"message"}
{"nick":"myndzi","message":"i think you have that backwards","date":"2017-08-06T08:50:10.139Z","type":"message"}
{"nick":"Dal1980","message":"probably :)","date":"2017-08-06T08:50:19.334Z","type":"message"}
{"nick":"myndzi","message":"if you imagine \"this image processing takes 10 seconds' time to complete\" (which is probably more than reality)","date":"2017-08-06T08:50:26.128Z","type":"message"}
{"nick":"myndzi","message":"and \"this query/code takes 1ms to execute\"","date":"2017-08-06T08:50:33.320Z","type":"message"}
{"nick":"myndzi","message":"you can imagine that if you start 500 instances of this process, that everything but \"processing/writing the image\" is done long before the first image is written","date":"2017-08-06T08:51:03.022Z","type":"message"}
{"nick":"myndzi","message":"since it takes 500ms to start them all","date":"2017-08-06T08:51:10.806Z","type":"message"}
{"nick":"myndzi","message":"and the first one finishes 10 seconds after it started","date":"2017-08-06T08:51:17.818Z","type":"message"}
{"nick":"zick","date":"2017-08-06T08:51:33.669Z","type":"join"}
{"nick":"myndzi","message":"so it's *probably* not so much that \"none of them finish until the script finishes\"","date":"2017-08-06T08:51:33.886Z","type":"message"}
{"nick":"myndzi","message":"but more like","date":"2017-08-06T08:51:35.456Z","type":"message"}
{"nick":"myndzi","message":"\"the script finishes, then waits on the processing/writes to complete, then exits\"","date":"2017-08-06T08:51:50.242Z","type":"message"}
{"nick":"darren_lamb","date":"2017-08-06T08:51:56.633Z","type":"quit"}
{"nick":"Cabanossi","reason":"Ping timeout: 276 seconds","date":"2017-08-06T08:52:22.693Z","type":"quit"}
{"nick":"myndzi","message":"as for what you can do about it, charmander's suggestion to use bluebird's promise.map is good","date":"2017-08-06T08:52:23.533Z","type":"message"}
{"nick":"myndzi","message":"but you need to ensure that you HAVE a promise for \"the process of writing the image\", which you don't currently","date":"2017-08-06T08:52:37.093Z","type":"message"}
{"nick":"Dal1980","message":"I need to read up on that","date":"2017-08-06T08:52:42.870Z","type":"message"}
{"nick":"myndzi","message":"in addPart, you can do something like","date":"2017-08-06T08:52:48.720Z","type":"message"}
{"nick":"myndzi","message":"return Promise.promisify(parts.image.write, { context: parts.image });","date":"2017-08-06T08:53:22.646Z","type":"message"}
{"nick":"myndzi","message":"(put the updateConsole line before the actual call to write)","date":"2017-08-06T08:53:33.251Z","type":"message"}
{"nick":"Dal1980","message":"Ok","date":"2017-08-06T08:53:44.493Z","type":"message"}
{"nick":"myndzi","message":"that will result in addPart returning a promise that resolves when it is finished","date":"2017-08-06T08:53:45.115Z","type":"message"}
{"nick":"Cabanossi","date":"2017-08-06T08:53:58.556Z","type":"join"}
{"nick":"myndzi","message":"then, you need to, at some higher level, call addPart in Promise.map","date":"2017-08-06T08:54:03.430Z","type":"message"}
{"nick":"myndzi","message":"so, here: https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d#file-gistfile1-js-L217","date":"2017-08-06T08:54:11.058Z","type":"message"}
{"nick":"myndzi","message":"instead of a for loop","date":"2017-08-06T08:54:15.866Z","type":"message"}
{"nick":"myndzi","message":"actually, just here: https://gist.github.com/zombiesbyte/8ed9b4742aaed62316e59735454e780d#file-gistfile1-js-L211","date":"2017-08-06T08:54:37.434Z","type":"message"}
{"nick":"myndzi","message":"instead of return new Promise","date":"2017-08-06T08:54:42.579Z","type":"message"}
{"nick":"myndzi","message":"you'd use something like","date":"2017-08-06T08:54:44.881Z","type":"message"}
{"nick":"myndzi","message":"return Promise.map(p1i.elements, function (element) { /* do something with the element */ }, { concurrency: 50 })","date":"2017-08-06T08:55:21.340Z","type":"message"}
{"nick":"chjj","date":"2017-08-06T08:55:21.629Z","type":"join"}
{"nick":"myndzi","message":"i assume p1i.elements is an array, here","date":"2017-08-06T08:55:38.042Z","type":"message"}
{"nick":"myndzi","message":".totalElements is redundant in such a case","date":"2017-08-06T08:55:45.286Z","type":"message"}
{"nick":"Dal1980","message":"yeah obj array","date":"2017-08-06T08:55:50.873Z","type":"message"}
{"nick":"myndzi","message":"then, inside that function","date":"2017-08-06T08:56:10.592Z","type":"message"}
{"nick":"myndzi","message":"you need to *return* the promise you get from addPart","date":"2017-08-06T08:56:16.642Z","type":"message"}
{"nick":"myndzi","message":"otherwise it won't wait","date":"2017-08-06T08:56:19.551Z","type":"message"}
{"nick":"d0ruk","date":"2017-08-06T08:56:27.263Z","type":"join"}
{"nick":"myndzi","message":"i see that you call it in two separate places","date":"2017-08-06T08:56:30.715Z","type":"message"}
{"nick":"myndzi","message":"one is inside the for loop and one is outside","date":"2017-08-06T08:56:43.439Z","type":"message"}
{"nick":"myndzi","message":"i'm not sure what that's about","date":"2017-08-06T08:56:56.884Z","type":"message"}
{"nick":"Industrial","message":"Hi. Say I use express, connect-redis, express-session and passport-session and passport-local; Say I have made a successful login attempt; 1) What do I return from the login attempt? The user object (username, email, id)? 2) I am using redis sessions because I want people to stay logged in. How do I accomplish this? Should I send a session token or something back to the client that I can save in a cookie?","date":"2017-08-06T08:56:59.380Z","type":"message"}
{"nick":"myndzi","message":"if each row represents \"a file you need to write\", then what i've described is the direction you want to move in","date":"2017-08-06T08:57:31.097Z","type":"message"}
{"nick":"myndzi","message":"if multiple rows = one file, you need to do something else","date":"2017-08-06T08:57:38.972Z","type":"message"}
{"nick":"Dal1980","message":"1 row = 1 file","date":"2017-08-06T08:58:00.189Z","type":"message"}
{"nick":"myndzi","message":"Industrial: express-session and all that handles the session cookie for you","date":"2017-08-06T08:58:12.079Z","type":"message"}
{"nick":"Dal1980","message":"using an array of assets that get built from the first promise.all array","date":"2017-08-06T08:58:45.065Z","type":"message"}
{"nick":"myndzi","message":"i'm not sure where you're referring to when you say 'what do i return', but i assume it's passport's authentication callback; in that case, if i recall correctly, it's \"the data you want on the session\"","date":"2017-08-06T08:58:47.945Z","type":"message"}
{"nick":"myndzi","message":"Dal1980: if 1 row = 1 file, then all you need is","date":"2017-08-06T08:59:01.098Z","type":"message"}
{"nick":"myndzi","message":"Promise.map(rows, function (row) { return /* a promise for writing the file with the data in row */ }, { concurrency: N })","date":"2017-08-06T08:59:24.878Z","type":"message"}
{"nick":"myndzi","message":"this will limit the number of concurrent write processes so you don't run out of memory","date":"2017-08-06T08:59:33.705Z","type":"message"}
{"nick":"Dal1980","message":"Yay!","date":"2017-08-06T08:59:47.148Z","type":"message"}
{"nick":"zick","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T08:59:49.690Z","type":"quit"}
{"nick":"myndzi","message":"choosing N depends on your system specs and the max amount of work might be done with any given row","date":"2017-08-06T08:59:54.613Z","type":"message"}
{"nick":"Dal1980","message":"Thanks very much myndzi","date":"2017-08-06T09:00:03.978Z","type":"message"}
{"nick":"myndzi","message":"but also since i/o contention is a thing, it doesn't scale infinitely/linearly","date":"2017-08-06T09:00:08.794Z","type":"message"}
{"nick":"myndzi","message":"the piece you're missing is turning parts.image.write into a promise","date":"2017-08-06T09:00:21.500Z","type":"message"}
{"nick":"Industrial","message":"myndzi: So if I make a regular HTTP call to /api/auth/local and passport.authenticate('local') is handling it, and the local strategy returns my User object, there will also be a cookie set in the browser? Is this something I can inspect on the HTTP request?","date":"2017-08-06T09:00:25.544Z","type":"message"}
{"nick":"wsieroci","reason":"Remote host closed the connection","date":"2017-08-06T09:00:33.953Z","type":"quit"}
{"nick":"myndzi","message":"actually, you probably just want Promise.each","date":"2017-08-06T09:00:45.611Z","type":"message"}
{"nick":"myndzi","message":"but .each doesn't have concurrency options for some silly reason","date":"2017-08-06T09:01:13.206Z","type":"message"}
{"nick":"myndzi","message":"so use .map","date":"2017-08-06T09:01:14.696Z","type":"message"}
{"nick":"Dal1980","message":"Ok","date":"2017-08-06T09:01:21.821Z","type":"message"}
{"nick":"Dal1980","message":"N = any recommendations ( I usually run out of memory at around 1000 - 1500 images)","date":"2017-08-06T09:01:24.816Z","type":"message"}
{"nick":"myndzi","action":"shrugs","date":"2017-08-06T09:01:52.467Z","type":"action"}
{"nick":"myndzi","message":"set it to a number where you don't run out of memory, and give yourself headroom","date":"2017-08-06T09:02:00.957Z","type":"message"}
{"nick":"Dal1980","message":"Ok - that's something I can figure out :)","date":"2017-08-06T09:02:17.589Z","type":"message"}
{"nick":"myndzi","message":"if you run out of memory at 1000 images, but 500 \"complex\" images could take the same amount of memory as 1000 \"simple\" images, you probably want 500","date":"2017-08-06T09:02:30.517Z","type":"message"}
{"nick":"myndzi","message":"but something like 50 is probably fine","date":"2017-08-06T09:02:34.730Z","type":"message"}
{"nick":"myndzi","message":"you're more likely to be constrained by i/o and cpu anyway","date":"2017-08-06T09:02:42.635Z","type":"message"}
{"nick":"myndzi","message":"if you don't have 50 cores, and each time you write an image uses one core as much as possible, then it doesn't really benefit you to do 100 at once","date":"2017-08-06T09:03:06.758Z","type":"message"}
{"nick":"myndzi","message":"Industrial: that is my understanding","date":"2017-08-06T09:03:10.135Z","type":"message"}
{"nick":"myndzi","message":"it's been a while since i messed with passport","date":"2017-08-06T09:03:19.929Z","type":"message"}
{"nick":"Dal1980","message":"Thanks so much to you myndzi and charmander for the help yesterday and to f32 for the lesson on promises earlier","date":"2017-08-06T09:03:22.349Z","type":"message"}
{"nick":"Industrial","message":"myndzi: Okay. Then I'm still doing something wrong. I'm not seeing any cookie being set, or anything in the HTTP response.","date":"2017-08-06T09:03:51.049Z","type":"message"}
{"nick":"myndzi","message":"Industrial: if you can show me precisely what you're 'returning' from, so that i know what you're talking about, i can be of more use","date":"2017-08-06T09:03:51.290Z","type":"message"}
{"nick":"myndzi","message":"but, in general, how it works is:","date":"2017-08-06T09:04:02.493Z","type":"message"}
{"nick":"myndzi","message":"you tell passport \"given this login info, here's the user object\"","date":"2017-08-06T09:04:33.658Z","type":"message"}
{"nick":"texinwien","date":"2017-08-06T09:04:40.629Z","type":"join"}
{"nick":"myndzi","message":"and passport ensures you have the user object available in requests further down the middleware stack","date":"2017-08-06T09:04:51.853Z","type":"message"}
{"nick":"myndzi","message":"also wtf @ passportjs.org homepage","date":"2017-08-06T09:05:02.010Z","type":"message"}
{"nick":"myndzi","message":"it's like it traveled backe in time to geocities","date":"2017-08-06T09:05:07.585Z","type":"message"}
{"nick":"myndzi","message":"it used to look better?","date":"2017-08-06T09:05:10.937Z","type":"message"}
{"nick":"myndzi","message":"Industrial: i can't speak much to how you're doing it without looking at any code ;)","date":"2017-08-06T09:05:30.494Z","type":"message"}
{"nick":"Industrial","message":"myndzi: I am using a compile-to-js language. Not sure if You feel like reading LiveScript, but, https://github.com/Industrial/test-next.js/blob/master/api/src/server/index.ls#L39-L48 and https://github.com/Industrial/test-next.js/blob/master/api/src/server/index.ls#L39-L48","date":"2017-08-06T09:05:46.511Z","type":"message"}
{"nick":"Industrial","message":"er","date":"2017-08-06T09:05:51.955Z","type":"message"}
{"nick":"Industrial","message":"https://github.com/Industrial/test-next.js/blob/master/api/src/server/passport.ls","date":"2017-08-06T09:05:55.747Z","type":"message"}
{"nick":"myndzi","message":"Dal1980: by the way, i recommend to simplify your life, you remove the 'new Promise()' stuff in your synchronous functions","date":"2017-08-06T09:06:06.555Z","type":"message"}
{"nick":"desiph3r","date":"2017-08-06T09:06:22.612Z","type":"join"}
{"nick":"myndzi","message":"if you're literally just calling resolve(), not in any callback or passing it as a callback to anything else, your function is synchronous and doesn't need promises","date":"2017-08-06T09:06:34.985Z","type":"message"}
{"nick":"belmoussaoui_","reason":"Ping timeout: 240 seconds","date":"2017-08-06T09:07:10.080Z","type":"quit"}
{"nick":"myndzi","message":"Industrial: that does make it harder on me :P","date":"2017-08-06T09:07:10.580Z","type":"message"}
{"nick":"myndzi","message":"but i can see if i pick anything up","date":"2017-08-06T09:07:15.049Z","type":"message"}
{"nick":"Dal1980","message":"That might have been left in from the many many different version I created trying to get this to work.","date":"2017-08-06T09:07:19.437Z","type":"message"}
{"nick":"Dal1980","message":"I've been on with this for nearly a week :)","date":"2017-08-06T09:07:35.248Z","type":"message"}
{"nick":"myndzi","message":"https://github.com/Industrial/test-next.js/blob/master/api/src/server/passport.ls#L34-L35","date":"2017-08-06T09:08:18.993Z","type":"message"}
{"nick":"myndzi","message":"this seems erroneous","date":"2017-08-06T09:08:24.865Z","type":"message"}
{"nick":"myndzi","message":"if you're calling 'cb' with the first argument in both the success and error cases, it's always being treated as an error","date":"2017-08-06T09:08:54.430Z","type":"message"}
{"nick":"myndzi","message":"if you're going from promise -> callback you need the equivalent of","date":"2017-08-06T09:09:05.822Z","type":"message"}
{"nick":"myndzi","message":".then(function (result) { callback(null, result); })","date":"2017-08-06T09:09:15.194Z","type":"message"}
{"nick":"myndzi","message":"...nevermind, i see","date":"2017-08-06T09:09:37.479Z","type":"message"}
{"nick":"fdarling","message":"I am having issues with Node.js's memory usage (my application doesn't scale apparently). Is there an easy way to for example Ctrl+C out of the running app and dump a tree of variables with how large they are?","date":"2017-08-06T09:09:42.410Z","type":"message"}
{"nick":"Elisha","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2017-08-06T09:09:43.857Z","type":"quit"}
{"nick":"Industrial","message":"const localStrategyCallback = (email, password, cb) => { user.getOrCreateuserByEmailPassword(email, password) .then((x) => cb(null, x)) .catch(cb) }","date":"2017-08-06T09:10:01.053Z","type":"message"}
{"nick":"Industrial","message":"yeah","date":"2017-08-06T09:10:02.173Z","type":"message"}
{"nick":"fdarling","message":"similar to examining the size of DOM in a browser","date":"2017-08-06T09:10:13.554Z","type":"message"}
{"nick":"myndzi","message":"Industrial: is your problem related to the local strategy or the google strategy?","date":"2017-08-06T09:10:48.063Z","type":"message"}
{"nick":"plexigras","date":"2017-08-06T09:10:49.586Z","type":"join"}
{"nick":"Industrial","message":"myndzi: local, I haven't tried implementing google/facebook yet","date":"2017-08-06T09:11:05.137Z","type":"message"}
{"nick":"myndzi","message":"okay","date":"2017-08-06T09:11:21.908Z","type":"message"}
{"nick":"desiph3r","reason":"Ping timeout: 246 seconds","date":"2017-08-06T09:11:22.526Z","type":"quit"}
{"nick":"myndzi","message":"your code says it's using GoogleStrategy: https://github.com/Industrial/test-next.js/blob/master/api/src/server/passport.ls#L50","date":"2017-08-06T09:11:36.323Z","type":"message"}
{"nick":"f32","message":"has anyone use webrtc before?","date":"2017-08-06T09:11:42.639Z","type":"message"}
{"nick":"myndzi","message":"or, well, i guess it's using both","date":"2017-08-06T09:11:46.720Z","type":"message"}
{"nick":"myndzi","message":"sorry, i'm trying to parse unfamiliar syntax :)","date":"2017-08-06T09:12:01.468Z","type":"message"}
{"nick":"Industrial","message":"yeah, but user.get-or-create-user-by-google-profile isn't really implemented :)","date":"2017-08-06T09:12:09.456Z","type":"message"}
{"nick":"Industrial","message":"f g 1, 2   => f(g(1, 2))","date":"2017-08-06T09:12:25.637Z","type":"message"}
{"nick":"myndzi","message":"yeah, i can read it","date":"2017-08-06T09:12:39.346Z","type":"message"}
{"nick":"myndzi","message":"it's just that obvious things don't jump out at me immediately","date":"2017-08-06T09:12:47.732Z","type":"message"}
{"nick":"myndzi","message":"e.g. \"you added both strategies after all\"","date":"2017-08-06T09:12:54.451Z","type":"message"}
{"nick":"myndzi","message":"so anyway","date":"2017-08-06T09:12:58.993Z","type":"message"}
{"nick":"myndzi","message":"you've added the config to passport, but you may not be using passport in your routes","date":"2017-08-06T09:13:07.415Z","type":"message"}
{"nick":"myndzi","message":"passport.use != express's app.use","date":"2017-08-06T09:13:22.533Z","type":"message"}
{"nick":"myndzi","message":"once you've set up passport, you still need to utilize it","date":"2017-08-06T09:13:33.171Z","type":"message"}
{"nick":"Industrial","message":"https://github.com/Industrial/test-next.js/blob/master/api/src/server/index.ls#L48 happens there","date":"2017-08-06T09:13:37.740Z","type":"message"}
{"nick":"Konstantin","date":"2017-08-06T09:13:46.223Z","type":"join"}
{"nick":"vuoto","reason":"Quit: Lost terminal","date":"2017-08-06T09:14:02.269Z","type":"quit"}
{"nick":"vuoto","date":"2017-08-06T09:14:24.544Z","type":"join"}
{"nick":"sagax","reason":"Read error: Connection reset by peer","date":"2017-08-06T09:14:59.994Z","type":"quit"}
{"nick":"Industrial","message":"So when I log in I'm getting back {id: 1, username: 'admin', email: 'admin@test.com'}","date":"2017-08-06T09:15:03.655Z","type":"message"}
{"nick":"f32","message":"you know, node should really add the funcAsync variants to node core","date":"2017-08-06T09:15:04.652Z","type":"message"}
{"nick":"Industrial","message":"But no cookies or anything :)","date":"2017-08-06T09:15:12.476Z","type":"message"}
{"nick":"vuoto","reason":"Client Quit","date":"2017-08-06T09:15:27.604Z","type":"quit"}
{"nick":"Industrial","message":"f32: I think a lot of people would get really happy if the Node API had Promises everywhere, so that async/await syntax would become the standard","date":"2017-08-06T09:15:40.748Z","type":"message"}
{"nick":"KM__","date":"2017-08-06T09:15:57.082Z","type":"join"}
{"nick":"f32","message":"Industrial: its already the standard mate","date":"2017-08-06T09:15:58.006Z","type":"message"}
{"nick":"f32","message":"node is dragging its heels","date":"2017-08-06T09:16:11.645Z","type":"message"}
{"nick":"KM__","new_nick":"Guest17938","date":"2017-08-06T09:16:19.877Z","type":"nick"}
{"nick":"zaiste","date":"2017-08-06T09:16:23.150Z","type":"join"}
{"nick":"f32","message":"so, if they are worried about it, they could just postfix all the node functions with _Async()","date":"2017-08-06T09:16:39.620Z","type":"message"}
{"nick":"f32","message":"which would be analogous to the current Sync() methods","date":"2017-08-06T09:16:51.472Z","type":"message"}
{"nick":"f32","message":"Industrial: have you used webrtc?","date":"2017-08-06T09:17:03.938Z","type":"message"}
{"nick":"vuoto","date":"2017-08-06T09:17:23.522Z","type":"join"}
{"nick":"Industrial","message":"Nope. I am working with React/Redux/GraphQL atm","date":"2017-08-06T09:17:28.289Z","type":"message"}
{"nick":"myndzi","message":"okay, from what i can tell, passport.session essentially turns the data from some session data into the user data","date":"2017-08-06T09:17:50.278Z","type":"message"}
{"nick":"wonko7","date":"2017-08-06T09:17:52.502Z","type":"join"}
{"nick":"benjamingr_","reason":"Quit: Connection closed for inactivity","date":"2017-08-06T09:17:52.677Z","type":"quit"}
{"nick":"f32","message":"ah, i need to sit down and study redux in depth one of these days","date":"2017-08-06T09:17:54.652Z","type":"message"}
{"nick":"myndzi","message":"so you might have stored on the user's session just their id","date":"2017-08-06T09:17:57.765Z","type":"message"}
{"nick":"myndzi","message":"and passport.session turns it into the full user object","date":"2017-08-06T09:18:08.765Z","type":"message"}
{"nick":"Industrial","message":"f32: I hope to convert my backend into an Event Sourced one, so I can have an in-memory state database (LevelDB based probably) so that I can support streaming/live queries with graphQL :)","date":"2017-08-06T09:18:21.369Z","type":"message"}
{"nick":"myndzi","message":"express-session is responsible for setting the cookie and looking up the session data itself","date":"2017-08-06T09:18:29.673Z","type":"message"}
{"nick":"Industrial","message":"myndzi: okay","date":"2017-08-06T09:18:36.021Z","type":"message"}
{"nick":"f32","message":"Industrial: how does that work?","date":"2017-08-06T09:18:53.385Z","type":"message"}
{"nick":"myndzi","message":"if you're not seeing any cookie appear in your browser i can think of two causes","date":"2017-08-06T09:18:53.560Z","type":"message"}
{"nick":"myndzi","message":"1) the cookie is being set but isn't in scope for the requests you're inspecting","date":"2017-08-06T09:19:05.287Z","type":"message"}
{"nick":"myndzi","message":"2) you're failing to set the session at all","date":"2017-08-06T09:19:10.002Z","type":"message"}
{"nick":"f32","message":"Industrial: streaming as in, over a web socket, or streaming as in paging through the event source","date":"2017-08-06T09:19:17.482Z","type":"message"}
{"nick":"Konstantin","reason":"Ping timeout: 260 seconds","date":"2017-08-06T09:19:34.993Z","type":"quit"}
{"nick":"Industrial","message":"myndzi: I am trying to set up a redis GUI (dockerized, redis-commander is failing me) to inspect the sessions now","date":"2017-08-06T09:19:46.579Z","type":"message"}
{"nick":"f32","message":"Industrial: also, isn't hard drive space a consideration you worry about with event sourcing?","date":"2017-08-06T09:19:59.490Z","type":"message"}
{"nick":"Industrial","message":"f32: Apollo GraphQL supppports live queries over websocket","date":"2017-08-06T09:20:02.139Z","type":"message"}
{"nick":"myndzi","message":"i assume passport-session sets the 'serialized' user value onto the express session","date":"2017-08-06T09:20:14.493Z","type":"message"}
{"nick":"f32","message":"Industrial: how does it work?","date":"2017-08-06T09:20:32.501Z","type":"message"}
{"nick":"Industrial","message":"right","date":"2017-08-06T09:20:33.210Z","type":"message"}
{"nick":"myndzi","message":"and that https://github.com/Industrial/test-next.js/blob/master/api/src/server/index.ls#L53 this line should be hit if the user successfully authenticates","date":"2017-08-06T09:20:38.064Z","type":"message"}
{"nick":"Guest17938","reason":"Ping timeout: 260 seconds","date":"2017-08-06T09:20:44.993Z","type":"quit"}
{"nick":"Elisha","date":"2017-08-06T09:20:50.778Z","type":"join"}
{"nick":"f32","message":"Industrial: do you send events up to the server, and the server streams them back down again?","date":"2017-08-06T09:20:54.352Z","type":"message"}
{"nick":"myndzi","message":"res.send user seems unnecessary for passport's functionality","date":"2017-08-06T09:20:58.251Z","type":"message"}
{"nick":"myndzi","message":"or rather, unrelated to it","date":"2017-08-06T09:21:05.589Z","type":"message"}
{"nick":"Industrial","message":"myndzi: ah. Okay. I'll look at those API docs first then. Thanks :D","date":"2017-08-06T09:21:42.796Z","type":"message"}
{"nick":"melvster","reason":"Ping timeout: 268 seconds","date":"2017-08-06T09:22:33.882Z","type":"quit"}
{"nick":"f32","message":"Industrial: myndzi have either of you worked with node's net module before?","date":"2017-08-06T09:22:35.285Z","type":"message"}
{"nick":"myndzi","message":"sure","date":"2017-08-06T09:24:01.842Z","type":"message"}
{"nick":"myndzi","message":"it's very low level though, so not much","date":"2017-08-06T09:24:09.186Z","type":"message"}
{"nick":"myndzi","message":"Industrial: what's the url for your site?","date":"2017-08-06T09:24:23.411Z","type":"message"}
{"nick":"Industrial","message":"myndzi: It's not live :-) this is my eternal project that I can't get finished >_>","date":"2017-08-06T09:24:54.892Z","type":"message"}
{"nick":"myndzi","message":"i don't see anything jumping out at me in the code, i'm thinking possibly you're missing omething when looking for the cookie itself","date":"2017-08-06T09:24:59.291Z","type":"message"}
{"nick":"myndzi","message":"that feel :|","date":"2017-08-06T09:25:10.484Z","type":"message"}
{"nick":"mikey__","date":"2017-08-06T09:25:21.023Z","type":"join"}
{"nick":"f32","message":"myndzi: i wanted to get some opinions of this library https://github.com/sinclairzx81/smoke-network","date":"2017-08-06T09:25:32.809Z","type":"message"}
{"nick":"Industrial","message":"What I'm trying to do is just create a basic app with a public (home/about/contact/login) and private (dashboard, users crud) part to it. Haven't been able to finish the login yet and technology keeps changing so fast I'm having a hard time keeping up lol","date":"2017-08-06T09:25:48.442Z","type":"message"}
{"nick":"Industrial","message":"last I did was replace my own webpack setup with Next.js","date":"2017-08-06T09:26:01.245Z","type":"message"}
{"nick":"f32","message":"myndzi: i suspect not many people are working with TCP much nowadays to comment","date":"2017-08-06T09:26:14.338Z","type":"message"}
{"nick":"myndzi","message":"oh, are you  using a new enough version of express-session, or using cookieParser middleware?","date":"2017-08-06T09:26:29.003Z","type":"message"}
{"nick":"myndzi","message":"Note Since version 1.5.0, the cookie-parser middleware no longer needs to be used for this module to work. This module now directly reads and writes cookies on req/res. Using cookie-parser may result in issues if the secret is not the same between this module and cookie-parser.","date":"2017-08-06T09:27:13.456Z","type":"message"}
{"nick":"Industrial","message":"on the latest express-session","date":"2017-08-06T09:27:36.024Z","type":"message"}
{"nick":"Industrial","message":"and not using cookie-parser :)","date":"2017-08-06T09:27:48.293Z","type":"message"}
{"nick":"myndzi","message":"oh, i haven't used any webrtc stuff @f32","date":"2017-08-06T09:27:50.029Z","type":"message"}
{"nick":"f32","message":"myndzi: seems webrtc is very much a niche thing","date":"2017-08-06T09:28:15.367Z","type":"message"}
{"nick":"myndzi","message":"Industrial: i was just looking over a project where i used passport in a simple way and i'm using an older version that required it i guess","date":"2017-08-06T09:28:16.433Z","type":"message"}
{"nick":"myndzi","message":"f32: i've had some interest but never any cause","date":"2017-08-06T09:28:26.937Z","type":"message"}
{"nick":"f32","message":"mmm","date":"2017-08-06T09:28:34.763Z","type":"message"}
{"nick":"f32","message":"alright thanks","date":"2017-08-06T09:28:38.874Z","type":"message"}
{"nick":"myndzi","message":"though in general i like the idea of 'make it accessible with a familiar interface'","date":"2017-08-06T09:28:40.592Z","type":"message"}
{"nick":"f32","message":"myndzi: of the project?","date":"2017-08-06T09:28:53.513Z","type":"message"}
{"nick":"myndzi","message":"\"The nodejs net module emulated in the browser using webrtc data channels.\"","date":"2017-08-06T09:29:16.442Z","type":"message"}
{"nick":"f32","message":"myndzi: because there is this one also https://github.com/sinclairzx81/smoke-filesystem >_>","date":"2017-08-06T09:29:35.092Z","type":"message"}
{"nick":"myndzi","message":"the three-step setup is a little awkward but i'm generally more in favor of explicit config","date":"2017-08-06T09:29:50.463Z","type":"message"}
{"nick":"coot__________","date":"2017-08-06T09:30:01.173Z","type":"join"}
{"nick":"f32","message":"mmm","date":"2017-08-06T09:30:05.465Z","type":"message"}
{"nick":"myndzi","message":"Industrial: i don't know that i have any easy answers for you. passport has always seemed confusing and useless to me for simple local auth","date":"2017-08-06T09:30:13.396Z","type":"message"}
{"nick":"myndzi","message":"i only use it for things like oauth authentication, since there's some actual benefit there","date":"2017-08-06T09:30:35.526Z","type":"message"}
{"nick":"myndzi","message":"but between trying to connect livescript with my js knowledge, passport's weirdness, and 2:30am, nothing's jumping out at me","date":"2017-08-06T09:31:08.251Z","type":"message"}
{"nick":"myndzi","message":"i'd say that if you aren't seeing any cookie for express-session show up that express-session isn't operating correctly","date":"2017-08-06T09:31:27.013Z","type":"message"}
{"nick":"myndzi","message":"but i don't see immediately why that would be the case","date":"2017-08-06T09:31:39.245Z","type":"message"}
{"nick":"coot__________","reason":"Client Quit","date":"2017-08-06T09:32:15.343Z","type":"quit"}
{"nick":"coot__________","date":"2017-08-06T09:32:30.473Z","type":"join"}
{"nick":"Qantas94Heavy","reason":"Remote host closed the connection","date":"2017-08-06T09:33:43.085Z","type":"quit"}
{"nick":"Industrial","message":"myndzi: I'm investigating into all the parts, thanks a lot for your time :-) Now I understand how each part should behave","date":"2017-08-06T09:33:48.582Z","type":"message"}
{"nick":"DDR_","date":"2017-08-06T09:34:09.054Z","type":"join"}
{"nick":"Qantas94Heavy","date":"2017-08-06T09:34:41.052Z","type":"join"}
{"nick":"myndzi","message":"i guess that's more than i can say right now ;)","date":"2017-08-06T09:34:42.915Z","type":"message"}
{"nick":"myndzi","message":"good luck, and if you don't get anywhere, do come back later","date":"2017-08-06T09:34:53.101Z","type":"message"}
{"nick":"myndzi","message":"i'm sure there's help to be had with this here :)","date":"2017-08-06T09:35:02.734Z","type":"message"}
{"nick":"cveron","reason":"Quit: Leaving","date":"2017-08-06T09:35:31.211Z","type":"quit"}
{"nick":"systemovich","reason":"Ping timeout: 260 seconds","date":"2017-08-06T09:35:32.649Z","type":"quit"}
{"nick":"melvster","date":"2017-08-06T09:35:58.051Z","type":"join"}
{"nick":"ryzokuken","reason":"Ping timeout: 260 seconds","date":"2017-08-06T09:36:07.688Z","type":"quit"}
{"nick":"cveron","date":"2017-08-06T09:36:49.125Z","type":"join"}
{"nick":"systemovich","date":"2017-08-06T09:36:57.540Z","type":"join"}
{"nick":"systemovich","reason":"Client Quit","date":"2017-08-06T09:38:18.422Z","type":"quit"}
{"nick":"Virtulis","date":"2017-08-06T09:38:28.095Z","type":"join"}
{"nick":"mr-foobar","reason":"Ping timeout: 240 seconds","date":"2017-08-06T09:38:39.921Z","type":"quit"}
{"nick":"Elisha","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2017-08-06T09:39:40.328Z","type":"quit"}
{"nick":"chargen_","date":"2017-08-06T09:39:48.242Z","type":"join"}
{"nick":"darkSeid_","date":"2017-08-06T09:39:53.080Z","type":"join"}
{"nick":"mr-foobar","date":"2017-08-06T09:41:05.052Z","type":"join"}
{"nick":"chargen","reason":"Ping timeout: 240 seconds","date":"2017-08-06T09:41:39.950Z","type":"quit"}
{"nick":"lavenders","message":"i have bottleneck at forEach loop https://jsfiddle.net/ajzujz8r/ how would you optimize it?","date":"2017-08-06T09:42:04.001Z","type":"message"}
{"nick":"smccarthy","date":"2017-08-06T09:42:09.844Z","type":"join"}
{"nick":"lavenders","message":"its basically just the loop","date":"2017-08-06T09:42:14.705Z","type":"message"}
{"nick":"coot__________","reason":"Read error: Connection reset by peer","date":"2017-08-06T09:43:26.855Z","type":"quit"}
{"nick":"myndzi","message":"i mean... you haven't provided any information about what you're actually doing","date":"2017-08-06T09:43:38.537Z","type":"message"}
{"nick":"coot__________","date":"2017-08-06T09:43:45.607Z","type":"join"}
{"nick":"myndzi","message":"but i'd probably say 'use asynchronicity to your advantage'","date":"2017-08-06T09:43:46.588Z","type":"message"}
{"nick":"myndzi","message":"be that streams or promises","date":"2017-08-06T09:43:50.865Z","type":"message"}
{"nick":"myndzi","message":"instead of accumulating everything into memory at once","date":"2017-08-06T09:44:04.812Z","type":"message"}
{"nick":"lavenders","message":"i do rest api call, parse json into object and need the keys of the object in one array, if this is in stone, how to better the loop?","date":"2017-08-06T09:44:39.899Z","type":"message"}
{"nick":"lavenders","message":"i wish for streams :p, is promises possible with rest api call","date":"2017-08-06T09:45:03.799Z","type":"message"}
{"nick":"myndzi","message":"there are streaming json parsers","date":"2017-08-06T09:45:15.167Z","type":"message"}
{"nick":"myndzi","message":"but unless the response body is huge, it's probably not the problem","date":"2017-08-06T09:45:26.887Z","type":"message"}
{"nick":"lavenders","message":"pointer?","date":"2017-08-06T09:45:46.298Z","type":"message"}
{"nick":"myndzi","message":"if it's a reasonable size, the work you're doing in the loop itself is probably what you want to attack","date":"2017-08-06T09:45:54.922Z","type":"message"}
{"nick":"lavenders","message":"exactly but how","date":"2017-08-06T09:46:02.889Z","type":"message"}
{"nick":"lavenders","message":"oh its just push to array and return ref","date":"2017-08-06T09:46:13.778Z","type":"message"}
{"nick":"myndzi","message":"that depends strongly on what you're doing, which you haven't shown","date":"2017-08-06T09:46:17.053Z","type":"message"}
{"nick":"myndzi","message":"https://github.com/dominictarr/JSONStream here's one","date":"2017-08-06T09:46:22.437Z","type":"message"}
{"nick":"myndzi","message":"\"return\" to what? what are you doing with the return value?","date":"2017-08-06T09:46:33.541Z","type":"message"}
{"nick":"smccarthy","reason":"Ping timeout: 255 seconds","date":"2017-08-06T09:46:56.845Z","type":"quit"}
{"nick":"mezod","date":"2017-08-06T09:47:39.718Z","type":"join"}
{"nick":"lavenders","message":"i compare it to an array i have and check if the object keys changed, eg new were added","date":"2017-08-06T09:47:39.990Z","type":"message"}
{"nick":"myndzi","message":"diffing is a potentially taxing operation","date":"2017-08-06T09:48:00.808Z","type":"message"}
{"nick":"myndzi","message":"i'm not sure what you mean by 'compare to an array i have', but if you're doing something like indexOf, that can possibly be improved","date":"2017-08-06T09:48:21.626Z","type":"message"}
{"nick":"f32","message":"Industrial: mate, how does that Apollo stuff work?","date":"2017-08-06T09:48:50.239Z","type":"message"}
{"nick":"Industrial","message":"f32: I don't know how you don't know it. :-)","date":"2017-08-06T09:49:08.848Z","type":"message"}
{"nick":"Industrial","message":"f32: there's lots of docs, guides, videos on it and graphql","date":"2017-08-06T09:49:18.821Z","type":"message"}
{"nick":"Industrial","message":"apollo is an implementation of it. relay is another","date":"2017-08-06T09:49:50.170Z","type":"message"}
{"nick":"myndzi","message":"relay isn't an implementation of graphql","date":"2017-08-06T09:50:21.637Z","type":"message"}
{"nick":"myndzi","message":"it's a consumer that utilizes graphql queries to populate react components' data","date":"2017-08-06T09:50:37.988Z","type":"message"}
{"nick":"f32","message":"Industrial: the reason i ask is that im not all that fond if graphGL, but am keen on duplex message streaming and event sourcing","date":"2017-08-06T09:51:21.900Z","type":"message"}
{"nick":"f32","message":"and CQRS","date":"2017-08-06T09:51:38.660Z","type":"message"}
{"nick":"Industrial","message":"well graphql allows you to split the API into queries and mutations, so int hat respect it could adhere to CQRS principles","date":"2017-08-06T09:52:05.273Z","type":"message"}
{"nick":"myndzi","message":"graphql is pretty cool, except the part where it's pretty tied to key-value stores so you don't have many great options if that's not how you're storing your data","date":"2017-08-06T09:52:16.479Z","type":"message"}
{"nick":"BeerLover","date":"2017-08-06T09:52:29.068Z","type":"join"}
{"nick":"Industrial","message":"Using RethinkDB now, I'm thinking of LevelDB and LevelGraph (just because it seems so cool :D)","date":"2017-08-06T09:52:48.705Z","type":"message"}
{"nick":"f32","message":"Industrial: yeah, that's what i was asking really, if apollo is operating over web sockets, it might be worth taking a look at if its solving some event sourced / cqrs system","date":"2017-08-06T09:53:05.296Z","type":"message"}
{"nick":"f32","message":"its just that, i don't know where graphQL fits into that model (being request / response orientated)","date":"2017-08-06T09:53:36.768Z","type":"message"}
{"nick":"Industrial","message":"f32: well you arent getting any events with this though. theres no events going into the browser","date":"2017-08-06T09:54:01.718Z","type":"message"}
{"nick":"apparition47","date":"2017-08-06T09:54:31.367Z","type":"join"}
{"nick":"f32","message":"Industrial: what i like the idea of is, having 1 persistent web socket connect for the client, then when a client wants to mutate state, it sends an event to the server.","date":"2017-08-06T09:54:36.850Z","type":"message"}
{"nick":"f32","message":"Industrial: the server records the event (event source) and then dispatches the event to subscribers","date":"2017-08-06T09:55:02.230Z","type":"message"}
{"nick":"Industrial","message":"I would abstract before that and only make it an event inside the server and at the point where the user data inputted has been validated/etc","date":"2017-08-06T09:55:18.359Z","type":"message"}
{"nick":"Industrial","message":"so you only get events saved/handled that are correct/matter","date":"2017-08-06T09:55:41.861Z","type":"message"}
{"nick":"f32","message":"Industrial: in this model, the \"mutator/sender\" of the even would receive the the update state from the server, thus the browser must wait for the message to be responded over the web socket.","date":"2017-08-06T09:55:53.098Z","type":"message"}
{"nick":"Industrial","message":"that means you could use any HTTP API like REST or GraphQL","date":"2017-08-06T09:55:57.988Z","type":"message"}
{"nick":"roomcayz","date":"2017-08-06T09:56:03.571Z","type":"join"}
{"nick":"f32","message":"Industrial: its a interesting model, the thing is tho, event sourcing is liable to explode a harddrive with a gazillion events","date":"2017-08-06T09:56:50.467Z","type":"message"}
{"nick":"f32","message":"im not entirely sure what one does when a harddrived is maxed out","date":"2017-08-06T09:57:13.411Z","type":"message"}
{"nick":"Industrial","message":"Have you tried snapshotting events?","date":"2017-08-06T09:57:30.861Z","type":"message"}
{"nick":"f32","message":"not sure what you mean","date":"2017-08-06T09:57:45.828Z","type":"message"}
{"nick":"wonko7","reason":"Ping timeout: 240 seconds","date":"2017-08-06T09:57:50.441Z","type":"quit"}
{"nick":"f32","message":"Industrial: \"snapshotting\" is a broad term, not sure what it applies to in this context","date":"2017-08-06T09:58:15.064Z","type":"message"}
{"nick":"Industrial","message":"if you save an aggregate state in the event store, and delete all events before it, then that represents the state at a point in time","date":"2017-08-06T09:58:57.446Z","type":"message"}
{"nick":"f32","message":"Industrial: you mean folding the state?","date":"2017-08-06T09:59:10.363Z","type":"message"}
{"nick":"Industrial","message":"so if you replay you just load up the snapshot as actual state first then apply all new events","date":"2017-08-06T09:59:16.577Z","type":"message"}
{"nick":"f32","message":"yeah, you could do that, is that the preference?","date":"2017-08-06T09:59:26.678Z","type":"message"}
{"nick":"Industrial","message":"this way you save disk space (but lose replayability)","date":"2017-08-06T09:59:26.854Z","type":"message"}
{"nick":"Industrial","message":"kafka does it, for example.","date":"2017-08-06T09:59:52.210Z","type":"message"}
{"nick":"basiclaser","date":"2017-08-06T09:59:57.896Z","type":"join"}
{"nick":"Industrial","message":"I havent gotten to implementing event sourcing yet :-) I'd love to sime time look into it","date":"2017-08-06T10:00:05.592Z","type":"message"}
{"nick":"f32","message":"Industrial: mmmm","date":"2017-08-06T10:00:08.838Z","type":"message"}
{"nick":"Industrial","message":"first trying to get authentication and authorization working for my app with passport and eventually graphQL authz","date":"2017-08-06T10:03:14.561Z","type":"message"}
{"nick":"ahmedelgabri","date":"2017-08-06T10:03:16.913Z","type":"join"}
{"nick":"belmoussaoui","date":"2017-08-06T10:05:26.919Z","type":"join"}
{"nick":"D1nger","date":"2017-08-06T10:05:34.606Z","type":"join"}
{"nick":"chargen_","reason":"Quit: BBL","date":"2017-08-06T10:05:51.799Z","type":"quit"}
{"nick":"Cabanossi","reason":"Ping timeout: 246 seconds","date":"2017-08-06T10:06:26.610Z","type":"quit"}
{"nick":"mr-foobar","reason":"Ping timeout: 255 seconds","date":"2017-08-06T10:09:07.038Z","type":"quit"}
{"nick":"Cabanossi","date":"2017-08-06T10:09:07.238Z","type":"join"}
{"nick":"Booster2ooo","reason":"Ping timeout: 260 seconds","date":"2017-08-06T10:09:22.656Z","type":"quit"}
{"nick":"doomhz","date":"2017-08-06T10:11:43.520Z","type":"join"}
{"nick":"mr-foobar","date":"2017-08-06T10:12:33.512Z","type":"join"}
{"nick":"einnjo","date":"2017-08-06T10:14:00.810Z","type":"join"}
{"nick":"wsieroci","date":"2017-08-06T10:14:37.435Z","type":"join"}
{"nick":"doomhz","reason":"Ping timeout: 246 seconds","date":"2017-08-06T10:17:31.621Z","type":"quit"}
{"nick":"nodweber","date":"2017-08-06T10:17:53.225Z","type":"join"}
{"nick":"sagax","date":"2017-08-06T10:19:32.866Z","type":"join"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2017-08-06T10:20:00.935Z","type":"quit"}
{"nick":"ed209","date":"2017-08-06T10:20:07.605Z","type":"join"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-08-06T10:25:11.102Z","type":"quit"}
{"nick":"wonko7","date":"2017-08-06T10:25:27.038Z","type":"join"}
{"nick":"mylesborins","date":"2017-08-06T10:25:41.719Z","type":"join"}
{"nick":"Qantas94Heavy","reason":"Ping timeout: 255 seconds","date":"2017-08-06T10:26:13.022Z","type":"quit"}
{"nick":"kingarmadillo","date":"2017-08-06T10:29:31.515Z","type":"join"}
{"nick":"deahmad","date":"2017-08-06T10:29:45.059Z","type":"join"}
{"nick":"Yacker","date":"2017-08-06T10:30:11.144Z","type":"join"}
{"nick":"Yacker","reason":"Client Quit","date":"2017-08-06T10:33:08.011Z","type":"quit"}
{"nick":"Dal1980","message":"Promise.map( (Array), function(){ /* do stuff if each array element /* } )  <- is that the correct format?","date":"2017-08-06T10:33:59.574Z","type":"message"}
{"nick":"Dal1980","message":"*Promise.map( (Array), function(el){ /* do stuff if each array element (el) /* } )  <- is that the correct format?","date":"2017-08-06T10:34:30.541Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 260 seconds","date":"2017-08-06T10:34:48.640Z","type":"quit"}
{"nick":"zaiste","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T10:35:33.512Z","type":"quit"}
{"nick":"http_GK1wmSU","date":"2017-08-06T10:35:37.484Z","type":"join"}
{"nick":"deahmad","reason":"Ping timeout: 260 seconds","date":"2017-08-06T10:36:34.994Z","type":"quit"}
{"nick":"chjj","reason":"Ping timeout: 276 seconds","date":"2017-08-06T10:38:19.694Z","type":"quit"}
{"nick":"http_GK1wmSU","date":"2017-08-06T10:39:53.184Z","type":"part"}
{"nick":"mr-foobar","reason":"Ping timeout: 246 seconds","date":"2017-08-06T10:39:55.574Z","type":"quit"}
{"nick":"muscle","date":"2017-08-06T10:42:21.547Z","type":"join"}
{"nick":"__rgn","message":"Dal1980: try it in repl or something?","date":"2017-08-06T10:43:32.967Z","type":"message"}
{"nick":"MachinShin","message":"Looks rather get to me","date":"2017-08-06T10:43:34.666Z","type":"message"}
{"nick":"MachinShin","message":"*right","date":"2017-08-06T10:43:48.786Z","type":"message"}
{"nick":"__rgn","message":"> Promise.map(Promise.all([1,2,3].map(Promise.resolve)), x => x + 1).then(console.log)","date":"2017-08-06T10:45:14.973Z","type":"message"}
{"nick":"goodenough","reason":"Remote host closed the connection","date":"2017-08-06T10:47:21.095Z","type":"quit"}
{"nick":"mr-foobar","date":"2017-08-06T10:47:26.693Z","type":"join"}
{"nick":"goodenough","date":"2017-08-06T10:47:53.715Z","type":"join"}
{"nick":"tsujp","date":"2017-08-06T10:49:49.007Z","type":"join"}
{"nick":"Qantas94Heavy","date":"2017-08-06T10:50:27.697Z","type":"join"}
{"nick":"kingarmadillo","date":"2017-08-06T10:50:41.808Z","type":"join"}
{"nick":"roomcayz","reason":"Quit: roomcayz","date":"2017-08-06T10:52:29.105Z","type":"quit"}
{"nick":"goodenough","reason":"Ping timeout: 276 seconds","date":"2017-08-06T10:52:37.668Z","type":"quit"}
{"nick":"brent__","date":"2017-08-06T10:54:41.159Z","type":"join"}
{"nick":"tsujp","message":"Hello everyone, I'm trying to include socket.io within my NodeJS express app outside of app.js. I've gotten it working by module.export'ing an anonymous function but I want module.exports at the end of the file for some socket_api object. Can anyone help out? I've made a gist here  https://gist.github.com/tsujp/6bf541cc9376b6d1b471f9463a562928","date":"2017-08-06T10:54:50.664Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 255 seconds","date":"2017-08-06T10:55:20.847Z","type":"quit"}
{"nick":"brent__","reason":"Ping timeout: 240 seconds","date":"2017-08-06T10:58:57.841Z","type":"quit"}
{"nick":"omnipot","reason":"Remote host closed the connection","date":"2017-08-06T11:00:50.619Z","type":"quit"}
{"nick":"omnipot","date":"2017-08-06T11:01:58.968Z","type":"join"}
{"nick":"chjj","date":"2017-08-06T11:04:45.623Z","type":"join"}
{"nick":"BeerLover","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T11:05:44.591Z","type":"quit"}
{"nick":"tsujp","message":"Anyone?","date":"2017-08-06T11:07:51.087Z","type":"message"}
{"nick":"omnipot","reason":"Remote host closed the connection","date":"2017-08-06T11:07:57.274Z","type":"quit"}
{"nick":"desiph3r","date":"2017-08-06T11:08:05.639Z","type":"join"}
{"nick":"omnipot","date":"2017-08-06T11:08:40.692Z","type":"join"}
{"nick":"danneu","message":"tsujp: looks like you only get a serversocket object (which you can bind handlers to) after passing in a server","date":"2017-08-06T11:09:00.420Z","type":"message"}
{"nick":"http_GK1wmSU","date":"2017-08-06T11:09:25.921Z","type":"join"}
{"nick":"danneu","message":"so exporting a function that accepts a server, goes `socket = io(server)` and then `socket.on(...)` for your handlers looks good","date":"2017-08-06T11:09:50.206Z","type":"message"}
{"nick":"tsujp","message":"so I'd do `socket_api = {}` and then `socket_api = io(server)` and from there I can specify `socket_api.on(...)` etc etc right?","date":"2017-08-06T11:11:12.362Z","type":"message"}
{"nick":"http_GK1wmSU","date":"2017-08-06T11:11:24.358Z","type":"part"}
{"nick":"danneu","message":"or, export a function that takes the socket. in app.js then you can just go `require('./websocket_api')(socketio(server))`","date":"2017-08-06T11:11:24.741Z","type":"message"}
{"nick":"tsujp","message":"I'm struggling with how to pass `server` to that object in the NOT_WORKING.js file","date":"2017-08-06T11:11:28.784Z","type":"message"}
{"nick":"tsujp","message":"Ooohh as a kind of constructor then?","date":"2017-08-06T11:11:54.068Z","type":"message"}
{"nick":"tsujp","message":"Do you mind gisting me those 2 examples you're talking about","date":"2017-08-06T11:12:03.247Z","type":"message"}
{"nick":"desiph3r","reason":"Ping timeout: 260 seconds","date":"2017-08-06T11:12:36.481Z","type":"quit"}
{"nick":"danneu","message":"i commented on the gist","date":"2017-08-06T11:15:12.666Z","type":"message"}
{"nick":"http_GK1wmSU","date":"2017-08-06T11:15:35.069Z","type":"join"}
{"nick":"danneu","message":"it's not much different from what you had, i'm just not sure what you want tbh","date":"2017-08-06T11:15:38.529Z","type":"message"}
{"nick":"http_GK1wmSU","reason":"K-Lined","date":"2017-08-06T11:16:09.389Z","type":"quit"}
{"nick":"star_prone","date":"2017-08-06T11:16:37.427Z","type":"join"}
{"nick":"tsujp","message":"Hmm that's not it, sec let me update my gist danneu","date":"2017-08-06T11:17:14.853Z","type":"message"}
{"nick":"roomcayz","date":"2017-08-06T11:18:46.886Z","type":"join"}
{"nick":"cannap","date":"2017-08-06T11:19:21.678Z","type":"join"}
{"nick":"star_prone","reason":"Ping timeout: 240 seconds","date":"2017-08-06T11:20:50.428Z","type":"quit"}
{"nick":"goodenough","date":"2017-08-06T11:24:17.582Z","type":"join"}
{"nick":"tsujp","message":"danneu: updated, check out the gist again","date":"2017-08-06T11:24:50.053Z","type":"message"}
{"nick":"tsujp","message":"socket_api_NOT_WORKING.js lines 8 to 9 I get `socket_api.on is not a function`","date":"2017-08-06T11:25:13.200Z","type":"message"}
{"nick":"tsujp","message":"Not sure why","date":"2017-08-06T11:25:15.472Z","type":"message"}
{"nick":"tsujp","message":"(I'm still new to Node :\\)","date":"2017-08-06T11:25:25.102Z","type":"message"}
{"nick":"belmoussaoui","reason":"Remote host closed the connection","date":"2017-08-06T11:26:42.936Z","type":"quit"}
{"nick":"danneu","message":"tsujp: your original solution was correct. you're basically trying to rewrite socket_api.js so that it's stateful in your NOT_WORKING.js just to get rid of one level of indentation?","date":"2017-08-06T11:27:31.813Z","type":"message"}
{"nick":"belmoussaoui","date":"2017-08-06T11:27:56.524Z","type":"join"}
{"nick":"tsujp","message":"I just don't want everything wrapped in module.exports if I can, looks cleaner without right?","date":"2017-08-06T11:27:59.651Z","type":"message"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T11:28:41.585Z","type":"quit"}
{"nick":"bradfordli123","reason":"Remote host closed the connection","date":"2017-08-06T11:29:21.046Z","type":"quit"}
{"nick":"danneu","message":"it may seem to look cleaner, but the implementation is dirtier that way, tho for reasons that are hard to appreciate now. if that's all you want, then you can export app from app.js, then app = require('./app') in socket_api.js and mount onto it","date":"2017-08-06T11:29:36.905Z","type":"message"}
{"nick":"bradfordli123","date":"2017-08-06T11:29:56.867Z","type":"join"}
{"nick":"Lee1092","reason":"Quit: Connection closed for inactivity","date":"2017-08-06T11:30:09.605Z","type":"quit"}
{"nick":"tsujp","message":"If it's bad practice to do it that way I'll go back to having everything wrapped in `module.exports.listen = function(server)`. Is the gist now correct for the original method then?","date":"2017-08-06T11:32:53.302Z","type":"message"}
{"nick":"tsujp","message":"danneu: ^","date":"2017-08-06T11:32:59.414Z","type":"message"}
{"nick":"led2","date":"2017-08-06T11:32:59.812Z","type":"join"}
{"nick":"shiroyasha","date":"2017-08-06T11:33:25.216Z","type":"join"}
{"nick":"danneu","message":"in general it's better design for modules to export a function that takes configuration instead of reaching into global state by their self","date":"2017-08-06T11:33:25.390Z","type":"message"}
{"nick":"danneu","message":"for example, in tests you could reuse socket_api.js, passing in a different server each time, and creating a fresh websocket server for each test. can't do that if you turn socket_api.js into a singleton","date":"2017-08-06T11:34:29.310Z","type":"message"}
{"nick":"bradfordli123","reason":"Ping timeout: 268 seconds","date":"2017-08-06T11:34:31.876Z","type":"quit"}
{"nick":"zaiste","date":"2017-08-06T11:34:46.131Z","type":"join"}
{"nick":"tsujp","message":"That makes sense","date":"2017-08-06T11:35:12.615Z","type":"message"}
{"nick":"danneu","message":"your original code was fine. `module.exports = (server) => { ... }`","date":"2017-08-06T11:36:17.983Z","type":"message"}
{"nick":"Thorn_","date":"2017-08-06T11:37:51.824Z","type":"join"}
{"nick":"Thorn","reason":"Ping timeout: 240 seconds","date":"2017-08-06T11:39:09.827Z","type":"quit"}
{"nick":"danneu","message":"i thnk socket.io's api makes it especially awkward to have a singleton module tho, like you're trying to do. seems like it'd be nicer if you could just go `io = new require('socket.io').Server()` in a file, add your handlers, and export","date":"2017-08-06T11:39:49.598Z","type":"message"}
{"nick":"led2","reason":"Quit: led2","date":"2017-08-06T11:40:01.759Z","type":"quit"}
{"nick":"danneu","message":"and then import it into app.js","date":"2017-08-06T11:40:08.427Z","type":"message"}
{"nick":"chargen","date":"2017-08-06T11:42:04.474Z","type":"join"}
{"nick":"smccarthy","date":"2017-08-06T11:43:05.649Z","type":"join"}
{"nick":"tsujp","message":"Yeah that's why I was trying to abstract it into another file, oh well I have it in another file as I originally did and it's all working nicely enough","date":"2017-08-06T11:44:02.641Z","type":"message"}
{"nick":"tsujp","message":"Shall leave it at that and not complicate any further","date":"2017-08-06T11:44:10.698Z","type":"message"}
{"nick":"tsujp","message":"Thank you danneu :)","date":"2017-08-06T11:44:13.150Z","type":"message"}
{"nick":"sobersabre","reason":"Quit: WeeChat 1.7","date":"2017-08-06T11:44:49.431Z","type":"quit"}
{"nick":"yousuc","date":"2017-08-06T11:46:59.131Z","type":"quit"}
{"nick":"shiroyasha","reason":"Ping timeout: 260 seconds","date":"2017-08-06T11:47:09.998Z","type":"quit"}
{"nick":"smccarthy","reason":"Ping timeout: 260 seconds","date":"2017-08-06T11:47:36.471Z","type":"quit"}
{"nick":"omnipot","reason":"Ping timeout: 276 seconds","date":"2017-08-06T11:48:31.676Z","type":"quit"}
{"nick":"ThePendulum","date":"2017-08-06T11:49:33.917Z","type":"join"}
{"nick":"ahmedelgabri","reason":"Quit: WeeChat 1.9","date":"2017-08-06T11:50:29.988Z","type":"quit"}
{"nick":"yousuc","date":"2017-08-06T11:50:39.640Z","type":"join"}
{"nick":"zaiste","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T11:52:44.770Z","type":"quit"}
{"nick":"atomicb0mb","date":"2017-08-06T11:53:17.804Z","type":"join"}
{"nick":"ahmedelgabri","date":"2017-08-06T11:53:42.714Z","type":"join"}
{"nick":"qbic","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T11:56:06.882Z","type":"quit"}
{"nick":"hadifarnoud","date":"2017-08-06T11:57:06.037Z","type":"join"}
{"nick":"http_GK1wmSU","date":"2017-08-06T11:59:00.800Z","type":"join"}
{"nick":"http_GK1wmSU","date":"2017-08-06T12:00:43.169Z","type":"part"}
{"nick":"atomicb0mb","reason":"Quit: My Mac has gone to sleep. ZZZzzz…","date":"2017-08-06T12:00:48.057Z","type":"quit"}
{"nick":"cveron","reason":"Quit: Leaving","date":"2017-08-06T12:07:05.800Z","type":"quit"}
{"nick":"LXXIII","reason":"Ping timeout: 260 seconds","date":"2017-08-06T12:07:12.690Z","type":"quit"}
{"nick":"SteffanW","date":"2017-08-06T12:09:15.427Z","type":"join"}
{"nick":"pankaj","date":"2017-08-06T12:12:58.431Z","type":"join"}
{"nick":"doomhz","date":"2017-08-06T12:14:43.480Z","type":"join"}
{"nick":"lavenders","message":"regarding twitter: how to send icons over oauth.post ? i tired :honeypot but it shows up in cleartext","date":"2017-08-06T12:16:15.355Z","type":"message"}
{"nick":"lavenders","message":"anyone used it twitter rest api before to post icons?","date":"2017-08-06T12:16:33.950Z","type":"message"}
{"nick":"tsujp","reason":"Ping timeout: 260 seconds","date":"2017-08-06T12:16:55.031Z","type":"quit"}
{"nick":"goodenough","date":"2017-08-06T12:18:18.329Z","type":"join"}
{"nick":"rhonabwy","reason":"Read error: Connection reset by peer","date":"2017-08-06T12:18:50.700Z","type":"quit"}
{"nick":"doomhz","reason":"Ping timeout: 260 seconds","date":"2017-08-06T12:19:20.621Z","type":"quit"}
{"nick":"Industrial","reason":"Ping timeout: 246 seconds","date":"2017-08-06T12:20:22.490Z","type":"quit"}
{"nick":"Kosingas","date":"2017-08-06T12:20:24.694Z","type":"join"}
{"nick":"pankaj","reason":"Quit: Leaving","date":"2017-08-06T12:21:56.666Z","type":"quit"}
{"nick":"modernpacifist","reason":"Quit: WeeChat 1.7","date":"2017-08-06T12:22:16.007Z","type":"quit"}
{"nick":"modernpacifist","date":"2017-08-06T12:22:30.846Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 264 seconds","date":"2017-08-06T12:22:34.285Z","type":"quit"}
{"nick":"goodenough","reason":"Ping timeout: 258 seconds","date":"2017-08-06T12:22:57.258Z","type":"quit"}
{"nick":"kingarmadillo","date":"2017-08-06T12:23:31.111Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T12:24:09.136Z","type":"join"}
{"nick":"InterAl","date":"2017-08-06T12:26:06.959Z","type":"join"}
{"nick":"InterAl","message":"is it possible to have node print the error's stack trace in reverse?","date":"2017-08-06T12:27:52.728Z","type":"message"}
{"nick":"InterAl","message":"so i won't have to scroll up every time i have an error...","date":"2017-08-06T12:28:07.028Z","type":"message"}
{"nick":"rhonabwy","date":"2017-08-06T12:29:41.861Z","type":"join"}
{"nick":"danneu","message":"InterAl: error.stack.split('\\n').reverse().join('\\n')","date":"2017-08-06T12:30:03.304Z","type":"message"}
{"nick":"danneu","message":"n> try { a } catch (e) { console.log(e.stack.split('\\n').reverse().join('\\n')) }","date":"2017-08-06T12:30:42.827Z","type":"message"}
{"nick":"babelboot","message":"danneu: (okay) at bootstrap_node.js:575:3 at startup (bootstrap_node.js:158:16) at Function.Module.runMain (module.js:605:10) at Function.Module._load (module.js:458:3) at tryModuleLoad (module.js:466:12) at Module.load (module.js:503:32)  ... https://git.io/v7rHK","date":"2017-08-06T12:30:47.391Z","type":"message"}
{"nick":"Avinash","date":"2017-08-06T12:31:15.597Z","type":"join"}
{"nick":"vuoto","reason":"Remote host closed the connection","date":"2017-08-06T12:31:25.562Z","type":"quit"}
{"nick":"vuoto","date":"2017-08-06T12:31:47.528Z","type":"join"}
{"nick":"Avinash","reason":"Client Quit","date":"2017-08-06T12:32:25.664Z","type":"quit"}
{"nick":"Treefingers","date":"2017-08-06T12:34:05.608Z","type":"join"}
{"nick":"mezod","reason":"Remote host closed the connection","date":"2017-08-06T12:37:07.641Z","type":"quit"}
{"nick":"mr-fooba_","date":"2017-08-06T12:38:52.752Z","type":"join"}
{"nick":"mj_k","date":"2017-08-06T12:39:12.581Z","type":"join"}
{"nick":"mr-foobar","reason":"Ping timeout: 276 seconds","date":"2017-08-06T12:39:52.688Z","type":"quit"}
{"nick":"lem0nify","date":"2017-08-06T12:41:05.396Z","type":"join"}
{"nick":"malademe2tal","date":"2017-08-06T12:42:35.781Z","type":"join"}
{"nick":"lexileo","reason":"Ping timeout: 248 seconds","date":"2017-08-06T12:43:13.584Z","type":"quit"}
{"nick":"mj_k","reason":"Ping timeout: 248 seconds","date":"2017-08-06T12:43:45.501Z","type":"quit"}
{"nick":"blade2","date":"2017-08-06T12:43:51.994Z","type":"join"}
{"nick":"cagedwisdom","reason":"Remote host closed the connection","date":"2017-08-06T12:44:08.676Z","type":"quit"}
{"nick":"malademe3tal","date":"2017-08-06T12:45:23.809Z","type":"join"}
{"nick":"blade2","date":"2017-08-06T12:45:45.967Z","type":"quit"}
{"nick":"Kosingas","reason":"Quit: This computer has gone to sleep","date":"2017-08-06T12:49:00.681Z","type":"quit"}
{"nick":"mezod","date":"2017-08-06T12:50:37.253Z","type":"join"}
{"nick":"sterns","date":"2017-08-06T12:50:51.607Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 276 seconds","date":"2017-08-06T12:53:31.692Z","type":"quit"}
{"nick":"AtumT","date":"2017-08-06T12:53:38.683Z","type":"join"}
{"nick":"cveron","date":"2017-08-06T12:53:46.472Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T12:54:11.724Z","type":"join"}
{"nick":"Qantas94Heavy","reason":"Remote host closed the connection","date":"2017-08-06T12:54:20.129Z","type":"quit"}
{"nick":"coot__________","reason":"Quit: coot__________","date":"2017-08-06T12:54:42.190Z","type":"quit"}
{"nick":"Qantas94Heavy","date":"2017-08-06T12:54:46.795Z","type":"join"}
{"nick":"Kosingas","date":"2017-08-06T12:55:17.786Z","type":"join"}
{"nick":"lavenders","message":" /window down","date":"2017-08-06T12:55:28.281Z","type":"message"}
{"nick":"atomicb0mb","date":"2017-08-06T12:56:55.890Z","type":"join"}
{"nick":"beefjoe","date":"2017-08-06T12:57:42.605Z","type":"join"}
{"nick":"heroux","date":"2017-08-06T13:00:59.776Z","type":"join"}
{"nick":"atomicb0mb","reason":"Client Quit","date":"2017-08-06T13:01:09.923Z","type":"quit"}
{"nick":"ryzokuken","date":"2017-08-06T13:04:46.605Z","type":"join"}
{"nick":"anuxivm","date":"2017-08-06T13:05:06.919Z","type":"join"}
{"nick":"SpydarOO7","reason":"Ping timeout: 258 seconds","date":"2017-08-06T13:05:07.260Z","type":"quit"}
{"nick":"Qantas94Heavy","reason":"Remote host closed the connection","date":"2017-08-06T13:06:09.132Z","type":"quit"}
{"nick":"Qantas94Heavy","date":"2017-08-06T13:06:33.728Z","type":"join"}
{"nick":"nodweber","reason":"Remote host closed the connection","date":"2017-08-06T13:08:30.168Z","type":"quit"}
{"nick":"Guest2526","date":"2017-08-06T13:10:22.130Z","type":"join"}
{"nick":"vuoto","reason":"Remote host closed the connection","date":"2017-08-06T13:10:54.443Z","type":"quit"}
{"nick":"Guest2526","date":"2017-08-06T13:10:57.468Z","type":"part"}
{"nick":"joepie91_to_go_","date":"2017-08-06T13:11:11.414Z","type":"join"}
{"nick":"goodenough","date":"2017-08-06T13:12:35.426Z","type":"join"}
{"nick":"atomicb0mb","date":"2017-08-06T13:13:08.373Z","type":"join"}
{"nick":"atomicb0mb","reason":"Client Quit","date":"2017-08-06T13:14:01.892Z","type":"quit"}
{"nick":"heroux","reason":"Remote host closed the connection","date":"2017-08-06T13:14:22.866Z","type":"quit"}
{"nick":"cveron","reason":"Quit: Leaving","date":"2017-08-06T13:14:39.580Z","type":"quit"}
{"nick":"nodweber","date":"2017-08-06T13:15:32.148Z","type":"join"}
{"nick":"goodenough","reason":"Ping timeout: 240 seconds","date":"2017-08-06T13:16:50.442Z","type":"quit"}
{"nick":"cveron","date":"2017-08-06T13:16:55.933Z","type":"join"}
{"nick":"heroux","date":"2017-08-06T13:17:30.535Z","type":"join"}
{"nick":"cveron","reason":"Client Quit","date":"2017-08-06T13:21:18.863Z","type":"quit"}
{"nick":"wonko7","reason":"Ping timeout: 246 seconds","date":"2017-08-06T13:24:04.508Z","type":"quit"}
{"nick":"Industrial","date":"2017-08-06T13:25:01.104Z","type":"join"}
{"nick":"wsieroci","reason":"Remote host closed the connection","date":"2017-08-06T13:25:15.985Z","type":"quit"}
{"nick":"Xiti`","date":"2017-08-06T13:25:53.668Z","type":"join"}
{"nick":"pilne","date":"2017-08-06T13:26:43.323Z","type":"join"}
{"nick":"dcunit3d","date":"2017-08-06T13:27:41.251Z","type":"join"}
{"nick":"dcunit3d","reason":"\"WeeChat 1.4\"","date":"2017-08-06T13:27:45.788Z","type":"part"}
{"nick":"atomicb0mb","date":"2017-08-06T13:29:39.231Z","type":"join"}
{"nick":"atomicb0mb","reason":"Client Quit","date":"2017-08-06T13:29:44.666Z","type":"quit"}
{"nick":"Xiti","reason":"Ping timeout: 268 seconds","date":"2017-08-06T13:29:50.792Z","type":"quit"}
{"nick":"Hoffman","date":"2017-08-06T13:32:35.716Z","type":"join"}
{"nick":"brennino","date":"2017-08-06T13:33:36.299Z","type":"join"}
{"nick":"ryzokuken","new_nick":"vim","date":"2017-08-06T13:40:41.815Z","type":"nick"}
{"nick":"darkSeid_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T13:40:45.449Z","type":"quit"}
{"nick":"vim","new_nick":"v1m","date":"2017-08-06T13:41:06.172Z","type":"nick"}
{"nick":"brennino","date":"2017-08-06T13:42:23.539Z","type":"part"}
{"nick":"smccarthy","date":"2017-08-06T13:43:54.858Z","type":"join"}
{"nick":"ejb","date":"2017-08-06T13:44:49.856Z","type":"join"}
{"nick":"Industrial","reason":"Ping timeout: 260 seconds","date":"2017-08-06T13:45:12.690Z","type":"quit"}
{"nick":"doomhz","date":"2017-08-06T13:45:18.505Z","type":"join"}
{"nick":"Quatroking","date":"2017-08-06T13:45:45.878Z","type":"join"}
{"nick":"SpydarOO7","date":"2017-08-06T13:47:20.371Z","type":"join"}
{"nick":"hays_","reason":"Ping timeout: 260 seconds","date":"2017-08-06T13:48:00.506Z","type":"quit"}
{"nick":"Yacker","date":"2017-08-06T13:48:04.750Z","type":"join"}
{"nick":"smccarthy","reason":"Ping timeout: 268 seconds","date":"2017-08-06T13:48:57.894Z","type":"quit"}
{"nick":"Krennic","date":"2017-08-06T13:49:00.410Z","type":"join"}
{"nick":"wonko7","date":"2017-08-06T13:51:34.773Z","type":"join"}
{"nick":"doomhz","reason":"Ping timeout: 260 seconds","date":"2017-08-06T13:51:44.476Z","type":"quit"}
{"nick":"cannap","reason":"Read error: Connection reset by peer","date":"2017-08-06T13:51:54.509Z","type":"quit"}
{"nick":"roomcayz","reason":"Quit: roomcayz","date":"2017-08-06T13:53:09.231Z","type":"quit"}
{"nick":"brent__","date":"2017-08-06T13:54:26.012Z","type":"join"}
{"nick":"brent__","reason":"Ping timeout: 246 seconds","date":"2017-08-06T13:58:43.546Z","type":"quit"}
{"nick":"hadifarnoud","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-08-06T13:59:50.067Z","type":"quit"}
{"nick":"SteffanW","reason":"Read error: Connection reset by peer","date":"2017-08-06T14:01:38.722Z","type":"quit"}
{"nick":"RLa","date":"2017-08-06T14:02:03.717Z","type":"join"}
{"nick":"Industrial","date":"2017-08-06T14:04:51.129Z","type":"join"}
{"nick":"goodenough","date":"2017-08-06T14:06:45.642Z","type":"join"}
{"nick":"http_GK1wmSU","date":"2017-08-06T14:07:14.736Z","type":"join"}
{"nick":"ecuanaso","date":"2017-08-06T14:07:56.937Z","type":"join"}
{"nick":"belmoussaoui","reason":"Ping timeout: 240 seconds","date":"2017-08-06T14:08:48.489Z","type":"quit"}
{"nick":"SwiftMatt","date":"2017-08-06T14:08:51.139Z","type":"join"}
{"nick":"Dal1980","message":"Thanks MachinShin for confirming earlier (sorry had to step out)","date":"2017-08-06T14:09:35.778Z","type":"message"}
{"nick":"belmoussaoui","date":"2017-08-06T14:09:49.334Z","type":"join"}
{"nick":"victorqueiroz","date":"2017-08-06T14:09:56.506Z","type":"join"}
{"nick":"http_GK1wmSU","date":"2017-08-06T14:10:17.554Z","type":"part"}
{"nick":"goodenough","reason":"Ping timeout: 246 seconds","date":"2017-08-06T14:11:19.485Z","type":"quit"}
{"nick":"Dal1980","message":"__rgn Promise.map(Promise.all([1,2,3].map(Promise.resolve)), x => x + 1).then(console.log) <- when you showed me this earlier, where you giving me a plain old example of Promise.map or was this particular one for my scenario of my code?","date":"2017-08-06T14:11:31.559Z","type":"message"}
{"nick":"v1m","reason":"Remote host closed the connection","date":"2017-08-06T14:11:49.579Z","type":"quit"}
{"nick":"v1m","date":"2017-08-06T14:12:17.536Z","type":"join"}
{"nick":"__rgn","message":"you asked if what you showed is the correct format","date":"2017-08-06T14:12:39.206Z","type":"message"}
{"nick":"__rgn","message":"i showed you how you could have tried it in repl","date":"2017-08-06T14:12:45.169Z","type":"message"}
{"nick":"v1m","reason":"Remote host closed the connection","date":"2017-08-06T14:13:19.103Z","type":"quit"}
{"nick":"Dal1980","message":"Ok, just to clarify, the inner map(Promise.resolve) <- would that replicate and complete each time","date":"2017-08-06T14:14:16.751Z","type":"message"}
{"nick":"__rgn","message":"what do you mean","date":"2017-08-06T14:14:33.351Z","type":"message"}
{"nick":"belmoussaoui","reason":"Ping timeout: 260 seconds","date":"2017-08-06T14:14:36.638Z","type":"quit"}
{"nick":"Dal1980","message":"would it cause this error:","date":"2017-08-06T14:15:06.439Z","type":"message"}
{"nick":"Dal1980","message":"https://usercontent.irccloud-cdn.com/file/3Cno2fEP/image.png","date":"2017-08-06T14:15:14.153Z","type":"message"}
{"nick":"Dal1980","message":"My promises are so great node doesn't seem to keep them all in memory","date":"2017-08-06T14:15:58.261Z","type":"message"}
{"nick":"__rgn","message":"[1,2,3].map(Promise.resolve) is \"pure\", there are no side effects","date":"2017-08-06T14:16:11.063Z","type":"message"}
{"nick":"gwoztz","date":"2017-08-06T14:17:12.507Z","type":"join"}
{"nick":"gwoztz","reason":"Client Quit","date":"2017-08-06T14:17:21.756Z","type":"quit"}
{"nick":"ecuanaso","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T14:18:14.427Z","type":"quit"}
{"nick":"Dal1980","message":"line 68: https://gist.github.com/zombiesbyte/8ebcf44ce6f4aca7610c671a57c3dae9","date":"2017-08-06T14:18:24.099Z","type":"message"}
{"nick":"Dal1980","message":"Just to confirm - that is not the same as thing","date":"2017-08-06T14:18:57.017Z","type":"message"}
{"nick":"sobersabre","date":"2017-08-06T14:18:57.688Z","type":"join"}
{"nick":"ryzokuken","date":"2017-08-06T14:20:07.962Z","type":"join"}
{"nick":"Dal1980","message":"same thing* (don't know where the word 'as' came from)","date":"2017-08-06T14:20:40.407Z","type":"message"}
{"nick":"Gazooo","reason":"Ping timeout: 240 seconds","date":"2017-08-06T14:21:10.420Z","type":"quit"}
{"nick":"prometh","date":"2017-08-06T14:22:46.033Z","type":"join"}
{"nick":"indistylo","reason":"Ping timeout: 255 seconds","date":"2017-08-06T14:24:08.853Z","type":"quit"}
{"nick":"alexi5","date":"2017-08-06T14:28:15.694Z","type":"join"}
{"nick":"atomicb0mb","date":"2017-08-06T14:29:45.699Z","type":"join"}
{"nick":"SwiftMatt","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2017-08-06T14:29:53.649Z","type":"quit"}
{"nick":"telega","date":"2017-08-06T14:30:27.693Z","type":"join"}
{"nick":"chargen","reason":"Quit: BBL","date":"2017-08-06T14:30:48.502Z","type":"quit"}
{"nick":"jugglinmike","date":"2017-08-06T14:30:53.598Z","type":"join"}
{"nick":"atomicb0mb","reason":"Client Quit","date":"2017-08-06T14:31:02.406Z","type":"quit"}
{"nick":"chargen","date":"2017-08-06T14:31:15.587Z","type":"join"}
{"nick":"chargen","reason":"Client Quit","date":"2017-08-06T14:31:31.870Z","type":"quit"}
{"nick":"TheFuzzb_","date":"2017-08-06T14:32:14.265Z","type":"join"}
{"nick":"TheFuzzball","reason":"Ping timeout: 260 seconds","date":"2017-08-06T14:33:16.609Z","type":"quit"}
{"nick":"realies","reason":"Ping timeout: 240 seconds","date":"2017-08-06T14:33:27.847Z","type":"quit"}
{"nick":"lem0nify","reason":"Read error: Connection reset by peer","date":"2017-08-06T14:33:45.449Z","type":"quit"}
{"nick":"skre4","reason":"Ping timeout: 240 seconds","date":"2017-08-06T14:33:57.814Z","type":"quit"}
{"nick":"__rgn","message":"the code looks very problematic","date":"2017-08-06T14:34:21.033Z","type":"message"}
{"nick":"Gazooo","date":"2017-08-06T14:34:25.758Z","type":"join"}
{"nick":"smccarthy","date":"2017-08-06T14:34:48.567Z","type":"join"}
{"nick":"chalker_","date":"2017-08-06T14:34:50.733Z","type":"join"}
{"nick":"Qantas94Heavy","reason":"Ping timeout: 276 seconds","date":"2017-08-06T14:34:55.708Z","type":"quit"}
{"nick":"^esc","reason":"Ping timeout: 240 seconds","date":"2017-08-06T14:36:09.718Z","type":"quit"}
{"nick":"aljone","date":"2017-08-06T14:36:35.146Z","type":"join"}
{"nick":"lem0nify","date":"2017-08-06T14:36:44.659Z","type":"join"}
{"nick":"^esc","date":"2017-08-06T14:36:51.750Z","type":"join"}
{"nick":"aljone","message":"hey guys i got some weird issue im not sure if u can help or not but ill ask anyway. i have this script : https://paste.ee/p/JeXSQ#w1OTW5aiEEz6XpJHgToG7EQliMqcq4kx , my question is how could it be that my db contain more than 1 row with order_id and type match?","date":"2017-08-06T14:36:53.242Z","type":"message"}
{"nick":"Treefingers","reason":"Ping timeout: 246 seconds","date":"2017-08-06T14:37:20.548Z","type":"quit"}
{"nick":"Logico","date":"2017-08-06T14:38:21.691Z","type":"join"}
{"nick":"smccarthy","reason":"Ping timeout: 248 seconds","date":"2017-08-06T14:39:29.554Z","type":"quit"}
{"nick":"chargen","date":"2017-08-06T14:39:55.638Z","type":"join"}
{"nick":"Dal1980","message":"stupid question aljone - you haven't got 2 entries with the same order_id and type? Beyond that I can't see how I can help","date":"2017-08-06T14:41:41.939Z","type":"message"}
{"nick":"pankaj","date":"2017-08-06T14:42:32.661Z","type":"join"}
{"nick":"dcunit3d","date":"2017-08-06T14:43:39.407Z","type":"join"}
{"nick":"telega","reason":"Quit: Leaving...","date":"2017-08-06T14:43:40.868Z","type":"quit"}
{"nick":"aljone","message":"my question is , if there is any situation that the same order_id and type count enter twice","date":"2017-08-06T14:44:32.864Z","type":"message"}
{"nick":"Yacker","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T14:44:44.235Z","type":"quit"}
{"nick":"TheFuzzb_","reason":"Quit: Computer has gone to sleep.","date":"2017-08-06T14:44:52.245Z","type":"quit"}
{"nick":"dcunit3d","message":"hey, i'm running into some problems with a karma/tape test setup. my tests are pretty basic. barely anything above hello world.","date":"2017-08-06T14:45:00.303Z","type":"message"}
{"nick":"dcunit3d","message":"but when i run `NODE_ENV=test karma start --single-run` my setup runs all kinds of random tests and skips files.","date":"2017-08-06T14:45:45.478Z","type":"message"}
{"nick":"dcunit3d","reason":"Client Quit","date":"2017-08-06T14:46:18.085Z","type":"quit"}
{"nick":"TheFuzzball","date":"2017-08-06T14:46:44.008Z","type":"join"}
{"nick":"dcunit3d","date":"2017-08-06T14:47:16.501Z","type":"join"}
{"nick":"dcunit3d","message":"#node-dev","date":"2017-08-06T14:47:20.379Z","type":"message"}
{"nick":"dcunit3d","message":"woops","date":"2017-08-06T14:47:22.429Z","type":"message"}
{"nick":"dcunit3d","message":"accidentally closed the chat","date":"2017-08-06T14:47:31.917Z","type":"message"}
{"nick":"desiph3r","date":"2017-08-06T14:47:40.847Z","type":"join"}
{"nick":"goodenough","date":"2017-08-06T14:48:10.722Z","type":"join"}
{"nick":"TheFuzzball","reason":"Client Quit","date":"2017-08-06T14:48:27.464Z","type":"quit"}
{"nick":"Dal1980","message":"dcunit3d The NODE_ENV=test <- If that environment has been targeted by karam for it's own testing purposes then that would trigger anything they had in their code (guess)","date":"2017-08-06T14:48:51.267Z","type":"message"}
{"nick":"kingarmadillo","reason":"Ping timeout: 260 seconds","date":"2017-08-06T14:51:56.603Z","type":"quit"}
{"nick":"Dal1980","message":"Ok, who put the noob filter on? I don't know node well but both of them answers are valid for aljone and dcunit3d, I didn't get any kind of acknowledgment from either of you","date":"2017-08-06T14:52:30.659Z","type":"message"}
{"nick":"Dal1980","message":":D","date":"2017-08-06T14:52:48.510Z","type":"message"}
{"nick":"Yacker","date":"2017-08-06T14:52:52.982Z","type":"join"}
{"nick":"chargen","reason":"Quit: BBL","date":"2017-08-06T14:52:57.809Z","type":"quit"}
{"nick":"goodenough","reason":"Ping timeout: 276 seconds","date":"2017-08-06T14:53:07.688Z","type":"quit"}
{"nick":"dcunit3d","message":"thanks Dal1980, i'm just trying to commit some code real quick unless in need to link to the source on github","date":"2017-08-06T14:53:14.706Z","type":"message"}
{"nick":"Dal1980","action":"is a noob at node","date":"2017-08-06T14:53:30.831Z","type":"action"}
{"nick":"darkSeid_","date":"2017-08-06T14:53:43.017Z","type":"join"}
{"nick":"Dal1980","message":"I just thought I'd try help bud","date":"2017-08-06T14:53:45.101Z","type":"message"}
{"nick":"Dal1980","message":"for what it was worth","date":"2017-08-06T14:53:53.105Z","type":"message"}
{"nick":"Dal1980","message":"I presume NODE_ENV works similar to php's ENV file","date":"2017-08-06T14:54:30.079Z","type":"message"}
{"nick":"TheFuzzball","date":"2017-08-06T14:54:31.257Z","type":"join"}
{"nick":"dcunit3d","message":"i've used mocha and other libs in the past, but never had wierd random problems like this. i wanted to try tape bc it reminded me of minitest","date":"2017-08-06T14:54:43.403Z","type":"message"}
{"nick":"Dal1980","message":"Have you tried just passing NODE_ENV=mytest karma start --single-run (like I say I could be barking up the wrong tree)","date":"2017-08-06T14:55:45.178Z","type":"message"}
{"nick":"apparition47","reason":"Quit: Bye","date":"2017-08-06T14:56:50.778Z","type":"quit"}
{"nick":"dcunit3d","message":"i think it works the same as php's ENV file. it's used to specify the 12factor environment test/development/production","date":"2017-08-06T14:57:44.719Z","type":"message"}
{"nick":"cveron","date":"2017-08-06T14:58:01.689Z","type":"join"}
{"nick":"darkSeid_","reason":"Ping timeout: 255 seconds","date":"2017-08-06T14:58:28.052Z","type":"quit"}
{"nick":"Dal1980","message":"Could they have flagged the \"test\" environment state as some kind of demo or testing example routine or something. Do you get the same results in development mode. I'm way out of my depth here","date":"2017-08-06T14:59:18.338Z","type":"message"}
{"nick":"dcunit3d","reason":"Quit: WeeChat 1.4","date":"2017-08-06T15:00:00.630Z","type":"quit"}
{"nick":"cveron","reason":"Client Quit","date":"2017-08-06T15:00:23.191Z","type":"quit"}
{"nick":"cveron","date":"2017-08-06T15:00:47.731Z","type":"join"}
{"nick":"dcunit3d","date":"2017-08-06T15:01:19.777Z","type":"join"}
{"nick":"dcunit3d","message":"node-dev","date":"2017-08-06T15:01:21.239Z","type":"message"}
{"nick":"dcunit3d","message":"crap i got cut off again","date":"2017-08-06T15:01:29.858Z","type":"message"}
{"nick":"aljone","message":"Dal1980: would u look?","date":"2017-08-06T15:01:57.754Z","type":"message"}
{"nick":"jphase","date":"2017-08-06T15:02:13.724Z","type":"join"}
{"nick":"nodweber","reason":"Remote host closed the connection","date":"2017-08-06T15:02:15.612Z","type":"quit"}
{"nick":"Dal1980","message":"At what?","date":"2017-08-06T15:02:35.359Z","type":"message"}
{"nick":"Dro_","date":"2017-08-06T15:02:59.927Z","type":"join"}
{"nick":"systemfault","date":"2017-08-06T15:03:05.673Z","type":"join"}
{"nick":"systemfault","reason":"Remote host closed the connection","date":"2017-08-06T15:03:08.499Z","type":"quit"}
{"nick":"aljone","message":"i was pasting","date":"2017-08-06T15:03:10.255Z","type":"message"}
{"nick":"Dro_","message":"hello, how to sort a JSON with date field in this format Day-Month-Year ?","date":"2017-08-06T15:03:11.095Z","type":"message"}
{"nick":"Dal1980","message":"I did aljone, that's why I asked about duplicate rows in your db","date":"2017-08-06T15:03:45.922Z","type":"message"}
{"nick":"Deliant","reason":"Read error: Connection reset by peer","date":"2017-08-06T15:05:17.581Z","type":"quit"}
{"nick":"tkore","reason":"Read error: Connection reset by peer","date":"2017-08-06T15:05:21.285Z","type":"quit"}
{"nick":"aljone","message":"Dal1980: yes i have 4 rows BUT my code should prevent it incase there is already 1 row that much it ..","date":"2017-08-06T15:05:33.156Z","type":"message"}
{"nick":"aljone","message":"so my questions is what i do wrong","date":"2017-08-06T15:05:40.860Z","type":"message"}
{"nick":"systemfault","date":"2017-08-06T15:05:44.503Z","type":"join"}
{"nick":"tsujp","date":"2017-08-06T15:06:12.022Z","type":"join"}
{"nick":"Deliant","date":"2017-08-06T15:06:31.607Z","type":"join"}
{"nick":"Dal1980","message":"You mean the db query finds 4 rows?","date":"2017-08-06T15:06:32.085Z","type":"message"}
{"nick":"aljone","message":"yes","date":"2017-08-06T15:06:48.013Z","type":"message"}
{"nick":"Dal1980","message":"Why not LIMIT 1 then?","date":"2017-08-06T15:06:59.434Z","type":"message"}
{"nick":"cveron","reason":"Quit: Leaving","date":"2017-08-06T15:07:03.692Z","type":"quit"}
{"nick":"aljone","message":"the limit is not the issue","date":"2017-08-06T15:07:16.234Z","type":"message"}
{"nick":"chalker_","reason":"Ping timeout: 240 seconds","date":"2017-08-06T15:07:39.666Z","type":"quit"}
{"nick":"Deliant","reason":"Read error: Connection reset by peer","date":"2017-08-06T15:08:15.132Z","type":"quit"}
{"nick":"pankaj","reason":"Ping timeout: 260 seconds","date":"2017-08-06T15:08:16.488Z","type":"quit"}
{"nick":"cveron","date":"2017-08-06T15:08:21.595Z","type":"join"}
{"nick":"Dal1980","message":"I'm not understanding the question. If the db query finds 4 rows then it will return 4 rows, if you only want 1 then you should limit it to 1?","date":"2017-08-06T15:08:39.681Z","type":"message"}
{"nick":"aljone","message":"i dont want it to be able to insert more than 1 iso if exist not insert","date":"2017-08-06T15:08:48.640Z","type":"message"}
{"nick":"Deliant","date":"2017-08-06T15:09:01.694Z","type":"join"}
{"nick":"Dal1980","message":"ok - 2 secs","date":"2017-08-06T15:09:11.145Z","type":"message"}
{"nick":"tkore","date":"2017-08-06T15:09:11.790Z","type":"join"}
{"nick":"cveron","reason":"Client Quit","date":"2017-08-06T15:09:36.085Z","type":"quit"}
{"nick":"tsujp","message":"Why can't I call this anonymous function on my home route under expresss 4? https://gist.github.com/tsujp/f41d94953b305f3041eadd604774944d","date":"2017-08-06T15:09:37.476Z","type":"message"}
{"nick":"DeltaHeavy","date":"2017-08-06T15:09:39.377Z","type":"join"}
{"nick":"prometh","reason":"Ping timeout: 276 seconds","date":"2017-08-06T15:10:40.752Z","type":"quit"}
{"nick":"ahrs","message":"tsujp: 'home' looks undefined to me. You probably need to require it, e.g `var home = require('./home')`","date":"2017-08-06T15:11:15.945Z","type":"message"}
{"nick":"GreenJello","message":"also if you're doing module.exports =, that overrides you exports.foo","date":"2017-08-06T15:11:37.506Z","type":"message"}
{"nick":"GreenJello","message":"but you didn't show the actual code","date":"2017-08-06T15:11:56.243Z","type":"message"}
{"nick":"__rgn","message":"yeah it looks like some code is missing","date":"2017-08-06T15:12:06.529Z","type":"message"}
{"nick":"Dal1980","message":"aljone: This line contains two errors: sql = \"INSERT INTO Invoice_Order_Lock WHERE (order_id,`type`) valeues ( '\" + object.order_id + \",'\"+invoice_type+\"\")\";","date":"2017-08-06T15:13:15.550Z","type":"message"}
{"nick":"tsujp","message":"ahrs: I have required it on line 17","date":"2017-08-06T15:13:30.739Z","type":"message"}
{"nick":"tsujp","message":"GreenJello, __rgn OHHHHH i am doing module.exports at the bottom of home.js","date":"2017-08-06T15:13:41.119Z","type":"message"}
{"nick":"tsujp","message":"how can I make an anonymous function on it then that I can invoke from app.js? GreenJello __rgn","date":"2017-08-06T15:13:56.332Z","type":"message"}
{"nick":"Industrial","reason":"Ping timeout: 240 seconds","date":"2017-08-06T15:14:09.629Z","type":"quit"}
{"nick":"GreenJello","message":"tsujp, why would you put it in your routes file?","date":"2017-08-06T15:14:09.842Z","type":"message"}
{"nick":"ahrs","message":"tsujp: But it's called 'index' not 'home'. Try replacing 'home' with 'index' then?","date":"2017-08-06T15:14:10.227Z","type":"message"}
{"nick":"tsujp","message":"I need that `module.exports = router` (just updated the gist)","date":"2017-08-06T15:14:10.870Z","type":"message"}
{"nick":"GreenJello","message":"make it its own module?","date":"2017-08-06T15:14:15.074Z","type":"message"}
{"nick":"tsujp","message":"Because it's for Socket.IO","date":"2017-08-06T15:14:20.303Z","type":"message"}
{"nick":"tsujp","message":"I cannot import that socket behavour into each route","date":"2017-08-06T15:14:31.646Z","type":"message"}
{"nick":"tsujp","message":"Only in app.js","date":"2017-08-06T15:14:34.765Z","type":"message"}
{"nick":"tsujp","message":"I've spent the past 5 hours trying to solve this problem","date":"2017-08-06T15:14:41.885Z","type":"message"}
{"nick":"tsujp","message":"0 documentation anywhere for this","date":"2017-08-06T15:14:45.606Z","type":"message"}
{"nick":"chalker_","date":"2017-08-06T15:15:27.223Z","type":"join"}
{"nick":"tkore","reason":"Read error: Connection reset by peer","date":"2017-08-06T15:16:11.658Z","type":"quit"}
{"nick":"jphase","date":"2017-08-06T15:16:28.467Z","type":"quit"}
{"nick":"aljone","message":"Dal1980: yes because i wrote it with mistake but in my real code no mistake i just minimized it for u here","date":"2017-08-06T15:16:46.691Z","type":"message"}
{"nick":"__rgn","message":"tsujp: it might help if you understood how module.exports works","date":"2017-08-06T15:18:09.558Z","type":"message"}
{"nick":"basiclaser","reason":"Quit: Connection closed for inactivity","date":"2017-08-06T15:18:18.612Z","type":"quit"}
{"nick":"__rgn","message":"tsujp: documentation is here https://nodejs.org/api/modules.html","date":"2017-08-06T15:18:34.921Z","type":"message"}
{"nick":"desiph3r","reason":"Remote host closed the connection","date":"2017-08-06T15:18:51.126Z","type":"quit"}
{"nick":"__rgn","message":"https://nodejs.org/api/modules.html#modules_exports_shortcut","date":"2017-08-06T15:19:43.426Z","type":"message"}
{"nick":"mohitsinghal22","date":"2017-08-06T15:20:41.152Z","type":"join"}
{"nick":"mohitsinghal22","reason":"Client Quit","date":"2017-08-06T15:21:06.925Z","type":"quit"}
{"nick":"desiph3r","date":"2017-08-06T15:21:13.441Z","type":"join"}
{"nick":"Dal1980","message":"I don't think I'm the best person to ask aljone. I'd recommend you show the full script as there could be missing pieces to the puzzle. You're referencing functions that are not even in the code","date":"2017-08-06T15:21:31.463Z","type":"message"}
{"nick":"desiph3r","reason":"Remote host closed the connection","date":"2017-08-06T15:21:33.538Z","type":"quit"}
{"nick":"visual","reason":"Quit: (Quit)","date":"2017-08-06T15:21:51.768Z","type":"quit"}
{"nick":"desiph3r","date":"2017-08-06T15:22:08.470Z","type":"join"}
{"nick":"conta","date":"2017-08-06T15:25:50.592Z","type":"join"}
{"nick":"desiph3r","reason":"Ping timeout: 240 seconds","date":"2017-08-06T15:26:10.423Z","type":"quit"}
{"nick":"tsujp","message":"I've read that like 50 times today and I still don't understand how I can import socket.io ONCE in app.js, or some other file and then use that socket.io object in any route I want","date":"2017-08-06T15:26:56.266Z","type":"message"}
{"nick":"tsujp","message":"I got as far as making my own socket_api.js file wihch was just a module.exports, adn that worked perfectly BUT I cannot use any of that functionality in home.js or any route file","date":"2017-08-06T15:27:22.276Z","type":"message"}
{"nick":"tsujp","message":"So it's absolutely useless unless I put all my application routes in app.js which is disgusting","date":"2017-08-06T15:27:35.602Z","type":"message"}
{"nick":"tsujp","message":"There are no answers on stack overflow either","date":"2017-08-06T15:27:52.103Z","type":"message"}
{"nick":"tsujp","message":"I also have 27 chrome windows open right now each with so many tabs you cannot see the X or favicon anymore","date":"2017-08-06T15:28:07.071Z","type":"message"}
{"nick":"ecuanaso","date":"2017-08-06T15:28:47.434Z","type":"join"}
{"nick":"ahrs","message":"tsujp: Usually when there isn't an answer on stackoverflow that just means noone has asked it. You should ask your question and if there's an answer it'll be flagged pretty quickly as a duplicate or someone will help you answer it.","date":"2017-08-06T15:28:59.442Z","type":"message"}
{"nick":"__rgn","message":"tsujp: make a minimal example of what you want to accomplish. without code missing","date":"2017-08-06T15:29:33.708Z","type":"message"}
{"nick":"tsujp","message":"__rgn: will do that now, this example won't work at all","date":"2017-08-06T15:29:59.466Z","type":"message"}
{"nick":"visual","date":"2017-08-06T15:30:20.854Z","type":"join"}
{"nick":"hextileX","date":"2017-08-06T15:30:34.711Z","type":"join"}
{"nick":"visual","reason":"Read error: Connection reset by peer","date":"2017-08-06T15:31:47.329Z","type":"quit"}
{"nick":"visual","date":"2017-08-06T15:32:32.714Z","type":"join"}
{"nick":"xluccas","date":"2017-08-06T15:32:59.907Z","type":"join"}
{"nick":"__rgn","message":"by minimal i mean having as few lines as possible unrelated to the problem. makes it easier to parse for anyone who might be available to help","date":"2017-08-06T15:33:37.458Z","type":"message"}
{"nick":"xluccas","reason":"Client Quit","date":"2017-08-06T15:35:49.749Z","type":"quit"}
{"nick":"tsujp","message":"__rgn: as minimal as possible but still showing context https://gist.github.com/tsujp/f41d94953b305f3041eadd604774944d","date":"2017-08-06T15:36:02.578Z","type":"message"}
{"nick":"skre4","date":"2017-08-06T15:37:22.376Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 246 seconds","date":"2017-08-06T15:37:32.592Z","type":"quit"}
{"nick":"__rgn","message":"it looks like you may want to make home.js \"parametric\" by having it export a function that takes socket_api as an argument","date":"2017-08-06T15:37:49.885Z","type":"message"}
{"nick":"realies","date":"2017-08-06T15:37:50.473Z","type":"join"}
{"nick":"realies","reason":"Changing host","date":"2017-08-06T15:37:50.649Z","type":"quit"}
{"nick":"realies","date":"2017-08-06T15:37:50.649Z","type":"join"}
{"nick":"ecuanaso","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-08-06T15:38:16.641Z","type":"quit"}
{"nick":"plexigras","reason":"Ping timeout: 260 seconds","date":"2017-08-06T15:38:36.655Z","type":"quit"}
{"nick":"tsujp","message":"__rgn: that's what I was trying to do with the .foo thing I first posted, not sure how I can do that without messing up the `module.exports = router`. Any examples?","date":"2017-08-06T15:39:00.593Z","type":"message"}
{"nick":"nodweber","date":"2017-08-06T15:39:10.953Z","type":"join"}
{"nick":"Cabanossi","date":"2017-08-06T15:39:20.304Z","type":"join"}
{"nick":"malademe1tal","reason":"Ping timeout: 260 seconds","date":"2017-08-06T15:39:32.606Z","type":"quit"}
{"nick":"__rgn","message":"you don't export router, you return it","date":"2017-08-06T15:40:03.910Z","type":"message"}
{"nick":"malademe1tal","date":"2017-08-06T15:41:16.891Z","type":"join"}
{"nick":"__rgn","message":"something like this https://gist.github.com/cfa3c5ab44f79833e2edbc76468bd342","date":"2017-08-06T15:41:28.131Z","type":"message"}
{"nick":"tsujp","message":"__rgn: okay let's give it a shot","date":"2017-08-06T15:42:08.040Z","type":"message"}
{"nick":"__rgn","message":"not sure where app.listen should be relative to app.use","date":"2017-08-06T15:42:21.606Z","type":"message"}
{"nick":"conta","reason":"Quit: conta","date":"2017-08-06T15:42:43.206Z","type":"quit"}
{"nick":"hextileX","reason":"Ping timeout: 276 seconds","date":"2017-08-06T15:43:49.694Z","type":"quit"}
{"nick":"kingarmadillo","date":"2017-08-06T15:43:59.321Z","type":"join"}
{"nick":"cveron","date":"2017-08-06T15:44:11.514Z","type":"join"}
{"nick":"n0rp3d","date":"2017-08-06T15:45:08.083Z","type":"join"}
{"nick":"liste","date":"2017-08-06T15:45:13.046Z","type":"join"}
{"nick":"n0rp3d","message":"hey","date":"2017-08-06T15:45:38.681Z","type":"message"}
{"nick":"n0rp3d","message":"any of you guys had the \"nodejs app.js\" thing output nothing?","date":"2017-08-06T15:45:52.751Z","type":"message"}
{"nick":"n0rp3d","message":"the hello world example from the node js site doesnt even output anything","date":"2017-08-06T15:46:08.970Z","type":"message"}
{"nick":"chargen","date":"2017-08-06T15:46:09.893Z","type":"join"}
{"nick":"n0rp3d","message":"console.log doesnt","date":"2017-08-06T15:46:11.117Z","type":"message"}
{"nick":"n0rp3d","message":"--debug just say \"failed to asser error(0) == false\"","date":"2017-08-06T15:46:22.780Z","type":"message"}
{"nick":"n0rp3d","message":"what is this","date":"2017-08-06T15:46:26.265Z","type":"message"}
{"nick":"georoot","date":"2017-08-06T15:48:03.961Z","type":"join"}
{"nick":"tsujp","message":"__rgn: Router.use() requires middleware function but got a undefined","date":"2017-08-06T15:48:59.900Z","type":"message"}
{"nick":"tsujp","message":"__rgn: whoops forgot to return router","date":"2017-08-06T15:49:47.311Z","type":"message"}
{"nick":"georoot","reason":"Client Quit","date":"2017-08-06T15:50:15.106Z","type":"quit"}
{"nick":"delx","reason":"Ping timeout: 260 seconds","date":"2017-08-06T15:51:12.687Z","type":"quit"}
{"nick":"georoot","date":"2017-08-06T15:51:26.166Z","type":"join"}
{"nick":"tsujp","message":"I love you __rgn","date":"2017-08-06T15:51:54.662Z","type":"message"}
{"nick":"tsujp","message":"I suppose the final question is is this the cleanest way to achieve what I want or can I make it easier on myself?","date":"2017-08-06T15:52:16.579Z","type":"message"}
{"nick":"delx","date":"2017-08-06T15:52:21.023Z","type":"join"}
{"nick":"HoierM","date":"2017-08-06T15:53:09.499Z","type":"join"}
{"nick":"chargen","reason":"Quit: BBL","date":"2017-08-06T15:53:38.835Z","type":"quit"}
{"nick":"chargen","date":"2017-08-06T15:54:09.926Z","type":"join"}
{"nick":"wsieroci","date":"2017-08-06T15:54:38.498Z","type":"join"}
{"nick":"n0rp3d","message":"anybody use express .js","date":"2017-08-06T15:57:03.529Z","type":"message"}
{"nick":"n0rp3d","message":"?","date":"2017-08-06T15:57:03.908Z","type":"message"}
{"nick":"chargen","reason":"Client Quit","date":"2017-08-06T15:57:05.294Z","type":"quit"}
{"nick":"RLa","message":"yes","date":"2017-08-06T15:57:17.540Z","type":"message"}
{"nick":"georoot","message":"n0rp3d: yeah","date":"2017-08-06T15:57:20.224Z","type":"message"}
{"nick":"RLa","message":"it's called Express, without .js part","date":"2017-08-06T15:59:26.186Z","type":"message"}
{"nick":"prometh_","date":"2017-08-06T15:59:32.163Z","type":"join"}
{"nick":"prometh_","date":"2017-08-06T15:59:38.107Z","type":"part"}
{"nick":"prometh","date":"2017-08-06T15:59:42.982Z","type":"join"}

{"nick":"mcavage","reason":"Remote host closed the connection","date":"2012-08-30T00:02:42.736Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: news to me.","date":"2012-08-30T00:04:35.980Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, yeah, bug","date":"2012-08-30T00:04:38.708Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: is it because the ipc channel is still open?","date":"2012-08-30T00:05:02.918Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, in that case node shouldn't exit, because the ipc channel isn't unref()ed","date":"2012-08-30T00:05:32.527Z","type":"message"}
{"nick":"piscisaureus_","message":"I think maybeClose() is somehow not called","date":"2012-08-30T00:05:39.610Z","type":"message"}
{"nick":"isaacs","message":"yeah, that sounds like a reasonable hypothesis","date":"2012-08-30T00:06:41.622Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T00:06:50.183Z","type":"quit"}
{"nick":"piscisaureus_","message":"wait, maybe this is windows-specific","date":"2012-08-30T00:09:20.628Z","type":"message"}
{"nick":"piscisaureus_","message":"let's try linux","date":"2012-08-30T00:09:24.186Z","type":"message"}
{"nick":"piscisaureus_","message":"nope, on linux too","date":"2012-08-30T00:12:20.582Z","type":"message"}
{"nick":"loladiro","date":"2012-08-30T00:16:36.068Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: it looks like after a child process exits, it's IPC channel is never cleaned up","date":"2012-08-30T00:20:24.116Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that's a bug","date":"2012-08-30T00:20:39.505Z","type":"message"}
{"nick":"piscisaureus_","message":"oh my","date":"2012-08-30T00:20:47.855Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 265 seconds","date":"2012-08-30T00:21:02.241Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T00:27:34.677Z","type":"quit"}
{"nick":"loladiro","date":"2012-08-30T00:35:29.318Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-08-30T00:37:00.738Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 244 seconds","date":"2012-08-30T00:38:49.307Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-30T00:39:53.084Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: aha; setupChannel overwrites the handle.onread data callack so data/closes/eofs are never emitted on the socket object","date":"2012-08-30T00:43:02.762Z","type":"message"}
{"nick":"loladiro","date":"2012-08-30T00:45:23.922Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-08-30T00:48:05.372Z","type":"quit"}
{"nick":"erickt","date":"2012-08-30T00:56:31.309Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-08-30T00:58:20.851Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 272 seconds","date":"2012-08-30T01:09:21.335Z","type":"quit"}
{"nick":"CIA-131","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002191b4d4\u000f \u000310\u000f/ lib/child_process.js \u0002:\u000f child process: fix processes with IPC channel don't emit 'close' - http://git.io/4SqMAw","date":"2012-08-30T01:26:25.331Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- isaacs: bnoordhuis: opinions?","date":"2012-08-30T01:26:29.578Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-08-30T01:31:10.489Z","type":"quit"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-08-30T01:37:14.124Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-08-30T01:37:40.392Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-08-30T01:39:40.703Z","type":"quit"}
{"nick":"lohkey","reason":"Quit: WeeChat 0.3.8","date":"2012-08-30T01:54:28.878Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-08-30T01:57:26.704Z","type":"quit"}
{"nick":"erickt","date":"2012-08-30T02:05:00.476Z","type":"join"}
{"nick":"pooya","date":"2012-08-30T02:32:21.357Z","type":"join"}
{"nick":"brson_","reason":"Ping timeout: 256 seconds","date":"2012-08-30T02:50:18.515Z","type":"quit"}
{"nick":"avalanche123","date":"2012-08-30T03:17:29.384Z","type":"join"}
{"nick":"indexzero","date":"2012-08-30T03:38:58.629Z","type":"join"}
{"nick":"c4milo","date":"2012-08-30T03:39:52.079Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-30T04:03:57.372Z","type":"quit"}
{"nick":"dshaw_","date":"2012-08-30T04:12:08.412Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-08-30T05:04:31.676Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-08-30T05:04:37.415Z","type":"quit"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-08-30T05:22:30.091Z","type":"quit"}
{"nick":"avalanche123","date":"2012-08-30T05:42:11.624Z","type":"join"}
{"nick":"ibobrik","date":"2012-08-30T05:42:19.854Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-30T05:52:36.037Z","type":"quit"}
{"nick":"ibobrik","reason":"Quit: ibobrik","date":"2012-08-30T05:56:30.495Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T05:58:18.310Z","type":"quit"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-08-30T06:11:50.942Z","type":"quit"}
{"nick":"TheJH","date":"2012-08-30T06:23:09.040Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-08-30T06:27:21.639Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-08-30T06:30:32.510Z","type":"join"}
{"nick":"ibobrik","date":"2012-08-30T06:33:52.064Z","type":"join"}
{"nick":"`3rdEden","date":"2012-08-30T07:29:00.368Z","type":"join"}
{"nick":"paddybyers","date":"2012-08-30T07:42:33.367Z","type":"join"}
{"nick":"rendar","date":"2012-08-30T07:47:04.603Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-30T07:54:36.565Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-30T07:57:31.901Z","type":"quit"}
{"nick":"hz","date":"2012-08-30T08:00:29.308Z","type":"join"}
{"nick":"loladiro","date":"2012-08-30T08:32:07.365Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-08-30T08:32:23.630Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-30T08:32:50.243Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-08-30T08:35:22.330Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 244 seconds","date":"2012-08-30T08:44:29.328Z","type":"quit"}
{"nick":"creationix","reason":"Read error: Operation timed out","date":"2012-08-30T08:50:09.809Z","type":"quit"}
{"nick":"mmalecki","date":"2012-08-30T08:58:12.980Z","type":"join"}
{"nick":"tjfontaine","reason":"Ping timeout: 240 seconds","date":"2012-08-30T09:10:47.037Z","type":"quit"}
{"nick":"russfrank","reason":"Ping timeout: 240 seconds","date":"2012-08-30T09:10:47.276Z","type":"quit"}
{"nick":"russfrank","date":"2012-08-30T09:11:23.497Z","type":"join"}
{"nick":"tjfontaine","date":"2012-08-30T09:11:33.409Z","type":"join"}
{"nick":"tjfontaine","new_nick":"Guest96921","date":"2012-08-30T09:11:58.648Z","type":"nick"}
{"nick":"indutny","message":"hoia","date":"2012-08-30T09:40:39.602Z","type":"message"}
{"nick":"creationix","date":"2012-08-30T09:45:22.005Z","type":"join"}
{"nick":"AvianFlu","date":"2012-08-30T09:46:29.576Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-08-30T09:48:12.081Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[meeting","date":"2012-08-30T09:59:19.869Z","type":"nick"}
{"nick":"TheJH","reason":"Ping timeout: 244 seconds","date":"2012-08-30T10:09:42.598Z","type":"quit"}
{"nick":"rendar","date":"2012-08-30T10:17:24.485Z","type":"quit"}
{"nick":"rendar","date":"2012-08-30T10:24:26.016Z","type":"join"}
{"nick":"mikeal","date":"2012-08-30T10:38:04.665Z","type":"join"}
{"nick":"mmalecki[meeting","new_nick":"mmalecki","date":"2012-08-30T10:48:28.250Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-08-30T10:52:31.022Z","type":"quit"}
{"nick":"mikeal","date":"2012-08-30T10:55:06.688Z","type":"join"}
{"nick":"paddybyers","date":"2012-08-30T11:03:11.027Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-08-30T11:05:49.895Z","type":"quit"}
{"nick":"TheJH","date":"2012-08-30T11:22:51.447Z","type":"join"}
{"nick":"rvagg","reason":"Ping timeout: 250 seconds","date":"2012-08-30T11:24:34.652Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-08-30T11:38:26.457Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-08-30T11:47:38.782Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-08-30T11:48:17.590Z","type":"join"}
{"nick":"loladiro","date":"2012-08-30T11:48:38.353Z","type":"join"}
{"nick":"`3rdEden","date":"2012-08-30T11:48:40.353Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-08-30T11:56:32.946Z","type":"quit"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.88-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2012-08-30T12:05:11.916Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T12:08:47.572Z","type":"quit"}
{"nick":"rvagg","date":"2012-08-30T12:28:01.426Z","type":"join"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/commit/3c5b8c0 <- review? https: don't clobber user options in .request()","date":"2012-08-30T12:35:05.929Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: +1","date":"2012-08-30T12:36:59.433Z","type":"message"}
{"nick":"mmalecki","new_nick":"mmalecki[busy]","date":"2012-08-30T12:38:47.402Z","type":"nick"}
{"nick":"loladiro","date":"2012-08-30T12:41:19.394Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-08-30T12:42:14.482Z","type":"quit"}
{"nick":"bnoordhuis","message":"hm, it's happening in more than one place","date":"2012-08-30T12:43:13.513Z","type":"message"}
{"nick":"bnoordhuis","message":"god... http/https is such a godawful mess","date":"2012-08-30T12:47:20.828Z","type":"message"}
{"nick":"saghul","new_nick":"saghul[away]","date":"2012-08-30T12:52:23.054Z","type":"nick"}
{"nick":"piscisaureus_","date":"2012-08-30T12:53:08.468Z","type":"join"}
{"nick":"piscisaureus_","message":"hey bnoordhuis","date":"2012-08-30T12:53:15.369Z","type":"message"}
{"nick":"piscisaureus_","message":"no 020 today?","date":"2012-08-30T12:53:19.920Z","type":"message"}
{"nick":"bnoordhuis","message":"ho piscisaureus_","date":"2012-08-30T12:53:24.877Z","type":"message"}
{"nick":"piscisaureus_","message":"also, https://github.com/joyent/node/issues/3946 <-- what's not clear about that?","date":"2012-08-30T12:53:28.954Z","type":"message"}
{"nick":"bnoordhuis","message":"no. mees is a little sick","date":"2012-08-30T12:53:33.085Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh, i though they never did in cluster workers","date":"2012-08-30T12:54:09.109Z","type":"message"}
{"nick":"bnoordhuis","message":"*thought","date":"2012-08-30T12:54:12.580Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-08-30T12:54:18.947Z","type":"message"}
{"nick":"deoxxa","message":"bnoordhuis: jar jar ben","date":"2012-08-30T12:54:19.189Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: so does your patch work?","date":"2012-08-30T12:55:20.652Z","type":"message"}
{"nick":"piscisaureus_","message":"that would be \"mees a little sick is\"","date":"2012-08-30T12:55:22.554Z","type":"message"}
{"nick":"bnoordhuis","message":"isn't that more yoda's style?","date":"2012-08-30T12:55:40.004Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah, but it's quite an awful hack. also it changes","date":"2012-08-30T12:55:42.625Z","type":"message"}
{"nick":"piscisaureus_","message":"cp = spawn('node bla.js', ['pipe', 'pipe', 'pipe', 'ipc'])","date":"2012-08-30T12:56:05.663Z","type":"message"}
{"nick":"piscisaureus_","message":"cp.stdio[3] == the ipc socket","date":"2012-08-30T12:56:05.902Z","type":"message"}
{"nick":"bnoordhuis","message":"it changes what? everything?","date":"2012-08-30T12:56:05.902Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2012-08-30T12:56:11.611Z","type":"message"}
{"nick":"piscisaureus_","message":"but after my patch it's null","date":"2012-08-30T12:56:12.229Z","type":"message"}
{"nick":"piscisaureus_","message":"not that it matters","date":"2012-08-30T12:56:16.101Z","type":"message"}
{"nick":"piscisaureus_","message":"since the socket effectively doesn't work","date":"2012-08-30T12:56:23.075Z","type":"message"}
{"nick":"piscisaureus_","message":"because setupChannel overwrites the callbacks on the PipeWrap","date":"2012-08-30T12:56:35.401Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. it sets onread to it's own little thinbg","date":"2012-08-30T12:56:45.248Z","type":"message"}
{"nick":"piscisaureus_","message":"so you'd never get 'data', 'end', 'close'","date":"2012-08-30T12:56:55.513Z","type":"message"}
{"nick":"bnoordhuis","message":"so why does it do that?","date":"2012-08-30T12:57:04.946Z","type":"message"}
{"nick":"piscisaureus_","message":"ehm","date":"2012-08-30T12:57:12.397Z","type":"message"}
{"nick":"piscisaureus_","message":"you tell me","date":"2012-08-30T12:57:16.337Z","type":"message"}
{"nick":"bnoordhuis","message":"i wrote that?","date":"2012-08-30T12:57:30.145Z","type":"message"}
{"nick":"bnoordhuis","message":"ah no, it was that one guy","date":"2012-08-30T12:57:44.786Z","type":"message"}
{"nick":"bnoordhuis","message":"what's his name","date":"2012-08-30T12:57:52.849Z","type":"message"}
{"nick":"piscisaureus_","message":"ehm, I think the guy with the glasses and the beard and the skunky pants did","date":"2012-08-30T12:57:56.233Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't think it matters that much tho, I mean it would allow you to snoop into the wire protocol","date":"2012-08-30T12:58:54.807Z","type":"message"}
{"nick":"bnoordhuis","message":"isn't it better to, like, _not_ override onread?","date":"2012-08-30T12:58:55.481Z","type":"message"}
{"nick":"piscisaureus_","message":"well, yeah","date":"2012-08-30T12:59:09.265Z","type":"message"}
{"nick":"piscisaureus_","message":"but it makes for a lot of work :-)","date":"2012-08-30T12:59:23.894Z","type":"message"}
{"nick":"bnoordhuis","message":"that's why we have interns","date":"2012-08-30T12:59:38.184Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: ^","date":"2012-08-30T12:59:47.254Z","type":"message"}
{"nick":"piscisaureus_","message":"A correct separation would be to to implement a net.Socket type that supports write2 (with a handle)\u0003","date":"2012-08-30T13:00:09.929Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that sounds reasonable","date":"2012-08-30T13:00:21.735Z","type":"message"}
{"nick":"piscisaureus_","message":"also, i've been complaining about this before","date":"2012-08-30T13:01:14.863Z","type":"message"}
{"nick":"piscisaureus_","message":"Creating an ipc pipe shouldn't automatically parse these messages","date":"2012-08-30T13:01:38.031Z","type":"message"}
{"nick":"piscisaureus_","message":"it should just create a socket that supports write2 :-)","date":"2012-08-30T13:01:49.874Z","type":"message"}
{"nick":"bnoordhuis","message":"i can live with that","date":"2012-08-30T13:02:08.397Z","type":"message"}
{"nick":"bnoordhuis","message":"now make it so","date":"2012-08-30T13:02:10.301Z","type":"message"}
{"nick":"piscisaureus_","message":"anyway, we can't do this in node 0.7","date":"2012-08-30T13:02:13.417Z","type":"message"}
{"nick":"piscisaureus_","message":"*0.8","date":"2012-08-30T13:02:16.127Z","type":"message"}
{"nick":"piscisaureus_","message":"so that's why we should just land my patch","date":"2012-08-30T13:02:28.580Z","type":"message"}
{"nick":"piscisaureus_","message":"I will add a test","date":"2012-08-30T13:02:32.343Z","type":"message"}
{"nick":"bnoordhuis","message":"are people actually complaining about it?","date":"2012-08-30T13:02:38.813Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-08-30T13:02:46.705Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, I am - as a node user","date":"2012-08-30T13:02:53.774Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, but you don't count","date":"2012-08-30T13:03:02.820Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I wrote this mini module for c9 use: https://github.com/piscisaureus/child-process-close","date":"2012-08-30T13:03:12.510Z","type":"message"}
{"nick":"bnoordhuis","message":"no offense btw :)","date":"2012-08-30T13:03:19.708Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i saw the email","date":"2012-08-30T13:03:32.147Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so I run the tests... v0.8 doesn't behave like 0.8","date":"2012-08-30T13:03:33.736Z","type":"message"}
{"nick":"piscisaureus_","message":"only 0.6 does :-)","date":"2012-08-30T13:03:41.955Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, land the patch if you think it works","date":"2012-08-30T13:04:15.794Z","type":"message"}
{"nick":"piscisaureus_","message":"I will add a test","date":"2012-08-30T13:04:23.020Z","type":"message"}
{"nick":"bnoordhuis","message":"good","date":"2012-08-30T13:04:27.874Z","type":"message"}
{"nick":"abraxas","date":"2012-08-30T13:06:32.615Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 260 seconds","date":"2012-08-30T13:11:09.354Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T13:11:41.092Z","type":"quit"}
{"nick":"creationix","message":"hmm, can't seem to build v0.6.21 on linux","date":"2012-08-30T13:16:09.282Z","type":"message"}
{"nick":"creationix","message":"../src/node_zlib.cc:29:18: fatal error: zlib.h: No such file or directory","date":"2012-08-30T13:16:11.980Z","type":"message"}
{"nick":"creationix","message":"we don't depend on system zlib do we","date":"2012-08-30T13:16:22.837Z","type":"message"}
{"nick":"creationix","message":"(my only custom options were a custom prefix and disabling ssl)","date":"2012-08-30T13:16:31.788Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: we do on 0.6 I think","date":"2012-08-30T13:17:18.015Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: you could try the gyp build :-)","date":"2012-08-30T13:17:44.365Z","type":"message"}
{"nick":"creationix","message":"oh right, this is 0.6","date":"2012-08-30T13:17:56.344Z","type":"message"}
{"nick":"piscisaureus_","message":"we have to move over","date":"2012-08-30T13:18:03.605Z","type":"message"}
{"nick":"creationix","message":"ok, installing zlib1g-dev helped, now I get another error","date":"2012-08-30T13:18:16.024Z","type":"message"}
{"nick":"creationix","message":"agreed, then I won't need to build 0.6 anymore :)","date":"2012-08-30T13:18:26.228Z","type":"message"}
{"nick":"piscisaureus_","message":"\"hard disk empty\" ?","date":"2012-08-30T13:18:30.920Z","type":"message"}
{"nick":"creationix","message":"/home/tim/nvm/src/node-v0.6.21/out/../src/platform_linux.cc:303: undefined reference to `clock_gettime'","date":"2012-08-30T13:19:01.192Z","type":"message"}
{"nick":"piscisaureus_","message":"hmmm","date":"2012-08-30T13:19:13.181Z","type":"message"}
{"nick":"piscisaureus_","message":"that's odd","date":"2012-08-30T13:19:14.386Z","type":"message"}
{"nick":"creationix","message":"also complaining about dlerror, dlsym, and dlopen, and dlclose","date":"2012-08-30T13:19:24.988Z","type":"message"}
{"nick":"creationix","message":"this is a fresh ubuntu 12.04 instance with build-essential installed","date":"2012-08-30T13:19:38.978Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: is that in the linking phase or the compiling phase?","date":"2012-08-30T13:19:39.602Z","type":"message"}
{"nick":"creationix","message":"linking","date":"2012-08-30T13:19:49.187Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-08-30T13:19:52.139Z","type":"message"}
{"nick":"piscisaureus_","message":"it should link with -lrt -lm -ldl","date":"2012-08-30T13:20:02.983Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe you need to reconfigure","date":"2012-08-30T13:20:14.080Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-08-30T13:20:25.469Z","type":"message"}
{"nick":"creationix","message":"ok, did `make clean` and am starting over","date":"2012-08-30T13:20:32.430Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: ./configure not complain that \"rt\" and \"dl\" were not found?","date":"2012-08-30T13:20:52.801Z","type":"message"}
{"nick":"piscisaureus_","message":"insert \"did\"","date":"2012-08-30T13:21:01.454Z","type":"message"}
{"nick":"creationix","message":"not that I noticed","date":"2012-08-30T13:21:18.970Z","type":"message"}
{"nick":"creationix","message":"after starting over it worked","date":"2012-08-30T13:21:24.741Z","type":"message"}
{"nick":"creationix","message":"I guess I need to start clean after installing zlib","date":"2012-08-30T13:21:32.585Z","type":"message"}
{"nick":"creationix","message":"not sure how that affects the -lrt and -ldl flags though","date":"2012-08-30T13:21:53.856Z","type":"message"}
{"nick":"piscisaureus_","message":"I have no clue","date":"2012-08-30T13:22:02.055Z","type":"message"}
{"nick":"creationix","message":"is 0.6.21 not released yet?","date":"2012-08-30T13:22:27.415Z","type":"message"}
{"nick":"creationix","message":"I get \"v0.6.21-pre\" for `node -v`","date":"2012-08-30T13:22:42.629Z","type":"message"}
{"nick":"creationix","message":"I installed from the tarball on nodejs.org","date":"2012-08-30T13:22:50.493Z","type":"message"}
{"nick":"mmalecki[busy]","message":"creationix: yeah, that's a known problem, it's 0.6.21","date":"2012-08-30T13:23:28.590Z","type":"message"}
{"nick":"mmalecki[busy]","message":"version didn't get bumped correctly","date":"2012-08-30T13:23:35.155Z","type":"message"}
{"nick":"creationix","message":"doesn't seem to affect c9.io, yay","date":"2012-08-30T13:24:00.671Z","type":"message"}
{"nick":"voodootikigod","date":"2012-08-30T13:28:59.496Z","type":"join"}
{"nick":"loladiro","date":"2012-08-30T13:38:19.084Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-08-30T13:38:20.378Z","type":"quit"}
{"nick":"saghul[away]","new_nick":"saghul","date":"2012-08-30T13:49:12.141Z","type":"nick"}
{"nick":"loladiro","date":"2012-08-30T13:51:07.372Z","type":"join"}
{"nick":"piscisaureus_","message":"it used to affect c9.io","date":"2012-08-30T14:02:22.337Z","type":"message"}
{"nick":"piscisaureus_","message":"but the proxies are also running a -pre version so that got fixed quickly","date":"2012-08-30T14:02:35.571Z","type":"message"}
{"nick":"mmalecki[busy]","message":"piscisaureus_: you guys are still running 0.6 in production?","date":"2012-08-30T14:03:49.042Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki[busy]: you're busy","date":"2012-08-30T14:04:00.917Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, we are","date":"2012-08-30T14:04:11.904Z","type":"message"}
{"nick":"mmalecki[busy]","message":"piscisaureus_: I was going on a break anyway ;)","date":"2012-08-30T14:04:20.043Z","type":"message"}
{"nick":"mmalecki[busy]","message":"anyway, sorry to hear that, 0.8 gave our proxies a real speed up","date":"2012-08-30T14:04:51.138Z","type":"message"}
{"nick":"piscisaureus_","message":"it would be nice if \"make test\" could run on multiple cores","date":"2012-08-30T14:04:55.382Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki[busy]: yeah, I'm pushing","date":"2012-08-30T14:05:12.934Z","type":"message"}
{"nick":"piscisaureus_","message":"first creationix needs to make vfs work with 0.8","date":"2012-08-30T14:05:22.997Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki[busy]: so it made your proxies faster? I heard that voxer had these infamous \"mountains of sadness\"","date":"2012-08-30T14:07:59.180Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T14:08:55.948Z","type":"quit"}
{"nick":"mmalecki[busy]","message":"piscisaureus_: interesing. we went down from ~12 ms of roundtrip to ~8 ms of roundtrip, at average","date":"2012-08-30T14:09:12.429Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki[busy]: well, that's good to know","date":"2012-08-30T14:09:28.973Z","type":"message"}
{"nick":"piscisaureus_","message":"since we are using your proxy :-)","date":"2012-08-30T14:09:37.356Z","type":"message"}
{"nick":"mmalecki[busy]","message":"yup :)","date":"2012-08-30T14:09:43.638Z","type":"message"}
{"nick":"mmalecki[busy]","message":"piscisaureus_: how were they using it?","date":"2012-08-30T14:10:05.728Z","type":"message"}
{"nick":"mmalecki[busy]","message":"also, node-http-proxy or not?","date":"2012-08-30T14:10:16.187Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki[busy]: oh - I don't think was about the proxy","date":"2012-08-30T14:10:20.776Z","type":"message"}
{"nick":"piscisaureus_","message":"it was just 0.8 in general","date":"2012-08-30T14:10:28.618Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, the proxy is only a small part of our infrastructure","date":"2012-08-30T14:10:40.115Z","type":"message"}
{"nick":"piscisaureus_","message":"if the IDEs start crashing then having a fast proxy isn't really that important :-)","date":"2012-08-30T14:10:58.561Z","type":"message"}
{"nick":"mmalecki[busy]","message":"haha, yeah, agreed","date":"2012-08-30T14:11:08.488Z","type":"message"}
{"nick":"piscisaureus_","message":"why is test-crypto-dh so terribly slow","date":"2012-08-30T14:11:34.590Z","type":"message"}
{"nick":"piscisaureus_","message":"not to mention test-dh-regr","date":"2012-08-30T14:11:48.232Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis: final.","date":"2012-08-30T14:14:48.364Z","type":"message"}
{"nick":"CIA-131","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002b0d2795\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f child process: fix processes with IPC channel don't emit 'close' - http://git.io/wdHMkQ","date":"2012-08-30T14:14:49.022Z","type":"message"}
{"nick":"piscisaureus_","message":"passes all tests (except 3 known-failures)","date":"2012-08-30T14:14:59.309Z","type":"message"}
{"nick":"`3rdEden","reason":"Read error: Connection reset by peer","date":"2012-08-30T14:16:34.904Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-30T14:18:06.345Z","type":"join"}
{"nick":"CIA-131","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.8\u000f * r\u0002b0d2795\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f child process: fix processes with IPC channel don't emit 'close' - http://git.io/wdHMkQ","date":"2012-08-30T14:21:25.658Z","type":"message"}
{"nick":"mcavage","date":"2012-08-30T14:21:37.797Z","type":"join"}
{"nick":"`3rdEden","reason":"Read error: Connection reset by peer","date":"2012-08-30T14:24:50.873Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-30T14:25:23.531Z","type":"join"}
{"nick":"paddybyers","date":"2012-08-30T14:33:15.342Z","type":"join"}
{"nick":"indexzero","date":"2012-08-30T14:54:17.662Z","type":"join"}
{"nick":"sj26","reason":"Quit: Rainbows!","date":"2012-08-30T14:59:26.205Z","type":"quit"}
{"nick":"sj26","date":"2012-08-30T15:01:26.339Z","type":"join"}
{"nick":"c4milo","date":"2012-08-30T15:22:33.850Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E|Cooking","date":"2012-08-30T15:26:22.260Z","type":"nick"}
{"nick":"CIA-131","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.8\u000f * r\u000224c062c\u000f \u000310\u000f/ src/win/tcp.c \u0002:\u000f windows: fix memory corruption when closing shared server sockets - http://git.io/sTd5og","date":"2012-08-30T15:26:45.326Z","type":"message"}
{"nick":"CIA-131","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000224c062c\u000f \u000310\u000f/ src/win/tcp.c \u0002:\u000f windows: fix memory corruption when closing shared server sockets - http://git.io/sTd5og","date":"2012-08-30T15:27:13.907Z","type":"message"}
{"nick":"CIA-131","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00025eb1d19\u000f \u000310\u000f/ src/win/tcp.c \u0002:\u000f Merge branch 'v0.8' - http://git.io/layeSg","date":"2012-08-30T15:27:14.146Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-30T15:29:05.283Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#637 (v0.8 - 24c062c : Bert Belder): The build was fixed.","date":"2012-08-30T15:29:05.529Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/ad7b48aeec39...24c062cc3e70","date":"2012-08-30T15:29:05.529Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2284854","date":"2012-08-30T15:29:05.529Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-30T15:29:05.529Z","type":"part"}
{"nick":"travis-ci","date":"2012-08-30T15:29:25.227Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#638 (master - 5eb1d19 : Bert Belder): The build passed.","date":"2012-08-30T15:29:25.469Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/a75e10504f4e...5eb1d191cce1","date":"2012-08-30T15:29:25.469Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2284856","date":"2012-08-30T15:29:25.470Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-30T15:29:25.470Z","type":"part"}
{"nick":"CIA-131","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.8\u000f * r\u00029603f08\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f uv: upgrade to 24c062c - http://git.io/19DB-A","date":"2012-08-30T15:29:41.096Z","type":"message"}
{"nick":"`3rdEden","date":"2012-08-30T15:30:39.339Z","type":"join"}
{"nick":"CIA-131","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002ed10340\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f uv: upgrade to 5eb1d19 - http://git.io/p8LB7g","date":"2012-08-30T15:31:29.603Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-08-30T15:31:32.432Z","type":"quit"}
{"nick":"hz","date":"2012-08-30T15:32:03.263Z","type":"join"}
{"nick":"piscisaureus_","message":"installing ubuntu on a chromebook","date":"2012-08-30T15:33:24.269Z","type":"message"}
{"nick":"tellnes","reason":"*.net *.split","date":"2012-08-30T15:37:40.991Z","type":"quit"}
{"nick":"tellnes","date":"2012-08-30T15:41:24.202Z","type":"join"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2012-08-30T15:48:16.915Z","type":"quit"}
{"nick":"erickt","date":"2012-08-30T15:48:26.082Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-30T15:49:57.341Z","type":"quit"}
{"nick":"saghul","message":"piscisaureus_ how does one of those feel?","date":"2012-08-30T15:59:24.476Z","type":"message"}
{"nick":"piscisaureus_","message":"well","date":"2012-08-30T16:00:18.642Z","type":"message"}
{"nick":"piscisaureus_","message":"you mean, when using chromeos or when using ubuntu","date":"2012-08-30T16:00:31.790Z","type":"message"}
{"nick":"piscisaureus_","message":"I have 2 here","date":"2012-08-30T16:00:36.215Z","type":"message"}
{"nick":"saghul","message":"the device itself","date":"2012-08-30T16:00:37.553Z","type":"message"}
{"nick":"piscisaureus_","message":"first is a prototype","date":"2012-08-30T16:00:41.079Z","type":"message"}
{"nick":"piscisaureus_","message":"it sucks","date":"2012-08-30T16:00:42.273Z","type":"message"}
{"nick":"piscisaureus_","message":"very slow","date":"2012-08-30T16:00:44.592Z","type":"message"}
{"nick":"piscisaureus_","message":"the other one is actually okay - although a macbook is much nicer","date":"2012-08-30T16:01:03.351Z","type":"message"}
{"nick":"piscisaureus_","message":"the screen isn't too good and he trackpad is much worse","date":"2012-08-30T16:01:20.088Z","type":"message"}
{"nick":"saghul","message":"you got the Acer or the Samsung?","date":"2012-08-30T16:01:30.710Z","type":"message"}
{"nick":"piscisaureus_","message":"this one is the samsung 550","date":"2012-08-30T16:01:41.160Z","type":"message"}
{"nick":"piscisaureus_","message":"I still would not recommend buying one","date":"2012-08-30T16:01:57.577Z","type":"message"}
{"nick":"saghul","message":"when they came out, just by looking at the pictures they felt too thick and too plastic-ish","date":"2012-08-30T16:02:18.287Z","type":"message"}
{"nick":"piscisaureus_","message":"this one is als very plasticky","date":"2012-08-30T16:02:37.345Z","type":"message"}
{"nick":"piscisaureus_","message":"but srsly if you have been staring at a retina screen all day then this thing gives you eye cancer on the spot","date":"2012-08-30T16:03:09.980Z","type":"message"}
{"nick":"loladiro","date":"2012-08-30T16:03:22.558Z","type":"join"}
{"nick":"Guest96921","message":"heh","date":"2012-08-30T16:03:27.606Z","type":"message"}
{"nick":"Guest96921","message":"oh damnit","date":"2012-08-30T16:03:37.366Z","type":"message"}
{"nick":"Guest96921","new_nick":"tjfontaine","date":"2012-08-30T16:03:43.346Z","type":"nick"}
{"nick":"piscisaureus_","message":"also, why does ubuntu make all fonts 1000 pt ?","date":"2012-08-30T16:04:08.284Z","type":"message"}
{"nick":"saghul","message":"good question, we had so much trouble tweaking the UI in our Qt app because Ubuntu adds like 1cm padding everywhere","date":"2012-08-30T16:04:59.686Z","type":"message"}
{"nick":"saghul","message":"everything feels big there","date":"2012-08-30T16:05:13.122Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-08-30T16:06:07.658Z","type":"quit"}
{"nick":"hz","date":"2012-08-30T16:06:49.305Z","type":"join"}
{"nick":"piscisaureus_","message":"yeah, super annoying","date":"2012-08-30T16:06:56.835Z","type":"message"}
{"nick":"piscisaureus_","message":"I wonder if the ubuntu devs just don't realize, or if there's some sort of stockholm syndrome going on","date":"2012-08-30T16:07:44.185Z","type":"message"}
{"nick":"bnoordhuis","message":"https.globalAgent, my old enemy, we meet again...","date":"2012-08-30T16:13:29.655Z","type":"message"}
{"nick":"tjfontaine","message":"I know isaacs was threatening http refactor, is that post .10 now?","date":"2012-08-30T16:14:17.060Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know","date":"2012-08-30T16:14:33.102Z","type":"message"}
{"nick":"bnoordhuis","message":"some spring cleanup is in order though","date":"2012-08-30T16:14:38.534Z","type":"message"}
{"nick":"piscisaureus_","message":"he's right tho","date":"2012-08-30T16:14:55.666Z","type":"message"}
{"nick":"piscisaureus_","message":"we haven't even started","date":"2012-08-30T16:15:00.698Z","type":"message"}
{"nick":"bnoordhuis","message":"i'd start by splitting up the server and the client","date":"2012-08-30T16:15:13.774Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, +1","date":"2012-08-30T16:15:30.341Z","type":"message"}
{"nick":"dap","date":"2012-08-30T16:17:36.332Z","type":"join"}
{"nick":"tjfontaine","message":"I thought about tweaking js2c so that way you could drop things into a subdir to split up the code but not adding additional modules","date":"2012-08-30T16:18:31.077Z","type":"message"}
{"nick":"piscisaureus_","message":"hmmm this model has only 2gb","date":"2012-08-30T16:18:36.061Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: the question is, is it worth it :-)","date":"2012-08-30T16:18:55.436Z","type":"message"}
{"nick":"tjfontaine","message":"yes, indeed that is the question :)","date":"2012-08-30T16:19:05.064Z","type":"message"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-30T16:19:07.944Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: I would start by just splitting it up into require('_http_server') and '_http_client'","date":"2012-08-30T16:19:20.370Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2012-08-30T16:19:42.076Z","type":"message"}
{"nick":"philips_","date":"2012-08-30T16:22:21.188Z","type":"join"}
{"nick":"ibobrik","reason":"Quit: ibobrik","date":"2012-08-30T16:24:25.483Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T16:27:12.638Z","type":"quit"}
{"nick":"avalanche123","date":"2012-08-30T16:30:00.349Z","type":"join"}
{"nick":"`3E|Cooking","reason":"Quit: Leaving...","date":"2012-08-30T16:33:06.973Z","type":"quit"}
{"nick":"pooya","date":"2012-08-30T16:34:08.757Z","type":"join"}
{"nick":"mcavage","date":"2012-08-30T16:36:44.179Z","type":"join"}
{"nick":"piscisaureus_","message":"ok, I'm gone","date":"2012-08-30T16:41:30.119Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-30T16:41:55.647Z","type":"quit"}
{"nick":"indutny","message":"battle robot activated","date":"2012-08-30T16:48:24.379Z","type":"message"}
{"nick":"creationix","message":"did we ever plan any libuv changes for the new readable stream API?","date":"2012-08-30T16:49:16.539Z","type":"message"}
{"nick":"creationix","message":"the current API mirrors the old node stream api","date":"2012-08-30T16:49:33.318Z","type":"message"}
{"nick":"creationix","message":"read_start, read_stop, on_data, etc..","date":"2012-08-30T16:49:57.717Z","type":"message"}
{"nick":"dshaw_","date":"2012-08-30T16:51:10.720Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-08-30T17:00:03.363Z","type":"quit"}
{"nick":"ibobrik","date":"2012-08-30T17:04:12.313Z","type":"join"}
{"nick":"TooTallNate","date":"2012-08-30T17:04:38.748Z","type":"join"}
{"nick":"indutny","message":"mjr_: hey","date":"2012-08-30T17:19:44.721Z","type":"message"}
{"nick":"indutny","message":"mjr_: have you deployed that patch?","date":"2012-08-30T17:19:50.704Z","type":"message"}
{"nick":"`3rdEden","reason":"Ping timeout: 264 seconds","date":"2012-08-30T17:29:14.334Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-08-30T17:30:20.238Z","type":"join"}
{"nick":"brson","date":"2012-08-30T17:51:10.768Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-30T17:59:29.147Z","type":"quit"}
{"nick":"tomshreds","date":"2012-08-30T18:07:01.376Z","type":"join"}
{"nick":"mjr_","message":"indutny: we did, but it didn't seem like it was working correctly.  More testing ntoday.","date":"2012-08-30T18:07:18.374Z","type":"message"}
{"nick":"indutny","message":"mjr_: ok","date":"2012-08-30T18:08:14.216Z","type":"message"}
{"nick":"indutny","message":"sa","date":"2012-08-30T18:09:59.320Z","type":"message"}
{"nick":"indutny","message":"sad*","date":"2012-08-30T18:10:00.870Z","type":"message"}
{"nick":"CIA-131","date":"2012-08-30T18:11:04.468Z","type":"quit"}
{"nick":"lohkey","date":"2012-08-30T18:11:45.989Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-08-30T18:12:17.874Z","type":"quit"}
{"nick":"brson","date":"2012-08-30T18:12:37.329Z","type":"join"}
{"nick":"mjr_","message":"Seemed like maybe the clients weren't trying to resume after all.  We'll figure it out.","date":"2012-08-30T18:13:00.659Z","type":"message"}
{"nick":"joshthecoder","date":"2012-08-30T18:15:49.302Z","type":"join"}
{"nick":"CIA-122","date":"2012-08-30T18:17:57.191Z","type":"join"}
{"nick":"indutny","message":"mjr_: haha","date":"2012-08-30T18:25:41.283Z","type":"message"}
{"nick":"indutny","message":"mjr_: that's what I was really afraid of","date":"2012-08-30T18:25:44.526Z","type":"message"}
{"nick":"indutny","message":"many clients are using tls client-side sessions","date":"2012-08-30T18:25:54.367Z","type":"message"}
{"nick":"indutny","message":"probably we don't need this patch at all","date":"2012-08-30T18:26:12.498Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: sorry","date":"2012-08-30T18:26:13.895Z","type":"message"}
{"nick":"indutny","message":"still don't know","date":"2012-08-30T18:26:19.822Z","type":"message"}
{"nick":"indutny","message":"the only good thing about this patch - is that it allows us to parse tls hello","date":"2012-08-30T18:26:36.167Z","type":"message"}
{"nick":"indutny","message":"before starting connection","date":"2012-08-30T18:26:39.876Z","type":"message"}
{"nick":"indutny","message":"this means async sni and npn callbacks","date":"2012-08-30T18:26:46.197Z","type":"message"}
{"nick":"indexzero","date":"2012-08-30T18:28:11.992Z","type":"join"}
{"nick":"CoverSlide","date":"2012-08-30T18:39:34.356Z","type":"join"}
{"nick":"indexzero_","date":"2012-08-30T18:44:18.493Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 252 seconds","date":"2012-08-30T18:46:21.769Z","type":"quit"}
{"nick":"indexzero_","new_nick":"indexzero","date":"2012-08-30T18:46:22.006Z","type":"nick"}
{"nick":"stagas","date":"2012-08-30T18:52:12.984Z","type":"join"}
{"nick":"CoverSlide","reason":"Read error: Operation timed out","date":"2012-08-30T18:55:48.475Z","type":"quit"}
{"nick":"loladiro","date":"2012-08-30T18:56:47.423Z","type":"join"}
{"nick":"dshaw_","date":"2012-08-30T19:13:07.662Z","type":"join"}
{"nick":"mjr_","reason":"Ping timeout: 245 seconds","date":"2012-08-30T19:14:24.556Z","type":"quit"}
{"nick":"mjr_","date":"2012-08-30T19:16:26.345Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2012-08-30T19:31:38.326Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-30T19:38:03.384Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-30T19:39:34.949Z","type":"quit"}
{"nick":"brson","date":"2012-08-30T19:39:42.544Z","type":"join"}
{"nick":"tomshreds","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-30T19:45:08.399Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-08-30T19:50:49.374Z","type":"quit"}
{"nick":"mmalecki[busy]","reason":"Ping timeout: 245 seconds","date":"2012-08-30T20:00:58.178Z","type":"quit"}
{"nick":"mjr_","message":"Hey guys, we rolled out some node 0.8 into production yesterday, and we started getting a lot of these nasty crashes:","date":"2012-08-30T20:14:50.838Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/3539304","date":"2012-08-30T20:14:51.706Z","type":"message"}
{"nick":"tjfontaine","message":"soon as I saw that bad alloc I had a feeling it was going to be the slab","date":"2012-08-30T20:16:15.885Z","type":"message"}
{"nick":"mjr_","message":"Woah, github gist spam","date":"2012-08-30T20:16:45.740Z","type":"message"}
{"nick":"CAPSLOCKBOT","reason":"Ping timeout: 246 seconds","date":"2012-08-30T20:17:13.092Z","type":"quit"}
{"nick":"ibobrik","reason":"Quit: ibobrik","date":"2012-08-30T20:17:26.074Z","type":"quit"}
{"nick":"tjfontaine","message":"that's pretty awesome","date":"2012-08-30T20:17:28.889Z","type":"message"}
{"nick":"sj26","reason":"Ping timeout: 245 seconds","date":"2012-08-30T20:17:38.107Z","type":"quit"}
{"nick":"tjfontaine","message":"I've never seen that before","date":"2012-08-30T20:18:14.515Z","type":"message"}
{"nick":"sj26","date":"2012-08-30T20:19:28.542Z","type":"join"}
{"nick":"mjr_","message":"So the core file is only 432MB, and there was plenty of free memory.","date":"2012-08-30T20:21:23.973Z","type":"message"}
{"nick":"mjr_","message":"This only happens in processes that use HTTPS.","date":"2012-08-30T20:21:31.462Z","type":"message"}
{"nick":"mjr_","message":"Seems like something is accidentally requesting a very large allocation, and that's blowing up.","date":"2012-08-30T20:21:52.454Z","type":"message"}
{"nick":"indutny","message":"mjr_: was that happening with my patch?","date":"2012-08-30T20:25:47.645Z","type":"message"}
{"nick":"mjr_","message":"indutny: I'm not entirely sure, because Danny was doing the work there.  I just know it didn't quite work out.","date":"2012-08-30T20:26:14.026Z","type":"message"}
{"nick":"mjr_","message":"But we had to roll back from node 0.8 entirely because of this allocator thing.","date":"2012-08-30T20:26:36.686Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-30T20:26:47.436Z","type":"message"}
{"nick":"indutny","message":"mjr_: node::Buffer::Replace(char*, unsigned int, void (*)(char*, void*), void*)+0x118(20360418, 0, 100000, 0, 0, 8046b8f)","date":"2012-08-30T20:28:05.057Z","type":"message"}
{"nick":"indutny","message":"not as much data as I can see","date":"2012-08-30T20:28:09.439Z","type":"message"}
{"nick":"indutny","message":"only 100kb","date":"2012-08-30T20:28:11.726Z","type":"message"}
{"nick":"indutny","message":"even less","date":"2012-08-30T20:28:15.731Z","type":"message"}
{"nick":"mjr_","message":"yeah, seems fine.","date":"2012-08-30T20:29:14.094Z","type":"message"}
{"nick":"mjr_","message":"I'm not quite sure how to map those stacks onto the C++ source","date":"2012-08-30T20:29:33.461Z","type":"message"}
{"nick":"indutny","message":"idk too","date":"2012-08-30T20:29:41.597Z","type":"message"}
{"nick":"indutny","message":"well, I suppose first number is a `this`","date":"2012-08-30T20:30:49.894Z","type":"message"}
{"nick":"indutny","message":"and others are arguments","date":"2012-08-30T20:31:04.485Z","type":"message"}
{"nick":"indutny","message":"at least it looks like so","date":"2012-08-30T20:31:08.109Z","type":"message"}
{"nick":"mjr_","message":"I took a stack from a different program on a different machine that crashed similarly, and the stack is the same.","date":"2012-08-30T20:36:13.600Z","type":"message"}
{"nick":"mjr_","message":"Updated gist with it.  Mysterious 0, 100000 is there.","date":"2012-08-30T20:36:29.252Z","type":"message"}
{"nick":"indutny","message":"odd","date":"2012-08-30T20:37:40.237Z","type":"message"}
{"nick":"indutny","message":"are you sure that rss level was low?","date":"2012-08-30T20:37:57.951Z","type":"message"}
{"nick":"mjr_","message":"Yeah, these were all using around 400MB RSS.","date":"2012-08-30T20:38:11.547Z","type":"message"}
{"nick":"mjr_","message":"Plenty of free memory on these 80GB machines.","date":"2012-08-30T20:38:26.059Z","type":"message"}
{"nick":"mjr_","message":"If we revert back to 0.6 on the same machines with the same load, we do not get these crashes.","date":"2012-08-30T20:39:19.484Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-30T20:41:18.505Z","type":"message"}
{"nick":"indutny","message":"I'll try to investigate something tomorrow","date":"2012-08-30T20:41:30.759Z","type":"message"}
{"nick":"indutny","message":"it's to late in Moscow to clearly think about it","date":"2012-08-30T20:41:39.014Z","type":"message"}
{"nick":"indutny","message":"s/to/too","date":"2012-08-30T20:41:42.157Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T20:46:59.652Z","type":"quit"}
{"nick":"dshaw_","date":"2012-08-30T20:57:19.703Z","type":"join"}
{"nick":"mmalecki[busy]","date":"2012-08-30T21:07:43.667Z","type":"join"}
{"nick":"mmalecki[busy]","reason":"Ping timeout: 260 seconds","date":"2012-08-30T21:13:13.322Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-08-30T21:13:37.355Z","type":"join"}
{"nick":"creationix","message":"piscisaureus_: btw, vfs-local and vfs-socket test against 0.8.x on every commit","date":"2012-08-30T21:21:02.533Z","type":"message"}
{"nick":"creationix","message":"and both are green","date":"2012-08-30T21:21:22.935Z","type":"message"}
{"nick":"rendar","date":"2012-08-30T21:40:39.536Z","type":"quit"}
{"nick":"loladiro","date":"2012-08-30T21:45:20.784Z","type":"join"}
{"nick":"bnoordhuis","message":"ircretary: tell piscisaureus https://github.com/joyent/libuv/pull/541","date":"2012-08-30T22:03:14.888Z","type":"message"}
{"nick":"ircretary","message":"bnoordhuis: I'll be sure to tell piscisaureus","date":"2012-08-30T22:03:15.132Z","type":"message"}
{"nick":"piscisaureuz","date":"2012-08-30T22:12:51.265Z","type":"join"}
{"nick":"piscisaureuz","message":"Bnoordhuis: i saw the build parameter patch","date":"2012-08-30T22:13:20.326Z","type":"message"}
{"nick":"piscisaureuz","message":"Bnoordhuis: but gigi81 solved it much better","date":"2012-08-30T22:13:58.513Z","type":"message"}
{"nick":"piscisaureuz","message":"Bnoordhuis: but he didn't sign the class yet... ","date":"2012-08-30T22:14:17.504Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-30T22:14:20.927Z","type":"quit"}
{"nick":"piscisaureuz","message":"s/class/cla","date":"2012-08-30T22:14:44.870Z","type":"message"}
{"nick":"bnoordhuis","message":"ah okay","date":"2012-08-30T22:14:56.244Z","type":"message"}
{"nick":"piscisaureuz","message":"Stupid autocorrect","date":"2012-08-30T22:14:59.875Z","type":"message"}
{"nick":"CIA-122","message":"\u0002node:\u000f \u000303Shigeki Ohtsu\u000f \u000307v0.8\u000f * r\u0002f347077\u000f \u000310\u000f/ (lib/net.js lib/tls.js test/simple/test-tls-connect-pipe.js)\u0002:\u000f tls: support unix domain socket/named pipe in tls.connect - http://git.io/HYdS9A","date":"2012-08-30T22:25:57.145Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-30T22:30:44.702Z","type":"quit"}
{"nick":"CIA-122","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002298f6bf\u000f \u000310\u000f/ src/node_crypto.cc \u0002:\u000f crypto: use CRYPTO_THREADID_set_callback() - http://git.io/_QcEIQ","date":"2012-08-30T22:41:42.694Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-08-30T22:51:03.708Z","type":"join"}
{"nick":"piscisaureus_","message":"ALLO","date":"2012-08-30T22:51:12.802Z","type":"message"}
{"nick":"brson","reason":"Read error: Connection reset by peer","date":"2012-08-30T22:52:14.117Z","type":"quit"}
{"nick":"brson","date":"2012-08-30T22:53:10.215Z","type":"join"}
{"nick":"dshaw_","date":"2012-08-30T23:03:56.975Z","type":"join"}
{"nick":"mmalecki[busy]","date":"2012-08-30T23:24:26.923Z","type":"join"}
{"nick":"bnoordhuis","message":"Bad packet length 1084226076.","date":"2012-08-30T23:25:55.394Z","type":"message"}
{"nick":"bnoordhuis","message":"Disconnecting: Packet corrupt","date":"2012-08-30T23:25:55.634Z","type":"message"}
{"nick":"bnoordhuis","message":"^ i don't know what's up with joyent but that happens every 5 minutes","date":"2012-08-30T23:26:08.707Z","type":"message"}
{"nick":"bnoordhuis","message":"on more than one machine, even","date":"2012-08-30T23:26:32.569Z","type":"message"}
{"nick":"piscisaureus_","message":"http://tomasz.janczuk.org/2012/08/the-httpsys-stack-for-nodejs-apps-on.html","date":"2012-08-30T23:27:23.518Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- ryah DrPizza","date":"2012-08-30T23:27:27.018Z","type":"message"}
{"nick":"DrPizza","message":"https results are interesting","date":"2012-08-30T23:28:04.504Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-30T23:28:15.233Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-08-30T23:31:05.371Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-08-30T23:31:50.363Z","type":"join"}
{"nick":"piscisaureus_","message":"for node the main takeaways are,","date":"2012-08-30T23:32:56.802Z","type":"message"}
{"nick":"piscisaureus_","message":" 1) improve http/close (aka accept() performance) in cluster scenarios. This is very well doable.","date":"2012-08-30T23:32:57.044Z","type":"message"}
{"nick":"piscisaureus_","message":"3) TLS is slow :(. This needs investigation. TLS caching might help, but not so much for keepalive, so apparently the symmetric crypto is also slow.","date":"2012-08-30T23:32:57.044Z","type":"message"}
{"nick":"brson","date":"2012-08-30T23:33:00.442Z","type":"join"}
{"nick":"piscisaureus_","message":"er s/3/2/","date":"2012-08-30T23:33:06.310Z","type":"message"}
{"nick":"piscisaureus_","message":"the caching situation is not completely comparable, but caching is probably very useful in real-world situations","date":"2012-08-30T23:33:47.075Z","type":"message"}
{"nick":"piscisaureus_","message":"btw - I worked quite extensively with tomasz, he isn't cheating","date":"2012-08-30T23:34:58.154Z","type":"message"}
{"nick":"piscisaureus_","message":"in fact, we used some out-of-tree patches to fix serious bugs in node while doing the benchmark","date":"2012-08-30T23:35:19.627Z","type":"message"}
{"nick":"DrPizza","message":"I'm still surprised that straight HTTP is so close","date":"2012-08-30T23:35:47.042Z","type":"message"}
{"nick":"DrPizza","message":"also the HTTPS results are very odd","date":"2012-08-30T23:35:54.530Z","type":"message"}
{"nick":"DrPizza","message":"imo","date":"2012-08-30T23:35:55.683Z","type":"message"}
{"nick":"piscisaureus_","message":"you mean https/keepalive/cluster ?","date":"2012-08-30T23:36:17.681Z","type":"message"}
{"nick":"DrPizza","message":"I would have thought that, if anything, it'd be the HTTPS/full that would see the most gain, due to the number of roundtrips to make HTTPS (lots of kernel/user transitions are skipped by http.sys)","date":"2012-08-30T23:36:31.008Z","type":"message"}
{"nick":"piscisaureus_","message":"I think that we can even get much closer in the http/close/cluster scenario","date":"2012-08-30T23:36:53.909Z","type":"message"}
{"nick":"piscisaureuz","reason":"Ping timeout: 240 seconds","date":"2012-08-30T23:37:03.327Z","type":"quit"}
{"nick":"DrPizza","message":"piscisaureus_: https/reconnect is 6x faster, https/keep-alive is 3x faster, those ones","date":"2012-08-30T23:37:03.823Z","type":"message"}
{"nick":"piscisaureus_","message":"ya","date":"2012-08-30T23:37:14.541Z","type":"message"}
{"nick":"mjr_","message":"TLS in node is very sad right now.  It's slow and randomly crashy.","date":"2012-08-30T23:37:20.753Z","type":"message"}
{"nick":"DrPizza","message":"whereas the one I'd expected to see the gain is https/full","date":"2012-08-30T23:37:26.055Z","type":"message"}
{"nick":"piscisaureus_","message":"it surprises me too","date":"2012-08-30T23:37:29.020Z","type":"message"}
{"nick":"piscisaureus_","message":"mjr_: crashy?","date":"2012-08-30T23:37:46.072Z","type":"message"}
{"nick":"mjr_","message":"yes","date":"2012-08-30T23:37:55.943Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/3539304","date":"2012-08-30T23:37:56.772Z","type":"message"}
{"nick":"mjr_","message":"Also, posting gist URLs on IRC triggers spam bots","date":"2012-08-30T23:38:13.103Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: I wonder if openssl is so much slower than cryptapi, or if maybe we're not compiling right","date":"2012-08-30T23:38:20.456Z","type":"message"}
{"nick":"mjr_","message":"BUT, our node 0.8 processes that are using HTTPS crash under production load, but 0.6 does not.","date":"2012-08-30T23:38:41.208Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus_: I wonder if openssl has assembler versions that aren't getting built in","date":"2012-08-30T23:38:44.622Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: well ehm","date":"2012-08-30T23:39:03.888Z","type":"message"}
{"nick":"DrPizza","message":"mjr_: weird, that is not even an ssl crash, it is a bad memory allocation (either too big, or negative)","date":"2012-08-30T23:39:06.637Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: for x86, yes. But Tomek was using x64","date":"2012-08-30T23:39:17.698Z","type":"message"}
{"nick":"mjr_","message":"DrPizza: yeah, I know it's not directly an SSL crash, but I'm pretty sure it's related.","date":"2012-08-30T23:39:34.024Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: so I found one situation where we were not using x64 hand-crafted asm (which was not available for windows)","date":"2012-08-30T23:39:46.904Z","type":"message"}
{"nick":"mjr_","message":"The processes we have that do a lot of HTTPS crash very quickly, and those that only do a little crash less often.  Those that do none do not crash.","date":"2012-08-30T23:39:54.310Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: but after a very deep dig I found out that the asm that msvc generated from the \"fallback\" c code is practically the same as the hand-crafted asm","date":"2012-08-30T23:40:15.796Z","type":"message"}
{"nick":"DrPizza","message":"huh interesting","date":"2012-08-30T23:40:25.450Z","type":"message"}
{"nick":"DrPizza","message":"also good show MSVC","date":"2012-08-30T23:40:30.104Z","type":"message"}
{"nick":"DrPizza","message":"mjr_: are they running out of memory?","date":"2012-08-30T23:40:51.516Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: however, I am afraid that we also disabled processor feature detection, so it may not be using SSE2/3 etc","date":"2012-08-30T23:40:51.827Z","type":"message"}
{"nick":"DrPizza","message":"hmmm","date":"2012-08-30T23:40:57.025Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: let me try to find the asm code. it's in a gist somewhere","date":"2012-08-30T23:41:08.229Z","type":"message"}
{"nick":"mjr_","message":"DrPizza: no, plenty of memory is available, RSS is around 400MB or so.","date":"2012-08-30T23:41:08.664Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus_: hm, these are nehalem processors, so they don't have AES instructions iirc.","date":"2012-08-30T23:41:48.264Z","type":"message"}
{"nick":"DrPizza","message":"did nehalem have AES and the other crypto instructions?","date":"2012-08-30T23:41:58.365Z","type":"message"}
{"nick":"DrPizza","message":"I thought that came in sandy bridge","date":"2012-08-30T23:42:01.885Z","type":"message"}
{"nick":"DrPizza","message":"but I may be wrong","date":"2012-08-30T23:42:03.401Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: well they have sse4 even","date":"2012-08-30T23:42:21.350Z","type":"message"}
{"nick":"DrPizza","message":"hmm it's westmere for AES-NI","date":"2012-08-30T23:42:42.239Z","type":"message"}
{"nick":"DrPizza","message":"does sse4 do  anything good for crypto?","date":"2012-08-30T23:42:47.903Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't know","date":"2012-08-30T23:42:59.130Z","type":"message"}
{"nick":"piscisaureus_","message":"I know there's optional sse code in openssl tho","date":"2012-08-30T23:43:06.041Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: https://gist.github.com/3105766","date":"2012-08-30T23:44:43.761Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: top is disassembly of compiled code, downmost is hand-crafted asm","date":"2012-08-30T23:44:57.799Z","type":"message"}
{"nick":"DrPizza","message":"gross","date":"2012-08-30T23:45:11.344Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: how can you tell that it's a wrong allocation?","date":"2012-08-30T23:48:47.028Z","type":"message"}
{"nick":"piscisaureus_","message":"not just memory overflow?","date":"2012-08-30T23:48:58.674Z","type":"message"}
{"nick":"DrPizza","message":"prod-nr1337.log:2226681:terminate called after throwing an instance of 'std::bad_alloc'","date":"2012-08-30T23:49:26.595Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-08-30T23:49:53.990Z","type":"message"}
{"nick":"DrPizza","message":"I think you'll get bad_alloc from both negative allocations and running out of memory","date":"2012-08-30T23:49:58.222Z","type":"message"}
{"nick":"piscisaureus_","message":"but bad_alloc gets thrown in case of OOM right?","date":"2012-08-30T23:50:07.926Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-08-30T23:50:09.443Z","type":"message"}
{"nick":"mjr_","message":"There's no way we are out of memory, at least not in any obvious way","date":"2012-08-30T23:57:58.888Z","type":"message"}
{"nick":"mjr_","message":"You can see the args to operator new on those stacks.  They both have 100000 in them, but that seems like a reasonably sized allocation.","date":"2012-08-30T23:58:23.503Z","type":"message"}

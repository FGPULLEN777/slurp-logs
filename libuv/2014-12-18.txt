{"nick":"ircretary","reason":"Remote host closed the connection","date":"2014-12-18T00:00:01.303Z","type":"quit"}
{"nick":"ircretary","date":"2014-12-18T00:00:10.284Z","type":"join"}
{"nick":"toothrot","date":"2014-12-18T00:07:51.500Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: just checks it can spawn an empty file with undefined and empty object.","date":"2014-12-18T00:10:07.265Z","type":"message"}
{"nick":"trevnorris","message":"the UNKNOWN error is the strange part.","date":"2014-12-18T00:10:15.324Z","type":"message"}
{"nick":"tjfontaine","message":"that's probably from libuv","date":"2014-12-18T00:13:20.608Z","type":"message"}
{"nick":"tjfontaine","message":"or could be anyway","date":"2014-12-18T00:13:32.086Z","type":"message"}
{"nick":"hayes","reason":"Ping timeout: 256 seconds","date":"2014-12-18T00:15:28.609Z","type":"quit"}
{"nick":"hayes","date":"2014-12-18T00:15:47.109Z","type":"join"}
{"nick":"srl295","message":"jgi: hi.. going to make some changes, commit, push re pr#8719 ok?","date":"2014-12-18T00:24:21.899Z","type":"message"}
{"nick":"jgi","message":"srl295, tjfontaine: regarding OS X and Windows installers with full ICU data included (but not embedded in the binary), the way we set the ICU_DATA_DIR now at built time means that we have to put the file in a known absolute path, like AppData on Windows or /usr/(local)?/share on OS X. Am I right or am I missing something?","date":"2014-12-18T00:24:28.587Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: oh, I meant, why UNKNOWN. I'd have expected some useful error...","date":"2014-12-18T00:24:50.523Z","type":"message"}
{"nick":"jgi","message":"srl295: sounds good!","date":"2014-12-18T00:25:08.083Z","type":"message"}
{"nick":"srl295","message":"jgi: that sounds right","date":"2014-12-18T00:25:11.148Z","type":"message"}
{"nick":"srl295","message":"re: path","date":"2014-12-18T00:25:13.446Z","type":"message"}
{"nick":"tjfontaine","message":"jgi, srl295: well... does icu support a relative directory path?","date":"2014-12-18T00:25:31.691Z","type":"message"}
{"nick":"jreyno40","reason":"Quit: jreyno40","date":"2014-12-18T00:25:39.560Z","type":"quit"}
{"nick":"srl295","message":"tjfontaine: jgi: the path is just passed to mmap() - so it can be relative to cwd or absolute. ","date":"2014-12-18T00:26:15.454Z","type":"message"}
{"nick":"tjfontaine","message":"I guess the question more specifically is, when during icu initialization does it inspect that path, and would that be before any process has been .chdir()'d","date":"2014-12-18T00:26:21.811Z","type":"message"}
{"nick":"tjfontaine","message":"if that path is specified before process object is created and we are in javascript, let's leave it as relative","date":"2014-12-18T00:27:06.229Z","type":"message"}
{"nick":"tjfontaine","message":"oh well, I guess $CWD is not what I want","date":"2014-12-18T00:27:49.034Z","type":"message"}
{"nick":"tjfontaine","message":"hrm","date":"2014-12-18T00:27:51.994Z","type":"message"}
{"nick":"tjfontaine","message":"blargh... :)","date":"2014-12-18T00:28:21.176Z","type":"message"}
{"nick":"jgi","message":":)","date":"2014-12-18T00:28:24.549Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: it would be the first time v8 calls something in ICU.  Node could make that happen early, but there's a slight startup cost even if Intl is never used ","date":"2014-12-18T00:28:40.049Z","type":"message"}
{"nick":"tjfontaine","message":"so, what I'd like is for us to keep the node executable in its by default portable nature","date":"2014-12-18T00:29:00.144Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: Yes. All of this is why we usually link the data at compile time, as ugly as that otherwise is","date":"2014-12-18T00:29:02.908Z","type":"message"}
{"nick":"srl295","message":"then ld.so, say, gets to hunt for it","date":"2014-12-18T00:29:26.360Z","type":"message"}
{"nick":"tjfontaine","message":"blech, an absolute path here is more what I was thinking, as far as ICU_DATA_DIR=$PREFIX/share/node/icu","date":"2014-12-18T00:31:25.212Z","type":"message"}
{"nick":"tjfontaine","message":"but that doesn't keep node portable, and may cause for odd breakage for people using prebuilt binaries in odd paths","date":"2014-12-18T00:31:52.422Z","type":"message"}
{"nick":"jgi","message":"tjfontaine: yes, the problem is more that on Windows, the installation location can be changed at installation time, so we’d need either a relative path or an absolute path that is “safe”, like AppData","date":"2014-12-18T00:32:08.113Z","type":"message"}
{"nick":"tjfontaine","message":"technically the same could be done wiht the osx installer","date":"2014-12-18T00:32:23.547Z","type":"message"}
{"nick":"jgi","message":"tjfontaine: exactly","date":"2014-12-18T00:32:29.963Z","type":"message"}
{"nick":"tjfontaine","message":"and also for people using th ebinary tarballs","date":"2014-12-18T00:32:32.458Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: Right now node doesn't otherwise have a \"node.d\" dir in the sense of a \"node homedir\", I think","date":"2014-12-18T00:32:56.268Z","type":"message"}
{"nick":"jgi","message":"tjfontaine: yes, although for binary tarballs I thought we wanted to let users load the full ICU data themselves by using either the environement variable or the —icu-data-dir command line switch","date":"2014-12-18T00:33:08.995Z","type":"message"}
{"nick":"tjfontaine","message":"the environment variable is a fallback configuration swithc really","date":"2014-12-18T00:33:35.332Z","type":"message"}
{"nick":"tjfontaine","message":"something hosting providers could provide","date":"2014-12-18T00:33:42.915Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: so tell me more about the shared library approach","date":"2014-12-18T00:34:31.936Z","type":"message"}
{"nick":"tjfontaine","message":"node could dlopen(join(dirname(basename(execPath)), '..', 'share', 'node', 'icu')) ","date":"2014-12-18T00:35:52.097Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: OK so if you download ICU binaries, the default case has  libicuuc.so, libicui18n.so, libicudata.so.  The latter just has one symbol in it, containing the data. That's about it.  The platform has to take care of finding the shared library.","date":"2014-12-18T00:36:53.228Z","type":"message"}
{"nick":"jgi","message":"tjfontaine, srl295: when ICU loads the data from a relative path, does it load it relative to the exec path?","date":"2014-12-18T00:36:58.573Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: cwd almost certainly","date":"2014-12-18T00:37:14.658Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: in Node's case, everything is staticly bound, so there's no shared libraries involved.","date":"2014-12-18T00:37:21.495Z","type":"message"}
{"nick":"srl295","message":"jgi: cwd.","date":"2014-12-18T00:37:24.946Z","type":"message"}
{"nick":"jgi","message":"ok","date":"2014-12-18T00:37:29.296Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: which is decidedly not predictable","date":"2014-12-18T00:37:31.577Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: for the default case, many people do use shared versions","date":"2014-12-18T00:37:45.952Z","type":"message"}
{"nick":"jgi","message":"tjfontaine: yes, that’s what I assumed from the start, but then I thought I’d ask anyway :)","date":"2014-12-18T00:37:58.270Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: yes, it's managed by rpm, pkgadd, apt..etc","date":"2014-12-18T00:38:19.286Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: can you join the call tomorrow morning at 9AM PST?","date":"2014-12-18T00:38:21.844Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: possibly","date":"2014-12-18T00:39:22.826Z","type":"message"}
{"nick":"tjfontaine","message":"just like to talk this all out in real time","date":"2014-12-18T00:39:50.686Z","type":"message"}
{"nick":"dap_1","reason":"Quit: Leaving.","date":"2014-12-18T00:40:05.185Z","type":"quit"}
{"nick":"jgi","message":"tjfontaine, srl295: so far we have 3 solutions: 1) linking the binary with full ICU data, 2) Storing the full ICU data in a location to which we can always refer with an absolute path (e.g AppData on Windows) 3) Load the ICU data “manually” from Node relative to the exec path. Does that summarize our discussion correctly?","date":"2014-12-18T00:42:39.343Z","type":"message"}
{"nick":"srl295","message":"jgi: I don't know of any code today that does #3","date":"2014-12-18T00:43:13.906Z","type":"message"}
{"nick":"srl295","message":"but, the u_setDataDirectory() call can be made at any point prior to load (that's what the --icu-data-dir=  node parameter does). It could be exposed to js calls as well if need be, if that helps ","date":"2014-12-18T00:44:28.455Z","type":"message"}
{"nick":"quijote","date":"2014-12-18T00:46:07.574Z","type":"join"}
{"nick":"srl295","message":"tjfontaine: is the 9am call an existing call? trying to figure out scheduling here.. otherwise just after 10?","date":"2014-12-18T00:50:24.325Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 244 seconds","date":"2014-12-18T00:50:42.557Z","type":"quit"}
{"nick":"tjfontaine","message":"srl295: the call was yes previously scheduled","date":"2014-12-18T00:50:47.599Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: ok. I should be able to attend. can you send me info at srl295 at gmail or /msg?","date":"2014-12-18T00:51:13.426Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2014-12-18T00:51:34.994Z","type":"message"}
{"nick":"trevnorris","message":"off for the night.","date":"2014-12-18T01:00:09.137Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what's left on the merge?","date":"2014-12-18T01:00:24.414Z","type":"message"}
{"nick":"trevnorris","message":"i'm not sure how to debug those failures.","date":"2014-12-18T01:00:37.021Z","type":"message"}
{"nick":"jgi","message":"tjfontaine, trevnorris, chrisdickinson,cjihrig: looking at https://github.com/joyent/node/issues/8894 right now","date":"2014-12-18T01:04:04.858Z","type":"message"}
{"nick":"jgi","message":"might be because of root certs that have been updated","date":"2014-12-18T01:04:33.233Z","type":"message"}
{"nick":"trevnorris","message":"that was my first thought.","date":"2014-12-18T01:04:56.716Z","type":"message"}
{"nick":"jgi","message":"yep, confirmed","date":"2014-12-18T01:05:23.174Z","type":"message"}
{"nick":"jgi","message":"indutny: ping","date":"2014-12-18T01:10:18.465Z","type":"message"}
{"nick":"indutny","message":"jgi: pong","date":"2014-12-18T01:14:01.954Z","type":"message"}
{"nick":"jgi","message":"indutny: I’m investigating this issue: https://github.com/joyent/node/issues/8894#issuecomment-67426636","date":"2014-12-18T01:14:30.725Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T01:15:45.054Z","type":"quit"}
{"nick":"indutny","message":"jgi: this is very odd","date":"2014-12-18T01:17:00.262Z","type":"message"}
{"nick":"indutny","message":"jgi: I see this cert in our chain","date":"2014-12-18T01:17:06.891Z","type":"message"}
{"nick":"jgi","message":"indutny: yep","date":"2014-12-18T01:17:12.548Z","type":"message"}
{"nick":"avalanche123","date":"2014-12-18T01:17:43.112Z","type":"join"}
{"nick":"indutny","message":"jgi: seems to work with latest v0.10","date":"2014-12-18T01:18:08.451Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T01:19:35.295Z","type":"quit"}
{"nick":"jgi","message":"indutny: it doesn’t work for me","date":"2014-12-18T01:19:35.854Z","type":"message"}
{"nick":"mswan","date":"2014-12-18T01:20:10.682Z","type":"join"}
{"nick":"indutny","message":"jgiah","date":"2014-12-18T01:20:55.549Z","type":"message"}
{"nick":"indutny","message":"wait a sec","date":"2014-12-18T01:20:57.671Z","type":"message"}
{"nick":"indutny","message":"may be I was using wrong branch","date":"2014-12-18T01:21:20.386Z","type":"message"}
{"nick":"chris_99","reason":"Quit: Ex-Chat","date":"2014-12-18T01:23:14.762Z","type":"quit"}
{"nick":"jgi","message":"indutny: using the builtin https module seems to work fine though","date":"2014-12-18T01:23:29.372Z","type":"message"}
{"nick":"srl295","message":"jgi: getting readyto commit a round of review responses","date":"2014-12-18T01:23:54.840Z","type":"message"}
{"nick":"indutny","message":"jgi: aaaah","date":"2014-12-18T01:24:56.632Z","type":"message"}
{"nick":"indutny","message":"jgi: it follows redirect","date":"2014-12-18T01:25:00.704Z","type":"message"}
{"nick":"indutny","message":"jgi: to bbuseruploads.s3.amazonaws.com","date":"2014-12-18T01:25:10.804Z","type":"message"}
{"nick":"jgi","message":"srl295: ok","date":"2014-12-18T01:26:51.285Z","type":"message"}
{"nick":"srl295","message":"jgi: addressed everything except vcbuild.bat https://github.com/joyent/node/pull/8719#discussion_r22018717 ","date":"2014-12-18T01:27:03.698Z","type":"message"}
{"nick":"Fishrock123","reason":"Quit: Leaving...","date":"2014-12-18T01:27:18.583Z","type":"quit"}
{"nick":"indutny","message":"jgi: my guess would be","date":"2014-12-18T01:28:43.099Z","type":"message"}
{"nick":"indutny","message":"jgi: that they are not sending intermediate cert","date":"2014-12-18T01:28:47.852Z","type":"message"}
{"nick":"indutny","message":"checking it out","date":"2014-12-18T01:29:30.994Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2014-12-18T01:30:07.155Z","type":"message"}
{"nick":"jgi","message":"srl295: I agree with you regarding my comment on vcbuild.bat","date":"2014-12-18T01:30:20.608Z","type":"message"}
{"nick":"GTL","date":"2014-12-18T01:31:18.679Z","type":"join"}
{"nick":"srl295","message":"jgi: ok","date":"2014-12-18T01:31:24.127Z","type":"message"}
{"nick":"srl295","message":"jgi: pushed, f758028 - think I have addressed all comments.","date":"2014-12-18T01:34:06.631Z","type":"message"}
{"nick":"avalanche123","date":"2014-12-18T01:35:08.413Z","type":"join"}
{"nick":"jgi","message":"indutny: it seems that root certs update deleted *.s3.amazonaws.com’s root CA’s cert right ?","date":"2014-12-18T01:35:11.670Z","type":"message"}
{"nick":"jgi","message":"indutny: the “Verisign Class 3 Public Primary Certification Authority” cert","date":"2014-12-18T01:35:26.526Z","type":"message"}
{"nick":"indutny","message":"jgi:  this should be fine","date":"2014-12-18T01:37:40.802Z","type":"message"}
{"nick":"indutny","message":"jgi: server sends it","date":"2014-12-18T01:37:44.047Z","type":"message"}
{"nick":"jgi","message":"indutny: ok","date":"2014-12-18T01:37:50.954Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T01:44:53.483Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T01:47:03.335Z","type":"join"}
{"nick":"jreyno40_","date":"2014-12-18T01:47:32.614Z","type":"join"}
{"nick":"GTL","reason":"Ping timeout: 246 seconds","date":"2014-12-18T01:48:55.653Z","type":"quit"}
{"nick":"jreyno40_","reason":"Client Quit","date":"2014-12-18T01:49:22.996Z","type":"quit"}
{"nick":"indutny","message":"jgi: brb, breakfast","date":"2014-12-18T01:51:55.853Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 264 seconds","date":"2014-12-18T01:52:02.254Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-12-18T01:52:11.280Z","type":"join"}
{"nick":"jreyno40_","reason":"Client Quit","date":"2014-12-18T01:53:29.512Z","type":"quit"}
{"nick":"cofz","reason":"Quit: cofz","date":"2014-12-18T01:54:21.276Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T01:56:29.930Z","type":"join"}
{"nick":"srl295","message":"jgi: out-ish. tjfontaine talk to you tomorrow, may check in later","date":"2014-12-18T01:57:44.613Z","type":"message"}
{"nick":"jgi","message":"srl295: thank you!","date":"2014-12-18T01:57:52.094Z","type":"message"}
{"nick":"srl295","message":"thank you.","date":"2014-12-18T01:58:14.641Z","type":"message"}
{"nick":"petka_","reason":"Quit: Connection closed for inactivity","date":"2014-12-18T02:04:45.139Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T02:05:39.914Z","type":"join"}
{"nick":"jreyno40","date":"2014-12-18T02:09:17.149Z","type":"join"}
{"nick":"jgi","message":"indutny: if I add back the /* Verisign Class 3 Public Primary Certification Authority */ cert, I cannot reproduce the issue","date":"2014-12-18T02:10:18.790Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T02:11:18.009Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T02:11:24.480Z","type":"join"}
{"nick":"Orborde","date":"2014-12-18T02:12:52.458Z","type":"join"}
{"nick":"Orborde","message":"If I use uv_queue_work, does the uv_work_t need to remain undeleted after uv_queue_work is called?","date":"2014-12-18T02:13:18.196Z","type":"message"}
{"nick":"Orborde","message":"Or can I free it?","date":"2014-12-18T02:13:21.812Z","type":"message"}
{"nick":"tjkrusinski","reason":"Ping timeout: 245 seconds","date":"2014-12-18T02:20:42.666Z","type":"quit"}
{"nick":"Ralith","reason":"Ping timeout: 272 seconds","date":"2014-12-18T02:20:49.893Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T02:22:11.085Z","type":"quit"}
{"nick":"jgi","message":"indutny, tjfontaine: I’m taking off now, I’ll reconnect later. I guess we may need to do another release, or at least to communicate about the issue.","date":"2014-12-18T02:24:29.178Z","type":"message"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-12-18T02:28:19.405Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T02:30:47.850Z","type":"join"}
{"nick":"Orborde","message":"Just posted a mailing list thread covering this in more detail: https://groups.google.com/forum/#!topic/libuv/MBl46Ofe2Is","date":"2014-12-18T02:31:48.537Z","type":"message"}
{"nick":"iarna","reason":"Remote host closed the connection","date":"2014-12-18T02:37:19.411Z","type":"quit"}
{"nick":"iarna","date":"2014-12-18T02:42:41.081Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T02:43:28.888Z","type":"quit"}
{"nick":"Ralith","date":"2014-12-18T02:45:07.129Z","type":"join"}
{"nick":"iarna","reason":"Read error: Connection reset by peer","date":"2014-12-18T02:45:27.144Z","type":"quit"}
{"nick":"iarna","date":"2014-12-18T02:45:57.438Z","type":"join"}
{"nick":"quijote","date":"2014-12-18T02:47:40.282Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 255 seconds","date":"2014-12-18T02:52:28.282Z","type":"quit"}
{"nick":"tjkrusinski","date":"2014-12-18T02:54:29.484Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2014-12-18T03:10:36.556Z","type":"quit"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-12-18T03:37:23.698Z","type":"quit"}
{"nick":"a_le","date":"2014-12-18T03:38:04.828Z","type":"join"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-12-18T03:40:50.503Z","type":"quit"}
{"nick":"a_le","date":"2014-12-18T03:41:25.370Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 244 seconds","date":"2014-12-18T03:43:47.494Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T03:43:53.573Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 244 seconds","date":"2014-12-18T03:48:26.484Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T03:48:33.370Z","type":"join"}
{"nick":"Left_Turn","reason":"Remote host closed the connection","date":"2014-12-18T03:50:49.151Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T03:52:54.282Z","type":"quit"}
{"nick":"cjihrig","message":"trevnorris: i'm still only seeing the one tls failure when running the merge-review2 branch. ran locally on OS X and on a DO x86_64 linux box","date":"2014-12-18T03:57:42.367Z","type":"message"}
{"nick":"indutny","message":"cjihrig: it is still here","date":"2014-12-18T04:06:58.424Z","type":"message"}
{"nick":"indutny","message":"cjihrig: I haven't fixed it yet","date":"2014-12-18T04:07:02.412Z","type":"message"}
{"nick":"cjihrig","message":"indutny: yea. we're expecting to see that right now. however, there are other unexpected failures on jenkins - http://jenkins.nodejs.org/job/node-review-unix/DESTCPU=x64,label=linux/329/tapResults/","date":"2014-12-18T04:08:00.787Z","type":"message"}
{"nick":"cjihrig","message":"indutny: but trevnorris mentioned they weren't happening on his machine. they're not showing up on two boxes for me","date":"2014-12-18T04:08:22.628Z","type":"message"}
{"nick":"indutny","message":"cjihrig: I see only one crypto issue","date":"2014-12-18T04:09:12.951Z","type":"message"}
{"nick":"indutny","message":"s/crypto/tls/g","date":"2014-12-18T04:09:17.956Z","type":"message"}
{"nick":"indutny","message":"cjihrig:  test-tls-honorcipherorder-secureOptions.js","date":"2014-12-18T04:09:27.582Z","type":"message"}
{"nick":"indutny","message":"and this is expected","date":"2014-12-18T04:09:42.574Z","type":"message"}
{"nick":"cjihrig","message":"indutny: ok. not sure what jenkins is smoking then :-)","date":"2014-12-18T04:10:27.058Z","type":"message"}
{"nick":"indutny","message":"cjihrig: http://jenkins.nodejs.org/job/node-review-unix/DESTCPU=x64,label=linux/329/tapTestReport/","date":"2014-12-18T04:10:39.525Z","type":"message"}
{"nick":"indutny","message":"only one tls test failure here as well","date":"2014-12-18T04:10:46.727Z","type":"message"}
{"nick":"indutny","message":"or am I wrong?","date":"2014-12-18T04:10:52.240Z","type":"message"}
{"nick":"cjihrig","message":"indutny: i'm seeing other errors there. for example 49","date":"2014-12-18T04:11:24.171Z","type":"message"}
{"nick":"cjihrig","message":"215","date":"2014-12-18T04:11:46.156Z","type":"message"}
{"nick":"cjihrig","message":"419","date":"2014-12-18T04:12:01.260Z","type":"message"}
{"nick":"cjihrig","message":"574","date":"2014-12-18T04:12:24.319Z","type":"message"}
{"nick":"cjihrig","message":"670 is the expected failure","date":"2014-12-18T04:12:46.417Z","type":"message"}
{"nick":"indutny","message":"cjihrig: this is not a tls, right?","date":"2014-12-18T04:14:10.197Z","type":"message"}
{"nick":"indutny","message":"I think I'm on wrong page here :)","date":"2014-12-18T04:14:27.697Z","type":"message"}
{"nick":"cjihrig","message":"i think so too","date":"2014-12-18T04:14:47.905Z","type":"message"}
{"nick":"cjihrig","message":"indutny: if you want context on what i'm talking about, here is the spot in the logs - http://logs.libuv.org/libuv/2014-12-17#23:18:28.587","date":"2014-12-18T04:17:19.480Z","type":"message"}
{"nick":"cjihrig","message":"i'm going to bed :-)","date":"2014-12-18T04:17:59.100Z","type":"message"}
{"nick":"indutny","message":"ttyl!","date":"2014-12-18T04:18:14.066Z","type":"message"}
{"nick":"cjihrig","message":"night","date":"2014-12-18T04:18:19.552Z","type":"message"}
{"nick":"inolen","reason":"Ping timeout: 244 seconds","date":"2014-12-18T04:18:24.621Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T04:49:21.117Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-12-18T04:53:37.077Z","type":"quit"}
{"nick":"srl295","message":"Jgi tjfontaine trevnorris: ok I see the news about 0.12 RC tomorrow, yay!","date":"2014-12-18T05:16:24.403Z","type":"message"}
{"nick":"srl295","message":"https://twitter.com/nodejs/status/545349270241435648","date":"2014-12-18T05:16:52.128Z","type":"message"}
{"nick":"jgi","date":"2014-12-18T05:19:40.486Z","type":"join"}
{"nick":"indutny","message":"jgi: it seems that amazon is sending wrong cert chain","date":"2014-12-18T05:22:45.628Z","type":"message"}
{"nick":"indutny","message":"and OpenSSL fails to interpret it","date":"2014-12-18T05:22:54.170Z","type":"message"}
{"nick":"indutny","message":"I'm still investigating","date":"2014-12-18T05:23:00.831Z","type":"message"}
{"nick":"jgi","message":"indutny: ok, what does it send and what _should_ it send?","date":"2014-12-18T05:24:34.011Z","type":"message"}
{"nick":"indutny","message":"jgi: https://www.ssllabs.com/ssltest/analyze.html?d=bbuseruploads.s3.amazonaws.com&s=54.231.244.9","date":"2014-12-18T05:24:45.626Z","type":"message"}
{"nick":"indutny","message":"ha!","date":"2014-12-18T05:26:22.064Z","type":"message"}
{"nick":"indutny","message":"nice","date":"2014-12-18T05:26:23.069Z","type":"message"}
{"nick":"indutny","message":"there are two possible chains","date":"2014-12-18T05:26:25.950Z","type":"message"}
{"nick":"indutny","message":"they have two certificates with the same hash","date":"2014-12-18T05:26:31.931Z","type":"message"}
{"nick":"indutny","message":"one leads to 1024bit CA","date":"2014-12-18T05:26:37.685Z","type":"message"}
{"nick":"indutny","message":"another to 2048bit CA","date":"2014-12-18T05:26:40.711Z","type":"message"}
{"nick":"indutny","message":"thank you VeriSign :)","date":"2014-12-18T05:26:48.026Z","type":"message"}
{"nick":"indutny","message":"jgi: AWS is including old certificate chain","date":"2014-12-18T05:27:02.304Z","type":"message"}
{"nick":"indutny","message":"jgi: with 1024bit CA","date":"2014-12-18T05:27:07.887Z","type":"message"}
{"nick":"jgi","message":"indutny: interesting","date":"2014-12-18T05:28:40.044Z","type":"message"}
{"nick":"cofz","date":"2014-12-18T05:29:10.282Z","type":"join"}
{"nick":"stagas","date":"2014-12-18T05:29:12.475Z","type":"join"}
{"nick":"indutny","message":"I have a solution","date":"2014-12-18T05:29:12.601Z","type":"message"}
{"nick":"indutny","message":"but not sure about security","date":"2014-12-18T05:29:18.018Z","type":"message"}
{"nick":"indutny","message":"it implies patching openssl","date":"2014-12-18T05:29:19.050Z","type":"message"}
{"nick":"indutny","message":"it seems to be fixing the problem though","date":"2014-12-18T05:30:10.510Z","type":"message"}
{"nick":"indutny","message":"basically","date":"2014-12-18T05:30:11.915Z","type":"message"}
{"nick":"indutny","message":"the algorithm is following right now","date":"2014-12-18T05:30:18.365Z","type":"message"}
{"nick":"indutny","message":"1. Take the last cert","date":"2014-12-18T05:30:19.771Z","type":"message"}
{"nick":"indutny","message":"erm","date":"2014-12-18T05:30:23.937Z","type":"message"}
{"nick":"indutny","message":"1. Pop the last cert","date":"2014-12-18T05:30:26.019Z","type":"message"}
{"nick":"indutny","message":"in chain","date":"2014-12-18T05:30:37.532Z","type":"message"}
{"nick":"indutny","message":"2. If it is self-signed - break","date":"2014-12-18T05:30:43.857Z","type":"message"}
{"nick":"indutny","message":"3. Find it's issuer","date":"2014-12-18T05:30:51.645Z","type":"message"}
{"nick":"indutny","message":"4. Not found - break","date":"2014-12-18T05:30:54.843Z","type":"message"}
{"nick":"indutny","message":"5. Found - continue with the issue cert, using step 1","date":"2014-12-18T05:31:04.015Z","type":"message"}
{"nick":"indutny","message":"but ideally","date":"2014-12-18T05:31:10.712Z","type":"message"}
{"nick":"indutny","message":"it could do a continue in 4 step","date":"2014-12-18T05:31:18.472Z","type":"message"}
{"nick":"indutny","message":"thus skipping the cert without issuer in the bas","date":"2014-12-18T05:31:33.292Z","type":"message"}
{"nick":"indutny","message":"chain*","date":"2014-12-18T05:31:38.614Z","type":"message"}
{"nick":"jgi","message":"indutny: I’m not sure I understand what you mean. In the case of bbuseruploads.s3.amazonaws.com, you’re saying that openssl examines the intermediate CA’s cert, can’t find the issuer (the root CA) in the trusted root CAs and thus  breaks, but it should continue and find the root CA’s cert at the root of the chain?","date":"2014-12-18T05:34:23.993Z","type":"message"}
{"nick":"indutny","message":"it should skip that cert in a chain","date":"2014-12-18T05:35:26.953Z","type":"message"}
{"nick":"indutny","message":"I'm working on patch","date":"2014-12-18T05:35:33.595Z","type":"message"}
{"nick":"indutny","message":"will show you it in a bit","date":"2014-12-18T05:35:37.397Z","type":"message"}
{"nick":"jgi","message":"indutny: also, why in the case of a connection initiated by Node.js, the root certificate that is sent by the server uses a 1024 bits key, and why the one sent to browsers uses a 2048 bits key?","date":"2014-12-18T05:35:49.953Z","type":"message"}
{"nick":"indutny","message":"jgi: because the browsers are using NSS","date":"2014-12-18T05:36:25.880Z","type":"message"}
{"nick":"indutny","message":"and it handles it","date":"2014-12-18T05:36:27.722Z","type":"message"}
{"nick":"indutny","message":"i.e. it skips the certs that are sent by server","date":"2014-12-18T05:36:34.743Z","type":"message"}
{"nick":"indutny","message":"and is using it's own cert storage","date":"2014-12-18T05:36:42.558Z","type":"message"}
{"nick":"jgi","message":"indutny: ok","date":"2014-12-18T05:36:46.158Z","type":"message"}
{"nick":"indutny","message":"jgi: technically","date":"2014-12-18T05:36:52.239Z","type":"message"}
{"nick":"indutny","message":"it is AWS to blame","date":"2014-12-18T05:36:54.380Z","type":"message"}
{"nick":"indutny","message":"the issue is here for 3 months","date":"2014-12-18T05:37:06.446Z","type":"message"}
{"nick":"indutny","message":"and they are not doing anything","date":"2014-12-18T05:37:09.604Z","type":"message"}
{"nick":"jgi","message":"indutny: ok, now I understand your initial explanation better","date":"2014-12-18T05:37:12.572Z","type":"message"}
{"nick":"indutny","message":"https://gist.github.com/indutny/554cb6637dadda84460a","date":"2014-12-18T05:37:36.522Z","type":"message"}
{"nick":"indutny","message":"jgi: this is the patch ^","date":"2014-12-18T05:37:41.060Z","type":"message"}
{"nick":"indutny","message":"it should probably free the cert, though","date":"2014-12-18T05:37:54.200Z","type":"message"}
{"nick":"indutny","message":"updated","date":"2014-12-18T05:38:22.464Z","type":"message"}
{"nick":"indutny","message":"sorry, updated again","date":"2014-12-18T05:39:10.370Z","type":"message"}
{"nick":"indutny","message":"made a stupid mistake","date":"2014-12-18T05:39:14.161Z","type":"message"}
{"nick":"jgi","message":"indutny: hehe no problem :)","date":"2014-12-18T05:39:24.792Z","type":"message"}
{"nick":"indutny","message":"ok, it works fine now","date":"2014-12-18T05:39:30.168Z","type":"message"}
{"nick":"tjkrusinski","reason":"Ping timeout: 244 seconds","date":"2014-12-18T05:40:33.507Z","type":"quit"}
{"nick":"indutny","message":"nah, it is incorrect","date":"2014-12-18T05:40:41.662Z","type":"message"}
{"nick":"indutny","message":"need to move looping below","date":"2014-12-18T05:40:45.678Z","type":"message"}
{"nick":"srl295","message":"Jgi: fyi I'm now aware of the rc announced for tomorrow -let me know as you need anything ","date":"2014-12-18T05:41:30.896Z","type":"message"}
{"nick":"indutny","message":"btw, I have an awesome idea of how it could be done in node.js","date":"2014-12-18T05:41:33.321Z","type":"message"}
{"nick":"jgi","message":"srl295: sure, I think regarding ICU we will need to land https://github.com/joyent/node/pull/8719 before 0.12, so maybe before 0.11.15","date":"2014-12-18T05:42:53.503Z","type":"message"}
{"nick":"indutny","message":"yay","date":"2014-12-18T05:43:32.289Z","type":"message"}
{"nick":"jgi","message":"srl295: but like I said, I’m optimistic we can merge that as it is now, I just need to take a final look at your updated changes, and then check with trevnorris and tjfontaine that it corresponds to what they were looking for","date":"2014-12-18T05:43:54.044Z","type":"message"}
{"nick":"srl295","message":"Jgi ok. Think","date":"2014-12-18T05:44:31.533Z","type":"message"}
{"nick":"srl295","message":"Sorry. ","date":"2014-12-18T05:44:45.458Z","type":"message"}
{"nick":"srl295","message":"Makes sense. I'll check in in the ear ly  am","date":"2014-12-18T05:45:38.273Z","type":"message"}
{"nick":"jgi","message":"srl295: ok thank you again","date":"2014-12-18T05:48:47.788Z","type":"message"}
{"nick":"quijote","date":"2014-12-18T05:49:56.886Z","type":"join"}
{"nick":"Dirkson","message":"Hey all. I've got some 0.10.25 code which I begin to suspect is having some libuv-centric problems. I'd like to upgrade to libuv 0.11... Er... I guess 1.0 now! Is that process likely to be difficult for me? Are there any guides on it?","date":"2014-12-18T05:50:45.644Z","type":"message"}
{"nick":"srl295","message":"Jgi no problem. Btw do you know if there's a smartos package for icu? Should retest it when I fix the XOPEN thing upstream ","date":"2014-12-18T05:50:52.596Z","type":"message"}
{"nick":"srl295","message":".. And see if it has any patches tjat need to go into icu","date":"2014-12-18T05:51:20.256Z","type":"message"}
{"nick":"jgi","message":"srl295: I am not sure there’s a package for that, let me check","date":"2014-12-18T05:51:42.742Z","type":"message"}
{"nick":"jgi","message":"srl295: icu-51.2             Robust and full-featured Unicode services","date":"2014-12-18T05:52:12.079Z","type":"message"}
{"nick":"jgi","message":":)","date":"2014-12-18T05:52:14.620Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 264 seconds","date":"2014-12-18T05:55:05.983Z","type":"quit"}
{"nick":"bajtos","date":"2014-12-18T05:55:47.404Z","type":"join"}
{"nick":"srl295","message":"Jgi thanks. Maybe it was a regression we saw. ","date":"2014-12-18T05:56:24.026Z","type":"message"}
{"nick":"srl295","message":"Ran into it with a Solaris Gcc box in our lab. Wasn't in the continuous build oops. ","date":"2014-12-18T05:57:03.976Z","type":"message"}
{"nick":"srl295","message":"Anyways thanks , I'll look into that and add it to my list of downstreams. ","date":"2014-12-18T05:57:21.519Z","type":"message"}
{"nick":"jgi","message":"srl295: great thanks!","date":"2014-12-18T05:57:53.374Z","type":"message"}
{"nick":"srl295","message":"Np","date":"2014-12-18T05:58:33.770Z","type":"message"}
{"nick":"Dirkson","message":"Also, were many bugs fixed between 0.10.28 and 1.0?","date":"2014-12-18T05:58:39.829Z","type":"message"}
{"nick":"Dirkson","message":"I'm having some weird signal crashes that I'm having a really hard time pinning down.","date":"2014-12-18T05:59:01.536Z","type":"message"}
{"nick":"avalanche123","date":"2014-12-18T05:59:26.283Z","type":"join"}
{"nick":"srl295","message":"Sorry for the aside, dirkson- this is actually the uv channel !","date":"2014-12-18T06:01:52.663Z","type":"message"}
{"nick":"Dirkson","message":"srl295: Y-yes? Good?","date":"2014-12-18T06:02:50.754Z","type":"message"}
{"nick":"jgi","message":"srl295: there was actually already a patch that I believe would have fixed our issue: https://github.com/joyent/pkgsrc/blob/trunk/textproc/icu/patches/patch-common_uposixdefs.h","date":"2014-12-18T06:03:25.912Z","type":"message"}
{"nick":"jgi","message":"srl295: somewhat I didn’t find it the first time :(","date":"2014-12-18T06:03:33.784Z","type":"message"}
{"nick":"jgi","message":"somehow","date":"2014-12-18T06:03:47.262Z","type":"message"}
{"nick":"Dirkson","message":"srl295: https://github.com/libuv/libuv - This, yes?","date":"2014-12-18T06:03:51.054Z","type":"message"}
{"nick":"srl295","message":"Dirkson yes ","date":"2014-12-18T06:04:54.138Z","type":"message"}
{"nick":"srl295","message":"Jgi aha- that will do it. ","date":"2014-12-18T06:05:11.393Z","type":"message"}
{"nick":"jreyno40","reason":"Quit: jreyno40","date":"2014-12-18T06:05:15.352Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T06:14:43.247Z","type":"quit"}
{"nick":"mswan","reason":"Quit: Page closed","date":"2014-12-18T06:14:56.932Z","type":"quit"}
{"nick":"srl295","message":"Jgi indutny dirkson: g'night","date":"2014-12-18T06:22:36.666Z","type":"message"}
{"nick":"jgi","message":"srl295: you too!","date":"2014-12-18T06:22:44.432Z","type":"message"}
{"nick":"jgi","message":"srl295: can you make it for tomorrow’s meeting?","date":"2014-12-18T06:22:52.118Z","type":"message"}
{"nick":"srl295","message":"Yes. Details?","date":"2014-12-18T06:23:02.105Z","type":"message"}
{"nick":"indutny","message":"jgi: so","date":"2014-12-18T06:23:46.006Z","type":"message"}
{"nick":"indutny","message":"jgi: what are your thoughts on that OpenSSL patch?","date":"2014-12-18T06:23:53.766Z","type":"message"}
{"nick":"indutny","message":"I have submitted it","date":"2014-12-18T06:24:00.758Z","type":"message"}
{"nick":"indutny","message":"but I don","date":"2014-12-18T06:24:03.389Z","type":"message"}
{"nick":"jgi","message":"indutny: submitted upstream?","date":"2014-12-18T06:24:08.175Z","type":"message"}
{"nick":"indutny","message":"I don't really know if we should expect reply","date":"2014-12-18T06:24:13.545Z","type":"message"}
{"nick":"indutny","message":"jgi: yep","date":"2014-12-18T06:24:15.080Z","type":"message"}
{"nick":"indutny","message":"they are not really responsive","date":"2014-12-18T06:24:20.997Z","type":"message"}
{"nick":"jgi","message":"indutny: thank you!","date":"2014-12-18T06:24:22.329Z","type":"message"}
{"nick":"jgi","message":"indutny: I’m not familiar with the OpenSSL codebase, and thus I would need to take a longer look at it to have a better opinion about the technical details of the patch, but the concept of doing something similar to NSS makes sense","date":"2014-12-18T06:26:15.908Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-12-18T06:26:23.943Z","type":"message"}
{"nick":"jgi","message":"indutny: however I don’t feel comfortable with releasing a new version with a change in OpenSSL without testing it thoroughly first","date":"2014-12-18T06:26:40.930Z","type":"message"}
{"nick":"indutny","message":"yeah, indeed","date":"2014-12-18T06:26:47.431Z","type":"message"}
{"nick":"indutny","message":"the tests are passing","date":"2014-12-18T06:26:56.648Z","type":"message"}
{"nick":"indutny","message":"in both openssl and node","date":"2014-12-18T06:26:59.122Z","type":"message"}
{"nick":"tjkrusinski","date":"2014-12-18T06:27:25.129Z","type":"join"}
{"nick":"jgi","message":"indutny: that’s good, but I would rather perform tests similar to what has been done by Mozilla and/or Fedora when they decided to not trust 1024 bits certs anymore","date":"2014-12-18T06:28:09.469Z","type":"message"}
{"nick":"srl295","message":"jgi: should b e able to make the meeting, i'll ping here for details. ","date":"2014-12-18T06:30:20.203Z","type":"message"}
{"nick":"jgi","message":"srl295: awesome, thanks!","date":"2014-12-18T06:30:28.231Z","type":"message"}
{"nick":"jgi","message":"indutny: something similar to the “compatibility test run of 200,000+ SSL-enabled sites” mentioned here: https://bugzilla.mozilla.org/show_bug.cgi?id=986005#c2","date":"2014-12-18T06:31:25.744Z","type":"message"}
{"nick":"indutny","message":"jgi: good luck with that :)","date":"2014-12-18T06:32:00.903Z","type":"message"}
{"nick":"jgi","message":"indutny: we could contact them to know how they did that","date":"2014-12-18T06:32:31.645Z","type":"message"}
{"nick":"jgi","message":"indutny: in the meantime,  would specifying additional trusted CA certificates in the TLS options (it’s forwarded by the request module) be an acceptable workaround?","date":"2014-12-18T06:36:43.385Z","type":"message"}
{"nick":"jgi","message":"indutny: we could provide a link to the old 1024 certificate and document why it’s unsafe, but people could use it if they have issues connecting to s3.amazonaws.com","date":"2014-12-18T06:37:45.133Z","type":"message"}
{"nick":"indutny","message":"jgi: it should be","date":"2014-12-18T06:37:56.876Z","type":"message"}
{"nick":"indutny","message":"also","date":"2014-12-18T06:38:00.972Z","type":"message"}
{"nick":"indutny","message":"we may ask people to submit bug ticket","date":"2014-12-18T06:38:06.969Z","type":"message"}
{"nick":"indutny","message":"to AWS","date":"2014-12-18T06:38:07.957Z","type":"message"}
{"nick":"indutny","message":"to stop sending insecure cert chain","date":"2014-12-18T06:38:18.613Z","type":"message"}
{"nick":"jgi","message":"indutny: yes, that sounds like a good idea","date":"2014-12-18T06:38:20.043Z","type":"message"}
{"nick":"jgi","message":"indutny: so to summarize the proposed plan:","date":"2014-12-18T06:38:46.828Z","type":"message"}
{"nick":"jgi","message":"1) document the workaround of specifying this additional CA cert for users who want to connect to s3.amazonawz.com","date":"2014-12-18T06:39:13.308Z","type":"message"}
{"nick":"jgi","message":"2) test your OpenSSL change thoroughly","date":"2014-12-18T06:39:24.394Z","type":"message"}
{"nick":"jgi","message":"3) do another release when we’re confident that your change is robust and doesn’t break","date":"2014-12-18T06:40:08.331Z","type":"message"}
{"nick":"jgi","message":"indutny: how does that sound?","date":"2014-12-18T06:40:30.188Z","type":"message"}
{"nick":"indutny","message":"you forgot","date":"2014-12-18T06:40:38.458Z","type":"message"}
{"nick":"indutny","message":"4) Ask users to submit bug ticket to AWS","date":"2014-12-18T06:40:44.081Z","type":"message"}
{"nick":"jgi","message":"indutny: indeed sorry :)","date":"2014-12-18T06:40:52.580Z","type":"message"}
{"nick":"indutny","message":"np","date":"2014-12-18T06:41:02.869Z","type":"message"}
{"nick":"indutny","message":"otherwise lgtm","date":"2014-12-18T06:41:05.024Z","type":"message"}
{"nick":"jgi","message":"indutny: that could actually be merged into 1)","date":"2014-12-18T06:41:10.667Z","type":"message"}
{"nick":"jgi","message":"indutny: but that’s a technical detail","date":"2014-12-18T06:41:30.724Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-12-18T06:41:52.985Z","type":"message"}
{"nick":"jgi","message":"indutny: alright, then I suggest that we communicate our current intentions on this GitHub issue, and check tomorrow morning with the rest of the team if they agree with this plan","date":"2014-12-18T06:42:47.256Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2014-12-18T06:43:01.344Z","type":"message"}
{"nick":"indutny","message":"we need to stress out that 1024 bit CA certs is a more serious problem","date":"2014-12-18T06:43:11.763Z","type":"message"}
{"nick":"indutny","message":"than failing requests to AWS","date":"2014-12-18T06:43:19.708Z","type":"message"}
{"nick":"indutny","message":"latter makes connecting to AWS problematic","date":"2014-12-18T06:43:30.047Z","type":"message"}
{"nick":"indutny","message":"former poses a security risk for all tls.connect() operations","date":"2014-12-18T06:43:38.050Z","type":"message"}
{"nick":"jgi","message":"indutny: indeed","date":"2014-12-18T06:44:08.460Z","type":"message"}
{"nick":"jgi","message":"indutny: I’m writing a response to the issue right now","date":"2014-12-18T06:48:41.488Z","type":"message"}
{"nick":"quijote","date":"2014-12-18T06:50:57.363Z","type":"join"}
{"nick":"jreyno40_","date":"2014-12-18T06:53:39.480Z","type":"join"}
{"nick":"jgi","message":"indutny: what do you think: https://gist.github.com/misterdjules/645bda5868d436bc3548?","date":"2014-12-18T06:55:19.785Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 264 seconds","date":"2014-12-18T06:55:38.371Z","type":"quit"}
{"nick":"jgi","message":"indutny: updated: https://gist.github.com/misterdjules/645bda5868d436bc3548","date":"2014-12-18T07:00:26.905Z","type":"message"}
{"nick":"[spoiler]","date":"2014-12-18T07:07:54.118Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T07:09:37.352Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-12-18T07:11:48.671Z","type":"part"}
{"nick":"bajtos","date":"2014-12-18T07:13:44.980Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-12-18T07:14:40.826Z","type":"quit"}
{"nick":"jgi","message":"indutny: posted here: https://github.com/joyent/node/issues/8894#issuecomment-67449458","date":"2014-12-18T07:18:42.006Z","type":"message"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-12-18T07:23:49.555Z","type":"quit"}
{"nick":"jgi","message":"indutny: I have to go, thank you for investigating this SSL issue!","date":"2014-12-18T07:36:13.079Z","type":"message"}
{"nick":"SergeiRND1","date":"2014-12-18T07:39:05.878Z","type":"join"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-12-18T07:40:15.514Z","type":"quit"}
{"nick":"SergeiRND1","reason":"Client Quit","date":"2014-12-18T07:41:15.460Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T07:46:01.306Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 250 seconds","date":"2014-12-18T07:50:48.276Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T07:51:32.417Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T07:55:55.354Z","type":"quit"}
{"nick":"jreyno40","date":"2014-12-18T08:01:04.566Z","type":"join"}
{"nick":"rendar","date":"2014-12-18T08:03:16.215Z","type":"join"}
{"nick":"quijote","date":"2014-12-18T08:04:05.298Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T08:11:13.565Z","type":"quit"}
{"nick":"bajtos","date":"2014-12-18T08:17:11.646Z","type":"join"}
{"nick":"rmg","date":"2014-12-18T08:24:17.907Z","type":"join"}
{"nick":"inolen","date":"2014-12-18T08:24:57.491Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 264 seconds","date":"2014-12-18T08:29:50.498Z","type":"quit"}
{"nick":"tjkrusinski","reason":"Ping timeout: 265 seconds","date":"2014-12-18T08:45:08.115Z","type":"quit"}
{"nick":"tjkrusinski","date":"2014-12-18T08:47:57.354Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T09:07:30.345Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T09:35:40.462Z","type":"join"}
{"nick":"jreyno40","date":"2014-12-18T09:38:42.226Z","type":"part"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T09:39:55.485Z","type":"quit"}
{"nick":"inolen","reason":"Ping timeout: 264 seconds","date":"2014-12-18T09:42:26.518Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2014-12-18T09:46:29.610Z","type":"quit"}
{"nick":"SergeiRND","date":"2014-12-18T09:55:50.899Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T10:07:15.454Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T10:17:00.679Z","type":"join"}
{"nick":"Left_Turn","date":"2014-12-18T10:17:38.090Z","type":"join"}
{"nick":"chris_99","date":"2014-12-18T10:27:29.371Z","type":"join"}
{"nick":"txdv","message":"here we go","date":"2014-12-18T10:37:04.065Z","type":"message"}
{"nick":"SergeiRND","reason":"Quit: Leaving.","date":"2014-12-18T10:43:14.852Z","type":"quit"}
{"nick":"SergeiRND","date":"2014-12-18T10:48:28.832Z","type":"join"}
{"nick":"chris_99","reason":"Quit: Ex-Chat","date":"2014-12-18T10:52:25.191Z","type":"quit"}
{"nick":"cammm","date":"2014-12-18T10:53:45.361Z","type":"join"}
{"nick":"cammm","reason":"Client Quit","date":"2014-12-18T10:54:50.365Z","type":"quit"}
{"nick":"cammm","date":"2014-12-18T10:55:06.574Z","type":"join"}
{"nick":"abraxas_","reason":"Remote host closed the connection","date":"2014-12-18T10:57:01.819Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T10:57:39.599Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 250 seconds","date":"2014-12-18T11:02:20.352Z","type":"quit"}
{"nick":"bajtos","date":"2014-12-18T11:18:14.712Z","type":"join"}
{"nick":"SergeiRND","reason":"Quit: Leaving.","date":"2014-12-18T11:19:07.424Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-12-18T11:20:14.605Z","type":"quit"}
{"nick":"bajtos","reason":"Ping timeout: 255 seconds","date":"2014-12-18T11:24:34.286Z","type":"quit"}
{"nick":"bajtos","date":"2014-12-18T11:28:21.395Z","type":"join"}
{"nick":"AlexisMocha","date":"2014-12-18T11:29:44.583Z","type":"join"}
{"nick":"petka_","date":"2014-12-18T11:42:59.556Z","type":"join"}
{"nick":"SergeiRND","date":"2014-12-18T11:59:28.882Z","type":"join"}
{"nick":"rmg","date":"2014-12-18T12:02:55.613Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 250 seconds","date":"2014-12-18T12:07:20.359Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T12:17:37.749Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-12-18T12:21:57.669Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T12:35:44.649Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-12-18T12:39:49.576Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T12:46:26.991Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 256 seconds","date":"2014-12-18T12:51:24.610Z","type":"quit"}
{"nick":"cofz","reason":"Quit: 0","date":"2014-12-18T12:52:19.297Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T12:55:39.968Z","type":"quit"}
{"nick":"chris_99","date":"2014-12-18T13:02:59.178Z","type":"join"}
{"nick":"iarna","reason":"Read error: Connection reset by peer","date":"2014-12-18T13:05:15.075Z","type":"quit"}
{"nick":"iarna","date":"2014-12-18T13:05:53.472Z","type":"join"}
{"nick":"chris_99","reason":"Remote host closed the connection","date":"2014-12-18T13:19:45.485Z","type":"quit"}
{"nick":"chris_99","date":"2014-12-18T13:20:48.924Z","type":"join"}
{"nick":"iarna","reason":"Remote host closed the connection","date":"2014-12-18T13:28:37.640Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T13:36:19.696Z","type":"join"}
{"nick":"lance|afk","new_nick":"lanceball","date":"2014-12-18T13:39:13.730Z","type":"nick"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-12-18T13:40:39.580Z","type":"quit"}
{"nick":"Fishrock123","date":"2014-12-18T14:25:27.682Z","type":"join"}
{"nick":"[spoiler]","reason":"Quit: Leaving","date":"2014-12-18T14:34:17.175Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T14:35:19.590Z","type":"join"}
{"nick":"quijote","date":"2014-12-18T14:37:04.705Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 258 seconds","date":"2014-12-18T14:40:09.424Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-12-18T14:41:32.725Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-12-18T14:56:03.751Z","type":"join"}
{"nick":"AlexisMocha","message":"tjfontaine: Jenkins is down","date":"2014-12-18T14:56:39.213Z","type":"message"}
{"nick":"stagas","date":"2014-12-18T15:11:39.876Z","type":"join"}
{"nick":"SergeiRND","reason":"Quit: Leaving.","date":"2014-12-18T15:16:23.925Z","type":"quit"}
{"nick":"lanceball","new_nick":"lance|afk","date":"2014-12-18T15:21:32.191Z","type":"nick"}
{"nick":"quijote","date":"2014-12-18T15:26:36.634Z","type":"join"}
{"nick":"cammm","reason":"Quit: Nettalk6 - www.ntalk.de","date":"2014-12-18T15:39:19.925Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T15:56:53.367Z","type":"join"}
{"nick":"abraxas_","date":"2014-12-18T16:23:55.247Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 264 seconds","date":"2014-12-18T16:29:17.851Z","type":"quit"}
{"nick":"iarna","date":"2014-12-18T16:29:28.607Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T16:30:09.920Z","type":"quit"}
{"nick":"iarna","reason":"Ping timeout: 245 seconds","date":"2014-12-18T16:33:34.661Z","type":"quit"}
{"nick":"quijote_","date":"2014-12-18T16:33:55.775Z","type":"join"}
{"nick":"quijote","reason":"Read error: Connection reset by peer","date":"2014-12-18T16:34:13.996Z","type":"quit"}
{"nick":"srl295","message":"Tjfontaine trevnorris jgi : ping","date":"2014-12-18T16:37:02.885Z","type":"message"}
{"nick":"avalanche123","date":"2014-12-18T16:42:30.468Z","type":"join"}
{"nick":"jgi","date":"2014-12-18T16:42:35.951Z","type":"join"}
{"nick":"tarruda","date":"2014-12-18T16:42:40.346Z","type":"join"}
{"nick":"bajtos","date":"2014-12-18T16:42:46.764Z","type":"join"}
{"nick":"jgi","message":"srl295: pong","date":"2014-12-18T16:42:59.104Z","type":"message"}
{"nick":"tarruda","new_nick":"Guest21899","date":"2014-12-18T16:43:04.497Z","type":"nick"}
{"nick":"Guest21899","reason":"Client Quit","date":"2014-12-18T16:43:14.935Z","type":"quit"}
{"nick":"tjfontaine","message":"AlexisMocha: ok","date":"2014-12-18T16:44:10.681Z","type":"message"}
{"nick":"tjfontaine","message":"https://bluejeans.com/647321816 <-- link for meeting, srl295 jgi chrisdickinson cjihrig indutny trevnorris AlexisMocha ","date":"2014-12-18T16:45:05.118Z","type":"message"}
{"nick":"tjfontaine","message":"I'm going to grab some coffee I just got off another call","date":"2014-12-18T16:45:13.478Z","type":"message"}
{"nick":"tarruda_","date":"2014-12-18T16:46:34.575Z","type":"join"}
{"nick":"srl295","message":"Tjfontaine jgi thanks and good morning. ","date":"2014-12-18T16:46:53.573Z","type":"message"}
{"nick":"jgi","message":"srl295: good morning!","date":"2014-12-18T16:47:05.605Z","type":"message"}
{"nick":"seishun","date":"2014-12-18T16:56:27.908Z","type":"join"}
{"nick":"rmg","date":"2014-12-18T16:58:36.115Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris, indutny, chrisdickinson, AlexisMocha, srl295 -- meeting is open if you wish to join","date":"2014-12-18T17:01:51.609Z","type":"message"}
{"nick":"tjfontaine","message":"(as is any other passer by)","date":"2014-12-18T17:01:58.520Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T17:08:56.398Z","type":"quit"}
{"nick":"chrisdickinson","message":"CA changes appear to be on the mozilla side: https://blog.mozilla.org/security/2014/09/08/phasing-out-certificates-with-1024-bit-rsa-keys/","date":"2014-12-18T17:17:02.986Z","type":"message"}
{"nick":"chrisdickinson","message":"well, possibly.","date":"2014-12-18T17:17:43.700Z","type":"message"}
{"nick":"tjfontaine","message":"seems reasonable","date":"2014-12-18T17:19:13.192Z","type":"message"}
{"nick":"SergeiRND","date":"2014-12-18T17:20:58.868Z","type":"join"}
{"nick":"avalanche123","date":"2014-12-18T17:21:22.404Z","type":"join"}
{"nick":"lance|afk","new_nick":"lanceball","date":"2014-12-18T17:23:35.521Z","type":"nick"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T17:23:35.845Z","type":"quit"}
{"nick":"c4milo","date":"2014-12-18T17:38:43.452Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-12-18T17:38:45.026Z","type":"quit"}
{"nick":"c4milo","date":"2014-12-18T17:39:50.164Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T17:41:19.734Z","type":"quit"}
{"nick":"tarruda_","reason":"Ping timeout: 256 seconds","date":"2014-12-18T17:50:02.652Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Chris Dickinson\u000f \u00037v0.12\u000f * \u00029158666\u0002 : stream: switch _writableState.buffer to queue - http://git.io/R8aOjg","date":"2014-12-18T17:51:03.877Z","type":"message"}
{"nick":"srl295","message":"thanks!","date":"2014-12-18T17:55:24.227Z","type":"message"}
{"nick":"chrisdickinson","message":"tjfontaine: so, question 1: does ben have a machine?","date":"2014-12-18T17:55:56.038Z","type":"message"}
{"nick":"chrisdickinson","message":"s/machine/time machine/g","date":"2014-12-18T17:55:59.622Z","type":"message"}
{"nick":"chrisdickinson","message":"sorry, accidentally a word, there.","date":"2014-12-18T17:56:04.603Z","type":"message"}
{"nick":"chrisdickinson","message":"the only commit touching `src/node_root_certs.h` between the v0.10.33 and v0.10.34 tags is dated 2013-11-09","date":"2014-12-18T17:56:39.826Z","type":"message"}
{"nick":"chrisdickinson","message":"but the commit message contains \"Update tools/certdata.txt to [0] (last updated on 2014-11-14)\"","date":"2014-12-18T17:56:58.748Z","type":"message"}
{"nick":"chrisdickinson","message":"(I imagine the date could have gotten mangled somehow in a merge","date":"2014-12-18T17:57:22.956Z","type":"message"}
{"nick":"chrisdickinson","message":")","date":"2014-12-18T17:57:26.571Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: you can make git believe anything :","date":"2014-12-18T17:58:54.829Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2014-12-18T17:58:55.966Z","type":"message"}
{"nick":"chrisdickinson","message":"(looking at the output of `git log v0.10.33...v0.10.34 src/node_root_certs.h`)","date":"2014-12-18T17:59:01.333Z","type":"message"}
{"nick":"tjfontaine","message":"but he authored that commit last year","date":"2014-12-18T17:59:03.532Z","type":"message"}
{"nick":"tjfontaine","message":"f9456a2d3657145878dfcae52af1defc1e22e3bb is what we're talking about, right?","date":"2014-12-18T17:59:32.255Z","type":"message"}
{"nick":"chrisdickinson","message":"yep","date":"2014-12-18T17:59:40.796Z","type":"message"}
{"nick":"chrisdickinson","message":"(re: git believing anything: yep, it's just odd that the date ended up in 2013 but the message is 2014 -- was it amended?)","date":"2014-12-18T18:00:04.384Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: actually u_setDataDirectory isn't mutexed but officially not threadsafe. So, calling it from main() is the right path for now.","date":"2014-12-18T18:00:49.951Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: almost certainly, would need to check wiht whomever actually committed it, I presume it was fedor or trevor","date":"2014-12-18T18:01:12.400Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: right, makes sense, I can't imagine wanting to do it in any other path, and node in this context (for the short to medium term) will only ever be single threaded","date":"2014-12-18T18:01:45.960Z","type":"message"}
{"nick":"chrisdickinson","message":"I think the root cause (har har) is that mozilla got rid of their 1024-bit certs","date":"2014-12-18T18:02:07.658Z","type":"message"}
{"nick":"piscisaureus","date":"2014-12-18T18:02:25.283Z","type":"join"}
{"nick":"davi","date":"2014-12-18T18:04:27.242Z","type":"join"}
{"nick":"brson","date":"2014-12-18T18:04:40.951Z","type":"join"}
{"nick":"tjfontaine","message":"chrisdickinson: seems quite likely, we could optionally try and convince openssl to take the alternate path for the aws case, or we can manually merge back in the 1024 bit certs","date":"2014-12-18T18:05:03.176Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: the latter is the easiest short term solution, we would just want to verify that none of those certificates have been revoked before manually adding them back in","date":"2014-12-18T18:05:33.709Z","type":"message"}
{"nick":"chrisdickinson","message":"cool","date":"2014-12-18T18:06:20.102Z","type":"message"}
{"nick":"tjfontaine","message":"Caused by: java.lang.OutOfMemoryError: Java heap space","date":"2014-12-18T18:07:28.527Z","type":"message"}
{"nick":"tjfontaine","message":"Dec 18, 2014 5:38:15 PM hudson.triggers.SafeTimerTask run","date":"2014-12-18T18:07:28.620Z","type":"message"}
{"nick":"tjfontaine","message":"SEVERE: Timer task com.cloudbees.jenkins.Cleaner@f9c6c3 failed","date":"2014-12-18T18:07:28.620Z","type":"message"}
{"nick":"tjfontaine","message":"java.lang.OutOfMemoryError: Java heap space","date":"2014-12-18T18:07:29.273Z","type":"message"}
{"nick":"tjfontaine","message":"gawd","date":"2014-12-18T18:07:31.161Z","type":"message"}
{"nick":"tjfontaine","message":"I hate java","date":"2014-12-18T18:07:36.057Z","type":"message"}
{"nick":"tjfontaine","message":"why wouldn't it die if it couldn't recover from taht.","date":"2014-12-18T18:08:26.654Z","type":"message"}
{"nick":"jgi","message":"trevnorris: ping","date":"2014-12-18T18:11:17.390Z","type":"message"}
{"nick":"bajtos","date":"2014-12-18T18:11:22.985Z","type":"join"}
{"nick":"abraxas_","date":"2014-12-18T18:13:09.610Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 250 seconds","date":"2014-12-18T18:17:24.353Z","type":"quit"}
{"nick":"dap_","date":"2014-12-18T18:20:47.508Z","type":"join"}
{"nick":"srl295","message":"tjfontaine: Hopefully we can count on the invariant of main() starting out as a single thread :]","date":"2014-12-18T18:21:19.352Z","type":"message"}
{"nick":"iarna","date":"2014-12-18T18:26:33.293Z","type":"join"}
{"nick":"inolen","date":"2014-12-18T18:27:18.631Z","type":"join"}
{"nick":"davi","reason":"Ping timeout: 250 seconds","date":"2014-12-18T18:32:03.361Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T18:32:50.890Z","type":"join"}
{"nick":"AlexisMocha","reason":"Ping timeout: 256 seconds","date":"2014-12-18T18:35:56.632Z","type":"quit"}
{"nick":"SergeiRND1","date":"2014-12-18T18:36:38.928Z","type":"join"}
{"nick":"chrisdickinson","message":"for a first stab, I'm going to try re-adding just the CA certs listed here: https://blog.mozilla.org/security/2014/09/08/phasing-out-certificates-with-1024-bit-rsa-keys/","date":"2014-12-18T18:37:21.738Z","type":"message"}
{"nick":"SergeiRND","reason":"Ping timeout: 264 seconds","date":"2014-12-18T18:38:17.842Z","type":"quit"}
{"nick":"SergeiRND","date":"2014-12-18T18:39:26.895Z","type":"join"}
{"nick":"SergeiRND1","reason":"Ping timeout: 264 seconds","date":"2014-12-18T18:41:17.860Z","type":"quit"}
{"nick":"tarruda_","date":"2014-12-18T18:42:16.504Z","type":"join"}
{"nick":"chris_99","reason":"Remote host closed the connection","date":"2014-12-18T18:45:36.986Z","type":"quit"}
{"nick":"tjkrusinski","reason":"Ping timeout: 250 seconds","date":"2014-12-18T18:46:00.419Z","type":"quit"}
{"nick":"tarruda_","reason":"Ping timeout: 264 seconds","date":"2014-12-18T18:49:05.855Z","type":"quit"}
{"nick":"SergeiRND1","date":"2014-12-18T18:50:41.858Z","type":"join"}
{"nick":"SergeiRND1","reason":"Read error: Connection reset by peer","date":"2014-12-18T18:50:43.987Z","type":"quit"}
{"nick":"SergeiRND1","date":"2014-12-18T18:50:56.917Z","type":"join"}
{"nick":"SergeiRND","reason":"Ping timeout: 264 seconds","date":"2014-12-18T18:51:29.938Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T18:55:24.840Z","type":"quit"}
{"nick":"SergeiRND1","reason":"Client Quit","date":"2014-12-18T18:55:38.659Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T18:55:49.895Z","type":"join"}
{"nick":"tjfontaine","message":"chrisdickinson: sounds good","date":"2014-12-18T19:00:34.812Z","type":"message"}
{"nick":"jgi","message":"tjfontaine, chrisdickinson,srl295: afk for about 25 minutes (heading to the office), I still haven’t found a repro for https://github.com/joyent/node/issues/8897, but I’ll keep you updated","date":"2014-12-18T19:01:45.908Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: thanks","date":"2014-12-18T19:01:52.554Z","type":"message"}
{"nick":"tjkrusinski","date":"2014-12-18T19:01:55.326Z","type":"join"}
{"nick":"jgi","message":"tjfontaine, chrisdickinson, srl295: also, there seem to be an issue with another timer change: https://github.com/joyent/node/issues/8900","date":"2014-12-18T19:02:08.488Z","type":"message"}
{"nick":"tjfontaine","message":"ya, I was going to make the same guess","date":"2014-12-18T19:02:34.277Z","type":"message"}
{"nick":"tjfontaine","message":"as far as what change that broke it","date":"2014-12-18T19:02:40.342Z","type":"message"}
{"nick":"jgi","message":"tjfontaine, chrisdickinson: I haven’t looked into it yet, I just confirmed the bug by reproducing the issue with the change, and not reproducing it without it","date":"2014-12-18T19:02:47.834Z","type":"message"}
{"nick":"tjfontaine","message":"ya, their claim seems likely to be the cause, at least we can write a test to cover it","date":"2014-12-18T19:03:28.438Z","type":"message"}
{"nick":"sblom","date":"2014-12-18T19:04:33.155Z","type":"join"}
{"nick":"jgi","message":"tjfontaine: yes, we can write a test for https://github.com/joyent/node/issues/8900, but are you saying that the two are related?","date":"2014-12-18T19:06:41.009Z","type":"message"}
{"nick":"tjkrusinski","reason":"Ping timeout: 250 seconds","date":"2014-12-18T19:07:14.349Z","type":"quit"}
{"nick":"sblom","reason":"Read error: Connection reset by peer","date":"2014-12-18T19:09:01.815Z","type":"quit"}
{"nick":"tjfontaine","message":"no they are not related","date":"2014-12-18T19:09:15.803Z","type":"message"}
{"nick":"tjfontaine","message":"at least I don't expect them to be","date":"2014-12-18T19:09:24.379Z","type":"message"}
{"nick":"chrisdickinson","message":"tjfontaine: best way to check if a cert has been revoked?","date":"2014-12-18T19:11:04.072Z","type":"message"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-12-18T19:11:17.257Z","type":"quit"}
{"nick":"tjfontaine","message":"chrisdickinson: the issuer should list it, there are websites that track the information, for each finger print of the certs we have, there's a service out there that will check it","date":"2014-12-18T19:11:54.349Z","type":"message"}
{"nick":"tjkrusinski","date":"2014-12-18T19:13:09.366Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-12-18T19:15:19.329Z","type":"quit"}
{"nick":"AlexisMocha","date":"2014-12-18T19:21:26.279Z","type":"join"}
{"nick":"bradleymeck","date":"2014-12-18T19:27:35.179Z","type":"join"}
{"nick":"quijote_","reason":"Read error: Connection reset by peer","date":"2014-12-18T19:33:37.649Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T19:33:55.341Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T19:38:26.330Z","type":"quit"}
{"nick":"jgi","date":"2014-12-18T19:40:49.436Z","type":"join"}
{"nick":"jgi","message":"tjfontaine: ok, that was my understanding too","date":"2014-12-18T19:40:58.467Z","type":"message"}
{"nick":"chrisdickinson","message":"secom is hard to verify :\\","date":"2014-12-18T19:44:50.383Z","type":"message"}
{"nick":"chrisdickinson","message":"tjfontaine: https://github.com/joyent/node/pull/8904","date":"2014-12-18T19:57:26.422Z","type":"message"}
{"nick":"sblom","date":"2014-12-18T19:58:30.720Z","type":"join"}
{"nick":"tjfontaine","message":"chrisdickinson: I need to look more closely, but first glance it looks right to me","date":"2014-12-18T19:58:42.536Z","type":"message"}
{"nick":"chrisdickinson","message":"there's one commented out CA that I couldn't verify","date":"2014-12-18T19:58:56.061Z","type":"message"}
{"nick":"chrisdickinson","message":"(the SECOM valicert class 1 ca) ","date":"2014-12-18T19:59:16.875Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: want to add a comment about that","date":"2014-12-18T19:59:51.409Z","type":"message"}
{"nick":"tjfontaine","message":"I'm fine with that though","date":"2014-12-18T20:00:04.124Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 255 seconds","date":"2014-12-18T20:00:43.281Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T20:01:53.448Z","type":"join"}
{"nick":"abraxas_","date":"2014-12-18T20:02:04.144Z","type":"join"}
{"nick":"srl295","action":"is inflating ICU's download counts by a very small percentage with all of these tests","date":"2014-12-18T20:05:37.645Z","type":"action"}
{"nick":"chris_99","date":"2014-12-18T20:06:20.244Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T20:06:31.423Z","type":"quit"}
{"nick":"abraxas_","reason":"Ping timeout: 245 seconds","date":"2014-12-18T20:06:32.655Z","type":"quit"}
{"nick":"srl295","message":"jgi: tjfontaine: going to file a PR myself on the --download change, then look at the execpath","date":"2014-12-18T20:14:11.123Z","type":"message"}
{"nick":"srl295","message":"^against myself","date":"2014-12-18T20:14:18.847Z","type":"message"}
{"nick":"jgi","message":"srl295: alright!","date":"2014-12-18T20:14:25.912Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2014-12-18T20:16:36.783Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 264 seconds","date":"2014-12-18T20:16:38.905Z","type":"quit"}
{"nick":"brson","date":"2014-12-18T20:16:50.441Z","type":"join"}
{"nick":"brson","reason":"Client Quit","date":"2014-12-18T20:18:57.599Z","type":"quit"}
{"nick":"brson","date":"2014-12-18T20:19:12.590Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2014-12-18T20:25:36.550Z","type":"quit"}
{"nick":"jgi","message":"chrisdickinson: if you have some time, I wouldn’t mind having another pair of eyes looking at this issue: https://github.com/joyent/node/issues/8897","date":"2014-12-18T20:26:13.320Z","type":"message"}
{"nick":"jgi","message":"chrisdickinson: I haven’t been able to reproduce it yet","date":"2014-12-18T20:26:31.930Z","type":"message"}
{"nick":"chrisdickinson","message":"will do!","date":"2014-12-18T20:26:52.318Z","type":"message"}
{"nick":"jgi","message":"chrisdickinson: thanks!","date":"2014-12-18T20:27:41.418Z","type":"message"}
{"nick":"jgi","message":"afk for a bit","date":"2014-12-18T20:27:49.086Z","type":"message"}
{"nick":"srl295","message":"jgi: https://github.com/srl295/node/pull/21","date":"2014-12-18T20:32:13.300Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: jgi: https://github.com/srl295/node/pull/21 - the --download option. I will merge it into https://github.com/joyent/node/pull/8719 when it looks good ","date":"2014-12-18T20:35:37.395Z","type":"message"}
{"nick":"brson","date":"2014-12-18T20:36:14.447Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T20:38:01.677Z","type":"quit"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-12-18T20:38:11.249Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T20:41:19.276Z","type":"join"}
{"nick":"srl295","message":"tjfontaine: jgi: trevnorris: I'm looking at node.cc . right now I call InitializeICUDirectory from Init().  exec_path is calcualted in SetupProcessObject which is called from CreateEnvironment  which is called after Init","date":"2014-12-18T20:50:58.022Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: jgi: trevnorris: .. and specifically:    Init(),  then V8::initialize(), then CreateEnvironment().   Questoin: would it be possible to call uv_exepath() much earlier, such as from Init?  That way we avoid v8 possibly (though it doesn't today) calling ICU before we get to it","date":"2014-12-18T20:52:58.769Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T20:57:52.214Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T21:02:33.395Z","type":"join"}
{"nick":"avalanche123","date":"2014-12-18T21:03:42.395Z","type":"join"}
{"nick":"AlexisMocha","reason":"Ping timeout: 255 seconds","date":"2014-12-18T21:05:31.281Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-12-18T21:07:11.453Z","type":"quit"}
{"nick":"srl295","message":"Be back ","date":"2014-12-18T21:07:24.901Z","type":"message"}
{"nick":"jgi","date":"2014-12-18T21:07:37.668Z","type":"join"}
{"nick":"sblom","reason":"Read error: Connection reset by peer","date":"2014-12-18T21:11:18.050Z","type":"quit"}
{"nick":"tjkrusinski","reason":"Ping timeout: 250 seconds","date":"2014-12-18T21:14:38.312Z","type":"quit"}
{"nick":"jgi","message":"chrisdickinson, tjfontaine: someone posted a repro here: https://github.com/joyent/node/issues/8897#issuecomment-67553445","date":"2014-12-18T21:15:13.116Z","type":"message"}
{"nick":"tjkrusinski","date":"2014-12-18T21:25:07.503Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-12-18T21:26:14.034Z","type":"quit"}
{"nick":"tjkrusinski","reason":"Ping timeout: 250 seconds","date":"2014-12-18T21:29:43.372Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: sorry I missed. one kid is popping 3 teeth and the other is sick. when I tag teamed w/ my wife I crashed and slept through my meeting alarm. sorry about that. I'm catching up on the irc logs now.","date":"2014-12-18T21:36:42.645Z","type":"message"}
{"nick":"sblom","date":"2014-12-18T21:39:52.112Z","type":"join"}
{"nick":"creationix","reason":"Remote host closed the connection","date":"2014-12-18T21:39:55.039Z","type":"quit"}
{"nick":"creationix","date":"2014-12-18T21:40:32.781Z","type":"join"}
{"nick":"avalanch_","date":"2014-12-18T21:41:33.553Z","type":"join"}
{"nick":"srl295","message":"trevnorris: yup.. I'll never use the expression \"teething pains\" flippantly again!","date":"2014-12-18T21:43:09.306Z","type":"message"}
{"nick":"trevnorris","message":"haha. yeah.","date":"2014-12-18T21:44:25.589Z","type":"message"}
{"nick":"tarruda_","date":"2014-12-18T21:46:43.173Z","type":"join"}
{"nick":"creationix","reason":"Quit: ZNC - http://znc.in","date":"2014-12-18T21:47:43.658Z","type":"quit"}
{"nick":"creationix","date":"2014-12-18T21:48:17.374Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 258 seconds","date":"2014-12-18T21:50:15.448Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T21:50:49.796Z","type":"join"}
{"nick":"creationix","reason":"Quit: ZNC - http://znc.in","date":"2014-12-18T21:53:47.978Z","type":"quit"}
{"nick":"creationix","date":"2014-12-18T21:54:44.440Z","type":"join"}
{"nick":"abraxas_","reason":"Ping timeout: 250 seconds","date":"2014-12-18T21:55:17.475Z","type":"quit"}
{"nick":"quijote","date":"2014-12-18T22:03:16.924Z","type":"join"}
{"nick":"srl295","message":"trevnorris: let me know if you have any comments on https://github.com/srl295/node/pull/21 and also my question on uv_exepath.  The exepath question came up during the call, whether we can set the icu data path relative to exepath","date":"2014-12-18T22:04:24.496Z","type":"message"}
{"nick":"quijote_","date":"2014-12-18T22:05:20.855Z","type":"join"}
{"nick":"srl295","message":"ah, i'll just call uv_exepath twice for now","date":"2014-12-18T22:06:29.576Z","type":"message"}
{"nick":"brson","date":"2014-12-18T22:07:51.593Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 272 seconds","date":"2014-12-18T22:08:19.892Z","type":"quit"}
{"nick":"lanceball","new_nick":"lance|afk","date":"2014-12-18T22:08:29.568Z","type":"nick"}
{"nick":"quijote_","reason":"Ping timeout: 272 seconds","date":"2014-12-18T22:10:13.908Z","type":"quit"}
{"nick":"trevnorris","message":"srl295: thanks. reviewed. :)","date":"2014-12-18T22:11:13.047Z","type":"message"}
{"nick":"srl295","message":"trevnorris: thanks","date":"2014-12-18T22:12:05.241Z","type":"message"}
{"nick":"srl295","message":"i'll go ahead and merge it into 8719","date":"2014-12-18T22:12:41.984Z","type":"message"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2014-12-18T22:14:08.946Z","type":"quit"}
{"nick":"trevnorris","message":"great. thanks.","date":"2014-12-18T22:18:32.129Z","type":"message"}
{"nick":"srl295","message":"merged. fyi jgi","date":"2014-12-18T22:18:42.938Z","type":"message"}
{"nick":"jgi","message":"srl295, trevnorris: ok, I’ll take a look when I’m done with https://github.com/joyent/node/issues/8897#issuecomment-67553445","date":"2014-12-18T22:25:00.774Z","type":"message"}
{"nick":"Ralith","reason":"Ping timeout: 240 seconds","date":"2014-12-18T22:26:17.629Z","type":"quit"}
{"nick":"trevnorris","message":"jgi: ah, interesting. thanks for pointing me to that.","date":"2014-12-18T22:26:29.938Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 264 seconds","date":"2014-12-18T22:33:29.974Z","type":"quit"}
{"nick":"Fishrock123","date":"2014-12-18T22:36:24.393Z","type":"join"}
{"nick":"tjkrusinski","date":"2014-12-18T22:39:01.507Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-12-18T22:40:07.517Z","type":"quit"}
{"nick":"avalanch_","reason":"Ping timeout: 256 seconds","date":"2014-12-18T22:46:58.529Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T22:47:25.459Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: no problem","date":"2014-12-18T22:51:54.247Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: yes, there's no reason you can't either call uv_execpath earlier, or multiple times for our first iterations","date":"2014-12-18T22:52:10.246Z","type":"message"}
{"nick":"avalanche123","reason":"Ping timeout: 250 seconds","date":"2014-12-18T22:53:47.467Z","type":"quit"}
{"nick":"avalanche123","date":"2014-12-18T22:54:15.939Z","type":"join"}
{"nick":"Ralith","date":"2014-12-18T22:54:19.512Z","type":"join"}
{"nick":"srl295","message":"tjfontaine: ok. doing just that","date":"2014-12-18T22:55:43.257Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: jgi:  https://github.com/joyent/node/pull/8719 now behaves as discussed (doesn't download automatically unless --download=all is set)","date":"2014-12-18T22:58:28.365Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: thank you","date":"2014-12-18T22:59:16.170Z","type":"message"}
{"nick":"inolen1","date":"2014-12-18T23:00:11.560Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 245 seconds","date":"2014-12-18T23:03:00.472Z","type":"quit"}
{"nick":"jgi","message":"tjfontaine, chrisdickinson, trevnorris: I have a candidate for a fix for this issue: github.com/joyent/node/issues/8897. I’m going to test it more, but here’s what I have so far: https://gist.github.com/misterdjules/a7b5baf352cfb892972c","date":"2014-12-18T23:04:10.638Z","type":"message"}
{"nick":"tjfontaine","message":"why not just unenroll when we've found it?","date":"2014-12-18T23:05:34.165Z","type":"message"}
{"nick":"trevnorris","message":"jgi: drop the forEach","date":"2014-12-18T23:05:50.242Z","type":"message"}
{"nick":"quijote","date":"2014-12-18T23:06:00.090Z","type":"join"}
{"nick":"tjfontaine","message":"ya I would like to avoid the closure there as well, should be reasonable","date":"2014-12-18T23:06:36.159Z","type":"message"}
{"nick":"trevnorris","message":"I think the logic is sound. i can't recall, is the \"list\" global to all timers? if so, i'm trying to think of a case where even running the new list of timers could screw up future execution.","date":"2014-12-18T23:08:51.370Z","type":"message"}
{"nick":"trevnorris","message":"other than that case seems like it should work.","date":"2014-12-18T23:09:03.987Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 264 seconds","date":"2014-12-18T23:10:38.989Z","type":"quit"}
{"nick":"jgi","message":"tjfontaine: unenroll would make code like this trigger the timeout only once: https://gist.github.com/misterdjules/692825714c200af4108c","date":"2014-12-18T23:11:07.456Z","type":"message"}
{"nick":"jgi","message":"I agree that the closure should be avoided","date":"2014-12-18T23:11:41.103Z","type":"message"}
{"nick":"jgi","message":"trevnorris: the list is global for unref timers","date":"2014-12-18T23:12:05.901Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: is that a reasonable pattern given how people actually interface with this?","date":"2014-12-18T23:14:27.392Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: is there a path where net.js actually leads to this problem?","date":"2014-12-18T23:14:44.280Z","type":"message"}
{"nick":"tjfontaine","message":"is that equivalent to socket.setTimeout(100, function() { this.write(); })?","date":"2014-12-18T23:15:10.231Z","type":"message"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2014-12-18T23:16:39.246Z","type":"quit"}
{"nick":"jgi","message":"tjfontaine: yes, it seems that socket.setTimeout(100, function() { this.write(); }) is equivalent to that","date":"2014-12-18T23:17:35.439Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2014-12-18T23:17:52.344Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2014-12-18T23:21:32.593Z","type":"quit"}
{"nick":"brson","date":"2014-12-18T23:24:28.865Z","type":"join"}
{"nick":"Fishrock123","date":"2014-12-18T23:24:34.116Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2014-12-18T23:37:16.428Z","type":"quit"}
{"nick":"abraxas_","date":"2014-12-18T23:39:41.439Z","type":"join"}
{"nick":"tjkrusinski","reason":"Ping timeout: 244 seconds","date":"2014-12-18T23:42:27.578Z","type":"quit"}
{"nick":"abraxas_","reason":"Ping timeout: 264 seconds","date":"2014-12-18T23:44:15.041Z","type":"quit"}
{"nick":"srl295","message":"tjfontaine: trevnorris: jgi:is it possible or a good idea to use uv to check whether something is a directory at main() time?","date":"2014-12-18T23:44:36.285Z","type":"message"}
{"nick":"rendar","reason":"Quit: Leaving","date":"2014-12-18T23:48:47.055Z","type":"quit"}
{"nick":"jgi","message":"srl295: something like uv_fs_stat and checking if it’s a directory?","date":"2014-12-18T23:52:00.823Z","type":"message"}
{"nick":"srl295","message":"jgi: ok, but it is async, so does that work?","date":"2014-12-18T23:52:21.626Z","type":"message"}
{"nick":"jgi","message":"srl295: if you don’t pass a callback, it will be synchronous","date":"2014-12-18T23:52:35.220Z","type":"message"}
{"nick":"tjfontaine","message":"srl295: is it necessary to do the stat?","date":"2014-12-18T23:53:24.783Z","type":"message"}
{"nick":"jgi","message":"srl295: regarding if it’s a good idea to call it in main or node::Start, I don’t know. I don’t see any call to uv_fs_* there. I don’t see any problem with that, but I would wait for tjfontaine or trevnorris’ take on that.","date":"2014-12-18T23:53:46.620Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: to check whether the directory exists? ","date":"2014-12-18T23:53:54.802Z","type":"message"}
{"nick":"Fishrock123","date":"2014-12-18T23:54:38.469Z","type":"join"}
{"nick":"tjfontaine","message":"srl295: why do you want to do the stat and is it necessary? I don't think node does any explicit stat()s currently before getting to \"userland\" code","date":"2014-12-18T23:55:32.313Z","type":"message"}
{"nick":"tjfontaine","message":"at least that's what dtruss looks like to me currently","date":"2014-12-18T23:55:43.089Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: so this is to see if ${EXEPATH}/../share/node/icu/ exists","date":"2014-12-18T23:56:17.881Z","type":"message"}
{"nick":"tjfontaine","message":"will icu do the stat anyway when it goes to actually initialize?","date":"2014-12-18T23:56:44.647Z","type":"message"}
{"nick":"srl295","message":"tjfontaine: so.. we're back to use cases again.  If this is jgi's \"stub-icu\" mode, we can always set the directory to ${EXEPATH}/../share/node/icu/ if the user didn't tell us otherwise ","date":"2014-12-18T23:59:37.297Z","type":"message"}

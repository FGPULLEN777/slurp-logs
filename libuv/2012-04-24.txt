{"nick":"piscisaureus__","message":"bnoordhuis: apparently my bot was banned from #node.js","date":"2012-04-24T00:01:40.468Z","type":"message"}
{"nick":"piscisaureus__","message":"but it can't be for too much joins because there are none","date":"2012-04-24T00:01:53.569Z","type":"message"}
{"nick":"bnoordhuis","message":"odd","date":"2012-04-24T00:02:14.189Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: how did your bot get banned from node.js?","date":"2012-04-24T00:04:35.853Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: http://piscisaureus.no.de/node.js/latest#19:54:22.805","date":"2012-04-24T00:05:02.471Z","type":"message"}
{"nick":"benvie","message":"are you running it local or on a server?","date":"2012-04-24T00:07:50.563Z","type":"message"}
{"nick":"piscisaureus__","message":"no","date":"2012-04-24T00:07:53.811Z","type":"message"}
{"nick":"piscisaureus__","message":"didn't touch it in weeks","date":"2012-04-24T00:07:57.160Z","type":"message"}
{"nick":"benvie","message":"maybe duplicate credentials or something?","date":"2012-04-24T00:07:58.360Z","type":"message"}
{"nick":"piscisaureus__","message":"would be weird","date":"2012-04-24T00:08:04.514Z","type":"message"}
{"nick":"piscisaureus__","message":"what is the irc support channel?","date":"2012-04-24T00:08:15.934Z","type":"message"}
{"nick":"benvie","message":"or ip whatever","date":"2012-04-24T00:08:16.793Z","type":"message"}
{"nick":"benvie","message":"I think it's just #freenode","date":"2012-04-24T00:09:16.794Z","type":"message"}
{"nick":"piscisaureus__","message":"there seems to be a generic ban from 64.30.140.47","date":"2012-04-24T00:09:25.097Z","type":"message"}
{"nick":"benvie","message":"that's pretty odd","date":"2012-04-24T00:10:31.326Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: it should have access now","date":"2012-04-24T00:10:43.006Z","type":"message"}
{"nick":"isaacs","message":"can you try rejoining?","date":"2012-04-24T00:10:46.260Z","type":"message"}
{"nick":"benvie","message":"oh hey dherman is in node","date":"2012-04-24T00:11:35.227Z","type":"message"}
{"nick":"benvie","message":"based on the log =D","date":"2012-04-24T00:11:42.265Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: what was going on there: http://piscisaureus.no.de/node.js/latest#06:50:23.571","date":"2012-04-24T00:13:28.441Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: that was when ryah +O'ed everyone","date":"2012-04-24T00:14:07.896Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: and everyone started booting and bannign each other randomly","date":"2012-04-24T00:14:16.626Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: apparently someone banned slurp","date":"2012-04-24T00:14:29.602Z","type":"message"}
{"nick":"isaacs","message":"i can't seem to figure out how to unban it.  it says it's not +b now","date":"2012-04-24T00:14:39.792Z","type":"message"}
{"nick":"benvie","message":"ah yes, that night","date":"2012-04-24T00:23:06.856Z","type":"message"}
{"nick":"benvie","message":"remarkably civil given the circumstances","date":"2012-04-24T00:24:10.655Z","type":"message"}
{"nick":"piscisaureus__","message":"ok so slurp is back","date":"2012-04-24T00:26:41.344Z","type":"message"}
{"nick":"isaacs","message":"sweet","date":"2012-04-24T00:28:20.535Z","type":"message"}
{"nick":"brson","reason":"Read error: Connection reset by peer","date":"2012-04-24T00:29:57.749Z","type":"quit"}
{"nick":"brson","date":"2012-04-24T00:30:16.917Z","type":"join"}
{"nick":"piscisaureus__","message":"Unfortunate though. These idiots called _class_ and _root_ fucked it all up","date":"2012-04-24T00:31:50.983Z","type":"message"}
{"nick":"piscisaureus__","message":"Now I have no memory of these nice dtrace commands","date":"2012-04-24T00:32:09.628Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-04-24T00:47:45.352Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-24T01:08:29.924Z","type":"quit"}
{"nick":"coderarity","message":"_seriously_","date":"2012-04-24T01:10:18.989Z","type":"message"}
{"nick":"coderarity","message":"that's awesome","date":"2012-04-24T01:10:21.309Z","type":"message"}
{"nick":"coderarity","message":"__justgonnatrythis__","date":"2012-04-24T01:10:32.232Z","type":"message"}
{"nick":"coderarity","message":"huh, weird","date":"2012-04-24T01:10:45.034Z","type":"message"}
{"nick":"piscisaureus__","message":"Ah so the failure mode for slurp is -","date":"2012-04-24T01:16:58.227Z","type":"message"}
{"nick":"piscisaureus__","message":"  internet connectivity is lost. Node throws. Auto restart. No internet connectivity, never gets back up.","date":"2012-04-24T01:16:58.439Z","type":"message"}
{"nick":"piscisaureus__","message":"Sad","date":"2012-04-24T01:17:21.674Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: that's sad indeed","date":"2012-04-24T01:28:16.319Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: i suspect the same thing happens with ircretary from time to time","date":"2012-04-24T01:28:24.316Z","type":"message"}
{"nick":"abraxas","date":"2012-04-24T01:31:06.608Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-04-24T01:37:43.760Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-24T01:44:23.754Z","type":"quit"}
{"nick":"perezd","date":"2012-04-24T01:52:33.834Z","type":"join"}
{"nick":"perezd_","date":"2012-04-24T02:00:05.560Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 252 seconds","date":"2012-04-24T02:00:57.610Z","type":"quit"}
{"nick":"perezd","date":"2012-04-24T02:02:52.623Z","type":"join"}
{"nick":"perezd_","reason":"Ping timeout: 244 seconds","date":"2012-04-24T02:04:51.444Z","type":"quit"}
{"nick":"perezd_","date":"2012-04-24T02:08:06.157Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 260 seconds","date":"2012-04-24T02:11:05.414Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-04-24T02:11:05.734Z","type":"nick"}
{"nick":"avalanche123","reason":"Ping timeout: 252 seconds","date":"2012-04-24T02:26:22.663Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-04-24T02:28:08.587Z","type":"quit"}
{"nick":"erickt","date":"2012-04-24T02:29:14.926Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024359e81\u000f \u000310\u000f/ deps/v8/src/debug-agent.cc \u0002:\u000f ","date":"2012-04-24T02:33:15.500Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f v8: debug: fix error handling in SendConnectMessage()","date":"2012-04-24T02:33:15.501Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f The old error handling code checked if the return value of Socket::Send() != 0,","date":"2012-04-24T02:33:15.501Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f which is wrong because Socket::Send() can write less bytes than requested or","date":"2012-04-24T02:33:15.501Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f return -1 on error. - http://git.io/YhOcdw","date":"2012-04-24T02:33:15.501Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002ebfb8a5\u000f \u000310\u000f/ deps/v8/src/platform-posix.cc \u0002:\u000f ","date":"2012-04-24T02:33:16.457Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f v8: posix: handle EINTR in socket functions","date":"2012-04-24T02:33:17.082Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f The socket functions did not handle EINTR (syscall interrupted by signal) which","date":"2012-04-24T02:33:17.296Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f tripped up the debug agent. - http://git.io/Y-uyjA","date":"2012-04-24T02:33:18.084Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000248cdbff\u000f \u000310\u000f/ deps/v8/src/platform-posix.cc \u0002:\u000f ","date":"2012-04-24T02:33:18.296Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f v8: posix: try to send() whole buffer","date":"2012-04-24T02:33:19.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Retry the send() syscall after a partial write. - http://git.io/V2Li8Q","date":"2012-04-24T02:33:19.310Z","type":"message"}
{"nick":"bnoordhuis","message":"in case you're wondering -> http://code.google.com/p/v8/issues/detail?id=2098","date":"2012-04-24T02:41:27.374Z","type":"message"}
{"nick":"bnoordhuis","message":"also this: https://github.com/joyent/node/issues/3167","date":"2012-04-24T02:41:40.104Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-24T02:44:01.727Z","type":"quit"}
{"nick":"bnoordhuis","message":"xcode is an utter piece of crap, beachballing on me all the time","date":"2012-04-24T02:48:22.678Z","type":"message"}
{"nick":"bnoordhuis","message":"and people complain about eclipse!","date":"2012-04-24T02:48:42.972Z","type":"message"}
{"nick":"erickt","date":"2012-04-24T02:49:25.227Z","type":"join"}
{"nick":"ggreer","date":"2012-04-24T02:49:33.082Z","type":"join"}
{"nick":"ggreer","message":"...","date":"2012-04-24T02:49:35.022Z","type":"message"}
{"nick":"bnoordhuis","message":"ggreer: hi. enjoying the view?","date":"2012-04-24T02:50:47.536Z","type":"message"}
{"nick":"ggreer","message":"so that was bug-inception. bug in gutsy -> bug in whiskey -> bug in node -> bug in v8","date":"2012-04-24T02:50:47.752Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-04-24T02:50:54.907Z","type":"message"}
{"nick":"ggreer","message":"I definitely don't want to pass all signals through since, like you said, it would make it impossible to exit the debugger","date":"2012-04-24T02:51:47.616Z","type":"message"}
{"nick":"ggreer","message":"but right now if you child_process.spawn('node', ['debug', 'blah.js']), when you hit ctrl+c, the debugger exits even if you're in the repl","date":"2012-04-24T02:52:50.081Z","type":"message"}
{"nick":"ggreer","message":"so it's not handling that correctly, which is annoying","date":"2012-04-24T02:53:34.484Z","type":"message"}
{"nick":"bnoordhuis","message":"ggreer: if you're in the repl -> if you're _not_ in the repl?","date":"2012-04-24T02:54:05.988Z","type":"message"}
{"nick":"ggreer","message":"either way","date":"2012-04-24T02:54:14.616Z","type":"message"}
{"nick":"ggreer","message":"Press Ctrl + C to leave debug repl","date":"2012-04-24T02:54:45.032Z","type":"message"}
{"nick":"ggreer","message":"^C","date":"2012-04-24T02:54:45.243Z","type":"message"}
{"nick":"ggreer","message":"program terminated","date":"2012-04-24T02:54:45.454Z","type":"message"}
{"nick":"ggreer","message":":/","date":"2012-04-24T02:54:48.006Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that might be a platform difference","date":"2012-04-24T02:55:16.107Z","type":"message"}
{"nick":"ggreer","message":"actually let me double-check this by building a pristine node and stuff","date":"2012-04-24T02:55:25.957Z","type":"message"}
{"nick":"ggreer","message":"I can probably put together a small failure case","date":"2012-04-24T02:55:36.083Z","type":"message"}
{"nick":"bnoordhuis","message":"test cases always help :)","date":"2012-04-24T02:57:20.394Z","type":"message"}
{"nick":"ggreer","message":"macbook air is going to take forever to compile. /me grabs dinner","date":"2012-04-24T02:59:01.001Z","type":"message"}
{"nick":"c4milo_","reason":"Ping timeout: 265 seconds","date":"2012-04-24T03:00:46.271Z","type":"quit"}
{"nick":"perezd_","date":"2012-04-24T03:21:46.250Z","type":"join"}
{"nick":"piscisaureus__","message":"bnoordhuis:  hey","date":"2012-04-24T03:22:34.346Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: v8 doesn't take patches like that. You'll have to submit them to rietveld","date":"2012-04-24T03:22:46.990Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__: i've submitted a number of patches like that already :)","date":"2012-04-24T03:23:11.397Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: rly?","date":"2012-04-24T03:23:20.119Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2012-04-24T03:23:23.700Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: for me that never works","date":"2012-04-24T03:23:24.340Z","type":"message"}
{"nick":"perezd","reason":"Ping timeout: 246 seconds","date":"2012-04-24T03:23:28.918Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-04-24T03:23:29.172Z","type":"nick"}
{"nick":"piscisaureus__","message":"bnoordhuis: probalby because my patches are not trivial :-p","date":"2012-04-24T03:23:39.427Z","type":"message"}
{"nick":"bnoordhuis","message":"if by that you mean they need real close scrutiny, then yes, i agree :)","date":"2012-04-24T03:24:15.854Z","type":"message"}
{"nick":"piscisaureus__","message":"lol","date":"2012-04-24T03:24:33.529Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Kyle Robinson Young\u000f \u000307master\u000f * r\u0002d9bad09\u000f \u000310\u000f/ doc/api/util.markdown \u0002:\u000f doc: util: add args to format and methods error, puts, print - http://git.io/x6iWoQ","date":"2012-04-24T03:26:42.152Z","type":"message"}
{"nick":"piscisaureus__","message":"https://github.com/piscisaureus/libuv/blob/poll/src/win/poll.c","date":"2012-04-24T03:27:17.357Z","type":"message"}
{"nick":"bnoordhuis","message":"hey, that one again? https://github.com/joyent/node/issues/3168","date":"2012-04-24T03:27:18.272Z","type":"message"}
{"nick":"piscisaureus__","message":"the good news: it works","date":"2012-04-24T03:27:21.850Z","type":"message"}
{"nick":"bnoordhuis","message":"and the bad news?","date":"2012-04-24T03:27:26.800Z","type":"message"}
{"nick":"piscisaureus__","message":"the bad news: in fallback mode, it creates up to 2 threads per socket","date":"2012-04-24T03:27:35.019Z","type":"message"}
{"nick":"bnoordhuis","message":"wow","date":"2012-04-24T03:27:57.712Z","type":"message"}
{"nick":"piscisaureus__","message":"bla bla bla should","date":"2012-04-24T03:28:19.631Z","type":"message"}
{"nick":"piscisaureus__","message":"did someone push v8 out","date":"2012-04-24T03:28:23.921Z","type":"message"}
{"nick":"piscisaureus__","message":"I think I landed a patch for that a week ago","date":"2012-04-24T03:28:34.817Z","type":"message"}
{"nick":"bnoordhuis","message":"it wfm with master and 0.6","date":"2012-04-24T03:29:47.002Z","type":"message"}
{"nick":"piscisaureus__","message":"this dude os probably using an old version of node","date":"2012-04-24T03:30:58.726Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-24T03:31:23.635Z","type":"quit"}
{"nick":"piscisaureus__","message":"ff ter zijde","date":"2012-04-24T03:31:29.127Z","type":"message"}
{"nick":"piscisaureus__","message":"zijn kop staat me niet aan","date":"2012-04-24T03:31:33.581Z","type":"message"}
{"nick":"piscisaureus__","message":"https://secure.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=140&d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","date":"2012-04-24T03:31:34.112Z","type":"message"}
{"nick":"isaacs","date":"2012-04-24T03:32:13.115Z","type":"join"}
{"nick":"bnoordhuis","message":"ah... commit 5d69bbf, landed on april 16","date":"2012-04-24T03:32:14.971Z","type":"message"}
{"nick":"bnoordhuis","message":"seen google's home page today yet?","date":"2012-04-24T03:35:37.709Z","type":"message"}
{"nick":"piscisaureus__","message":".yep","date":"2012-04-24T03:38:05.685Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: ok I am off","date":"2012-04-24T03:38:09.769Z","type":"message"}
{"nick":"ggreer","message":"https://gist.github.com/2476191","date":"2012-04-24T03:38:13.060Z","type":"message"}
{"nick":"ggreer","message":"I'll try the same thing on a linux box. that was 0.6.15 on os x 10.7","date":"2012-04-24T03:38:29.123Z","type":"message"}
{"nick":"ggreer","message":"same behavior on ubuntu 10.04","date":"2012-04-24T03:42:26.863Z","type":"message"}
{"nick":"bnoordhuis","message":"ggreer: can you post that in the issue? i guess i'll grab a few hours of sleep as well","date":"2012-04-24T03:46:57.606Z","type":"message"}
{"nick":"ggreer","message":"sure","date":"2012-04-24T03:47:03.351Z","type":"message"}
{"nick":"ggreer","message":"thanks for your help","date":"2012-04-24T03:47:05.284Z","type":"message"}
{"nick":"ggreer","message":"this has been an interesting trek into mordor","date":"2012-04-24T03:47:18.597Z","type":"message"}
{"nick":"piscisaureus__","message":"yeah","date":"2012-04-24T03:48:59.215Z","type":"message"}
{"nick":"piscisaureus__","message":"off to bed","date":"2012-04-24T03:49:00.754Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: come to the office some day","date":"2012-04-24T03:49:06.120Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__: i'll be there tomorrow","date":"2012-04-24T03:49:20.631Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: really?","date":"2012-04-24T03:49:29.907Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: what time?","date":"2012-04-24T03:49:33.649Z","type":"message"}
{"nick":"bnoordhuis","message":"tomorrow as in wednesday","date":"2012-04-24T03:49:43.647Z","type":"message"}
{"nick":"piscisaureus__","message":"ghe lol","date":"2012-04-24T03:49:49.480Z","type":"message"}
{"nick":"piscisaureus__","message":"ok","date":"2012-04-24T03:49:51.168Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll be there around noon so get up early :)","date":"2012-04-24T03:50:07.328Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, sleep tight","date":"2012-04-24T03:50:11.072Z","type":"message"}
{"nick":"piscisaureus__","message":"fuck","date":"2012-04-24T03:50:56.388Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: I wil dismantle my desk so there's nothing for you to stream >:-)","date":"2012-04-24T03:51:20.742Z","type":"message"}
{"nick":"piscisaureus__","message":"*steal","date":"2012-04-24T03:51:24.762Z","type":"message"}
{"nick":"piscisaureus__","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-04-24T03:52:03.493Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2012-04-24T03:52:17.388Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-24T04:45:12.298Z","type":"quit"}
{"nick":"isaacs","reason":"Ping timeout: 260 seconds","date":"2012-04-24T04:46:15.409Z","type":"quit"}
{"nick":"isaacs","date":"2012-04-24T04:59:48.033Z","type":"join"}
{"nick":"paddybyers","date":"2012-04-24T05:38:30.325Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-24T05:42:57.551Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-04-24T06:02:01.658Z","type":"join"}
{"nick":"orlandovftw","reason":"Client Quit","date":"2012-04-24T06:02:40.290Z","type":"quit"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-04-24T06:18:21.461Z","type":"quit"}
{"nick":"rendar","date":"2012-04-24T06:37:23.475Z","type":"join"}
{"nick":"benvie","reason":"Read error: Operation timed out","date":"2012-04-24T06:39:43.622Z","type":"quit"}
{"nick":"benvie","date":"2012-04-24T06:39:59.138Z","type":"join"}
{"nick":"benvie","reason":"Remote host closed the connection","date":"2012-04-24T06:48:28.900Z","type":"quit"}
{"nick":"benvie","date":"2012-04-24T06:48:44.173Z","type":"join"}
{"nick":"benvie","reason":"Remote host closed the connection","date":"2012-04-24T06:54:55.346Z","type":"quit"}
{"nick":"benvie","date":"2012-04-24T06:55:12.434Z","type":"join"}
{"nick":"mraleph","date":"2012-04-24T07:06:10.124Z","type":"join"}
{"nick":"mraleph","reason":"Remote host closed the connection","date":"2012-04-24T07:06:27.975Z","type":"quit"}
{"nick":"benvie","date":"2012-04-24T07:40:35.994Z","type":"quit"}
{"nick":"benvie","date":"2012-04-24T07:41:10.623Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 244 seconds","date":"2012-04-24T11:08:54.338Z","type":"quit"}
{"nick":"paddybyers","date":"2012-04-24T11:09:13.076Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 272 seconds","date":"2012-04-24T11:16:07.077Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-04-24T12:56:33.088Z","type":"join"}
{"nick":"demarchi","message":"bnoordhuis: hey, any news on the mainloop refactor?","date":"2012-04-24T13:13:21.470Z","type":"message"}
{"nick":"bnoordhuis","message":"demarchi: nearing completion, working on the windows bits","date":"2012-04-24T13:18:19.563Z","type":"message"}
{"nick":"c4milo","date":"2012-04-24T13:28:28.361Z","type":"join"}
{"nick":"demarchi","message":"bnoordhuis: nice... so the linux part is ready/","date":"2012-04-24T13:29:27.718Z","type":"message"}
{"nick":"demarchi","message":"?","date":"2012-04-24T13:29:28.420Z","type":"message"}
{"nick":"bnoordhuis","message":"demarchi: more or less. could use some cleanup but it works and passes all tests (well, except one)","date":"2012-04-24T13:30:45.308Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis: I had a quick look, does uv_run_once not block if there are no active handles? (after the refractor) I see NOWAIT would be passed to ev_run apparently","date":"2012-04-24T13:36:10.719Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: yes. as in, won't block","date":"2012-04-24T13:36:47.951Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis, zoo neat, can't thank you enough for that :-)","date":"2012-04-24T13:37:17.489Z","type":"message"}
{"nick":"saghul","message":"*soo","date":"2012-04-24T13:37:20.493Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i don't know","date":"2012-04-24T13:37:30.280Z","type":"message"}
{"nick":"bnoordhuis","message":"buy me 20 beers and we'll call it even","date":"2012-04-24T13:37:35.471Z","type":"message"}
{"nick":"bnoordhuis","action":"is gone shopping","date":"2012-04-24T13:38:12.267Z","type":"action"}
{"nick":"saghul","message":"heh, next time you come to Amsterdam I'm buying!","date":"2012-04-24T13:38:15.938Z","type":"message"}
{"nick":"bnoordhuis","message":"because programming is hard","date":"2012-04-24T13:38:16.257Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: i'm keeping you to that :)","date":"2012-04-24T13:38:24.792Z","type":"message"}
{"nick":"demarchi","message":"bnoordhuis: but... did you add the api to get epoll's fd to be managed by another mainloop?","date":"2012-04-24T14:06:40.164Z","type":"message"}
{"nick":"wankdanker","date":"2012-04-24T14:16:34.110Z","type":"join"}
{"nick":"erickt","date":"2012-04-24T14:26:34.642Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-04-24T14:40:36.930Z","type":"join"}
{"nick":"perezd_","date":"2012-04-24T14:43:42.114Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 265 seconds","date":"2012-04-24T14:46:13.058Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-04-24T14:46:13.257Z","type":"nick"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey, yt?","date":"2012-04-24T14:50:14.118Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-04-24T14:52:46.711Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: can you skype?>","date":"2012-04-24T14:52:55.890Z","type":"message"}
{"nick":"perezd","reason":"Read error: Connection reset by peer","date":"2012-04-24T15:02:16.236Z","type":"quit"}
{"nick":"perezd","date":"2012-04-24T15:02:22.999Z","type":"join"}
{"nick":"piscisaureus__","date":"2012-04-24T15:02:23.419Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 256 seconds","date":"2012-04-24T15:02:52.515Z","type":"quit"}
{"nick":"perezd","reason":"Ping timeout: 260 seconds","date":"2012-04-24T15:08:54.734Z","type":"quit"}
{"nick":"isaacs","date":"2012-04-24T15:09:38.419Z","type":"join"}
{"nick":"bnoordhuis","message":"so the next ubuntu release is called quantal quetzal","date":"2012-04-24T15:29:40.999Z","type":"message"}
{"nick":"bnoordhuis","message":"i wonder how many misspellings will pop up","date":"2012-04-24T15:30:13.681Z","type":"message"}
{"nick":"tjfontaine","message":"far too many","date":"2012-04-24T15:31:49.252Z","type":"message"}
{"nick":"txdv","message":"horny horse","date":"2012-04-24T15:35:45.642Z","type":"message"}
{"nick":"isaacs","message":"lol","date":"2012-04-24T15:37:42.954Z","type":"message"}
{"nick":"perezd_","date":"2012-04-24T15:38:06.607Z","type":"join"}
{"nick":"perezd_","reason":"Quit: perezd_","date":"2012-04-24T15:52:28.277Z","type":"quit"}
{"nick":"bnoordhuis","message":"demarchi: sorry, missed your comment. no, not yet","date":"2012-04-24T15:58:37.938Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-04-24T15:59:32.692Z","type":"join"}
{"nick":"brson","date":"2012-04-24T16:00:41.510Z","type":"join"}
{"nick":"perezd","date":"2012-04-24T16:11:08.362Z","type":"join"}
{"nick":"dap","date":"2012-04-24T16:11:26.406Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-24T16:16:24.563Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-04-24T16:19:41.323Z","type":"join"}
{"nick":"stephank","date":"2012-04-24T16:20:01.376Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-24T16:59:29.926Z","type":"quit"}
{"nick":"erickt","date":"2012-04-24T17:07:45.235Z","type":"join"}
{"nick":"avalanche123","date":"2012-04-24T17:08:28.140Z","type":"join"}
{"nick":"`3rdEden","date":"2012-04-24T17:28:25.407Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2012-04-24T17:39:21.738Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 272 seconds","date":"2012-04-24T17:40:33.109Z","type":"quit"}
{"nick":"avalanche123","date":"2012-04-24T17:42:36.566Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-04-24T17:42:49.378Z","type":"quit"}
{"nick":"isaacs","date":"2012-04-24T17:44:52.959Z","type":"join"}
{"nick":"TooTallNate","date":"2012-04-24T17:49:10.508Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: hey","date":"2012-04-24T17:55:49.345Z","type":"message"}
{"nick":"piscisaureus__","message":"igorzi: hey","date":"2012-04-24T17:56:13.453Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: there's an issue with one of the machines in the test cluster.. our lab guy is taking a look","date":"2012-04-24T17:56:23.115Z","type":"message"}
{"nick":"piscisaureus__","message":"igorzi: ok... thanks","date":"2012-04-24T17:56:32.463Z","type":"message"}
{"nick":"piscisaureus__","message":"igorzi: let me know","date":"2012-04-24T17:56:46.403Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus__: yep.. hopefully it'll be ready later today","date":"2012-04-24T17:56:57.516Z","type":"message"}
{"nick":"piscisaureus__","message":"igorzi: kewl","date":"2012-04-24T17:57:06.030Z","type":"message"}
{"nick":"`3rdEden","date":"2012-04-24T17:58:52.035Z","type":"join"}
{"nick":"`3rdEden","reason":"Client Quit","date":"2012-04-24T18:02:34.264Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-04-24T18:16:41.408Z","type":"join"}
{"nick":"mjr_","message":"bnoordhuis: time for my daily pestering about this TLS bug.  Let me know if I can help.","date":"2012-04-24T18:22:12.173Z","type":"message"}
{"nick":"piscisaureus__","message":"igorzi: bnoordhuis: remember that we did _setMaxSimultaneousAccepts in node windows when running in a cluster setup","date":"2012-04-24T18:27:17.876Z","type":"message"}
{"nick":"piscisaureus__","message":"it seems that node for unix needs exactly the same hack","date":"2012-04-24T18:27:25.455Z","type":"message"}
{"nick":"piscisaureus__","message":"we just found out the hard way","date":"2012-04-24T18:27:33.571Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: oh, interesting.  is that the source of your cluster-not-balancing thing?","date":"2012-04-24T18:30:01.145Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: yes","date":"2012-04-24T18:30:27.085Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus__: awesome.  sounds like we're due for a 0.6.16 :)","date":"2012-04-24T18:30:51.798Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: well actually we patched it in node 0.4 :-)","date":"2012-04-24T18:31:03.646Z","type":"message"}
{"nick":"isaacs","message":"oh, you guys are on 0.4??","date":"2012-04-24T18:31:14.920Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: yes, :-(","date":"2012-04-24T18:31:22.705Z","type":"message"}
{"nick":"isaacs","message":"was there even clusterability back then?","date":"2012-04-24T18:31:24.967Z","type":"message"}
{"nick":"isaacs","message":"i guess, huh","date":"2012-04-24T18:31:27.090Z","type":"message"}
{"nick":"isaacs","message":"since you had sendFD","date":"2012-04-24T18:31:29.406Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: will switch in 1 week","date":"2012-04-24T18:31:30.441Z","type":"message"}
{"nick":"isaacs","message":"awesome.","date":"2012-04-24T18:31:36.842Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: no, the problem is require.paths removal","date":"2012-04-24T18:31:44.109Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: c9 has it's own way of doing node_modules that predates node's way","date":"2012-04-24T18:32:04.607Z","type":"message"}
{"nick":"piscisaureus__","message":"isaacs: changing that is super invasive","date":"2012-04-24T18:32:23.705Z","type":"message"}
{"nick":"TooTallNate","message":"anyone wanna review? https://github.com/TooTallNate/node/compare/stdin2","date":"2012-04-24T18:33:40.446Z","type":"message"}
{"nick":"TooTallNate","message":"^ that fixes `echo \"'hello world'\" | node -p` not working as expected","date":"2012-04-24T18:34:11.310Z","type":"message"}
{"nick":"isaacs","reason":"Ping timeout: 240 seconds","date":"2012-04-24T18:35:43.578Z","type":"quit"}
{"nick":"ggreer","message":"bnoordhuis: so if I wanted to make sure the node debugger worked properly, I should grab v8, apply your patch to it, and build node with that?","date":"2012-04-24T18:36:46.711Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-04-24T18:36:47.444Z","type":"quit"}
{"nick":"seebees","date":"2012-04-24T18:53:39.139Z","type":"join"}
{"nick":"bnoordhuis","message":"ggreer: i landed the v8 patches in node master yesterday","date":"2012-04-24T18:54:03.424Z","type":"message"}
{"nick":"ggreer","message":"oh, cool","date":"2012-04-24T18:54:13.395Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-24T18:57:33.421Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-04-24T18:58:39.469Z","type":"join"}
{"nick":"mjr_","message":"Kind of seems like node's UDP incoming Buffer allocator isn't working right:  http://ranney.com/ms2.svg","date":"2012-04-24T19:03:23.793Z","type":"message"}
{"nick":"mjr_","message":"That's a process at 100% CPU processing about 3,000 UDP packets/sec.","date":"2012-04-24T19:03:43.978Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: 0.6.latest?","date":"2012-04-24T19:03:44.868Z","type":"message"}
{"nick":"mjr_","message":"Yes","date":"2012-04-24T19:03:48.975Z","type":"message"}
{"nick":"mjr_","message":"With the no idle patch also","date":"2012-04-24T19:03:56.228Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: there was an issue with the slab allocator, but that was fixed. Maybe it's only in 0.8","date":"2012-04-24T19:04:17.771Z","type":"message"}
{"nick":"mjr_","message":"Oh yeah, no idle is a huge win that so far I recommend completely, even as the default.","date":"2012-04-24T19:04:37.176Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: no idle at all?","date":"2012-04-24T19:04:50.467Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: yeah, new slab allocator isn't in 0.6","date":"2012-04-24T19:05:11.466Z","type":"message"}
{"nick":"mjr_","message":"piscisaureus__: yeah, it seems like the slab allocator isn't kicking in, there are perhaps 2 different invocations of Buffer::New for each incoming packet.","date":"2012-04-24T19:05:15.701Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: yeah, in 0.6 the slab allocator doesn't work for UDP","date":"2012-04-24T19:05:38.914Z","type":"message"}
{"nick":"mjr_","message":"Yes, completely removed the idle GC timer with ryah_'s patch.  So far it wins.","date":"2012-04-24T19:05:51.889Z","type":"message"}
{"nick":"piscisaureus__","message":"3ec84a1 Slab allocator: don't attempt to shrink a non-buffer","date":"2012-04-24T19:07:10.328Z","type":"message"}
{"nick":"mjr_","message":"But I am sad that the UDP version of my metrics program is much slower than the TCP version of the same.","date":"2012-04-24T19:07:23.435Z","type":"message"}
{"nick":"mjr_","message":"Perhaps 10X slower.","date":"2012-04-24T19:07:40.871Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr: you should try to apply:","date":"2012-04-24T19:08:49.850Z","type":"message"}
{"nick":"piscisaureus__","message":"3ec84a1 Slab allocator: don't attempt to shrink a non-buffer","date":"2012-04-24T19:08:50.053Z","type":"message"}
{"nick":"piscisaureus__","message":"1ab95a5 udp_wrap: use new slab allocator","date":"2012-04-24T19:08:50.053Z","type":"message"}
{"nick":"piscisaureus__","message":"08032ef core: add reusable slab allocator","date":"2012-04-24T19:08:50.053Z","type":"message"}
{"nick":"piscisaureus__","message":"f86359c udp: root JS objects in HandleScope with Local<>","date":"2012-04-24T19:08:50.053Z","type":"message"}
{"nick":"piscisaureus__","message":"32b2964 udp: remove slab allocator","date":"2012-04-24T19:08:50.252Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: in bottom to top order","date":"2012-04-24T19:08:59.760Z","type":"message"}
{"nick":"piscisaureus__","message":"lemme try","date":"2012-04-24T19:09:14.631Z","type":"message"}
{"nick":"mjr_","message":"oh, interesting.  So this is a known and handled issue in 0.8","date":"2012-04-24T19:09:22.709Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: yes","date":"2012-04-24T19:09:29.099Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: basically the udp slab allocator is completely nonfunctioning in 0.6","date":"2012-04-24T19:09:41.289Z","type":"message"}
{"nick":"piscisaureus__","message":"but the patch is pretty invasive so we didn't backport","date":"2012-04-24T19:09:51.524Z","type":"message"}
{"nick":"mjr_","message":"That lines up with this flame graph.","date":"2012-04-24T19:09:54.194Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__, mjr_: the new slab allocator wasn't back-ported to 0.6","date":"2012-04-24T19:10:26.332Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, piscisaureus__ already said that","date":"2012-04-24T19:10:38.092Z","type":"message"}
{"nick":"mjr_","message":"1ab95a5 doesn't apply cleanly","date":"2012-04-24T19:11:35.489Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: one sec","date":"2012-04-24T19:12:45.672Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, that also fixed the problem of buffers not properly being rooted in a gc scope","date":"2012-04-24T19:14:08.871Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, we should back-port that anyway","date":"2012-04-24T19:14:18.744Z","type":"message"}
{"nick":"mjr_","message":"is that a potential memory leak source?","date":"2012-04-24T19:14:51.208Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: I don't think it is needed","date":"2012-04-24T19:16:26.744Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: try to resolve the conflicts :-)","date":"2012-04-24T19:16:43.202Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: it was manifesting itself as zero-length reads","date":"2012-04-24T19:16:44.517Z","type":"message"}
{"nick":"mjr_","message":"oh shit, we have that a lot","date":"2012-04-24T19:16:53.978Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: mjr_: it seems that if we want to backport the slab allocator we'd have to go all the way","date":"2012-04-24T19:27:03.546Z","type":"message"}
{"nick":"piscisaureus__","message":"e.g. also use it for other streams","date":"2012-04-24T19:27:12.866Z","type":"message"}
{"nick":"piscisaureus__","message":"because 3ec84a1 makes stream_wrap aware of the slab allocator","date":"2012-04-24T19:27:34.464Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: is there nothing better than quilt?","date":"2012-04-24T19:28:23.341Z","type":"message"}
{"nick":"mjr_","message":"Should i just convert this thing back to TCP, or does this aggressive back port seem like it'll happen?","date":"2012-04-24T19:28:37.886Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: can git not handle this natively. I though this was sort of what git merge does?","date":"2012-04-24T19:28:39.356Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: maybe just run 0.7 :-)","date":"2012-04-24T19:29:00.617Z","type":"message"}
{"nick":"mjr_","message":"oh man, I want to.","date":"2012-04-24T19:29:11.435Z","type":"message"}
{"nick":"mjr_","message":"Because emoji will probably work.","date":"2012-04-24T19:29:18.986Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: I think current 0.7 is pretty stable","date":"2012-04-24T19:29:28.950Z","type":"message"}
{"nick":"mjr_","message":"But dtrace magic almost certainly will not.","date":"2012-04-24T19:29:29.150Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: it may degrade for a while when the refcount refactor lands tho","date":"2012-04-24T19:29:54.405Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: I don't thing we'll backport the udp slab allocator to 0.6 though.","date":"2012-04-24T19:30:42.412Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: not on the official branch that is","date":"2012-04-24T19:30:51.055Z","type":"message"}
{"nick":"piscisaureus__","message":"It's too risky","date":"2012-04-24T19:30:59.195Z","type":"message"}
{"nick":"bnoordhuis","message":"well, i'm halfway there","date":"2012-04-24T19:33:17.029Z","type":"message"}
{"nick":"piscisaureus__","message":"ok, I'll way","date":"2012-04-24T19:33:31.346Z","type":"message"}
{"nick":"bnoordhuis","message":"some conflicts but manageable","date":"2012-04-24T19:33:36.704Z","type":"message"}
{"nick":"mjr_","message":"I'm happy to test with real load if you think it might work.","date":"2012-04-24T19:38:24.232Z","type":"message"}
{"nick":"bnoordhuis","message":"running tests","date":"2012-04-24T19:38:41.155Z","type":"message"}
{"nick":"mjr_","message":"Sometimes \"make test\" on node 0.6 locks up my SmartOS machines for about 5 minutes.  Kind of a bummer in production.","date":"2012-04-24T19:40:37.123Z","type":"message"}
{"nick":"mjr_","message":"To hear me complain, you'd think that node didn't work at all.","date":"2012-04-24T19:41:21.474Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: now also port this to libuv: https://github.com/piscisaureus/node/compare/v0.4...v0.4-cluster-starvation :-)","date":"2012-04-24T19:41:22.865Z","type":"message"}
{"nick":"mjr_","message":"When the opposite is obviously true.","date":"2012-04-24T19:41:26.247Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: otherwise, tomorrow","date":"2012-04-24T19:41:26.508Z","type":"message"}
{"nick":"bnoordhuis","message":"it's mostly mode=debug that bums me out when running tests, mode=release is pretty fast","date":"2012-04-24T19:43:20.717Z","type":"message"}
{"nick":"piscisaureus__","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-04-24T19:44:19.418Z","type":"quit"}
{"nick":"bnoordhuis","message":"mjr_: https://github.com/bnoordhuis/node/compare/v0.6...slab-allocator","date":"2012-04-24T19:45:45.223Z","type":"message"}
{"nick":"mjr_","message":"Cool, I'll check it out.","date":"2012-04-24T19:48:59.758Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-24T19:49:31.138Z","type":"quit"}
{"nick":"bnoordhuis","message":"mjr_: if you can test it under load and report back, that'd be great","date":"2012-04-24T19:52:53.899Z","type":"message"}
{"nick":"mjr_","message":"on it","date":"2012-04-24T19:53:00.748Z","type":"message"}
{"nick":"bnoordhuis","message":"$ python tools/test.py --mode=debug,release simple","date":"2012-04-24T19:53:51.071Z","type":"message"}
{"nick":"bnoordhuis","message":"[10:46|% 100|+ 678|-   0]: Done","date":"2012-04-24T19:53:51.273Z","type":"message"}
{"nick":"bnoordhuis","message":"so far so good","date":"2012-04-24T19:53:54.742Z","type":"message"}
{"nick":"mjr_","message":"testing out on my local machine, and then I'll move to SmartOS, and then try on a real live machine.","date":"2012-04-24T19:54:21.847Z","type":"message"}
{"nick":"mraleph","date":"2012-04-24T19:56:45.608Z","type":"join"}
{"nick":"bnoordhuis","message":"aw, i have one less github follower","date":"2012-04-24T20:00:12.937Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: there, I've compensated for the universe","date":"2012-04-24T20:08:09.512Z","type":"message"}
{"nick":"bnoordhuis","message":"yay, thanks :)","date":"2012-04-24T20:08:48.599Z","type":"message"}
{"nick":"tjfontaine","message":"glad to be of service when I can","date":"2012-04-24T20:13:26.106Z","type":"message"}
{"nick":"creationix","reason":"Quit: ZNC - http://znc.in","date":"2012-04-24T20:18:55.490Z","type":"quit"}
{"nick":"indutny_znc","reason":"Quit: ZNC - http://znc.in","date":"2012-04-24T20:18:56.534Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-04-24T20:22:49.923Z","type":"join"}
{"nick":"perezd","date":"2012-04-24T20:28:24.290Z","type":"join"}
{"nick":"TooTallNate","message":"bnoordhuis: could you review when you get a chance? https://github.com/TooTallNate/node/compare/stdin2","date":"2012-04-24T20:33:05.539Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: can you tell me what it does in five words or less?","date":"2012-04-24T20:33:35.667Z","type":"message"}
{"nick":"TooTallNate","message":"makes `echo 'require(\"locally-installed-package\")' | node` work as expected","date":"2012-04-24T20:34:04.368Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: also the commit messages have more details","date":"2012-04-24T20:34:28.976Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: looks okay to me","date":"2012-04-24T20:36:08.932Z","type":"message"}
{"nick":"TooTallNate","message":"just ok?","date":"2012-04-24T20:36:27.995Z","type":"message"}
{"nick":"bnoordhuis","message":"were you hoping for 'great' or 'terrific'? :)","date":"2012-04-24T20:36:55.847Z","type":"message"}
{"nick":"piscisaureus_","message":"\"lotm\"","date":"2012-04-24T20:37:04.828Z","type":"message"}
{"nick":"TooTallNate","message":"haha :p","date":"2012-04-24T20:37:08.912Z","type":"message"}
{"nick":"TooTallNate","message":"thanks","date":"2012-04-24T20:37:13.483Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00020b5235e\u000f \u000310\u000f/ src/node.js \u0002:\u000f (log message trimmed)","date":"2012-04-24T20:37:53.615Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f process: make --eval and reading scripts from stdin act the same","date":"2012-04-24T20:37:53.615Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Reusing the same logic for both places for the behavior is consistent.","date":"2012-04-24T20:37:53.615Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f For example:","date":"2012-04-24T20:37:53.615Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  $ ./node -p -e \"'Hello World'\"","date":"2012-04-24T20:37:53.615Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  Hello World","date":"2012-04-24T20:37:54.071Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  $ echo \"'Hello World'\" | ./node -p","date":"2012-04-24T20:37:54.273Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00026292df6\u000f \u000310\u000f/ src/node.cc \u0002:\u000f process: comment for consistency - http://git.io/rd6TEg","date":"2012-04-24T20:37:55.084Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u0002ef3a874\u000f \u000310\u000f/ src/node.cc \u0002:\u000f ","date":"2012-04-24T20:37:56.107Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f process: set _print_eval even when --eval is not passed","date":"2012-04-24T20:37:56.313Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f This is for scripts being fed from stdin:","date":"2012-04-24T20:37:57.092Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  $ echo \"{ foo: 'bar' }\" | node -p - http://git.io/CKzyBA","date":"2012-04-24T20:37:57.293Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: src/win/pipe.c:164:7: warning: ‘_errno’ redeclared without dllimport attribute: previous dllimport ignored [-Wattributes]","date":"2012-04-24T20:39:04.009Z","type":"message"}
{"nick":"bnoordhuis","message":"should i worry about that?","date":"2012-04-24T20:39:09.894Z","type":"message"}
{"nick":"piscisaureus_","message":"uhh","date":"2012-04-24T20:39:13.175Z","type":"message"}
{"nick":"piscisaureus_","message":"we're using that?","date":"2012-04-24T20:39:25.527Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think we shouldn't be using that... but we're using an local var named \"errno\" sometimes","date":"2012-04-24T20:40:19.361Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did you accidentally remove an `int errno` somewhere?","date":"2012-04-24T20:40:30.006Z","type":"message"}
{"nick":"bnoordhuis","message":"no, this is with master","date":"2012-04-24T20:40:35.958Z","type":"message"}
{"nick":"piscisaureus_","message":"(I agree the var should be renamed)","date":"2012-04-24T20:40:37.987Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll rename it","date":"2012-04-24T20:40:42.234Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just replace errno by errorno in the entire file","date":"2012-04-24T20:40:55.502Z","type":"message"}
{"nick":"piscisaureus_","message":"and see what it does","date":"2012-04-24T20:40:57.515Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2012-04-24T20:41:13.798Z","type":"message"}
{"nick":"bnoordhuis","message":"haha, wtf","date":"2012-04-24T20:41:38.183Z","type":"message"}
{"nick":"bnoordhuis","message":"make: Warning: File `test/test-list.h' has modification time 9.2e+04 s in the future","date":"2012-04-24T20:41:38.905Z","type":"message"}
{"nick":"piscisaureus_","message":"huh","date":"2012-04-24T20:41:56.287Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/commit/7ae7bb6 <- that look okay to you?","date":"2012-04-24T20:45:55.939Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: lgtm if it works","date":"2012-04-24T20:54:51.504Z","type":"message"}
{"nick":"bnoordhuis","message":"it compiles, that's good enough right?","date":"2012-04-24T20:55:24.813Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-24T20:57:38.740Z","type":"quit"}
{"nick":"perezd","date":"2012-04-24T20:58:24.611Z","type":"join"}
{"nick":"perezd","reason":"Client Quit","date":"2012-04-24T21:00:56.891Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00028ff4b1b\u000f \u000310\u000f/ src/win/pipe.c \u0002:\u000f windows: rename local var errno to errorno - http://git.io/8AYbBw","date":"2012-04-24T21:01:27.715Z","type":"message"}
{"nick":"bnoordhuis","message":"wait, i'll update the commit log","date":"2012-04-24T21:01:58.375Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: are you compiling on nfs?","date":"2012-04-24T21:02:11.220Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: on sshfs","date":"2012-04-24T21:02:35.151Z","type":"message"}
{"nick":"tjfontaine","message":"ah, time drifts can make things fun :)","date":"2012-04-24T21:02:47.116Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah :) a couple of seconds i expect but not that","date":"2012-04-24T21:03:05.033Z","type":"message"}
{"nick":"tjfontaine","message":"I think that happens especially with fuse and metadata","date":"2012-04-24T21:03:08.108Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T21:03:23.431Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#218 (master - 8ff4b1b : Ben Noordhuis): The build is still failing.","date":"2012-04-24T21:03:23.638Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/1f001fe...8ff4b1b","date":"2012-04-24T21:03:23.638Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1167244","date":"2012-04-24T21:03:23.638Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T21:03:23.638Z","type":"part"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000284d2f82\u000f \u000310\u000f/ src/win/pipe.c \u0002:\u000f ","date":"2012-04-24T21:03:47.699Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f windows: rename local var errno to errorno","date":"2012-04-24T21:03:47.699Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f Fixes compiler warning: ‘_errno’ redeclared without dllimport attribute:","date":"2012-04-24T21:03:47.699Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f previous dllimport ignored. - http://git.io/U1H1qw","date":"2012-04-24T21:03:47.699Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T21:05:54.569Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#219 (master - 84d2f82 : Ben Noordhuis): The build is still failing.","date":"2012-04-24T21:05:54.789Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/8ff4b1b...84d2f82","date":"2012-04-24T21:05:54.789Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1167266","date":"2012-04-24T21:05:54.789Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T21:05:54.789Z","type":"part"}
{"nick":"perezd","date":"2012-04-24T21:07:43.111Z","type":"join"}
{"nick":"orlandovftw","reason":"Quit: leaving","date":"2012-04-24T21:23:31.594Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-04-24T21:23:50.615Z","type":"join"}
{"nick":"isaacs","date":"2012-04-24T21:43:02.112Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-04-24T21:55:24.024Z","type":"quit"}
{"nick":"brson","date":"2012-04-24T21:55:36.448Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-04-24T21:59:56.182Z","type":"quit"}
{"nick":"creationix","date":"2012-04-24T22:06:41.773Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-04-24T22:13:07.664Z","type":"quit"}
{"nick":"creationix","message":"is it just me or has the #node.js room become useless for asking hard questions?","date":"2012-04-24T22:16:14.480Z","type":"message"}
{"nick":"creationix","message":"(by hard question I mean something *I* still don't know after using node for years)","date":"2012-04-24T22:16:54.933Z","type":"message"}
{"nick":"rendar","date":"2012-04-24T22:20:28.114Z","type":"quit"}
{"nick":"TooTallNate","message":"creationix: i'm interesting in the pipe thing too; i think i've experienced that before but didn't look too deep into it","date":"2012-04-24T22:22:23.576Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: and ^ probably because there's only a handful of people who actually know the answer to those hard questions :","date":"2012-04-24T22:22:53.130Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2012-04-24T22:22:53.881Z","type":"message"}
{"nick":"creationix","message":"I'm so close to having proper stream flow-control in my vfs library","date":"2012-04-24T22:23:16.669Z","type":"message"}
{"nick":"creationix","message":"but my pipes are breaking everything","date":"2012-04-24T22:23:22.812Z","type":"message"}
{"nick":"creationix","message":"it just returns true and buffers 40mb of json","date":"2012-04-24T22:23:33.629Z","type":"message"}
{"nick":"TooTallNate","message":"sounds like a bug :D","date":"2012-04-24T22:23:41.557Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: but wouldn't it be because stdout is sync now?","date":"2012-04-24T22:24:06.647Z","type":"message"}
{"nick":"TooTallNate","message":"so... it's always been flushed","date":"2012-04-24T22:24:14.131Z","type":"message"}
{"nick":"creationix","message":"if it's sync, then wouldn't it block?","date":"2012-04-24T22:24:24.091Z","type":"message"}
{"nick":"TooTallNate","message":"yes. is it not?","date":"2012-04-24T22:24:35.660Z","type":"message"}
{"nick":"creationix","message":"my test is I'm streaming 100,000 rows of json tunneled over stdout and then to a http response that's sent to a rate limited curl","date":"2012-04-24T22:25:22.190Z","type":"message"}
{"nick":"creationix","message":"if I go directly to http and skip the tunnel it works great","date":"2012-04-24T22:25:33.182Z","type":"message"}
{"nick":"creationix","message":"but when I add the stdout tunnel it sends all 100,000 lines and curl is still chewing on line 1000 or so","date":"2012-04-24T22:26:04.643Z","type":"message"}
{"nick":"creationix","message":"I've tried the tunnel both over a new raw Pipe and child process (using the bi-directional stdin truck ChildProcess.fowk does)","date":"2012-04-24T22:26:52.641Z","type":"message"}
{"nick":"creationix","message":"and with a ssh child process tunneling to a remote node process's normal stdout","date":"2012-04-24T22:27:04.651Z","type":"message"}
{"nick":"creationix","message":"In the local process case, I'm not using the normal stdout, I'm using a repurposes stdin pipe","date":"2012-04-24T22:27:51.484Z","type":"message"}
{"nick":"creationix","message":"*repurposed","date":"2012-04-24T22:27:55.432Z","type":"message"}
{"nick":"creationix","message":"in the ssh case there are a lot of layers and it might be buffering elsewhere","date":"2012-04-24T22:28:13.293Z","type":"message"}
{"nick":"creationix","message":"so the case that does work, I call .pipe(res) on this stream object directly (no tunnel) https://github.com/c9/vfs/blob/master/local/localfs.js#L286-297","date":"2012-04-24T22:30:24.484Z","type":"message"}
{"nick":"creationix","message":".pipe will call .pause() and .resume() for me when res.write() return false and res emits drain","date":"2012-04-24T22:30:45.880Z","type":"message"}
{"nick":"creationix","message":"for tunneled streams, I'm looking at the return value of write on the stdout or stdin stream here: https://github.com/c9/vfs/blob/master/socket/worker.js#L31-39","date":"2012-04-24T22:33:55.636Z","type":"message"}
{"nick":"creationix","message":"but it's always true!","date":"2012-04-24T22:33:58.794Z","type":"message"}
{"nick":"creationix","message":"(the return value of remote.send is the return value of .write two layers deeper, I can verify that)","date":"2012-04-24T22:34:24.873Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-24T22:34:47.547Z","type":"quit"}
{"nick":"perezd","date":"2012-04-24T22:35:30.742Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307poll\u000f * r\u00029d0cfdf\u000f \u000310\u000f/ test/benchmark-sizes.c \u0002:\u000f Benchmarks: add size of uv_poll_t to benchmark-sizes (+8 more commits...) - http://git.io/SnXUdw","date":"2012-04-24T22:55:22.479Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00025342bac\u000f \u000310\u000f/ include/uv.h \u0002:\u000f uv.h: make the ssize_t fallback more portable - http://git.io/aq7-og","date":"2012-04-24T22:57:30.552Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00021b6329d\u000f \u000310\u000f/ (include/uv-private/uv-win.h src/win/internal.h)\u0002:\u000f Style fixes - http://git.io/gyBnxA","date":"2012-04-24T22:57:30.752Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000242a8669\u000f \u000310\u000f/ src/win/core.c \u0002:\u000f Windows: set loop counters to zero in uv_loop_init - http://git.io/ta32Jg","date":"2012-04-24T22:57:30.952Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T22:57:41.577Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#220 (poll - 9d0cfdf : Bert Belder): The build is still failing.","date":"2012-04-24T22:57:41.783Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/c7d43bd...9d0cfdf","date":"2012-04-24T22:57:41.783Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1168113","date":"2012-04-24T22:57:41.783Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T22:57:41.783Z","type":"part"}
{"nick":"piscisaureus_","message":"igorzi: Can you review https://github.com/joyent/libuv/compare/master...poll , as far as possible. I will add a test, too.","date":"2012-04-24T22:59:00.812Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T22:59:23.118Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#221 (master - 42a8669 : Bert Belder): The build is still failing.","date":"2012-04-24T22:59:23.324Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/84d2f82...42a8669","date":"2012-04-24T22:59:23.324Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1168121","date":"2012-04-24T22:59:23.325Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T22:59:23.325Z","type":"part"}
{"nick":"igorzi","message":"piscisaureus_: k","date":"2012-04-24T23:03:51.918Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: take your time, this is hairy","date":"2012-04-24T23:04:14.952Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: still waiting on test cluster, btw","date":"2012-04-24T23:04:32.615Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah, np. I am busy with random stuff anyway","date":"2012-04-24T23:04:51.839Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: thanks btw","date":"2012-04-24T23:05:09.895Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: can you give me an executive summary of your problem?","date":"2012-04-24T23:06:05.299Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: one thing - pipes are always nonblocking, even stdio pipes","date":"2012-04-24T23:08:08.167Z","type":"message"}
{"nick":"piscisaureus_","message":"It's inconsistent and I don't like it","date":"2012-04-24T23:08:31.972Z","type":"message"}
{"nick":"piscisaureus_","message":"I guess we should just have writeSync support for streams","date":"2012-04-24T23:08:59.749Z","type":"message"}
{"nick":"piscisaureus_","message":"make make console.log use that","date":"2012-04-24T23:09:06.650Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis isaacs","date":"2012-04-24T23:09:13.196Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: adding a writeSync method to Stream.prototype is not a good idea.","date":"2012-04-24T23:10:07.782Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: in this case he *does* want nonblocking behavior, but isn't getting it apparently","date":"2012-04-24T23:10:10.463Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ... because?","date":"2012-04-24T23:10:27.257Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yes. I'd much prefer all streams to be nonblocking by default, not have this weird exception","date":"2012-04-24T23:10:51.411Z","type":"message"}
{"nick":"TooTallNate","message":"sure me too :)","date":"2012-04-24T23:11:05.542Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: because it's increasing a very core API without giving it much thought, just because it's expedient.","date":"2012-04-24T23:11:08.206Z","type":"message"}
{"nick":"TooTallNate","message":"i think in this case though he's write()ing and it always returns true","date":"2012-04-24T23:11:20.781Z","type":"message"}
{"nick":"piscisaureus_","message":"This rule","date":"2012-04-24T23:11:29.986Z","type":"message"}
{"nick":"isaacs","message":"er, not just increasing, but changing","date":"2012-04-24T23:11:44.756Z","type":"message"}
{"nick":"isaacs","message":"if we're going to add a writeSync method *somewhere*, then that's fine, but it should be internal, and only for these specific cases.","date":"2012-04-24T23:12:04.220Z","type":"message"}
{"nick":"piscisaureus_","message":"\"streams are always nonblocking, except when it's stdio, then it's blocking\u0003, except when it's a pipe, then it's nonblocking again\"","date":"2012-04-24T23:12:10.432Z","type":"message"}
{"nick":"piscisaureus_","message":"i mean, what were we using?","date":"2012-04-24T23:12:32.120Z","type":"message"}
{"nick":"isaacs","message":"is there any way to make stdio *always* blocking, no matter what?","date":"2012-04-24T23:12:37.440Z","type":"message"}
{"nick":"isaacs","message":"even for pipes?","date":"2012-04-24T23:12:40.427Z","type":"message"}
{"nick":"piscisaureus_","message":"you mean, is that possible?","date":"2012-04-24T23:12:49.866Z","type":"message"}
{"nick":"piscisaureus_","message":"sure","date":"2012-04-24T23:12:51.711Z","type":"message"}
{"nick":"piscisaureus_","message":"is it desirable?","date":"2012-04-24T23:12:55.210Z","type":"message"}
{"nick":"piscisaureus_","message":"*shrug*","date":"2012-04-24T23:12:58.365Z","type":"message"}
{"nick":"piscisaureus_","message":"probably not","date":"2012-04-24T23:13:03.016Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: wouldn't that be a problem for scripts that want proper flow-control?","date":"2012-04-24T23:13:23.445Z","type":"message"}
{"nick":"isaacs","message":"i mean, really, the issue is that \"Stream\" doesn't imply blocking or nonblocking behavior.","date":"2012-04-24T23:13:23.829Z","type":"message"}
{"nick":"isaacs","message":"but most streams are nonblocking, because there's little benefit to doing io in a blocking manner.","date":"2012-04-24T23:13:49.924Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: no, you'd just always return true from write()","date":"2012-04-24T23:13:58.787Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: so there'd never be a drain event.","date":"2012-04-24T23:14:11.117Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Kyle Robinson Young\u000f \u000307master\u000f * r\u0002df6c12c\u000f \u000310\u000f/ doc/api/string_decoder.markdown \u0002:\u000f ","date":"2012-04-24T23:14:16.175Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f doc: update string_decoder stability index to 3","date":"2012-04-24T23:14:16.175Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Ref #3140 - http://git.io/8KMFhA","date":"2012-04-24T23:14:16.175Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ok, well that's apparently what creationix is experiencing now","date":"2012-04-24T23:14:18.070Z","type":"message"}
{"nick":"piscisaureus_","message":"sounds like a b bb b bbbb b b bug","date":"2012-04-24T23:15:18.286Z","type":"message"}
{"nick":"isaacs","message":"but yes, \"streams are nonblocking except stdio except when it's a pipe\" has 1 too many \"excepts\" in it","date":"2012-04-24T23:19:43.485Z","type":"message"}
{"nick":"isaacs","message":"making stdio nonblocking is painful, because you lose output when the program ends.","date":"2012-04-24T23:20:05.168Z","type":"message"}
{"nick":"isaacs","message":"we could make it blocking if we could prevent that, but that seems even more kludgey, and stdio is usually super fast anyway","date":"2012-04-24T23:20:24.383Z","type":"message"}
{"nick":"isaacs","message":"but i guess if you hook a pipe up to stdio of a child proc, then it could be the handle of a server, and then that kinda breaks the whole \"node is evented io\" thing","date":"2012-04-24T23:21:01.051Z","type":"message"}
{"nick":"isaacs","action":"hmm.","date":"2012-04-24T23:21:07.242Z","type":"action"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/cloud9Deploy <- who's that?","date":"2012-04-24T23:22:20.095Z","type":"message"}
{"nick":"bnoordhuis","message":"creationix: ^ that you","date":"2012-04-24T23:22:32.607Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no, that's a c9 thing","date":"2012-04-24T23:23:03.862Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it is a github account that has pubkeys for all the deploy servers","date":"2012-04-24T23:23:25.269Z","type":"message"}
{"nick":"bnoordhuis","message":"he/she is commenting on our commits :) https://github.com/joyent/node/commit/df6c12c#commitcomment-1252783","date":"2012-04-24T23:23:34.233Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so the deploy servers can pull from private repos","date":"2012-04-24T23:23:35.546Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ah, so it was me :-)","date":"2012-04-24T23:23:50.702Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: sorry, I was still logged in as cloud9deploy","date":"2012-04-24T23:24:02.804Z","type":"message"}
{"nick":"piscisaureus_","message":"had to do something with it this afternoon","date":"2012-04-24T23:24:14.234Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, okay","date":"2012-04-24T23:24:28.192Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u000206ae804\u000f \u000310\u000f/ src/unix/linux.c \u0002:\u000f ","date":"2012-04-24T23:29:01.295Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f linux: add IN_MOVE_SELF to inotify event mask","date":"2012-04-24T23:29:01.295Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f Partially fixes joyent/node#3172, behavior is now consistent with inotifywait. - http://git.io/eEEPRw","date":"2012-04-24T23:29:01.296Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T23:30:48.226Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#222 (v0.6 - 06ae804 : Ben Noordhuis): The build is still failing.","date":"2012-04-24T23:30:48.427Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/e6d4bca...06ae804","date":"2012-04-24T23:30:48.428Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1168235","date":"2012-04-24T23:30:48.428Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-24T23:30:48.428Z","type":"part"}
{"nick":"creationix","message":"ok, back","date":"2012-04-24T23:32:46.316Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, making stdio pipes blocking is a really bad idea","date":"2012-04-24T23:33:13.277Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, so my problem is write is always returning true","date":"2012-04-24T23:33:19.491Z","type":"message"}
{"nick":"creationix","message":"I have two cases where I'm seeing this","date":"2012-04-24T23:33:36.700Z","type":"message"}
{"nick":"creationix","message":"one is writing to node's standard process.stdout","date":"2012-04-24T23:33:49.523Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: is process.stdout a pipe in that case?","date":"2012-04-24T23:34:03.938Z","type":"message"}
{"nick":"creationix","message":"the process is spawned by ssh","date":"2012-04-24T23:34:15.090Z","type":"message"}
{"nick":"creationix","message":"ssh -C","date":"2012-04-24T23:34:16.243Z","type":"message"}
{"nick":"creationix","message":"so I guess that's a pipe","date":"2012-04-24T23:34:23.175Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: ok, yeah, it should be","date":"2012-04-24T23:34:24.205Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, so should it always return true or is that a bug?","date":"2012-04-24T23:36:28.083Z","type":"message"}
{"nick":"creationix","message":"the other case is I'm writing to stdin, but stdin is a Pipe","date":"2012-04-24T23:36:39.341Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: no that's a bug","date":"2012-04-24T23:36:39.647Z","type":"message"}
{"nick":"creationix","message":"using the same trick as childProcess.fork where I replace the child's stdin with a duplex pipe","date":"2012-04-24T23:37:02.971Z","type":"message"}
{"nick":"creationix","message":"anyway, I need to go play with my children for a while.  Let me know if I should file an issue or something","date":"2012-04-24T23:39:42.385Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: https://gist.github.com/2484626","date":"2012-04-24T23:40:29.381Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: can you try that?","date":"2012-04-24T23:40:33.780Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: sorry, updated","date":"2012-04-24T23:41:26.210Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 245 seconds","date":"2012-04-24T23:41:34.516Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis, isaacs: what does that test do on unix?","date":"2012-04-24T23:42:50.449Z","type":"message"}
{"nick":"piscisaureus_","message":"it works on windows (e.g. it doesn't hang)","date":"2012-04-24T23:42:58.547Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it does hang","date":"2012-04-24T23:46:01.786Z","type":"message"}
{"nick":"piscisaureus_","message":"ies a bug","date":"2012-04-24T23:46:10.883Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: prints a bunch of Child: process.stdout.write returned true than sits there doing nothing","date":"2012-04-24T23:46:13.595Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah, so probably it's opened blocking","date":"2012-04-24T23:46:28.417Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's wrong it seems","date":"2012-04-24T23:46:35.750Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-04-24T23:46:41.501Z","type":"message"}
{"nick":"isaacs","message":"i dunno.","date":"2012-04-24T23:46:43.635Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah_: here?","date":"2012-04-24T23:46:43.950Z","type":"message"}
{"nick":"isaacs","message":"ideally, it should not return true if it's actually not flushing, since that's a lie.","date":"2012-04-24T23:46:57.567Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it prints \"Child: process.stdout.write returned true\" a whole lot","date":"2012-04-24T23:46:59.435Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, if it hangs after a while then the pipe may be blocking","date":"2012-04-24T23:47:23.751Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if node's memory blows up it's nonblocking but the return value is wrong","date":"2012-04-24T23:47:35.044Z","type":"message"}
{"nick":"isaacs","message":"memory's pretty stable","date":"2012-04-24T23:49:31.353Z","type":"message"}
{"nick":"bnoordhuis","message":"the pipe buffer fills up","date":"2012-04-24T23:49:49.367Z","type":"message"}
{"nick":"bnoordhuis","message":"and it seems to be in blocking mode so eventually the script blocks","date":"2012-04-24T23:50:05.428Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, right","date":"2012-04-24T23:51:25.320Z","type":"message"}
{"nick":"piscisaureus_","message":"so it is blocking, hmm","date":"2012-04-24T23:51:31.029Z","type":"message"}
{"nick":"piscisaureus_","message":"stupid","date":"2012-04-24T23:51:33.621Z","type":"message"}
{"nick":"piscisaureus_","message":"it's not on windows for sure","date":"2012-04-24T23:51:37.206Z","type":"message"}
{"nick":"piscisaureus_","message":"wonder if that is something that ryah decided on, because the last thing I remember is that we made this stupid rule outlined above","date":"2012-04-24T23:52:25.682Z","type":"message"}
{"nick":"bnoordhuis","message":"stdio is supposed to be blocking, right?","date":"2012-04-24T23:53:58.481Z","type":"message"}
{"nick":"bnoordhuis","message":"no matter what fds 0,1,2 actually refer to","date":"2012-04-24T23:54:15.075Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah no","date":"2012-04-24T23:54:20.590Z","type":"message"}
{"nick":"piscisaureus_","message":"I though we had an exception for pipes","date":"2012-04-24T23:54:25.151Z","type":"message"}
{"nick":"piscisaureus_","message":"*thought","date":"2012-04-24T23:54:31.610Z","type":"message"}
{"nick":"bnoordhuis","message":"why would we have that?","date":"2012-04-24T23:54:33.003Z","type":"message"}
{"nick":"piscisaureus_","message":"because otherwise child processes are fucked","date":"2012-04-24T23:54:43.718Z","type":"message"}
{"nick":"bnoordhuis","message":"how so?","date":"2012-04-24T23:54:55.678Z","type":"message"}
{"nick":"piscisaureus_","message":"can't use stdout for ipc, since it could block them","date":"2012-04-24T23:55:03.095Z","type":"message"}
{"nick":"piscisaureus_","message":"if you redirect to a tty or a file, its not so bad","date":"2012-04-24T23:55:23.969Z","type":"message"}
{"nick":"piscisaureus_","message":"since they never block indefinitely","date":"2012-04-24T23:55:32.949Z","type":"message"}
{"nick":"piscisaureus_","message":"and having your log stream truncated when node exits is far more painful","date":"2012-04-24T23:55:55.212Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't matter, does it? you can still poll the pipe for read/write-ability","date":"2012-04-24T23:56:29.150Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: uhh, how?","date":"2012-04-24T23:56:39.775Z","type":"message"}
{"nick":"bnoordhuis","message":"put it in the epoll/kqueue/ports fd set","date":"2012-04-24T23:57:07.465Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so how do you do that in node?","date":"2012-04-24T23:57:22.881Z","type":"message"}
{"nick":"bnoordhuis","message":"watched fds don't have to be non-blocking for that, you just need to be careful when writing","date":"2012-04-24T23:57:32.376Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, i suppose you could hack up a libuv event that says 'hey, you can write exactly x bytes to this here pipe and no more'","date":"2012-04-24T23:58:31.319Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: finish `mything.js`","date":"2012-04-24T23:58:33.075Z","type":"message"}
{"nick":"piscisaureus_","message":".// Since process.stdout is blocking, and we don't want process.stdout.write to block our process","date":"2012-04-24T23:58:33.286Z","type":"message"}
{"nick":"piscisaureus_","message":".// we're ging to do this:","date":"2012-04-24T23:58:33.286Z","type":"message"}
{"nick":"piscisaureus_","message":"... <-- fill in here","date":"2012-04-24T23:58:33.286Z","type":"message"}
{"nick":"bnoordhuis","message":".// tread very carefully","date":"2012-04-24T23:59:00.032Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: skype","date":"2012-04-24T23:59:22.929Z","type":"message"}
{"nick":"bnoordhuis","message":"no, not now - mees is finally asleep and i'm just two meters away from her :)","date":"2012-04-24T23:59:56.020Z","type":"message"}

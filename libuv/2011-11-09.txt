{"nick":"isaacs","message":"yeah.","date":"2011-11-09T00:06:45.245Z","type":"message"}
{"nick":"isaacs","message":"digging into this deeper, it seems like the stylus tarball has something in it that the windows bsdtar just can't handle.","date":"2011-11-09T00:07:02.689Z","type":"message"}
{"nick":"isaacs","message":"oh, no, it's the re-created copy that was written *by* bsdtar that has crap in it.","date":"2011-11-09T00:07:39.621Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-09T00:10:29.933Z","type":"quit"}
{"nick":"isaacs","message":"aha!!!  yes, it is a bug in node.","date":"2011-11-09T00:15:02.794Z","type":"message"}
{"nick":"isaacs","message":"in fs.readdir, to be precise.","date":"2011-11-09T00:15:07.874Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: you there?","date":"2011-11-09T00:15:12.688Z","type":"message"}
{"nick":"piscisaureus","message":"yup","date":"2011-11-09T00:15:20.254Z","type":"message"}
{"nick":"ryah","message":"can you review https://gist.github.com/28507b5ce35fcc9372dc","date":"2011-11-09T00:15:27.235Z","type":"message"}
{"nick":"isaacs","message":"i'll try to work it down to a smaller test case than \"try to read the stylus test case directory\"","date":"2011-11-09T00:15:45.666Z","type":"message"}
{"nick":"ryah","message":"isaacs: good to find this out :)","date":"2011-11-09T00:16:00.355Z","type":"message"}
{"nick":"ryah","message":"i like when we find bugs before users","date":"2011-11-09T00:16:09.061Z","type":"message"}
{"nick":"isaacs","message":"this isn't technically \"before users\" ;)","date":"2011-11-09T00:16:23.660Z","type":"message"}
{"nick":"isaacs","message":"i would'nt be trying to install stylus if someone wasn't complaining about npm being unable to install it","date":"2011-11-09T00:16:40.057Z","type":"message"}
{"nick":"ryah","message":"oh i see :)","date":"2011-11-09T00:16:44.067Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: what if kill fails for a reason other than that the pid does not exist?","date":"2011-11-09T00:16:54.022Z","type":"message"}
{"nick":"piscisaureus","message":"access violation maybe?","date":"2011-11-09T00:17:20.798Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: do you have a good way of separating that in windows?","date":"2011-11-09T00:17:46.796Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I think so","date":"2011-11-09T00:18:04.130Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: please advise. msdn doesnt list error codes","date":"2011-11-09T00:19:45.771Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I know. a sec.","date":"2011-11-09T00:19:53.389Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-11-09T00:23:56.393Z","type":"quit"}
{"nick":"piscisaureus","message":"ryah: the line just before the one that you changed should be changed:","date":"2011-11-09T00:30:43.124Z","type":"message"}
{"nick":"piscisaureus","message":"- if (process_handle == INVALID_HANDLE_VALUE) {","date":"2011-11-09T00:30:43.342Z","type":"message"}
{"nick":"piscisaureus","message":"+   if (process_handle == NULL) {","date":"2011-11-09T00:30:43.342Z","type":"message"}
{"nick":"ryah","message":"eh - where?","date":"2011-11-09T00:33:21.676Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: the correct check would be I think:","date":"2011-11-09T00:33:30.969Z","type":"message"}
{"nick":"piscisaureus","message":"if (GetLastError() == ERROR_INVALID_PARAMETER) {","date":"2011-11-09T00:33:31.185Z","type":"message"}
{"nick":"piscisaureus","message":"  return uv__new_artificial_error(UV_ESRC);","date":"2011-11-09T00:33:31.185Z","type":"message"}
{"nick":"piscisaureus","message":"} else {","date":"2011-11-09T00:33:31.186Z","type":"message"}
{"nick":"piscisaureus","message":"  return uv__new_sys_error(GetLastError());","date":"2011-11-09T00:33:31.186Z","type":"message"}
{"nick":"piscisaureus","message":"}","date":"2011-11-09T00:33:31.406Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-09T00:34:11.705Z","type":"quit"}
{"nick":"piscisaureus","message":"ah crap","date":"2011-11-09T00:34:12.966Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: land your stuff minus the windows part","date":"2011-11-09T00:34:19.831Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I will fix it","date":"2011-11-09T00:34:24.303Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2011-11-09T00:34:29.081Z","type":"message"}
{"nick":"piscisaureus","message":"I am stuck on domains anyway","date":"2011-11-09T00:34:54.309Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002b7da0a6\u000f \u000310\u000f/ (src/uv-common.c src/uv-common.h)\u0002:\u000f Add uv__new_artificial_error() - http://git.io/YohOdg","date":"2011-11-09T00:36:44.535Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Tj Holowaychuk\u000f \u000307master\u000f * r\u0002a378110\u000f \u000310\u000f/ (include/uv.h src/unix/error.c test/test-spawn.c)\u0002:\u000f ","date":"2011-11-09T00:36:45.683Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Add UV_ESRCH","date":"2011-11-09T00:36:45.900Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Fixes #239. - http://git.io/TQYTUg","date":"2011-11-09T00:36:45.900Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307domains2\u000f * r\u000291e87d6\u000f \u000310\u000f/ lib/domains.js \u0002:\u000f Typo (+12 more commits...) - http://git.io/gTGF6w","date":"2011-11-09T00:37:11.714Z","type":"message"}
{"nick":"piscisaureus","message":"^-- did nothing, just rebased","date":"2011-11-09T00:37:25.096Z","type":"message"}
{"nick":"piscisaureus","message":"which was not completely trivial btw","date":"2011-11-09T00:37:40.670Z","type":"message"}
{"nick":"indexzero","date":"2011-11-09T00:43:49.477Z","type":"join"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307esrch\u000f * r\u00022b7774a\u000f \u000310\u000f/ src/win/process.c \u0002:\u000f Windows: return UV_ESRCH from uv_kill - http://git.io/5MPL6Q","date":"2011-11-09T00:48:23.289Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ^-- nod?","date":"2011-11-09T00:48:32.172Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yep","date":"2011-11-09T00:51:12.761Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: passes the test?","date":"2011-11-09T00:51:20.662Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00022b7774a\u000f \u000310\u000f/ src/win/process.c \u0002:\u000f Windows: return UV_ESRCH from uv_kill - https://github.com/joyent/libuv/commit/2b7774ae49b73baccc43aff9c532443412fb51e3","date":"2011-11-09T00:51:30.379Z","type":"message"}
{"nick":"piscisaureus","message":"yep","date":"2011-11-09T00:51:31.877Z","type":"message"}
{"nick":"piscisaureus","message":"well, it doesn't fail any related","date":"2011-11-09T00:51:40.691Z","type":"message"}
{"nick":"piscisaureus","message":"I didn't know there was a test :-/","date":"2011-11-09T00:51:46.671Z","type":"message"}
{"nick":"isaacs","message":"ryah: test case https://gist.github.com/1349916","date":"2011-11-09T00:52:00.756Z","type":"message"}
{"nick":"piscisaureus","message":"oh yeah it passes test-spawn","date":"2011-11-09T00:52:27.613Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000205727f6\u000f \u000310\u000f/ (6 files in 5 dirs)\u0002:\u000f Upgrade libuv to 2b7774a - http://git.io/wjq5Aw","date":"2011-11-09T00:53:19.821Z","type":"message"}
{"nick":"pietern","reason":"Quit: pietern","date":"2011-11-09T00:55:08.620Z","type":"quit"}
{"nick":"piscisaureus","message":"Error: wrong file count","date":"2011-11-09T00:57:05.040Z","type":"message"}
{"nick":"piscisaureus","message":"    at Object.oncomplete (D:\\node3\\bug.js:53:11)","date":"2011-11-09T00:57:05.258Z","type":"message"}
{"nick":"piscisaureus","message":"^-- isaacs: that's what you're seeing?","date":"2011-11-09T00:57:11.023Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: yeah","date":"2011-11-09T00:57:46.498Z","type":"message"}
{"nick":"isaacs","message":"also, check out the text file it creates","date":"2011-11-09T00:57:53.241Z","type":"message"}
{"nick":"isaacs","message":"bunch of \"\" and garbage entries","date":"2011-11-09T00:57:59.142Z","type":"message"}
{"nick":"piscisaureus","message":"Error: invalid data at file #0","date":"2011-11-09T00:58:00.072Z","type":"message"}
{"nick":"piscisaureus","message":"    at Object.oncomplete (D:\\node3\\bug.js:57:37)","date":"2011-11-09T00:58:00.368Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002196e145\u000f \u000310\u000f/ src/uv-common.c \u0002:\u000f Map UV_ESRCH in uv_err_name - http://git.io/Z04QHA","date":"2011-11-09T00:59:12.934Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00022a462ab\u000f \u000310\u000f/ src/node.js \u0002:\u000f process.kill doesn't create error obj correctly - http://git.io/wle-zA","date":"2011-11-09T00:59:59.555Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00023ae644d\u000f \u000310\u000f/ deps/uv/src/uv-common.c \u0002:\u000f Upgrade libuv to 196e145 - http://git.io/2_qsig","date":"2011-11-09T00:59:59.784Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: i'm not seeing any garbage files","date":"2011-11-09T01:00:37.125Z","type":"message"}
{"nick":"piscisaureus","message":"but zeros yeah","date":"2011-11-09T01:00:41.115Z","type":"message"}
{"nick":"isaacs","message":"you can try bumping up the file count.","date":"2011-11-09T01:00:56.369Z","type":"message"}
{"nick":"isaacs","message":"i start seeing lots of \\u0003 and random unicode junk around 256 files","date":"2011-11-09T01:01:09.298Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: this happens only on windows?","date":"2011-11-09T01:01:11.094Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2011-11-09T01:01:14.701Z","type":"message"}
{"nick":"isaacs","message":"works fine on unix","date":"2011-11-09T01:01:19.288Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002da9bf0e\u000f \u000310\u000f/ (lib/cluster.js test/simple/test-cluster-kill-workers.js)\u0002:\u000f Fixes #2047. Fill workers array immediately after fork - http://git.io/YykEsQ","date":"2011-11-09T01:04:21.209Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: did this error also happen for you w/ write instead of writeSync?","date":"2011-11-09T01:04:25.140Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: the issue isn't garbage in the files.","date":"2011-11-09T01:04:39.569Z","type":"message"}
{"nick":"isaacs","message":"the issue is garbage in the directory","date":"2011-11-09T01:04:43.816Z","type":"message"}
{"nick":"isaacs","message":"it doesn't matter how the fiels get there","date":"2011-11-09T01:04:48.207Z","type":"message"}
{"nick":"isaacs","message":"it's the readdir call that's giving an incorrect result.","date":"2011-11-09T01:05:02.160Z","type":"message"}
{"nick":"isaacs","message":"a result from fs.readdir should never be empty, or something that isn't a file in that directory","date":"2011-11-09T01:05:48.788Z","type":"message"}
{"nick":"isaacs","message":"I've gotta run to class.","date":"2011-11-09T01:06:48.889Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00020fa3cf9\u000f \u000310\u000f/ lib/cluster.js \u0002:\u000f Remove 'report this bug' message from cluster master - http://git.io/bh-oTw","date":"2011-11-09T01:08:09.685Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/da9bf0ee809ea467358c5174b27b635ba2ae47ba/test/simple/test-cluster-kill-workers.js <-- ","date":"2011-11-09T01:08:29.206Z","type":"message"}
{"nick":"ryah","message":"pretty hardcore multi-process action","date":"2011-11-09T01:08:36.800Z","type":"message"}
{"nick":"ryah","action":"building latest on windows to see if it works there","date":"2011-11-09T01:09:05.561Z","type":"action"}
{"nick":"ryah","message":"theoretically it should","date":"2011-11-09T01:09:08.390Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: it looks like writeSync is not blocking","date":"2011-11-09T01:09:25.166Z","type":"message"}
{"nick":"piscisaureus","message":"which is why you see the wrong file count","date":"2011-11-09T01:09:30.981Z","type":"message"}
{"nick":"piscisaureus","message":"moments later, all data is there","date":"2011-11-09T01:09:37.904Z","type":"message"}
{"nick":"piscisaureus","message":"garbage could be due to the out buffer being released too early","date":"2011-11-09T01:10:01.200Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-09T01:12:25.818Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-09T01:13:27.857Z","type":"quit"}
{"nick":"indexzero","date":"2011-11-09T01:19:00.935Z","type":"join"}
{"nick":"piscisaureus","message":"ah I get what you mean now isaacs","date":"2011-11-09T01:19:54.781Z","type":"message"}
{"nick":"piscisaureus","message":"the result from readdir is jus toff","date":"2011-11-09T01:20:04.047Z","type":"message"}
{"nick":"ryah","message":"wow - test-cluster-kill-workers.js works in windows","date":"2011-11-09T01:21:58.914Z","type":"message"}
{"nick":"ryah","message":"amazing","date":"2011-11-09T01:22:03.185Z","type":"message"}
{"nick":"ryah","message":"it reminds me of http://www.youtube.com/watch?v=0wrsZog8qXg","date":"2011-11-09T01:22:26.865Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2011-11-09T01:42:15.668Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-09T01:42:48.984Z","type":"quit"}
{"nick":"piscisaureus","reason":"Read error: Operation timed out","date":"2011-11-09T01:46:16.822Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-11-09T01:48:11.020Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-11-09T01:53:15.139Z","type":"join"}
{"nick":"piscisaureus","message":"I know where to look for isaacs bug","date":"2011-11-09T01:53:57.796Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: what the issacs bug?","date":"2011-11-09T01:57:08.641Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: readdir returns incorrect results","date":"2011-11-09T01:57:26.804Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: oh.. under what conditions?","date":"2011-11-09T01:57:41.545Z","type":"message"}
{"nick":"piscisaureus","message":"actually in the debug build it dies in stack check","date":"2011-11-09T01:57:53.632Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: \u000302https://gist.github.com/1349916\u0003\u000301","date":"2011-11-09T01:58:17.017Z","type":"message"}
{"nick":"igorzi","message":"btw, did anyone have any suggestions on how to fix https://gist.github.com/1349383 ?","date":"2011-11-09T01:58:34.303Z","type":"message"}
{"nick":"igorzi","message":"is doing this https://gist.github.com/1349391 incorrect?","date":"2011-11-09T01:58:39.653Z","type":"message"}
{"nick":"igorzi","message":"ryah piscisaureus: --^","date":"2011-11-09T01:58:56.689Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302the right way would be for Stream.pipe to not close the target pipe","date":"2011-11-09T01:59:35.809Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: right.. though that'll probably break existing apps that use Stream.pipe?","date":"2011-11-09T02:00:13.591Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302I dont know what v0.4 did","date":"2011-11-09T02:00:30.331Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302Maybe just add some property like dontDestroy or something","date":"2011-11-09T02:01:27.910Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302and make Stream.pipe look at that","date":"2011-11-09T02:01:39.612Z","type":"message"}
{"nick":"mikeal","date":"2011-11-09T02:02:27.118Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: yep.. though there's the fundamental question of whether stdio streams should be destroyable.. you think so, right?","date":"2011-11-09T02:03:09.393Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302igorzi: well, it is a good question","date":"2011-11-09T02:03:33.381Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302igorzi: but I really don't have an answer that I am confident about","date":"2011-11-09T02:03:56.223Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-11-09T02:06:22.848Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus: did you already track down the readdir issue?","date":"2011-11-09T02:11:29.948Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302not really","date":"2011-11-09T02:11:37.983Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302Im debugging it","date":"2011-11-09T02:11:40.740Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i can look at it","date":"2011-11-09T02:11:41.266Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302but I think I will go sleep now and continue tomorrow","date":"2011-11-09T02:11:57.244Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302but if you want to look at it it's fine","date":"2011-11-09T02:12:04.303Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: k.. i might look at it later tonight.. i'll let you know what progress i make","date":"2011-11-09T02:12:35.681Z","type":"message"}
{"nick":"piscisaureus","message":"\u000302igorzi: yup","date":"2011-11-09T02:12:51.096Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: it's actually crashing for me 50% of the time","date":"2011-11-09T02:13:40.909Z","type":"message"}
{"nick":"piscisaureus","message":"heh\u000302","date":"2011-11-09T02:14:09.365Z","type":"message"}
{"nick":"piscisaureus","message":"that makes debugging easy :-)","date":"2011-11-09T02:14:16.472Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2011-11-09T02:19:10.005Z","type":"quit"}
{"nick":"piscisaureus","message":"Btw","date":"2011-11-09T02:19:45.234Z","type":"message"}
{"nick":"piscisaureus","message":"Something for the nodejs benchmarking squad: @monkeywebserver: Benchmarking #NodeJS w/ Monkey: http://twitter.com/#!/edsiper/status/134091003085860866","date":"2011-11-09T02:20:21.899Z","type":"message"}
{"nick":"rmustacc","message":"Wow, that guy is so shockingly wrong, it's funny.","date":"2011-11-09T02:22:46.178Z","type":"message"}
{"nick":"rmustacc","message":"He does realize that it probably never went to disk after the first time.","date":"2011-11-09T02:22:57.697Z","type":"message"}
{"nick":"piscisaureus","message":"it takes a syscall though :)","date":"2011-11-09T02:23:12.610Z","type":"message"}
{"nick":"piscisaureus","message":"but yeah","date":"2011-11-09T02:23:19.499Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-09T02:23:40.895Z","type":"join"}
{"nick":"rmustacc","message":"Actually in the comments he pretty much admits that he doesn't know what he's doing.","date":"2011-11-09T02:24:13.471Z","type":"message"}
{"nick":"rmustacc","message":"i.e. the number of workers problem.","date":"2011-11-09T02:24:49.908Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-11-09T02:24:54.579Z","type":"message"}
{"nick":"piscisaureus","message":"lol","date":"2011-11-09T02:24:55.404Z","type":"message"}
{"nick":"piscisaureus","message":"he just posted an updated bench that read 6700 r/s","date":"2011-11-09T02:25:10.154Z","type":"message"}
{"nick":"piscisaureus","message":"for node","date":"2011-11-09T02:25:11.896Z","type":"message"}
{"nick":"piscisaureus","message":"which is much more consistent with the numbers we're seeing","date":"2011-11-09T02:25:20.166Z","type":"message"}
{"nick":"piscisaureus","message":"now he should run w/ cluster on","date":"2011-11-09T02:25:28.535Z","type":"message"}
{"nick":"igorzi","message":"btw is he running this on the same system (over loopback)?","date":"2011-11-09T02:25:50.541Z","type":"message"}
{"nick":"piscisaureus","message":"probably","date":"2011-11-09T02:26:02.748Z","type":"message"}
{"nick":"rmustacc","message":"igorzi: Of course. Why would you do it over the Internet?","date":"2011-11-09T02:26:02.963Z","type":"message"}
{"nick":"rmustacc","message":"igorzi: But yeah, ab is reporting the hostname is localhost.","date":"2011-11-09T02:26:21.142Z","type":"message"}
{"nick":"piscisaureus__","date":"2011-11-09T02:26:29.763Z","type":"join"}
{"nick":"igorzi","message":"rmustacc: i didn't say do it over the internet.. you could do it over an isolated network","date":"2011-11-09T02:27:00.124Z","type":"message"}
{"nick":"rmustacc","message":"igorzi: Yeah, I was trying to be sarcastic.","date":"2011-11-09T02:27:16.934Z","type":"message"}
{"nick":"rmustacc","message":"Doing it over an isolated network is a much more realistic way to benchmark these things.","date":"2011-11-09T02:27:35.538Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2011-11-09T02:27:39.747Z","type":"quit"}
{"nick":"igorzi","message":"right ok :)","date":"2011-11-09T02:27:43.551Z","type":"message"}
{"nick":"piscisaureus___","date":"2011-11-09T02:28:03.805Z","type":"join"}
{"nick":"rmustacc","message":"I had this discussion with someone the other day where he was trying to measure his NFS performance by trying to drive load over loopback mounting it.","date":"2011-11-09T02:28:21.513Z","type":"message"}
{"nick":"rmustacc","message":"Doing a good benchmark involves understanding why you're actually slower.","date":"2011-11-09T02:29:10.607Z","type":"message"}
{"nick":"piscisaureus__","reason":"Ping timeout: 276 seconds","date":"2011-11-09T02:31:38.772Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus: here's the crash that i get consistently: https://gist.github.com/1350140","date":"2011-11-09T02:33:18.076Z","type":"message"}
{"nick":"piscisaureus","message":"yeah, that's what I have seen too","date":"2011-11-09T02:33:41.212Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2011-11-09T02:34:35.365Z","type":"quit"}
{"nick":"piscisaureus","message":"If I look at the memory at [namebuf] it looks like the string got overwritten at some point","date":"2011-11-09T02:36:57.848Z","type":"message"}
{"nick":"piscisaureus","message":"or maybe uv__fs_readdir realloc()s but returns the old pointer somehow","date":"2011-11-09T02:37:25.442Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 260 seconds","date":"2011-11-09T02:37:55.076Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-09T02:52:37.062Z","type":"join"}
{"nick":"isaacs","reason":"Client Quit","date":"2011-11-09T02:55:44.485Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-09T03:14:47.059Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: you still there?  this is the problem: https://github.com/joyent/libuv/blob/master/src/win/fs.c#L461","date":"2011-11-09T03:15:38.123Z","type":"message"}
{"nick":"igorzi","message":"isaacs: i think i have a fix for the readdir issue","date":"2011-11-09T03:16:21.630Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: :-/","date":"2011-11-09T03:16:51.209Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I actually checked that but I concluded that it was right","date":"2011-11-09T03:17:10.497Z","type":"message"}
{"nick":"igorzi","message":"the problem is that after a few patches buf_size has evolved to be the number of characters instead of the number of bytes :)","date":"2011-11-09T03:17:57.473Z","type":"message"}
{"nick":"igorzi","message":"i'll change the name to make it more clear","date":"2011-11-09T03:18:16.583Z","type":"message"}
{"nick":"piscisaureus","message":"aaaha","date":"2011-11-09T03:19:07.826Z","type":"message"}
{"nick":"piscisaureus","message":"right","date":"2011-11-09T03:19:13.550Z","type":"message"}
{"nick":"piscisaureus","message":"That I did not notice","date":"2011-11-09T03:19:19.537Z","type":"message"}
{"nick":"piscisaureus","message":"Now I am really gone","date":"2011-11-09T03:22:31.200Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002942c68b\u000f \u000310\u000f/ src/win/fs.c \u0002:\u000f windows: fix utf16->utf8 conversion in uv_fs_readdir - http://git.io/i3Q_Ew","date":"2011-11-09T03:27:24.709Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-09T03:30:49.800Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-09T03:56:40.127Z","type":"join"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-09T04:16:29.707Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-09T04:27:33.162Z","type":"join"}
{"nick":"isaacs","reason":"Client Quit","date":"2011-11-09T04:27:51.948Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-09T04:30:02.071Z","type":"join"}
{"nick":"isaacs","reason":"Client Quit","date":"2011-11-09T04:32:02.024Z","type":"quit"}
{"nick":"erickt","date":"2011-11-09T04:58:42.302Z","type":"join"}
{"nick":"indutny","message":"isaacs: :)","date":"2011-11-09T05:35:25.788Z","type":"message"}
{"nick":"indutny","message":"ping","date":"2011-11-09T05:35:26.519Z","type":"message"}
{"nick":"indexzero_","date":"2011-11-09T05:36:50.138Z","type":"join"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2011-11-09T05:37:03.217Z","type":"quit"}
{"nick":"indexzero_","new_nick":"indexzero","date":"2011-11-09T05:37:03.670Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-09T05:52:17.079Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-11-09T06:14:51.197Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-11-09T06:58:38.840Z","type":"quit"}
{"nick":"sh1mmer","date":"2011-11-09T07:00:38.817Z","type":"join"}
{"nick":"isaacs","date":"2011-11-09T07:37:43.980Z","type":"join"}
{"nick":"bnoordhuis","date":"2011-11-09T07:57:49.998Z","type":"join"}
{"nick":"bnoordhuis","message":"http://os-blog.com/xv6-unix-v6-ported-to-ansi-c-x86/ <- that's it, i'm switching back","date":"2011-11-09T08:04:54.025Z","type":"message"}
{"nick":"bnoordhuis","message":"so awesome - you just build it with make, then run it with qemu","date":"2011-11-09T08:05:10.360Z","type":"message"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-11-09T08:05:50.523Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-09T08:35:57.709Z","type":"quit"}
{"nick":"kuebk","date":"2011-11-09T08:54:25.887Z","type":"join"}
{"nick":"mraleph","date":"2011-11-09T09:05:24.012Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-11-09T09:44:00.794Z","type":"quit"}
{"nick":"luxigo","date":"2011-11-09T10:54:53.836Z","type":"join"}
{"nick":"luxigo","message":"that's when you're going to ask you find the answer :-)","date":"2011-11-09T10:58:53.028Z","type":"message"}
{"nick":"wankdanker","reason":"Remote host closed the connection","date":"2011-11-09T11:23:38.987Z","type":"quit"}
{"nick":"indutny","message":"where is isaacs?","date":"2011-11-09T12:28:25.897Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-11-09T12:28:26.614Z","type":"message"}
{"nick":"bnoordhuis","message":"still in bed by now, i should think","date":"2011-11-09T12:31:14.264Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2011-11-09T12:38:40.985Z","type":"message"}
{"nick":"indutny","message":"TZ difference","date":"2011-11-09T12:38:44.755Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: thanks","date":"2011-11-09T12:38:46.906Z","type":"message"}
{"nick":"luxigo","reason":"Remote host closed the connection","date":"2011-11-09T13:21:14.370Z","type":"quit"}
{"nick":"piscisaureus","message":"http://groups.google.com/group/nodejs/browse_thread/thread/5b3726cf9cdea821","date":"2011-11-09T13:25:21.900Z","type":"message"}
{"nick":"piscisaureus","message":"I wonder how he does it","date":"2011-11-09T13:25:28.350Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: spin up an isolate, load the script in it, call into the function?","date":"2011-11-09T13:37:47.387Z","type":"message"}
{"nick":"bnoordhuis","message":"if it's just a plain isolate, no node specifics, it's easy-ish to do","date":"2011-11-09T13:38:32.563Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so you pass in a function name?","date":"2011-11-09T13:40:42.492Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yes","date":"2011-11-09T13:40:50.036Z","type":"message"}
{"nick":"piscisaureus","message":"meh","date":"2011-11-09T13:40:57.152Z","type":"message"}
{"nick":"bnoordhuis","message":"that's how i suspect it works at least","date":"2011-11-09T13:41:19.445Z","type":"message"}
{"nick":"piscisaureus","message":"must be like that","date":"2011-11-09T13:41:36.449Z","type":"message"}
{"nick":"piscisaureus","message":"he says he uses isolates and I don't think you can share data between isolates, let alone closures","date":"2011-11-09T13:41:59.319Z","type":"message"}
{"nick":"piscisaureus","message":"Some spam got through the gmail spam filter","date":"2011-11-09T13:43:46.903Z","type":"message"}
{"nick":"piscisaureus","message":"i am mrs joy c man,i have a very important massage for you.please reply back for more details contact me via email:joy.cman@9.cn","date":"2011-11-09T13:43:52.015Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 258 seconds","date":"2011-11-09T13:49:23.160Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-11-09T14:00:19.343Z","type":"join"}
{"nick":"bnoordhuis","message":"the inevitable return of coro's...","date":"2011-11-09T14:01:16.408Z","type":"message"}
{"nick":"bnoordhuis","message":"http://groups.google.com/group/nodejs/t/1c93b234c28b801f","date":"2011-11-09T14:01:47.804Z","type":"message"}
{"nick":"piscisaureus","message":"I know","date":"2011-11-09T14:03:29.194Z","type":"message"}
{"nick":"piscisaureus","message":"tim moved to the dark side :-p","date":"2011-11-09T14:03:36.639Z","type":"message"}
{"nick":"piscisaureus","message":"i am not that much opposed to coros","date":"2011-11-09T14:03:47.124Z","type":"message"}
{"nick":"piscisaureus","message":"but javascript is not that well suited for it","date":"2011-11-09T14:04:09.353Z","type":"message"}
{"nick":"piscisaureus","message":"maybe JS should have some real language features to support it","date":"2011-11-09T14:04:26.205Z","type":"message"}
{"nick":"bnoordhuis","message":"mozilla's javascript 1.8","date":"2011-11-09T14:07:41.230Z","type":"message"}
{"nick":"bnoordhuis","message":"generators are coro's in denial","date":"2011-11-09T14:07:52.481Z","type":"message"}
{"nick":"piscisaureus","message":"yes, but is that on track to make it into ecmascript","date":"2011-11-09T14:08:26.607Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-11-09T14:08:31.220Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know, probably not","date":"2011-11-09T14:09:38.457Z","type":"message"}
{"nick":"bnoordhuis","message":"some quick googling suggests that it's spidermonkey only","date":"2011-11-09T14:11:45.229Z","type":"message"}
{"nick":"bnoordhuis","message":"which is too bad, really","date":"2011-11-09T14:11:48.544Z","type":"message"}
{"nick":"piscisaureus","message":"yeah, I thought so too","date":"2011-11-09T14:11:54.971Z","type":"message"}
{"nick":"piscisaureus","message":"it also needs semantics that are sensible wrt to try catch","date":"2011-11-09T14:14:57.801Z","type":"message"}
{"nick":"piscisaureus","message":"let's face it, exceptions in javascript (and node in particular) are totally fucked up","date":"2011-11-09T14:15:35.409Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: about isolates","date":"2011-11-09T14:22:32.930Z","type":"message"}
{"nick":"indutny","message":"you can't pass anything between them","date":"2011-11-09T14:22:40.570Z","type":"message"}
{"nick":"indutny","message":"only C++ data","date":"2011-11-09T14:22:43.529Z","type":"message"}
{"nick":"indutny","message":"no shared variables or anything","date":"2011-11-09T14:22:54.160Z","type":"message"}
{"nick":"indutny","message":"so one would probably need to attach C++ classes to each isolate","date":"2011-11-09T14:23:25.909Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 255 seconds","date":"2011-11-09T14:25:43.276Z","type":"quit"}
{"nick":"bnoordhuis","message":"igorzi: ping?","date":"2011-11-09T14:44:17.261Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002cdcb111\u000f \u000310\u000f/ (16 files)\u0002:\u000f Remove stray NODE_MODULE() semi-colons. - http://git.io/TSpalg","date":"2011-11-09T15:34:44.358Z","type":"message"}
{"nick":"dap","date":"2011-11-09T15:57:11.070Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-09T16:04:10.762Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-11-09T16:25:25.338Z","type":"join"}
{"nick":"wankdanker","date":"2011-11-09T16:33:44.378Z","type":"join"}
{"nick":"kuebk","date":"2011-11-09T16:34:31.854Z","type":"part"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024fc0fdc\u000f \u000310\u000f/ benchmark/http_simple_cluster.js \u0002:\u000f ","date":"2011-11-09T16:35:48.962Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f bench: start (NUM_CPUS-1) workers","date":"2011-11-09T16:35:49.179Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f The master is a worker too so fork off one less worker. - http://git.io/bfYsRg","date":"2011-11-09T16:35:49.179Z","type":"message"}
{"nick":"dap","date":"2011-11-09T16:36:42.093Z","type":"join"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/libuv/pull/242#issuecomment-2678564 <- dragonfly bsd support, yay or nay?","date":"2011-11-09T16:40:54.868Z","type":"message"}
{"nick":"piscisaureus","message":"my coworker here is extremely frustrated about require.paths gone","date":"2011-11-09T16:55:04.643Z","type":"message"}
{"nick":"piscisaureus","message":"what is the suggested way of fixing stuff that relies on it?","date":"2011-11-09T16:55:41.698Z","type":"message"}
{"nick":"sh1mmer","date":"2011-11-09T16:55:58.347Z","type":"join"}
{"nick":"rmustacc","message":"Maybe using the path variable before starting up?","date":"2011-11-09T16:56:20.362Z","type":"message"}
{"nick":"piscisaureus","message":"it's so ugly","date":"2011-11-09T16:56:39.451Z","type":"message"}
{"nick":"rmustacc","message":"Did he need it to be dynamic, or was he trying to automate the process in node itself to make life easier?","date":"2011-11-09T16:58:19.187Z","type":"message"}
{"nick":"piscisaureus","message":"you should know cloud9 is pretty massive","date":"2011-11-09T17:02:47.389Z","type":"message"}
{"nick":"piscisaureus","message":"now suppose that someone takes away include path from gcc","date":"2011-11-09T17:03:19.475Z","type":"message"}
{"nick":"piscisaureus","message":"you would be pissed","date":"2011-11-09T17:03:24.571Z","type":"message"}
{"nick":"rmustacc","message":"But, I still have the equivalent of gcc. I just can't have my compiler change it in the middle of compiling a single file, at least that's my understanding of the change.","date":"2011-11-09T17:04:35.509Z","type":"message"}
{"nick":"rmustacc","message":"But yeah, I know that stuff can be pretty annoying.","date":"2011-11-09T17:04:48.268Z","type":"message"}
{"nick":"rmustacc","message":"We have a bunch of stuff all over the place, so we use the environment variable to wrap up the paths for testing for example.","date":"2011-11-09T17:06:13.377Z","type":"message"}
{"nick":"indutny","message":"require.paths is thing I'm missing too","date":"2011-11-09T17:12:34.798Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus igorzi ryah: i won't be able to make the 19.00h call but 19.30h or 20.00h would work for me","date":"2011-11-09T17:14:17.581Z","type":"message"}
{"nick":"bnoordhuis","action":"is off to dinner","date":"2011-11-09T17:15:00.727Z","type":"action"}
{"nick":"piscisaureus","message":"bnoordhuis: there is no 19.00h call :-/","date":"2011-11-09T17:16:12.521Z","type":"message"}
{"nick":"isaacs","date":"2011-11-09T17:18:49.277Z","type":"join"}
{"nick":"AvianFlu","date":"2011-11-09T17:22:20.447Z","type":"join"}
{"nick":"ryah","message":"bnoordhuis: can you translate to PST?","date":"2011-11-09T17:26:00.104Z","type":"message"}
{"nick":"ryah","message":"19 = 11am i guess","date":"2011-11-09T17:28:13.055Z","type":"message"}
{"nick":"ryah","message":"let's do 11:30am if that's okay","date":"2011-11-09T17:28:23.052Z","type":"message"}
{"nick":"piscisaureus","message":"I think 19 = 10am atm","date":"2011-11-09T17:28:40.668Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis didn't  figure out yet that you stepped off dst last weekend","date":"2011-11-09T17:29:20.991Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: oh","date":"2011-11-09T17:47:08.210Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues/2061#issuecomment-2684196","date":"2011-11-09T17:47:27.489Z","type":"message"}
{"nick":"ryah","message":"^-- here is DTrego's bug again","date":"2011-11-09T17:47:38.876Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2011-11-09T17:48:01.584Z","type":"message"}
{"nick":"indutny","message":"not again","date":"2011-11-09T17:48:01.798Z","type":"message"}
{"nick":"indutny","message":"do we need mraleph?","date":"2011-11-09T17:48:11.506Z","type":"message"}
{"nick":"indutny","message":"I think I can cast call spell","date":"2011-11-09T17:48:41.385Z","type":"message"}
{"nick":"indutny","message":":D","date":"2011-11-09T17:48:45.748Z","type":"message"}
{"nick":"ryah","message":"let me see if i can repeat by doing the \"homebrew\" install","date":"2011-11-09T17:49:23.330Z","type":"message"}
{"nick":"ryah","message":"deep sign","date":"2011-11-09T17:49:30.131Z","type":"message"}
{"nick":"ryah","message":"sigh","date":"2011-11-09T17:49:31.556Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2011-11-09T17:53:02.576Z","type":"message"}
{"nick":"isaacs","message":"i don't get homebrew.","date":"2011-11-09T17:53:08.428Z","type":"message"}
{"nick":"isaacs","message":"if they were going to do a build in a DESTDIR or something, why didn't they go the established BSD-style?","date":"2011-11-09T17:53:26.861Z","type":"message"}
{"nick":"indutny","message":"isaacs: here you are","date":"2011-11-09T17:53:35.536Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-11-09T17:53:36.504Z","type":"message"}
{"nick":"mraleph","date":"2011-11-09T17:53:37.826Z","type":"join"}
{"nick":"isaacs","message":"hi, indutny !","date":"2011-11-09T17:53:41.522Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-11-09T17:53:44.584Z","type":"message"}
{"nick":"indutny","message":"hi","date":"2011-11-09T17:53:45.177Z","type":"message"}
{"nick":"indutny","message":"I've problems with unpublishing http://search.npmjs.org/#/ometajs 2.1.1","date":"2011-11-09T17:53:57.864Z","type":"message"}
{"nick":"mraleph","message":"indutny: you are pretty flaky in gtalk, so you can say what you wanted here :-)","date":"2011-11-09T17:54:10.529Z","type":"message"}
{"nick":"indutny","message":"mraleph: hehe :)","date":"2011-11-09T17:54:33.867Z","type":"message"}
{"nick":"indutny","message":"mraleph: my wife is downloading something HEAVY","date":"2011-11-09T17:54:44.706Z","type":"message"}
{"nick":"indutny","message":"I think adium is just dying and reviving","date":"2011-11-09T17:55:14.863Z","type":"message"}
{"nick":"indutny","message":"mraleph: https://github.com/joyent/node/issues/2061#issuecomment-2684196","date":"2011-11-09T17:55:23.183Z","type":"message"}
{"nick":"brson","date":"2011-11-09T17:55:23.903Z","type":"join"}
{"nick":"indutny","message":"probably you know what's going on","date":"2011-11-09T17:55:30.244Z","type":"message"}
{"nick":"indutny","message":"isaacs: https://gist.github.com/13bfae5fe5b81277a76e","date":"2011-11-09T17:55:51.106Z","type":"message"}
{"nick":"mraleph","message":"10.7.2 is going on","date":"2011-11-09T17:55:54.266Z","type":"message"}
{"nick":"mraleph","message":"I don't have access to such a box","date":"2011-11-09T17:56:02.822Z","type":"message"}
{"nick":"mraleph","message":"can we ask him to run node_g?","date":"2011-11-09T17:56:16.338Z","type":"message"}
{"nick":"indutny","message":"mraleph: DTrejo was experiencing same on 10.6.8","date":"2011-11-09T17:56:43.579Z","type":"message"}
{"nick":"mraleph","message":"I wonder if I have access to 10.6.8","date":"2011-11-09T17:57:12.618Z","type":"message"}
{"nick":"isaacs","message":"indutny: hmm... looks like the npm client isn't updating the modified time for the version when unpublishing.","date":"2011-11-09T17:57:13.017Z","type":"message"}
{"nick":"indutny","message":"mraleph: I have","date":"2011-11-09T17:57:24.659Z","type":"message"}
{"nick":"indutny","message":";)","date":"2011-11-09T17:57:27.064Z","type":"message"}
{"nick":"isaacs","message":"indutny: i'll make the validate update doc function less restrictive for the time being, and then look into it later.","date":"2011-11-09T17:57:31.123Z","type":"message"}
{"nick":"indutny","message":"isaacs: thanks","date":"2011-11-09T17:57:39.213Z","type":"message"}
{"nick":"indutny","message":"isaacs: btw","date":"2011-11-09T17:58:01.669Z","type":"message"}
{"nick":"mraleph","message":"indutny: can you repro it then?","date":"2011-11-09T17:58:10.031Z","type":"message"}
{"nick":"indutny","message":"isaacs: when package.json contains \"ometajs >= 2.0.1\"","date":"2011-11-09T17:58:16.833Z","type":"message"}
{"nick":"indutny","message":"isaacs: it installs 2.0.10","date":"2011-11-09T17:58:25.575Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2011-11-09T17:58:28.465Z","type":"message"}
{"nick":"indutny","message":"while stable is 2.0.11","date":"2011-11-09T17:58:29.342Z","type":"message"}
{"nick":"indutny","message":"mraleph: nope","date":"2011-11-09T17:58:33.893Z","type":"message"}
{"nick":"isaacs","message":"indutny: not enough information.  node version?  is there an engines field? etc.","date":"2011-11-09T17:58:51.771Z","type":"message"}
{"nick":"indutny","message":"isaacs: 0.4.12","date":"2011-11-09T17:58:58.021Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2011-11-09T17:59:01.502Z","type":"message"}
{"nick":"isaacs","message":"i dunno","date":"2011-11-09T17:59:07.980Z","type":"message"}
{"nick":"isaacs","message":"just a sec","date":"2011-11-09T17:59:09.769Z","type":"message"}
{"nick":"indutny","message":"engine \"node >= 0.4.0\"","date":"2011-11-09T17:59:47.474Z","type":"message"}
{"nick":"isaacs","message":"indutny: k, try your unpublish again.","date":"2011-11-09T18:00:26.124Z","type":"message"}
{"nick":"indutny","message":"isaacs: kk","date":"2011-11-09T18:00:30.957Z","type":"message"}
{"nick":"indutny","message":"same","date":"2011-11-09T18:00:49.013Z","type":"message"}
{"nick":"erickt","date":"2011-11-09T18:00:52.060Z","type":"join"}
{"nick":"indutny","message":"isaacs: ^","date":"2011-11-09T18:01:10.005Z","type":"message"}
{"nick":"mraleph","message":"ryah: btw this can be ABI issue.","date":"2011-11-09T18:01:43.570Z","type":"message"}
{"nick":"mraleph","message":"ryah: I can't be sure but this is highly possible","date":"2011-11-09T18:01:56.521Z","type":"message"}
{"nick":"mraleph","message":"ryah: if you manage to repro it look the generated code on the border between C++ and JS to see if ABI matches.","date":"2011-11-09T18:02:39.130Z","type":"message"}
{"nick":"ryah","message":"mraleph: it segfaults on startup","date":"2011-11-09T18:03:10.815Z","type":"message"}
{"nick":"ryah","message":"mraleph: and we static link v8","date":"2011-11-09T18:03:17.911Z","type":"message"}
{"nick":"ryah","message":"how could it be an abi issue?","date":"2011-11-09T18:03:34.106Z","type":"message"}
{"nick":"rmustacc","message":"ryah: Are you sure homebrew doesn't try and build v8 separately?","date":"2011-11-09T18:04:04.720Z","type":"message"}
{"nick":"ryah","message":"just installed with homebrew - seems to work","date":"2011-11-09T18:04:15.448Z","type":"message"}
{"nick":"ryah","message":"let me check","date":"2011-11-09T18:04:20.127Z","type":"message"}
{"nick":"ryah","message":"% otool -L /Users/ryan/local/homebrew/Cellar/node/0.6.0/bin/node","date":"2011-11-09T18:04:35.575Z","type":"message"}
{"nick":"ryah","message":"/Users/ryan/local/homebrew/Cellar/node/0.6.0/bin/node:","date":"2011-11-09T18:04:35.793Z","type":"message"}
{"nick":"ryah","message":"\t/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.5)","date":"2011-11-09T18:04:35.793Z","type":"message"}
{"nick":"ryah","message":"\t/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon (compatibility version 2.0.0, current version 152.0.0)","date":"2011-11-09T18:04:35.793Z","type":"message"}
{"nick":"ryah","message":"\t/opt/local/lib/libssl.0.9.8.dylib (compatibility version 0.9.8, current version 0.9.8)","date":"2011-11-09T18:04:39.137Z","type":"message"}
{"nick":"ryah","message":"\t/opt/local/lib/libcrypto.0.9.8.dylib (compatibility version 0.9.8, current version 0.9.8)","date":"2011-11-09T18:04:42.594Z","type":"message"}
{"nick":"ryah","message":"\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)","date":"2011-11-09T18:04:46.073Z","type":"message"}
{"nick":"ryah","message":"\t/usr/lib/libutil.dylib (compatibility version 1.0.0, current version 1.0.0)","date":"2011-11-09T18:04:49.614Z","type":"message"}
{"nick":"ryah","message":"\t/usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 7.9.0)","date":"2011-11-09T18:04:52.086Z","type":"message"}
{"nick":"ryah","message":"\t/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices (compatibility version 1.0.0, current version 44.0.0)","date":"2011-11-09T18:04:54.577Z","type":"message"}
{"nick":"ryah","message":"\t/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 550.43.0)","date":"2011-11-09T18:04:58.082Z","type":"message"}
{"nick":"ryah","message":"\t/System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices (compatibility version 1.0.0, current version 38.0.0)","date":"2011-11-09T18:05:01.596Z","type":"message"}
{"nick":"rmustacc","message":"They can still bundle a .a.","date":"2011-11-09T18:05:17.870Z","type":"message"}
{"nick":"mraleph","message":"as far as I see from his backtrace in the issue it crossed from JS frames to C++ code before crashing. if C++ was compiled in a funky way (with a funky compiler) it can be that V8 passes arguments incorrectly to the C++ function. This would be ABI mismatch between V8 generated code and compiled C++ code.","date":"2011-11-09T18:05:18.718Z","type":"message"}
{"nick":"ryah","message":"god. why are we linking to stdc++ ...","date":"2011-11-09T18:05:24.006Z","type":"message"}
{"nick":"rmustacc","message":"Because you're using C++.","date":"2011-11-09T18:05:31.046Z","type":"message"}
{"nick":"ryah","message":"we're not using anything from there","date":"2011-11-09T18:05:57.141Z","type":"message"}
{"nick":"rmustacc","message":"What about v8?","date":"2011-11-09T18:06:03.674Z","type":"message"}
{"nick":"ryah","message":"v8 neither","date":"2011-11-09T18:06:13.187Z","type":"message"}
{"nick":"rmustacc","message":"GCC may just require it for all of C++.","date":"2011-11-09T18:06:25.129Z","type":"message"}
{"nick":"ryah","message":"yes, it seems so","date":"2011-11-09T18:07:31.368Z","type":"message"}
{"nick":"isaacs","message":"indutny: you mind if i try?","date":"2011-11-09T18:07:53.309Z","type":"message"}
{"nick":"indutny","message":"isaacs: still the same","date":"2011-11-09T18:09:34.317Z","type":"message"}
{"nick":"isaacs","message":"indutny: what version of npm are you using?","date":"2011-11-09T18:10:00.192Z","type":"message"}
{"nick":"isaacs","message":"this record looks old","date":"2011-11-09T18:10:07.312Z","type":"message"}
{"nick":"isaacs","message":"mtime and ctime instead of a time object, et.","date":"2011-11-09T18:10:15.413Z","type":"message"}
{"nick":"ryah","message":"DrPizza: yt?","date":"2011-11-09T18:11:00.140Z","type":"message"}
{"nick":"indutny","message":"isaacs: 1.0.103","date":"2011-11-09T18:11:05.077Z","type":"message"}
{"nick":"ryah","message":"DrPizza: do you know how to do this https://github.com/joyent/node/issues/2059","date":"2011-11-09T18:11:10.592Z","type":"message"}
{"nick":"isaacs","message":"indutny: weird.","date":"2011-11-09T18:11:12.915Z","type":"message"}
{"nick":"isaacs","message":"indutny: it's 0.2.1 that you want removed?","date":"2011-11-09T18:11:23.440Z","type":"message"}
{"nick":"indutny","message":"2.1.1","date":"2011-11-09T18:12:13.952Z","type":"message"}
{"nick":"indutny","message":"and I want to align versions","date":"2011-11-09T18:12:22.645Z","type":"message"}
{"nick":"indutny","message":"so latest will be 2.0.11","date":"2011-11-09T18:12:27.284Z","type":"message"}
{"nick":"isaacs","message":"what package is this again?","date":"2011-11-09T18:12:27.915Z","type":"message"}
{"nick":"isaacs","message":"ometa?","date":"2011-11-09T18:12:30.358Z","type":"message"}
{"nick":"isaacs","message":"that's not yours.","date":"2011-11-09T18:12:34.193Z","type":"message"}
{"nick":"indutny","message":"isaacs: it's mine too :)","date":"2011-11-09T18:12:43.031Z","type":"message"}
{"nick":"indutny","message":"ometajs","date":"2011-11-09T18:12:59.006Z","type":"message"}
{"nick":"isaacs","message":"oic","date":"2011-11-09T18:13:00.515Z","type":"message"}
{"nick":"isaacs","message":"nono, \"ometa\" is bmavity's","date":"2011-11-09T18:13:05.610Z","type":"message"}
{"nick":"indutny","message":"ometajs","date":"2011-11-09T18:13:13.252Z","type":"message"}
{"nick":"indutny","message":"http://search.npmjs.org/#/ometajs","date":"2011-11-09T18:13:16.495Z","type":"message"}
{"nick":"isaacs","message":"i see, that makes more sense :)","date":"2011-11-09T18:13:20.148Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2011-11-09T18:13:21.720Z","type":"message"}
{"nick":"isaacs","message":"adn you want to remove 2.1.1","date":"2011-11-09T18:13:27.557Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2011-11-09T18:13:32.082Z","type":"message"}
{"nick":"indutny","message":"and align versions","date":"2011-11-09T18:13:35.497Z","type":"message"}
{"nick":"isaacs","message":"you know, you can also just do `npm tag ometajs@2.0.11 latest\"","date":"2011-11-09T18:13:39.311Z","type":"message"}
{"nick":"indutny","message":"sort them, actually","date":"2011-11-09T18:13:39.659Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2011-11-09T18:13:46.078Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2011-11-09T18:13:50.196Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2011-11-09T18:13:52.390Z","type":"message"}
{"nick":"isaacs","message":"what do you mean \"sort them\"?","date":"2011-11-09T18:13:53.039Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-11-09T18:13:53.371Z","type":"message"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-11-09T18:13:57.586Z","type":"quit"}
{"nick":"indutny","message":"nvm, forgot about \"latest\" tag","date":"2011-11-09T18:14:06.289Z","type":"message"}
{"nick":"isaacs","message":"indutny: it unpublished 2.1.1 just fine","date":"2011-11-09T18:14:58.490Z","type":"message"}
{"nick":"isaacs","message":"you know, you can also publish with a --tag argument to make it something other than latest","date":"2011-11-09T18:15:10.064Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2011-11-09T18:15:10.287Z","type":"message"}
{"nick":"isaacs","message":"like, npm publish --tag beta","date":"2011-11-09T18:15:15.858Z","type":"message"}
{"nick":"DrPizza","message":"ryah: yes","date":"2011-11-09T18:15:23.492Z","type":"message"}
{"nick":"indutny","message":"isaacs: thank you! )","date":"2011-11-09T18:15:27.745Z","type":"message"}
{"nick":"isaacs","message":"np","date":"2011-11-09T18:15:30.884Z","type":"message"}
{"nick":"DrPizza","message":"ryah: what I don't know off-hand is how to make gyp do the right thing, but I can probably take a look at the chrome project","date":"2011-11-09T18:16:07.271Z","type":"message"}
{"nick":"bnoordhuis","message":"call?","date":"2011-11-09T18:16:48.248Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: in 45min?","date":"2011-11-09T18:16:58.490Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: sure","date":"2011-11-09T18:17:11.472Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: what's up?","date":"2011-11-09T18:17:25.186Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: the opposite of down","date":"2011-11-09T18:17:32.346Z","type":"message"}
{"nick":"bnoordhuis","message":"also, can you reboot the cluster to linux?","date":"2011-11-09T18:17:39.165Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: oh right.. sorry forgot.. will do that now","date":"2011-11-09T18:18:12.278Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: done","date":"2011-11-09T18:19:50.162Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: thanks","date":"2011-11-09T18:21:10.261Z","type":"message"}
{"nick":"ryah","message":"DrPizza: i searched around the chrome tree, no luck","date":"2011-11-09T18:22:51.747Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/issues/2061 <- that's the same issue a guy in #node.js is complaining about","date":"2011-11-09T18:23:08.443Z","type":"message"}
{"nick":"bnoordhuis","message":"and it's not the same guy","date":"2011-11-09T18:23:24.156Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm having him revert the v8 upgrade","date":"2011-11-09T18:23:45.852Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: which v8 upgrade?","date":"2011-11-09T18:24:43.671Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: 0ba8f05 Upgrade V8 to 3.6.6.7","date":"2011-11-09T18:25:05.702Z","type":"message"}
{"nick":"ryah","message":"this can't be releated","date":"2011-11-09T18:25:32.470Z","type":"message"}
{"nick":"bnoordhuis","message":"it's very minor yes","date":"2011-11-09T18:25:38.616Z","type":"message"}
{"nick":"ryah","message":"Dtrejo was seeing this on v0.6.0","date":"2011-11-09T18:25:49.086Z","type":"message"}
{"nick":"ryah","message":"with 3.6.6.6","date":"2011-11-09T18:25:55.300Z","type":"message"}
{"nick":"ryah","message":"actually in the RCs","date":"2011-11-09T18:26:01.997Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-11-09T18:27:18.376Z","type":"quit"}
{"nick":"brson","date":"2011-11-09T18:27:33.849Z","type":"join"}
{"nick":"mraleph","message":"ryah: ok it's not an ABI issue, as I can see from the more detailed stack trace.","date":"2011-11-09T18:40:14.018Z","type":"message"}
{"nick":"mraleph","message":"ryah: might be caused by V8_FAST_TLS_SUPPORTED","date":"2011-11-09T18:40:39.598Z","type":"message"}
{"nick":"mraleph","message":"you should try disabling it.","date":"2011-11-09T18:40:49.249Z","type":"message"}
{"nick":"mraleph","message":"hmm. no","date":"2011-11-09T18:41:48.633Z","type":"message"}
{"nick":"mraleph","message":"this all looks very wierd.","date":"2011-11-09T18:41:55.193Z","type":"message"}
{"nick":"mraleph","message":"if isolate_ was NULL it should have crashed in HandleScope constructor but it did not","date":"2011-11-09T18:42:22.029Z","type":"message"}
{"nick":"bnoordhuis","message":"fwiw, i've seen this issue on gentoo linux as well with v8 3.7.x","date":"2011-11-09T18:43:20.049Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 276 seconds","date":"2011-11-09T18:45:59.863Z","type":"quit"}
{"nick":"mraleph","message":"hmm","date":"2011-11-09T18:47:15.192Z","type":"message"}
{"nick":"mraleph","message":"this is insanity","date":"2011-11-09T18:47:30.394Z","type":"message"}
{"nick":"mraleph","message":"are you sure it's the same issue?","date":"2011-11-09T18:47:58.348Z","type":"message"}
{"nick":"bnoordhuis","message":"mraleph: just looked it up, that was something else (but also stats related)","date":"2011-11-09T18:49:41.348Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/commit/edea412 <- that's the revert in case you're curious","date":"2011-11-09T18:50:08.891Z","type":"message"}
{"nick":"mraleph","message":"yeah I saw that, it also requires some debugging.","date":"2011-11-09T18:52:21.607Z","type":"message"}
{"nick":"mraleph","message":"probably a bug in optimizing compiler or something.","date":"2011-11-09T18:52:31.142Z","type":"message"}
{"nick":"ryah","message":"hey","date":"2011-11-09T19:02:31.174Z","type":"message"}
{"nick":"ryah","message":"call?","date":"2011-11-09T19:02:34.576Z","type":"message"}
{"nick":"piscisaureus","message":"yep","date":"2011-11-09T19:02:37.989Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: call?","date":"2011-11-09T19:04:00.192Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: yes","date":"2011-11-09T19:04:04.436Z","type":"message"}
{"nick":"piscisaureus","message":"you're late ben","date":"2011-11-09T19:04:37.905Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/libuv/compare/kernel-mismatch <- unix guys - review? useful?","date":"2011-11-09T19:07:16.364Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/7fd1c08b1615b57529c1bb7ae6f9a7b16e643162/src/node.js#L176","date":"2011-11-09T19:15:00.060Z","type":"message"}
{"nick":"ryah","message":"^- v0.4","date":"2011-11-09T19:16:55.096Z","type":"message"}
{"nick":"mikeal","date":"2011-11-09T19:23:10.536Z","type":"join"}
{"nick":"bnoordhuis","message":"igorzi: does fs.watch('somefile') watch the windows equivalent of an inode or the directory entry?","date":"2011-11-09T19:42:54.414Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: it'll watch the parent dir, and the filter based on 'somefile'","date":"2011-11-09T19:48:02.771Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: thanks - i suspected as much","date":"2011-11-09T19:48:18.410Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-09T19:54:23.561Z","type":"quit"}
{"nick":"mikeal","date":"2011-11-09T20:01:03.033Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2011-11-09T20:02:04.367Z","type":"quit"}
{"nick":"bnoordhuis","message":"igorzi: i can't get wcat to run - i can ping the server, node is listening on port 80 but wcat doesn't connect to it","date":"2011-11-09T20:09:06.579Z","type":"message"}
{"nick":"bnoordhuis","message":"err... if i `curl -v http://192.168.30.114/bytes/1024` on the server, i get an iis proxy error page....","date":"2011-11-09T20:19:39.414Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: what's this kernel-mismatch thing about?","date":"2011-11-09T20:33:11.215Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i dont understand it","date":"2011-11-09T20:33:17.796Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-09T20:34:00.051Z","type":"quit"}
{"nick":"bnoordhuis","message":"ryah: for example, someone compiles libuv against 2.6.32 kernel headers, then runs the binary on a 2.6.24 kernel","date":"2011-11-09T20:34:13.370Z","type":"message"}
{"nick":"bnoordhuis","message":"libuv now calls e.g. pipe2() and the 2.6.24 kernel will return ENOSYS","date":"2011-11-09T20:34:43.222Z","type":"message"}
{"nick":"ryah","message":"mraleph: did you find out anything elese?","date":"2011-11-09T20:34:45.125Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: groan","date":"2011-11-09T20:35:07.218Z","type":"message"}
{"nick":"bnoordhuis","message":"that commit falls back to (for example) pipe() when that happens","date":"2011-11-09T20:35:15.585Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: did you test this?","date":"2011-11-09T20:35:20.427Z","type":"message"}
{"nick":"bnoordhuis","message":"someone in the channel tested it for me","date":"2011-11-09T20:35:36.972Z","type":"message"}
{"nick":"bnoordhuis","message":"his node went from all out crashing to passing nearly all tests","date":"2011-11-09T20:35:51.816Z","type":"message"}
{"nick":"ryah","message":"then rubberstamp lgtm","date":"2011-11-09T20:36:29.675Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2011-11-09T20:37:17.811Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: mraleph found the bug btw, https://gist.github.com/1352731","date":"2011-11-09T20:37:39.865Z","type":"message"}
{"nick":"ryah","message":"oh nice","date":"2011-11-09T20:38:03.297Z","type":"message"}
{"nick":"ryah","message":"so what's happening?","date":"2011-11-09T20:38:22.203Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: btw i've got a problem on OSX/libuv","date":"2011-11-09T20:39:00.378Z","type":"message"}
{"nick":"ryah","message":"=============================================================","date":"2011-11-09T20:39:00.790Z","type":"message"}
{"nick":"ryah","message":"[%   0|+  84|-   3]: fs_event_no_callback_on_close","date":"2011-11-09T20:39:01.004Z","type":"message"}
{"nick":"ryah","message":"`fs_event_no_callback_on_close` failed: exit code 6","date":"2011-11-09T20:39:01.004Z","type":"message"}
{"nick":"ryah","message":"Output from process `fs_event_no_callback_on_close`:","date":"2011-11-09T20:39:01.004Z","type":"message"}
{"nick":"ryah","message":"Assertion failed: (revents == EV_LIBUV_KQUEUE_HACK), function uv__fs_event, file src/unix/kqueue.c, line 58.","date":"2011-11-09T20:39:03.364Z","type":"message"}
{"nick":"ryah","message":"=============================================================","date":"2011-11-09T20:39:06.872Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i'll check that out tomorrow","date":"2011-11-09T20:39:50.337Z","type":"message"}
{"nick":"bnoordhuis","message":"re that other os x bug: don't know, maybe stack corruption, maybe calling convention issue","date":"2011-11-09T20:40:21.248Z","type":"message"}
{"nick":"ryah","message":"=============================================================","date":"2011-11-09T20:41:23.196Z","type":"message"}
{"nick":"ryah","message":"[%   0|+  22|-   1]: tcp_write_to_half_open_connection","date":"2011-11-09T20:41:24.465Z","type":"message"}
{"nick":"ryah","message":"`tcp_write_to_half_open_connection` failed: exit code 6","date":"2011-11-09T20:41:24.687Z","type":"message"}
{"nick":"ryah","message":"Output from process `tcp_write_to_half_open_connection`:","date":"2011-11-09T20:41:24.687Z","type":"message"}
{"nick":"ryah","message":"read_cb error: ECONNRESET","date":"2011-11-09T20:41:24.687Z","type":"message"}
{"nick":"ryah","message":"Assertion failed in test/test-tcp-write-to-half-open-connection.c on line 79: uv_last_error(stream->loop).code == UV_EOF","date":"2011-11-09T20:41:26.686Z","type":"message"}
{"nick":"ryah","message":"=============================================================","date":"2011-11-09T20:41:30.179Z","type":"message"}
{"nick":"ryah","message":"^-- also this started happening...","date":"2011-11-09T20:41:32.701Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024794c12\u000f \u000310\u000f/ (src/unix/core.c src/unix/process.c)\u0002:\u000f ","date":"2011-11-09T20:41:58.757Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f linux: fall back to traditional syscalls if necessary","date":"2011-11-09T20:41:58.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f libuv uses feature checks to determine if newer syscalls like pipe2() are","date":"2011-11-09T20:41:58.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f available. This works fine until someone compiles libuv against kernel headers","date":"2011-11-09T20:41:58.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f that are newer than the actual kernel our software runs on.","date":"2011-11-09T20:41:58.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Fall back to traditional (but race-y!) syscalls when the kernel reports ENOSYS","date":"2011-11-09T20:41:58.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f or EINVAL. - http://git.io/XQJv5w","date":"2011-11-09T20:42:00.259Z","type":"message"}
{"nick":"mraleph","message":"I just assume that you have different sizeof of structure or something. (header vs. library conflict). if you changed size of that structure recently that would be the most obvious candidate","date":"2011-11-09T20:42:14.892Z","type":"message"}
{"nick":"ryah","message":"oh, it probably has to do with LARGEFILE_SOURCE","date":"2011-11-09T20:42:47.266Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that's what i mean with calling convention","date":"2011-11-09T20:43:02.088Z","type":"message"}
{"nick":"bnoordhuis","message":"then again, that particular bit of code doesn't deal with off_t","date":"2011-11-09T20:44:06.880Z","type":"message"}
{"nick":"ryah","message":"i wonder if these people are on on 32bit machines?","date":"2011-11-09T20:44:50.152Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm, uv_fs_t contains a struct stat","date":"2011-11-09T20:45:17.036Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, that's probably it","date":"2011-11-09T20:45:21.805Z","type":"message"}
{"nick":"ryah","message":"libuv is certainly using LARGEFILE_SOURCE and FILE_OFFSET_BITS=64","date":"2011-11-09T20:47:16.036Z","type":"message"}
{"nick":"bnoordhuis","message":"^ so is node","date":"2011-11-09T20:48:59.329Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/4fc0fdc6ee8c41320f4d4ea74e4fa8a3ac12ed57/deps/uv/config-unix.mk#L27-28","date":"2011-11-09T20:49:47.529Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/4fc0fdc6ee8c41320f4d4ea74e4fa8a3ac12ed57/wscript#L461-462","date":"2011-11-09T20:49:51.039Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2011-11-09T20:58:53.886Z","type":"message"}
{"nick":"ryah","message":"my guess is that something is being compiled without one of those defines...","date":"2011-11-09T20:59:16.389Z","type":"message"}
{"nick":"igorzi","reason":"Ping timeout: 265 seconds","date":"2011-11-09T21:02:50.890Z","type":"quit"}
{"nick":"mraleph","message":"ryah: you can insert two debug prints printf(\"%d\\n\", (int)sizeof(uv_fs_t)); in node code and in libuv code then everything hidden will become unhidden :-)","date":"2011-11-09T21:11:57.204Z","type":"message"}
{"nick":"mraleph","message":"btw. this kind of verification should probably make it into debug build","date":"2011-11-09T21:12:27.599Z","type":"message"}
{"nick":"ryah","message":"mraleph: thanks","date":"2011-11-09T21:13:20.625Z","type":"message"}
{"nick":"mraleph","message":"I find debug prints always easier to grok then reading disassembly.","date":"2011-11-09T21:14:56.150Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-11-09T21:17:38.516Z","type":"message"}
{"nick":"igorzi","date":"2011-11-09T21:19:18.805Z","type":"join"}
{"nick":"igorzi","message":"bnoordhuis: can i bump you off ndjs-win3?","date":"2011-11-09T21:21:00.734Z","type":"message"}
{"nick":"igorzi","message":"ryah: did you confirm if making stderr non-destroy'able is ok?","date":"2011-11-09T21:24:49.740Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: he did. stderr only","date":"2011-11-09T21:25:12.389Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2011-11-09T21:25:13.954Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus: k, thx","date":"2011-11-09T21:25:41.346Z","type":"message"}
{"nick":"isaacs","date":"2011-11-09T21:26:05.969Z","type":"join"}
{"nick":"igorzi","message":"ryah piscisaureus: so it looks like you get ECONNRESET in tcp_write_to_half_open_connection (similar to how we got ECONNABORT in windows).  I think this doesn't show up in node because of this: https://github.com/joyent/node/blob/master/lib/net.js#L352","date":"2011-11-09T21:28:56.576Z","type":"message"}
{"nick":"igorzi","message":"ryah piscisaureus: so to make it consistent, that (check for ECONNRESET) should probably move to uv-unix, or we should move the check for ECONNABORT in windows to node","date":"2011-11-09T21:30:35.599Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: the difference between CONNRESET and CONNABORTED is in which end killed the connection","date":"2011-11-09T21:33:45.274Z","type":"message"}
{"nick":"mikeal","date":"2011-11-09T21:33:45.943Z","type":"join"}
{"nick":"piscisaureus","message":"CONNRESET = we killed it, CONNABORTED = they killed it","date":"2011-11-09T21:33:57.688Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: if you connect to yourself then the order in which the 'connect'  and 'connection'  events appear is reversed on windows","date":"2011-11-09T21:34:29.311Z","type":"message"}
{"nick":"piscisaureus","message":"so it kind of makes sense that connreset changes into connaborted","date":"2011-11-09T21:34:45.817Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: that's how it is on windows.. is that how it is on unix?","date":"2011-11-09T21:34:58.174Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: that's the definition","date":"2011-11-09T21:35:10.597Z","type":"message"}
{"nick":"piscisaureus","message":"I am not sure that CONNABORTED actually happens on unix","date":"2011-11-09T21:35:25.734Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: look at ryah's results for tcp_write_to_half_open_connection (@20:41:24).. it's the server that's failing inside read_cb, very similarly to the failure on windows (but with ECONNABORT)","date":"2011-11-09T21:37:07.051Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: the server does not kill the connection in that test","date":"2011-11-09T21:37:30.253Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-11-09T21:38:03.663Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: hmm, maybe that happened after the server got EOF..","date":"2011-11-09T21:38:16.592Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: but my point is the reason why this didn't show up in node is because of this https://github.com/joyent/node/blob/master/lib/net.js#L352","date":"2011-11-09T21:38:44.263Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yes, I agree that it would be good to stratify that","date":"2011-11-09T21:39:17.523Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: so the check should move","date":"2011-11-09T21:39:27.981Z","type":"message"}
{"nick":"piscisaureus","message":"My gut feeling says we should move it out of libuv into node","date":"2011-11-09T21:39:40.663Z","type":"message"}
{"nick":"piscisaureus","message":"Because ignoring errors is not something that everyone might want to do","date":"2011-11-09T21:40:01.642Z","type":"message"}
{"nick":"piscisaureus","message":"but in the end it probably doesn't matter","date":"2011-11-09T21:40:09.914Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, i think i agree.. maybe we should just convert WSACONNABORT to UV_CONNRESET in libuv, and call it a day?  (we still need consistency for error codes out of libuv)","date":"2011-11-09T21:42:49.097Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-11-09T21:42:57.558Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-11-09T21:43:03.186Z","type":"message"}
{"nick":"piscisaureus","message":"that sounds really wrong","date":"2011-11-09T21:43:09.560Z","type":"message"}
{"nick":"piscisaureus","message":"so let's do it","date":"2011-11-09T21:43:11.991Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: you want to keep firing UV_CONNABORT?","date":"2011-11-09T21:43:43.670Z","type":"message"}
{"nick":"piscisaureus","message":"yeah, let's do something wrong","date":"2011-11-09T21:43:47.180Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-11-09T21:43:51.892Z","type":"message"}
{"nick":"piscisaureus","message":"\u00030722:42] <igorzi> \u000303piscisaureus\u000301: yeah, i think i agree.. maybe we should just convert WSACONNABORT to \u000302UV_CONNRESET in libuv, and call it a day?  (we still need consistency for error codes out of libuv)\u0003\u000301","date":"2011-11-09T21:43:56.704Z","type":"message"}
{"nick":"piscisaureus","message":"^-- do that","date":"2011-11-09T21:43:59.942Z","type":"message"}
{"nick":"igorzi","message":"wrong, why is that wrong?","date":"2011-11-09T21:44:12.641Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i'm all ears for a better solution","date":"2011-11-09T21:45:17.098Z","type":"message"}
{"nick":"piscisaureus","message":"int ECONNABORTED","date":"2011-11-09T21:46:02.607Z","type":"message"}
{"nick":"piscisaureus","message":"    errno.h (BSD: Software caused connection abort): Error Codes.","date":"2011-11-09T21:46:02.817Z","type":"message"}
{"nick":"piscisaureus","message":"int ECONNRESET","date":"2011-11-09T21:46:02.818Z","type":"message"}
{"nick":"piscisaureus","message":"    errno.h (BSD: Connection reset by peer): Error Codes.","date":"2011-11-09T21:46:02.818Z","type":"message"}
{"nick":"piscisaureus","message":"It's not the same","date":"2011-11-09T21:46:05.628Z","type":"message"}
{"nick":"piscisaureus","message":"but","date":"2011-11-09T21:46:06.721Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I don't have a better solution","date":"2011-11-09T21:46:15.732Z","type":"message"}
{"nick":"piscisaureus","message":"so if you're sure that windows emits CONNABORTED where unix does CONNRESET, just replace one by the other","date":"2011-11-09T21:46:38.515Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeas, i know it's not the same.. but we need the same error code between uv-win and uv-unix, do we not?","date":"2011-11-09T21:46:55.515Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2011-11-09T21:47:00.624Z","type":"message"}
{"nick":"piscisaureus","message":"that's true","date":"2011-11-09T21:47:02.828Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-11-09T21:48:17.048Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving","date":"2011-11-09T21:50:31.582Z","type":"quit"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u00025d89540\u000f \u000310\u000f/ src/node.js \u0002:\u000f make stderr stream non-destroyable - http://git.io/iw6etA","date":"2011-11-09T21:54:26.904Z","type":"message"}
{"nick":"sh1mmer","date":"2011-11-09T22:04:09.192Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-09T22:08:43.062Z","type":"quit"}
{"nick":"dap","date":"2011-11-09T22:11:29.102Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2011-11-09T22:11:29.318Z","type":"quit"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-09T22:21:15.343Z","type":"quit"}
{"nick":"ryah","message":"igorzi: destroy stdout, stderr no-op okay","date":"2011-11-09T22:45:05.462Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-09T22:46:46.054Z","type":"join"}
{"nick":"piscisaureus_","message":"I am going to be early today so if anyone needs me, be quick","date":"2011-11-09T22:48:06.194Z","type":"message"}
{"nick":"piscisaureus_","message":"s/be/bed/","date":"2011-11-09T22:48:13.381Z","type":"message"}
{"nick":"igorzi","message":"ryah: ahh, so no-op on stdout.destroy is ok too? (not just stderr)","date":"2011-11-09T22:52:15.511Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002f17d483\u000f \u000310\u000f/ (src/win/tcp.c test/test-tcp-write-to-half-open-connection.c)\u0002:\u000f windows: turn WSAECONNABORTED from WSARecv to UV_ECONNRESET - http://git.io/dwV1fg","date":"2011-11-09T22:58:29.830Z","type":"message"}
{"nick":"ryah","message":"igorzi: yes","date":"2011-11-09T23:01:05.467Z","type":"message"}
{"nick":"ryah","message":"0x0000000100304f03 <uv_fs_stat+238>:    mov    -0x20(%rbp),%rsi","date":"2011-11-09T23:03:01.097Z","type":"message"}
{"nick":"ryah","message":"0x0000000100304f07 <uv_fs_stat+242>:    add    $0x48,%rsi","date":"2011-11-09T23:03:01.321Z","type":"message"}
{"nick":"ryah","message":"0x0000000100304f0b <uv_fs_stat+246>:    mov    -0x10(%rbp),%rdi","date":"2011-11-09T23:03:01.321Z","type":"message"}
{"nick":"ryah","message":"0x0000000100304f0f <uv_fs_stat+250>:    callq  0x1003281e4 <dyld_stub_stat$INODE64>","date":"2011-11-09T23:03:01.828Z","type":"message"}
{"nick":"ryah","message":"0x0000000100256f0b <uv_fs_stat+155>:    mov    -0x20(%rbp),%rax","date":"2011-11-09T23:03:12.042Z","type":"message"}
{"nick":"ryah","message":"0x0000000100256f0f <uv_fs_stat+159>:    cmp    $0x0,%rax","date":"2011-11-09T23:03:12.261Z","type":"message"}
{"nick":"ryah","message":"0x0000000100256f13 <uv_fs_stat+163>:    je     0x100256f9e <uv_fs_stat+302>","date":"2011-11-09T23:03:12.794Z","type":"message"}
{"nick":"ryah","message":"er","date":"2011-11-09T23:03:15.779Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-09T23:03:27.264Z","type":"part"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002f84d86b\u000f \u000310\u000f/ src/node.js \u0002:\u000f make stdout stream non-destroyable - http://git.io/dCMkkw","date":"2011-11-09T23:05:16.534Z","type":"message"}
{"nick":"rmustacc","message":"ryah: Some fun little assembly there.","date":"2011-11-09T23:07:12.819Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-09T23:27:06.182Z","type":"quit"}
{"nick":"wankdanker","reason":"Read error: Connection reset by peer","date":"2011-11-09T23:27:49.449Z","type":"quit"}
{"nick":"dap","date":"2011-11-09T23:29:45.728Z","type":"join"}
{"nick":"brson","date":"2011-11-09T23:35:07.140Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-09T23:39:18.099Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-11-09T23:45:39.505Z","type":"join"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-09-26T00:00:00.262Z","type":"quit"}
{"nick":"ircretary","date":"2013-09-26T00:00:08.424Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-26T00:05:23.720Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-26T00:05:42.364Z","type":"quit"}
{"nick":"othiym23","message":"you don't say","date":"2013-09-26T00:06:13.559Z","type":"message"}
{"nick":"othiym23","message":";)","date":"2013-09-26T00:06:15.379Z","type":"message"}
{"nick":"tjfontaine","message":"hahaha","date":"2013-09-26T00:10:58.942Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: your best bet is probably systemtap actually","date":"2013-09-26T00:11:36.419Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: that's not really an endorsement of its stability though","date":"2013-09-26T00:11:52.382Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah, or I suck it up and use the smartos machine you guys gave me access to. ;P","date":"2013-09-26T00:12:06.671Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: there's also mlogin :)","date":"2013-09-26T00:12:44.830Z","type":"message"}
{"nick":"tjfontaine","message":"but ya","date":"2013-09-26T00:12:49.590Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: there's also the vmware/virtualbox images for smartos or omniti","date":"2013-09-26T00:13:05.270Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah. might try that. just one of those things you don't do until you really really have to do it.","date":"2013-09-26T00:14:04.259Z","type":"message"}
{"nick":"tjfontaine","message":"you may want me to reprovision that tls-bench one with a newer base image","date":"2013-09-26T00:15:56.639Z","type":"message"}
{"nick":"dshaw_1","reason":"Quit: Leaving.","date":"2013-09-26T00:16:22.346Z","type":"quit"}
{"nick":"tjfontaine","message":"ya, there's not much there -- I can blow that away and reprovision closer to westcoast and with a newer image","date":"2013-09-26T00:17:38.670Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-26T00:17:49.087Z","type":"quit"}
{"nick":"othiym23","message":"has it gotten any easier to bootstrap SDC in vmware?","date":"2013-09-26T00:18:49.159Z","type":"message"}
{"nick":"tjfontaine","message":"all of sdc, or smartos?","date":"2013-09-26T00:18:58.904Z","type":"message"}
{"nick":"othiym23","message":"I can't remember which I bootstrapped last time","date":"2013-09-26T00:19:08.504Z","type":"message"}
{"nick":"othiym23","message":"probably just SmartOS","date":"2013-09-26T00:19:13.630Z","type":"message"}
{"nick":"tjfontaine","message":"I mean that's the primary development platform for most of these guys","date":"2013-09-26T00:19:28.291Z","type":"message"}
{"nick":"othiym23","message":"my image is like a year and a half old at this point","date":"2013-09-26T00:19:28.767Z","type":"message"}
{"nick":"tjfontaine","message":"so I would hope so","date":"2013-09-26T00:19:30.817Z","type":"message"}
{"nick":"othiym23","message":"is there a way I can upgrade the SmartOS installation itself from inside zone 0?","date":"2013-09-26T00:19:53.722Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: ya, smartos itself is just a usb stick, so your zones stay where they are","date":"2013-09-26T00:20:15.648Z","type":"message"}
{"nick":"othiym23","message":"gotta be blunt, the wiki confuses the shit out of me when I try to figure out how to do stuff","date":"2013-09-26T00:20:17.774Z","type":"message"}
{"nick":"tjfontaine","message":"yes, it's not the greatest at explaining what's going on","date":"2013-09-26T00:20:39.670Z","type":"message"}
{"nick":"tjfontaine","message":"but you just swap out one disk image for the new one, and continue your life on","date":"2013-09-26T00:20:52.170Z","type":"message"}
{"nick":"othiym23","message":"yeah, I know, I have it running in vmware with the hypervisor instruction emulation enabled so I can use the KVM :3","date":"2013-09-26T00:20:57.852Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-26T00:21:30.447Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-26T00:21:58.858Z","type":"join"}
{"nick":"othiym23","message":"hmm... gonna have to figure out how to do that without wrecking my whole world, because all my storage pools / zones are living in a virtual disk file and I'm not sure how to swap out the SmartOS image","date":"2013-09-26T00:22:07.027Z","type":"message"}
{"nick":"othiym23","message":"this is what I get for having a nice UI","date":"2013-09-26T00:22:14.667Z","type":"message"}
{"nick":"othiym23","message":"probably just need to mangle the config files by hand","date":"2013-09-26T00:22:23.090Z","type":"message"}
{"nick":"dshaw_","date":"2013-09-26T00:22:24.677Z","type":"join"}
{"nick":"tjfontaine","message":"othiym23: my understanding is that it should just work :)","date":"2013-09-26T00:22:48.032Z","type":"message"}
{"nick":"othiym23","message":"only one way to find out! :>","date":"2013-09-26T00:24:22.650Z","type":"message"}
{"nick":"tjfontaine","message":"well the good news is, you can snapshot the disk image :)","date":"2013-09-26T00:24:38.000Z","type":"message"}
{"nick":"othiym23","message":"I only have a couple zones, and they're all hellaciously out of date, so it's not a big deal if they get nuked, but it was *such* a pain in the ass getting them up and running in the first place","date":"2013-09-26T00:25:45.186Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 240 seconds","date":"2013-09-26T00:26:33.825Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 268 seconds","date":"2013-09-26T00:26:57.076Z","type":"quit"}
{"nick":"tjfontaine","message":"othiym23: you should just get zones in the jpc :P","date":"2013-09-26T00:27:00.773Z","type":"message"}
{"nick":"othiym23","message":"probably, yeah","date":"2013-09-26T00:27:43.761Z","type":"message"}
{"nick":"tjfontaine","message":"honestly though, what you'll actually want is SNGL when we get in the JPC","date":"2013-09-26T00:28:02.763Z","type":"message"}
{"nick":"othiym23","message":"but then I have to, like, talk to people to find out what the partnership details are so I can not pay my own dollars for it","date":"2013-09-26T00:28:11.092Z","type":"message"}
{"nick":"othiym23","message":"vas ist das?","date":"2013-09-26T00:28:18.355Z","type":"message"}
{"nick":"tjfontaine","message":"this is coming very very shortly as I understand it, http://www.joyent.com/blog/jonathan-perkins-on-why-smartos-is-not-gnu-linux","date":"2013-09-26T00:29:17.941Z","type":"message"}
{"nick":"tjfontaine","message":"basically the environment feels much more like your GNU/Linux environment","date":"2013-09-26T00:29:43.322Z","type":"message"}
{"nick":"tjfontaine","message":"so instead of getting things stuck in /opt/local, their prefix is /usr and then the other stuff is in like /platform or similar","date":"2013-09-26T00:30:21.127Z","type":"message"}
{"nick":"tjfontaine","message":"sorry /system","date":"2013-09-26T00:30:30.210Z","type":"message"}
{"nick":"othiym23","message":"honestly, I'm comfortable with the Solaris fs layout","date":"2013-09-26T00:30:42.811Z","type":"message"}
{"nick":"tjfontaine","message":"well the other thing, is it's going to finally be (real) multiarch","date":"2013-09-26T00:31:10.757Z","type":"message"}
{"nick":"othiym23","message":"I did ops on Solaris for many years, and as an ex-Java developer I started my career with an UltraSPARC sitting on my desk","date":"2013-09-26T00:31:15.705Z","type":"message"}
{"nick":"tjfontaine","message":"sure, but I would imagine a few of the apps you have to test the various agents on expect things to be more linuxy than unix agnostic","date":"2013-09-26T00:31:51.811Z","type":"message"}
{"nick":"othiym23","message":"I mostly just want to be able to use real DTrace and mdb when I get stuck on rando Node stuff","date":"2013-09-26T00:31:59.607Z","type":"message"}
{"nick":"othiym23","message":"need me some jstack helpers","date":"2013-09-26T00:32:04.304Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2013-09-26T00:32:08.508Z","type":"message"}
{"nick":"othiym23","message":"surprisingly, I have run into very few Linux-specific issues thus far","date":"2013-09-26T00:32:19.645Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: suck. I forgot what I set my password to on smartos.nodejs.org, oh well, guess I can just ssh as root and change it.","date":"2013-09-26T00:32:27.490Z","type":"message"}
{"nick":"othiym23","message":"unless you count dealing with Heroku's particular brand of insanity","date":"2013-09-26T00:32:33.292Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-26T00:32:39.209Z","type":"quit"}
{"nick":"tjfontaine","message":"well the node community is pretty good about it, mostly because dependencies are generally in-tree","date":"2013-09-26T00:32:46.741Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: your ssh key isn't on the nodecore account?","date":"2013-09-26T00:33:05.584Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: it is. but I was trying to sudo, and it was asking for my password","date":"2013-09-26T00:33:24.654Z","type":"message"}
{"nick":"tjfontaine","message":"ah","date":"2013-09-26T00:33:31.603Z","type":"message"}
{"nick":"tjfontaine","message":"you wanna hear my coworkers piss and moan, try and talk to them about using sudo :)","date":"2013-09-26T00:33:50.251Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: I login directly as myself. god kills a kitten every time a user ssh's as root when they don't need to. :P","date":"2013-09-26T00:33:50.528Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-09-26T00:33:55.590Z","type":"message"}
{"nick":"trevnorris","message":"ok. so now. how to change my password.","date":"2013-09-26T00:34:15.472Z","type":"message"}
{"nick":"tjfontaine","message":"passwd trevnorris","date":"2013-09-26T00:34:23.764Z","type":"message"}
{"nick":"trevnorris","message":"awesome. that was easy","date":"2013-09-26T00:34:41.580Z","type":"message"}
{"nick":"trevnorris","reason":"\"Leaving\"","date":"2013-09-26T00:34:43.526Z","type":"part"}
{"nick":"trevnorris","date":"2013-09-26T00:34:47.640Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: damn. i'm \"not in the sudoers file\"","date":"2013-09-26T00:35:25.194Z","type":"message"}
{"nick":"trevnorris","message":"wtf","date":"2013-09-26T00:35:28.026Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-09-26T00:35:33.785Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: mind if I add myself to the %staff group?","date":"2013-09-26T00:38:51.374Z","type":"message"}
{"nick":"trevnorris","message":"they already have sudo priviledges","date":"2013-09-26T00:39:00.575Z","type":"message"}
{"nick":"dshaw_","date":"2013-09-26T00:46:33.138Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: that's fine","date":"2013-09-26T00:46:59.061Z","type":"message"}
{"nick":"trevnorris","message":"coolio thanks","date":"2013-09-26T00:47:18.644Z","type":"message"}
{"nick":"TooTallNate","date":"2013-09-26T00:51:59.227Z","type":"join"}
{"nick":"jmar777","date":"2013-09-26T00:54:14.176Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: Heya mate pmap https://gist.github.com/wolfeidau/6708375 what are the anon items?","date":"2013-09-26T00:54:41.013Z","type":"message"}
{"nick":"tjfontaine","message":"those are mmap anon sections, so basically the v8 heap","date":"2013-09-26T01:00:06.360Z","type":"message"}
{"nick":"mcavage_","date":"2013-09-26T01:03:22.862Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: aha","date":"2013-09-26T01:04:36.522Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: man you need to write some posts about this stuff :)","date":"2013-09-26T01:04:58.235Z","type":"message"}
{"nick":"wolfeidau","message":"I am currently relying on blog posts with bad screen shots atm http://techapostle.blogspot.com.au/2012/11/smartos-improves-nodejs-debugging.html","date":"2013-09-26T01:05:56.598Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: yes, I have 3 blog posts to do, I'm finishing one up now on how to \"debug node in parallel\"","date":"2013-09-26T01:05:59.147Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: immediately after that will be nodeconfeu wrap up","date":"2013-09-26T01:06:15.178Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: following that will be mdb","date":"2013-09-26T01:06:22.087Z","type":"message"}
{"nick":"mcavage","reason":"Ping timeout: 268 seconds","date":"2013-09-26T01:06:25.080Z","type":"quit"}
{"nick":"tjfontaine","message":"mdb will actually be two blog posts","date":"2013-09-26T01:06:32.526Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: awesome! I will leave you alone then :)","date":"2013-09-26T01:06:37.602Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-26T01:06:41.816Z","type":"quit"}
{"nick":"tjfontaine","message":"one on debugging memory leaks in native modules, and one on debugging memory leaks in javascript","date":"2013-09-26T01:06:52.312Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: but keep asking questions as it reaffirms which pieces I need to focus on","date":"2013-09-26T01:07:55.016Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Yeah i would be screwed if i wasn't a solaris admin many years ago :)","date":"2013-09-26T01:09:21.462Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-09-26T01:09:31.794Z","type":"message"}
{"nick":"wolfeidau","message":"Getting all the stuff running was a sinch if you know svc* tools ","date":"2013-09-26T01:09:48.506Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-09-26T01:09:55.113Z","type":"quit"}
{"nick":"wolfeidau","message":"Still miss solaris","date":"2013-09-26T01:09:57.422Z","type":"message"}
{"nick":"wolfeidau","message":"pmap is a great tool btw","date":"2013-09-26T01:10:25.812Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-26T01:10:35.971Z","type":"join"}
{"nick":"tjfontaine","message":"indeed","date":"2013-09-26T01:10:56.488Z","type":"message"}
{"nick":"tjfontaine","message":"I find all the tools related to it quite excellent","date":"2013-09-26T01:11:11.898Z","type":"message"}
{"nick":"tjfontaine","message":"just with documentation that isn't very approachable","date":"2013-09-26T01:11:19.921Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: hey, how do I opt out of newrelic promoted tweets? :)","date":"2013-09-26T01:11:47.476Z","type":"message"}
{"nick":"wolfeidau","message":"Yes","date":"2013-09-26T01:12:00.623Z","type":"message"}
{"nick":"tjfontaine","message":"I mean, I already know about you guys, I think I'm just costing you money","date":"2013-09-26T01:12:08.711Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: actually I'm just jealous","date":"2013-09-26T01:12:35.778Z","type":"message"}
{"nick":"othiym23","message":"the easiest way to opt out of promoted tweets is to use TweetBot as your client","date":"2013-09-26T01:13:25.857Z","type":"message"}
{"nick":"tjfontaine","message":"ya, I use echofon on my phone, so I also don't see them there","date":"2013-09-26T01:13:46.160Z","type":"message"}
{"nick":"tjfontaine","message":"I don't mind in reality, I just feel bad for the companies who pay for it, because you pay for a % of viewers and then for clicks","date":"2013-09-26T01:14:21.743Z","type":"message"}
{"nick":"jmar777","reason":"Write error: Broken pipe","date":"2013-09-26T01:15:30.071Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-09-26T01:16:02.157Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-26T01:16:27.779Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-26T01:16:58.739Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-26T01:22:26.002Z","type":"nick"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-26T01:25:47.797Z","type":"quit"}
{"nick":"dshaw_","date":"2013-09-26T01:27:01.525Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-26T01:38:34.133Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-26T01:39:11.671Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-09-26T01:48:28.808Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-26T01:50:32.427Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-26T02:02:37.662Z","type":"quit"}
{"nick":"julianduque","reason":"Ping timeout: 241 seconds","date":"2013-09-26T02:16:57.106Z","type":"quit"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-09-26T02:26:18.797Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2013-09-26T02:39:43.914Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-26T02:41:00.477Z","type":"join"}
{"nick":"brson","date":"2013-09-26T02:41:27.172Z","type":"join"}
{"nick":"TooTallNate","date":"2013-09-26T02:43:37.005Z","type":"join"}
{"nick":"dshaw_","date":"2013-09-26T02:47:22.055Z","type":"join"}
{"nick":"hueniverse","date":"2013-09-26T02:49:18.692Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 248 seconds","date":"2013-09-26T02:51:39.868Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-26T03:02:26.031Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 252 seconds","date":"2013-09-26T03:03:03.206Z","type":"quit"}
{"nick":"brson","date":"2013-09-26T03:05:01.123Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-26T03:19:55.063Z","type":"quit"}
{"nick":"Domenic_","message":"i report all promoted tweets as spam, which blocks that tweeter forever and then i never see their promoted tweets","date":"2013-09-26T03:28:34.912Z","type":"message"}
{"nick":"Domenic_","message":"my blacklist is... large...","date":"2013-09-26T03:28:39.065Z","type":"message"}
{"nick":"EhevuTov","date":"2013-09-26T03:48:00.956Z","type":"join"}
{"nick":"bradleymeck","date":"2013-09-26T03:53:53.774Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: we're a great team. I'll show people how to make their apps 2x's faster, and you can show them how to fix everything I broke in the process. :P","date":"2013-09-26T03:56:46.690Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-26T04:03:14.196Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-09-26T04:07:54.259Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-26T04:08:56.059Z","type":"join"}
{"nick":"indexzero","date":"2013-09-26T04:09:36.699Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-26T04:11:15.287Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-26T04:21:34.191Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-09-26T04:26:34.165Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-26T04:29:50.188Z","type":"nick"}
{"nick":"tjfontaine","message":"trevnorris: haha <3","date":"2013-09-26T04:59:46.588Z","type":"message"}
{"nick":"bradleymeck","reason":"Ping timeout: 264 seconds","date":"2013-09-26T05:08:30.332Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: you still up?","date":"2013-09-26T05:11:05.569Z","type":"message"}
{"nick":"bradleymeck","date":"2013-09-26T05:16:04.705Z","type":"join"}
{"nick":"mikeal","date":"2013-09-26T05:19:23.773Z","type":"join"}
{"nick":"trevnorris","message":"test","date":"2013-09-26T05:19:30.988Z","type":"message"}
{"nick":"trevnorris","message":"this","date":"2013-09-26T05:19:31.213Z","type":"message"}
{"nick":"tjfontaine","message":"failed","date":"2013-09-26T05:19:41.279Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-09-26T05:19:44.802Z","type":"quit"}
{"nick":"trevnorris","message":"just going to think out loud here. i'm fine if domains can't be separated from lib/events.js. but need to find a way to get rid of the domain specific c++.","date":"2013-09-26T05:22:14.470Z","type":"message"}
{"nick":"trevnorris","message":"the issue is, say, a user creates a server. this is an event emitter so if a domain is created when the server is instantiated, the actual TCPWrap class still hasn't been called until .listen() is called.","date":"2013-09-26T05:22:14.692Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: here I ammmm","date":"2013-09-26T05:22:27.973Z","type":"message"}
{"nick":"mikeal","date":"2013-09-26T05:23:45.892Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: so we're talking about eliminating the need to have MakeDomainCallback?","date":"2013-09-26T05:23:55.123Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: what would you expect the following to do: https://gist.github.com/trevnorris/6710157","date":"2013-09-26T05:24:10.379Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and yes.","date":"2013-09-26T05:24:48.803Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: hold on a sec","date":"2013-09-26T05:25:13.240Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, more so the need to check if a domain object exists on an incoming callback","date":"2013-09-26T05:25:14.634Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-09-26T05:25:17.273Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: you can chime in on that gist too, if you have nothing else to do :)","date":"2013-09-26T05:26:21.546Z","type":"message"}
{"nick":"tjfontaine","message":"remind me in the morning, please and thank you :)","date":"2013-09-26T05:26:47.129Z","type":"message"}
{"nick":"trevnorris","message":"heh, no worries. it's nothing big","date":"2013-09-26T05:27:02.324Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: how about this: https://gist.github.com/othiym23/6710163","date":"2013-09-26T05:27:09.846Z","type":"message"}
{"nick":"tjfontaine","message":"k I'm just winding down for the day","date":"2013-09-26T05:27:14.829Z","type":"message"}
{"nick":"othiym23","message":"just so we're clear on what we're talking about here","date":"2013-09-26T05:27:22.933Z","type":"message"}
{"nick":"othiym23","message":"I would say in that scenario I would no longer expect errors to be reported on the domain once the domain listener has been removed","date":"2013-09-26T05:27:52.075Z","type":"message"}
{"nick":"othiym23","message":"HOWEVER, I would also not be sad if requests in flight before the async listener were removed did get handled due to being cached or already wrapped up in execution state or whatever","date":"2013-09-26T05:28:45.367Z","type":"message"}
{"nick":"othiym23","message":"I guess I didn't really need to get all shouty with my \"however\" there","date":"2013-09-26T05:29:03.474Z","type":"message"}
{"nick":"othiym23","message":"sorry","date":"2013-09-26T05:29:05.397Z","type":"message"}
{"nick":"trevnorris","message":"eh, no worries. it's hard to offend me. :)","date":"2013-09-26T05:29:38.232Z","type":"message"}
{"nick":"trevnorris","message":"well, to my gist. would you expect the server to be captured by the asyncListener's error handler?","date":"2013-09-26T05:29:50.153Z","type":"message"}
{"nick":"trevnorris","message":"well, and before/after","date":"2013-09-26T05:30:02.459Z","type":"message"}
{"nick":"othiym23","message":"I don't think I would be surprised by it going either way, unless it were somehow inconsistent","date":"2013-09-26T05:31:53.442Z","type":"message"}
{"nick":"othiym23","message":"like, I can see removing the listener just turning off all the behavior","date":"2013-09-26T05:32:03.819Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-26T05:32:08.059Z","type":"join"}
{"nick":"othiym23","message":"but I can see it leaving in lingering hooks to the stuff that was created while the asyncListener was active","date":"2013-09-26T05:32:37.170Z","type":"message"}
{"nick":"trevnorris","message":"oh, maybe I haven't explained how removeAsyncListener works. it just means remove it from the active queue. but any async \"events\" run between the two will still receive the listener.","date":"2013-09-26T05:33:06.520Z","type":"message"}
{"nick":"othiym23","message":"right","date":"2013-09-26T05:33:28.871Z","type":"message"}
{"nick":"othiym23","message":"I'm just talking about the listen() call","date":"2013-09-26T05:33:37.045Z","type":"message"}
{"nick":"trevnorris","message":"yeah. here's the problem. var server won't actually receive the active async listener because server._handle (i.e. TCPWrap) isn't instantiated until .listen() is called.","date":"2013-09-26T05:34:28.304Z","type":"message"}
{"nick":"othiym23","message":"right","date":"2013-09-26T05:34:59.273Z","type":"message"}
{"nick":"trevnorris","message":"_but_ the domain module allows you to do https://gist.github.com/trevnorris/6710157","date":"2013-09-26T05:35:46.119Z","type":"message"}
{"nick":"trevnorris","message":"which allows you to attach the error handler before the TCPWrap has been instantiated.","date":"2013-09-26T05:36:12.682Z","type":"message"}
{"nick":"othiym23","message":"yup","date":"2013-09-26T05:36:21.306Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 248 seconds","date":"2013-09-26T05:36:27.738Z","type":"quit"}
{"nick":"othiym23","message":"a very powerful feature that I think absolutely noooobody is using","date":"2013-09-26T05:36:41.720Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-09-26T05:36:50.354Z","type":"message"}
{"nick":"trevnorris","message":"I wish","date":"2013-09-26T05:36:53.601Z","type":"message"}
{"nick":"wolfeidau","message":"Does mdb in smartos require i have my nodejs compiled with the debug flag to get stack information?","date":"2013-09-26T05:36:57.204Z","type":"message"}
{"nick":"othiym23","message":"the suggested use case for d.add() is d.add(req); d.add(res)","date":"2013-09-26T05:36:58.893Z","type":"message"}
{"nick":"trevnorris","message":"the performance advantage of async listeners is that it toggles a flag on the AsyncWrap class which is just an integer check at MakeCallback time.","date":"2013-09-26T05:37:24.387Z","type":"message"}
{"nick":"trevnorris","message":"but that only happens if the async listener is active at the time the Wrap is instantiated","date":"2013-09-26T05:37:56.904Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: that's a question for tjfontaine, but think he's out for the night.","date":"2013-09-26T05:39:04.872Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: help me understand, is your intent to have domains be adding and removing the domain async listener in a way analogous to today's d.enter() / d.exit()","date":"2013-09-26T05:39:21.610Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: no","date":"2013-09-26T05:39:34.338Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-09-26T05:39:56.719Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: I'm trying to understand whether removeAsyncListener is something that would be happening frequently enough to be an issue in practice","date":"2013-09-26T05:39:57.839Z","type":"message"}
{"nick":"paddybyers","date":"2013-09-26T05:40:40.672Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: my initial implementation basically just inserted a process.{add,remove}AsyncListener(this._listener); into enter/exit","date":"2013-09-26T05:41:04.128Z","type":"message"}
{"nick":"trevnorris","message":"and in Domain I had this._listener = process.createAsyncListener(noop, callbacksObj, this);","date":"2013-09-26T05:41:04.346Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: what's going on?","date":"2013-09-26T05:41:22.926Z","type":"message"}
{"nick":"trevnorris","message":"it worked great, up until I found this little problem.","date":"2013-09-26T05:41:27.134Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: so I have this list of culprits https://gist.github.com/wolfeidau/6710244 now that first column i can ::findjsobjects on it but not ::jsstack ","date":"2013-09-26T05:42:17.358Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Really i have NFI what that first column really means :)","date":"2013-09-26T05:42:37.066Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: in practice a user shouldn't be adding/removing a listener very often. once a listener is attached to an event it re-attaches it automatically to every asynchronous event called in it's call stack.","date":"2013-09-26T05:42:38.279Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I know those numbers are going up","date":"2013-09-26T05:43:01.512Z","type":"message"}
{"nick":"wolfeidau","message":"And my process is using more ram","date":"2013-09-26T05:43:08.949Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: welly ou ahve a bunch of empty objects and arrays","date":"2013-09-26T05:43:36.648Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: But just need the next step in steping into or around to find the code it matches","date":"2013-09-26T05:43:36.895Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: so do something like this","date":"2013-09-26T05:43:45.016Z","type":"message"}
{"nick":"tjfontaine","message":"9fb5cbc3709::findjsobjects -l | ::jsprint","date":"2013-09-26T05:43:56.521Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: still thinking it through","date":"2013-09-26T05:44:33.600Z","type":"message"}
{"nick":"wolfeidau","message":"yeah was just going to say i do 13488e0ff99::findjsobjects | ::jsprint","date":"2013-09-26T05:44:35.630Z","type":"message"}
{"nick":"wolfeidau","message":"but i can't run the stack one","date":"2013-09-26T05:45:04.443Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: trying to parse \"once a listener is attached to an event it re-attaches it automatically to every asynchronous event called in its call stack\"","date":"2013-09-26T05:45:17.485Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: event is in there twice and I think it is referring to two different things ;)","date":"2013-09-26T05:45:36.474Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: I haven't actually tried this one in practice, but if I understand the code the server here will still be tracked by the domain: https://gist.github.com/trevnorris/6710157","date":"2013-09-26T05:45:36.694Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: So i do 9fb5cbc3709::findjsobjects -l | ::jsprint then I want to see where the hell a bunch of anonmous functions actually come from","date":"2013-09-26T05:46:31.792Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Then i do 9fb5cbc3709::findjsobjects -l | ::jsprint -a and i see some things like callee: 9fb5cbc3639: function <anonymous> (as <anon>),","date":"2013-09-26T05:47:16.176Z","type":"message"}
{"nick":"tjfontaine","message":"ya so you want to use findjsobjects -m and the later findjsobjects -r, but their usage is a little frustrating to figure out on their own","date":"2013-09-26T05:47:23.892Z","type":"message"}
{"nick":"tjfontaine","message":"so ya, you have closures :)","date":"2013-09-26T05:47:28.772Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: check out how normal use is handled here: http://git.io/HOpChA","date":"2013-09-26T05:47:32.577Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and how errors are handled here: http://git.io/BZIRkQ","date":"2013-09-26T05:47:32.804Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: always helpful to name your functions :D","date":"2013-09-26T05:47:50.269Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I am the ops guy, inherited code ","date":"2013-09-26T05:48:23.749Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-09-26T05:48:27.596Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: so, from here, you want to just start taking cores on a regular basis","date":"2013-09-26T05:48:38.871Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: After this excersise I am going to just go through and name everything :)","date":"2013-09-26T05:48:43.327Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: especially since you're unfamiliar with it","date":"2013-09-26T05:48:45.936Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: you're probably looking for sets of objects that grow at the same rate","date":"2013-09-26T05:48:56.876Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah i have 6 core files","date":"2013-09-26T05:49:09.270Z","type":"message"}
{"nick":"wolfeidau","message":"And in each case       411bbde969     6142        3 Buffer: length, parent, offset ","date":"2013-09-26T05:49:32.740Z","type":"message"}
{"nick":"wolfeidau","message":"That goes up","date":"2013-09-26T05:49:38.363Z","type":"message"}
{"nick":"tjfontaine","message":"yay, your leaking buffers :)","date":"2013-09-26T05:49:42.941Z","type":"message"}
{"nick":"wolfeidau","message":"Along with a few others","date":"2013-09-26T05:49:43.310Z","type":"message"}
{"nick":"tjfontaine","message":"that's realtively easy to track down probably","date":"2013-09-26T05:49:55.221Z","type":"message"}
{"nick":"tjfontaine","message":"*relatively","date":"2013-09-26T05:49:58.767Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: try running this and nc-ing something to port 8000 https://gist.github.com/othiym23/6710287","date":"2013-09-26T05:50:04.252Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: that sounds rather ominous :)","date":"2013-09-26T05:50:11.257Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: is offset non-zero?","date":"2013-09-26T05:50:22.131Z","type":"message"}
{"nick":"tjfontaine","message":"also is this v0.10?","date":"2013-09-26T05:50:58.280Z","type":"message"}
{"nick":"wolfeidau","message":"Yes this is 0.10.18 ","date":"2013-09-26T05:51:35.306Z","type":"message"}
{"nick":"wolfeidau","message":"https://gist.github.com/wolfeidau/6710244","date":"2013-09-26T05:51:37.397Z","type":"message"}
{"nick":"wolfeidau","message":"Added some output of 13488e18e71::findjsobjects -l | ::jsprint -a","date":"2013-09-26T05:51:51.835Z","type":"message"}
{"nick":"tjfontaine","message":"excellent","date":"2013-09-26T05:52:13.592Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: yeah. it does capture the error like I thought.","date":"2013-09-26T05:52:21.455Z","type":"message"}
{"nick":"tjfontaine","message":"you're slicing 13bytes off a buffer and holding on to it for too long","date":"2013-09-26T05:52:23.394Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: aha","date":"2013-09-26T05:52:34.440Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it's pretty much a round about way of doing .add()","date":"2013-09-26T05:52:56.776Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: witht he way buffers work there that could potentially leak a 1mb chunk of memory for a while","date":"2013-09-26T05:52:58.605Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah at the moment it is 1 or 2 mb per minute ","date":"2013-09-26T05:53:20.111Z","type":"message"}
{"nick":"tjfontaine","message":"baecc01d851     2405        2 PacketHeader: length, number","date":"2013-09-26T05:53:25.932Z","type":"message"}
{"nick":"tjfontaine","message":"probably there","date":"2013-09-26T05:53:30.062Z","type":"message"}
{"nick":"tjfontaine","message":"or related to it","date":"2013-09-26T05:53:39.195Z","type":"message"}
{"nick":"tjfontaine","message":"this all seems like binary protocol related shtuff","date":"2013-09-26T05:53:46.537Z","type":"message"}
{"nick":"wolfeidau","message":"It is using MySQL and Redis connections","date":"2013-09-26T05:54:04.560Z","type":"message"}
{"nick":"wolfeidau","message":"On a regular basis","date":"2013-09-26T05:54:15.111Z","type":"message"}
{"nick":"wolfeidau","message":"So how do i look into that","date":"2013-09-26T05:54:32.111Z","type":"message"}
{"nick":"tjfontaine","message":"ok  -- so","date":"2013-09-26T05:54:37.842Z","type":"message"}
{"nick":"trevnorris","message":"wolfeidau: ooh, I just figured out how to use dtrace and track down the jstack of syscall::mmap*:entry today. it's freakin awesome!","date":"2013-09-26T05:54:51.151Z","type":"message"}
{"nick":"tjfontaine","message":"I *think* you ::findjsobjects -m a specific buffer, and then you use ::findjsobjects -r to find references to it","date":"2013-09-26T05:55:12.383Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: Yeah i was messing with that earlier ","date":"2013-09-26T05:55:14.726Z","type":"message"}
{"nick":"tjfontaine","message":"which should lead you back to the object that's holding the buffer","date":"2013-09-26T05:55:22.223Z","type":"message"}
{"nick":"wolfeidau","message":"dtrace is the bomb","date":"2013-09-26T05:55:26.498Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: ok will try that","date":"2013-09-26T05:55:38.267Z","type":"message"}
{"nick":"trevnorris","message":"seriously.","date":"2013-09-26T05:55:38.510Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: yeah, the add() is implicit because the domain was active when the EE was created","date":"2013-09-26T05:55:44.005Z","type":"message"}
{"nick":"EhevuTov","date":"2013-09-26T05:55:50.913Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: I made the gist into a self-contained test case if you want it","date":"2013-09-26T05:56:00.059Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: ah, nice. thanks.","date":"2013-09-26T05:56:28.685Z","type":"message"}
{"nick":"tjfontaine","message":"> b3bf05c5::findjsobjects -m          ","date":"2013-09-26T05:57:16.413Z","type":"message"}
{"nick":"tjfontaine","message":"findjsobjects: marked b3bf05c5","date":"2013-09-26T05:57:16.631Z","type":"message"}
{"nick":"tjfontaine","message":"> ::findjsobjects -r","date":"2013-09-26T05:57:16.631Z","type":"message"}
{"nick":"tjfontaine","message":"b3bf05c5 referred to by b3bcd1e1.paths","date":"2013-09-26T05:57:17.216Z","type":"message"}
{"nick":"tjfontaine","message":"> b3bcd1e1::jsprint","date":"2013-09-26T05:57:37.802Z","type":"message"}
{"nick":"tjfontaine","message":"{","date":"2013-09-26T05:57:38.020Z","type":"message"}
{"nick":"tjfontaine","message":"    children: [],","date":"2013-09-26T05:57:38.020Z","type":"message"}
{"nick":"tjfontaine","message":"    paths: [","date":"2013-09-26T05:57:38.020Z","type":"message"}
{"nick":"tjfontaine","message":"        \"/var/tmp/.medusa/node_modules/once/node_modules\",","date":"2013-09-26T05:57:38.020Z","type":"message"}
{"nick":"tjfontaine","message":"all kinds of stuff like that","date":"2013-09-26T05:57:45.303Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: on the side, one strange affect is it'll also catch sync errors as well. e.g.","date":"2013-09-26T05:57:51.385Z","type":"message"}
{"nick":"trevnorris","message":"(function myBad() { process.addAsyncListener(...); throw new Error('yeah!'); }());","date":"2013-09-26T05:57:51.610Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: yeah i didn't know you could mark ","date":"2013-09-26T05:58:06.244Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I've been working with this daily for over a year now, and I *still* have a hard time explaining to people how domains, EEs, and time interact","date":"2013-09-26T05:58:07.449Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it'll allow you to catch the error in myBad() and continue execution if you want.","date":"2013-09-26T05:58:08.661Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: nod","date":"2013-09-26T05:58:13.202Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: I can understand. took me a week of investigating before I realized the full extent of how these things work together.","date":"2013-09-26T05:58:48.501Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: documentation :)","date":"2013-09-26T05:59:06.132Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: that's not super different from how domains and process.on('uncaughtException', ...) work today, albeit maybe with better context available","date":"2013-09-26T05:59:29.675Z","type":"message"}
{"nick":"wwicks","date":"2013-09-26T05:59:53.518Z","type":"part"}
{"nick":"othiym23","message":"tjfontaine: you know, that was my take on it for a while, but even after teaching 300+ people about domains, the stuff trevnorris and I are talking about is still really abstract and slippery","date":"2013-09-26T06:00:05.848Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: true. just that since it's called _async_ listener, want' thinking about it during implementation. :)","date":"2013-09-26T06:00:24.721Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: I want it more for myself and other core maintainers :P","date":"2013-09-26T06:00:25.473Z","type":"message"}
{"nick":"trevnorris","message":"hah, seriously.","date":"2013-09-26T06:00:32.519Z","type":"message"}
{"nick":"othiym23","message":"and putting it into words ends up sounding like \"homeomorphic endofunctors on category Hask\" to most people even if you're really careful","date":"2013-09-26T06:00:47.551Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok, you hold me to this. once this patch is in (since it's changing how a few things work) i'll write up docs on how this works.","date":"2013-09-26T06:01:18.994Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: haha <3 you're the best you know, I just love your descriptions","date":"2013-09-26T06:01:33.910Z","type":"message"}
{"nick":"othiym23","message":"tjfontaine: yeah, that would be suuuper handy, still, trying to write this shit down gets me accused of being some kind of egghead on the regular","date":"2013-09-26T06:01:34.237Z","type":"message"}
{"nick":"trevnorris","message":"but then I'll hide it and only share the link to other core maintainers. :P","date":"2013-09-26T06:01:38.331Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: can do","date":"2013-09-26T06:01:42.367Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: we can put it in a non-printing version of doc :P","date":"2013-09-26T06:02:01.889Z","type":"message"}
{"nick":"trevnorris","message":"hehe","date":"2013-09-26T06:02:09.020Z","type":"message"}
{"nick":"othiym23","message":"I promise to review trevnorris's documentation and not share the sekrit URL with auslanders","date":"2013-09-26T06:02:19.019Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-09-26T06:02:33.318Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: ya, I just ahve to stop and think about this stuff all the time, and it's always like rediscovering atlantis at times :)","date":"2013-09-26T06:02:33.713Z","type":"message"}
{"nick":"tjfontaine","message":"or something I'm getting tired","date":"2013-09-26T06:02:51.983Z","type":"message"}
{"nick":"wwicks","date":"2013-09-26T06:03:01.770Z","type":"join"}
{"nick":"trevnorris","message":"honestly, the fact that all our c++ *Wrap classes are completely abstracted away into EventEmitters makes it so painful.","date":"2013-09-26T06:03:16.054Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: any luck, have my dronings been an help or a hinderance?","date":"2013-09-26T06:03:19.556Z","type":"message"}
{"nick":"wwicks","new_nick":"Guest72322","date":"2013-09-26T06:03:25.186Z","type":"nick"}
{"nick":"othiym23","message":"I know this is a super niche request, but if we could lock Max in a cabin for a couple months, Misery-style, until he produces \"mdb & Dtrace for Node developers and ops engineers\", it would be totally useful","date":"2013-09-26T06:04:21.888Z","type":"message"}
{"nick":"Guest72322","reason":"Remote host closed the connection","date":"2013-09-26T06:04:24.237Z","type":"quit"}
{"nick":"othiym23","message":"to me","date":"2013-09-26T06:04:25.901Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-09-26T06:05:17.703Z","type":"message"}
{"nick":"tjfontaine","message":"I have the basics of something like that started for two blog posts, I'm hoping to get them hammered out tomorrow and friday/weekend","date":"2013-09-26T06:05:48.195Z","type":"message"}
{"nick":"trevnorris","message":"because then the *Wrap exists on the ._handle property, and might not be instantiated even though the EE has been. and it gets super complicated with streams, because you have like readable._readableState._handle","date":"2013-09-26T06:05:55.884Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I think i blew up mdb Assertion failed: fjs->fjs_marking, file ../../../common/modules/v8/mdb_v8.c, line 3109, function findjsobjects_referent","date":"2013-09-26T06:06:04.279Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Happens when i run baecc0387f1::findjsobjects -r","date":"2013-09-26T06:06:35.588Z","type":"message"}
{"nick":"wolfeidau","message":"After the mark","date":"2013-09-26T06:06:43.805Z","type":"message"}
{"nick":"wolfeidau","message":"So damn close lol","date":"2013-09-26T06:07:00.783Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: so back to the task at hand, it's proving difficult to emulate how domains handle even emitters in the cases where the c++ *Wrap isn't instantiated at the same time as the js object.","date":"2013-09-26T06:07:18.357Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: heh, don't use an address with the -r and see if that helps","date":"2013-09-26T06:07:29.033Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-09-26T06:09:10.376Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: so imo the correct thing to do would be to instantiate the *Wrap class at the same time as the JS object, but that would require some major-ish rewrite.","date":"2013-09-26T06:09:28.644Z","type":"message"}
{"nick":"trevnorris","message":"and i'm not sure ben would be thrilled about that.","date":"2013-09-26T06:09:45.842Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: also, you might try putting your core file in manta, and then using mlogin, as that has a potentially much newer mdb and v8.so (not knowing what world you're operating in right now)","date":"2013-09-26T06:10:23.552Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: seems i am a bad","date":"2013-09-26T06:10:45.978Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I'm not even sure that's the right thing to do, for anything other than asyncListener's needs","date":"2013-09-26T06:10:48.699Z","type":"message"}
{"nick":"othiym23","message":"lazilly setting the handle on the listen call feels correct to me, so you don't start paying for something until you're actually using it","date":"2013-09-26T06:11:18.452Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I had the memory address in there","date":"2013-09-26T06:11:24.135Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: also I rewrote https://gist.github.com/othiym23/6710287 into a real node/test-style test","date":"2013-09-26T06:11:49.675Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: nod, it should handle that better, but can you now find marked entries?","date":"2013-09-26T06:12:06.147Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: that, and imho it removes a level of complexity to understand and debug","date":"2013-09-26T06:12:17.871Z","type":"message"}
{"nick":"trevnorris","message":"also, I consider the actual use case. is there anyone out there seriously creating 1000 servers w/o letting any of them listen?","date":"2013-09-26T06:12:18.095Z","type":"message"}
{"nick":"trevnorris","message":"oh nice. thanks.","date":"2013-09-26T06:12:31.387Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: yeah without the -r so just ::findjsobjects","date":"2013-09-26T06:12:31.936Z","type":"message"}
{"nick":"wolfeidau","message":"-r returns this","date":"2013-09-26T06:12:41.212Z","type":"message"}
{"nick":"wolfeidau","message":"mdb: must specify or mark an object to find references","date":"2013-09-26T06:12:58.750Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I'd have to look at the socket.io code base","date":"2013-09-26T06:13:16.780Z","type":"message"}
{"nick":"LOUDBOT","reason":"Ping timeout: 264 seconds","date":"2013-09-26T06:13:18.280Z","type":"quit"}
{"nick":"tjfontaine","message":"wolfeidau: did you mark an address first?","date":"2013-09-26T06:13:28.274Z","type":"message"}
{"nick":"trevnorris","message":"haha, ok","date":"2013-09-26T06:13:30.709Z","type":"message"}
{"nick":"othiym23","message":"bye bye LOUDBOT","date":"2013-09-26T06:13:31.641Z","type":"message"}
{"nick":"othiym23","action":"fires 21-gun salute to LOUDBOUT RIP","date":"2013-09-26T06:13:44.838Z","type":"action"}
{"nick":"wolfeidau","message":"tjfontaine: Now getting way for information","date":"2013-09-26T06:13:57.767Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: also, in the end it's going to overall improve performance because we can remove expensive checks that are going to be run potentially hundreds of thousands of times /sec.","date":"2013-09-26T06:14:12.614Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I'm only being semi-facetious, there's a lot of network modules out there that do lots of things weird with creating listeners / clients they don't actually use","date":"2013-09-26T06:14:49.284Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: how would you feel about sharing a core, I know that can be dangerous territory (you should only do this with great discretion)","date":"2013-09-26T06:14:53.516Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it's the same reason why removing the SlabAllocator was an overall win. yeah we malloc a lot more, but removing the checks and complexity was a bigger win.","date":"2013-09-26T06:15:08.349Z","type":"message"}
{"nick":"trevnorris","message":"oy","date":"2013-09-26T06:15:18.472Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: This isn't from production but yeah i know the drill :)","date":"2013-09-26T06:15:28.677Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: also libumem eats mallocs for a living","date":"2013-09-26T06:15:37.370Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: heh good","date":"2013-09-26T06:15:43.606Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: your arguments are persuasive, I'm just used to thinking in terms of lazy instantiation being the smart thing to do by default","date":"2013-09-26T06:15:45.438Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 248 seconds","date":"2013-09-26T06:15:55.862Z","type":"quit"}
{"nick":"wolfeidau","message":"tjfontaine: I will keep plugging away atm and see how i go","date":"2013-09-26T06:15:59.221Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: :)","date":"2013-09-26T06:16:15.427Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: If i don't get anywhere i mite take you up on that ","date":"2013-09-26T06:16:17.041Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: ok, I'm kinda fading for the night -- but I will be around again on the morrow","date":"2013-09-26T06:16:32.472Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: No stress mate this system is recovering fine anyways so the odd out of memory isn't all bad :)","date":"2013-09-26T06:17:03.729Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and I agree, but only in regards to the bigger picture. an instantiated c++ class is at most going to take, what, 5kB mem and 200ns to instantiate.","date":"2013-09-26T06:17:12.492Z","type":"message"}
{"nick":"wolfeidau","message":"Just want to get to the bottom of the issue","date":"2013-09-26T06:17:18.875Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Thanks again for your help it is appreciated","date":"2013-09-26T06:17:34.131Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: was it v8 OOM, or system oom?","date":"2013-09-26T06:17:35.766Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: but every Object::Has() in c++ costs 50ns. and we're doing that for every callback for every I/O operation.","date":"2013-09-26T06:17:42.979Z","type":"message"}
{"nick":"wolfeidau","message":"v8 oom","date":"2013-09-26T06:17:45.610Z","type":"message"}
{"nick":"wolfeidau","message":"at 1.5g or so is that correct?","date":"2013-09-26T06:17:56.480Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: you know you can --max-old-space or whatever so it uses more","date":"2013-09-26T06:17:58.880Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: ya that's v8","date":"2013-09-26T06:18:02.035Z","type":"message"}
{"nick":"tjfontaine","message":"max_old_space_size","date":"2013-09-26T06:18:26.360Z","type":"message"}
{"nick":"LOUDBOT","date":"2013-09-26T06:18:40.503Z","type":"join"}
{"nick":"othiym23","message":"YAY","date":"2013-09-26T06:18:45.632Z","type":"message"}
{"nick":"tjfontaine","message":"OMG LOUDBOT IS HERE TO SAVE US","date":"2013-09-26T06:18:54.492Z","type":"message"}
{"nick":"LOUDBOT","message":"ONLY BELIEVERS IN DEATH WILL DIE","date":"2013-09-26T06:18:54.968Z","type":"message"}
{"nick":"tjfontaine","message":"so true","date":"2013-09-26T06:19:01.023Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I am in the process of breaking this system into smaller pieces","date":"2013-09-26T06:19:02.354Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: nod","date":"2013-09-26T06:19:08.405Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: in heavy I/O you're already instantiating upwards of +50k ReqWrap classes/sec. one for each request.","date":"2013-09-26T06:19:13.861Z","type":"message"}
{"nick":"wolfeidau","message":"So i am more keen to know why for future debugging :)","date":"2013-09-26T06:19:20.367Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-09-26T06:19:27.208Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: so it's not like creating 1000 more for a bunch of unused servers is going to make a difference.","date":"2013-09-26T06:19:33.497Z","type":"message"}
{"nick":"wolfeidau","message":"My skills profiling Java apps prooved invaluble in a lot of cases :)","date":"2013-09-26T06:19:55.206Z","type":"message"}
{"nick":"wolfeidau","message":"I would like to skill up here as well ","date":"2013-09-26T06:20:10.134Z","type":"message"}
{"nick":"tjfontaine","message":"you poor bastard.","date":"2013-09-26T06:20:12.538Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I am keenly interested to see what the benchmarks say about your work once you've figured out how to get domains working on asyncListener","date":"2013-09-26T06:20:20.332Z","type":"message"}
{"nick":"wolfeidau","message":"haha","date":"2013-09-26T06:20:20.732Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: and I think I'm more or less with you now, I think my main concern now is scope creep causing this feature to slip out to 0.13","date":"2013-09-26T06:21:17.745Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I am close to understanding this crzy mdb thing need to read how this mark and -r work","date":"2013-09-26T06:21:57.326Z","type":"message"}
{"nick":"wolfeidau","message":"At the moment i am just typing stuff :)","date":"2013-09-26T06:22:17.948Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, it works right now with all the domain stuff still injected in. made that commit so if I don't figure out the rest at least that much could get in.","date":"2013-09-26T06:22:21.084Z","type":"message"}
{"nick":"othiym23","message":"I sort of kind of really wish that streams2 had had a little more time to gel in 0.9 before 0.10.0 went out the door, on a semi-related note","date":"2013-09-26T06:22:30.577Z","type":"message"}
{"nick":"othiym23","message":"it felt like isaacs was all, \"welp that's done (shipitsquirrel)\"","date":"2013-09-26T06:22:55.893Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-09-26T06:23:03.301Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: so really, pr 6011 is ready for testing as far as the async listener part goes. just the part of removing domains from core still remains.","date":"2013-09-26T06:24:18.854Z","type":"message"}
{"nick":"othiym23","message":"that reminds me, I should give it a quick run-through","date":"2013-09-26T06:24:41.670Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: oh, I do need to integrate it w/ ben's commit today so you get access to all the tls/crypto/zlib stuff as well.","date":"2013-09-26T06:25:06.171Z","type":"message"}
{"nick":"trevnorris","message":"but that should be a breeze.","date":"2013-09-26T06:25:10.778Z","type":"message"}
{"nick":"trevnorris","message":"the commit message for 234529d should have probably gone into doc/ :P","date":"2013-09-26T06:26:01.925Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: oh, and what do you think about passing the calling \"this\" as the first argument on a nextTick callback?","date":"2013-09-26T06:27:02.261Z","type":"message"}
{"nick":"trevnorris","message":"don't have performance numbers, but it would prevent a lot of unnecessary function scoping.","date":"2013-09-26T06:27:25.821Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I think it's a great idea as long as we can collectively come up with a sane way of explaining to people why it's there and how they'd make use of it","date":"2013-09-26T06:28:28.601Z","type":"message"}
{"nick":"othiym23","message":"did you figure out how to get stuff like Pipe.nextTick from showing up in stacktraces yet?","date":"2013-09-26T06:28:50.178Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah. I have a hard time explaining why anything I do with core is sane. :P","date":"2013-09-26T06:29:05.494Z","type":"message"}
{"nick":"trevnorris","message":"actually, it was Pipe._tickCallback","date":"2013-09-26T06:29:27.115Z","type":"message"}
{"nick":"othiym23","message":"yeah that","date":"2013-09-26T06:29:33.242Z","type":"message"}
{"nick":"trevnorris","message":"let me tell you, that was confusing","date":"2013-09-26T06:29:33.470Z","type":"message"}
{"nick":"othiym23","message":"thanks to you butting heads against that, I now understand how V8 comes up with its names for stacktraces","date":"2013-09-26T06:31:25.138Z","type":"message"}
{"nick":"trevnorris","message":"haha, glad I could help","date":"2013-09-26T06:31:37.731Z","type":"message"}
{"nick":"othiym23","message":"although it's still sort of spooky to me how it manages to find a plausible name for an anonymous function expression that's only, like, assigned to a var somewhere","date":"2013-09-26T06:32:04.745Z","type":"message"}
{"nick":"trevnorris","message":"heh, it does to pretty well at that.","date":"2013-09-26T06:32:22.287Z","type":"message"}
{"nick":"othiym23","message":"JavaScript seems to engender a certain level of magic in the tools people use for it","date":"2013-09-26T06:32:48.984Z","type":"message"}
{"nick":"othiym23","message":"not sure how I feel about that","date":"2013-09-26T06:32:52.016Z","type":"message"}
{"nick":"trevnorris","message":"what's really confusing though is when it gives you a function name (e.g. Pipe._tickCalback) and the line number. you go look, and they're not the same.","date":"2013-09-26T06:32:54.736Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: first attempt at using your fork to run the New Relic agent (with TLS): https://gist.github.com/othiym23/6710551","date":"2013-09-26T06:36:16.497Z","type":"message"}
{"nick":"othiym23","message":"that's using flippin-tick-thing as the branch","date":"2013-09-26T06:36:23.569Z","type":"message"}
{"nick":"othiym23","message":"yeah, that has been spooky dark magic to me since I started using node","date":"2013-09-26T06:36:42.483Z","type":"message"}
{"nick":"trevnorris","message":"ah suck. thought I fixed that.","date":"2013-09-26T06:37:00.840Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: do you have the test that caused that? I have a quick fix, but want to make sure it really does fix the actual problem.","date":"2013-09-26T06:38:22.522Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: let me see if I can isolate it down to a small repro, the New Relic module codebase does a lot of stuff","date":"2013-09-26T06:38:56.856Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: thanks much.","date":"2013-09-26T06:39:16.719Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: the good news is that all of the continuation-local-storage tests work without a hitch","date":"2013-09-26T06:43:51.951Z","type":"message"}
{"nick":"othiym23","message":"and CLS feature-tests for process.addAsyncListener before trying to load the polyfill, so that's with your version of addAsyncListener in use","date":"2013-09-26T06:44:45.624Z","type":"message"}
{"nick":"othiym23","message":"it's a nontrivial test suite","date":"2013-09-26T06:44:49.439Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: oh, that's a nice surprise.","date":"2013-09-26T06:45:40.905Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: you can play along at home by 'npm install newrelic; cd node_modules/newrelic; npm install; make unit' while I try to narrow it down on my own","date":"2013-09-26T06:46:38.087Z","type":"message"}
{"nick":"trevnorris","message":"coolio. thanks.","date":"2013-09-26T06:46:52.181Z","type":"message"}
{"nick":"othiym23","message":"the integration tests require you have mysql, mongodb, memcached, and redis installed, so you probably don't want to mess with them right now ;)","date":"2013-09-26T06:47:10.007Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah.","date":"2013-09-26T06:48:35.367Z","type":"message"}
{"nick":"othiym23","message":"'./node_modules/.bin/mocha test/agent.test.js' will get me a failure most of the time","date":"2013-09-26T06:48:48.903Z","type":"message"}
{"nick":"othiym23","message":"but not always","date":"2013-09-26T06:48:54.824Z","type":"message"}
{"nick":"othiym23","message":"something racy in there somewhere?","date":"2013-09-26T06:49:02.221Z","type":"message"}
{"nick":"othiym23","message":"that's kinda a bummer","date":"2013-09-26T06:49:05.295Z","type":"message"}
{"nick":"trevnorris","message":"strange. i'll figure that out.","date":"2013-09-26T06:50:59.744Z","type":"message"}
{"nick":"trevnorris","message":"i'm having a problem installing","date":"2013-09-26T06:51:07.335Z","type":"message"}
{"nick":"trevnorris","message":"npm install keeps giving me a shasum mismatch and aborting","date":"2013-09-26T06:51:18.884Z","type":"message"}
{"nick":"trevnorris","message":"but that leaves all the .lock files in ~/.npm","date":"2013-09-26T06:51:29.678Z","type":"message"}
{"nick":"trevnorris","message":"so trying to install again just locks up","date":"2013-09-26T06:51:37.590Z","type":"message"}
{"nick":"trevnorris","message":"wtf. keep getting ../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.","date":"2013-09-26T06:52:02.048Z","type":"message"}
{"nick":"trevnorris","message":"dammit. again. this is really pissing me off.","date":"2013-09-26T06:53:10.668Z","type":"message"}
{"nick":"othiym23","message":"is this with your build of node, or with 0.11.8, or 0.10.19?","date":"2013-09-26T06:53:55.735Z","type":"message"}
{"nick":"trevnorris","message":"tip of master","date":"2013-09-26T06:54:18.577Z","type":"message"}
{"nick":"mcavage_","reason":"Read error: Connection reset by peer","date":"2013-09-26T06:54:19.059Z","type":"quit"}
{"nick":"trevnorris","message":"actually, using my patch.","date":"2013-09-26T06:54:24.693Z","type":"message"}
{"nick":"mcavage","date":"2013-09-26T06:54:39.209Z","type":"join"}
{"nick":"trevnorris","message":"you probably know this, but I do my installs with: /path/to/build/node $(which npm) --nodedir=/path/to/build/ install","date":"2013-09-26T06:55:04.146Z","type":"message"}
{"nick":"trevnorris","message":"so I don't have to screw around with global installs and what not","date":"2013-09-26T06:55:25.815Z","type":"message"}
{"nick":"trevnorris","message":"haha finally!","date":"2013-09-26T06:55:31.600Z","type":"message"}
{"nick":"rendar","date":"2013-09-26T06:56:43.468Z","type":"join"}
{"nick":"othiym23","message":"you're probably getting hit with whatever npm issue has been causing everybody else's installations to fail since the upgrade to 0.10.19","date":"2013-09-26T06:57:00.506Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #229 \u00037UNSTABLE\u000f windows-ia32 (9/600) windows-x64 (7/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/229/","date":"2013-09-26T06:57:05.618Z","type":"message"}
{"nick":"othiym23","message":"you develop on Linux, right?","date":"2013-09-26T06:57:05.976Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-09-26T06:57:46.652Z","type":"message"}
{"nick":"othiym23","message":"so when I do a cold run of agent.test.js it will succeed, but subsequent runs (when I'm presuming everything is being pulled out of buffer) will crash","date":"2013-09-26T06:58:34.534Z","type":"message"}
{"nick":"othiym23","message":"still working on isolating the crash","date":"2013-09-26T06:58:40.724Z","type":"message"}
{"nick":"felixge","date":"2013-09-26T06:59:31.717Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-09-26T06:59:31.718Z","type":"quit"}
{"nick":"felixge","date":"2013-09-26T06:59:31.718Z","type":"join"}
{"nick":"mcavage","reason":"Read error: Connection reset by peer","date":"2013-09-26T06:59:32.440Z","type":"quit"}
{"nick":"mcavage_","date":"2013-09-26T06:59:33.097Z","type":"join"}
{"nick":"trevnorris","message":"oy, so what's the command to have npm install all your deps deps?","date":"2013-09-26T06:59:49.991Z","type":"message"}
{"nick":"trevnorris","message":"mocha is giving me \"Cannot find module 'assertion-error'\"","date":"2013-09-26T07:00:04.843Z","type":"message"}
{"nick":"trevnorris","message":"wow, this is making installation really painful.","date":"2013-09-26T07:02:52.313Z","type":"message"}
{"nick":"othiym23","message":"'npm install' should do it","date":"2013-09-26T07:03:11.706Z","type":"message"}
{"nick":"othiym23","message":"so I'm in loadAsyncQueue, and context._asyncQueue is undefined, but context.domain._asyncQueue is not","date":"2013-09-26T07:03:44.576Z","type":"message"}
{"nick":"othiym23","message":"do I have some commits on flippin-tick-thing I shouldn't?","date":"2013-09-26T07:03:57.172Z","type":"message"}
{"nick":"othiym23","message":"whoops context[0].domain._asyncQueue","date":"2013-09-26T07:04:22.851Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-26T07:05:04.622Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-09-26T07:05:40.767Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: context[0].domain._asyncQueue[0] === context[0] -> true","date":"2013-09-26T07:05:51.106Z","type":"message"}
{"nick":"othiym23","message":"is this something you'd expect?","date":"2013-09-26T07:05:55.106Z","type":"message"}
{"nick":"trevnorris","message":"um. that looks strange. why is context an array?","date":"2013-09-26T07:07:44.460Z","type":"message"}
{"nick":"othiym23","message":"haha the error handed to errorHandler is the earlier error from inside the asyncListener code","date":"2013-09-26T07:07:58.927Z","type":"message"}
{"nick":"trevnorris","message":"also, I've recently (in the last hour) force pushed updates to the branch","date":"2013-09-26T07:08:00.297Z","type":"message"}
{"nick":"othiym23","message":"INCEPTION","date":"2013-09-26T07:08:04.696Z","type":"message"}
{"nick":"othiym23","message":"I didn't pull from your fork on this checkout until right after I said \"I should build your PR\"","date":"2013-09-26T07:08:36.449Z","type":"message"}
{"nick":"trevnorris","message":"ok","date":"2013-09-26T07:09:28.424Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: https://gist.github.com/othiym23/caab91ee22d4362819d1","date":"2013-09-26T07:10:07.246Z","type":"message"}
{"nick":"othiym23","message":"that's the stack on the error that got handed off to errorHandler","date":"2013-09-26T07:10:17.519Z","type":"message"}
{"nick":"trevnorris","message":"that is quite the stack trace.","date":"2013-09-26T07:10:54.689Z","type":"message"}
{"nick":"othiym23","message":"unfortunately using console.log there (shockingly) caused the debug session to terminate","date":"2013-09-26T07:10:58.586Z","type":"message"}
{"nick":"othiym23","message":"yeah, well, mocha","date":"2013-09-26T07:11:00.701Z","type":"message"}
{"nick":"othiym23","message":"getting mocha out of the agent codebase is on my list of things to do","date":"2013-09-26T07:11:14.212Z","type":"message"}
{"nick":"othiym23","message":"the createWrap in there is suggestive, though","date":"2013-09-26T07:11:20.544Z","type":"message"}
{"nick":"othiym23","message":"sorry, createWriteReq","date":"2013-09-26T07:11:31.693Z","type":"message"}
{"nick":"trevnorris","message":"dude I seriously can't get anything to run. I can't seem to get all the unmet dependencies","date":"2013-09-26T07:11:41.293Z","type":"message"}
{"nick":"trevnorris","message":"hahaha!!! finally got it","date":"2013-09-26T07:11:56.513Z","type":"message"}
{"nick":"othiym23","message":"it looks like if the error handler gets an error while it's handling an error, that will cause an error that gets handed off to errorHandler, finally bringing the whole thing down","date":"2013-09-26T07:13:00.275Z","type":"message"}
{"nick":"othiym23","message":"so error -> error -> error -> crash","date":"2013-09-26T07:13:09.684Z","type":"message"}
{"nick":"trevnorris","message":"yeah. I have a toggle that says, if a before/after error, then the error handler also errors then return false (i.e. crash)","date":"2013-09-26T07:13:57.537Z","type":"message"}
{"nick":"trevnorris","message":"it's to prevent infinite throwing","date":"2013-09-26T07:14:03.114Z","type":"message"}
{"nick":"othiym23","message":"right","date":"2013-09-26T07:14:23.916Z","type":"message"}
{"nick":"trevnorris","message":"also, it's really strange because if a before/after throws but execution continues, it's a freakin impossible thing to find.","date":"2013-09-26T07:14:54.600Z","type":"message"}
{"nick":"othiym23","message":"so createWriteReq is barfing, for some reason, that's getting handed off to process._fatalException, which is emitting an uncaughtException, which mocha in its infinite wisdom is trying to do something with, and then the async listener goes off to the moon","date":"2013-09-26T07:15:06.787Z","type":"message"}
{"nick":"othiym23","message":"btw the same thing happens even without mocha involved","date":"2013-09-26T07:15:50.234Z","type":"message"}
{"nick":"trevnorris","message":"wtf. mocha just displayed a pop-up on my screen saying tests passed.","date":"2013-09-26T07:16:01.478Z","type":"message"}
{"nick":"othiym23","message":"lemme find an integration test (which uses node-tap) that also barfs","date":"2013-09-26T07:16:08.343Z","type":"message"}
{"nick":"othiym23","message":"haha it's got built-in growl / growl-like integration","date":"2013-09-26T07:16:19.867Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-26T07:16:22.822Z","type":"join"}
{"nick":"trevnorris","message":"heh","date":"2013-09-26T07:16:26.867Z","type":"message"}
{"nick":"othiym23","message":"'node test/integration/connection-failure-413.tap.js' exhibits the same failure","date":"2013-09-26T07:17:24.233Z","type":"message"}
{"nick":"othiym23","message":"and I'd say it's a pretty simple test, except it pulls in a bunch of the agent code","date":"2013-09-26T07:17:38.503Z","type":"message"}
{"nick":"othiym23","message":"let me see if I can reduce it further","date":"2013-09-26T07:17:44.038Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-09-26T07:25:27.629Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: ok. so it looks like somehow the _asyncQueue is being passed in as the context, instead of the context itself. pretty sure it's coming from AsyncWrap::MakeDomainCallback","date":"2013-09-26T07:33:26.520Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: still digging into my codebase to come up with a self-contained test case","date":"2013-09-26T07:34:37.595Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: thanks.","date":"2013-09-26T07:34:46.888Z","type":"message"}
{"nick":"othiym23","message":"it appears to be an outbound HTTP request that triggers it","date":"2013-09-26T07:35:13.524Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-26T07:35:40.635Z","type":"quit"}
{"nick":"trevnorris","message":"ok, and it's coming from node::MakeDomainCallback.","date":"2013-09-26T07:39:54.225Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: ok, and it's coming from cares_wrap. just need to figure out why.","date":"2013-09-26T07:45:21.161Z","type":"message"}
{"nick":"trevnorris","message":"and that's coming from cares.getaddrinfo from lib/dns.js","date":"2013-09-26T07:57:22.943Z","type":"message"}
{"nick":"trevnorris","message":"which is coming from dns.lookup","date":"2013-09-26T07:58:21.414Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: if that helps you narrow down your case at all","date":"2013-09-26T07:58:32.318Z","type":"message"}
{"nick":"othiym23","message":"hmm","date":"2013-09-26T08:03:06.062Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-09-26T08:03:17.036Z","type":"join"}
{"nick":"othiym23","message":"regular DNS lookup succeeds, but maybe the DNS lookup inside http.request is causing weirdness","date":"2013-09-26T08:03:40.655Z","type":"message"}
{"nick":"othiym23","message":"I reduced too much, have to backtrack until it starts failing again","date":"2013-09-26T08:04:59.760Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, that object you're seeing passed in is the _asyncQueue object that's set on the context of the request","date":"2013-09-26T08:08:10.733Z","type":"message"}
{"nick":"trevnorris","message":"i'm confused how that's making it out to JS though","date":"2013-09-26T08:08:23.267Z","type":"message"}
{"nick":"othiym23","message":"almost have it","date":"2013-09-26T08:24:21.202Z","type":"message"}
{"nick":"othiym23","message":"it's a combination of CLS + http.request, I think","date":"2013-09-26T08:24:34.788Z","type":"message"}
{"nick":"othiym23","message":"could be dns.lookup, tho","date":"2013-09-26T08:24:43.642Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: what i'm seeing is that context._asyncQueue is being passed, not context","date":"2013-09-26T08:32:26.975Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: https://gist.github.com/othiym23/6711428","date":"2013-09-26T08:34:19.016Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: wow, impressive dude","date":"2013-09-26T08:34:37.701Z","type":"message"}
{"nick":"othiym23","message":"that's as small as I can make it -- only relies on process.addAsyncListener and the DNS module","date":"2013-09-26T08:34:42.198Z","type":"message"}
{"nick":"trevnorris","message":"wow, very impressive","date":"2013-09-26T08:36:26.217Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: actually I lied: https://gist.github.com/othiym23/6711509","date":"2013-09-26T08:42:07.661Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: hah, wtf.","date":"2013-09-26T08:42:24.269Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: seriously wtf. you don't even need the before/after callbacks.","date":"2013-09-26T08:43:47.828Z","type":"message"}
{"nick":"othiym23","message":"something amiss in the ReqWrap for cares?","date":"2013-09-26T08:44:22.641Z","type":"message"}
{"nick":"trevnorris","message":"must be","date":"2013-09-26T08:44:27.004Z","type":"message"}
{"nick":"trevnorris","message":"I check the object going in and it's fine","date":"2013-09-26T08:44:46.369Z","type":"message"}
{"nick":"trevnorris","message":"check the object coming out, and it's different.","date":"2013-09-26T08:44:55.677Z","type":"message"}
{"nick":"othiym23","message":"it's total yak-shaving at this point, but I shrunk down the gist some more","date":"2013-09-26T08:46:23.488Z","type":"message"}
{"nick":"trevnorris","message":"hah","date":"2013-09-26T08:47:11.621Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-26T08:54:44.773Z","type":"nick"}
{"nick":"trevnorris","message":"oh you've got to be shitting me.","date":"2013-09-26T08:59:12.066Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: thanks for taking all night to find a total fuck up on my part","date":"2013-09-26T08:59:33.370Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: looking at src/cares_wrap.cc, how is the AsyncWrap stuff mixed in there?","date":"2013-09-26T08:59:43.080Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: ReqWrap inherits from AsyncWrap","date":"2013-09-26T09:00:05.734Z","type":"message"}
{"nick":"othiym23","message":"no problem, dude, learned a bunch in the process","date":"2013-09-26T09:00:13.092Z","type":"message"}
{"nick":"trevnorris","message":"I got my two implementations crossed, and after looking at this for so long it all looked the same.","date":"2013-09-26T09:00:45.714Z","type":"message"}
{"nick":"othiym23","message":"so it's all via GetAddrInfoReqWrap?","date":"2013-09-26T09:01:23.874Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-09-26T09:01:47.841Z","type":"message"}
{"nick":"trevnorris","message":"so dns.lookup creates an object in js and passes that to getaddrinfo","date":"2013-09-26T09:02:11.877Z","type":"message"}
{"nick":"trevnorris","message":"that in turn instantiates a new GetAddrInfoReqWrap","date":"2013-09-26T09:02:22.121Z","type":"message"}
{"nick":"trevnorris","message":"which inherits from ReqWrap, which inherits from AsyncWrap","date":"2013-09-26T09:02:39.362Z","type":"message"}
{"nick":"trevnorris","message":"which uses state sharing to detect there's an active async listener, which then passes the object back out to JS so I can attach the _asyncWrap object with all the callback/domain information you pass to addAsyncListener","date":"2013-09-26T09:03:18.482Z","type":"message"}
{"nick":"othiym23","message":"right","date":"2013-09-26T09:03:29.071Z","type":"message"}
{"nick":"othiym23","message":"where's the error?","date":"2013-09-26T09:03:33.614Z","type":"message"}
{"nick":"trevnorris","message":"in my code. so AsyncWrap has it's own MakeCallback impl. for performance reasons","date":"2013-09-26T09:04:50.277Z","type":"message"}
{"nick":"trevnorris","message":"btw, just force pushed the fix. go ahead and try running your tests again","date":"2013-09-26T09:05:05.764Z","type":"message"}
{"nick":"othiym23","message":"right, I'm looking at that right now","date":"2013-09-26T09:05:06.628Z","type":"message"}
{"nick":"othiym23","message":"OK!","date":"2013-09-26T09:05:10.281Z","type":"message"}
{"nick":"trevnorris","message":"but there's also node::MakeCallback that's part of the public c++ api so users can safely enter JS again w/ proper error handling and all that stuff","date":"2013-09-26T09:05:42.872Z","type":"message"}
{"nick":"othiym23","message":"what's the fastest way to nuke my local checkout and force-pull your force-pushed changes?","date":"2013-09-26T09:06:18.548Z","type":"message"}
{"nick":"othiym23","message":"nuke the branch and re-checkout?","date":"2013-09-26T09:06:24.231Z","type":"message"}
{"nick":"trevnorris","message":"git fetch <remote>","date":"2013-09-26T09:06:30.673Z","type":"message"}
{"nick":"trevnorris","message":"git reset --hard <remote>/flippin-tick-thing","date":"2013-09-26T09:06:41.020Z","type":"message"}
{"nick":"trevnorris","message":"but since they're passing the object I have to do a full check if the object property _asyncQueue is set","date":"2013-09-26T09:07:18.200Z","type":"message"}
{"nick":"othiym23","message":"thanks","date":"2013-09-26T09:07:27.704Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-09-26T09:07:32.089Z","type":"message"}
{"nick":"trevnorris","message":"but in my tired state I used Object::Get() instead of Object::Has() and passed the return object from ::Get()","date":"2013-09-26T09:07:52.143Z","type":"message"}
{"nick":"trevnorris","message":"so I was passing the _asyncQueue object, not the context that contains the _asyncQueue object","date":"2013-09-26T09:08:13.806Z","type":"message"}
{"nick":"trevnorris","message":"but it was hard to manifest since almost all the callbacks in core now go through AsyncWrap","date":"2013-09-26T09:08:37.371Z","type":"message"}
{"nick":"trevnorris","message":"except a few in cares and tls","date":"2013-09-26T09:08:47.031Z","type":"message"}
{"nick":"trevnorris","message":"which is why it showed up there.","date":"2013-09-26T09:09:00.435Z","type":"message"}
{"nick":"othiym23","message":"cool, so my observation that that looked kinda goofy inside the Node debugger was more or less salient","date":"2013-09-26T09:09:03.626Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-09-26T09:09:27.513Z","type":"message"}
{"nick":"othiym23","message":"(\"that\" = the context)","date":"2013-09-26T09:09:28.973Z","type":"message"}
{"nick":"othiym23","message":"aw c'mon, make, you didn't need to rebuild all of v8","date":"2013-09-26T09:09:49.739Z","type":"message"}
{"nick":"othiym23","message":"that's what I get for resetting to master, I guess","date":"2013-09-26T09:09:59.599Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-09-26T09:10:06.743Z","type":"message"}
{"nick":"othiym23","message":"my fun weekend project when I have time for fun or weekends again is to see how hard it would be to replace v8's regexp implementation with re2, which I imagine will get me up to speed with V8's style of C++ in a big hurry","date":"2013-09-26T09:11:25.582Z","type":"message"}
{"nick":"trevnorris","message":"sounds hard core.","date":"2013-09-26T09:11:55.926Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: seriously dude. you just spent 3-4 hours helping me figure out that stupid bug. I owe you one.","date":"2013-09-26T09:12:44.808Z","type":"message"}
{"nick":"othiym23","message":"I owe you like 20 at this point, so we'll sort it out later ;)","date":"2013-09-26T09:13:15.029Z","type":"message"}
{"nick":"trevnorris","message":"hah, ok","date":"2013-09-26T09:13:20.456Z","type":"message"}
{"nick":"othiym23","message":"OK, so now the only test failures I'm seeing are due to the V8 bug that uglify is exercising","date":"2013-09-26T09:13:34.473Z","type":"message"}
{"nick":"trevnorris","message":"wow, that's a nice surprise at least.","date":"2013-09-26T09:14:15.335Z","type":"message"}
{"nick":"othiym23","message":"there are a couple other iffy looking failures, but I don't know whether those would be there in the latest 0.11 release because I haven't done any testing against those","date":"2013-09-26T09:14:51.814Z","type":"message"}
{"nick":"othiym23","message":"one sec","date":"2013-09-26T09:14:53.383Z","type":"message"}
{"nick":"trevnorris","message":"so, yeah. i'm going to keep working on getting domains out of core, but at least async listeners are working. so if nothing else that can land before v0.13","date":"2013-09-26T09:14:55.539Z","type":"message"}
{"nick":"othiym23","message":"that's exxxxcellent news","date":"2013-09-26T09:17:22.643Z","type":"message"}
{"nick":"othiym23","message":"and yeah, a couple of the failures I was seeing still happen on 0.11.7, and may or may not be the fault of the New Relic code, since they're all in integration tests","date":"2013-09-26T09:17:48.286Z","type":"message"}
{"nick":"othiym23","message":"does look like I have some work to do to get the asyncListener polyfill working properly on 0.11.x, but with luck that won't really be an issue","date":"2013-09-26T09:18:14.799Z","type":"message"}
{"nick":"trevnorris","message":"coolio. and I still need to integrate with ben's latest commit.","date":"2013-09-26T09:19:19.944Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-26T09:19:31.277Z","type":"quit"}
{"nick":"bnoordhuis","message":"../../deps/openssl/openssl/crypto/des/set_key.c:398: error: unsupported inline asm: input constraint with a matching output constraint of incompatible type! :-/","date":"2013-09-26T09:19:32.081Z","type":"message"}
{"nick":"bnoordhuis","message":"sometimes i hate computers","date":"2013-09-26T09:19:40.284Z","type":"message"}
{"nick":"bnoordhuis","message":"and other programmers","date":"2013-09-26T09:19:45.362Z","type":"message"}
{"nick":"indutny","message":"heya","date":"2013-09-26T09:19:58.346Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-09-26T09:20:02.816Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: haven't had a burst of inspiration of how to handle the AsyncWrap and WeakObject, have you? :)","date":"2013-09-26T09:21:00.606Z","type":"message"}
{"nick":"trevnorris","message":"well, regardless I barely have enough brain cells functioning to make it to bed.","date":"2013-09-26T09:21:25.229Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: not quite. i did spend some brain power on it","date":"2013-09-26T09:21:32.555Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll see if i can go through your PR today","date":"2013-09-26T09:21:44.080Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: thanks much. :)","date":"2013-09-26T09:22:00.680Z","type":"message"}
{"nick":"trevnorris","message":"i'm surprised you have any brain power to spare. your kids only 2 weeks old now?","date":"2013-09-26T09:22:25.665Z","type":"message"}
{"nick":"trevnorris","message":"s/kids/kid","date":"2013-09-26T09:22:36.901Z","type":"message"}
{"nick":"bnoordhuis","message":"10 days now :)","date":"2013-09-26T09:22:41.489Z","type":"message"}
{"nick":"othiym23","message":"OK, something's busted in Restify in both 0.11.7 and flippin-tick-thing, and my async execution tracer torture test fails under flippin-tick-thing but not with the polyfill, which may or may not be flippin-tick-thing's fault","date":"2013-09-26T09:22:59.212Z","type":"message"}
{"nick":"trevnorris","message":"awesome.","date":"2013-09-26T09:23:07.698Z","type":"message"}
{"nick":"othiym23","message":"I'll look into that more tomorrow when I'm more well-rested","date":"2013-09-26T09:23:10.693Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: coolio. and thanks again. it might be that it's still not fully integrated.","date":"2013-09-26T09:23:40.534Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it's only on HandleWrap and ReqWrap, so there are cases where listeners won't get called.","date":"2013-09-26T09:24:01.526Z","type":"message"}
{"nick":"trevnorris","message":"but bnoordhuis' being real nice hand helping me out there :)","date":"2013-09-26T09:24:27.441Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: I just remember the first 2 weeks being the hardest. actually, I don't really remember them at all.","date":"2013-09-26T09:25:03.143Z","type":"message"}
{"nick":"trevnorris","message":"that was a lot of sleep deprivation.","date":"2013-09-26T09:25:14.859Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: setTimeout is passing the context to before instead of the domain, it appears","date":"2013-09-26T09:27:52.874Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, before and after get (context, domain)","date":"2013-09-26T09:29:13.941Z","type":"message"}
{"nick":"trevnorris","message":"are you saying that context is passed as both arguments?","date":"2013-09-26T09:29:27.273Z","type":"message"}
{"nick":"othiym23","message":"hmm... I think I'm assuming that before only gets domain","date":"2013-09-26T09:29:51.387Z","type":"message"}
{"nick":"othiym23","message":"time to square up the polyfill!","date":"2013-09-26T09:29:56.252Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-09-26T09:30:01.267Z","type":"message"}
{"nick":"othiym23","message":"sorta scary that it only breaks there, though","date":"2013-09-26T09:30:21.212Z","type":"message"}
{"nick":"trevnorris","message":"hah, know that feeling","date":"2013-09-26T09:30:32.211Z","type":"message"}
{"nick":"othiym23","message":"I think I'm just putting my stuff right on the context objects right now","date":"2013-09-26T09:30:32.460Z","type":"message"}
{"nick":"othiym23","message":"pee-eww","date":"2013-09-26T09:30:35.200Z","type":"message"}
{"nick":"othiym23","message":"OK, that I will definitely fix tomorrow","date":"2013-09-26T09:30:46.221Z","type":"message"}
{"nick":"othiym23","message":"I need to get to bed uh three hours ago","date":"2013-09-26T09:30:53.633Z","type":"message"}
{"nick":"trevnorris","message":"i'm with you there.","date":"2013-09-26T09:31:04.653Z","type":"message"}
{"nick":"othiym23","message":"tty'all later!","date":"2013-09-26T09:31:08.862Z","type":"message"}
{"nick":"othiym23","action":"&","date":"2013-09-26T09:31:11.566Z","type":"action"}
{"nick":"LOUDBOT","message":"NOT THE BUTTONS MORON","date":"2013-09-26T09:31:12.043Z","type":"message"}
{"nick":"trevnorris","message":"night all","date":"2013-09-26T09:31:13.019Z","type":"message"}
{"nick":"trevnorris","action":"&","date":"2013-09-26T09:31:15.743Z","type":"action"}
{"nick":"LOUDBOT","message":"WHO ARE YOU TO SAY WHAT IS ALLOWED","date":"2013-09-26T09:31:16.356Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2013-09-26T09:40:11.880Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-26T09:56:19.920Z","type":"quit"}
{"nick":"Kakera","date":"2013-09-26T09:58:12.401Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 264 seconds","date":"2013-09-26T09:58:40.425Z","type":"quit"}
{"nick":"mcavage","date":"2013-09-26T10:04:28.201Z","type":"join"}
{"nick":"mcavage_","reason":"Read error: Connection reset by peer","date":"2013-09-26T10:04:28.421Z","type":"quit"}
{"nick":"mcavage_","date":"2013-09-26T10:05:10.101Z","type":"join"}
{"nick":"mcavage","reason":"Read error: Connection reset by peer","date":"2013-09-26T10:05:10.101Z","type":"quit"}
{"nick":"mcavage_","reason":"Read error: Connection reset by peer","date":"2013-09-26T10:05:45.597Z","type":"quit"}
{"nick":"mcavage","date":"2013-09-26T10:05:54.761Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-26T10:06:11.962Z","type":"join"}
{"nick":"mcavage_","date":"2013-09-26T10:08:11.180Z","type":"join"}
{"nick":"mcavage","reason":"Read error: Connection reset by peer","date":"2013-09-26T10:08:11.180Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2013-09-26T10:14:37.945Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-26T10:34:07.714Z","type":"join"}
{"nick":"mraleph","reason":"Read error: Connection reset by peer","date":"2013-09-26T10:38:16.268Z","type":"quit"}
{"nick":"mraleph","date":"2013-09-26T10:38:24.364Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1503 \u00037UNSTABLE\u000f smartos-x64 (2/600) osx-ia32 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1503/","date":"2013-09-26T10:46:06.555Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-09-26T11:03:01.690Z","type":"quit"}
{"nick":"dominictarr","date":"2013-09-26T11:03:56.495Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-09-26T11:23:47.279Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-26T11:24:19.414Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-09-26T11:27:50.674Z","type":"quit"}
{"nick":"abraxas","reason":"Ping timeout: 240 seconds","date":"2013-09-26T11:28:28.275Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-09-26T12:00:04.982Z","type":"join"}
{"nick":"mcavage_","reason":"Read error: Connection reset by peer","date":"2013-09-26T12:00:05.312Z","type":"quit"}
{"nick":"mcavage","date":"2013-09-26T12:00:16.951Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 248 seconds","date":"2013-09-26T12:30:29.738Z","type":"quit"}
{"nick":"dominictarr","reason":"Ping timeout: 240 seconds","date":"2013-09-26T12:35:08.660Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-26T12:45:20.136Z","type":"join"}
{"nick":"nightmar1","date":"2013-09-26T12:53:29.682Z","type":"join"}
{"nick":"nightmar1","message":"what does uv_run return with UV_RUN_NOWAIT?","date":"2013-09-26T12:54:20.308Z","type":"message"}
{"nick":"Kakera","reason":"Ping timeout: 264 seconds","date":"2013-09-26T13:00:28.433Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-26T13:02:12.881Z","type":"join"}
{"nick":"saghul","message":"nightmar1 a boolean indicating if you need to run it again because there is pending work to do","date":"2013-09-26T13:04:59.202Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-09-26T13:05:04.780Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: hi","date":"2013-09-26T13:05:30.519Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/node/issues/6214","date":"2013-09-26T13:05:33.229Z","type":"message"}
{"nick":"mcavage_","date":"2013-09-26T13:13:47.766Z","type":"join"}
{"nick":"mcavage","reason":"Read error: Connection reset by peer","date":"2013-09-26T13:13:48.499Z","type":"quit"}
{"nick":"hz","date":"2013-09-26T13:14:58.428Z","type":"join"}
{"nick":"Kakera","date":"2013-09-26T13:16:52.545Z","type":"join"}
{"nick":"nightmar1","message":"hm","date":"2013-09-26T13:26:26.577Z","type":"message"}
{"nick":"nightmar1","message":"i am creating a udp thing, starting it and stopping it","date":"2013-09-26T13:26:52.334Z","type":"message"}
{"nick":"nightmar1","message":"i get -1 on the stop","date":"2013-09-26T13:26:55.830Z","type":"message"}
{"nick":"bnoordhuis","message":"is that an implied question or just an observation?","date":"2013-09-26T13:28:43.774Z","type":"message"}
{"nick":"nightmar1","message":"observation","date":"2013-09-26T13:35:42.097Z","type":"message"}
{"nick":"nightmar1","message":"i am doing this in my bindings, so ill try a plain c example first","date":"2013-09-26T13:35:57.086Z","type":"message"}
{"nick":"jmar777","date":"2013-09-26T13:36:44.378Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-26T13:38:08.614Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 240 seconds","date":"2013-09-26T13:57:50.547Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-09-26T13:58:39.554Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-26T14:22:58.618Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-26T14:25:02.343Z","type":"join"}
{"nick":"mcavage_","reason":"Remote host closed the connection","date":"2013-09-26T14:28:07.813Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-26T14:30:44.970Z","type":"join"}
{"nick":"jmar777","reason":"Write error: Connection reset by peer","date":"2013-09-26T14:30:45.473Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-26T14:31:11.130Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-09-26T14:44:55.805Z","type":"join"}
{"nick":"c4milo","date":"2013-09-26T14:50:24.553Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-09-26T14:54:48.236Z","type":"quit"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-09-26T15:03:27.507Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-26T15:07:58.172Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-26T15:15:22.234Z","type":"join"}
{"nick":"dominictarr","date":"2013-09-26T15:17:13.374Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #580 \u00037UNSTABLE\u000f smartos-x64 (6/642) http://jenkins.nodejs.org/job/nodejs-master/580/","date":"2013-09-26T15:17:35.090Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-09-26T15:17:46.614Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2013-09-26T15:17:46.614Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-09-26T15:17:53.134Z","type":"nick"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-26T15:28:01.381Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-26T15:38:11.871Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-26T15:39:32.296Z","type":"join"}
{"nick":"octetcloud","date":"2013-09-26T15:39:33.536Z","type":"join"}
{"nick":"nightmar1","reason":"Ping timeout: 264 seconds","date":"2013-09-26T15:39:42.250Z","type":"quit"}
{"nick":"nightmar1","date":"2013-09-26T15:47:26.778Z","type":"join"}

{"nick":"dylukes","date":"2012-03-30T00:07:38.286Z","type":"join"}
{"nick":"Aria","date":"2012-03-30T00:20:20.814Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-30T00:39:24.705Z","type":"quit"}
{"nick":"piscisaureus","message":"bnoordhuis: so we are going to add the restriction that before sending a socket over the ipc channel the socket must be either connected or listening.","date":"2012-03-30T00:41:32.210Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: if the socket has been only bound we are going to assume that you want to use it as a server.","date":"2012-03-30T00:41:58.500Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: igorzi will document this","date":"2012-03-30T00:42:09.058Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: attempting to send a completely pristine socket will result in UV_ENOTSUP","date":"2012-03-30T00:42:41.561Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: ^-- this is to make sure you are aware","date":"2012-03-30T00:42:51.404Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 264 seconds","date":"2012-03-30T00:45:37.167Z","type":"quit"}
{"nick":"igorzi","message":"does libuv support sending pipes over ipc on unix?","date":"2012-03-30T00:52:08.822Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis piscisaureus: ^","date":"2012-03-30T00:52:20.785Z","type":"message"}
{"nick":"dap","message":"TooTallNate: thanks for your help thus far. I've mailed the GYP listâ€¦my message is held for moderation, but we'll see what they say.","date":"2012-03-30T00:52:34.011Z","type":"message"}
{"nick":"dap","message":"I know Ryan assured us that the GYP guys assured him that this would be possible :)","date":"2012-03-30T00:52:54.449Z","type":"message"}
{"nick":"TooTallNate","message":"dap: cool i'll keep my eye on the thread","date":"2012-03-30T00:53:16.568Z","type":"message"}
{"nick":"TooTallNate","message":"thanks for pointing me to #smartos too","date":"2012-03-30T00:53:20.265Z","type":"message"}
{"nick":"TooTallNate","message":"finally got a VM running :D","date":"2012-03-30T00:53:27.242Z","type":"message"}
{"nick":"TooTallNate","message":"dap: it seems like 32-bit though. how do I switch?","date":"2012-03-30T00:53:49.654Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yes - bnoordhuis recently added support that","date":"2012-03-30T00:58:37.488Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but I investigated it a little and sending pipe servers is pretty hairy on windows","date":"2012-03-30T00:59:18.762Z","type":"message"}
{"nick":"piscisaureus","message":"well, maybe not","date":"2012-03-30T00:59:22.420Z","type":"message"}
{"nick":"piscisaureus","message":"but you'd have to send the filename if was a pipe server","date":"2012-03-30T00:59:31.940Z","type":"message"}
{"nick":"piscisaureus","message":"and probably create the pipe without setting the PIPE_FIRST_INSTANCE flag","date":"2012-03-30T00:59:51.705Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: it's kind of getting out of hand though... next up is sending IPC channels over IPC","date":"2012-03-30T01:00:40.235Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: and UDP","date":"2012-03-30T01:00:46.076Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah.. maybe we should enable sending pipe connections, and just stop there","date":"2012-03-30T01:01:14.283Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: well in fact ben added support for pipe servers I think","date":"2012-03-30T01:01:30.827Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but I don't think many people use pipes on windows anyways","date":"2012-03-30T01:01:46.879Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: which is mostly due to unwarareness though... you can use the pipe to connect to mysql just fine for example (I tried that with node-mysql)","date":"2012-03-30T01:02:33.154Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but I think the pipe code could use some brooming before we do that.","date":"2012-03-30T01:04:03.126Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: there is this stupid disconnect timer that I regret adding.","date":"2012-03-30T01:04:23.955Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: somehow we should stop pretending pipe servers support graceful close","date":"2012-03-30T01:04:47.699Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: btw - does iisnode still use pipes (because it might actually have an effect on that_","date":"2012-03-30T01:05:15.687Z","type":"message"}
{"nick":"igorzi","message":"yes, it still uses pipes","date":"2012-03-30T01:06:50.958Z","type":"message"}
{"nick":"igorzi","message":"that disconnect timer runs on uv_shutdown?","date":"2012-03-30T01:07:12.409Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yes","date":"2012-03-30T01:09:14.204Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: does http.js have any codepaths that results in uv_shutdown?","date":"2012-03-30T01:09:37.504Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think so","date":"2012-03-30T01:09:46.655Z","type":"message"}
{"nick":"igorzi","message":"(http.js server)","date":"2012-03-30T01:09:49.084Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi oh well no","date":"2012-03-30T01:09:52.482Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but sometimes the client needs to send us that","date":"2012-03-30T01:10:05.899Z","type":"message"}
{"nick":"igorzi","message":"ok, then iisnode is not effected","date":"2012-03-30T01:10:16.610Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think it is","date":"2012-03-30T01:10:22.933Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: if you upload a file without sending a content-length\u0003 header, the end of the file is signaled by a half close initiated by the client","date":"2012-03-30T01:10:48.239Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but the server still needs to send a http response after that.","date":"2012-03-30T01:11:00.944Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I don't think this is possible with named pipes","date":"2012-03-30T01:11:12.041Z","type":"message"}
{"nick":"igorzi","message":"yeah, i don't know how iisnode deals with this, but this is orthogonal to disconnect timer, right?","date":"2012-03-30T01:12:42.707Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: eh, yeah, you're right. The http server does not have to shutdown indeed.","date":"2012-03-30T01:14:00.934Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: https://github.com/igorzi/libuv/commit/be6914f2f555f5fe2313b74f2867ccc1f80ce9a3","date":"2012-03-30T01:18:26.970Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think CONNECTED kind of implies BOUND but lgtm","date":"2012-03-30T01:19:48.930Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think that's it then.","date":"2012-03-30T01:20:27.391Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: heh, yeah :)","date":"2012-03-30T01:20:36.920Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi++","date":"2012-03-30T01:20:42.730Z","type":"message"}
{"nick":"kohai","message":"igorzi has 5 beers","date":"2012-03-30T01:20:42.936Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: You should probably squash the first two commits (at least)","date":"2012-03-30T01:21:07.615Z","type":"message"}
{"nick":"piscisaureus","message":"actually, the first 3 or all of them should be squashed","date":"2012-03-30T01:21:46.891Z","type":"message"}
{"nick":"piscisaureus","message":"^-- igorzi","date":"2012-03-30T01:21:50.091Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yep..it'll be 2 commits altogether","date":"2012-03-30T01:21:58.765Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u000270925c3\u000f \u000310\u000f/ (9 files in 3 dirs)\u0002:\u000f windows: Enable passing of TCP connections over IPC - http://git.io/evFuSw","date":"2012-03-30T01:25:52.742Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T01:27:54.217Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#156 (master - c3daa44 : Igor Zinkovsky): The build is still failing.","date":"2012-03-30T01:27:54.415Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/31ff986...c3daa44","date":"2012-03-30T01:27:54.416Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/978409","date":"2012-03-30T01:27:54.416Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T01:27:54.416Z","type":"part"}
{"nick":"piscisaureus","message":"igorzi: very cool","date":"2012-03-30T01:27:57.996Z","type":"message"}
{"nick":"igorzi","message":"wow.. there are 139 libuv tests now (on windows).. when i just started working on libuv i think there were less than 20 :)","date":"2012-03-30T01:28:02.036Z","type":"message"}
{"nick":"piscisaureus","message":"I know, right :-)","date":"2012-03-30T01:28:14.600Z","type":"message"}
{"nick":"piscisaureus","message":"When I started there were 0","date":"2012-03-30T01:28:19.912Z","type":"message"}
{"nick":"piscisaureus","message":":-p","date":"2012-03-30T01:28:22.568Z","type":"message"}
{"nick":"piscisaureus","message":"it's good that it grows","date":"2012-03-30T01:28:44.781Z","type":"message"}
{"nick":"piscisaureus","message":"I bet that there are still code paths that are uncovered","date":"2012-03-30T01:29:05.151Z","type":"message"}
{"nick":"piscisaureus","message":"maybe we should add a test runner flag that forces the detection of a non-ifs lsp","date":"2012-03-30T01:29:21.027Z","type":"message"}
{"nick":"igorzi","message":"yeah.. it would be nice to get code coverage % for these tests","date":"2012-03-30T01:29:46.736Z","type":"message"}
{"nick":"piscisaureus","message":"and one that forces XP/2k3 mode","date":"2012-03-30T01:29:48.883Z","type":"message"}
{"nick":"piscisaureus","message":"Is code coverage % possible with vs?","date":"2012-03-30T01:30:02.765Z","type":"message"}
{"nick":"piscisaureus","message":"we spawn a lot of processes ?","date":"2012-03-30T01:30:13.083Z","type":"message"}
{"nick":"igorzi","message":"it's definitely possible for .net code.. i don't know about native","date":"2012-03-30T01:30:42.772Z","type":"message"}
{"nick":"igorzi","message":"yeah, it looks like it should be possible with c/c++ too","date":"2012-03-30T01:32:00.728Z","type":"message"}
{"nick":"pietern","reason":"Ping timeout: 246 seconds","date":"2012-03-30T01:33:22.346Z","type":"quit"}
{"nick":"abraxas","date":"2012-03-30T01:37:04.219Z","type":"join"}
{"nick":"travis-ci","date":"2012-03-30T01:40:16.410Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#157 (master - ab8c3b8 : Igor Zinkovsky): The build is still failing.","date":"2012-03-30T01:40:16.612Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/c3daa44...ab8c3b8","date":"2012-03-30T01:40:16.613Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/978433","date":"2012-03-30T01:40:16.613Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T01:40:16.613Z","type":"part"}
{"nick":"isaacs","date":"2012-03-30T01:43:46.287Z","type":"join"}
{"nick":"piscisaureus","message":"igorzi: Ok so I am checkout out for today. Will continue work on uv_poll_t","date":"2012-03-30T01:49:08.224Z","type":"message"}
{"nick":"igorzi","message":"alright.. ttyl","date":"2012-03-30T01:49:42.397Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-03-30T01:52:42.403Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-03-30T02:00:05.346Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-03-30T02:06:51.538Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-03-30T02:14:16.709Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-03-30T02:35:35.249Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 244 seconds","date":"2012-03-30T03:09:03.244Z","type":"quit"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.7.7-release\u000f * r\u0002e3bb6e0\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f (log message trimmed)","date":"2012-03-30T03:10:12.584Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f 2012.03.30, Version 0.7.7 (unstable)","date":"2012-03-30T03:10:12.585Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Upgrade V8 to 3.9.24.7","date":"2012-03-30T03:10:12.585Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Upgrade npm to 1.1.14","date":"2012-03-30T03:10:12.585Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Handle Emoji characters properly (Erik Corry, Bert Belder)","date":"2012-03-30T03:10:12.585Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * readline: migrate ansi/vt100 logic from tty to readline (Nathan Rajlich)","date":"2012-03-30T03:10:12.585Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * readline: Fix multiline handling (Alex Kocharin)","date":"2012-03-30T03:10:13.555Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.7.7-release\u000f * r\u00029a70d99\u000f \u000310\u000f/ (98 files in 6 dirs)\u0002:\u000f Upgrade npm to 1.1.15 - http://git.io/HAWLHw","date":"2012-03-30T03:21:15.414Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.7.7-release\u000f * r\u00025cda254\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f (log message trimmed)","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f 2012.03.30, Version 0.7.7 (unstable)","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Upgrade V8 to 3.9.24.7","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Upgrade npm to 1.1.15","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * Handle Emoji characters properly (Erik Corry, Bert Belder)","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * readline: migrate ansi/vt100 logic from tty to readline (Nathan Rajlich)","date":"2012-03-30T03:21:16.709Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f * readline: Fix multiline handling (Alex Kocharin)","date":"2012-03-30T03:21:17.555Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T03:24:32.275Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#665 (v0.7.7-release - e3bb6e0 : isaacs): The build is still failing.","date":"2012-03-30T03:24:32.474Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/988e9dd...e3bb6e0","date":"2012-03-30T03:24:32.474Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/978718","date":"2012-03-30T03:24:32.474Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T03:24:32.474Z","type":"part"}
{"nick":"isaacs","topic":"Liberty. Unity. Velocity. - test, please: http://nodejs.org/dist/v0.7.7/node-v0.7.7-RC0.tar.gz","date":"2012-03-30T03:24:40.969Z","type":"topic"}
{"nick":"orlandovftw","date":"2012-03-30T03:26:23.316Z","type":"join"}
{"nick":"dylukes","reason":"Quit: Pipes are broken. Sending packets via Fedex.","date":"2012-03-30T03:28:57.522Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 244 seconds","date":"2012-03-30T03:35:24.279Z","type":"quit"}
{"nick":"travis-ci","date":"2012-03-30T03:36:17.414Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#666 (v0.7.7-release - 5cda254 : isaacs): The build is still failing.","date":"2012-03-30T03:36:17.619Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/e3bb6e0...5cda254","date":"2012-03-30T03:36:17.620Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/978791","date":"2012-03-30T03:36:17.620Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T03:36:17.620Z","type":"part"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-30T03:39:05.739Z","type":"quit"}
{"nick":"isaacs","date":"2012-03-30T03:41:08.666Z","type":"join"}
{"nick":"sh1mmer","date":"2012-03-30T03:55:57.656Z","type":"join"}
{"nick":"orlandovftw","reason":"Ping timeout: 260 seconds","date":"2012-03-30T04:02:14.130Z","type":"quit"}
{"nick":"indexzero","date":"2012-03-30T04:05:05.328Z","type":"join"}
{"nick":"Brandon_R","date":"2012-03-30T04:14:04.111Z","type":"join"}
{"nick":"philips","reason":"Excess Flood","date":"2012-03-30T04:32:04.687Z","type":"quit"}
{"nick":"philips","date":"2012-03-30T04:33:56.180Z","type":"join"}
{"nick":"perezd","date":"2012-03-30T05:08:39.064Z","type":"join"}
{"nick":"paddybyers","date":"2012-03-30T05:36:06.861Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2012-03-30T05:36:40.134Z","type":"quit"}
{"nick":"toothr","reason":"*.net *.split","date":"2012-03-30T06:24:07.444Z","type":"quit"}
{"nick":"CoverSli1e","reason":"*.net *.split","date":"2012-03-30T06:24:07.444Z","type":"quit"}
{"nick":"Raynos","reason":"*.net *.split","date":"2012-03-30T06:24:07.445Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-30T06:27:08.524Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-03-30T06:39:43.341Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-30T06:52:10.435Z","type":"join"}
{"nick":"rendar","date":"2012-03-30T06:56:47.341Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-03-30T07:04:17.858Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-03-30T07:04:21.841Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-03-30T07:23:24.083Z","type":"quit"}
{"nick":"toothr","date":"2012-03-30T07:58:06.656Z","type":"join"}
{"nick":"CoverSli1e","date":"2012-03-30T07:58:06.853Z","type":"join"}
{"nick":"Raynos","date":"2012-03-30T07:58:06.853Z","type":"join"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2012-03-30T08:01:31.160Z","type":"nick"}
{"nick":"txdv","date":"2012-03-30T08:11:04.190Z","type":"join"}
{"nick":"txdv_","reason":"Ping timeout: 244 seconds","date":"2012-03-30T08:14:31.288Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-30T08:18:15.891Z","type":"quit"}
{"nick":"einaros","message":"can anyone think of a good reason why RSS would remain sky high after a run of a socket intensive node app, but heap dumps by the v8 profiler will show no unexpected objects (or sizes)?","date":"2012-03-30T08:31:49.339Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-30T09:00:52.427Z","type":"join"}
{"nick":"Brandon_R","reason":"Ping timeout: 245 seconds","date":"2012-03-30T09:01:46.709Z","type":"quit"}
{"nick":"rendar","reason":"Quit: reboot","date":"2012-03-30T09:14:10.565Z","type":"quit"}
{"nick":"rendar","date":"2012-03-30T09:17:42.931Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-30T10:00:51.260Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-30T10:01:50.472Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-03-30T10:06:28.728Z","type":"join"}
{"nick":"abraxas","date":"2012-03-30T10:15:41.851Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 250 seconds","date":"2012-03-30T10:26:58.546Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[plane]","date":"2012-03-30T10:55:02.238Z","type":"nick"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-03-30T11:42:10.160Z","type":"quit"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020f0557d\u000f \u000310\u000f/ src/stream_wrap.cc \u0002:\u000f stream_wrap: fix signedness compiler warnings - http://git.io/JuNcMg","date":"2012-03-30T12:58:00.178Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002b82b4f2\u000f \u000310\u000f/ (src/node_buffer.cc src/node_buffer.h)\u0002:\u000f buffer: fix signedness compiler warnings - http://git.io/W7-Ihw","date":"2012-03-30T12:58:00.396Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00026986d93\u000f \u000310\u000f/ src/node_crypto.cc \u0002:\u000f crypto: fix signedness compiler warnings - http://git.io/2h10xw","date":"2012-03-30T12:58:00.570Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00028c97ad4\u000f \u000310\u000f/ src/node.cc \u0002:\u000f node: fix signedness compiler warnings - http://git.io/1xFMmg","date":"2012-03-30T12:58:00.570Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002db0a1dc\u000f \u000310\u000f/ src/node.cc \u0002:\u000f node: remove unused function - http://git.io/N-oh7Q","date":"2012-03-30T12:58:00.805Z","type":"message"}
{"nick":"bnoordhuis","message":"no warnings build ftw","date":"2012-03-30T12:58:16.479Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T13:12:45.461Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#667 (master - db0a1dc : Ben Noordhuis): The build is still failing.","date":"2012-03-30T13:12:45.659Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/7abbda8...db0a1dc","date":"2012-03-30T13:12:45.660Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/981069","date":"2012-03-30T13:12:45.660Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T13:12:45.660Z","type":"part"}
{"nick":"piscisaureus_","date":"2012-03-30T13:26:07.738Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/node/pull/3035 <- seen this?","date":"2012-03-30T13:27:40.471Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: nope.","date":"2012-03-30T13:28:58.406Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will read it","date":"2012-03-30T13:29:05.175Z","type":"message"}
{"nick":"k-s[AWAY]","new_nick":"k-s","date":"2012-03-30T13:29:46.259Z","type":"nick"}
{"nick":"bnoordhuis","message":"i kind of like the concept","date":"2012-03-30T13:29:53.103Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: meh","date":"2012-03-30T13:31:16.144Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: is that a \"i don't\"?","date":"2012-03-30T13:31:41.814Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: meeeeeeh","date":"2012-03-30T13:31:43.893Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-30T13:31:46.529Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I have to reboot my mac. bbiab","date":"2012-03-30T13:32:06.905Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-03-30T13:32:11.651Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-03-30T13:33:29.818Z","type":"join"}
{"nick":"einaros","message":"hrm, is this expected behavior or a Buffer related memory leak?","date":"2012-03-30T13:34:01.839Z","type":"message"}
{"nick":"einaros","message":"https://gist.github.com/77654c1d91fd4ff8a7fa","date":"2012-03-30T13:34:03.431Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I would not mind having macros for this purpose","date":"2012-03-30T13:34:24.295Z","type":"message"}
{"nick":"piscisaureus_","message":"TYPE_CHECK(0, filename, String, \"Filename must be a string\");","date":"2012-03-30T13:35:21.721Z","type":"message"}
{"nick":"piscisaureus_","message":"which would translate to","date":"2012-03-30T13:35:28.217Z","type":"message"}
{"nick":"piscisaureus_","message":"if (!arguments[0].isString()) return ThrowSomething(\u000301\"Filename must be a string\"\u0003\u000301)","date":"2012-03-30T13:36:28.130Z","type":"message"}
{"nick":"piscisaureus_","message":"Handle<Value> filename =","date":"2012-03-30T13:36:28.331Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: this will end up in infinite bikeshedding","date":"2012-03-30T13:37:07.360Z","type":"message"}
{"nick":"piscisaureus_","message":"people will want to add support for optional arguments and polymorphism etc","date":"2012-03-30T13:37:43.294Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, okay","date":"2012-03-30T13:38:29.487Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't like it *that* much","date":"2012-03-30T13:38:33.870Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: But I do not like this patch because (1) it is very non-obvious what it does (people would have to look at the implementation of ScanArgs to find ot what S means) and (2) it is too expensive","date":"2012-03-30T13:38:37.818Z","type":"message"}
{"nick":"piscisaureus_","message":"I kinda liked the STL thing","date":"2012-03-30T13:38:46.821Z","type":"message"}
{"nick":"bnoordhuis","message":"einaros: can you give me the executive summary on that test?","date":"2012-03-30T13:39:10.607Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, explain it in five words or less? :)","date":"2012-03-30T13:39:23.991Z","type":"message"}
{"nick":"piscisaureus_","message":"einaros: On windows, I get this (node 0.6.14)","date":"2012-03-30T13:42:40.561Z","type":"message"}
{"nick":"piscisaureus_","message":"Initial rss: 8 MB","date":"2012-03-30T13:42:41.615Z","type":"message"}
{"nick":"piscisaureus_","message":"After closure has completed, buffer array is unreachable, rss: 322 MB","date":"2012-03-30T13:42:41.820Z","type":"message"}
{"nick":"piscisaureus_","message":"After two gc calls and 5 second delay, rss: 11 MB","date":"2012-03-30T13:42:41.820Z","type":"message"}
{"nick":"einaros","message":"on linux, with node 0.4.12 and node 0.6.11 (?) I saw it linger around 2-300 MB even after the last gc","date":"2012-03-30T13:43:25.727Z","type":"message"}
{"nick":"einaros","message":"the output in the gist is from my mac, 0.6.14","date":"2012-03-30T13:43:36.894Z","type":"message"}
{"nick":"einaros","message":"but I'll dig into this a bit further, then get back to you","date":"2012-03-30T13:43:56.458Z","type":"message"}
{"nick":"piscisaureus_","message":"einaros: probably free() just does not unmap the pages","date":"2012-03-30T13:44:20.062Z","type":"message"}
{"nick":"einaros","message":"it's a rather pressing issue for ws. with 10k clients connected and disconnected, rss stays on or about 800MB","date":"2012-03-30T13:44:55.813Z","type":"message"}
{"nick":"piscisaureus_","message":"einaros: so ... Probably your computer just has a lot of memory","date":"2012-03-30T13:46:08.703Z","type":"message"}
{"nick":"piscisaureus_","message":"einaros: so what you should do is start another process and make it touch a lot of memory","date":"2012-03-30T13:46:25.735Z","type":"message"}
{"nick":"piscisaureus_","message":"and then check the rss again","date":"2012-03-30T13:46:33.113Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00021752443\u000f \u000310\u000f/ (src/node_crypto.cc src/node_file.cc src/node_http_parser.cc)\u0002:\u000f Fix Engrish in error messages. - http://git.io/3RqDUA","date":"2012-03-30T14:07:57.776Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/node/compare/issue2981 <- review?","date":"2012-03-30T14:08:39.776Z","type":"message"}
{"nick":"bnoordhuis","message":"compiles, passes all tests","date":"2012-03-30T14:09:37.158Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did you rebase heavily or did I already review the commits up to ROUND_UP ?","date":"2012-03-30T14:10:45.220Z","type":"message"}
{"nick":"bnoordhuis","message":"it's just as fast too, even now that it converts all handles to locals","date":"2012-03-30T14:10:51.518Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you reviewed parts of it last week, yes","date":"2012-03-30T14:11:06.730Z","type":"message"}
{"nick":"piscisaureus_","message":"good","date":"2012-03-30T14:11:08.155Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did you write the ROUND_UP macro yourself?","date":"2012-03-30T14:12:47.733Z","type":"message"}
{"nick":"einaros","message":"piscisaureus_: in the case of node 0.6.x you are right. the pages seem to be unmapped when the box reaches around 95% memory use.","date":"2012-03-30T14:13:01.691Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-03-30T14:13:21.945Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: aha","date":"2012-03-30T14:13:26.400Z","type":"message"}
{"nick":"bnoordhuis","message":"why?","date":"2012-03-30T14:13:28.608Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think it is good","date":"2012-03-30T14:13:31.681Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well it is nice although it is somewhat dangerous to have it","date":"2012-03-30T14:13:46.178Z","type":"message"}
{"nick":"piscisaureus_","message":"since it might evaluate (a) three times","date":"2012-03-30T14:14:03.543Z","type":"message"}
{"nick":"bnoordhuis","message":"einaros: welcome to the wonderful of non-deterministic computing :/","date":"2012-03-30T14:14:04.247Z","type":"message"}
{"nick":"bnoordhuis","message":"*wonderful world","date":"2012-03-30T14:14:08.409Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: right - that's a problem with macros in general","date":"2012-03-30T14:14:23.563Z","type":"message"}
{"nick":"bnoordhuis","message":"i could change it into a template but...","date":"2012-03-30T14:14:36.782Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah well","date":"2012-03-30T14:14:41.523Z","type":"message"}
{"nick":"piscisaureus_","message":"it is fine as long as we use it carefully","date":"2012-03-30T14:14:47.170Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think Clear and Dispose are fine even when v8 is dead","date":"2012-03-30T14:15:59.776Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but you could double check if you want","date":"2012-03-30T14:16:08.121Z","type":"message"}
{"nick":"einaros","message":"0.4 is another story entirely, but I won't bother with that","date":"2012-03-30T14:16:32.327Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I double checked and Clear seems to be fine while Dispose is not.","date":"2012-03-30T14:21:30.504Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh well. It just returns if v8 is dead.","date":"2012-03-30T14:22:29.125Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T14:22:43.167Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#668 (master - 1752443 : Ben Noordhuis): The build is still failing.","date":"2012-03-30T14:22:43.365Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/db0a1dc...1752443","date":"2012-03-30T14:22:43.365Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/981716","date":"2012-03-30T14:22:43.365Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T14:22:43.365Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: right. i'll update the comment","date":"2012-03-30T14:22:49.172Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: also, it was never about a V8 context, but just about a V8 isolate.","date":"2012-03-30T14:23:37.043Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i know","date":"2012-03-30T14:23:56.296Z","type":"message"}
{"nick":"bnoordhuis","message":"\"context\" in this, er, context was a general phrase","date":"2012-03-30T14:24:22.697Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so the idea is that if someone wants to chip a really big amount off the slab allocator you","date":"2012-03-30T14:29:13.664Z","type":"message"}
{"nick":"piscisaureus_","message":"just create new Buffer","date":"2012-03-30T14:29:19.486Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-03-30T14:29:20.535Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-03-30T14:30:12.174Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's not something i thought up","date":"2012-03-30T14:30:18.305Z","type":"message"}
{"nick":"bnoordhuis","message":"the old slab allocator does it too","date":"2012-03-30T14:30:27.767Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/node/commit/79a8798d5361a2049d943a402800c7e00a678c19#commitcomment-1154114 <- suggestions? it doesn't fit in 80 chars","date":"2012-03-30T14:31:28.321Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: what's the linter say about it?","date":"2012-03-30T14:34:10.582Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: the linter says \"love and hugs\"","date":"2012-03-30T14:34:29.187Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think I would just do:","date":"2012-03-30T14:35:20.076Z","type":"message"}
{"nick":"piscisaureus_","message":"Local<Value> foo =","date":"2012-03-30T14:35:20.282Z","type":"message"}
{"nick":"piscisaureus_","message":"<tab><tab>a->b()->c();","date":"2012-03-30T14:35:20.282Z","type":"message"}
{"nick":"bnoordhuis","message":"well, okay","date":"2012-03-30T14:36:08.054Z","type":"message"}
{"nick":"pfox___","date":"2012-03-30T14:36:19.392Z","type":"join"}
{"nick":"bnoordhuis","message":"i don't really care either way","date":"2012-03-30T14:36:21.083Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: meh","date":"2012-03-30T14:36:43.548Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: ?","date":"2012-03-30T14:37:06.452Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: re: style.","date":"2012-03-30T14:37:32.356Z","type":"message"}
{"nick":"isaacs","message":"c++ is ugly by design","date":"2012-03-30T14:37:38.698Z","type":"message"}
{"nick":"kohai","message":"c has 7 beers","date":"2012-03-30T14:37:38.895Z","type":"message"}
{"nick":"isaacs","message":"it's all those beers.","date":"2012-03-30T14:37:46.409Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-03-30T14:37:50.715Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: almost done. Still pondering what this line is supposed to do <-- https://github.com/bnoordhuis/node/commit/e6dc425045df61aa9eff86137c4cc4e381a93472#L0R181","date":"2012-03-30T14:42:10.443Z","type":"message"}
{"nick":"piscisaureus_","message":"And how SlabAllocator::Shrink is supposed to work","date":"2012-03-30T14:42:10.641Z","type":"message"}
{"nick":"piscisaureus_","message":"ah wait the first one is the offset into the SlowBuffer that we use to create a fastbuffer,.","date":"2012-03-30T14:43:15.312Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-03-30T14:43:19.721Z","type":"message"}
{"nick":"bnoordhuis","message":"Shrink() returns the tailing memory to the pool","date":"2012-03-30T14:43:33.801Z","type":"message"}
{"nick":"bnoordhuis","message":"it doesn't work so well on localhost because most reads are actually 64K","date":"2012-03-30T14:43:43.355Z","type":"message"}
{"nick":"piscisaureus_","message":"I know right","date":"2012-03-30T14:43:44.091Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then you are writing to fast :-)","date":"2012-03-30T14:43:59.270Z","type":"message"}
{"nick":"bnoordhuis","message":"the principle is sound though, you can verify it with a couple of printf statements or placing breakpoints in the debugger","date":"2012-03-30T14:45:10.605Z","type":"message"}
{"nick":"bnoordhuis","message":"so isaacs, piscisaureus_ - does the patch lgty?","date":"2012-03-30T14:45:32.098Z","type":"message"}
{"nick":"piscisaureus_","message":"ah right","date":"2012-03-30T14:45:42.421Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: final question","date":"2012-03-30T14:45:47.006Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh wait no","date":"2012-03-30T14:45:55.176Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: why do you reset last_ptr_ in ::Shrink?","date":"2012-03-30T14:46:06.267Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: to side-step bugs if a SlabAllocator client calls Shrink() twice with the same ptr","date":"2012-03-30T14:46:32.934Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we never do that right?","date":"2012-03-30T14:46:45.288Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i'm not fit to review yet.  haven't had coffee.","date":"2012-03-30T14:46:46.789Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: strictly it should not be necessary, but yeah leave it in.","date":"2012-03-30T14:47:03.470Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I also have to question about the namespace key but sorry I have to talk to someone for 5 min","date":"2012-03-30T14:47:31.546Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: we shouldn't - it's a precautionary measure","date":"2012-03-30T14:47:36.710Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: sure","date":"2012-03-30T14:47:47.319Z","type":"message"}
{"nick":"CoverSli1e","reason":"Read error: Connection reset by peer","date":"2012-03-30T14:48:21.909Z","type":"quit"}
{"nick":"CoverSlide","date":"2012-03-30T14:48:31.869Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: so basically there will be only one slab allocator in node?","date":"2012-03-30T15:01:39.264Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: no - stream_wrap and udp_wrap have different instances","date":"2012-03-30T15:01:59.856Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so - 2","date":"2012-03-30T15:02:45.588Z","type":"message"}
{"nick":"bnoordhuis","message":"for now yes","date":"2012-03-30T15:02:51.166Z","type":"message"}
{"nick":"piscisaureus_","message":"okay","date":"2012-03-30T15:02:58.476Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-30T15:02:59.006Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: lgtm","date":"2012-03-30T15:03:02.039Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-03-30T15:03:04.640Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs?","date":"2012-03-30T15:03:06.846Z","type":"message"}
{"nick":"k-s","new_nick":"k-s[AWAY]","date":"2012-03-30T15:03:31.780Z","type":"nick"}
{"nick":"bnoordhuis","message":"piscisaureus_: btw, we have this company meeting next week. do you need me at the office earlier than friday?","date":"2012-03-30T15:03:32.875Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no I don't I think","date":"2012-03-30T15:04:50.377Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so I don't need you","date":"2012-03-30T15:04:58.494Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: cool. then invite your gf for beers next week","date":"2012-03-30T15:05:12.683Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I might. I think my gf won't be there though.","date":"2012-03-30T15:05:36.469Z","type":"message"}
{"nick":"piscisaureus_","message":"but maybe","date":"2012-03-30T15:05:39.118Z","type":"message"}
{"nick":"bnoordhuis","message":"no? why not?","date":"2012-03-30T15:05:46.912Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we are going to be at her parents on saturday","date":"2012-03-30T15:06:19.624Z","type":"message"}
{"nick":"piscisaureus_","message":"coming to amsterdam and then going back is not really worth the effort","date":"2012-03-30T15:06:38.625Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we can do a talk about what we are doing btw","date":"2012-03-30T15:07:31.622Z","type":"message"}
{"nick":"piscisaureus_","message":"at the company meeting","date":"2012-03-30T15:07:38.010Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-30T15:08:15.885Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: sure","date":"2012-03-30T15:11:46.073Z","type":"message"}
{"nick":"bnoordhuis","action":"is off to dinner","date":"2012-03-30T15:12:08.357Z","type":"action"}
{"nick":"isaacs","message":"bnoordhuis: looking at it now.","date":"2012-03-30T15:23:43.220Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_, bnoordhuis: is it necessary to use Local<Value>::New(..) for Null() and Undefined()?","date":"2012-03-30T15:34:43.952Z","type":"message"}
{"nick":"isaacs","message":"i mean, if it gets gc'ed, it'll just be Undefined() anyway","date":"2012-03-30T15:35:39.807Z","type":"message"}
{"nick":"pfox___","message":"i thought maybe you'd guys be interested in seeing this: https://github.com/olsonjeffery/rust/blob/uv_tcp/src/libstd/uv.rs#L1532","date":"2012-03-30T15:37:56.064Z","type":"message"}
{"nick":"pfox___","message":"a kind of perverse, bizzaro-world of libuv","date":"2012-03-30T15:38:10.499Z","type":"message"}
{"nick":"pfox___","message":"where we have a low-level API in pure rust.. with structs on the rust stack and everything.. no C mallocs!","date":"2012-03-30T15:38:25.812Z","type":"message"}
{"nick":"pfox___","message":"maybe you guys would be interested, even","date":"2012-03-30T15:38:40.983Z","type":"message"}
{"nick":"pfox___","message":"spawns two loops in different tasks.. one's a tcp server, the other's a tcp client.. and the client makes a request to the server.. then both emit the counter-party's req/resp, respsectively, via rust channels, which we assert on at the end","date":"2012-03-30T15:39:39.712Z","type":"message"}
{"nick":"pfox___","message":"good times, good times.","date":"2012-03-30T15:39:43.767Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: Wrong and Wrong","date":"2012-03-30T15:42:45.662Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if it gets gc'ed we will segfault","date":"2012-03-30T15:42:56.470Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: and indeed you don't have to make Null and Undefined a Local<Handle>","date":"2012-03-30T15:43:16.185Z","type":"message"}
{"nick":"piscisaureus_","message":"(nor True, False)","date":"2012-03-30T15:43:20.830Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but if you create an array of locals you can't just add a Handle<Value> to it because the compiler will reject it","date":"2012-03-30T15:43:43.814Z","type":"message"}
{"nick":"isaacs","message":"ahh","date":"2012-03-30T15:43:52.706Z","type":"message"}
{"nick":"isaacs","message":"but if you have a Local<Value> foo = Null(); then that creates a local value, right?","date":"2012-03-30T15:45:12.282Z","type":"message"}
{"nick":"isaacs","message":"or do you actually have to do Local<Value> foo = Local<Value>::New(Null())","date":"2012-03-30T15:45:42.410Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: *shrug* I don't know","date":"2012-03-30T15:48:11.485Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if the compiler rejects (1) I'd replace it by (2)","date":"2012-03-30T15:48:21.936Z","type":"message"}
{"nick":"isaacs","message":"yeah, guess it's just ugly noise.","date":"2012-03-30T15:48:48.122Z","type":"message"}
{"nick":"isaacs","message":"c++ is always ugly","date":"2012-03-30T15:48:51.738Z","type":"message"}
{"nick":"kohai","message":"c has 8 beers","date":"2012-03-30T15:48:51.941Z","type":"message"}
{"nick":"isaacs","message":"it's all those beers","date":"2012-03-30T15:48:54.552Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think the compiler would reject \u000301 Local<Value> foo = Null()\u0003\u000301","date":"2012-03-30T15:49:09.050Z","type":"message"}
{"nick":"isaacs","message":"hm.  ok","date":"2012-03-30T15:49:23.549Z","type":"message"}
{"nick":"TooTallNate","date":"2012-03-30T15:51:33.944Z","type":"join"}
{"nick":"AndreasMadsen","date":"2012-03-30T15:55:57.723Z","type":"join"}
{"nick":"isaacs","message":"the SlabAllocator is nice.  very simple.","date":"2012-03-30T16:02:52.697Z","type":"message"}
{"nick":"`3rdEden","date":"2012-03-30T16:03:56.518Z","type":"join"}
{"nick":"perezd","date":"2012-03-30T16:06:09.404Z","type":"join"}
{"nick":"txdv","reason":"Quit: No Ping reply in 180 seconds.","date":"2012-03-30T16:16:30.279Z","type":"quit"}
{"nick":"txdv","date":"2012-03-30T16:16:45.362Z","type":"join"}
{"nick":"orlandovftw","date":"2012-03-30T16:29:51.727Z","type":"join"}
{"nick":"orlandovftw","reason":"Client Quit","date":"2012-03-30T16:31:42.110Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: igorzi: https://gist.github.com/219a27c7a1ceb9501426 <-- thoughts?","date":"2012-03-30T16:33:14.990Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: igorzi: especially, you like a bitflag better than just [int readable, int writable] ?","date":"2012-03-30T16:33:55.559Z","type":"message"}
{"nick":"k-s[AWAY]","new_nick":"k-s","date":"2012-03-30T16:39:07.339Z","type":"nick"}
{"nick":"isaacs","reason":"Read error: Connection reset by peer","date":"2012-03-30T16:42:40.895Z","type":"quit"}
{"nick":"isaacs_","date":"2012-03-30T16:42:47.804Z","type":"join"}
{"nick":"isaacs_","message":"test, please: http://nodejs.org/dist/v0.7.7/node-v0.7.7-RC0.tar.gz","date":"2012-03-30T16:53:42.146Z","type":"message"}
{"nick":"pietern","date":"2012-03-30T16:54:31.043Z","type":"join"}
{"nick":"piscisaureus_","message":"ok, running it","date":"2012-03-30T17:06:33.383Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: why not have just uv_poll_init that takes uv_platform_socket_t ?","date":"2012-03-30T17:12:35.591Z","type":"message"}
{"nick":"pfox___","message":"is there a way to shortcut a libuv loop safely and tell it to just drop whatever its doing and exit?","date":"2012-03-30T17:12:57.834Z","type":"message"}
{"nick":"pfox___","message":"like, that you could call from within a uv_async cb or something to make sure its on the loop's thread","date":"2012-03-30T17:13:11.235Z","type":"message"}
{"nick":"igorzi","message":"AndreasMadsen: hey.. the patch to enable passing tcp connections over ipc got landed yesterday","date":"2012-03-30T17:14:07.872Z","type":"message"}
{"nick":"AndreasMadsen","message":"igorzi: oh, nice - I will test the my JS patch later today then.","date":"2012-03-30T17:17:37.128Z","type":"message"}
{"nick":"AndreasMadsen","message":"igorzi: Is it no joyent/node/master or should I also clone libuv?","date":"2012-03-30T17:18:06.445Z","type":"message"}
{"nick":"AndreasMadsen","message":"s/no/on/","date":"2012-03-30T17:18:14.476Z","type":"message"}
{"nick":"AndreasMadsen","message":"By the way I have reproduced the eio failure on this env: https://github.com/joyent/node/commit/6aa755070a5d89f5adeb6d53e6eea6fbf49a6bb7#commitcomment-1153702","date":"2012-03-30T17:19:49.114Z","type":"message"}
{"nick":"igorzi","message":"AndreasMadsen: it's in joyent/libuv/master now.. but i'll upgrade libuv in node shortly","date":"2012-03-30T17:22:15.650Z","type":"message"}
{"nick":"igorzi","message":"isaacs piscisaureus_: any objections? ^","date":"2012-03-30T17:22:30.290Z","type":"message"}
{"nick":"orlandovftw","date":"2012-03-30T17:23:11.059Z","type":"join"}
{"nick":"AndreasMadaen","date":"2012-03-30T17:23:44.490Z","type":"join"}
{"nick":"AndreasMadaen","reason":"Client Quit","date":"2012-03-30T17:23:54.378Z","type":"quit"}
{"nick":"AndreasM","date":"2012-03-30T17:24:11.458Z","type":"join"}
{"nick":"isaacs_","message":"igorzi: i don't object, no.","date":"2012-03-30T17:26:10.824Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-30T17:26:15.906Z","type":"join"}
{"nick":"isaacs_","message":"but it's going to be in 0.7.8 at the earliest","date":"2012-03-30T17:26:16.836Z","type":"message"}
{"nick":"saghul","message":"pfox___ nope, I'd also like to have something like that. Looks like if that uv_walk debug tool could help there, when/if it's finished","date":"2012-03-30T17:26:22.654Z","type":"message"}
{"nick":"isaacs_","message":"unless you think it's worth pulling into the release branch as well","date":"2012-03-30T17:26:35.750Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ In case you want more opinions, I'd go for the bitfield :-)","date":"2012-03-30T17:28:02.417Z","type":"message"}
{"nick":"igorzi","message":"isaacs_: nope.. 0.7.8 is fine","date":"2012-03-30T17:28:09.779Z","type":"message"}
{"nick":"isaacs_","message":"k","date":"2012-03-30T17:28:51.093Z","type":"message"}
{"nick":"isaacs_","new_nick":"isaacs","date":"2012-03-30T17:29:01.860Z","type":"nick"}
{"nick":"isaacs","message":"TooTallNate: https://github.com/isaacs/gyp-reader","date":"2012-03-30T17:30:26.601Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: yeah I though of that too.","date":"2012-03-30T17:30:46.862Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: why do you prefer the bitfield though>","date":"2012-03-30T17:30:59.676Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the debugger tests crash for me","date":"2012-03-30T17:31:35.010Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what os?","date":"2012-03-30T17:31:57.173Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: nice :)","date":"2012-03-30T17:32:03.020Z","type":"message"}
{"nick":"TooTallNate","message":"i will use","date":"2012-03-30T17:32:06.755Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: guess","date":"2012-03-30T17:32:12.543Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ if I read a line like this: uv_poll_start(handle, 1, 0, cb) it's not obvious what the parameter order is ","date":"2012-03-30T17:32:14.376Z","type":"message"}
{"nick":"isaacs","message":"hah","date":"2012-03-30T17:32:15.534Z","type":"message"}
{"nick":"isaacs","message":"just checking","date":"2012-03-30T17:32:17.478Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: does the debugger work, if you just run it normally?","date":"2012-03-30T17:32:30.181Z","type":"message"}
{"nick":"isaacs","message":"that test is super annoying.","date":"2012-03-30T17:32:38.136Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ uv_poll_start(handle, UV_POLL_READ|UV_POLL_WRITE, cb) is more readable IMHO :-)","date":"2012-03-30T17:32:44.306Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: *all* the debugger tests crash","date":"2012-03-30T17:32:50.214Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: typically, if one crashes, the rest all will","date":"2012-03-30T17:33:10.693Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: can you gist the output?","date":"2012-03-30T17:33:14.926Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but yeah the debugger works","date":"2012-03-30T17:33:20.162Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: there's a race condition somewhere with the debugger, and i suspect it's going to require some powerful v8 mojo to sort it out","date":"2012-03-30T17:33:55.353Z","type":"message"}
{"nick":"AndreasM","reason":"Remote host closed the connection","date":"2012-03-30T17:34:04.893Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: https://gist.github.com/802601f13f22e1ed48b4","date":"2012-03-30T17:34:19.041Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i added a 50ms timeout in src/node.js for this reason, but it's sometimes not enough when the tests are running","date":"2012-03-30T17:34:31.396Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh!! the *repl* tests are failing!","date":"2012-03-30T17:35:00.019Z","type":"message"}
{"nick":"isaacs","message":"that's different","date":"2012-03-30T17:35:02.308Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I will try to locate the crash site","date":"2012-03-30T17:35:25.650Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: ^","date":"2012-03-30T17:35:53.537Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: is it only in debug, or in release as well?","date":"2012-03-30T17:36:25.470Z","type":"message"}
{"nick":"TooTallNate","message":"i'll try the tests on windows too","date":"2012-03-30T17:36:30.095Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u00026aa7f6f\u000f \u000310\u000f/ (44 files in 8 dirs)\u0002:\u000f upgrade libuv to ab8c3b85c1 - http://git.io/9nGXUg","date":"2012-03-30T17:37:24.905Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this seems to be the issue","date":"2012-03-30T17:37:43.016Z","type":"message"}
{"nick":"piscisaureus_","message":"# Fatal error in d:\\node-v0.7.7\\deps\\v8\\src\\api.h, line 453","date":"2012-03-30T17:37:44.227Z","type":"message"}
{"nick":"piscisaureus_","message":"# CHECK(entered_contexts_.length() == 0) failed","date":"2012-03-30T17:37:44.428Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: It calls v8::Dispose()","date":"2012-03-30T17:38:33.702Z","type":"message"}
{"nick":"piscisaureus_","message":"it asserts that entered_contexts == 0","date":"2012-03-30T17:39:15.655Z","type":"message"}
{"nick":"piscisaureus_","message":"but in fact, it is 16","date":"2012-03-30T17:39:19.850Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: where are we calling that from?","date":"2012-03-30T17:40:18.145Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: node.cc:2802","date":"2012-03-30T17:40:42.846Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so yeah it would only happen in debug mode","date":"2012-03-30T17:40:52.388Z","type":"message"}
{"nick":"piscisaureus_","message":"the question is: why is that there and why does it assert?","date":"2012-03-30T17:41:00.851Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and also, why are we calling V8::Dispose()?","date":"2012-03-30T17:41:25.388Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: good question.","date":"2012-03-30T17:41:47.627Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think it is there to catch bugs :_)","date":"2012-03-30T17:41:58.671Z","type":"message"}
{"nick":"isaacs","message":"haha","date":"2012-03-30T17:42:02.406Z","type":"message"}
{"nick":"isaacs","message":"fair enough","date":"2012-03-30T17:42:05.608Z","type":"message"}
{"nick":"isaacs","message":"so, if it's not debug, then we call context.Dispose()","date":"2012-03-30T17:42:15.481Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: read again","date":"2012-03-30T17:42:42.127Z","type":"message"}
{"nick":"isaacs","message":"oh, right","date":"2012-03-30T17:43:07.465Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well this could actually be caused by Ben's slab allocator patch","date":"2012-03-30T17:45:07.683Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: how?  it's not in this release?","date":"2012-03-30T17:46:04.950Z","type":"message"}
{"nick":"perezd","reason":"Read error: Connection reset by peer","date":"2012-03-30T17:46:13.586Z","type":"quit"}
{"nick":"piscisaureus_","message":"in that case, that's probably not the case :-)","date":"2012-03-30T17:46:18.712Z","type":"message"}
{"nick":"perezd","date":"2012-03-30T17:46:49.571Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: aah it's not the Dispose() call that does it","date":"2012-03-30T17:47:05.248Z","type":"message"}
{"nick":"piscisaureus_","message":"its the Locker destructor","date":"2012-03-30T17:47:15.663Z","type":"message"}
{"nick":"isaacs","message":"should we be V8::Dispose()ing before the locker dies?","date":"2012-03-30T17:48:02.998Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-03-30T17:48:19.542Z","type":"message"}
{"nick":"piscisaureus_","message":"on the contrary","date":"2012-03-30T17:48:24.313Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think that the debugger tests somehow enter v8 contexts that are not properly disposed","date":"2012-03-30T17:48:43.269Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well maybe I should just bisect it","date":"2012-03-30T17:48:59.157Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm willing to bet it's 5e8c2b0","date":"2012-03-30T17:49:47.171Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or it's the last time we updated v8","date":"2012-03-30T17:52:08.050Z","type":"message"}
{"nick":"isaacs","message":"4b64542","date":"2012-03-30T17:52:26.401Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T17:52:48.287Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#669 (master - 6aa7f6f : Igor Zinkovsky): The build is still failing.","date":"2012-03-30T17:52:48.489Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/1752443...6aa7f6f","date":"2012-03-30T17:52:48.489Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/983223","date":"2012-03-30T17:52:48.490Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T17:52:48.490Z","type":"part"}
{"nick":"isaacs","message":"piscisaureus_: all the repl tests work for me","date":"2012-03-30T17:53:52.857Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: also in debug mode?","date":"2012-03-30T17:54:05.038Z","type":"message"}
{"nick":"isaacs","message":"oh, derp.","date":"2012-03-30T17:55:25.701Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-03-30T17:55:27.467Z","type":"message"}
{"nick":"paddybyers_","date":"2012-03-30T17:56:15.840Z","type":"join"}
{"nick":"brson","date":"2012-03-30T17:58:22.299Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 246 seconds","date":"2012-03-30T17:58:26.856Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-03-30T17:58:27.056Z","type":"nick"}
{"nick":"piscisaureus_","message":"writing a bisect script","date":"2012-03-30T17:59:16.407Z","type":"message"}
{"nick":"piscisaureus_","message":"I wish git bisect was smarter","date":"2012-03-30T18:04:14.512Z","type":"message"}
{"nick":"tjfontaine","message":"in what regard?","date":"2012-03-30T18:04:26.551Z","type":"message"}
{"nick":"piscisaureus_","message":"It keeps on recompiling for me\\","date":"2012-03-30T18:05:08.770Z","type":"message"}
{"nick":"piscisaureus_","message":"it should try to minimize tree differences between tries","date":"2012-03-30T18:05:18.659Z","type":"message"}
{"nick":"piscisaureus_","message":"or whatever I want to have a little more control","date":"2012-03-30T18:05:36.683Z","type":"message"}
{"nick":"piscisaureus_","message":"this is going to take ages","date":"2012-03-30T18:05:41.809Z","type":"message"}
{"nick":"tjfontaine","message":"ccache? :P","date":"2012-03-30T18:06:23.219Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: isaacs: AndreasMadsen:","date":"2012-03-30T18:19:22.307Z","type":"message"}
{"nick":"piscisaureus_","message":"Cluster: the 'exit' event is renamed to 'death'\"","date":"2012-03-30T18:19:22.505Z","type":"message"}
{"nick":"piscisaureus_","message":"I think I'd rather just have that called \"exit\"","date":"2012-03-30T18:19:30.988Z","type":"message"}
{"nick":"isaacs","message":"yeah, that makes sense","date":"2012-03-30T18:20:00.884Z","type":"message"}
{"nick":"isaacs","message":"less morbid, more like ChildProcess","date":"2012-03-30T18:20:07.551Z","type":"message"}
{"nick":"dshaw_","date":"2012-03-30T18:20:21.376Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: the end/exit api change was landed right?","date":"2012-03-30T18:21:11.519Z","type":"message"}
{"nick":"piscisaureus_","message":"(for child processes)","date":"2012-03-30T18:21:15.810Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: close/exit.  yes","date":"2012-03-30T18:21:24.104Z","type":"message"}
{"nick":"piscisaureus_","message":"close?","date":"2012-03-30T18:21:29.070Z","type":"message"}
{"nick":"isaacs","message":"yes","date":"2012-03-30T18:22:10.887Z","type":"message"}
{"nick":"isaacs","message":"close is when the stdio is closed.","date":"2012-03-30T18:22:17.419Z","type":"message"}
{"nick":"isaacs","message":"exit is when the process exits","date":"2012-03-30T18:22:22.833Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah I was just adding that line to the api changes document","date":"2012-03-30T18:22:47.229Z","type":"message"}
{"nick":"piscisaureus_","message":"I have the uneasy feeling that there's twice as much api changes as documented","date":"2012-03-30T18:23:02.100Z","type":"message"}
{"nick":"stephank","date":"2012-03-30T18:23:32.614Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: what other api changes aren't documented?","date":"2012-03-30T18:23:45.906Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh, you mean the 0.6->0.8 thing?","date":"2012-03-30T18:23:51.916Z","type":"message"}
{"nick":"piscisaureus_","message":"if only I knew","date":"2012-03-30T18:23:54.375Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-30T18:23:56.143Z","type":"message"}
{"nick":"isaacs","message":"or the ChangeLog?","date":"2012-03-30T18:23:56.507Z","type":"message"}
{"nick":"isaacs","message":"yeah, having a 'death' event is unnecessarily increasing the semantics.","date":"2012-03-30T18:24:17.541Z","type":"message"}
{"nick":"isaacs","message":"sorry, i should've caught that","date":"2012-03-30T18:24:23.369Z","type":"message"}
{"nick":"isaacs","message":"but, as far as i'm concerned, i'm pretty much ok just saying that cluster is rewritten, and a new thing now, so read the docs.","date":"2012-03-30T18:24:44.736Z","type":"message"}
{"nick":"isaacs","message":"it's mostly compatible, but the 0.6 cluster doesn't really have much to it anyway","date":"2012-03-30T18:25:08.642Z","type":"message"}
{"nick":"isaacs","message":"Debug\\node.exe test\\simple\\test-repl.js fails","date":"2012-03-30T18:25:23.847Z","type":"message"}
{"nick":"isaacs","message":"# Fatal error in c:\\node-v0.7.7\\deps\\v8\\src\\api.h, line 453","date":"2012-03-30T18:25:35.148Z","type":"message"}
{"nick":"isaacs","message":"# CHECK(entered_contexts_.length() == 0) failed","date":"2012-03-30T18:25:35.343Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-30T18:30:27.926Z","type":"quit"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-03-30T18:31:07.629Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: bisecting tells me that 11d1eca9f3c465045828e3a00b103620c8253258 is the bad commit","date":"2012-03-30T18:31:15.655Z","type":"message"}
{"nick":"piscisaureus_","message":"which dates back aug 10","date":"2012-03-30T18:31:27.839Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think it could be 9a6012ed","date":"2012-03-30T18:32:38.101Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, here's what i'm thinking:","date":"2012-03-30T18:33:42.028Z","type":"message"}
{"nick":"isaacs","message":"it's only broken when in debug mode (but indicates a bug, no doubt)","date":"2012-03-30T18:33:56.854Z","type":"message"}
{"nick":"isaacs","message":"and 2) it's an unstable release.","date":"2012-03-30T18:34:06.052Z","type":"message"}
{"nick":"isaacs","message":"so, let's log it as an issue and move on, i think.","date":"2012-03-30T18:34:13.454Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok I see where you're going","date":"2012-03-30T18:34:14.172Z","type":"message"}
{"nick":"piscisaureus_","message":"fine","date":"2012-03-30T18:34:15.055Z","type":"message"}
{"nick":"isaacs","message":"fix for 0.7.8","date":"2012-03-30T18:34:16.989Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: did you test windows?","date":"2012-03-30T18:34:24.763Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah","date":"2012-03-30T18:34:28.823Z","type":"message"}
{"nick":"piscisaureus_","message":"alright, so then it's fine","date":"2012-03-30T18:34:36.249Z","type":"message"}
{"nick":"isaacs","message":"some breakage, some of it silly, some of it concerning, but none of it new except this","date":"2012-03-30T18:34:40.298Z","type":"message"}
{"nick":"piscisaureus_","message":"(I lost my test output)","date":"2012-03-30T18:34:42.066Z","type":"message"}
{"nick":"isaacs","message":"but i am not going to be spending jsconf doing a build :)","date":"2012-03-30T18:34:57.105Z","type":"message"}
{"nick":"piscisaureus_","message":"ah I se","date":"2012-03-30T18:35:04.899Z","type":"message"}
{"nick":"piscisaureus_","message":"*see","date":"2012-03-30T18:35:06.831Z","type":"message"}
{"nick":"piscisaureus_","message":"it's jsconf now","date":"2012-03-30T18:35:12.838Z","type":"message"}
{"nick":"piscisaureus_","message":"is it good?","date":"2012-03-30T18:35:16.019Z","type":"message"}
{"nick":"isaacs","message":"no, it's jsconf on monday","date":"2012-03-30T18:35:22.909Z","type":"message"}
{"nick":"isaacs","message":"but if this takes a few days to fix, then it gets annoying.","date":"2012-03-30T18:35:44.279Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, agreed","date":"2012-03-30T18:35:53.110Z","type":"message"}
{"nick":"piscisaureus_","message":"releases are pretty smooth lately","date":"2012-03-30T18:36:01.229Z","type":"message"}
{"nick":"piscisaureus_","message":"(for me, that is)","date":"2012-03-30T18:36:05.636Z","type":"message"}
{"nick":"piscisaureus_","message":"so either they really got smoother, or you are bearing the pain on your own","date":"2012-03-30T18:36:19.740Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: there's an issue with libuv - uv_tcp_close is still being used","date":"2012-03-30T18:40:54.769Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: where?","date":"2012-03-30T18:41:58.840Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: uv_close @@ handle_close","date":"2012-03-30T18:42:14.037Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I wonder if you forgot to commit something","date":"2012-03-30T18:42:21.493Z","type":"message"}
{"nick":"piscisaureus_","message":"er uv_close @ src/win/handle.c","date":"2012-03-30T18:42:36.411Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: pushing for test passing makes a big difference.","date":"2012-03-30T18:42:52.735Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: like, day-to-day tests passing","date":"2012-03-30T18:43:06.689Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-30T18:43:14.110Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: that was part of yesterday's commit","date":"2012-03-30T18:43:22.868Z","type":"message"}
{"nick":"CoverSli1e","date":"2012-03-30T18:43:40.238Z","type":"join"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-03-30T18:43:46.528Z","type":"message"}
{"nick":"piscisaureus_","message":"ah now I get it","date":"2012-03-30T18:43:51.027Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: probably there is no header for uv_tcp_close","date":"2012-03-30T18:43:59.033Z","type":"message"}
{"nick":"piscisaureus_","message":"because I get a function not defined warning but in the end it all links fine","date":"2012-03-30T18:44:21.892Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ahh crap, i must have removed it from internal.h","date":"2012-03-30T18:44:48.916Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i'll fix it","date":"2012-03-30T18:44:52.273Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: nice, thanks","date":"2012-03-30T18:44:59.802Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah 9a6012edd9330296b7476bc6b7fbda2cd5c8165d is the culprit","date":"2012-03-30T18:45:25.839Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so.. what is that Locker thing, anyway?  do you know?","date":"2012-03-30T18:46:04.529Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i thought that was some thread-safe thingie that Marcel Laverdet added so that fibers would work.","date":"2012-03-30T18:46:24.297Z","type":"message"}
{"nick":"isaacs","message":"but if it's breaking node, then really, i could not care less about fibers.","date":"2012-03-30T18:46:31.709Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't know","date":"2012-03-30T18:46:53.964Z","type":"message"}
{"nick":"CoverSlide","reason":"Read error: Operation timed out","date":"2012-03-30T18:47:31.940Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: actually that commits adds the context.Dispose call that crashes","date":"2012-03-30T18:47:42.929Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-03-30T18:47:54.776Z","type":"message"}
{"nick":"piscisaureus_","message":"let's put a comment in it for the time being","date":"2012-03-30T18:47:57.415Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it moves the context.Dispose() up into the higher scope","date":"2012-03-30T18:49:01.834Z","type":"message"}
{"nick":"piscisaureus_","message":"well hmm he just seems to have moded the statement","date":"2012-03-30T18:49:05.221Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: right","date":"2012-03-30T18:49:19.846Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm gonna email Marcel and ask him about it","date":"2012-03-30T18:49:28.159Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or you can, if you want","date":"2012-03-30T18:49:43.009Z","type":"message"}
{"nick":"isaacs","message":"but really, supporting multi-threaded extensions is pretty far down on the \"nice to have\" list, imo","date":"2012-03-30T18:50:10.238Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u00024360018\u000f \u000310\u000f/ src/win/internal.h \u0002:\u000f add missing uv_tcp_close declaration - http://git.io/knFvIw","date":"2012-03-30T18:50:36.493Z","type":"message"}
{"nick":"mmalecki[plane]","new_nick":"mmalecki","date":"2012-03-30T18:52:32.090Z","type":"nick"}
{"nick":"travis-ci","date":"2012-03-30T18:52:36.073Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#158 (master - 4360018 : Igor Zinkovsky): The build is still failing.","date":"2012-03-30T18:52:36.270Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/ab8c3b8...4360018","date":"2012-03-30T18:52:36.270Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/983866","date":"2012-03-30T18:52:36.270Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T18:52:36.270Z","type":"part"}
{"nick":"TooTallNate","message":"isaacs: nice, i just got node-gyp support for libxmljs. and removed the preinstall and install phases :)","date":"2012-03-30T18:53:37.238Z","type":"message"}
{"nick":"isaacs","message":"sweet :)","date":"2012-03-30T18:53:44.300Z","type":"message"}
{"nick":"TooTallNate","message":"slowly but surely, that list is shrinking :p","date":"2012-03-30T18:53:52.857Z","type":"message"}
{"nick":"isaacs","message":"that's really really awesome","date":"2012-03-30T18:54:02.780Z","type":"message"}
{"nick":"TooTallNate","message":"it's hard preaching static libraries to people that don't give a shit about windows though :\\","date":"2012-03-30T18:57:23.789Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u000269ae75c\u000f \u000310\u000f/ (101 files in 8 dirs)\u0002:\u000f Merge branch 'v0.7.7-release' - http://git.io/z0tPGg","date":"2012-03-30T18:59:43.390Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u00028d3278b\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on 0.7.8 - http://git.io/LCM2bg","date":"2012-03-30T18:59:43.589Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: tell them it's the Node Way","date":"2012-03-30T19:00:10.743Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it's not just windows, it's any system that doesn't have that particular library already installed.","date":"2012-03-30T19:00:37.410Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: indeed. libxml2 is a big one so it's kinda tough. https://github.com/polotek/libxmljs/pull/126#issuecomment-4848659","date":"2012-03-30T19:00:56.661Z","type":"message"}
{"nick":"tjfontaine","message":"which is why we need a mechanism to check for libraries in pre-install, bundling all of llvm+clang or imagemagick is an absurd concept for two of my modules","date":"2012-03-30T19:04:33.332Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: hm.  what if you published imagemagick to the npm registry?","date":"2012-03-30T19:05:42.474Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: then you could just depend on it.","date":"2012-03-30T19:05:47.235Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: since it will hardly ever change, it's not that big a deal, really","date":"2012-03-30T19:06:13.727Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: yes, but that's a quite slippery slope you're about to fall down, and if what you want is nodeos then sure go for it","date":"2012-03-30T19:06:15.395Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: for a library like imagemagick?  meh.  i dunno.","date":"2012-03-30T19:06:31.559Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: it's not so bad.","date":"2012-03-30T19:06:34.209Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: then you can just tell gyp to pull imagemagic from ./node_modules/imagemagick/lib/whatever","date":"2012-03-30T19:06:53.587Z","type":"message"}
{"nick":"isaacs","action":"just thinking outside of the box, and in a different box.","date":"2012-03-30T19:07:10.043Z","type":"action"}
{"nick":"tjfontaine","message":"isaacs: no, it's a precedent, and you'll start seeing other large libraries, and a lot of duplicated work since there are existing mechanisms to install it on !windows","date":"2012-03-30T19:07:14.101Z","type":"message"}
{"nick":"isaacs","topic":"Liberty. Unity. Velocity.","date":"2012-03-30T19:07:27.486Z","type":"topic"}
{"nick":"tjfontaine","message":"I mean, if that's what the plan is then that's what the plan is, but I just see it as a lot of work for you","date":"2012-03-30T19:07:52.601Z","type":"message"}
{"nick":"tjfontaine","message":"because some of the licensing would require you to be the mechanism for source distribution as well, and not just link to the source","date":"2012-03-30T19:08:18.730Z","type":"message"}
{"nick":"tjfontaine","message":"see the debian/ubuntu derivatives that got in trouble for just pointing upstream","date":"2012-03-30T19:09:06.607Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: duplicated work?","date":"2012-03-30T19:09:07.241Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: oh, right... yeah, i really don't want anyone putting any AGPL bullshit in the npm repo","date":"2012-03-30T19:09:37.967Z","type":"message"}
{"nick":"tjfontaine","message":"duplicated in the sense that dpkg/apt, rpm/yum, ports, brew etc exist for !windows, regardless of how you feel about their versioning mechanism, they have distribution mechanisms and content delivery solutions that are not YourProblem(tm)","date":"2012-03-30T19:11:19.673Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T19:14:34.019Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#670 (master - 8d3278b : isaacs): The build is still failing.","date":"2012-03-30T19:14:34.220Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/6aa7f6f...8d3278b","date":"2012-03-30T19:14:34.220Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/983945","date":"2012-03-30T19:14:34.221Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T19:14:34.221Z","type":"part"}
{"nick":"isaacs","message":"tjfontaine: right, but \"Y sucks on X\", for all X in {Windows, Linux, SmartOS, OS X} and all Y in {Node, npm} absolutely IS my problem","date":"2012-03-30T19:15:33.936Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the nuclear option, of course, is that scripts.install will simply not be run in some future version of npm/node, and node-gyp will simply not link to any assets that are not delivered in a manner that is suitable to all node platforms.","date":"2012-03-30T19:16:36.867Z","type":"message"}
{"nick":"pietern","reason":"Ping timeout: 265 seconds","date":"2012-03-30T19:16:40.987Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: or, perhaps, node-imagemagick will never ever work on windows, and thus will never be featured in npm search, and it and any module that depends on it will get a lower score.","date":"2012-03-30T19:17:26.769Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: or we figure out a way to make it work on windows :)","date":"2012-03-30T19:17:43.525Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: so \"punish\" those of us who don't want to support the minority? :)","date":"2012-03-30T19:18:02.055Z","type":"message"}
{"nick":"isaacs","message":"some things, of course, like inotify or zsock, are just fundamentally platform-specific","date":"2012-03-30T19:18:09.651Z","type":"message"}
{"nick":"isaacs","message":"but imagemagick is not","date":"2012-03-30T19:18:12.113Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: you think windows users are a minority?","date":"2012-03-30T19:18:22.182Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: there are more dependencies to imagemagick than itself, it's a dependency hell, regardless of where the responsibility is","date":"2012-03-30T19:18:33.576Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: windows is not the minority.","date":"2012-03-30T19:18:59.020Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: our goal is nothing short of total world domination.  most of the world's developers use windows.","date":"2012-03-30T19:20:04.433Z","type":"message"}
{"nick":"isaacs","message":"and even more of the world's non-developers use windows, and will become developers if we make it easy enough.","date":"2012-03-30T19:20:42.083Z","type":"message"}
{"nick":"tjfontaine","message":"are there numbers for break down of node developers by platform?","date":"2012-03-30T19:20:46.918Z","type":"message"}
{"nick":"tjfontaine","message":"I'm speaking about node, not what the goals are","date":"2012-03-30T19:20:56.684Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: re https://gist.github.com/219a27c7a1ceb9501426 <- a flag would free up a register on most archs","date":"2012-03-30T19:21:22.373Z","type":"message"}
{"nick":"bnoordhuis","message":"something of a micro-optimization though","date":"2012-03-30T19:21:29.290Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah saghul also wanted a falg","date":"2012-03-30T19:22:12.193Z","type":"message"}
{"nick":"piscisaureus_","message":"*flag","date":"2012-03-30T19:22:13.764Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: what would cause \"unknown error\" when trying to require a native module on windows?","date":"2012-03-30T19:22:20.830Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs, piscisaureus_: what is the issue with Locker?","date":"2012-03-30T19:22:35.555Z","type":"message"}
{"nick":"bnoordhuis","message":"also, yes, rename 'death' to 'exit' (re: cluster)","date":"2012-03-30T19:23:17.963Z","type":"message"}
{"nick":"isaacs","message":"ok, i'm renaming death to exit","date":"2012-03-30T19:23:35.055Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: try test/simple/test-repl on the latest master *in debug mode*","date":"2012-03-30T19:23:51.313Z","type":"message"}
{"nick":"bnoordhuis","message":"have you guys noticed how nicely warning free the build is?","date":"2012-03-30T19:25:30.732Z","type":"message"}
{"nick":"isaacs","message":"review? https://github.com/isaacs/node/commit/73fc34b857b7f80886c1de79f63b670b8bef219e","date":"2012-03-30T19:25:40.865Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, CHECK(entered_contexts_.length() == 0) - yes, i've seen that one before","date":"2012-03-30T19:25:57.878Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i did notice that it's not talking asmuch.  i thought it was just mad and not speaking to me.","date":"2012-03-30T19:26:08.206Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: lgtm but you've missed the tests","date":"2012-03-30T19:26:33.422Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-30T19:26:41.870Z","type":"join"}
{"nick":"creationix","message":"I want an freaddir (fd version of readdir)","date":"2012-03-30T19:28:27.132Z","type":"message"}
{"nick":"creationix","message":"could that be added to libuv and future versions of node?","date":"2012-03-30T19:28:36.193Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis I get warnings about __unused being undefined in Darwin","date":"2012-03-30T19:29:29.568Z","type":"message"}
{"nick":"creationix","message":"also streaming readdir would be nice","date":"2012-03-30T19:29:31.642Z","type":"message"}
{"nick":"creationix","message":"for folders with *lots* of files","date":"2012-03-30T19:29:39.092Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: can you gist the compiler output?","date":"2012-03-30T19:30:10.456Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis https://gist.github.com/2254287","date":"2012-03-30T19:30:59.408Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: that should be easy to fix, 1 sec","date":"2012-03-30T19:32:01.719Z","type":"message"}
{"nick":"AndreasM","date":"2012-03-30T19:32:55.597Z","type":"join"}
{"nick":"bnoordhuis","message":"saghul: can you try this patch? https://gist.github.com/83d98e1e584b7df02ee5","date":"2012-03-30T19:33:28.315Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok so do you know how to debug the context issue?","date":"2012-03-30T19:38:08.977Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: https://github.com/isaacs/node/commit/master","date":"2012-03-30T19:38:14.902Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00027c02b5a\u000f \u000310\u000f/ src/udp_wrap.cc \u0002:\u000f udp_wrap: simplify AddressToJS() function (+11 more commits...) - http://git.io/vdigoQ","date":"2012-03-30T19:38:19.692Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: actually I think it is the Locker destructor that triggers it","date":"2012-03-30T19:38:22.905Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: that wouldn't surprise me, it's been giving trouble in the past","date":"2012-03-30T19:38:49.111Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so my suspicion is that it happens if you create VM contexts that are not disposed","date":"2012-03-30T19:39:14.476Z","type":"message"}
{"nick":"bnoordhuis","message":"i reverted the initial patch, marcel laverdet later submitted a PR that did work","date":"2012-03-30T19:39:14.885Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think if we would force a full gc just before that it might actually work","date":"2012-03-30T19:39:39.051Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: lgtm. does it work? :)","date":"2012-03-30T19:39:39.431Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes... that's kind of difficult to force though","date":"2012-03-30T19:40:04.744Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it's not but I don't like it conceptually","date":"2012-03-30T19:40:23.030Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: rather we should just revert, open a node issue, and tell @laverdet to fix it","date":"2012-03-30T19:40:49.975Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: how? (to gc)","date":"2012-03-30T19:40:57.487Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't know","date":"2012-03-30T19:41:05.541Z","type":"message"}
{"nick":"piscisaureus_","message":"he should figure it out","date":"2012-03-30T19:41:12.943Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right","date":"2012-03-30T19:41:16.943Z","type":"message"}
{"nick":"bnoordhuis","message":"sure, revert it","date":"2012-03-30T19:41:19.952Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe it's not even possible","date":"2012-03-30T19:41:22.474Z","type":"message"}
{"nick":"piscisaureus_","message":"what if you run setInterval() in a vm context and then process.exit the thing?","date":"2012-03-30T19:41:48.480Z","type":"message"}
{"nick":"piscisaureus_","message":"gc won't help","date":"2012-03-30T19:41:50.775Z","type":"message"}
{"nick":"AndreasMadsen","message":"issacs: I'm fine with renaming death to exit, just as long cluster.on and worker.on use the same event name. But you should know that it will result in just another API change from 0.6, since the event names was cluster.on('death') and worker.on('exit').","date":"2012-03-30T19:42:27.344Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: yeah, that's fine.","date":"2012-03-30T19:42:51.144Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: nvm on the msjava.dll thing, we figured it out","date":"2012-03-30T19:42:55.749Z","type":"message"}
{"nick":"AndreasM","reason":"Remote host closed the connection","date":"2012-03-30T19:43:01.515Z","type":"quit"}
{"nick":"isaacs","message":"AndreasMadsen: i'm ok with api changes, as long as it increases consistency","date":"2012-03-30T19:43:04.744Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: but \"unknown error\" sure is annoying. not quite sure where it comes from","date":"2012-03-30T19:43:09.503Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: No problem then, I just needed to make sure you knew.","date":"2012-03-30T19:44:49.087Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: can you gist me some code that triggers the UNKNOWN error?","date":"2012-03-30T19:45:15.462Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: the hello world addon in the repo used to do it before we added NODE_MODULE()","date":"2012-03-30T19:47:09.100Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: https://github.com/joyent/node/tree/3f1f2d149724b617418ac2212ac829b12b50d321/test/addons/hello-world","date":"2012-03-30T19:47:10.339Z","type":"message"}
{"nick":"TooTallNate","message":"but apparently there's still modules out there not using that macro","date":"2012-03-30T19:47:31.558Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000279675d5\u000f \u000310\u000f/ src/node.cc \u0002:\u000f ","date":"2012-03-30T19:47:40.503Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Revert \"Re-add top-level v8::Locker\"","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f The locker makes node crash in debug mode sometimes.","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f For example, test/simple/test-repl. triggers it.","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f This reverts commit 9a6012edd9330296b7476bc6b7fbda2cd5c8165d.","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Conflicts:","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f  src/node.cc - http://git.io/dkgSQg","date":"2012-03-30T19:47:40.705Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ok, will look at it. Going for food now","date":"2012-03-30T19:47:49.596Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: cool, thanks","date":"2012-03-30T19:48:07.466Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-03-30T19:48:17.876Z","type":"quit"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00024071815\u000f \u000310\u000f/ src/node.cc \u0002:\u000f ","date":"2012-03-30T19:51:01.316Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Revert \"Re-add top-level v8::Locker\"","date":"2012-03-30T19:51:01.519Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f The locker makes node crash in debug mode sometimes.","date":"2012-03-30T19:51:01.519Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f For example, test/simple/test-repl.js triggers it.","date":"2012-03-30T19:51:01.519Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f This reverts commit 9a6012edd9330296b7476bc6b7fbda2cd5c8165d.","date":"2012-03-30T19:51:01.519Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Conflicts:","date":"2012-03-30T19:51:01.719Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f  src/node.cc - http://git.io/J6kSDg","date":"2012-03-30T19:51:01.719Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: did the patch work for you?","date":"2012-03-30T19:51:28.575Z","type":"message"}
{"nick":"pfox___","message":"so.. an EADDRNOTAVAIL error on windows","date":"2012-03-30T19:54:33.918Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T19:54:37.817Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#671 (master - 7c02b5a : Ben Noordhuis): The build is still failing.","date":"2012-03-30T19:54:38.013Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/8d3278b...7c02b5a","date":"2012-03-30T19:54:38.014Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/984219","date":"2012-03-30T19:54:38.014Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T19:54:38.014Z","type":"part"}
{"nick":"pfox___","message":"what does that mean... inadequate perms?","date":"2012-03-30T19:54:40.611Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis I'll heck now","date":"2012-03-30T19:54:43.316Z","type":"message"}
{"nick":"pfox___","message":"i was kinding to 0.0.0.0 port 8888","date":"2012-03-30T19:54:48.907Z","type":"message"}
{"nick":"pfox___","message":"excuse me","date":"2012-03-30T19:54:55.620Z","type":"message"}
{"nick":"pfox___","message":"actually, it was in uv_tcp_connect","date":"2012-03-30T19:55:00.490Z","type":"message"}
{"nick":"creationix","message":"hmm, we're also missing flstat (lstat with fd)","date":"2012-03-30T19:55:01.799Z","type":"message"}
{"nick":"pfox___","message":"and the server was already set up","date":"2012-03-30T19:55:04.701Z","type":"message"}
{"nick":"pfox___","message":"this code works in linux.. so i guess its an env/perms thing","date":"2012-03-30T19:55:19.352Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis Nice and clean, no more warnings!","date":"2012-03-30T19:56:14.639Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: cool, thanks. i'll merge it","date":"2012-03-30T19:56:46.823Z","type":"message"}
{"nick":"tjfontaine","message":"pfox___: generally you shouldn't try and connect to 0.0.0.0, binding is another story","date":"2012-03-30T19:56:47.027Z","type":"message"}
{"nick":"tjfontaine","message":"pfox___: different platforms treat connecting that way differently","date":"2012-03-30T19:57:01.820Z","type":"message"}
{"nick":"pfox___","message":"so should i connect to 127.0.0.1 ?","date":"2012-03-30T19:57:13.877Z","type":"message"}
{"nick":"tjfontaine","message":"a lot of platforms (mac) treat a connect to 0.0.0.0 as equivalent to 127.0.0.1, so if that's what you meant it should work","date":"2012-03-30T19:57:39.623Z","type":"message"}
{"nick":"tjfontaine","message":"well 0.0.0.0 is \"default route\" or so","date":"2012-03-30T19:58:26.060Z","type":"message"}
{"nick":"bnoordhuis","message":"debian! /usr/bin/env: python: No such file or directory","date":"2012-03-30T19:58:29.701Z","type":"message"}
{"nick":"bnoordhuis","action":"bangs head against table","date":"2012-03-30T19:58:35.309Z","type":"action"}
{"nick":"TooTallNate","message":"lol","date":"2012-03-30T19:59:03.997Z","type":"message"}
{"nick":"tjfontaine","message":"I'm just happy when I can get an environment that requires neither perl or python","date":"2012-03-30T19:59:18.917Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: that happened to me yesterday when i got smartos going","date":"2012-03-30T20:00:20.238Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u000290ce5b3\u000f \u000310\u000f/ (6 files in 3 dirs)\u0002:\u000f cluster: Rename 'death' back to 'exit' - https://github.com/joyent/node/commit/90ce5b3d41a01bfd5793d1d634318fe607fa533c","date":"2012-03-30T20:00:31.312Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T20:03:23.136Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#672 (master - 79675d5 : Bert Belder): The build is still failing.","date":"2012-03-30T20:03:23.336Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/7c02b5a...79675d5","date":"2012-03-30T20:03:23.336Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/984277","date":"2012-03-30T20:03:23.336Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T20:03:23.336Z","type":"part"}
{"nick":"travis-ci","date":"2012-03-30T20:06:32.587Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#673 (master - 4071815 : Bert Belder): The build is still failing.","date":"2012-03-30T20:06:32.790Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/79675d5...4071815","date":"2012-03-30T20:06:32.790Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/984309","date":"2012-03-30T20:06:32.790Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T20:06:32.791Z","type":"part"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-03-30T20:15:23.175Z","type":"quit"}
{"nick":"travis-ci","date":"2012-03-30T20:16:21.036Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#674 (master - 90ce5b3 : isaacs): The build is still failing.","date":"2012-03-30T20:16:21.233Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/4071815...90ce5b3","date":"2012-03-30T20:16:21.234Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/984359","date":"2012-03-30T20:16:21.234Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T20:16:21.234Z","type":"part"}
{"nick":"indexzero","date":"2012-03-30T20:25:38.436Z","type":"join"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00021ab8f5a\u000f \u000310\u000f/ include/uv-private/tree.h \u0002:\u000f ","date":"2012-03-30T20:42:51.728Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Conditionally define __unused.","date":"2012-03-30T20:42:51.930Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Fixes compiler warning '\"__unused\" redefined' on OS X.","date":"2012-03-30T20:42:51.930Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Reported by SaÃºl Ibarra CorretgÃ©. - http://git.io/-16EpQ","date":"2012-03-30T20:42:51.930Z","type":"message"}
{"nick":"mikeal","date":"2012-03-30T20:44:53.412Z","type":"join"}
{"nick":"travis-ci","date":"2012-03-30T20:44:53.612Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#159 (master - 1ab8f5a : Ben Noordhuis): The build is still failing.","date":"2012-03-30T20:44:53.612Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/4360018...1ab8f5a","date":"2012-03-30T20:44:53.612Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/984655","date":"2012-03-30T20:44:53.612Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T20:44:53.613Z","type":"part"}
{"nick":"piscisaureus_","message":"You should not connect to 0.0.0.0","date":"2012-03-30T20:49:35.285Z","type":"message"}
{"nick":"piscisaureus_","message":"wont work on w.","date":"2012-03-30T20:49:44.992Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: --^","date":"2012-03-30T20:50:16.017Z","type":"message"}
{"nick":"kohai","message":"pfox___ has -1 beer","date":"2012-03-30T20:50:16.219Z","type":"message"}
{"nick":"piscisaureus_","message":"HE","date":"2012-03-30T20:50:22.006Z","type":"message"}
{"nick":"bnoordhuis","message":"aww","date":"2012-03-30T20:50:30.203Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___++","date":"2012-03-30T20:50:31.696Z","type":"message"}
{"nick":"kohai","message":"pfox___ has 0 beer","date":"2012-03-30T20:50:32.182Z","type":"message"}
{"nick":"bnoordhuis","message":"what good are zero beers?","date":"2012-03-30T20:50:42.007Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___++","date":"2012-03-30T20:50:44.748Z","type":"message"}
{"nick":"kohai","message":"pfox___ has 1 beer","date":"2012-03-30T20:50:44.950Z","type":"message"}
{"nick":"theCole","date":"2012-03-30T20:52:24.933Z","type":"join"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002c26a0b5\u000f \u000310\u000f/ doc/api/cluster.markdown \u0002:\u000f doc: fix grammar error in cluster docs - http://git.io/9PzrbQ","date":"2012-03-30T20:55:02.145Z","type":"message"}
{"nick":"sh1mmer","date":"2012-03-30T20:55:19.796Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-30T20:58:18.829Z","type":"quit"}
{"nick":"perezd","date":"2012-03-30T21:06:54.081Z","type":"join"}
{"nick":"mikeal","date":"2012-03-30T21:07:28.092Z","type":"join"}
{"nick":"pfox___","message":"my ill-gotten beers","date":"2012-03-30T21:08:32.493Z","type":"message"}
{"nick":"pfox___","message":"piscisaureus_: so can i just connect to 127.0.0.1 , if the server has bound to 0.0.0.0 ?","date":"2012-03-30T21:08:47.672Z","type":"message"}
{"nick":"TooTallNate","message":"pfox___: yes","date":"2012-03-30T21:09:07.792Z","type":"message"}
{"nick":"pfox___","message":"and does that work on unix, as well?","date":"2012-03-30T21:09:22.644Z","type":"message"}
{"nick":"seebees","date":"2012-03-30T21:10:37.997Z","type":"join"}
{"nick":"TooTallNate","message":"pfox___: indeed it does :)","date":"2012-03-30T21:10:44.404Z","type":"message"}
{"nick":"dap","reason":"Ping timeout: 272 seconds","date":"2012-03-30T21:10:48.027Z","type":"quit"}
{"nick":"travis-ci","date":"2012-03-30T21:10:53.021Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#675 (master - c26a0b5 : Ben Noordhuis): The build is still failing.","date":"2012-03-30T21:10:53.218Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/90ce5b3...c26a0b5","date":"2012-03-30T21:10:53.218Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/984784","date":"2012-03-30T21:10:53.218Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-30T21:10:53.218Z","type":"part"}
{"nick":"pfox___","message":"yeah. im build now to find out, heh.","date":"2012-03-30T21:10:57.820Z","type":"message"}
{"nick":"TooTallNate","message":"pfox___: try it: `ping 127.0.0.1`","date":"2012-03-30T21:11:05.403Z","type":"message"}
{"nick":"pfox___","message":"but why try *anything* when i can bug people with newb questions?","date":"2012-03-30T21:11:31.543Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2012-03-30T21:11:50.955Z","type":"message"}
{"nick":"seebees","message":"good afternoon","date":"2012-03-30T21:11:56.474Z","type":"message"}
{"nick":"seebees","message":"I've got a few questions, if anyone has some time","date":"2012-03-30T21:12:10.233Z","type":"message"}
{"nick":"seebees","message":"What I'm working on is a way to expose the loop count to the JS environment","date":"2012-03-30T21:13:20.388Z","type":"message"}
{"nick":"seebees","message":"say, process.tick","date":"2012-03-30T21:13:25.292Z","type":"message"}
{"nick":"seebees","message":"given that I've got what turn of the event loop i'm on, then I'm also trying to add this to any callback","date":"2012-03-30T21:13:59.923Z","type":"message"}
{"nick":"seebees","message":"say proccess.tock","date":"2012-03-30T21:14:05.842Z","type":"message"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2012-03-30T21:14:12.577Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-03-30T21:14:16.998Z","type":"quit"}
{"nick":"theCole","reason":"Ping timeout: 246 seconds","date":"2012-03-30T21:14:26.884Z","type":"quit"}
{"nick":"indexzero","date":"2012-03-30T21:14:33.412Z","type":"join"}
{"nick":"seebees","message":"so that will a bit of magic logging, you can unwind everything if it all drops in the pot","date":"2012-03-30T21:14:40.964Z","type":"message"}
{"nick":"seebees","message":"So I'm wondering if this is an interesting idea to anyone here?","date":"2012-03-30T21:14:59.191Z","type":"message"}
{"nick":"seebees","message":"(or perhaps a terribly bad one?)","date":"2012-03-30T21:15:16.710Z","type":"message"}
{"nick":"theCole","date":"2012-03-30T21:15:21.143Z","type":"join"}
{"nick":"dap","date":"2012-03-30T21:16:56.355Z","type":"join"}
{"nick":"pietern","date":"2012-03-30T21:18:53.479Z","type":"join"}
{"nick":"pfox___","reason":"Ping timeout: 244 seconds","date":"2012-03-30T21:19:13.271Z","type":"quit"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-03-30T21:23:55.632Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-30T21:26:16.273Z","type":"quit"}
{"nick":"seebees","message":"kk, I'll work up a pull in a few days and see what happens ;)","date":"2012-03-30T21:32:23.938Z","type":"message"}
{"nick":"mikeal","date":"2012-03-30T21:34:38.059Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-30T21:39:35.631Z","type":"quit"}
{"nick":"seebees","date":"2012-03-30T21:40:13.351Z","type":"part"}
{"nick":"rendar","date":"2012-03-30T21:40:21.437Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-30T21:48:58.397Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-30T21:52:40.884Z","type":"join"}
{"nick":"pfox___","date":"2012-03-30T21:53:48.899Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-03-30T22:05:12.200Z","type":"quit"}
{"nick":"bnoordhuis","message":"`eio_overflow` failed: exit code 6","date":"2012-03-30T22:12:48.595Z","type":"message"}
{"nick":"bnoordhuis","message":"Output from process `eio_overflow`:","date":"2012-03-30T22:12:48.791Z","type":"message"}
{"nick":"bnoordhuis","message":"Assertion failed in ../test/test-eio-overflow.c on line 61: opened - closed < max_delta","date":"2012-03-30T22:12:48.791Z","type":"message"}
{"nick":"bnoordhuis","message":"curious... it happens on my debian machine but not on my ubuntu machine","date":"2012-03-30T22:13:05.311Z","type":"message"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-03-30T22:13:45.437Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-03-30T22:17:17.597Z","type":"quit"}
{"nick":"theCole","date":"2012-03-30T22:20:34.082Z","type":"join"}
{"nick":"perezd","date":"2012-03-30T22:25:29.598Z","type":"join"}
{"nick":"pfox___","reason":"Ping timeout: 240 seconds","date":"2012-03-30T22:27:38.581Z","type":"quit"}
{"nick":"pfox____","date":"2012-03-30T22:29:48.124Z","type":"join"}
{"nick":"pfox____","reason":"Ping timeout: 252 seconds","date":"2012-03-30T22:35:10.712Z","type":"quit"}
{"nick":"pfox____","date":"2012-03-30T22:37:04.178Z","type":"join"}
{"nick":"k-s","new_nick":"k-s[AWAY]","date":"2012-03-30T22:38:09.309Z","type":"nick"}
{"nick":"piscisaureus_","reason":"Ping timeout: 240 seconds","date":"2012-03-30T22:41:38.501Z","type":"quit"}
{"nick":"pfox____","reason":"Ping timeout: 260 seconds","date":"2012-03-30T22:42:49.188Z","type":"quit"}
{"nick":"pfox____","date":"2012-03-30T22:44:32.254Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-03-30T22:47:28.819Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: igorzi: you think it would be better for uv_poll_init to take a SOCKET on windows and an fd on unix?","date":"2012-03-30T22:49:42.092Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what are the alternatives?","date":"2012-03-30T22:50:05.306Z","type":"message"}
{"nick":"pfox____","reason":"Ping timeout: 272 seconds","date":"2012-03-30T22:50:14.034Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: what I proposed","date":"2012-03-30T22:50:22.099Z","type":"message"}
{"nick":"piscisaureus_","message":". /* Initialize the poll watcher using a file descriptor. */.","date":"2012-03-30T22:50:39.535Z","type":"message"}
{"nick":"piscisaureus_","message":". UV_EXTERN int uv_poll_init(uv_poll_t* handle, int fd);","date":"2012-03-30T22:50:39.732Z","type":"message"}
{"nick":"piscisaureus_","message":". /* Initialize the poll watcher using a socket descriptor. On unix this is */","date":"2012-03-30T22:50:39.733Z","type":"message"}
{"nick":"piscisaureus_","message":". /* identical to uv_poll_init. On windows it takes a SOCKET handle. */","date":"2012-03-30T22:50:39.733Z","type":"message"}
{"nick":"piscisaureus_","message":". UV_EXTERN int uv_poll_init_socket(uv_poll_t* handle,","date":"2012-03-30T22:50:39.733Z","type":"message"}
{"nick":"piscisaureus_","message":".    uv_platform_socket_t sock);","date":"2012-03-30T22:50:40.416Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis","date":"2012-03-30T22:50:42.660Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i take it a SOCKET is not an integer?","date":"2012-03-30T22:51:27.520Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it is intptr_t","date":"2012-03-30T22:51:40.493Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: could also be void*","date":"2012-03-30T22:51:55.849Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2012-03-30T22:51:59.401Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose uv_platform_socket_t works for me","date":"2012-03-30T22:52:12.676Z","type":"message"}
{"nick":"bnoordhuis","message":"pretty wordy though","date":"2012-03-30T22:52:24.802Z","type":"message"}
{"nick":"bnoordhuis","message":"what about uv_sock_t?","date":"2012-03-30T22:52:35.674Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah but you never really have to type it out","date":"2012-03-30T22:52:37.452Z","type":"message"}
{"nick":"bnoordhuis","message":"annoying drunk students are annoying","date":"2012-03-30T22:52:57.825Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I like the name to be explicit about the fact that it takes a platform dependent thing","date":"2012-03-30T22:53:08.785Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I mean we normally hide this from the user. uv_stream_t might as well have been named uv_sock_t","date":"2012-03-30T22:53:42.021Z","type":"message"}
{"nick":"bnoordhuis","action":"takes the bb gun and steps outside","date":"2012-03-30T22:53:50.710Z","type":"action"}
{"nick":"igorzi","message":"piscisaureus_: yeah, why not just have uv_poll_init take uv_platform_socket_t (or whatever it'll be called) ?","date":"2012-03-30T22:53:51.839Z","type":"message"}
{"nick":"igorzi","message":"(without uv_poll_init_socket)","date":"2012-03-30T22:53:58.197Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so what if we ever decided to support pipes","date":"2012-03-30T22:54:08.942Z","type":"message"}
{"nick":"piscisaureus_","message":"(not that I think that will ever happen)","date":"2012-03-30T22:54:24.786Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-30T22:54:30.358Z","type":"quit"}
{"nick":"piscisaureus_","message":"then we would have to add uv_poll_init_handle","date":"2012-03-30T22:54:33.677Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: or name it uv_platform_handle_t ?","date":"2012-03-30T22:55:20.636Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well yeah but there is no polyphormism in c","date":"2012-03-30T22:55:37.919Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so let me explain from another perspective","date":"2012-03-30T22:56:12.033Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, got it","date":"2012-03-30T22:56:20.160Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: if we do the streams refactor we will have uv_stream_init_fd(int fd)","date":"2012-03-30T22:56:34.512Z","type":"message"}
{"nick":"piscisaureus_","message":"so people can open stdin with uv_stream_init_fd(0)","date":"2012-03-30T22:56:44.856Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so let's drop uv_poll_init and have *only* uv_poll_init_socket","date":"2012-03-30T22:57:41.640Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^","date":"2012-03-30T22:58:25.449Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: or we could try to detect if the given uv_platform_handle_t is a socket or a pipe (didn't you have code that did that?)","date":"2012-03-30T22:58:30.203Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah we could","date":"2012-03-30T22:58:38.671Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but HANDLE != SOCKET","date":"2012-03-30T22:58:44.313Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: people will have to cast SOCKET to HANDLE or vice versa and think that it is wrong","date":"2012-03-30T22:59:00.274Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: cast it when?  when calling uv_poll_init?","date":"2012-03-30T22:59:28.814Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so suppose","date":"2012-03-30T22:59:48.363Z","type":"message"}
{"nick":"piscisaureus_","message":"HANDLE pipe;","date":"2012-03-30T23:00:38.219Z","type":"message"}
{"nick":"piscisaureus_","message":"SOCKET sock;","date":"2012-03-30T23:00:38.416Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_tcp_init_socket(sock); <-- ok","date":"2012-03-30T23:00:38.416Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_tcp_init_socket(pipe) <-- rejected by the compiler","date":"2012-03-30T23:00:38.416Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_tcp_init_socket((SOCKET) pipe) <-- ok","date":"2012-03-30T23:00:38.416Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: ^-- we could make it like that but it is kidna confusing","date":"2012-03-30T23:00:54.096Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: uv_platform_handle_t could be typedef'ed to intptr_t .. then both of them will be rejected without a cast","date":"2012-03-30T23:01:57.985Z","type":"message"}
{"nick":"igorzi","message":"(would be consistent :))","date":"2012-03-30T23:02:14.791Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: can you type it out?","date":"2012-03-30T23:02:41.692Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I don't think you what you say is true","date":"2012-03-30T23:02:50.276Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: or do you propose to have people cast the socket to a HANDLE","date":"2012-03-30T23:03:02.402Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-03-30T23:03:02.922Z","type":"message"}
{"nick":"igorzi","message":"1 sec","date":"2012-03-30T23:04:19.974Z","type":"message"}
{"nick":"mikeal","date":"2012-03-30T23:06:52.604Z","type":"join"}
{"nick":"TooTallNate","date":"2012-03-30T23:08:13.087Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2012-03-30T23:09:04.182Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: yeah, you're right.. that doesn't quite work","date":"2012-03-30T23:09:47.781Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i was looking for a way to force people to cast to uv_platform_handle_t (from both HANDLE or SOCKET)","date":"2012-03-30T23:10:43.998Z","type":"message"}
{"nick":"avalanche123","date":"2012-03-30T23:10:52.156Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: ah right... nah, that would be painful I think","date":"2012-03-30T23:11:04.149Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think many external libs that would need uv_poll define something like uv_os_socket_t already","date":"2012-03-30T23:11:28.131Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so now the glue code can just use `uv_poll_init_socket(sock)`","date":"2012-03-30T23:12:44.467Z","type":"message"}
{"nick":"piscisaureus_","message":"instead of","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"piscisaureus_","message":"#ifdef _WIN32","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_poll_init((HANDLE) sock)","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"piscisaureus_","message":"#else","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_poll_init(sock)","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"piscisaureus_","message":"#endif","date":"2012-03-30T23:12:44.672Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-03-30T23:12:46.761Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: yep.. sounds good","date":"2012-03-30T23:18:13.705Z","type":"message"}
{"nick":"piscisaureus_","message":"nice","date":"2012-03-30T23:18:22.673Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-30T23:19:16.774Z","type":"quit"}
{"nick":"philips","reason":"Excess Flood","date":"2012-03-30T23:37:12.519Z","type":"quit"}
{"nick":"philips","date":"2012-03-30T23:40:31.033Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: there's something I'd like to do at some point.","date":"2012-03-30T23:40:43.461Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh dear","date":"2012-03-30T23:41:19.942Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: namely, report exec() failure as an exception instead of writing cruft to the child's stderr","date":"2012-03-30T23:41:24.288Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am sure we can find some trickery to make that possible on unix","date":"2012-03-30T23:41:39.010Z","type":"message"}
{"nick":"piscisaureus_","message":"(and on windows it is trivial)_","date":"2012-03-30T23:41:49.582Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what do you mean?","date":"2012-03-30T23:41:59.878Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well what happens not if you do child_process.spawn","date":"2012-03-30T23:42:23.054Z","type":"message"}
{"nick":"piscisaureus_","message":"*now","date":"2012-03-30T23:42:27.292Z","type":"message"}
{"nick":"piscisaureus_","message":"er sorry","date":"2012-03-30T23:42:33.118Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: \u000301if you do child_process.spawn\u0003\u000301('doesnotexist') it writes an error message to the stderr","date":"2012-03-30T23:43:04.871Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that is kind of nonobvious right","date":"2012-03-30T23:43:23.038Z","type":"message"}
{"nick":"bnoordhuis","message":"it does? it shouldn't","date":"2012-03-30T23:43:28.115Z","type":"message"}
{"nick":"bnoordhuis","message":"execve() failures are perfectly catchable","date":"2012-03-30T23:43:35.731Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-03-30T23:43:41.656Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes well what the forked process does is","date":"2012-03-30T23:43:46.224Z","type":"message"}
{"nick":"piscisaureus_","message":"if (exec(...) < 0) perror('exec')","date":"2012-03-30T23:44:02.186Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just try it","date":"2012-03-30T23:44:11.940Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=589020 <- kind of related :)","date":"2012-03-30T23:44:24.346Z","type":"message"}
{"nick":"bnoordhuis","message":"(kind of)","date":"2012-03-30T23:44:26.533Z","type":"message"}
{"nick":"dap","date":"2012-03-30T23:44:39.854Z","type":"join"}
{"nick":"bnoordhuis","message":"right, like that","date":"2012-03-30T23:44:43.215Z","type":"message"}
{"nick":"bnoordhuis","message":"it could just return a special error code","date":"2012-03-30T23:44:49.225Z","type":"message"}
{"nick":"bnoordhuis","message":"or even write something to the pipe the parent set up","date":"2012-03-30T23:45:14.571Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the only thing is that if we really want to throw then we are forcing ourselves to keep spawn() sync until the end of days","date":"2012-03-30T23:45:19.158Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah it would be good to report the actual errno too","date":"2012-03-30T23:45:28.703Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: probably we just want to emit 'error' on the child process object if spawn fails.","date":"2012-03-30T23:45:44.434Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and I think we have this magic pipe now so we can just write the failure to that if we care.","date":"2012-03-30T23:46:04.981Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-03-30T23:46:12.665Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on windows we now have this unix compat hack where we also write to the stderr even if we could just read GetLastError() on failure","date":"2012-03-30T23:46:31.640Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-30T23:49:10.272Z","type":"quit"}
{"nick":"Aria","date":"2012-03-30T23:51:17.674Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-03-30T23:54:46.900Z","type":"quit"}
{"nick":"seebees","date":"2012-03-30T23:56:08.189Z","type":"join"}
{"nick":"bnoordhuis","message":"seebees: you rang?","date":"2012-03-30T23:59:35.437Z","type":"message"}

{"nick":"piscisaureus_","reason":"Ping timeout: 260 seconds","date":"2012-04-26T00:12:35.426Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 260 seconds","date":"2012-04-26T00:31:50.439Z","type":"quit"}
{"nick":"erickt_","date":"2012-04-26T00:32:26.641Z","type":"join"}
{"nick":"erickt_","reason":"Client Quit","date":"2012-04-26T00:33:44.117Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 246 seconds","date":"2012-04-26T00:34:45.573Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-04-26T00:36:22.510Z","type":"join"}
{"nick":"mrb_bk","reason":"Remote host closed the connection","date":"2012-04-26T01:15:51.808Z","type":"quit"}
{"nick":"Raynos","reason":"Remote host closed the connection","date":"2012-04-26T01:16:24.888Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey","date":"2012-04-26T01:18:47.913Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if a select timeout is not specified, does it report a readable event after RCVTIMEO ?","date":"2012-04-26T01:19:26.894Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think there might be a bug in run.js","date":"2012-04-26T01:21:45.441Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-04-26T01:31:54.589Z","type":"quit"}
{"nick":"dap","date":"2012-04-26T01:34:22.279Z","type":"join"}
{"nick":"dap","reason":"Client Quit","date":"2012-04-26T01:34:44.530Z","type":"quit"}
{"nick":"dap","date":"2012-04-26T01:35:04.486Z","type":"join"}
{"nick":"dap","reason":"Client Quit","date":"2012-04-26T01:35:04.702Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-04-26T01:38:55.088Z","type":"quit"}
{"nick":"abraxas","date":"2012-04-26T01:46:07.608Z","type":"join"}
{"nick":"Raynos","date":"2012-04-26T01:48:17.701Z","type":"join"}
{"nick":"mrb_bk","date":"2012-04-26T01:57:55.068Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: i don't think so","date":"2012-04-26T01:58:49.347Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok so you are running pselect without timeout","date":"2012-04-26T01:59:05.778Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes. that's easily fixed though","date":"2012-04-26T01:59:26.060Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah really easy","date":"2012-04-26T01:59:33.713Z","type":"message"}
{"nick":"bnoordhuis","message":"i even trust you to do it :)","date":"2012-04-26T01:59:46.767Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will tell rik what to do, he's hacksawing in there","date":"2012-04-26T01:59:46.988Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: lol","date":"2012-04-26T01:59:51.923Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: remember, there is one serious bug in there and you made it","date":"2012-04-26T02:00:02.869Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-04-26T02:00:09.781Z","type":"message"}
{"nick":"bnoordhuis","message":"nah, i swapped one serious bug with another","date":"2012-04-26T02:00:21.662Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-04-26T02:00:26.264Z","type":"message"}
{"nick":"piscisaureus_","message":"I made it resiliient enough to survive an unblocked signal :-)","date":"2012-04-26T02:00:50.620Z","type":"message"}
{"nick":"piscisaureus_","message":"although admittedly it could have caused a 10 second delay before restarting a proces","date":"2012-04-26T02:01:06.928Z","type":"message"}
{"nick":"piscisaureus_","message":"s","date":"2012-04-26T02:01:08.324Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, it works well enough","date":"2012-04-26T02:01:12.818Z","type":"message"}
{"nick":"bnoordhuis","message":"but it's the kind of thing that silently breaks when you change later on","date":"2012-04-26T02:01:23.185Z","type":"message"}
{"nick":"bnoordhuis","message":"better to fix it now","date":"2012-04-26T02:01:38.221Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-04-26T02:02:10.747Z","type":"message"}
{"nick":"piscisaureus_","message":"we have time","date":"2012-04-26T02:02:15.721Z","type":"message"}
{"nick":"piscisaureus_","message":"won't go live until next week anyway","date":"2012-04-26T02:02:21.568Z","type":"message"}
{"nick":"bnoordhuis","message":"i can look at it tomorrow if rik wants","date":"2012-04-26T02:03:15.574Z","type":"message"}
{"nick":"bnoordhuis","message":"anything to postpone the windows side of the refcount refactor","date":"2012-04-26T02:03:26.925Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-04-26T02:03:30.473Z","type":"message"}
{"nick":"piscisaureus_","message":"nooo","date":"2012-04-26T02:03:32.246Z","type":"message"}
{"nick":"piscisaureus_","message":"how far is it, anyway?","date":"2012-04-26T02:03:40.670Z","type":"message"}
{"nick":"bnoordhuis","message":"done on unix, wip on windows","date":"2012-04-26T02:03:49.880Z","type":"message"}
{"nick":"bnoordhuis","message":"it's in my fork, branch issue347","date":"2012-04-26T02:03:58.375Z","type":"message"}
{"nick":"piscisaureus_","message":"it's not that hard isit?","date":"2012-04-26T02:03:58.662Z","type":"message"}
{"nick":"piscisaureus_","message":"have you been coding at all?","date":"2012-04-26T02:04:03.361Z","type":"message"}
{"nick":"bnoordhuis","message":"no, it's just well out of my comfort zone :)","date":"2012-04-26T02:04:10.890Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hehe","date":"2012-04-26T02:04:49.407Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok here's the deal","date":"2012-04-26T02:04:54.730Z","type":"message"}
{"nick":"piscisaureus_","message":"you write an uv_poll_t test :-)","date":"2012-04-26T02:05:00.213Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-04-26T02:05:03.380Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I do the windows stuff","date":"2012-04-26T02:05:06.070Z","type":"message"}
{"nick":"erickt","date":"2012-04-26T02:05:06.567Z","type":"join"}
{"nick":"bnoordhuis","message":"i'll consider it :)","date":"2012-04-26T02:05:11.940Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but the poll test should be extensive","date":"2012-04-26T02:05:25.585Z","type":"message"}
{"nick":"bnoordhuis","message":"wasn't i going to swap the read/write watchers with a single watcher?","date":"2012-04-26T02:05:28.555Z","type":"message"}
{"nick":"piscisaureus_","message":"oh yeah but that's easy","date":"2012-04-26T02:05:41.967Z","type":"message"}
{"nick":"piscisaureus_","message":"I can do that in 20 minutes","date":"2012-04-26T02:05:46.871Z","type":"message"}
{"nick":"bnoordhuis","message":"i suspect you'll run into one or two edge cases","date":"2012-04-26T02:06:27.032Z","type":"message"}
{"nick":"piscisaureus_","message":"huh, which?","date":"2012-04-26T02:06:37.577Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't think so","date":"2012-04-26T02:06:42.715Z","type":"message"}
{"nick":"piscisaureus_","message":"it's pretty trivial","date":"2012-04-26T02:06:50.347Z","type":"message"}
{"nick":"bnoordhuis","message":"gotta go, seems mees is up","date":"2012-04-26T02:06:55.834Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-04-26T02:07:00.256Z","type":"message"}
{"nick":"piscisaureus_","message":"I am going to sleep","date":"2012-04-26T02:07:04.251Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: tty tomorrow","date":"2012-04-26T02:07:11.997Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, me too (after mees that is)","date":"2012-04-26T02:07:13.724Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, bertje","date":"2012-04-26T02:07:16.151Z","type":"message"}
{"nick":"erickt","reason":"Client Quit","date":"2012-04-26T02:08:13.154Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-04-26T02:09:46.542Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2012-04-26T02:12:10.445Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-26T02:13:48.998Z","type":"quit"}
{"nick":"mikeal","date":"2012-04-26T02:14:15.665Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-04-26T02:16:23.665Z","type":"quit"}
{"nick":"mikeal","date":"2012-04-26T02:17:58.366Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-04-26T02:21:23.408Z","type":"quit"}
{"nick":"mikeal","date":"2012-04-26T02:22:36.401Z","type":"join"}
{"nick":"orlandovftw","date":"2012-04-26T02:52:23.617Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-26T02:57:43.797Z","type":"quit"}
{"nick":"mikeal","date":"2012-04-26T03:11:05.778Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u000298b4596\u000f \u000310\u000f/ src/node.js \u0002:\u000f process: lint - http://git.io/QfxqSw","date":"2012-04-26T03:12:00.202Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 246 seconds","date":"2012-04-26T03:17:51.575Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: review? https://github.com/TooTallNate/node/commit/tab-completion-global-proto","date":"2012-04-26T03:18:06.629Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-04-26T03:22:21.927Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2012-04-26T03:23:20.445Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u0002f405daa\u000f \u000310\u000f/ (lib/repl.js test/simple/test-repl-tab-complete.js)\u0002:\u000f ","date":"2012-04-26T03:35:27.448Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f repl: make tab completion read up the prototype of \"global\"","date":"2012-04-26T03:35:27.449Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f For example, there's a global \"toString()\" function, so the REPL's","date":"2012-04-26T03:35:27.449Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f tab completion should pick that up. - http://git.io/lgIrBg","date":"2012-04-26T03:35:27.449Z","type":"message"}
{"nick":"pfox___","reason":"Ping timeout: 265 seconds","date":"2012-04-26T03:39:37.261Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-26T03:51:55.369Z","type":"quit"}
{"nick":"erickt","date":"2012-04-26T04:23:00.073Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-26T04:53:18.077Z","type":"quit"}
{"nick":"benvie","date":"2012-04-26T04:57:37.743Z","type":"join"}
{"nick":"orlandovftw","date":"2012-04-26T06:08:00.758Z","type":"join"}
{"nick":"mraleph","date":"2012-04-26T07:04:25.851Z","type":"join"}
{"nick":"rendar","date":"2012-04-26T07:08:01.817Z","type":"join"}
{"nick":"paddybyers_","date":"2012-04-26T07:46:31.508Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-04-26T07:48:33.081Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-04-26T07:48:33.619Z","type":"nick"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-04-26T07:52:47.941Z","type":"quit"}
{"nick":"pquerna_","date":"2012-04-26T08:19:12.302Z","type":"join"}
{"nick":"AngryParsley","date":"2012-04-26T08:19:14.281Z","type":"join"}
{"nick":"\\toothrot","date":"2012-04-26T08:20:37.595Z","type":"join"}
{"nick":"ggreer","reason":"Ping timeout: 246 seconds","date":"2012-04-26T08:21:31.119Z","type":"quit"}
{"nick":"pquerna","reason":"Ping timeout: 246 seconds","date":"2012-04-26T08:21:31.725Z","type":"quit"}
{"nick":"toothr","reason":"Ping timeout: 246 seconds","date":"2012-04-26T08:21:31.726Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-26T09:13:23.339Z","type":"quit"}
{"nick":"isaacs","date":"2012-04-26T09:14:17.977Z","type":"join"}
{"nick":"orlandovftw","reason":"Ping timeout: 244 seconds","date":"2012-04-26T09:25:28.313Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-04-26T10:48:39.907Z","type":"quit"}
{"nick":"abraxas","date":"2012-04-26T10:49:14.425Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 265 seconds","date":"2012-04-26T10:53:55.048Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-04-26T11:54:06.483Z","type":"join"}
{"nick":"c4milo","date":"2012-04-26T12:09:19.334Z","type":"join"}
{"nick":"mjr_","reason":"Read error: Connection reset by peer","date":"2012-04-26T12:37:07.145Z","type":"quit"}
{"nick":"mjr__","date":"2012-04-26T13:36:16.559Z","type":"join"}
{"nick":"mmalecki[off]","new_nick":"mmalecki[ft]","date":"2012-04-26T13:43:57.947Z","type":"nick"}
{"nick":"piscisaureus_","date":"2012-04-26T14:26:47.830Z","type":"join"}
{"nick":"piscisaureus_","message":"hello","date":"2012-04-26T14:26:53.430Z","type":"message"}
{"nick":"pfox___","date":"2012-04-26T14:32:58.222Z","type":"join"}
{"nick":"creationix","message":"piscisaureus_, hi!","date":"2012-04-26T14:59:03.639Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: hi","date":"2012-04-26T14:59:12.772Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, so you finished my libuv wishlist already? ;)","date":"2012-04-26T14:59:25.913Z","type":"message"}
{"nick":"piscisaureus_","message":"huh","date":"2012-04-26T14:59:32.289Z","type":"message"}
{"nick":"piscisaureus_","message":"not even started","date":"2012-04-26T14:59:34.367Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: will take a while to be honest","date":"2012-04-26T14:59:49.545Z","type":"message"}
{"nick":"creationix","message":"yeah, these things take time","date":"2012-04-26T14:59:52.561Z","type":"message"}
{"nick":"creationix","message":"though fixing uid/gid for spawn should be quick","date":"2012-04-26T15:00:06.162Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, we have to be careful not to break the interface","date":"2012-04-26T15:01:32.505Z","type":"message"}
{"nick":"creationix","message":"all I need for vfs is a streaming readdir and uid/gid for spawn.  My other ideas just make using libuv a lot easier","date":"2012-04-26T15:01:36.376Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: we we'd have to add use_spawn2, uv_process_options2_t, uv_init_process_options2","date":"2012-04-26T15:02:00.146Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well a streaming readdir is not on the roadmap","date":"2012-04-26T15:02:24.531Z","type":"message"}
{"nick":"creationix","message":"yeah, duplicate it","date":"2012-04-26T15:02:27.416Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: that is - it is sort of planned but no milestone","date":"2012-04-26T15:02:50.974Z","type":"message"}
{"nick":"creationix","message":"I'm not even sure what streaming readdir would look like","date":"2012-04-26T15:03:04.465Z","type":"message"}
{"nick":"creationix","message":"what is the C interface to readdir like?  Is the directory listing a char* buffer of newline separated file names? or is it more structured","date":"2012-04-26T15:03:46.223Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, maybe","date":"2012-04-26T15:03:55.542Z","type":"message"}
{"nick":"piscisaureus_","message":"var d = fs.createDirStream('/dev');","date":"2012-04-26T15:03:55.740Z","type":"message"}
{"nick":"piscisaureus_","message":"d.on('entry', function(name) {","date":"2012-04-26T15:03:55.740Z","type":"message"}
{"nick":"piscisaureus_","message":"});","date":"2012-04-26T15:03:55.740Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, posix readdir_r returns one filename at a time","date":"2012-04-26T15:04:21.580Z","type":"message"}
{"nick":"creationix","message":"I'm also trying to plan how to map HTTP range requests to a directory listing","date":"2012-04-26T15:04:55.318Z","type":"message"}
{"nick":"creationix","message":"so clients can paginate","date":"2012-04-26T15:04:59.382Z","type":"message"}
{"nick":"creationix","message":"but http range is byte based","date":"2012-04-26T15:05:07.478Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: linux and windows can report multiple names per syscall, with another call","date":"2012-04-26T15:05:11.391Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, seeking in the directory listing is not possible on any platform I know","date":"2012-04-26T15:05:46.184Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: so it'd always be restart and skip over N entries","date":"2012-04-26T15:06:00.531Z","type":"message"}
{"nick":"creationix","message":"really?  so a directory with a million files is just plain bad","date":"2012-04-26T15:06:05.795Z","type":"message"}
{"nick":"theCole","date":"2012-04-26T15:06:12.813Z","type":"join"}
{"nick":"piscisaureus_","message":"creationix: yes","date":"2012-04-26T15:06:18.113Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: you ever wondered why git creates this nested structure in .git/objects/","date":"2012-04-26T15:06:36.119Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-04-26T15:06:38.064Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: also, modern operating system obviously use a hashmap to look up filenames in a directory","date":"2012-04-26T15:07:00.390Z","type":"message"}
{"nick":"piscisaureus_","message":"but older filesystems do not support this, so a filename lookup has O(n) complexity wrt the number of files in the directory","date":"2012-04-26T15:07:28.258Z","type":"message"}
{"nick":"creationix","message":"hmm, so the only real danger in node's readdir is creating the large array in on ego","date":"2012-04-26T15:07:30.902Z","type":"message"}
{"nick":"creationix","message":"*one go","date":"2012-04-26T15:07:38.695Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: yeah","date":"2012-04-26T15:07:42.042Z","type":"message"}
{"nick":"creationix","message":"and buffering till all results are read","date":"2012-04-26T15:07:50.157Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but you should be aware that it is probably faster in general","date":"2012-04-26T15:08:00.035Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-26T15:08:03.634Z","type":"quit"}
{"nick":"piscisaureus_","message":"unless the number if files is really big","date":"2012-04-26T15:08:09.370Z","type":"message"}
{"nick":"creationix","message":"yeah, my test folder has 100,001 files in it","date":"2012-04-26T15:08:24.622Z","type":"message"}
{"nick":"creationix","message":"it pauses for a bit when doing readdir, but not too much","date":"2012-04-26T15:08:33.782Z","type":"message"}
{"nick":"isaacs","date":"2012-04-26T15:08:37.666Z","type":"join"}
{"nick":"piscisaureus_","message":"because enumerating 1M files one at a time also means 1M synchronizations between the thread pool and the main thread","date":"2012-04-26T15:08:38.066Z","type":"message"}
{"nick":"creationix","message":"and my vfs has proper etags for directory listings","date":"2012-04-26T15:08:42.786Z","type":"message"}
{"nick":"creationix","message":"ok, so it's not super important","date":"2012-04-26T15:09:06.863Z","type":"message"}
{"nick":"creationix","message":"I am streaming the 100,000 lstat calls and the resultant json","date":"2012-04-26T15:09:16.252Z","type":"message"}
{"nick":"creationix","message":"ends up being about 30mb","date":"2012-04-26T15:09:26.329Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: the solaris machines we're using can't even have more that 100.000 files in a directory","date":"2012-04-26T15:09:29.531Z","type":"message"}
{"nick":"creationix","message":"ok, so we can punt on streaming readdir for now","date":"2012-04-26T15:09:48.130Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: our 100.000th user had a very pleasant surprise :-)","date":"2012-04-26T15:09:54.793Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but yeah, long term, we should do this.","date":"2012-04-26T15:10:07.848Z","type":"message"}
{"nick":"creationix","message":"sftp, for example has a streaming readdir","date":"2012-04-26T15:10:19.581Z","type":"message"}
{"nick":"creationix","message":"when I implemented it in node I had to fake the streaming","date":"2012-04-26T15:10:27.233Z","type":"message"}
{"nick":"creationix","message":"also an fd based readdir would be nice","date":"2012-04-26T15:11:04.477Z","type":"message"}
{"nick":"creationix","message":"I can open the file, fstat it to see if it's a dir or file and then reuse the fd to read it","date":"2012-04-26T15:11:22.132Z","type":"message"}
{"nick":"creationix","message":"anyway, all that's pressing is fixing the gid/uid for spawn regression","date":"2012-04-26T15:12:22.622Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I don't know whether that is possible in unix (in windows it definitely works that way)","date":"2012-04-26T15:24:11.698Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but I am not sure whether you can enumerate a dirfd. I think you have to opendir() it","date":"2012-04-26T15:24:38.287Z","type":"message"}
{"nick":"piscisaureus_","message":"ah wait there is fdopendir :-)","date":"2012-04-26T15:24:59.327Z","type":"message"}
{"nick":"creationix","message":"not a big deal, just something we should probably add eventually for completeness","date":"2012-04-26T15:25:18.234Z","type":"message"}
{"nick":"piscisaureus_","message":"I agree it would be nice","date":"2012-04-26T15:25:30.431Z","type":"message"}
{"nick":"creationix","message":"I try to keep things as atomic as possible and using the same fd throughout an operation makes me feel safer","date":"2012-04-26T15:25:56.106Z","type":"message"}
{"nick":"creationix","message":"http servers very often do readstream with stat","date":"2012-04-26T15:26:27.276Z","type":"message"}
{"nick":"piscisaureus_","message":"and rightly so","date":"2012-04-26T15:26:29.112Z","type":"message"}
{"nick":"creationix","message":"luckilly createReadStream allows passing in an fd","date":"2012-04-26T15:26:37.684Z","type":"message"}
{"nick":"piscisaureus_","message":"it would be nice to integrate streams and fds","date":"2012-04-26T15:26:47.420Z","type":"message"}
{"nick":"creationix","message":"of course libuv doesn't have streams at all","date":"2012-04-26T15:28:30.904Z","type":"message"}
{"nick":"creationix","message":"for fs","date":"2012-04-26T15:28:35.676Z","type":"message"}
{"nick":"creationix","message":"will libuv get uv_file_t that inherits from uv_stream_t?","date":"2012-04-26T15:29:00.523Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I would like that, yes","date":"2012-04-26T15:31:52.473Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: what I would like to do in the long run is queue fs operations in node","date":"2012-04-26T15:32:25.517Z","type":"message"}
{"nick":"piscisaureus_","message":"fs operations on the same uv_file_t, that is","date":"2012-04-26T15:32:40.920Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: because right now it's quite easy to create horrible race conditions and worse","date":"2012-04-26T15:32:55.714Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g.","date":"2012-04-26T15:32:57.343Z","type":"message"}
{"nick":"piscisaureus_","message":"fd = fs.open(...)","date":"2012-04-26T15:33:24.611Z","type":"message"}
{"nick":"piscisaureus_","message":"fs.write(fd, \"hello\")","date":"2012-04-26T15:33:24.810Z","type":"message"}
{"nick":"piscisaureus_","message":"fs.close(fd)","date":"2012-04-26T15:33:24.810Z","type":"message"}
{"nick":"piscisaureus_","message":"fd2 = fs.open(...)","date":"2012-04-26T15:33:24.810Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: you realize that fs.write can succeed here","date":"2012-04-26T15:34:05.163Z","type":"message"}
{"nick":"piscisaureus_","message":"or fail with EBADF","date":"2012-04-26T15:34:09.908Z","type":"message"}
{"nick":"piscisaureus_","message":"... or write to the wrong file!","date":"2012-04-26T15:34:18.668Z","type":"message"}
{"nick":"creationix","message":"fd is just a number right?","date":"2012-04-26T15:34:54.322Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-04-26T15:35:37.116Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but what's stopping us from making that something else ?","date":"2012-04-26T15:35:49.803Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: 99% of the code will just keep working","date":"2012-04-26T15:35:57.013Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: and people who do arithmetic on FDs should be punished","date":"2012-04-26T15:36:07.763Z","type":"message"}
{"nick":"creationix","message":"indeed","date":"2012-04-26T15:36:19.182Z","type":"message"}
{"nick":"tjfontaine","message":"those people are quite evil","date":"2012-04-26T15:36:19.775Z","type":"message"}
{"nick":"creationix","message":"the only time I use numbers for fds is 0,1, and 2","date":"2012-04-26T15:36:35.689Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-04-26T15:36:43.970Z","type":"message"}
{"nick":"piscisaureus_","message":"that could just keep on working","date":"2012-04-26T15:36:48.742Z","type":"message"}
{"nick":"creationix","message":"would having streams in libuv make os level optimizations possible?","date":"2012-04-26T15:37:42.321Z","type":"message"}
{"nick":"pquerna_","reason":"Changing host","date":"2012-04-26T15:37:42.732Z","type":"quit"}
{"nick":"pquerna_","date":"2012-04-26T15:37:42.936Z","type":"join"}
{"nick":"creationix","message":"*fs streams","date":"2012-04-26T15:37:49.472Z","type":"message"}
{"nick":"pquerna_","new_nick":"pquerna","date":"2012-04-26T15:37:55.579Z","type":"nick"}
{"nick":"creationix","message":"or do all operating systems treat files the same using fd handles and discrete operations?","date":"2012-04-26T15:38:14.434Z","type":"message"}
{"nick":"creationix","message":"the higher abstraction of a file data stream gives libuv flexibility in how to implement it","date":"2012-04-26T15:38:41.058Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, all operating systems have a concept similar to an FD","date":"2012-04-26T15:38:42.757Z","type":"message"}
{"nick":"creationix","message":"right, that's how libuv works today","date":"2012-04-26T15:39:02.177Z","type":"message"}
{"nick":"creationix","message":"you get an \"fd\" in windows","date":"2012-04-26T15:39:09.860Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-04-26T15:39:10.382Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: a handle, actually. But file i/o on windows uses actual FDs today","date":"2012-04-26T15:39:28.296Z","type":"message"}
{"nick":"piscisaureus_","message":"so, human readable number","date":"2012-04-26T15:39:34.325Z","type":"message"}
{"nick":"piscisaureus_","message":"but we have to get rid of that at some point","date":"2012-04-26T15:39:42.587Z","type":"message"}
{"nick":"creationix","message":"yeah, the actual value isn't important","date":"2012-04-26T15:39:48.236Z","type":"message"}
{"nick":"creationix","message":"I noticed that node timers don't return numbers like they to in browsers","date":"2012-04-26T15:39:58.904Z","type":"message"}
{"nick":"creationix","message":"but most people don't even notice because it just works","date":"2012-04-26T15:40:09.225Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, they return a TimerWrap handle","date":"2012-04-26T15:40:12.538Z","type":"message"}
{"nick":"creationix","message":"I do the same in luvit","date":"2012-04-26T15:40:26.288Z","type":"message"}
{"nick":"creationix","message":"userdata wrapping uv_timer_t","date":"2012-04-26T15:40:32.526Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: bnoordhuis, igorzi TooTallNate: skype in 15","date":"2012-04-26T15:48:09.077Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-04-26T15:49:07.393Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-04-26T15:49:14.804Z","type":"quit"}
{"nick":"bnoordhuis","message":"yep","date":"2012-04-26T15:51:15.756Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-04-26T15:57:56.434Z","type":"join"}

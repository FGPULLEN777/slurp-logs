{"nick":"perezd","date":"2012-02-15T00:49:01.037Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2012-02-15T01:13:35.444Z","type":"quit"}
{"nick":"indutny","message":"isaacs: heya","date":"2012-02-15T01:18:40.115Z","type":"message"}
{"nick":"indutny","message":"isaacs: yt?","date":"2012-02-15T01:18:44.220Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-02-15T01:23:49.733Z","type":"quit"}
{"nick":"kohai","reason":"Remote host closed the connection","date":"2012-02-15T01:25:04.085Z","type":"quit"}
{"nick":"kohai","date":"2012-02-15T01:27:26.715Z","type":"join"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-02-15T01:27:51.687Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 240 seconds","date":"2012-02-15T01:39:58.587Z","type":"quit"}
{"nick":"isaacs","message":"igorzi: hey, you around?","date":"2012-02-15T01:55:44.801Z","type":"message"}
{"nick":"isaacs","message":"igorzi: https://gist.github.com/de3e6a83c9ece4a3affb","date":"2012-02-15T01:55:47.612Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: do you have 64-bit sdk installed?","date":"2012-02-15T01:58:34.939Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: guess not maybe?","date":"2012-02-15T01:58:43.194Z","type":"message"}
{"nick":"isaacs","message":"hmm...","date":"2012-02-15T01:58:46.796Z","type":"message"}
{"nick":"TooTallNate","message":"bert told me that just express version doesn't come with 64-bit","date":"2012-02-15T01:58:51.750Z","type":"message"}
{"nick":"TooTallNate","message":"but MSVC pro does","date":"2012-02-15T01:59:03.743Z","type":"message"}
{"nick":"isaacs","message":"ugh.","date":"2012-02-15T01:59:24.746Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-02-15T01:59:25.990Z","type":"message"}
{"nick":"TooTallNate","message":"but he said that if you have express installed, then to install the Windows SDK on top of that","date":"2012-02-15T01:59:29.829Z","type":"message"}
{"nick":"TooTallNate","message":"lol, i haven't tried it yet","date":"2012-02-15T01:59:35.207Z","type":"message"}
{"nick":"isaacs","message":"where can you get that from?","date":"2012-02-15T01:59:40.682Z","type":"message"}
{"nick":"TooTallNate","message":"i think http://msdn.microsoft.com/en-gb/windowsserver/bb980924","date":"2012-02-15T02:00:02.424Z","type":"message"}
{"nick":"isaacs","message":"kewl, trying that...","date":"2012-02-15T02:01:59.157Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: so was that a +1 on `pty: true`?","date":"2012-02-15T02:03:55.568Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: not really... i mean, it's *not* a pty","date":"2012-02-15T02:04:16.636Z","type":"message"}
{"nick":"isaacs","message":"unless you share fd0 with it, in which case, isatty() returns true anyway","date":"2012-02-15T02:04:39.127Z","type":"message"}
{"nick":"isaacs","message":"it seems to me like tty.isatty() should tell the trueth","date":"2012-02-15T02:04:49.677Z","type":"message"}
{"nick":"isaacs","message":"*truth","date":"2012-02-15T02:04:52.567Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: ah, building x64","date":"2012-02-15T02:05:41.772Z","type":"message"}
{"nick":"isaacs","message":"sweet","date":"2012-02-15T02:05:43.460Z","type":"message"}
{"nick":"isaacs","message":"thanks","date":"2012-02-15T02:05:47.481Z","type":"message"}
{"nick":"TooTallNate","message":"nice :)","date":"2012-02-15T02:05:53.830Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-02-15T02:06:46.001Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: i mean this is what we've been using: https://gist.github.com/1832530","date":"2012-02-15T02:09:03.655Z","type":"message"}
{"nick":"TooTallNate","message":":O","date":"2012-02-15T02:09:08.367Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: why don't you just use require(\"tty\").spawn?","date":"2012-02-15T02:09:30.167Z","type":"message"}
{"nick":"TooTallNate","message":"do we have that?!?!","date":"2012-02-15T02:09:39.903Z","type":"message"}
{"nick":"mmalecki","message":"we *do*?!","date":"2012-02-15T02:09:48.607Z","type":"message"}
{"nick":"isaacs","message":"oh, because it doesn't exist any more, i guess :)","date":"2012-02-15T02:09:53.089Z","type":"message"}
{"nick":"TooTallNate","message":";)","date":"2012-02-15T02:09:57.604Z","type":"message"}
{"nick":"isaacs","message":"JUST KIDDING!","date":"2012-02-15T02:10:00.156Z","type":"message"}
{"nick":"mmalecki","message":"I wanted it so badly","date":"2012-02-15T02:11:01.706Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i would be fine with that api over pty:true fwiw :)","date":"2012-02-15T02:15:41.661Z","type":"message"}
{"nick":"isaacs","message":"LINK : fatal error LNK1181: cannot open input file 'winmm.lib' [C:\\node-v0.7.4\\node.vcxproj]","date":"2012-02-15T02:20:18.437Z","type":"message"}
{"nick":"isaacs","message":"igorzi: ^","date":"2012-02-15T02:20:20.479Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T02:20:36.050Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2012-02-15T02:23:18.251Z","type":"nick"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-02-15T02:31:03.453Z","type":"quit"}
{"nick":"dshaw_","reason":"Ping timeout: 240 seconds","date":"2012-02-15T02:31:58.625Z","type":"quit"}
{"nick":"xaq","date":"2012-02-15T02:43:42.573Z","type":"join"}
{"nick":"orlandovftw","date":"2012-02-15T03:02:47.605Z","type":"join"}
{"nick":"isaacs","date":"2012-02-15T03:10:12.357Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-02-15T03:17:21.836Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-02-15T03:32:01.104Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 260 seconds","date":"2012-02-15T03:34:06.569Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-02-15T03:34:34.570Z","type":"join"}
{"nick":"mikeal","date":"2012-02-15T04:03:20.528Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T04:26:02.223Z","type":"quit"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-02-15T04:40:46.747Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T04:52:17.386Z","type":"quit"}
{"nick":"dshaw_","date":"2012-02-15T04:54:53.138Z","type":"join"}
{"nick":"xaq","date":"2012-02-15T05:00:24.386Z","type":"join"}
{"nick":"indexzero","date":"2012-02-15T05:56:45.728Z","type":"join"}
{"nick":"mikeal","date":"2012-02-15T06:02:37.581Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T06:10:05.024Z","type":"quit"}
{"nick":"xaq","date":"2012-02-15T06:12:17.046Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-02-15T06:13:34.247Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-02-15T06:48:04.795Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T06:50:53.810Z","type":"quit"}
{"nick":"mikeal","date":"2012-02-15T06:52:29.803Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-02-15T06:54:48.544Z","type":"quit"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T07:20:10.332Z","type":"quit"}
{"nick":"mikeal","date":"2012-02-15T07:57:14.789Z","type":"join"}
{"nick":"paddybyers","date":"2012-02-15T08:05:17.596Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-02-15T08:36:16.449Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-02-15T09:23:05.833Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 248 seconds","date":"2012-02-15T09:52:14.658Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-02-15T10:31:08.420Z","type":"join"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2012-02-15T11:16:04.976Z","type":"nick"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-02-15T12:18:53.587Z","type":"quit"}
{"nick":"AndreasMadsen","message":"indutny: I have read the sticky-session module you made, it is very simple but it use internal API and is in general hacky. I will think about how we could do something like that without adding complexity or hacks.","date":"2012-02-15T12:30:08.276Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: hi","date":"2012-02-15T12:31:39.974Z","type":"message"}
{"nick":"AndreasMadsen","message":"yo","date":"2012-02-15T12:31:46.980Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: there're no hacks actually","date":"2012-02-15T12:31:56.257Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: if you read comments, you seen that it has strong logic behind it","date":"2012-02-15T12:32:10.849Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: no you just overwrite .listen :)","date":"2012-02-15T12:32:11.443Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: ah","date":"2012-02-15T12:32:16.198Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: that's for API","date":"2012-02-15T12:32:19.085Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: I can do it w/o it","date":"2012-02-15T12:32:23.853Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: but I like it more","date":"2012-02-15T12:32:28.277Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: I was thinking about allowing sending a TCP Server and Socket object using child.send('msg', obj), but I'm not sure how it should be handled in process.on('message')","date":"2012-02-15T12:33:58.142Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: hm","date":"2012-02-15T12:34:47.332Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: yeah, passing socket as a part of API","date":"2012-02-15T12:35:01.571Z","type":"message"}
{"nick":"indutny","message":"looks like a good idea","date":"2012-02-15T12:35:05.987Z","type":"message"}
{"nick":"indutny","message":"you can just check (socket instanceof net.Socket)","date":"2012-02-15T12:35:17.766Z","type":"message"}
{"nick":"indutny","message":"and do stuff that I do in stick-sessions","date":"2012-02-15T12:35:25.199Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: yes, in the parent, it would check using instanceof, but how should it should be handled in the child? I would make sense if the handle object was a Server or Socket instance when sending one, but I'm not sure how to recognise the difference.","date":"2012-02-15T12:38:11.872Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: ah","date":"2012-02-15T12:45:29.089Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: hm...","date":"2012-02-15T12:45:33.839Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: you can't do this now","date":"2012-02-15T12:45:46.897Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: but server socket may be internal API","date":"2012-02-15T12:45:55.889Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: and it can get handle from Socket","date":"2012-02-15T12:46:04.236Z","type":"message"}
{"nick":"indutny","message":"AndreasMadsen: what do you think?","date":"2012-02-15T12:46:10.301Z","type":"message"}
{"nick":"indutny","message":"but that looks hacky","date":"2012-02-15T12:46:13.649Z","type":"message"}
{"nick":"indutny","message":"w/o passing additional data","date":"2012-02-15T12:46:29.994Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: I'm not sure what your question is?","date":"2012-02-15T12:47:12.355Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: also when sending a Socket instance using child.send should the handler automatically be paused and closed, or should userland do that (if so that would also add more API).","date":"2012-02-15T12:47:52.592Z","type":"message"}
{"nick":"AndreasMadsen","message":"hmm, there was an API request about this, from issacs I think ... searching","date":"2012-02-15T12:48:54.247Z","type":"message"}
{"nick":"paddybyers","date":"2012-02-15T12:52:37.560Z","type":"join"}
{"nick":"AndreasMadsen","message":"https://github.com/joyent/node/issues/2585","date":"2012-02-15T12:52:52.515Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: ^","date":"2012-02-15T12:52:58.499Z","type":"message"}
{"nick":"AndreasMadsen","message":"indutny: an API with child.sendServer and child.sendSocket and process.on('server') and process.on('socket') would make it possible using the internalMessage event.","date":"2012-02-15T12:55:08.682Z","type":"message"}
{"nick":"AndreasMadsen","message":"or simplify it down to child.sendHandle and process.on('handle') would work to.","date":"2012-02-15T12:56:17.342Z","type":"message"}
{"nick":"AndreasMadsen","message":"actually process.send('msg', Socket) would work too, but allowing a message would just add a little complexity.","date":"2012-02-15T12:58:55.378Z","type":"message"}
{"nick":"AndreasMadsen","message":"hehe you could have this API:  net.createServer().listen(process) in","date":"2012-02-15T13:01:06.962Z","type":"message"}
{"nick":"AndreasMadsen","message":"child","date":"2012-02-15T13:01:11.363Z","type":"message"}
{"nick":"AndreasMadsen","message":"but perhaps this is confusing :/","date":"2012-02-15T13:01:55.996Z","type":"message"}
{"nick":"bnoordhuis","date":"2012-02-15T13:02:55.724Z","type":"join"}
{"nick":"AndreasMadsen","message":"yo","date":"2012-02-15T13:03:02.203Z","type":"message"}
{"nick":"bnoordhuis","message":"oy","date":"2012-02-15T13:03:44.445Z","type":"message"}
{"nick":"mmalecki","message":"function bnoordhuis(str) { return str.reverse(); }","date":"2012-02-15T13:04:48.173Z","type":"message"}
{"nick":"mmalecki","message":"also, morning.","date":"2012-02-15T13:04:57.449Z","type":"message"}
{"nick":"bnoordhuis","message":"gninrom, osla!","date":"2012-02-15T13:05:33.970Z","type":"message"}
{"nick":"bnoordhuis","message":"hm, sounds polish","date":"2012-02-15T13:05:40.069Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: I'll see if there's a possibility to make boundary go into node binding, but if there's no, can we merge this in today?","date":"2012-02-15T13:05:50.169Z","type":"message"}
{"nick":"mmalecki","message":"lol","date":"2012-02-15T13:05:54.441Z","type":"message"}
{"nick":"mmalecki","message":"\"dzień dobry\" is polish for \"good morning\"","date":"2012-02-15T13:06:09.833Z","type":"message"}
{"nick":"bentkus","date":"2012-02-15T13:06:19.910Z","type":"join"}
{"nick":"bnoordhuis","message":"i kind of knew that, it's similar to the czech equivalent","date":"2012-02-15T13:06:43.842Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: i think peter griess doesn't like the patch","date":"2012-02-15T13:07:31.031Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: he's fuding","date":"2012-02-15T13:08:08.984Z","type":"message"}
{"nick":"bnoordhuis","message":"he has a point in that it's something of a single use case hack","date":"2012-02-15T13:08:56.260Z","type":"message"}
{"nick":"bnoordhuis","message":"it could be generalized by having something like a marker field that you zero in on_message_begin and reading it back in on_headers_complete","date":"2012-02-15T13:09:36.558Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: knowing headers boundary is not a single use case hack","date":"2012-02-15T13:10:13.047Z","type":"message"}
{"nick":"bnoordhuis","message":"tell me why","date":"2012-02-15T13:10:26.103Z","type":"message"}
{"nick":"bnoordhuis","message":"i like how rustc has a --time-passes switch","date":"2012-02-15T13:11:17.806Z","type":"message"}
{"nick":"bnoordhuis","message":"they could have called it --profile-phases or something","date":"2012-02-15T13:11:30.225Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: and how can you tell lenght of headers in on_headers_complete?","date":"2012-02-15T13:11:39.482Z","type":"message"}
{"nick":"mmalecki","message":"*length","date":"2012-02-15T13:11:43.080Z","type":"message"}
{"nick":"bnoordhuis","message":"but --time-passes is clever and funny","date":"2012-02-15T13:11:43.793Z","type":"message"}
{"nick":"kohai","message":"but has -1 beer","date":"2012-02-15T13:11:43.958Z","type":"message"}
{"nick":"bnoordhuis","message":"silly kohai bot","date":"2012-02-15T13:11:54.320Z","type":"message"}
{"nick":"kohai","message":"'Bot' is a derogatory term, and I'm offended.","date":"2012-02-15T13:11:54.498Z","type":"message"}
{"nick":"mmalecki","message":"I never liked but anyway","date":"2012-02-15T13:11:54.730Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: reset the marker on the first header, read it back again in on_headers_complete?","date":"2012-02-15T13:12:35.808Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-02-15T13:12:55.864Z","type":"join"}
{"nick":"mmalecki","message":"bnoordhuis: you mean in the parser or in node?","date":"2012-02-15T13:13:13.686Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: I can't see how'd you be able to do that on node's side.","date":"2012-02-15T13:14:31.844Z","type":"message"}
{"nick":"mmalecki","message":"unless parser->nread doesn't get reset before that","date":"2012-02-15T13:14:53.015Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: i mean in http_parser","date":"2012-02-15T13:15:02.875Z","type":"message"}
{"nick":"mmalecki","message":"but nread is a private api, iirc","date":"2012-02-15T13:15:04.946Z","type":"message"}
{"nick":"bentkus","new_nick":"txdv","date":"2012-02-15T13:15:23.156Z","type":"nick"}
{"nick":"mmalecki","message":"bnoordhuis: hm, it'd allow keep alive connections as well?","date":"2012-02-15T13:16:11.309Z","type":"message"}
{"nick":"mmalecki","message":"I mean, headers after body?","date":"2012-02-15T13:16:28.677Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: er/","date":"2012-02-15T13:17:11.087Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean: er?","date":"2012-02-15T13:17:16.812Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: boundary will ignore headers after body rigth now","date":"2012-02-15T13:19:27.441Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: you mean trailing http headers?","date":"2012-02-15T13:19:43.499Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: yeah, that was the name","date":"2012-02-15T13:19:52.126Z","type":"message"}
{"nick":"bnoordhuis","message":"aside, i've always felt they're a daft concept","date":"2012-02-15T13:20:16.765Z","type":"message"}
{"nick":"mmalecki","message":"yeah >.<","date":"2012-02-15T13:20:38.387Z","type":"message"}
{"nick":"bnoordhuis","message":"what is your question, maciej? do you need the trailers?","date":"2012-02-15T13:21:00.137Z","type":"message"}
{"nick":"bnoordhuis","message":"the weather is so shite today","date":"2012-02-15T13:22:17.932Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: I don't feel like your method is better than mine if it still \"ignores\" trailers. does it do that?","date":"2012-02-15T13:22:19.170Z","type":"message"}
{"nick":"bnoordhuis","message":"and i still need to do the groceries...","date":"2012-02-15T13:22:24.931Z","type":"message"}
{"nick":"mmalecki","message":"I'd be more comfortable with reading code :)","date":"2012-02-15T13:22:39.092Z","type":"message"}
{"nick":"mmalecki","message":"and yeah, I have to leave too, I'm late, actually","date":"2012-02-15T13:22:49.664Z","type":"message"}
{"nick":"felixge","date":"2012-02-15T13:22:55.000Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-02-15T13:22:55.163Z","type":"quit"}
{"nick":"felixge","date":"2012-02-15T13:22:55.163Z","type":"join"}
{"nick":"bnoordhuis","message":"mmalecki: okay, we'll discuss it later today","date":"2012-02-15T13:22:58.920Z","type":"message"}
{"nick":"felixge","message":"bnoordhuis: > What would that approximately look like in Node, Felix?","date":"2012-02-15T13:23:08.450Z","type":"message"}
{"nick":"felixge","message":"do you mean the JS API for execSync?","date":"2012-02-15T13:23:15.223Z","type":"message"}
{"nick":"bnoordhuis","message":"felixge: yes","date":"2012-02-15T13:23:18.848Z","type":"message"}
{"nick":"felixge","message":"or my sub-loop implementation of it?","date":"2012-02-15T13:23:21.860Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ok. see you later.","date":"2012-02-15T13:23:25.741Z","type":"message"}
{"nick":"felixge","message":"well the API would be similar to spawn","date":"2012-02-15T13:23:39.712Z","type":"message"}
{"nick":"felixge","message":"lets say:","date":"2012-02-15T13:23:43.453Z","type":"message"}
{"nick":"felixge","message":"var result = child_process.execSync('program', args, options);","date":"2012-02-15T13:24:03.427Z","type":"message"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-02-15T13:24:18.089Z","type":"nick"}
{"nick":"felixge","message":"result = {stdout: '…', stderr: '…', exitCode: 0, exitSignal: null, ...}","date":"2012-02-15T13:24:20.890Z","type":"message"}
{"nick":"felixge","message":"something like that","date":"2012-02-15T13:24:23.793Z","type":"message"}
{"nick":"felixge","message":"s/similar to spawn/similar to execFile/","date":"2012-02-15T13:24:40.498Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, now i understand why waitpid() and friends are not an option","date":"2012-02-15T13:24:53.088Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, that would need to be fixed in libev","date":"2012-02-15T13:25:16.944Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: felixge: https://github.com/piscisaureus/libuv/commit/844312c190b3acefcd95b48fde0c223475be030e","date":"2012-02-15T13:25:21.749Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- that was the prototype we did at jsconf.eu","date":"2012-02-15T13:25:40.146Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: cool, you found it!","date":"2012-02-15T13:26:02.310Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: but that would run into the same issue eventually. no?","date":"2012-02-15T13:26:14.033Z","type":"message"}
{"nick":"piscisaureus_","message":"it is outdated though","date":"2012-02-15T13:26:17.240Z","type":"message"}
{"nick":"piscisaureus_","message":"but the idea is there :-)","date":"2012-02-15T13:26:24.685Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: well, I'm hoping I could tackle this on an even higher level","date":"2012-02-15T13:26:51.621Z","type":"message"}
{"nick":"felixge","message":"that is: uv itself wouldn't even need to implement exec_sync","date":"2012-02-15T13:27:06.781Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: yep, that was the idea","date":"2012-02-15T13:27:19.711Z","type":"message"}
{"nick":"felixge","message":"I'd simply re-use the async one as well as the higher level stuff in child_process.js","date":"2012-02-15T13:27:22.216Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: I don't think that is really doable unless you have a really good idea for it :-)","date":"2012-02-15T13:27:54.756Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: what makes you think so?","date":"2012-02-15T13:28:15.327Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: that said, it doesn't have to be in libuv itself since it uses only public libuv APIs","date":"2012-02-15T13:28:25.931Z","type":"message"}
{"nick":"bnoordhuis","message":"there's still the signal delivery awkwardness","date":"2012-02-15T13:28:47.170Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, that needs to be fixed","date":"2012-02-15T13:28:54.902Z","type":"message"}
{"nick":"felixge","message":"while running the sub-loop, all the events should work normally","date":"2012-02-15T13:28:56.312Z","type":"message"}
{"nick":"felixge","message":"the only difference is that only events from the sub-loop would trigger callbacks in JS","date":"2012-02-15T13:29:12.989Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: ah, okay, that makes sense","date":"2012-02-15T13:29:28.805Z","type":"message"}
{"nick":"felixge","message":"and from an end-user perspective the execSync() call blocks","date":"2012-02-15T13:29:29.316Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: although I am afraid of it :-)","date":"2012-02-15T13:29:37.382Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: hah","date":"2012-02-15T13:29:43.179Z","type":"message"}
{"nick":"bnoordhuis","message":"i can see a lot of problems with that approach","date":"2012-02-15T13:29:49.727Z","type":"message"}
{"nick":"felixge","message":"I find it quite an elegant hack","date":"2012-02-15T13:29:55.288Z","type":"message"}
{"nick":"felixge","message":"bnoordhuis: share them","date":"2012-02-15T13:30:00.560Z","type":"message"}
{"nick":"bnoordhuis","message":"how would you stop thread pool callbacks in the main loop, for example?","date":"2012-02-15T13:30:20.657Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, that is doable. the main thread is blocked so that should not be a problem","date":"2012-02-15T13:30:37.860Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, but can you block it for a long time?","date":"2012-02-15T13:31:05.138Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes, why not","date":"2012-02-15T13:31:10.551Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: this is my code so far: https://github.com/felixge/node/commit/8aa7a3c38ed860ebbe933e3a4c5bd66668babf7c","date":"2012-02-15T13:31:18.265Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: stuff just gets queued up","date":"2012-02-15T13:31:23.211Z","type":"message"}
{"nick":"bnoordhuis","message":"seems like a good way to lose events / let a ginormous backlog build up / etc.","date":"2012-02-15T13:31:24.147Z","type":"message"}
{"nick":"felixge","message":"(I agree that execFileSync looks a little hackish, but otherwise I could sleep well with this","date":"2012-02-15T13:31:42.527Z","type":"message"}
{"nick":"felixge","message":"bnoordhuis: this is meant to be used within a busy server","date":"2012-02-15T13:31:53.313Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: but you would have to make sure that the child pipes are also attached to the subloop","date":"2012-02-15T13:32:12.520Z","type":"message"}
{"nick":"felixge","message":"it's mostly to make node a more comfortable shell scripting language","date":"2012-02-15T13:32:16.830Z","type":"message"}
{"nick":"felixge","message":"where you normally want everything to be sequential","date":"2012-02-15T13:32:25.158Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: otherwise read and write events are not delivered in the subloop","date":"2012-02-15T13:32:28.550Z","type":"message"}
{"nick":"bnoordhuis","message":"felixge: probably you mean \"is meant not to be used\"?","date":"2012-02-15T13:32:33.806Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: the child would be started inside the sub loop, so all the pipes should be attached to the sub loop as well","date":"2012-02-15T13:32:56.039Z","type":"message"}
{"nick":"felixge","message":"bnoordhuis: yes, sorry :)","date":"2012-02-15T13:33:07.419Z","type":"message"}
{"nick":"felixge","message":"bnoordhuis: Also, no matter how this is implemented, stuff would queue up in the main loop.","date":"2012-02-15T13:33:47.136Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: well the pipes are created here https://github.com/felixge/node/blob/8aa7a3c38ed860ebbe933e3a4c5bd66668babf7c/lib/child_process.js#L461","date":"2012-02-15T13:34:05.748Z","type":"message"}
{"nick":"felixge","message":"We could revisit the discussion on whether we want execSync in core or not","date":"2012-02-15T13:34:10.934Z","type":"message"}
{"nick":"felixge","message":"but I'm fairly comfortable with it","date":"2012-02-15T13:34:23.047Z","type":"message"}
{"nick":"felixge","message":"so is isaac afai","date":"2012-02-15T13:34:26.133Z","type":"message"}
{"nick":"felixge","message":"* afaik","date":"2012-02-15T13:34:28.093Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: which means that the pipes are attached to the main loop","date":"2012-02-15T13:34:38.577Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: thanks, good pointer","date":"2012-02-15T13:35:01.305Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: but seems pretty fixable","date":"2012-02-15T13:35:06.812Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: you know what. You implement it, then I will break it :-)","date":"2012-02-15T13:35:37.481Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: deal","date":"2012-02-15T13:35:46.994Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: I can't think of anything that makes it completely unfeasible right now, but I am about as worried as Ben","date":"2012-02-15T13:36:07.469Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: except for the libev signal issue: https://github.com/joyent/node/issues/1167#issuecomment-3595353","date":"2012-02-15T13:36:09.240Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, we should fix that","date":"2012-02-15T13:36:18.743Z","type":"message"}
{"nick":"felixge","message":"that's the one I feel rather unable to tackle","date":"2012-02-15T13:36:23.985Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: it is really hairy :-)","date":"2012-02-15T13:36:36.102Z","type":"message"}
{"nick":"felixge","message":"with that out of the way, I'm willing to go down the sub-loop road and fight the dragons there might be","date":"2012-02-15T13:36:52.784Z","type":"message"}
{"nick":"felixge","message":":)","date":"2012-02-15T13:36:53.737Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: yeah","date":"2012-02-15T13:36:57.837Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: however, I'd be ok with a partial solution","date":"2012-02-15T13:37:19.547Z","type":"message"}
{"nick":"felixge","message":"I mean my sub-loop only needs one and only one child process","date":"2012-02-15T13:37:30.557Z","type":"message"}
{"nick":"felixge","message":"and I only need one additional sub-loop","date":"2012-02-15T13:37:37.598Z","type":"message"}
{"nick":"felixge","message":"not sure if that is any help, but it could limit the problem space","date":"2012-02-15T13:37:46.006Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: well you only need it in a subloop... that might help","date":"2012-02-15T13:38:12.130Z","type":"message"}
{"nick":"piscisaureus_","message":"there's no risk of race conditions with signal watcher management etc","date":"2012-02-15T13:38:25.166Z","type":"message"}
{"nick":"felixge","message":"in fact, I'd also be ok with an exception that is triggered when trying to call execSync while there is still an async child process running","date":"2012-02-15T13:38:26.624Z","type":"message"}
{"nick":"felixge","message":"people shouldn't be doing that anyway","date":"2012-02-15T13:38:30.684Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: is signalfd an unix-only concept?","date":"2012-02-15T13:39:00.408Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: or in other words: I need only one \"active\" loop","date":"2012-02-15T13:39:01.248Z","type":"message"}
{"nick":"bnoordhuis","message":"bnoordhuis: it's a linux-only concept","date":"2012-02-15T13:39:17.404Z","type":"message"}
{"nick":"piscisaureus_","message":"talking to yourselves aren't youy?","date":"2012-02-15T13:39:34.600Z","type":"message"}
{"nick":"felixge","message":": p","date":"2012-02-15T13:39:51.026Z","type":"message"}
{"nick":"felixge","message":"I guess there are no frozen homeless people anymore to talk to (recalling a rather awkward conversation I saw in here a while ago) : )","date":"2012-02-15T13:40:36.301Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: link?","date":"2012-02-15T13:40:59.591Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't recall","date":"2012-02-15T13:41:02.948Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: http://piscisaureus.no.de/log/2012-02-03#23:08:49.296 ?","date":"2012-02-15T13:42:54.799Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: yes :)","date":"2012-02-15T13:46:52.175Z","type":"message"}
{"nick":"felixge","message":"I was a bit confused","date":"2012-02-15T13:46:57.378Z","type":"message"}
{"nick":"felixge","message":"when reading that","date":"2012-02-15T13:46:59.577Z","type":"message"}
{"nick":"felixge","message":"I guess it was just very black humor :)","date":"2012-02-15T13:47:08.037Z","type":"message"}
{"nick":"felixge","message":"anyway, back to event loops for a second. piscisaureus_ would you volunteer to have a look at the libev limitation?","date":"2012-02-15T13:48:45.690Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: I volunteer","date":"2012-02-15T13:49:06.697Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: but I may not get there as this involves a lot of gory unix details","date":"2012-02-15T13:49:33.349Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: heh, ok","date":"2012-02-15T13:49:46.578Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: I guess just update the google groups thread when you have something to try out / or any other updates.","date":"2012-02-15T13:49:55.267Z","type":"message"}
{"nick":"felixge","message":"I'll post a quick update there myself now","date":"2012-02-15T13:50:08.388Z","type":"message"}
{"nick":"piscisaureus_","message":"felixge: ok, good","date":"2012-02-15T13:50:11.199Z","type":"message"}
{"nick":"felixge","message":"piscisaureus_: awesome, thank you so much","date":"2012-02-15T13:52:45.805Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/http-parser/pull/91 <- *sigh*","date":"2012-02-15T14:12:05.185Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: ha. gotta do what you gotta do. i agree with you. strict and consistent. way to be.","date":"2012-02-15T14:15:43.387Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just don't attribute the patch to this guy, and land it under your own name. This is not a \"creative work\" in the sense of the Berne convention.","date":"2012-02-15T14:24:55.347Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: joyent's legal department is rather insistent about it","date":"2012-02-15T14:25:38.201Z","type":"message"}
{"nick":"bnoordhuis","message":"where it means 'signed CLAs'","date":"2012-02-15T14:26:06.022Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: this is a nice way to fuck up node.","date":"2012-02-15T14:27:19.699Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: submit a pull request","date":"2012-02-15T14:27:26.632Z","type":"message"}
{"nick":"piscisaureus_","message":"that does something really obivous and also important","date":"2012-02-15T14:27:37.857Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then refuse to sign the CLA","date":"2012-02-15T14:27:41.758Z","type":"message"}
{"nick":"piscisaureus_","message":"so we can never have that fix","date":"2012-02-15T14:27:49.343Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what will you do if someone else supplies the same patch?","date":"2012-02-15T14:28:01.719Z","type":"message"}
{"nick":"bnoordhuis","message":"someone who has signed the CLA?","date":"2012-02-15T14:28:21.591Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-02-15T14:28:25.130Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll probably merge it, for better or worse","date":"2012-02-15T14:28:52.975Z","type":"message"}
{"nick":"wankdanker","reason":"Read error: Connection reset by peer","date":"2012-02-15T14:28:54.309Z","type":"quit"}
{"nick":"wankdanker","date":"2012-02-15T14:35:24.532Z","type":"join"}
{"nick":"bnoordhu1s","date":"2012-02-15T14:38:55.339Z","type":"join"}
{"nick":"felixge","message":"bnoordhuis: seems like this problem really needs to be fixed on joyents end so","date":"2012-02-15T14:47:16.874Z","type":"message"}
{"nick":"felixge","message":"it seems rather ridiculous to have to implement workaround procedures for changing 5 characters in node","date":"2012-02-15T14:48:17.882Z","type":"message"}
{"nick":"felixge","message":":)","date":"2012-02-15T14:48:22.729Z","type":"message"}
{"nick":"bnoordhuis","message":"felixge: agreed","date":"2012-02-15T15:16:35.215Z","type":"message"}
{"nick":"bnoordhuis","message":"i blame the USA's messed up copyright and patent laws","date":"2012-02-15T15:17:00.253Z","type":"message"}
{"nick":"isaacs","date":"2012-02-15T15:23:45.925Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-02-15T15:34:04.083Z","type":"message"}
{"nick":"piscisaureus_","message":"> process.env['=kaas'] = 'kaas'","date":"2012-02-15T15:34:05.450Z","type":"message"}
{"nick":"piscisaureus_","message":"'kaas'","date":"2012-02-15T15:34:05.610Z","type":"message"}
{"nick":"piscisaureus_","message":"> process.env['=kaas']","date":"2012-02-15T15:34:05.610Z","type":"message"}
{"nick":"piscisaureus_","message":"undefined","date":"2012-02-15T15:34:05.610Z","type":"message"}
{"nick":"piscisaureus_","message":"is this desirable?","date":"2012-02-15T15:34:08.892Z","type":"message"}
{"nick":"piscisaureus_","message":"It should throw or ignore","date":"2012-02-15T15:34:32.434Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ignore what?","date":"2012-02-15T15:36:53.594Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i see what you mean","date":"2012-02-15T15:37:01.834Z","type":"message"}
{"nick":"bnoordhuis","message":"that's probably a feature of setenv()","date":"2012-02-15T15:37:20.953Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no we are just ignoring the return value of setenv","date":"2012-02-15T15:37:37.895Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-02-15T15:37:57.072Z","type":"message"}
{"nick":"bnoordhuis","message":"rereading it again, i don't understand what you mean by ignore :)","date":"2012-02-15T15:38:21.924Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well (process.env['=kaas'] = 'hallo') == undefined","date":"2012-02-15T15:38:47.705Z","type":"message"}
{"nick":"piscisaureus_","message":"whould probably be better","date":"2012-02-15T15:38:53.704Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but imho throwing would be even better :-)","date":"2012-02-15T15:39:25.162Z","type":"message"}
{"nick":"bnoordhuis","message":"well, it's a one-liner patch","date":"2012-02-15T15:40:08.522Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://gist.github.com/21a5bca23f3a9f9aa999","date":"2012-02-15T15:41:00.386Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: or `return ThrowException(Exception::New(\"fubar\"))","date":"2012-02-15T15:41:30.810Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-02-15T15:41:55.674Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah, i suppose","date":"2012-02-15T15:42:12.031Z","type":"message"}
{"nick":"bnoordhuis","action":"doesn't really care either way","date":"2012-02-15T15:42:22.572Z","type":"action"}
{"nick":"isaacs","message":"piscisaureus_: setters in JS always return the set value","date":"2012-02-15T15:45:54.354Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: even when they don't do anything","date":"2012-02-15T15:46:00.546Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: questionable. The setter function actually returns some value","date":"2012-02-15T15:46:20.712Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: or - you mean that is how it is supposed to be?","date":"2012-02-15T15:46:39.139Z","type":"message"}
{"nick":"isaacs","message":"> function foo () {}","date":"2012-02-15T15:47:05.462Z","type":"message"}
{"nick":"isaacs","message":"undefined","date":"2012-02-15T15:47:05.679Z","type":"message"}
{"nick":"isaacs","message":"> foo","date":"2012-02-15T15:47:05.838Z","type":"message"}
{"nick":"isaacs","message":"[Function: foo]","date":"2012-02-15T15:47:06.836Z","type":"message"}
{"nick":"isaacs","message":"> foo.name = 'bar'","date":"2012-02-15T15:47:08.851Z","type":"message"}
{"nick":"isaacs","message":"'bar'","date":"2012-02-15T15:47:10.992Z","type":"message"}
{"nick":"isaacs","message":"> foo.name","date":"2012-02-15T15:47:12.919Z","type":"message"}
{"nick":"isaacs","message":"'foo'","date":"2012-02-15T15:47:14.883Z","type":"message"}
{"nick":"piscisaureus_","message":"aha","date":"2012-02-15T15:47:18.115Z","type":"message"}
{"nick":"isaacs","message":"so, actually, (process.env['=kaas'] = 'hallo') == undefined would be surprising and wrong.","date":"2012-02-15T15:47:37.623Z","type":"message"}
{"nick":"isaacs","message":"there's precedent for *throwing* which i'd probably be ok with","date":"2012-02-15T15:47:58.212Z","type":"message"}
{"nick":"isaacs","message":"but the options are either what we have, or throw an error","date":"2012-02-15T15:48:07.346Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok, right","date":"2012-02-15T15:48:16.586Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/node/commit/0685707 <- review","date":"2012-02-15T15:55:12.783Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes indeed, lgtm","date":"2012-02-15T15:55:36.198Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u00020685707\u000f \u000310\u000f/ (src/pipe_wrap.cc src/tcp_wrap.cc)\u0002:\u000f ","date":"2012-02-15T15:56:14.426Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f tcp, pipe: don't assert on uv_accept() errors","date":"2012-02-15T15:56:14.590Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f It's possible for a new connection to be closed in the window between the","date":"2012-02-15T15:56:14.591Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f accept() syscall and the call to uv_accept(). Deal with it and move on, don't","date":"2012-02-15T15:56:14.591Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f assert. - http://git.io/_2BfSw","date":"2012-02-15T15:56:14.591Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs, piscisaureus_: https://github.com/bnoordhuis/node/commit/62f82f0 <- review plz","date":"2012-02-15T16:00:04.737Z","type":"message"}
{"nick":"bnoordhuis","message":"that's for master btw","date":"2012-02-15T16:00:18.315Z","type":"message"}
{"nick":"isaacs","message":"lgtm","date":"2012-02-15T16:00:55.714Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T16:04:02.109Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#418 (v0.6 - 0685707 : Ben Noordhuis): The build was broken.","date":"2012-02-15T16:04:02.262Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/14b20ff...0685707","date":"2012-02-15T16:04:02.262Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/682120","date":"2012-02-15T16:04:02.263Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T16:04:02.263Z","type":"part"}
{"nick":"bnoordhuis","message":"^ broken? wut?","date":"2012-02-15T16:04:22.366Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00026141386\u000f \u000310\u000f/ (lib/http.js test/simple/test-http-server-multiheaders.js)\u0002:\u000f http: allow multiple WWW-Authenticate headers - http://git.io/fM-SVw","date":"2012-02-15T16:04:47.750Z","type":"message"}
{"nick":"indutny","message":"hohoho","date":"2012-02-15T16:05:15.615Z","type":"message"}
{"nick":"indutny","message":"sorry","date":"2012-02-15T16:05:26.636Z","type":"message"}
{"nick":"indutny","message":"actually I'm away","date":"2012-02-15T16:05:30.413Z","type":"message"}
{"nick":"indutny","new_nick":"indutny_away","date":"2012-02-15T16:05:35.780Z","type":"nick"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-02-15T16:05:37.725Z","type":"nick"}
{"nick":"mmalecki","message":"bnoordhuis: hello.","date":"2012-02-15T16:06:45.678Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: olleh","date":"2012-02-15T16:08:01.789Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: sorry, I noticed some conversation about homeless people, had to read it all","date":"2012-02-15T16:12:09.020Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: so, you basically want to \"emit\" a boundary after each chunk of headers?","date":"2012-02-15T16:12:35.622Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: seems like what substizzy wants as well. I've thought about it as a next step, tho.","date":"2012-02-15T16:13:40.642Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: i was thinking of a counter that gets updated after each byte","date":"2012-02-15T16:19:28.675Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ugh. that's what we do.","date":"2012-02-15T16:19:40.396Z","type":"message"}
{"nick":"bnoordhuis","message":"that would allow callbacks to track where exactly in the byte stream they are","date":"2012-02-15T16:19:52.110Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: also, you realize that doing that in node will be slow?","date":"2012-02-15T16:19:52.998Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-02-15T16:19:59.301Z","type":"message"}
{"nick":"bnoordhuis","message":"so i'm not proposing to do it in node","date":"2012-02-15T16:20:04.825Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T16:20:42.069Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#419 (master - 6141386 : Ben Noordhuis): The build is still failing.","date":"2012-02-15T16:20:42.233Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/9a0d907...6141386","date":"2012-02-15T16:20:42.233Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/682160","date":"2012-02-15T16:20:42.233Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T16:20:42.233Z","type":"part"}
{"nick":"mmalecki","message":"ok, so callbacks would \"mark\" boundaries?","date":"2012-02-15T16:20:47.731Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-02-15T16:20:54.328Z","type":"message"}
{"nick":"bnoordhuis","message":"the callee would be free to reset the byte counter","date":"2012-02-15T16:21:19.917Z","type":"message"}
{"nick":"mmalecki","message":"sounds sane-ish. mind if I bring in substack?","date":"2012-02-15T16:21:31.349Z","type":"message"}
{"nick":"mmalecki","message":"if he's awake, of course","date":"2012-02-15T16:21:40.844Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2012-02-15T16:21:44.981Z","type":"message"}
{"nick":"bnoordhuis","message":"one thing though, the counter would need to be 64 bits","date":"2012-02-15T16:21:58.439Z","type":"message"}
{"nick":"bnoordhuis","message":"that's a considerable memory overhead so it would have to be a #ifdef feature","date":"2012-02-15T16:22:12.150Z","type":"message"}
{"nick":"mmalecki","message":"and fb guy starts fuding again :)","date":"2012-02-15T16:22:23.209Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean peter griess?","date":"2012-02-15T16:22:35.927Z","type":"message"}
{"nick":"mmalecki","message":"yes","date":"2012-02-15T16:22:39.699Z","type":"message"}
{"nick":"bnoordhuis","action":"didn't know peter worked at facebook","date":"2012-02-15T16:22:43.097Z","type":"action"}
{"nick":"pksunkara","date":"2012-02-15T16:23:06.879Z","type":"join"}
{"nick":"mmalecki","message":"ok, so it'd be enabled on node?","date":"2012-02-15T16:23:12.047Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-02-15T16:23:18.647Z","type":"message"}
{"nick":"bnoordhuis","message":"provided i see the use case :)","date":"2012-02-15T16:23:32.163Z","type":"message"}
{"nick":"mmalecki","message":"you know the use case.","date":"2012-02-15T16:23:43.812Z","type":"message"}
{"nick":"bnoordhuis","message":"well... i know *what* you want, i'm still a tad unclear on *why* you want it","date":"2012-02-15T16:24:17.373Z","type":"message"}
{"nick":"mmalecki","message":"have you read that comment Charlie made?","date":"2012-02-15T16:24:38.573Z","type":"message"}
{"nick":"bnoordhuis","message":"i never read comments, i don't want my judgment clouded by facts","date":"2012-02-15T16:25:05.242Z","type":"message"}
{"nick":"mmalecki","message":"lol","date":"2012-02-15T16:25:22.630Z","type":"message"}
{"nick":"mmalecki","message":"I thought https://github.com/joyent/http-parser/pull/89#issuecomment-3943603 explains it quite well","date":"2012-02-15T16:25:57.348Z","type":"message"}
{"nick":"mmalecki","message":"mikeal: maybe you can add something about use cases here. not sure if you want it for proxying or not","date":"2012-02-15T16:26:24.572Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: what does a boundary let you do that http.request() or http.Server doesn't let you do?","date":"2012-02-15T16:28:22.361Z","type":"message"}
{"nick":"bnoordhuis","message":"i read it as: i want the headers and i want to modify them","date":"2012-02-15T16:28:42.780Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: sec, looking for example code indexzero put together","date":"2012-02-15T16:30:12.259Z","type":"message"}
{"nick":"mmalecki","message":"ok, I guess not.","date":"2012-02-15T16:31:20.592Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: basically, we'll be able to just use net.Server","date":"2012-02-15T16:31:36.125Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, and that is good why?","date":"2012-02-15T16:31:47.743Z","type":"message"}
{"nick":"mmalecki","message":"argh. it's faster, less cruft, etc. when you proxy, you don't really need all the things http.Server does","date":"2012-02-15T16:34:16.415Z","type":"message"}
{"nick":"bnoordhuis","message":"cruft? aw","date":"2012-02-15T16:36:32.813Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: no offense :)","date":"2012-02-15T16:37:08.434Z","type":"message"}
{"nick":"mmalecki","message":"I just see net as a better solution for proxying","date":"2012-02-15T16:37:25.461Z","type":"message"}
{"nick":"bnoordhuis","message":"i kind of see that","date":"2012-02-15T16:37:47.989Z","type":"message"}
{"nick":"mmalecki","message":"I'm glad you do :)","date":"2012-02-15T16:38:13.784Z","type":"message"}
{"nick":"bnoordhuis","message":"you realize that depending on the parser bindings is a dangerous thing to do right?","date":"2012-02-15T16:38:17.877Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: we like living on the edge","date":"2012-02-15T16:38:47.142Z","type":"message"}
{"nick":"bnoordhuis","message":"very brave","date":"2012-02-15T16:39:08.937Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: question: why don't you bundle your own copy of http-parser?","date":"2012-02-15T16:39:51.251Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: I can ask Charlie to talk to you later if you feel like. he probably has more to say than I do :)","date":"2012-02-15T16:39:52.896Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: hm.","date":"2012-02-15T16:39:59.520Z","type":"message"}
{"nick":"bnoordhuis","message":"then you won't have to get past me first :)","date":"2012-02-15T16:40:14.218Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: if it doesn't work out, we will","date":"2012-02-15T16:40:16.159Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: but seems like other people want it as well","date":"2012-02-15T16:40:33.856Z","type":"message"}
{"nick":"bnoordhuis","message":"that last comment was tongue-in-cheek","date":"2012-02-15T16:40:43.196Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: and I've heard this http-parser thing is open source, so","date":"2012-02-15T16:40:45.658Z","type":"message"}
{"nick":"bnoordhuis","message":"but what i said about the parser bindings is serious","date":"2012-02-15T16:40:53.813Z","type":"message"}
{"nick":"bnoordhuis","message":"if i can shave off 2% by chopping up the bindings, i will","date":"2012-02-15T16:41:09.684Z","type":"message"}
{"nick":"bnoordhuis","message":"and without regret","date":"2012-02-15T16:41:15.336Z","type":"message"}
{"nick":"mmalecki","message":"uhm, what?","date":"2012-02-15T16:41:42.361Z","type":"message"}
{"nick":"mmalecki","message":"how'd you even do that?","date":"2012-02-15T16:41:50.385Z","type":"message"}
{"nick":"tjfontaine","message":"removing exported bindings, if that saves 2% he will","date":"2012-02-15T16:41:59.224Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that","date":"2012-02-15T16:42:21.983Z","type":"message"}
{"nick":"mmalecki","message":"I mean. that's just insane.","date":"2012-02-15T16:42:26.437Z","type":"message"}
{"nick":"tjfontaine","message":"and that's why it's dangerous to rely on private apis :)","date":"2012-02-15T16:42:53.029Z","type":"message"}
{"nick":"bnoordhuis","message":"the 2% i'm talking about is performance, not e.g. file size, but the point stands","date":"2012-02-15T16:43:27.858Z","type":"message"}
{"nick":"mmalecki","message":"http.parsers is public, afaik","date":"2012-02-15T16:43:40.988Z","type":"message"}
{"nick":"bnoordhuis","message":"nuh-uh","date":"2012-02-15T16:43:48.152Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: oh well.","date":"2012-02-15T16:46:50.202Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: bundling it is not a problem for me","date":"2012-02-15T16:47:13.930Z","type":"message"}
{"nick":"isaacs","message":"if just read the scrollback here.  yes, if there's a 2% performance win to be had, i 100% support bnoordhuis in doing what we need to in order to make that happen.","date":"2012-02-15T16:48:56.592Z","type":"message"}
{"nick":"isaacs","message":"*i just read, not \"if just read\"","date":"2012-02-15T16:49:04.675Z","type":"message"}
{"nick":"mmalecki","message":"I don't see how removing process.bindings would cause any performance win","date":"2012-02-15T16:49:42.988Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: it's more a principle.","date":"2012-02-15T16:50:00.257Z","type":"message"}
{"nick":"AvianFlu","message":"mmalecki, they're warning us that if that ever happened to be the case, our use case wouldn't be their concern","date":"2012-02-15T16:50:08.958Z","type":"message"}
{"nick":"isaacs","message":"process.binding is private.","date":"2012-02-15T16:50:13.894Z","type":"message"}
{"nick":"mmalecki","message":"AvianFlu: yes, I'm aware :)","date":"2012-02-15T16:50:19.643Z","type":"message"}
{"nick":"isaacs","message":"this use case is clearly relevant, since people *will* use node for http proxies.  but rather than expose more of node's guts to make net.Server work as a proxy more effectively, i'd rather address whatever it is that makes http.Server an inadequate proxy.","date":"2012-02-15T16:50:49.653Z","type":"message"}
{"nick":"AvianFlu","message":"isaacs, it's a question of parsing an http request, looking at it, and making a new http request to the destination, vs. piping a tcp stream","date":"2012-02-15T16:51:40.098Z","type":"message"}
{"nick":"isaacs","message":"the nodejitsu http proxy is what happens when you start out using node's builtin http and hack around all the issues.","date":"2012-02-15T16:51:48.450Z","type":"message"}
{"nick":"AvianFlu","message":"when we can make the latter work, it's way faster","date":"2012-02-15T16:51:50.805Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: bottom line, you're parsing the incoming stream as http, and then translating it into an outgoing http stream.","date":"2012-02-15T16:52:11.445Z","type":"message"}
{"nick":"isaacs","message":"and then taking the response, and translating it a little into the response to the original client.","date":"2012-02-15T16:52:52.647Z","type":"message"}
{"nick":"isaacs","message":"it's not quite simply a matter of piping data.  but, we should be able to make it that simple, i think.","date":"2012-02-15T16:53:16.834Z","type":"message"}
{"nick":"isaacs","message":"bouncy is what happens when you decide to use node's net.Server directly, and parse http yourself.","date":"2012-02-15T16:53:39.700Z","type":"message"}
{"nick":"isaacs","message":"now we're exploring using node's internals, and still using net.Server.  i think we're missing an obvious solution, which is a bit more costly to implement, but better long-term.","date":"2012-02-15T16:54:01.807Z","type":"message"}
{"nick":"AvianFlu","message":"the only thing that really draws us to net.Server is the complexity of the existing approach - so I'm inclined to agree with you, overall","date":"2012-02-15T16:55:01.134Z","type":"message"}
{"nick":"stephank","date":"2012-02-15T16:56:23.828Z","type":"join"}
{"nick":"isaacs","message":"another not-completely-insane idea is to move the http parser into JS, but it'd have to be much faster than parsley","date":"2012-02-15T16:56:34.251Z","type":"message"}
{"nick":"AvianFlu","message":"isaacs, do you think the speed hit parsley takes is more from js or from implementation?","date":"2012-02-15T16:57:18.656Z","type":"message"}
{"nick":"AvianFlu","message":"there are places where parsley can use faster js constructs, but I'm still skeptical a bit of doing that in js","date":"2012-02-15T16:57:56.097Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: i think that a more straightforward C->JS transliteration of http_parser would be faster than parsley.  but i am skeptical that it'd be faster than http_parser","date":"2012-02-15T16:57:57.977Z","type":"message"}
{"nick":"isaacs","message":"parsley is built for extensibility and expressiveness.  it's fast enough.","date":"2012-02-15T16:58:33.457Z","type":"message"}
{"nick":"isaacs","message":"but not fast enough for node.","date":"2012-02-15T16:58:38.664Z","type":"message"}
{"nick":"AvianFlu","message":"the big unknown, for me, is just how bad the c<->js boundary is","date":"2012-02-15T16:58:41.728Z","type":"message"}
{"nick":"AvianFlu","message":"it's not somewhere I've had to tread yet","date":"2012-02-15T16:58:48.038Z","type":"message"}
{"nick":"txdv","message":"why do you want to exchange http parser in node?","date":"2012-02-15T16:58:56.721Z","type":"message"}
{"nick":"AvianFlu","message":"we're trying to make http proxying simpler and better","date":"2012-02-15T16:59:11.027Z","type":"message"}
{"nick":"AvianFlu","message":"that's the really short answer","date":"2012-02-15T16:59:15.147Z","type":"message"}
{"nick":"AndreasMadsen","message":"sorry for popping in, but the issue seams to be that request.pipe only pipe a body and not trailer header, and a boundary property would just be a work around. If the world was easy you could do: https://gist.github.com/1837361 - if I missed something I will just go again.","date":"2012-02-15T17:10:06.209Z","type":"message"}
{"nick":"isaacs","message":"yeah, i mean, ideally ServerRequest.pipe(ClientRequest) and ClientResponse.pipe(ServerResponse) shoudl be smart enough to Just Work.","date":"2012-02-15T17:12:03.657Z","type":"message"}
{"nick":"isaacs","message":"headers, trailers, et.","date":"2012-02-15T17:12:10.433Z","type":"message"}
{"nick":"isaacs","message":"etc.","date":"2012-02-15T17:12:12.225Z","type":"message"}
{"nick":"mmalecki","message":"not sure, but can't we just pipe sockets? req.socket.pipe(...)","date":"2012-02-15T17:12:53.140Z","type":"message"}
{"nick":"AndreasMadsen","message":"mmalecki: there can be more that one HTTP request on one socket","date":"2012-02-15T17:13:14.145Z","type":"message"}
{"nick":"mmalecki","message":"AndreasMadsen: it'd need some state then","date":"2012-02-15T17:13:45.424Z","type":"message"}
{"nick":"dap","date":"2012-02-15T17:14:12.362Z","type":"join"}
{"nick":"AndreasMadsen","message":"I have some old broken repo where I did http proxy before http-proxy-server existed, will go looking.","date":"2012-02-15T17:14:52.020Z","type":"message"}
{"nick":"AndreasMadsen","message":"no to shitty, but looks funny, I did a regexp search for HTTP x/x in the TCP stream to split up and then using a regexp to find the hostname -> https://github.com/AndreasMadsen/WebNodes/blob/master/WebNodes%20Library/library/relay.js","date":"2012-02-15T17:26:00.038Z","type":"message"}
{"nick":"AndreasMadsen","message":"But I like the https://gist.github.com/1837361 API way better","date":"2012-02-15T17:26:12.890Z","type":"message"}
{"nick":"orlandovftw","date":"2012-02-15T17:29:05.272Z","type":"join"}
{"nick":"igorzi","date":"2012-02-15T17:30:19.829Z","type":"join"}
{"nick":"pietern","date":"2012-02-15T17:30:27.948Z","type":"join"}
{"nick":"igorzi","message":"isaacs: you're getting build errors trying to build x64 with vc express?","date":"2012-02-15T17:37:14.105Z","type":"message"}
{"nick":"isaacs","message":"igorzi: yo","date":"2012-02-15T17:37:24.652Z","type":"message"}
{"nick":"isaacs","message":"yes","date":"2012-02-15T17:37:25.419Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i installed the x64 windows sdk","date":"2012-02-15T17:37:49.021Z","type":"message"}
{"nick":"isaacs","message":"that got me further.","date":"2012-02-15T17:37:51.851Z","type":"message"}
{"nick":"isaacs","message":"still getting this, though:","date":"2012-02-15T17:37:54.492Z","type":"message"}
{"nick":"isaacs","message":"LINK : fatal error LNK1181: cannot open input file 'winmm.lib' [C:\\node-v0.7.4\\","date":"2012-02-15T17:37:56.333Z","type":"message"}
{"nick":"isaacs","message":"node.vcxproj]","date":"2012-02-15T17:37:56.498Z","type":"message"}
{"nick":"AndreasMadsen","message":"request to improved HttpStream.pipe -> https://github.com/joyent/node/issues/2758","date":"2012-02-15T17:38:24.783Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T17:42:29.297Z","type":"quit"}
{"nick":"mikeal","date":"2012-02-15T17:43:13.926Z","type":"join"}
{"nick":"igorzi","message":"isaacs: ok..i'm trying to reproduce on a machine with just vc express","date":"2012-02-15T17:46:27.755Z","type":"message"}
{"nick":"isaacs","message":"igorzi: great.  that's the only thing blocking 0.7.4 right now.  otherwise we're good to go","date":"2012-02-15T17:47:11.485Z","type":"message"}
{"nick":"dshaw_","date":"2012-02-15T17:56:34.607Z","type":"join"}
{"nick":"igorzi_","date":"2012-02-15T18:01:45.753Z","type":"join"}
{"nick":"igorzi","reason":"Quit: Page closed","date":"2012-02-15T18:03:06.214Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T18:08:34.899Z","type":"quit"}
{"nick":"philips","reason":"Excess Flood","date":"2012-02-15T18:10:59.338Z","type":"quit"}
{"nick":"mikeal","date":"2012-02-15T18:11:24.561Z","type":"join"}
{"nick":"philips","date":"2012-02-15T18:12:05.723Z","type":"join"}
{"nick":"mrb_bk","message":"mikeal: cool article","date":"2012-02-15T18:14:17.375Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: DrPizza: do you guys think that child processes should inherit the current directory from the parent process?","date":"2012-02-15T18:14:22.562Z","type":"message"}
{"nick":"TooTallNate","date":"2012-02-15T18:14:34.401Z","type":"join"}
{"nick":"piscisaureus_","message":"that is, the current directory on other","date":"2012-02-15T18:14:34.557Z","type":"message"}
{"nick":"piscisaureus_","message":"... drives than the current drive","date":"2012-02-15T18:14:46.296Z","type":"message"}
{"nick":"DrPizza","message":"yes","date":"2012-02-15T18:15:01.207Z","type":"message"}
{"nick":"mikeal","message":"thanks","date":"2012-02-15T18:15:22.853Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: right now this isn't happening because we don't inherit\" =D:\"  environment variables","date":"2012-02-15T18:15:58.341Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: igorzi_: what determines a managed build from an unmanaged one","date":"2012-02-15T18:16:12.300Z","type":"message"}
{"nick":"TooTallNate","message":"i.e. node is unmanaged, but all the addons that gets build end up needing the .NET runtime installed","date":"2012-02-15T18:16:33.664Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus_: yeah I was just thinking about that","date":"2012-02-15T18:16:37.081Z","type":"message"}
{"nick":"mrb_bk","message":"mikeal: I think the first line might be clearer as \"As a programmer, it is the abstraction you live in the most that you will perceive as the platform.\"","date":"2012-02-15T18:16:37.643Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus_: they probably should be added to the list of \"always-inherit\" env vars","date":"2012-02-15T18:16:51.053Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 255 seconds","date":"2012-02-15T18:18:12.845Z","type":"quit"}
{"nick":"mikeal","message":"thanks, that is better, stealing!","date":"2012-02-15T18:19:15.789Z","type":"message"}
{"nick":"mikeal","message":"now we'll have to wait for amazon's CDN to propogate :)","date":"2012-02-15T18:20:52.251Z","type":"message"}
{"nick":"perezd","date":"2012-02-15T18:21:23.853Z","type":"join"}
{"nick":"mrb_bk","message":"i think you make some interesting points that i'd like to talk to you about in person sometime","date":"2012-02-15T18:28:30.039Z","type":"message"}
{"nick":"piscisaureus_","message":"DrPizza: right","date":"2012-02-15T18:39:08.994Z","type":"message"}
{"nick":"txdv","reason":"Ping timeout: 248 seconds","date":"2012-02-15T18:41:15.839Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-02-15T18:41:19.042Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: did you see my question above?","date":"2012-02-15T18:45:57.098Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: it's just a switch","date":"2012-02-15T18:46:28.118Z","type":"message"}
{"nick":"piscisaureus_","message":"let me see","date":"2012-02-15T18:46:34.898Z","type":"message"}
{"nick":"`3rdEden","date":"2012-02-15T18:46:36.900Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: you are just using common.gypi from node?","date":"2012-02-15T18:47:10.069Z","type":"message"}
{"nick":"piscisaureus_","message":"and nothing else?","date":"2012-02-15T18:47:15.494Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: common.gypi and tools/addon.gypi","date":"2012-02-15T18:47:36.880Z","type":"message"}
{"nick":"TooTallNate","message":"and then tools/gyp_addon invokes gyp itself","date":"2012-02-15T18:47:44.023Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: I don't know, it shouldn't happen","date":"2012-02-15T18:50:51.851Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: you should probably just open the .sln file in visual studio and browse through the project property pages","date":"2012-02-15T18:51:15.553Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: look for \"common language runtime\" related options","date":"2012-02-15T18:51:37.308Z","type":"message"}
{"nick":"igorzi_","message":"TooTallNate: how do you know that the addon requires .NET?  it won't load without .NET installed ?","date":"2012-02-15T18:52:16.366Z","type":"message"}
{"nick":"TooTallNate","message":"igorzi_: right, on a vanilla windows install, node would load but that addon would not until the runtime was installed","date":"2012-02-15T18:52:43.381Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-02-15T18:52:56.917Z","type":"quit"}
{"nick":"xaq","date":"2012-02-15T18:55:01.415Z","type":"join"}
{"nick":"isaacs","message":"igorzi_: any idea on the x64 build with express?","date":"2012-02-15T18:55:51.852Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you can't build x64 with express","date":"2012-02-15T18:56:05.015Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you have to use the SDK","date":"2012-02-15T18:56:10.137Z","type":"message"}
{"nick":"isaacs","message":"ok.. where does one get that?","date":"2012-02-15T18:56:33.586Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I have never tried building with the SDK so probably there are some pain points :-)","date":"2012-02-15T18:56:53.090Z","type":"message"}
{"nick":"isaacs","message":"i downloaded here: http://www.microsoft.com/downloads/dlx/en-us/ThankYou.aspx?FamilyID=6B6C21D2-2006-4AFA-9702-529FA782D63B","date":"2012-02-15T18:57:03.198Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-02-15T18:57:13.261Z","type":"message"}
{"nick":"isaacs","message":"which says that it's the x64 SDK","date":"2012-02-15T18:57:14.698Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's good","date":"2012-02-15T18:57:20.441Z","type":"message"}
{"nick":"isaacs","message":"but the vcbuild.bat x64 release fails","date":"2012-02-15T18:57:23.282Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: what happens?","date":"2012-02-15T18:57:33.819Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: LINK : fatal error LNK1181: cannot open input file 'winmm.lib' [C:\\node-v0.7.4\\node.vcxproj]","date":"2012-02-15T18:58:05.219Z","type":"message"}
{"nick":"piscisaureus_","message":"why do we need winmm anyway :-/","date":"2012-02-15T18:58:31.902Z","type":"message"}
{"nick":"piscisaureus_","message":"must be v8","date":"2012-02-15T18:58:34.545Z","type":"message"}
{"nick":"igorzi","date":"2012-02-15T18:59:54.758Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T19:00:11.232Z","type":"quit"}
{"nick":"igorzi","message":"it's not v8","date":"2012-02-15T19:00:24.645Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it must be - node and libuv are not using winmm afaik","date":"2012-02-15T19:00:49.747Z","type":"message"}
{"nick":"indutny_away","new_nick":"indutny","date":"2012-02-15T19:00:57.629Z","type":"nick"}
{"nick":"igorzi","message":"the issue is that the project is using the windows SDK that was installed with vc express, which points it to x86 libs","date":"2012-02-15T19:00:59.570Z","type":"message"}
{"nick":"piscisaureus_","message":"aah, oh like that","date":"2012-02-15T19:01:13.196Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes, they are.. it's one of the default libs","date":"2012-02-15T19:01:21.229Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: is there a \"Windows SDK command prompt\" in your start menu","date":"2012-02-15T19:01:35.855Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: extra points if you can find one that explicitly says (x64)","date":"2012-02-15T19:01:53.989Z","type":"message"}
{"nick":"isaacs","message":"yes, there is","date":"2012-02-15T19:02:04.574Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: open that","date":"2012-02-15T19:02:14.588Z","type":"message"}
{"nick":"isaacs","message":"Targeting Windows 7 x64 Debug","date":"2012-02-15T19:02:21.210Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2012-02-15T19:02:23.533Z","type":"message"}
{"nick":"isaacs","message":"promising :)","date":"2012-02-15T19:02:25.665Z","type":"message"}
{"nick":"igorzi","message":"i don't think that'll work","date":"2012-02-15T19:02:25.880Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: why not?","date":"2012-02-15T19:02:37.471Z","type":"message"}
{"nick":"igorzi","message":"cause vcvarsall will override it most likely","date":"2012-02-15T19:02:54.726Z","type":"message"}
{"nick":"xaq","date":"2012-02-15T19:03:30.405Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: try this:","date":"2012-02-15T19:03:31.305Z","type":"message"}
{"nick":"piscisaureus_","message":"set VCINSTALLDIR=foo","date":"2012-02-15T19:03:40.766Z","type":"message"}
{"nick":"piscisaureus_","message":"vcbuild release x64","date":"2012-02-15T19:03:47.110Z","type":"message"}
{"nick":"piscisaureus_","message":"(from the sdk terminal)","date":"2012-02-15T19:04:02.621Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: igorzi: you think this is realted to my problem? http://msdn.microsoft.com/en-us/library/2kzt1wy3.aspx","date":"2012-02-15T19:04:44.485Z","type":"message"}
{"nick":"isaacs","message":"vcbuild x64 nosnapshot <-- currently running","date":"2012-02-15T19:04:49.874Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that generates a debug build ... but let's see how that works","date":"2012-02-15T19:05:16.608Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: probably not","date":"2012-02-15T19:05:55.587Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: right, i don't think so either","date":"2012-02-15T19:06:02.168Z","type":"message"}
{"nick":"TooTallNate","message":"ok thanks, i just don't get why they would be building as managed in the first place","date":"2012-02-15T19:06:34.056Z","type":"message"}
{"nick":"TooTallNate","message":"since they don't use code that requires it and neither does node :\\","date":"2012-02-15T19:06:44.662Z","type":"message"}
{"nick":"indutny","new_nick":"indutny_sleeping","date":"2012-02-15T19:06:56.527Z","type":"nick"}
{"nick":"orlandovftw","date":"2012-02-15T19:07:53.623Z","type":"join"}
{"nick":"orlandovftw","reason":"Client Quit","date":"2012-02-15T19:07:58.776Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-02-15T19:08:11.593Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: indeed.  debug build built fine. signtool failed, since release isn't there.  building release now.","date":"2012-02-15T19:08:14.786Z","type":"message"}
{"nick":"isaacs","message":"this is promising!","date":"2012-02-15T19:08:17.458Z","type":"message"}
{"nick":"isaacs","message":"igorzi: ^","date":"2012-02-15T19:08:26.369Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi_: we probably have to detect the SDK as well, and not invoke vcvarsall when we find it","date":"2012-02-15T19:08:46.581Z","type":"message"}
{"nick":"igorzi","message":"isaacs: https://gist.github.com/1838218","date":"2012-02-15T19:08:54.450Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_  --^","date":"2012-02-15T19:09:02.429Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 4 beers","date":"2012-02-15T19:09:03.172Z","type":"message"}
{"nick":"igorzi","message":"damn","date":"2012-02-15T19:09:07.466Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_++","date":"2012-02-15T19:09:09.317Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 5 beers","date":"2012-02-15T19:09:09.845Z","type":"message"}
{"nick":"igorzi","message":":)","date":"2012-02-15T19:09:10.682Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks, igorzi_:","date":"2012-02-15T19:09:27.108Z","type":"message"}
{"nick":"mmalecki","message":"ok, I'm totally dealing with it in kohai refactor","date":"2012-02-15T19:09:31.727Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: what does the /p switch do? And will VC still work?","date":"2012-02-15T19:09:48.446Z","type":"message"}
{"nick":"piscisaureus_","message":"er, VS","date":"2012-02-15T19:09:51.653Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_, igorzi: i have no opinion about vcbuild.bat except that i'd prefer that it works :)","date":"2012-02-15T19:10:12.093Z","type":"message"}
{"nick":"isaacs","message":"if you to come to agreement, feel free to land whatever fixes make that better and tell me what incantation to use to build it.","date":"2012-02-15T19:10:34.552Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it sets msbuild project properties.. in vs this is set in project properties page","date":"2012-02-15T19:11:01.992Z","type":"message"}
{"nick":"igorzi","message":"(which SDK you want to target)","date":"2012-02-15T19:11:12.223Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i think it's better to go with /p:PlatformToolset=Windows7.1SDK, because the project will also build in vc express","date":"2012-02-15T19:12:38.431Z","type":"message"}
{"nick":"igorzi","message":"isaacs: you're able to build release?","date":"2012-02-15T19:12:56.055Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: (1) where can I find this setting in the property pages? (2) I'm fine as long as it keeps working with VS-othereditions","date":"2012-02-15T19:13:39.097Z","type":"message"}
{"nick":"isaacs","message":"yes, release x64 built","date":"2012-02-15T19:13:54.293Z","type":"message"}
{"nick":"isaacs","message":"http://nodejs.org/dist/v0.7.4/node-x64.exe","date":"2012-02-15T19:14:05.335Z","type":"message"}
{"nick":"isaacs","message":"check it out^","date":"2012-02-15T19:14:09.444Z","type":"message"}
{"nick":"CoverSlide","message":"woo!","date":"2012-02-15T19:14:18.819Z","type":"message"}
{"nick":"isaacs","message":"found a problem iwth the x86 exe, rebuilding that now.","date":"2012-02-15T19:14:23.982Z","type":"message"}
{"nick":"isaacs","message":"forgot to disable snapshots in it","date":"2012-02-15T19:14:28.270Z","type":"message"}
{"nick":"TooTallNate","message":"why are we disabling snapshots","date":"2012-02-15T19:14:38.971Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: general -> \"platform toolset\"","date":"2012-02-15T19:14:53.351Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it is working nonetheless...","date":"2012-02-15T19:14:59.176Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: don't we disable snapshots by default?","date":"2012-02-15T19:15:16.393Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: because that's the only way to avoid the DOS vulnerability with hash collisions","date":"2012-02-15T19:15:17.074Z","type":"message"}
{"nick":"piscisaureus_","message":"oh wait - yes we need a snapshot-free build","date":"2012-02-15T19:15:31.524Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i thought so, but then i saw it building the snapshot thing","date":"2012-02-15T19:15:36.895Z","type":"message"}
{"nick":"isaacs","message":"we probably don't want to disable snapshots normally.","date":"2012-02-15T19:15:44.815Z","type":"message"}
{"nick":"isaacs","message":"just for binary dists","date":"2012-02-15T19:15:47.488Z","type":"message"}
{"nick":"TooTallNate","message":"makes sense","date":"2012-02-15T19:16:02.807Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: is node-x64.exe the final name?","date":"2012-02-15T19:16:18.578Z","type":"message"}
{"nick":"isaacs","message":"*usually* they're better.  but, someone can take the binary, figure out the hash salt, etc.","date":"2012-02-15T19:16:21.565Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: <shrug>","date":"2012-02-15T19:16:31.137Z","type":"message"}
{"nick":"brson","date":"2012-02-15T19:16:34.863Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: I haven't sorted out the dll lazy load hook yet so people will be unable to rename node.exe","date":"2012-02-15T19:16:41.142Z","type":"message"}
{"nick":"piscisaureus_","message":"(or compiled extensions won't load)","date":"2012-02-15T19:16:47.481Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: maybe a x64 sub directory woudl be better?","date":"2012-02-15T19:16:49.710Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-02-15T19:16:55.231Z","type":"message"}
{"nick":"isaacs","message":"k, i'll do that.  igorzi, opinions?","date":"2012-02-15T19:17:05.200Z","type":"message"}
{"nick":"isaacs","message":"wanna splash some paint on this bikeshed?","date":"2012-02-15T19:17:10.579Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: at some point I will be able to fix it, after that it doesn't matter any more","date":"2012-02-15T19:17:10.759Z","type":"message"}
{"nick":"TooTallNate","message":"that's what I was saying too :p","date":"2012-02-15T19:17:11.636Z","type":"message"}
{"nick":"igorzi","message":"yep, probably the x64 dir is better","date":"2012-02-15T19:17:23.577Z","type":"message"}
{"nick":"igorzi","message":"that way you could also put node.pdb and node.lib there (without appending '-x64' to everything","date":"2012-02-15T19:17:50.036Z","type":"message"}
{"nick":"isaacs","message":"done: http://nodejs.org/dist/v0.7.4/x64/","date":"2012-02-15T19:18:00.055Z","type":"message"}
{"nick":"isaacs","message":"d'oh, forgot node.pdb","date":"2012-02-15T19:18:08.885Z","type":"message"}
{"nick":"isaacs","message":"ugh.","date":"2012-02-15T19:18:11.146Z","type":"message"}
{"nick":"isaacs","message":"should've done this in two separate dirs :)","date":"2012-02-15T19:18:31.558Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: btw you have any thoughts on this one? https://github.com/isaacs/npm/issues/2147","date":"2012-02-15T19:22:43.112Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-02-15T19:22:49.267Z","type":"quit"}
{"nick":"TooTallNate","message":"im probably doing something stupid on my end, but i don't see it","date":"2012-02-15T19:22:53.918Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it's a bug","date":"2012-02-15T19:23:37.272Z","type":"message"}
{"nick":"isaacs","message":"in npm","date":"2012-02-15T19:23:39.275Z","type":"message"}
{"nick":"TooTallNate","message":"ok thanks, at least its not me :P","date":"2012-02-15T19:23:57.990Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-02-15T19:25:44.448Z","type":"quit"}
{"nick":"igorzi","message":"TooTallNate: i don't see anything obvious for why addon projects would have .NET dependency","date":"2012-02-15T19:27:18.545Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: they are not build with /clr switch","date":"2012-02-15T19:27:29.120Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: i'll play with node_gyp later today or tomorrow, and i'll figure out what the issue is","date":"2012-02-15T19:29:14.705Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-02-15T19:31:12.718Z","type":"quit"}
{"nick":"TooTallNate","message":"igorzi: :)","date":"2012-02-15T19:33:09.441Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-02-15T19:34:11.316Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T19:37:45.891Z","type":"quit"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002d653732\u000f \u000310\u000f/ (10 files in 7 dirs)\u0002:\u000f Merge branch 'v0.7.4-release' - http://git.io/lIRNpw","date":"2012-02-15T19:38:54.072Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u00026a2cb6c\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on 0.7.5 - http://git.io/ekG-QA","date":"2012-02-15T19:38:55.398Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: actually, i think it's not .net dependency that addons need.  looks like addons are being dynamically linked to CRT (node is statically linked to CRT)","date":"2012-02-15T19:40:46.022Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, you should compile with /MT","date":"2012-02-15T19:41:08.628Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: .NET installs VC runtime (so that's why those addons start working)","date":"2012-02-15T19:41:22.011Z","type":"message"}
{"nick":"TooTallNate","message":"igorzi: piscisaureus_: yup that did it","date":"2012-02-15T19:43:25.987Z","type":"message"}
{"nick":"TooTallNate","message":":)","date":"2012-02-15T19:43:27.417Z","type":"message"}
{"nick":"TooTallNate","message":"so it was the RuntimeLibrary afterall ;)","date":"2012-02-15T19:43:35.191Z","type":"message"}
{"nick":"igorzi","message":"yep","date":"2012-02-15T19:43:41.603Z","type":"message"}
{"nick":"TooTallNate","message":"but I should use a command-line argument as opposed to messing with gyp, ya?","date":"2012-02-15T19:44:23.681Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: https://github.com/joyent/node/blob/master/common.gypi#L54","date":"2012-02-15T19:47:41.277Z","type":"message"}
{"nick":"TooTallNate","message":"igorzi: :\\ https://github.com/joyent/node/blob/master/tools/gyp_addon#L17","date":"2012-02-15T19:48:34.628Z","type":"message"}
{"nick":"igorzi","message":"i think we either need to update common.gypi to include shared_library or to add that to addon.gypi","date":"2012-02-15T19:48:36.888Z","type":"message"}
{"nick":"igorzi","message":"yep","date":"2012-02-15T19:48:54.574Z","type":"message"}
{"nick":"TooTallNate","message":"i say fix common.gypi","date":"2012-02-15T19:49:01.051Z","type":"message"}
{"nick":"TooTallNate","message":"should we just remove that conditional?","date":"2012-02-15T19:49:31.923Z","type":"message"}
{"nick":"igorzi","message":"yeah, i think so.. just default to static linking CRT","date":"2012-02-15T19:50:01.164Z","type":"message"}
{"nick":"xaq","date":"2012-02-15T19:50:01.615Z","type":"join"}
{"nick":"igorzi","message":"also need to update that for debug builds","date":"2012-02-15T19:50:25.601Z","type":"message"}
{"nick":"TooTallNate","message":"igorzi: isaacs: https://gist.github.com/1838508","date":"2012-02-15T19:51:52.449Z","type":"message"}
{"nick":"dshaw_","date":"2012-02-15T19:52:45.325Z","type":"join"}
{"nick":"benvie","message":"interesting","date":"2012-02-15T19:52:57.746Z","type":"message"}
{"nick":"benvie","message":"`module` is reserved in harmony mode in the newest v8","date":"2012-02-15T19:53:32.432Z","type":"message"}
{"nick":"`3rdEden","date":"2012-02-15T19:54:12.514Z","type":"join"}
{"nick":"travis-ci","date":"2012-02-15T19:54:14.794Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#420 (master - d653732 : isaacs): The build is still failing.","date":"2012-02-15T19:54:14.952Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/6141386...d653732","date":"2012-02-15T19:54:14.952Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/683591","date":"2012-02-15T19:54:14.952Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T19:54:14.952Z","type":"part"}
{"nick":"benvie","message":"and js syntax errors on line 77 of node.js","date":"2012-02-15T19:54:45.169Z","type":"message"}
{"nick":"isaacs","message":"benvie: are you f'ing kidding me?","date":"2012-02-15T19:54:47.398Z","type":"message"}
{"nick":"benvie","message":"awesome","date":"2012-02-15T19:54:47.563Z","type":"message"}
{"nick":"benvie","message":"no","date":"2012-02-15T19:54:49.304Z","type":"message"}
{"nick":"isaacs","message":"jesus.","date":"2012-02-15T19:54:50.104Z","type":"message"}
{"nick":"benvie","message":"wow","date":"2012-02-15T19:54:50.748Z","type":"message"}
{"nick":"isaacs","message":"yeah, of course.","date":"2012-02-15T19:55:10.765Z","type":"message"}
{"nick":"isaacs","message":"because module is used in every module everywhere.","date":"2012-02-15T19:55:17.170Z","type":"message"}
{"nick":"benvie","message":"haha wow that's ridiculous","date":"2012-02-15T19:55:18.238Z","type":"message"}
{"nick":"isaacs","message":"omg.","date":"2012-02-15T19:55:19.843Z","type":"message"}
{"nick":"mjr_","message":"\"harmony\"","date":"2012-02-15T19:55:28.640Z","type":"message"}
{"nick":"isaacs","message":"how does that work in browsers?","date":"2012-02-15T19:55:46.322Z","type":"message"}
{"nick":"benvie","message":"let me see here","date":"2012-02-15T19:55:59.087Z","type":"message"}
{"nick":"isaacs","message":"benvie: ohhh... wait a second.  you're talkin gabout the crazy wackadoo es6 stuff, right?","date":"2012-02-15T19:56:01.928Z","type":"message"}
{"nick":"benvie","message":"yeah well I mean","date":"2012-02-15T19:56:10.081Z","type":"message"}
{"nick":"tjfontaine","message":"harmony now known as discord","date":"2012-02-15T19:56:14.359Z","type":"message"}
{"nick":"benvie","message":"if you run node --harmony","date":"2012-02-15T19:56:14.954Z","type":"message"}
{"nick":"isaacs","message":"not just the --harmony_weakmaps or --harmony_scoping thing","date":"2012-02-15T19:56:17.688Z","type":"message"}
{"nick":"benvie","message":"it'll crash","date":"2012-02-15T19:56:20.479Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-02-15T19:56:23.800Z","type":"message"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-02-15T19:56:36.782Z","type":"quit"}
{"nick":"isaacs","message":"node.js:77","date":"2012-02-15T19:56:37.882Z","type":"message"}
{"nick":"isaacs","message":"      var module = new Module('eval');","date":"2012-02-15T19:56:38.061Z","type":"message"}
{"nick":"isaacs","message":"          ^^^^^^","date":"2012-02-15T19:56:38.225Z","type":"message"}
{"nick":"isaacs","message":"SyntaxError: Unexpected token module","date":"2012-02-15T19:56:39.079Z","type":"message"}
{"nick":"isaacs","message":"awesome.","date":"2012-02-15T19:56:43.179Z","type":"message"}
{"nick":"benvie","message":"let me see if it's a specific flag or any of them. I know they're uniting them basically ","date":"2012-02-15T19:56:54.408Z","type":"message"}
{"nick":"igorzi_","reason":"Ping timeout: 245 seconds","date":"2012-02-15T19:57:01.789Z","type":"quit"}
{"nick":"benvie","message":"there's 3 syntax modes: normal, strict, and harmony","date":"2012-02-15T19:57:11.803Z","type":"message"}
{"nick":"benvie","message":"using a feature that's in harmony is supposed to opt you in automatically eventually","date":"2012-02-15T19:57:28.242Z","type":"message"}
{"nick":"isaacs","message":"normal, strict, and introduces breaking syntax","date":"2012-02-15T19:57:49.018Z","type":"message"}
{"nick":"isaacs","message":"calling that \"harmony\" is hilarious.","date":"2012-02-15T19:57:55.614Z","type":"message"}
{"nick":"benvie","message":"ha","date":"2012-02-15T19:58:00.804Z","type":"message"}
{"nick":"TooTallNate","message":"hah","date":"2012-02-15T19:58:07.967Z","type":"message"}
{"nick":"benvie","message":"and yeah I don't understand this,  I wasn't aware this was going to reserve new keywords","date":"2012-02-15T19:58:19.688Z","type":"message"}
{"nick":"isaacs","message":"benvie: i guess you should probably not use the --harmony flag, then","date":"2012-02-15T19:58:27.299Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-02-15T19:58:28.740Z","type":"message"}
{"nick":"mmalecki","message":"but... proxies...","date":"2012-02-15T19:58:52.725Z","type":"message"}
{"nick":"isaacs","message":"i mean, for any *valuable* features, you can just enable piecemeal","date":"2012-02-15T19:58:57.895Z","type":"message"}
{"nick":"isaacs","message":"$ ./node --v8-options | grep harmony","date":"2012-02-15T19:59:04.350Z","type":"message"}
{"nick":"isaacs","message":"  --harmony_typeof (enable harmony semantics for typeof)","date":"2012-02-15T19:59:04.668Z","type":"message"}
{"nick":"isaacs","message":"  --harmony_scoping (enable harmony block scoping)","date":"2012-02-15T19:59:04.829Z","type":"message"}
{"nick":"isaacs","message":"  --harmony_modules (enable harmony modules)","date":"2012-02-15T19:59:05.793Z","type":"message"}
{"nick":"isaacs","message":"  --harmony_proxies (enable harmony proxies)","date":"2012-02-15T19:59:07.775Z","type":"message"}
{"nick":"isaacs","message":"  --harmony_collections (enable harmony collections (sets, maps, and weak maps))","date":"2012-02-15T19:59:09.736Z","type":"message"}
{"nick":"isaacs","message":"  --harmony (enable all harmony features (except typeof))","date":"2012-02-15T19:59:11.726Z","type":"message"}
{"nick":"isaacs","message":"it's apparently --harmony_modules that breaks it","date":"2012-02-15T19:59:17.409Z","type":"message"}
{"nick":"benvie","message":"oh","date":"2012-02-15T19:59:22.963Z","type":"message"}
{"nick":"benvie","message":"yeah that's new","date":"2012-02-15T19:59:26.142Z","type":"message"}
{"nick":"benvie","message":"so the --harmony flag is off limits now","date":"2012-02-15T19:59:34.191Z","type":"message"}
{"nick":"benvie","message":"but the rest are fine individually I guess","date":"2012-02-15T19:59:40.433Z","type":"message"}
{"nick":"mmalecki","message":"thankfully! modules are retarded anyway :)","date":"2012-02-15T19:59:41.446Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-02-15T19:59:58.904Z","type":"quit"}
{"nick":"isaacs","message":"it's odd that --harmony_typeof is omitted.  that one is kind of nice.","date":"2012-02-15T20:00:19.101Z","type":"message"}
{"nick":"isaacs","message":"just changes typeof null === 'null' instead of 'object'","date":"2012-02-15T20:00:28.201Z","type":"message"}
{"nick":"TooTallNate","message":"and undefined == 'undefined'","date":"2012-02-15T20:00:37.333Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: should i open a pull for that patch?","date":"2012-02-15T20:01:04.176Z","type":"message"}
{"nick":"benvie","message":" --harmony_typeof --harmony_scoping --harmony_proxies --harmony_collections uhg","date":"2012-02-15T20:01:08.690Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: the windows gyp thing?  sure, if piscisaureus_ igorzi are ok with it, then i am.","date":"2012-02-15T20:01:48.050Z","type":"message"}
{"nick":"mjr_","message":"All of this amazing new harmonious functionality, but no --harmony_int64 or --harmony_full_unicode_strings","date":"2012-02-15T20:05:52.490Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: haha, if only...","date":"2012-02-15T20:06:10.097Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: piscisaureus_: ok ready https://github.com/joyent/node/pull/2760","date":"2012-02-15T20:06:33.604Z","type":"message"}
{"nick":"benvie","message":"eeventually","date":"2012-02-15T20:06:53.320Z","type":"message"}
{"nick":"benvie","message":"not directly but","date":"2012-02-15T20:07:10.855Z","type":"message"}
{"nick":"benvie","message":"quasis for unicode and binary data class/types are in es6","date":"2012-02-15T20:08:43.341Z","type":"message"}
{"nick":"benvie","message":"damn it, and there isn't even any actual code supporting modules in. Just stubs. lose lose","date":"2012-02-15T20:12:52.628Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yes, it's almost as if when you get a bunch of language designers in discussion, they seem to prioritize language wankery over useful features.","date":"2012-02-15T20:20:45.168Z","type":"message"}
{"nick":"mjr_","message":"Yeah, I wonder why that is.","date":"2012-02-15T20:21:08.312Z","type":"message"}
{"nick":"mjr_","message":"Oh, because everybody else is doing real work.","date":"2012-02-15T20:21:15.694Z","type":"message"}
{"nick":"isaacs","message":"i think be is actually one of the better ones in that group.  but he's still too easily swayed by arguments of \"this looks nicer\" or \"newcomers grok this more easily\"","date":"2012-02-15T20:22:46.064Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs:","date":"2012-02-15T20:23:00.341Z","type":"message"}
{"nick":"isaacs","message":"rather than \"this makes it impossible to handle real-world data in your programs\"","date":"2012-02-15T20:23:01.246Z","type":"message"}
{"nick":"piscisaureus_","message":"D:\\node4>node","date":"2012-02-15T20:23:01.466Z","type":"message"}
{"nick":"piscisaureus_","message":"> var a = { b: 3 }","date":"2012-02-15T20:23:01.637Z","type":"message"}
{"nick":"piscisaureus_","message":"undefined","date":"2012-02-15T20:23:01.637Z","type":"message"}
{"nick":"piscisaureus_","message":"> Object.freeze(a)","date":"2012-02-15T20:23:01.637Z","type":"message"}
{"nick":"piscisaureus_","message":"{ b: 3 }","date":"2012-02-15T20:23:01.637Z","type":"message"}
{"nick":"piscisaureus_","message":"> a.b","date":"2012-02-15T20:23:02.046Z","type":"message"}
{"nick":"piscisaureus_","message":"3","date":"2012-02-15T20:23:02.211Z","type":"message"}
{"nick":"piscisaureus_","message":"> a.b=4","date":"2012-02-15T20:23:02.847Z","type":"message"}
{"nick":"piscisaureus_","message":"4","date":"2012-02-15T20:23:03.011Z","type":"message"}
{"nick":"piscisaureus_","message":"> a","date":"2012-02-15T20:23:03.935Z","type":"message"}
{"nick":"piscisaureus_","message":"{ b: 3 }","date":"2012-02-15T20:23:04.091Z","type":"message"}
{"nick":"piscisaureus_","message":"> a.k = 4","date":"2012-02-15T20:23:04.814Z","type":"message"}
{"nick":"piscisaureus_","message":"undefined","date":"2012-02-15T20:23:04.971Z","type":"message"}
{"nick":"piscisaureus_","message":"> a","date":"2012-02-15T20:23:05.912Z","type":"message"}
{"nick":"piscisaureus_","message":"{ b: 3 }","date":"2012-02-15T20:23:06.071Z","type":"message"}
{"nick":"isaacs","message":"oh, werid","date":"2012-02-15T20:23:11.228Z","type":"message"}
{"nick":"isaacs","message":"so the a.k returns undefined?","date":"2012-02-15T20:23:15.864Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-02-15T20:23:19.842Z","type":"message"}
{"nick":"piscisaureus_","message":"funnyy eh","date":"2012-02-15T20:23:25.141Z","type":"message"}
{"nick":"isaacs","message":"that's so wacky","date":"2012-02-15T20:23:27.141Z","type":"message"}
{"nick":"piscisaureus_","message":"I wonder if there is an ecma spec about it","date":"2012-02-15T20:23:34.460Z","type":"message"}
{"nick":"AvianFlu","date":"2012-02-15T20:23:42.575Z","type":"join"}
{"nick":"isaacs","message":"or maybe it's just a bug","date":"2012-02-15T20:23:44.942Z","type":"message"}
{"nick":"isaacs","message":"or \"undefined behavior\"","date":"2012-02-15T20:23:52.789Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: hey, you figured out how to do this tty thing? or do you still use python wrapper?","date":"2012-02-15T20:24:11.013Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yes, lgtm","date":"2012-02-15T20:24:22.070Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: too bad for people who want to build a node.dll :-)","date":"2012-02-15T20:24:44.014Z","type":"message"}
{"nick":"benvie","message":"the amount of bikeshedding I've seen over the last few days on es-discuss is incredible","date":"2012-02-15T20:24:51.075Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the weird bit is that the frozen property returns the value, but the sealed one doesn't.","date":"2012-02-15T20:24:55.466Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeeah","date":"2012-02-15T20:25:08.486Z","type":"message"}
{"nick":"benvie","message":"like huge amounts of discussion about whether something should be named \"remove\" or \"delete\", just reams and reams","date":"2012-02-15T20:25:12.826Z","type":"message"}
{"nick":"isaacs","message":"benvie: srsly","date":"2012-02-15T20:25:27.699Z","type":"message"}
{"nick":"isaacs","message":"benvie: otoh, this is why node has been able to move so quickly.","date":"2012-02-15T20:25:41.299Z","type":"message"}
{"nick":"isaacs","message":"the language craziness happens elsewhere.","date":"2012-02-15T20:25:47.826Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so basically, for invalid process.env keys we should not throw - just ignore","date":"2012-02-15T20:26:03.218Z","type":"message"}
{"nick":"mjr_","message":"Yes, I'm happy that language craziness happens elsewhere.","date":"2012-02-15T20:26:10.336Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's what I wanted to figure out","date":"2012-02-15T20:26:13.514Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that would be my preference.","date":"2012-02-15T20:26:13.729Z","type":"message"}
{"nick":"benvie","message":"yeah and there's no understating that as an advantage, because that's a different story in for example python","date":"2012-02-15T20:26:20.508Z","type":"message"}
{"nick":"mjr_","message":"I just want to handle in64 and unicode data as native types.","date":"2012-02-15T20:26:25.275Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but i could be convinced otherwise.","date":"2012-02-15T20:26:28.305Z","type":"message"}
{"nick":"benvie","message":"they have to keep that bikeshed paint crew fueld 24/7","date":"2012-02-15T20:26:34.664Z","type":"message"}
{"nick":"isaacs","message":"mjr_: you need to start trolling the es-discuss list.","date":"2012-02-15T20:26:41.245Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: No I have convinced myself","date":"2012-02-15T20:26:41.406Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: great :)","date":"2012-02-15T20:26:46.363Z","type":"message"}
{"nick":"mikeal","date":"2012-02-15T20:27:00.608Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: I also figured out that `delete o.propertythatdoesnotexist` returns true","date":"2012-02-15T20:27:01.915Z","type":"message"}
{"nick":"isaacs","message":"mjr_: like, start telling them that this language is unusable, because there's no way to handle unicode.","date":"2012-02-15T20:27:03.579Z","type":"message"}
{"nick":"mjr_","message":"isaacs: I know that's the next step, but the time commitment is awfully high for me right now.","date":"2012-02-15T20:27:05.071Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yeah.","date":"2012-02-15T20:27:10.587Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: whereas `delete process.env.keythatdoesnotexist` returns false","date":"2012-02-15T20:27:21.272Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so that has to change as well","date":"2012-02-15T20:27:27.367Z","type":"message"}
{"nick":"mjr_","message":"To make a cogent argument I feel like I'd need to first read up on all of the current proposals, etc.","date":"2012-02-15T20:27:28.585Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: not very important.","date":"2012-02-15T20:27:37.678Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but ok.","date":"2012-02-15T20:27:40.769Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I know :_)","date":"2012-02-15T20:27:44.314Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: afaik, \"delete\" should return true if it actually deleted something.","date":"2012-02-15T20:28:01.155Z","type":"message"}
{"nick":"benvie","message":"even being up to date on it, there's just a huge amount of stuff posted on that list daily so it'd take a really dedicated troll to make a lasting impression","date":"2012-02-15T20:28:09.476Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: try this: `var a = {}`, `delete a.b`","date":"2012-02-15T20:28:22.660Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or rather, delete should return \"True\" if the property is now not there.","date":"2012-02-15T20:28:24.067Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ah - sure","date":"2012-02-15T20:28:34.554Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: right","date":"2012-02-15T20:28:36.570Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so:  x={y:\"z\"}; Object.freeze(x); delete x.y // false","date":"2012-02-15T20:28:54.010Z","type":"message"}
{"nick":"isaacs","message":"but, delete x.z // true","date":"2012-02-15T20:29:02.846Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, that's the correct semantic","date":"2012-02-15T20:29:09.087Z","type":"message"}
{"nick":"isaacs","message":"becasue after the delete operation, false === x.hasOwnProperty(\"z\")","date":"2012-02-15T20:29:17.618Z","type":"message"}
{"nick":"isaacs","message":"nevermind that it didn't have it before, either :)","date":"2012-02-15T20:29:25.439Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: sure. But now that I am chopping it up anyway, I might as well do it right :-)","date":"2012-02-15T20:29:47.584Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2012-02-15T20:30:04.985Z","type":"message"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T20:30:24.667Z","type":"quit"}
{"nick":"piscisaureus_","message":"11.13.1 Simple Assignment ( = )","date":"2012-02-15T20:34:14.930Z","type":"message"}
{"nick":"piscisaureus_","message":"The production AssignmentExpression : LeftHandSideExpression = AssignmentExpression is evaluated as follows:","date":"2012-02-15T20:34:15.105Z","type":"message"}
{"nick":"piscisaureus_","message":"1. Let lref be the result of evaluating LeftHandSideExpression.","date":"2012-02-15T20:34:15.266Z","type":"message"}
{"nick":"piscisaureus_","message":"2. Let rref be the result of evaluating AssignmentExpression.","date":"2012-02-15T20:34:15.267Z","type":"message"}
{"nick":"piscisaureus_","message":"3. Let rval be GetValue(rref).","date":"2012-02-15T20:34:15.267Z","type":"message"}
{"nick":"piscisaureus_","message":"4. Throw a SyntaxError exception if the following conditions are all true:","date":"2012-02-15T20:34:15.945Z","type":"message"}
{"nick":"piscisaureus_","message":"• Type(lref) is Reference is true","date":"2012-02-15T20:34:16.107Z","type":"message"}
{"nick":"piscisaureus_","message":"• IsStrictReference(lref) is true","date":"2012-02-15T20:34:16.836Z","type":"message"}
{"nick":"piscisaureus_","message":"• Type(GetBase(lref)) is Enviroment Record","date":"2012-02-15T20:34:17.013Z","type":"message"}
{"nick":"piscisaureus_","message":"• GetReferencedName(lref) is either \"eval\" or \"arguments\"","date":"2012-02-15T20:34:17.905Z","type":"message"}
{"nick":"piscisaureus_","message":"5 .Call PutValue(lref, rval).","date":"2012-02-15T20:34:18.067Z","type":"message"}
{"nick":"piscisaureus_","message":"6. Return rval.","date":"2012-02-15T20:34:19.042Z","type":"message"}
{"nick":"piscisaureus_","message":"So probably we should just return rval","date":"2012-02-15T20:34:25.945Z","type":"message"}
{"nick":"piscisaureus_","message":"Heh, lol","date":"2012-02-15T20:35:14.048Z","type":"message"}
{"nick":"piscisaureus_","message":"NOTE When an assignment occurs within strict mode code, its LeftHandSide must not evaluate to an unresolvable reference. If it does a ReferenceError exception is thrown upon assignment. The LeftHandSide also may not be a reference to a data property with the attribute value {[[Writable]]:false}, to an accessor property with the attribute value {[[Set]]:undefined}, nor to a non-existent property of an object whose [[Extensible]] intern","date":"2012-02-15T20:35:15.170Z","type":"message"}
{"nick":"creationix","message":"I wish there was a way to know when a function gets garbage collected","date":"2012-02-15T20:35:34.704Z","type":"message"}
{"nick":"mjr_","message":"benvie: I know, the time it takes to make a significant change in a committee like that seems like roughly a full time job for someone, at least for a while.","date":"2012-02-15T20:36:24.849Z","type":"message"}
{"nick":"benvie","message":"with `set` you pretty much just always want to return true","date":"2012-02-15T20:36:55.973Z","type":"message"}
{"nick":"benvie","message":"I mean you can be honest...but it can throw in strict mode","date":"2012-02-15T20:37:44.859Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: you're right, in strict mode setting a read-only property throws","date":"2012-02-15T20:39:23.163Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, just return the rval","date":"2012-02-15T20:39:55.768Z","type":"message"}
{"nick":"benvie","message":"strict mode is stupid","date":"2012-02-15T20:40:07.234Z","type":"message"}
{"nick":"isaacs","message":"if anyone complains, then we'll address it. but no one will complain.","date":"2012-02-15T20:40:10.740Z","type":"message"}
{"nick":"benvie","message":"because of things like that","date":"2012-02-15T20:40:14.896Z","type":"message"}
{"nick":"isaacs","message":"there are two kinds of people who prefer strict mode: people who don't fully understand it, and Mark Miller.","date":"2012-02-15T20:40:29.888Z","type":"message"}
{"nick":"benvie","message":"HA","date":"2012-02-15T20:40:35.028Z","type":"message"}
{"nick":"benvie","message":"so true","date":"2012-02-15T20:40:38.709Z","type":"message"}
{"nick":"benvie","message":"I was looking through that Caja VM secure ecmascript loader thing","date":"2012-02-15T20:41:03.224Z","type":"message"}
{"nick":"benvie","message":"holy shit","date":"2012-02-15T20:41:07.372Z","type":"message"}
{"nick":"isaacs","message":"lol","date":"2012-02-15T20:41:20.238Z","type":"message"}
{"nick":"benvie","message":"I learned more about hacking javascript inside out through that than anywhere else","date":"2012-02-15T20:41:22.852Z","type":"message"}
{"nick":"isaacs","message":"yeah, that thing is nuts","date":"2012-02-15T20:41:34.717Z","type":"message"}
{"nick":"benvie","message":"it hacks js inside out so that anything it loads can't","date":"2012-02-15T20:41:41.815Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-02-15T20:41:53.459Z","type":"message"}
{"nick":"isaacs","message":"it's a very YO DAWG kind of program.","date":"2012-02-15T20:42:02.200Z","type":"message"}
{"nick":"benvie","message":"yeah basically him and tv cutsem are the only people in this world besides be who actually know javascript and everyone else is just trying","date":"2012-02-15T20:42:59.308Z","type":"message"}
{"nick":"isaacs","message":"no, lots of people know javascript","date":"2012-02-15T20:43:37.823Z","type":"message"}
{"nick":"isaacs","message":"but none of them prefer strict mode except him, is the thing.","date":"2012-02-15T20:43:45.916Z","type":"message"}
{"nick":"benvie","message":"but on es6, they need to just close that book because Proxies were the great victory and the rest of it is bikesheeding mostly","date":"2012-02-15T20:43:48.433Z","type":"message"}
{"nick":"isaacs","message":"it's unnecessarily painful","date":"2012-02-15T20:43:49.460Z","type":"message"}
{"nick":"benvie","message":"oh yeah","date":"2012-02-15T20:43:52.819Z","type":"message"}
{"nick":"benvie","message":"he's definitely the grand champion of strict mode and I still don't get one anyone degends it","date":"2012-02-15T20:44:19.875Z","type":"message"}
{"nick":"benvie","message":"defends it, since it adds so little and adds all this stupid bullshit","date":"2012-02-15T20:44:35.801Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Mark Nottingham\u000f \u000307master\u000f * r\u00021e425e3\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f Generate Date headers on responses when not already present. - http://git.io/EPy17Q","date":"2012-02-15T20:44:57.057Z","type":"message"}
{"nick":"xaq","date":"2012-02-15T20:45:08.365Z","type":"join"}
{"nick":"benvie","message":"if they're really going to make `module` a reserved keyword, that's going to suck ass","date":"2012-02-15T20:45:20.140Z","type":"message"}
{"nick":"benvie","message":"eventually","date":"2012-02-15T20:45:24.608Z","type":"message"}
{"nick":"benvie","message":"oh yeah, it's in the spec. http://wiki.ecmascript.org/doku.php?id=harmony:modules","date":"2012-02-15T20:46:26.732Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I'm away for a while. After the break, env fixs","date":"2012-02-15T20:46:52.997Z","type":"message"}
{"nick":"benvie","message":"ModuleDeclaration ::= \"module\" Id \"at\" String","date":"2012-02-15T20:46:55.656Z","type":"message"}
{"nick":"piscisaureus_","message":"*fixes","date":"2012-02-15T20:46:56.756Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: great, thans","date":"2012-02-15T20:47:17.123Z","type":"message"}
{"nick":"TooTallNate","message":"mmalecki: no nothing is possible in node yet, python hack for us still","date":"2012-02-15T20:51:33.778Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: node-weak ;)","date":"2012-02-15T20:51:38.403Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: can we, like, write a module?","date":"2012-02-15T20:51:58.116Z","type":"message"}
{"nick":"mmalecki","message":"because I want to spawn vim from node!","date":"2012-02-15T20:52:18.487Z","type":"message"}
{"nick":"mmalecki","message":"no matter what!","date":"2012-02-15T20:52:22.054Z","type":"message"}
{"nick":"TooTallNate","message":"mmalecki: take a look at https://github.com/chjj/tty.js","date":"2012-02-15T20:52:31.267Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2012-02-15T20:52:32.960Z","type":"quit"}
{"nick":"TooTallNate","message":"he has some pty class that he made","date":"2012-02-15T20:52:37.814Z","type":"message"}
{"nick":"TooTallNate","message":"but it's unix-only I think","date":"2012-02-15T20:52:45.906Z","type":"message"}
{"nick":"tjfontaine","message":"it's actually acceptable for usage","date":"2012-02-15T20:53:03.150Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: meh on windows. I've seen that, it depends on socket.io, I got confused","date":"2012-02-15T20:53:12.600Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: I'll ask him to release pty itself, actually!","date":"2012-02-15T20:53:33.644Z","type":"message"}
{"nick":"TooTallNate","message":"mmalecki: we he has it too coupled, yes","date":"2012-02-15T20:53:38.938Z","type":"message"}
{"nick":"TooTallNate","message":"the pty module should be its own module","date":"2012-02-15T20:53:49.364Z","type":"message"}
{"nick":"TooTallNate","message":"let's open an issue","date":"2012-02-15T20:53:55.400Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: meh. irc man","date":"2012-02-15T20:54:04.157Z","type":"message"}
{"nick":"benvie","message":"needs a windows mode even though it doesn't exist on windows =(","date":"2012-02-15T20:54:35.353Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: obviously not around :). please open an issue","date":"2012-02-15T20:54:57.759Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: cc me in","date":"2012-02-15T20:55:05.459Z","type":"message"}
{"nick":"igorzi","date":"2012-02-15T20:58:25.775Z","type":"join"}
{"nick":"travis-ci","date":"2012-02-15T21:01:28.253Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#421 (master - 1e425e3 : Mark Nottingham): The build is still failing.","date":"2012-02-15T21:01:28.420Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/d653732...1e425e3","date":"2012-02-15T21:01:28.420Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/683874","date":"2012-02-15T21:01:28.420Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T21:01:28.420Z","type":"part"}
{"nick":"piscisaureus_","date":"2012-02-15T21:05:19.416Z","type":"join"}
{"nick":"igorzi","message":"TooTallNate: that common.gypi change lgtm","date":"2012-02-15T21:05:50.412Z","type":"message"}
{"nick":"isaacs","message":"igorzi: wanna land it?","date":"2012-02-15T21:06:28.679Z","type":"message"}
{"nick":"igorzi","message":"isaacs: sure","date":"2012-02-15T21:10:05.166Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: lame, btw http://search.npmjs.org/#/pty","date":"2012-02-15T21:13:44.451Z","type":"message"}
{"nick":"mmalecki","message":"github link is broken, project seems gone :/","date":"2012-02-15T21:13:59.738Z","type":"message"}
{"nick":"TooTallNate","message":"oh yah, haha, i remember seeing that. you can 'npm install' it but I think there was nothing really interesting","date":"2012-02-15T21:14:24.574Z","type":"message"}
{"nick":"mmalecki","message":"I don't trust libraries which were updated 305 days ago","date":"2012-02-15T21:15:30.526Z","type":"message"}
{"nick":"mmalecki","message":"I think it's a valid concern XD","date":"2012-02-15T21:16:00.214Z","type":"message"}
{"nick":"TooTallNate","message":"no i wouldn't trust it either :)","date":"2012-02-15T21:17:04.890Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: btw, what are you up to? why do you need it?","date":"2012-02-15T21:21:36.157Z","type":"message"}
{"nick":"TooTallNate","message":"mmalecki: node-gyp could benefit from it. plus were working of a few new things in-house ;)","date":"2012-02-15T21:22:35.777Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: we == learnboost? nice","date":"2012-02-15T21:23:14.434Z","type":"message"}
{"nick":"TooTallNate","message":"ya, learnboost","date":"2012-02-15T21:23:22.646Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: I'm writing my own shell :)","date":"2012-02-15T21:23:29.014Z","type":"message"}
{"nick":"TooTallNate","message":"woah!","date":"2012-02-15T21:23:43.920Z","type":"message"}
{"nick":"TooTallNate","message":"big undertaking :)","date":"2012-02-15T21:23:48.253Z","type":"message"}
{"nick":"mmalecki","message":"I mean, zsh is slow","date":"2012-02-15T21:24:02.804Z","type":"message"}
{"nick":"mmalecki","message":"bash is too normal","date":"2012-02-15T21:24:14.904Z","type":"message"}
{"nick":"tjfontaine","message":"we see how powershell ended up","date":"2012-02-15T21:24:30.756Z","type":"message"}
{"nick":"mmalecki","message":"so, yeah, broadway and some other stuff :)","date":"2012-02-15T21:24:35.409Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u000271e9756\u000f \u000310\u000f/ common.gypi \u0002:\u000f Default to static linking CRT on Windows. - http://git.io/DH-Bwg","date":"2012-02-15T21:33:41.525Z","type":"message"}
{"nick":"piscisaureus_","message":"On unix, can you have emty-string env vars? Or does setting them to \"\" imply deleting them?","date":"2012-02-15T21:34:05.196Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: envs can be empty","date":"2012-02-15T21:34:17.537Z","type":"message"}
{"nick":"piscisaureus_","message":"IOW, process.env.foo=\"\"; process.env.foo","date":"2012-02-15T21:34:19.247Z","type":"message"}
{"nick":"isaacs","message":"there's a unset command to unset them","date":"2012-02-15T21:34:25.928Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok, kewl","date":"2012-02-15T21:34:35.791Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: of course, in bash, \"$FOO\" is \"\" whether FOO is empty or unset","date":"2012-02-15T21:35:00.596Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: thanks","date":"2012-02-15T21:35:20.586Z","type":"message"}
{"nick":"benvie","message":"node should use (non)enumerability more to hide non-public APIs","date":"2012-02-15T21:47:48.255Z","type":"message"}
{"nick":"benvie","message":"the underscore doesn't seem to get the point across","date":"2012-02-15T21:48:08.924Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: where are you talking about specifically?","date":"2012-02-15T21:48:50.698Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: it'll make it slower","date":"2012-02-15T21:48:59.729Z","type":"message"}
{"nick":"benvie","message":"does it?","date":"2012-02-15T21:49:03.431Z","type":"message"}
{"nick":"benvie","message":"interesting","date":"2012-02-15T21:49:08.319Z","type":"message"}
{"nick":"benvie","message":"I just meant anywhere there's things that are supposed to be internal, but are still exposed on objects","date":"2012-02-15T21:49:26.175Z","type":"message"}
{"nick":"piscisaureus_","message":"last time i checked it did","date":"2012-02-15T21:49:27.976Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T21:49:40.585Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#422 (master - 71e9756 : Nathan Rajlich): The build is still failing.","date":"2012-02-15T21:49:40.749Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/1e425e3...71e9756","date":"2012-02-15T21:49:40.749Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/684097","date":"2012-02-15T21:49:40.749Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T21:49:40.749Z","type":"part"}
{"nick":"benvie","message":"enumerability would influence two places: iteration over keys which probably isn't used in most of those places anyway, and in the REPL where people are debugging or learning","date":"2012-02-15T21:50:46.568Z","type":"message"}
{"nick":"benvie","message":"maybe just if being used in the REPL which among people I know is a common place to explore and learn about what exists","date":"2012-02-15T21:51:05.406Z","type":"message"}
{"nick":"benvie","message":"not a big deal but it's something I'd usually expect. Non-public things to be hidden from casual observance","date":"2012-02-15T21:52:06.551Z","type":"message"}
{"nick":"benvie","message":"I'd imagine defining non-enumerable properties is slower since anything using descriptors has more overhead, but after I doubt it'd make a difference","date":"2012-02-15T21:54:03.548Z","type":"message"}
{"nick":"isaacs","message":"benvie: a lot of javascript programs use _ to mark fields as internal.","date":"2012-02-15T21:55:51.671Z","type":"message"}
{"nick":"isaacs","message":"benvie: any change to replace _property with Object.defineProperty(obj, \"property\", {enumerable:false,value:blah}) would have to come with a not-worse benchmark result","date":"2012-02-15T21:56:49.981Z","type":"message"}
{"nick":"benvie","message":"sorry I was just trying to figure out what was the best color for this bikeshed","date":"2012-02-15T21:56:53.236Z","type":"message"}
{"nick":"isaacs","message":"benvie: lol","date":"2012-02-15T21:57:01.020Z","type":"message"}
{"nick":"benvie","message":"although on that last note, what the ideal what to do it is normal definition. And then a quick loop like var hidden = {enumerable: false}; Object.keys(o).forEach(key){ if (key[0] === '_') Object.defineProperty(o, k, hidden) }); ","date":"2012-02-15T21:59:15.232Z","type":"message"}
{"nick":"benvie","message":"but again this is for my very best bikeshed","date":"2012-02-15T21:59:22.035Z","type":"message"}
{"nick":"benvie","message":"so the color has to be perfect","date":"2012-02-15T21:59:27.339Z","type":"message"}
{"nick":"benvie","message":"but yeah that's completely additional functionality so that's no possible way for it to be faster than just not doing it","date":"2012-02-15T22:00:22.015Z","type":"message"}
{"nick":"benvie","message":"unless hiding the properties somehow makes up for it later which I doubt","date":"2012-02-15T22:00:34.218Z","type":"message"}
{"nick":"benvie","message":"I also dress up my objects in pretty suits and make them dance and sing songs","date":"2012-02-15T22:02:35.845Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-02-15T22:03:20.012Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-02-15T22:04:05.645Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-02-15T22:16:20.510Z","type":"quit"}
{"nick":"isaacs","message":"benvie: haha","date":"2012-02-15T22:21:17.044Z","type":"message"}
{"nick":"isaacs","message":"benvie: that doesn't work, btw","date":"2012-02-15T22:21:22.909Z","type":"message"}
{"nick":"isaacs","message":"benvie: you'd have to set it ot {value: o[k], enumerable: false}","date":"2012-02-15T22:21:36.199Z","type":"message"}
{"nick":"benvie","message":"I messed up with `key` and `k`","date":"2012-02-15T22:22:06.118Z","type":"message"}
{"nick":"benvie","message":"but when you use Object.defineProperty on an existing property it only updates the specified fields","date":"2012-02-15T22:22:25.297Z","type":"message"}
{"nick":"benvie","message":"function hide(o){ var hidden = { enumerable: false }; Object.keys(o).forEach(function(key){ if (key[0] === '_') Object.defineProperty(o, key, hidden) }) };","date":"2012-02-15T22:23:52.343Z","type":"message"}
{"nick":"benvie","message":"should work","date":"2012-02-15T22:23:57.454Z","type":"message"}
{"nick":"isaacs","message":"oh, really?","date":"2012-02-15T22:30:14.365Z","type":"message"}
{"nick":"isaacs","message":"i didn't know that!","date":"2012-02-15T22:30:20.775Z","type":"message"}
{"nick":"isaacs","message":"i thought it clobbered the whole definition","date":"2012-02-15T22:30:31.312Z","type":"message"}
{"nick":"benvie","message":"yeah I didn't either until recently","date":"2012-02-15T22:30:33.248Z","type":"message"}
{"nick":"isaacs","message":"neat!","date":"2012-02-15T22:30:38.948Z","type":"message"}
{"nick":"benvie","message":"you'd think, but no, it's actually useful ha","date":"2012-02-15T22:30:45.961Z","type":"message"}
{"nick":"benvie","message":"a generalize function I use is something like","date":"2012-02-15T22:30:58.344Z","type":"message"}
{"nick":"benvie","message":"function hideProperty(o,p){ if ({}.hasOwnProperty.call(o,p)) Object.defineProperty(o,p, { enumerable: false }) }","date":"2012-02-15T22:30:59.106Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: hey it works!","date":"2012-02-15T22:31:06.327Z","type":"message"}
{"nick":"TooTallNate","message":"whatya know","date":"2012-02-15T22:31:11.357Z","type":"message"}
{"nick":"benvie","message":"because if you do it to a property which doesn't exist then it'll define a property with a value of undefined that's non-writable and non-configurable","date":"2012-02-15T22:32:37.307Z","type":"message"}
{"nick":"benvie","message":"way worse than when you began","date":"2012-02-15T22:32:51.372Z","type":"message"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T22:33:36.723Z","type":"quit"}
{"nick":"dshaw_1","date":"2012-02-15T22:35:02.453Z","type":"join"}
{"nick":"perezd","date":"2012-02-15T22:35:05.516Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 244 seconds","date":"2012-02-15T22:37:12.370Z","type":"quit"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002a59ac9e\u000f \u000310\u000f/ src/node.cc \u0002:\u000f Windows: use unicode environment - http://git.io/-vKCFg","date":"2012-02-15T22:51:29.565Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00021699fa1\u000f \u000310\u000f/ (lib/path.js src/node.cc)\u0002:\u000f Windows: get rid of process._cwdForDrive() - http://git.io/Y9iQ3Q","date":"2012-02-15T22:51:29.743Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- igorzi, isaacs: review","date":"2012-02-15T22:51:41.191Z","type":"message"}
{"nick":"piscisaureus_","message":"(isaacs: in particular, test if it doesn't break unix)","date":"2012-02-15T22:52:05.719Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: did you already land the unicode args?","date":"2012-02-15T22:52:38.457Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that looked fairly straightforward","date":"2012-02-15T22:52:47.541Z","type":"message"}
{"nick":"isaacs","message":"this is more involved, for sure","date":"2012-02-15T22:52:51.072Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I believe I did - lemme check","date":"2012-02-15T22:52:59.675Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, it was landed in 0.6","date":"2012-02-15T22:53:19.075Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: note that you need both to fix this npm issue","date":"2012-02-15T22:53:29.564Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2012-02-15T22:53:39.239Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: heading out for a little bit.  i'll review this and if igorzi signs off, we can land it","date":"2012-02-15T22:55:39.397Z","type":"message"}
{"nick":"piscisaureus_","message":"alright","date":"2012-02-15T22:55:55.263Z","type":"message"}
{"nick":"xaq","date":"2012-02-15T22:55:55.428Z","type":"join"}
{"nick":"isaacs","message":"i want to check unix, and also make sure it actually fixes the npm issue","date":"2012-02-15T22:55:55.588Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: right.","date":"2012-02-15T22:56:10.758Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am confident it does","date":"2012-02-15T22:56:17.114Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you'll have to create an user on your windows machine with some weird character in it","date":"2012-02-15T22:56:46.058Z","type":"message"}
{"nick":"piscisaureus_","message":"like ïsààçs","date":"2012-02-15T22:57:10.319Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or just go into a directory with that name","date":"2012-02-15T22:59:01.057Z","type":"message"}
{"nick":"mmalecki","message":"how'd I go about waiting for completion of all uv queued requests?","date":"2012-02-15T22:59:04.079Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: uv_run() :-)","date":"2012-02-15T22:59:26.609Z","type":"message"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-02-15T22:59:46.334Z","type":"quit"}
{"nick":"mmalecki","message":"piscisaureus_: what happens if I call it twice on the same loop?","date":"2012-02-15T22:59:54.862Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: possibly. you have to make sure to stress both the environment handling and the args handling","date":"2012-02-15T22:59:56.915Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-02-15T23:00:07.218Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: well, it'll just continue","date":"2012-02-15T23:00:10.838Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: act like nothing happened?","date":"2012-02-15T23:00:23.766Z","type":"message"}
{"nick":"isaacs","message":"oh, process.cwd() doesn't get it out of the env?","date":"2012-02-15T23:00:24.230Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yep","date":"2012-02-15T23:00:29.640Z","type":"message"}
{"nick":"mraleph","date":"2012-02-15T23:00:30.550Z","type":"join"}
{"nick":"mmalecki","message":"yeah, that's the problem :)","date":"2012-02-15T23:00:38.716Z","type":"message"}
{"nick":"mmalecki","message":"I want something like eio_poll","date":"2012-02-15T23:00:49.819Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: not process.cwd. But process._cwdForDrive() did","date":"2012-02-15T23:00:49.975Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2012-02-15T23:01:10.555Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it uses \"hidden\" environment variables","date":"2012-02-15T23:01:14.367Z","type":"message"}
{"nick":"isaacs","message":"i see","date":"2012-02-15T23:01:18.179Z","type":"message"}
{"nick":"isaacs","message":"windows you so crazy!","date":"2012-02-15T23:01:25.191Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-02-15T23:01:28.127Z","type":"message"}
{"nick":"piscisaureus_","message":"it's a mess. agreed","date":"2012-02-15T23:02:07.097Z","type":"message"}
{"nick":"isaacs","message":"srsly, man, \"=\", really?","date":"2012-02-15T23:02:19.042Z","type":"message"}
{"nick":"isaacs","message":"that means read-only?","date":"2012-02-15T23:02:23.000Z","type":"message"}
{"nick":"isaacs","message":"that's wild.","date":"2012-02-15T23:02:24.406Z","type":"message"}
{"nick":"isaacs","message":"ok, bbiab.","date":"2012-02-15T23:02:28.685Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-02-15T23:02:34.069Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: it doesn't really mean read-only, but it means hidden. And we make it read only or the user can easily fuck up everything","date":"2012-02-15T23:02:52.893Z","type":"message"}
{"nick":"diogosnows","date":"2012-02-15T23:03:11.966Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-02-15T23:04:31.863Z","type":"quit"}
{"nick":"mmalecki","message":"piscisaureus_: so, is there a way to wait for completion on a already running loop?","date":"2012-02-15T23:06:44.262Z","type":"message"}
{"nick":"dshaw_","date":"2012-02-15T23:07:24.384Z","type":"join"}
{"nick":"piscisaureus_","message":"mmalecki: why would you want to do that?","date":"2012-02-15T23:07:44.778Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_run() blocks until the loop completes","date":"2012-02-15T23:07:51.444Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: I probably don't understand what you want to do","date":"2012-02-15T23:08:11.428Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: isaacs: oops, found a leak. Updating the reviewme branch in a minue","date":"2012-02-15T23:08:33.941Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: I want to \"empty\" the thread pool before forking :)","date":"2012-02-15T23:10:10.083Z","type":"message"}
{"nick":"dshaw_1","reason":"Ping timeout: 260 seconds","date":"2012-02-15T23:11:30.575Z","type":"quit"}
{"nick":"piscisaureus_","message":"mmalecki: aha","date":"2012-02-15T23:11:50.746Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002077f9d7\u000f \u000310\u000f/ src/node.cc \u0002:\u000f Windows: use unicode environment - http://git.io/cR_zrQ","date":"2012-02-15T23:11:50.923Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002d91bc7c\u000f \u000310\u000f/ (lib/path.js src/node.cc)\u0002:\u000f Windows: get rid of process._cwdForDrive() - http://git.io/_wG4ow","date":"2012-02-15T23:11:55.011Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: stop doing the fork() crap :-)","date":"2012-02-15T23:12:06.299Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: I thought we want process.daemonize?","date":"2012-02-15T23:12:32.993Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: I don't think we want it with fork()","date":"2012-02-15T23:12:49.051Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: is it possible otherwise?","date":"2012-02-15T23:13:22.822Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: since callbacks could trigger new file io you would never be able to tell whether the thread pool is empty","date":"2012-02-15T23:13:26.223Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: unless you create an uv_idle watcher and use some hack to count the work that's still busy in the thread pool","date":"2012-02-15T23:14:10.382Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: of course - just add a --daemonize flag to node","date":"2012-02-15T23:14:31.846Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: oh! it'd just fork at the beginning?","date":"2012-02-15T23:15:02.216Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yes. It needs to do a couple of things","date":"2012-02-15T23:15:18.355Z","type":"message"}
{"nick":"mmalecki","message":"yeah","date":"2012-02-15T23:15:29.400Z","type":"message"}
{"nick":"piscisaureus_","message":"but basically, it needs to replace all TTYs FDs by /dev/null, then fork and exit the parent","date":"2012-02-15T23:15:53.805Z","type":"message"}
{"nick":"piscisaureus_","message":"much cleaner","date":"2012-02-15T23:15:56.815Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^-- right?","date":"2012-02-15T23:16:07.384Z","type":"message"}
{"nick":"mmalecki","message":"yeah, that sounds right","date":"2012-02-15T23:16:17.282Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhu1s: ^-- sic","date":"2012-02-15T23:16:19.747Z","type":"message"}
{"nick":"mmalecki","message":"also, dup2 and things","date":"2012-02-15T23:16:23.371Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-02-15T23:16:30.164Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T23:17:38.573Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#423 (reviewme - 1699fa1 : Bert Belder): The build passed.","date":"2012-02-15T23:17:38.737Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/a59ac9e^...1699fa1","date":"2012-02-15T23:17:38.737Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/684518","date":"2012-02-15T23:17:38.738Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T23:17:38.738Z","type":"part"}
{"nick":"dshaw_1","date":"2012-02-15T23:17:54.004Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 244 seconds","date":"2012-02-15T23:18:32.342Z","type":"quit"}
{"nick":"DrPizza","message":"shouldn't all this environment stuff be in libuv? I thought the aim was to get node free of platform-specific code","date":"2012-02-15T23:18:59.931Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: would it go to node or to libuv?","date":"2012-02-15T23:19:02.843Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T23:20:03.399Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#424 (reviewme - d91bc7c : Bert Belder): The build passed.","date":"2012-02-15T23:20:03.561Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/1699fa1...d91bc7c","date":"2012-02-15T23:20:03.561Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/684647","date":"2012-02-15T23:20:03.561Z","type":"message"}
{"nick":"travis-ci","date":"2012-02-15T23:20:03.561Z","type":"part"}
{"nick":"piscisaureus_","message":"mmalecki: daemonize?","date":"2012-02-15T23:20:47.439Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-02-15T23:20:49.166Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: it could go in libuv","date":"2012-02-15T23:21:00.591Z","type":"message"}
{"nick":"isaacs","date":"2012-02-15T23:21:00.860Z","type":"join"}
{"nick":"piscisaureus_","message":"mmalecki: but if you can show a prototype in node I am already happy :-)","date":"2012-02-15T23:21:14.274Z","type":"message"}
{"nick":"CoverSlide","message":"I agree. Next goal would be to remove all #ifdef statements","date":"2012-02-15T23:21:18.353Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: if it goes into libuv it must be cross-platform","date":"2012-02-15T23:21:31.292Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: but you cannot start a windows service with a command line flag","date":"2012-02-15T23:21:47.582Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: uhm, any other way?","date":"2012-02-15T23:21:56.542Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: the best we could do on windows is \"run in the background, don't use a console windows\"","date":"2012-02-15T23:22:24.540Z","type":"message"}
{"nick":"piscisaureus_","message":"which might make sense","date":"2012-02-15T23:22:31.901Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-02-15T23:22:41.465Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: but that doesn't actually daemonize, does it?","date":"2012-02-15T23:22:43.080Z","type":"message"}
{"nick":"CoverSlide","message":"node needs its own gui","date":"2012-02-15T23:22:50.444Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: define \"deamonize\"","date":"2012-02-15T23:22:54.667Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: WELL. as in Unix :P","date":"2012-02-15T23:23:12.596Z","type":"message"}
{"nick":"CoverSlide","message":"mebbe make a windows service","date":"2012-02-15T23:23:30.107Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so... if process._getCwdForDrive() is gone, how DO you get the cwd on a different drive?","date":"2012-02-15T23:24:01.484Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what's =resolveddevice?","date":"2012-02-15T23:24:06.463Z","type":"message"}
{"nick":"piscisaureus__","date":"2012-02-15T23:24:15.494Z","type":"join"}
{"nick":"piscisaureus__","message":"mmalecki: \"unix daemon\" == \"background process. no terminal. no parent\"","date":"2012-02-15T23:24:45.843Z","type":"message"}
{"nick":"piscisaureus__","message":"mmalecki: we can do that in windows","date":"2012-02-15T23:24:50.692Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus__: awesome!","date":"2012-02-15T23:25:42.639Z","type":"message"}
{"nick":"bnoordhu1s","reason":"Ping timeout: 244 seconds","date":"2012-02-15T23:25:46.366Z","type":"quit"}
{"nick":"mmalecki","message":"piscisaureus__: I'll prototype it","date":"2012-02-15T23:25:48.291Z","type":"message"}
{"nick":"piscisaureus__","message":"CoverSlide: a windows service works very differently. Windows services are started and stopped by the service manager. They are controlled via control messages (which are basically a special flavor of signals). The program uses a difference entry point (not main/WinMain but ServiceMain).","date":"2012-02-15T23:26:48.200Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 244 seconds","date":"2012-02-15T23:27:19.344Z","type":"quit"}
{"nick":"mmalecki","message":"^ why I love unix","date":"2012-02-15T23:27:30.915Z","type":"message"}
{"nick":"DrPizza","message":"actually it's one of the reasons that unix sucks and Windows services are good","date":"2012-02-15T23:27:48.651Z","type":"message"}
{"nick":"DrPizza","message":"there's a standardized way to tell a service how to start, pause/resume, stop","date":"2012-02-15T23:28:09.348Z","type":"message"}
{"nick":"DrPizza","message":"and you can query a service's status","date":"2012-02-15T23:28:13.203Z","type":"message"}
{"nick":"piscisaureus__","message":"In this case I agree with DrPizza (although, DrPizza, manually adding/removing services is way too difficult IMHO)","date":"2012-02-15T23:28:16.592Z","type":"message"}
{"nick":"DrPizza","message":"ask it \"have you started up now?\"","date":"2012-02-15T23:28:19.658Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus__: yes, that's true, since the SCM doesn't just read the registry each time, whch is annoying","date":"2012-02-15T23:28:30.376Z","type":"message"}
{"nick":"mmalecki","message":"yes, you can do the same thing in Unix","date":"2012-02-15T23:28:33.965Z","type":"message"}
{"nick":"DrPizza","message":"if you could just add/remove entries from the registry","date":"2012-02-15T23:28:37.007Z","type":"message"}
{"nick":"AvianFlu","message":"mmalecki, not reliably inter-unix though","date":"2012-02-15T23:28:43.195Z","type":"message"}
{"nick":"mmalecki","message":"there are just different managers","date":"2012-02-15T23:28:43.406Z","type":"message"}
{"nick":"mmalecki","message":"yeah","date":"2012-02-15T23:28:49.329Z","type":"message"}
{"nick":"DrPizza","message":"mmalecki: what is the standard way to ask a unix daemon \"have you finished initializing and are running normally\"?","date":"2012-02-15T23:28:58.888Z","type":"message"}
{"nick":"mmalecki","message":"DrPizza: define \"initializing\"","date":"2012-02-15T23:29:12.862Z","type":"message"}
{"nick":"mmalecki","message":"DrPizza: usually it creates a PID file tho","date":"2012-02-15T23:29:29.526Z","type":"message"}
{"nick":"piscisaureus__","message":"mmalecki: a web server is done initializing when it starts accepting connections","date":"2012-02-15T23:29:43.370Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus__: on unix it depends on a daemon","date":"2012-02-15T23:31:09.609Z","type":"message"}
{"nick":"DrPizza","message":"ding ding","date":"2012-02-15T23:31:58.350Z","type":"message"}
{"nick":"TooTallNate","message":"mmalecki: their point is that on windows this is standardized and on unix its up in the air","date":"2012-02-15T23:32:04.578Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: oh well. I like how it's \"up in the air\".","date":"2012-02-15T23:33:11.164Z","type":"message"}
{"nick":"isaacs","message":"tbh, the windows services framework thing is basically what every unix os has had to develop for themselves.","date":"2012-02-15T23:33:17.631Z","type":"message"}
{"nick":"isaacs","message":"smf, init.d, upstart, etc.","date":"2012-02-15T23:33:37.420Z","type":"message"}
{"nick":"mmalecki","message":"I like system.d","date":"2012-02-15T23:33:51.568Z","type":"message"}
{"nick":"CoverSlide","message":"true, just a matter of picking one","date":"2012-02-15T23:33:58.540Z","type":"message"}
{"nick":"CoverSlide","message":"on unix you have \"options\"","date":"2012-02-15T23:34:08.267Z","type":"message"}
{"nick":"isaacs","message":"ha","date":"2012-02-15T23:34:11.482Z","type":"message"}
{"nick":"piscisaureus__","message":"ha","date":"2012-02-15T23:34:14.330Z","type":"message"}
{"nick":"piscisaureus__","new_nick":"piscisaureus","date":"2012-02-15T23:34:18.259Z","type":"nick"}
{"nick":"isaacs","message":"well, on any *specific* unix, youusually don't","date":"2012-02-15T23:34:20.560Z","type":"message"}
{"nick":"isaacs","action":"really likes smf, despite the xml","date":"2012-02-15T23:34:26.596Z","type":"action"}
{"nick":"CoverSlide","message":"true","date":"2012-02-15T23:34:26.959Z","type":"message"}
{"nick":"CoverSlide","message":"but most are floss and portable","date":"2012-02-15T23:34:46.832Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: looks good on unix.","date":"2012-02-15T23:38:50.210Z","type":"message"}
{"nick":"isaacs","message":"(os x","date":"2012-02-15T23:38:51.472Z","type":"message"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-02-15T23:39:59.666Z","type":"quit"}
{"nick":"piscisaureus","message":"isaacs: now we have to check whether it fixes the env issues","date":"2012-02-15T23:47:42.143Z","type":"message"}
{"nick":"piscisaureus","message":"er, the npm issues","date":"2012-02-15T23:47:47.223Z","type":"message"}
{"nick":"isaacs","message":"yeah, building","date":"2012-02-15T23:47:57.734Z","type":"message"}
{"nick":"isaacs","message":"slow cafe wifi","date":"2012-02-15T23:48:13.631Z","type":"message"}
{"nick":"isaacs","message":"and just copying the folder from mac to win didn't work so well.","date":"2012-02-15T23:48:27.303Z","type":"message"}
{"nick":"isaacs","message":"i would like windows 100% more if i could ssh into it from iterm, rather than using cmd.","date":"2012-02-15T23:51:36.436Z","type":"message"}
{"nick":"piscisaureus","message":"hehe","date":"2012-02-15T23:51:50.599Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: you could try winsshd","date":"2012-02-15T23:52:13.261Z","type":"message"}
{"nick":"TooTallNate","message":"does there not exist a windows ssh server?","date":"2012-02-15T23:52:15.347Z","type":"message"}
{"nick":"TooTallNate","message":"ahh ^","date":"2012-02-15T23:52:21.911Z","type":"message"}
{"nick":"isaacs","message":"the builtin terms in linux and smartos are crap too, but at least you don't have to use them","date":"2012-02-15T23:52:23.666Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: right, but that's not a valid test, is it?","date":"2012-02-15T23:52:33.774Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: although I am not sure what shell it gives you, probably cmd","date":"2012-02-15T23:52:35.060Z","type":"message"}
{"nick":"benvie","message":"amen to that, I just want xterm-256","date":"2012-02-15T23:52:50.261Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: what is not a valid test?","date":"2012-02-15T23:52:52.908Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-02-15T23:52:53.642Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus: yeah, also, i'd want bash","date":"2012-02-15T23:52:59.681Z","type":"message"}
{"nick":"isaacs","message":"rm !$ <-- \"could not find the file specified\"","date":"2012-02-15T23:53:11.696Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: for that you'd have to use mingw or cygwin","date":"2012-02-15T23:53:14.149Z","type":"message"}
{"nick":"isaacs","message":"ew.","date":"2012-02-15T23:53:18.428Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/compare/fix-ssl <- thoughts, suggestions?","date":"2012-02-15T23:53:26.287Z","type":"message"}
{"nick":"isaacs","message":"i can type \"bash\" into cmd, but it's.... different.","date":"2012-02-15T23:53:27.848Z","type":"message"}
{"nick":"bnoordhuis","message":"first commit is a nice-to-have, second one is the 'thwart CI reneg attack' commit","date":"2012-02-15T23:53:45.963Z","type":"message"}
{"nick":"TooTallNate","message":"when you install msysgit that comes with a Bash","date":"2012-02-15T23:53:46.496Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: found this, haven't tried it: http://win-bash.sourceforge.net","date":"2012-02-15T23:54:20.269Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: if (~~flags) return flags; <-- why not if (typeof flags === 'number')?","date":"2012-02-15T23:54:26.618Z","type":"message"}
{"nick":"benvie","message":"it's unfortunate how big a pain in the ass it is to get anything to act like a tty though","date":"2012-02-15T23:54:26.777Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: it's an \"if zero\" check","date":"2012-02-15T23:55:07.658Z","type":"message"}
{"nick":"bnoordhuis","message":"that also works for things that are not numbers","date":"2012-02-15T23:55:26.587Z","type":"message"}
{"nick":"bnoordhuis","message":"sorry, i mean \"if not zero\"","date":"2012-02-15T23:55:45.141Z","type":"message"}
{"nick":"isaacs","message":"i see","date":"2012-02-15T23:55:50.920Z","type":"message"}
{"nick":"isaacs","message":"so, if (flags && typeof flags === 'number') then?","date":"2012-02-15T23:56:00.673Z","type":"message"}
{"nick":"isaacs","message":"~~ looks overclever.","date":"2012-02-15T23:56:07.049Z","type":"message"}
{"nick":"isaacs","message":"i can see the rest of the function is all kinds of bitwise, though, so maybe it fits :)","date":"2012-02-15T23:56:21.597Z","type":"message"}
{"nick":"bnoordhuis","message":"i wrote that yesterday and i don't recall why i used ~~","date":"2012-02-15T23:56:22.130Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's korsakov for you","date":"2012-02-15T23:56:26.679Z","type":"message"}
{"nick":"isaacs","message":"probably just in bit mode.","date":"2012-02-15T23:56:32.751Z","type":"message"}
{"nick":"isaacs","message":"seemed obvious :);","date":"2012-02-15T23:56:37.664Z","type":"message"}
{"nick":"piscisaureus","message":"I like the ~~ operator","date":"2012-02-15T23:56:41.420Z","type":"message"}
{"nick":"xaq","date":"2012-02-15T23:57:06.062Z","type":"join"}
{"nick":"isaacs","message":"ok, reading for content now..","date":"2012-02-15T23:57:25.183Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: ok, so igorzi ack'ed the unicode thing","date":"2012-02-15T23:57:47.314Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: now we should just test if it fixes the npm issue","date":"2012-02-15T23:58:01.379Z","type":"message"}
{"nick":"isaacs","message":".yep","date":"2012-02-15T23:58:13.729Z","type":"message"}
{"nick":"isaacs","message":"just got it checked out, finally.  building/installing now","date":"2012-02-15T23:58:43.223Z","type":"message"}
{"nick":"bnoordhuis","message":"on a side note, that first commit should probably go into master","date":"2012-02-15T23:59:21.929Z","type":"message"}

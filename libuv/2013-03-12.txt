{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-03-12T00:00:01.711Z","type":"quit"}
{"nick":"ircretary","date":"2013-03-12T00:00:10.332Z","type":"join"}
{"nick":"saghul","message":"when you set on to 1 in simultaneous accepts it uses a single accept","date":"2013-03-12T00:00:13.742Z","type":"message"}
{"nick":"bnoordhuis","message":"it does. it's silly","date":"2013-03-12T00:00:37.841Z","type":"message"}
{"nick":"saghul","message":"can it be fixed or are there historical reasons not to do so? ;-)","date":"2013-03-12T00:01:07.894Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't think there are. node doesn't even use it on unix","date":"2013-03-12T00:01:31.319Z","type":"message"}
{"nick":"saghul","message":"ok, I'll work on a PR to clarify it a bit and make it behave as the name suggests then :-)","date":"2013-03-12T00:02:32.265Z","type":"message"}
{"nick":"bnoordhuis","message":"it's just swapping the if/else clauses around right?","date":"2013-03-12T00:03:14.733Z","type":"message"}
{"nick":"saghul","message":"yes, and the comment","date":"2013-03-12T00:03:56.280Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #48 \u00037UNSTABLE\u000f linux (2/183) osx (2/183) smartos (5/183) windows (4/184) http://jenkins.nodejs.org/job/libuv-master/48/","date":"2013-03-12T00:04:31.714Z","type":"message"}
{"nick":"saghul","message":"I'm off for today, so i'll submit it somewhere tomorrow, if you haven't done it by then ;-)","date":"2013-03-12T00:05:34.549Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033bnoordhuis\u000f created branch saghul-review-this - http://git.io/H1P-LQ","date":"2013-03-12T00:07:13.876Z","type":"message"}
{"nick":"bnoordhuis","message":"^ saghul","date":"2013-03-12T00:07:18.452Z","type":"message"}
{"nick":"bnoordhuis","message":"but yes, i'm signing off too","date":"2013-03-12T00:07:51.203Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis looks fine :-)","date":"2013-03-12T00:08:34.891Z","type":"message"}
{"nick":"kazupon","date":"2013-03-12T00:08:59.198Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-03-12T00:12:42.324Z","type":"quit"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-03-12T00:13:02.903Z","type":"quit"}
{"nick":"othiym23","message":"anyone know what's supposed to happen when a domain error handler throws under 0.10?","date":"2013-03-12T00:26:38.829Z","type":"message"}
{"nick":"othiym23","message":"I have an error interceptor that wraps calls up in a domain, but then tries to preserve the code's behavior by rethrowing the exception","date":"2013-03-12T00:27:12.352Z","type":"message"}
{"nick":"othiym23","message":"there doesn't appear to be any way to trap that exception, because uncaughtException handlers don't fire if an exception has already been handled by a domain","date":"2013-03-12T00:27:51.413Z","type":"message"}
{"nick":"sblom","date":"2013-03-12T00:28:27.258Z","type":"quit"}
{"nick":"othiym23","message":"I spose I could call process.emit('uncaughtException', error) directly, but that feels hacky","date":"2013-03-12T00:28:32.943Z","type":"message"}
{"nick":"othiym23","message":"(which is not to say that the whole thing isn't hacky)","date":"2013-03-12T00:28:50.301Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-12T00:30:02.827Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-12T00:41:27.644Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-12T00:46:11.370Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-12T00:52:07.319Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-03-12T00:57:52.594Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-03-12T01:18:32.760Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-03-12T01:23:10.249Z","type":"quit"}
{"nick":"perezd","date":"2013-03-12T01:40:20.344Z","type":"join"}
{"nick":"abraxas","date":"2013-03-12T01:43:27.413Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-12T01:44:53.378Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-03-12T01:56:52.946Z","type":"quit"}
{"nick":"abraxas","date":"2013-03-12T02:00:37.125Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-12T02:01:23.988Z","type":"quit"}
{"nick":"wavded","date":"2013-03-12T02:07:11.906Z","type":"join"}
{"nick":"dominictarr","date":"2013-03-12T02:12:24.769Z","type":"join"}
{"nick":"kazupon","date":"2013-03-12T02:20:56.155Z","type":"join"}
{"nick":"AvianFlu","date":"2013-03-12T02:21:15.635Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-12T02:21:39.458Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-12T02:22:00.725Z","type":"join"}
{"nick":"bradleymeck","date":"2013-03-12T02:51:27.631Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 255 seconds","date":"2013-03-12T02:51:47.387Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-12T03:07:53.929Z","type":"quit"}
{"nick":"Chip_Zero","reason":"Ping timeout: 248 seconds","date":"2013-03-12T03:10:25.367Z","type":"quit"}
{"nick":"Chip_Zero","date":"2013-03-12T03:11:13.381Z","type":"join"}
{"nick":"wavded","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2013-03-12T03:11:57.864Z","type":"quit"}
{"nick":"brson","date":"2013-03-12T03:33:33.304Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-12T03:37:23.014Z","type":"quit"}
{"nick":"jguerrero","reason":"Quit: jguerrero","date":"2013-03-12T03:41:20.826Z","type":"quit"}
{"nick":"trevnorris","date":"2013-03-12T03:46:35.644Z","type":"join"}
{"nick":"abraxas","date":"2013-03-12T04:01:59.507Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-12T04:02:39.003Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-12T04:05:39.711Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 260 seconds","date":"2013-03-12T04:06:20.212Z","type":"quit"}
{"nick":"abraxas","date":"2013-03-12T04:06:40.195Z","type":"join"}
{"nick":"creationix","date":"2013-03-12T04:14:50.152Z","type":"join"}
{"nick":"jguerrero","date":"2013-03-12T04:35:31.271Z","type":"join"}
{"nick":"dominictarr","date":"2013-03-12T04:48:01.705Z","type":"join"}
{"nick":"mikeal","date":"2013-03-12T04:48:41.275Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 245 seconds","date":"2013-03-12T04:52:54.912Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-12T04:53:35.763Z","type":"quit"}
{"nick":"dominictarr","reason":"Ping timeout: 260 seconds","date":"2013-03-12T04:53:39.505Z","type":"quit"}
{"nick":"dominictarr_","date":"2013-03-12T04:53:43.383Z","type":"join"}
{"nick":"mikeal","date":"2013-03-12T04:54:48.382Z","type":"join"}
{"nick":"ryah","date":"2013-03-12T04:55:05.562Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-03-12T05:03:40.560Z","type":"quit"}
{"nick":"Chip_Zero","reason":"Ping timeout: 245 seconds","date":"2013-03-12T05:03:53.173Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-12T05:04:01.258Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-03-12T05:46:16.064Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-12T05:54:32.137Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-03-12T05:55:53.823Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2013-03-12T05:57:13.323Z","type":"quit"}
{"nick":"wolfeidau","message":"Gday has anyone tried using dtrace with node 0.10 having trouble getting it to resolve function names for some reason","date":"2013-03-12T06:01:11.650Z","type":"message"}
{"nick":"tjfontaine","message":"some function names, or all?","date":"2013-03-12T06:02:04.052Z","type":"message"}
{"nick":"benoitc","date":"2013-03-12T06:03:40.940Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-12T06:04:12.722Z","type":"nick"}
{"nick":"trevnorris","message":"anyone have a sec to review a msg I want to post on a v8 bug? https://gist.github.com/trevnorris/5140676","date":"2013-03-12T06:06:51.630Z","type":"message"}
{"nick":"trevnorris","message":"i'm trying to demonstrate that Persistent handles and MakeWeak are too expensive for a much simpler use case.","date":"2013-03-12T06:07:28.031Z","type":"message"}
{"nick":"trevnorris","message":"though I want to make sure my example is sound.","date":"2013-03-12T06:07:53.716Z","type":"message"}
{"nick":"perezd","date":"2013-03-12T06:13:00.435Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-12T06:13:26.821Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-03-12T06:20:39.290Z","type":"quit"}
{"nick":"csaoh","date":"2013-03-12T06:29:59.747Z","type":"join"}
{"nick":"wolfeidau","date":"2013-03-12T06:31:55.106Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: Sorry all, just getting addresses in the stack traces ","date":"2013-03-12T06:33:46.255Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-03-12T06:33:49.718Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-03-12T06:34:18.195Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: GOing to go through the build process and log everything to make sure dtrace got enabled","date":"2013-03-12T06:34:21.562Z","type":"message"}
{"nick":"csaoh","reason":"Client Quit","date":"2013-03-12T06:34:34.571Z","type":"quit"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2013-03-12T06:45:35.993Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-12T06:48:12.719Z","type":"nick"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-03-12T06:50:54.678Z","type":"quit"}
{"nick":"tjfontaine","message":"wolfeidau: what's your invocation mechanism?","date":"2013-03-12T06:53:52.291Z","type":"message"}
{"nick":"tjfontaine","message":"that is to say","date":"2013-03-12T06:54:04.701Z","type":"message"}
{"nick":"tjfontaine","message":"are you using something like `dtrace -c` or attaching to something running? and does the process exit before dtrace finishes?","date":"2013-03-12T06:54:34.940Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: So dtrace probes are configured but jstack isn't giving me names with 0.10 for some reason","date":"2013-03-12T06:55:03.303Z","type":"message"}
{"nick":"wolfeidau","message":"So running pfexec dtrace –n -l | grep node while a node process is running gives me the correct probes","date":"2013-03-12T06:55:32.641Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-12T06:55:46.513Z","type":"nick"}
{"nick":"wolfeidau","message":"There is a note in the old nodejs blog post that it only works with 32 bit nodejs ","date":"2013-03-12T06:56:19.534Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Going to do a well over due RTFM on jstack before I say anymore ","date":"2013-03-12T06:56:59.503Z","type":"message"}
{"nick":"tjfontaine","message":"that is true, but one of the new things for 0.10 should have been a 64bit dtrace","date":"2013-03-12T06:57:37.918Z","type":"message"}
{"nick":"tjfontaine","message":"I have recently seen an issue where if I let the process finish before dtrace finished then I would lose translation","date":"2013-03-12T06:58:11.693Z","type":"message"}
{"nick":"tjfontaine","message":"but that is almost always solved by using `dtrace -c`","date":"2013-03-12T06:58:23.418Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Ah will try that as well","date":"2013-03-12T06:59:40.667Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Do you normally use a Debug version of node?","date":"2013-03-12T06:59:56.500Z","type":"message"}
{"nick":"tjfontaine","message":"not usually in the smartos land, it's not as necessary","date":"2013-03-12T07:00:34.123Z","type":"message"}
{"nick":"Chip_Zero","date":"2013-03-12T07:01:00.563Z","type":"join"}
{"nick":"wolfeidau","message":"Ah ok thanks for the tips","date":"2013-03-12T07:01:38.477Z","type":"message"}
{"nick":"tjfontaine","message":"I will be definitely looking into this tomorrow though, so either leave me a note here with what you find, or file an issue","date":"2013-03-12T07:02:19.308Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: np ","date":"2013-03-12T07:03:23.203Z","type":"message"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-03-12T07:13:22.677Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-12T07:13:47.077Z","type":"join"}
{"nick":"zot","date":"2013-03-12T07:36:10.136Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-03-12T07:37:39.006Z","type":"quit"}
{"nick":"rendar","date":"2013-03-12T07:51:23.139Z","type":"join"}
{"nick":"`3rdEden","date":"2013-03-12T07:51:40.378Z","type":"join"}
{"nick":"indexzero","date":"2013-03-12T07:54:43.797Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E","date":"2013-03-12T07:55:22.386Z","type":"nick"}
{"nick":"`3rdEden","date":"2013-03-12T07:55:52.387Z","type":"join"}
{"nick":"philips","reason":"Read error: Operation timed out","date":"2013-03-12T07:57:19.060Z","type":"quit"}
{"nick":"jguerrero","reason":"Quit: jguerrero","date":"2013-03-12T07:57:45.640Z","type":"quit"}
{"nick":"wolfeidau","message":"tjfontaine: You were exactly right, running a process via -c captured both native and js function names, doing so via an execname predicate in another terminal dropped ommitted it all https://gist.github.com/wolfeidau/5141024 to see my method","date":"2013-03-12T08:01:00.865Z","type":"message"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-03-12T08:06:38.855Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-12T08:06:51.913Z","type":"join"}
{"nick":"philips","date":"2013-03-12T08:16:17.516Z","type":"join"}
{"nick":"kevireilly","reason":"Read error: Connection reset by peer","date":"2013-03-12T08:30:57.741Z","type":"quit"}
{"nick":"csaoh","date":"2013-03-12T08:36:57.485Z","type":"join"}
{"nick":"zot","message":"so, if working with uv_read_start(…, callback), within the callback, when I get res == −1, I have to call uv_last_error(loop), correct?  if so, that means I need to carry my loop pointer all the way through multiple callback layers (via tcp socket connect, then via read_start).  is there a simpler way to look for EOF?","date":"2013-03-12T09:47:32.770Z","type":"message"}
{"nick":"indutny","message":"you can get loop","date":"2013-03-12T09:47:53.188Z","type":"message"}
{"nick":"indutny","message":"from handle","date":"2013-03-12T09:47:54.945Z","type":"message"}
{"nick":"indutny","message":"handle->loop","date":"2013-03-12T09:47:56.885Z","type":"message"}
{"nick":"zot","message":"thanks :)","date":"2013-03-12T09:48:11.765Z","type":"message"}
{"nick":"Chip_Zero","reason":"Changing host","date":"2013-03-12T09:55:31.668Z","type":"quit"}
{"nick":"Chip_Zero","date":"2013-03-12T09:55:31.882Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-12T09:57:13.975Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-12T10:09:57.867Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-12T10:23:34.286Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-03-12T10:30:48.185Z","type":"quit"}
{"nick":"indexzero","date":"2013-03-12T10:42:29.990Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-12T10:44:48.705Z","type":"quit"}
{"nick":"stagas","date":"2013-03-12T10:45:51.828Z","type":"join"}
{"nick":"abraxas","date":"2013-03-12T10:45:54.388Z","type":"join"}
{"nick":"hz","date":"2013-03-12T10:59:54.733Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-12T11:11:45.673Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-12T11:14:52.001Z","type":"quit"}
{"nick":"dominictarr_","reason":"Quit: dominictarr_","date":"2013-03-12T11:18:46.993Z","type":"quit"}
{"nick":"Kakera","date":"2013-03-12T11:19:28.261Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-12T11:23:49.515Z","type":"join"}
{"nick":"piscisaureus","date":"2013-03-12T11:34:48.723Z","type":"join"}
{"nick":"piscisaureus","new_nick":"piscisaureus_","date":"2013-03-12T11:34:58.302Z","type":"nick"}
{"nick":"indutny","message":"bnoordhuis: hey man","date":"2013-03-12T11:37:20.250Z","type":"message"}
{"nick":"jez0990_","date":"2013-03-12T11:37:23.711Z","type":"join"}
{"nick":"indutny","message":"https://github.com/joyent/node/pull/4986","date":"2013-03-12T11:37:30.870Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, i've seen it","date":"2013-03-12T11:37:47.992Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather, observed its existence","date":"2013-03-12T11:38:18.196Z","type":"message"}
{"nick":"indutny","message":"time to observe it in upstream ;)","date":"2013-03-12T11:38:32.830Z","type":"message"}
{"nick":"bnoordhuis","message":"in due time. i still have something like 50 emails to work through","date":"2013-03-12T11:39:04.933Z","type":"message"}
{"nick":"jez0990","reason":"*.net *.split","date":"2013-03-12T11:43:49.049Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002905d56c\u0002 : unix: fix uv_tcp_simultaneous_accepts() logic  Inverts the meaning of the - http://git.io/ggjLaA","date":"2013-03-12T11:44:26.457Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-12T11:54:42.134Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 264 seconds","date":"2013-03-12T11:55:18.406Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 272 seconds","date":"2013-03-12T11:57:30.691Z","type":"quit"}
{"nick":"saghul","message":"when is the libuv v0.10 branch scheduled to come out?","date":"2013-03-12T11:58:58.326Z","type":"message"}
{"nick":"saghul","message":"also, this looked pretty cool: https://github.com/piscisaureus/libuv/compare/master...release is it still the intention to have it?","date":"2013-03-12T12:00:41.067Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: interesting, what uv_tcp_simultaneous_accepts enables/disables on unix?","date":"2013-03-12T12:04:30.286Z","type":"message"}
{"nick":"sgallagh","date":"2013-03-12T12:06:18.999Z","type":"join"}
{"nick":"stagas","date":"2013-03-12T12:06:25.776Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-03-12T12:07:18.968Z","type":"quit"}
{"nick":"indutny","message":"simultaneous accepts? :)","date":"2013-03-12T12:09:21.143Z","type":"message"}
{"nick":"rendar","message":"yes","date":"2013-03-12T12:09:31.143Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-03-12T12:09:32.112Z","type":"message"}
{"nick":"dominictarr","reason":"Ping timeout: 245 seconds","date":"2013-03-12T12:09:59.891Z","type":"quit"}
{"nick":"indutny","message":"its enabling small delay after accept() call","date":"2013-03-12T12:10:10.272Z","type":"message"}
{"nick":"indutny","message":"sometimes it improves tcp connections balancing between forks","date":"2013-03-12T12:10:19.047Z","type":"message"}
{"nick":"rendar","message":"like while(1) { fd = accept(); ... nanosleep(300); ... }","date":"2013-03-12T12:10:56.391Z","type":"message"}
{"nick":"rendar","message":"or something","date":"2013-03-12T12:11:09.868Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-03-12T12:13:29.711Z","type":"message"}
{"nick":"indutny","message":"usleep(1)","date":"2013-03-12T12:13:31.017Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-03-12T12:13:37.225Z","type":"message"}
{"nick":"indutny","message":"      struct timespec timeout = { 0, 1 };","date":"2013-03-12T12:13:37.664Z","type":"message"}
{"nick":"indutny","message":"      nanosleep(&timeout, NULL);","date":"2013-03-12T12:13:37.875Z","type":"message"}
{"nick":"indutny","message":"this","date":"2013-03-12T12:13:39.091Z","type":"message"}
{"nick":"rendar","message":"oh, sleep for 1 nanosecond? cool :)","date":"2013-03-12T12:13:59.807Z","type":"message"}
{"nick":"csaoh","date":"2013-03-12T12:14:45.292Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #49 \u00037UNSTABLE\u000f linux (2/183) osx (2/183) smartos (4/183) windows (4/184) http://jenkins.nodejs.org/job/libuv-master/49/","date":"2013-03-12T12:18:23.567Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-12T12:19:09.385Z","type":"join"}
{"nick":"bnoordhuis","message":"rendar: yes, but see the commit log of https://github.com/joyent/libuv/commit/dc559a5 - it can cause pretty steep performance drops","date":"2013-03-12T12:22:00.921Z","type":"message"}
{"nick":"bnoordhuis","message":"hence single accept is disabled by default","date":"2013-03-12T12:22:19.141Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-03-12T12:22:35.383Z","type":"join"}
{"nick":"dominictarr","reason":"Client Quit","date":"2013-03-12T12:23:55.701Z","type":"quit"}
{"nick":"zot","message":"i'm debugging a polite close function, meaning that i expect all libuv watchers to be cleared, but it's not happening.  any tricks for debugging which ones remain?  (i can printf addrs, etc., and track that way, but thought people here might have experience and clever ideas…)","date":"2013-03-12T12:30:19.680Z","type":"message"}
{"nick":"saghul","message":"zot you can use uv_walk","date":"2013-03-12T12:31:24.645Z","type":"message"}
{"nick":"zot","message":"can i get type information out of that by chance?","date":"2013-03-12T12:31:41.645Z","type":"message"}
{"nick":"saghul","message":"zot sure, you get handle structs, so handle->type","date":"2013-03-12T12:31:57.538Z","type":"message"}
{"nick":"zot","message":"(i haven't used the generic uv_handle_t stuff yet)","date":"2013-03-12T12:31:57.844Z","type":"message"}
{"nick":"zot","message":"nice","date":"2013-03-12T12:33:08.344Z","type":"message"}
{"nick":"zot","message":"nice nice nice","date":"2013-03-12T12:33:10.996Z","type":"message"}
{"nick":"zot","message":"thanks!","date":"2013-03-12T12:33:12.039Z","type":"message"}
{"nick":"zot","message":"it's been a while since i've read real C macros, so forgive me if i'm blind.  is there a way to get a string version of the type name?  i see the enum expansion, but no strings.","date":"2013-03-12T12:41:07.097Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-03-12T12:48:23.830Z","type":"quit"}
{"nick":"asdf12","reason":"Remote host closed the connection","date":"2013-03-12T12:57:58.357Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-12T13:03:18.843Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-12T13:04:52.701Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-03-12T13:05:58.174Z","type":"quit"}
{"nick":"bnoordhuis","message":"zot: secret trick, in gdb do `call uv_print_all_handles(0)`","date":"2013-03-12T13:08:40.689Z","type":"message"}
{"nick":"bnoordhuis","message":"likewise, `call uv_print_active_handles(0)` to print only the active ones","date":"2013-03-12T13:09:01.220Z","type":"message"}
{"nick":"bnoordhuis","message":"replace 0 with the address of the loop var if it's not the default loop","date":"2013-03-12T13:09:20.393Z","type":"message"}
{"nick":"zot","message":"bnoordhuis++","date":"2013-03-12T13:09:21.062Z","type":"message"}
{"nick":"zot","message":"dank je wel!","date":"2013-03-12T13:09:31.344Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-03-12T13:25:56.705Z","type":"nick"}
{"nick":"zot1","date":"2013-03-12T13:31:53.074Z","type":"join"}
{"nick":"zot","reason":"Ping timeout: 252 seconds","date":"2013-03-12T13:34:35.623Z","type":"quit"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-03-12T13:46:46.689Z","type":"quit"}
{"nick":"zot1","message":"'nuther question.  i have a socketpair, being managed across 2 threads, with uv_poll_t watchers. i had hoped that doing a normal close() on one (or both) side, or shutdown() on one, would trigger a normal close that could be handled by the poll read watcher.  but it doesn't appear to be the case.  suggestions on where i've gone wrong?  code can be found here: https://github.com/benfleis/samples/blob/master/libuv/libfriendly/http_io.cc#L317","date":"2013-03-12T13:47:41.755Z","type":"message"}
{"nick":"zot1","message":"(i've tried a couple combinations of close/shutdown so far… perhaps missed the right one, or more probably misunderstand the semantics of these closures / events)","date":"2013-03-12T13:48:11.044Z","type":"message"}
{"nick":"bnoordhuis","message":"zot1: what os?","date":"2013-03-12T13:50:50.581Z","type":"message"}
{"nick":"zot1","message":"darwin","date":"2013-03-12T13:51:22.995Z","type":"message"}
{"nick":"zot1","new_nick":"zot","date":"2013-03-12T13:51:27.895Z","type":"nick"}
{"nick":"zot","message":"ultimate will need to run on linux as well","date":"2013-03-12T13:51:46.875Z","type":"message"}
{"nick":"zot","message":"ultimately, even","date":"2013-03-12T13:51:53.423Z","type":"message"}
{"nick":"bnoordhuis","message":"check with `dtruss -t kevent` if the event loop wakes up when one end of the socketpair is closed","date":"2013-03-12T13:52:11.873Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux, you can do `strace -f -e epoll_wait`","date":"2013-03-12T13:52:27.060Z","type":"message"}
{"nick":"bnoordhuis","message":"not that it helps you now but strace's output is much more readable","date":"2013-03-12T13:53:30.232Z","type":"message"}
{"nick":"zot","message":"well, i can switch boxes if need be, but then i have to vpn","date":"2013-03-12T13:54:29.085Z","type":"message"}
{"nick":"zot","message":"is my expectation reasonable?   or unknown...","date":"2013-03-12T13:54:46.140Z","type":"message"}
{"nick":"zot","message":"nope, doesn't look like it hits kqueue","date":"2013-03-12T13:55:25.929Z","type":"message"}
{"nick":"zot","message":"well, as a shutdown call, anywaiz","date":"2013-03-12T13:55:47.364Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: shutdown won't do it but close should","date":"2013-03-12T13:56:20.595Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather, shutdown won't necessarily do it","date":"2013-03-12T13:56:55.534Z","type":"message"}
{"nick":"zot","message":"even on a socketpair?","date":"2013-03-12T13:57:21.429Z","type":"message"}
{"nick":"zot","message":"i spose what i mean is that it makes sense on a normal tcp socket, if i understand what shutdown() is really doing","date":"2013-03-12T13:58:05.650Z","type":"message"}
{"nick":"bnoordhuis","message":"which is? (checking we're talking about the same thing)","date":"2013-03-12T13:59:58.023Z","type":"message"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-12T14:01:46.304Z","type":"nick"}
{"nick":"zot","message":"ah, i think i misunderstood.  shutdown just appears to control the OS socket layer and block there.  has nothing to do w/ the other endpoint.","date":"2013-03-12T14:02:12.435Z","type":"message"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2013-03-12T14:02:59.576Z","type":"quit"}
{"nick":"bnoordhuis","message":"zot: well, SHUT_RD or SHUT_RDWR wakes up the other end - at least, it does on linux but i'm not sure how portable that is","date":"2013-03-12T14:04:30.827Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-03-12T14:05:02.761Z","type":"quit"}
{"nick":"bnoordhuis","message":"close definitely wakes up the other end though","date":"2013-03-12T14:06:43.599Z","type":"message"}
{"nick":"zot","message":"yeah, that's what i expected","date":"2013-03-12T14:08:13.339Z","type":"message"}
{"nick":"zot","message":"and yet, the other end isn't seeing it :/","date":"2013-03-12T14:08:19.816Z","type":"message"}
{"nick":"zot","message":"a normal uv_poll_t / uv_poll_start should catch closed socket in this case, right?","date":"2013-03-12T14:08:51.806Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: yes. it calls your poll cb with status=-1","date":"2013-03-12T14:10:22.025Z","type":"message"}
{"nick":"zot","message":"yep, i think i just found it","date":"2013-03-12T14:10:33.939Z","type":"message"}
{"nick":"zot","message":"was doing the <0, ==0 check a la read instead of the libuv −1 check","date":"2013-03-12T14:10:46.410Z","type":"message"}
{"nick":"nsm","date":"2013-03-12T14:35:00.556Z","type":"join"}
{"nick":"bradleymeck","date":"2013-03-12T14:35:17.641Z","type":"join"}
{"nick":"zot","message":"next!  under what conditions might i expect uv_shutdown(…, cb) to never call into cb()?","date":"2013-03-12T14:57:00.814Z","type":"message"}
{"nick":"zot","message":"(tcp socket)","date":"2013-03-12T14:57:04.433Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: when you call exit(0) right after. else it should always fire","date":"2013-03-12T14:59:50.418Z","type":"message"}
{"nick":"zot","message":"then i'm doing something horribly wrong :/","date":"2013-03-12T15:00:17.062Z","type":"message"}
{"nick":"zot","message":"it's called.  then i sit waiting on pthread_join (or in a sleep loop, either way)","date":"2013-03-12T15:00:29.632Z","type":"message"}
{"nick":"zot","message":"callback seems not to fire.","date":"2013-03-12T15:01:00.098Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: example code?","date":"2013-03-12T15:01:34.760Z","type":"message"}
{"nick":"stagas","date":"2013-03-12T15:01:46.695Z","type":"join"}
{"nick":"zot","message":"een momentje...","date":"2013-03-12T15:02:09.420Z","type":"message"}
{"nick":"zot","message":"whoah.  curious.  it just fired, like 15s later.","date":"2013-03-12T15:02:24.526Z","type":"message"}
{"nick":"zot","message":"why would it be so slow?  this is a localhost tcp connect...","date":"2013-03-12T15:02:47.718Z","type":"message"}
{"nick":"zot","message":"although only in 1 session (gdb).  in the other it's just sitting.  so strange.  i'll commit and push the code again.","date":"2013-03-12T15:04:21.261Z","type":"message"}
{"nick":"zot","message":"bnoordhuis: https://github.com/benfleis/samples/blob/master/libuv/libfriendly/http_io.cc#L323","date":"2013-03-12T15:05:30.564Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: re why so slow, it fires on the next loop tick","date":"2013-03-12T15:06:18.439Z","type":"message"}
{"nick":"bnoordhuis","message":"so i assume you're doing something that causes the next tick to delay","date":"2013-03-12T15:07:11.251Z","type":"message"}
{"nick":"zot","message":"the loop is idle in another thread.  (yes, it's not thread safe atm.)","date":"2013-03-12T15:07:15.436Z","type":"message"}
{"nick":"bnoordhuis","message":"oh? you're calling uv_connect from another thread?","date":"2013-03-12T15:07:39.502Z","type":"message"}
{"nick":"bnoordhuis","message":"s/uv_connect/uv_shutdown/","date":"2013-03-12T15:07:58.436Z","type":"message"}
{"nick":"zot","message":"yes","date":"2013-03-12T15:08:08.920Z","type":"message"}
{"nick":"zot","message":"but on the loop being managed by the other thread","date":"2013-03-12T15:08:22.055Z","type":"message"}
{"nick":"zot","message":"is there goo in the middle that makes this not work?","date":"2013-03-12T15:08:28.296Z","type":"message"}
{"nick":"bnoordhuis","message":"well...","date":"2013-03-12T15:09:26.966Z","type":"message"}
{"nick":"bnoordhuis","message":"like i said, the callback is called on the next tick","date":"2013-03-12T15:09:38.562Z","type":"message"}
{"nick":"zot","message":"ah, so it needs to be awoken","date":"2013-03-12T15:09:51.302Z","type":"message"}
{"nick":"bnoordhuis","message":"you're calling pthread_join among other things and that blocks until the thread exits","date":"2013-03-12T15:09:54.501Z","type":"message"}
{"nick":"zot","message":"hrm.","date":"2013-03-12T15:09:59.592Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. btw, that's what uv_async_t is for, waking up other event loops","date":"2013-03-12T15:10:11.724Z","type":"message"}
{"nick":"zot","message":"then what i really need to is to get the close() from above working, so that I can call shutdown from that thread like i wanted","date":"2013-03-12T15:10:14.735Z","type":"message"}
{"nick":"zot","message":"ok, will try with that.","date":"2013-03-12T15:11:02.992Z","type":"message"}
{"nick":"zot","message":"in theory though, calling close from my main thread on the socketpair should still get through to the io thread as a UV_EOF, without needing async to wake up the loop, correct?","date":"2013-03-12T15:11:42.046Z","type":"message"}
{"nick":"zot","message":"ok, fixed the tcp watcher problem.  now back to the socketpair :)","date":"2013-03-12T15:17:48.932Z","type":"message"}
{"nick":"jguerrero","date":"2013-03-12T15:20:03.237Z","type":"join"}
{"nick":"jguerrero","reason":"Client Quit","date":"2013-03-12T15:22:21.338Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-03-12T15:27:46.273Z","type":"join"}
{"nick":"jguerrero","date":"2013-03-12T15:27:57.263Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-12T15:29:23.607Z","type":"quit"}
{"nick":"_isaacs_afk","new_nick":"isaacs","date":"2013-03-12T15:33:20.410Z","type":"nick"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-03-12T15:34:37.435Z","type":"quit"}
{"nick":"AvianFlu_","date":"2013-03-12T15:34:45.830Z","type":"join"}
{"nick":"isaacs","message":"call in 0:22 or so","date":"2013-03-12T15:35:22.354Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine, bnoordhuis, piscisaureus_, sblom, indutny ^","date":"2013-03-12T15:35:36.268Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-03-12T15:35:41.001Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: noted","date":"2013-03-12T15:35:46.200Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: close() should wake up the other end, yes","date":"2013-03-12T15:35:49.829Z","type":"message"}
{"nick":"bnoordhuis","message":"(and does - libuv relies on that internally)","date":"2013-03-12T15:35:58.050Z","type":"message"}
{"nick":"isaacs","message":"uh oh.  skype wants to upgrade.","date":"2013-03-12T15:36:07.663Z","type":"message"}
{"nick":"zot","message":"perhaps this is better solved tomorrow with a fresh brain.  this is going to make me nuts.","date":"2013-03-12T15:37:18.134Z","type":"message"}
{"nick":"zot","message":"bnoordhuis: you happen to know which internal code relies on that, so i can compare my code to it?","date":"2013-03-12T15:37:30.573Z","type":"message"}
{"nick":"zot","message":"(i didn't find any socketpairs in the test code)","date":"2013-03-12T15:37:37.487Z","type":"message"}
{"nick":"bnoordhuis","message":"zot: uv_spawn() for example. though that uses a pipe instead of a socketpair","date":"2013-03-12T15:37:48.165Z","type":"message"}
{"nick":"bnoordhuis","message":"concept is the same though","date":"2013-03-12T15:37:51.907Z","type":"message"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-03-12T15:38:39.668Z","type":"nick"}
{"nick":"bnoordhuis","message":"i don't get annoyed easily but this \"EVP_PKEY_get1_RSA:expecting an rsa key\" v0.8 error is really starting to piss me off >:(","date":"2013-03-12T15:39:54.537Z","type":"message"}
{"nick":"bnoordhuis","message":"that error stack clearing patch doesn't fix it, upgrading openssl doesn't fix it but linking to the system openssl does","date":"2013-03-12T15:40:33.652Z","type":"message"}
{"nick":"bnoordhuis","message":"grr","date":"2013-03-12T15:40:36.587Z","type":"message"}
{"nick":"mikeal","date":"2013-03-12T15:41:01.497Z","type":"join"}
{"nick":"zot","message":"bnoordhuis: thanks, i'll have a look","date":"2013-03-12T15:42:18.025Z","type":"message"}
{"nick":"zot","reason":"Quit: so long and thanks for all the code","date":"2013-03-12T15:42:27.800Z","type":"quit"}
{"nick":"mmalecki_","date":"2013-03-12T15:52:13.482Z","type":"join"}
{"nick":"CoverSli1e","date":"2013-03-12T15:53:46.871Z","type":"join"}
{"nick":"defunctzombie_zz","reason":"Ping timeout: 264 seconds","date":"2013-03-12T15:53:51.441Z","type":"quit"}
{"nick":"CoverSlide","reason":"Ping timeout: 264 seconds","date":"2013-03-12T15:53:51.441Z","type":"quit"}
{"nick":"mmalecki","reason":"Read error: Connection reset by peer","date":"2013-03-12T15:54:02.871Z","type":"quit"}
{"nick":"mmalecki_","reason":"Client Quit","date":"2013-03-12T15:54:29.200Z","type":"quit"}
{"nick":"mmalecki","date":"2013-03-12T15:54:39.131Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-03-12T15:55:00.604Z","type":"quit"}
{"nick":"sgallagh","date":"2013-03-12T15:55:55.270Z","type":"join"}
{"nick":"defunctzombie","date":"2013-03-12T15:57:04.299Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/saghul/pyuv/issues/92#issuecomment-14783510","date":"2013-03-12T15:57:49.921Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I saw the traffic but I'm too busy","date":"2013-03-12T15:58:03.579Z","type":"message"}

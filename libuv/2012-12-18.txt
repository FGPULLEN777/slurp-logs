{"nick":"ircretary","reason":"Remote host closed the connection","date":"2012-12-18T00:00:00.933Z","type":"quit"}
{"nick":"ircretary","date":"2012-12-18T00:00:08.265Z","type":"join"}
{"nick":"piscisaureus_","message":"hahaha","date":"2012-12-18T00:00:13.003Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: now try this: require('fs').writeFileSync('bla.', 'bla');","date":"2012-12-18T00:00:44.007Z","type":"message"}
{"nick":"piscisaureus_","message":"and try to delete the file afterwards without node","date":"2012-12-18T00:00:52.708Z","type":"message"}
{"nick":"piscisaureus_","message":"good luck my friend","date":"2012-12-18T00:00:55.420Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2012-12-18T00:00:58.033Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: nice try!","date":"2012-12-18T00:01:01.933Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm wise to your shenanigans!","date":"2012-12-18T00:01:07.883Z","type":"message"}
{"nick":"piscisaureus_","message":"I think unlocker solves this problem too btw","date":"2012-12-18T00:01:28.264Z","type":"message"}
{"nick":"roxlu","reason":"Remote host closed the connection","date":"2012-12-18T00:06:21.587Z","type":"quit"}
{"nick":"EhevuTov__","reason":"Quit: Leaving","date":"2012-12-18T00:06:22.413Z","type":"quit"}
{"nick":"piscisaureus_","message":"ok, tired, gone","date":"2012-12-18T00:07:08.500Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-12-18T00:07:19.404Z","type":"quit"}
{"nick":"isaacs","message":"g'nite","date":"2012-12-18T00:08:16.418Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-18T00:13:26.253Z","type":"quit"}
{"nick":"isaacs","message":"sblom: so, speaking of that... do you knwo what this means? https://gist.github.com/4323690","date":"2012-12-18T00:17:09.193Z","type":"message"}
{"nick":"isaacs","message":"sblom: i also can't delete it i cmd as administrator","date":"2012-12-18T00:17:30.923Z","type":"message"}
{"nick":"isaacs","message":"sblom: is there a way to figure out what has the file open, and kill it?","date":"2012-12-18T00:17:52.533Z","type":"message"}
{"nick":"isaacs","message":"(also can't delete in Explorer)","date":"2012-12-18T00:18:44.282Z","type":"message"}
{"nick":"isaacs","message":"no programs open... ","date":"2012-12-18T00:19:06.122Z","type":"message"}
{"nick":"isaacs","message":"(restarting)","date":"2012-12-18T00:19:09.062Z","type":"message"}
{"nick":"CoverSlide","message":"i usually install sysinternals on every windows machine i can","date":"2012-12-18T00:20:04.390Z","type":"message"}
{"nick":"sblom","message":"isaacs: The tool that I usually use to find who has the file open is sysinternals ProcExp.exe","date":"2012-12-18T00:20:16.232Z","type":"message"}
{"nick":"sblom","message":"http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx","date":"2012-12-18T00:20:47.797Z","type":"message"}
{"nick":"CoverSlide","message":"it's like required","date":"2012-12-18T00:21:08.970Z","type":"message"}
{"nick":"sblom","message":"isaacs: and then on the Handle menu, you have an option to search for who has a handle open to the file.","date":"2012-12-18T00:21:10.457Z","type":"message"}
{"nick":"isaacs","message":"i see","date":"2012-12-18T00:21:21.036Z","type":"message"}
{"nick":"isaacs","message":"i just restarted the vm","date":"2012-12-18T00:21:27.880Z","type":"message"}
{"nick":"isaacs","message":"that looks like it worked","date":"2012-12-18T00:21:33.250Z","type":"message"}
{"nick":"sblom","message":"It's like lsof for GUI users. with filesystems that won't let them delete open files.","date":"2012-12-18T00:21:40.013Z","type":"message"}
{"nick":"isaacs","message":"i try so hard to show respect for windows.","date":"2012-12-18T00:21:55.210Z","type":"message"}
{"nick":"isaacs","message":"i have mad respect for microsoft.","date":"2012-12-18T00:22:03.819Z","type":"message"}
{"nick":"isaacs","message":"but like... man... this operating system... i tell ya","date":"2012-12-18T00:22:12.330Z","type":"message"}
{"nick":"sblom","message":"isaacs: You're not getting me down. There's a bunch of \"why can't it just be a normal human being?!\" stuff that Windows does. For sure.","date":"2012-12-18T00:22:30.713Z","type":"message"}
{"nick":"CoverSlide","message":"well there's like a good number of windows 3.1 apps that still run on it","date":"2012-12-18T00:22:38.968Z","type":"message"}
{"nick":"sblom","message":"CoverSlide: So true","date":"2012-12-18T00:22:51.065Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: yeah, i don't think that's worth the cost.","date":"2012-12-18T00:22:51.229Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: they should just ship a unix system with vmware for running those things","date":"2012-12-18T00:23:04.549Z","type":"message"}
{"nick":"CoverSlide","message":"yeah","date":"2012-12-18T00:23:12.864Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: those windows 3.1 apps run on OS X also.","date":"2012-12-18T00:23:16.459Z","type":"message"}
{"nick":"isaacs","message":"we have hardware virtualization now","date":"2012-12-18T00:23:20.409Z","type":"message"}
{"nick":"CoverSlide","message":"like how they have ntvdm for dos apps","date":"2012-12-18T00:23:22.646Z","type":"message"}
{"nick":"sblom","message":"isaacs, CoverSlide: See ","date":"2012-12-18T00:23:24.998Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-12-18T00:23:25.508Z","type":"message"}
{"nick":"isaacs","message":"it's the future","date":"2012-12-18T00:23:28.168Z","type":"message"}
{"nick":"sblom","message":"See \"Windows XP Mode\"","date":"2012-12-18T00:23:31.477Z","type":"message"}
{"nick":"isaacs","message":"there's no excuse for being like this","date":"2012-12-18T00:23:34.579Z","type":"message"}
{"nick":"isaacs","message":"exactly","date":"2012-12-18T00:23:39.508Z","type":"message"}
{"nick":"kazupon","date":"2012-12-18T00:25:27.584Z","type":"join"}
{"nick":"sblom","message":"isaacs: So looks like ctrpp.exe is, indeed, missing from VS 2010 Express. Two ways to fix this: 1) require anyone who wants to build Node with Perf Ctrs with VS Express to download a recent Windows SDK (which is like a 400MB download) and then change some VS settings, or 2) just check in the generated files and train anyone who changes the Manifest files that they need to check in generated ","date":"2012-12-18T00:28:19.429Z","type":"message"}
{"nick":"sblom","message":"files, too.","date":"2012-12-18T00:28:19.757Z","type":"message"}
{"nick":"sblom","message":"I'm inclined toward 2.","date":"2012-12-18T00:28:22.574Z","type":"message"}
{"nick":"sblom","message":"Could add a build step that would check for discrepancies between checked in and generated files during builds by folks who have the full SDK...","date":"2012-12-18T00:28:58.245Z","type":"message"}
{"nick":"isaacs","message":"sblom: yeah, if #2 will work, then it seems like that's the easier path.","date":"2012-12-18T00:29:04.472Z","type":"message"}
{"nick":"sblom","message":"That would at least nag, say, me and piscisaureus_ if one of us forgets to update.","date":"2012-12-18T00:29:24.450Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2012-12-18T00:30:02.532Z","type":"quit"}
{"nick":"isaacs","message":"sure","date":"2012-12-18T00:31:11.453Z","type":"message"}
{"nick":"sblom","message":"ircretary: tell piscisaureus_ You were totally right. It was, indeed, a VS-Express-can't-build-it kind of thing. I was <blush/> looking at the wrong gist.","date":"2012-12-18T00:34:03.860Z","type":"message"}
{"nick":"ircretary","message":"sblom: I'll be sure to tell piscisaureus_","date":"2012-12-18T00:34:04.045Z","type":"message"}
{"nick":"sblom","message":"ircretary: tell piscisaureus_ I'm going to just check in the generated files so that Express users can still build.","date":"2012-12-18T00:34:59.364Z","type":"message"}
{"nick":"ircretary","message":"sblom: I'll be sure to tell piscisaureus_","date":"2012-12-18T00:34:59.531Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-12-18T00:40:18.807Z","type":"quit"}
{"nick":"hz","date":"2012-12-18T00:40:24.475Z","type":"join"}
{"nick":"CoverSlide","action":"asks santa for MinGW support","date":"2012-12-18T00:47:11.469Z","type":"action"}
{"nick":"brson_","reason":"Quit: leaving","date":"2012-12-18T00:49:11.090Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T00:50:59.342Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-12-18T00:54:34.168Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T00:58:54.504Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T01:19:24.862Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T01:25:50.846Z","type":"join"}
{"nick":"loladiro","date":"2012-12-18T01:28:32.854Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 272 seconds","date":"2012-12-18T01:30:48.848Z","type":"quit"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-12-18T01:32:22.983Z","type":"quit"}
{"nick":"brson","date":"2012-12-18T01:38:26.778Z","type":"join"}
{"nick":"lohkey","date":"2012-12-18T01:42:10.246Z","type":"part"}
{"nick":"loladiro","date":"2012-12-18T01:46:32.605Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-12-18T01:46:58.604Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T01:53:54.439Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-12-18T01:55:35.452Z","type":"quit"}
{"nick":"abraxas","date":"2012-12-18T01:55:50.772Z","type":"join"}
{"nick":"kazupon","date":"2012-12-18T02:20:55.660Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 250 seconds","date":"2012-12-18T02:25:22.533Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-12-18T02:31:53.474Z","type":"quit"}
{"nick":"warz","date":"2012-12-18T02:40:17.108Z","type":"join"}
{"nick":"warz","reason":"Changing host","date":"2012-12-18T02:40:17.511Z","type":"quit"}
{"nick":"warz","date":"2012-12-18T02:40:17.641Z","type":"join"}
{"nick":"hz","date":"2012-12-18T02:53:39.925Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2012-12-18T02:57:01.425Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T02:59:43.196Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2012-12-18T03:15:48.293Z","type":"nick"}
{"nick":"sblom","reason":"Ping timeout: 276 seconds","date":"2012-12-18T03:25:56.772Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T03:30:09.478Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-12-18T03:34:10.091Z","type":"quit"}
{"nick":"warz","date":"2012-12-18T03:34:21.315Z","type":"quit"}
{"nick":"abraxas","date":"2012-12-18T03:52:41.157Z","type":"join"}
{"nick":"wolfeida_","date":"2012-12-18T03:58:20.734Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 246 seconds","date":"2012-12-18T03:58:34.802Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-12-18T04:04:26.987Z","type":"quit"}
{"nick":"indexzero","date":"2012-12-18T04:15:42.677Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2012-12-18T04:52:49.778Z","type":"quit"}
{"nick":"brson","date":"2012-12-18T04:59:51.637Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-18T05:12:01.969Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T05:23:20.216Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T05:23:56.778Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-18T05:26:51.454Z","type":"quit"}
{"nick":"indexzero","date":"2012-12-18T05:32:18.611Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-12-18T05:50:38.388Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-12-18T05:56:45.790Z","type":"quit"}
{"nick":"mikeal","date":"2012-12-18T05:57:06.681Z","type":"join"}
{"nick":"abraxas","date":"2012-12-18T05:57:28.301Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-12-18T06:03:09.043Z","type":"quit"}
{"nick":"Chip_Zero","reason":"Ping timeout: 245 seconds","date":"2012-12-18T06:03:28.383Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-12-18T06:13:25.107Z","type":"join"}
{"nick":"bnoordhuis","message":"morning","date":"2012-12-18T06:15:56.349Z","type":"message"}
{"nick":"wolfeida_","reason":"Remote host closed the connection","date":"2012-12-18T06:16:54.142Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T06:22:50.338Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2012-12-18T06:27:42.153Z","type":"quit"}
{"nick":"wolfeidau","date":"2012-12-18T06:45:16.007Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-12-18T06:59:55.838Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-12-18T07:06:03.171Z","type":"quit"}
{"nick":"mikeal","date":"2012-12-18T07:06:16.858Z","type":"join"}
{"nick":"Chip_Zero","date":"2012-12-18T07:15:27.796Z","type":"join"}
{"nick":"pooya","date":"2012-12-18T07:25:09.922Z","type":"join"}
{"nick":"kazupon","date":"2012-12-18T07:26:32.651Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-18T07:29:13.158Z","type":"quit"}
{"nick":"rendar","date":"2012-12-18T07:29:54.690Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-12-18T07:57:12.728Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-18T07:57:20.038Z","type":"quit"}
{"nick":"indexzero","date":"2012-12-18T08:02:36.591Z","type":"join"}
{"nick":"Ralt","reason":"Ping timeout: 276 seconds","date":"2012-12-18T08:09:30.444Z","type":"quit"}
{"nick":"Ralt","date":"2012-12-18T08:24:42.952Z","type":"join"}
{"nick":"kazupon","date":"2012-12-18T08:39:46.663Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 250 seconds","date":"2012-12-18T08:44:32.566Z","type":"quit"}
{"nick":"Ralt","reason":"Ping timeout: 255 seconds","date":"2012-12-18T08:53:08.384Z","type":"quit"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-12-18T08:58:37.150Z","type":"quit"}
{"nick":"Ralt","date":"2012-12-18T09:04:54.484Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-12-18T09:28:54.821Z","type":"quit"}
{"nick":"indexzero","date":"2012-12-18T09:32:56.669Z","type":"join"}
{"nick":"indutny","message":"morning","date":"2012-12-18T09:33:02.043Z","type":"message"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-12-18T09:34:44.641Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: so","date":"2012-12-18T09:40:31.827Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yt?","date":"2012-12-18T09:40:33.462Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yep","date":"2012-12-18T09:40:43.327Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ok, so ignoring ENOENT. does it sounds good to you know? :)","date":"2012-12-18T09:40:57.502Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: the issue is that a cb closes the watcher for fd x, then reopens it?","date":"2012-12-18T09:44:08.604Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-18T09:44:16.294Z","type":"message"}
{"nick":"bnoordhuis","message":"and sometime later in the for loop, bam","date":"2012-12-18T09:44:16.600Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-18T09:44:22.623Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2012-12-18T09:44:44.073Z","type":"message"}
{"nick":"bnoordhuis","message":"how does that affect the epoll and event ports backends?","date":"2012-12-18T09:44:59.801Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-12-18T09:45:18.219Z","type":"message"}
{"nick":"indutny","message":"you tell me :)","date":"2012-12-18T09:45:20.178Z","type":"message"}
{"nick":"indutny","message":"I suppose it affects them too","date":"2012-12-18T09:45:31.274Z","type":"message"}
{"nick":"indutny","message":"let me see","date":"2012-12-18T09:46:10.703Z","type":"message"}
{"nick":"indutny","message":"ah... it seems to be unaffected by this...","date":"2012-12-18T09:47:19.817Z","type":"message"}
{"nick":"indutny","message":"because it removes only if watcher is NULL","date":"2012-12-18T09:47:29.316Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: and why isn't it consistent?","date":"2012-12-18T09:48:06.473Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: the kqueue backend lazily disables events we've stopped watching by squelching them when they happen","date":"2012-12-18T09:50:22.121Z","type":"message"}
{"nick":"bnoordhuis","message":"the epoll backend doesn't do that","date":"2012-12-18T09:50:30.277Z","type":"message"}
{"nick":"bnoordhuis","message":"and neither does the event ports backend iirc","date":"2012-12-18T09:50:36.980Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T09:50:43.125Z","type":"message"}
{"nick":"indutny","message":"so this shouldn't be a problem for them then","date":"2012-12-18T09:50:53.591Z","type":"message"}
{"nick":"bnoordhuis","message":"not now anyway :)","date":"2012-12-18T09:51:00.522Z","type":"message"}
{"nick":"indutny","message":"I've force pushed it https://github.com/joyent/libuv/pull/656","date":"2012-12-18T09:51:01.210Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: so the one question that remains is this","date":"2012-12-18T09:52:04.903Z","type":"message"}
{"nick":"bnoordhuis","message":"i want to eventually batch up individual disables","date":"2012-12-18T09:52:17.479Z","type":"message"}
{"nick":"bnoordhuis","message":"how does the ENOENT check affect that?","date":"2012-12-18T09:52:24.369Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well... hm...","date":"2012-12-18T09:52:37.948Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it affects it much","date":"2012-12-18T09:52:44.291Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess i should consult the freebsd / xnu source","date":"2012-12-18T09:52:47.557Z","type":"message"}
{"nick":"kazupon","date":"2012-12-18T09:52:52.280Z","type":"join"}
{"nick":"indutny","message":"indeed","date":"2012-12-18T09:52:52.830Z","type":"message"}
{"nick":"indutny","message":"let me check","date":"2012-12-18T09:52:57.396Z","type":"message"}
{"nick":"indutny","message":"it should be applying all changes anyway","date":"2012-12-18T09:53:16.528Z","type":"message"}
{"nick":"indutny","message":"regardless this error","date":"2012-12-18T09:53:24.570Z","type":"message"}
{"nick":"indutny","message":"because otherwise it might end half-way","date":"2012-12-18T09:53:32.571Z","type":"message"}
{"nick":"indutny","message":"which is not really consistent","date":"2012-12-18T09:53:37.341Z","type":"message"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-18T09:53:47.014Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T09:54:06.279Z","type":"join"}
{"nick":"bnoordhuis","message":"right. it's supposed to update the ev->data field, right?","date":"2012-12-18T09:54:06.455Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2012-12-18T09:54:23.752Z","type":"message"}
{"nick":"indutny","message":"now","date":"2012-12-18T09:54:24.393Z","type":"message"}
{"nick":"indutny","message":"err","date":"2012-12-18T09:54:27.512Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-12-18T09:54:28.267Z","type":"message"}
{"nick":"indutny","message":"it stops applying changes to kqueue","date":"2012-12-18T09:54:33.828Z","type":"message"}
{"nick":"indutny","message":"\twhile (nchanges > 0 && error == 0) {","date":"2012-12-18T09:54:40.986Z","type":"message"}
{"nick":"indutny","message":"at least xnu","date":"2012-12-18T09:54:43.117Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, you mean it backs out","date":"2012-12-18T09:54:47.135Z","type":"message"}
{"nick":"indutny","message":"not sure what you mean","date":"2012-12-18T09:54:54.723Z","type":"message"}
{"nick":"bnoordhuis","message":"it aborts halfway","date":"2012-12-18T09:55:02.039Z","type":"message"}
{"nick":"indutny","message":"but it might stop doing right things","date":"2012-12-18T09:55:02.634Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-18T09:55:04.662Z","type":"message"}
{"nick":"bnoordhuis","message":"anyway, it doesn't matter - i'll worry about it when i cross that bridge","date":"2012-12-18T09:55:14.424Z","type":"message"}
{"nick":"indutny","message":"I think you should cross it pretty carefully","date":"2012-12-18T09:55:27.962Z","type":"message"}
{"nick":"indutny","message":"because this error happens pretty often when benchmarking web serevr","date":"2012-12-18T09:55:40.607Z","type":"message"}
{"nick":"indutny","message":"server*","date":"2012-12-18T09:55:42.580Z","type":"message"}
{"nick":"bnoordhuis","message":"i may just forego crossing it altogether :)","date":"2012-12-18T09:55:53.987Z","type":"message"}
{"nick":"bnoordhuis","message":"who cares about os x performance, right?","date":"2012-12-18T09:56:00.063Z","type":"message"}
{"nick":"bnoordhuis","message":"you're going to say \"the people that benchmark on os x\"","date":"2012-12-18T09:56:14.652Z","type":"message"}
{"nick":"bnoordhuis","message":"i have many unkind words to say about people who do that","date":"2012-12-18T09:56:30.047Z","type":"message"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-18T09:56:44.095Z","type":"quit"}
{"nick":"bnoordhuis","message":"i might even get... ironical at them","date":"2012-12-18T09:57:03.717Z","type":"message"}
{"nick":"kazupon","date":"2012-12-18T09:57:07.288Z","type":"join"}
{"nick":"bnoordhuis","message":"i kid, i kid. riling up apple fanbois with how bad os x really is, it's one of my favorite pastimes","date":"2012-12-18T09:58:23.941Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: go ahead and merge your patch","date":"2012-12-18T09:59:03.884Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T09:59:07.981Z","type":"message"}
{"nick":"indutny","message":"one sec","date":"2012-12-18T09:59:48.021Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002b86ed94\u0002 : kqueue: ignore ENOENT error  File descriptor might be closed during callb - http://git.io/RE4lyQ","date":"2012-12-18T10:01:25.459Z","type":"message"}
{"nick":"indutny","message":"done","date":"2012-12-18T10:01:29.251Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T10:03:26.501Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#964 (master - b86ed94 : Fedor Indutny): The build passed.","date":"2012-12-18T10:03:26.635Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/273cecc56ff5...b86ed94940f8","date":"2012-12-18T10:03:26.635Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/3718813","date":"2012-12-18T10:03:26.635Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T10:03:26.635Z","type":"part"}
{"nick":"indutny","message":"bnoordhuis: wanna update it in node?","date":"2012-12-18T10:07:52.925Z","type":"message"}
{"nick":"bnoordhuis","message":"why?","date":"2012-12-18T10:08:00.882Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, because of tlsnappy","date":"2012-12-18T10:08:06.275Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-18T10:08:12.269Z","type":"message"}
{"nick":"indutny","message":"well, that's not that important","date":"2012-12-18T10:08:21.738Z","type":"message"}
{"nick":"indutny","message":"but would be cool to test it","date":"2012-12-18T10:08:29.212Z","type":"message"}
{"nick":"bnoordhuis","message":"you know how it works, right?","date":"2012-12-18T10:08:42.900Z","type":"message"}
{"nick":"indutny","message":"well, remove, copy, commit","date":"2012-12-18T10:08:59.664Z","type":"message"}
{"nick":"indutny","message":"I can use git archive","date":"2012-12-18T10:09:09.649Z","type":"message"}
{"nick":"indutny","message":"but meh...","date":"2012-12-18T10:09:16.550Z","type":"message"}
{"nick":"indutny","message":"or are you talking about anything else?","date":"2012-12-18T10:09:23.945Z","type":"message"}
{"nick":"bnoordhuis","message":"no, that","date":"2012-12-18T10:11:39.344Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T10:11:44.424Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T10:12:09.621Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T10:12:09.751Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T10:12:09.751Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: can you post this line?","date":"2012-12-18T10:12:45.512Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-18T10:12:56.908Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean the git archive thing?","date":"2012-12-18T10:12:59.788Z","type":"message"}
{"nick":"bnoordhuis","message":"rm -rf deps/uv/ ; (cd ../libuv && git archive --format=tar --prefix=deps/uv/ HEAD) | tar x","date":"2012-12-18T10:13:15.218Z","type":"message"}
{"nick":"indutny","message":"good","date":"2012-12-18T10:15:08.731Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: thank you","date":"2012-12-18T10:15:12.361Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002ba75452\u0002 : deps: upgrade libuv to b86ed94 - http://git.io/fAeLaA","date":"2012-12-18T10:15:29.343Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T10:15:57.182Z","type":"quit"}
{"nick":"indutny","message":"oh","date":"2012-12-18T10:17:23.171Z","type":"message"}
{"nick":"indutny","message":"bert hasn't landed inlined assembly","date":"2012-12-18T10:17:29.931Z","type":"message"}
{"nick":"indutny","message":"shit came real :)","date":"2012-12-18T10:17:32.738Z","type":"message"}
{"nick":"loladiro","date":"2012-12-18T10:18:24.060Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-12-18T10:20:13.463Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-12-18T10:20:17.387Z","type":"quit"}
{"nick":"abraxas","date":"2012-12-18T10:20:56.607Z","type":"join"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2012-12-18T10:21:24.702Z","type":"quit"}
{"nick":"abraxas","date":"2012-12-18T10:21:31.586Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-12-18T10:22:10.798Z","type":"quit"}
{"nick":"peterrs","date":"2012-12-18T10:29:00.476Z","type":"join"}
{"nick":"bnoordhuis","message":"i don't know wtf is up with master but it's bad","date":"2012-12-18T10:30:01.487Z","type":"message"}
{"nick":"bnoordhuis","message":"this is http_simple bytes/1 with v0.8: 12601.54 reqs/s","date":"2012-12-18T10:30:22.188Z","type":"message"}
{"nick":"bnoordhuis","message":"and this is master: 2912.51 reqs/s","date":"2012-12-18T10:30:32.691Z","type":"message"}
{"nick":"bnoordhuis","message":"with streams2 reverted: 3986.75 req/s","date":"2012-12-18T10:33:00.633Z","type":"message"}
{"nick":"bnoordhuis","action":"does not want to git bisect this...","date":"2012-12-18T10:33:39.490Z","type":"action"}
{"nick":"txdv","message":"Who didn't benchmark their commits","date":"2012-12-18T10:33:55.750Z","type":"message"}
{"nick":"txdv","message":"bnoordhuis: did you see my elaboration about dual stack?","date":"2012-12-18T10:36:22.371Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: i saw a github email. haven't read it yet","date":"2012-12-18T10:36:58.102Z","type":"message"}
{"nick":"txdv","message":"21dec is near","date":"2012-12-18T10:39:32.910Z","type":"message"}
{"nick":"indutny","message":"huh","date":"2012-12-18T10:39:34.286Z","type":"message"}
{"nick":"txdv","message":"i want to go under with dual stack","date":"2012-12-18T10:39:36.972Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: this might explain shitty performance of tlsnappy on it","date":"2012-12-18T10:39:59.129Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I get only 900 req/sec","date":"2012-12-18T10:40:13.576Z","type":"message"}
{"nick":"indutny","message":"while I was getting 1200 req/sec on 0.8","date":"2012-12-18T10:40:19.208Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i'm bisecting it","date":"2012-12-18T10:40:23.506Z","type":"message"}
{"nick":"txdv","message":"please tell us what commit was responsible for this","date":"2012-12-18T10:40:47.750Z","type":"message"}
{"nick":"bnoordhuis","message":"which is painfully slow work","date":"2012-12-18T10:40:50.354Z","type":"message"}
{"nick":"txdv","message":"still log(n) steps","date":"2012-12-18T10:41:03.654Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2012-12-18T10:41:50.482Z","type":"message"}
{"nick":"indutny","message":"uv__async_io still ocupies 3.7% of time in tlsnappy's master thread","date":"2012-12-18T10:42:08.352Z","type":"message"}
{"nick":"bnoordhuis","message":"compiling, compiling...","date":"2012-12-18T10:46:23.377Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-12-18T10:46:26.763Z","type":"message"}
{"nick":"bnoordhuis","message":"29d12c7 V8: Upgrade to 3.11.10.25","date":"2012-12-18T10:51:01.481Z","type":"message"}
{"nick":"indutny","message":"oh great","date":"2012-12-18T10:51:14.381Z","type":"message"}
{"nick":"indutny","message":"shit came real","date":"2012-12-18T10:51:33.289Z","type":"message"}
{"nick":"bnoordhuis","message":"there was a bug a while ago where we accidentally built v8 without optimizations","date":"2012-12-18T10:51:41.625Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe this is the reprise","date":"2012-12-18T10:51:46.717Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, time for lunch. biab","date":"2012-12-18T10:51:54.648Z","type":"message"}
{"nick":"indutny","message":"see ya","date":"2012-12-18T10:54:10.843Z","type":"message"}
{"nick":"kazupon_","date":"2012-12-18T10:55:23.751Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-18T10:55:53.650Z","type":"quit"}
{"nick":"hz","date":"2012-12-18T11:16:33.424Z","type":"join"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2012-12-18T11:17:34.078Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T11:59:15.161Z","type":"join"}
{"nick":"kazupon_","reason":"Ping timeout: 255 seconds","date":"2012-12-18T12:01:41.447Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-18T12:30:23.585Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-18T12:30:55.557Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-18T12:30:55.687Z","type":"quit"}
{"nick":"sgallagh","date":"2012-12-18T12:38:11.164Z","type":"join"}
{"nick":"felixge","date":"2012-12-18T12:58:51.974Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-12-18T13:06:29.826Z","type":"quit"}
{"nick":"hz","date":"2012-12-18T13:06:35.416Z","type":"join"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2012-12-18T13:13:46.427Z","type":"nick"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T13:15:43.864Z","type":"quit"}
{"nick":"jmar777","date":"2012-12-18T13:15:54.306Z","type":"join"}
{"nick":"kazupon","date":"2012-12-18T13:18:43.735Z","type":"join"}
{"nick":"felixge","date":"2012-12-18T13:20:51.604Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T13:20:51.780Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T13:20:51.914Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-18T13:33:18.101Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T13:45:45.917Z","type":"quit"}
{"nick":"indutny","message":"back","date":"2012-12-18T13:46:48.277Z","type":"message"}
{"nick":"bnoordhuis","message":"ditto","date":"2012-12-18T13:46:58.356Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-18T13:47:04.834Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-18T13:47:47.385Z","type":"join"}
{"nick":"felixge","date":"2012-12-18T13:49:58.740Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T13:49:58.997Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T13:49:59.130Z","type":"join"}
{"nick":"bnoordhuis","message":"turns out it's not 29d12c7, i already fixed that","date":"2012-12-18T13:56:15.772Z","type":"message"}
{"nick":"bnoordhuis","message":"the search continues :/","date":"2012-12-18T13:56:21.011Z","type":"message"}
{"nick":"indutny","message":"hehe","date":"2012-12-18T13:57:50.295Z","type":"message"}
{"nick":"indutny","message":"bisect magic","date":"2012-12-18T13:57:53.904Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: завершилась с кодом <- what does that mean?","date":"2012-12-18T13:58:07.580Z","type":"message"}
{"nick":"indutny","message":"huh?","date":"2012-12-18T13:58:15.160Z","type":"message"}
{"nick":"indutny","message":"exited with code","date":"2012-12-18T13:58:18.450Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2012-12-18T13:58:20.249Z","type":"message"}
{"nick":"indutny","message":"are you on russian servers?","date":"2012-12-18T13:58:25.807Z","type":"message"}
{"nick":"indutny","message":"have you hacked us???","date":"2012-12-18T13:58:29.491Z","type":"message"}
{"nick":"indutny","message":"man","date":"2012-12-18T13:58:31.403Z","type":"message"}
{"nick":"indutny","message":"you're on my computer","date":"2012-12-18T13:58:33.864Z","type":"message"}
{"nick":"indutny","message":"wait","date":"2012-12-18T13:58:34.967Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-12-18T13:58:35.880Z","type":"message"}
{"nick":"indutny","message":"my computer is all english","date":"2012-12-18T13:58:39.420Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: speak to me!","date":"2012-12-18T13:58:53.425Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i thought i'd do unto the russians what they do unto us","date":"2012-12-18T13:59:06.102Z","type":"message"}
{"nick":"bnoordhuis","message":"i kid, it's from here -> https://github.com/bnoordhuis/node-iconv/issues/49","date":"2012-12-18T13:59:16.340Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T14:07:21.472Z","type":"message"}
{"nick":"kuebk","date":"2012-12-18T14:09:10.216Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2012-12-18T14:14:55.173Z","type":"quit"}
{"nick":"sgallagh","date":"2012-12-18T14:16:11.158Z","type":"join"}
{"nick":"bnoordhuis","message":"found the performance regression. it's the tcp backoff patch","date":"2012-12-18T14:17:40.626Z","type":"message"}
{"nick":"bnoordhuis","message":"it absolutely kills single-process performance","date":"2012-12-18T14:17:58.348Z","type":"message"}
{"nick":"indutny","message":"great","date":"2012-12-18T14:18:03.238Z","type":"message"}
{"nick":"bnoordhuis","message":"guess it's revert time :/","date":"2012-12-18T14:18:04.916Z","type":"message"}
{"nick":"indutny","message":"can you show me the code?","date":"2012-12-18T14:18:19.726Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: commit b788c5e","date":"2012-12-18T14:18:41.434Z","type":"message"}
{"nick":"bnoordhuis","message":"it's easy to verify with `export UV_TCP_SINGLE_ACCEPT=0`","date":"2012-12-18T14:19:02.746Z","type":"message"}
{"nick":"bnoordhuis","message":"streams2 has a pretty bad impact too, though - 35% drop in reqs/s","date":"2012-12-18T14:23:37.393Z","type":"message"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2012-12-18T14:44:58.093Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002dc559a5\u0002 : unix: disable relaxed accept() by default  Don't use the relaxed accept() - http://git.io/6F2H2Q","date":"2012-12-18T14:45:46.217Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00027b2ef2d\u0002 : deps: upgrade libuv to dc559a5 - http://git.io/5SqgXg","date":"2012-12-18T14:46:45.267Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: ping","date":"2012-12-18T14:47:20.151Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T14:47:33.955Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#965 (master - dc559a5 : Ben Noordhuis): The build passed.","date":"2012-12-18T14:47:34.084Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/b86ed94940f8...dc559a5ce69c","date":"2012-12-18T14:47:34.084Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/3722367","date":"2012-12-18T14:47:34.084Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T14:47:34.084Z","type":"part"}
{"nick":"bnoordhuis","message":"indutny: have you reviewed that idle gc patch?","date":"2012-12-18T14:50:25.932Z","type":"message"}
{"nick":"`3rdEden","date":"2012-12-18T14:59:29.988Z","type":"join"}
{"nick":"indutny","message":"no?","date":"2012-12-18T15:00:24.307Z","type":"message"}
{"nick":"indutny","message":"link","date":"2012-12-18T15:00:26.390Z","type":"message"}
{"nick":"indutny","message":"or it didn't happen","date":"2012-12-18T15:00:29.177Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-12-18T15:01:24.968Z","type":"join"}
{"nick":"indutny","message":"piscisaureus_: hey bert\\","date":"2012-12-18T15:01:45.327Z","type":"message"}
{"nick":"indutny","message":"drinking tuesday?","date":"2012-12-18T15:01:51.865Z","type":"message"}
{"nick":"mjr_","date":"2012-12-18T15:01:52.754Z","type":"join"}
{"nick":"piscisaureus_","message":"hey fedir","date":"2012-12-18T15:01:52.926Z","type":"message"}
{"nick":"piscisaureus_","message":"*fedor","date":"2012-12-18T15:01:59.860Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-12-18T15:02:05.695Z","type":"message"}
{"nick":"piscisaureus_","message":"that would've been pretty bad","date":"2012-12-18T15:02:12.027Z","type":"message"}
{"nick":"piscisaureus_","message":"but I had other stuff to do today","date":"2012-12-18T15:02:17.256Z","type":"message"}
{"nick":"indutny","message":"ok :)","date":"2012-12-18T15:03:59.995Z","type":"message"}
{"nick":"indutny","message":"like finally merging inlined assembly for openssl?","date":"2012-12-18T15:04:09.631Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/joyent/node/pull/4430","date":"2012-12-18T15:04:24.486Z","type":"message"}
{"nick":"indutny","message":"ah this","date":"2012-12-18T15:04:40.765Z","type":"message"}
{"nick":"indutny","message":"idle gc?","date":"2012-12-18T15:04:44.404Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2012-12-18T15:05:15.751Z","type":"message"}
{"nick":"indutny","message":"this is not it","date":"2012-12-18T15:05:27.298Z","type":"message"}
{"nick":"indutny","message":"but it lgtm","date":"2012-12-18T15:05:29.008Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, it removes the idle gc thing","date":"2012-12-18T15:05:40.325Z","type":"message"}
{"nick":"bnoordhuis","message":"and i'm going to preempt the haters by stuffing it in a module","date":"2012-12-18T15:05:55.643Z","type":"message"}
{"nick":"bnoordhuis","message":"the cherry on top is that it actually works better than the builtin thing","date":"2012-12-18T15:06:21.309Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes, feeling like it.","date":"2012-12-18T15:06:29.316Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-12-18T15:06:41.225Z","type":"message"}
{"nick":"indutny","message":"good good","date":"2012-12-18T15:06:43.847Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: uv_run2","date":"2012-12-18T15:07:41.723Z","type":"message"}
{"nick":"bnoordhuis","message":"if you don't review it today, i'm blindly merging it :)","date":"2012-12-18T15:08:02.435Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: i did review it!","date":"2012-12-18T15:08:10.216Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it worked, except for `else:`","date":"2012-12-18T15:08:19.931Z","type":"message"}
{"nick":"bnoordhuis","message":"ah that","date":"2012-12-18T15:08:24.429Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't have any emails of that though","date":"2012-12-18T15:08:32.719Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: saghul sent me an email that he couldn't fix it because he was on holiday","date":"2012-12-18T15:08:51.224Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: do you happen to know the PR number from the top of your head?","date":"2012-12-18T15:09:15.039Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00028ccfed2\u0002 : node: s/-/_/ in add-on symbol name  Replace dashes with underscores. When - http://git.io/6iVVTQ","date":"2012-12-18T15:09:31.644Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: #535","date":"2012-12-18T15:09:33.962Z","type":"message"}
{"nick":"bnoordhuis","message":"that's admittedly off the top of awesome bar, not my head","date":"2012-12-18T15:09:47.954Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Saúl Ibarra Corretgé\u000f \u00037master\u000f * \u00020820be7\u0002 : Implemented uv_run2  Allows for running the event loop in 3 modes:   * de - http://git.io/urtUXA","date":"2012-12-18T15:11:43.720Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^","date":"2012-12-18T15:11:48.724Z","type":"message"}
{"nick":"bnoordhuis","message":"very good","date":"2012-12-18T15:11:54.828Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: btw, you're right - i linked you to the wrong pr :)","date":"2012-12-18T15:13:18.319Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/pull/4429 <- remove idle gc","date":"2012-12-18T15:13:23.612Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^","date":"2012-12-18T15:13:27.105Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: assigning like a boss","date":"2012-12-18T15:13:42.390Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T15:13:46.562Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#966 (master - 0820be7 : Saúl Ibarra Corretgé): The build passed.","date":"2012-12-18T15:13:46.903Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/dc559a5ce69c...0820be70084a","date":"2012-12-18T15:13:47.032Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/3722794","date":"2012-12-18T15:13:47.032Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-18T15:13:47.032Z","type":"part"}
{"nick":"piscisaureus_","message":"bnoordhuis: reviewing, I think it's about time we do this","date":"2012-12-18T15:15:20.630Z","type":"message"}
{"nick":"piscisaureus_","message":"too late even :-)","date":"2012-12-18T15:15:25.319Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-18T15:15:32.476Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-18T15:15:34.401Z","type":"message"}
{"nick":"indutny","message":"we should have been done it after first blog post","date":"2012-12-18T15:15:41.805Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: lgtm.","date":"2012-12-18T15:16:09.748Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-12-18T15:16:14.250Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002d607d85\u0002 : node: remove idle gc  Remove the idle garbage collector. Its purpose was  - http://git.io/YraASg","date":"2012-12-18T15:16:54.038Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: is this the commit you mentioned?","date":"2012-12-18T15:17:33.410Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: yes","date":"2012-12-18T15:17:46.766Z","type":"message"}
{"nick":"bnoordhuis","message":"i mentioned you in the PR :)","date":"2012-12-18T15:17:56.246Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny, piscisaureus_: btw, https://github.com/bnoordhuis/node-idle-gc <- if you feel like reviewing it, go ahead","date":"2012-12-18T15:18:39.660Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: should apply to 0.8, right?","date":"2012-12-18T15:19:18.947Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: the patch? yes","date":"2012-12-18T15:19:24.435Z","type":"message"}
{"nick":"bnoordhuis","message":"i just pushed a module to npm that requires a version of node that hasn't been released yet. feels good","date":"2012-12-18T15:20:11.245Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-18T15:20:32.342Z","type":"message"}
{"nick":"indutny","message":"isaacs should make all modules incompatible with 0.8","date":"2012-12-18T15:20:49.915Z","type":"message"}
{"nick":"indutny","message":"or","date":"2012-12-18T15:20:54.655Z","type":"message"}
{"nick":"indutny","message":"just make npm incompatible with 0.8","date":"2012-12-18T15:20:59.972Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so re accept backoff","date":"2012-12-18T15:25:03.133Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. it's making me sad :/","date":"2012-12-18T15:25:12.415Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think this is going nowhere...","date":"2012-12-18T15:25:16.076Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: maybe we can have a round robin mode?","date":"2012-12-18T15:25:44.547Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: where the cluster master just accepts all connections and then sends them to all workers","date":"2012-12-18T15:26:03.356Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it will be slower, but atleast it'll be reliable....","date":"2012-12-18T15:26:14.637Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. it's the logical next step","date":"2012-12-18T15:26:35.157Z","type":"message"}
{"nick":"bnoordhuis","message":"but it still makes me sad","date":"2012-12-18T15:26:39.371Z","type":"message"}
{"nick":"indutny","message":"unfortunatelly this doesn't helps tlsnappy","date":"2012-12-18T15:26:50.204Z","type":"message"}
{"nick":"indutny","message":"it's still 850rps on 0.10","date":"2012-12-18T15:26:54.685Z","type":"message"}
{"nick":"indutny","message":"and 1200 on 0.8","date":"2012-12-18T15:26:58.497Z","type":"message"}
{"nick":"indutny","message":"on my old mbp","date":"2012-12-18T15:27:04.044Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: try reverting streams2","date":"2012-12-18T15:27:31.855Z","type":"message"}
{"nick":"indutny","message":"how is it related?","date":"2012-12-18T15:27:53.274Z","type":"message"}
{"nick":"bnoordhuis","message":"i did some benchmarks today","date":"2012-12-18T15:28:04.825Z","type":"message"}
{"nick":"bnoordhuis","message":"with streams2, master is 35% slower","date":"2012-12-18T15:28:17.492Z","type":"message"}
{"nick":"indutny","message":"oooh","date":"2012-12-18T15:28:27.145Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2012-12-18T15:28:29.244Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to ask isaacs to revert it","date":"2012-12-18T15:28:36.803Z","type":"message"}
{"nick":"bnoordhuis","message":"because it seems unlikely such a performance gap is going to be closed","date":"2012-12-18T15:28:54.704Z","type":"message"}
{"nick":"indutny","message":"stupid question","date":"2012-12-18T15:29:41.483Z","type":"message"}
{"nick":"indutny","message":"how to revert merge?","date":"2012-12-18T15:29:48.537Z","type":"message"}
{"nick":"piscisaureus_","message":"git revert --merge ? :-)","date":"2012-12-18T15:29:57.514Z","type":"message"}
{"nick":"indutny","message":"git revert -m 1 <commit> ?","date":"2012-12-18T15:30:00.519Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-12-18T15:30:10.181Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-12-18T15:31:19.045Z","type":"message"}
{"nick":"indutny","message":"that's not the case","date":"2012-12-18T15:31:21.793Z","type":"message"}
{"nick":"indutny","message":"h","date":"2012-12-18T15:31:29.697Z","type":"message"}
{"nick":"indutny","message":"I haven't reverted it...","date":"2012-12-18T15:31:34.684Z","type":"message"}
{"nick":"indutny","message":"shit","date":"2012-12-18T15:31:35.236Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: what commit did you revert?","date":"2012-12-18T15:32:52.771Z","type":"message"}
{"nick":"indutny","message":"I think I've fixed it","date":"2012-12-18T15:33:46.113Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T15:33:59.619Z","type":"message"}
{"nick":"indutny","message":"still the same :)","date":"2012-12-18T15:34:02.244Z","type":"message"}
{"nick":"indutny","message":"note: I'm on inlined-assembly branch","date":"2012-12-18T15:34:13.911Z","type":"message"}
{"nick":"indutny","message":"on master it's even more slower","date":"2012-12-18T15:34:21.523Z","type":"message"}
{"nick":"indutny","message":"(but surprisingly not much)","date":"2012-12-18T15:34:26.586Z","type":"message"}
{"nick":"indutny","message":"isaacs: yt?","date":"2012-12-18T15:38:21.430Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: piscisaureus_: any ideas?","date":"2012-12-18T15:40:33.059Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: about what?","date":"2012-12-18T15:40:41.659Z","type":"message"}
{"nick":"indutny","message":"call-stack profile seems to be pretty usual","date":"2012-12-18T15:40:44.800Z","type":"message"}
{"nick":"indutny","message":"about performance regression on 0.10","date":"2012-12-18T15:40:48.996Z","type":"message"}
{"nick":"indutny","message":"in tlsnappy","date":"2012-12-18T15:40:51.646Z","type":"message"}
{"nick":"indutny","message":"I suppose it's related to openssl","date":"2012-12-18T15:41:00.259Z","type":"message"}
{"nick":"indutny","message":"well, I'm pretty sure it is","date":"2012-12-18T15:41:04.884Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-18T15:41:05.813Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: is that with or without inlined asm?","date":"2012-12-18T15:41:12.178Z","type":"message"}
{"nick":"indutny","message":"with and without","date":"2012-12-18T15:41:17.675Z","type":"message"}
{"nick":"indutny","message":"pretty the same","date":"2012-12-18T15:41:20.494Z","type":"message"}
{"nick":"indutny","message":"with slight difference","date":"2012-12-18T15:41:25.426Z","type":"message"}
{"nick":"piscisaureus_","message":"no I dont know then","date":"2012-12-18T15:41:37.975Z","type":"message"}
{"nick":"indutny","message":"do you know how to check if inlined assembly actually works?","date":"2012-12-18T15:41:38.760Z","type":"message"}
{"nick":"indutny","message":"ah wait","date":"2012-12-18T15:42:33.729Z","type":"message"}
{"nick":"indutny","message":"let me check one thing","date":"2012-12-18T15:42:41.884Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T15:44:07.878Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T15:44:07.878Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T15:44:07.878Z","type":"join"}
{"nick":"indutny","message":"ok, it's 902 with inlined assembly :)","date":"2012-12-18T15:44:16.808Z","type":"message"}
{"nick":"joshthecoder","date":"2012-12-18T15:44:23.285Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T16:03:34.691Z","type":"quit"}
{"nick":"kuebk","date":"2012-12-18T16:03:44.006Z","type":"part"}
{"nick":"c4milo","date":"2012-12-18T16:03:58.939Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-12-18T16:07:12.458Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T16:07:36.647Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T16:07:36.870Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T16:07:36.997Z","type":"join"}
{"nick":"isaacs","message":"indutny: pong","date":"2012-12-18T16:07:43.834Z","type":"message"}
{"nick":"isaacs","message":"Anyone want to proof the blog post on streams2? https://gist.github.com/4329277","date":"2012-12-18T16:07:52.374Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I still think that the \"basic\" accept backoff can make a difference in certain scenarios","date":"2012-12-18T16:08:01.002Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so maybe we can leave that in, but without the nanosleep","date":"2012-12-18T16:08:10.275Z","type":"message"}
{"nick":"isaacs","message":"It's a pretty short post, followed by the documentation","date":"2012-12-18T16:08:25.054Z","type":"message"}
{"nick":"indutny","message":"isaacs: a question","date":"2012-12-18T16:08:25.830Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and, maybe make it configurable from js","date":"2012-12-18T16:08:26.508Z","type":"message"}
{"nick":"isaacs","message":"yessir","date":"2012-12-18T16:08:35.444Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: well, maybe. but on linux, without the nanosleep, it goes back to wildly uneven distributions","date":"2012-12-18T16:08:35.852Z","type":"message"}
{"nick":"indutny","message":"isaacs: what do you think about external auth for npm?","date":"2012-12-18T16:08:40.299Z","type":"message"}
{"nick":"isaacs","message":"how do you mean?","date":"2012-12-18T16:08:49.393Z","type":"message"}
{"nick":"indutny","message":"isaacs: I mean when using custom registry for npm","date":"2012-12-18T16:08:57.792Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: does the nanosleep pain also happen on linux?","date":"2012-12-18T16:09:01.422Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: have you seen our comments on streams2?","date":"2012-12-18T16:09:03.715Z","type":"message"}
{"nick":"indutny","message":"isaacs: you have no option to use global auth","date":"2012-12-18T16:09:04.931Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-12-18T16:09:06.192Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ah.","date":"2012-12-18T16:09:11.186Z","type":"message"}
{"nick":"indutny","message":"isaacs: and that's pretty bad sometimes","date":"2012-12-18T16:09:13.612Z","type":"message"}
{"nick":"isaacs","message":"indutny: you mean, use a different auth for different registries?","date":"2012-12-18T16:09:24.993Z","type":"message"}
{"nick":"isaacs","message":"or use the same auth for all registries (which is what it does)","date":"2012-12-18T16:09:31.963Z","type":"message"}
{"nick":"indutny","message":"erm","date":"2012-12-18T16:09:32.642Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it's annoying in that it works great with num_processes > 2","date":"2012-12-18T16:09:37.316Z","type":"message"}
{"nick":"indutny","message":"I mean using auth from another registry","date":"2012-12-18T16:09:44.055Z","type":"message"}
{"nick":"indutny","message":"or something like this","date":"2012-12-18T16:09:46.493Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: but it absolutely bombs with num_processes <= 2","date":"2012-12-18T16:09:47.853Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, on your machine","date":"2012-12-18T16:09:49.722Z","type":"message"}
{"nick":"indutny","message":"isaacs: I haven't really designed API for this yet :)","date":"2012-12-18T16:10:01.077Z","type":"message"}
{"nick":"indutny","message":"isaacs: just sharing thoughts with you","date":"2012-12-18T16:10:04.844Z","type":"message"}
{"nick":"indutny","message":"you know","date":"2012-12-18T16:10:06.405Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes, but also on a couple of other machines i tested on","date":"2012-12-18T16:10:06.990Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-12-18T16:10:26.922Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: but i'm going to think hard and deep about it","date":"2012-12-18T16:10:37.270Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-12-18T16:10:42.680Z","type":"message"}
{"nick":"piscisaureus_","message":"as always","date":"2012-12-18T16:10:45.016Z","type":"message"}
{"nick":"bnoordhuis","message":"someone's gotta do it","date":"2012-12-18T16:10:52.362Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the round robin thing is sad but atleast it'll be predictable","date":"2012-12-18T16:11:00.135Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, i thought up a way to fix it in the kernel","date":"2012-12-18T16:11:07.886Z","type":"message"}
{"nick":"bnoordhuis","message":"but it'll probably cause no end of regressions with other workloads","date":"2012-12-18T16:11:16.190Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: i have so far ignored this issue but actually on windows the cluster stuff also sucks monkey balls","date":"2012-12-18T16:11:37.645Z","type":"message"}
{"nick":"bnoordhuis","message":"fixing it in user mode is no doubt many, many times simpler","date":"2012-12-18T16:11:38.151Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it works very well if your server is extremely busy and otherwise it is lame","date":"2012-12-18T16:11:55.525Z","type":"message"}
{"nick":"isaacs","message":"indutny: what i'd like to do eventually is make all registry-related configs registry-specific","date":"2012-12-18T16:12:01.291Z","type":"message"}
{"nick":"indutny","message":"isaacs: well, that's good too","date":"2012-12-18T16:12:13.428Z","type":"message"}
{"nick":"isaacs","message":"indutny: cache, auth, etc.","date":"2012-12-18T16:12:14.640Z","type":"message"}
{"nick":"indutny","message":"isaacs: yeah, this could be an option","date":"2012-12-18T16:12:20.265Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: so about streams2. piscisaureus_ and i are seeing 35-40% performance drops","date":"2012-12-18T16:12:27.197Z","type":"message"}
{"nick":"indutny","message":"isaacs: right now you'll get auth errors if you'll use private npm repo","date":"2012-12-18T16:12:30.343Z","type":"message"}
{"nick":"indutny","message":"isaacs: and have old auth in .npmrc","date":"2012-12-18T16:12:35.448Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: in which benchmark?","date":"2012-12-18T16:12:41.330Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: for example http_simple with -c 10 bytes/1","date":"2012-12-18T16:12:53.763Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ab -c 100 -t 100 -k http://127.0.0.1/bytes/1","date":"2012-12-18T16:13:02.087Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: though it's possible the effect is less pronounced on os x","date":"2012-12-18T16:13:07.751Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-12-18T16:13:19.330Z","type":"message"}
{"nick":"piscisaureus_","message":"the effect with -k probably isn't","date":"2012-12-18T16:13:30.082Z","type":"message"}
{"nick":"isaacs","message":"i was going to dig into why createPipe() is failing on windows","date":"2012-12-18T16:13:31.400Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: can you look into that, and i'll profile adn dig into http_simple regressions?","date":"2012-12-18T16:13:54.420Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't have time for either of these today, sorry","date":"2012-12-18T16:14:16.977Z","type":"message"}
{"nick":"isaacs","message":"my benchmarking has been mostly focused on net-pipe.  if that's fast, and http_simple is slow, then it's probably a fuckup in http.js","date":"2012-12-18T16:14:25.628Z","type":"message"}
{"nick":"isaacs","message":"ie, related to streams2, but not essential to it","date":"2012-12-18T16:14:34.629Z","type":"message"}
{"nick":"isaacs","message":"also, i think that the state objects can get smaller.","date":"2012-12-18T16:14:57.469Z","type":"message"}
{"nick":"isaacs","message":"we use a few more flags than is probably strictly necessary at this point","date":"2012-12-18T16:15:09.658Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh well :)","date":"2012-12-18T16:15:28.008Z","type":"message"}
{"nick":"isaacs","message":"i'm guessing the Pipe issue is a simple fix, but finding it in that godforsaken os is very difficult","date":"2012-12-18T16:15:53.928Z","type":"message"}
{"nick":"isaacs","message":"my windows skills are so weak","date":"2012-12-18T16:16:30.028Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: maybe sblom can help?","date":"2012-12-18T16:17:17.830Z","type":"message"}
{"nick":"isaacs","message":"yeah, i'll ping him when he comes online","date":"2012-12-18T16:17:29.507Z","type":"message"}
{"nick":"isaacs","message":"ircretary: tell sblom Do you have time today to dig into why createPipe is broken on windows?  i'm the one who broke it, but finding the source of the issue on windows is proving difficult for me and my limited skills.","date":"2012-12-18T16:18:05.317Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell sblom","date":"2012-12-18T16:18:05.763Z","type":"message"}
{"nick":"isaacs","message":"ircretary: thanks","date":"2012-12-18T16:18:10.126Z","type":"message"}
{"nick":"ircretary","message":"isaacs: You're welcome :)","date":"2012-12-18T16:18:10.932Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T16:19:10.331Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: actually - what's the issue","date":"2012-12-18T16:20:55.906Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T16:21:33.290Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T16:21:33.626Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T16:21:33.760Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: well, child process pipes are completely busted.","date":"2012-12-18T16:23:48.623Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-12-18T16:23:59.224Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: node does createPipe() and gets an object, but it doesn't ever get any data.","date":"2012-12-18T16:24:04.133Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well","date":"2012-12-18T16:25:02.956Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs:","date":"2012-12-18T16:25:08.646Z","type":"message"}
{"nick":"piscisaureus_","message":"> require('child_process').spawn('cmd', ['/c','dir']).stdout.pipe(process.stdout)","date":"2012-12-18T16:25:08.779Z","type":"message"}
{"nick":"piscisaureus_","message":"works here","date":"2012-12-18T16:25:10.975Z","type":"message"}
{"nick":"piscisaureus_","message":"with current node master","date":"2012-12-18T16:25:15.657Z","type":"message"}
{"nick":"isaacs","message":"hrm.  one sec..","date":"2012-12-18T16:25:21.352Z","type":"message"}
{"nick":"isaacs","message":"https://gist.github.com/4329419","date":"2012-12-18T16:26:03.661Z","type":"message"}
{"nick":"isaacs","message":"try that ^","date":"2012-12-18T16:26:07.461Z","type":"message"}
{"nick":"isaacs","message":"you're right, spawning a non-node child proc seems to work, though.","date":"2012-12-18T16:26:44.201Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: looks like stdout is busted","date":"2012-12-18T16:27:31.085Z","type":"message"}
{"nick":"piscisaureus_","message":"when it is a pipe","date":"2012-12-18T16:27:35.201Z","type":"message"}
{"nick":"isaacs","message":"so maybe the problem is with stdout rather than pipes","date":"2012-12-18T16:27:35.327Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-12-18T16:27:37.310Z","type":"message"}
{"nick":"isaacs","message":"works fine in nix, though","date":"2012-12-18T16:27:41.770Z","type":"message"}
{"nick":"piscisaureus_","message":"although this works -> node -pe \"console.log('hello')\" | cat","date":"2012-12-18T16:28:16.998Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-12-18T16:28:18.851Z","type":"message"}
{"nick":"piscisaureus_","message":"will take a look","date":"2012-12-18T16:28:27.668Z","type":"message"}
{"nick":"isaacs","message":"awesome, thanks!","date":"2012-12-18T16:28:35.899Z","type":"message"}
{"nick":"isaacs","message":"ircretary: tell sblom piscisaureus_ may be looking into this as well.  Check the log.  stdout is busted when it's a pipe, is the problem.","date":"2012-12-18T16:29:07.539Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell sblom","date":"2012-12-18T16:29:07.951Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that said, I really don't have much time today...","date":"2012-12-18T16:29:39.366Z","type":"message"}
{"nick":"tristram","date":"2012-12-18T16:30:01.374Z","type":"join"}
{"nick":"indutny","message":"a question","date":"2012-12-18T16:30:30.990Z","type":"message"}
{"nick":"indutny","message":"generic one","date":"2012-12-18T16:30:36.573Z","type":"message"}
{"nick":"indutny","message":"about http.Agent","date":"2012-12-18T16:30:39.017Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: how's mmap-reloaded coming?  what's the state of that?  merge-worthy?","date":"2012-12-18T16:30:51.718Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: merge-worthy but i want to do some more research","date":"2012-12-18T16:31:12.047Z","type":"message"}
{"nick":"indutny","message":"when looking at the code I've noticed that keep-alive requests won't release sockets to agent's pool","date":"2012-12-18T16:31:14.062Z","type":"message"}
{"nick":"indutny","message":"which results in creating a lot of connections...","date":"2012-12-18T16:31:23.202Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: k, sounds good.  thanks.  lmk what you find.","date":"2012-12-18T16:31:28.298Z","type":"message"}
{"nick":"indutny","message":"is it true? or am I missing something?","date":"2012-12-18T16:31:29.971Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^","date":"2012-12-18T16:31:31.254Z","type":"message"}
{"nick":"isaacs","message":"indutny: don't know offhand.","date":"2012-12-18T16:31:41.657Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-18T16:31:46.887Z","type":"message"}
{"nick":"isaacs","message":"indutny: but isn't that kind of what keep-alive is?","date":"2012-12-18T16:31:48.327Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-12-18T16:31:51.502Z","type":"message"}
{"nick":"indutny","message":"the thing is that you can't do second request","date":"2012-12-18T16:31:58.047Z","type":"message"}
{"nick":"isaacs","message":"indutny: like, \"use this socket again, don't close it\"","date":"2012-12-18T16:31:58.176Z","type":"message"}
{"nick":"indutny","message":"well, there're no API for that","date":"2012-12-18T16:32:07.854Z","type":"message"}
{"nick":"isaacs","message":"oh, because it's not releasing it back to the agent.","date":"2012-12-18T16:32:09.897Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-12-18T16:32:19.627Z","type":"message"}
{"nick":"isaacs","action":"is paging that problem in","date":"2012-12-18T16:32:24.717Z","type":"action"}
{"nick":"isaacs","message":"theer's this \"ForeverAgent\" thing","date":"2012-12-18T16:32:29.427Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-18T16:32:34.299Z","type":"message"}
{"nick":"isaacs","message":"it's in request, and voxer did some enhancements to it i hink","date":"2012-12-18T16:32:40.957Z","type":"message"}
{"nick":"isaacs","message":"is that what you're messing with?","date":"2012-12-18T16:32:46.437Z","type":"message"}
{"nick":"isaacs","message":"the built-in http.Agent re-uses sockets if it can, until nothing needs them, then immediately closes them","date":"2012-12-18T16:33:08.236Z","type":"message"}
{"nick":"isaacs","message":"the ForeverAgent, doesn't ever close them","date":"2012-12-18T16:33:13.686Z","type":"message"}
{"nick":"isaacs","message":"what it *ought* to do is ref them when they're in use, and unref them when they aren't.","date":"2012-12-18T16:33:33.186Z","type":"message"}
{"nick":"mjr_","message":"We are about to roll out a version of foreveragent","date":"2012-12-18T16:33:34.346Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yeah, mikeal mentioned that","date":"2012-12-18T16:33:41.246Z","type":"message"}
{"nick":"isaacs","message":"mjr_: said he'd pull it into request when you do","date":"2012-12-18T16:33:48.276Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: do you have time today to write up a quick thing on what's changed in the threadpool?  why we got rid of ev/eio?","date":"2012-12-18T16:35:19.155Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: not today, but tomorrow - i'm about to sign off","date":"2012-12-18T16:35:39.086Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: like, imagine someone on the mailing list asked, \"How come you got rid of libev and libeio?  that sounds stupid.\"","date":"2012-12-18T16:35:47.325Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: k, have a good night :)","date":"2012-12-18T16:35:58.875Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: you know how i'd respond - \"no u r stupid\"","date":"2012-12-18T16:36:07.284Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: that's a pretty good response.","date":"2012-12-18T16:36:13.304Z","type":"message"}
{"nick":"bnoordhuis","message":"it is, isn't it? but i'll write up a blog post","date":"2012-12-18T16:36:27.271Z","type":"message"}
{"nick":"indutny","message":"I liked libeio","date":"2012-12-18T16:36:55.830Z","type":"message"}
{"nick":"isaacs","message":"i'm gonna publish the streams2 blog post today","date":"2012-12-18T16:36:56.084Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: o","date":"2012-12-18T16:36:56.440Z","type":"message"}
{"nick":"indutny","message":"good naming","date":"2012-12-18T16:36:57.668Z","type":"message"}
{"nick":"bnoordhuis","message":"err","date":"2012-12-18T16:36:59.437Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: you reported an issue a while ago about http.Agent handing out dead connections?","date":"2012-12-18T16:37:16.512Z","type":"message"}
{"nick":"indutny","message":"isaacs: I think we should eventually handle this keep-alive shit in http module","date":"2012-12-18T16:37:24.815Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: Danny did that work","date":"2012-12-18T16:37:29.749Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-12-18T16:37:31.456Z","type":"quit"}
{"nick":"indutny","message":"isaacs: or at least set it Connection to close","date":"2012-12-18T16:37:32.048Z","type":"message"}
{"nick":"isaacs","message":"indutny: yes.","date":"2012-12-18T16:37:45.763Z","type":"message"}
{"nick":"isaacs","message":"indutny: that is planned for 0.12","date":"2012-12-18T16:37:49.363Z","type":"message"}
{"nick":"indutny","message":"oooh","date":"2012-12-18T16:37:53.026Z","type":"message"}
{"nick":"isaacs","message":"indutny: we need to do keepalive properly","date":"2012-12-18T16:37:57.013Z","type":"message"}
{"nick":"mjr_","message":"I continue to believe that real keepalive should be part of http client.","date":"2012-12-18T16:37:57.143Z","type":"message"}
{"nick":"indutny","message":"people gonna wait","date":"2012-12-18T16:37:58.743Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-18T16:38:02.246Z","type":"message"}
{"nick":"isaacs","message":"mjr_: ++","date":"2012-12-18T16:38:07.113Z","type":"message"}
{"nick":"indutny","message":"mjr_: ++","date":"2012-12-18T16:38:14.554Z","type":"message"}
{"nick":"isaacs","message":"the thing is, we needed ref/unref","date":"2012-12-18T16:38:15.583Z","type":"message"}
{"nick":"isaacs","message":"and that didn't land until 0.8 (iirc?)","date":"2012-12-18T16:38:23.193Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: internet citizenship. keeping idle connections around is not it","date":"2012-12-18T16:38:24.034Z","type":"message"}
{"nick":"isaacs","message":"node should do keepalive to match web browsers' behavior","date":"2012-12-18T16:38:45.153Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: not sure I agree. Opening new connections every time is being a bad citizen","date":"2012-12-18T16:38:46.869Z","type":"message"}
{"nick":"isaacs","message":"the standard for http clients is web browsers, and to a lesser extent (though closer to us) curl","date":"2012-12-18T16:39:15.912Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: keep the request pipeline filled and node'll reuse connections","date":"2012-12-18T16:39:21.077Z","type":"message"}
{"nick":"isaacs","message":"browsers and curl both do keepalives and use them indefinitely","date":"2012-12-18T16:39:27.752Z","type":"message"}
{"nick":"bnoordhuis","message":"that said, i can see the case for adding a keepOpen:true flag","date":"2012-12-18T16:39:31.952Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: doesn't work well if you have your workload spread across multiple processes","date":"2012-12-18T16:39:35.654Z","type":"message"}
{"nick":"mjr_","message":"as you do with node","date":"2012-12-18T16:39:37.438Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yes, this","date":"2012-12-18T16:39:39.392Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: we should keep some reasonable configurable number of connections open","date":"2012-12-18T16:39:51.872Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but still close them if that's the *only* thing keeping node open","date":"2012-12-18T16:40:01.692Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: but only as opt-in functionality","date":"2012-12-18T16:40:10.620Z","type":"message"}
{"nick":"mjr_","message":"I feel like my mind has been melded with isaacs on this issue.","date":"2012-12-18T16:40:18.632Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it should behave like a web browser does.","date":"2012-12-18T16:40:29.801Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: if you are making repeated (single) requests to a server, it should reuse the same connection.","date":"2012-12-18T16:40:48.651Z","type":"message"}
{"nick":"isaacs","message":"up to, say, 8 connections per server","date":"2012-12-18T16:40:54.261Z","type":"message"}
{"nick":"isaacs","message":"(which is what browsers do by default)","date":"2012-12-18T16:41:00.731Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: a server application is not a browser","date":"2012-12-18T16:41:10.815Z","type":"message"}
{"nick":"isaacs","message":"5 is always the wrong number.","date":"2012-12-18T16:41:14.771Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but node is often not a server :)","date":"2012-12-18T16:41:22.731Z","type":"message"}
{"nick":"isaacs","message":"when it's an http client, it should act like an http client.","date":"2012-12-18T16:41:29.111Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: the obvious example for us is consuming Facebook's API","date":"2012-12-18T16:41:29.540Z","type":"message"}
{"nick":"bnoordhuis","message":"anyway, let's save this conversation for another day","date":"2012-12-18T16:41:43.466Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2012-12-18T16:41:45.471Z","type":"message"}
{"nick":"mjr_","message":"Every single HTTPS client request we make to Facebook requires a new TLS negotiation","date":"2012-12-18T16:41:50.837Z","type":"message"}
{"nick":"mjr_","message":"every single damn time","date":"2012-12-18T16:41:54.479Z","type":"message"}
{"nick":"isaacs","message":"mjr_, bnoordhuis, indutny: So, this is why it's postponed for 0.12","date":"2012-12-18T16:41:58.160Z","type":"message"}
{"nick":"isaacs","message":"there are other conversations to have today :0","date":"2012-12-18T16:42:04.840Z","type":"message"}
{"nick":"isaacs","message":"and this one isn't trivial.","date":"2012-12-18T16:42:09.150Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: isaacs: we have unref() bindings now, right?","date":"2012-12-18T16:42:10.505Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yes.","date":"2012-12-18T16:42:15.220Z","type":"message"}
{"nick":"piscisaureus_","message":"we can just keep the tcp open","date":"2012-12-18T16:42:17.289Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, we have the tools now.","date":"2012-12-18T16:42:22.020Z","type":"message"}
{"nick":"piscisaureus_","message":"and node will exit anyway","date":"2012-12-18T16:42:22.474Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i don't think there's one for uv_tcp_t","date":"2012-12-18T16:42:26.848Z","type":"message"}
{"nick":"piscisaureus_","message":"oh not?","date":"2012-12-18T16:42:41.099Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: mjr_ and indutny can probaly mess around wit hthis in userland, which would be ideal.","date":"2012-12-18T16:42:42.440Z","type":"message"}
{"nick":"bnoordhuis","message":"streamwraps, i mean","date":"2012-12-18T16:42:47.125Z","type":"message"}
{"nick":"piscisaureus_","message":"i thought we have streams","date":"2012-12-18T16:42:47.702Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: orly?  i thought there was.","date":"2012-12-18T16:42:48.880Z","type":"message"}
{"nick":"piscisaureus_","message":"I thought so too. lemme look","date":"2012-12-18T16:42:55.828Z","type":"message"}
{"nick":"bnoordhuis","message":"unless tjfontaine added some while i wasn't looking","date":"2012-12-18T16:43:08.820Z","type":"message"}
{"nick":"piscisaureus_","message":"yes there is","date":"2012-12-18T16:43:28.144Z","type":"message"}
{"nick":"indutny","message":"isaacs: we can probably turn off keep-alive by default in 0.10","date":"2012-12-18T16:43:35.738Z","type":"message"}
{"nick":"indutny","message":"that would be pretty fine","date":"2012-12-18T16:43:38.927Z","type":"message"}
{"nick":"piscisaureus_","message":"https://github.com/joyent/node/blob/d607d856afc744b1e6bc42cdb9b67b6c4e7e4876/src/tcp_wrap.cc#L85","date":"2012-12-18T16:43:41.417Z","type":"message"}
{"nick":"indutny","message":"I mean turn it off when using with agent","date":"2012-12-18T16:43:48.036Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^","date":"2012-12-18T16:43:54.347Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.8\u000f * \u0002faf9943\u0002 : blog: post about streams2 feature - http://git.io/mACOIw","date":"2012-12-18T16:44:06.128Z","type":"message"}
{"nick":"bnoordhuis","message":"sneaky canadians","date":"2012-12-18T16:44:10.284Z","type":"message"}
{"nick":"bnoordhuis","message":"(he's from canada, right?)","date":"2012-12-18T16:44:16.560Z","type":"message"}
{"nick":"isaacs","message":"oh, whoops","date":"2012-12-18T16:44:17.339Z","type":"message"}
{"nick":"isaacs","message":"force push on v0.8 coming, sorry","date":"2012-12-18T16:44:22.549Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: before that blog post, can we atleast try to fix some of the perf dent","date":"2012-12-18T16:44:50.293Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm going to do that today","date":"2012-12-18T16:45:18.838Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.8\u000f * \u000204adf0e\u0002 : blog: post about streams2 feature - http://git.io/bRhSIg","date":"2012-12-18T16:45:20.387Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-12-18T16:45:21.219Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I mean, I like streams2 but I will not stand behind a node 0.10 that's >35% slower","date":"2012-12-18T16:45:21.565Z","type":"message"}
{"nick":"isaacs","message":"of course.","date":"2012-12-18T16:45:26.838Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: there are huge obvious problems with http.js","date":"2012-12-18T16:45:40.058Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-12-18T16:45:50.116Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i literally just slapped code together (literally slapped!) until it was behaving correctly.","date":"2012-12-18T16:45:53.878Z","type":"message"}
{"nick":"piscisaureus_","message":"naughty","date":"2012-12-18T16:46:05.456Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but we shouldn't abandon the feature at this point.","date":"2012-12-18T16:46:13.658Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: how are you going to close the performance gap?","date":"2012-12-18T16:46:37.962Z","type":"message"}
{"nick":"bnoordhuis","message":"35-40% is pretty steep","date":"2012-12-18T16:46:44.154Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: well, first i'm going to profile it and see what it actually is","date":"2012-12-18T16:46:50.977Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: s/what/where/","date":"2012-12-18T16:46:55.617Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: then i'm going to do programming to it","date":"2012-12-18T16:47:00.307Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-12-18T16:47:14.772Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: 35-40% means that there's some gigantic holes.","date":"2012-12-18T16:47:16.407Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: programming sometimes helps","date":"2012-12-18T16:47:16.845Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i'm going to push buttons until the pattern of lights is more to our liking.","date":"2012-12-18T16:47:29.257Z","type":"message"}
{"nick":"piscisaureus_","message":"un-gramming","date":"2012-12-18T16:47:31.733Z","type":"message"}
{"nick":"bnoordhuis","message":"but are you sure it's just some oversight and not some fundamental shortcoming?","date":"2012-12-18T16:47:35.071Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: if it was fundamental, then i think that net-pipe would be much worse.","date":"2012-12-18T16:47:47.687Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: what is a \"relaxed\" accept()?","date":"2012-12-18T16:47:52.962Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: and if there is some fundamental shortcoming, it's likely in the implementation, rather than the api","date":"2012-12-18T16:47:59.957Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: okay. surprise me :)","date":"2012-12-18T16:48:00.088Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but without profiling it, really, no one knows what the problem is, and i can't really speculate.","date":"2012-12-18T16:48:31.986Z","type":"message"}
{"nick":"isaacs","message":"or rather, i can ONLY speculate :)","date":"2012-12-18T16:48:38.576Z","type":"message"}
{"nick":"indutny","message":"isaacs: I think that blogging is preliminary at this point","date":"2012-12-18T16:48:38.810Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: it is/was a trick to ensure incoming connections are balanced evenly among listening processes","date":"2012-12-18T16:48:38.953Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: it turned out it wasn't working so well :/","date":"2012-12-18T16:48:50.194Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: oh i see","date":"2012-12-18T16:49:00.769Z","type":"message"}
{"nick":"piscisaureus_","message":"it works on smartos tho","date":"2012-12-18T16:49:01.306Z","type":"message"}
{"nick":"indutny","message":"isaacs: I like streams2 pretty much, but if they won't give pretty the same performance","date":"2012-12-18T16:49:02.186Z","type":"message"}
{"nick":"indutny","message":"I will be against landing them in 0.10","date":"2012-12-18T16:49:11.354Z","type":"message"}
{"nick":"isaacs","message":"ye of little faith","date":"2012-12-18T16:49:18.876Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: i ran some quick checks. the general impression i got was that streams2 is simply doing more per unit of work","date":"2012-12-18T16:49:44.417Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yes, it needs some polishing","date":"2012-12-18T16:49:56.956Z","type":"message"}
{"nick":"isaacs","message":"there's a bit more js in many places, because there needs to be in order to make some of these things configurable.","date":"2012-12-18T16:50:12.415Z","type":"message"}
{"nick":"isaacs","message":"we can remove some of the configurability of it.","date":"2012-12-18T16:50:17.285Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^ i mentioned that, didn't i :)","date":"2012-12-18T16:50:29.118Z","type":"message"}
{"nick":"isaacs","message":"but you don't optimize the fast things until the slow things are optimized.","date":"2012-12-18T16:50:33.605Z","type":"message"}
{"nick":"isaacs","message":"this is a feature people actually want.","date":"2012-12-18T16:51:08.327Z","type":"message"}
{"nick":"mikeal","date":"2012-12-18T16:51:19.676Z","type":"join"}
{"nick":"bnoordhuis","message":"but is it something they need?","date":"2012-12-18T16:51:33.190Z","type":"message"}
{"nick":"isaacs","message":"it makes node easier, and it's already proven useful.","date":"2012-12-18T16:51:35.486Z","type":"message"}
{"nick":"bnoordhuis","action":"trolls on","date":"2012-12-18T16:51:41.291Z","type":"action"}
{"nick":"isaacs","message":"it fixes a handful of the most common user wtfs","date":"2012-12-18T16:51:46.114Z","type":"message"}
{"nick":"bnoordhuis","message":"i was kidding back there","date":"2012-12-18T16:51:56.780Z","type":"message"}
{"nick":"isaacs","message":"haha","date":"2012-12-18T16:51:59.134Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-12-18T16:51:59.844Z","type":"message"}
{"nick":"bnoordhuis","message":"but what are the issues people run into with streams in v0.8?","date":"2012-12-18T16:52:07.942Z","type":"message"}
{"nick":"bnoordhuis","message":"apart from setEncoding, that's just a wart","date":"2012-12-18T16:52:21.603Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: immediate 'data' events, pause doesn't pause, and implementing streams is extremely difficult to do properly.","date":"2012-12-18T16:52:28.513Z","type":"message"}
{"nick":"AvianFlu","date":"2012-12-18T16:52:33.996Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: those are the biggest ones","date":"2012-12-18T16:52:34.963Z","type":"message"}
{"nick":"bnoordhuis","message":"i can see the issue with pause","date":"2012-12-18T16:52:44.803Z","type":"message"}
{"nick":"bnoordhuis","message":"but what's the problem with data events?","date":"2012-12-18T16:52:53.129Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: hyperactive backpressure is solved by the configurable water marks, but we can just rip that shit out","date":"2012-12-18T16:53:00.143Z","type":"message"}
{"nick":"piscisaureus_","message":"actually that was also the problem that was the easiest to fix :-p","date":"2012-12-18T16:53:01.454Z","type":"message"}
{"nick":"isaacs","message":"i hear often that it's overly difficult to implement a stream api properly","date":"2012-12-18T16:53:24.394Z","type":"message"}
{"nick":"isaacs","message":"\"Why can't i just define a read method, and YOU do all the fancy crap?\"","date":"2012-12-18T16:53:33.933Z","type":"message"}
{"nick":"bnoordhuis","message":"what fancy crap?","date":"2012-12-18T16:54:00.506Z","type":"message"}
{"nick":"indutny","message":"because it's slow and complicated :)","date":"2012-12-18T16:54:04.271Z","type":"message"}
{"nick":"isaacs","message":"and frankly, having written streaming parsers and streaming fs utils, and other things, they're right.  it's overly difficult, verging on impossible to not fuck up.","date":"2012-12-18T16:54:05.816Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-18T16:54:06.843Z","type":"message"}
{"nick":"bnoordhuis","message":"back-pressure and such?","date":"2012-12-18T16:54:08.186Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yes.","date":"2012-12-18T16:54:11.205Z","type":"message"}
{"nick":"indexzero","date":"2012-12-18T16:54:15.236Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: pause/resume, write queues, etc.","date":"2012-12-18T16:54:17.322Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: isn't that better solved with some (perish the name) AbstractBaseStream class?","date":"2012-12-18T16:54:35.571Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: even in node core, there's the same exact (except subtly *different*) logic in zlib, fs, net, etc.","date":"2012-12-18T16:54:39.012Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: require('stream').Readable","date":"2012-12-18T16:54:48.522Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: AbstractBaseStream class ^","date":"2012-12-18T16:54:55.002Z","type":"message"}
{"nick":"isaacs","message":"the question is: is that class ideal?  is it optimized enough?  is it too configurable, and sacrificing performance?","date":"2012-12-18T16:55:31.212Z","type":"message"}
{"nick":"bnoordhuis","message":"and does that require/merit/warrant rewriting the other core streams?","date":"2012-12-18T16:55:32.055Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-12-18T16:55:34.875Z","type":"quit"}
{"nick":"isaacs","message":"yes.","date":"2012-12-18T16:55:37.102Z","type":"message"}
{"nick":"hz","date":"2012-12-18T16:55:40.431Z","type":"join"}
{"nick":"bnoordhuis","message":"noted. now the arguments please :)","date":"2012-12-18T16:55:47.337Z","type":"message"}
{"nick":"isaacs","message":"because *we* have a problem with non-DRY code in our streams.","date":"2012-12-18T16:55:55.591Z","type":"message"}
{"nick":"isaacs","message":"we have (had) the same logic implemented in multiple places, in subtly different ways, and inconsistently.","date":"2012-12-18T16:56:12.653Z","type":"message"}
{"nick":"bnoordhuis","message":"of all the things that keep me awake at night, that's not one","date":"2012-12-18T16:56:23.161Z","type":"message"}
{"nick":"isaacs","message":"we call it a \"stream api\" but really there are like 6 of them","date":"2012-12-18T16:56:29.351Z","type":"message"}
{"nick":"isaacs","message":"i imagine your daughter keeps you awake most nights ;)","date":"2012-12-18T16:56:51.531Z","type":"message"}
{"nick":"bnoordhuis","message":"though admittedly it's mostly things like \"did i lock the backporch door\"","date":"2012-12-18T16:56:51.664Z","type":"message"}
{"nick":"bnoordhuis","message":"that too :)","date":"2012-12-18T16:56:55.687Z","type":"message"}
{"nick":"isaacs","message":"i have to commute so that i can run some benchmarks while half-listening to our engineering all-hands","date":"2012-12-18T16:57:17.570Z","type":"message"}
{"nick":"isaacs","message":"i'll bbiab.","date":"2012-12-18T16:57:23.440Z","type":"message"}
{"nick":"bnoordhuis","message":"ack. i'm off to dinner","date":"2012-12-18T16:57:44.654Z","type":"message"}
{"nick":"piscisaureus_","message":"I think it's mostly insomnia after sleeping whole day, bnoordhuis","date":"2012-12-18T16:57:45.784Z","type":"message"}
{"nick":"isaacs","message":"lulz","date":"2012-12-18T16:57:53.890Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh snap!","date":"2012-12-18T16:57:55.695Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'd make snide remarks about your contributions to node.js and libuv in recent times but dinner's ready :)","date":"2012-12-18T16:58:28.051Z","type":"message"}
{"nick":"mjr_","message":"half-listening is really the only way to listen to an all-hands.","date":"2012-12-18T16:58:33.695Z","type":"message"}
{"nick":"piscisaureus_","message":"hahhaha","date":"2012-12-18T16:58:37.028Z","type":"message"}
{"nick":"mjr_","message":"I say this as someone who often speaks at / leads all-hands","date":"2012-12-18T16:59:04.916Z","type":"message"}
{"nick":"piscisaureus_","message":"mjr_: you are completely right but, er, are you not the guy who is supposed to think all-hands is important?","date":"2012-12-18T16:59:06.423Z","type":"message"}
{"nick":"piscisaureus_","message":"that","date":"2012-12-18T16:59:11.636Z","type":"message"}
{"nick":"mjr_","message":"But I take it as a challenge to make it interesting enough to be worth paying attention to","date":"2012-12-18T16:59:35.136Z","type":"message"}
{"nick":"mjr_","message":"But man, it's hard.","date":"2012-12-18T16:59:37.756Z","type":"message"}
{"nick":"tristram","message":"hi, I'm trying to find out a bug with the zeromq nodejs bindings, and I dug down to libuv (and I'm somewhat lost) :","date":"2012-12-18T17:07:53.669Z","type":"message"}
{"nick":"tristram","message":"there is a uv_poll_init_socket that sometimes doesn't seem to call the callback","date":"2012-12-18T17:08:34.964Z","type":"message"}
{"nick":"tristram","message":"https://github.com/JustinTulloss/zeromq.node/blob/master/binding.cc#L272 (line 272 the callback, line 312 where defined)","date":"2012-12-18T17:08:56.400Z","type":"message"}
{"nick":"tristram","message":"is there some documentation, known things to be careful when using it ?","date":"2012-12-18T17:09:43.509Z","type":"message"}
{"nick":"piscisaureus_","message":"tristram: is that on unix or windows?","date":"2012-12-18T17:09:50.581Z","type":"message"}
{"nick":"brson","date":"2012-12-18T17:10:05.676Z","type":"join"}
{"nick":"piscisaureus_","message":"tristram: also, you should atleast check the return values from uv_poll_init and uv_poll_start","date":"2012-12-18T17:10:13.347Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe you are putting an invalid fd in or something, and you are not going to know as it stands","date":"2012-12-18T17:10:27.055Z","type":"message"}
{"nick":"tristram","message":"they're always returning 0","date":"2012-12-18T17:10:48.017Z","type":"message"}
{"nick":"tristram","message":"on unix, tcp","date":"2012-12-18T17:10:57.999Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-12-18T17:13:24.546Z","type":"quit"}
{"nick":"dap","date":"2012-12-18T17:13:45.265Z","type":"join"}
{"nick":"hz","date":"2012-12-18T17:14:16.438Z","type":"join"}
{"nick":"piscisaureus_","message":"generally you have to be careful not to clobber an uv handle, and to not free it too early","date":"2012-12-18T17:14:56.026Z","type":"message"}
{"nick":"piscisaureus_","message":"but apparently you never free it and I don't see obvious clobbering","date":"2012-12-18T17:15:05.657Z","type":"message"}
{"nick":"piscisaureus_","message":"tristram: also, try to build/use it with a debug build of node and libuv","date":"2012-12-18T17:15:56.658Z","type":"message"}
{"nick":"piscisaureus_","message":"tristram: there are many asserts etc in libuv that will give you a clue if you are doing something wrong","date":"2012-12-18T17:16:34.021Z","type":"message"}
{"nick":"piscisaureus_","message":"tristram: also, what does \"sometimes\" mean? Do you have a test case that reproduces this sort of consistently?","date":"2012-12-18T17:16:46.723Z","type":"message"}
{"nick":"tristram","message":"it's not deterministic","date":"2012-12-18T17:17:19.433Z","type":"message"}
{"nick":"tristram","message":"I'm originaly using zeromq to communicate between my node app, and my c++ app","date":"2012-12-18T17:18:01.123Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T17:18:04.304Z","type":"quit"}
{"nick":"tristram","message":"out of 1000 requests, about 5 fail (a very simple 'hello' exchange)","date":"2012-12-18T17:18:28.506Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T17:18:41.204Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T17:18:41.204Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T17:18:41.204Z","type":"join"}
{"nick":"tristram","message":"I'll give a try with a debug release of node (even if I'm not the dev of the bindings)","date":"2012-12-18T17:19:02.276Z","type":"message"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-12-18T17:23:06.155Z","type":"quit"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-12-18T17:27:58.830Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-12-18T17:51:40.194Z","type":"join"}
{"nick":"loladiro","date":"2012-12-18T17:57:11.065Z","type":"join"}
{"nick":"`3rdEden","date":"2012-12-18T18:18:03.967Z","type":"join"}
{"nick":"tristram","message":"meh, I had no more success to pin down the problem :/ I should give up :)","date":"2012-12-18T18:27:49.906Z","type":"message"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2012-12-18T18:30:05.138Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-12-18T18:32:54.400Z","type":"quit"}
{"nick":"brson","date":"2012-12-18T18:33:10.566Z","type":"join"}
{"nick":"bradleymeck","date":"2012-12-18T18:46:47.225Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T18:49:06.850Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-12-18T18:50:55.670Z","type":"quit"}
{"nick":"jmar777","date":"2012-12-18T18:51:31.484Z","type":"join"}
{"nick":"bradleymeck_","date":"2012-12-18T18:51:36.973Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 252 seconds","date":"2012-12-18T18:53:02.722Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2012-12-18T18:53:02.891Z","type":"nick"}
{"nick":"TooTallNate","date":"2012-12-18T18:54:04.941Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-12-18T18:54:14.673Z","type":"quit"}
{"nick":"jmar777","reason":"Ping timeout: 260 seconds","date":"2012-12-18T18:55:59.203Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T19:00:08.590Z","type":"join"}
{"nick":"`3rdEden","date":"2012-12-18T19:00:45.298Z","type":"join"}
{"nick":"sgallagh","reason":"Ping timeout: 252 seconds","date":"2012-12-18T19:08:04.682Z","type":"quit"}
{"nick":"LOUDBOT","reason":"Remote host closed the connection","date":"2012-12-18T19:10:09.748Z","type":"quit"}
{"nick":"LOUDBOT","date":"2012-12-18T19:10:17.254Z","type":"join"}
{"nick":"LOUDBOT","reason":"Remote host closed the connection","date":"2012-12-18T19:11:33.563Z","type":"quit"}
{"nick":"LOUDBOT_","date":"2012-12-18T19:11:39.924Z","type":"join"}
{"nick":"sgallagh","date":"2012-12-18T19:14:38.612Z","type":"join"}
{"nick":"isaacs","message":"ok.  i found the problem with http.js","date":"2012-12-18T19:18:13.941Z","type":"message"}
{"nick":"isaacs","message":"but the solution will be harder to figure out than the problem :)","date":"2012-12-18T19:18:20.037Z","type":"message"}
{"nick":"isaacs","message":"switching into old-mode is expensive.","date":"2012-12-18T19:18:27.037Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis, piscisaureus_, indutny ^","date":"2012-12-18T19:19:02.327Z","type":"message"}
{"nick":"isaacs","message":"also, we're spending a lot of time stringifying headers.","date":"2012-12-18T19:19:32.496Z","type":"message"}
{"nick":"isaacs","message":"that sucks.","date":"2012-12-18T19:19:34.507Z","type":"message"}
{"nick":"LOUDBOT_","reason":"Remote host closed the connection","date":"2012-12-18T19:21:20.645Z","type":"quit"}
{"nick":"LOUDBOT","date":"2012-12-18T19:21:26.949Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T19:24:33.262Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T19:39:25.494Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2012-12-18T19:45:38.353Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u000243538f4\u0002 : benchmark: Add http-flamegraph  This is very similar to http.sh, but gene - http://git.io/ycon6A","date":"2012-12-18T19:57:08.751Z","type":"message"}
{"nick":"isaacs","message":"http://static.izs.me/http-streams2.svg","date":"2012-12-18T19:58:15.830Z","type":"message"}
{"nick":"isaacs","message":"http://static.izs.me/http-streams1.svg","date":"2012-12-18T19:58:18.080Z","type":"message"}
{"nick":"isaacs","message":"looks like i'm calling date.now() somewhere i shouldn't be.","date":"2012-12-18T19:58:25.190Z","type":"message"}
{"nick":"isaacs","message":"(among other fascinating insights here)","date":"2012-12-18T19:58:31.310Z","type":"message"}
{"nick":"isaacs","message":"that's weird, though, because i don't see where it's calling Date.now...","date":"2012-12-18T20:01:55.438Z","type":"message"}
{"nick":"isaacs","message":"i think these stacks are lying to me","date":"2012-12-18T20:01:59.147Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: are you concatenating strings before writing them?","date":"2012-12-18T20:02:46.496Z","type":"message"}
{"nick":"isaacs","message":"brb, lunch","date":"2012-12-18T20:02:58.417Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-12-18T20:03:05.402Z","type":"message"}
{"nick":"TooTallNate","date":"2012-12-18T20:03:15.619Z","type":"join"}
{"nick":"sblom","date":"2012-12-18T20:07:01.657Z","type":"join"}
{"nick":"mscdex","date":"2012-12-18T20:22:14.063Z","type":"join"}
{"nick":"mscdex","message":"indutny: ping","date":"2012-12-18T20:22:21.104Z","type":"message"}
{"nick":"pooya","date":"2012-12-18T20:25:48.859Z","type":"join"}
{"nick":"mscdex","reason":"\"Leaving\"","date":"2012-12-18T20:25:52.549Z","type":"part"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2012-12-18T20:26:30.213Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 272 seconds","date":"2012-12-18T20:42:13.035Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-12-18T20:50:29.103Z","type":"quit"}
{"nick":"dap","date":"2012-12-18T20:50:55.422Z","type":"join"}
{"nick":"hz","date":"2012-12-18T20:54:03.895Z","type":"quit"}
{"nick":"isaacs","action":"back","date":"2012-12-18T20:57:16.214Z","type":"action"}
{"nick":"isaacs","message":"the Date.now is because the DTrace ustack helper is dropping a frame.  it's coming from timers.active(this)","date":"2012-12-18T20:57:36.824Z","type":"message"}
{"nick":"lohkey","date":"2012-12-18T21:00:43.876Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2012-12-18T21:04:32.060Z","type":"quit"}
{"nick":"mmalecki","message":"isaacs: streams2 is streams2 or second run of the benchmark?","date":"2012-12-18T21:05:27.774Z","type":"message"}
{"nick":"mmalecki","message":"probably a stupid question","date":"2012-12-18T21:05:38.005Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: streams2 is streams2 :)","date":"2012-12-18T21:05:53.038Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: can you try disabling http timestamp and running those again?","date":"2012-12-18T21:08:23.718Z","type":"message"}
{"nick":"mmalecki","message":"this is where date.now() might be coming from","date":"2012-12-18T21:08:32.688Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: no, it's coming from timers.active()","date":"2012-12-18T21:11:27.485Z","type":"message"}
{"nick":"isaacs","message":"the http Date header doesn't use Date.now()","date":"2012-12-18T21:11:39.335Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T21:11:48.751Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T21:11:48.889Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T21:11:49.021Z","type":"join"}
{"nick":"isaacs","message":"and it's updating only once per second","date":"2012-12-18T21:11:52.284Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: look for function utcDate()","date":"2012-12-18T21:12:59.494Z","type":"message"}
{"nick":"isaacs","message":"that's how we get the date value","date":"2012-12-18T21:13:05.563Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-12-18T21:20:05.945Z","type":"join"}
{"nick":"sblom","message":"isaacs: Got your request for an investigation. I'm pretty swamped right now. I think things'll let up mid-afternoon and I'll check back with you then. I don't _think_ I see evidence that piscisaureus_ dug in on this so far.","date":"2012-12-18T21:20:12.987Z","type":"message"}
{"nick":"sblom","message":"Speak of the devil...","date":"2012-12-18T21:20:21.141Z","type":"message"}
{"nick":"piscisaureus_","message":"hello minions","date":"2012-12-18T21:20:42.309Z","type":"message"}
{"nick":"isaacs","message":"sblom: no worries.","date":"2012-12-18T21:20:43.876Z","type":"message"}
{"nick":"isaacs","message":"ITS THE PISCISAUREUS!","date":"2012-12-18T21:20:48.556Z","type":"message"}
{"nick":"LOUDBOT","message":"THIS UNCHECKED AGRESSION WILL NOT STAND","date":"2012-12-18T21:20:49.117Z","type":"message"}
{"nick":"rendar","date":"2012-12-18T21:22:35.110Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: no, i'm not concatenating strings before sending them","date":"2012-12-18T21:22:54.235Z","type":"message"}
{"nick":"piscisaureus_","message":"ok good","date":"2012-12-18T21:23:20.812Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: i wonder why so much time is spent in TryFlatten then, I fixed that 9 months ago or so","date":"2012-12-18T21:23:47.926Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: hm","date":"2012-12-18T21:27:13.072Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i suppose i could \"cheat\" and optimize our header handling.","date":"2012-12-18T21:27:38.992Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't think this is the reason for the regression tho","date":"2012-12-18T21:27:41.935Z","type":"message"}
{"nick":"isaacs","message":"but that seems disingenuous","date":"2012-12-18T21:27:43.171Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: cheating is totally allowed","date":"2012-12-18T21:27:51.396Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: faster is faster :-)","date":"2012-12-18T21:28:01.782Z","type":"message"}
{"nick":"isaacs","message":"so, for the first time ever in my experience with them, the flamegraph profile is not immediately making the problem obvious.","date":"2012-12-18T21:28:54.515Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-12-18T21:28:57.534Z","type":"message"}
{"nick":"isaacs","message":"the streams1 and streams2 approaches look almost identical, except that v8::internal::String::WriteToFlatIcEEvPS1 is taking up a bigger proportion of tiem in the streams2 version","date":"2012-12-18T21:29:43.600Z","type":"message"}
{"nick":"isaacs","message":"also, in both, the two peaks actually are almost identical, except for this _ZN2v88internalL21Builtin_HandleApiCallENS0_12_GLOBAL__N_116BuiltinArgumentsILNS0_21BuiltinExtraArgume fellow","date":"2012-12-18T21:31:23.739Z","type":"message"}
{"nick":"isaacs","message":"i'm going to try editing that frame out and see what it looks like","date":"2012-12-18T21:31:37.809Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: also, how were you seeing the biggest difference in performance?","date":"2012-12-18T21:32:52.388Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: ie, what args to ab or whatever","date":"2012-12-18T21:33:02.208Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I didn't try many variations here, but `ab -t 100 -c 100 -k http://127.0.0.1:8000/bytes/1` should give you the picture","date":"2012-12-18T21:33:32.460Z","type":"message"}
{"nick":"piscisaureus_","message":"I had 40% perf dropoff with that benchmark","date":"2012-12-18T21:34:02.118Z","type":"message"}
{"nick":"isaacs","message":"k, kewl","date":"2012-12-18T21:35:37.246Z","type":"message"}
{"nick":"isaacs","message":"i'm seeing a perf drop, but it's kind of variable","date":"2012-12-18T21:35:46.317Z","type":"message"}
{"nick":"isaacs","message":"didn't try /bytes/1","date":"2012-12-18T21:35:53.086Z","type":"message"}
{"nick":"isaacs","message":"i think i was doing just /bytes/1024 only","date":"2012-12-18T21:36:09.366Z","type":"message"}
{"nick":"CoverSlide","message":"you guys do so many benchmarks, it seems your lives would be easier if you had a CI server that ran benchmarks on every commit","date":"2012-12-18T21:38:21.972Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: INORITE","date":"2012-12-18T21:38:40.954Z","type":"message"}
{"nick":"CoverSlide","message":"and could show visible results like http://arewefastyet.com/ does","date":"2012-12-18T21:38:43.116Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, for large payloads, it seems mostly equivalent","date":"2012-12-18T21:38:55.544Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm actually seeing that the variability is higher than any difference","date":"2012-12-18T21:39:10.624Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-12-18T21:39:13.117Z","type":"quit"}
{"nick":"isaacs","message":"that could be why these flamegraphs are useless.","date":"2012-12-18T21:39:16.154Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: i would love benchmarks that were run on every commit, and produced a flamegraph for each one","date":"2012-12-18T21:39:50.324Z","type":"message"}
{"nick":"isaacs","message":"that'd be so super killer","date":"2012-12-18T21:39:55.713Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok, so the problem is mostly in small payloads then. That's useful info.","date":"2012-12-18T21:40:01.320Z","type":"message"}
{"nick":"CoverSlide","message":"is that something buildbot could do? ","date":"2012-12-18T21:40:28.764Z","type":"message"}
{"nick":"isaacs","message":"yes, indeed.","date":"2012-12-18T21:40:44.493Z","type":"message"}
{"nick":"tjfontaine","message":"fwiw I am working currently on jenkins","date":"2012-12-18T21:41:06.293Z","type":"message"}
{"nick":"TooTallNate","message":"buildbot?","date":"2012-12-18T21:41:13.092Z","type":"message"}
{"nick":"tjfontaine","message":"http://jenkins.atxconsulting.com:8080 it will want you to authorize with github","date":"2012-12-18T21:41:33.732Z","type":"message"}
{"nick":"CoverSlide","message":"node used to use buildbot iirc, but i think that was killed. buildbot i know is used for chome, and probably v8 as well","date":"2012-12-18T21:41:42.965Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2012-12-18T21:41:43.357Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T21:41:43.797Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: how large is large here? With bytes/10000 I am actually still seeing a drop from 9000 to 65000","date":"2012-12-18T21:41:46.033Z","type":"message"}
{"nick":"piscisaureus_","message":"er *6500","date":"2012-12-18T21:41:49.543Z","type":"message"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-12-18T21:43:08.441Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: bytes/100000 goes from 1600 to 1560","date":"2012-12-18T21:44:40.688Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: os?","date":"2012-12-18T21:45:35.280Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: moon magic","date":"2012-12-18T21:45:41.184Z","type":"message"}
{"nick":"isaacs","message":"ohhh ok","date":"2012-12-18T21:45:46.079Z","type":"message"}
{"nick":"isaacs","message":"can you find one with a really big diff, and then do that etw/perfctr flamegraph magic on it?","date":"2012-12-18T21:46:11.629Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T21:46:30.563Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T21:46:30.901Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T21:46:31.033Z","type":"join"}
{"nick":"tjfontaine","message":"fwiw test-net-listen-fd0 is a bit of an odd test to get working inside CI, since most CI's pipe in stdin which breaks that test in an interesting way see `echo | make test`","date":"2012-12-18T21:47:18.634Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: that seems like a bug in the CI","date":"2012-12-18T21:47:59.298Z","type":"message"}
{"nick":"tjfontaine","message":"or echo | node test/simple/test-net-listen-fd0","date":"2012-12-18T21:48:09.210Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: ya I'm not entirely sure the best way to handle that, for now I just do `make test < /dev/null`","date":"2012-12-18T21:48:37.258Z","type":"message"}
{"nick":"isaacs","message":"haha, that's clever","date":"2012-12-18T21:48:52.297Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: we could probably also run the tests in a child proc that sets up a pipe for stdin","date":"2012-12-18T21:49:09.408Z","type":"message"}
{"nick":"isaacs","message":"echo | node -e 'var c = require(\"child_process\").spawn(process.execPath, [\"test/simple/test-net-listen-fd0.js\"],{stdio:[\"pipe\",1,2]})'","date":"2012-12-18T21:50:08.897Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: yup that was another alternative I was going to do which may be necessary in the wondows land","date":"2012-12-18T21:50:17.241Z","type":"message"}
{"nick":"isaacs","message":"haha, \"wondows\"","date":"2012-12-18T21:50:58.996Z","type":"message"}
{"nick":"isaacs","message":"i know, prolly a typo, but i like it","date":"2012-12-18T21:51:05.876Z","type":"message"}
{"nick":"CoverSlide","message":"a fish named wondows?","date":"2012-12-18T21:51:07.487Z","type":"message"}
{"nick":"tjfontaine","message":"I may stick with it","date":"2012-12-18T21:51:25.381Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: yeah, we had a buildbot setup","date":"2012-12-18T21:52:47.925Z","type":"message"}
{"nick":"isaacs","message":"it was ok","date":"2012-12-18T21:52:49.175Z","type":"message"}
{"nick":"tjfontaine","message":"one thing I was impressed with in jenkins was delegating authority to github organization","date":"2012-12-18T21:53:26.682Z","type":"message"}
{"nick":"CoverSlide","message":"the buildbot ui is fugly","date":"2012-12-18T21:53:29.271Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: zzz","date":"2012-12-18T21:53:34.551Z","type":"quit"}
{"nick":"brson","reason":"Read error: Operation timed out","date":"2012-12-18T22:05:02.477Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T22:07:43.769Z","type":"quit"}
{"nick":"wolfeidau","date":"2012-12-18T22:08:23.413Z","type":"join"}
{"nick":"isaacs","message":"ok, sweet","date":"2012-12-18T22:11:29.273Z","type":"message"}
{"nick":"isaacs","message":"i'm seeing a reduction from ~9-10kq/s down to ~6kq/s","date":"2012-12-18T22:11:44.332Z","type":"message"}
{"nick":"felixge","date":"2012-12-18T22:13:01.430Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-12-18T22:13:01.431Z","type":"quit"}
{"nick":"felixge","date":"2012-12-18T22:13:01.431Z","type":"join"}
{"nick":"isaacs","message":"arg.  i keep clobbering my output before saving it somewhere :)","date":"2012-12-18T22:13:54.502Z","type":"message"}
{"nick":"warz","date":"2012-12-18T22:16:43.179Z","type":"join"}
{"nick":"warz","reason":"Changing host","date":"2012-12-18T22:16:43.179Z","type":"quit"}
{"nick":"warz","date":"2012-12-18T22:16:43.179Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: so you are probably on slower hardware; the relative drop is the same","date":"2012-12-18T22:17:47.475Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-12-18T22:18:06.958Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: this is for /bytes/1","date":"2012-12-18T22:18:11.788Z","type":"message"}
{"nick":"isaacs","message":"so there's a lot more \"IncomingMessage\" relevance","date":"2012-12-18T22:18:21.938Z","type":"message"}
{"nick":"isaacs","message":"since there's less time spent just sendin bytes.","date":"2012-12-18T22:18:28.198Z","type":"message"}
{"nick":"isaacs","message":"makes sense that creating more objects has more of an impact in this case.","date":"2012-12-18T22:18:39.308Z","type":"message"}
{"nick":"isaacs","message":"http://static.izs.me/http-streams2-small.svg vs http://static.izs.me/http-streams1-small.svg","date":"2012-12-18T22:18:47.998Z","type":"message"}
{"nick":"isaacs","message":"for some reason, it's dropping a frame where we call Date.now() in timers.active()","date":"2012-12-18T22:19:15.287Z","type":"message"}
{"nick":"piscisaureus_","message":"hey sblom","date":"2012-12-18T22:21:03.619Z","type":"message"}
{"nick":"piscisaureus_","message":"where do I get this \"xperf\" tool","date":"2012-12-18T22:21:10.379Z","type":"message"}
{"nick":"piscisaureus_","message":"claudio's blog seems to imply that it ships with vs - but it doesn't","date":"2012-12-18T22:21:21.600Z","type":"message"}
{"nick":"piscisaureus_","message":"also this is where windows really really needs a package manager...","date":"2012-12-18T22:23:38.738Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-12-18T22:28:11.194Z","type":"quit"}
{"nick":"brson","date":"2012-12-18T22:34:10.550Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T22:35:25.806Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-12-18T22:35:31.569Z","type":"quit"}
{"nick":"brson","reason":"Client Quit","date":"2012-12-18T22:36:12.031Z","type":"quit"}
{"nick":"brson","date":"2012-12-18T22:36:28.679Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-12-18T22:44:42.510Z","type":"quit"}
{"nick":"loladiro","date":"2012-12-18T22:51:51.794Z","type":"join"}
{"nick":"warz","date":"2012-12-18T22:54:31.876Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-12-18T22:57:18.290Z","type":"join"}
{"nick":"sblom","message":"piscisaureus_: xperf comes in recent Windows SDKs.","date":"2012-12-18T23:03:30.097Z","type":"message"}
{"nick":"sblom","message":"Probably Windows 7 and up.","date":"2012-12-18T23:03:35.240Z","type":"message"}
{"nick":"sblom","message":"There are a few Windows package manager projects that I know of. I think Choclatey is the closest to being useful in this context.","date":"2012-12-18T23:04:15.138Z","type":"message"}
{"nick":"sblom","message":"I doubt there's an xperf package for it, though.","date":"2012-12-18T23:04:43.939Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: http://msdn.microsoft.com/en-us/performance/cc825801.aspx","date":"2012-12-18T23:06:14.106Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: thanks","date":"2012-12-18T23:08:55.870Z","type":"message"}
{"nick":"piscisaureus_","message":"claudio's blog post should probably mention that :-)","date":"2012-12-18T23:09:08.725Z","type":"message"}
{"nick":"bradleymeck","date":"2012-12-18T23:09:48.024Z","type":"join"}
{"nick":"sblom","message":"Yeah--will fix that.","date":"2012-12-18T23:10:02.306Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_ ^","date":"2012-12-18T23:10:08.968Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: great!","date":"2012-12-18T23:10:22.653Z","type":"message"}
{"nick":"sblom","message":"We actually double-checked that it ships with VS. I think we must have some version qualifiers required.","date":"2012-12-18T23:10:30.604Z","type":"message"}
{"nick":"sblom","message":"Remind me--are you on VS2010 or VS2012 mostly?","date":"2012-12-18T23:10:40.098Z","type":"message"}
{"nick":"piscisaureus_","message":"2010 ultimate","date":"2012-12-18T23:10:46.769Z","type":"message"}
{"nick":"sblom","message":"Okay.","date":"2012-12-18T23:10:50.647Z","type":"message"}
{"nick":"piscisaureus_","message":"should I be using 2012?","date":"2012-12-18T23:11:03.167Z","type":"message"}
{"nick":"sblom","message":"That helps me narrow down what version qualifiers we need--thanks.","date":"2012-12-18T23:11:05.166Z","type":"message"}
{"nick":"piscisaureus_","message":"well I suppose that means people need 2012","date":"2012-12-18T23:11:21.174Z","type":"message"}
{"nick":"sblom","message":"Nah.","date":"2012-12-18T23:11:26.505Z","type":"message"}
{"nick":"sblom","message":"This is available separately.","date":"2012-12-18T23:11:34.120Z","type":"message"}
{"nick":"sblom","message":"We just need to find the best download link to include.","date":"2012-12-18T23:11:46.233Z","type":"message"}
{"nick":"sblom","message":"I hope it's included in VS 2012 Express, but may require Pro (is there even Standard any more?). Marketers make things so complicated.","date":"2012-12-18T23:12:41.336Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-12-18T23:12:54.179Z","type":"message"}
{"nick":"sblom","message":"Bottom line is that _anyone_ can download the SDK for free.","date":"2012-12-18T23:12:58.737Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-12-18T23:13:05.958Z","type":"message"}
{"nick":"sblom","message":"Thanks for the feedback.","date":"2012-12-18T23:13:09.564Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: np","date":"2012-12-18T23:13:32.238Z","type":"message"}
{"nick":"piscisaureus_","message":"ok, the devil is going offline again","date":"2012-12-18T23:13:38.310Z","type":"message"}
{"nick":"piscisaureus_","message":"life is so complicated these days","date":"2012-12-18T23:13:45.139Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, i reclaimed ~ half of the speed mostly by removing some asserts and checks, and providing a custom \"dump\" method on IncomingMessage's","date":"2012-12-18T23:13:48.431Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, +1","date":"2012-12-18T23:13:59.609Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the other obv low-hanging fruit is addHeaderLine","date":"2012-12-18T23:14:07.231Z","type":"message"}
{"nick":"isaacs","message":"which is just obnoxious","date":"2012-12-18T23:14:11.770Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so we're now looking at \"just\" 20% reduction?","date":"2012-12-18T23:14:14.682Z","type":"message"}
{"nick":"isaacs","message":"hah, yeah","date":"2012-12-18T23:14:20.250Z","type":"message"}
{"nick":"isaacs","message":"~that","date":"2012-12-18T23:14:26.930Z","type":"message"}
{"nick":"isaacs","message":"(dump coming)","date":"2012-12-18T23:14:41.540Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: to be honest, I looked into it for half an hour this afternoon","date":"2012-12-18T23:14:42.219Z","type":"message"}
{"nick":"isaacs","message":"current master:","date":"2012-12-18T23:14:46.300Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    5953.56 [#/sec] (mean)","date":"2012-12-18T23:14:48.490Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6320.81 [#/sec] (mean)","date":"2012-12-18T23:14:48.622Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    5669.92 [#/sec] (mean)","date":"2012-12-18T23:14:48.622Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6275.58 [#/sec] (mean)","date":"2012-12-18T23:14:48.622Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6464.92 [#/sec] (mean)","date":"2012-12-18T23:14:50.860Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6644.70 [#/sec] (mean)","date":"2012-12-18T23:14:53.370Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6349.81 [#/sec] (mean)","date":"2012-12-18T23:14:55.900Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6656.15 [#/sec] (mean)","date":"2012-12-18T23:14:58.420Z","type":"message"}
{"nick":"isaacs","message":"streams2-http-speed:","date":"2012-12-18T23:15:00.950Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7845.10 [#/sec] (mean)","date":"2012-12-18T23:15:05.990Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7988.91 [#/sec] (mean)","date":"2012-12-18T23:15:06.130Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7854.21 [#/sec] (mean)","date":"2012-12-18T23:15:06.262Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7757.30 [#/sec] (mean)","date":"2012-12-18T23:15:06.262Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7996.33 [#/sec] (mean)","date":"2012-12-18T23:15:08.641Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    8030.32 [#/sec] (mean)","date":"2012-12-18T23:15:11.060Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7649.25 [#/sec] (mean)","date":"2012-12-18T23:15:13.579Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7280.38 [#/sec] (mean)","date":"2012-12-18T23:15:16.109Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    6639.70 [#/sec] (mean)","date":"2012-12-18T23:15:18.630Z","type":"message"}
{"nick":"isaacs","message":"Requests per second:    7696.23 [#/sec] (mean)","date":"2012-12-18T23:15:21.149Z","type":"message"}
{"nick":"isaacs","message":"and ./node-77ed12f is 9500 +-500","date":"2012-12-18T23:15:38.210Z","type":"message"}
{"nick":"isaacs","message":"(dump completed)","date":"2012-12-18T23:16:21.129Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you looked into what, exactly?","date":"2012-12-18T23:16:33.219Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think that there is a lot of room for improvement in the http area. V8 seems very busy with optimizing the same closure over and over again, it may be beneficial to use prototype methods","date":"2012-12-18T23:16:35.626Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this is not specific to master or streams2, the same happens with 0.8","date":"2012-12-18T23:17:01.427Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, i'm manually binding the readableState.onread() and readableState.onwrite()","date":"2012-12-18T23:17:10.868Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: also, we have a shit ton of closures on the parser object methods","date":"2012-12-18T23:17:23.550Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-12-18T23:17:27.776Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i really am trying hard to avoid a full on http.js rewrite here.","date":"2012-12-18T23:17:38.388Z","type":"message"}
{"nick":"isaacs","message":"it needs it bad.","date":"2012-12-18T23:17:40.498Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the good news is that probably we can make up for the speed loss","date":"2012-12-18T23:17:42.565Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: by fixing unrelated stuff ...","date":"2012-12-18T23:17:52.161Z","type":"message"}
{"nick":"isaacs","message":"ah","date":"2012-12-18T23:17:55.448Z","type":"message"}
{"nick":"isaacs","message":"haha","date":"2012-12-18T23:17:57.058Z","type":"message"}
{"nick":"isaacs","message":"also, we'll be updating v8 soon.","date":"2012-12-18T23:18:03.878Z","type":"message"}
{"nick":"isaacs","message":"so thatmight make things faster.","date":"2012-12-18T23:18:06.808Z","type":"message"}
{"nick":"isaacs","message":"and then we can take credit for it.","date":"2012-12-18T23:18:09.878Z","type":"message"}
{"nick":"piscisaureus_","message":"ghe haha","date":"2012-12-18T23:18:14.474Z","type":"message"}
{"nick":"piscisaureus_","message":"well don't get your hopes up","date":"2012-12-18T23:18:18.988Z","type":"message"}
{"nick":"isaacs","message":"\"Streams2: Does more work, at twice the speed!\"","date":"2012-12-18T23:18:20.398Z","type":"message"}
{"nick":"isaacs","message":"\"Node overclocks your processors for webscale asynchrony!\"","date":"2012-12-18T23:18:40.387Z","type":"message"}
{"nick":"isaacs","message":"but yeah, we need to keep our side of the house cleaner.","date":"2012-12-18T23:19:07.587Z","type":"message"}
{"nick":"isaacs","message":"for sure","date":"2012-12-18T23:19:11.207Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: historical data shows that v8 upgrades can go both ways","date":"2012-12-18T23:19:13.526Z","type":"message"}
{"nick":"isaacs","message":"true that","date":"2012-12-18T23:19:17.027Z","type":"message"}
{"nick":"CoverSlide","message":"are the buffer sizes equal? that might skew performance","date":"2012-12-18T23:19:17.794Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: it's apples to apples, yes.","date":"2012-12-18T23:19:35.357Z","type":"message"}
{"nick":"CoverSlide","message":"ok","date":"2012-12-18T23:19:39.792Z","type":"message"}
{"nick":"isaacs","message":"CoverSlide: streams2 just does more stuff, is all.","date":"2012-12-18T23:19:45.867Z","type":"message"}
{"nick":"isaacs","message":"and the code is written to be sensible, not optimized.","date":"2012-12-18T23:19:52.837Z","type":"message"}
{"nick":"isaacs","message":"so now i'm making it non-sensible so that it goes fast.","date":"2012-12-18T23:19:58.876Z","type":"message"}
{"nick":"isaacs","message":"it's sad, but it's life.","date":"2012-12-18T23:20:03.847Z","type":"message"}
{"nick":"CoverSlide","message":"aight","date":"2012-12-18T23:20:05.845Z","type":"message"}
{"nick":"piscisaureus_","message":"but as I said","date":"2012-12-18T23:20:18.205Z","type":"message"}
{"nick":"piscisaureus_","message":"sorry for being so node-lazy lately. Have to go","date":"2012-12-18T23:20:28.533Z","type":"message"}
{"nick":"isaacs","message":"no problem.","date":"2012-12-18T23:20:33.366Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: thanks for your help, have a good night","date":"2012-12-18T23:20:37.906Z","type":"message"}
{"nick":"piscisaureus_","message":"well it is :-)","date":"2012-12-18T23:20:39.346Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-18T23:20:54.895Z","type":"quit"}
{"nick":"piscisaureus_","message":"but reality is sometimes more complicated","date":"2012-12-18T23:21:12.992Z","type":"message"}
{"nick":"piscisaureus_","message":"tty soon","date":"2012-12-18T23:21:15.999Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-12-18T23:21:19.335Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-12-18T23:42:34.698Z","type":"quit"}

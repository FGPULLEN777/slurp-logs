{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-02-13T00:00:01.380Z","type":"quit"}
{"nick":"ircretary","date":"2013-02-13T00:00:08.719Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-13T00:04:29.886Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: pingidy. serious implementation question.","date":"2013-02-13T00:05:39.618Z","type":"message"}
{"nick":"isaacs","message":"pongidy","date":"2013-02-13T00:05:54.756Z","type":"message"}
{"nick":"isaacs","message":"whassup?","date":"2013-02-13T00:05:59.101Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so... i was thinking, would it be crazy to create domain specific nextTick and callback functions, then override the normal ones when require('domain') is loaded?","date":"2013-02-13T00:06:10.843Z","type":"message"}
{"nick":"isaacs","message":"hrm,/.","date":"2013-02-13T00:06:21.971Z","type":"message"}
{"nick":"isaacs","message":"it's only a little crazy","date":"2013-02-13T00:06:32.231Z","type":"message"}
{"nick":"trevnorris","message":"ok, i can handle a little crazy.","date":"2013-02-13T00:06:43.852Z","type":"message"}
{"nick":"isaacs","message":"but... i don't want to get a benchmark improvement just if you never load domains.","date":"2013-02-13T00:06:45.761Z","type":"message"}
{"nick":"isaacs","message":"that's kinda crap.","date":"2013-02-13T00:06:54.470Z","type":"message"}
{"nick":"isaacs","message":"i mean, node should be fast if you're using domains.","date":"2013-02-13T00:07:05.183Z","type":"message"}
{"nick":"isaacs","message":"that sorta feels like premature optimization.","date":"2013-02-13T00:07:19.461Z","type":"message"}
{"nick":"isaacs","action":"searching his gut...","date":"2013-02-13T00:07:32.470Z","type":"action"}
{"nick":"isaacs","message":"my gut says that's a scary road to go down.","date":"2013-02-13T00:07:41.528Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: actually it would be faster for both. since we we don't need to check either way.","date":"2013-02-13T00:07:46.118Z","type":"message"}
{"nick":"isaacs","message":"having two tickCallbacks and nextTicks and MakeCallbacks to manage...","date":"2013-02-13T00:07:52.971Z","type":"message"}
{"nick":"isaacs","message":"ugh","date":"2013-02-13T00:07:53.511Z","type":"message"}
{"nick":"trevnorris","message":"yeah. that part is a pain.","date":"2013-02-13T00:08:01.028Z","type":"message"}
{"nick":"trevnorris","message":"ok, i'll leave that one out. just a \"little\" crazy thought. ;-)","date":"2013-02-13T00:08:19.025Z","type":"message"}
{"nick":"isaacs","message":"you'll always have a mix of domain'ed and non-domain'ed callback objects.","date":"2013-02-13T00:08:21.650Z","type":"message"}
{"nick":"isaacs","message":"so you still have to check, right?","date":"2013-02-13T00:08:46.750Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: the problem is we'd need to check every callback for domain before it runs. that's the hit i've been trying to avoid most of all.","date":"2013-02-13T00:09:36.263Z","type":"message"}
{"nick":"trevnorris","message":"so we can optimize the old domain callback, which will still run faster than it did","date":"2013-02-13T00:10:10.573Z","type":"message"}
{"nick":"trevnorris","message":"but if you never use a domain, then it'll be like supa fast.","date":"2013-02-13T00:10:22.078Z","type":"message"}
{"nick":"isaacs","message":"right..","date":"2013-02-13T00:10:43.176Z","type":"message"}
{"nick":"isaacs","message":"but it'll only be supafast until you do require('domain')","date":"2013-02-13T00:10:53.849Z","type":"message"}
{"nick":"isaacs","message":"and then we have to check every callback","date":"2013-02-13T00:11:01.199Z","type":"message"}
{"nick":"trevnorris","message":"we had to do that anyways.","date":"2013-02-13T00:11:08.151Z","type":"message"}
{"nick":"trevnorris","message":"and will always have to.","date":"2013-02-13T00:11:14.547Z","type":"message"}
{"nick":"isaacs","message":"so.. i don't get the benefit","date":"2013-02-13T00:11:30.078Z","type":"message"}
{"nick":"trevnorris","message":"if you don't use domains it will be a lot faster. if you do use domains then it will be a little faster than it was.","date":"2013-02-13T00:11:48.405Z","type":"message"}
{"nick":"trevnorris","message":"for example, nextTick won't have to check for a domain every time.","date":"2013-02-13T00:12:09.208Z","type":"message"}
{"nick":"trevnorris","message":"it just is like. push that callback on, and forget the stinkin domain.","date":"2013-02-13T00:12:20.870Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-02-13T00:12:48.387Z","type":"message"}
{"nick":"isaacs","message":"so then you do require('domain')","date":"2013-02-13T00:12:52.208Z","type":"message"}
{"nick":"isaacs","message":"and now you have a mix","date":"2013-02-13T00:12:55.267Z","type":"message"}
{"nick":"isaacs","message":"now you have to check all the time.","date":"2013-02-13T00:13:03.737Z","type":"message"}
{"nick":"isaacs","message":"so it's only faster if you're not using domains *at all*","date":"2013-02-13T00:13:09.257Z","type":"message"}
{"nick":"isaacs","message":"but even once you *might* be using domains, it goes right back where we are now.","date":"2013-02-13T00:13:18.078Z","type":"message"}
{"nick":"isaacs","message":"right?","date":"2013-02-13T00:13:19.334Z","type":"message"}
{"nick":"trevnorris","message":"well. i've made enough improvements that it'll still be a little faster using domains. just not as much as if you don't.","date":"2013-02-13T00:13:41.973Z","type":"message"}
{"nick":"trevnorris","message":"(e.g. setting process.domain = null by default helps a lot with type conversion checks)","date":"2013-02-13T00:14:09.020Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-02-13T00:14:29.754Z","type":"message"}
{"nick":"isaacs","message":"we can get rid of the whole \"usingDomains\" bs in EventEmitter() as well","date":"2013-02-13T00:14:38.817Z","type":"message"}
{"nick":"trevnorris","message":"yeah, exactly.","date":"2013-02-13T00:14:44.856Z","type":"message"}
{"nick":"isaacs","message":"just set it to null at the outset, and always do this.domain = process.domain;","date":"2013-02-13T00:14:50.360Z","type":"message"}
{"nick":"trevnorris","message":"yeah.","date":"2013-02-13T00:14:57.195Z","type":"message"}
{"nick":"isaacs","message":"that's orthogonal to the makeCallback/nextTick improvements, though","date":"2013-02-13T00:15:06.783Z","type":"message"}
{"nick":"isaacs","message":"let's put it off for now","date":"2013-02-13T00:15:10.286Z","type":"message"}
{"nick":"trevnorris","message":"will do.","date":"2013-02-13T00:15:13.652Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: +1 on naming wiht - instead of _","date":"2013-02-13T00:15:44.503Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-02-13T00:15:53.384Z","type":"message"}
{"nick":"trevnorris","message":"but just so we understand, the first time you load a domain, all callbacks must be run with a domain check until the queue (tick?) empties.","date":"2013-02-13T00:17:57.499Z","type":"message"}
{"nick":"isaacs","message":"no","date":"2013-02-13T00:19:02.885Z","type":"message"}
{"nick":"isaacs","message":"the domain is attached to the object passed to MakeCallback","date":"2013-02-13T00:19:20.054Z","type":"message"}
{"nick":"isaacs","message":"or to the tock object, timer, or EventEmitter","date":"2013-02-13T00:19:28.908Z","type":"message"}
{"nick":"isaacs","message":"at creation time, they get attached to process.domain (the active domain)","date":"2013-02-13T00:19:45.944Z","type":"message"}
{"nick":"isaacs","message":"then that domain exits, etc.  eons pass.","date":"2013-02-13T00:19:53.263Z","type":"message"}
{"nick":"isaacs","message":"then their thing triggers.  *their* domain becomes active (ie, calls .enter() on it), the function runs, and then it exits.","date":"2013-02-13T00:20:17.146Z","type":"message"}
{"nick":"isaacs","message":"but, even in that tick, there may be some mix of domains.  and well AFTER that tick ends, anything *scheduled* in that tick needs to have a domain check.","date":"2013-02-13T00:20:57.133Z","type":"message"}
{"nick":"trevnorris","message":"and each callback can load/unload it's own domain. so each callback object must be checked, right?","date":"2013-02-13T00:21:08.825Z","type":"message"}
{"nick":"isaacs","message":"so, once you have touched domains, you have to check for domains, literally forever.","date":"2013-02-13T00:21:10.325Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2013-02-13T00:21:16.769Z","type":"message"}
{"nick":"trevnorris","message":"ok, yeah.","date":"2013-02-13T00:21:20.175Z","type":"message"}
{"nick":"isaacs","message":"require('domain').create().on('error', console.log).run(function(){setTimeout(funciton() {throw 'foo'},100000)})","date":"2013-02-13T00:21:58.139Z","type":"message"}
{"nick":"isaacs","message":"once that line runs, any future callback could be the one with the domain","date":"2013-02-13T00:22:13.034Z","type":"message"}
{"nick":"isaacs","message":"so.. we may as well just make the \"maybe domains\" world faster.","date":"2013-02-13T00:23:59.651Z","type":"message"}
{"nick":"isaacs","message":"rather than optimize for never using domains","date":"2013-02-13T00:24:09.229Z","type":"message"}
{"nick":"trevnorris","message":"both have had the living shiz optimized out of them.","date":"2013-02-13T00:24:23.886Z","type":"message"}
{"nick":"isaacs","message":"well... that's good.  you dont' want any living shiz inside of your code.","date":"2013-02-13T00:24:37.449Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2013-02-13T00:24:38.780Z","type":"message"}
{"nick":"trevnorris","message":"lol, yeah.","date":"2013-02-13T00:24:42.188Z","type":"message"}
{"nick":"trevnorris","message":"the entire logic path has been optimized so once a domain is/isn't detected it knows exactly what to do w/o any more checks.","date":"2013-02-13T00:25:01.544Z","type":"message"}
{"nick":"trevnorris","message":"(or at least w/ few as possible)","date":"2013-02-13T00:25:24.229Z","type":"message"}
{"nick":"trevnorris","message":"ok. going to post this soon. then going to try the external data array trick real quick to see if it does anything.","date":"2013-02-13T00:27:42.539Z","type":"message"}
{"nick":"isaacs","message":"awesome","date":"2013-02-13T00:28:45.311Z","type":"message"}
{"nick":"isaacs","message":"don't get too much stuff in a single pull req.","date":"2013-02-13T00:28:54.527Z","type":"message"}
{"nick":"isaacs","message":"it's a lot easier to pull if it's smaller :)","date":"2013-02-13T00:28:59.676Z","type":"message"}
{"nick":"isaacs","message":"and also manage, review, etc.","date":"2013-02-13T00:29:04.667Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i know i kinda got you to sneak a few bugfixes and stuff into it, so i'm partly to blame there :)","date":"2013-02-13T00:29:30.657Z","type":"message"}
{"nick":"isaacs","message":"but the most important thing is just getting it working.  especially with performance improvements, you can definitely sit there slicing away at it forever.","date":"2013-02-13T00:30:07.750Z","type":"message"}
{"nick":"isaacs","action":"guilty of doing this many times.","date":"2013-02-13T00:30:12.657Z","type":"action"}
{"nick":"trevnorris","message":"lol, yeah. really easy to do.","date":"2013-02-13T00:30:27.251Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.8\u000f * \u000282ad5fb\u0002 : blog: Forgot slug on peer-dependencies article - http://git.io/tyc1Cg","date":"2013-02-13T00:30:38.029Z","type":"message"}
{"nick":"karupanerura","reason":"Excess Flood","date":"2013-02-13T00:30:43.691Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: i think a good rule of thumb is a net improvemnet on relevant benchmarks of at least 2% for high-level stuff (http, net, tls) and 10% on \"targeted\" stuff (basically, everything I'm putting in benchmark/misc/)","date":"2013-02-13T00:31:45.163Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2013-02-13T00:32:04.267Z","type":"message"}
{"nick":"isaacs","message":"if you can get more, sure, of course that's better, but that's the time to start cleaning it up and shipping it","date":"2013-02-13T00:32:13.568Z","type":"message"}
{"nick":"trevnorris","message":"guess since i'm not a maintainer feel more freedom to have fun w/ the small stuff. ;-)","date":"2013-02-13T00:33:10.158Z","type":"message"}
{"nick":"trevnorris","message":"but after this pr i'm going to kick the shiz outta those streams.","date":"2013-02-13T00:33:21.711Z","type":"message"}
{"nick":"karupanerura","date":"2013-02-13T00:33:48.974Z","type":"join"}
{"nick":"isaacs","message":"nice :)","date":"2013-02-13T00:37:22.862Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: you have any idea why the net-raw tests are slower than v0.8? very little lives in js land there.","date":"2013-02-13T00:41:03.664Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T00:42:18.653Z","type":"quit"}
{"nick":"isaacs","message":"probably this makecallback nexttick stuff","date":"2013-02-13T00:44:02.668Z","type":"message"}
{"nick":"isaacs","message":"src/node.js changed quite a lot","date":"2013-02-13T00:44:11.317Z","type":"message"}
{"nick":"isaacs","message":"and not all for the better","date":"2013-02-13T00:44:17.697Z","type":"message"}
{"nick":"isaacs","message":"(as oyu know)","date":"2013-02-13T00:44:21.337Z","type":"message"}
{"nick":"trevnorris","message":"yeah. so far i'm getting 10% more than w/ just your revert.","date":"2013-02-13T00:44:31.971Z","type":"message"}
{"nick":"trevnorris","message":"so getting closer, but not quite.","date":"2013-02-13T00:44:42.839Z","type":"message"}
{"nick":"isaacs","message":"that's fantastic","date":"2013-02-13T00:44:59.677Z","type":"message"}
{"nick":"isaacs","message":"ship it!","date":"2013-02-13T00:45:04.398Z","type":"message"}
{"nick":"isaacs","message":"polish up the commits, send a pull req :)","date":"2013-02-13T00:45:19.267Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-02-13T00:45:23.216Z","type":"quit"}
{"nick":"isaacs","action":"off to clean up benchmark2","date":"2013-02-13T00:45:24.301Z","type":"action"}
{"nick":"isaacs","message":"thanks for the reviews","date":"2013-02-13T00:45:29.246Z","type":"message"}
{"nick":"trevnorris","message":"heh, now that's just for raw. streams are messing with the other net benchmarks.","date":"2013-02-13T00:45:39.557Z","type":"message"}
{"nick":"trevnorris","message":"np","date":"2013-02-13T00:45:40.317Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-13T00:45:51.520Z","type":"nick"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T00:49:15.224Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00022789323\u0002 : net: Respect the 'readable' flag on sockets  Previously, we were only des - http://git.io/bI2dKA","date":"2013-02-13T00:49:40.254Z","type":"message"}
{"nick":"jmar777","date":"2013-02-13T00:54:29.235Z","type":"join"}
{"nick":"abraxas","date":"2013-02-13T00:54:35.465Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-13T00:58:21.948Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T00:58:58.233Z","type":"join"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2013-02-13T00:59:33.416Z","type":"quit"}
{"nick":"indexzero","date":"2013-02-13T01:00:12.272Z","type":"join"}
{"nick":"abraxas","date":"2013-02-13T01:01:57.353Z","type":"join"}
{"nick":"c4milo","date":"2013-02-13T01:05:37.930Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00023f7e88a\u0002 : buffer: accept negative indices in Buffer#slice()  A negative start or en - http://git.io/nIqyKg","date":"2013-02-13T01:18:12.942Z","type":"message"}
{"nick":"trevnorris","message":"ah, come on. just rebased...","date":"2013-02-13T01:18:27.644Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-13T01:21:19.389Z","type":"nick"}
{"nick":"trevnorris","message":"isaacs: done and up. have fun!","date":"2013-02-13T01:22:58.645Z","type":"message"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-13T01:23:00.923Z","type":"quit"}
{"nick":"isaacs","message":"nice :)","date":"2013-02-13T01:23:17.035Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-13T02:01:48.518Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-02-13T02:06:26.067Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-02-13T02:41:42.993Z","type":"join"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2013-02-13T02:49:12.018Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T02:49:45.329Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-13T02:55:09.397Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T02:55:46.366Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 248 seconds","date":"2013-02-13T03:00:17.128Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T03:03:22.613Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-13T03:12:57.938Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-13T03:13:59.645Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-13T03:23:48.611Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 276 seconds","date":"2013-02-13T03:29:45.825Z","type":"quit"}
{"nick":"trevnorris","date":"2013-02-13T03:45:05.967Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2013-02-13T03:59:46.111Z","type":"nick"}
{"nick":"mikeal","date":"2013-02-13T03:59:58.660Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T04:02:41.227Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-13T04:17:43.190Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T04:18:16.672Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 255 seconds","date":"2013-02-13T04:22:41.420Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-13T04:24:07.815Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-13T04:26:26.648Z","type":"join"}
{"nick":"TooTallNate","date":"2013-02-13T04:34:51.375Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-13T04:44:07.392Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-13T04:59:35.672Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T05:11:16.329Z","type":"join"}
{"nick":"indexzero","date":"2013-02-13T05:14:30.648Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-02-13T05:23:05.540Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-13T05:35:48.820Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-13T05:42:34.907Z","type":"join"}
{"nick":"mikeal","date":"2013-02-13T06:06:06.917Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-13T06:07:27.232Z","type":"quit"}
{"nick":"trevnorris","date":"2013-02-13T06:09:49.026Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-13T06:24:56.171Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-13T06:50:18.483Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-13T07:06:05.182Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-13T07:18:32.962Z","type":"quit"}
{"nick":"rendar","date":"2013-02-13T07:31:57.006Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-13T07:34:20.893Z","type":"quit"}
{"nick":"indutny","message":"hoya","date":"2013-02-13T07:43:25.251Z","type":"message"}
{"nick":"indutny","message":"good morning","date":"2013-02-13T07:43:26.887Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T07:43:34.097Z","type":"quit"}
{"nick":"Ralt","date":"2013-02-13T08:12:27.669Z","type":"join"}
{"nick":"`3rdEden","date":"2013-02-13T08:24:35.934Z","type":"join"}
{"nick":"abraxas","date":"2013-02-13T09:09:29.282Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-13T09:18:58.053Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-13T09:57:22.978Z","type":"join"}
{"nick":"indutny","reason":"Quit: IRCRelay - http://ircrelay.com","date":"2013-02-13T10:09:29.145Z","type":"quit"}
{"nick":"indutny","date":"2013-02-13T10:11:42.952Z","type":"join"}
{"nick":"trevnorris","reason":"Ping timeout: 276 seconds","date":"2013-02-13T10:30:57.813Z","type":"quit"}
{"nick":"indutny","message":"ircretary: tell bnoordhuis to take a look at https://blogs.oracle.com/pgdh/entry/how_not_to_load_balance1","date":"2013-02-13T10:37:17.666Z","type":"message"}
{"nick":"ircretary","message":"indutny: I'll be sure to tell bnoordhuis","date":"2013-02-13T10:37:17.799Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-13T11:01:29.633Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-13T11:02:02.478Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2013-02-13T11:06:15.137Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-02-13T11:19:50.060Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: where art thou?","date":"2013-02-13T11:28:18.060Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-13T11:55:43.228Z","type":"quit"}
{"nick":"c4milo","date":"2013-02-13T12:07:37.020Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-13T12:16:51.680Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: morning","date":"2013-02-13T12:18:17.191Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sup fedor?","date":"2013-02-13T12:24:28.604Z","type":"message"}
{"nick":"indutny","message":"wanna discuss load-balancing a little bit?","date":"2013-02-13T12:24:40.064Z","type":"message"}
{"nick":"indutny","message":"bt","date":"2013-02-13T12:24:41.355Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2013-02-13T12:24:42.979Z","type":"message"}
{"nick":"indutny","message":"have you seen the link I've sent you 2 hours ago?","date":"2013-02-13T12:24:52.208Z","type":"message"}
{"nick":"indutny","message":"https://blogs.oracle.com/pgdh/entry/how_not_to_load_balance1","date":"2013-02-13T12:24:56.265Z","type":"message"}
{"nick":"bnoordhuis","message":"oh hah","date":"2013-02-13T12:25:08.197Z","type":"message"}
{"nick":"bnoordhuis","message":"i miss privmsgs all the time because i've no notifications set up here","date":"2013-02-13T12:25:20.011Z","type":"message"}
{"nick":"bnoordhuis","message":"so what do you want to talk about?","date":"2013-02-13T12:26:31.704Z","type":"message"}
{"nick":"indutny","message":"about our problem with load balancing","date":"2013-02-13T12:27:15.029Z","type":"message"}
{"nick":"indutny","message":"I don't think that usleep(1) is really solving it","date":"2013-02-13T12:27:23.007Z","type":"message"}
{"nick":"indutny","message":"also","date":"2013-02-13T12:27:34.020Z","type":"message"}
{"nick":"bnoordhuis","message":"i disabled that already","date":"2013-02-13T12:27:47.957Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-02-13T12:27:50.410Z","type":"message"}
{"nick":"indutny","message":"I know","date":"2013-02-13T12:27:51.211Z","type":"message"}
{"nick":"indutny","message":"I wanted to ask you if calling accept() in a loop is worth it","date":"2013-02-13T12:28:02.771Z","type":"message"}
{"nick":"indutny","message":"probably its not that bad to do it just once per epoll_wait()/kevent() return","date":"2013-02-13T12:28:18.003Z","type":"message"}
{"nick":"indutny","message":"to verify my assumption","date":"2013-02-13T12:28:32.361Z","type":"message"}
{"nick":"indutny","message":"can I ask you to build https://github.com/indutny/fork-accept","date":"2013-02-13T12:28:36.564Z","type":"message"}
{"nick":"indutny","message":"and run ./fork-accept 24","date":"2013-02-13T12:28:42.643Z","type":"message"}
{"nick":"indutny","message":"and then benchmark it","date":"2013-02-13T12:28:44.903Z","type":"message"}
{"nick":"indutny","message":"and then move initialization code inside the loop: https://github.com/indutny/fork-accept/blob/master/fork-accept.c#L127","date":"2013-02-13T12:29:12.154Z","type":"message"}
{"nick":"indutny","message":"and benchmark again","date":"2013-02-13T12:29:14.294Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm on the same os as you currently","date":"2013-02-13T12:31:02.355Z","type":"message"}
{"nick":"bnoordhuis","message":"so i expect we'll see the same numbers","date":"2013-02-13T12:31:16.654Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, accept()ing once per loop iteration is something i've tried in the past","date":"2013-02-13T12:31:36.938Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: and?","date":"2013-02-13T12:31:44.251Z","type":"message"}
{"nick":"bnoordhuis","message":"it didn't really help, distribution was still very uneven","date":"2013-02-13T12:31:56.269Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-02-13T12:32:03.588Z","type":"message"}
{"nick":"indutny","message":"so the problem is that epoll_wait()/kevent() is returning for all threads at once","date":"2013-02-13T12:32:15.069Z","type":"message"}
{"nick":"indutny","message":"s/threads/forks/","date":"2013-02-13T12:32:20.895Z","type":"message"}
{"nick":"indutny","message":"in the most of the cases","date":"2013-02-13T12:32:30.577Z","type":"message"}
{"nick":"indutny","message":"or","date":"2013-02-13T12:32:31.059Z","type":"message"}
{"nick":"bnoordhuis","message":"no","date":"2013-02-13T12:32:35.096Z","type":"message"}
{"nick":"indutny","message":"it returns nearly at the same time","date":"2013-02-13T12:32:41.155Z","type":"message"}
{"nick":"bnoordhuis","message":"only one thread gets the readiness event","date":"2013-02-13T12:32:42.625Z","type":"message"}
{"nick":"indutny","message":"that's impossible","date":"2013-02-13T12:32:48.326Z","type":"message"}
{"nick":"indutny","message":"kqueue/epoll is level-triggered by default","date":"2013-02-13T12:32:55.556Z","type":"message"}
{"nick":"indutny","message":"so one incoming socket should trigger all forks that were listening","date":"2013-02-13T12:33:16.384Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm pretty sure they don't","date":"2013-02-13T12:33:26.528Z","type":"message"}
{"nick":"bnoordhuis","message":"that's the thundering herd problem all over again","date":"2013-02-13T12:33:35.586Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-02-13T12:33:43.360Z","type":"message"}
{"nick":"bnoordhuis","message":"but you can verify that yourself, of course","date":"2013-02-13T12:33:44.498Z","type":"message"}
{"nick":"indutny","message":"why not?","date":"2013-02-13T12:33:48.402Z","type":"message"}
{"nick":"indutny","message":"I mean","date":"2013-02-13T12:33:49.837Z","type":"message"}
{"nick":"indutny","message":"this is logical","date":"2013-02-13T12:33:51.742Z","type":"message"}
{"nick":"indutny","message":"otherwise it doesn't work as it is documented","date":"2013-02-13T12:34:00.592Z","type":"message"}
{"nick":"bnoordhuis","message":"i might be wrong. try it and find out :)","date":"2013-02-13T12:34:07.269Z","type":"message"}
{"nick":"indutny","message":"suppose you've 32 forks that ain't calling accept() at all","date":"2013-02-13T12:34:10.253Z","type":"message"}
{"nick":"indutny","message":"my guess, is that every fork will observe that server socket has received incoming connection","date":"2013-02-13T12:34:33.180Z","type":"message"}
{"nick":"indutny","message":"(which is true only for level-triggered systems)","date":"2013-02-13T12:34:51.455Z","type":"message"}
{"nick":"indutny","message":"otherwise implementation is incorrect","date":"2013-02-13T12:35:03.349Z","type":"message"}
{"nick":"bnoordhuis","message":"well, maybe","date":"2013-02-13T12:35:35.572Z","type":"message"}
{"nick":"indutny","message":"so, this is what really causes the problem","date":"2013-02-13T12:35:44.577Z","type":"message"}
{"nick":"indutny","message":"as far as I understand it","date":"2013-02-13T12:35:48.024Z","type":"message"}
{"nick":"bnoordhuis","message":"if those 32 threads are calling accept() in blocking mode, only one is woken up though","date":"2013-02-13T12:35:51.014Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-13T12:35:55.684Z","type":"message"}
{"nick":"indutny","message":"exactly","date":"2013-02-13T12:35:57.314Z","type":"message"}
{"nick":"indutny","message":"and that way load balancing works a little bit better","date":"2013-02-13T12:36:13.302Z","type":"message"}
{"nick":"indutny","message":"right?","date":"2013-02-13T12:36:15.148Z","type":"message"}
{"nick":"indutny","message":"well, I'm pretty sure it is","date":"2013-02-13T12:36:55.817Z","type":"message"}
{"nick":"indutny","message":"what I think we could try to do is randomly (or in a round-robin way) ignoring events for server socket","date":"2013-02-13T12:37:49.055Z","type":"message"}
{"nick":"bnoordhuis","message":"err","date":"2013-02-13T12:38:01.907Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-02-13T12:38:04.994Z","type":"message"}
{"nick":"indutny","message":"I'll experiment with it more","date":"2013-02-13T12:38:14.486Z","type":"message"}
{"nick":"indutny","message":"but it seems to be the right way to solve it","date":"2013-02-13T12:38:21.770Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2013-02-13T12:38:23.549Z","type":"message"}
{"nick":"indutny","message":"do you know how nginx deals with this problem?","date":"2013-02-13T12:38:30.286Z","type":"message"}
{"nick":"indutny","message":"hint: http://wiki.nginx.org/EventsModule","date":"2013-02-13T12:39:33.025Z","type":"message"}
{"nick":"indutny","message":"accept_mutex","date":"2013-02-13T12:39:34.788Z","type":"message"}
{"nick":"bnoordhuis","message":"is that a process-shared mutex?","date":"2013-02-13T12:40:05.467Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-13T12:40:10.090Z","type":"message"}
{"nick":"indutny","message":"we can't really use it","date":"2013-02-13T12:40:18.747Z","type":"message"}
{"nick":"indutny","message":"but its pretty interesting that this hack is enabled by default","date":"2013-02-13T12:40:30.534Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-02-13T12:41:04.885Z","type":"message"}
{"nick":"indutny","message":"it seems that its just reducing contention inside kernel","date":"2013-02-13T12:41:15.879Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-13T12:42:01.227Z","type":"nick"}
{"nick":"indutny","message":"bnoordhuis: must admit usleep() solution works pretty well on ubuntu for me too","date":"2013-02-13T12:57:28.907Z","type":"message"}
{"nick":"indutny","message":"not like all processes are getting the same amount of work-load","date":"2013-02-13T12:57:47.476Z","type":"message"}
{"nick":"indutny","message":"but its pretty close","date":"2013-02-13T12:57:50.305Z","type":"message"}
{"nick":"kazupon","date":"2013-02-13T13:06:09.922Z","type":"join"}
{"nick":"indutny","message":"I'm scared","date":"2013-02-13T13:11:10.896Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 272 seconds","date":"2013-02-13T13:11:54.820Z","type":"quit"}
{"nick":"bnoordhuis","message":"hah :)","date":"2013-02-13T13:16:36.302Z","type":"message"}
{"nick":"bnoordhuis","message":"the only problem is that it kills throughput","date":"2013-02-13T13:16:51.790Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-13T13:17:43.396Z","type":"message"}
{"nick":"indutny","message":"and it does it surprisingly well","date":"2013-02-13T13:17:52.767Z","type":"message"}
{"nick":"kazupon","date":"2013-02-13T13:21:26.995Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-13T13:22:56.952Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-13T13:28:44.641Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-13T13:44:34.645Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-13T13:44:41.468Z","type":"join"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2013-02-13T14:23:45.492Z","type":"nick"}
{"nick":"bradleymeck","date":"2013-02-13T14:55:32.703Z","type":"join"}
{"nick":"loladiro","date":"2013-02-13T14:55:38.793Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00027bdd05b\u0002 : stream_wrap, udp_wrap: add read-only fd property  Expose the file descrip (+2 more commits) - http://git.io/E5tYqg","date":"2013-02-13T15:13:22.640Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis is the fd \"public\" now?","date":"2013-02-13T15:29:27.375Z","type":"message"}
{"nick":"saghul","message":"at the libuv level, that is","date":"2013-02-13T15:30:06.556Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: no. i'm the only one that's allowed to cheat","date":"2013-02-13T15:35:53.129Z","type":"message"}
{"nick":"bnoordhuis","message":"because the only code i'll be breaking if i change it is my own","date":"2013-02-13T15:36:18.922Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis haha, I see","date":"2013-02-13T15:36:29.451Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Dan Kohn\u000f \u00037v0.8\u000f * \u00022e1ebbf\u0002 : doc: add prompt to fix repl_test.js example  Running repl.start without t - http://git.io/WCT0kQ","date":"2013-02-13T15:40:49.376Z","type":"message"}
{"nick":"AvianFlu","date":"2013-02-13T15:53:23.815Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-13T15:55:05.343Z","type":"quit"}
{"nick":"hz","date":"2013-02-13T15:59:25.452Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 272 seconds","date":"2013-02-13T16:10:30.876Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|lunch","date":"2013-02-13T16:11:42.656Z","type":"nick"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-02-13T16:18:18.083Z","type":"quit"}
{"nick":"TheJH","date":"2013-02-13T16:21:58.102Z","type":"join"}
{"nick":"TheJH","reason":"Read error: Operation timed out","date":"2013-02-13T16:36:43.838Z","type":"quit"}
{"nick":"dap","date":"2013-02-13T16:40:22.029Z","type":"join"}
{"nick":"isaacs","message":"man, ab is just the worst","date":"2013-02-13T16:48:56.434Z","type":"message"}
{"nick":"indutny","message":"hahah","date":"2013-02-13T16:49:06.865Z","type":"message"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-02-13T16:49:12.673Z","type":"nick"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-13T16:59:59.434Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-13T17:00:23.229Z","type":"quit"}
{"nick":"c4milo","date":"2013-02-13T17:00:26.164Z","type":"join"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-13T17:02:22.339Z","type":"nick"}
{"nick":"isaacs","message":"it's failing for completely incomprehensible reasons.","date":"2013-02-13T17:03:02.471Z","type":"message"}
{"nick":"isaacs","message":"and it was working literally just last night","date":"2013-02-13T17:03:13.852Z","type":"message"}
{"nick":"isaacs","message":"wtf.","date":"2013-02-13T17:03:16.780Z","type":"message"}
{"nick":"isaacs","message":"is it too cold in here maybe?  too much light?  this is the most tempermental piece of garbage i've ever seen","date":"2013-02-13T17:03:39.061Z","type":"message"}
{"nick":"isaacs","message":"we should just bundle seige and use that for our benchmarks.","date":"2013-02-13T17:03:45.661Z","type":"message"}
{"nick":"isaacs","message":"(to be fair, it's really only terrible on os x, afaict.  probably apple is to blame.)","date":"2013-02-13T17:04:03.293Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2013-02-13T17:05:20.014Z","type":"quit"}
{"nick":"bradleymeck","message":"isaacs: pseudo-bsd emulation of posix is not good?","date":"2013-02-13T17:08:12.431Z","type":"message"}
{"nick":"bradleymeck","message":"lol","date":"2013-02-13T17:08:17.358Z","type":"message"}
{"nick":"indutny","message":"isaacs: do not use default ab on osx","date":"2013-02-13T17:10:01.297Z","type":"message"}
{"nick":"indutny","message":"please","date":"2013-02-13T17:10:02.295Z","type":"message"}
{"nick":"indutny","message":"isaacs: it does really odd things","date":"2013-02-13T17:10:06.358Z","type":"message"}
{"nick":"indutny","message":"like sending two requests at once","date":"2013-02-13T17:10:13.187Z","type":"message"}
{"nick":"isaacs","message":"indutny: it should send -c requests at once","date":"2013-02-13T17:11:07.627Z","type":"message"}
{"nick":"indutny","message":"nono","date":"2013-02-13T17:11:12.334Z","type":"message"}
{"nick":"indutny","message":"I mean in one connection","date":"2013-02-13T17:11:15.121Z","type":"message"}
{"nick":"isaacs","message":"oh, you mean, pipelining?","date":"2013-02-13T17:11:22.085Z","type":"message"}
{"nick":"indutny","message":"it's not really pipelining","date":"2013-02-13T17:11:28.932Z","type":"message"}
{"nick":"indutny","message":"just two requests :)","date":"2013-02-13T17:11:32.336Z","type":"message"}
{"nick":"indutny","message":"and sometimes only parts of it","date":"2013-02-13T17:11:39.962Z","type":"message"}
{"nick":"isaacs","message":"i see","date":"2013-02-13T17:11:42.535Z","type":"message"}
{"nick":"indutny","message":"its broken in all possible ways here","date":"2013-02-13T17:11:45.517Z","type":"message"}
{"nick":"AvianFlu","message":"yeah ab does weird things","date":"2013-02-13T17:11:47.154Z","type":"message"}
{"nick":"isaacs","message":"well, your server should still not break.","date":"2013-02-13T17:11:48.474Z","type":"message"}
{"nick":"indutny","message":"build one youself","date":"2013-02-13T17:11:48.765Z","type":"message"}
{"nick":"AvianFlu","message":"I've seen this repeatedly myself","date":"2013-02-13T17:11:50.584Z","type":"message"}
{"nick":"isaacs","message":"indutny: also, i don't have the default ab","date":"2013-02-13T17:11:56.658Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-02-13T17:12:00.351Z","type":"message"}
{"nick":"isaacs","message":"i installed from brew, which has fixes for a lot of things.","date":"2013-02-13T17:12:02.866Z","type":"message"}
{"nick":"isaacs","message":"basically, it builds from source","date":"2013-02-13T17:12:05.877Z","type":"message"}
{"nick":"indutny","message":"fuck brew","date":"2013-02-13T17:12:08.759Z","type":"message"}
{"nick":"indutny","message":"build it yourself","date":"2013-02-13T17:12:11.052Z","type":"message"}
{"nick":"indutny","message":"you're a man","date":"2013-02-13T17:12:13.455Z","type":"message"}
{"nick":"isaacs","message":"blah blah, it's the same thing","date":"2013-02-13T17:12:15.381Z","type":"message"}
{"nick":"isaacs","message":"brew is more up to date than i would keep ab anyway","date":"2013-02-13T17:12:25.525Z","type":"message"}
{"nick":"isaacs","message":"i don't brew stuff i actually work on or care about","date":"2013-02-13T17:12:41.205Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-02-13T17:12:41.957Z","type":"message"}
{"nick":"isaacs","message":"but ab should Just Work","date":"2013-02-13T17:12:45.586Z","type":"message"}
{"nick":"indutny","message":"lets suppose I believe you","date":"2013-02-13T17:12:46.324Z","type":"message"}
{"nick":"isaacs","message":"instead of Just Fail, in the most inconvenient places.","date":"2013-02-13T17:12:51.103Z","type":"message"}
{"nick":"isaacs","message":"anyway, i'm investigating siege.","date":"2013-02-13T17:12:57.914Z","type":"message"}
{"nick":"isaacs","message":"we should just switch to this.","date":"2013-02-13T17:13:01.554Z","type":"message"}
{"nick":"isaacs","message":"even include it with the source, and `make bench` will build it","date":"2013-02-13T17:13:11.294Z","type":"message"}
{"nick":"indutny","message":"sometimes its better","date":"2013-02-13T17:13:13.750Z","type":"message"}
{"nick":"isaacs","message":"so it's a known quantity","date":"2013-02-13T17:13:15.317Z","type":"message"}
{"nick":"indutny","message":"sometimes its not","date":"2013-02-13T17:13:15.702Z","type":"message"}
{"nick":"indutny","message":"benchmarking http servers is really complicated","date":"2013-02-13T17:13:50.191Z","type":"message"}
{"nick":"indutny","message":"but what's more complicated is benchmarking https server","date":"2013-02-13T17:13:56.257Z","type":"message"}
{"nick":"isaacs","message":"because right now, i really want to evaluate trevnorris's tickCallback changes, but i can't, because my benchmark script blows up","date":"2013-02-13T17:13:56.398Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T17:14:01.213Z","type":"message"}
{"nick":"isaacs","message":"indutny: what do you think about bundling siege?","date":"2013-02-13T17:15:09.183Z","type":"message"}
{"nick":"indutny","message":"bundling?","date":"2013-02-13T17:15:17.130Z","type":"message"}
{"nick":"indutny","message":"what about license?","date":"2013-02-13T17:15:19.512Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T17:15:19.647Z","type":"message"}
{"nick":"isaacs","message":"it's liberal","date":"2013-02-13T17:15:22.582Z","type":"message"}
{"nick":"indutny","message":"is it BSD-compatible","date":"2013-02-13T17:15:24.404Z","type":"message"}
{"nick":"isaacs","message":"and we're not distributing it anyway","date":"2013-02-13T17:15:27.127Z","type":"message"}
{"nick":"isaacs","message":"jsut the source","date":"2013-02-13T17:15:29.852Z","type":"message"}
{"nick":"indexzero","date":"2013-02-13T17:15:43.627Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-13T17:15:56.122Z","type":"join"}
{"nick":"indutny","message":"how about that","date":"2013-02-13T17:16:03.588Z","type":"message"}
{"nick":"indutny","message":"You must  obey the  GNU General Public License  in all  respects","date":"2013-02-13T17:16:04.240Z","type":"message"}
{"nick":"indutny","message":"for all of the code  used  other  than OpenSSL.  If  you  modify","date":"2013-02-13T17:16:04.720Z","type":"message"}
{"nick":"indutny","message":"file(s)  with  this exception,  you may extend this exception to","date":"2013-02-13T17:16:04.881Z","type":"message"}
{"nick":"indutny","message":"your version of the file(s), but you are not obligated to do so.","date":"2013-02-13T17:16:05.017Z","type":"message"}
{"nick":"indutny","message":"If you do  not wish  to do so,  delete this exception  statement","date":"2013-02-13T17:16:05.017Z","type":"message"}
{"nick":"isaacs","message":"oh, weird..","date":"2013-02-13T17:16:10.706Z","type":"message"}
{"nick":"indutny","message":"from your version. If you delete  this exception  statement from","date":"2013-02-13T17:16:13.954Z","type":"message"}
{"nick":"indutny","message":"all source files in the program, then also delete it here.","date":"2013-02-13T17:16:14.768Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-13T17:16:16.232Z","type":"message"}
{"nick":"indutny","message":"that's what I see in README","date":"2013-02-13T17:16:16.870Z","type":"message"}
{"nick":"isaacs","message":"the license on the website is completely different than the COPYING file in the src","date":"2013-02-13T17:16:23.417Z","type":"message"}
{"nick":"indutny","message":"exactly","date":"2013-02-13T17:16:47.044Z","type":"message"}
{"nick":"isaacs","message":"well, whatever.  we'd be distributing the source, but not the binary.","date":"2013-02-13T17:17:09.264Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-02-13T17:17:20.053Z","type":"message"}
{"nick":"indutny","message":"it should work","date":"2013-02-13T17:17:24.262Z","type":"message"}
{"nick":"indutny","message":"our software is not derived from siege","date":"2013-02-13T17:17:31.584Z","type":"message"}
{"nick":"indutny","message":"therefore we shall not obey to GPL","date":"2013-02-13T17:17:42.340Z","type":"message"}
{"nick":"indutny","message":"anyway","date":"2013-02-13T17:17:51.703Z","type":"message"}
{"nick":"indutny","message":"better ask bnoordhuis about it","date":"2013-02-13T17:17:56.636Z","type":"message"}
{"nick":"indutny","message":"he's the best no-man","date":"2013-02-13T17:18:00.476Z","type":"message"}
{"nick":"indutny","message":"here","date":"2013-02-13T17:18:16.060Z","type":"message"}
{"nick":"CoverSlide","date":"2013-02-13T17:19:22.145Z","type":"join"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T17:19:46.208Z","type":"message"}
{"nick":"isaacs","message":"i will","date":"2013-02-13T17:19:47.811Z","type":"message"}
{"nick":"isaacs","message":"i think he might be on a plane.","date":"2013-02-13T17:19:50.680Z","type":"message"}
{"nick":"isaacs","message":"i'll just do this in my branch for now.","date":"2013-02-13T17:19:55.060Z","type":"message"}
{"nick":"isaacs","message":"the alternative is that we bundle ab and build it in such a way that it works on os x","date":"2013-02-13T17:20:09.051Z","type":"message"}
{"nick":"isaacs","message":"but that might not be possible.","date":"2013-02-13T17:20:13.590Z","type":"message"}
{"nick":"isaacs","message":"i'm kind of fed up with these random black swan failures deep in the bowels of ab/osx","date":"2013-02-13T17:20:25.750Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 244 seconds","date":"2013-02-13T17:20:39.145Z","type":"quit"}
{"nick":"indutny","message":"isaacs: that's much more troublesome","date":"2013-02-13T17:20:41.592Z","type":"message"}
{"nick":"indutny","message":"apache is using their own build utils","date":"2013-02-13T17:20:47.771Z","type":"message"}
{"nick":"isaacs","message":"we can also always email Joe Dogg and see if he'll have a problem with it.","date":"2013-02-13T17:20:52.630Z","type":"message"}
{"nick":"isaacs","message":"i doubt it, since it's not like we're violating the spirit of GPL with our usage.","date":"2013-02-13T17:21:10.250Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-02-13T17:21:19.847Z","type":"message"}
{"nick":"indutny","message":"we're not really using it","date":"2013-02-13T17:21:31.282Z","type":"message"}
{"nick":"indutny","message":"we're just distributing it's source","date":"2013-02-13T17:21:36.337Z","type":"message"}
{"nick":"indutny","message":"with some scripts to build it","date":"2013-02-13T17:21:47.601Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-02-13T17:22:24.469Z","type":"message"}
{"nick":"isaacs","message":"yeah, i'll just email jeffrey and ask.","date":"2013-02-13T17:26:48.568Z","type":"message"}
{"nick":"isaacs","message":"if he's got a problem with it, then that's that.","date":"2013-02-13T17:26:56.308Z","type":"message"}
{"nick":"isaacs","message":"we can always shell out to the system siege and tell you to go get it if it's missing.","date":"2013-02-13T17:27:06.865Z","type":"message"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-02-13T17:27:12.432Z","type":"quit"}
{"nick":"TheJH","date":"2013-02-13T17:29:33.281Z","type":"join"}
{"nick":"indutny","message":"brb","date":"2013-02-13T17:33:00.550Z","type":"message"}
{"nick":"CoverSlide","reason":"Ping timeout: 260 seconds","date":"2013-02-13T17:37:25.043Z","type":"quit"}
{"nick":"isaacs","message":"hmmm... actually, it seems like this can't do the -k style of attack","date":"2013-02-13T17:47:21.243Z","type":"message"}
{"nick":"isaacs","message":"aha!  nice, just got this to happen!","date":"2013-02-13T17:52:05.924Z","type":"message"}
{"nick":"isaacs","message":"TypeError: Property 'onIncoming' of object #<HTTPParser> is not a function at HTTPParser.parserOnHeadersComplete [as onHeadersComplete] (http.js:119:23) at Socket.socket.ondata (http.js:1824:22) at TCP.onread (net.js:479:27)","date":"2013-02-13T17:52:06.461Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-13T17:58:33.547Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-13T17:59:18.146Z","type":"join"}
{"nick":"loladiro","date":"2013-02-13T18:11:39.226Z","type":"join"}
{"nick":"c4milo","date":"2013-02-13T18:18:05.847Z","type":"join"}
{"nick":"isaacs","message":"hmmm... can't seem to get it to happen again","date":"2013-02-13T18:23:58.278Z","type":"message"}
{"nick":"CoverSlide","date":"2013-02-13T18:26:50.913Z","type":"join"}
{"nick":"hz","date":"2013-02-13T18:28:42.474Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T18:30:51.807Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-02-13T18:36:20.939Z","type":"join"}
{"nick":"isaacs","message":"hm.  yeah, siege is weird..","date":"2013-02-13T18:36:38.010Z","type":"message"}
{"nick":"isaacs","message":"it seems like it's maxing out at some random spot, rather than pushing the server as fast as it can go.","date":"2013-02-13T18:38:14.603Z","type":"message"}
{"nick":"isaacs","message":"cluster and http_simple are getting the same exact q/s, which is definitely wrong","date":"2013-02-13T18:38:29.499Z","type":"message"}
{"nick":"`3rdEden","reason":"Client Quit","date":"2013-02-13T18:39:09.509Z","type":"quit"}
{"nick":"isaacs","message":"oh, not exactly the same, ig ues.","date":"2013-02-13T18:40:55.247Z","type":"message"}
{"nick":"isaacs","message":"but nowhere near what they should be.","date":"2013-02-13T18:41:03.277Z","type":"message"}
{"nick":"TooTallNate","date":"2013-02-13T18:41:20.687Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-13T18:41:53.949Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-02-13T18:41:55.105Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: the npm publish hang happened to me again https://gist.github.com/TooTallNate/60f1f7851bc48af7642c","date":"2013-02-13T18:46:06.645Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2013-02-13T18:47:56.292Z","type":"message"}
{"nick":"isaacs","message":"looks like it hung up on you 3 times","date":"2013-02-13T18:48:00.503Z","type":"message"}
{"nick":"isaacs","message":"how big is that file?","date":"2013-02-13T18:48:07.560Z","type":"message"}
{"nick":"isaacs","message":"and how's your network connection?","date":"2013-02-13T18:48:11.089Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-13T18:49:54.041Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-02-13T18:51:05.260Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: well there's a few uncompressed wav files in the dir, but they're in the .gitignore so they should be ignored","date":"2013-02-13T18:53:10.297Z","type":"message"}
{"nick":"hz","date":"2013-02-13T18:57:05.156Z","type":"quit"}
{"nick":"isaacs","message":"righ","date":"2013-02-13T18:58:09.240Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: you can check the size of the tgz explicitly in ~/.npm/blah/blah/package.tgz","date":"2013-02-13T18:58:28.125Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: whoops too late I think, i did unpublish + move those files to ~ + npm publish and it worked","date":"2013-02-13T18:59:24.659Z","type":"message"}
{"nick":"TooTallNate","message":"but i don't know if that's just because I'm at the office now or what...","date":"2013-02-13T18:59:37.176Z","type":"message"}
{"nick":"TooTallNate","message":"too many variables :\\","date":"2013-02-13T18:59:43.067Z","type":"message"}
{"nick":"trevnorris","date":"2013-02-13T19:02:11.005Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: yes, too many variables, indeed","date":"2013-02-13T19:03:10.131Z","type":"message"}
{"nick":"TooTallNate","reason":"Ping timeout: 255 seconds","date":"2013-02-13T19:04:14.377Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: so that crazy ass idea worked. just going to cleanup what bnoordhuis reviewed then start working on streams.","date":"2013-02-13T19:05:20.974Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2013-02-13T19:09:20.356Z","type":"message"}
{"nick":"TooTallNate","date":"2013-02-13T19:09:46.962Z","type":"join"}
{"nick":"jmar777","date":"2013-02-13T19:13:35.286Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-13T19:17:44.207Z","type":"quit"}
{"nick":"indexzero","date":"2013-02-13T19:18:11.029Z","type":"join"}
{"nick":"TooTallNate","date":"2013-02-13T19:18:44.188Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: so, i'm completely fed up with ab at this point.","date":"2013-02-13T19:18:50.425Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i can't even compare your nextTick stuff, because ab keeps falling over.","date":"2013-02-13T19:19:04.242Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: seriously? that sucks.","date":"2013-02-13T19:19:21.771Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so, how is it crapping out?","date":"2013-02-13T19:20:11.701Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: failing with exit code 37 or 24","date":"2013-02-13T19:20:22.705Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: googles say rebuild it, or use the -r command.  i have, and i have been, and no effect.","date":"2013-02-13T19:20:35.087Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: worked *yesterday*","date":"2013-02-13T19:20:42.392Z","type":"message"}
{"nick":"isaacs","message":"same machine.","date":"2013-02-13T19:20:45.992Z","type":"message"}
{"nick":"trevnorris","message":"wtf?","date":"2013-02-13T19:20:55.099Z","type":"message"}
{"nick":"isaacs","message":"ohhh... wait a second, i installed a OS X software update.","date":"2013-02-13T19:20:59.676Z","type":"message"}
{"nick":"isaacs","message":"that probably destroyed something.","date":"2013-02-13T19:21:03.711Z","type":"message"}
{"nick":"isaacs","message":"OH WELL THANKS APPLE I WASNT USING THAT COMPUTER FOR ANYTHING IMPORTANT","date":"2013-02-13T19:21:13.157Z","type":"message"}
{"nick":"LOUDBOT","message":"HEY AMERICA WE JUST BENT YOU OVER THE BARREL AND CORNHOLED YOU AND PICKED YOUR POCKET","date":"2013-02-13T19:21:13.522Z","type":"message"}
{"nick":"tjfontaine","message":"this is why I vote against brew/macports :P","date":"2013-02-13T19:21:17.010Z","type":"message"}
{"nick":"hz","date":"2013-02-13T19:21:31.415Z","type":"join"}
{"nick":"isaacs","message":"tjfontaine: i've built ab manually as well.  same effect","date":"2013-02-13T19:21:33.620Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-02-13T19:21:45.736Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: have you seen this: https://github.com/wg/wrk","date":"2013-02-13T19:22:03.906Z","type":"message"}
{"nick":"trevnorris","message":"it's so small it could easily be included in node, though haven't looked at the license.","date":"2013-02-13T19:22:32.154Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: apache license.  fuck yah","date":"2013-02-13T19:22:52.581Z","type":"message"}
{"nick":"trevnorris","message":"and for raw testing, kicks the crap out of ab.","date":"2013-02-13T19:23:09.115Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i've considered bundling siege, which sorta works, but siege is GPL, so...","date":"2013-02-13T19:23:10.955Z","type":"message"}
{"nick":"isaacs","message":"i mean, we wouldn't be binding to it, at all.","date":"2013-02-13T19:23:21.899Z","type":"message"}
{"nick":"isaacs","message":"just distributing source code.","date":"2013-02-13T19:23:24.918Z","type":"message"}
{"nick":"isaacs","message":"but still","date":"2013-02-13T19:23:26.878Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah.","date":"2013-02-13T19:23:30.978Z","type":"message"}
{"nick":"isaacs","message":"people are suspicious and superstitious about GPL","date":"2013-02-13T19:23:43.663Z","type":"message"}
{"nick":"isaacs","action":"is suspicious and superstitious about GPL","date":"2013-02-13T19:23:47.807Z","type":"action"}
{"nick":"trevnorris","message":"lol","date":"2013-02-13T19:23:48.335Z","type":"message"}
{"nick":"isaacs","message":"OSS for lyfe","date":"2013-02-13T19:24:02.079Z","type":"message"}
{"nick":"trevnorris","message":"well, you like simplicity and few options. wrk is just that.","date":"2013-02-13T19:24:03.269Z","type":"message"}
{"nick":"isaacs","message":"yes, i do like those things.","date":"2013-02-13T19:24:15.513Z","type":"message"}
{"nick":"trevnorris","message":"just 3, threads, connections and requests.","date":"2013-02-13T19:24:16.125Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2013-02-13T19:24:22.954Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: does keepalive?","date":"2013-02-13T19:24:27.533Z","type":"message"}
{"nick":"brson","date":"2013-02-13T19:24:32.052Z","type":"join"}
{"nick":"trevnorris","message":"no idea. i'll take a look.","date":"2013-02-13T19:25:02.139Z","type":"message"}
{"nick":"bradleymeck","date":"2013-02-13T19:26:33.674Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: it sorta seems like -c will use that many connections.","date":"2013-02-13T19:27:11.660Z","type":"message"}
{"nick":"isaacs","message":"but i'm not sure if it'll re-use them for multiple requests.","date":"2013-02-13T19:27:18.200Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: has this in source \"http_should_keep_alive(parser)\"","date":"2013-02-13T19:27:26.067Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T19:27:37.212Z","type":"message"}
{"nick":"trevnorris","message":"so i assume it can. just need to figure out how.","date":"2013-02-13T19:27:38.389Z","type":"message"}
{"nick":"isaacs","message":"omg","date":"2013-02-13T19:28:13.655Z","type":"message"}
{"nick":"isaacs","message":"`make` just creates a single binary","date":"2013-02-13T19:28:18.445Z","type":"message"}
{"nick":"isaacs","action":"<3 <3 <3 <3","date":"2013-02-13T19:28:22.217Z","type":"action"}
{"nick":"isaacs","message":"trevnorris: i think this is it.","date":"2013-02-13T19:30:06.964Z","type":"message"}
{"nick":"isaacs","message":"this is the one :)","date":"2013-02-13T19:30:08.784Z","type":"message"}
{"nick":"isaacs","message":"we found it :)","date":"2013-02-13T19:30:10.890Z","type":"message"}
{"nick":"trevnorris","message":"coolio.","date":"2013-02-13T19:30:34.597Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ah... duh. it just checks for \"connection: keep-alive\". sure you already realized that, but thought it would be a flag or something.","date":"2013-02-13T19:31:30.368Z","type":"message"}
{"nick":"isaacs","message":"with ab you have to set -k","date":"2013-02-13T19:31:46.411Z","type":"message"}
{"nick":"trevnorris","message":"ah, that's why I thought it needed one. damn you ab!","date":"2013-02-13T19:31:59.323Z","type":"message"}
{"nick":"isaacs","message":"and apparently siege just doesn't use it?  or it does, but it's... weird?","date":"2013-02-13T19:31:59.843Z","type":"message"}
{"nick":"isaacs","message":"i dont' know","date":"2013-02-13T19:32:01.034Z","type":"message"}
{"nick":"isaacs","message":"i can't figure it out","date":"2013-02-13T19:32:02.766Z","type":"message"}
{"nick":"isaacs","message":"the siege numbers don't seem high enough.  they look like ab without -k","date":"2013-02-13T19:32:18.794Z","type":"message"}
{"nick":"trevnorris","message":"i'll be surprised if wrk doesn't add ~30% more hits than ab. it's freakin crazy.","date":"2013-02-13T19:32:59.197Z","type":"message"}
{"nick":"isaacs","message":"well, that's always nice :)","date":"2013-02-13T19:35:12.591Z","type":"message"}
{"nick":"isaacs","message":"looks about the same to me, though","date":"2013-02-13T19:35:18.931Z","type":"message"}
{"nick":"trevnorris","message":"well, at least it runs. ;-)","date":"2013-02-13T19:37:00.114Z","type":"message"}
{"nick":"isaacs","message":"yeah, runing at all is a huge must-have","date":"2013-02-13T19:42:26.788Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, now that i can actually test it...","date":"2013-02-13T19:44:46.425Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: oh, wait, nvm, i was testing MakeCallback in c++, but not your nextTick stuff","date":"2013-02-13T19:45:04.465Z","type":"message"}
{"nick":"isaacs","message":"but it doesn't look like this is unequivocally faster.","date":"2013-02-13T19:45:36.392Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it seems like it's faster for some cases, but actually a bit slower in others.","date":"2013-02-13T19:45:47.155Z","type":"message"}
{"nick":"isaacs","message":"so that's kinda odd.","date":"2013-02-13T19:45:51.024Z","type":"message"}
{"nick":"isaacs","message":"(just speaking about http benchmarks here)","date":"2013-02-13T19:45:58.158Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: does that include the third commit?","date":"2013-02-13T19:46:04.473Z","type":"message"}
{"nick":"isaacs","message":"ummm... i don't think so","date":"2013-02-13T19:46:13.921Z","type":"message"}
{"nick":"isaacs","message":"you landed that today?","date":"2013-02-13T19:46:18.117Z","type":"message"}
{"nick":"trevnorris","message":"yeah... sort of. was up w/ sick kid until 6:30 this morning, so pushed it sometime last night.","date":"2013-02-13T19:46:40.699Z","type":"message"}
{"nick":"isaacs","message":"indutny: you around?  can you weigh in on benchmark-refactor-2 and/or shipping wrk with node to avoid 'ab' troubles?","date":"2013-02-13T19:47:02.214Z","type":"message"}
{"nick":"isaacs","message":"indutny: i'd like someone to take a look at the bench stuff who hasnt' been stewing in it for weeks (thus me and trevnorris are not qualified)","date":"2013-02-13T19:47:26.869Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: fyi test-tls-sni-server-client.js is currently failing. no idea why, but i'm getting that fixed now.","date":"2013-02-13T19:48:38.483Z","type":"message"}
{"nick":"trevnorris","message":"(on my branch, not on master)","date":"2013-02-13T19:48:46.834Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-02-13T19:59:46.460Z","type":"quit"}
{"nick":"avalanche123","date":"2013-02-13T20:00:37.670Z","type":"join"}
{"nick":"avalanche123","reason":"Client Quit","date":"2013-02-13T20:00:48.024Z","type":"quit"}
{"nick":"stagas","date":"2013-02-13T20:02:28.469Z","type":"join"}
{"nick":"sblom","date":"2013-02-13T20:04:53.434Z","type":"join"}
{"nick":"isaacs","message":"ah","date":"2013-02-13T20:05:52.388Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: sup?","date":"2013-02-13T20:08:50.363Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: Check this out: https://gist.github.com/isaacs/4947836/raw/5255cfcd7c0e8718033c31ae6ed0769a7695c73c/gistfile1.txt","date":"2013-02-13T20:17:00.578Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: those numbers are using wrk","date":"2013-02-13T20:17:05.414Z","type":"message"}
{"nick":"isaacs","message":"node-mc-in-js is basically master from last night","date":"2013-02-13T20:17:17.045Z","type":"message"}
{"nick":"isaacs","message":"node-trevor-nexttick is your thing from last night","date":"2013-02-13T20:17:27.021Z","type":"message"}
{"nick":"isaacs","message":"now i'm going to update both, and get completely different results :)","date":"2013-02-13T20:17:38.341Z","type":"message"}
{"nick":"trevnorris","message":"have you updated benchmark-2 to use wrk? that'll be a sick addition.","date":"2013-02-13T20:19:10.041Z","type":"message"}
{"nick":"isaacs","message":"not yet","date":"2013-02-13T20:19:17.973Z","type":"message"}
{"nick":"isaacs","message":"but i've got the code working","date":"2013-02-13T20:19:23.094Z","type":"message"}
{"nick":"trevnorris","message":"awesomeness","date":"2013-02-13T20:19:32.942Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: there's a bug in the compare.js script, though","date":"2013-02-13T20:22:07.623Z","type":"message"}
{"nick":"isaacs","message":"this thing is already to complicated.","date":"2013-02-13T20:22:11.340Z","type":"message"}
{"nick":"isaacs","message":"i think i'm gonna just remove some of these fancier features.","date":"2013-02-13T20:22:20.145Z","type":"message"}
{"nick":"isaacs","message":"any of this crap can be done by something wrapping it.","date":"2013-02-13T20:22:25.596Z","type":"message"}
{"nick":"isaacs","message":"red and green is enough","date":"2013-02-13T20:22:38.827Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah. that can happen. :)","date":"2013-02-13T20:22:39.337Z","type":"message"}
{"nick":"isaacs","message":"i got a bit too creative with it last night :)","date":"2013-02-13T20:22:48.006Z","type":"message"}
{"nick":"trevnorris","message":"lol, funny how late night programming can bring out a different side.","date":"2013-02-13T20:23:03.264Z","type":"message"}
{"nick":"isaacs","message":"i think it should do the red and green, and then just have a --raw option that dumps json","date":"2013-02-13T20:23:13.292Z","type":"message"}
{"nick":"isaacs","message":"so that i can whip up a website to show more interesting graphs and breakdowns.","date":"2013-02-13T20:23:25.682Z","type":"message"}
{"nick":"isaacs","message":"or people can write other programs for it","date":"2013-02-13T20:23:29.889Z","type":"message"}
{"nick":"isaacs","message":"ok, wrk is on benchmark-2","date":"2013-02-13T20:23:44.372Z","type":"message"}
{"nick":"trevnorris","message":"sweet!","date":"2013-02-13T20:23:49.559Z","type":"message"}
{"nick":"indutny","message":"isaacs: oh","date":"2013-02-13T20:24:59.943Z","type":"message"}
{"nick":"indutny","message":"does wrk work on smartos?","date":"2013-02-13T20:25:04.037Z","type":"message"}
{"nick":"isaacs","message":"indutny: i'm gonna check it out now","date":"2013-02-13T20:25:12.620Z","type":"message"}
{"nick":"isaacs","message":"good question :)","date":"2013-02-13T20:25:16.516Z","type":"message"}
{"nick":"indutny","message":"hehe","date":"2013-02-13T20:25:20.571Z","type":"message"}
{"nick":"indutny","message":"I bet it doesn't","date":"2013-02-13T20:25:22.708Z","type":"message"}
{"nick":"indutny","message":"since it's readme tells that it supports only epoll and kqueue","date":"2013-02-13T20:25:33.353Z","type":"message"}
{"nick":"indutny","message":"but probably it falls back to select/poll","date":"2013-02-13T20:25:43.373Z","type":"message"}
{"nick":"isaacs","message":"hmmm... nope :)","date":"2013-02-13T20:25:48.151Z","type":"message"}
{"nick":"isaacs","message":"<sigh>","date":"2013-02-13T20:25:58.591Z","type":"message"}
{"nick":"isaacs","message":"oh well :)","date":"2013-02-13T20:26:00.510Z","type":"message"}
{"nick":"trevnorris","message":"well, does ab work in windows?","date":"2013-02-13T20:26:38.530Z","type":"message"}
{"nick":"indutny","message":"doesn't work, right?","date":"2013-02-13T20:26:40.892Z","type":"message"}
{"nick":"indutny","message":"trevnorris: nope","date":"2013-02-13T20:26:43.516Z","type":"message"}
{"nick":"indutny","message":"but","date":"2013-02-13T20:26:44.672Z","type":"message"}
{"nick":"isaacs","message":"doens't work","date":"2013-02-13T20:26:47.705Z","type":"message"}
{"nick":"indutny","message":"we're not benchmarking windows","date":"2013-02-13T20:26:47.959Z","type":"message"}
{"nick":"isaacs","message":"hm.  but, unlike on OS X, ab DOES work on smartos","date":"2013-02-13T20:27:08.431Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-02-13T20:27:13.947Z","type":"message"}
{"nick":"trevnorris","message":"but ab makes me hate my life. =(","date":"2013-02-13T20:27:14.938Z","type":"message"}
{"nick":"trevnorris","message":"well, let's fork it and ask the community to make it work!","date":"2013-02-13T20:28:34.061Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-13T20:29:17.998Z","type":"quit"}
{"nick":"isaacs","message":"we should fork wrk and maek it work on smartos","date":"2013-02-13T20:30:07.233Z","type":"message"}
{"nick":"`3rdEden","date":"2013-02-13T20:30:16.207Z","type":"join"}
{"nick":"trevnorris","message":"sounds good to me","date":"2013-02-13T20:30:19.720Z","type":"message"}
{"nick":"isaacs","message":"it supports kqueue and epoll.  how hard is it to add event ports?  i mean, we did it for libuv.","date":"2013-02-13T20:30:29.887Z","type":"message"}
{"nick":"isaacs","message":"or just write a http bench program on top of libug","date":"2013-02-13T20:30:47.398Z","type":"message"}
{"nick":"isaacs","message":"*libuv","date":"2013-02-13T20:30:48.666Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-02-13T20:30:49.018Z","type":"message"}
{"nick":"isaacs","message":"(of course, then that's self-testing, which is never good)","date":"2013-02-13T20:31:04.460Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-02-13T20:32:11.127Z","type":"quit"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-02-13T20:32:47.249Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-13T20:33:18.305Z","type":"join"}
{"nick":"isaacs","message":"ok.  so, wrk is not going to work, I guess.","date":"2013-02-13T20:35:14.894Z","type":"message"}
{"nick":"isaacs","message":"at least, not for smartos.","date":"2013-02-13T20:35:25.004Z","type":"message"}
{"nick":"isaacs","message":"siege DOES work on smartos","date":"2013-02-13T20:35:27.966Z","type":"message"}
{"nick":"isaacs","message":"but siege is kinda odd.  maybe i'm just not understanding it enough or something","date":"2013-02-13T20:35:38.696Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it's not just you. always have problems with it as well.","date":"2013-02-13T20:36:32.380Z","type":"message"}
{"nick":"isaacs","message":"from the docs, it looks like siege tries to replicate internet users.","date":"2013-02-13T20:36:57.346Z","type":"message"}
{"nick":"isaacs","message":"so ti's really more for testing web sites than web servers.","date":"2013-02-13T20:37:05.049Z","type":"message"}
{"nick":"isaacs","message":"like, it hits multiple urls, randomly, with time between, etc.","date":"2013-02-13T20:37:22.585Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so there's no chance that wrk would work on smartos?","date":"2013-02-13T20:37:27.527Z","type":"message"}
{"nick":"isaacs","message":"the -c is the number of \"internet users\", not really the number of connections, necessarily","date":"2013-02-13T20:37:35.204Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: not without a lot of work.","date":"2013-02-13T20:37:46.749Z","type":"message"}
{"nick":"trevnorris","message":"hm....","date":"2013-02-13T20:37:51.097Z","type":"message"}
{"nick":"trevnorris","message":"well. i know. use wrk on linux, siege on mac and ab on smartos.","date":"2013-02-13T20:38:12.830Z","type":"message"}
{"nick":"trevnorris","message":"that's not complicated at all!","date":"2013-02-13T20:38:20.961Z","type":"message"}
{"nick":"V1","date":"2013-02-13T20:38:36.673Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 252 seconds","date":"2013-02-13T20:38:38.593Z","type":"quit"}
{"nick":"isaacs","message":"haha","date":"2013-02-13T20:39:08.969Z","type":"message"}
{"nick":"isaacs","message":"i guess we cna use wrk on linux and os x, and ab on smartos","date":"2013-02-13T20:39:21.932Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-02-13T20:39:58.686Z","type":"join"}
{"nick":"V1","new_nick":"`3rdEden","date":"2013-02-13T20:42:36.131Z","type":"nick"}
{"nick":"stagas","date":"2013-02-13T20:43:18.191Z","type":"join"}
{"nick":"CoverSlide","message":"what about windows?","date":"2013-02-13T20:43:48.836Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-02-13T20:48:58.054Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T20:49:05.246Z","type":"quit"}
{"nick":"stagas","date":"2013-02-13T20:52:38.094Z","type":"join"}
{"nick":"trevnorris","message":"you could always setup a windows server then hit it from a linux box. ;-)","date":"2013-02-13T20:52:41.684Z","type":"message"}
{"nick":"bnoordhuis","message":"evening guys","date":"2013-02-13T20:55:17.372Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: hey, thanks a bunch for the quick review.","date":"2013-02-13T20:55:32.513Z","type":"message"}
{"nick":"bnoordhuis","message":"np :)","date":"2013-02-13T20:55:57.460Z","type":"message"}
{"nick":"trevnorris","message":"that little hack has tcp-raw tests withing 1-2% of v0.8 performance.","date":"2013-02-13T20:56:21.797Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: thanks for jumping on that fd thing.  that was fast.","date":"2013-02-13T20:58:41.362Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's like a bunch of people all at once realized that this would be a new feature, and that v0.10 was about to happen, and that this wasn't in it yet.","date":"2013-02-13T20:59:12.292Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-13T20:59:14.353Z","type":"nick"}
{"nick":"isaacs","message":"had a minor revolt on my hands.","date":"2013-02-13T20:59:20.110Z","type":"message"}
{"nick":"bnoordhuis","message":"happy to help","date":"2013-02-13T20:59:36.999Z","type":"message"}
{"nick":"bnoordhuis","message":"the ocd thing was <,>sort btw :)","date":"2013-02-13T20:59:47.407Z","type":"message"}
{"nick":"bnoordhuis","message":"so i don't have to think about where to put new entries","date":"2013-02-13T20:59:55.506Z","type":"message"}
{"nick":"isaacs","message":"yeah, i'm fine with it :)","date":"2013-02-13T21:03:55.738Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: how do you feel about shipping tools/wrk/ and using that for http benchmarking","date":"2013-02-13T21:04:25.187Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: on !(sunos|win32), of course.","date":"2013-02-13T21:04:37.627Z","type":"message"}
{"nick":"bradleymeck","message":"curl -X POST -F 'tarball=@'`npm pack` http://ubuntu.x64.build-node.bradleymeck.com:3000/build | tar -tz","date":"2013-02-13T21:08:48.652Z","type":"message"}
{"nick":"bradleymeck","message":"if anyone has potential wants from a build server / wants to break that npm bundler for me, feel free","date":"2013-02-13T21:09:10.305Z","type":"message"}
{"nick":"isaacs","message":"bradleymeck: what's that build server do?","date":"2013-02-13T21:11:19.503Z","type":"message"}
{"nick":"isaacs","message":"bradleymeck: bundles all the deps in there?","date":"2013-02-13T21:11:26.810Z","type":"message"}
{"nick":"isaacs","message":"bradleymeck: or builds .node files?","date":"2013-02-13T21:11:41.877Z","type":"message"}
{"nick":"bradleymeck","message":"both","date":"2013-02-13T21:11:47.357Z","type":"message"}
{"nick":"isaacs","message":"k.  neat.","date":"2013-02-13T21:11:52.726Z","type":"message"}
{"nick":"bradleymeck","message":"testing it out vs the one i built for NJ","date":"2013-02-13T21:12:02.791Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: wrk looks nice. tried and trusted technology too (http_parser)","date":"2013-02-13T21:12:49.961Z","type":"message"}
{"nick":"isaacs","message":"yep :)","date":"2013-02-13T21:13:06.062Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: doesn't run on smartos.","date":"2013-02-13T21:13:12.751Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: sadly","date":"2013-02-13T21:13:15.297Z","type":"message"}
{"nick":"bnoordhuis","message":"why's that?","date":"2013-02-13T21:13:23.533Z","type":"message"}
{"nick":"bradleymeck","message":"cause?","date":"2013-02-13T21:13:25.023Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: only does epoll/kqueue, i gues","date":"2013-02-13T21:13:33.741Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: you know a thing or two about such things.  maybe you could make it work :)","date":"2013-02-13T21:13:47.670Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, well maybe. i'll look at it","date":"2013-02-13T21:14:06.485Z","type":"message"}
{"nick":"isaacs","message":"wait a second...","date":"2013-02-13T21:14:29.117Z","type":"message"}
{"nick":"bnoordhuis","message":"looks like redis code in there","date":"2013-02-13T21:14:50.730Z","type":"message"}
{"nick":"isaacs","message":"oh, lolz, accidentally checked the binary into git","date":"2013-02-13T21:14:57.199Z","type":"message"}
{"nick":"trevnorris","message":"heh, looks like another addition to .gitignore.","date":"2013-02-13T21:15:29.885Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: looks like it should use select() on sunos","date":"2013-02-13T21:16:42.001Z","type":"message"}
{"nick":"bnoordhuis","message":"that won't be ultra fast, of course","date":"2013-02-13T21:16:48.255Z","type":"message"}
{"nick":"bnoordhuis","message":"and presumably we can back-port ae_evport.c from redis","date":"2013-02-13T21:18:09.634Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-13T21:18:41.341Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: if we bundle it we can float whatever patches we want.","date":"2013-02-13T21:18:57.831Z","type":"message"}
{"nick":"isaacs","message":"it looks like it's not actively developed any more.","date":"2013-02-13T21:19:03.648Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ugh, those fs benchmarks are a bitch. read-stream-throughput is varying between 260 and 165.","date":"2013-02-13T21:19:22.003Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah.","date":"2013-02-13T21:19:44.415Z","type":"message"}
{"nick":"isaacs","message":"s/benchmarks /","date":"2013-02-13T21:19:51.930Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: fs's are just bitchy","date":"2013-02-13T21:19:59.013Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's not such a huge deal, since ab is pretty stable on smartos anyway","date":"2013-02-13T21:20:34.129Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 255 seconds","date":"2013-02-13T21:24:05.677Z","type":"quit"}
{"nick":"bradleymeck_","date":"2013-02-13T21:27:10.910Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: ok, comparing current master and ticker-rething (rebased onto current master)","date":"2013-02-13T21:29:34.751Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: https://github.com/bnoordhuis/wrk <- can you try the sunos-support branch?","date":"2013-02-13T21:29:37.884Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: on os x and smartos","date":"2013-02-13T21:29:39.401Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: shoudl be a few hours and i'll have some results :)","date":"2013-02-13T21:29:49.328Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: not at the moment.","date":"2013-02-13T21:29:54.863Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: using all those cpu's right now :)","date":"2013-02-13T21:30:01.480Z","type":"message"}
{"nick":"bradleymeck","reason":"Ping timeout: 255 seconds","date":"2013-02-13T21:30:56.528Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-02-13T21:30:56.871Z","type":"nick"}
{"nick":"isaacs","message":"it's really interesting watching the CPU level during fs benchmarks","date":"2013-02-13T21:32:13.641Z","type":"message"}
{"nick":"isaacs","message":"kinda rises up, then falls back down as the IO becomes the bottleneck","date":"2013-02-13T21:32:23.009Z","type":"message"}
{"nick":"trevnorris","message":"heh, sounds good. ","date":"2013-02-13T21:32:24.419Z","type":"message"}
{"nick":"stagas","date":"2013-02-13T21:34:13.467Z","type":"join"}
{"nick":"isaacs","message":"the benchmark compare script should dump the data and then have a command to pipe the data in to format it pretty","date":"2013-02-13T21:34:49.469Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-02-13T21:46:49.781Z","type":"quit"}
{"nick":"hz","date":"2013-02-13T21:46:53.416Z","type":"join"}
{"nick":"trevnorris","message":"ugh. ok, breath deep and let go of the last 2%.","date":"2013-02-13T21:50:41.483Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 252 seconds","date":"2013-02-13T21:52:38.168Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-13T21:55:23.767Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: https://gist.github.com/4948739","date":"2013-02-13T21:58:12.961Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that's os x","date":"2013-02-13T21:58:18.567Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, it's a bit weird.","date":"2013-02-13T21:58:56.626Z","type":"message"}
{"nick":"isaacs","message":"write-stream-throughput is mostly up","date":"2013-02-13T21:59:02.703Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-13T21:59:03.662Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: but the overall result on net and http benchmarks seems to be negative, vs current master","date":"2013-02-13T21:59:33.680Z","type":"message"}
{"nick":"trevnorris","message":"wtf. give me a minute.","date":"2013-02-13T21:59:43.708Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: still waiting on smartos","date":"2013-02-13T22:00:37.957Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: and also, this isn't isolating your nextTick changes -- it's also the \"make-callback-in-js-revert\" stuff","date":"2013-02-13T22:00:57.005Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: what is going on? on my machine net/net-s2c.js len=16777216 type=asc dur=1 : master -  5; rethink - 5.2","date":"2013-02-13T22:01:01.685Z","type":"message"}
{"nick":"isaacs","message":"maybe it's a linux/osx diff?","date":"2013-02-13T22:01:22.346Z","type":"message"}
{"nick":"isaacs","message":"i dno't know","date":"2013-02-13T22:01:23.600Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: can you run that one by hand for me?","date":"2013-02-13T22:01:27.170Z","type":"message"}
{"nick":"isaacs","message":"hrm...","date":"2013-02-13T22:02:22.665Z","type":"message"}
{"nick":"isaacs","message":"$ ./node-master benchmark/net/net-s2c.js len=16777216 type=asc dur=1","date":"2013-02-13T22:02:46.335Z","type":"message"}
{"nick":"isaacs","message":"net/net-s2c.js len=16777216 type=asc dur=1: 3.1767","date":"2013-02-13T22:02:46.471Z","type":"message"}
{"nick":"isaacs","message":"$ ./node-ticker-rethink benchmark/net/net-s2c.js len=16777216 type=asc dur=1","date":"2013-02-13T22:02:46.611Z","type":"message"}
{"nick":"isaacs","message":"net/net-s2c.js len=16777216 type=asc dur=1: 3.1851","date":"2013-02-13T22:02:46.611Z","type":"message"}
{"nick":"isaacs","message":"about the same","date":"2013-02-13T22:02:48.174Z","type":"message"}
{"nick":"isaacs","message":"same as one another, i mean","date":"2013-02-13T22:02:55.862Z","type":"message"}
{"nick":"trevnorris","message":"yeah. and on net/net-pipe.js len=102400 type=asc dur=1 : master - 6.4 ; rethink - 6.7","date":"2013-02-13T22:03:00.534Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-02-13T22:03:26.692Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: yeah. and the benchmark shows a -11%","date":"2013-02-13T22:03:37.667Z","type":"message"}
{"nick":"isaacs","message":"$ ./node-master benchmark/net/net-pipe.js len=102400 type=asc dur=1","date":"2013-02-13T22:03:44.160Z","type":"message"}
{"nick":"isaacs","message":"net/net-pipe.js len=102400 type=asc dur=1: 4.3602","date":"2013-02-13T22:03:44.301Z","type":"message"}
{"nick":"isaacs","message":"$ ./node-ticker-rethink benchmark/net/net-pipe.js len=102400 type=asc dur=1","date":"2013-02-13T22:03:44.301Z","type":"message"}
{"nick":"isaacs","message":"net/net-pipe.js len=102400 type=asc dur=1: 4.3825","date":"2013-02-13T22:03:44.748Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2013-02-13T22:03:46.643Z","type":"message"}
{"nick":"isaacs","message":"something's fishy.","date":"2013-02-13T22:03:49.374Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T22:03:51.733Z","type":"message"}
{"nick":"isaacs","message":"maybe my computer was busy while they were running or something","date":"2013-02-13T22:03:59.334Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and the biggest one http/cluster.js type=bytes length=102400 c=50 (-36%) : master - 2339.4 ; ticker - 2346.7","date":"2013-02-13T22:05:31.959Z","type":"message"}
{"nick":"trevnorris","message":"those are medians after running a dozen times.","date":"2013-02-13T22:05:50.818Z","type":"message"}
{"nick":"isaacs","message":"ugh.","date":"2013-02-13T22:07:01.562Z","type":"message"}
{"nick":"isaacs","message":"it would suck to have to run the compare script multiple times.","date":"2013-02-13T22:07:08.224Z","type":"message"}
{"nick":"isaacs","message":"it's so slow as it is.","date":"2013-02-13T22:07:10.311Z","type":"message"}
{"nick":"isaacs","message":"maybe it should just skip buffer/array/misc by default.","date":"2013-02-13T22:07:20.869Z","type":"message"}
{"nick":"isaacs","message":"you can always run those explicitly","date":"2013-02-13T22:07:30.522Z","type":"message"}
{"nick":"trevnorris","message":"yeah. those are in the ns","date":"2013-02-13T22:07:36.023Z","type":"message"}
{"nick":"isaacs","message":"and mostly they just depend on V8 changing.","date":"2013-02-13T22:07:46.664Z","type":"message"}
{"nick":"trevnorris","message":"(for execution time per call that is)","date":"2013-02-13T22:07:47.083Z","type":"message"}
{"nick":"isaacs","message":"though, your nextTick changes seem to make those things all slightly faster :)","date":"2013-02-13T22:07:55.361Z","type":"message"}
{"nick":"isaacs","message":"so tha'ts nice :)","date":"2013-02-13T22:07:56.916Z","type":"message"}
{"nick":"isaacs","message":"even on the fishy benchmark","date":"2013-02-13T22:08:02.715Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: here's smartos: https://gist.github.com/4948817","date":"2013-02-13T22:08:56.491Z","type":"message"}
{"nick":"rendar","date":"2013-02-13T22:09:03.837Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: would you mind running net/tcp-raw-c2s.js len=102400 type=buf dur=3 ?","date":"2013-02-13T22:09:10.869Z","type":"message"}
{"nick":"trevnorris","message":"i'm kicking the living piss out of that on on my box.","date":"2013-02-13T22:09:18.247Z","type":"message"}
{"nick":"isaacs","message":"this is really interesting:","date":"2013-02-13T22:09:37.981Z","type":"message"}
{"nick":"isaacs","message":"net/net-c2s.js len=102400 type=utf dur=1: ./node-ticker-rethink: 0.7441 ./node-master: 0.99316 ................................... -25.08%","date":"2013-02-13T22:09:38.733Z","type":"message"}
{"nick":"isaacs","message":"net/net-c2s.js len=102400 type=utf dur=3: ./node-ticker-rethink: 1.3308 ./node-master: 1.0394 ..................................... 28.04%","date":"2013-02-13T22:09:41.963Z","type":"message"}
{"nick":"isaacs","message":"so, same test, run for 1s, ticker-rethink was slower, run for 3s, and it's faster","date":"2013-02-13T22:09:53.986Z","type":"message"}
{"nick":"isaacs","message":"by roughly the same margin","date":"2013-02-13T22:09:58.210Z","type":"message"}
{"nick":"trevnorris","message":"yeah. it would help statistically if each test ran enough times so the std error is < 5-10% of the mean.","date":"2013-02-13T22:10:40.929Z","type":"message"}
{"nick":"trevnorris","message":"now. that's for single shot tests because each one will be running a dozen or more times.","date":"2013-02-13T22:11:11.047Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-13T22:11:13.602Z","type":"message"}
{"nick":"isaacs","message":"i'm gonna eat some hamburgers and then go to san francisco.","date":"2013-02-13T22:11:51.682Z","type":"message"}
{"nick":"trevnorris","message":"cool","date":"2013-02-13T22:12:07.251Z","type":"message"}
{"nick":"isaacs","message":"clearly, we have too many array and buffer benchmarks :)","date":"2013-02-13T22:13:38.928Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: maybe we need like a `make bench` and `make bench-all`","date":"2013-02-13T22:14:18.524Z","type":"message"}
{"nick":"isaacs","message":"where make bench just does net, fs, and http","date":"2013-02-13T22:14:28.988Z","type":"message"}
{"nick":"isaacs","message":"since those are the things where we really feel it anyway","date":"2013-02-13T22:14:38.287Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: heh, yeah. all those came from my benchmark changes.","date":"2013-02-13T22:14:45.282Z","type":"message"}
{"nick":"isaacs","message":"and bench-all runs misc, buffer, array, dataview, etc.","date":"2013-02-13T22:14:47.233Z","type":"message"}
{"nick":"trevnorris","message":"true, sounds good to me.","date":"2013-02-13T22:14:49.026Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: oh, and don't forget to git rm benchmark/_bench_timer.js","date":"2013-02-13T22:15:08.024Z","type":"message"}
{"nick":"isaacs","message":"because, honestly, if you make Buffer.writeInt16LE 1000% slower, and in the process, make http_simple 10% faster?  you're my hero.","date":"2013-02-13T22:15:20.688Z","type":"message"}
{"nick":"isaacs","message":"yeah, i saw that","date":"2013-02-13T22:15:38.238Z","type":"message"}
{"nick":"trevnorris","message":"sounds good. just need to get a test working then i'm on it.","date":"2013-02-13T22:15:50.707Z","type":"message"}
{"nick":"indexzero","date":"2013-02-13T22:17:05.265Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: hahah, totally rocked this one:","date":"2013-02-13T22:18:55.506Z","type":"message"}
{"nick":"isaacs","message":"tls/throughput.js dur=1 type=asc size=2: ./node-ticker-rethink: 0.46956 ./node-master: 0 ....................................... Infinity%","date":"2013-02-13T22:18:59.018Z","type":"message"}
{"nick":"isaacs","message":"INFINITY PERCENT!","date":"2013-02-13T22:19:09.386Z","type":"message"}
{"nick":"LOUDBOT","message":"DOES EVERYONE KNOW WHAT TIME IT IS!?","date":"2013-02-13T22:19:09.829Z","type":"message"}
{"nick":"trevnorris","message":"freak yeah!","date":"2013-02-13T22:19:19.485Z","type":"message"}
{"nick":"isaacs","message":"wonder what broke there.","date":"2013-02-13T22:19:19.623Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: you wouldn't happen to have any magical unicorn dust to let me know how those changes you reviewed would cause test-tls-sni-server-client.js to always return DEPTH_ZERO_SELF_SIGNED_CERT?","date":"2013-02-13T22:19:53.869Z","type":"message"}
{"nick":"isaacs","message":"holy moly it is so nice to run a command and get a list of green and red percentages.","date":"2013-02-13T22:20:01.054Z","type":"message"}
{"nick":"isaacs","message":"i <3 this","date":"2013-02-13T22:20:06.223Z","type":"message"}
{"nick":"isaacs","message":"even if it does take 3 hours to actually finish","date":"2013-02-13T22:20:12.183Z","type":"message"}
{"nick":"wolfeidau","date":"2013-02-13T22:20:29.783Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 255 seconds","date":"2013-02-13T22:21:14.584Z","type":"quit"}
{"nick":"trevnorris","message":"indutny: are you the one that knows stuff about tls?","date":"2013-02-13T22:23:46.032Z","type":"message"}
{"nick":"trevnorris","message":"nm! totally got it. an realized i'm a moron in the process.","date":"2013-02-13T22:26:33.648Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-02-13T22:33:04.228Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-13T22:33:27.095Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-13T22:36:11.180Z","type":"quit"}
{"nick":"indutny","message":"trevnorris: sort of","date":"2013-02-13T22:40:44.264Z","type":"message"}
{"nick":"indutny","message":"np","date":"2013-02-13T22:40:49.373Z","type":"message"}
{"nick":"trevnorris","message":"indutny: oh, i just made the stupid mistake of returning undefined in the case no more callbacks were going to run, and that one test happen to catch it.","date":"2013-02-13T22:41:28.080Z","type":"message"}
{"nick":"trevnorris","message":"indutny: how about uv_listen?","date":"2013-02-13T22:52:05.752Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-13T22:59:44.516Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: bnoordhuis would flog me for this, but since none of the process.binding wraps are public, couldn't we just assume that the the argument is always set.","date":"2013-02-13T23:15:26.480Z","type":"message"}
{"nick":"trevnorris","message":"i mean, v8 will error out anyways if we try to run a non function as a function.","date":"2013-02-13T23:15:36.889Z","type":"message"}
{"nick":"AvianFlu","date":"2013-02-13T23:15:44.827Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-13T23:27:29.127Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 276 seconds","date":"2013-02-13T23:31:36.817Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-02-13T23:32:11.126Z","type":"quit"}
{"nick":"stagas","date":"2013-02-13T23:32:20.740Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-02-13T23:34:37.309Z","type":"join"}
{"nick":"jmar777","date":"2013-02-13T23:49:38.194Z","type":"join"}
{"nick":"trevnorris","message":"anyone know if it's possible in cc or v8 to make two allocated memory appear as one?","date":"2013-02-13T23:50:57.039Z","type":"message"}
{"nick":"tjfontaine","message":"hm?","date":"2013-02-13T23:51:40.170Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: wut?","date":"2013-02-13T23:51:54.652Z","type":"message"}
{"nick":"tjfontaine","message":"you mean trevnorris but I agree","date":"2013-02-13T23:52:07.345Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: say I char* data0 = new char[10]; char* data1 = new char[10]; (think that's correct syntax)","date":"2013-02-13T23:52:38.843Z","type":"message"}
{"nick":"trevnorris","message":"and I want to make them appear as one piece of memory that if written to would automatically handle writing to the correct position.","date":"2013-02-13T23:53:36.552Z","type":"message"}
{"nick":"tjfontaine","message":"so you want them to be the same 10 bytes?","date":"2013-02-13T23:54:05.244Z","type":"message"}
{"nick":"trevnorris","message":"no, it'd be 20 bytes.","date":"2013-02-13T23:54:28.515Z","type":"message"}
{"nick":"tjfontaine","message":"but you want to make sure they're contiguous?","date":"2013-02-13T23:55:05.681Z","type":"message"}
{"nick":"trevnorris","message":"no... (man this is sounding stranger as i'm explaining it)","date":"2013-02-13T23:55:47.682Z","type":"message"}
{"nick":"tjfontaine","message":"yes it really is :)","date":"2013-02-13T23:56:05.584Z","type":"message"}
{"nick":"tjfontaine","message":"I'm just not on the same page as you, what do you *really* want to do","date":"2013-02-13T23:56:19.440Z","type":"message"}
{"nick":"trevnorris","message":"ok, so. say i've allocated 2 bytes at A, and 2 bytes at B. but i want to combine them so if I write 1212; A == [1,2] and B == [1,2]","date":"2013-02-13T23:57:54.295Z","type":"message"}
{"nick":"trevnorris","message":"does that make sense?","date":"2013-02-13T23:58:02.487Z","type":"message"}
{"nick":"tjfontaine","message":"you want them to be separate chunks of memory, but always contain the same data?","date":"2013-02-13T23:59:01.395Z","type":"message"}
{"nick":"trevnorris","message":"so say I write 0x1232 to A,B, then they would look like [1,2] [3,2].","date":"2013-02-13T23:59:54.625Z","type":"message"}

{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/blob/master/src/win/winapi.c#L29 <- can those globals conflict when the main program has globals with the same name?","date":"2011-11-17T00:02:23.861Z","type":"message"}
{"nick":"bnoordhuis","message":"iow, shouldn't they have a uv__ prefix?","date":"2011-11-17T00:02:36.720Z","type":"message"}
{"nick":"bnoordhuis","message":"that's https://github.com/joyent/libuv/blob/4ae40b6/src/win/winapi.c#L29 for posterity's sake","date":"2011-11-17T00:03:09.378Z","type":"message"}
{"nick":"ryah","message":"alright im away at office hours and/or writing my paper","date":"2011-11-17T00:04:43.670Z","type":"message"}
{"nick":"ryah","message":"see you tomorrow","date":"2011-11-17T00:04:48.322Z","type":"message"}
{"nick":"bnoordhuis","message":"have fun, ryah","date":"2011-11-17T00:07:26.697Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: re conflict","date":"2011-11-17T00:10:18.326Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the likelihood of a conflict is pretty small eh?","date":"2011-11-17T00:10:31.269Z","type":"message"}
{"nick":"piscisaureus_","message":"but they could, in theory","date":"2011-11-17T00:10:44.023Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: when did we start caring about posterity?","date":"2011-11-17T00:11:58.240Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ryah always complains when i post links to blob/master :)","date":"2011-11-17T00:12:40.457Z","type":"message"}
{"nick":"piscisaureus_","message":"oh","date":"2011-11-17T00:12:45.149Z","type":"message"}
{"nick":"piscisaureus_","message":"he never does that to me","date":"2011-11-17T00:12:48.750Z","type":"message"}
{"nick":"piscisaureus_","message":"but","date":"2011-11-17T00:13:01.900Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah well, you're not his wage slave","date":"2011-11-17T00:13:03.860Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2011-11-17T00:13:08.391Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: how do you get the posterous url","date":"2011-11-17T00:13:32.964Z","type":"message"}
{"nick":"piscisaureus_","message":"is there a nice way to do that?","date":"2011-11-17T00:13:41.195Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: press 'y' and snip out the last 33 chars of the hash","date":"2011-11-17T00:15:16.370Z","type":"message"}
{"nick":"bnoordhuis","message":"i have a firefox javascript thingy that does it for me","date":"2011-11-17T00:15:31.473Z","type":"message"}
{"nick":"piscisaureus_","message":"installing Microsoft(r) Visual Node.JS (tm) Ultimate Pro For Windows PCs SP1.msi","date":"2011-11-17T00:25:54.885Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T00:47:01.152Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: yep, lgtm","date":"2011-11-17T00:47:59.580Z","type":"message"}
{"nick":"benvie","message":"working on fixing up node ffi for 0.6 and windows","date":"2011-11-17T00:51:27.403Z","type":"message"}
{"nick":"benvie","message":"I compiled libffi using the mingw->msvc route without issue ","date":"2011-11-17T00:52:26.802Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u00023e696d1\u000f \u000310\u000f/ (src/node_buffer.h src/node_object_wrap.h)\u0002:\u000f ","date":"2011-11-17T00:58:55.291Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Windows: make Buffer and ObjectWrap available to compiled extensions","date":"2011-11-17T00:58:55.505Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Closes GH-2036 - http://git.io/9LO2AQ","date":"2011-11-17T00:58:55.505Z","type":"message"}
{"nick":"benvie","message":"aw yeaah","date":"2011-11-17T00:59:23.208Z","type":"message"}
{"nick":"benvie","message":"you casually invent a whole new FFI interface like it ain't no thang","date":"2011-11-17T01:00:22.957Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: what's node+ffi for?","date":"2011-11-17T01:01:04.812Z","type":"message"}
{"nick":"benvie","message":"bindings (more heavy duty bindings) from libffi to node","date":"2011-11-17T01:01:57.927Z","type":"message"}
{"nick":"benvie","message":"libffi is what all the other high level languages use for mapping native access to dynamic script access","date":"2011-11-17T01:02:37.997Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: so you're working on something similar to js-ctypes but for v8?","date":"2011-11-17T01:03:22.785Z","type":"message"}
{"nick":"benvie","message":"node-ffi is out of date, never worked on windows, and did a poor job of mapping the data","date":"2011-11-17T01:03:26.433Z","type":"message"}
{"nick":"benvie","message":"well I'm just updating it","date":"2011-11-17T01:03:34.396Z","type":"message"}
{"nick":"benvie","message":"the stuff you've done already does a lot of it already","date":"2011-11-17T01:03:49.391Z","type":"message"}
{"nick":"benvie","message":"and especially on windows, where you get pretty predictable results","date":"2011-11-17T01:04:10.988Z","type":"message"}
{"nick":"benvie","message":"libffi's value shows up in places with all sorts of crazy different calling methods","date":"2011-11-17T01:04:34.399Z","type":"message"}
{"nick":"benvie","message":"but it works on everything including iOS","date":"2011-11-17T01:04:39.424Z","type":"message"}
{"nick":"benvie","message":"at this point, with that push just going live, libffi is almost a moot point for windows","date":"2011-11-17T01:05:12.312Z","type":"message"}
{"nick":"benvie","message":"although not quite, it brings the dynamic access all the way into js","date":"2011-11-17T01:05:30.062Z","type":"message"}
{"nick":"piscisaureus_","message":"It's nice to have I guess","date":"2011-11-17T01:07:37.284Z","type":"message"}
{"nick":"piscisaureus_","message":"although people can easily defeat node's purpose by making blocking calls","date":"2011-11-17T01:07:49.992Z","type":"message"}
{"nick":"piscisaureus_","message":"but it makes a good playground for experimenting with native apis","date":"2011-11-17T01:08:07.861Z","type":"message"}
{"nick":"benvie","message":"yeah libffi does that now and I'm not porting that","date":"2011-11-17T01:08:14.358Z","type":"message"}
{"nick":"benvie","message":"it's not necessary","date":"2011-11-17T01:08:20.352Z","type":"message"}
{"nick":"benvie","message":"although er","date":"2011-11-17T01:09:23.208Z","type":"message"}
{"nick":"benvie","message":"I mean yeah people can then just all up the OS call to do it hah","date":"2011-11-17T01:09:33.236Z","type":"message"}
{"nick":"benvie","message":"but I'm not building it into the extension itself like node-ffi does","date":"2011-11-17T01:09:42.822Z","type":"message"}
{"nick":"piscisaureus_","message":"ah ok","date":"2011-11-17T01:09:57.084Z","type":"message"}
{"nick":"benvie","message":"it stops the event loop while receiving data","date":"2011-11-17T01:10:02.060Z","type":"message"}
{"nick":"benvie","message":"which is probably half the reason it's 5x as slow as native access","date":"2011-11-17T01:10:10.852Z","type":"message"}
{"nick":"benvie","message":"the other half being the suboptimal data translation","date":"2011-11-17T01:10:36.249Z","type":"message"}
{"nick":"benvie","message":"tooTallNate made a whole interface for all the cocao stuff so windows needs to represent","date":"2011-11-17T01:11:54.145Z","type":"message"}
{"nick":"piscisaureus_","message":"the problem on windows is integrating with the gui message pump","date":"2011-11-17T01:12:18.403Z","type":"message"}
{"nick":"piscisaureus_","message":"unless you want to poll every 1 ms for new gui events there's not much you can do","date":"2011-11-17T01:12:41.662Z","type":"message"}
{"nick":"piscisaureus_","message":"well the other option would be hacking into undocumented windows internals (even more than we do now) or do other crazy stuff","date":"2011-11-17T01:13:38.951Z","type":"message"}
{"nick":"piscisaureus_","message":"deferring all gui management to some thread","date":"2011-11-17T01:13:52.047Z","type":"message"}
{"nick":"benvie","message":"yeah that's a whole second project on top of this one. Although I have a bit of experience it now at the C++ level doing varioud experiments with trying to get Chrome and Node as close to running together as possible. At this point it'll be easier for me to figure to get it completely in the same process now than my attempts at trying to figure out all the spots in chromium where V8 or something ","date":"2011-11-17T01:14:26.557Z","type":"message"}
{"nick":"benvie","message":"else saw through my tricks","date":"2011-11-17T01:14:26.777Z","type":"message"}
{"nick":"benvie","message":"running two separate V8's doesn't work and compiling chromium against node proved past my annoyance factor","date":"2011-11-17T01:15:12.398Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: I'm sorry but you completely lost me in the last 3 messages.","date":"2011-11-17T01:16:26.548Z","type":"message"}
{"nick":"benvie","message":"hah sorry, I mean I was trying to get the chromium browser (thew web rendering part of uit) to compile against node/v8 in node instead of its own v8, so that I could run the Chromium UI process on the primary Node process","date":"2011-11-17T01:17:50.294Z","type":"message"}
{"nick":"benvie","message":"combining the event loops as you mentioned above","date":"2011-11-17T01:18:07.187Z","type":"message"}
{"nick":"piscisaureus_","message":"aaah ok","date":"2011-11-17T01:18:32.646Z","type":"message"}
{"nick":"benvie","message":"both implementations have v8 at the center of the show","date":"2011-11-17T01:19:01.801Z","type":"message"}
{"nick":"piscisaureus_","message":"I think the valid approach is to wait for node isolates to land","date":"2011-11-17T01:19:09.807Z","type":"message"}
{"nick":"benvie","message":"yeah absolutely","date":"2011-11-17T01:19:18.321Z","type":"message"}
{"nick":"piscisaureus_","message":"then you'd need to hack libuv so you can run thread with a GetMessage based reactor instead of GetQueuedCompletionStatus","date":"2011-11-17T01:20:23.449Z","type":"message"}
{"nick":"benvie","message":"my biggest success has been in efficiently and transparency mirroring separate JS contexts (along with host objects like the DOM) over sockets, which will be useful in for that","date":"2011-11-17T01:20:27.211Z","type":"message"}
{"nick":"benvie","message":"well actually","date":"2011-11-17T01:20:41.498Z","type":"message"}
{"nick":"benvie","message":"then trimmed down version of Chrome I use is already set up so you can control the event loop","date":"2011-11-17T01:21:19.402Z","type":"message"}
{"nick":"benvie","message":"you simply have to run the message loop into a timely fashion","date":"2011-11-17T01:21:33.584Z","type":"message"}
{"nick":"benvie","message":"the callback for it","date":"2011-11-17T01:21:48.656Z","type":"message"}
{"nick":"benvie","message":"so going from a Node pushing to the UI, is possible. Though of course node isn't set up to assume it has to always be turning a loop regardless of activity","date":"2011-11-17T01:22:44.576Z","type":"message"}
{"nick":"piscisaureus_","message":"so, you're polling","date":"2011-11-17T01:23:22.126Z","type":"message"}
{"nick":"piscisaureus_","message":"that's probably fine for gui","date":"2011-11-17T01:23:27.250Z","type":"message"}
{"nick":"benvie","message":"most of the processing heavy stuff is actually runnnig in other threads these days anyway","date":"2011-11-17T01:23:38.336Z","type":"message"}
{"nick":"benvie","message":"only the final painting and dispating is on the UI thread","date":"2011-11-17T01:23:47.489Z","type":"message"}
{"nick":"benvie","message":"since you have 3d engines and this and that doing stuff","date":"2011-11-17T01:24:00.558Z","type":"message"}
{"nick":"piscisaureus_","message":"the only thing is","date":"2011-11-17T01:24:07.739Z","type":"message"}
{"nick":"piscisaureus_","message":"what's the point of ripping out the js component from a browser and then bolting on the ui of the same browser","date":"2011-11-17T01:24:45.535Z","type":"message"}
{"nick":"benvie","message":"so the main thing is to be responsive to user actions, and probably some sort of secondary idle painting loop","date":"2011-11-17T01:24:51.194Z","type":"message"}
{"nick":"piscisaureus_","message":"to me chrome - v8 + v8 = chrome","date":"2011-11-17T01:25:02.890Z","type":"message"}
{"nick":"benvie","message":"well it was more from the angle of","date":"2011-11-17T01:25:11.138Z","type":"message"}
{"nick":"benvie","message":"first off it's the browser freed out of the browser. It's Chromeless Chrome, and it makes an absolutely amazing tool for building UIs and programs","date":"2011-11-17T01:26:05.067Z","type":"message"}
{"nick":"piscisaureus_","message":"ah ok","date":"2011-11-17T01:26:52.378Z","type":"message"}
{"nick":"piscisaureus_","message":"now I have to reboot - bbl","date":"2011-11-17T01:27:04.698Z","type":"message"}
{"nick":"benvie","message":"the structure that node uses is way more suited toward being the \"brains\" of a desktop program","date":"2011-11-17T01:27:06.279Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-17T01:27:26.387Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-11-17T01:31:59.780Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-17T01:41:37.436Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-17T01:46:27.157Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus___: https://github.com/bnoordhuis/libuv/compare/mutexes <- srwlock fallback","date":"2011-11-17T01:48:32.130Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 244 seconds","date":"2011-11-17T01:50:17.337Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-11-17T01:51:17.538Z","type":"join"}
{"nick":"piscisaureus_","date":"2011-11-17T01:52:58.391Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: if someone creates a node process without stdout, do you think stdout.write should fail or no-op?","date":"2011-11-17T01:53:46.017Z","type":"message"}
{"nick":"piscisaureus_","message":"no-op i think","date":"2011-11-17T01:54:10.210Z","type":"message"}
{"nick":"piscisaureus_","message":"but how can a process have no stdout at all?","date":"2011-11-17T01:54:25.606Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it also should mirror what happens on unix","date":"2011-11-17T01:54:58.271Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: set all stdio handles to INVALID_HANDLE_VALUE and set STARTF_USESTDHANDLES","date":"2011-11-17T01:55:48.427Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we shouldn't allow libuv users to do this normally","date":"2011-11-17T01:57:58.268Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: right, but node could also be started by some other process","date":"2011-11-17T01:58:26.187Z","type":"message"}
{"nick":"piscisaureus_","message":"true","date":"2011-11-17T01:58:33.793Z","type":"message"}
{"nick":"piscisaureus_","message":"I think currently we fail","date":"2011-11-17T01:58:43.091Z","type":"message"}
{"nick":"piscisaureus_","message":"that's fine for now I think","date":"2011-11-17T01:58:48.900Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: if that's the case.. should we no-op stdio operations or fail?","date":"2011-11-17T01:59:15.236Z","type":"message"}
{"nick":"piscisaureus_","message":"I think fail","date":"2011-11-17T01:59:37.569Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: is someone having issues with it atm?","date":"2011-11-17T01:59:58.434Z","type":"message"}
{"nick":"igorzi","message":"iisnode","date":"2011-11-17T02:00:37.760Z","type":"message"}
{"nick":"piscisaureus_","message":"aha","date":"2011-11-17T02:00:47.095Z","type":"message"}
{"nick":"igorzi","message":"i don't have all the details yet.. but i'm trying to figure out if it's a bug in node or iisnode","date":"2011-11-17T02:01:06.244Z","type":"message"}
{"nick":"piscisaureus_","message":"I think on unix it is not possible to have no stdio","date":"2011-11-17T02:01:36.871Z","type":"message"}
{"nick":"piscisaureus_","message":"unless the parent also has no stdio","date":"2011-11-17T02:01:47.676Z","type":"message"}
{"nick":"piscisaureus_","message":"let me see what forever does","date":"2011-11-17T02:02:16.188Z","type":"message"}
{"nick":"piscisaureus_","message":"it deamonizes processes","date":"2011-11-17T02:02:24.777Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but the bottom line is, it is really dumb to have no stdio","date":"2011-11-17T02:02:46.931Z","type":"message"}
{"nick":"piscisaureus_","message":"no stdin is fine of course","date":"2011-11-17T02:02:53.845Z","type":"message"}
{"nick":"rmustacc","message":"piscisaureus_: When most folks daemonize they dup /dev/null over the stdio fds.","date":"2011-11-17T02:02:57.230Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2011-11-17T02:03:05.824Z","type":"message"}
{"nick":"piscisaureus_","message":"that's what iisnode should do I think","date":"2011-11-17T02:03:14.142Z","type":"message"}
{"nick":"piscisaureus_","message":"CreateFile('nul');","date":"2011-11-17T02:03:26.419Z","type":"message"}
{"nick":"igorzi","message":"ok, so it sounds like iisnode bug","date":"2011-11-17T02:03:29.069Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- pass that","date":"2011-11-17T02:03:31.235Z","type":"message"}
{"nick":"piscisaureus_","message":"we should just treat it as if the parent passed unusable handles","date":"2011-11-17T02:04:21.300Z","type":"message"}
{"nick":"piscisaureus_","message":"or just random numbers","date":"2011-11-17T02:04:29.899Z","type":"message"}
{"nick":"piscisaureus_","message":"which is, fail","date":"2011-11-17T02:04:33.969Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but really for iisnode you probably want to attach some log file to stdout","date":"2011-11-17T02:05:04.840Z","type":"message"}
{"nick":"piscisaureus_","message":"having no way of reporting errors sounds pretty painful","date":"2011-11-17T02:05:19.392Z","type":"message"}
{"nick":"rmustacc","message":"That's what SMF does. It sets stdout/stderr to a service log file.","date":"2011-11-17T02:05:28.243Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_:yeah, it's already there.. but people have the option to turn the logging off","date":"2011-11-17T02:05:45.195Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: in that case you should pass CreateFile('nul') i think","date":"2011-11-17T02:06:08.332Z","type":"message"}
{"nick":"piscisaureus_","message":"same for stdin","date":"2011-11-17T02:06:14.574Z","type":"message"}
{"nick":"igorzi","message":"ok, thanks","date":"2011-11-17T02:06:48.288Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2011-11-17T02:23:50.920Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-17T02:31:10.583Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-11-17T02:56:14.926Z","type":"quit"}
{"nick":"indexzero","date":"2011-11-17T03:00:04.181Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2011-11-17T03:00:11.047Z","type":"quit"}
{"nick":"indexzero","date":"2011-11-17T03:01:36.146Z","type":"join"}
{"nick":"mikeal","date":"2011-11-17T03:17:53.095Z","type":"join"}
{"nick":"luxigo","reason":"Ping timeout: 240 seconds","date":"2011-11-17T03:35:28.075Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-17T03:46:19.548Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2011-11-17T04:25:21.109Z","type":"quit"}
{"nick":"indutny","message":"heya","date":"2011-11-17T05:31:47.084Z","type":"message"}
{"nick":"indutny","message":"good morning europe","date":"2011-11-17T05:31:54.781Z","type":"message"}
{"nick":"indutny","message":"good evening USA","date":"2011-11-17T05:31:59.637Z","type":"message"}
{"nick":"paddybyers","date":"2011-11-17T06:40:28.050Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T07:23:20.721Z","type":"quit"}
{"nick":"kuebk","date":"2011-11-17T08:12:54.189Z","type":"join"}
{"nick":"benvie","date":"2011-11-17T08:28:46.130Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-11-17T09:02:39.818Z","type":"join"}
{"nick":"benvie","date":"2011-11-17T09:07:53.120Z","type":"join"}
{"nick":"piscisaureus___","reason":"Read error: Connection reset by peer","date":"2011-11-17T09:11:17.063Z","type":"quit"}
{"nick":"piscisaureus___","date":"2011-11-17T09:12:12.211Z","type":"join"}
{"nick":"benvie","date":"2011-11-17T09:48:13.118Z","type":"quit"}
{"nick":"CoverSlide","reason":"Read error: Connection reset by peer","date":"2011-11-17T10:22:45.656Z","type":"quit"}
{"nick":"CoverSlide","date":"2011-11-17T10:22:51.020Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Artur Adib\u000f \u000307v0.6\u000f * r\u0002960ccdc\u000f \u000310\u000f/ doc/api/addons.markdown \u0002:\u000f docs: clarify addon docs - http://git.io/tI7lAw","date":"2011-11-17T12:17:51.842Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-11-17T12:21:58.843Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00028f15582\u000f \u000310\u000f/ test/simple/test-http-parser.js \u0002:\u000f test: add 'no response headers' http parser test - http://git.io/nMaN0Q","date":"2011-11-17T12:37:32.395Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: hi!","date":"2011-11-17T12:43:47.780Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: hey","date":"2011-11-17T12:43:52.780Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: have you seen my libuv pull?","date":"2011-11-17T12:44:02.374Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: the uv_unref thing?","date":"2011-11-17T12:44:19.948Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yep","date":"2011-11-17T12:45:51.341Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Operation timed out","date":"2011-11-17T12:46:03.030Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: does it pass all libuv and node tests?","date":"2011-11-17T12:47:24.928Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: lets see","date":"2011-11-17T12:54:36.447Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-11-17T12:54:37.904Z","type":"message"}
{"nick":"indutny","message":"it does for node","date":"2011-11-17T12:54:46.684Z","type":"message"}
{"nick":"indutny","message":"not sure for libuv","date":"2011-11-17T12:54:49.144Z","type":"message"}
{"nick":"indutny","message":"4 tests failing","date":"2011-11-17T12:55:52.179Z","type":"message"}
{"nick":"indutny","message":"hm... tty is timing out","date":"2011-11-17T12:56:09.088Z","type":"message"}
{"nick":"indutny","message":"ok, this was too straightforward patch","date":"2011-11-17T12:56:56.422Z","type":"message"}
{"nick":"indutny","message":"sorry","date":"2011-11-17T12:56:57.866Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-17T13:01:35.297Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-17T13:12:22.970Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-11-17T13:14:12.053Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: no worries","date":"2011-11-17T13:24:17.784Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-17T13:24:39.442Z","type":"quit"}
{"nick":"bnoordhuis","message":"i tried something like your PR and it made a couple of tests fail too, that's why i asked","date":"2011-11-17T13:24:39.955Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-17T13:26:26.107Z","type":"join"}
{"nick":"piscisaureus__","date":"2011-11-17T13:33:00.171Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 245 seconds","date":"2011-11-17T13:36:42.127Z","type":"quit"}
{"nick":"piscisaureus__","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-17T14:37:06.665Z","type":"quit"}
{"nick":"indexzero","date":"2011-11-17T14:57:47.506Z","type":"join"}
{"nick":"benvie","date":"2011-11-17T15:14:08.386Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024f38c5e\u000f \u000310\u000f/ test/simple/test-http-response-no-headers.js \u0002:\u000f ","date":"2011-11-17T15:33:42.158Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f test: add 'response body with no headers' http test","date":"2011-11-17T15:33:42.380Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f HTTP/0.9 - fails with a parse error","date":"2011-11-17T15:33:42.381Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f HTTP/1.0 - works","date":"2011-11-17T15:33:42.381Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f HTTP/1.1 - fails with an empty response body","date":"2011-11-17T15:33:42.381Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f See #1711. - http://git.io/IpBFMg","date":"2011-11-17T15:33:42.381Z","type":"message"}
{"nick":"kuebk","date":"2011-11-17T16:00:59.927Z","type":"part"}
{"nick":"isaacs","date":"2011-11-17T16:02:26.973Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-17T16:37:55.380Z","type":"quit"}
{"nick":"mikeal","date":"2011-11-17T16:42:18.574Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2011-11-17T16:44:52.234Z","type":"quit"}
{"nick":"mikeal","date":"2011-11-17T16:50:00.007Z","type":"join"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000228e209f\u000f \u000310\u000f/ (src/unix/core.c src/unix/internal.h src/unix/process.c)\u0002:\u000f ","date":"2011-11-17T17:04:11.658Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f linux: improve kernel feature detection","date":"2011-11-17T17:04:11.875Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Do not check for minimum kernel and glibc versions, just check that the kernel","date":"2011-11-17T17:04:11.875Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f headers export the syscall number and invoke the syscall directly. Effectively","date":"2011-11-17T17:04:11.876Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f bypasses glibc. - http://git.io/cjczNA","date":"2011-11-17T17:04:11.876Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002d5b2615\u000f \u000310\u000f/ (src/unix/core.c src/unix/internal.h src/unix/process.c)\u0002:\u000f ","date":"2011-11-17T17:06:11.929Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f linux: improve kernel feature detection","date":"2011-11-17T17:06:12.148Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Do not check for minimum kernel and glibc versions, just check that the kernel","date":"2011-11-17T17:06:12.148Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f headers export the syscall number and invoke the syscall directly. Effectively","date":"2011-11-17T17:06:12.148Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f bypasses glibc. - http://git.io/0VpnQg","date":"2011-11-17T17:06:12.149Z","type":"message"}
{"nick":"bnoordhuis","message":"^ cleanup++","date":"2011-11-17T17:06:19.790Z","type":"message"}
{"nick":"dap","date":"2011-11-17T17:16:34.216Z","type":"join"}
{"nick":"paddybyers","message":"bnoordhuis: hi","date":"2011-11-17T17:20:30.731Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: ho","date":"2011-11-17T17:21:13.443Z","type":"message"}
{"nick":"paddybyers","message":"I'm running into the  issue about needing to close handles forcibly when an isolate eits","date":"2011-11-17T17:21:34.462Z","type":"message"}
{"nick":"paddybyers","message":"exits","date":"2011-11-17T17:21:36.692Z","type":"message"}
{"nick":"paddybyers","message":"what are you're thoughts?","date":"2011-11-17T17:21:45.253Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: have you looked at the domains branch?","date":"2011-11-17T17:22:21.202Z","type":"message"}
{"nick":"paddybyers","message":"I imagined a list of open handles linked from uv_loop_t","date":"2011-11-17T17:22:25.700Z","type":"message"}
{"nick":"paddybyers","message":"no","date":"2011-11-17T17:22:28.738Z","type":"message"}
{"nick":"bnoordhuis","message":"domains is what ryah and piscisaureus___ came up with to clean up all handles","date":"2011-11-17T17:22:49.521Z","type":"message"}
{"nick":"bnoordhuis","message":"it's still experimental but i think it mostly works","date":"2011-11-17T17:22:59.929Z","type":"message"}
{"nick":"paddybyers","message":"ok, I'll have a look, thanks","date":"2011-11-17T17:23:45.039Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: so everything is programmatically closed from the js end, not from native","date":"2011-11-17T17:27:54.211Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: yes - you want a libuv solution?","date":"2011-11-17T17:28:53.747Z","type":"message"}
{"nick":"paddybyers","message":"not necessarily; but that's what I was thinking; everything is closed even if the application screws with the state in js","date":"2011-11-17T17:29:36.727Z","type":"message"}
{"nick":"paddybyers","message":"but the domains thing will work for me","date":"2011-11-17T17:29:56.733Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2011-11-17T17:34:28.019Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T17:39:10.003Z","type":"quit"}
{"nick":"kuebk^","date":"2011-11-17T17:40:44.399Z","type":"join"}
{"nick":"brson","date":"2011-11-17T17:46:04.361Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-17T17:46:22.499Z","type":"quit"}
{"nick":"ryah","message":"bnoordhuis, paddybyers: our link list of handles will be in the node C++ binding code","date":"2011-11-17T18:02:36.054Z","type":"message"}
{"nick":"ryah","message":"at least that's what we were planning","date":"2011-11-17T18:02:40.878Z","type":"message"}
{"nick":"mikeal","date":"2011-11-17T18:03:32.743Z","type":"join"}
{"nick":"paddybyers","message":"ryah: ok - on a per-isolate basis or a per-domain basis?","date":"2011-11-17T18:16:07.855Z","type":"message"}
{"nick":"ryah","message":"igorzi, bnoordhuis, piscisaureus___, isaacs: im going to skip the call today - trying to focus on finishing my paper","date":"2011-11-17T18:16:26.806Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2011-11-17T18:16:33.202Z","type":"message"}
{"nick":"isaacs","message":"i'm gonna skip as well, focus on finishing node-tar in npm","date":"2011-11-17T18:16:43.617Z","type":"message"}
{"nick":"ryah","message":"paddybyers: per domain - but there will be a linked list of domains","date":"2011-11-17T18:16:53.545Z","type":"message"}
{"nick":"paddybyers","message":"ryah: I see","date":"2011-11-17T18:18:14.521Z","type":"message"}
{"nick":"piscisaureu","date":"2011-11-17T18:18:22.691Z","type":"join"}
{"nick":"piscisaureu","new_nick":"piscisaureus","date":"2011-11-17T18:18:31.857Z","type":"nick"}
{"nick":"paddybyers","message":"ryah: so I was thinking of just having a list of everything needing to be closed when the isolate exits, but it will interfere with your domain changes so I'd better wait","date":"2011-11-17T18:19:37.108Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-17T18:20:07.544Z","type":"quit"}
{"nick":"paddybyers","message":"ryah: when do you think you will be doing that? I guess it's behind all of the other changes to get isolates implemented?","date":"2011-11-17T18:23:49.723Z","type":"message"}
{"nick":"piscisaureus___","message":"for isolates, get rid of shared state first","date":"2011-11-17T18:24:16.269Z","type":"message"}
{"nick":"piscisaureus","new_nick":"piscisaureu","date":"2011-11-17T18:28:36.450Z","type":"nick"}
{"nick":"piscisaureu","new_nick":"piscisaureus","date":"2011-11-17T18:28:59.970Z","type":"nick"}
{"nick":"piscisaureus","reason":"Quit: Leaving.","date":"2011-11-17T18:39:17.348Z","type":"quit"}
{"nick":"piscisaureu","date":"2011-11-17T18:39:31.709Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u00022c52cce\u000f \u000310\u000f/ deps/v8/tools/gyp/v8-node.gyp \u0002:\u000f ","date":"2011-11-17T18:40:01.978Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f v8: compile with __C99FEATURES__=1 on sunos","date":"2011-11-17T18:40:02.206Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Exposes INFINITY, isinf(), isfinite(), etc.","date":"2011-11-17T18:40:02.207Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Re-applies d104e5b91cfa3ef3ef846d5a0ab07c0336263a92, lost in a V8 upgrade. - http://git.io/-S0MpQ","date":"2011-11-17T18:40:02.207Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u00024f8a0cd\u000f \u000310\u000f/ deps/v8/tools/gyp/v8.gyp \u0002:\u000f ","date":"2011-11-17T18:40:02.809Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f v8: add platform-solaris.cc to gyp build","date":"2011-11-17T18:40:03.029Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Re-applies 77e4abbc3e66505af89c57cd7bff555890a33f3f, lost in a V8 upgrade. - http://git.io/R_gf7A","date":"2011-11-17T18:40:03.029Z","type":"message"}
{"nick":"piscisaureu","new_nick":"piscisaureus","date":"2011-11-17T18:40:54.107Z","type":"nick"}
{"nick":"paddybyers","message":"bnoordhuis: re v8-node.gyp; did you see my pull req from yesterday?","date":"2011-11-17T18:42:25.386Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: no?","date":"2011-11-17T18:42:33.810Z","type":"message"}
{"nick":"paddybyers","message":"https://github.com/joyent/node/pull/2125","date":"2011-11-17T18:43:03.922Z","type":"message"}
{"nick":"paddybyers","message":"v8-node.gyp is one of the issues with Xcode/gyp","date":"2011-11-17T18:43:24.922Z","type":"message"}
{"nick":"paddybyers","message":"I don't really understand why it's needed; it seems to build ok where v8.gyp is the dependency, omitting v8-node.gyp completely","date":"2011-11-17T18:44:02.072Z","type":"message"}
{"nick":"paddybyers","message":"otherwise, v8.gyp should really be v8.gypi I think","date":"2011-11-17T18:44:27.222Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: the idea is that we can have v8 specific overrides without having to patch v8.gyp","date":"2011-11-17T18:45:01.489Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: yes, but the specific override that's there - the common.gypi - is redundant","date":"2011-11-17T18:45:33.094Z","type":"message"}
{"nick":"paddybyers","message":"and including v8.gyp as an include file but with the .gyp extension is causing Xcode.py to go wrong","date":"2011-11-17T18:46:04.204Z","type":"message"}
{"nick":"bnoordhuis","message":"don't quote me on this but v8-node.gyp probably exists to work around a gyp bug","date":"2011-11-17T18:46:16.177Z","type":"message"}
{"nick":"bnoordhuis","message":"if you can fix it without (preferably) touching gyp itself, go for it","date":"2011-11-17T18:46:55.280Z","type":"message"}
{"nick":"bnoordhuis","message":"if you need to patch gyp, please upstream the patch","date":"2011-11-17T18:47:09.069Z","type":"message"}
{"nick":"paddybyers","message":"maybe; I did this which worked on debian and darwin","date":"2011-11-17T18:47:14.886Z","type":"message"}
{"nick":"paddybyers","message":"https://github.com/paddybyers/node/tree/gyp-xcode2","date":"2011-11-17T18:47:15.205Z","type":"message"}
{"nick":"paddybyers","message":"without v8-node.gyp","date":"2011-11-17T18:47:22.130Z","type":"message"}
{"nick":"paddybyers","message":"but it would be good to get someone who knows the history to look at it","date":"2011-11-17T18:47:34.492Z","type":"message"}
{"nick":"AvianFlu","date":"2011-11-17T18:47:44.424Z","type":"join"}
{"nick":"creationix","date":"2011-11-17T18:49:40.192Z","type":"join"}
{"nick":"paddybyers","message":"so I think the way to address that issue is either to rename v8.gyp - which isn't great - or remove v8-node.gyp","date":"2011-11-17T18:49:42.992Z","type":"message"}
{"nick":"paddybyers","message":"but I don't know the history, as I said","date":"2011-11-17T18:50:16.286Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: like i said, if you can make it work without touching gyp itself, sure","date":"2011-11-17T18:52:25.028Z","type":"message"}
{"nick":"dap","date":"2011-11-17T18:52:36.225Z","type":"join"}
{"nick":"bnoordhuis","message":"i don't want to maintain too many out-of-tree patches for gyp","date":"2011-11-17T18:52:39.346Z","type":"message"}
{"nick":"bnoordhuis","message":"we have a couple for v8 and see how often it breaks :/","date":"2011-11-17T18:52:52.056Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: quite; the second issue I think is a gyp bug; I filed a bug for that, but no reply yet","date":"2011-11-17T18:54:22.115Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: oh, that's one thing about gyp - the authors don't really check their issue tracker","date":"2011-11-17T18:55:33.363Z","type":"message"}
{"nick":"bnoordhuis","message":"upload it to rietveld and send a message to the gyp-developers ML","date":"2011-11-17T18:55:44.677Z","type":"message"}
{"nick":"bnoordhuis","message":"(actually, i never managed to upload anything to rietveld - it refuses my google apps credentials)","date":"2011-11-17T18:56:11.937Z","type":"message"}
{"nick":"bnoordhuis","message":"but send your patch to the ML and keep nagging until they cave in <- worked for me","date":"2011-11-17T18:56:58.756Z","type":"message"}
{"nick":"paddybyers","message":"ok, I'll try. At least maintaining a gyp patch is better than maintaining 3 build systems :)","date":"2011-11-17T18:57:08.071Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: so that solaris change you just did - is that applicable to other projects or it has to be v8 only?","date":"2011-11-17T19:01:15.800Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: what do you mean by 'other projects'?","date":"2011-11-17T19:01:37.677Z","type":"message"}
{"nick":"paddybyers","message":"node, uv, etc","date":"2011-11-17T19:01:48.876Z","type":"message"}
{"nick":"paddybyers","message":"i.e. it's wrong to put it in the top-level target_defaults ?","date":"2011-11-17T19:02:17.123Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: link?","date":"2011-11-17T19:02:40.569Z","type":"message"}
{"nick":"creationix","message":"I haven't posted all of it","date":"2011-11-17T19:02:58.239Z","type":"message"}
{"nick":"creationix","message":"but most of it is in cradbude's try catch module","date":"2011-11-17T19:03:08.416Z","type":"message"}
{"nick":"creationix","message":"I was a little sad he didn't give me credit when announcing it","date":"2011-11-17T19:03:24.221Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: oh, like that - those patches were specific to v8","date":"2011-11-17T19:03:47.202Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: I am working on domains now, I'd like to see it ","date":"2011-11-17T19:04:15.936Z","type":"message"}
{"nick":"creationix","message":"piscisaureus: trying to figure out the API?","date":"2011-11-17T19:04:30.808Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: put it in Water Cooler :-)","date":"2011-11-17T19:04:33.784Z","type":"message"}
{"nick":"creationix","message":"here is part: https://github.com/CrabDude/trycatch/blob/master/lib/hook.js","date":"2011-11-17T19:06:12.054Z","type":"message"}
{"nick":"creationix","message":"that's my monkey patched event source hook","date":"2011-11-17T19:06:20.677Z","type":"message"}
{"nick":"creationix","message":"and here is the v8 stack trace api abuse https://github.com/CrabDude/trycatch/blob/master/lib/trycatch.js","date":"2011-11-17T19:07:49.844Z","type":"message"}
{"nick":"creationix","message":"I wrote most the core logic, but crabtree polished it a bit","date":"2011-11-17T19:08:00.081Z","type":"message"}
{"nick":"raggi","date":"2011-11-17T19:19:21.694Z","type":"part"}
{"nick":"raggi","date":"2011-11-17T19:20:18.093Z","type":"join"}
{"nick":"raggi","date":"2011-11-17T19:20:23.043Z","type":"part"}
{"nick":"raggi","date":"2011-11-17T19:21:01.885Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303E. Azer Koçulu\u000f \u000307master\u000f * r\u0002e258169\u000f \u000310\u000f/ lib/util.js \u0002:\u000f util: remove the line requiring events - http://git.io/U2SLWg","date":"2011-11-17T19:22:47.598Z","type":"message"}
{"nick":"creationix","message":"piscisaureus: actually, that entire library is what I wrote, just packed up and polished a bit","date":"2011-11-17T19:23:30.255Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: ok, I think then that we should keep v8-node.gyp and I've made a comment on the pull request - but someone your end needs to decide now if it's ok to rename v8.gyp or better to patch gyp instead.","date":"2011-11-17T19:29:25.336Z","type":"message"}
{"nick":"paddybyers","message":"I'm happy to try to upstream the other gyp change","date":"2011-11-17T19:29:36.719Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: v8.gyp comes from upstream so it can't be renamed","date":"2011-11-17T19:32:24.367Z","type":"message"}
{"nick":"paddybyers","message":"yes :( - in effect you'd be adding yet another file to the tree, just like v8-node.gyp, except it's a verbatim copy of an existing file","date":"2011-11-17T19:33:23.692Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose i could live with a symlink","date":"2011-11-17T19:34:20.181Z","type":"message"}
{"nick":"bnoordhuis","message":"but i don't know how that would work on windows","date":"2011-11-17T19:34:28.187Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: are we going to see a commit for unifying HandleWrap and ReqWrap soon?","date":"2011-11-17T19:34:39.348Z","type":"message"}
{"nick":"paddybyers","message":"it depends what you think is the lesser of two evils","date":"2011-11-17T19:34:44.791Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: we're going to need these linked lists rather soon for isolates","date":"2011-11-17T19:34:54.718Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: git + symlinks + windows = ?","date":"2011-11-17T19:35:53.615Z","type":"message"}
{"nick":"ryah","message":"no symlinks in the tree","date":"2011-11-17T19:37:15.659Z","type":"message"}
{"nick":"ryah","message":"please","date":"2011-11-17T19:37:18.056Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: the alternative is I can \"fix\" Xcode.py - to break their spec but at least behave the same as the other generators","date":"2011-11-17T19:37:29.662Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: sure, but only if the gyp people will accept that patch","date":"2011-11-17T19:38:20.590Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm not making it easy, am i?","date":"2011-11-17T19:38:30.696Z","type":"message"}
{"nick":"paddybyers","message":"which they won't because it's not their bug","date":"2011-11-17T19:38:45.062Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: why does assert.equal(1, true) pass?","date":"2011-11-17T19:41:37.664Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: because it's using ==, not ===","date":"2011-11-17T19:41:56.194Z","type":"message"}
{"nick":"bnoordhuis","message":"ah right, i'll use .strictEqual","date":"2011-11-17T19:42:10.954Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u0002b0030af\u000f \u000310\u000f/ (src/node.h src/node_object_wrap.h)\u0002:\u000f Fixes #2140. Fix illumos build. - http://git.io/PgXwXA","date":"2011-11-17T19:42:27.876Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: in a teleological sense, it passes so that people will write their own test frameworks ;)","date":"2011-11-17T19:42:28.613Z","type":"message"}
{"nick":"bnoordhuis","message":"heh :)","date":"2011-11-17T19:42:41.468Z","type":"message"}
{"nick":"indexzero","date":"2011-11-17T19:43:20.063Z","type":"join"}
{"nick":"bnoordhuis","message":"ryah: i didn't need that commit to make node compile again","date":"2011-11-17T19:47:45.539Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: one sec.. let me check","date":"2011-11-17T19:48:54.566Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i have a newer version of the os","date":"2011-11-17T19:49:03.352Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, mine's a 121 machine","date":"2011-11-17T19:49:24.645Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis, rmustacc: we need to get Ben a zone on bh too","date":"2011-11-17T19:49:53.281Z","type":"message"}
{"nick":"ryah","message":"ill talk to bryan about it","date":"2011-11-17T19:50:32.276Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2011-11-17T19:50:52.481Z","type":"message"}
{"nick":"rmustacc","message":"ryah: Easier to get him one on the public cloud.","date":"2011-11-17T19:54:14.331Z","type":"message"}
{"nick":"rmustacc","message":"The new JPC is all 147, or a larger no.de zone probably.","date":"2011-11-17T19:54:55.850Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yeah that commit is necessary to build on the latest","date":"2011-11-17T19:56:48.339Z","type":"message"}
{"nick":"ryah","message":"it's probably gcc though","date":"2011-11-17T19:57:06.140Z","type":"message"}
{"nick":"ryah","message":"# gcc --version","date":"2011-11-17T19:57:06.903Z","type":"message"}
{"nick":"ryah","message":"gcc (GCC) 4.5.2","date":"2011-11-17T19:57:07.696Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T19:58:41.991Z","type":"quit"}
{"nick":"bnoordhuis","message":"rmustacc: i have a no.de instance but i can't build x64 builds for some reason","date":"2011-11-17T19:58:56.899Z","type":"message"}
{"nick":"bnoordhuis","message":"they always error out with virtual memory errors (on a 2gb instance)","date":"2011-11-17T19:59:10.510Z","type":"message"}
{"nick":"rmustacc","message":"bnoordhuis: Then we should figure out what's going on there.","date":"2011-11-17T19:59:45.410Z","type":"message"}
{"nick":"rmustacc","message":"The other stuff isn't really different at all.","date":"2011-11-17T19:59:59.325Z","type":"message"}
{"nick":"indexzero","date":"2011-11-17T20:00:31.860Z","type":"join"}
{"nick":"bnoordhuis","message":"let me try it again, haven't logged on in a while","date":"2011-11-17T20:01:00.035Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002b0030af\u000f \u000310\u000f/ (src/node.h src/node_object_wrap.h)\u0002:\u000f Fixes #2140. Fix illumos build. - http://git.io/PgXwXA","date":"2011-11-17T20:08:03.060Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002bed405c\u000f \u000310\u000f/ (9 files in 6 dirs)\u0002:\u000f Merge remote branch 'origin/v0.6' - http://git.io/0Qd_yw","date":"2011-11-17T20:08:03.276Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002534e41b\u000f \u000310\u000f/ (src/node_crypto.cc test/simple/test-crypto.js)\u0002:\u000f ","date":"2011-11-17T20:17:46.178Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f crypto: make verify() return true or false, not 1 or 0","date":"2011-11-17T20:17:46.400Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f It's what the documentation says it should return. - http://git.io/ZNrGWQ","date":"2011-11-17T20:17:46.400Z","type":"message"}
{"nick":"mikeal","message":"ryah: i talked with one of the Chrome guys a few weeks ago","date":"2011-11-17T20:21:03.932Z","type":"message"}
{"nick":"mikeal","message":"at at W3C working group on game development","date":"2011-11-17T20:21:15.504Z","type":"message"}
{"nick":"mikeal","message":"they are doing a ton of stuff with WebWorkers","date":"2011-11-17T20:21:25.513Z","type":"message"}
{"nick":"mikeal","message":"one passes messages by reference and blocks mutation ","date":"2011-11-17T20:21:44.287Z","type":"message"}
{"nick":"mikeal","message":"another, which is incomplete, actually allows you to pass \"ownership\" of objects to a worker, so they are no longer mutable in the other isolate until released","date":"2011-11-17T20:22:19.179Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: git + symlinks + windows = failure","date":"2011-11-17T20:22:40.977Z","type":"message"}
{"nick":"mikeal","message":"not ready for us to use yet, but it's something to think about for future optimizations","date":"2011-11-17T20:22:42.656Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: dont","date":"2011-11-17T20:22:48.613Z","type":"message"}
{"nick":"mikeal","message":"git + symlinks = failure","date":"2011-11-17T20:22:50.978Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i won't","date":"2011-11-17T20:22:56.329Z","type":"message"}
{"nick":"mikeal","message":"forget windows","date":"2011-11-17T20:22:59.674Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: re linked list - tomorrow","date":"2011-11-17T20:23:14.689Z","type":"message"}
{"nick":"creationix","message":"mikeal: git + symlinks + submodules = madness","date":"2011-11-17T20:23:31.766Z","type":"message"}
{"nick":"mikeal","message":"i stopped using submodules even","date":"2011-11-17T20:23:45.980Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: merging HandleWrap + ReqWrap i can't get right","date":"2011-11-17T20:23:51.815Z","type":"message"}
{"nick":"mikeal","message":"i install npm packages and check the files in to git","date":"2011-11-17T20:23:58.625Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: but I can give them a common base class","date":"2011-11-17T20:23:59.663Z","type":"message"}
{"nick":"mikeal","message":"then i have a diff in the project for dep changes","date":"2011-11-17T20:24:10.215Z","type":"message"}
{"nick":"piscisaureus","message":"mikeal: *sigh* I though we got over the forget windows part","date":"2011-11-17T20:29:15.749Z","type":"message"}
{"nick":"mikeal","message":"i didn't mean it like that","date":"2011-11-17T20:36:34.320Z","type":"message"}
{"nick":"mikeal","message":"i meant it joined with the prevoius comment","date":"2011-11-17T20:36:42.562Z","type":"message"}
{"nick":"mikeal","message":"\"forget windows, just git and symlinks are already FAIL\"","date":"2011-11-17T20:36:54.865Z","type":"message"}
{"nick":"mikeal","message":"but it didn't come together that way","date":"2011-11-17T20:37:08.653Z","type":"message"}
{"nick":"mikeal","message":"i'm all for good windows support, even though I'll likely never use it","date":"2011-11-17T20:37:21.758Z","type":"message"}
{"nick":"piscisaureus","message":"mikeal: ah, I just misunderstood","date":"2011-11-17T20:37:42.009Z","type":"message"}
{"nick":"piscisaureus","message":"damn, I was in for a good fighting","date":"2011-11-17T20:38:34.239Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: Leaving.","date":"2011-11-17T20:43:55.372Z","type":"quit"}
{"nick":"piscisaureu","date":"2011-11-17T20:44:18.784Z","type":"join"}
{"nick":"piscisaureu","reason":"Client Quit","date":"2011-11-17T20:44:20.021Z","type":"quit"}
{"nick":"bnoordhuis","message":"rmustacc: `make -C out` -> \"ld: fatal: mmap anon failed: Resource temporarily unavailable\" while compiling v8, with and without --without-snapshot","date":"2011-11-17T20:52:35.965Z","type":"message"}
{"nick":"mraleph","date":"2011-11-17T20:52:55.644Z","type":"join"}
{"nick":"bnoordhuis","message":"this is on bender.no.de btw","date":"2011-11-17T20:52:56.392Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T20:53:22.383Z","type":"quit"}
{"nick":"rmustacc","message":"How much space do you ahve on that VM?","date":"2011-11-17T20:56:02.715Z","type":"message"}
{"nick":"rmustacc","message":"*have","date":"2011-11-17T20:56:07.592Z","type":"message"}
{"nick":"rmustacc","message":"Err zone","date":"2011-11-17T20:56:09.873Z","type":"message"}
{"nick":"indexzero","date":"2011-11-17T20:56:18.225Z","type":"join"}
{"nick":"rmustacc","message":"Sounds like dram was bumped, but not swap.","date":"2011-11-17T20:56:18.441Z","type":"message"}
{"nick":"bnoordhuis","message":"rmustacc: prtconf says 2 GB","date":"2011-11-17T20:56:51.067Z","type":"message"}
{"nick":"bnoordhuis","message":"`swap -s` -> total: 57396k bytes allocated + 0k reserved = 57396k used, 204748k available","date":"2011-11-17T20:57:19.312Z","type":"message"}
{"nick":"rmustacc","message":"Well there's your problem.","date":"2011-11-17T20:58:17.064Z","type":"message"}
{"nick":"rmustacc","message":"Someone bumped your DRAM but not your swap.","date":"2011-11-17T20:58:22.997Z","type":"message"}
{"nick":"bnoordhuis","message":"so how do i fix it?","date":"2011-11-17T20:58:37.638Z","type":"message"}
{"nick":"rmustacc","message":"Support needs to fix it.","date":"2011-11-17T20:59:06.817Z","type":"message"}
{"nick":"rmustacc","message":"Whoever did the resize messed up.","date":"2011-11-17T20:59:24.266Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah :)","date":"2011-11-17T20:59:39.668Z","type":"message"}
{"nick":"bnoordhuis","message":"do you have an email address for me?","date":"2011-11-17T21:00:07.195Z","type":"message"}
{"nick":"indexzero","reason":"Client Quit","date":"2011-11-17T21:00:11.426Z","type":"quit"}
{"nick":"rmustacc","message":"Whenever you get anonymous memory we force a reservation against swap.","date":"2011-11-17T21:00:24.757Z","type":"message"}
{"nick":"rmustacc","message":"We do that instead of the OOM killer.","date":"2011-11-17T21:00:34.236Z","type":"message"}
{"nick":"bnoordhuis","message":"i think i found the support form","date":"2011-11-17T21:02:38.411Z","type":"message"}
{"nick":"bnoordhuis","message":"filing support tickets with your own company...","date":"2011-11-17T21:02:58.725Z","type":"message"}
{"nick":"rmustacc","message":"Well, I'd just have ryah do it.","date":"2011-11-17T21:04:22.408Z","type":"message"}
{"nick":"rmustacc","message":"I just don't have access (purposefully) to our production systems.","date":"2011-11-17T21:04:29.702Z","type":"message"}
{"nick":"rmustacc","message":"isaacs may even be able to do it for you.","date":"2011-11-17T21:04:38.427Z","type":"message"}
{"nick":"isaacs","message":"rmustacc: where's this?  on no.de?","date":"2011-11-17T21:05:30.675Z","type":"message"}
{"nick":"isaacs","message":"bender.no.de","date":"2011-11-17T21:05:42.020Z","type":"message"}
{"nick":"rmustacc","message":"isaacs: Yeah. ryah resized a zone for bnoordhuis but didn't increase the swap.","date":"2011-11-17T21:05:47.332Z","type":"message"}
{"nick":"isaacs","message":"yeah, i can tinker with that, just a sec","date":"2011-11-17T21:05:47.555Z","type":"message"}
{"nick":"rmustacc","message":"So the swap setting is still the old no.de value of 256 MB, not 4 GB to correspond to a 2 GB zone.","date":"2011-11-17T21:06:10.118Z","type":"message"}
{"nick":"isaacs","message":"ok, should be good now.","date":"2011-11-17T21:06:34.018Z","type":"message"}
{"nick":"isaacs","message":"adminui should probably not even let you set the swap as < 2x the ram","date":"2011-11-17T21:06:51.722Z","type":"message"}
{"nick":"isaacs","message":"that seems like a common mistake.  anyway, not a #libuv issue :)","date":"2011-11-17T21:07:06.923Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: thanks!","date":"2011-11-17T21:07:35.649Z","type":"message"}
{"nick":"isaacs","message":"np","date":"2011-11-17T21:07:49.889Z","type":"message"}
{"nick":"bnoordhuis","message":"LINK(target) /home/node/src/node/out/Debug/node: Finished <- happy joy joy","date":"2011-11-17T21:08:17.166Z","type":"message"}
{"nick":"piscisaureu","date":"2011-11-17T21:14:57.221Z","type":"join"}
{"nick":"isaacs","message":"is this on purpose?","date":"2011-11-17T21:18:10.611Z","type":"message"}
{"nick":"isaacs","message":"> x = function () { return \"hello\" }","date":"2011-11-17T21:18:11.446Z","type":"message"}
{"nick":"isaacs","message":"[Function]","date":"2011-11-17T21:18:11.785Z","type":"message"}
{"nick":"isaacs","message":"> x )(","date":"2011-11-17T21:18:12.005Z","type":"message"}
{"nick":"isaacs","message":"'hello'","date":"2011-11-17T21:18:12.224Z","type":"message"}
{"nick":"isaacs","message":"you can put the parens in the wrong order in th erepl","date":"2011-11-17T21:18:19.641Z","type":"message"}
{"nick":"isaacs","message":"it's not a v8 thing","date":"2011-11-17T21:18:30.932Z","type":"message"}
{"nick":"isaacs","message":"x)(","date":"2011-11-17T21:18:48.945Z","type":"message"}
{"nick":"isaacs","message":" ^","date":"2011-11-17T21:18:49.340Z","type":"message"}
{"nick":"isaacs","message":"SyntaxError: Unexpected token )","date":"2011-11-17T21:18:49.555Z","type":"message"}
{"nick":"piscisaureu","message":"lol","date":"2011-11-17T21:19:14.724Z","type":"message"}
{"nick":"bnoordhuis","message":"that's awesome","date":"2011-11-17T21:19:34.476Z","type":"message"}
{"nick":"bnoordhuis","message":"> x)(","date":"2011-11-17T21:19:57.798Z","type":"message"}
{"nick":"bnoordhuis","message":"'hello'","date":"2011-11-17T21:19:58.116Z","type":"message"}
{"nick":"bnoordhuis","message":"^ wfm as well","date":"2011-11-17T21:20:01.551Z","type":"message"}
{"nick":"piscisaureu","reason":"Ping timeout: 244 seconds","date":"2011-11-17T21:26:13.174Z","type":"quit"}
{"nick":"paddybyers_","date":"2011-11-17T21:31:03.869Z","type":"join"}
{"nick":"ryah","message":"why deos that happen?","date":"2011-11-17T21:31:39.688Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: hey - ","date":"2011-11-17T21:34:13.039Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: why not put https://github.com/joyent/node/commit/e2581696669003fdd691c167ff1500ef16dddb32 on v0.6 ?","date":"2011-11-17T21:34:20.273Z","type":"message"}
{"nick":"piscisaureu","date":"2011-11-17T21:34:23.041Z","type":"join"}
{"nick":"ryah","message":"almost all commits should be landing in v0.6 right now","date":"2011-11-17T21:34:32.102Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, okay","date":"2011-11-17T21:34:37.466Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 240 seconds","date":"2011-11-17T21:34:40.054Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2011-11-17T21:34:41.208Z","type":"nick"}
{"nick":"bnoordhuis","message":"trivial change - could wait for 0.8","date":"2011-11-17T21:34:53.047Z","type":"message"}
{"nick":"ryah","message":"sure - i just want to make sure we're landing bug fixes in v0.6 not in master","date":"2011-11-17T21:35:15.162Z","type":"message"}
{"nick":"piscisaureu","reason":"Read error: Connection reset by peer","date":"2011-11-17T21:35:50.866Z","type":"quit"}
{"nick":"piscisaureu1","date":"2011-11-17T21:35:53.303Z","type":"join"}
{"nick":"bnoordhuis","message":"ryah: what about e.g. https://github.com/joyent/node/commit/534e41b ?","date":"2011-11-17T21:36:10.102Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a bug fix but one could also view it as an api change","date":"2011-11-17T21:36:25.350Z","type":"message"}
{"nick":"piscisaureu1","reason":"Client Quit","date":"2011-11-17T21:36:25.804Z","type":"quit"}
{"nick":"bnoordhuis","message":"(i landed it in master btw)","date":"2011-11-17T21:36:34.611Z","type":"message"}
{"nick":"ryah","message":"it should also go in v0.6","date":"2011-11-17T21:36:47.804Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, i'll merge them","date":"2011-11-17T21:36:59.216Z","type":"message"}
{"nick":"ryah","message":"but it doesn't mater much..","date":"2011-11-17T21:37:05.526Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-11-17T21:37:59.159Z","type":"join"}
{"nick":"piscisaureus_","message":"ryah: process.cwd and process.env","date":"2011-11-17T21:40:45.570Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: you are making that read only for isolates","date":"2011-11-17T21:40:53.868Z","type":"message"}
{"nick":"piscisaureus_","message":"or a perisolate value?","date":"2011-11-17T21:40:57.964Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: *shrug*","date":"2011-11-17T21:42:45.432Z","type":"message"}
{"nick":"ryah","message":"why?","date":"2011-11-17T21:42:50.842Z","type":"message"}
{"nick":"ryah","message":"env should be writable","date":"2011-11-17T21:43:23.666Z","type":"message"}
{"nick":"ryah","message":"we'll need a lock","date":"2011-11-17T21:43:26.764Z","type":"message"}
{"nick":"bnoordhuis","message":"what does it need to be writable for nowadays?","date":"2011-11-17T21:43:58.088Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: nah not a lock","date":"2011-11-17T21:44:10.840Z","type":"message"}
{"nick":"bnoordhuis","message":"it was originally for setting the TZ but that turned out to not work anyway","date":"2011-11-17T21:44:20.245Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: now you can have your cwd changed right under your feet","date":"2011-11-17T21:44:24.026Z","type":"message"}
{"nick":"piscisaureus_","message":"it's a great way for interthread communication","date":"2011-11-17T21:44:57.816Z","type":"message"}
{"nick":"piscisaureus_","message":"process.env.message={ foo: 'bar' } // visible to all isolates","date":"2011-11-17T21:45:17.675Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: yes, cwd can be cahnged right under your feet","date":"2011-11-17T21:48:03.132Z","type":"message"}
{"nick":"ryah","message":"cwd is a stupid concept, imo","date":"2011-11-17T21:48:13.126Z","type":"message"}
{"nick":"ryah","message":"i get the intent - but - i dont know","date":"2011-11-17T21:48:37.807Z","type":"message"}
{"nick":"piscisaureus_","message":"just get rid of chdir :-)","date":"2011-11-17T21:48:53.293Z","type":"message"}
{"nick":"piscisaureus_","message":"or make it internal to node","date":"2011-11-17T21:49:03.844Z","type":"message"}
{"nick":"piscisaureus_","message":"prefix it to every path","date":"2011-11-17T21:49:08.725Z","type":"message"}
{"nick":"piscisaureus_","message":"but don't make the chdir syscall","date":"2011-11-17T21:49:17.043Z","type":"message"}
{"nick":"ryah","message":"yeah..","date":"2011-11-17T21:49:53.444Z","type":"message"}
{"nick":"rmustacc","message":"It wouldn't be too bad. Just use all the *at syscalls instead of the normal ones.","date":"2011-11-17T21:49:54.123Z","type":"message"}
{"nick":"ryah","message":"rmustacc: what's that?","date":"2011-11-17T21:50:12.962Z","type":"message"}
{"nick":"piscisaureus_","message":"hack libeio","date":"2011-11-17T21:50:17.312Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: it means you specify a fd that's the current directory to an fs call","date":"2011-11-17T21:50:44.283Z","type":"message"}
{"nick":"rmustacc","message":"ryah: look at the openat syscall.","date":"2011-11-17T21:56:11.674Z","type":"message"}
{"nick":"ryah","message":"% grep -R openat /usr/include | wc -l","date":"2011-11-17T21:57:58.455Z","type":"message"}
{"nick":"ryah","message":"       0","date":"2011-11-17T21:58:01.320Z","type":"message"}
{"nick":"rmustacc","message":"ryah: What machine?","date":"2011-11-17T21:59:34.445Z","type":"message"}
{"nick":"ryah","message":"darwin","date":"2011-11-17T21:59:45.989Z","type":"message"}
{"nick":"rmustacc","message":"Oh, they didn't add support for posix 2008?","date":"2011-11-17T22:00:12.883Z","type":"message"}
{"nick":"rmustacc","message":"That's crappy.","date":"2011-11-17T22:00:15.798Z","type":"message"}
{"nick":"piscisaureus_","message":"my suggestion is to not make the chdir syscall","date":"2011-11-17T22:00:49.394Z","type":"message"}
{"nick":"piscisaureus_","message":"just change proces._cwd","date":"2011-11-17T22:00:56.697Z","type":"message"}
{"nick":"piscisaureus_","message":"and prefix that to every filename in fs","date":"2011-11-17T22:01:10.277Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: seems somewhat reasonable","date":"2011-11-17T22:01:17.156Z","type":"message"}
{"nick":"ryah","message":"as long as we document it","date":"2011-11-17T22:01:22.622Z","type":"message"}
{"nick":"piscisaureus_","message":"yep well","date":"2011-11-17T22:01:31.799Z","type":"message"}
{"nick":"piscisaureus_","message":"there's no real reason for users to want to change the actual cwd","date":"2011-11-17T22:01:52.124Z","type":"message"}
{"nick":"piscisaureus_","message":"the only risk is people renaming directories","date":"2011-11-17T22:02:03.092Z","type":"message"}
{"nick":"ryah","message":"*shrug*","date":"2011-11-17T22:02:04.801Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303E. Azer Koçulu\u000f \u000307v0.6\u000f * r\u00021cb6fe4\u000f \u000310\u000f/ lib/util.js \u0002:\u000f util: remove the line requiring events - http://git.io/K2Yshw","date":"2011-11-17T22:02:27.282Z","type":"message"}
{"nick":"piscisaureus_","message":"that's what I thought","date":"2011-11-17T22:02:27.504Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u00023ac5f11\u000f \u000310\u000f/ (src/node_crypto.cc test/simple/test-crypto.js)\u0002:\u000f ","date":"2011-11-17T22:02:27.814Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f crypto: make verify() return true or false, not 1 or 0","date":"2011-11-17T22:02:28.035Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f It's what the documentation says it should return. - http://git.io/JX6SIg","date":"2011-11-17T22:02:28.035Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u00029d3faf4\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f crypto: add support for RSA public key signing/verification - http://git.io/-YSxNA","date":"2011-11-17T22:02:28.035Z","type":"message"}
{"nick":"paddybyers","message":"so is the idea that all isolates share the env? and each can change the env for all others in the same process?","date":"2011-11-17T22:05:32.078Z","type":"message"}
{"nick":"piscisaureus_","message":"that is also pretty pointless","date":"2011-11-17T22:05:49.352Z","type":"message"}
{"nick":"piscisaureus_","message":"we could just always pass env to child processes","date":"2011-11-17T22:06:04.730Z","type":"message"}
{"nick":"bnoordhuis","message":"that could be an awesome approach to inter-isolate IPC","date":"2011-11-17T22:06:16.478Z","type":"message"}
{"nick":"paddybyers","message":"so I ran into a problem with options.env.NODE_CHANNEL_FD = 42","date":"2011-11-17T22:06:18.490Z","type":"message"}
{"nick":"piscisaureus_","message":"hehe","date":"2011-11-17T22:06:33.042Z","type":"message"}
{"nick":"paddybyers","message":"i.e. it needs to be set up in the firmed child's env, but not the parent","date":"2011-11-17T22:06:34.523Z","type":"message"}
{"nick":"paddybyers","message":"(forked)","date":"2011-11-17T22:06:44.226Z","type":"message"}
{"nick":"piscisaureus_","message":"we need a mutex around spawn","date":"2011-11-17T22:07:03.125Z","type":"message"}
{"nick":"paddybyers","message":"I had a set of local env overrides for each isolate; lookups look in the overrides first, then in the real env","date":"2011-11-17T22:07:12.019Z","type":"message"}
{"nick":"piscisaureus_","message":"that's a nice idea","date":"2011-11-17T22:08:09.813Z","type":"message"}
{"nick":"rmustacc","message":"piscisaureus_: That works as long as the first character in the path isn't a /.","date":"2011-11-17T22:10:46.410Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: btw, https://github.com/bnoordhuis/libuv/compare/mutexes <- review?","date":"2011-11-17T22:11:04.505Z","type":"message"}
{"nick":"bnoordhuis","message":"12 changed files with 596 additions and 82 deletions <- and 80% of that is to implement mutexes and rwlocks on windows...","date":"2011-11-17T22:11:56.494Z","type":"message"}
{"nick":"pquerna","message":"are xplatofm atomics coming too?","date":"2011-11-17T22:15:48.790Z","type":"message"}
{"nick":"piscisaureus_","message":"rmustacc: I know, it also doesn't work on windows. We should use path.resolve.","date":"2011-11-17T22:16:31.810Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok, looks good, but I will need some time for thorough review","date":"2011-11-17T22:17:41.749Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but I have to tell you, uv__rwlock_trywrlock_fallback will fail on windows vista","date":"2011-11-17T22:18:31.720Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but +1 for doing it right :-)","date":"2011-11-17T22:19:16.476Z","type":"message"}
{"nick":"piscisaureus_","message":"(although you would get +2 for using critical sections instead of mutexes) :-)","date":"2011-11-17T22:19:52.338Z","type":"message"}
{"nick":"piscisaureus_","message":"pquerna: atomics?","date":"2011-11-17T22:21:01.502Z","type":"message"}
{"nick":"piscisaureus_","message":"pquerna: like cmpxchl etc?","date":"2011-11-17T22:21:15.768Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why would uv__rwlock_trywrlock_fallback fail?","date":"2011-11-17T22:21:52.473Z","type":"message"}
{"nick":"bnoordhuis","message":"it's only used in windows xp btw","date":"2011-11-17T22:22:25.201Z","type":"message"}
{"nick":"bnoordhuis","message":"and it uses critical sections actually :)","date":"2011-11-17T22:22:43.163Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because the try functions are not supported on windows cista","date":"2011-11-17T22:22:57.608Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so uv_rwlock_try* will go to the fallback","date":"2011-11-17T22:23:13.670Z","type":"message"}
{"nick":"piscisaureus_","message":"and will then fail","date":"2011-11-17T22:23:16.222Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that was what I was working on the other day","date":"2011-11-17T22:23:26.797Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean it doesn't have TryEnterCriticalSection? or TryAcquireSRWLockShared?","date":"2011-11-17T22:23:58.034Z","type":"message"}
{"nick":"pquerna","message":"piscisaureus_: yes, http://apr.apache.org/docs/apr/1.4/group__apr__atomic.html","date":"2011-11-17T22:24:39.807Z","type":"message"}
{"nick":"bnoordhuis","message":"ah... windows 7","date":"2011-11-17T22:24:45.633Z","type":"message"}
{"nick":"bnoordhuis","message":"ffs","date":"2011-11-17T22:24:47.684Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: so i assume i should use the fallback on both xp and vista? and only use srwlocks on win7?","date":"2011-11-17T22:26:41.736Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I have a different plant.. I will talk to you later","date":"2011-11-17T22:27:45.711Z","type":"message"}
{"nick":"piscisaureus_","message":"*plam","date":"2011-11-17T22:27:48.662Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2011-11-17T22:28:05.858Z","type":"message"}
{"nick":"bnoordhuis","message":"http://lwn.net/Articles/467852 <- \"If AT&T had not brought suit (or better yet, bought BSDI), Linux would never have become popular at all and BSD would dominate the world.\"","date":"2011-11-17T22:33:46.835Z","type":"message"}
{"nick":"bnoordhuis","message":"that tanenbaum guy","date":"2011-11-17T22:33:53.386Z","type":"message"}
{"nick":"bnoordhuis","message":"'overly optimistic' doesn't do it justice","date":"2011-11-17T22:34:13.223Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000229d8ff5\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f build: remove v8-node.gyp - http://git.io/BXTp8A","date":"2011-11-17T22:49:12.083Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Paddy Byers\u000f \u000307master\u000f * r\u00024f8d6d0\u000f \u000310\u000f/ tools/gyp/pylib/gyp/generator/xcode.py \u0002:\u000f ","date":"2011-11-17T22:51:31.549Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f build: fix gyp xcode project generator","date":"2011-11-17T22:51:31.767Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Only attempt to generate FrameworkPhase output for code targets. - http://git.io/yIdXCw","date":"2011-11-17T22:51:31.767Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: ^","date":"2011-11-17T22:53:25.581Z","type":"message"}
{"nick":"ryah","message":"http://dtrace.org/resources/bmc/QCon.pdf <-- ","date":"2011-11-17T22:54:06.516Z","type":"message"}
{"nick":"ryah","message":"igorzi, piscisaureus_: https://github.com/joyent/node/issues/2119","date":"2011-11-17T22:55:11.445Z","type":"message"}
{"nick":"ryah","message":"paddybyers: do you suggest we use the xcode build by default?","date":"2011-11-17T22:56:09.658Z","type":"message"}
{"nick":"paddybyers","message":"ryah: Once it's stable, then I guess so","date":"2011-11-17T22:58:17.855Z","type":"message"}
{"nick":"piscisaureus_","message":"spaces. again","date":"2011-11-17T22:58:55.450Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues?state=open&milestone=9","date":"2011-11-17T22:59:12.617Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-17T22:59:20.010Z","type":"quit"}
{"nick":"ryah","message":"^-- other bugs for v0.6.2","date":"2011-11-17T22:59:20.327Z","type":"message"}
{"nick":"ryah","topic":"v0.6.2 tomorrow. release manager: bnoordhuis","date":"2011-11-17T22:59:35.777Z","type":"topic"}
{"nick":"igorzi","message":"probably need to put quotes somewhere in v8.gyp","date":"2011-11-17T23:00:00.217Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Trevor Burnham\u000f \u000307v0.6\u000f * r\u000206d71ad\u000f \u000310\u000f/ doc/api/fs.markdown \u0002:\u000f docs: document the `persistent` option for `fs.watch` and `fs.watchFile` - http://git.io/wJ9CYQ","date":"2011-11-17T23:01:10.780Z","type":"message"}
{"nick":"paddybyers","message":"ryah: so it does something like gyp -f xcode; xcodebuild ","date":"2011-11-17T23:01:47.817Z","type":"message"}
{"nick":"bnoordhuis","action":"locks #2105","date":"2011-11-17T23:09:55.325Z","type":"action"}
{"nick":"bnoordhuis","message":"(it was mine anyway)","date":"2011-11-17T23:10:04.243Z","type":"message"}
{"nick":"indexzero","date":"2011-11-17T23:11:54.774Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will give you an answer tomorrow","date":"2011-11-17T23:16:00.968Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: going to sleep now","date":"2011-11-17T23:16:05.372Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: sleep tight, bertje","date":"2011-11-17T23:16:14.055Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: get up early tomorrow, because I will too","date":"2011-11-17T23:16:24.668Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-11-17T23:16:28.389Z","type":"quit"}
{"nick":"piscisaureus_","message":":-)","date":"2011-11-17T23:16:29.414Z","type":"message"}
{"nick":"mraleph","date":"2011-11-17T23:16:43.176Z","type":"join"}
{"nick":"bnoordhuis","message":"heh, i'll probably be up earlier than you :)","date":"2011-11-17T23:16:46.266Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: https://gist.github.com/1374904","date":"2011-11-17T23:19:39.580Z","type":"message"}
{"nick":"paddybyers","message":"ryah: so what works now is: ./configure; xcodebuild -project node.xcodeproj","date":"2011-11-17T23:19:47.454Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: remember that conversation yesterday about CreateFile(\"nul\")?","date":"2011-11-17T23:20:04.579Z","type":"message"}
{"nick":"paddybyers","message":"so I'm not sure if anything needs changing - if someone types \"make\" won't they expect it to build with make instead of xcodebuild?","date":"2011-11-17T23:20:29.406Z","type":"message"}
{"nick":"igorzi","message":"we ran into this bug in uv_guess_handle when setting node's stdio handles to CreateFile(\"nul\")","date":"2011-11-17T23:20:59.248Z","type":"message"}
{"nick":"paddybyers","message":"ryah: that's how v8 is set up; maybe it is just an issue with the build instructions","date":"2011-11-17T23:22:07.793Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: is there no other way to detect that the thing is NUL?","date":"2011-11-17T23:22:46.084Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but for now lgtm","date":"2011-11-17T23:22:50.897Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it will just fail in unexpected ways if the handle is invalid and not NUL :-)","date":"2011-11-17T23:23:15.321Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: actually, land it. Let's not waste time on this.","date":"2011-11-17T23:23:48.569Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i think it'll also work with other 'special' files: LPT1, COM1, etc","date":"2011-11-17T23:25:27.310Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: You can distinguish between a \"valid\" return of FILE_TYPE_UNKNOWN and its return due to a calling error (for example, passing an invalid handle to GetFileType) by calling GetLastError.","date":"2011-11-17T23:25:44.564Z","type":"message"}
{"nick":"piscisaureus_","message":"(from msdn)","date":"2011-11-17T23:25:47.901Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe do that","date":"2011-11-17T23:25:49.957Z","type":"message"}
{"nick":"igorzi","message":"GetFileType succeeds.. it's GetConsoleMode that fails","date":"2011-11-17T23:26:31.794Z","type":"message"}
{"nick":"piscisaureus_","message":"aah ok","date":"2011-11-17T23:26:49.461Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002b0b54bf\u000f \u000310\u000f/ src/win/handle.c \u0002:\u000f windows: return UV_FILE for non-console FILE_TYPE_CHAR - http://git.io/kCL9tQ","date":"2011-11-17T23:27:54.448Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: actually, I think a (blocking) pipe is a better abstraction for that :-)","date":"2011-11-17T23:29:03.668Z","type":"message"}
{"nick":"piscisaureus_","message":"but this probably works too","date":"2011-11-17T23:29:23.415Z","type":"message"}
{"nick":"piscisaureus_","message":"Ok. Now I am really gone","date":"2011-11-17T23:29:47.296Z","type":"message"}
{"nick":"ryah","message":"igorzi: do you want to land that on libuv:v0.6 ?","date":"2011-11-17T23:31:09.237Z","type":"message"}
{"nick":"igorzi","message":"ryah: sorry.. yes, i'll do that","date":"2011-11-17T23:34:37.981Z","type":"message"}
{"nick":"igorzi","message":"ryah: v0.6 bug fixes go into v0.6 branch, and you'll be merging those into master, correct?","date":"2011-11-17T23:35:16.017Z","type":"message"}
{"nick":"kuebk^","date":"2011-11-17T23:36:32.513Z","type":"quit"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307v0.6\u000f * r\u000208a5546\u000f \u000310\u000f/ src/win/handle.c \u0002:\u000f windows: return UV_FILE for non-console FILE_TYPE_CHAR - http://git.io/SDkeCA","date":"2011-11-17T23:37:04.553Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-17T23:38:29.504Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2011-11-17T23:42:00.332Z","type":"quit"}
{"nick":"ryah","message":"igorzi: yes","date":"2011-11-17T23:47:32.834Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2011-11-17T23:51:57.487Z","type":"quit"}
{"nick":"creationix","reason":"Quit: creationix","date":"2011-11-17T23:58:37.513Z","type":"quit"}

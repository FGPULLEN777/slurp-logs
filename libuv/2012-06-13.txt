{"nick":"piscisaureus_","message":"bnoordhuis: well, because the handles are inheritable, and the inheritable flag is never cleared","date":"2012-06-13T00:00:21.455Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just like, on unix, you don't set the CLOEXEC flag on inherited FDs","date":"2012-06-13T00:00:38.327Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i think i'd make it explicit","date":"2012-06-13T00:01:12.712Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_make_stdio_noninheritable :-)","date":"2012-06-13T00:01:31.325Z","type":"message"}
{"nick":"piscisaureus_","message":"that works","date":"2012-06-13T00:01:34.010Z","type":"message"}
{"nick":"piscisaureus_","message":"would it be possible to implement this on unix at all ?","date":"2012-06-13T00:01:44.020Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: uv__nonblock(0)?","date":"2012-06-13T00:02:14.382Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I mean, eh, what?","date":"2012-06-13T00:02:28.508Z","type":"message"}
{"nick":"bnoordhuis","message":"err, uv__cloexec(0)","date":"2012-06-13T00:02:33.553Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes, but which fds would you target?","date":"2012-06-13T00:02:42.595Z","type":"message"}
{"nick":"bnoordhuis","message":"0-2","date":"2012-06-13T00:02:48.581Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-13T00:02:58.772Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: what if someone created a child with ['pipe', 'pipe', 'pipe', 'pipe'] ?","date":"2012-06-13T00:03:12.154Z","type":"message"}
{"nick":"bnoordhuis","message":"sucks to be them","date":"2012-06-13T00:03:20.572Z","type":"message"}
{"nick":"piscisaureus_","message":"btw - the api doesn't yet expose the 4th pipe","date":"2012-06-13T00:03:42.493Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose we could scan for file descriptors","date":"2012-06-13T00:03:54.080Z","type":"message"}
{"nick":"bnoordhuis","message":"but that kind of sucks","date":"2012-06-13T00:04:01.406Z","type":"message"}
{"nick":"piscisaureus_","message":"that's ehm, ugly","date":"2012-06-13T00:04:03.358Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe readdir(/proc/<pid>/fd) ?","date":"2012-06-13T00:04:43.770Z","type":"message"}
{"nick":"piscisaureus_","message":"is that portable ?","date":"2012-06-13T00:04:50.834Z","type":"message"}
{"nick":"bnoordhuis","message":"no","date":"2012-06-13T00:05:09.860Z","type":"message"}
{"nick":"bnoordhuis","message":"not reliable either","date":"2012-06-13T00:05:20.061Z","type":"message"}
{"nick":"isaacs","date":"2012-06-13T00:05:30.241Z","type":"join"}
{"nick":"piscisaureus_","message":"seems to work on sunos :-)","date":"2012-06-13T00:06:16.856Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: why not reliable ?","date":"2012-06-13T00:06:20.835Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: unreliable in the sense that there doesn't have to be a procfs","date":"2012-06-13T00:06:39.045Z","type":"message"}
{"nick":"piscisaureus_","message":"like. on unix?","date":"2012-06-13T00:07:01.039Z","type":"message"}
{"nick":"piscisaureus_","message":"er, on linux?","date":"2012-06-13T00:07:05.375Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, as in 'not mounted'","date":"2012-06-13T00:07:11.136Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-06-13T00:07:17.617Z","type":"message"}
{"nick":"isaacs","message":"what's the problem?","date":"2012-06-13T00:07:30.340Z","type":"message"}
{"nick":"piscisaureus_","message":"unix y u so retarded","date":"2012-06-13T00:07:46.119Z","type":"message"}
{"nick":"isaacs","message":"give it a break, it's like 40 years old","date":"2012-06-13T00:08:05.450Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok, fd 0-3 is fine then","date":"2012-06-13T00:08:31.759Z","type":"message"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-06-13T00:08:37.720Z","type":"quit"}
{"nick":"bnoordhuis","message":"0-3 or 0-2?","date":"2012-06-13T00:08:41.510Z","type":"message"}
{"nick":"piscisaureus_","message":"0 <= x < 3","date":"2012-06-13T00:09:03.684Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but, what if you really want to inherit an inherited stdio?","date":"2012-06-13T00:14:41.739Z","type":"message"}
{"nick":"isaacs","message":"i dont' get the problem.","date":"2012-06-13T00:14:44.637Z","type":"message"}
{"nick":"isaacs","message":"i've got these three cases working: https://gist.github.com/2920955","date":"2012-06-13T00:15:36.996Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you mean you *want* child stdio be inherited by the child of a child ?","date":"2012-06-13T00:16:32.009Z","type":"message"}
{"nick":"isaacs","action":"shrug","date":"2012-06-13T00:16:44.957Z","type":"action"}
{"nick":"isaacs","message":"maybe","date":"2012-06-13T00:16:45.696Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you should set that explicitly in uv_spawn_options_t then","date":"2012-06-13T00:17:07.494Z","type":"message"}
{"nick":"isaacs","message":"maybe you want a few generations all sharing the same stdout or something","date":"2012-06-13T00:17:15.455Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this doesn't make that impossible","date":"2012-06-13T00:17:31.583Z","type":"message"}
{"nick":"isaacs","message":"it doesn't sound too crazy to me.  maybe i'm just not seeing the problem.","date":"2012-06-13T00:17:34.519Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it just makes sure that it doesn't happen accidentally","date":"2012-06-13T00:17:44.871Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i dsee.","date":"2012-06-13T00:17:49.210Z","type":"message"}
{"nick":"isaacs","message":"so, just changing the default value from 'inherit' to 'pipe' or something?","date":"2012-06-13T00:17:59.744Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: huh, no","date":"2012-06-13T00:18:10.728Z","type":"message"}
{"nick":"isaacs","message":"how would it happen accidentally?","date":"2012-06-13T00:18:24.000Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, you open fd 29 with a pipe","date":"2012-06-13T00:18:40.673Z","type":"message"}
{"nick":"hij1nx","reason":"Ping timeout: 248 seconds","date":"2012-06-13T00:18:42.281Z","type":"quit"}
{"nick":"piscisaureus_","message":"and then you spawn a child","date":"2012-06-13T00:18:46.737Z","type":"message"}
{"nick":"piscisaureus_","message":"then the child spawns a grandchild","date":"2012-06-13T00:18:52.810Z","type":"message"}
{"nick":"isaacs","message":"did i give 29 to the child?","date":"2012-06-13T00:19:00.559Z","type":"message"}
{"nick":"piscisaureus_","message":"now the grandchild also has fd 29 open","date":"2012-06-13T00:19:01.639Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-13T00:19:03.878Z","type":"join"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T00:19:05.069Z","type":"message"}
{"nick":"piscisaureus_","message":"welcome to the world of unix","date":"2012-06-13T00:19:11.713Z","type":"message"}
{"nick":"isaacs","message":"as 29?  or as 3 or something?","date":"2012-06-13T00:19:13.032Z","type":"message"}
{"nick":"piscisaureus_","message":"no 29 as 29","date":"2012-06-13T00:19:18.477Z","type":"message"}
{"nick":"isaacs","message":"via a stdio or via ipc?","date":"2012-06-13T00:19:33.445Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: va stdio","date":"2012-06-13T00:19:39.835Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: welcome to the world of unix :-)","date":"2012-06-13T00:19:53.426Z","type":"message"}
{"nick":"isaacs","message":"so, child_process.spawn(c,a,{stdio:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]}) or something?","date":"2012-06-13T00:19:59.513Z","type":"message"}
{"nick":"isaacs","message":"you keep welcoming me, but i live here.... ;P","date":"2012-06-13T00:20:14.839Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, that would be the way if you want it","date":"2012-06-13T00:20:16.825Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-06-13T00:20:21.934Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but suppose this:","date":"2012-06-13T00:20:33.442Z","type":"message"}
{"nick":"isaacs","message":"well, that's weird, but ok.","date":"2012-06-13T00:20:33.809Z","type":"message"}
{"nick":"piscisaureus_","message":"parent: spawn(child, {stdio:[,,,,,,,,,,,,,,,,29]})","date":"2012-06-13T00:20:51.655Z","type":"message"}
{"nick":"piscisaureus_","message":"child: spawn(grandchild, stdio:defaults)","date":"2012-06-13T00:21:07.418Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the grandchild now inherits 29 too","date":"2012-06-13T00:21:20.327Z","type":"message"}
{"nick":"piscisaureus_","message":"that is not desirable","date":"2012-06-13T00:21:32.605Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the problem is this","date":"2012-06-13T00:21:36.288Z","type":"message"}
{"nick":"isaacs","message":"the default should be [0,1,2] or [-1,-1,-1], depending on whether you called spawn or exec","date":"2012-06-13T00:21:47.960Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T00:21:53.952Z","type":"message"}
{"nick":"isaacs","message":"anything outside of 0-2 should default to 'ignore'","date":"2012-06-13T00:21:57.565Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, I agree","date":"2012-06-13T00:22:04.490Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-13T00:22:06.663Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: unfortunately, I have to welcome you to the world of unix and windows :-)","date":"2012-06-13T00:22:28.384Z","type":"message"}
{"nick":"isaacs","message":"ok, so, the \"unix and windows\" world is not very welcoming.","date":"2012-06-13T00:22:38.329Z","type":"message"}
{"nick":"piscisaureus_","message":"nope","date":"2012-06-13T00:22:42.705Z","type":"message"}
{"nick":"isaacs","message":"unix = yes.  windows = hmm... maybe.","date":"2012-06-13T00:22:44.693Z","type":"message"}
{"nick":"isaacs","message":"unix + windows = \"unpleasantness\"","date":"2012-06-13T00:22:49.746Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so on windows this problem is aggravated","date":"2012-06-13T00:23:04.696Z","type":"message"}
{"nick":"isaacs","message":"so, what has to happen to make this dtrt on both nix and windows?","date":"2012-06-13T00:23:06.927Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, for (every stdio fd) { set_cloexec(fd) }","date":"2012-06-13T00:23:40.867Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the problem: on unix you cant get a list is of stdio fds","date":"2012-06-13T00:24:02.439Z","type":"message"}
{"nick":"isaacs","message":"hm....","date":"2012-06-13T00:24:06.828Z","type":"message"}
{"nick":"piscisaureus_","message":"because that is sort of an abstraction that we invented :-)","date":"2012-06-13T00:24:12.087Z","type":"message"}
{"nick":"isaacs","message":"it's a NICE abstraction, i must say","date":"2012-06-13T00:24:25.183Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, I like it too","date":"2012-06-13T00:24:33.476Z","type":"message"}
{"nick":"isaacs","message":"i'm using it a little in this test, adn it's SO nice.","date":"2012-06-13T00:24:33.476Z","type":"message"}
{"nick":"isaacs","message":"it's like bash.","date":"2012-06-13T00:24:35.254Z","type":"message"}
{"nick":"isaacs","message":"$ cmd &3< # boom, fd 3 is readable.","date":"2012-06-13T00:24:56.233Z","type":"message"}
{"nick":"isaacs","message":"oh, i did that wrong","date":"2012-06-13T00:25:20.107Z","type":"message"}
{"nick":"isaacs","message":"whatever, bash is ugly, i have to look up how to do it every time.","date":"2012-06-13T00:25:28.677Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: on windows the problem is aggravated, that's why I need to fix it now","date":"2012-06-13T00:25:40.213Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-06-13T00:26:10.706Z","type":"message"}
{"nick":"isaacs","message":"you know what to do?","date":"2012-06-13T00:26:14.078Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: on unix if the child does spawn(grandchild, [], { stdio: [x, y, z] }) then atleast fd 0-2 are not accidentally inherited by the grandchild","date":"2012-06-13T00:26:30.446Z","type":"message"}
{"nick":"piscisaureus_","message":"because they were overridden so to speak","date":"2012-06-13T00:26:39.664Z","type":"message"}
{"nick":"piscisaureus_","message":"not on windows","date":"2012-06-13T00:26:42.011Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-13T00:26:44.903Z","type":"message"}
{"nick":"piscisaureus_","message":"on windows everything is inherited","date":"2012-06-13T00:26:47.096Z","type":"message"}
{"nick":"AvianFlu","message":"aha! now I get it.","date":"2012-06-13T00:26:50.199Z","type":"message"}
{"nick":"piscisaureus_","message":"it's just not accessible as a file descriptor","date":"2012-06-13T00:26:54.885Z","type":"message"}
{"nick":"piscisaureus_","message":"that's why test-spawn-detached hangs :-)","date":"2012-06-13T00:28:13.833Z","type":"message"}
{"nick":"piscisaureus_","message":"I will fix this tomorrow","date":"2012-06-13T00:35:43.012Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00025209dad\u000f \u000310\u000f/ test/gc/test-net-timeout.js \u0002:\u000f test-net-timeout: make it pass on Windows - http://git.io/SOtmSQ","date":"2012-06-13T00:50:31.934Z","type":"message"}
{"nick":"piscisaureus_","message":"down to 15 failures","date":"2012-06-13T00:50:37.673Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-06-13T00:57:17.878Z","type":"quit"}
{"nick":"piscisaureus_","message":"I also don't understand how the message tests work","date":"2012-06-13T00:57:40.613Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 245 seconds","date":"2012-06-13T00:57:43.109Z","type":"quit"}
{"nick":"piscisaureus_","message":"they fail... but I can't see how they would not fail on unix","date":"2012-06-13T00:57:51.817Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: there's at least one of the message tests failing on unix right now","date":"2012-06-13T01:01:25.621Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00020dba4ad\u000f \u000310\u000f/ (3 files)\u0002:\u000f tests: make all message tests pass on Windows - http://git.io/8djuSA","date":"2012-06-13T01:03:53.432Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: no more, I think","date":"2012-06-13T01:03:55.316Z","type":"message"}
{"nick":"piscisaureus_","message":"looking good guys","date":"2012-06-13T01:07:03.723Z","type":"message"}
{"nick":"piscisaureus_","message":"afaict no really really serious bugs","date":"2012-06-13T01:07:18.228Z","type":"message"}
{"nick":"piscisaureus_","message":"time to sleep now","date":"2012-06-13T01:07:29.142Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: are you coming to 020 any day this week?","date":"2012-06-13T01:07:53.402Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: maybe tomorrow, maybe thursday","date":"2012-06-13T01:08:26.645Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I suppose tomorrow is not going to happen :-)","date":"2012-06-13T01:08:40.673Z","type":"message"}
{"nick":"piscisaureus_","message":"but you still could","date":"2012-06-13T01:08:47.226Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, it's only 3 am","date":"2012-06-13T01:08:47.427Z","type":"message"}
{"nick":"piscisaureus_","message":"I am going to check out now","date":"2012-06-13T01:08:53.018Z","type":"message"}
{"nick":"piscisaureus_","message":"if you do that too, you might even ...","date":"2012-06-13T01:09:01.877Z","type":"message"}
{"nick":"TooTallNate","message":"rape zombies?","date":"2012-06-13T01:09:16.385Z","type":"message"}
{"nick":"bnoordhuis","message":"i can make do with 5 hours of sleep, no problem","date":"2012-06-13T01:09:19.455Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, bertje","date":"2012-06-13T01:09:22.374Z","type":"message"}
{"nick":"piscisaureus_","message":"later","date":"2012-06-13T01:09:26.138Z","type":"message"}
{"nick":"piscisaureus_","message":"fixing tests is rewarding and boring at the same time","date":"2012-06-13T01:09:34.627Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-13T01:13:36.756Z","type":"quit"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-06-13T01:17:51.858Z","type":"quit"}
{"nick":"isaacs","message":"ircretary: tell piscisaureus_ Yes, the message tests have failed since the recent v8 changes.  been meaning to fix them.","date":"2012-06-13T01:23:35.019Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell piscisaureus_","date":"2012-06-13T01:23:35.215Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: so 37fd953378ecdfcbe8e3656e1827b17fdc4fd969 is what `git bisect` says broke /dev/tty (it used to work)","date":"2012-06-13T01:26:52.272Z","type":"message"}
{"nick":"TooTallNate","message":"https://github.com/joyent/node/commit/37fd953378ecdfcbe8e3656e1827b17fdc4fd969 that is","date":"2012-06-13T01:26:54.768Z","type":"message"}
{"nick":"TooTallNate","message":"hopefully that sets off some lightbulb :)","date":"2012-06-13T01:27:04.378Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: noted. remind me again tomorrow, i'm off to bed. :)","date":"2012-06-13T01:29:50.489Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: will do; sleep tight","date":"2012-06-13T01:29:59.917Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: thanks. you too, guys","date":"2012-06-13T01:32:47.568Z","type":"message"}
{"nick":"bnoordhuis","reason":"Quit: Leaving","date":"2012-06-13T01:33:08.905Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate (or whoever's awake): How do you feel about moving ._handle to .handle","date":"2012-06-13T01:36:11.673Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i suppose that's in response to your gist ;)","date":"2012-06-13T01:36:34.178Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: well... it seems like more and more we're accessing this property, setting it, etc.","date":"2012-06-13T01:36:55.393Z","type":"message"}
{"nick":"isaacs","message":"it's not quite public... but we're sort of expecting users to at some point have some understanding of what it is.","date":"2012-06-13T01:37:16.569Z","type":"message"}
{"nick":"TooTallNate","message":"right, especially with the new stdio stuff","date":"2012-06-13T01:37:31.014Z","type":"message"}
{"nick":"isaacs","message":"it's a bit like readStream.fd or something","date":"2012-06-13T01:37:34.444Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-06-13T01:37:37.417Z","type":"message"}
{"nick":"TooTallNate","message":"do we still have readStream.fd?","date":"2012-06-13T01:37:51.196Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-06-13T01:37:53.360Z","type":"message"}
{"nick":"isaacs","message":"file streams have an fd member","date":"2012-06-13T01:37:56.698Z","type":"message"}
{"nick":"TooTallNate","message":"right. is it public API? do people get/set it?","date":"2012-06-13T01:38:28.156Z","type":"message"}
{"nick":"isaacs","message":"i mean, the ._foo (to me at least) means \"This is super off limits.  pretend you can't see this.  definitely do not write it.\"","date":"2012-06-13T01:38:29.913Z","type":"message"}
{"nick":"isaacs","message":".fd?  not really.","date":"2012-06-13T01:38:38.938Z","type":"message"}
{"nick":"isaacs","message":"you're welcome to look at it.","date":"2012-06-13T01:38:43.994Z","type":"message"}
{"nick":"TooTallNate","message":"ya definitely","date":"2012-06-13T01:38:51.042Z","type":"message"}
{"nick":"isaacs","message":"but you shouldn't set it yourself, unless you sort of know what you' doing.","date":"2012-06-13T01:38:52.487Z","type":"message"}
{"nick":"isaacs","message":"shoudl be the same with .handle, i'd think.","date":"2012-06-13T01:38:59.013Z","type":"message"}
{"nick":"isaacs","message":"but like, i want to be able to do stuff like:  server.listen(otherServer)","date":"2012-06-13T01:39:12.291Z","type":"message"}
{"nick":"TooTallNate","message":"i mean i agree","date":"2012-06-13T01:39:13.211Z","type":"message"}
{"nick":"isaacs","message":"and have it just share the handle.","date":"2012-06-13T01:39:15.558Z","type":"message"}
{"nick":"TooTallNate","message":"let's just document the assumed use-cases","date":"2012-06-13T01:39:20.513Z","type":"message"}
{"nick":"isaacs","message":"i guess we should probably put it off until 0.9","date":"2012-06-13T01:39:34.273Z","type":"message"}
{"nick":"TooTallNate","message":"is .fd documented?","date":"2012-06-13T01:39:36.402Z","type":"message"}
{"nick":"isaacs","message":"it's api cleanup.","date":"2012-06-13T01:39:37.115Z","type":"message"}
{"nick":"isaacs","action":"sigh.","date":"2012-06-13T01:39:40.908Z","type":"action"}
{"nick":"isaacs","message":".fd?  yeah, should be.","date":"2012-06-13T01:39:48.506Z","type":"message"}
{"nick":"isaacs","message":"hm.  no, it isn't.","date":"2012-06-13T01:40:45.810Z","type":"message"}
{"nick":"isaacs","message":"meh.  we can do it later, i guess.","date":"2012-06-13T01:41:02.251Z","type":"message"}
{"nick":"isaacs","message":"i'm just trying to document listen({fd:n}) and kind of noticing the inconsistency","date":"2012-06-13T01:41:17.350Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i mean it's pretty minor, we could probably squeeze it in","date":"2012-06-13T01:43:33.090Z","type":"message"}
{"nick":"isaacs","message":"nah.","date":"2012-06-13T01:43:38.525Z","type":"message"}
{"nick":"isaacs","message":"it's a LOT of lines.","date":"2012-06-13T01:43:42.886Z","type":"message"}
{"nick":"isaacs","message":"we'll miss something.","date":"2012-06-13T01:43:48.670Z","type":"message"}
{"nick":"isaacs","message":"gotta be saying no to more and more stuff.","date":"2012-06-13T01:44:05.857Z","type":"message"}
{"nick":"isaacs","message":"basically anything that wasn't promised a month ago is out.","date":"2012-06-13T01:44:16.818Z","type":"message"}
{"nick":"TooTallNate","message":"indeed","date":"2012-06-13T01:44:32.755Z","type":"message"}
{"nick":"TooTallNate","message":"what about os.tempDir()?","date":"2012-06-13T01:44:36.600Z","type":"message"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-13T01:44:37.236Z","type":"quit"}
{"nick":"isaacs","message":"well... ryah's a vip.","date":"2012-06-13T01:45:10.949Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-06-13T01:45:12.400Z","type":"message"}
{"nick":"isaacs","message":"plus we can land that right now.","date":"2012-06-13T01:45:20.731Z","type":"message"}
{"nick":"isaacs","message":"one sec..","date":"2012-06-13T01:45:30.194Z","type":"message"}
{"nick":"isaacs","message":"running tests with the listen-fd stuff","date":"2012-06-13T01:45:49.781Z","type":"message"}
{"nick":"TooTallNate","message":"seems like a pretty easy pattern at least: $ grep -rn \"\\._handle\" lib/ src/","date":"2012-06-13T01:47:30.094Z","type":"message"}
{"nick":"TooTallNate","message":"there's a few matches in test/ too","date":"2012-06-13T01:47:44.858Z","type":"message"}
{"nick":"TooTallNate","message":"$ grep -rn \"\\._handle\" lib/ src/ test/","date":"2012-06-13T01:47:48.004Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: yeah","date":"2012-06-13T01:52:31.360Z","type":"message"}
{"nick":"isaacs","message":"the fact that we dink around with it in tests sort of implies to me that it ought to just bite the bullet and expose it","date":"2012-06-13T01:53:56.232Z","type":"message"}
{"nick":"TooTallNate","message":"ya, that's a good argument","date":"2012-06-13T01:54:30.476Z","type":"message"}
{"nick":"abraxas","date":"2012-06-13T01:54:50.657Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: do you think fs.ReadStream.fd should be .handle in that case also?","date":"2012-06-13T01:55:09.396Z","type":"message"}
{"nick":"TooTallNate","message":"i mean, it's not an fd on windows right?","date":"2012-06-13T01:55:16.574Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: no, it is","date":"2012-06-13T01:55:22.603Z","type":"message"}
{"nick":"isaacs","message":"windows HAS file descriptors.","date":"2012-06-13T01:55:43.635Z","type":"message"}
{"nick":"isaacs","message":"they're just a bit less core than on unix.","date":"2012-06-13T01:55:55.263Z","type":"message"}
{"nick":"TooTallNate","message":"noted","date":"2012-06-13T01:56:08.023Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-13T02:05:33.269Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: got a sec?","date":"2012-06-13T02:07:47.135Z","type":"message"}
{"nick":"isaacs","message":"https://github.com/joyent/node/pull/3423","date":"2012-06-13T02:07:47.677Z","type":"message"}
{"nick":"isaacs","message":"had to force-push a lint fix","date":"2012-06-13T02:09:59.607Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ok, want me to push it to master?","date":"2012-06-13T02:11:03.742Z","type":"message"}
{"nick":"isaacs","message":"nah, just say it's good so i can blame you when it breaks shit ;)","date":"2012-06-13T02:11:18.716Z","type":"message"}
{"nick":"TooTallNate","message":"well there's a lint violation in the test as well","date":"2012-06-13T02:11:34.880Z","type":"message"}
{"nick":"isaacs","message":"oh, tests can be linty","date":"2012-06-13T02:11:43.176Z","type":"message"}
{"nick":"isaacs","message":"new rule :)","date":"2012-06-13T02:11:45.492Z","type":"message"}
{"nick":"TooTallNate","message":"oh right, forgot","date":"2012-06-13T02:11:49.465Z","type":"message"}
{"nick":"TooTallNate","message":":D","date":"2012-06-13T02:11:51.639Z","type":"message"}
{"nick":"TooTallNate","message":"lgtm then!","date":"2012-06-13T02:11:54.890Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002a11bf99\u000f \u000310\u000f/ (doc/api/os.markdown lib/os.js test/simple/test-os.js)\u0002:\u000f Fix #3407 os.tmpDir() - http://git.io/7I_RDQ","date":"2012-06-13T02:12:19.631Z","type":"message"}
{"nick":"isaacs","message":"thanks","date":"2012-06-13T02:12:22.837Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: np","date":"2012-06-13T02:14:04.865Z","type":"message"}
{"nick":"TooTallNate","message":"and i'm out then :)","date":"2012-06-13T02:14:09.747Z","type":"message"}
{"nick":"TooTallNate","message":"laterz","date":"2012-06-13T02:14:10.831Z","type":"message"}
{"nick":"erickt","date":"2012-06-13T02:15:19.041Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2012-06-13T02:15:52.909Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-13T02:17:21.981Z","type":"quit"}
{"nick":"isaacs","date":"2012-06-13T02:22:37.885Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-13T02:23:03.895Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 265 seconds","date":"2012-06-13T02:47:24.447Z","type":"quit"}
{"nick":"sh1mmer","date":"2012-06-13T02:50:29.273Z","type":"join"}
{"nick":"brson","date":"2012-06-13T03:26:49.388Z","type":"join"}
{"nick":"c4milo","date":"2012-06-13T03:46:03.518Z","type":"join"}
{"nick":"ira","reason":"Quit: Leaving...","date":"2012-06-13T03:51:25.489Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-13T04:00:15.137Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 244 seconds","date":"2012-06-13T04:57:41.768Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-13T04:58:40.894Z","type":"quit"}
{"nick":"avalanche123","date":"2012-06-13T05:01:11.279Z","type":"join"}
{"nick":"toothr","reason":"Ping timeout: 240 seconds","date":"2012-06-13T05:13:25.057Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-13T05:44:00.630Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-06-13T06:45:29.924Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-13T06:54:36.535Z","type":"quit"}
{"nick":"mikeal","date":"2012-06-13T07:06:36.819Z","type":"join"}
{"nick":"rendar","date":"2012-06-13T07:24:34.049Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-06-13T07:40:42.071Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-13T07:55:43.269Z","type":"quit"}
{"nick":"toothr","date":"2012-06-13T08:14:16.419Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving","date":"2012-06-13T08:18:32.828Z","type":"quit"}
{"nick":"\\toothrot","date":"2012-06-13T08:26:46.452Z","type":"join"}
{"nick":"toothr","reason":"Ping timeout: 240 seconds","date":"2012-06-13T08:26:55.138Z","type":"quit"}
{"nick":"toothr","date":"2012-06-13T08:31:16.248Z","type":"join"}
{"nick":"\\toothrot","reason":"Ping timeout: 240 seconds","date":"2012-06-13T08:31:55.016Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-13T08:56:50.201Z","type":"join"}
{"nick":"\\toothrot","date":"2012-06-13T09:13:16.331Z","type":"join"}
{"nick":"toothr","reason":"Ping timeout: 245 seconds","date":"2012-06-13T09:14:50.116Z","type":"quit"}
{"nick":"brson","reason":"Remote host closed the connection","date":"2012-06-13T09:24:43.577Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-13T09:32:05.687Z","type":"join"}
{"nick":"paddybyers","reason":"Read error: Connection timed out","date":"2012-06-13T09:48:49.105Z","type":"quit"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-13T09:54:19.663Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-13T10:08:32.435Z","type":"join"}
{"nick":"loladiro","date":"2012-06-13T10:21:20.469Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-06-13T10:21:44.570Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T10:46:01.731Z","type":"join"}
{"nick":"ira","date":"2012-06-13T11:33:08.470Z","type":"join"}
{"nick":"ira","reason":"Client Quit","date":"2012-06-13T11:33:23.979Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-13T11:42:50.194Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-13T11:45:37.656Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-06-13T12:03:31.358Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-13T12:09:08.839Z","type":"join"}
{"nick":"piscisaureus_","message":"ircretary: notes","date":"2012-06-13T12:09:24.299Z","type":"message"}
{"nick":"piscisaureus_","message":"ircretary: tell isaacs I fixed the message tests","date":"2012-06-13T12:09:48.140Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell isaacs","date":"2012-06-13T12:09:48.340Z","type":"message"}
{"nick":"indutny","message":"ircretary: notes","date":"2012-06-13T12:11:10.034Z","type":"message"}
{"nick":"ircretary","message":"indutny: I don't have any notes for you.","date":"2012-06-13T12:11:10.232Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2012-06-13T12:11:16.920Z","type":"message"}
{"nick":"loladiro","date":"2012-06-13T12:11:20.706Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-06-13T12:13:07.234Z","type":"quit"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-13T12:13:36.861Z","type":"quit"}
{"nick":"paddybyers","reason":"Read error: No route to host","date":"2012-06-13T12:40:27.920Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-13T12:41:25.070Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-13T12:49:11.904Z","type":"quit"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v8-3.11\u000f * r\u00026836b50\u000f \u000310\u000f/ (374 files in 21 dirs)\u0002:\u000f v8: upgrade to 3.12.0 (candidate) - http://git.io/s3WCWw","date":"2012-06-13T12:52:07.123Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v8-3.11\u000f * r\u0002a73ac4f\u000f \u000310\u000f/ (deps/v8/build/common.gypi deps/v8/src/debug-agent.cc)\u0002:\u000f v8: reapply floating patches - http://git.io/RbYJ3g","date":"2012-06-13T12:52:07.324Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: looks like they'd solved performance issues, right?","date":"2012-06-13T12:52:41.783Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: v8 team","date":"2012-06-13T12:52:44.276Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T12:52:46.079Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: try that branch","date":"2012-06-13T12:52:49.647Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: will do","date":"2012-06-13T12:53:17.503Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: hold off a little","date":"2012-06-13T12:58:09.706Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: this one is based on bleeding edge","date":"2012-06-13T12:58:19.508Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I am going to do a patch that is based on trunk + that patch","date":"2012-06-13T12:58:28.007Z","type":"message"}
{"nick":"piscisaureus_","message":"that's much closer to what the final result would be","date":"2012-06-13T12:58:36.052Z","type":"message"}
{"nick":"indutny","message":"huh","date":"2012-06-13T12:58:43.614Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: they did the final push to trunk for 3.11 already, bleeding edge is now slated for 3.12","date":"2012-06-13T12:59:07.147Z","type":"message"}
{"nick":"piscisaureus_","message":"but the patch will be backported to 3.11","date":"2012-06-13T12:59:14.558Z","type":"message"}
{"nick":"indutny","message":"oook","date":"2012-06-13T12:59:19.474Z","type":"message"}
{"nick":"indutny","message":"build failed anyway :P","date":"2012-06-13T12:59:29.924Z","type":"message"}
{"nick":"piscisaureus_","message":"it didn't for me","date":"2012-06-13T12:59:56.128Z","type":"message"}
{"nick":"piscisaureus_","message":"you should help me get the unix build right","date":"2012-06-13T13:00:02.549Z","type":"message"}
{"nick":"piscisaureus_","message":"there was some issue with the postmortem I think","date":"2012-06-13T13:00:09.783Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: floating patches?","date":"2012-06-13T13:01:33.967Z","type":"message"}
{"nick":"indutny","message":" /Users/indutny/Code/indutny/node/out/Release/obj/gen/debug-support.cc:41: error: ‘kContentArrayIndex’ is not a member of ‘v8::internal::DescriptorArray’","date":"2012-06-13T13:01:52.291Z","type":"message"}
{"nick":"indutny","message":"that's how it failed for me anyway","date":"2012-06-13T13:01:57.210Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes, that's known broken in v8","date":"2012-06-13T13:02:01.354Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: if you fix it, v8 will take the patch","date":"2012-06-13T13:02:10.522Z","type":"message"}
{"nick":"piscisaureus_","message":"erik just confirmed that","date":"2012-06-13T13:02:14.875Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-13T13:02:26.146Z","type":"message"}
{"nick":"indutny","message":"oh, quite simple actually","date":"2012-06-13T13:06:35.694Z","type":"message"}
{"nick":"indutny","message":"just need to figure out what is a correct value for kContentArrayIndex","date":"2012-06-13T13:07:31.436Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-06-13T13:08:05.770Z","type":"message"}
{"nick":"paddybyers","date":"2012-06-13T13:09:40.823Z","type":"join"}
{"nick":"indutny","message":"ah, it was removed","date":"2012-06-13T13:12:50.272Z","type":"message"}
{"nick":"piscisaureus_","message":"ircretary: tell bnoordhuis we're working on a proper fix for https://github.com/joyent/node/commit/26f754d","date":"2012-06-13T13:12:56.595Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell bnoordhuis","date":"2012-06-13T13:12:56.795Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: huh?","date":"2012-06-13T13:14:25.795Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: ?","date":"2012-06-13T13:14:41.037Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: nvm","date":"2012-06-13T13:14:52.768Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well, that patch needs to go upstream","date":"2012-06-13T13:14:55.816Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: but instead of treating a partial send as a failure, we just need to retry with the rest of the bytes","date":"2012-06-13T13:15:14.395Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: oh, that should be quite simple","date":"2012-06-13T13:15:55.165Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T13:15:59.375Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I fixed postmortem thing","date":"2012-06-13T13:16:04.419Z","type":"message"}
{"nick":"indutny","message":"doing build","date":"2012-06-13T13:16:06.382Z","type":"message"}
{"nick":"piscisaureus_","message":"we just have to change platform-posix","date":"2012-06-13T13:16:10.174Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: do you need my help on that thing?","date":"2012-06-13T13:16:33.749Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: not really, I think","date":"2012-06-13T13:16:44.072Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-13T13:17:04.580Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: if you really like to do it, you can tho","date":"2012-06-13T13:17:12.651Z","type":"message"}
{"nick":"indutny","message":"I don't mind if you'll do it :P","date":"2012-06-13T13:17:27.551Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ did you test the ares update to 1.8 on Windows?","date":"2012-06-13T13:39:23.861Z","type":"message"}
{"nick":"saghul","message":"ben's branch, that is","date":"2012-06-13T13:39:47.813Z","type":"message"}
{"nick":"piscisaureus_","message":"nope","date":"2012-06-13T13:41:56.323Z","type":"message"}
{"nick":"ira","date":"2012-06-13T13:42:01.505Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: did you finish that patch ?","date":"2012-06-13T13:42:04.842Z","type":"message"}
{"nick":"saghul","message":"ok","date":"2012-06-13T13:44:07.540Z","type":"message"}
{"nick":"saghul","message":"something changed in there, it's dog slow :-S","date":"2012-06-13T13:44:24.608Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: https://chromiumcodereview.appspot.com/10539132/","date":"2012-06-13T13:44:32.152Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: cool","date":"2012-06-13T13:45:07.937Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I am going to repush the v8.11 branch","date":"2012-06-13T13:45:31.410Z","type":"message"}
{"nick":"piscisaureus_","message":"with your patch included","date":"2012-06-13T13:45:37.126Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-13T13:45:44.182Z","type":"message"}
{"nick":"c4milo","date":"2012-06-13T13:46:15.481Z","type":"join"}
{"nick":"hz|pc2","date":"2012-06-13T13:49:47.521Z","type":"join"}
{"nick":"hz|pc2","message":"hello","date":"2012-06-13T13:49:54.256Z","type":"message"}
{"nick":"hz|pc2","message":"can libuv make non blocking-read from stdin?","date":"2012-06-13T13:50:44.403Z","type":"message"}
{"nick":"hz|pc2","message":"(on win)","date":"2012-06-13T13:51:02.004Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, well, it depends on what stdin is","date":"2012-06-13T13:51:14.051Z","type":"message"}
{"nick":"piscisaureus_","message":"from the console?","date":"2012-06-13T13:51:21.235Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T13:51:23.455Z","type":"message"}
{"nick":"hz|pc2","message":"generic stdin","date":"2012-06-13T13:51:31.300Z","type":"message"}
{"nick":"piscisaureus_","message":"libuv does not understand the concept of a generic stdin right now","date":"2012-06-13T13:51:46.309Z","type":"message"}
{"nick":"hz|pc2","message":"so it handles only consoles?","date":"2012-06-13T13:51:58.759Z","type":"message"}
{"nick":"piscisaureus_","message":"you'd have to see whether it is a file, a pipe or a console","date":"2012-06-13T13:51:58.959Z","type":"message"}
{"nick":"piscisaureus_","message":"and act appropriately","date":"2012-06-13T13:52:04.452Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-06-13T13:52:04.942Z","type":"message"}
{"nick":"piscisaureus_","message":"it can also deal with pipes","date":"2012-06-13T13:52:12.758Z","type":"message"}
{"nick":"hz|pc2","message":"mmm","date":"2012-06-13T13:52:19.066Z","type":"message"}
{"nick":"piscisaureus_","message":"if it is a file you can use the uv_fs_ methods","date":"2012-06-13T13:52:36.114Z","type":"message"}
{"nick":"hz|pc2","message":"i read everywhere posts talking about make pipe connection or use thread reader","date":"2012-06-13T13:52:50.902Z","type":"message"}
{"nick":"piscisaureus_","message":"but that's a very different interface from pipes and ttys","date":"2012-06-13T13:52:51.136Z","type":"message"}
{"nick":"hz|pc2","message":"but it sound very dirty solution","date":"2012-06-13T13:53:04.866Z","type":"message"}
{"nick":"piscisaureus_","message":"that is what libuv does under the hood if it has no other options","date":"2012-06-13T13:53:18.467Z","type":"message"}
{"nick":"piscisaureus_","message":"well, it never makes a pipe coupling","date":"2012-06-13T13:53:28.312Z","type":"message"}
{"nick":"hz|pc2","message":"i see","date":"2012-06-13T13:53:28.757Z","type":"message"}
{"nick":"piscisaureus_","message":"but when you use line-buffered read it will use a thread, yes","date":"2012-06-13T13:53:41.500Z","type":"message"}
{"nick":"hz|pc2","message":"src\\win\\process.c?","date":"2012-06-13T13:55:15.878Z","type":"message"}
{"nick":"hz|pc2","message":"all this hidden login is into this file?","date":"2012-06-13T13:55:32.507Z","type":"message"}
{"nick":"hz|pc2","message":"logic*","date":"2012-06-13T13:55:46.973Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: no it is in src/win/tty.c","date":"2012-06-13T13:56:13.945Z","type":"message"}
{"nick":"hz|pc2","message":"lets check :D","date":"2012-06-13T13:56:26.934Z","type":"message"}
{"nick":"hz|pc2","message":"tnx for reply","date":"2012-06-13T13:56:31.099Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v8-3.11\u000f * r\u000225b4599\u000f \u000310\u000f/ (373 files in 21 dirs)\u0002:\u000f v8: upgrade to v3.11.10 - http://git.io/EsuUpw","date":"2012-06-13T14:00:36.331Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303mstarzinger@chromium.org\u000f \u000307v8-3.11\u000f * r\u000209aad64\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f Fix performance regression caused by r11202. - http://git.io/7YWAqQ","date":"2012-06-13T14:00:37.530Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v8-3.11\u000f * r\u000299195c9\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f v8: reapply floating patches - http://git.io/GkmwuA","date":"2012-06-13T14:00:37.730Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307v8-3.11\u000f * r\u0002e04398d\u000f \u000310\u000f/ deps/v8/tools/gen-postmortem-metadata.py \u0002:\u000f v8: fix postmortem debugging tools build - http://git.io/2ZNRtg","date":"2012-06-13T14:00:37.730Z","type":"message"}
{"nick":"indutny","message":"nice","date":"2012-06-13T14:01:51.294Z","type":"message"}
{"nick":"ira","reason":"Quit: Computer has gone to sleep.","date":"2012-06-13T14:03:41.868Z","type":"quit"}
{"nick":"erickt","date":"2012-06-13T14:05:26.340Z","type":"join"}
{"nick":"hz|pc2","message":"which ide libuv source can be opened with?","date":"2012-06-13T14:07:27.124Z","type":"message"}
{"nick":"piscisaureus_","message":"umm","date":"2012-06-13T14:08:03.784Z","type":"message"}
{"nick":"piscisaureus_","message":"any ide?","date":"2012-06-13T14:08:06.193Z","type":"message"}
{"nick":"tjfontaine","message":"vim","date":"2012-06-13T14:08:11.384Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: you can generate visual stduio project files with `vcbuild nobuild`. But you'd have to install gyp and python first.","date":"2012-06-13T14:08:53.260Z","type":"message"}
{"nick":"piscisaureus_","message":"(otherwise generating does not work)","date":"2012-06-13T14:09:02.898Z","type":"message"}
{"nick":"hz|pc2","message":"have you considered cmake?","date":"2012-06-13T14:09:55.164Z","type":"message"}
{"nick":"xaq","date":"2012-06-13T14:10:03.873Z","type":"join"}
{"nick":"piscisaureus_","message":"considered, yes","date":"2012-06-13T14:10:26.652Z","type":"message"}
{"nick":"piscisaureus_","message":"and we didn't go for it","date":"2012-06-13T14:10:31.513Z","type":"message"}
{"nick":"hz|pc2","message":"discarded?","date":"2012-06-13T14:10:33.562Z","type":"message"}
{"nick":"hz|pc2","message":"what a pity :)","date":"2012-06-13T14:10:48.410Z","type":"message"}
{"nick":"xaq","reason":"Read error: Connection reset by peer","date":"2012-06-13T14:11:46.889Z","type":"quit"}
{"nick":"piscisaureus_","message":"hz|pc2: try to spend some time what there is now before you start complaining about engineering decisions","date":"2012-06-13T14:11:53.534Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: we picked gyp because it's much better than cmake :-)","date":"2012-06-13T14:12:03.875Z","type":"message"}
{"nick":"xaq","date":"2012-06-13T14:12:18.306Z","type":"join"}
{"nick":"hz|pc2","message":"im not complaining at all :)","date":"2012-06-13T14:12:56.176Z","type":"message"}
{"nick":"piscisaureus_","message":":)","date":"2012-06-13T14:17:01.205Z","type":"message"}
{"nick":"hz|pc2","message":"it ares a dns lib client?","date":"2012-06-13T14:17:44.644Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T14:17:53.067Z","type":"message"}
{"nick":"piscisaureus_","message":"at some point we will remove ares from libuv","date":"2012-06-13T14:18:01.808Z","type":"message"}
{"nick":"piscisaureus_","message":"integrating ares and libuv is quite easy","date":"2012-06-13T14:18:11.463Z","type":"message"}
{"nick":"piscisaureus_","message":"and for the not so demanding users there is uv_getaddrinfo","date":"2012-06-13T14:18:27.351Z","type":"message"}
{"nick":"hz|pc2","message":"nice","date":"2012-06-13T14:20:45.296Z","type":"message"}
{"nick":"indutny","message":"gyp is just awesome","date":"2012-06-13T14:26:57.564Z","type":"message"}
{"nick":"indutny","message":"especially when embedding one gyp project into another","date":"2012-06-13T14:27:17.072Z","type":"message"}
{"nick":"indutny","message":"and it can figure out some dependencies automatically","date":"2012-06-13T14:27:31.189Z","type":"message"}
{"nick":"indutny","message":"I really like gyp","date":"2012-06-13T14:27:34.952Z","type":"message"}
{"nick":"toothr","date":"2012-06-13T14:28:15.673Z","type":"join"}
{"nick":"\\toothrot","reason":"Ping timeout: 240 seconds","date":"2012-06-13T14:29:25.061Z","type":"quit"}
{"nick":"hz|pc2","message":"can you suggest me a test (from libuv tests) using non-blocking or async stdin read?","date":"2012-06-13T14:32:05.486Z","type":"message"}
{"nick":"hz|pc2","message":"im trying with test-tty.c","date":"2012-06-13T14:32:56.858Z","type":"message"}
{"nick":"hz|pc2","message":"lets see","date":"2012-06-13T14:33:01.442Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-13T14:33:27.185Z","type":"join"}
{"nick":"piscisaureus_","message":"hz|pc2: test-tty doesn't really do async tty read","date":"2012-06-13T14:35:01.213Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: however you can quite easily hack it to do that","date":"2012-06-13T14:35:14.995Z","type":"message"}
{"nick":"hz|pc2","message":"im looking for a ready code to study how to use it","date":"2012-06-13T14:35:35.156Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: I don't think there is any test that does that (because it's quite impossible to automate tests that do that)","date":"2012-06-13T14:36:52.075Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: however, the trick is to set up a read callback","date":"2012-06-13T14:37:04.691Z","type":"message"}
{"nick":"hz|pc2","message":"yes","date":"2012-06-13T14:37:17.690Z","type":"message"}
{"nick":"hz|pc2","message":"i noticed just few mins ago its a big automated test","date":"2012-06-13T14:37:39.986Z","type":"message"}
{"nick":"piscisaureus_","message":"eg. you would change uv_tty_t to do this","date":"2012-06-13T14:37:59.803Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_read_start((uv_stream_t*)(req->handle), alloc_cb, read_cb);","date":"2012-06-13T14:38:06.082Z","type":"message"}
{"nick":"piscisaureus_","message":"you can copy alloc_cb from test-ping-pong.c","date":"2012-06-13T14:38:29.026Z","type":"message"}
{"nick":"piscisaureus_","message":"and the read cb should look like","date":"2012-06-13T14:38:55.782Z","type":"message"}
{"nick":"hz|pc2","message":"im trying","date":"2012-06-13T14:39:14.677Z","type":"message"}
{"nick":"piscisaureus_","message":"static void read_cb(uv_stream_t* stream, ssize_t nread, uv_buf_t buf) {","date":"2012-06-13T14:40:53.450Z","type":"message"}
{"nick":"piscisaureus_","message":"  if (nread > 0) fwrite(buf.base, 1, nread, stdout)","date":"2012-06-13T14:40:53.645Z","type":"message"}
{"nick":"piscisaureus_","message":"  if (buf.base != NULL) free(buf.base)","date":"2012-06-13T14:40:53.645Z","type":"message"}
{"nick":"piscisaureus_","message":"}","date":"2012-06-13T14:40:56.163Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- easy","date":"2012-06-13T14:40:58.985Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: alloc_cb is some sort of wrapper of malloc?","date":"2012-06-13T14:44:17.520Z","type":"message"}
{"nick":"hz|pc2","message":"its alloc a buffer","date":"2012-06-13T14:44:31.596Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: libuv will call that if it needs a buffer to read into","date":"2012-06-13T14:44:36.032Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: so, naively, you can just make it call malloc","date":"2012-06-13T14:44:50.879Z","type":"message"}
{"nick":"tjfontaine","message":"but block and arena allocators for the win","date":"2012-06-13T14:45:02.877Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: in node we use it to link libuv to the slab allocator","date":"2012-06-13T14:45:03.694Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-06-13T14:45:22.972Z","type":"message"}
{"nick":"bnoordhuis","date":"2012-06-13T14:47:50.704Z","type":"join"}
{"nick":"pfox__","message":"howdy. 0.8 is coming up. pretty exciting!","date":"2012-06-13T14:48:11.871Z","type":"message"}
{"nick":"pfox__","message":"i have some q's, re: uv_ip*_addr .. how do you determine a failed parse?","date":"2012-06-13T14:48:51.913Z","type":"message"}
{"nick":"indutny","message":"indeed :)","date":"2012-06-13T14:48:53.323Z","type":"message"}
{"nick":"hz|pc2","message":"uv_read_start -> uv_tcp_read_start, uv_pipe_read_start, uv_tty_read_start","date":"2012-06-13T14:49:35.663Z","type":"message"}
{"nick":"hz|pc2","message":"mm","date":"2012-06-13T14:50:01.902Z","type":"message"}
{"nick":"ira","date":"2012-06-13T14:50:38.478Z","type":"join"}
{"nick":"piscisaureus_","message":"pfox__: it will return INADDR_NONE","date":"2012-06-13T14:51:57.985Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox__: although I think uv_ip6_addr handles failures well","date":"2012-06-13T14:53:01.388Z","type":"message"}
{"nick":"pfox__","message":"piscisaureus_: also, i see uv_walk is in uv.h on master.. congrats!","date":"2012-06-13T14:53:06.210Z","type":"message"}
{"nick":"hz|pc2","message":"every handle has a loop","date":"2012-06-13T14:53:07.304Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox__: I could change that","date":"2012-06-13T14:53:09.551Z","type":"message"}
{"nick":"hz|pc2","message":"what is this loop?","date":"2012-06-13T14:53:15.249Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: a reference to the event loop","date":"2012-06-13T14:53:36.547Z","type":"message"}
{"nick":"piscisaureus_","message":"you create a loop with uv_loop_init or uv_default_loop()","date":"2012-06-13T14:53:49.082Z","type":"message"}
{"nick":"piscisaureus_","message":"and you run a loop with uv_run(loop)","date":"2012-06-13T14:53:55.978Z","type":"message"}
{"nick":"hz|pc2","message":"i see","date":"2012-06-13T14:54:06.442Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/node/commit/26f754d <- what proper fix?","date":"2012-06-13T14:54:16.764Z","type":"message"}
{"nick":"bnoordhuis","message":"i think that patch landed upstream btw","date":"2012-06-13T14:54:26.559Z","type":"message"}
{"nick":"hz|pc2","message":"uv_loop_t* loop = handle->loop; ...   uv_tty_queue_read(loop, handle);","date":"2012-06-13T14:54:35.533Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the fix you did","date":"2012-06-13T14:54:36.746Z","type":"message"}
{"nick":"pfox__","message":"piscisaureus_: the return val of uv_ip4_addr is a sockaddr_in struct..","date":"2012-06-13T14:54:44.233Z","type":"message"}
{"nick":"pfox__","message":"will INADDR_NONE be set on one of the props?","date":"2012-06-13T14:54:53.443Z","type":"message"}
{"nick":"piscisaureus_","message":"aah hmm","date":"2012-06-13T14:54:57.043Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T14:54:57.814Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox__: this is not so nice tho","date":"2012-06-13T14:55:02.147Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox__: in case of ipv4 it will set set it to sockaddr_in.in_addr","date":"2012-06-13T14:55:24.901Z","type":"message"}
{"nick":"pfox__","action":"nods","date":"2012-06-13T14:55:34.296Z","type":"action"}
{"nick":"pfox__","message":"and for a sockaddr_in6?","date":"2012-06-13T14:55:39.366Z","type":"message"}
{"nick":"piscisaureus_","message":"it doesn't handle failures","date":"2012-06-13T14:55:45.842Z","type":"message"}
{"nick":"piscisaureus_","message":":-9","date":"2012-06-13T14:55:47.144Z","type":"message"}
{"nick":"hij1nx","reason":"Read error: Connection reset by peer","date":"2012-06-13T14:55:49.413Z","type":"quit"}
{"nick":"piscisaureus_","message":"this has to be fixed","date":"2012-06-13T14:55:53.305Z","type":"message"}
{"nick":"pfox__","message":"what is the behavior? crash? undefined?","date":"2012-06-13T14:56:04.061Z","type":"message"}
{"nick":"bnoordhuis","message":"gigo","date":"2012-06-13T14:56:28.115Z","type":"message"}
{"nick":"bnoordhuis","message":"garbage in, garbage out","date":"2012-06-13T14:56:31.570Z","type":"message"}
{"nick":"bnoordhuis","message":"(i think)","date":"2012-06-13T14:56:35.314Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, that","date":"2012-06-13T14:56:35.529Z","type":"message"}
{"nick":"piscisaureus_","message":"undefined crap","date":"2012-06-13T14:56:37.623Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-13T14:56:57.106Z","type":"quit"}
{"nick":"piscisaureus_","message":"pfox__: so the return value on parse error is garbage","date":"2012-06-13T14:56:59.143Z","type":"message"}
{"nick":"piscisaureus_","message":"\\o/ yay","date":"2012-06-13T14:57:04.403Z","type":"message"}
{"nick":"pfox__","action":"nods","date":"2012-06-13T14:57:18.617Z","type":"action"}
{"nick":"piscisaureus_","message":"I wonder if we could fix that properly tho","date":"2012-06-13T14:57:23.728Z","type":"message"}
{"nick":"piscisaureus_","message":"would require an API change I am afraid","date":"2012-06-13T14:57:30.557Z","type":"message"}
{"nick":"pfox__","message":"and for uv_ip*_name() .. if the result is non-zero.. is there a meaningful error in uv_last_error() or should i assume bad input ..?","date":"2012-06-13T14:58:28.554Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox__: they don't set errors","date":"2012-06-13T14:59:04.227Z","type":"message"}
{"nick":"bnoordhuis","message":"consider them convenience functions, nothing more (i do)","date":"2012-06-13T14:59:11.740Z","type":"message"}
{"nick":"piscisaureus_","message":"they set ares errors I think","date":"2012-06-13T14:59:13.765Z","type":"message"}
{"nick":"pfox__","message":"could probably use uv_ip6_name to determine if a sockaddr_in6 produced via uv_ip6_addr is valid...?","date":"2012-06-13T14:59:19.688Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we could change these things to look like","date":"2012-06-13T14:59:41.430Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_err_t uv_ip4_name(foo& output)","date":"2012-06-13T14:59:41.630Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe it's time for uv_ip4_addr2 and uv_ip6_addr2","date":"2012-06-13T14:59:41.630Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-13T14:59:57.490Z","type":"message"}
{"nick":"pfox__","message":"so how's the refcount refactor been working out for you guys?","date":"2012-06-13T15:00:21.010Z","type":"message"}
{"nick":"bnoordhuis","message":"great","date":"2012-06-13T15:00:25.893Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://chromiumcodereview.appspot.com/10416006","date":"2012-06-13T15:00:27.834Z","type":"message"}
{"nick":"pfox__","message":"ive got a bunch of work pending to land in rust","date":"2012-06-13T15:00:28.703Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that was the proper fix","date":"2012-06-13T15:00:35.307Z","type":"message"}
{"nick":"pfox__","message":"will probably update our submodule and adjust things, after that","date":"2012-06-13T15:00:37.414Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ah right, i wondered if that needed to be handled on windows as well","date":"2012-06-13T15:01:41.424Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think you did","date":"2012-06-13T15:01:48.983Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but it's not needed","date":"2012-06-13T15:01:52.794Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: send() does a partial send on windows","date":"2012-06-13T15:02:02.766Z","type":"message"}
{"nick":"piscisaureus_","message":"er, it *never* does","date":"2012-06-13T15:02:12.746Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, right :) that makes more sense","date":"2012-06-13T15:02:22.395Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but just for the sake of correctness, https://chromiumcodereview.appspot.com/10416006/patch/1/3","date":"2012-06-13T15:02:37.200Z","type":"message"}
{"nick":"piscisaureus_","message":"it is there anyway","date":"2012-06-13T15:02:40.003Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-06-13T15:02:55.721Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox__: re refcount refactor: i daresay libuv has become a lot more stable / bug free","date":"2012-06-13T15:03:19.137Z","type":"message"}
{"nick":"bnoordhuis","message":"also easier to reason about","date":"2012-06-13T15:03:29.851Z","type":"message"}
{"nick":"bnoordhuis","message":"easier to use, too","date":"2012-06-13T15:04:18.436Z","type":"message"}
{"nick":"pfox__","message":"nice","date":"2012-06-13T15:04:30.761Z","type":"message"}
{"nick":"hz|pc2","message":"LOOP_ONCE its not once :)","date":"2012-06-13T15:07:23.997Z","type":"message"}
{"nick":"hz|pc2","message":"if ((loop)->refs <= 0) { break;","date":"2012-06-13T15:07:40.313Z","type":"message"}
{"nick":"tjfontaine","message":"did you expect uv_run_once?","date":"2012-06-13T15:08:20.500Z","type":"message"}
{"nick":"avalanche123","date":"2012-06-13T15:11:26.880Z","type":"join"}
{"nick":"hz|pc2","message":"i end up here: uv_tty_queue_read_raw","date":"2012-06-13T15:13:13.891Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-13T15:14:04.574Z","type":"quit"}
{"nick":"piscisaureus_","message":"hz|pc2: what's up with that ?","date":"2012-06-13T15:17:53.789Z","type":"message"}
{"nick":"hz|pc2","message":"i just figure out how read request form tty being packet and enqueued","date":"2012-06-13T15:18:35.693Z","type":"message"}
{"nick":"hz|pc2","message":"from*","date":"2012-06-13T15:18:44.714Z","type":"message"}
{"nick":"hz|pc2","message":"hard to track this code :)","date":"2012-06-13T15:19:05.419Z","type":"message"}
{"nick":"hz|pc2","message":"void * everywhere","date":"2012-06-13T15:19:15.908Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: uv_tty_queue_read_raw calls RegisterWaitForSingleObject(tty->handle)","date":"2012-06-13T15:19:18.172Z","type":"message"}
{"nick":"hz|pc2","message":"yes","date":"2012-06-13T15:19:31.304Z","type":"message"}
{"nick":"piscisaureus_","message":"windows will wait for the tty handle to become signaled","date":"2012-06-13T15:19:41.686Z","type":"message"}
{"nick":"piscisaureus_","message":"(because that's what happens when there are keypresses waiting in the buffer)","date":"2012-06-13T15:19:57.953Z","type":"message"}
{"nick":"piscisaureus_","message":"and when that happens it calls a function in the wait thread pool","date":"2012-06-13T15:20:14.037Z","type":"message"}
{"nick":"hz|pc2","message":"in unwrapped code i would waitfor handle","date":"2012-06-13T15:20:15.330Z","type":"message"}
{"nick":"hz|pc2","message":"direclty","date":"2012-06-13T15:20:17.824Z","type":"message"}
{"nick":"hz|pc2","message":"blocking","date":"2012-06-13T15:20:23.998Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-13T15:20:27.002Z","type":"message"}
{"nick":"hz|pc2","message":"this is for IOCP?","date":"2012-06-13T15:20:43.525Z","type":"message"}
{"nick":"piscisaureus_","message":"so the callback (that runs in the wait thread pool) posts the request to the completion port","date":"2012-06-13T15:20:44.675Z","type":"message"}
{"nick":"piscisaureus_","message":"and then the main thread picks it up from the completion port","date":"2012-06-13T15:20:58.914Z","type":"message"}
{"nick":"piscisaureus_","message":"and it dispatches it to uv_tty_process_read_req_raw (or something similar)","date":"2012-06-13T15:21:26.649Z","type":"message"}
{"nick":"piscisaureus_","message":"which uses ReadConsoleInput (or maybe PeekConsoleInput) to read the keypresses and translate them into vt100 key codes","date":"2012-06-13T15:21:50.031Z","type":"message"}
{"nick":"piscisaureus_","message":"and then calls the user callback","date":"2012-06-13T15:21:59.128Z","type":"message"}
{"nick":"hz|pc2","message":":)","date":"2012-06-13T15:22:06.534Z","type":"message"}
{"nick":"hz|pc2","message":"so IOCP is used here","date":"2012-06-13T15:22:15.416Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, well, the iocp is always used","date":"2012-06-13T15:22:28.767Z","type":"message"}
{"nick":"piscisaureus_","message":"but it only makes much sense for sockets","date":"2012-06-13T15:22:37.096Z","type":"message"}
{"nick":"hz|pc2","message":"general events too","date":"2012-06-13T15:23:09.405Z","type":"message"}
{"nick":"piscisaureus_","message":"bit since the main thread blocks on GetQueuedCompletionStatus we have to wake up the main loop somehow when the console handle is signaled","date":"2012-06-13T15:23:13.367Z","type":"message"}
{"nick":"hz|pc2","message":"yes","date":"2012-06-13T15:23:45.432Z","type":"message"}
{"nick":"TheJH","date":"2012-06-13T15:23:46.135Z","type":"join"}
{"nick":"piscisaureus_","message":"in the end, everything must go through the iocp","date":"2012-06-13T15:23:54.446Z","type":"message"}
{"nick":"hz|pc2","message":"you eventize console_readiness","date":"2012-06-13T15:23:58.849Z","type":"message"}
{"nick":"hz|pc2","message":"and post this event on IOCP","date":"2012-06-13T15:24:09.514Z","type":"message"}
{"nick":"hz|pc2","message":"do you ahve some diagram to study calls?","date":"2012-06-13T15:29:20.671Z","type":"message"}
{"nick":"hz|pc2","message":"life diagram..?","date":"2012-06-13T15:29:32.020Z","type":"message"}
{"nick":"hz|pc2","message":"sequence diagrams i mean","date":"2012-06-13T15:31:29.677Z","type":"message"}
{"nick":"hz|pc2","message":"to emulare e non-blocking call can i use waitforsingleobject with very low timeout?","date":"2012-06-13T15:34:43.661Z","type":"message"}
{"nick":"hz|pc2","message":"its a reasonable idea?","date":"2012-06-13T15:34:53.684Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: no","date":"2012-06-13T15:35:30.394Z","type":"message"}
{"nick":"hz|pc2","message":"better alternative?","date":"2012-06-13T15:38:20.775Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-13T15:38:43.261Z","type":"quit"}
{"nick":"piscisaureus_","message":"hz|pc2: it depends entirely on your situation. I have no clue what you are doing, what you're working or, and why a blocking read would not work.","date":"2012-06-13T15:39:52.038Z","type":"message"}
{"nick":"piscisaureus_","message":"However, I can tell you that WaitForSingleObject with a low timeout is not a reasonable solution for any problem :-0","date":"2012-06-13T15:39:52.234Z","type":"message"}
{"nick":"piscisaureus_","message":"hz|pc2: my 2 cents: unless you have a very important reason to not do it, just create a thread for it","date":"2012-06-13T15:40:54.844Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00020187b65\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f Move resource files to src/res. - http://git.io/tEUb4w","date":"2012-06-13T15:41:49.637Z","type":"message"}
{"nick":"hz|pc2","message":"i just want to effer non blocking method as an api","date":"2012-06-13T15:44:10.415Z","type":"message"}
{"nick":"hz|pc2","message":"i ust need something like try_read","date":"2012-06-13T15:44:42.633Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-06-13T15:44:47.480Z","type":"message"}
{"nick":"piscisaureus_","message":"PeekConsoleInput maybe?","date":"2012-06-13T15:44:52.000Z","type":"message"}
{"nick":"hz|pc2","message":"mmm if can i peek 0 bytes its ok","date":"2012-06-13T15:46:07.966Z","type":"message"}
{"nick":"hz|pc2","message":"errr","date":"2012-06-13T15:54:34.146Z","type":"message"}
{"nick":"hz|pc2","message":"what i said? lol","date":"2012-06-13T15:54:43.374Z","type":"message"}
{"nick":"hz|pc2","message":"i can use peek and after read","date":"2012-06-13T15:54:50.062Z","type":"message"}
{"nick":"hz|pc2","message":"?","date":"2012-06-13T15:54:51.519Z","type":"message"}
{"nick":"hz|pc2","message":"2 calls.. non very nice","date":"2012-06-13T15:55:57.469Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-13T16:01:38.254Z","type":"join"}
{"nick":"piscisaureus_","message":"hz|pc2:","date":"2012-06-13T16:04:35.811Z","type":"message"}
{"nick":"piscisaureus_","message":"BOOL WINAPI GetConsoleInput(","date":"2012-06-13T16:04:36.008Z","type":"message"}
{"nick":"piscisaureus_","message":"    IN HANDLE hConsoleInput,","date":"2012-06-13T16:04:36.008Z","type":"message"}
{"nick":"piscisaureus_","message":"    OUT PINPUT_RECORD lpBuffer,","date":"2012-06-13T16:04:36.008Z","type":"message"}
{"nick":"piscisaureus_","message":"    IN DWORD nLength,","date":"2012-06-13T16:04:36.008Z","type":"message"}
{"nick":"piscisaureus_","message":"    OUT LPDWORD lpNumberOfEventsRead,","date":"2012-06-13T16:04:36.801Z","type":"message"}
{"nick":"piscisaureus_","message":"    IN USHORT wFlags,","date":"2012-06-13T16:04:36.998Z","type":"message"}
{"nick":"piscisaureus_","message":"    IN BOOLEAN Unicode","date":"2012-06-13T16:04:37.789Z","type":"message"}
{"nick":"piscisaureus_","message":"    )","date":"2012-06-13T16:04:37.988Z","type":"message"}
{"nick":"piscisaureus_","message":"dwFlags: CONSOLE_READ_NOREMOVE, CONSOLE_READ_NOWAIT","date":"2012-06-13T16:04:38.845Z","type":"message"}
{"nick":"piscisaureus_","message":"dll:  Kernel32.dll","date":"2012-06-13T16:04:39.048Z","type":"message"}
{"nick":"piscisaureus_","message":"or rather, just use ReadConsoleInputEx","date":"2012-06-13T16:06:10.505Z","type":"message"}
{"nick":"hz|pc2","message":"tnx ill try","date":"2012-06-13T16:09:01.598Z","type":"message"}
{"nick":"stephank","date":"2012-06-13T16:09:26.569Z","type":"join"}
{"nick":"xaq","reason":"Read error: Connection reset by peer","date":"2012-06-13T16:12:49.618Z","type":"quit"}
{"nick":"xaq","date":"2012-06-13T16:13:18.300Z","type":"join"}
{"nick":"erickt","date":"2012-06-13T16:16:11.894Z","type":"join"}
{"nick":"dap","date":"2012-06-13T16:18:45.263Z","type":"join"}
{"nick":"bnoordhuis","topic":"#libuv - no zombies were harmed in the making of this library","date":"2012-06-13T16:22:26.221Z","type":"topic"}
{"nick":"pfox__","message":"only the living!","date":"2012-06-13T16:42:21.449Z","type":"message"}
{"nick":"hz|pc2","message":"piscisaureus_:  i cant find GetConsoleInput on msdn","date":"2012-06-13T16:42:32.838Z","type":"message"}
{"nick":"hz|pc2","message":"its strange","date":"2012-06-13T16:42:35.761Z","type":"message"}
{"nick":"hz|pc2","message":"windows.h neither","date":"2012-06-13T16:43:42.178Z","type":"message"}
{"nick":"AvianFlu","message":"�isn't harming zombies generally a good thing?","date":"2012-06-13T16:48:27.574Z","type":"message"}
{"nick":"loladiro","date":"2012-06-13T16:55:34.786Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T16:59:13.737Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-13T16:59:19.031Z","type":"join"}
{"nick":"loladiro_","reason":"Read error: Connection reset by peer","date":"2012-06-13T17:04:51.221Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T17:04:56.744Z","type":"join"}
{"nick":"pietern","date":"2012-06-13T17:05:11.761Z","type":"join"}
{"nick":"loladiro_","date":"2012-06-13T17:06:08.090Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 244 seconds","date":"2012-06-13T17:09:17.763Z","type":"quit"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2012-06-13T17:09:18.165Z","type":"nick"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-13T17:12:57.244Z","type":"quit"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000207c6ac2\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f windows: move child stdio buffer ops to a separate file - http://git.io/Ek6DPg","date":"2012-06-13T17:18:46.352Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T17:20:43.112Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#409 (master - 07c6ac2 : Bert Belder): The build passed.","date":"2012-06-13T17:20:43.311Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/9f44b0e393f6...07c6ac2b553b","date":"2012-06-13T17:20:43.311Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1612664","date":"2012-06-13T17:20:43.311Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T17:20:43.311Z","type":"part"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-06-13T17:22:16.255Z","type":"quit"}
{"nick":"loladiro","reason":"Ping timeout: 240 seconds","date":"2012-06-13T17:22:25.030Z","type":"quit"}
{"nick":"TheJH","reason":"Ping timeout: 248 seconds","date":"2012-06-13T17:28:36.331Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T17:33:12.480Z","type":"join"}
{"nick":"loladiro","date":"2012-06-13T17:33:49.286Z","type":"part"}
{"nick":"stephank","date":"2012-06-13T17:37:06.537Z","type":"join"}
{"nick":"ira","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2012-06-13T17:38:54.860Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-13T17:38:55.624Z","type":"join"}
{"nick":"isaacs","date":"2012-06-13T17:40:23.808Z","type":"join"}
{"nick":"TooTallNate","date":"2012-06-13T17:43:45.632Z","type":"join"}
{"nick":"erickt","date":"2012-06-13T17:44:17.680Z","type":"join"}
{"nick":"brson","date":"2012-06-13T17:50:57.557Z","type":"join"}
{"nick":"isaacs","message":"good morning","date":"2012-06-13T17:52:51.744Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: morning","date":"2012-06-13T17:55:05.619Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-13T17:56:54.758Z","type":"quit"}
{"nick":"piscisaureus_","message":"mornin isaacs","date":"2012-06-13T17:57:07.309Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: can you review? https://github.com/joyent/node/pull/3422","date":"2012-06-13T18:00:32.636Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so you also added listen(handle) ?","date":"2012-06-13T18:04:40.157Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it was actually already there, i just cleaned it up a little","date":"2012-06-13T18:05:00.791Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: cluster uses it","date":"2012-06-13T18:05:07.049Z","type":"message"}
{"nick":"piscisaureus_","message":"as a part of the api cleanup in 0.9 we should expand the object syntax there","date":"2012-06-13T18:05:32.475Z","type":"message"}
{"nick":"piscisaureus_","message":"but so far it looks good","date":"2012-06-13T18:05:44.802Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i just made it so you can do server.listen(otherServer) instead of server.listen(otherServer._handle)","date":"2012-06-13T18:05:45.322Z","type":"message"}
{"nick":"isaacs","message":"\"expand the object syntax there\" ?","date":"2012-06-13T18:06:01.160Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: listen({port: 123, host: '129.1.2.3'})","date":"2012-06-13T18:06:24.348Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we are kind of inconsistent here","date":"2012-06-13T18:06:38.043Z","type":"message"}
{"nick":"isaacs","message":"oh, right","date":"2012-06-13T18:06:46.312Z","type":"message"}
{"nick":"isaacs","message":"yeah, that's a messa","date":"2012-06-13T18:06:48.487Z","type":"message"}
{"nick":"isaacs","message":"*mes","date":"2012-06-13T18:06:49.942Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. net.connect({ port: 123 }) // doesn't work","date":"2012-06-13T18:06:55.769Z","type":"message"}
{"nick":"piscisaureus_","message":"tls.connect({ port: 123 }) // works","date":"2012-06-13T18:07:02.639Z","type":"message"}
{"nick":"piscisaureus_","message":"that's just lame","date":"2012-06-13T18:07:06.019Z","type":"message"}
{"nick":"piscisaureus_","message":"new net.Socket({port: 123}) // works","date":"2012-06-13T18:07:37.817Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: 1e2fa5f3984d25dacd6a75a07c1d86b35dc3b962","date":"2012-06-13T18:08:36.898Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: i don't think that works","date":"2012-06-13T18:08:43.679Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it only works in an inheritance scenario right ?","date":"2012-06-13T18:09:22.515Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what part of it doesn't work?","date":"2012-06-13T18:09:32.424Z","type":"message"}
{"nick":"isaacs","message":"if the master has a fd open, then the children can listen on that fd","date":"2012-06-13T18:09:46.227Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, but the fd doesn't have the same value in all processes","date":"2012-06-13T18:10:04.024Z","type":"message"}
{"nick":"isaacs","message":"doesn't matter","date":"2012-06-13T18:10:09.449Z","type":"message"}
{"nick":"isaacs","message":"the fd is only actually in the master process","date":"2012-06-13T18:10:13.754Z","type":"message"}
{"nick":"isaacs","message":"that's where it gets opened, and the handle sent to the children","date":"2012-06-13T18:10:21.708Z","type":"message"}
{"nick":"isaacs","message":"the children don't actually have it, only the parent does","date":"2012-06-13T18:10:52.409Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, the children have it, but the fd is different :-)","date":"2012-06-13T18:11:40.244Z","type":"message"}
{"nick":"isaacs","message":"sure, i mean, they don't have an fd:3 to listen on","date":"2012-06-13T18:12:00.996Z","type":"message"}
{"nick":"piscisaureus_","message":"this is actually one of these scenarios where 'accidental' inheritance of fds is desirable ;-)","date":"2012-06-13T18:13:36.931Z","type":"message"}
{"nick":"piscisaureus_","message":"I think , the first one I ever encountered","date":"2012-06-13T18:13:47.988Z","type":"message"}
{"nick":"piscisaureus_","message":"although it would never be reliable","date":"2012-06-13T18:15:52.247Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u000230060d3\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f unix, windows: implement uv_disable_stdio_inheritance - http://git.io/5cw7_Q","date":"2012-06-13T18:19:59.557Z","type":"message"}
{"nick":"ira","date":"2012-06-13T18:20:12.259Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^-- can you review that","date":"2012-06-13T18:21:29.782Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T18:21:55.966Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#410 (reviewme - 30060d3 : Bert Belder): The build passed.","date":"2012-06-13T18:21:56.164Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/fab7b7bbf7f7...30060d3472ee","date":"2012-06-13T18:21:56.164Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1613105","date":"2012-06-13T18:21:56.164Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T18:21:56.164Z","type":"part"}
{"nick":"piscisaureus_","message":"isaacs: do you have some time for me?","date":"2012-06-13T18:22:02.561Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, if someone's using cluster, i really don't expect that they'll ned listenFD","date":"2012-06-13T18:22:09.466Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: sure.","date":"2012-06-13T18:22:11.639Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: when a worker does listen({fd: 29})","date":"2012-06-13T18:22:12.642Z","type":"message"}
{"nick":"piscisaureus_","message":"who'se fd does it listen on?","date":"2012-06-13T18:22:24.228Z","type":"message"}
{"nick":"piscisaureus_","message":"the worker's or the parent's 29 ?","date":"2012-06-13T18:22:36.193Z","type":"message"}
{"nick":"isaacs","message":"whatever fd=29 points to in the master","date":"2012-06-13T18:22:36.438Z","type":"message"}
{"nick":"isaacs","message":"the master's","date":"2012-06-13T18:22:39.330Z","type":"message"}
{"nick":"isaacs","message":"parent's","date":"2012-06-13T18:22:43.159Z","type":"message"}
{"nick":"isaacs","message":"it works just like listen port=8000","date":"2012-06-13T18:22:50.666Z","type":"message"}
{"nick":"isaacs","message":"the worker says, \"Hay, master, make a listen on 8000, and gimme the handle\"","date":"2012-06-13T18:23:05.315Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok, I see","date":"2012-06-13T18:23:12.150Z","type":"message"}
{"nick":"isaacs","message":"now, the worker says, \"Hay, master, make a listen on fd=3, and gimme the handle\"","date":"2012-06-13T18:23:15.608Z","type":"message"}
{"nick":"isaacs","message":"so ti's the master's fd","date":"2012-06-13T18:23:17.796Z","type":"message"}
{"nick":"isaacs","message":"again, that's *very* unlikely.","date":"2012-06-13T18:23:22.725Z","type":"message"}
{"nick":"isaacs","message":"cluster is already a much better way to share listening","date":"2012-06-13T18:23:33.210Z","type":"message"}
{"nick":"isaacs","message":"this is only relevant in cases where you've received a fd from somewhere else, and want to listen on it","date":"2012-06-13T18:23:44.998Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-06-13T18:23:55.355Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: right, ok","date":"2012-06-13T18:24:51.532Z","type":"message"}
{"nick":"loladiro_","reason":"Ping timeout: 244 seconds","date":"2012-06-13T18:25:21.595Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: it seems to me that this should be documented.","date":"2012-06-13T18:25:27.685Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: then I can live with it :-)","date":"2012-06-13T18:25:34.992Z","type":"message"}
{"nick":"isaacs","message":"great!","date":"2012-06-13T18:26:01.985Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what does it do on windows?","date":"2012-06-13T18:26:24.049Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it seems rather odd though that this scenario is possible (in a worker):","date":"2012-06-13T18:26:26.271Z","type":"message"}
{"nick":"piscisaureus_","message":"fd = fs.openSync('foo'); //3","date":"2012-06-13T18:26:26.474Z","type":"message"}
{"nick":"piscisaureus_","message":"net.listen({fd: 3}) <-- omg it works, I am listening a file","date":"2012-06-13T18:26:26.474Z","type":"message"}
{"nick":"TheJH","date":"2012-06-13T18:26:27.700Z","type":"join"}
{"nick":"isaacs","message":"anything useful?","date":"2012-06-13T18:26:27.900Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: no, it doesn't work on windows","date":"2012-06-13T18:26:38.120Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-06-13T18:26:41.011Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2012-06-13T18:26:41.210Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I will actually try it now","date":"2012-06-13T18:26:52.318Z","type":"message"}
{"nick":"isaacs","message":"does it break in an obvious way, or should we add a platform check to make sure?","date":"2012-06-13T18:26:56.110Z","type":"message"}
{"nick":"piscisaureus_","message":"so it seems we have to disable the tests on windows :-)","date":"2012-06-13T18:27:00.414Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am going to try now","date":"2012-06-13T18:27:07.790Z","type":"message"}
{"nick":"piscisaureus_","message":"test\\simple\\test-listen-fd-cluster.js: ENOTSUP","date":"2012-06-13T18:29:57.921Z","type":"message"}
{"nick":"isaacs","message":"hooray!!","date":"2012-06-13T18:30:10.280Z","type":"message"}
{"nick":"isaacs","message":"ENOTSUP was the error i was hoping for","date":"2012-06-13T18:30:19.040Z","type":"message"}
{"nick":"piscisaureus_","message":"all the other tests fail with enotsup","date":"2012-06-13T18:30:33.504Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: can you skip them on windows?","date":"2012-06-13T18:30:42.680Z","type":"message"}
{"nick":"isaacs","message":"k, will do","date":"2012-06-13T18:30:55.865Z","type":"message"}
{"nick":"isaacs","message":"i was waiting for you to tell me there's no clever way to make it work","date":"2012-06-13T18:31:04.933Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: there is :-)","date":"2012-06-13T18:31:15.213Z","type":"message"}
{"nick":"isaacs","message":"orly?  worth doing, or no?","date":"2012-06-13T18:31:27.647Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but I am going to tell you now, I am not going to anytime soon, er even at all","date":"2012-06-13T18:31:39.842Z","type":"message"}
{"nick":"isaacs","message":"ok, kewl","date":"2012-06-13T18:31:52.119Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, it's a lot of work to cover a fringe case","date":"2012-06-13T18:31:52.517Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-06-13T18:31:56.875Z","type":"message"}
{"nick":"isaacs","message":"i'm totally fine with that","date":"2012-06-13T18:32:00.581Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: on windows no other process, ever, would supply you with a bound socket to listen on","date":"2012-06-13T18:32:13.798Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: however I can make it work for situations where a node process does that to another node process","date":"2012-06-13T18:32:33.719Z","type":"message"}
{"nick":"piscisaureus_","message":"(by allocating more room for the lpReserved2 buffer than necessary, and adding appropriate WSA_INFOW structures there","date":"2012-06-13T18:33:15.664Z","type":"message"}
{"nick":"piscisaureus_","message":"however, don't hold your breath :-)","date":"2012-06-13T18:33:22.714Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-06-13T18:33:45.608Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I mean, we currently also don't support sending connected tcp sockets over an ipc channel","date":"2012-06-13T18:34:10.863Z","type":"message"}
{"nick":"piscisaureus_","message":"that seems like a more useful scenario to me","date":"2012-06-13T18:34:17.499Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm maybe igorzi_ made that work","date":"2012-06-13T18:34:36.604Z","type":"message"}
{"nick":"piscisaureus_","message":"anyway there's a lot of unsupported stuff in this area","date":"2012-06-13T18:34:43.849Z","type":"message"}
{"nick":"igorzi_","reason":"Ping timeout: 245 seconds","date":"2012-06-13T18:37:28.253Z","type":"quit"}
{"nick":"isaacs","message":"yep.","date":"2012-06-13T18:38:27.233Z","type":"message"}
{"nick":"loladiro","date":"2012-06-13T18:43:01.044Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: lgtm btw","date":"2012-06-13T18:45:32.580Z","type":"message"}
{"nick":"c4milo","date":"2012-06-13T18:45:35.886Z","type":"join"}
{"nick":"isaacs","message":"kewl","date":"2012-06-13T18:45:38.227Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 240 seconds","date":"2012-06-13T18:45:55.123Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: but please doc that behaviour w/ cluster","date":"2012-06-13T18:46:02.809Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what if someone does spawn(x, a, {stdio: [pipe, pipe, pipe, ignore, ignore, pipe]})","date":"2012-06-13T18:47:04.531Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it will stop at the first ignore","date":"2012-06-13T18:47:14.675Z","type":"message"}
{"nick":"isaacs","message":"writing the doc now","date":"2012-06-13T18:47:27.138Z","type":"message"}
{"nick":"xaq","reason":"Read error: Connection reset by peer","date":"2012-06-13T18:53:52.841Z","type":"quit"}
{"nick":"xaq","date":"2012-06-13T18:54:25.788Z","type":"join"}
{"nick":"japj","date":"2012-06-13T19:00:41.627Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis, piscisaureus_: thoughts on listen(0) in cluster?","date":"2012-06-13T19:06:20.567Z","type":"message"}
{"nick":"isaacs","message":"i'm tempted to just document it now, while i'm here in the cluster doc, but it's not hte first time someone's complained, and there's a pull req to fix it.","date":"2012-06-13T19:06:42.671Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: should probably bind on a random port in the master","date":"2012-06-13T19:06:44.300Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: does it not?","date":"2012-06-13T19:06:53.576Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it binds to the same random port on the master each time a child does listen(0)","date":"2012-06-13T19:07:13.575Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: instead of a new one each time","date":"2012-06-13T19:07:19.204Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-06-13T19:07:22.191Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah that's lame","date":"2012-06-13T19:07:26.075Z","type":"message"}
{"nick":"piscisaureus_","message":"although, heh","date":"2012-06-13T19:07:48.625Z","type":"message"}
{"nick":"isaacs","message":"if you don't want server sharing why are you using cluster?","date":"2012-06-13T19:08:00.437Z","type":"message"}
{"nick":"piscisaureus_","message":"how would the other processes know on which random port it binds?","date":"2012-06-13T19:08:00.995Z","type":"message"}
{"nick":"isaacs","message":"well, there are some valid use cases, i suppose","date":"2012-06-13T19:08:14.158Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, we could change it to listen on a random port","date":"2012-06-13T19:08:19.906Z","type":"message"}
{"nick":"piscisaureus_","message":"but then there's no point of going through master","date":"2012-06-13T19:08:27.154Z","type":"message"}
{"nick":"isaacs","message":"let's say i want my http server to be shared across, and each cluster module to have a tcp server so i can repl into them individually","date":"2012-06-13T19:08:34.484Z","type":"message"}
{"nick":"isaacs","message":"right, so the cluster._getServer would see port=0 and just not ask the parent.","date":"2012-06-13T19:08:55.030Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah, but what if you want a worker to listen on a shared port","date":"2012-06-13T19:08:57.125Z","type":"message"}
{"nick":"piscisaureus_","message":"and *also* on a private port ?","date":"2012-06-13T19:09:06.672Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: then you specify which port it is","date":"2012-06-13T19:09:08.056Z","type":"message"}
{"nick":"isaacs","message":"hm...","date":"2012-06-13T19:09:13.218Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-06-13T19:09:14.696Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but what if you wanted to listen on a specific shared port?","date":"2012-06-13T19:09:29.707Z","type":"message"}
{"nick":"isaacs","message":"well, another way you could do that is have the master manage who gets what ports","date":"2012-06-13T19:09:33.441Z","type":"message"}
{"nick":"isaacs","message":"so, it's shared, but only with you","date":"2012-06-13T19:09:47.360Z","type":"message"}
{"nick":"piscisaureus_","message":"like 10000 + worker.id :-)","date":"2012-06-13T19:09:48.001Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2012-06-13T19:09:50.827Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: you can listen to more than one port in a worker so both listen(8000) and listen(0) but you only wan't 8000 to be shared. I won't say whats the best solution in this case, just don't limit your decissionmaking to the case where a worker only listen to an random port","date":"2012-06-13T19:10:32.564Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: right","date":"2012-06-13T19:10:45.128Z","type":"message"}
{"nick":"AndreasMadsen","message":"s/wan't/want","date":"2012-06-13T19:10:51.381Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: what about something like, listen(8000, { shared: false }) or something","date":"2012-06-13T19:10:58.774Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: listen({port: 80, private: true}) :-p","date":"2012-06-13T19:11:09.741Z","type":"message"}
{"nick":"isaacs","message":"sure, that too","date":"2012-06-13T19:11:15.070Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-06-13T19:11:16.514Z","type":"message"}
{"nick":"isaacs","message":"so, if it has private: true, don't ask the parent at all","date":"2012-06-13T19:11:26.547Z","type":"message"}
{"nick":"piscisaureus_","message":"I dunno","date":"2012-06-13T19:11:37.090Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe {shared: true} would be ebtter","date":"2012-06-13T19:11:45.981Z","type":"message"}
{"nick":"isaacs","message":"yeah, it's not that it's *private*","date":"2012-06-13T19:12:00.602Z","type":"message"}
{"nick":"isaacs","message":"it's that it's not shared","date":"2012-06-13T19:12:02.779Z","type":"message"}
{"nick":"piscisaureus_","message":"let it rest for a minute","date":"2012-06-13T19:12:04.010Z","type":"message"}
{"nick":"isaacs","message":"not the same thign","date":"2012-06-13T19:12:05.667Z","type":"message"}
{"nick":"isaacs","message":"kewl.","date":"2012-06-13T19:12:08.202Z","type":"message"}
{"nick":"isaacs","message":"i'm just gonna document that 0 is \"the same random\"","date":"2012-06-13T19:12:18.531Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: I have thought about that, it is a good solution but I'm like you concerned that cluster will turn intro an high level child_process.fork.","date":"2012-06-13T19:12:33.801Z","type":"message"}
{"nick":"isaacs","message":"let's clean it up in 0.9","date":"2012-06-13T19:12:55.082Z","type":"message"}
{"nick":"isaacs","message":"punting for now.  just gonna document the weirdness.","date":"2012-06-13T19:13:01.661Z","type":"message"}
{"nick":"isaacs","message":"we can come up with something nice later.","date":"2012-06-13T19:13:11.997Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: fine, they can always just send a request to the master and manually send the Server object using process.send if I'm not mistaken.","date":"2012-06-13T19:14:43.142Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: yeah, or listen(worker.id + 10000)","date":"2012-06-13T19:15:09.426Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: hehe, that too but you never know what these kids have running now days.","date":"2012-06-13T19:16:03.293Z","type":"message"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-13T19:18:08.233Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: https://github.com/joyent/node/pull/3422#commits-pushed-cedca35","date":"2012-06-13T19:19:01.975Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: also removed the extraneous cases from the switch, but that's not showing up yet.","date":"2012-06-13T19:19:13.866Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: lgtm, minus a typo","date":"2012-06-13T19:23:05.238Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 252 seconds","date":"2012-06-13T19:23:06.036Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: s/therefor/therefore/","date":"2012-06-13T19:23:43.977Z","type":"message"}
{"nick":"isaacs","message":"?","date":"2012-06-13T19:23:44.701Z","type":"message"}
{"nick":"isaacs","message":"(which yes, is a typo, i don't see any other ones)","date":"2012-06-13T19:23:51.415Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-06-13T19:23:52.083Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-13T19:24:02.492Z","type":"message"}
{"nick":"isaacs","message":"fixed","date":"2012-06-13T19:24:11.494Z","type":"message"}
{"nick":"isaacs","message":"ok, i'm gonna squash into one commit and land it.","date":"2012-06-13T19:24:23.802Z","type":"message"}
{"nick":"loladiro","date":"2012-06-13T19:24:37.750Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002e733dc3\u000f \u000310\u000f/ (10 files in 3 dirs)\u0002:\u000f Fix #3388 Support listening on file descriptors - http://git.io/xbIyPA","date":"2012-06-13T19:27:49.660Z","type":"message"}
{"nick":"xaq","reason":"Read error: Connection reset by peer","date":"2012-06-13T19:29:57.255Z","type":"quit"}
{"nick":"isaacs","message":"oh, i should've split the doc patch out to be more git-correct and atomic.  oh well.","date":"2012-06-13T19:30:16.349Z","type":"message"}
{"nick":"xaq","date":"2012-06-13T19:30:23.916Z","type":"join"}
{"nick":"hij1nx","date":"2012-06-13T19:32:23.921Z","type":"join"}
{"nick":"piscisaureus_","message":"shrug","date":"2012-06-13T19:33:03.900Z","type":"message"}
{"nick":"hij1nx","reason":"Client Quit","date":"2012-06-13T19:34:27.871Z","type":"quit"}
{"nick":"TheJH","date":"2012-06-13T19:36:12.032Z","type":"join"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002f043a73\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f Unix: make uv_disable_stdio_inheritance more aggressive - http://git.io/yaR61w","date":"2012-06-13T19:39:15.263Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^-- like that, then ?","date":"2012-06-13T19:39:23.010Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T19:39:50.028Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#411 (reviewme - f043a73 : Bert Belder): The build was broken.","date":"2012-06-13T19:39:50.229Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/30060d3472ee...f043a73ff8dc","date":"2012-06-13T19:39:50.229Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1613635","date":"2012-06-13T19:39:50.229Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T19:39:50.230Z","type":"part"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002dfffbc0\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f Unix: make uv_disable_stdio_inheritance more aggressive - http://git.io/wt0i7w","date":"2012-06-13T19:42:59.903Z","type":"message"}
{"nick":"piscisaureus_","message":"travis-ci++","date":"2012-06-13T19:43:05.967Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T19:44:18.042Z","type":"quit"}
{"nick":"travis-ci","date":"2012-06-13T19:44:56.760Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#412 (reviewme - dfffbc0 : Bert Belder): The build was fixed.","date":"2012-06-13T19:44:56.956Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/f043a73ff8dc...dfffbc09e764","date":"2012-06-13T19:44:56.957Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1613656","date":"2012-06-13T19:44:56.957Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T19:44:56.957Z","type":"part"}
{"nick":"loladiro","date":"2012-06-13T19:45:14.685Z","type":"join"}
{"nick":"igorzi","date":"2012-06-13T20:02:29.285Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T20:10:09.534Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T20:10:24.763Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000274c8041\u000f \u000310\u000f/ test/pummel/test-child-process-spawn-loop.js \u0002:\u000f test-child-process-spawn-loop: make it pass on Windows. - http://git.io/zCW2BA","date":"2012-06-13T20:13:36.317Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yes","date":"2012-06-13T20:13:38.130Z","type":"message"}
{"nick":"bitprobe","date":"2012-06-13T20:23:22.422Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-06-13T20:29:52.740Z","type":"quit"}
{"nick":"brson","date":"2012-06-13T20:32:24.153Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-06-13T20:38:08.569Z","type":"quit"}
{"nick":"xaq","date":"2012-06-13T20:40:52.023Z","type":"join"}
{"nick":"japj","message":"isaacs: I have a question related to https://github.com/joyent/node/issues/2318 and npm 'bin' scripts on windows","date":"2012-06-13T20:41:36.135Z","type":"message"}
{"nick":"piscisaureus_","message":"japj: I would take a (libuv) patch for that :-)","date":"2012-06-13T20:42:38.994Z","type":"message"}
{"nick":"japj","message":"isaacs: I am trying to use mocha through roto which tries to 'spawn' mocha, which does not work since mocha is a .cmd file and not an .exe","date":"2012-06-13T20:42:41.325Z","type":"message"}
{"nick":"isaacs","message":"japj: you should be able to spawn mocha","date":"2012-06-13T20:43:21.195Z","type":"message"}
{"nick":"isaacs","message":"japj: i spawn cmd's sometimes","date":"2012-06-13T20:43:26.615Z","type":"message"}
{"nick":"piscisaureus_","message":"japj: you should spawn it with spawn('cmd', ['/c', 'mocha.cmd'], { windowsVerbatimArguments: true })","date":"2012-06-13T20:43:33.234Z","type":"message"}
{"nick":"japj","message":"well, roto spawns mocha and it does not know about cmd /c","date":"2012-06-13T20:44:00.633Z","type":"message"}
{"nick":"isaacs","message":"oh, right, that","date":"2012-06-13T20:44:06.043Z","type":"message"}
{"nick":"isaacs","message":"japj: it should probably exec() mocha instead :)","date":"2012-06-13T20:44:18.704Z","type":"message"}
{"nick":"japj","message":"similar to every other thing using spawn I guess","date":"2012-06-13T20:44:27.980Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2012-06-13T20:44:50.108Z","type":"quit"}
{"nick":"japj","message":"hmm","date":"2012-06-13T20:45:05.138Z","type":"message"}
{"nick":"japj","message":"atleast there should be some kind of uniform pattern/instruction on how to deal with this correctly from a cross platform point of view","date":"2012-06-13T20:45:56.872Z","type":"message"}
{"nick":"japj","message":"it's driving me slightly insane ;)","date":"2012-06-13T20:46:16.974Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 244 seconds","date":"2012-06-13T20:47:57.691Z","type":"quit"}
{"nick":"japj","message":"oh wait, it seems roto is actually spawning process.argv[0] with args '/node_modules/.bin/_mocha' ... sigh","date":"2012-06-13T20:48:35.827Z","type":"message"}
{"nick":"isaacs","message":"japj: that's very wrong","date":"2012-06-13T20:49:08.160Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T20:49:08.363Z","type":"quit"}
{"nick":"AvianFlu","message":"yeah lol","date":"2012-06-13T20:49:13.055Z","type":"message"}
{"nick":"isaacs","message":"japj: don't !@#$ing do that.","date":"2012-06-13T20:49:15.937Z","type":"message"}
{"nick":"loladiro","date":"2012-06-13T20:49:18.106Z","type":"join"}
{"nick":"japj","message":"I didnt do that, the author of roto did","date":"2012-06-13T20:49:27.605Z","type":"message"}
{"nick":"piscisaureus_","message":"huh, does that even work on unix","date":"2012-06-13T20:49:30.494Z","type":"message"}
{"nick":"isaacs","message":"japj: if *anything* it should be spawing node_modules/.bin/mocha","date":"2012-06-13T20:49:31.116Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yes, but only by accident, and it breaks the third wall","date":"2012-06-13T20:49:46.539Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: tj could change the location of the bin in the project, and it'll break","date":"2012-06-13T20:49:56.479Z","type":"message"}
{"nick":"isaacs","message":"japj: wait... _mocha?","date":"2012-06-13T20:50:05.652Z","type":"message"}
{"nick":"isaacs","message":"japj: sorry, i read that wrong","date":"2012-06-13T20:50:09.673Z","type":"message"}
{"nick":"AvianFlu","message":"do you mean \"fourth wall\"? or is it not the same joke","date":"2012-06-13T20:50:11.662Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: oh, right, fourth wall","date":"2012-06-13T20:50:22.515Z","type":"message"}
{"nick":"japj","message":"isaacs: yes","date":"2012-06-13T20:50:28.176Z","type":"message"}
{"nick":"isaacs","message":"don't directly address the packages that npm shows you :)","date":"2012-06-13T20:50:31.385Z","type":"message"}
{"nick":"isaacs","message":"just call it \"mocha\" and get it from where it resolves to","date":"2012-06-13T20:50:42.159Z","type":"message"}
{"nick":"japj","message":"isaacs: btw, will npm also generate 'sh' shims for 'bin' scripts?","date":"2012-06-13T20:50:43.019Z","type":"message"}
{"nick":"piscisaureus_","message":"we should revert libuv@8ed2ffb, and paste `cmd /c` before the command when encountering anything not .exe/.com","date":"2012-06-13T20:50:46.382Z","type":"message"}
{"nick":"piscisaureus_","message":"I've heard just one too many complaints about this","date":"2012-06-13T20:50:54.060Z","type":"message"}
{"nick":"piscisaureus_","message":"I wish bnoordhuis wasn't watching football","date":"2012-06-13T20:51:33.691Z","type":"message"}
{"nick":"japj","message":"piscisaureus_: when thinking I was solving an issue a while ago, I made a javascript PATH/PATHEXT traversal thingie https://github.com/japj/node-exec/blob/master/lib/exec.js","date":"2012-06-13T20:51:57.466Z","type":"message"}
{"nick":"isaacs","message":"japj: yes.","date":"2012-06-13T20:52:07.249Z","type":"message"}
{"nick":"japj","message":"piscisaureus_: then I discovered cmd.exe does the same","date":"2012-06-13T20:52:09.251Z","type":"message"}
{"nick":"piscisaureus_","message":"japj: hehe","date":"2012-06-13T20:52:17.024Z","type":"message"}
{"nick":"japj","message":"it was a nice exercise though","date":"2012-06-13T20:52:25.963Z","type":"message"}
{"nick":"isaacs","message":"japj: check out my `which` module","date":"2012-06-13T20:52:35.996Z","type":"message"}
{"nick":"piscisaureus_","message":"japj: well, I would prefer to have libuv still do the path search","date":"2012-06-13T20:52:44.443Z","type":"message"}
{"nick":"isaacs","message":"japj: works like which(1), but on windows resolves the .exe/bat/cmd thing","date":"2012-06-13T20:52:46.703Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, or isaac's solution","date":"2012-06-13T20:53:00.285Z","type":"message"}
{"nick":"isaacs","message":"that doesn't need to be in libuv","date":"2012-06-13T20:53:16.600Z","type":"message"}
{"nick":"japj","message":"isaacs: oh, that should be similar then.. I'm going to have a quick look","date":"2012-06-13T20:53:17.789Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, i'd like to have spawn('git', ['commit']) etc to just wor","date":"2012-06-13T20:53:40.399Z","type":"message"}
{"nick":"piscisaureus_","message":"k","date":"2012-06-13T20:53:41.574Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but not real hurry now","date":"2012-06-13T20:53:51.481Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: TooTallNate: other topic - why are we not putting `weak` in the node tree?","date":"2012-06-13T20:54:24.057Z","type":"message"}
{"nick":"piscisaureus_","message":"I find this npm thing very brittle","date":"2012-06-13T20:54:34.728Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i suppose we could, and just have the Makefile/vcbuild recompile the binary part with node-gyp","date":"2012-06-13T20:56:36.477Z","type":"message"}
{"nick":"TooTallNate","message":"i think isaacs was reluctant to commit a node_modules dir to the root of the repo though","date":"2012-06-13T20:56:52.936Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: well, as much as I like node-gyp","date":"2012-06-13T20:56:53.134Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: I think we should just add it to node.gyp :_)","date":"2012-06-13T20:57:08.207Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: we could put the node_modules folder inside test/gc, right?","date":"2012-06-13T20:57:21.127Z","type":"message"}
{"nick":"TooTallNate","message":"ya","date":"2012-06-13T20:57:28.238Z","type":"message"}
{"nick":"TooTallNate","message":"so you want to build it at the same time as the regular build?","date":"2012-06-13T20:58:00.798Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yes, or some other way involving  'tools/gyp_node weak`","date":"2012-06-13T20:58:39.208Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-06-13T20:58:43.938Z","type":"quit"}
{"nick":"piscisaureus_","message":"but yes, I'd like to add it to the gyp file","date":"2012-06-13T20:58:55.977Z","type":"message"}
{"nick":"TooTallNate","message":"that's fair","date":"2012-06-13T20:58:57.016Z","type":"message"}
{"nick":"paddybyers","date":"2012-06-13T20:59:06.080Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: I am somewhat allergic to complex build processes","date":"2012-06-13T20:59:12.039Z","type":"message"}
{"nick":"TooTallNate","message":"it'd be `tools/gyp_addon test/gc/node_modules/weak/binding.gyp` or something like that","date":"2012-06-13T20:59:21.418Z","type":"message"}
{"nick":"piscisaureus_","message":"or that","date":"2012-06-13T20:59:30.568Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-13T20:59:31.615Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: we've now gone to a point where the build process involves a lot random stuff, and adding node-gyp and npm to the mix are recipes for headache","date":"2012-06-13T21:00:51.887Z","type":"message"}
{"nick":"piscisaureus_","message":"I like to do as much with gyp as reasonably possible","date":"2012-06-13T21:01:02.181Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: +1 build process should be simple as possible","date":"2012-06-13T21:01:37.957Z","type":"message"}
{"nick":"TooTallNate","message":"lemme try to whip something up using just gyp & (make|msbuild)","date":"2012-06-13T21:01:43.997Z","type":"message"}
{"nick":"brson","date":"2012-06-13T21:01:48.271Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: cool","date":"2012-06-13T21:01:54.283Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_, ryah: Part of the goal of having a binary addon build in node's build process is to force us to make it a nicer experience.","date":"2012-06-13T21:02:09.080Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: maybe you can just add `weak` as a target to node.gyp","date":"2012-06-13T21:02:10.056Z","type":"message"}
{"nick":"piscisaureus_","message":"that's what I would do","date":"2012-06-13T21:02:12.328Z","type":"message"}
{"nick":"isaacs","message":"if the npm thing is brittle, we should make it not brittle.","date":"2012-06-13T21:02:29.569Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: for that, we should have `make test-build-addon-pain`","date":"2012-06-13T21:02:30.541Z","type":"message"}
{"nick":"ryah","message":"what piscisaureus_ says :)","date":"2012-06-13T21:03:01.377Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: well that's what `make node_modules/weak` currently does","date":"2012-06-13T21:03:10.234Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: fair enough.  but that should be in the default tests, and it should be added before we remove the node_modules/weak build taret.","date":"2012-06-13T21:03:16.202Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: but i think you don't like it because there's no vcbuild.bat equivalent at the moment","date":"2012-06-13T21:03:27.872Z","type":"message"}
{"nick":"isaacs","message":"it's not a real test if we're not actually using the tools to get something done.","date":"2012-06-13T21:03:37.401Z","type":"message"}
{"nick":"isaacs","message":"it's just \"oh, it built, ok\"","date":"2012-06-13T21:03:43.367Z","type":"message"}
{"nick":"isaacs","message":"no skin in teh game.","date":"2012-06-13T21:03:47.361Z","type":"message"}
{"nick":"isaacs","message":"if we're actually relying on it, then it actually bugs us when it sucks.","date":"2012-06-13T21:04:07.794Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah, but right now, if it breaks I cannot run tests","date":"2012-06-13T21:04:19.800Z","type":"message"}
{"nick":"piscisaureus_","message":"that's the very definition of brittle","date":"2012-06-13T21:04:26.581Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I would be okay with a test for building addons","date":"2012-06-13T21:04:38.564Z","type":"message"}
{"nick":"piscisaureus_","message":"although it should probably live in npm :-)","date":"2012-06-13T21:04:45.015Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: https://github.com/igorzi/node/compare/etw","date":"2012-06-13T21:05:11.441Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: 'live in npm' is becoming more and more 'live in node'","date":"2012-06-13T21:05:12.715Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: they haven't quite moved in together entirely, but there's tooth brushes in both bathrooms...","date":"2012-06-13T21:05:28.426Z","type":"message"}
{"nick":"isaacs","message":"teh presence of an addon build in my normal day to day tests has already helped us make the experience much better for our users.","date":"2012-06-13T21:06:21.532Z","type":"message"}
{"nick":"isaacs","message":"i can see the benefit of course of having it not prevent the running of other tests","date":"2012-06-13T21:06:51.241Z","type":"message"}
{"nick":"isaacs","message":"but it needs to be a very noisy failure, that's all.","date":"2012-06-13T21:07:10.088Z","type":"message"}
{"nick":"ryah","message":"isaacs: +1","date":"2012-06-13T21:08:57.611Z","type":"message"}
{"nick":"ryah","message":"i'm just going to speak in \"+1\"s from now on","date":"2012-06-13T21:09:10.085Z","type":"message"}
{"nick":"isaacs","message":"hahahah","date":"2012-06-13T21:09:13.543Z","type":"message"}
{"nick":"isaacs","message":"\"We've replaced Node's BDFL with a robot that randomly raises or lowers its hand.... let's see if they notice.\"","date":"2012-06-13T21:09:48.424Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes - so what I do not like:","date":"2012-06-13T21:09:57.119Z","type":"message"}
{"nick":"piscisaureus_","message":"* if it breaks, I cannot run other tests","date":"2012-06-13T21:09:57.322Z","type":"message"}
{"nick":"piscisaureus_","message":"* we're now relying on the node-weak author to not mess up.","date":"2012-06-13T21:09:57.322Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: my +1 would go to:","date":"2012-06-13T21:09:57.322Z","type":"message"}
{"nick":"piscisaureus_","message":"* a test that installs a dummy package using npm and node-gyp, and verifies that it works","date":"2012-06-13T21:09:57.322Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: ","date":"2012-06-13T21:10:32.891Z","type":"message"}
{"nick":"isaacs","message":"$ npm owner ls weak -q","date":"2012-06-13T21:10:33.987Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate <nathan@tootallnate.net>","date":"2012-06-13T21:10:34.182Z","type":"message"}
{"nick":"isaacs","message":"tootallnate <nathan@tootallnate.net>","date":"2012-06-13T21:10:34.877Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: we're *already* relying on that guy to not mess up ;P","date":"2012-06-13T21:10:42.473Z","type":"message"}
{"nick":"TooTallNate","message":"lulz","date":"2012-06-13T21:10:53.836Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, that's bad enough as it is :-)","date":"2012-06-13T21:11:01.697Z","type":"message"}
{"nick":"piscisaureus_","message":"Can I also have my own dependency","date":"2012-06-13T21:11:16.274Z","type":"message"}
{"nick":"piscisaureus_","message":"job security ftw","date":"2012-06-13T21:11:39.473Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: having it break and not be able to install other tests is a problem, yes.  but i don't want just some random node module that builds and doesn't actually get used in a real way.","date":"2012-06-13T21:11:57.314Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's easy for subtle things to break and us not notice.","date":"2012-06-13T21:12:09.263Z","type":"message"}
{"nick":"isaacs","message":"and compilation !== works","date":"2012-06-13T21:12:13.984Z","type":"message"}
{"nick":"piscisaureus_","message":"well, that's exactly what I want :-)","date":"2012-06-13T21:12:17.156Z","type":"message"}
{"nick":"TooTallNate","message":"node-weak is mostly ben's code anyways :p","date":"2012-06-13T21:12:18.551Z","type":"message"}
{"nick":"piscisaureus_","message":"we seem to disagree more and more, isaacs","date":"2012-06-13T21:12:25.522Z","type":"message"}
{"nick":"isaacs","message":"hah","date":"2012-06-13T21:12:33.663Z","type":"message"}
{"nick":"piscisaureus_","message":"let's have a good old fight in the parking lot","date":"2012-06-13T21:12:36.517Z","type":"message"}
{"nick":"piscisaureus_","message":"bring anything but automated weapons","date":"2012-06-13T21:12:54.661Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: make test-addon could install weak in some other location, and then use it to run the gc tests.","date":"2012-06-13T21:13:08.590Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, that would be good","date":"2012-06-13T21:13:17.962Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but we could have our own stable-ish copy of weak in the source tree, which is normally used.","date":"2012-06-13T21:13:25.220Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: plus, double the gc testing!  woo!","date":"2012-06-13T21:13:35.349Z","type":"message"}
{"nick":"piscisaureus_","message":"wooo","date":"2012-06-13T21:13:39.950Z","type":"message"}
{"nick":"piscisaureus_","message":"the extra bonus would be (for me) that I can run the tests without waiting for that stuff to download","date":"2012-06-13T21:13:54.646Z","type":"message"}
{"nick":"piscisaureus_","message":"(or alternatively, to not update it and face the risk that it is broken/outdated)","date":"2012-06-13T21:14:15.382Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2012-06-13T21:16:32.123Z","type":"message"}
{"nick":"piscisaureus_","action":"enters `vcbuild.bat debug nosnapshot test-all | tee out.txt` once more and gets a beer","date":"2012-06-13T21:16:40.256Z","type":"action"}
{"nick":"isaacs","message":"ok, wanna send a pull request?","date":"2012-06-13T21:16:46.224Z","type":"message"}
{"nick":"piscisaureus_","message":"if TooTallNate doesn't, I will","date":"2012-06-13T21:17:13.660Z","type":"message"}
{"nick":"piscisaureus_","message":"but first things first","date":"2012-06-13T21:17:17.392Z","type":"message"}
{"nick":"piscisaureus_","message":"this thing is going down to 0 failures","date":"2012-06-13T21:17:22.672Z","type":"message"}
{"nick":"piscisaureus_","message":"test-realpath is a tough one","date":"2012-06-13T21:18:46.077Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ryah: btw, did you guys try the v8-3.11 branch ?","date":"2012-06-13T21:20:31.333Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i haven't tried it yet","date":"2012-06-13T21:20:42.344Z","type":"message"}
{"nick":"piscisaureus_","message":"Erik tells me that they are going to create a branch within a week","date":"2012-06-13T21:20:48.876Z","type":"message"}
{"nick":"piscisaureus_","message":"which makes it 'stable'","date":"2012-06-13T21:20:55.163Z","type":"message"}
{"nick":"piscisaureus_","message":"last pust-to-trunk was today","date":"2012-06-13T21:21:00.137Z","type":"message"}
{"nick":"isaacs","message":"heh","date":"2012-06-13T21:21:00.337Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2012-06-13T21:21:04.311Z","type":"message"}
{"nick":"piscisaureus_","message":"from here there will be only bug fixes","date":"2012-06-13T21:21:07.394Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: if it's faster than 3.9, and not insanely broken, then i'm all for it.","date":"2012-06-13T21:21:20.462Z","type":"message"}
{"nick":"isaacs","message":"\"insanely broken\" = \"does javascript wrong\".  random things being undefined right after you set them, etc.","date":"2012-06-13T21:21:33.862Z","type":"message"}
{"nick":"isaacs","message":"but i suspect all that got fixed by now.","date":"2012-06-13T21:21:40.007Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, they are not really happy about maintaining 3.9 for a long time","date":"2012-06-13T21:21:54.593Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i just published node-gyp v0.5.0 which uses npmlog","date":"2012-06-13T21:22:26.620Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T21:25:27.572Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T21:26:11.149Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: can you review this pls? https://github.com/igorzi/node/compare/etw","date":"2012-06-13T21:33:09.172Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: there is one small thing...","date":"2012-06-13T21:34:50.591Z","type":"message"}
{"nick":"piscisaureus_","message":"tools/msvs/etw/node_etw_provider.man","date":"2012-06-13T21:34:53.411Z","type":"message"}
{"nick":"piscisaureus_","message":"I'd like to move that to src/res","date":"2012-06-13T21:35:01.394Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I find it a little strange to move these parts to the installer directory","date":"2012-06-13T21:35:26.837Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but lgtm","date":"2012-06-13T21:35:32.317Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so I would say, if you don't mind, change that and land it","date":"2012-06-13T21:35:42.790Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: btw, this syntax is invalid: https://github.com/joyent/node/blob/master/.gitignore#L44","date":"2012-06-13T21:36:03.472Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: (I also moved node.res and the icon to src/res btw)","date":"2012-06-13T21:36:11.367Z","type":"message"}
{"nick":"TooTallNate","message":"it needs to be simply \"/node_modules\", without the .","date":"2012-06-13T21:36:14.383Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ahh ok, i was going to ask about that","date":"2012-06-13T21:36:25.790Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ok, i'll move it and land","date":"2012-06-13T21:36:35.573Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: cool","date":"2012-06-13T21:36:40.117Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it is??","date":"2012-06-13T21:37:52.682Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: seems to work for me","date":"2012-06-13T21:38:01.064Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: does /node_modules work?","date":"2012-06-13T21:38:06.949Z","type":"message"}
{"nick":"TooTallNate","message":"well without that change i see:","date":"2012-06-13T21:38:49.515Z","type":"message"}
{"nick":"TooTallNate","message":"# Untracked files:","date":"2012-06-13T21:38:54.282Z","type":"message"}
{"nick":"TooTallNate","message":"#   (use \"git add <file>...\" to include in what will be committed)","date":"2012-06-13T21:38:54.480Z","type":"message"}
{"nick":"TooTallNate","message":"#","date":"2012-06-13T21:38:56.300Z","type":"message"}
{"nick":"TooTallNate","message":"#\tnode_modules/","date":"2012-06-13T21:38:56.501Z","type":"message"}
{"nick":"isaacs","message":"i see","date":"2012-06-13T21:45:47.252Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T21:46:05.234Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T21:46:14.548Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: hm.  yes, you are correc.t","date":"2012-06-13T21:46:23.942Z","type":"message"}
{"nick":"isaacs","message":"i'd removed it, which is why it wasn't there.","date":"2012-06-13T21:46:29.919Z","type":"message"}
{"nick":"piscisaureus_","message":"fs.watch seems to be an infinite source of tickets","date":"2012-06-13T21:47:07.666Z","type":"message"}
{"nick":"piscisaureus_","message":"[29:08|% 100|+ 459|-   8]: Done","date":"2012-06-13T21:47:32.365Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- windows","date":"2012-06-13T21:47:35.469Z","type":"message"}
{"nick":"piscisaureus_","message":"down from 25 last week :-)","date":"2012-06-13T21:47:40.646Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_++","date":"2012-06-13T21:47:43.826Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 11 beers","date":"2012-06-13T21:47:44.022Z","type":"message"}
{"nick":"piscisaureus_","message":"now I am just waiting for bnoordhuis to approve a libuv patch","date":"2012-06-13T21:48:01.989Z","type":"message"}
{"nick":"rendar","date":"2012-06-13T21:51:17.933Z","type":"quit"}
{"nick":"ryah","message":"piscisaureus_: +1","date":"2012-06-13T21:57:29.054Z","type":"message"}
{"nick":"ryah","message":"is there a node branch with v8 3.11 ?","date":"2012-06-13T21:57:51.626Z","type":"message"}
{"nick":"ryah","message":"i'd like to try it","date":"2012-06-13T21:57:53.804Z","type":"message"}
{"nick":"hz|pc2","reason":"Quit: Leaving.","date":"2012-06-13T21:59:05.550Z","type":"quit"}
{"nick":"ryah","message":"er - found it","date":"2012-06-13T22:01:42.826Z","type":"message"}
{"nick":"mraleph","date":"2012-06-13T22:10:29.973Z","type":"join"}
{"nick":"TooTallNate","message":"piscisaureus_: is this something like what you wanted? https://github.com/TooTallNate/node/commit/weak","date":"2012-06-13T22:11:01.914Z","type":"message"}
{"nick":"ryah","message":"isaacs, piscisaureus_ https://gist.github.com/2926804","date":"2012-06-13T22:11:14.513Z","type":"message"}
{"nick":"TooTallNate","message":"its still invoking node-gyp, but not downloading it at least","date":"2012-06-13T22:11:17.015Z","type":"message"}
{"nick":"ryah","message":"looks like it's faster","date":"2012-06-13T22:11:26.075Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what patch?","date":"2012-06-13T22:11:36.574Z","type":"message"}
{"nick":"isaacs","message":"ryah: how's current master","date":"2012-06-13T22:11:41.274Z","type":"message"}
{"nick":"isaacs","message":"ryah: i mean, how does 3.10 master compare with 3.9 master?","date":"2012-06-13T22:12:07.167Z","type":"message"}
{"nick":"isaacs","message":"er, 3.11","date":"2012-06-13T22:12:11.872Z","type":"message"}
{"nick":"ryah","message":"isaacs: also on par","date":"2012-06-13T22:12:23.296Z","type":"message"}
{"nick":"ryah","message":"it seems thy fixed whatever was fucking it up last week though","date":"2012-06-13T22:12:39.920Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2012-06-13T22:12:54.453Z","type":"message"}
{"nick":"isaacs","message":"let's do it!","date":"2012-06-13T22:13:04.226Z","type":"message"}
{"nick":"isaacs","message":"3.9 is going to not get as many fixes over the life of node 0.8.x","date":"2012-06-13T22:13:14.701Z","type":"message"}
{"nick":"ryah","message":"isaacs: it seems fedor has some floating patches on origin/v8-3.11","date":"2012-06-13T22:13:20.480Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-13T22:13:21.203Z","type":"quit"}
{"nick":"isaacs","message":"we should bet on 3.11 i think","date":"2012-06-13T22:13:27.252Z","type":"message"}
{"nick":"ryah","message":"im also running those - not sure what that is","date":"2012-06-13T22:13:27.975Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-13T22:13:33.035Z","type":"message"}
{"nick":"isaacs","message":"before anything else, though, i just realized that i have not eaten since breakfast and it's super late.","date":"2012-06-13T22:13:53.187Z","type":"message"}
{"nick":"isaacs","action":"to the tacos!","date":"2012-06-13T22:13:56.804Z","type":"action"}
{"nick":"ryah","message":"isaacs: yes, it would be good to get 3.11 since they are going stable now","date":"2012-06-13T22:14:05.714Z","type":"message"}
{"nick":"c4milo","date":"2012-06-13T22:14:18.248Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-13T22:17:13.772Z","type":"quit"}
{"nick":"piscisaureus_","message":"ryah: fedor's patch will make it into 3.11","date":"2012-06-13T22:18:47.031Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: it already landed in v8 bleeding edge but they couldn't land on trunk because chromium was in the process of splitting branches","date":"2012-06-13T22:19:31.994Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: same goes for the perf regression fix that Michael did","date":"2012-06-13T22:19:59.997Z","type":"message"}
{"nick":"japj","reason":"Remote host closed the connection","date":"2012-06-13T22:20:52.131Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/compare/reviewme","date":"2012-06-13T22:21:34.454Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: the patch looks good to me. Did you test it on windows, or do you want me to?","date":"2012-06-13T22:22:25.539Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i'm trying to test on windows right now, but it'd be cool if you could verify","date":"2012-06-13T22:23:35.384Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-13T22:25:14.800Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/commit/dfffbc09e7649f1e3ece91cf31a70d86b80886ed#commitcomment-1455323","date":"2012-06-13T22:25:38.534Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: crap","date":"2012-06-13T22:25:56.117Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I meant EINTR","date":"2012-06-13T22:26:02.634Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and I am scanning through the first 16 FDs","date":"2012-06-13T22:26:15.411Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-06-13T22:26:38.469Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate: testing","date":"2012-06-13T22:27:14.710Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i don't think fcntl(F_SETFL) returns EINTR","date":"2012-06-13T22:27:17.515Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-06-13T22:27:28.239Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and what about fcntl(F_GETL) ?","date":"2012-06-13T22:27:50.517Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but if you say so I will simplify","date":"2012-06-13T22:28:20.658Z","type":"message"}
{"nick":"piscisaureus_","message":"just say the word","date":"2012-06-13T22:28:29.730Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: linux never does. then again, it won't hurt","date":"2012-06-13T22:30:10.448Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok. so I will replace EAGAIN by EINTR and land","date":"2012-06-13T22:30:26.671Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it looks so gnarly though...","date":"2012-06-13T22:30:57.113Z","type":"message"}
{"nick":"piscisaureus_","message":"it's not pretty I agree","date":"2012-06-13T22:31:23.114Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: let me write the unix part","date":"2012-06-13T22:31:23.918Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok","date":"2012-06-13T22:31:29.782Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2012-06-13T22:31:32.273Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: you have time now?","date":"2012-06-13T22:31:46.522Z","type":"message"}
{"nick":"bnoordhuis","message":"sure. reviewme branch, right?","date":"2012-06-13T22:31:54.337Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes","date":"2012-06-13T22:31:59.302Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: sorry for the pressure, I am sitting here with a dirty node tree that needs a libuv upgrade :-)","date":"2012-06-13T22:32:15.974Z","type":"message"}
{"nick":"brson","date":"2012-06-13T22:32:23.022Z","type":"join"}
{"nick":"hij1nx","date":"2012-06-13T22:33:24.674Z","type":"join"}
{"nick":"hij1nx","reason":"Remote host closed the connection","date":"2012-06-13T22:33:34.612Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate:","date":"2012-06-13T22:33:43.727Z","type":"message"}
{"nick":"piscisaureus_","message":"python: can't open file 'D:\\node5\"\\tools\\gyp_addon': [Errno 22] Invalid argument","date":"2012-06-13T22:33:44.373Z","type":"message"}
{"nick":"piscisaureus_","message":"ERR! Error: `gyp_addon` failed with exit code: 2","date":"2012-06-13T22:33:44.575Z","type":"message"}
{"nick":"piscisaureus_","message":"    at ChildProcess.onCpExit (D:\\node5\\deps\\npm\\node_modules\\node-gyp\\lib\\configure.js:255:16)","date":"2012-06-13T22:33:44.575Z","type":"message"}
{"nick":"piscisaureus_","message":"    at ChildProcess.emit (events.js:90:17)","date":"2012-06-13T22:33:44.575Z","type":"message"}
{"nick":"piscisaureus_","message":"    at Process.onexit (child_process.js:654:10)","date":"2012-06-13T22:33:44.775Z","type":"message"}
{"nick":"piscisaureus_","message":"ERR! not ok","date":"2012-06-13T22:33:44.775Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: you want me to fix that?","date":"2012-06-13T22:34:12.579Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: do you know why %~dp0 is adding a \" at the end?","date":"2012-06-13T22:34:13.893Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: it shouldn't","date":"2012-06-13T22:34:25.129Z","type":"message"}
{"nick":"piscisaureus_","message":"probably some python goof-ness","date":"2012-06-13T22:35:10.281Z","type":"message"}
{"nick":"piscisaureus_","message":"you see, python doesn't have me and igor :-0p","date":"2012-06-13T22:35:29.803Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2012-06-13T22:35:38.593Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-06-13T22:37:25.577Z","type":"message"}
{"nick":"piscisaureus_","message":"could also be node, actually","date":"2012-06-13T22:37:28.731Z","type":"message"}
{"nick":"TooTallNate","message":"or nopt","date":"2012-06-13T22:37:41.729Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u000235a1421\u000f \u000310\u000f/ (11 files in 4 dirs)\u0002:\u000f Windows: Enable ETW events. - http://git.io/q-i6tg","date":"2012-06-13T22:38:00.938Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi++","date":"2012-06-13T22:38:14.175Z","type":"message"}
{"nick":"kohai","message":"igorzi has 7 beers","date":"2012-06-13T22:38:14.371Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-13T22:38:34.433Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-13T22:38:40.018Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: which node-gyp file is the logic that spawn's python in?","date":"2012-06-13T22:38:48.122Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: lib/configure.js","date":"2012-06-13T22:38:57.214Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yeah. Somehow nodedir ends up being set to \"D:\\node5\\\"\"","date":"2012-06-13T22:41:18.559Z","type":"message"}
{"nick":"bitprobe","reason":"Quit: Computer has gone to sleep.","date":"2012-06-13T22:41:37.533Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: ya, very strange. any ideas? here's process.argv: ","date":"2012-06-13T22:42:01.517Z","type":"message"}
{"nick":"TooTallNate","message":"[ 'Release\\\\node',","date":"2012-06-13T22:42:03.565Z","type":"message"}
{"nick":"TooTallNate","message":"  'C:\\\\node\\\\deps\\\\npm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp',","date":"2012-06-13T22:42:03.766Z","type":"message"}
{"nick":"TooTallNate","message":"  '--verbose',","date":"2012-06-13T22:42:05.552Z","type":"message"}
{"nick":"TooTallNate","message":"  'rebuild',","date":"2012-06-13T22:42:05.746Z","type":"message"}
{"nick":"TooTallNate","message":"  '--directory=C:\\\\node\\\\test\\\\gc\\\\node_modules\\\\weak',","date":"2012-06-13T22:42:07.552Z","type":"message"}
{"nick":"TooTallNate","message":"  '--nodedir=C:\\\\node\"' ]","date":"2012-06-13T22:42:07.746Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ah, I see it now","date":"2012-06-13T22:42:11.095Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: windows command line arg quoting rules :-)","date":"2012-06-13T22:42:24.261Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: do","date":"2012-06-13T22:42:32.796Z","type":"message"}
{"nick":"piscisaureus_","message":"--nodedir=\"%~dp0.\"","date":"2012-06-13T22:42:42.366Z","type":"message"}
{"nick":"piscisaureus_","message":"instead of","date":"2012-06-13T22:42:44.099Z","type":"message"}
{"nick":"piscisaureus_","message":"--nodedir=\"%~dp0\"","date":"2012-06-13T22:42:45.263Z","type":"message"}
{"nick":"TooTallNate","message":"oh wow","date":"2012-06-13T22:42:55.302Z","type":"message"}
{"nick":"TooTallNate","message":"haha","date":"2012-06-13T22:42:55.865Z","type":"message"}
{"nick":"TooTallNate","message":"it works!!!","date":"2012-06-13T22:43:03.991Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ok, now to add a minor thing","date":"2012-06-13T22:43:24.644Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: it would be good to skip the rebuild if it's already been built","date":"2012-06-13T22:43:50.581Z","type":"message"}
{"nick":"TooTallNate","message":"the Makefile does that implicitly","date":"2012-06-13T22:43:55.503Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: also, bail out if node-gyp fails","date":"2012-06-13T22:44:02.474Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: no, don't skip","date":"2012-06-13T22:44:08.585Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: do you mind if I amend your patch and land","date":"2012-06-13T22:44:24.505Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-06-13T22:44:26.444Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: not at all :)","date":"2012-06-13T22:44:34.900Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u000264b92db\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: simplify uv_disable_stdio_inheritance() - http://git.io/l7N1HA","date":"2012-06-13T22:57:57.578Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u000261a1852\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__cloexec() EINTR resilient - http://git.io/8mkyZw","date":"2012-06-13T22:57:57.977Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u000235b1211\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__nonblock() EINTR resilient - http://git.io/typfug","date":"2012-06-13T22:57:58.177Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^","date":"2012-06-13T22:58:03.017Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00026a8b5b3\u000f \u000310\u000f/ (8 files in 4 dirs)\u0002:\u000f test: bundle node-weak in test/gc so that it doesn't need to be downloaded - http://git.io/IMne6A","date":"2012-06-13T22:58:27.986Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002029e01b\u000f \u000310\u000f/ vcbuild.bat \u0002:\u000f vcbuild.bat: add duplicate arg-ok label to work around cmd.exe bug - http://git.io/RyDBYA","date":"2012-06-13T22:58:28.398Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ^","date":"2012-06-13T22:58:35.480Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you inversed the logic","date":"2012-06-13T22:59:04.790Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: nice :)","date":"2012-06-13T22:59:08.547Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: wut? how?","date":"2012-06-13T22:59:14.172Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: woah, what's up with that second commit, haha?","date":"2012-06-13T22:59:16.359Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, it used to do this","date":"2012-06-13T22:59:21.685Z","type":"message"}
{"nick":"piscisaureus_","message":"set cloexec until EBADF, but at least try fd 0 - 15","date":"2012-06-13T22:59:42.434Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T22:59:54.426Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#413 (reviewme - 35b1211 : Ben Noordhuis): The build passed.","date":"2012-06-13T22:59:54.621Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/dfffbc09e764...35b1211b82dc","date":"2012-06-13T22:59:54.621Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1614928","date":"2012-06-13T22:59:54.621Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T22:59:54.621Z","type":"part"}
{"nick":"piscisaureus_","message":"bnoordhuis: now it is: stop when fd == 16 or EBADF, whichever comes first","date":"2012-06-13T22:59:59.644Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ah, like that","date":"2012-06-13T23:00:28.643Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yeah, the cmd.exe bug is unpredictable and bites us sometimes and sometimes it seems to go away inexplicably","date":"2012-06-13T23:00:28.847Z","type":"message"}
{"nick":"bnoordhuis","message":"easily fixed","date":"2012-06-13T23:00:31.423Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: then again, when would you have gaps?","date":"2012-06-13T23:01:51.110Z","type":"message"}
{"nick":"bnoordhuis","message":"oh well, i guess it won't hurt","date":"2012-06-13T23:02:12.672Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: spawn('foo', [], {stdio: ['pipe', 'pipe', 'pipe', 'ignore', 'pipe']})","date":"2012-06-13T23:02:20.017Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u0002b31b87d\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: simplify uv_disable_stdio_inheritance() - http://git.io/JFno0w","date":"2012-06-13T23:03:18.181Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u00023d2cdcb\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__cloexec() EINTR resilient - http://git.io/teMsjg","date":"2012-06-13T23:03:18.575Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u00024408a73\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__nonblock() EINTR resilient - http://git.io/yypxTw","date":"2012-06-13T23:03:18.774Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^","date":"2012-06-13T23:03:27.365Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: wrong again","date":"2012-06-13T23:04:23.414Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: explain","date":"2012-06-13T23:05:07.064Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T23:05:15.557Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#414 (reviewme - 4408a73 : Ben Noordhuis): The build passed.","date":"2012-06-13T23:05:15.758Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/35b1211b82dc...4408a7321287","date":"2012-06-13T23:05:15.758Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1614955","date":"2012-06-13T23:05:15.758Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T23:05:15.758Z","type":"part"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-06-13T23:05:33.362Z","type":"message"}
{"nick":"piscisaureus_","message":"for (fd = 0; ; fd++)","date":"2012-06-13T23:05:33.558Z","type":"message"}
{"nick":"piscisaureus_","message":"  if (uv__cloexec(fd, 1) && fd >= 16)","date":"2012-06-13T23:05:33.558Z","type":"message"}
{"nick":"piscisaureus_","message":"    break;","date":"2012-06-13T23:05:33.558Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: *shrug* whatever","date":"2012-06-13T23:06:07.901Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: If you have better logic in mind","date":"2012-06-13T23:06:14.460Z","type":"message"}
{"nick":"bnoordhuis","message":"yes... but why would you continue if you get !EBADF?","date":"2012-06-13T23:06:15.770Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, maybe we inherited a broken fd or something?","date":"2012-06-13T23:06:54.270Z","type":"message"}
{"nick":"bnoordhuis","message":"how can a file descriptor be broken?","date":"2012-06-13T23:07:07.513Z","type":"message"}
{"nick":"piscisaureus_","message":"I dunno. So 2 things can happen: success and EBADF","date":"2012-06-13T23:07:40.198Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. anything else means that something is seriously wrong","date":"2012-06-13T23:07:52.068Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we want to do this: if (EBADF) continue until 16","date":"2012-06-13T23:07:57.434Z","type":"message"}
{"nick":"piscisaureus_","message":"if (success) continue indefinitely","date":"2012-06-13T23:08:08.796Z","type":"message"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-06-13T23:08:21.410Z","type":"quit"}
{"nick":"bnoordhuis","message":"ah","date":"2012-06-13T23:08:22.675Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: or, some other logic. But the code you just wrote does not what I think you want to do","date":"2012-06-13T23:08:26.299Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will unconditionally accept the next patch you submit","date":"2012-06-13T23:08:43.533Z","type":"message"}
{"nick":"bnoordhuis","message":"i thought we were just considering the first 16 fds, no more","date":"2012-06-13T23:08:45.616Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh, that was not the idea","date":"2012-06-13T23:08:54.648Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I want to close all the fds, and skip over gaps","date":"2012-06-13T23:09:06.079Z","type":"message"}
{"nick":"piscisaureus_","message":"but since you can never tell whether there is a gap, I want to atleast try through fd 15","date":"2012-06-13T23:09:26.253Z","type":"message"}
{"nick":"bnoordhuis","message":"right, now i understand","date":"2012-06-13T23:09:38.468Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but whatever- as I said I will take whatever patch you send me, as long as the code does what you say it should do :-)","date":"2012-06-13T23:09:47.796Z","type":"message"}
{"nick":"loladiro_","reason":"Read error: Connection reset by peer","date":"2012-06-13T23:12:06.716Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-13T23:12:13.227Z","type":"join"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u000288a58ee\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: simplify uv_disable_stdio_inheritance() - http://git.io/yQnXPA","date":"2012-06-13T23:15:04.469Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u00021fbffa9\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__nonblock() EINTR resilient - http://git.io/Xf5seA","date":"2012-06-13T23:15:05.629Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307reviewme\u000f * r\u00028a75f0d\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__cloexec() EINTR resilient - http://git.io/YPTHaw","date":"2012-06-13T23:15:06.792Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^ take 3","date":"2012-06-13T23:15:11.308Z","type":"message"}
{"nick":"bitprobe","date":"2012-06-13T23:16:32.994Z","type":"join"}
{"nick":"travis-ci","date":"2012-06-13T23:16:59.618Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#415 (reviewme - 1fbffa9 : Ben Noordhuis): The build passed.","date":"2012-06-13T23:16:59.814Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/4408a7321287...1fbffa91393c","date":"2012-06-13T23:16:59.814Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1615026","date":"2012-06-13T23:16:59.814Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T23:16:59.814Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/node/pull/3434","date":"2012-06-13T23:22:14.262Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002b3a97f8\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__cloexec() EINTR resilient - http://git.io/WZZyOQ","date":"2012-06-13T23:22:15.847Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000294cb06f\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: make uv__nonblock() EINTR resilient - http://git.io/gxxSog","date":"2012-06-13T23:22:16.062Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002ade6930\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f windows: implement uv_disable_stdio_inheritance - http://git.io/zEu-yA","date":"2012-06-13T23:22:16.461Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024d7f1e1\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f unix: implement uv_disable_stdio_inheritance() - http://git.io/-RF0Jg","date":"2012-06-13T23:22:16.661Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I saw that. But I think I will first land v8-3.11 and see what needs fixing then","date":"2012-06-13T23:22:47.874Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: do you agree with landing v8-3.11 ?","date":"2012-06-13T23:22:58.673Z","type":"message"}
{"nick":"bitprobe","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2012-06-13T23:26:59.475Z","type":"quit"}
{"nick":"travis-ci","date":"2012-06-13T23:27:01.949Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#416 (master - 4d7f1e1 : Ben Noordhuis): The build passed.","date":"2012-06-13T23:27:02.147Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/07c6ac2b553b...4d7f1e186498","date":"2012-06-13T23:27:02.147Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1615058","date":"2012-06-13T23:27:02.147Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-13T23:27:02.147Z","type":"part"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000237d75ba\u000f \u000310\u000f/ (7 files in 5 dirs)\u0002:\u000f uv: upgrade to 4d7f1e18 - http://git.io/RniS1g","date":"2012-06-13T23:32:30.262Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000209be360\u000f \u000310\u000f/ src/node.cc \u0002:\u000f Inherited FDs should not accidentally be inherited by child processes - http://git.io/B0NYIg","date":"2012-06-13T23:32:30.686Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: hey","date":"2012-06-13T23:35:01.054Z","type":"message"}
{"nick":"piscisaureus_","message":"anyone objected to  landing v8-3.11 in master?","date":"2012-06-13T23:35:47.418Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis ryah isaacs ?","date":"2012-06-13T23:35:47.619Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- TooTallNate igorzi ?","date":"2012-06-13T23:36:02.190Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: haven't tested it. was that hidden properties thing the only major bug?","date":"2012-06-13T23:36:36.783Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes","date":"2012-06-13T23:36:42.809Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: apparently so. Ryah says it's faster than 0.6 and on par with 3.9","date":"2012-06-13T23:37:10.359Z","type":"message"}
{"nick":"piscisaureus_","message":"I saw the same thing.","date":"2012-06-13T23:37:14.335Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't object","date":"2012-06-13T23:37:34.540Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-06-13T23:38:08.680Z","type":"message"}
{"nick":"piscisaureus_","message":"let's just go for it","date":"2012-06-13T23:38:12.911Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000250464cd\u000f \u000310\u000f/ (373 files in 21 dirs)\u0002:\u000f v8: upgrade to v3.11.10 - http://git.io/2GgMIg","date":"2012-06-13T23:38:18.827Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303mstarzinger@chromium.org\u000f \u000307master\u000f * r\u000248893af\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f Fix performance regression caused by r11202. - http://git.io/sU-Eqg","date":"2012-06-13T23:38:19.037Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002ac64c9e\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f v8: reapply floating patches - http://git.io/UNQRrg","date":"2012-06-13T23:38:19.232Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u0002fac6c69\u000f \u000310\u000f/ deps/v8/tools/gen-postmortem-metadata.py \u0002:\u000f v8: fix postmortem debugging tools build - http://git.io/ovaLaA","date":"2012-06-13T23:38:19.432Z","type":"message"}
{"nick":"bnoordhuis","action":"recompiles again","date":"2012-06-13T23:41:31.387Z","type":"action"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002158387c\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f Unbreak the snapshotted build on Windows - http://git.io/0ZnW_g","date":"2012-06-13T23:51:32.382Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00022701a6b\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f Unbreak the snapshotted build on Windows - http://git.io/fnv5qA","date":"2012-06-13T23:52:16.829Z","type":"message"}
{"nick":"isaacs","message":"\\o/","date":"2012-06-13T23:54:15.020Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: thanks","date":"2012-06-13T23:58:57.100Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: np. It was sitting there anyway","date":"2012-06-13T23:59:13.288Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: why the double \"unbreak\" commit at the end?","date":"2012-06-13T23:59:38.481Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: force push","date":"2012-06-13T23:59:50.856Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2012-06-13T23:59:54.334Z","type":"message"}

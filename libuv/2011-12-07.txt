{"nick":"ryah","message":"bnoordhuis: https://gist.github.com/1440753","date":"2011-12-07T00:16:48.553Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: what do you think?","date":"2011-12-07T00:16:51.997Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: hrm, it makes the delta with 0.6 incredibly big","date":"2011-12-07T00:19:22.804Z","type":"message"}
{"nick":"bnoordhuis","action":"foresees merging pains","date":"2011-12-07T00:19:35.221Z","type":"action"}
{"nick":"bnoordhuis","message":"what if you add a -> #define static_var NODE_VAR(static_var) at the top of source files?","date":"2011-12-07T00:20:17.496Z","type":"message"}
{"nick":"bnoordhuis","message":"how is NODE_VAR() defined?","date":"2011-12-07T00:21:03.540Z","type":"message"}
{"nick":"ryah","message":"line 884","date":"2011-12-07T00:21:29.808Z","type":"message"}
{"nick":"ryah","message":"i mean - we have to wrap these guys somehow","date":"2011-12-07T00:22:07.206Z","type":"message"}
{"nick":"ryah","message":"if we're going to use a struct","date":"2011-12-07T00:22:16.003Z","type":"message"}
{"nick":"ryah","message":"or we do the libev thing - where we use a macro for each global","date":"2011-12-07T00:22:49.397Z","type":"message"}
{"nick":"bnoordhuis","message":"it'll be less noisy","date":"2011-12-07T00:24:30.629Z","type":"message"}
{"nick":"ryah","message":"sure","date":"2011-12-07T00:24:37.221Z","type":"message"}
{"nick":"bnoordhuis","message":"you'll want to make sure globals_get() is inline-able","date":"2011-12-07T00:24:53.117Z","type":"message"}
{"nick":"ryah","message":"but we have to generate it somehow","date":"2011-12-07T00:24:55.699Z","type":"message"}
{"nick":"ryah","message":"i figure we can optimize that later","date":"2011-12-07T00:25:08.088Z","type":"message"}
{"nick":"bnoordhuis","message":"sure, just saying","date":"2011-12-07T00:25:20.914Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2011-12-07T00:25:54.975Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/master/deps/uv/src/unix/ev/ev_wrap.h <--","date":"2011-12-07T00:26:18.086Z","type":"message"}
{"nick":"ryah","message":"we would have to generate this automatically somehow","date":"2011-12-07T00:26:27.287Z","type":"message"}
{"nick":"bnoordhuis","message":"nothing perl can't solve","date":"2011-12-07T00:26:48.952Z","type":"message"}
{"nick":"ryah","message":"yeah - complicates the build proces though","date":"2011-12-07T00:27:06.178Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, i don't think you have to","date":"2011-12-07T00:27:09.581Z","type":"message"}
{"nick":"bnoordhuis","message":"why generate it if you can put the #defines in the source files?","date":"2011-12-07T00:27:35.280Z","type":"message"}
{"nick":"ryah","message":"what do you mean?","date":"2011-12-07T00:28:43.828Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, so NODE_VAR(foo) evaluates to globals_get()->foo, right?","date":"2011-12-07T00:29:14.320Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-12-07T00:29:38.636Z","type":"message"}
{"nick":"bnoordhuis","message":"put a `#define foo NODE_VAR(foo)` define at the top of foo.cc and all references in that file to foo will do the right thing","date":"2011-12-07T00:29:52.542Z","type":"message"}
{"nick":"ryah","message":"well.. ","date":"2011-12-07T00:30:17.840Z","type":"message"}
{"nick":"ryah","message":"there are actually places where we shadow globals in node.cc","date":"2011-12-07T00:30:32.230Z","type":"message"}
{"nick":"ryah","message":"in particular process","date":"2011-12-07T00:30:41.498Z","type":"message"}
{"nick":"ryah","message":"also - that's a long list of defines to maintain","date":"2011-12-07T00:31:10.448Z","type":"message"}
{"nick":"bnoordhuis","message":"that'll have to be fixed","date":"2011-12-07T00:31:10.689Z","type":"message"}
{"nick":"ryah","message":"but i suppose it's not terrible","date":"2011-12-07T00:31:16.233Z","type":"message"}
{"nick":"ryah","message":"this is all to keep the diff with v0.6 minimal","date":"2011-12-07T00:31:33.527Z","type":"message"}
{"nick":"ryah","message":"?","date":"2011-12-07T00:31:34.496Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-12-07T00:31:52.489Z","type":"message"}
{"nick":"bnoordhuis","message":"and because it's less typing / easier to read","date":"2011-12-07T00:32:10.617Z","type":"message"}
{"nick":"ryah","message":"sign","date":"2011-12-07T00:32:20.692Z","type":"message"}
{"nick":"ryah","message":"sigh","date":"2011-12-07T00:32:22.517Z","type":"message"}
{"nick":"ryah","message":"not less typing for me :)","date":"2011-12-07T00:32:27.716Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2011-12-07T00:32:32.903Z","type":"message"}
{"nick":"ryah","message":"alright. i'll do it that way","date":"2011-12-07T00:32:36.486Z","type":"message"}
{"nick":"ryah","message":"i mean - this is helpful - right?","date":"2011-12-07T00:32:58.616Z","type":"message"}
{"nick":"ryah","message":"we need to get all these globals into a struct somehow","date":"2011-12-07T00:33:08.531Z","type":"message"}
{"nick":"bnoordhuis","message":"if tls is out then yes, a struct it is","date":"2011-12-07T00:34:56.311Z","type":"message"}
{"nick":"benvie","message":"I thought they turned on forced updating for ff3.6 like a month ago. How have you escaped the assassination teams I wonder","date":"2011-12-07T00:41:04.249Z","type":"message"}
{"nick":"benvie","message":"they'll get you soon if you don't upgrade","date":"2011-12-07T00:42:05.768Z","type":"message"}
{"nick":"bnoordhuis","message":"benvie: my firefox has super powers","date":"2011-12-07T00:44:03.491Z","type":"message"}
{"nick":"bnoordhuis","message":"also, ubuntu disabled the upgrade system","date":"2011-12-07T00:44:16.217Z","type":"message"}
{"nick":"benvie","message":"oh that makes sense then","date":"2011-12-07T00:44:23.860Z","type":"message"}
{"nick":"benvie","message":"you are an owner of one of the only copies of ff3.6 left. Save it, it may become valuable someday","date":"2011-12-07T00:45:00.209Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: https://gist.github.com/1440865","date":"2011-12-07T00:54:25.605Z","type":"message"}
{"nick":"ryah","message":"i can probably land part of this in v0.6","date":"2011-12-07T00:55:25.248Z","type":"message"}
{"nick":"ryah","message":"the unshadowing and de-namespacing","date":"2011-12-07T00:55:34.423Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: looks good","date":"2011-12-07T00:56:41.504Z","type":"message"}
{"nick":"dap","date":"2011-12-07T00:56:44.367Z","type":"join"}
{"nick":"bnoordhuis","message":"oh dear, baby feeding time","date":"2011-12-07T00:57:03.538Z","type":"message"}
{"nick":"igorzi","reason":"Ping timeout: 265 seconds","date":"2011-12-07T01:02:54.666Z","type":"quit"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u00027547c7d\u000f \u000310\u000f/ src/node.cc \u0002:\u000f ","date":"2011-12-07T01:03:38.291Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Deshadow, denamespace variables in node.cc","date":"2011-12-07T01:03:38.453Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Prep for isolates. - http://git.io/gqpAfA","date":"2011-12-07T01:03:38.453Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002ebe0fb6\u000f \u000310\u000f/ (41 files in 6 dirs)\u0002:\u000f Merge remote branch 'origin/v0.6' (+5 more commits...) - http://git.io/-T09wA","date":"2011-12-07T01:05:27.683Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-12-07T01:10:13.060Z","type":"quit"}
{"nick":"travis-ci","date":"2011-12-07T01:11:17.196Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#8 (v0.6 - 7547c7d : Ryan Dahl): The build was fixed.","date":"2011-12-07T01:11:17.353Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/fd29448...7547c7d","date":"2011-12-07T01:11:17.353Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/380793","date":"2011-12-07T01:11:17.353Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T01:11:17.353Z","type":"part"}
{"nick":"ryah","message":"wow","date":"2011-12-07T01:12:30.262Z","type":"message"}
{"nick":"ryah","message":"it worked","date":"2011-12-07T01:12:32.763Z","type":"message"}
{"nick":"ryah","message":"[01:27|% 100|+ 308|-   0]: Done","date":"2011-12-07T01:12:39.524Z","type":"message"}
{"nick":"ryah","message":"O_O","date":"2011-12-07T01:12:41.900Z","type":"message"}
{"nick":"ryah","message":"mmalecki: nice job","date":"2011-12-07T01:12:58.423Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T01:16:23.362Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#9 (master - ebe0fb6 : Ryan Dahl): The build is still failing.","date":"2011-12-07T01:16:23.520Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/2003593...ebe0fb6","date":"2011-12-07T01:16:23.520Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/380796","date":"2011-12-07T01:16:23.520Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T01:16:23.520Z","type":"part"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T01:48:08.786Z","type":"quit"}
{"nick":"igorzi","date":"2011-12-07T01:59:13.542Z","type":"join"}
{"nick":"pietern","reason":"Quit: pietern","date":"2011-12-07T02:08:17.924Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-12-07T02:12:49.585Z","type":"quit"}
{"nick":"erickt","date":"2011-12-07T02:27:29.337Z","type":"join"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2011-12-07T02:37:51.267Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-07T02:45:34.391Z","type":"quit"}
{"nick":"erickt","date":"2011-12-07T02:45:40.877Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 252 seconds","date":"2011-12-07T02:54:26.819Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2011-12-07T03:06:50.208Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 268 seconds","date":"2011-12-07T03:12:05.082Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 255 seconds","date":"2011-12-07T05:18:30.185Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-12-07T05:23:21.435Z","type":"join"}
{"nick":"erickt","date":"2011-12-07T05:35:36.416Z","type":"join"}
{"nick":"felixge","date":"2011-12-07T05:55:21.353Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-07T06:01:01.173Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T06:40:20.678Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-12-07T06:40:20.840Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T06:40:20.840Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-12-07T06:43:05.024Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T06:43:06.070Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-07T06:45:53.589Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T06:46:37.752Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2011-12-07T06:46:39.885Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T06:59:21.529Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-12-07T06:59:21.876Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T06:59:21.876Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-07T07:04:44.148Z","type":"quit"}
{"nick":"isaacs","date":"2011-12-07T07:16:50.324Z","type":"join"}
{"nick":"isaacs","reason":"Read error: Connection reset by peer","date":"2011-12-07T07:36:02.793Z","type":"quit"}
{"nick":"isaacs","date":"2011-12-07T07:36:31.437Z","type":"join"}
{"nick":"isaacs","reason":"Client Quit","date":"2011-12-07T07:37:06.068Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T08:12:49.742Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-12-07T08:12:49.904Z","type":"quit"}
{"nick":"felixge","date":"2011-12-07T08:12:49.904Z","type":"join"}
{"nick":"kuebk","date":"2011-12-07T08:22:43.760Z","type":"join"}
{"nick":"kuebk","date":"2011-12-07T08:23:30.083Z","type":"part"}
{"nick":"mraleph","date":"2011-12-07T08:41:14.012Z","type":"join"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002e0a207c\u000f \u000310\u000f/ (6 files in 2 dirs)\u0002:\u000f ","date":"2011-12-07T09:16:01.238Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Begin moving static vars into struct for isolates.","date":"2011-12-07T09:16:01.381Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Only node.cc, stream_wrap.cc, and tcp_wrap.cc have been done. The rest still","date":"2011-12-07T09:16:01.382Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f need work. - http://git.io/j4Em5g","date":"2011-12-07T09:16:01.382Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T09:31:08.128Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#10 (master - e0a207c : Ryan Dahl): The build is still failing.","date":"2011-12-07T09:31:08.290Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/ebe0fb6...e0a207c","date":"2011-12-07T09:31:08.290Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/381790","date":"2011-12-07T09:31:08.290Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T09:31:08.290Z","type":"part"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-12-07T09:41:29.453Z","type":"quit"}
{"nick":"mraleph","date":"2011-12-07T10:05:51.090Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-12-07T10:32:53.281Z","type":"quit"}
{"nick":"mmalecki","message":"ryah: :)","date":"2011-12-07T11:59:53.360Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-12-07T13:23:51.367Z","type":"join"}
{"nick":"einaros","reason":"Read error: Operation timed out","date":"2011-12-07T13:27:16.634Z","type":"quit"}
{"nick":"einaros","date":"2011-12-07T13:27:55.422Z","type":"join"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002eef5d32\u000f \u000310\u000f/ wscript \u0002:\u000f build: check for libkvm and libexecinfo on all the BSDs - http://git.io/hkyhCg","date":"2011-12-07T13:37:24.731Z","type":"message"}
{"nick":"luxigo","date":"2011-12-07T14:09:48.889Z","type":"join"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303koichik\u000f \u000307master\u000f * r\u0002f8c335d\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f ","date":"2011-12-07T14:16:39.526Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f tls: enable rejectUnauthorized option to client","date":"2011-12-07T14:16:39.686Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Fiexes #2247. - http://git.io/gsEBFw","date":"2011-12-07T14:16:39.686Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/joyent/node/pull/961 <- can you give me the executive summary?","date":"2011-12-07T14:36:13.719Z","type":"message"}
{"nick":"indutny","message":"one second","date":"2011-12-07T14:42:11.922Z","type":"message"}
{"nick":"indutny","message":"ok so problem is quite simple","date":"2011-12-07T14:42:52.201Z","type":"message"}
{"nick":"indutny","message":"ssl uses block encryption for transfering data","date":"2011-12-07T14:43:08.836Z","type":"message"}
{"nick":"indutny","message":"therefore you can't decode chunk until you fully download it","date":"2011-12-07T14:43:20.553Z","type":"message"}
{"nick":"indutny","message":"so when sending large pages to client with low-bandwith, browser won't be able to load dependencies until page's full load","date":"2011-12-07T14:43:53.794Z","type":"message"}
{"nick":"indutny","message":"plus MTU thing","date":"2011-12-07T14:43:59.771Z","type":"message"}
{"nick":"indutny","message":"so if you split data before sending it to OpenSSL","date":"2011-12-07T14:44:29.396Z","type":"message"}
{"nick":"indutny","message":"in chunks of ~1300-1400 bytes, it'll faster rendered in browser","date":"2011-12-07T14:44:52.001Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/pull/961","date":"2011-12-07T14:44:52.818Z","type":"message"}
{"nick":"indutny","message":"sorry, wrong link","date":"2011-12-07T14:44:56.863Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: http://www.belshe.com/2010/12/17/performance-and-the-tls-record-size/ ^","date":"2011-12-07T14:45:00.748Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: clear?","date":"2011-12-07T14:45:24.429Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yes","date":"2011-12-07T14:45:34.110Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: doesn't openssl chunk the stream by default?","date":"2011-12-07T14:46:07.554Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, maybe not the way we use it","date":"2011-12-07T14:46:25.466Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: nope, it's sending in blocks","date":"2011-12-07T14:46:33.051Z","type":"message"}
{"nick":"indutny","message":"SSL_write","date":"2011-12-07T14:46:34.236Z","type":"message"}
{"nick":"indutny","message":"probably there're other way, right","date":"2011-12-07T14:46:44.908Z","type":"message"}
{"nick":"indutny","message":"but TLS performance is still bad in node.js","date":"2011-12-07T14:47:08.009Z","type":"message"}
{"nick":"bnoordhuis","message":"alas, 'tis true","date":"2011-12-07T14:47:27.321Z","type":"message"}
{"nick":"erickt","date":"2011-12-07T14:48:36.101Z","type":"join"}
{"nick":"pquerna","message":"indutny> ssl uses block encryption for transfering data <- thats probally not quite an accurate way of syaing it","date":"2011-12-07T15:03:23.628Z","type":"message"}
{"nick":"pquerna","message":"TLS / SSL protocol have a packet length","date":"2011-12-07T15:03:32.528Z","type":"message"}
{"nick":"pquerna","message":"which can be quite large","date":"2011-12-07T15:03:37.268Z","type":"message"}
{"nick":"pquerna","message":"and the whole packet has to be downloaded before decoding any of it","date":"2011-12-07T15:03:45.246Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T15:11:11.441Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#11 (v0.6 - eef5d32 : Ben Noordhuis): The build passed.","date":"2011-12-07T15:11:11.600Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/7547c7d...eef5d32","date":"2011-12-07T15:11:11.600Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/382303","date":"2011-12-07T15:11:11.600Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T15:11:11.600Z","type":"part"}
{"nick":"travis-ci","date":"2011-12-07T15:11:46.009Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#12 (master - f8c335d : koichik): The build was fixed.","date":"2011-12-07T15:11:46.171Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/e0a207c...f8c335d","date":"2011-12-07T15:11:46.171Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/382353","date":"2011-12-07T15:11:46.171Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T15:11:46.171Z","type":"part"}
{"nick":"indutny","message":"pquerna: correct","date":"2011-12-07T15:18:02.943Z","type":"message"}
{"nick":"pquerna","message":"anyways, i support at the very least","date":"2011-12-07T15:18:17.330Z","type":"message"}
{"nick":"pquerna","message":"sending the first ssl_write of 1500 bytes","date":"2011-12-07T15:18:23.451Z","type":"message"}
{"nick":"pquerna","message":"i'm unsure abotu always chunking at 1500","date":"2011-12-07T15:18:30.068Z","type":"message"}
{"nick":"indutny","message":"pquerna: why first?","date":"2011-12-07T15:18:35.601Z","type":"message"}
{"nick":"indutny","message":"pquerna: http headers?","date":"2011-12-07T15:18:41.486Z","type":"message"}
{"nick":"pquerna","message":"yeah","date":"2011-12-07T15:18:44.900Z","type":"message"}
{"nick":"pquerna","message":"that'll get the brwoser start rendering","date":"2011-12-07T15:18:52.450Z","type":"message"}
{"nick":"indutny","message":"pquerna: html dependencies are important too","date":"2011-12-07T15:18:54.511Z","type":"message"}
{"nick":"indutny","message":"pquerna: yep, but it won't render anything :)","date":"2011-12-07T15:19:06.650Z","type":"message"}
{"nick":"pquerna","message":"so, if we can do ssl_write() and that translates into one writev()","date":"2011-12-07T15:19:20.768Z","type":"message"}
{"nick":"pquerna","message":"then I'm totally fine with 1500","date":"2011-12-07T15:19:25.183Z","type":"message"}
{"nick":"indutny","message":"pquerna: hm...","date":"2011-12-07T15:19:33.106Z","type":"message"}
{"nick":"indutny","message":"can we?","date":"2011-12-07T15:19:43.032Z","type":"message"}
{"nick":"pquerna","message":"but if we do ssl write andwe end up doing lots of single writevs then I'd beworried","date":"2011-12-07T15:19:43.607Z","type":"message"}
{"nick":"indutny","message":"pquerna: if that matters - we're doing chunking and SSL_write in one thread","date":"2011-12-07T15:20:15.644Z","type":"message"}
{"nick":"indutny","message":"can we buffer that somehow and commit/send after?","date":"2011-12-07T15:20:30.608Z","type":"message"}
{"nick":"pquerna","message":"its complicated with ssl, but, probally","date":"2011-12-07T15:21:46.945Z","type":"message"}
{"nick":"pquerna","message":"inside that while loop, keep a list of the out buffers from the bio, and then flush them once ssl write stops / end of input","date":"2011-12-07T15:22:43.742Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^ ;)","date":"2011-12-07T15:28:28.814Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: what do you think?","date":"2011-12-07T15:28:35.020Z","type":"message"}
{"nick":"indutny","message":"if we're up for chunking I'll implement that","date":"2011-12-07T15:28:41.674Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: buffering kills interactivity","date":"2011-12-07T15:33:26.576Z","type":"message"}
{"nick":"bnoordhuis","message":"not relevant to https but it is relevant to e.g. telnet over ssl","date":"2011-12-07T15:33:54.883Z","type":"message"}
{"nick":"pquerna","message":"no, not buffering","date":"2011-12-07T15:34:29.122Z","type":"message"}
{"nick":"pquerna","message":"just buffering of the buffer we already were called write  on","date":"2011-12-07T15:34:52.471Z","type":"message"}
{"nick":"pquerna","message":"write(buffer) { localbuf = [];  while (some_left && ssl_write_not_blocking) { ssl_write(buffer+offset, 1500); offset+= 1500; /* other logic */ } writev(localbuf) };","date":"2011-12-07T15:35:53.415Z","type":"message"}
{"nick":"pquerna","message":"this will create 1500 byte TLS packets","date":"2011-12-07T15:36:08.578Z","type":"message"}
{"nick":"pquerna","message":"(probally want slightly smaller as discussed in the ticket)","date":"2011-12-07T15:36:20.713Z","type":"message"}
{"nick":"pquerna","message":"but anyways, streams don't have writev","date":"2011-12-07T15:37:01.523Z","type":"message"}
{"nick":"pquerna","message":"so anyways","date":"2011-12-07T15:37:04.861Z","type":"message"}
{"nick":"bnoordhuis","message":"right, i see the point","date":"2011-12-07T15:39:13.364Z","type":"message"}
{"nick":"ljackson","date":"2011-12-07T15:47:28.635Z","type":"join"}
{"nick":"dwww","date":"2011-12-07T16:00:46.472Z","type":"join"}
{"nick":"dwww","message":"Hi, folks!","date":"2011-12-07T16:01:17.472Z","type":"message"}
{"nick":"dwww","message":"Am running in a problem using luvit, need your help","date":"2011-12-07T16:02:34.305Z","type":"message"}
{"nick":"bnoordhuis","message":"dwww: luvit != libuv","date":"2011-12-07T16:04:53.331Z","type":"message"}
{"nick":"dwww","message":"i know","date":"2011-12-07T16:11:17.332Z","type":"message"}
{"nick":"dwww","message":"that's why i'm asking","date":"2011-12-07T16:11:29.144Z","type":"message"}
{"nick":"dwww","message":"i do recursive walk over fs","date":"2011-12-07T16:11:49.024Z","type":"message"}
{"nick":"dwww","message":"i use stat() and readdir()","date":"2011-12-07T16:12:22.399Z","type":"message"}
{"nick":"dwww","message":"the loop is exited with segfault","date":"2011-12-07T16:12:56.195Z","type":"message"}
{"nick":"dwww","message":"or in some cases with \"string length overflow\"","date":"2011-12-07T16:14:12.340Z","type":"message"}
{"nick":"dwww","message":"i think i understand the cause","date":"2011-12-07T16:14:47.934Z","type":"message"}
{"nick":"dwww","message":"i have some symlinks pointing to '.'","date":"2011-12-07T16:15:03.710Z","type":"message"}
{"nick":"dwww","message":"this causes eternal recursion","date":"2011-12-07T16:15:17.979Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T16:19:07.052Z","type":"quit"}
{"nick":"dwww","message":"i added inode lookup table to not process same path twice, but it doesn't help","date":"2011-12-07T16:19:54.760Z","type":"message"}
{"nick":"dwww","message":"i wonder if it's libuv issue or not?","date":"2011-12-07T16:21:01.998Z","type":"message"}
{"nick":"bnoordhuis","message":"dwww: not really, uv_fs_readdir() is deliberately quite stupid","date":"2011-12-07T16:21:32.392Z","type":"message"}
{"nick":"sh1mmer","date":"2011-12-07T16:21:58.411Z","type":"join"}
{"nick":"dwww","message":"unfortunately, uv_fs_* is too low level for me to write test. wonder if you could consider adding such test in testsuite -- walk over '/'","date":"2011-12-07T16:23:46.163Z","type":"message"}
{"nick":"dwww","message":"i've written in luajit+libuv, but it fails and i can't blame either for sure","date":"2011-12-07T16:24:37.424Z","type":"message"}
{"nick":"bnoordhuis","message":"sorry, dinner time - biab","date":"2011-12-07T16:30:54.604Z","type":"message"}
{"nick":"isaacs","date":"2011-12-07T16:42:23.595Z","type":"join"}
{"nick":"mmalecki","message":"bnoordhuis: so, this recursion happens in opera as well. these functions and errors come from SproutCore. no idea how to fix, sproutcore is a beast which tries to redefine half of standard library.","date":"2011-12-07T16:45:41.791Z","type":"message"}
{"nick":"pietern","date":"2011-12-07T16:51:20.040Z","type":"join"}
{"nick":"mmalecki","message":"isaacs: hey, can I close https://github.com/joyent/node/pull/2261 or is it open on purpose?","date":"2011-12-07T17:21:08.856Z","type":"message"}
{"nick":"isaacs","message":"i forgot to post teh \"landed, thanks\" comment, that's why :)","date":"2011-12-07T17:21:41.166Z","type":"message"}
{"nick":"isaacs","message":"closed now","date":"2011-12-07T17:21:42.685Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: ok, thanks :)","date":"2011-12-07T17:24:48.001Z","type":"message"}
{"nick":"dap","date":"2011-12-07T17:29:35.335Z","type":"join"}
{"nick":"erickt","date":"2011-12-07T17:39:52.270Z","type":"join"}
{"nick":"mikeal","date":"2011-12-07T18:14:05.375Z","type":"join"}
{"nick":"dwww","date":"2011-12-07T18:26:37.976Z","type":"part"}
{"nick":"pietern","reason":"Quit: pietern","date":"2011-12-07T18:48:00.164Z","type":"quit"}
{"nick":"brson","date":"2011-12-07T18:49:48.343Z","type":"join"}
{"nick":"ryah","message":"piscisaureus__, isaacs, igorzi, bnoordhuis: can we do the call 15 minutes later?","date":"2011-12-07T18:49:49.051Z","type":"message"}
{"nick":"ryah","message":"at 11:15?","date":"2011-12-07T18:49:53.691Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2011-12-07T18:50:00.991Z","type":"message"}
{"nick":"isaacs","message":"ok sure.","date":"2011-12-07T18:50:16.700Z","type":"message"}
{"nick":"ryah","message":"thanks. see you then.","date":"2011-12-07T18:50:23.330Z","type":"message"}
{"nick":"mraleph","date":"2011-12-07T18:54:22.157Z","type":"join"}
{"nick":"piscisaureus__","message":"20:15 sure","date":"2011-12-07T19:03:23.892Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-07T19:14:23.600Z","type":"quit"}
{"nick":"ryah","message":"piscisaureus__, isaacs, igorzi : call","date":"2011-12-07T19:19:46.365Z","type":"message"}
{"nick":"piscisaureus__","message":"ryah: igori: sorry - another call is is over time","date":"2011-12-07T19:19:51.490Z","type":"message"}
{"nick":"mjr_","date":"2011-12-07T19:30:23.862Z","type":"join"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-12-07T19:31:51.966Z","type":"quit"}
{"nick":"mikeal","date":"2011-12-07T19:31:57.059Z","type":"join"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/libuv/compare/v0.6...walk-handles <- handle walker, libuv implementation","date":"2011-12-07T20:04:49.771Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/compare/v0.6...print-handles <- print handles on SIGUSR1, node implementation","date":"2011-12-07T20:04:58.013Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: why do we need a handle walker?","date":"2011-12-07T20:06:49.297Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__: to walk handles","date":"2011-12-07T20:07:17.939Z","type":"message"}
{"nick":"bnoordhuis","message":"also, it's a useful debugging tool","date":"2011-12-07T20:07:30.504Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-07T20:13:36.182Z","type":"quit"}
{"nick":"isaacs","date":"2011-12-07T20:14:13.419Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-07T20:18:43.844Z","type":"quit"}
{"nick":"ryah","message":"bnoordhuis: we should do this in master","date":"2011-12-07T20:23:23.017Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: sure","date":"2011-12-07T20:23:33.089Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: https://gist.github.com/1444077","date":"2011-12-07T20:32:17.079Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: we need to work on file i/o at some point","date":"2011-12-07T20:32:25.693Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: tell me about it :/","date":"2011-12-07T20:32:49.588Z","type":"message"}
{"nick":"mikeal","date":"2011-12-07T20:34:04.231Z","type":"join"}
{"nick":"piscisaureus__","message":"https://github.com/joyent/node/pull/2038 <-- omg","date":"2011-12-07T20:43:56.207Z","type":"message"}
{"nick":"ryah","message":"dang","date":"2011-12-07T20:44:41.664Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus__: I briefly read that code. it's actually pretty clever.","date":"2011-12-07T20:45:06.733Z","type":"message"}
{"nick":"piscisaureus__","message":"yeah but what about propose a change briefly before spending a month implementing it","date":"2011-12-07T20:45:47.278Z","type":"message"}
{"nick":"mmalecki","message":"agreed","date":"2011-12-07T20:46:18.160Z","type":"message"}
{"nick":"piscisaureus__","message":"there's probably a lot of good stuff","date":"2011-12-07T20:48:18.029Z","type":"message"}
{"nick":"piscisaureus__","message":"but it's mixed with cluster.eachWorker(callback)","date":"2011-12-07T20:48:22.366Z","type":"message"}
{"nick":"ryah","message":"we should encourage this guy","date":"2011-12-07T20:48:51.591Z","type":"message"}
{"nick":"ryah","message":"it would be great to have someone dedicated to working on the cluster module","date":"2011-12-07T20:49:01.273Z","type":"message"}
{"nick":"piscisaureus__","message":"he is pretty productive","date":"2011-12-07T20:49:01.438Z","type":"message"}
{"nick":"ryah","message":"but i do want the API to be minimal","date":"2011-12-07T20:49:16.318Z","type":"message"}
{"nick":"piscisaureus__","message":"let's invite him here","date":"2011-12-07T20:49:21.377Z","type":"message"}
{"nick":"ryah","message":"it seems he's going happy-go-lucky adding methods","date":"2011-12-07T20:49:24.031Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-12-07T20:50:12.489Z","type":"message"}
{"nick":"piscisaureus__","message":"doing it","date":"2011-12-07T20:50:19.714Z","type":"message"}
{"nick":"ryah","message":"i think we need to get him to do a minimal first patch","date":"2011-12-07T20:52:13.064Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T20:57:16.050Z","type":"quit"}
{"nick":"dap","date":"2011-12-07T21:07:41.278Z","type":"join"}
{"nick":"ryah","message":"isaacs: ","date":"2011-12-07T21:31:26.309Z","type":"message"}
{"nick":"ryah","message":"=== release test-zlib-random-byte-pipes ===                                    ","date":"2011-12-07T21:31:26.796Z","type":"message"}
{"nick":"ryah","message":"Path: simple/test-zlib-random-byte-pipes","date":"2011-12-07T21:31:26.955Z","type":"message"}
{"nick":"ryah","message":"node.js:201","date":"2011-12-07T21:31:26.955Z","type":"message"}
{"nick":"ryah","message":"        throw e; // process.nextTick error, or 'error' event on first tick","date":"2011-12-07T21:31:26.955Z","type":"message"}
{"nick":"ryah","message":"              ^","date":"2011-12-07T21:31:29.273Z","type":"message"}
{"nick":"ryah","message":"^-- failing on master","date":"2011-12-07T21:31:31.796Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000206d86eb\u000f \u000310\u000f/ (src/node_http_parser.cc src/node_vars.h)\u0002:\u000f Move node_http_parser.cc global vars into node_vars.h - http://git.io/NqOZwQ","date":"2011-12-07T21:32:19.364Z","type":"message"}
{"nick":"erickt","date":"2011-12-07T21:40:10.041Z","type":"join"}
{"nick":"travis-ci","date":"2011-12-07T21:47:35.000Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#13 (master - 06d86eb : Ryan Dahl): The build was broken.","date":"2011-12-07T21:47:35.157Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/f8c335d...06d86eb","date":"2011-12-07T21:47:35.157Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/383669","date":"2011-12-07T21:47:35.157Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T21:47:35.157Z","type":"part"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T21:54:16.136Z","type":"quit"}
{"nick":"erickt","date":"2011-12-07T22:12:40.146Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-07T22:21:30.032Z","type":"quit"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u000222c2c34\u000f \u000310\u000f/ src/fs_event_wrap.cc \u0002:\u000f ","date":"2011-12-07T22:23:46.094Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f fs: fix fs.watch() segmentation fault","date":"2011-12-07T22:23:46.256Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f The binding layer failed to initialize the event string if both UV_RENAME and","date":"2011-12-07T22:23:46.256Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f UV_CHANGE were set.","date":"2011-12-07T22:23:46.256Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Fixes #2287. - http://git.io/OjIeMQ","date":"2011-12-07T22:23:46.256Z","type":"message"}
{"nick":"erickt","date":"2011-12-07T22:25:44.120Z","type":"join"}
{"nick":"indutny","message":"I think I'll write article about node's debugger","date":"2011-12-07T22:26:26.638Z","type":"message"}
{"nick":"indutny","message":"noone knows about it","date":"2011-12-07T22:26:33.676Z","type":"message"}
{"nick":"indutny","message":":(","date":"2011-12-07T22:27:03.676Z","type":"message"}
{"nick":"mmalecki","message":"indutny: yes, please :)","date":"2011-12-07T22:27:53.144Z","type":"message"}
{"nick":"erickt","reason":"Client Quit","date":"2011-12-07T22:28:12.067Z","type":"quit"}
{"nick":"indutny","message":"mmalecki: oh, you too?","date":"2011-12-07T22:28:39.611Z","type":"message"}
{"nick":"indutny","message":";(","date":"2011-12-07T22:28:52.978Z","type":"message"}
{"nick":"mmalecki","message":"indutny: no, I tried it, I just didn't have time to do a deep dive :)","date":"2011-12-07T22:29:11.733Z","type":"message"}
{"nick":"indutny","message":"hehe","date":"2011-12-07T22:29:17.140Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2011-12-07T22:29:25.273Z","type":"message"}
{"nick":"mmalecki","message":"indutny: don't be sad, you've done an awesome job with it :)","date":"2011-12-07T22:29:31.454Z","type":"message"}
{"nick":"indutny","message":"backtrace problem","date":"2011-12-07T22:29:32.287Z","type":"message"}
{"nick":"indutny","message":"forgot about it","date":"2011-12-07T22:29:38.093Z","type":"message"}
{"nick":"piscisaureus__","message":"indutny: is it possible to interrupt a running process with the debugger?","date":"2011-12-07T22:30:06.453Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: should be","date":"2011-12-07T22:30:14.015Z","type":"message"}
{"nick":"piscisaureus__","message":"with some command?","date":"2011-12-07T22:30:15.975Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: node debug -p","date":"2011-12-07T22:30:35.268Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: and process id","date":"2011-12-07T22:30:40.342Z","type":"message"}
{"nick":"piscisaureus__","message":"indutny: yeah ok","date":"2011-12-07T22:30:48.499Z","type":"message"}
{"nick":"piscisaureus__","message":"indutny: I mean, when I have the debug repl and my program is running","date":"2011-12-07T22:31:01.843Z","type":"message"}
{"nick":"piscisaureus__","message":"i just want to enter something on the command line and have it interrupt as asap","date":"2011-12-07T22:31:19.685Z","type":"message"}
{"nick":"piscisaureus__","message":"like, as soon as v8 is hit","date":"2011-12-07T22:31:34.787Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: ah","date":"2011-12-07T22:32:23.250Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: I think no","date":"2011-12-07T22:32:31.942Z","type":"message"}
{"nick":"indutny","message":"but you can add an breakpoint","date":"2011-12-07T22:32:38.597Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: anyway I'll implement that","date":"2011-12-07T22:32:46.809Z","type":"message"}
{"nick":"indutny","message":"what's good name for that?","date":"2011-12-07T22:32:53.092Z","type":"message"}
{"nick":"piscisaureus__","message":"pause","date":"2011-12-07T22:33:09.390Z","type":"message"}
{"nick":"piscisaureus__","message":"break","date":"2011-12-07T22:33:15.734Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: k","date":"2011-12-07T22:33:16.229Z","type":"message"}
{"nick":"piscisaureus__","message":"interrupt","date":"2011-12-07T22:33:17.469Z","type":"message"}
{"nick":"indutny","message":"break won't work","date":"2011-12-07T22:34:03.895Z","type":"message"}
{"nick":"piscisaureus__","message":"indutny: while you're at it, there's also an issue with the debugger repl","date":"2011-12-07T22:34:04.874Z","type":"message"}
{"nick":"piscisaureus__","message":"ah sure","date":"2011-12-07T22:34:10.067Z","type":"message"}
{"nick":"piscisaureus__","message":"indutny: if the child writes something, node does a good job preserving the repl prompt","date":"2011-12-07T22:34:28.669Z","type":"message"}
{"nick":"piscisaureus__","message":"but the cursor position is reset to position 0","date":"2011-12-07T22:34:35.696Z","type":"message"}
{"nick":"indutny","message":"hm, you mean no \"debug>\" at the start of the line?","date":"2011-12-07T22:34:58.825Z","type":"message"}
{"nick":"igorzi","message":"async-break","date":"2011-12-07T22:35:13.614Z","type":"message"}
{"nick":"piscisaureus__","message":"induty: no, I mean that the cursor moves back to the first position in the repl line. So everything you type gets prepended before what is already there","date":"2011-12-07T22:35:47.142Z","type":"message"}
{"nick":"indutny","message":"igorzi: that'll confuse many","date":"2011-12-07T22:35:53.700Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: how can I reproduce it?","date":"2011-12-07T22:36:06.449Z","type":"message"}
{"nick":"indutny","message":"piscisaureus__: on what platform that appears?","date":"2011-12-07T22:36:16.998Z","type":"message"}
{"nick":"indutny","message":"igorzi: I like `pause`","date":"2011-12-07T22:36:31.027Z","type":"message"}
{"nick":"indutny","message":"igorzi: same name in developer tools","date":"2011-12-07T22:36:49.398Z","type":"message"}
{"nick":"piscisaureus__","message":"induty: happens on windows at least","date":"2011-12-07T22:36:52.650Z","type":"message"}
{"nick":"piscisaureus__","message":"var i = 0;","date":"2011-12-07T22:37:22.846Z","type":"message"}
{"nick":"piscisaureus__","message":"setInterval(function() {","date":"2011-12-07T22:37:23.527Z","type":"message"}
{"nick":"piscisaureus__","message":"  console.log(++i);","date":"2011-12-07T22:37:23.684Z","type":"message"}
{"nick":"piscisaureus__","message":"}, 100) ;","date":"2011-12-07T22:37:23.684Z","type":"message"}
{"nick":"piscisaureus__","message":"\u0003indutny: \u0003 ^-- try to enter something in the debug repl while that runs","date":"2011-12-07T22:37:23.684Z","type":"message"}
{"nick":"igorzi","message":"indutny: yep, pause sounds godo","date":"2011-12-07T22:37:24.209Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T22:37:30.290Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#14 (v0.6 - 22c2c34 : Ben Noordhuis): The build passed.","date":"2011-12-07T22:37:30.454Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/eef5d32...22c2c34","date":"2011-12-07T22:37:30.455Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/383870","date":"2011-12-07T22:37:30.455Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-07T22:37:30.455Z","type":"part"}
{"nick":"indutny","message":"piscisaureus__: one moment","date":"2011-12-07T22:37:51.483Z","type":"message"}
{"nick":"indutny","message":"ah, I see","date":"2011-12-07T22:40:26.225Z","type":"message"}
{"nick":"indutny","message":"interesting :)","date":"2011-12-07T22:40:30.301Z","type":"message"}
{"nick":"mjr_","message":"Hey libuv-ers, here's another Tale From Production with node 0.6 that's quite mysterious.","date":"2011-12-07T22:47:25.581Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/047f4a3e89f3a9ed195d","date":"2011-12-07T22:47:26.603Z","type":"message"}
{"nick":"mjr_","message":"node process runs at 100% CPU for some reason, strace says that it's blasting bytes to a socket that's closed.  Somehow we don't detect this.","date":"2011-12-07T22:48:10.130Z","type":"message"}
{"nick":"mjr_","message":"I'm not sure if this is in our code or what, but it's really strange behavior.","date":"2011-12-07T22:48:38.070Z","type":"message"}
{"nick":"piscisaureus__","message":"hmm, that looks broken","date":"2011-12-07T22:49:18.765Z","type":"message"}
{"nick":"piscisaureus__","message":"this is bnoordhuis' territory","date":"2011-12-07T22:49:25.054Z","type":"message"}
{"nick":"piscisaureus__","message":"(as is almost everything nowadays)","date":"2011-12-07T22:49:39.541Z","type":"message"}
{"nick":"mjr_","message":"heh","date":"2011-12-07T22:49:42.671Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: but are you using pipes for something? or is this stdout?","date":"2011-12-07T22:50:20.713Z","type":"message"}
{"nick":"mjr_","message":"not using pipes on purpose, no.","date":"2011-12-07T22:50:35.380Z","type":"message"}
{"nick":"mjr_","message":"It's all HTTP and HTTPS.","date":"2011-12-07T22:50:44.906Z","type":"message"}
{"nick":"mjr_","message":"Oh, I guess it's also TCP to Redis.","date":"2011-12-07T22:50:52.020Z","type":"message"}
{"nick":"piscisaureus__","message":"I don't think linux sends SIGPIPE for broken sockets right?","date":"2011-12-07T22:52:30.289Z","type":"message"}
{"nick":"mjr_","message":"oh, I dunno.  That's an interesting observation","date":"2011-12-07T22:52:50.815Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__: it does","date":"2011-12-07T22:53:28.076Z","type":"message"}
{"nick":"bnoordhuis","message":"uv pipes are unix sockets, for that matter","date":"2011-12-07T22:54:12.740Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: that strace log is unfiltered? iow raw, nothing stripped?","date":"2011-12-07T22:54:39.542Z","type":"message"}
{"nick":"mjr_","message":"yes","date":"2011-12-07T22:54:44.189Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: no I meant tcp sockets","date":"2011-12-07T22:54:47.169Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__: those too","date":"2011-12-07T22:55:03.203Z","type":"message"}
{"nick":"mjr_","message":"so it's stuck in a tight loop, and I guess the data is changing.  I haven't bothered to decode the bytes though.","date":"2011-12-07T22:55:04.849Z","type":"message"}
{"nick":"bnoordhuis","message":"odd... EPIPE should fire the write callbacks and close the handle","date":"2011-12-07T22:55:47.105Z","type":"message"}
{"nick":"mjr_","message":"We are pushing node pretty hard today, but the code has changed very little in the past few days.  The main thing is just the volume.","date":"2011-12-07T22:56:38.431Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-07T22:57:22.555Z","type":"quit"}
{"nick":"bnoordhuis","message":"mjr_: you're running v0.6.5?","date":"2011-12-07T22:57:45.817Z","type":"message"}
{"nick":"mjr_","message":"oh shit, 0.6.4.  I thought we had updated.","date":"2011-12-07T22:58:07.633Z","type":"message"}
{"nick":"mjr_","message":"Well, I will if you think that will help.","date":"2011-12-07T22:58:14.590Z","type":"message"}
{"nick":"bnoordhuis","message":"no, not really - v0.6.5 was a bug fix release for windows","date":"2011-12-07T22:58:43.531Z","type":"message"}
{"nick":"bnoordhuis","message":"let me check that strace log some more","date":"2011-12-07T22:59:22.425Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-07T22:59:43.799Z","type":"quit"}
{"nick":"piscisaureus__","message":"bnoordhuis: https://github.com/joyent/node/blob/master/lib/net.js#L468","date":"2011-12-07T23:00:02.285Z","type":"message"}
{"nick":"mjr_","message":"ha","date":"2011-12-07T23:00:32.926Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: we are just ignoring errors I thing","date":"2011-12-07T23:00:49.398Z","type":"message"}
{"nick":"mjr_","message":"How are those strace byte strings escaped?  Trying to figure out what that data is to see if I can figure out what socket it was.","date":"2011-12-07T23:01:06.547Z","type":"message"}
{"nick":"piscisaureus__","message":"https://github.com/joyent/node/blob/v0.6/lib/net.js#L468","date":"2011-12-07T23:01:13.455Z","type":"message"}
{"nick":"piscisaureus__","message":"mjr_: looks octal","date":"2011-12-07T23:01:39.702Z","type":"message"}
{"nick":"mjr_","message":"Trying to figure out what 25, 3, 0, 0 and a space is.  ","date":"2011-12-07T23:03:32.987Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: try this -> perl -pe 's/(\\\\(\\d{1,3}))/chr oct $2/eg'","date":"2011-12-07T23:04:57.939Z","type":"message"}
{"nick":"mjr_","message":"perl?  Don't mind if it do!","date":"2011-12-07T23:05:13.683Z","type":"message"}
{"nick":"bnoordhuis","message":"seems to be binary data... some character encoding maybe?","date":"2011-12-07T23:06:23.295Z","type":"message"}
{"nick":"mjr_","message":"So we shuffle around a lot of binary data.  That doesn't look like our audio format though.","date":"2011-12-07T23:06:29.021Z","type":"message"}
{"nick":"mjr_","message":"of course, strace truncates the args, so maybe it is","date":"2011-12-07T23:06:43.639Z","type":"message"}
{"nick":"mjr_","message":"We also move JPG files around.","date":"2011-12-07T23:06:51.278Z","type":"message"}
{"nick":"mjr_","message":"I'm not sure what those look like.","date":"2011-12-07T23:07:03.163Z","type":"message"}
{"nick":"dap","date":"2011-12-07T23:07:09.603Z","type":"join"}
{"nick":"bnoordhuis","message":"mjr_: next time it happens, can you try `strace -e write=84` (where 84 is the fd that is erroring)","date":"2011-12-07T23:08:27.053Z","type":"message"}
{"nick":"mjr_","message":"sure","date":"2011-12-07T23:08:33.169Z","type":"message"}
{"nick":"mjr_","message":"Happened 3 times in the last hour, so I can only assume it'll happen again.","date":"2011-12-07T23:08:45.545Z","type":"message"}
{"nick":"erickt","date":"2011-12-07T23:11:24.371Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus__: that 'check status' comment is kind of worrisome...","date":"2011-12-07T23:12:17.158Z","type":"message"}
{"nick":"ryah","message":"mjr_: oh shit","date":"2011-12-07T23:18:04.517Z","type":"message"}
{"nick":"ryah","message":"that's not good","date":"2011-12-07T23:18:07.976Z","type":"message"}
{"nick":"ryah","message":"we ignore the SIGPIPE signal","date":"2011-12-07T23:18:21.308Z","type":"message"}
{"nick":"ryah","message":"it's returning EPIPE","date":"2011-12-07T23:18:29.612Z","type":"message"}
{"nick":"ryah","message":"oh no - it does look like it's getting SIGPIPE","date":"2011-12-07T23:18:42.424Z","type":"message"}
{"nick":"ryah","message":"wtf","date":"2011-12-07T23:18:43.694Z","type":"message"}
{"nick":"mjr_","message":"It might be something that a specific client generated, so I don't know if it'll happen again.","date":"2011-12-07T23:18:49.754Z","type":"message"}
{"nick":"ryah","message":"maybe strace displays signals even if the app ignores them","date":"2011-12-07T23:19:24.626Z","type":"message"}
{"nick":"ryah","message":"so - question is  why the hell are we looping there?","date":"2011-12-07T23:19:38.524Z","type":"message"}
{"nick":"ryah","message":"mjr_: can you attach gdb to it?","date":"2011-12-07T23:19:49.736Z","type":"message"}
{"nick":"mjr_","message":"next time, sure","date":"2011-12-07T23:19:55.692Z","type":"message"}
{"nick":"mjr_","message":"I'm not running node_g","date":"2011-12-07T23:20:02.629Z","type":"message"}
{"nick":"ryah","message":"normal node has symbols","date":"2011-12-07T23:20:11.089Z","type":"message"}
{"nick":"mjr_","message":"What do you want to do with an attached gdb?","date":"2011-12-07T23:20:14.432Z","type":"message"}
{"nick":"ryah","message":"we want to break somewhere in uv__write","date":"2011-12-07T23:20:41.426Z","type":"message"}
{"nick":"ryah","message":"maybe just on uv__write","date":"2011-12-07T23:20:47.610Z","type":"message"}
{"nick":"ryah","message":"and step through what's happening","date":"2011-12-07T23:20:53.776Z","type":"message"}
{"nick":"mjr_","message":"OK.  I'll keep watching","date":"2011-12-07T23:20:57.676Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: \" maybe strace displays signals even if the app ignores them\" <- yes","date":"2011-12-07T23:23:06.369Z","type":"message"}
{"nick":"ryah","message":"i hope it's looping in C - that will be easy to debug","date":"2011-12-07T23:23:41.946Z","type":"message"}
{"nick":"mjr_","message":"If it makes you guys feel any better, we are doing this exact same thing with the Riak guys.  Our recent popularity is crushing their cluster, and it's exposing all sort of interesting issues.","date":"2011-12-07T23:24:11.333Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus__ may have nailed it already - we fail to handle errors in afterWrite() in lib/net.js","date":"2011-12-07T23:24:14.362Z","type":"message"}
{"nick":"bnoordhuis","action":"is patching it as we speak","date":"2011-12-07T23:24:29.493Z","type":"action"}
{"nick":"mjr_","message":"no repeats yet, still watching","date":"2011-12-07T23:31:13.049Z","type":"message"}
{"nick":"bnoordhuis","message":"mraleph: https://gist.github.com/61f188de167473c4187e <- that's probably all it takes to fix, but it's kind of hard to test locally","date":"2011-12-07T23:34:18.091Z","type":"message"}
{"nick":"mraleph","message":"mjr_: ^^^ that was for you probably :-)","date":"2011-12-07T23:36:15.461Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, sorry - yes, mjr_","date":"2011-12-07T23:37:18.783Z","type":"message"}
{"nick":"ryah","message":"man - what ass clown put \"TODO check status\" ?","date":"2011-12-07T23:42:03.018Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002e53e9c7\u000f \u000310\u000f/ (4 files)\u0002:\u000f move global vars for node_file.cc, node_zlib.cc, and node_crypto.cc - http://git.io/7ylcHA","date":"2011-12-07T23:46:32.254Z","type":"message"}
{"nick":"piscisaureus__","message":"I wonder if that todo could also cause memory leaks","date":"2011-12-07T23:48:54.828Z","type":"message"}
{"nick":"luxigo","reason":"Read error: Connection reset by peer","date":"2011-12-07T23:48:55.462Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-07T23:51:28.796Z","type":"quit"}
{"nick":"luxigo","date":"2011-12-07T23:53:34.231Z","type":"join"}
{"nick":"dap","date":"2011-12-07T23:57:33.340Z","type":"join"}

{"nick":"piscisaureus_","message":"I like to work late again for a change","date":"2012-11-21T00:00:31.405Z","type":"message"}
{"nick":"piscisaureus_","message":"reminds me of good old times","date":"2012-11-21T00:00:57.245Z","type":"message"}
{"nick":"perezd","date":"2012-11-21T00:01:05.269Z","type":"join"}
{"nick":"piscisaureus_","message":"it's sad that ryah and igorzi are no longer with us","date":"2012-11-21T00:01:06.244Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: is MI6 dead?","date":"2012-11-21T00:04:26.765Z","type":"message"}
{"nick":"mikeal","date":"2012-11-21T00:07:22.176Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Bert Belder\u000f \u00037master\u000f * \u000226a50cb\u0002 : windows: fix normalization of UNC paths (+1 more commits) - http://git.io/FBcaHw","date":"2012-11-21T00:09:40.692Z","type":"message"}
{"nick":"piscisaureus_","message":"ah there it is","date":"2012-11-21T00:09:46.466Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-11-21T00:13:27.866Z","type":"message"}
{"nick":"piscisaureus_","message":"now sblom's patch shows my name","date":"2012-11-21T00:13:40.638Z","type":"message"}
{"nick":"piscisaureus_","message":"probably because I squashed it with some minor fixup","date":"2012-11-21T00:14:00.371Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: you forgot --author","date":"2012-11-21T00:17:19.903Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: you can have credit for it if you want. :) do you want me to sign another CLA with you instead of Joyent as the licensee? :-p","date":"2012-11-21T00:17:26.030Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: not too late for a force-push","date":"2012-11-21T00:17:28.799Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-11-21T00:19:24.932Z","type":"quit"}
{"nick":"piscisaureus_","message":"haha","date":"2012-11-21T00:20:00.379Z","type":"message"}
{"nick":"piscisaureus_","message":"I suppose I can fp","date":"2012-11-21T00:20:03.504Z","type":"message"}
{"nick":"dap","date":"2012-11-21T00:20:26.234Z","type":"join"}
{"nick":"dap","reason":"Client Quit","date":"2012-11-21T00:20:26.360Z","type":"quit"}
{"nick":"dap","date":"2012-11-21T00:20:53.187Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033piscisaureus\u000f created branch +master - http://git.io/ACd9mw","date":"2012-11-21T00:22:12.405Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Scott Blomquist\u000f \u00037master\u000f * \u0002f657ce6\u0002 : windows: add tracing with performance counters  Patch by Henry Rawas and  (+1 more commits) - http://git.io/iQIs-w","date":"2012-11-21T00:22:43.523Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- sblom: fixed","date":"2012-11-21T00:22:57.806Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-11-21T00:23:41.431Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus created branch +master <- wut?","date":"2012-11-21T00:57:25.368Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah ctrl+left fail","date":"2012-11-21T00:57:38.678Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: fixed it already","date":"2012-11-21T00:57:45.588Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/node/commit/551001f <- review?","date":"2012-11-21T00:59:43.860Z","type":"message"}
{"nick":"piscisaureus_","message":"last thing for the day","date":"2012-11-21T00:59:53.163Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: are you coming to amsterdam at some point this week?","date":"2012-11-21T01:00:02.140Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-11-21T01:00:06.138Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you can come friday but I have to leave early that day","date":"2012-11-21T01:00:27.039Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise it doesn't matter","date":"2012-11-21T01:00:31.257Z","type":"message"}
{"nick":"bnoordhuis","message":"how is friday in that respect different from other days?","date":"2012-11-21T01:00:48.499Z","type":"message"}
{"nick":"TooTallNate","message":"what's ForceDelete()?","date":"2012-11-21T01:00:48.632Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-11-21T01:00:53.577Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-11-21T01:01:12.912Z","type":"join"}
{"nick":"bnoordhuis","message":"TooTallNate: forces property deletion, bypasses accessors an whatnot","date":"2012-11-21T01:01:14.892Z","type":"message"}
{"nick":"bnoordhuis","message":"*and","date":"2012-11-21T01:01:20.649Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: does it go up the prototype chain if the prop isn't present on the object?","date":"2012-11-21T01:01:52.699Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yes. it traverses GetPropertyNames()","date":"2012-11-21T01:02:14.808Z","type":"message"}
{"nick":"bnoordhuis","message":"that includes prototype properties","date":"2012-11-21T01:02:23.304Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: no?","date":"2012-11-21T01:05:28.266Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: nvm. there just seemed to be a hiccup (if this is re: MI6)","date":"2012-11-21T01:05:50.290Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2012-11-21T01:05:58.920Z","type":"message"}
{"nick":"tjfontaine","message":"probably github being awesome","date":"2012-11-21T01:06:06.585Z","type":"message"}
{"nick":"TooTallNate","message":"they seem a lot slower lately","date":"2012-11-21T01:06:20.519Z","type":"message"}
{"nick":"TooTallNate","message":"notification emails taking a long time, etc.","date":"2012-11-21T01:06:51.397Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, signing off for the day","date":"2012-11-21T01:08:38.474Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'll probably drop by thursday unless there's a company meeting again this friday","date":"2012-11-21T01:08:53.108Z","type":"message"}
{"nick":"piscisaureus_","message":"there aint","date":"2012-11-21T01:08:59.825Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, thursday it is then","date":"2012-11-21T01:09:08.073Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight all","date":"2012-11-21T01:09:22.420Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: patch lgtm","date":"2012-11-21T01:09:54.899Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am very curious why this is necessary tho","date":"2012-11-21T01:10:04.407Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: (it passes the tests too)","date":"2012-11-21T01:10:12.646Z","type":"message"}
{"nick":"abraxas","date":"2012-11-21T01:11:35.387Z","type":"join"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2012-11-21T01:11:42.213Z","type":"quit"}
{"nick":"lohkey","date":"2012-11-21T01:12:35.021Z","type":"part"}
{"nick":"lohkey_","date":"2012-11-21T01:12:51.616Z","type":"join"}
{"nick":"lohkey_","reason":"Client Quit","date":"2012-11-21T01:12:51.616Z","type":"quit"}
{"nick":"kristate","date":"2012-11-21T01:19:45.097Z","type":"join"}
{"nick":"mraleph","message":"circular reference? whaaaa? mark sweep is not susceptible to cycles.","date":"2012-11-21T01:23:38.279Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-11-21T01:27:52.170Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: the problem was this test case: https://github.com/bnoordhuis/node/blob/551001fc5e473256c0e73e9e0ac8b605b26e514c/test/pummel/test-vm-memleak-circular.js","date":"2012-11-21T01:28:10.670Z","type":"message"}
{"nick":"piscisaureus_","message":"Ok, heading out too","date":"2012-11-21T01:32:55.903Z","type":"message"}
{"nick":"mraleph","message":"file a bug against V8. if this happens then there is some hidden bs going on. ","date":"2012-11-21T01:33:04.694Z","type":"message"}
{"nick":"piscisaureus_","message":"goodbye friends","date":"2012-11-21T01:35:02.723Z","type":"message"}
{"nick":"mraleph","message":"cya","date":"2012-11-21T01:35:12.271Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: you should go to bed","date":"2012-11-21T01:35:46.388Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: your employer aways you at 9am tomorrow","date":"2012-11-21T01:35:59.363Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-11-21T01:36:11.499Z","type":"quit"}
{"nick":"deoxxa[cookies]","reason":"Ping timeout: 248 seconds","date":"2012-11-21T01:52:52.758Z","type":"quit"}
{"nick":"deoxxa_","date":"2012-11-21T01:53:52.746Z","type":"join"}
{"nick":"sblom","date":"2012-11-21T01:54:14.501Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-21T01:54:45.949Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-11-21T01:59:54.016Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-11-21T02:01:52.261Z","type":"quit"}
{"nick":"kristate","reason":"Ping timeout: 260 seconds","date":"2012-11-21T02:05:10.580Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 256 seconds","date":"2012-11-21T02:08:49.033Z","type":"quit"}
{"nick":"kristate","date":"2012-11-21T02:09:18.137Z","type":"join"}
{"nick":"bradleymeck","date":"2012-11-21T02:25:38.754Z","type":"join"}
{"nick":"kazupon","date":"2012-11-21T02:29:08.542Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-11-21T02:34:00.297Z","type":"quit"}
{"nick":"lohkey","date":"2012-11-21T02:44:33.155Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-11-21T02:52:40.551Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-11-21T02:52:41.398Z","type":"join"}
{"nick":"lohkey","reason":"Quit: lohkey","date":"2012-11-21T02:55:44.033Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2012-11-21T02:55:54.153Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-11-21T02:59:54.871Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T03:01:59.516Z","type":"quit"}
{"nick":"lohkey","date":"2012-11-21T03:07:02.179Z","type":"join"}
{"nick":"lohkey","reason":"Client Quit","date":"2012-11-21T03:09:00.807Z","type":"quit"}
{"nick":"brson","date":"2012-11-21T03:23:10.770Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-11-21T03:53:12.365Z","type":"quit"}
{"nick":"jmar777","date":"2012-11-21T03:55:20.771Z","type":"join"}
{"nick":"xaq","date":"2012-11-21T03:58:14.238Z","type":"join"}
{"nick":"kazupon","date":"2012-11-21T03:58:17.388Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-11-21T04:00:56.797Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-11-21T04:14:16.201Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2012-11-21T04:17:10.100Z","type":"quit"}
{"nick":"perezd","date":"2012-11-21T04:17:18.250Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-21T04:20:41.196Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-21T04:34:43.836Z","type":"quit"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-11-21T05:00:51.436Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-11-21T05:11:47.568Z","type":"quit"}
{"nick":"jmar777","date":"2012-11-21T05:12:21.294Z","type":"join"}
{"nick":"warz","date":"2012-11-21T05:16:41.087Z","type":"quit"}
{"nick":"jmar777","reason":"Ping timeout: 264 seconds","date":"2012-11-21T05:16:54.162Z","type":"quit"}
{"nick":"c4milo","date":"2012-11-21T05:18:27.801Z","type":"join"}
{"nick":"mikeal","date":"2012-11-21T05:26:43.639Z","type":"join"}
{"nick":"jmar777","date":"2012-11-21T05:26:52.779Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-21T05:43:00.524Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-11-21T05:47:40.700Z","type":"quit"}
{"nick":"jmar777","date":"2012-11-21T05:48:13.779Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-11-21T05:50:47.752Z","type":"quit"}
{"nick":"jmar777","reason":"Ping timeout: 240 seconds","date":"2012-11-21T05:52:14.616Z","type":"quit"}
{"nick":"mikeal","date":"2012-11-21T05:53:08.406Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-11-21T06:04:17.229Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-11-21T06:04:35.547Z","type":"quit"}
{"nick":"benoitc","date":"2012-11-21T06:06:40.149Z","type":"join"}
{"nick":"joshthecoder","date":"2012-11-21T06:49:10.509Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2012-11-21T06:56:58.827Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-11-21T06:57:11.427Z","type":"quit"}
{"nick":"brson","date":"2012-11-21T07:02:46.156Z","type":"join"}
{"nick":"brson_","date":"2012-11-21T07:04:17.486Z","type":"join"}
{"nick":"brson","reason":"Read error: Connection reset by peer","date":"2012-11-21T07:04:17.773Z","type":"quit"}
{"nick":"brson_","reason":"Client Quit","date":"2012-11-21T07:07:32.789Z","type":"quit"}
{"nick":"loladiro","date":"2012-11-21T07:12:13.190Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-11-21T07:20:02.756Z","type":"quit"}
{"nick":"rendar","date":"2012-11-21T07:20:10.774Z","type":"join"}
{"nick":"`3rdEden","date":"2012-11-21T07:32:33.768Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-11-21T07:37:31.338Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-11-21T08:41:19.184Z","type":"quit"}
{"nick":"kazupon","date":"2012-11-21T08:43:47.047Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-11-21T08:47:11.693Z","type":"quit"}
{"nick":"kazupon","date":"2012-11-21T08:48:18.765Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-11-21T08:52:30.323Z","type":"quit"}
{"nick":"c4milo","date":"2012-11-21T09:03:18.787Z","type":"join"}
{"nick":"c4milo","reason":"Read error: Operation timed out","date":"2012-11-21T09:04:37.778Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-11-21T09:06:28.064Z","type":"quit"}
{"nick":"benoitc","date":"2012-11-21T09:06:42.201Z","type":"join"}
{"nick":"janjongboom","date":"2012-11-21T09:19:25.875Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3rdEDEN|BRB","date":"2012-11-21T09:28:58.251Z","type":"nick"}
{"nick":"janjongboom","reason":"Remote host closed the connection","date":"2012-11-21T09:42:23.927Z","type":"quit"}
{"nick":"janjongboom","date":"2012-11-21T09:42:40.768Z","type":"join"}
{"nick":"`3rdEDEN|BRB","new_nick":"`3rdEden","date":"2012-11-21T09:54:28.390Z","type":"nick"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-11-21T09:56:27.522Z","type":"quit"}
{"nick":"kristate","reason":"Remote host closed the connection","date":"2012-11-21T10:01:36.293Z","type":"quit"}
{"nick":"benoitc","date":"2012-11-21T10:02:42.721Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-11-21T10:41:21.525Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-11-21T10:50:34.636Z","type":"quit"}
{"nick":"mikeal","date":"2012-11-21T11:14:23.285Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 240 seconds","date":"2012-11-21T11:55:39.941Z","type":"quit"}
{"nick":"sgallagh","date":"2012-11-21T12:13:21.617Z","type":"join"}
{"nick":"`3rdEden","date":"2012-11-21T12:18:19.825Z","type":"join"}
{"nick":"Benvie","reason":"Read error: Connection reset by peer","date":"2012-11-21T12:28:41.840Z","type":"quit"}
{"nick":"Benvie","date":"2012-11-21T12:28:59.518Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-11-21T12:45:00.243Z","type":"join"}
{"nick":"abraxas","date":"2012-11-21T12:51:09.879Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 265 seconds","date":"2012-11-21T12:56:11.638Z","type":"quit"}
{"nick":"hz","date":"2012-11-21T13:02:58.968Z","type":"join"}
{"nick":"roxlu","date":"2012-11-21T13:07:16.329Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Shigeki Ohtsu\u000f \u00037master\u000f * \u000211a5119\u0002 : build: disable use of thin archive  Thin archive needs binutils >= 2.19,  - http://git.io/5-JcwA","date":"2012-11-21T13:11:50.994Z","type":"message"}
{"nick":"c4milo","date":"2012-11-21T13:27:11.781Z","type":"join"}
{"nick":"chilts_","date":"2012-11-21T13:29:32.610Z","type":"join"}
{"nick":"Gottox_","date":"2012-11-21T13:30:11.729Z","type":"join"}
{"nick":"rje`mac_","date":"2012-11-21T13:32:28.099Z","type":"join"}
{"nick":"rphillips_","date":"2012-11-21T13:33:15.516Z","type":"join"}
{"nick":"philips_","reason":"*.net *.split","date":"2012-11-21T13:34:30.227Z","type":"quit"}
{"nick":"dscape","reason":"*.net *.split","date":"2012-11-21T13:34:30.359Z","type":"quit"}
{"nick":"rje`mac","reason":"*.net *.split","date":"2012-11-21T13:34:30.488Z","type":"quit"}
{"nick":"rphillips","reason":"*.net *.split","date":"2012-11-21T13:34:30.489Z","type":"quit"}
{"nick":"Gottox","reason":"*.net *.split","date":"2012-11-21T13:34:30.621Z","type":"quit"}
{"nick":"chilts","reason":"*.net *.split","date":"2012-11-21T13:34:30.622Z","type":"quit"}
{"nick":"c4milo","reason":"Write error: Broken pipe","date":"2012-11-21T13:34:32.838Z","type":"quit"}
{"nick":"philips-","date":"2012-11-21T13:36:20.102Z","type":"join"}
{"nick":"loladiro","date":"2012-11-21T13:41:10.740Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-11-21T13:41:59.984Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-11-21T13:44:36.057Z","type":"quit"}
{"nick":"benoitc","reason":"Read error: Connection reset by peer","date":"2012-11-21T13:45:12.355Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-11-21T13:46:56.792Z","type":"join"}
{"nick":"benoitc","date":"2012-11-21T13:49:19.631Z","type":"join"}
{"nick":"bradleymeck","date":"2012-11-21T13:49:57.280Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2012-11-21T13:51:04.946Z","type":"quit"}
{"nick":"dscape","date":"2012-11-21T13:53:26.398Z","type":"join"}
{"nick":"jmar777","date":"2012-11-21T13:56:14.177Z","type":"join"}
{"nick":"loladiro","date":"2012-11-21T14:02:25.480Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-21T14:04:27.182Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-11-21T14:17:45.279Z","type":"quit"}
{"nick":"loladiro","date":"2012-11-21T14:29:36.099Z","type":"join"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2012-11-21T14:30:25.924Z","type":"quit"}
{"nick":"c4milo","date":"2012-11-21T14:41:33.645Z","type":"join"}
{"nick":"bradleymeck","date":"2012-11-21T14:45:14.604Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-11-21T14:48:48.581Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-11-21T14:48:57.630Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: yo bertje, https://gist.github.com/4125212","date":"2012-11-21T14:52:01.954Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, me coming to the office tomorrow is contingent on trains going to 020","date":"2012-11-21T14:59:04.817Z","type":"message"}
{"nick":"kristate","date":"2012-11-21T15:00:52.631Z","type":"join"}
{"nick":"loladiro","date":"2012-11-21T15:03:33.496Z","type":"join"}
{"nick":"sergim","date":"2012-11-21T15:03:38.976Z","type":"join"}
{"nick":"bnoordhuis","message":"sergim: want to do a talk at kings of code?","date":"2012-11-21T15:04:56.419Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-11-21T15:05:12.816Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/node/pull/4301 <-- uhhhh ???","date":"2012-11-21T15:16:36.847Z","type":"message"}
{"nick":"bnoordhuis","message":"i know right?","date":"2012-11-21T15:17:03.861Z","type":"message"}
{"nick":"piscisaureus_","message":"it's like, WTF this patch has nothing to do with the problem that isnt even a problem","date":"2012-11-21T15:17:27.286Z","type":"message"}
{"nick":"bnoordhuis","message":"it might be a language barrier thing. let's see what he says","date":"2012-11-21T15:18:09.373Z","type":"message"}
{"nick":"piscisaureus_","message":"memory barrier","date":"2012-11-21T15:18:22.692Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: v8 test dcase ; nice","date":"2012-11-21T15:19:30.160Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: afaict there are trains tomorrow","date":"2012-11-21T15:20:15.912Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: took me a while to replicate :/ do you see any obviously stupid things in there?","date":"2012-11-21T15:20:17.623Z","type":"message"}
{"nick":"bnoordhuis","message":"there's apparently a storm coming tonight","date":"2012-11-21T15:20:51.162Z","type":"message"}
{"nick":"bnoordhuis","message":"and you know how the ns is when there's leaves on the rails","date":"2012-11-21T15:21:01.373Z","type":"message"}
{"nick":"piscisaureus_","message":"ah right","date":"2012-11-21T15:21:54.123Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: is there no reference from from context_ object to wrapper_?","date":"2012-11-21T15:27:53.130Z","type":"message"}
{"nick":"piscisaureus_","message":"have to run for a while, bb in 20 minutes","date":"2012-11-21T15:28:30.725Z","type":"message"}
{"nick":"janjongboom","reason":"Quit: janjongboom","date":"2012-11-21T15:29:01.606Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: no. the WrappedContexts get collected as well","date":"2012-11-21T15:29:53.874Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, the number of created and deleted WrappedContexts matches exactly","date":"2012-11-21T15:30:13.018Z","type":"message"}
{"nick":"sj26","reason":"Ping timeout: 245 seconds","date":"2012-11-21T15:31:48.351Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 245 seconds","date":"2012-11-21T15:32:56.808Z","type":"quit"}
{"nick":"sj26","date":"2012-11-21T15:36:12.371Z","type":"join"}
{"nick":"joshthecoder","date":"2012-11-21T15:37:11.950Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-11-21T15:46:10.941Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-11-21T15:49:14.226Z","type":"join"}
{"nick":"piscisaureus_","message":"back","date":"2012-11-21T15:49:56.116Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then what *does* leak?","date":"2012-11-21T15:51:10.152Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what are the objects that retain in memory?","date":"2012-11-21T15:51:19.004Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2012-11-21T15:54:57.736Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-11-21T15:55:12.908Z","type":"join"}
{"nick":"TheJH","date":"2012-11-21T15:57:21.962Z","type":"join"}
{"nick":"janjongboom","date":"2012-11-21T16:03:05.329Z","type":"join"}
{"nick":"txdv","message":"it's funny, even the codestyle in these 3 linesi s bad","date":"2012-11-21T16:04:58.491Z","type":"message"}
{"nick":"`3rdEden","new_nick":"`3E|FOODING","date":"2012-11-21T16:06:09.257Z","type":"nick"}
{"nick":"kristate","reason":"Ping timeout: 240 seconds","date":"2012-11-21T16:07:54.651Z","type":"quit"}
{"nick":"warz","date":"2012-11-21T16:16:16.523Z","type":"join"}
{"nick":"`3E|FOODING","reason":"Remote host closed the connection","date":"2012-11-21T16:17:23.277Z","type":"quit"}
{"nick":"stephank","reason":"Ping timeout: 256 seconds","date":"2012-11-21T16:22:47.151Z","type":"quit"}
{"nick":"janjongboom","reason":"Quit: janjongboom","date":"2012-11-21T16:22:54.831Z","type":"quit"}
{"nick":"stephank","date":"2012-11-21T16:23:45.669Z","type":"join"}
{"nick":"janjongboom","date":"2012-11-21T16:26:26.258Z","type":"join"}
{"nick":"janjongboom","reason":"Read error: Connection reset by peer","date":"2012-11-21T16:26:48.384Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: weird. A heap dump shows only 2 objects","date":"2012-11-21T16:27:59.299Z","type":"message"}
{"nick":"piscisaureus_","message":"but in the raw file there are many objects","date":"2012-11-21T16:28:13.601Z","type":"message"}
{"nick":"janjongboom","date":"2012-11-21T16:29:42.826Z","type":"join"}
{"nick":"loladiro","date":"2012-11-21T16:32:29.392Z","type":"join"}
{"nick":"janjongboom","reason":"Client Quit","date":"2012-11-21T16:33:40.016Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-21T16:39:05.323Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-11-21T16:53:08.269Z","type":"join"}
{"nick":"rphillips_","new_nick":"rphillips","date":"2012-11-21T16:53:56.931Z","type":"nick"}
{"nick":"AvianFlu","date":"2012-11-21T17:00:58.211Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 245 seconds","date":"2012-11-21T17:09:36.908Z","type":"quit"}
{"nick":"dap","date":"2012-11-21T17:22:12.019Z","type":"join"}
{"nick":"piscisaureus_","message":"mraleph: hey","date":"2012-11-21T17:25:45.450Z","type":"message"}
{"nick":"CoverSlide|TPFR","new_nick":"CoverSlide","date":"2012-11-21T17:36:41.669Z","type":"nick"}
{"nick":"stagas","date":"2012-11-21T17:42:07.504Z","type":"join"}
{"nick":"sgallagh","new_nick":"sgallagh_afk","date":"2012-11-21T17:57:11.324Z","type":"nick"}
{"nick":"mmalecki","new_nick":"mmalecki[off]","date":"2012-11-21T18:01:49.415Z","type":"nick"}
{"nick":"bnoordhuis","message":"make[1]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule. <- i fscking hate it when projects do that","date":"2012-11-21T18:05:04.473Z","type":"message"}
{"nick":"bnoordhuis","message":"fix your build deps, don't make me compile at -j1","date":"2012-11-21T18:05:31.505Z","type":"message"}
{"nick":"bnoordhuis","message":"and to add more insult, the build then fails at link time :/","date":"2012-11-21T18:06:02.041Z","type":"message"}
{"nick":"sergim","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T18:06:27.093Z","type":"quit"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-11-21T18:07:27.138Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-11-21T18:12:08.634Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-21T18:16:11.346Z","type":"quit"}
{"nick":"TooTallNate","action":"misses isaacs","date":"2012-11-21T18:21:52.002Z","type":"action"}
{"nick":"piscisaureus_","message":"good","date":"2012-11-21T18:26:05.838Z","type":"message"}
{"nick":"piscisaureus_","message":"it would be too bad if isaacs was shot","date":"2012-11-21T18:26:12.186Z","type":"message"}
{"nick":"CoverSlide","message":"i missed isaacs too, swerved just in time","date":"2012-11-21T18:26:33.362Z","type":"message"}
{"nick":"TooTallNate","message":"lulz, you word twisters :p","date":"2012-11-21T18:29:17.659Z","type":"message"}
{"nick":"stagas_","date":"2012-11-21T18:40:07.748Z","type":"join"}
{"nick":"sergim","date":"2012-11-21T18:51:17.612Z","type":"join"}
{"nick":"chilts_","new_nick":"chilts","date":"2012-11-21T18:51:28.654Z","type":"nick"}
{"nick":"Ralt_","date":"2012-11-21T18:56:19.691Z","type":"join"}
{"nick":"sergim","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T19:13:39.008Z","type":"quit"}
{"nick":"lohkey","date":"2012-11-21T19:15:17.864Z","type":"join"}
{"nick":"TheJH","date":"2012-11-21T19:18:04.163Z","type":"join"}
{"nick":"sergim","date":"2012-11-21T19:19:04.652Z","type":"join"}
{"nick":"brson","date":"2012-11-21T19:20:56.520Z","type":"join"}
{"nick":"Ralt_","reason":"Ping timeout: 252 seconds","date":"2012-11-21T19:25:36.694Z","type":"quit"}
{"nick":"Ralt_","date":"2012-11-21T19:26:59.852Z","type":"join"}
{"nick":"creationix","message":"I'm not sure this new readable stream interface where we pull data is a good idea","date":"2012-11-21T19:28:36.177Z","type":"message"}
{"nick":"sergim","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T19:29:12.500Z","type":"quit"}
{"nick":"TooTallNate","message":"creationix: what specifically?","date":"2012-11-21T19:29:28.095Z","type":"message"}
{"nick":"creationix","message":"after having used it a lot, it's really cumbersome","date":"2012-11-21T19:29:31.238Z","type":"message"}
{"nick":"creationix","message":"I find myself creating massive stream utility classes just to create simple streams","date":"2012-11-21T19:29:57.218Z","type":"message"}
{"nick":"creationix","message":"(not node specifically, I'm experimenting in lua too)","date":"2012-11-21T19:30:05.658Z","type":"message"}
{"nick":"creationix","message":"the main problem with pull is you need a recursive loop to consume a stream","date":"2012-11-21T19:30:35.123Z","type":"message"}
{"nick":"creationix","message":"with push style, your listener just gets called multiple times, that's a lot simpler to implement","date":"2012-11-21T19:30:53.307Z","type":"message"}
{"nick":"c4milo","date":"2012-11-21T19:31:00.458Z","type":"join"}
{"nick":"creationix","message":"and a recursive loop isn't enough when the data emits sync, it builds up the stack if you don't implement some sort of trampoline","date":"2012-11-21T19:31:29.352Z","type":"message"}
{"nick":"creationix","message":"though I guess node's while loop pattern solves that part","date":"2012-11-21T19:31:42.114Z","type":"message"}
{"nick":"TooTallNate","message":"i've been really liking having a single _read/_write function to implement and having the base class take care of the rest","date":"2012-11-21T19:31:53.270Z","type":"message"}
{"nick":"TooTallNate","message":"i've found the Transform interface not so great","date":"2012-11-21T19:32:55.232Z","type":"message"}
{"nick":"Ralt_","reason":"Ping timeout: 246 seconds","date":"2012-11-21T19:32:58.782Z","type":"quit"}
{"nick":"TooTallNate","message":"especially when writing a parser","date":"2012-11-21T19:33:01.805Z","type":"message"}
{"nick":"creationix","message":"yeah, I'm working with parsers with both file based and tcp based inputs","date":"2012-11-21T19:33:21.037Z","type":"message"}
{"nick":"c4milo","reason":"Read error: No route to host","date":"2012-11-21T19:33:28.746Z","type":"quit"}
{"nick":"c4milo_","date":"2012-11-21T19:33:30.257Z","type":"join"}
{"nick":"TooTallNate","message":"specifically because you don't benefit from read() and being able to specify the # of bytes per callback","date":"2012-11-21T19:33:34.878Z","type":"message"}
{"nick":"creationix","message":"and the parsers change protocols making me need to put some data back in the stream sometimes","date":"2012-11-21T19:33:35.662Z","type":"message"}
{"nick":"creationix","message":"well, my protocol I don't know how many bytes to pull, so that doesn't help","date":"2012-11-21T19:33:51.928Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: i've been thinking a peek() function would be beneficial","date":"2012-11-21T19:34:11.939Z","type":"message"}
{"nick":"TooTallNate","message":"so you can get bytes but they aren't consumed from the stream","date":"2012-11-21T19:34:28.069Z","type":"message"}
{"nick":"creationix","message":"read, but don't dequeue, and then later pop it off","date":"2012-11-21T19:34:39.726Z","type":"message"}
{"nick":"creationix","message":"that could be useful","date":"2012-11-21T19:34:43.414Z","type":"message"}
{"nick":"TooTallNate","message":"right","date":"2012-11-21T19:34:45.456Z","type":"message"}
{"nick":"TooTallNate","message":"C-style, haha","date":"2012-11-21T19:34:48.873Z","type":"message"}
{"nick":"creationix","message":"or only pop of part of it","date":"2012-11-21T19:34:54.034Z","type":"message"}
{"nick":"TooTallNate","message":"this problem has been solved for years","date":"2012-11-21T19:34:54.228Z","type":"message"}
{"nick":"creationix","message":"right, this is just a data queue","date":"2012-11-21T19:35:06.459Z","type":"message"}
{"nick":"creationix","message":"nothing more","date":"2012-11-21T19:35:07.853Z","type":"message"}
{"nick":"creationix","message":"not a new thing","date":"2012-11-21T19:35:11.250Z","type":"message"}
{"nick":"Ralt_","date":"2012-11-21T19:35:41.800Z","type":"join"}
{"nick":"creationix","message":"ok, so the big gain with pull-style read streams is the implicit pause and resume right?","date":"2012-11-21T19:36:35.639Z","type":"message"}
{"nick":"creationix","message":"and no lost events","date":"2012-11-21T19:36:40.692Z","type":"message"}
{"nick":"TooTallNate","message":"right, lost data was the main problem","date":"2012-11-21T19:36:52.283Z","type":"message"}
{"nick":"creationix","message":"but that could have been easily solved without changing the interface","date":"2012-11-21T19:37:07.109Z","type":"message"}
{"nick":"creationix","message":"just make pause buffer the couple stray packets","date":"2012-11-21T19:37:15.522Z","type":"message"}
{"nick":"c4milo_","reason":"Remote host closed the connection","date":"2012-11-21T19:38:18.474Z","type":"quit"}
{"nick":"creationix","message":"ok, so remember how write's return value tells the writer if it should pause and the drain event told the writer when to resume","date":"2012-11-21T19:38:27.467Z","type":"message"}
{"nick":"TooTallNate","message":"ya that's still the case with the new api","date":"2012-11-21T19:38:54.919Z","type":"message"}
{"nick":"sergim","date":"2012-11-21T19:39:04.604Z","type":"join"}
{"nick":"TooTallNate","message":"(the Writable interface hasn't changed)","date":"2012-11-21T19:39:07.891Z","type":"message"}
{"nick":"creationix","message":"that could be mirrored in the ondata handler, the callback's return value would tell it to stop emitting, and some other api would tell it to resume emitting","date":"2012-11-21T19:39:12.321Z","type":"message"}
{"nick":"creationix","message":"write() method, resume() method, \"data\" event, \"resume\" event","date":"2012-11-21T19:39:44.083Z","type":"message"}
{"nick":"creationix","message":"and write's return value eventually gets \"data\"'s callback return value","date":"2012-11-21T19:40:08.973Z","type":"message"}
{"nick":"creationix","message":"and the stream itself could have internal high-water and low-water marks","date":"2012-11-21T19:40:31.888Z","type":"message"}
{"nick":"c4milo","date":"2012-11-21T19:42:03.222Z","type":"join"}
{"nick":"TooTallNate","message":"ya i mean there's really lots of ways to represent the API… what if \"data\" events had a callback, and until it was called that's the implicit \"pausing\"","date":"2012-11-21T19:42:42.720Z","type":"message"}
{"nick":"TooTallNate","message":"that's what i'm doing for node-ogg actually, since it's not a regular node \"stream\" in the sense that it doesn't output raw data but framed \"packets\" instead","date":"2012-11-21T19:43:10.701Z","type":"message"}
{"nick":"creationix","message":"hmm, that's interesting too","date":"2012-11-21T19:43:18.817Z","type":"message"}
{"nick":"TooTallNate","message":"https://github.com/TooTallNate/node-ogg/blob/master/t.js#L16-L19","date":"2012-11-21T19:43:32.281Z","type":"message"}
{"nick":"creationix","message":"so instead of a resume method, there is just a resume function passed to the ondata handler?","date":"2012-11-21T19:44:06.541Z","type":"message"}
{"nick":"TooTallNate","message":"yup","date":"2012-11-21T19:44:24.544Z","type":"message"}
{"nick":"creationix","message":"and it won't emit till you call the resume function","date":"2012-11-21T19:44:28.488Z","type":"message"}
{"nick":"TooTallNate","message":"right, only one *active* packet event at a time","date":"2012-11-21T19:44:43.004Z","type":"message"}
{"nick":"creationix","message":"I wonder if that's too slow","date":"2012-11-21T19:45:10.779Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: i wrote this little async-emit helper thingy to do it, haha https://github.com/TooTallNate/node-ogg/blob/master/lib/asyncEmit.js","date":"2012-11-21T19:45:20.259Z","type":"message"}
{"nick":"creationix","message":"I guess if you call the resume function all the time, it will emit full speed","date":"2012-11-21T19:45:21.501Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: or you can omit the callback, which means it's sync","date":"2012-11-21T19:45:38.843Z","type":"message"}
{"nick":"creationix","message":"oh, arity checking right","date":"2012-11-21T19:46:04.221Z","type":"message"}
{"nick":"creationix","message":"I don't think I have that in lua","date":"2012-11-21T19:46:07.899Z","type":"message"}
{"nick":"creationix","message":"I'm trying to find the simplest possible interface for streams for a lua project","date":"2012-11-21T19:47:44.014Z","type":"message"}
{"nick":"creationix","message":"I'd like to avoid a helper library if possible and just have a simple interface","date":"2012-11-21T19:47:55.851Z","type":"message"}
{"nick":"creationix","message":"though a single generic stream helper would be ok (for the internal low-water, high-water stuff)","date":"2012-11-21T19:48:20.592Z","type":"message"}
{"nick":"bradleymeck","date":"2012-11-21T19:50:11.499Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-21T19:53:31.601Z","type":"quit"}
{"nick":"sergim","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T19:54:51.158Z","type":"quit"}
{"nick":"creationix","message":"My thoughts written out... https://gist.github.com/4127047","date":"2012-11-21T20:00:18.698Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: be sure to cc isaacs on that… he's kinda the ring-leader with this streams2 stuff","date":"2012-11-21T20:01:53.790Z","type":"message"}
{"nick":"lohkey","reason":"Quit: lohkey","date":"2012-11-21T20:02:00.288Z","type":"quit"}
{"nick":"TooTallNate","message":"creationix: nice doc though :)","date":"2012-11-21T20:04:24.390Z","type":"message"}
{"nick":"creationix","message":"I'm trying to keep it abstract","date":"2012-11-21T20:05:20.479Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-11-21T20:06:23.201Z","type":"join"}
{"nick":"perezd","date":"2012-11-21T20:07:01.750Z","type":"join"}
{"nick":"lohkey","date":"2012-11-21T20:08:12.609Z","type":"join"}
{"nick":"TooTallNate","reason":"Read error: Connection reset by peer","date":"2012-11-21T20:09:28.163Z","type":"quit"}
{"nick":"Ralt__","date":"2012-11-21T20:09:51.204Z","type":"join"}
{"nick":"Ralt_","reason":"Ping timeout: 246 seconds","date":"2012-11-21T20:10:46.784Z","type":"quit"}
{"nick":"tomshreds","date":"2012-11-21T20:14:24.148Z","type":"join"}
{"nick":"Ralt__","reason":"Ping timeout: 256 seconds","date":"2012-11-21T20:17:57.901Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey","date":"2012-11-21T20:22:42.464Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ho","date":"2012-11-21T20:22:57.234Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: about that v8 test case","date":"2012-11-21T20:23:03.239Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it doesn't matter if I disable all that copying etc","date":"2012-11-21T20:23:12.860Z","type":"message"}
{"nick":"piscisaureus_","message":"and setting of a ContextScope","date":"2012-11-21T20:23:19.317Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it just seems that the WeakCallback is never called","date":"2012-11-21T20:23:28.803Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I wonder if a Context just always is a gc root","date":"2012-11-21T20:23:49.746Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: are you testing it with v8's bleeding_edge?","date":"2012-11-21T20:24:08.968Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, not right now but I did before :-)","date":"2012-11-21T20:24:19.163Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I suppose I can switch back","date":"2012-11-21T20:24:26.527Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: (had to go back because the snapshot format changed again, sigh)","date":"2012-11-21T20:24:42.618Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: because i see the WeakCallback and the destructor getting calld","date":"2012-11-21T20:26:06.736Z","type":"message"}
{"nick":"bnoordhuis","message":"*called","date":"2012-11-21T20:26:08.876Z","type":"message"}
{"nick":"bnoordhuis","message":"the number of news and deletes matches up","date":"2012-11-21T20:26:18.522Z","type":"message"}
{"nick":"warz","date":"2012-11-21T20:26:38.665Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: latest trunk, still not seeing the WrappedContext destructor called...","date":"2012-11-21T20:27:22.384Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: os/arch?","date":"2012-11-21T20:28:21.188Z","type":"message"}
{"nick":"piscisaureus_","message":"linux x64","date":"2012-11-21T20:28:26.910Z","type":"message"}
{"nick":"piscisaureus_","message":"commit f4f9499877ee748c6caf1d4fd7d845bf4f825e00","date":"2012-11-21T20:28:47.134Z","type":"message"}
{"nick":"piscisaureus_","message":"(from google's git mirror)","date":"2012-11-21T20:28:58.279Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, i'm using the svn mirror on github","date":"2012-11-21T20:29:57.249Z","type":"message"}
{"nick":"bnoordhuis","message":"different sha hashes :)","date":"2012-11-21T20:30:04.982Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah super annoying","date":"2012-11-21T20:30:11.345Z","type":"message"}
{"nick":"sergim","date":"2012-11-21T20:30:16.608Z","type":"join"}
{"nick":"piscisaureus_","message":"they should make it deterministic","date":"2012-11-21T20:30:20.440Z","type":"message"}
{"nick":"piscisaureus_","message":"I suppose git-svn takes patches","date":"2012-11-21T20:30:27.920Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm at the current HEAD though","date":"2012-11-21T20:30:34.655Z","type":"message"}
{"nick":"piscisaureus_","message":"which revision?","date":"2012-11-21T20:30:48.968Z","type":"message"}
{"nick":"bnoordhuis","message":"it's interesting that even an empty Context.prototype.copy method triggers the OOM error","date":"2012-11-21T20:30:55.523Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I wonder if it would help if I'd the context explicitly","date":"2012-11-21T20:31:54.436Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i think you accidentally the context","date":"2012-11-21T20:32:09.186Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think that's an ellipsis","date":"2012-11-21T20:32:22.778Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-11-21T20:33:17.826Z","type":"message"}
{"nick":"sergim","reason":"Quit: Computer has gone to sleep.","date":"2012-11-21T20:38:53.930Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: ah, found a bug in the test cas","date":"2012-11-21T20:41:00.199Z","type":"message"}
{"nick":"bnoordhuis","message":"*test case","date":"2012-11-21T20:41:04.559Z","type":"message"}
{"nick":"bnoordhuis","message":"contex_ = Persistent<Context>::New(Context::New())","date":"2012-11-21T20:41:13.316Z","type":"message"}
{"nick":"bnoordhuis","message":"Context::New() already returns a Persistent<Context>","date":"2012-11-21T20:41:32.508Z","type":"message"}
{"nick":"piscisaureus_","message":"ah yes that makes the leaking stop","date":"2012-11-21T20:43:07.725Z","type":"message"}
{"nick":"indutny","message":"so you guys are messing with contexts","date":"2012-11-21T20:43:22.695Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-11-21T20:43:33.174Z","type":"message"}
{"nick":"indutny","message":"if this fixes a problem that it looks like context is exists off-heap","date":"2012-11-21T20:43:50.571Z","type":"message"}
{"nick":"indutny","message":"and a handle should always be held for it","date":"2012-11-21T20:44:02.156Z","type":"message"}
{"nick":"indutny","message":"either implicitly or explicitly","date":"2012-11-21T20:44:06.731Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-21T20:44:56.934Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: the issue is that contexts seem to leak memory in node but i have a hard time reproducing it in a standalone test","date":"2012-11-21T20:45:39.494Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-11-21T20:45:48.295Z","type":"message"}
{"nick":"indutny","message":"it could be this","date":"2012-11-21T20:45:52.718Z","type":"message"}
{"nick":"indutny","message":"let me see how it looks from inside","date":"2012-11-21T20:45:57.681Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: https://gist.github.com/15bee6a68eaca4f70b10 <- js test case","date":"2012-11-21T20:47:01.183Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-11-21T20:47:13.091Z","type":"message"}
{"nick":"indutny","message":"so context itself is leaking","date":"2012-11-21T20:47:17.437Z","type":"message"}
{"nick":"bnoordhuis","message":"if you run it with --max_old_space_size=200, it dies withing seconds","date":"2012-11-21T20:47:19.864Z","type":"message"}
{"nick":"indutny","message":"what if you'll call gc()?","date":"2012-11-21T20:47:22.013Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't help","date":"2012-11-21T20:47:26.897Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-11-21T20:47:30.143Z","type":"message"}
{"nick":"indutny","message":"it's very interesting!","date":"2012-11-21T20:47:35.737Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: what does help is this -> https://github.com/bnoordhuis/node/commit/551001f","date":"2012-11-21T20:48:04.286Z","type":"message"}
{"nick":"bnoordhuis","message":"leak or no leak, v8 wins no prizes for speed","date":"2012-11-21T20:48:56.300Z","type":"message"}
{"nick":"bnoordhuis","message":"create 100k contexts and all it's doing is gc'ing","date":"2012-11-21T20:49:15.441Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-11-21T20:50:17.859Z","type":"message"}
{"nick":"indutny","message":"cyclic references?","date":"2012-11-21T20:50:49.648Z","type":"message"}
{"nick":"indutny","message":"are you kidding","date":"2012-11-21T20:50:51.406Z","type":"message"}
{"nick":"indutny","message":"is this what helps?","date":"2012-11-21T20:51:16.826Z","type":"message"}
{"nick":"indutny","message":"or does placing values in Local<> handles?","date":"2012-11-21T20:51:30.763Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yeah. cleaning out the context fixes it","date":"2012-11-21T20:52:02.494Z","type":"message"}
{"nick":"indutny","message":"wut?!","date":"2012-11-21T20:52:25.737Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2012-11-21T20:52:33.143Z","type":"message"}
{"nick":"indutny","message":"I suppose it triggers some odd edge-case","date":"2012-11-21T20:52:41.118Z","type":"message"}
{"nick":"bnoordhuis","message":"but try reproducing it outside of node :)","date":"2012-11-21T20:53:30.532Z","type":"message"}
{"nick":"indutny","message":"what about debug builds?","date":"2012-11-21T20:54:35.552Z","type":"message"}
{"nick":"indutny","message":"does it throw or anything?","date":"2012-11-21T20:54:41.125Z","type":"message"}
{"nick":"indutny","message":"for now it seems to be very obscure to me","date":"2012-11-21T20:56:06.525Z","type":"message"}
{"nick":"bnoordhuis","message":"it's interesting that the nosnapshot build is so much slower...","date":"2012-11-21T20:57:17.760Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: there're tons of --verify flags","date":"2012-11-21T20:57:18.164Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i know","date":"2012-11-21T20:57:27.201Z","type":"message"}
{"nick":"bnoordhuis","message":"lots of --trace flags as well :)","date":"2012-11-21T20:57:32.675Z","type":"message"}
{"nick":"indutny","message":"--verify-native-context-separation","date":"2012-11-21T20:57:39.525Z","type":"message"}
{"nick":"indutny","message":"and other stuff with contexts","date":"2012-11-21T20:57:43.447Z","type":"message"}
{"nick":"tomshreds","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-11-21T21:00:34.207Z","type":"quit"}
{"nick":"indutny","message":"btw","date":"2012-11-21T21:00:51.793Z","type":"message"}
{"nick":"indutny","message":"it may work without snapshots","date":"2012-11-21T21:00:56.238Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-11-21T21:05:01.986Z","type":"quit"}
{"nick":"bnoordhuis","message":"i guess it must be a node bug","date":"2012-11-21T21:05:21.094Z","type":"message"}
{"nick":"bnoordhuis","message":"without that commit i linked to, the WrappedContext destructor never gets called","date":"2012-11-21T21:05:45.979Z","type":"message"}
{"nick":"indutny","message":"is it wrapped with ObjectWrap?","date":"2012-11-21T21:07:06.595Z","type":"message"}
{"nick":"indutny","message":"yeah, it is","date":"2012-11-21T21:07:21.510Z","type":"message"}
{"nick":"indutny","message":"well, probably you're right","date":"2012-11-21T21:07:30.992Z","type":"message"}
{"nick":"sergim","date":"2012-11-21T21:08:14.638Z","type":"join"}
{"nick":"bnoordhuis","message":"also interesting is that vm.Script.runInContext('obj = null', ctx) avoids the OOM","date":"2012-11-21T21:08:55.354Z","type":"message"}
{"nick":"sergim","reason":"Client Quit","date":"2012-11-21T21:09:11.693Z","type":"quit"}
{"nick":"bnoordhuis","message":"and allows the WrappedContext destructor to run","date":"2012-11-21T21:09:20.901Z","type":"message"}
{"nick":"bnoordhuis","message":"same for 'obj.ctx = null'","date":"2012-11-21T21:10:14.009Z","type":"message"}
{"nick":"bnoordhuis","message":"it must be a cycle but what exactly happens is anyone's guess...","date":"2012-11-21T21:10:31.963Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-11-21T21:12:08.385Z","type":"message"}
{"nick":"indutny","message":"it's interesting","date":"2012-11-21T21:12:11.161Z","type":"message"}
{"nick":"indutny","message":"actually","date":"2012-11-21T21:12:21.395Z","type":"message"}
{"nick":"indutny","message":"I suppose it's quite simple","date":"2012-11-21T21:12:28.306Z","type":"message"}
{"nick":"indutny","message":"i.e. everything in context is always marked as live","date":"2012-11-21T21:12:45.361Z","type":"message"}
{"nick":"indutny","message":"so nothing should be destroyed if context is live","date":"2012-11-21T21:12:55.398Z","type":"message"}
{"nick":"indutny","message":"and context itself is checked from native_contexts_list()","date":"2012-11-21T21:13:07.591Z","type":"message"}
{"nick":"indutny","message":"well, probably not this list","date":"2012-11-21T21:13:31.146Z","type":"message"}
{"nick":"indutny","message":"mraleph: any comments? ;)","date":"2012-11-21T21:13:35.994Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-11-21T21:14:07.849Z","type":"message"}
{"nick":"indutny","message":"it seems like so","date":"2012-11-21T21:14:09.658Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: checkout AddToWeakNativeContextList method","date":"2012-11-21T21:14:20.360Z","type":"message"}
{"nick":"indutny","message":"so, to fix it, one need to make sure that context won't be marked when traversing from itself","date":"2012-11-21T21:14:47.526Z","type":"message"}
{"nick":"indutny","message":"i.e. detect loops","date":"2012-11-21T21:14:53.028Z","type":"message"}
{"nick":"indutny","message":"but I don't really understand why it should be placed in that list, honestly","date":"2012-11-21T21:15:18.511Z","type":"message"}
{"nick":"mraleph","message":"that least is called weak for a reason, ya know.","date":"2012-11-21T21:17:04.056Z","type":"message"}
{"nick":"mraleph","message":"it kinda indicates that it is, ahm, weeeeeeak","date":"2012-11-21T21:17:33.192Z","type":"message"}
{"nick":"mraleph","message":"s/least/list/","date":"2012-11-21T21:17:50.598Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-11-21T21:18:02.429Z","type":"message"}
{"nick":"indutny","message":"well, it visits all items in that list during marking","date":"2012-11-21T21:18:10.569Z","type":"message"}
{"nick":"mraleph","message":"also there is no special \"mark everything in the context\" thingy.","date":"2012-11-21T21:18:14.366Z","type":"message"}
{"nick":"indutny","message":"so, at least, can you confirm that all contexts are getting in that list?","date":"2012-11-21T21:18:27.801Z","type":"message"}
{"nick":"mraleph","message":"yeah they do","date":"2012-11-21T21:18:37.911Z","type":"message"}
{"nick":"indutny","message":"ok, good to know","date":"2012-11-21T21:18:43.953Z","type":"message"}
{"nick":"mraleph","message":"where does it visit it in the marking?","date":"2012-11-21T21:18:45.103Z","type":"message"}
{"nick":"indutny","message":"mark-compact.cc","date":"2012-11-21T21:18:53.547Z","type":"message"}
{"nick":"indutny","message":"ProcessMapCaches","date":"2012-11-21T21:18:58.855Z","type":"message"}
{"nick":"mraleph","message":"well if you read it you will see that it iterates and asks IsMarked(context)","date":"2012-11-21T21:19:53.558Z","type":"message"}
{"nick":"mraleph","message":"it does not mark contexts itself.","date":"2012-11-21T21:20:01.782Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-11-21T21:20:06.439Z","type":"message"}
{"nick":"indutny","message":"right","date":"2012-11-21T21:20:11.438Z","type":"message"}
{"nick":"indutny","message":"I'm just searching for explanation","date":"2012-11-21T21:20:20.037Z","type":"message"}
{"nick":"indutny","message":"also","date":"2012-11-21T21:20:47.857Z","type":"message"}
{"nick":"indutny","message":"  updating_visitor.VisitPointer(heap_->native_contexts_list_address());","date":"2012-11-21T21:20:53.673Z","type":"message"}
{"nick":"mraleph","message":"I don't think anything especially trivial is happening in this case. At least I talked to my guts and they could not guess.  That is why I suggest filing an issue.","date":"2012-11-21T21:20:56.827Z","type":"message"}
{"nick":"indutny","message":"in void MarkCompactCollector::EvacuateNewSpaceAndCandidates()","date":"2012-11-21T21:21:04.888Z","type":"message"}
{"nick":"mraleph","message":"this visitor is called updating for a reason, ya know.","date":"2012-11-21T21:21:10.176Z","type":"message"}
{"nick":"mraleph","message":"it *updates*","date":"2012-11-21T21:21:14.959Z","type":"message"}
{"nick":"indutny","message":"ook","date":"2012-11-21T21:21:18.150Z","type":"message"}
{"nick":"mraleph","message":"not marks :-)","date":"2012-11-21T21:21:19.699Z","type":"message"}
{"nick":"bnoordhuis","message":"mraleph: i'm having a hard time replicating it in a standalone test","date":"2012-11-21T21:21:20.448Z","type":"message"}
{"nick":"indutny","message":"so it just follows marks","date":"2012-11-21T21:21:21.146Z","type":"message"}
{"nick":"mraleph","message":"bnoordhuis: try filing just as is.","date":"2012-11-21T21:21:32.068Z","type":"message"}
{"nick":"mraleph","message":"bnoordhuis: it is pretty self contained.","date":"2012-11-21T21:21:46.514Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah. i guess i'll do that if i can't get it working tonight","date":"2012-11-21T21:22:01.744Z","type":"message"}
{"nick":"bnoordhuis","message":"where working == replicating","date":"2012-11-21T21:22:08.561Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-11-21T21:22:09.419Z","type":"message"}
{"nick":"mraleph","message":"it's just beneficial to have this sort of things on file. who can guarantee that it can't happen with iframes e.g.?","date":"2012-11-21T21:22:14.643Z","type":"message"}
{"nick":"indutny","message":"ok, I give up","date":"2012-11-21T21:24:51.179Z","type":"message"}
{"nick":"indutny","message":"it's really non-trivial","date":"2012-11-21T21:24:54.187Z","type":"message"}
{"nick":"indutny","message":"mraleph: ++","date":"2012-11-21T21:25:02.671Z","type":"message"}
{"nick":"bradleymeck","date":"2012-11-21T21:29:33.218Z","type":"join"}
{"nick":"TooTallNate","date":"2012-11-21T21:32:14.936Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2012-11-21T21:33:00.885Z","type":"quit"}
{"nick":"bradleymeck","date":"2012-11-21T21:43:04.222Z","type":"join"}
{"nick":"creationix","message":"TooTallNate, ok, I think my only real beef with .read() style streams is the need for a trampoline in certain cases.  I can solve that in the generic stream library. :)","date":"2012-11-21T21:43:41.217Z","type":"message"}
{"nick":"creationix","message":"also I don't think node's style needs a trampoline ever, but I'm designing one that more friendly to coroutines.","date":"2012-11-21T21:44:17.356Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: so basically that would be the case if a callback is recursively parsing a buffer for many loops?","date":"2012-11-21T21:45:08.332Z","type":"message"}
{"nick":"creationix","message":"not sure what that means","date":"2012-11-21T21:45:43.613Z","type":"message"}
{"nick":"creationix","message":"my case was I had mock data and my stream emitted all it's data syncly","date":"2012-11-21T21:46:08.750Z","type":"message"}
{"nick":"creationix","message":"and it broke all my code","date":"2012-11-21T21:46:12.729Z","type":"message"}
{"nick":"creationix","message":"I had to complicate everything with trampolines to handle it safetly","date":"2012-11-21T21:46:25.888Z","type":"message"}
{"nick":"creationix","message":"I don't want users having to write trampolines, they are hard","date":"2012-11-21T21:46:39.772Z","type":"message"}
{"nick":"creationix","message":"and I can't tell people to just use nextTick because it doesn't exist in the minimal prerequesites","date":"2012-11-21T21:47:16.921Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: can't we just assume that streams, at some point, are going to be async?","date":"2012-11-21T21:47:58.996Z","type":"message"}
{"nick":"creationix","message":"I'm pretty sure my generic stream library solves that problem.  So I'm not worried","date":"2012-11-21T21:48:34.460Z","type":"message"}
{"nick":"creationix","message":"just know it bit me bad last night when I was implementing websockets for moonslice","date":"2012-11-21T21:48:44.333Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: but isn't a tcp stream always gonna be async?","date":"2012-11-21T21:59:59.913Z","type":"message"}
{"nick":"TooTallNate","message":"i.e. for implementing websockets...","date":"2012-11-21T22:00:14.364Z","type":"message"}
{"nick":"skmpy","date":"2012-11-21T22:06:12.521Z","type":"join"}
{"nick":"rendar","date":"2012-11-21T22:11:06.686Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-21T22:12:16.501Z","type":"quit"}
{"nick":"hz","date":"2012-11-21T22:16:18.180Z","type":"quit"}
{"nick":"TooTallNate","reason":"Ping timeout: 245 seconds","date":"2012-11-21T22:21:16.874Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-11-21T22:23:12.652Z","type":"join"}
{"nick":"skmpy","reason":"Quit: leaving","date":"2012-11-21T22:23:29.873Z","type":"quit"}
{"nick":"TooTallNate","message":"creationix: a sync read() is a little strange isn't it… i kinda like the callback version in your gist…","date":"2012-11-21T22:34:19.205Z","type":"message"}
{"nick":"TooTallNate","message":"damn man, streams are so opinionated… *sigh*","date":"2012-11-21T22:34:41.910Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-21T22:37:44.354Z","type":"quit"}
{"nick":"TheJH","reason":"Read error: Operation timed out","date":"2012-11-21T22:53:28.535Z","type":"quit"}
{"nick":"creationix","message":"yep","date":"2012-11-21T22:54:03.123Z","type":"message"}
{"nick":"creationix","message":"I really need callback closure style so I can make coroutine sugar optional","date":"2012-11-21T22:54:20.363Z","type":"message"}
{"nick":"creationix","message":"repeat local chunk = await(stream.read()); await(stream.write(chunk)); until not chunk","date":"2012-11-21T22:55:03.813Z","type":"message"}
{"nick":"creationix","message":"That's a full pump function complete with back-pressure","date":"2012-11-21T22:55:13.904Z","type":"message"}
{"nick":"creationix","message":"or the js equivalent","date":"2012-11-21T22:55:22.225Z","type":"message"}
{"nick":"creationix","message":"do { var chunk = await(stream1.read()); await(stream2.write(chunk)); } while (chunk);","date":"2012-11-21T22:56:01.644Z","type":"message"}
{"nick":"creationix","message":"await suspends the coroutine, passes a callback to it's argument (the closure callback) which is called in the main thread that resumes this coroutine and returns the result.","date":"2012-11-21T22:56:46.920Z","type":"message"}
{"nick":"creationix","message":"I'm pretty sure I can do the same when JS lands harmony generators","date":"2012-11-21T22:57:14.478Z","type":"message"}
{"nick":"mraleph","message":"piscisaureus_: no this is not a fortunate side effect, well it is, but the new algorithm is not susceptible to such failure.","date":"2012-11-21T23:11:12.249Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: maybe that was a little strong-worded :-)","date":"2012-11-21T23:11:42.447Z","type":"message"}
{"nick":"mraleph","message":"piscisaureus_: also it's a duplicate. the issue is already somewhere in the bug tracker; you waited for too long :-)","date":"2012-11-21T23:12:10.440Z","type":"message"}
{"nick":"mraleph","message":"piscisaureus_: and it is already closed as fixed.","date":"2012-11-21T23:12:23.231Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: oh, I could not find it.","date":"2012-11-21T23:12:29.301Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: I just wanted to post it there to get it off my todo list","date":"2012-11-21T23:12:38.853Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: so they are not going to backport any fixes?","date":"2012-11-21T23:12:45.230Z","type":"message"}
{"nick":"dedis4","date":"2012-11-21T23:13:26.605Z","type":"join"}
{"nick":"mraleph","message":"well you should ask them :-)","date":"2012-11-21T23:13:35.367Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2012-11-21T23:14:02.090Z","type":"quit"}
{"nick":"piscisaureus_","message":"mraleph: http://code.google.com/p/v8/issues/detail?id=2401&can=1&sort=-id&colspec=ID%20Type%20Status%20Priority%20Owner%20Summary%20HW%20OS%20Area%20Stars <-- right","date":"2012-11-21T23:14:49.478Z","type":"message"}
{"nick":"piscisaureus_","message":"apparently yang saw the node issue :-)","date":"2012-11-21T23:15:00.146Z","type":"message"}
{"nick":"piscisaureus_","message":"mraleph: but I am happy that i can apparently make v8 people look at the node issue tracker :-)","date":"2012-11-21T23:23:17.763Z","type":"message"}
{"nick":"KiNgMaR","message":"it appears that the uint64_t values for the CPU times in node's os.cpus() wrap around because of JS's missing 64 bit integer support. node_os.cc uses Integer::New, which according to the v8 docs on izs.me does not have a uint64_t constructor. Should that be Number::New(static_cast<float>(...)) instead?","date":"2012-11-21T23:29:21.101Z","type":"message"}
{"nick":"piscisaureus_","message":"that'd work","date":"2012-11-21T23:29:38.494Z","type":"message"}
{"nick":"piscisaureus_","message":"use <double> then :-)","date":"2012-11-21T23:29:52.505Z","type":"message"}
{"nick":"KiNgMaR","message":"I'm just surprised nobody has noticed","date":"2012-11-21T23:29:58.733Z","type":"message"}
{"nick":"KiNgMaR","message":"oh, yeah, double :)","date":"2012-11-21T23:30:04.532Z","type":"message"}
{"nick":"TooTallNate","message":"KiNgMaR: i think most people don't have that many cpus :D","date":"2012-11-21T23:30:17.801Z","type":"message"}
{"nick":"piscisaureus_","message":"I would like to remove the counters from os.cpus()","date":"2012-11-21T23:30:17.933Z","type":"message"}
{"nick":"TooTallNate","message":"oh, it's for cpu times, nvm :)","date":"2012-11-21T23:30:28.453Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: no it's about the clock cycle counters","date":"2012-11-21T23:30:30.238Z","type":"message"}
{"nick":"piscisaureus_","message":"KiNgMaR: do you really use these number?","date":"2012-11-21T23:30:38.683Z","type":"message"}
{"nick":"piscisaureus_","message":"s","date":"2012-11-21T23:30:41.263Z","type":"message"}
{"nick":"KiNgMaR","message":"well, I was about to use them","date":"2012-11-21T23:30:45.416Z","type":"message"}
{"nick":"piscisaureus_","message":"for what?","date":"2012-11-21T23:30:50.777Z","type":"message"}
{"nick":"piscisaureus_","message":"I would like to kill them","date":"2012-11-21T23:30:58.763Z","type":"message"}
{"nick":"KiNgMaR","message":"sending them to graphite","date":"2012-11-21T23:30:59.307Z","type":"message"}
{"nick":"KiNgMaR","message":"I can just read them from /proc though","date":"2012-11-21T23:31:11.783Z","type":"message"}
{"nick":"mmalecki[off]","new_nick":"mmalecki","date":"2012-11-21T23:31:35.467Z","type":"nick"}
{"nick":"TooTallNate","message":"mmalecki[on]","date":"2012-11-21T23:32:20.660Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: THIS IS HOW I ROLL SON","date":"2012-11-21T23:32:59.720Z","type":"message"}
{"nick":"stagas_","reason":"Ping timeout: 276 seconds","date":"2012-11-21T23:45:06.424Z","type":"quit"}
{"nick":"creationix","message":"What would cause: luajit: src/unix/stream.c:801: uv_shutdown: Assertion `stream->io_watcher.fd >= 0' failed.","date":"2012-11-21T23:48:20.302Z","type":"message"}
{"nick":"creationix","message":"I'm implementing a TCP echo server and am telling the handle to shutdown","date":"2012-11-21T23:48:41.301Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: the handle is already closed, or no socket has been opened yet (so not bound/connected/accepted)","date":"2012-11-21T23:49:22.906Z","type":"message"}
{"nick":"creationix","message":"so I'm calling uv_shutdown in response to getting after UV_EOF in my on_read","date":"2012-11-21T23:49:30.019Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: well, that's not necessary anyway :-)","date":"2012-11-21T23:50:06.197Z","type":"message"}
{"nick":"creationix","message":"ok, so nc sends EOF to my echo server, I get that in on_read...","date":"2012-11-21T23:50:17.851Z","type":"message"}
{"nick":"creationix","message":"if my socket now closed or something?","date":"2012-11-21T23:50:23.297Z","type":"message"}
{"nick":"creationix","message":"*is","date":"2012-11-21T23:50:26.375Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: obviously the libuv backend just changed so there could be bugs in in","date":"2012-11-21T23:50:44.585Z","type":"message"}
{"nick":"piscisaureus_","message":"*it","date":"2012-11-21T23:50:45.877Z","type":"message"}
{"nick":"creationix","message":"this is a pretty recent libuv I'm running","date":"2012-11-21T23:50:58.818Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but on UV_EOF the socket should not auto close","date":"2012-11-21T23:51:00.491Z","type":"message"}
{"nick":"creationix","message":"I'm running 190db15638ef7f9eebf0b5160313991898480d7f from the 19th","date":"2012-11-21T23:51:20.258Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: yep. And the libev removal was also landed pretty recently :-)","date":"2012-11-21T23:51:21.585Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: so - this *could* be a libuv bug","date":"2012-11-21T23:52:35.222Z","type":"message"}
{"nick":"creationix","message":"let me try 0.8 and see if the problem goes away","date":"2012-11-21T23:52:46.705Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: what is the value of stream->io_watcher.fd at that point","date":"2012-11-21T23:52:53.698Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: if it is -1 then we probably closed the socket somewhere. If it is like -54235234 then we're looking at memory corruption","date":"2012-11-21T23:53:16.270Z","type":"message"}
{"nick":"creationix","message":"ok, I'm in gdb and it broke at the assertion","date":"2012-11-21T23:54:02.967Z","type":"message"}
{"nick":"creationix","message":"how do I check the value?","date":"2012-11-21T23:54:06.647Z","type":"message"}
{"nick":"piscisaureus_","message":"p handle->io_watcher.fd","date":"2012-11-21T23:54:21.005Z","type":"message"}
{"nick":"creationix","message":"No symbol \"handle\" in current context.","date":"2012-11-21T23:54:35.258Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-11-21T23:54:37.488Z","type":"message"}
{"nick":"piscisaureus_","message":"heh","date":"2012-11-21T23:54:38.391Z","type":"message"}
{"nick":"creationix","message":"stream","date":"2012-11-21T23:54:45.448Z","type":"message"}
{"nick":"piscisaureus_","message":"p stream->io_watcher.fd","date":"2012-11-21T23:54:46.299Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe also just do p *stream,","date":"2012-11-21T23:54:58.528Z","type":"message"}
{"nick":"piscisaureus_","message":"and p stream->io_watcher","date":"2012-11-21T23:55:07.495Z","type":"message"}
{"nick":"piscisaureus_","message":"and show the results","date":"2012-11-21T23:55:11.944Z","type":"message"}
{"nick":"creationix","message":"can't find stream either, maybe I need to break sooner somehow","date":"2012-11-21T23:55:25.077Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-11-21T23:55:30.313Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: enter \"bt\"","date":"2012-11-21T23:55:35.573Z","type":"message"}
{"nick":"piscisaureus_","message":"you probably broke somewhere in abort()","date":"2012-11-21T23:55:45.566Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: you want to look up the frame number for the topmost uv function (probably uv__stream_io)","date":"2012-11-21T23:56:04.204Z","type":"message"}
{"nick":"creationix","message":"yep, frame #3","date":"2012-11-21T23:56:12.233Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: ok, select that frame with \"f 3\"","date":"2012-11-21T23:56:20.493Z","type":"message"}
{"nick":"piscisaureus_","message":"then try again","date":"2012-11-21T23:56:23.754Z","type":"message"}
{"nick":"creationix","message":"now that's cool","date":"2012-11-21T23:57:35.093Z","type":"message"}
{"nick":"creationix","message":"https://gist.github.com/ae537b694b4c01aed2ba","date":"2012-11-21T23:57:35.774Z","type":"message"}
{"nick":"creationix","action":"should learn gdm some day","date":"2012-11-21T23:57:42.391Z","type":"action"}
{"nick":"creationix","message":"*gdb","date":"2012-11-21T23:57:45.957Z","type":"message"}
{"nick":"piscisaureus_","message":"looks like the fd has been closed","date":"2012-11-21T23:58:00.132Z","type":"message"}
{"nick":"piscisaureus_","message":"let me look at the flags","date":"2012-11-21T23:58:02.963Z","type":"message"}
{"nick":"piscisaureus_","message":"flags = 0x2061","date":"2012-11-21T23:58:52.156Z","type":"message"}

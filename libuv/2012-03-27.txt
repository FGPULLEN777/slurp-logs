{"nick":"mjr_","message":"TooTallNate: looking forward to trying that out.  The lack of readline on SmartOS is killing me.","date":"2012-03-27T00:00:29.134Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: ya sure thing, i've been testing with this https://gist.github.com/2209310","date":"2012-03-27T00:02:03.971Z","type":"message"}
{"nick":"TooTallNate","message":"works great","date":"2012-03-27T00:02:06.092Z","type":"message"}
{"nick":"TooTallNate","message":"to get it to work with telnet is another step, but the pieces are nicely in place for that now","date":"2012-03-27T00:02:26.061Z","type":"message"}
{"nick":"dylukes","date":"2012-03-27T00:02:53.333Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2012-03-27T00:02:54.174Z","type":"quit"}
{"nick":"benvie","message":"oo","date":"2012-03-27T00:02:59.948Z","type":"message"}
{"nick":"mjr_","message":"I don't mind having a repl client.","date":"2012-03-27T00:03:00.423Z","type":"message"}
{"nick":"benvie","message":"I'm guessing it won't bridge the gap","date":"2012-03-27T00:03:18.517Z","type":"message"}
{"nick":"mjr_","message":"As long as it has full readline, and tab completion is a bonus","date":"2012-03-27T00:03:19.045Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: ya tab completion, colors, it's all there. feels identical to the regular `node` repl","date":"2012-03-27T00:04:36.922Z","type":"message"}
{"nick":"mjr_","message":"so cool","date":"2012-03-27T00:05:13.780Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: ??","date":"2012-03-27T00:07:03.702Z","type":"message"}
{"nick":"benvie","message":"did you see the thing I posted early this morning? Twisted python's poll ","date":"2012-03-27T00:07:12.375Z","type":"message"}
{"nick":"benvie","message":"one sec","date":"2012-03-27T00:07:17.193Z","type":"message"}
{"nick":"benvie","message":"trying to find it","date":"2012-03-27T00:07:21.674Z","type":"message"}
{"nick":"benvie","message":"http://twistedmatrix.com/documents/current/api/twisted.internet._pollingfile.html","date":"2012-03-27T00:09:36.276Z","type":"message"}
{"nick":"benvie","message":"and","date":"2012-03-27T00:09:37.714Z","type":"message"}
{"nick":"benvie","message":"http://twistedmatrix.com/documents/current/api/twisted.internet.iocpreactor.html","date":"2012-03-27T00:09:44.996Z","type":"message"}
{"nick":"benvie","message":"twisted python has....extensive libraries","date":"2012-03-27T00:09:55.444Z","type":"message"}
{"nick":"benvie","message":"I did not realize this","date":"2012-03-27T00:09:59.146Z","type":"message"}
{"nick":"benvie","message":"basically the issue is, and maybe not correct but","date":"2012-03-27T00:10:32.763Z","type":"message"}
{"nick":"benvie","message":"it seems like you just won't get callbacks from IOCP from pipes on stdin without either hitting a the size limit or on new line","date":"2012-03-27T00:11:08.656Z","type":"message"}
{"nick":"benvie","message":"so you basically have to poll it","date":"2012-03-27T00:11:14.496Z","type":"message"}
{"nick":"benvie","message":"which they've implemented","date":"2012-03-27T00:11:19.775Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: that is *not* true, as I have explained to you before","date":"2012-03-27T00:11:43.817Z","type":"message"}
{"nick":"Aria","date":"2012-03-27T00:12:39.585Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T00:30:09.252Z","type":"quit"}
{"nick":"pfox___","reason":"Ping timeout: 246 seconds","date":"2012-03-27T00:33:49.416Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2012-03-27T00:46:32.804Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T00:49:18.214Z","type":"join"}
{"nick":"orlandovftw","reason":"Ping timeout: 248 seconds","date":"2012-03-27T00:54:43.784Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-03-27T00:56:37.410Z","type":"quit"}
{"nick":"theCole_","reason":"Quit: theCole_","date":"2012-03-27T01:08:39.745Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T01:21:17.390Z","type":"quit"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-03-27T01:27:07.051Z","type":"quit"}
{"nick":"abraxas","date":"2012-03-27T01:31:22.612Z","type":"join"}
{"nick":"benvie","message":"arg","date":"2012-03-27T01:32:20.884Z","type":"message"}
{"nick":"benvie","message":"your code works admirably nate","date":"2012-03-27T01:32:49.436Z","type":"message"}
{"nick":"benvie","message":"assuming stdin emits data events sometime before I press enter =(","date":"2012-03-27T01:33:05.347Z","type":"message"}
{"nick":"benvie","message":"going to need to break out some firepower for this","date":"2012-03-27T01:33:34.449Z","type":"message"}
{"nick":"benvie","message":"but at least once I do come up with a way to tap in to the events, you're awesome stuff is ready to plug into","date":"2012-03-27T01:33:59.745Z","type":"message"}
{"nick":"orlandovftw","date":"2012-03-27T01:41:09.455Z","type":"join"}
{"nick":"dylukes","reason":"Quit: Pipes are broken. Sending packets via Fedex.","date":"2012-03-27T01:45:02.697Z","type":"quit"}
{"nick":"dshaw_","reason":"Ping timeout: 248 seconds","date":"2012-03-27T01:48:35.783Z","type":"quit"}
{"nick":"TooTallNate","message":"benvie: piscisaureus was saying that the \"best\" way to do it would be to hook into the keyboard events directly","date":"2012-03-27T01:51:39.827Z","type":"message"}
{"nick":"TooTallNate","message":"and essentially write a \"better\" implementation then the one they give you","date":"2012-03-27T01:51:51.885Z","type":"message"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-03-27T01:51:52.728Z","type":"quit"}
{"nick":"TooTallNate","message":"but that sounds like a rather large undertaking","date":"2012-03-27T01:52:00.825Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T01:52:06.317Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#645 (master - aad12d0 : Nathan Rajlich): The build is still failing.","date":"2012-03-27T01:52:06.519Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/ab518ae...aad12d0","date":"2012-03-27T01:52:06.519Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/953730","date":"2012-03-27T01:52:06.519Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T01:52:06.519Z","type":"part"}
{"nick":"Aria","date":"2012-03-27T01:52:12.870Z","type":"join"}
{"nick":"TooTallNate","message":"otherwize i suspect someone would have done it already","date":"2012-03-27T01:52:15.461Z","type":"message"}
{"nick":"TooTallNate","message":"geez, those tests just finished?","date":"2012-03-27T01:52:30.276Z","type":"message"}
{"nick":"mjr_","message":"TooTallNate: is that tty refactor going to go into 0.6?","date":"2012-03-27T01:53:46.745Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: no","date":"2012-03-27T01:53:54.561Z","type":"message"}
{"nick":"mjr_","message":"sad face","date":"2012-03-27T01:53:58.833Z","type":"message"}
{"nick":"TooTallNate","message":"lots of API changes","date":"2012-03-27T01:54:06.761Z","type":"message"}
{"nick":"mjr_","message":"Well, at least it'll be there when we can finally move to 0.7/8","date":"2012-03-27T01:54:12.163Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T01:56:47.326Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-03-27T01:57:01.053Z","type":"quit"}
{"nick":"benvie","message":"I'm digging into your stuff now","date":"2012-03-27T01:58:53.226Z","type":"message"}
{"nick":"benvie","message":"going to set up a net server version and try various windows clients and see what's yp","date":"2012-03-27T01:59:36.660Z","type":"message"}
{"nick":"benvie","message":"up","date":"2012-03-27T01:59:39.312Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T02:05:06.297Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 249 seconds","date":"2012-03-27T02:06:06.307Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: yt?","date":"2012-03-27T02:07:18.720Z","type":"message"}
{"nick":"TooTallNate","message":"quick review guys: https://github.com/TooTallNate/node/commit/fix-terminal-autodetection","date":"2012-03-27T02:08:07.051Z","type":"message"}
{"nick":"TooTallNate","message":"fixes a failing test","date":"2012-03-27T02:08:11.906Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ^","date":"2012-03-27T02:09:48.124Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: so the idea is to not set `terminal` unless node_no_readline=1 ?","date":"2012-03-27T02:10:34.306Z","type":"message"}
{"nick":"benvie","message":"readline.emitKeypressEvents is so awesome","date":"2012-03-27T02:10:41.678Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: that lgtm","date":"2012-03-27T02:10:41.875Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie: that's a secret api!","date":"2012-03-27T02:10:52.623Z","type":"message"}
{"nick":"benvie","message":"=D","date":"2012-03-27T02:11:11.912Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: right, cause when it's undefined, then readline has a sensible default for that","date":"2012-03-27T02:11:14.306Z","type":"message"}
{"nick":"TooTallNate","message":"(i.e. checking \"isTTY\")","date":"2012-03-27T02:11:22.193Z","type":"message"}
{"nick":"TooTallNate","message":"ok landing","date":"2012-03-27T02:11:25.714Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u0002698e795\u000f \u000310\u000f/ (lib/_debugger.js src/node.js)\u0002:\u000f ","date":"2012-03-27T02:11:38.112Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f repl: fix 'terminal' mode autodetection on global repls","date":"2012-03-27T02:11:38.316Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Fixes test/simple/test-force-repl.js - http://git.io/SwIEEQ","date":"2012-03-27T02:11:38.316Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: we almost didn't export it. what are you using it for?","date":"2012-03-27T02:12:55.907Z","type":"message"}
{"nick":"benvie","message":"welllll","date":"2012-03-27T02:13:37.535Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 244 seconds","date":"2012-03-27T02:13:55.411Z","type":"quit"}
{"nick":"benvie","message":"I don't use the built in readline or repl libs at all and have pretty extensive things built for both of those. I almost did the same for TTY one a few occasions","date":"2012-03-27T02:14:51.526Z","type":"message"}
{"nick":"benvie","message":"but this lets me avoid that idea entirely","date":"2012-03-27T02:15:04.090Z","type":"message"}
{"nick":"benvie","message":"I already integrated in, it's awesome cause it was plug and play","date":"2012-03-27T02:15:26.167Z","type":"message"}
{"nick":"TooTallNate","message":"what's wrong with readline?","date":"2012-03-27T02:16:00.422Z","type":"message"}
{"nick":"benvie","message":"well you fixed most of the things I originally started in on it for","date":"2012-03-27T02:16:20.547Z","type":"message"}
{"nick":"benvie","message":"the various controls from tty","date":"2012-03-27T02:16:32.994Z","type":"message"}
{"nick":"TooTallNate","message":"ahhh","date":"2012-03-27T02:16:37.840Z","type":"message"}
{"nick":"benvie","message":"but I ended up rebuilding it","date":"2012-03-27T02:16:44.162Z","type":"message"}
{"nick":"benvie","message":"all of the controls and stuff are keybindable","date":"2012-03-27T02:16:58.211Z","type":"message"}
{"nick":"benvie","message":"and I redid a lot of the movement to work better with a static screen","date":"2012-03-27T02:17:13.779Z","type":"message"}
{"nick":"benvie","message":"and paging","date":"2012-03-27T02:17:15.380Z","type":"message"}
{"nick":"benvie","message":"and the cursor works differently and the prompt","date":"2012-03-27T02:18:20.645Z","type":"message"}
{"nick":"TooTallNate","message":"i'm working on an irc client using readline","date":"2012-03-27T02:18:27.532Z","type":"message"}
{"nick":"TooTallNate","message":"wanted to keep it simple","date":"2012-03-27T02:18:30.815Z","type":"message"}
{"nick":"TooTallNate","message":"none of that fancy ncurses stuff","date":"2012-03-27T02:18:39.976Z","type":"message"}
{"nick":"benvie","message":"what remains of my _ttyWrite function is around 10 lines","date":"2012-03-27T02:18:57.759Z","type":"message"}
{"nick":"benvie","message":"it all goes through a whole separate command and keybind handler","date":"2012-03-27T02:19:21.990Z","type":"message"}
{"nick":"benvie","message":"but it allows you to do stuff like","date":"2012-03-27T02:19:32.613Z","type":"message"}
{"nick":"benvie","message":"\"alt+ctrl+s\" binds to X","date":"2012-03-27T02:19:42.347Z","type":"message"}
{"nick":"benvie","message":"so most of that stuff is just a giant config file now","date":"2012-03-27T02:20:05.078Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: what's wrong with just listening for \"keypress\" and doing this.write('X')?","date":"2012-03-27T02:20:40.274Z","type":"message"}
{"nick":"benvie","message":"well it does that but it also allows for setting up arbitrary keybinds easily","date":"2012-03-27T02:21:26.959Z","type":"message"}
{"nick":"benvie","message":"I set it up so that everything is basically a plugin","date":"2012-03-27T02:21:41.486Z","type":"message"}
{"nick":"benvie","message":"so if I want to add another handeful of things, I specify it like a mini-module which includes default keybindgs/commands","date":"2012-03-27T02:22:06.330Z","type":"message"}
{"nick":"dshaw_","date":"2012-03-27T02:22:07.300Z","type":"join"}
{"nick":"benvie","message":"and then users can set up their own custom stuff if they want","date":"2012-03-27T02:22:24.906Z","type":"message"}
{"nick":"benvie","message":"it's not the normal letters, it's everything else. command keys and combos","date":"2012-03-27T02:23:25.051Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T02:24:33.662Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-03-27T02:25:13.985Z","type":"join"}
{"nick":"mikeal","date":"2012-03-27T02:25:25.024Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-03-27T02:27:05.337Z","type":"quit"}
{"nick":"travis-ci","date":"2012-03-27T02:28:17.079Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#646 (master - 698e795 : Nathan Rajlich): The build is still failing.","date":"2012-03-27T02:28:17.279Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/aad12d0...698e795","date":"2012-03-27T02:28:17.280Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/954080","date":"2012-03-27T02:28:17.280Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T02:28:17.280Z","type":"part"}
{"nick":"mikeal","date":"2012-03-27T02:33:42.306Z","type":"join"}
{"nick":"philips","reason":"Excess Flood","date":"2012-03-27T02:34:03.035Z","type":"quit"}
{"nick":"philips","date":"2012-03-27T02:35:14.654Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T02:38:54.718Z","type":"quit"}
{"nick":"benvie","message":"oh my god it's working","date":"2012-03-27T02:39:20.689Z","type":"message"}
{"nick":"benvie","message":"with putty","date":"2012-03-27T02:39:24.429Z","type":"message"}
{"nick":"benvie","message":"keybinds and all","date":"2012-03-27T02:39:49.155Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-27T02:40:43.854Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 248 seconds","date":"2012-03-27T02:41:55.836Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-03-27T02:43:38.603Z","type":"quit"}
{"nick":"benvie","message":"wow and the custom clipboard stuff I ddi even works","date":"2012-03-27T02:44:08.535Z","type":"message"}
{"nick":"pietern","date":"2012-03-27T02:44:16.317Z","type":"join"}
{"nick":"benvie","message":"LET THIS DAY BE REMEMBERED. THE ONE WHO IS NAMED NATHAN SHALL LIVE TO AN IMMORTAL HERO","date":"2012-03-27T02:46:22.971Z","type":"message"}
{"nick":"benvie","message":"this victory will be sung for countless generations","date":"2012-03-27T02:46:48.072Z","type":"message"}
{"nick":"TooTallNate","message":"lol","date":"2012-03-27T02:51:11.421Z","type":"message"}
{"nick":"TooTallNate","message":"what now?","date":"2012-03-27T02:51:14.016Z","type":"message"}
{"nick":"TooTallNate","message":"what does putty do?","date":"2012-03-27T02:51:22.994Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: but i'm glad you're enjoying the changes :)","date":"2012-03-27T02:51:52.681Z","type":"message"}
{"nick":"benvie","message":"partially it's the stuff you did","date":"2012-03-27T02:56:46.340Z","type":"message"}
{"nick":"benvie","message":"also I think something putty does to help with the output","date":"2012-03-27T02:56:57.659Z","type":"message"}
{"nick":"benvie","message":"it has control for local echo and local line editing","date":"2012-03-27T02:57:20.994Z","type":"message"}
{"nick":"benvie","message":"auto, force on, force off","date":"2012-03-27T02:57:24.850Z","type":"message"}
{"nick":"benvie","message":"force off improved that situation but it was already improved","date":"2012-03-27T02:57:47.170Z","type":"message"}
{"nick":"benvie","message":"it also has more contros over which rules to use in the options","date":"2012-03-27T02:58:13.161Z","type":"message"}
{"nick":"benvie","message":"mintty supports those too but I didn't get around to figure out which thing you had to put in config","date":"2012-03-27T02:58:42.574Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-03-27T03:01:13.365Z","type":"quit"}
{"nick":"sh1mmer","date":"2012-03-27T03:01:54.757Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-03-27T03:02:48.606Z","type":"join"}
{"nick":"txdv","date":"2012-03-27T03:15:36.399Z","type":"join"}
{"nick":"dylukes","date":"2012-03-27T03:35:58.376Z","type":"join"}
{"nick":"mikeal","date":"2012-03-27T03:38:41.023Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-27T03:43:04.144Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-03-27T03:47:10.464Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T03:55:19.285Z","type":"quit"}
{"nick":"isaacs","date":"2012-03-27T04:00:53.178Z","type":"join"}
{"nick":"dylukes","reason":"Quit: Computer has gone to sleep.","date":"2012-03-27T04:02:11.381Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-27T04:06:57.532Z","type":"join"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-03-27T04:07:19.364Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T04:09:37.026Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T04:22:36.694Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T04:26:38.149Z","type":"join"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-03-27T04:30:27.091Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-27T04:34:00.846Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-27T04:36:32.950Z","type":"join"}
{"nick":"pfox___","date":"2012-03-27T04:38:17.198Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T04:38:58.699Z","type":"quit"}
{"nick":"dvv","date":"2012-03-27T04:43:53.358Z","type":"join"}
{"nick":"dvv","message":"Hi! Can't build current master:","date":"2012-03-27T04:44:07.232Z","type":"message"}
{"nick":"dvv","message":"src/uv.h:1488:14: error: duplicate member ‘uv_eio_want_poll_notifier’","date":"2012-03-27T04:44:08.959Z","type":"message"}
{"nick":"dvv","message":"src/uv.h:1489:14: error: duplicate member ‘uv_eio_done_poll_notifier’","date":"2012-03-27T04:44:09.162Z","type":"message"}
{"nick":"dvv","message":"src/uv.h:1490:13: error: duplicate member ‘uv_eio_poller’","date":"2012-03-27T04:44:09.362Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-03-27T04:52:04.394Z","type":"quit"}
{"nick":"benvie","message":"did you ever know","date":"2012-03-27T04:52:04.593Z","type":"message"}
{"nick":"benvie","message":"that you're my hero","date":"2012-03-27T04:52:09.803Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T05:00:34.024Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-27T05:01:14.026Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-03-27T05:22:48.984Z","type":"join"}
{"nick":"dshaw_","date":"2012-03-27T05:37:56.195Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T05:44:53.523Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T05:49:32.789Z","type":"join"}
{"nick":"pfox___","reason":"Quit: leaving","date":"2012-03-27T05:53:29.442Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T05:59:54.174Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-27T06:00:48.845Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-03-27T06:07:01.221Z","type":"quit"}
{"nick":"abraxas","date":"2012-03-27T06:07:32.705Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T06:17:43.188Z","type":"quit"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-03-27T06:47:01.289Z","type":"quit"}
{"nick":"abraxas_","date":"2012-03-27T06:49:00.211Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T06:49:24.672Z","type":"quit"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2012-03-27T06:49:37.042Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T06:51:00.193Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-03-27T06:55:23.007Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T06:55:52.840Z","type":"join"}
{"nick":"rendar","date":"2012-03-27T06:59:17.315Z","type":"join"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-03-27T07:04:08.556Z","type":"nick"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-27T07:29:23.515Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-27T07:31:26.922Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-03-27T07:56:48.563Z","type":"nick"}
{"nick":"paddybyers","date":"2012-03-27T08:09:05.026Z","type":"join"}
{"nick":"skomski","date":"2012-03-27T08:10:14.860Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T08:15:41.278Z","type":"quit"}
{"nick":"skomski","reason":"Quit: skomski","date":"2012-03-27T08:19:55.899Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 248 seconds","date":"2012-03-27T09:17:07.784Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-27T09:28:23.885Z","type":"join"}
{"nick":"dvv1","date":"2012-03-27T09:33:18.720Z","type":"join"}
{"nick":"dvv","reason":"Remote host closed the connection","date":"2012-03-27T10:11:43.402Z","type":"quit"}
{"nick":"paddybyers","reason":"Read error: Connection reset by peer","date":"2012-03-27T10:38:56.422Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-27T10:39:54.026Z","type":"join"}
{"nick":"theCole","date":"2012-03-27T10:45:39.081Z","type":"join"}
{"nick":"abraxas_","date":"2012-03-27T10:56:59.095Z","type":"quit"}
{"nick":"abraxas","date":"2012-03-27T11:03:37.336Z","type":"join"}
{"nick":"indutny","message":"heya","date":"2012-03-27T11:14:55.879Z","type":"message"}
{"nick":"indutny","message":"any GYP experts online?","date":"2012-03-27T11:15:01.211Z","type":"message"}
{"nick":"skomski","date":"2012-03-27T11:22:17.843Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-03-27T11:50:16.909Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T12:13:57.868Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-27T12:22:19.471Z","type":"join"}
{"nick":"paddybyers","reason":"Client Quit","date":"2012-03-27T12:23:52.405Z","type":"quit"}
{"nick":"bnoordhuis","message":"dvv1: let me know if you want help with that compilation error","date":"2012-03-27T12:32:56.370Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/issues/assigned/?page=15&state=open&utf8=%E2%9C%93 <- why is this 404'ing on me?","date":"2012-03-27T12:51:44.512Z","type":"message"}
{"nick":"k-s[AWAY]","new_nick":"k-s","date":"2012-03-27T13:04:11.789Z","type":"nick"}
{"nick":"saghul","reason":"Remote host closed the connection","date":"2012-03-27T13:20:22.793Z","type":"quit"}
{"nick":"saghul","date":"2012-03-27T13:26:18.784Z","type":"join"}
{"nick":"dylukes","date":"2012-03-27T13:26:46.262Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-03-27T13:28:33.232Z","type":"join"}
{"nick":"dylukes","reason":"Quit: Computer has gone to sleep.","date":"2012-03-27T13:37:11.625Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: do you know how to reference an issue in another repo on github","date":"2012-03-27T13:47:24.652Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-03-27T13:47:25.922Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-03-27T13:47:32.127Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: tell me","date":"2012-03-27T13:47:35.738Z","type":"message"}
{"nick":"bnoordhuis","message":"user/repo#123","date":"2012-03-27T13:47:39.418Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-03-27T13:47:59.982Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-03-27T13:48:00.762Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: also, http://www.nrc.nl/nieuws/2012/03/27/iris-van-herpens-jurken-van-plexiglas-botten-en-water/?utm_campaign=nieuwsbrief&utm_source=email","date":"2012-03-27T13:49:05.111Z","type":"message"}
{"nick":"bnoordhuis","message":"my ex is in my newspaper's newsletter...","date":"2012-03-27T13:49:17.092Z","type":"message"}
{"nick":"bnoordhuis","message":"and here i was, thinking i'm a famous open source programmer...","date":"2012-03-27T13:49:43.371Z","type":"message"}
{"nick":"creationix","message":"bnoordhuis, don't worry, you're famous to us ;)","date":"2012-03-27T13:56:06.753Z","type":"message"}
{"nick":"bnoordhuis","message":"thanks tim, i feel better now :)","date":"2012-03-27T13:57:52.706Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh you're getting better. Last week you thought you were napoleon.","date":"2012-03-27T13:57:57.878Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-03-27T13:58:03.683Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: about https://github.com/joyent/node/pull/1256","date":"2012-03-27T13:59:21.515Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes?","date":"2012-03-27T13:59:43.611Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the fix would be I think to not concat up strings infinitely","date":"2012-03-27T13:59:53.529Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: concat? are we doing that now?","date":"2012-03-27T14:00:23.747Z","type":"message"}
{"nick":"bnoordhuis","message":"i thought that string concat patch never landed?","date":"2012-03-27T14:00:31.851Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, wait","date":"2012-03-27T14:01:26.883Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-03-27T14:01:30.571Z","type":"message"}
{"nick":"piscisaureus_","message":"Looking at the wrong code path","date":"2012-03-27T14:01:49.221Z","type":"message"}
{"nick":"piscisaureus_","message":"In my experimental branch","date":"2012-03-27T14:01:56.584Z","type":"message"}
{"nick":"bnoordhuis","message":"no more drinking on the job for you, bertje","date":"2012-03-27T14:02:14.724Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no, wait","date":"2012-03-27T14:02:20.197Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/Jimbly/node/commit/14ca85f3642e3cbcdfca9ceb50efd807fe4f02f2#L0R349","date":"2012-03-27T14:02:23.022Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: looks like it's there anyway","date":"2012-03-27T14:02:28.849Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: although, I can't imagine how this could be correct","date":"2012-03-27T14:03:21.848Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-03-27T14:03:25.256Z","type":"message"}
{"nick":"piscisaureus_","message":"-          this._writeQueueCallbacks[last] = function() {","date":"2012-03-27T14:03:25.459Z","type":"message"}
{"nick":"piscisaureus_","message":"-            this._writeQueueCallbacks[last]();","date":"2012-03-27T14:03:25.459Z","type":"message"}
{"nick":"bnoordhuis","message":"that's not in master","date":"2012-03-27T14:03:57.282Z","type":"message"}
{"nick":"bnoordhuis","message":"not in v0.6 either","date":"2012-03-27T14:04:30.457Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I can reproduce the issue though, with 0.6.14","date":"2012-03-27T14:04:59.919Z","type":"message"}
{"nick":"piscisaureus_","message":"meh","date":"2012-03-27T14:05:05.995Z","type":"message"}
{"nick":"piscisaureus_","message":"It looks like I'll have to do some actual investigation","date":"2012-03-27T14:05:17.380Z","type":"message"}
{"nick":"piscisaureus_","message":"bleh","date":"2012-03-27T14:05:18.711Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Vladimir Dronnikov\u000f \u000307master\u000f * r\u00022b3ba91\u000f \u000310\u000f/ config-unix.mk \u0002:\u000f build: make `make clean` really clean - http://git.io/i09Drw","date":"2012-03-27T14:15:23.111Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T14:17:18.505Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#148 (master - 2b3ba91 : Vladimir Dronnikov): The build is still failing.","date":"2012-03-27T14:17:18.708Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/e729a82...2b3ba91","date":"2012-03-27T14:17:18.708Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/957197","date":"2012-03-27T14:17:18.708Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T14:17:18.709Z","type":"part"}
{"nick":"dvv1","date":"2012-03-27T14:21:26.453Z","type":"part"}
{"nick":"isaacs","date":"2012-03-27T14:42:17.842Z","type":"join"}
{"nick":"k-s","new_nick":"k-s[AWAY]","date":"2012-03-27T14:45:07.366Z","type":"nick"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am serious","date":"2012-03-27T14:48:51.718Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: obviously it is quite easy to overload fd.write(\"hi\") to write(fd, \"hi\")","date":"2012-03-27T14:49:14.628Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why would you want to do that?","date":"2012-03-27T14:49:44.363Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, because it allows us to do various things","date":"2012-03-27T14:50:03.864Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: like, offload all work related to a single fd to the same thread pool thread","date":"2012-03-27T14:50:20.944Z","type":"message"}
{"nick":"piscisaureus_","message":"and serialize all accesses","date":"2012-03-27T14:50:24.374Z","type":"message"}
{"nick":"piscisaureus_","message":"The current low-level fs api is a minefield","date":"2012-03-27T14:50:43.540Z","type":"message"}
{"nick":"piscisaureus_","message":"And it is callback pyramid farm","date":"2012-03-27T14:50:56.052Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: offload all work related to a single fd -> we can do that now already","date":"2012-03-27T14:51:11.804Z","type":"message"}
{"nick":"piscisaureus_","message":"sure","date":"2012-03-27T14:51:15.849Z","type":"message"}
{"nick":"bnoordhuis","message":"and callback spaghetti.... people should flatten their callbacks","date":"2012-03-27T14:51:42.748Z","type":"message"}
{"nick":"piscisaureus_","message":"since all the fd ops have fs as the first argument there is really not much difference","date":"2012-03-27T14:51:44.650Z","type":"message"}
{"nick":"bnoordhuis","message":"that's true","date":"2012-03-27T14:52:02.235Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's also the reason why i don't see the added value :)","date":"2012-03-27T14:52:14.580Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but having an OOP api communicates clearly that write(f, \"a\"); close(f); are not independent operations","date":"2012-03-27T14:52:48.206Z","type":"message"}
{"nick":"piscisaureus_","message":"but state tracking could happen","date":"2012-03-27T14:52:53.135Z","type":"message"}
{"nick":"pfox___","date":"2012-03-27T14:52:57.558Z","type":"join"}
{"nick":"pfox___","message":"quick query: is uv_read_stop() an immediate action.. so, can i uv_close() a stream in the same callback, after calling uv_read_stop() ?","date":"2012-03-27T14:53:27.007Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: still not convinced of the added value :)","date":"2012-03-27T14:53:35.061Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: it is on linux","date":"2012-03-27T14:54:15.376Z","type":"message"}
{"nick":"bnoordhuis","message":"err, unix","date":"2012-03-27T14:54:17.780Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so if you see people pitching node-fibers etc they are giving fs examples most of the time","date":"2012-03-27T14:54:24.410Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: i think it's the same on windows (it should)","date":"2012-03-27T14:54:37.120Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because the fs api is notoriously bad at serialization and queing where it actually makes a lot of sense","date":"2012-03-27T14:54:46.349Z","type":"message"}
{"nick":"creationix","message":"one of my first node patches was fs.readfile","date":"2012-03-27T14:54:48.680Z","type":"message"}
{"nick":"creationix","message":"(before it wrapped readStream)","date":"2012-03-27T14:54:53.560Z","type":"message"}
{"nick":"pfox___","message":"bottom line.. it's safe to close a steam in the same callback after doing uv_read_stop() ..","date":"2012-03-27T14:54:59.444Z","type":"message"}
{"nick":"creationix","message":"before that you had to write 15 lines of code to read a file","date":"2012-03-27T14:55:03.379Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-27T14:55:10.976Z","type":"message"}
{"nick":"piscisaureus_","message":"but it still sucks monkey balls","date":"2012-03-27T14:55:16.829Z","type":"message"}
{"nick":"piscisaureus_","message":"if you mess up you can still have your data written to the wrong file for example","date":"2012-03-27T14:55:32.990Z","type":"message"}
{"nick":"bnoordhuis","message":"the monkey doesn't seem to mind","date":"2012-03-27T14:55:33.633Z","type":"message"}
{"nick":"creationix","message":"you can always add higher-levels of abstraction","date":"2012-03-27T14:55:54.221Z","type":"message"}
{"nick":"piscisaureus_","message":"or put the file in the wrong directory if you mess with chdir","date":"2012-03-27T14:55:56.205Z","type":"message"}
{"nick":"creationix","message":"but don't take away any power","date":"2012-03-27T14:55:58.287Z","type":"message"}
{"nick":"bnoordhuis","message":"what tim said","date":"2012-03-27T14:56:00.866Z","type":"message"}
{"nick":"creationix","message":"sometimes I want to read from a certain fd at a certain offset","date":"2012-03-27T14:56:07.133Z","type":"message"}
{"nick":"piscisaureus_","message":"no, I don't want to take away low power of course","date":"2012-03-27T14:56:09.356Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't see this as a problem that needs to be solved in the core","date":"2012-03-27T14:56:10.190Z","type":"message"}
{"nick":"piscisaureus_","message":"that will never happen","date":"2012-03-27T14:56:13.750Z","type":"message"}
{"nick":"creationix","message":"so the html5 fs api is interesting","date":"2012-03-27T14:56:20.197Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: your bottom line is correct","date":"2012-03-27T14:56:26.084Z","type":"message"}
{"nick":"creationix","message":"there are file objects, directory objects","date":"2012-03-27T14:56:28.273Z","type":"message"}
{"nick":"creationix","message":"it's not path based at all","date":"2012-03-27T14:56:44.242Z","type":"message"}
{"nick":"piscisaureus_","message":"We should have a directory stream in node, srsly","date":"2012-03-27T14:56:47.214Z","type":"message"}
{"nick":"creationix","message":"though there is an api for converting paths to objects","date":"2012-03-27T14:56:51.521Z","type":"message"}
{"nick":"creationix","message":"it treats the fs more like a dom","date":"2012-03-27T14:57:05.786Z","type":"message"}
{"nick":"creationix","message":"directory stream is a primitive we don't have too","date":"2012-03-27T14:57:20.282Z","type":"message"}
{"nick":"isaacs","message":"Good morning.","date":"2012-03-27T14:57:25.701Z","type":"message"}
{"nick":"creationix","message":"try doing readdir on a dir with a million files","date":"2012-03-27T14:57:28.633Z","type":"message"}
{"nick":"creationix","message":"isaacs, morning","date":"2012-03-27T14:57:44.441Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I think we all agree on that (at least me and Ben do)","date":"2012-03-27T14:57:52.613Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: although - in general I would not recommend putting a million files in a directory","date":"2012-03-27T14:58:15.532Z","type":"message"}
{"nick":"creationix","message":"I think readdir was the only primitive I was missing when I implemented sftp","date":"2012-03-27T14:58:33.451Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: (on smartmachines the limit is 100K, as cloud9 found out the hard way)","date":"2012-03-27T14:58:37.498Z","type":"message"}
{"nick":"creationix","message":"I had to fake it as a stream with one chunk and all the files","date":"2012-03-27T14:58:43.826Z","type":"message"}
{"nick":"bnoordhuis","message":"question: we're doing persistent.Clear() followed by persistent.Dispose() everywhere","date":"2012-03-27T14:58:50.991Z","type":"message"}
{"nick":"bnoordhuis","message":"is that actually correct?","date":"2012-03-27T14:58:55.044Z","type":"message"}
{"nick":"creationix","message":"still, 100K files is a big js array","date":"2012-03-27T14:58:59.837Z","type":"message"}
{"nick":"creationix","message":"the gc won't like that","date":"2012-03-27T14:59:04.336Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-27T14:59:04.534Z","type":"message"}
{"nick":"bnoordhuis","message":"Persistent<T>::Dispose() does this -> if (this->IsEmpty()) return;","date":"2012-03-27T14:59:10.417Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: the gc doesn't really care I think","date":"2012-03-27T14:59:18.597Z","type":"message"}
{"nick":"creationix","message":"it does once they get large","date":"2012-03-27T14:59:27.040Z","type":"message"}
{"nick":"creationix","message":"I discovered this with nstore","date":"2012-03-27T14:59:36.504Z","type":"message"}
{"nick":"bnoordhuis","message":"Clear() sets val_==0 and IsEmpty() checks if val_==0","date":"2012-03-27T14:59:42.352Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis, piscisaureus_: an OOP \"file as object\" API would be nice, but i don't know that we need to majorly overhaul fs for that","date":"2012-03-27T14:59:44.078Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I think having 100k items in an array or having 100 object with 1000 entries matters","date":"2012-03-27T14:59:45.895Z","type":"message"}
{"nick":"creationix","message":"of course, I was trying to break a million properties in an object","date":"2012-03-27T14:59:49.872Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it is long-term","date":"2012-03-27T14:59:57.615Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, yes, it's best to balance the numbers","date":"2012-03-27T15:00:07.012Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I was just mentioning it in our internal chat and then bnoordhuis started a melee","date":"2012-03-27T15:00:22.473Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you should write a flow control library, and then we can merge it in and piss everyone off ;P","date":"2012-03-27T15:00:22.706Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: as in, the next turn of the great wheel","date":"2012-03-27T15:00:24.838Z","type":"message"}
{"nick":"tjfontaine","message":"oh great wheel in the sky","date":"2012-03-27T15:00:42.431Z","type":"message"}
{"nick":"isaacs","message":"ryan and i had talked about a promise api a bunch of times.","date":"2012-03-27T15:00:44.172Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-03-27T15:01:06.883Z","type":"message"}
{"nick":"creationix","message":"promise is ok as long as it's effecient","date":"2012-03-27T15:01:14.842Z","type":"message"}
{"nick":"creationix","message":"and easier to use than callbacks","date":"2012-03-27T15:01:24.176Z","type":"message"}
{"nick":"creationix","message":"but that's hard to get both","date":"2012-03-27T15:01:29.524Z","type":"message"}
{"nick":"isaacs","message":"the idea would be something like:  fs.open(\"path\").write(\"foo\").close()","date":"2012-03-27T15:01:33.665Z","type":"message"}
{"nick":"isaacs","message":"or whatever","date":"2012-03-27T15:01:35.426Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't think you can do a promise api in JS that is nice enough","date":"2012-03-27T15:01:42.440Z","type":"message"}
{"nick":"creationix","message":"isaacs, is that promise or just chained commands that get queued internally?","date":"2012-03-27T15:02:08.762Z","type":"message"}
{"nick":"creationix","message":"I guess it's the idea of promises","date":"2012-03-27T15:02:15.954Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think we can just serialize fs.* operations (like we already do with sockets) as a first step","date":"2012-03-27T15:02:19.975Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the thing is not to think too much about the \"promise\"-ness of it, and instead just write a bunch of examples of the type of API you'd want for various tasks, and then make that work.","date":"2012-03-27T15:02:29.347Z","type":"message"}
{"nick":"isaacs","message":"that's what jquery did","date":"2012-03-27T15:02:31.978Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-27T15:02:39.161Z","type":"message"}
{"nick":"piscisaureus_","message":"did nobody write nquery yet?","date":"2012-03-27T15:02:53.015Z","type":"message"}
{"nick":"isaacs","message":"i don't know.","date":"2012-03-27T15:03:01.591Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-27T15:03:10.243Z","type":"message"}
{"nick":"piscisaureus_","message":"http://tblobaum.github.com/nodeQuery/","date":"2012-03-27T15:03:10.493Z","type":"message"}
{"nick":"isaacs","message":"there've been a few things, but they focused on the wrong parts of jquery","date":"2012-03-27T15:03:11.981Z","type":"message"}
{"nick":"piscisaureus_","message":"oh wait that's not what we are talking about","date":"2012-03-27T15:03:33.971Z","type":"message"}
{"nick":"isaacs","message":"nquery is jquery over dnode","date":"2012-03-27T15:03:45.031Z","type":"message"}
{"nick":"creationix","message":"browsers now have \"file\" I/O in html5","date":"2012-03-27T15:03:46.767Z","type":"message"}
{"nick":"creationix","message":"it's an interesting API they chose","date":"2012-03-27T15:03:51.407Z","type":"message"}
{"nick":"creationix","message":"async callbacks with objects","date":"2012-03-27T15:04:06.672Z","type":"message"}
{"nick":"isaacs","message":"the thing is, you don't often just open a file, write one thing, then close it","date":"2012-03-27T15:05:00.941Z","type":"message"}
{"nick":"isaacs","message":"that example above would be better done as fs.writeFile(\"path\", \"foo\") anyhow","date":"2012-03-27T15:05:16.922Z","type":"message"}
{"nick":"creationix","message":"yep, that's why I added fs.writeFile way back in the day, it's the 80% case made easy","date":"2012-03-27T15:05:43.444Z","type":"message"}
{"nick":"piscisaureus_","message":"It would be nice if we could have a JS language feature to support this","date":"2012-03-27T15:05:48.839Z","type":"message"}
{"nick":"piscisaureus_","message":"like, native promises or something","date":"2012-03-27T15:06:01.309Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: bring it up on es-discuss","date":"2012-03-27T15:06:09.792Z","type":"message"}
{"nick":"creationix","message":"how would language support help","date":"2012-03-27T15:06:17.398Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: then in a few years, you'll have something completely different that you don't want","date":"2012-03-27T15:06:26.103Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-03-27T15:06:30.723Z","type":"message"}
{"nick":"isaacs","message":"yes, that would be nice, though","date":"2012-03-27T15:06:48.814Z","type":"message"}
{"nick":"creationix","message":"or just make your own language /cc indutny  ;)","date":"2012-03-27T15:06:50.828Z","type":"message"}
{"nick":"isaacs","message":"or that, yes ):","date":"2012-03-27T15:07:26.036Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-03-27T15:07:27.443Z","type":"message"}
{"nick":"creationix","message":"though candor is anything but OOP (I did find a way to get OOPish features into it)","date":"2012-03-27T15:08:20.470Z","type":"message"}
{"nick":"piscisaureus_","message":"I am kind of getting disappointed in candor","date":"2012-03-27T15:08:45.162Z","type":"message"}
{"nick":"piscisaureus_","message":"Not because the language sucks -","date":"2012-03-27T15:09:01.292Z","type":"message"}
{"nick":"piscisaureus_","message":"but I really thought that he was implementing js-light","date":"2012-03-27T15:09:16.513Z","type":"message"}
{"nick":"isaacs","message":"my only beef with candor is that it's taking indutny from us.","date":"2012-03-27T15:09:24.680Z","type":"message"}
{"nick":"indutny","message":"creationix: hehe","date":"2012-03-27T15:09:25.640Z","type":"message"}
{"nick":"indutny","message":"isaacs: sorry","date":"2012-03-27T15:09:31.561Z","type":"message"}
{"nick":"piscisaureus_","message":"like, most well-written js would run in it with only slight modifications","date":"2012-03-27T15:09:32.556Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: what's the purpose of that?","date":"2012-03-27T15:09:54.598Z","type":"message"}
{"nick":"piscisaureus_","message":"well, js is kinda retarded","date":"2012-03-27T15:10:03.016Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, not hardly, it's pretty bare","date":"2012-03-27T15:10:12.747Z","type":"message"}
{"nick":"piscisaureus_","message":"and v8 could be faster if javascript was a little more sensible","date":"2012-03-27T15:10:25.496Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I think most of ES can be easily transcompiled to candor","date":"2012-03-27T15:10:28.719Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yeah, there're many pitfalls in language","date":"2012-03-27T15:10:53.189Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: but, I'm starting to think that IC works out those problems","date":"2012-03-27T15:11:08.968Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: well enough","date":"2012-03-27T15:11:12.789Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, well, if coffeescript taught me anything, it's protyping langauges features in a real language is an effective way to get to the es-discuss people","date":"2012-03-27T15:11:13.731Z","type":"message"}
{"nick":"creationix","message":"(some of them atleast)","date":"2012-03-27T15:11:17.318Z","type":"message"}
{"nick":"piscisaureus_","message":"Like, don't have this stupid arguments object, don't have block-scoped catch (or use block scoping throughout)","date":"2012-03-27T15:11:18.573Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: arguments don't hurt anything","date":"2012-03-27T15:11:46.947Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: if you don't use them","date":"2012-03-27T15:11:50.208Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: it doesn't affect argument passing model","date":"2012-03-27T15:12:05.876Z","type":"message"}
{"nick":"indutny","message":"isaacs: there're many things taking me out from node","date":"2012-03-27T15:12:24.156Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well, it does affect the code js has to generate when you update a named argument variable","date":"2012-03-27T15:12:26.332Z","type":"message"}
{"nick":"isaacs","message":"indutny: you have a js-like arguments object?  that's a mistake.","date":"2012-03-27T15:12:29.722Z","type":"message"}
{"nick":"indutny","message":"isaacs: I hope I'll return to active development soon","date":"2012-03-27T15:12:30.409Z","type":"message"}
{"nick":"indutny","message":"isaacs: I've vararg","date":"2012-03-27T15:12:39.445Z","type":"message"}
{"nick":"isaacs","message":"indutny: you're welcome whenever.  do your thing, man, it's cool.","date":"2012-03-27T15:12:42.727Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ??","date":"2012-03-27T15:12:56.309Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: also arguments.caller.callee prevents tail call optimizations","date":"2012-03-27T15:12:58.371Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I thought that was a problems with this and scoping","date":"2012-03-27T15:13:14.733Z","type":"message"}
{"nick":"isaacs","message":"the arguments.callee business was a huge mistane","date":"2012-03-27T15:13:24.228Z","type":"message"}
{"nick":"isaacs","message":"*mistake","date":"2012-03-27T15:13:25.992Z","type":"message"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-03-27T15:13:26.877Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: funny, i was thinking today that we have a number of committers that aren't actually active","date":"2012-03-27T15:13:28.317Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-03-27T15:13:28.591Z","type":"message"}
{"nick":"bnoordhuis","message":"and what to do with them","date":"2012-03-27T15:13:40.220Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I know what you're going to propose :D","date":"2012-03-27T15:13:40.513Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah.  it happens.","date":"2012-03-27T15:13:41.452Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: don't worry just yet :)","date":"2012-03-27T15:14:01.878Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ok, I'll keep calm for some time","date":"2012-03-27T15:14:09.343Z","type":"message"}
{"nick":"indutny","message":"at least until your next message :)","date":"2012-03-27T15:14:15.178Z","type":"message"}
{"nick":"bnoordhuis","message":"but i've worked on projects where the majority of the committers had been inactive for 2+ years","date":"2012-03-27T15:14:32.637Z","type":"message"}
{"nick":"ircretary","reason":"Remote host closed the connection","date":"2012-03-27T15:14:33.458Z","type":"quit"}
{"nick":"ircretary","date":"2012-03-27T15:14:39.526Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: MS Windows?","date":"2012-03-27T15:14:49.557Z","type":"message"}
{"nick":"bnoordhuis","message":"hohoho","date":"2012-03-27T15:14:54.208Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: (function (a) { arguments[0] = 5; console.log(a) })(3) <-- that, for example","date":"2012-03-27T15:15:12.734Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yeah, that's not good","date":"2012-03-27T15:15:27.569Z","type":"message"}
{"nick":"indutny","message":"but if you'll remove arguments from code, it'll be compiled as language doesn't have this feature at all","date":"2012-03-27T15:15:46.472Z","type":"message"}
{"nick":"indutny","message":"s/as/like","date":"2012-03-27T15:15:56.498Z","type":"message"}
{"nick":"creationix","message":"indutny, you know I was once considered part of the node core team, then I didn't commit to node for a full release cycle","date":"2012-03-27T15:16:03.302Z","type":"message"}
{"nick":"creationix","message":"(not that I did that much volume in the first place)","date":"2012-03-27T15:16:14.515Z","type":"message"}
{"nick":"indutny","message":"creationix: hehe","date":"2012-03-27T15:16:19.913Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what are you going to propose","date":"2012-03-27T15:16:33.267Z","type":"message"}
{"nick":"indutny","message":"I don't really care, I just do what I feel urge to do","date":"2012-03-27T15:16:37.031Z","type":"message"}
{"nick":"indutny","message":"and I'll contribute, eventually","date":"2012-03-27T15:16:43.058Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: to remove someone's commit bit after they've been inactive for a certain amount of time","date":"2012-03-27T15:16:57.118Z","type":"message"}
{"nick":"bnoordhuis","message":"like six months or so","date":"2012-03-27T15:17:02.126Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: what does \"inactive\" means?","date":"2012-03-27T15:17:25.820Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: completely inactive, or just not active enough","date":"2012-03-27T15:17:35.382Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-03-27T15:17:40.059Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: no commits, no participation in the bug tracker, mailing list, etc.","date":"2012-03-27T15:17:49.050Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: k","date":"2012-03-27T15:18:03.923Z","type":"message"}
{"nick":"bnoordhuis","message":"nice tale from the trenches","date":"2012-03-27T15:18:34.532Z","type":"message"}
{"nick":"bnoordhuis","message":"i work on ioquake3","date":"2012-03-27T15:18:43.101Z","type":"message"}
{"nick":"bnoordhuis","message":"there's this guy who hasn't been active since 2006 but still has his commit bit","date":"2012-03-27T15:18:59.014Z","type":"message"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-03-27T15:19:01.698Z","type":"nick"}
{"nick":"bnoordhuis","message":"new people want to become committers but are turned away because \"we have enough committers\"","date":"2012-03-27T15:19:16.432Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: is that a problem?","date":"2012-03-27T15:19:17.288Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-27T15:19:19.067Z","type":"join"}
{"nick":"indutny","message":"ah","date":"2012-03-27T15:19:22.249Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: btw I think you can drop the libuv commit bits for HenryRaws","date":"2012-03-27T15:19:38.273Z","type":"message"}
{"nick":"indutny","message":"you're right","date":"2012-03-27T15:19:40.223Z","type":"message"}
{"nick":"piscisaureus_","message":"http://rubyonrails.org/core/alumni","date":"2012-03-27T15:20:25.378Z","type":"message"}
{"nick":"isaacs","message":"we're not going to turn away committers because we have enough committers, unless there are so many active committers that it's a problem.","date":"2012-03-27T15:20:40.795Z","type":"message"}
{"nick":"isaacs","message":"the thing is, though, you don't really HAVE to be a node-core committer to be a big deal in node-land.","date":"2012-03-27T15:21:02.106Z","type":"message"}
{"nick":"isaacs","message":"look at SubStack or tj or mikeal","date":"2012-03-27T15:21:08.621Z","type":"message"}
{"nick":"isaacs","message":"or, creationix, for that matter","date":"2012-03-27T15:21:17.588Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, that's true","date":"2012-03-27T15:21:19.625Z","type":"message"}
{"nick":"isaacs","message":"though he's left us for other *uv's :)","date":"2012-03-27T15:21:27.170Z","type":"message"}
{"nick":"indutny","message":"hahahaha","date":"2012-03-27T15:21:31.892Z","type":"message"}
{"nick":"indutny","message":"I left you for other language","date":"2012-03-27T15:21:39.430Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-03-27T15:21:41.121Z","type":"message"}
{"nick":"piscisaureus_","message":"so did ryah","date":"2012-03-27T15:21:51.265Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: really?","date":"2012-03-27T15:21:56.876Z","type":"message"}
{"nick":"isaacs","message":"but like, if pquerna or felixge or ryah want to come back, they'll be welcome.","date":"2012-03-27T15:21:59.244Z","type":"message"}
{"nick":"creationix","message":"I'm still here","date":"2012-03-27T15:22:01.057Z","type":"message"}
{"nick":"creationix","message":"c9 pays me to do node stuff :P","date":"2012-03-27T15:22:11.219Z","type":"message"}
{"nick":"indutny","message":"isaacs: btw, can you remind me, where I've stopped with debugger race fixes?","date":"2012-03-27T15:22:25.467Z","type":"message"}
{"nick":"creationix","message":"hopefully mikeal lets us present architect","date":"2012-03-27T15:22:25.955Z","type":"message"}
{"nick":"creationix","message":"at nodeconf","date":"2012-03-27T15:22:28.072Z","type":"message"}
{"nick":"isaacs","message":"creationix: oh, right, you're writing their node tutorial blog thing i saw","date":"2012-03-27T15:22:36.926Z","type":"message"}
{"nick":"indutny","message":"isaacs: I can remember that there was an issue with my patch","date":"2012-03-27T15:22:43.310Z","type":"message"}
{"nick":"indutny","message":"isaacs: but can't remember which exactly","date":"2012-03-27T15:22:57.083Z","type":"message"}
{"nick":"isaacs","message":"indutny: it didn't work consistently.  sometimes it skipped over the first user-created debugger, sometimes it didn't skip over the one you put into module.js, so you had to manually c past it","date":"2012-03-27T15:23:34.183Z","type":"message"}
{"nick":"indutny","message":"I hope one day candor will get enough \"community weight\" and will develop w/o my active contribution","date":"2012-03-27T15:23:47.333Z","type":"message"}
{"nick":"isaacs","message":"indutny: the 50ms delay seems to work fine, though","date":"2012-03-27T15:23:47.899Z","type":"message"}
{"nick":"indutny","message":"isaacs: and seems to be hacky","date":"2012-03-27T15:23:55.760Z","type":"message"}
{"nick":"isaacs","message":"indutny: yeah, the delay is indeed hacky","date":"2012-03-27T15:24:05.164Z","type":"message"}
{"nick":"indutny","message":"isaacs: thanks for reminding ;)","date":"2012-03-27T15:24:16.918Z","type":"message"}
{"nick":"creationix","message":"indutny, it may, but others won't do it the same as you","date":"2012-03-27T15:24:20.675Z","type":"message"}
{"nick":"isaacs","message":"indutny: what we really need is not to hack around this, but instead to get an actual \"This is how you do this\" from v89","date":"2012-03-27T15:24:23.963Z","type":"message"}
{"nick":"creationix","message":"indutny, luvit is used in production and I still feel the need to guide it","date":"2012-03-27T15:24:37.770Z","type":"message"}
{"nick":"indutny","message":"isaacs: v89?","date":"2012-03-27T15:24:46.729Z","type":"message"}
{"nick":"isaacs","message":"indutny: like, a specific message we can get from the v8debugger object","date":"2012-03-27T15:24:50.349Z","type":"message"}
{"nick":"indutny","message":"creationix: guide and maintain are different things :)","date":"2012-03-27T15:24:56.464Z","type":"message"}
{"nick":"isaacs","message":"v89 = v8 + fat finger","date":"2012-03-27T15:24:57.024Z","type":"message"}
{"nick":"indutny","message":"isaacs: ahahah","date":"2012-03-27T15:25:03.190Z","type":"message"}
{"nick":"indutny","message":"thought it was some app from '89","date":"2012-03-27T15:25:14.774Z","type":"message"}
{"nick":"indutny","message":"isaacs: well, I've another idea","date":"2012-03-27T15:25:41.989Z","type":"message"}
{"nick":"indutny","message":"isaacs: I'll came up here with results later","date":"2012-03-27T15:26:22.762Z","type":"message"}
{"nick":"isaacs","message":"awesome","date":"2012-03-27T15:27:37.824Z","type":"message"}
{"nick":"indutny","message":"btw, is chrome using builtin debug-agent?","date":"2012-03-27T15:27:55.353Z","type":"message"}
{"nick":"isaacs","message":"indutny: no idea","date":"2012-03-27T15:30:41.249Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Aaron Bieber\u000f \u000307master\u000f * r\u000240e6373\u000f \u000310\u000f/ src/unix/openbsd.c \u0002:\u000f ","date":"2012-03-27T15:35:30.893Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f unix: fix compiler warning","date":"2012-03-27T15:35:31.095Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Fix warning \"for loop initial declaration used outside C99 mode\" on openbsd. - http://git.io/yldrCQ","date":"2012-03-27T15:35:31.095Z","type":"message"}
{"nick":"bnoordhuis","message":"phew","date":"2012-03-27T15:35:49.155Z","type":"message"}
{"nick":"bnoordhuis","message":"all three openbsd users can sleep safely again","date":"2012-03-27T15:36:04.009Z","type":"message"}
{"nick":"tjfontaine","message":"the bieber will save us","date":"2012-03-27T15:36:22.538Z","type":"message"}
{"nick":"perezd","date":"2012-03-27T15:36:51.776Z","type":"join"}
{"nick":"indutny","message":"hahaha","date":"2012-03-27T15:36:53.219Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T15:37:28.373Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#149 (master - 40e6373 : Aaron Bieber): The build is still failing.","date":"2012-03-27T15:37:28.577Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/2b3ba91...40e6373","date":"2012-03-27T15:37:28.577Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/957906","date":"2012-03-27T15:37:28.577Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T15:37:28.577Z","type":"part"}
{"nick":"pietern","date":"2012-03-27T15:38:11.412Z","type":"join"}
{"nick":"pietern","reason":"Client Quit","date":"2012-03-27T15:39:22.626Z","type":"quit"}
{"nick":"creationix","message":"isaacs, npm won't let me `npm adduser` anymore.  I get an update conflict every time","date":"2012-03-27T15:39:34.405Z","type":"message"}
{"nick":"pietern","date":"2012-03-27T15:39:39.782Z","type":"join"}
{"nick":"indutny","message":"couchdb","date":"2012-03-27T15:42:40.087Z","type":"message"}
{"nick":"indutny","message":"more I use it - more I like it","date":"2012-03-27T15:42:45.646Z","type":"message"}
{"nick":"indutny","message":"everyone should use this: https://github.com/indutny/bplus","date":"2012-03-27T15:43:00.183Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-03-27T15:43:00.695Z","type":"message"}
{"nick":"creationix","message":"indutny, is that like a baby leveldb?","date":"2012-03-27T15:45:07.927Z","type":"message"}
{"nick":"isaacs","message":"creationix: yeah, i know, it's a regression that i introduced in the security fix","date":"2012-03-27T15:45:13.256Z","type":"message"}
{"nick":"indutny","message":"creationix: indeed","date":"2012-03-27T15:45:15.490Z","type":"message"}
{"nick":"indutny","message":"lol :D","date":"2012-03-27T15:45:22.611Z","type":"message"}
{"nick":"isaacs","message":"creationix: you can just copy your .npmrc file to the other computer","date":"2012-03-27T15:45:32.093Z","type":"message"}
{"nick":"creationix","message":"isaacs, not possible","date":"2012-03-27T15:45:52.481Z","type":"message"}
{"nick":"creationix","message":"I lost the original","date":"2012-03-27T15:45:57.575Z","type":"message"}
{"nick":"isaacs","message":"creationix: or generate your auth by doing:  echo -n $username:$password | base64","date":"2012-03-27T15:46:01.337Z","type":"message"}
{"nick":"isaacs","message":"creationix: and then put: _auth = $the_result in your ~/.npmrc file","date":"2012-03-27T15:46:23.046Z","type":"message"}
{"nick":"creationix","message":"ok","date":"2012-03-27T15:46:26.418Z","type":"message"}
{"nick":"isaacs","message":"sucks, i know","date":"2012-03-27T15:46:31.818Z","type":"message"}
{"nick":"stephank","date":"2012-03-27T15:51:41.478Z","type":"join"}
{"nick":"djego","date":"2012-03-27T16:01:09.354Z","type":"join"}
{"nick":"dap","date":"2012-03-27T16:13:54.007Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T16:20:40.234Z","type":"quit"}
{"nick":"djego","reason":"Quit: leaving","date":"2012-03-27T16:22:06.895Z","type":"quit"}
{"nick":"indutny","message":"isaacs: is that issue stable failing to you?","date":"2012-03-27T16:30:00.515Z","type":"message"}
{"nick":"orlandovftw","date":"2012-03-27T16:30:12.286Z","type":"join"}
{"nick":"indutny","message":"isaacs: I've an idea of improbable fix: https://github.com/indutny/node/commit/e93d2c2b2aab2f557b7250b01d1b0ba7df2cac44","date":"2012-03-27T16:32:40.400Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-03-27T16:34:18.692Z","type":"join"}
{"nick":"indutny","message":"oh wait, I forgot to revert your 50 ms commit","date":"2012-03-27T16:34:27.445Z","type":"message"}
{"nick":"indutny","message":"works fine with reverted commit","date":"2012-03-27T16:35:22.584Z","type":"message"}
{"nick":"indutny","message":"though I wasn't able to reproduce it","date":"2012-03-27T16:35:28.423Z","type":"message"}
{"nick":"indutny","message":"is there anyone else who can reproduce that problem?","date":"2012-03-27T16:35:42.157Z","type":"message"}
{"nick":"dylukes","date":"2012-03-27T16:35:51.866Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-03-27T16:37:32.040Z","type":"quit"}
{"nick":"k-s[AWAY]","new_nick":"k-s","date":"2012-03-27T16:42:18.055Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T16:46:16.649Z","type":"quit"}
{"nick":"piscisaureus_","message":"igorzi: yt?","date":"2012-03-27T16:50:13.155Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T16:51:58.528Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-03-27T16:56:39.558Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-27T17:02:05.031Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: whatsup?","date":"2012-03-27T17:08:48.919Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: https://github.com/joyent/node/issues/2837","date":"2012-03-27T17:09:09.093Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it's weird. for these people the ReadDirectoryChangesW request returns ERROR_OPERATION_ABORTED","date":"2012-03-27T17:09:50.718Z","type":"message"}
{"nick":"piscisaureus_","message":"when the watcher is closed","date":"2012-03-27T17:10:02.468Z","type":"message"}
{"nick":"piscisaureus_","message":"there's also a windows7 guy that says it happens for him","date":"2012-03-27T17:10:15.547Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but for me it always reports STATUS_NOTIFY_CLEANUP which translates to ERROR_SUCCESS (since it is an informational status code)","date":"2012-03-27T17:10:50.996Z","type":"message"}
{"nick":"piscisaureus_","message":"no matter how hard I try, I never get the error","date":"2012-03-27T17:10:58.476Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: how could that happen?","date":"2012-03-27T17:11:07.163Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm, strange","date":"2012-03-27T17:11:50.268Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i wonder if that could be caused if there are any events in the ReadDirectoryChangesW buffer still","date":"2012-03-27T17:15:43.373Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: hmm, yeah, that could be","date":"2012-03-27T17:15:59.868Z","type":"message"}
{"nick":"piscisaureus_","message":"I didn't really test for that","date":"2012-03-27T17:16:04.325Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: but we should handle ERROR_OPERATION_ABORTED, right?","date":"2012-03-27T17:16:39.701Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well we should probably not make any callbacks at all after uv_close is called","date":"2012-03-27T17:16:57.334Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah","date":"2012-03-27T17:17:17.687Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: there's a guard around one of the sites where the callback function is invoked but at the other spots it is not checked","date":"2012-03-27T17:17:18.634Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so I'll just change that. But I was very surprised that people were seeing behaviour that I could not reproduce","date":"2012-03-27T17:17:52.546Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, that is strange (especially with the guy confirming that it also happens for him with win7)","date":"2012-03-27T17:19:32.158Z","type":"message"}
{"nick":"piscisaureus_","message":"Maybe it's different on 32-bit windows ... ?","date":"2012-03-27T17:20:14.624Z","type":"message"}
{"nick":"TooTallNate","date":"2012-03-27T17:21:24.521Z","type":"join"}
{"nick":"dvv","date":"2012-03-27T17:23:41.939Z","type":"join"}
{"nick":"dvv","message":"Hi!","date":"2012-03-27T17:23:46.141Z","type":"message"}
{"nick":"dvv","message":"Doing two subsequent uv_write()s to a socket (63 octet in sum) slows things down by circa 40 times with respect to one write of the same size. Is it possible?","date":"2012-03-27T17:25:34.397Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-03-27T17:30:03.166Z","type":"quit"}
{"nick":"orlandovftw","reason":"Quit: leaving","date":"2012-03-27T17:35:05.570Z","type":"quit"}
{"nick":"hij1nx","date":"2012-03-27T17:45:22.537Z","type":"join"}
{"nick":"paddybyers","date":"2012-03-27T17:51:51.564Z","type":"join"}
{"nick":"AndreasMadsen","date":"2012-03-27T17:51:59.361Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T17:54:14.656Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: did the msft meeting get canned?","date":"2012-03-27T18:02:37.523Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: or are we still having it today?","date":"2012-03-27T18:02:43.884Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: let's do one last one today","date":"2012-03-27T18:03:02.520Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and then start doing the weekly standup","date":"2012-03-27T18:03:19.924Z","type":"message"}
{"nick":"piscisaureus_","message":"k","date":"2012-03-27T18:03:44.019Z","type":"message"}
{"nick":"dylukes","reason":"Quit: Pipes are broken. Sending packets via Fedex.","date":"2012-03-27T18:04:18.558Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-27T18:04:48.528Z","type":"join"}
{"nick":"pietern","reason":"Remote host closed the connection","date":"2012-03-27T18:05:27.270Z","type":"quit"}
{"nick":"pietern","date":"2012-03-27T18:05:40.550Z","type":"join"}
{"nick":"perezd_","date":"2012-03-27T18:05:42.148Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-03-27T18:06:09.254Z","type":"quit"}
{"nick":"perezd","reason":"Ping timeout: 265 seconds","date":"2012-03-27T18:06:33.963Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-03-27T18:06:34.259Z","type":"nick"}
{"nick":"pietern","reason":"Remote host closed the connection","date":"2012-03-27T18:06:35.349Z","type":"quit"}
{"nick":"indutny","message":"isaacs: ping","date":"2012-03-27T18:09:08.688Z","type":"message"}
{"nick":"pietern","date":"2012-03-27T18:09:19.439Z","type":"join"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-03-27T18:11:34.047Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-03-27T18:15:07.165Z","type":"join"}
{"nick":"dap","date":"2012-03-27T18:17:21.531Z","type":"join"}
{"nick":"brson","date":"2012-03-27T18:18:24.155Z","type":"join"}
{"nick":"brson","reason":"Client Quit","date":"2012-03-27T18:21:09.692Z","type":"quit"}
{"nick":"brson","date":"2012-03-27T18:21:21.325Z","type":"join"}
{"nick":"brson","reason":"Client Quit","date":"2012-03-27T18:21:34.719Z","type":"quit"}
{"nick":"dap1","date":"2012-03-27T18:26:16.505Z","type":"join"}
{"nick":"dap","reason":"Ping timeout: 245 seconds","date":"2012-03-27T18:29:49.378Z","type":"quit"}
{"nick":"isaacs","message":"indutny: hey","date":"2012-03-27T18:31:30.942Z","type":"message"}
{"nick":"indutny","message":"isaacs: https://github.com/indutny/node/commit/e93d2c2b2aab2f557b7250b01d1b0ba7df2cac44","date":"2012-03-27T18:31:55.766Z","type":"message"}
{"nick":"indutny","message":"isaacs: can you try that? (with reverting 50ms commit)","date":"2012-03-27T18:32:04.275Z","type":"message"}
{"nick":"isaacs","message":"sure, one sec","date":"2012-03-27T18:32:10.964Z","type":"message"}
{"nick":"isaacs","message":"running make test now","date":"2012-03-27T18:33:03.135Z","type":"message"}
{"nick":"isaacs","message":"whoops, had a stray v0.6 node runnign","date":"2012-03-27T18:33:57.103Z","type":"message"}
{"nick":"isaacs","message":"tests seem to pass ok","date":"2012-03-27T18:34:06.786Z","type":"message"}
{"nick":"indutny","message":"woow","date":"2012-03-27T18:34:11.393Z","type":"message"}
{"nick":"indutny","message":"that's what I was afraid of","date":"2012-03-27T18:34:23.722Z","type":"message"}
{"nick":"isaacs","message":"gonna try the repeated abusive test...","date":"2012-03-27T18:34:25.769Z","type":"message"}
{"nick":"isaacs","message":"one sec","date":"2012-03-27T18:34:27.005Z","type":"message"}
{"nick":"indutny","message":"if it fixes our problem then we was misusing API all that time :D","date":"2012-03-27T18:35:07.646Z","type":"message"}
{"nick":"indutny","message":"probably it was broken and we thought that was a feature :)","date":"2012-03-27T18:35:21.863Z","type":"message"}
{"nick":"isaacs","message":"indutny: if you do ^D then it freezes.","date":"2012-03-27T18:35:26.900Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^D on what?","date":"2012-03-27T18:35:36.539Z","type":"message"}
{"nick":"isaacs","message":"i think that might be a bug in the new repl stuff, though","date":"2012-03-27T18:35:36.738Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: ^","date":"2012-03-27T18:35:38.792Z","type":"message"}
{"nick":"isaacs","message":"indutny: on the debugger","date":"2012-03-27T18:35:44.419Z","type":"message"}
{"nick":"orlandovftw","date":"2012-03-27T18:35:49.528Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: run this: ./node debug test/fixtures/breakpoints.js","date":"2012-03-27T18:35:58.114Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: then press ^D","date":"2012-03-27T18:36:01.823Z","type":"message"}
{"nick":"indutny","message":"a repl bug","date":"2012-03-27T18:36:04.548Z","type":"message"}
{"nick":"isaacs","message":"stdin closes, but the debugger doesn't quit.","date":"2012-03-27T18:36:10.604Z","type":"message"}
{"nick":"indutny","message":"./node debug lib/fs.js","date":"2012-03-27T18:36:11.258Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ok that's a bug i think","date":"2012-03-27T18:36:40.639Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-03-27T18:36:44.692Z","type":"message"}
{"nick":"TooTallNate","message":"^D should emit 'exit' on a repl","date":"2012-03-27T18:36:46.630Z","type":"message"}
{"nick":"TooTallNate","message":"one sec, should be easy","date":"2012-03-27T18:36:56.819Z","type":"message"}
{"nick":"isaacs","message":"right, so i think maybe the debugger isn't catching it, or it's not getting emitted","date":"2012-03-27T18:36:59.982Z","type":"message"}
{"nick":"isaacs","message":"looks like a little thing, probably","date":"2012-03-27T18:37:04.195Z","type":"message"}
{"nick":"dylukes","date":"2012-03-27T18:37:11.303Z","type":"join"}
{"nick":"indutny","message":"so about debugger","date":"2012-03-27T18:37:11.540Z","type":"message"}
{"nick":"indutny","message":"lets pull that if it works","date":"2012-03-27T18:37:16.922Z","type":"message"}
{"nick":"isaacs","message":"indutny: otherwise, it seems like this patch works","date":"2012-03-27T18:37:18.598Z","type":"message"}
{"nick":"indutny","message":"isaacs: cool","date":"2012-03-27T18:37:24.708Z","type":"message"}
{"nick":"isaacs","message":"and it's the least hacky","date":"2012-03-27T18:37:32.123Z","type":"message"}
{"nick":"indutny","message":"even more, it's not hacky at all :)","date":"2012-03-27T18:37:42.935Z","type":"message"}
{"nick":"isaacs","message":"100 tests in a row passed with it","date":"2012-03-27T18:37:45.151Z","type":"message"}
{"nick":"indutny","message":"cool","date":"2012-03-27T18:38:03.180Z","type":"message"}
{"nick":"indutny","message":"going to push it","date":"2012-03-27T18:38:07.238Z","type":"message"}
{"nick":"isaacs","message":"so i'm convinced","date":"2012-03-27T18:38:07.704Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2012-03-27T18:38:10.541Z","type":"message"}
{"nick":"isaacs","message":"please change the message","date":"2012-03-27T18:38:16.162Z","type":"message"}
{"nick":"isaacs","message":"it's not a possible fix.  Have confidence!  it IS a fix!","date":"2012-03-27T18:38:25.689Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-03-27T18:38:29.537Z","type":"message"}
{"nick":"indutny","message":"that's a temporary message :)","date":"2012-03-27T18:38:33.397Z","type":"message"}
{"nick":"isaacs","message":"for sure","date":"2012-03-27T18:38:58.735Z","type":"message"}
{"nick":"isaacs","message":"lgtm, though","date":"2012-03-27T18:39:02.645Z","type":"message"}
{"nick":"isaacs","message":"thanks!","date":"2012-03-27T18:39:04.063Z","type":"message"}
{"nick":"indutny","message":"np","date":"2012-03-27T18:40:32.316Z","type":"message"}
{"nick":"indutny","message":"isaacs: https://github.com/indutny/node/commit/5e8c2b0768f32051457cb6cb7e068722e4348fa4","date":"2012-03-27T18:40:59.837Z","type":"message"}
{"nick":"indutny","message":"isaacs: please review message","date":"2012-03-27T18:41:06.434Z","type":"message"}
{"nick":"isaacs","message":"indutny: lgtm!","date":"2012-03-27T18:41:26.990Z","type":"message"}
{"nick":"indutny","message":"ok, pushing to master with a 50ms commit revert","date":"2012-03-27T18:41:35.739Z","type":"message"}
{"nick":"indutny","message":"should we backport that to v0.6.x","date":"2012-03-27T18:41:47.026Z","type":"message"}
{"nick":"indutny","message":"?","date":"2012-03-27T18:41:47.646Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00025e8c2b0\u000f \u000310\u000f/ src/node.cc \u0002:\u000f ","date":"2012-03-27T18:41:49.014Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f debugger: use v8 api to wait for a connection","date":"2012-03-27T18:41:49.014Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Use v8::Debug::EnableAgent(_, _, true) to wait for incoming","date":"2012-03-27T18:41:49.014Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f debugger-client connection before emitting any break (or other) events.","date":"2012-03-27T18:41:49.014Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f This commit should fix test/simple/test-debugger-repl faults. - http://git.io/hWikww","date":"2012-03-27T18:41:49.014Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00020022477\u000f \u000310\u000f/ src/node.js \u0002:\u000f ","date":"2012-03-27T18:41:50.326Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Revert \"debug: Wait 50ms before running the main module\"","date":"2012-03-27T18:41:50.560Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f This reverts commit c781f17742170f2e127f9ee6652c56b406c30586. - http://git.io/ZO4ClQ","date":"2012-03-27T18:41:50.756Z","type":"message"}
{"nick":"indutny","message":"or is v0.6 freezed?","date":"2012-03-27T18:41:53.572Z","type":"message"}
{"nick":"theCole","date":"2012-03-27T18:44:23.730Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: you can backport it if it fixes bugs and does not introduce contract changes","date":"2012-03-27T18:45:02.981Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: no contract changes, but lets see how it'll behave in master first","date":"2012-03-27T18:45:26.266Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T18:46:37.503Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: yt?","date":"2012-03-27T18:49:25.502Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: sup?","date":"2012-03-27T18:49:36.543Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: did you see isaacs' message about the weekly call?","date":"2012-03-27T18:49:48.969Z","type":"message"}
{"nick":"TooTallNate","message":"ya","date":"2012-03-27T18:49:58.581Z","type":"message"}
{"nick":"isaacs","message":"indutny: yes, this is suitable for v0.6","date":"2012-03-27T18:50:44.603Z","type":"message"}
{"nick":"indutny","message":"isaacs: ok, lets see what travis will say","date":"2012-03-27T18:54:18.335Z","type":"message"}
{"nick":"isaacs","message":":);","date":"2012-03-27T18:54:52.504Z","type":"message"}
{"nick":"dvv","date":"2012-03-27T18:55:00.436Z","type":"part"}
{"nick":"isaacs","message":"travis has been pretty pleased with us lately","date":"2012-03-27T18:55:05.333Z","type":"message"}
{"nick":"isaacs","message":"more so than before","date":"2012-03-27T18:55:08.134Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-03-27T18:55:49.243Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: indutny: piscisaureus_: https://github.com/TooTallNate/node/commit/repl-end-emits-exit","date":"2012-03-27T18:57:34.684Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T18:58:06.099Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#647 (master - 0022477 : Fedor Indutny): The build is still failing.","date":"2012-03-27T18:58:06.299Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/698e795...0022477","date":"2012-03-27T18:58:06.299Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/959175","date":"2012-03-27T18:58:06.299Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T18:58:06.299Z","type":"part"}
{"nick":"indutny","message":"travis-ci: [05:10|% 100|+ 381|-   2]: DoneKilled","date":"2012-03-27T18:58:23.609Z","type":"message"}
{"nick":"indutny","message":"hehehe","date":"2012-03-27T18:58:25.250Z","type":"message"}
{"nick":"indutny","message":"eio-race","date":"2012-03-27T18:58:27.716Z","type":"message"}
{"nick":"indutny","message":"and some cluster test","date":"2012-03-27T18:58:32.234Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: looks good.  only issue: can you shave 3 chars off the first line of the commit message?","date":"2012-03-27T18:58:55.449Z","type":"message"}
{"nick":"isaacs","message":"if not, that's fine, too","date":"2012-03-27T18:59:00.011Z","type":"message"}
{"nick":"isaacs","message":"code looks good, and test ++","date":"2012-03-27T18:59:21.963Z","type":"message"}
{"nick":"TooTallNate","message":"yup, commit message redone","date":"2012-03-27T18:59:34.496Z","type":"message"}
{"nick":"piscisaureus_","message":"huh","date":"2012-03-27T19:00:18.906Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: why would you want to emit end on stdin?","date":"2012-03-27T19:00:27.790Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: when not in \"raw\" mode, that's what ^D normally does","date":"2012-03-27T19:00:44.542Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: well, I'd think ^D would actually close the thing right?","date":"2012-03-27T19:01:05.999Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: it might be better to emit something on the readline itself though","date":"2012-03-27T19:01:14.112Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: there used to be a \"close\" event","date":"2012-03-27T19:01:22.357Z","type":"message"}
{"nick":"TooTallNate","message":"or we could just to \"end\" on the readline","date":"2012-03-27T19:01:39.609Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i agree though, this is wrong","date":"2012-03-27T19:01:49.304Z","type":"message"}
{"nick":"TooTallNate","message":"anyone piping process.stdin would get an unwanted surprise there","date":"2012-03-27T19:02:01.962Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: preference on an event name?","date":"2012-03-27T19:02:14.828Z","type":"message"}
{"nick":"TooTallNate","message":"rli.on('^D', ...) :D","date":"2012-03-27T19:03:00.276Z","type":"message"}
{"nick":"isaacs","message":"ew","date":"2012-03-27T19:03:29.046Z","type":"message"}
{"nick":"TooTallNate","message":"was kidding","date":"2012-03-27T19:03:35.021Z","type":"message"}
{"nick":"isaacs","message":"what's wrong with emitting 'end' there?","date":"2012-03-27T19:03:36.423Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: readline shouldn't emit events on it's streams, but rather on itself","date":"2012-03-27T19:03:54.220Z","type":"message"}
{"nick":"isaacs","message":"hm.  yeah, i guess that's true.","date":"2012-03-27T19:04:01.772Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: if someone was piping stdin separate from the readline, then it would stop there","date":"2012-03-27T19:04:12.664Z","type":"message"}
{"nick":"TooTallNate","message":"which is probably undesireable","date":"2012-03-27T19:04:19.203Z","type":"message"}
{"nick":"isaacs","message":"so just do this in there instead of emitting?","date":"2012-03-27T19:04:25.148Z","type":"message"}
{"nick":"isaacs","message":"+    self.rli.output.write('\\n');","date":"2012-03-27T19:04:26.737Z","type":"message"}
{"nick":"isaacs","message":" \t 173\t","date":"2012-03-27T19:04:27.287Z","type":"message"}
{"nick":"isaacs","message":"+    self.emit('exit');","date":"2012-03-27T19:04:27.287Z","type":"message"}
{"nick":"isaacs","message":" \t 174\t","date":"2012-03-27T19:04:29.013Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: if the user uses a socket for the repl it has to clean it up somehow.","date":"2012-03-27T19:04:58.184Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: repl emits 'exit'; that's fine. but we need an event name for the readline instance","date":"2012-03-27T19:04:58.439Z","type":"message"}
{"nick":"isaacs","message":"maybe add a readline.end() method","date":"2012-03-27T19:05:00.207Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: piscisaureus_: we're just trying to think of an event name that rli should emit when ^D is pressed","date":"2012-03-27T19:05:36.078Z","type":"message"}
{"nick":"isaacs","message":"so, instead of this.input.emit('end') just do this.emit('end')","date":"2012-03-27T19:05:40.828Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-03-27T19:05:41.810Z","type":"message"}
{"nick":"piscisaureus_","message":"end would make sense there","date":"2012-03-27T19:05:45.814Z","type":"message"}
{"nick":"TooTallNate","message":"when ^C is pressed, 'SIGINT' gets emitted","date":"2012-03-27T19:05:48.033Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ya that would be fine","date":"2012-03-27T19:06:05.485Z","type":"message"}
{"nick":"TooTallNate","message":"as long as everyone is fine with \"end\"","date":"2012-03-27T19:06:12.329Z","type":"message"}
{"nick":"piscisaureus_","message":"I am fine I guess","date":"2012-03-27T19:06:17.949Z","type":"message"}
{"nick":"TooTallNate","message":"ok one sec","date":"2012-03-27T19:06:25.492Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: then the repl.js, you need to listen to input.on('end') as well as rli.on('end')?","date":"2012-03-27T19:06:29.305Z","type":"message"}
{"nick":"TooTallNate","message":"we'll have to document it too","date":"2012-03-27T19:06:29.519Z","type":"message"}
{"nick":"piscisaureus_","message":"Ir the rli has to emit end when the input does that","date":"2012-03-27T19:06:52.602Z","type":"message"}
{"nick":"piscisaureus_","message":"s/Ir/Or","date":"2012-03-27T19:06:58.080Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: well... maybe... i think if it's not in 'terminal' mode then ^D would emit end on process.stdin","date":"2012-03-27T19:07:00.537Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: well","date":"2012-03-27T19:07:16.275Z","type":"message"}
{"nick":"TooTallNate","message":"hmmm, tough call","date":"2012-03-27T19:07:51.739Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ^D closes the pipe, which makes libuv read 0 bytes, which in turn is emitted as end","date":"2012-03-27T19:07:58.603Z","type":"message"}
{"nick":"TooTallNate","message":"^ that's when *not* in raw mode though, right?","date":"2012-03-27T19:08:20.939Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: emitting \"end\" on stdin is a variation on cargo cult programming I'd say","date":"2012-03-27T19:08:33.537Z","type":"message"}
{"nick":"TooTallNate","action":"googles \"cargo cult programming\"","date":"2012-03-27T19:08:54.025Z","type":"action"}
{"nick":"piscisaureus_","message":"TooTallNate: yes, in raw mode ^C and ^D are just passon on as keypresses","date":"2012-03-27T19:09:09.182Z","type":"message"}
{"nick":"TooTallNate","message":"so here's the discrepancy:","date":"2012-03-27T19:09:22.490Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: http://en.wikipedia.org/wiki/Cargo_cult","date":"2012-03-27T19:09:23.271Z","type":"message"}
{"nick":"piscisaureus_","message":"also http://en.wikipedia.org/wiki/Cargo_cult_programming","date":"2012-03-27T19:09:47.601Z","type":"message"}
{"nick":"TooTallNate","message":"when not in \"terminal\" mode, readline emits \"SIGINT\" (and potentially \"end\" as we are talking about)","date":"2012-03-27T19:09:47.827Z","type":"message"}
{"nick":"TooTallNate","message":"err, ^ i mean when *in\" terminal mode","date":"2012-03-27T19:10:02.240Z","type":"message"}
{"nick":"TooTallNate","message":"but when *not* in terminal mode, ^C would exit the process","date":"2012-03-27T19:10:14.015Z","type":"message"}
{"nick":"TooTallNate","message":"^D would emit 'end' on stdin","date":"2012-03-27T19:10:19.121Z","type":"message"}
{"nick":"TooTallNate","message":"so for \"repl\" to emit \"exit\" on: \".exit\", 2 ^C's, or ^D","date":"2012-03-27T19:12:16.837Z","type":"message"}
{"nick":"TooTallNate","message":"2 ^C's is only possible in 'terminal' mode","date":"2012-03-27T19:12:27.379Z","type":"message"}
{"nick":"TooTallNate","message":"but .exit and ^D should be possible","date":"2012-03-27T19:12:39.665Z","type":"message"}
{"nick":"isaacs","message":"yeah, don't emit anything on stdin.","date":"2012-03-27T19:12:45.124Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: actually, I think ^D does not actually close stdin","date":"2012-03-27T19:12:56.770Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ya i agree","date":"2012-03-27T19:12:57.410Z","type":"message"}
{"nick":"isaacs","message":"just emit on the rli itself, and exit the repl based on that","date":"2012-03-27T19:12:57.608Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: It'll just flush the readline buffer into the application","date":"2012-03-27T19:13:28.975Z","type":"message"}
{"nick":"piscisaureus_","message":"so if you do it when the readline is empty, the application will see 0 bytes","date":"2012-03-27T19:13:45.997Z","type":"message"}
{"nick":"piscisaureus_","message":"and interpret that as ed","date":"2012-03-27T19:13:50.529Z","type":"message"}
{"nick":"piscisaureus_","message":"*end","date":"2012-03-27T19:13:52.463Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: are you talking about when in 'terminal' mode or not?","date":"2012-03-27T19:14:09.650Z","type":"message"}
{"nick":"piscisaureus_","message":"But I think after that you can just carry on reading","date":"2012-03-27T19:14:13.121Z","type":"message"}
{"nick":"piscisaureus_","message":"when in readline mode","date":"2012-03-27T19:14:18.660Z","type":"message"}
{"nick":"piscisaureus_","message":"so, not terminal mode","date":"2012-03-27T19:14:23.221Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: im getting 'end' on ^D","date":"2012-03-27T19:15:39.531Z","type":"message"}
{"nick":"TooTallNate","message":"in regular (readline) mode","date":"2012-03-27T19:15:48.492Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T19:16:43.725Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate: I know, because that's how libuv interprets that","date":"2012-03-27T19:17:35.024Z","type":"message"}
{"nick":"piscisaureus_","message":"you know what, never mind\\","date":"2012-03-27T19:17:43.348Z","type":"message"}
{"nick":"piscisaureus_","message":"just emit something on readline","date":"2012-03-27T19:17:50.617Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: so here are the solution space boundaries:","date":"2012-03-27T19:19:39.480Z","type":"message"}
{"nick":"piscisaureus_","message":"(1) don't emit anything on the input stream.","date":"2012-03-27T19:19:39.678Z","type":"message"}
{"nick":"piscisaureus_","message":"(2) don't close the input if it's stdin (cuz that is not allowed).","date":"2012-03-27T19:19:39.679Z","type":"message"}
{"nick":"piscisaureus_","message":"(3) Make sure that if the user connects a *socket* to the repl, there is a proper way to clean up the socket after readline stops.","date":"2012-03-27T19:19:39.679Z","type":"message"}
{"nick":"piscisaureus_","message":"For the rest I don't care much","date":"2012-03-27T19:20:09.587Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: ya those are fine constraints","date":"2012-03-27T19:20:20.032Z","type":"message"}
{"nick":"TooTallNate","message":"and i agree 100%","date":"2012-03-27T19:20:24.417Z","type":"message"}
{"nick":"dylukes","reason":"Quit: Pipes are broken. Sending packets via Fedex.","date":"2012-03-27T19:22:32.426Z","type":"quit"}
{"nick":"dylukes","date":"2012-03-27T19:25:31.435Z","type":"join"}
{"nick":"TooTallNate","message":"piscisaureus_: how do you feel about having the readline instance re-emit 'end' on itself when a real one happend on the input stream?","date":"2012-03-27T19:25:44.966Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: that way a user of readline doesn't need to listen for 'end' in 2 places","date":"2012-03-27T19:25:59.717Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: +1","date":"2012-03-27T19:28:20.108Z","type":"message"}
{"nick":"dvv","date":"2012-03-27T19:33:05.243Z","type":"join"}
{"nick":"dvv","message":"Hi! Should I uv_close() expired one-time timers?","date":"2012-03-27T19:33:37.014Z","type":"message"}
{"nick":"piscisaureus_","message":"dvv: yes","date":"2012-03-27T19:33:44.029Z","type":"message"}
{"nick":"dvv","message":"and pass on_close != NULL to uv_close()?","date":"2012-03-27T19:34:08.634Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: isaacs: ok i think it's good this time: https://github.com/TooTallNate/node/commit/repl-end-emits-exit","date":"2012-03-27T19:34:08.999Z","type":"message"}
{"nick":"piscisaureus_","message":"dvv: if they are malloced() you probably will want to free the memory in the close callback","date":"2012-03-27T19:34:32.397Z","type":"message"}
{"nick":"dvv","message":"right. thanks","date":"2012-03-27T19:34:43.007Z","type":"message"}
{"nick":"piscisaureus_","message":"dvv: if the uv_timer_t is static then you can probably just leave them alone","date":"2012-03-27T19:35:06.820Z","type":"message"}
{"nick":"dvv","message":"NULL as callback means \"close in sync manner\"?","date":"2012-03-27T19:35:26.425Z","type":"message"}
{"nick":"piscisaureus_","message":"dvv: no that means make no close callback","date":"2012-03-27T19:35:34.051Z","type":"message"}
{"nick":"dvv","message":"i see","date":"2012-03-27T19:35:41.792Z","type":"message"}
{"nick":"piscisaureus_","message":"dvv: there is no sync close","date":"2012-03-27T19:35:42.923Z","type":"message"}
{"nick":"piscisaureus_","message":"although for timers we could probably do that","date":"2012-03-27T19:35:54.407Z","type":"message"}
{"nick":"piscisaureus_","message":"but we wanted to keep the api consistent","date":"2012-03-27T19:36:07.412Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: looks good","date":"2012-03-27T19:36:15.836Z","type":"message"}
{"nick":"dvv","message":"right","date":"2012-03-27T19:36:19.878Z","type":"message"}
{"nick":"dap1","reason":"Quit: Leaving.","date":"2012-03-27T19:36:51.167Z","type":"quit"}
{"nick":"dap","date":"2012-03-27T19:37:20.992Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: actually, gonna add some docs first","date":"2012-03-27T19:37:31.880Z","type":"message"}
{"nick":"elijah-mbp","new_nick":"eli-away","date":"2012-03-27T19:39:38.911Z","type":"nick"}
{"nick":"djego","date":"2012-03-27T19:42:49.609Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: piscisaureus_: ok added some docs https://github.com/TooTallNate/node/commit/repl-end-emits-exit","date":"2012-03-27T19:43:40.068Z","type":"message"}
{"nick":"TooTallNate","message":"gonna land unless there's any last comments","date":"2012-03-27T19:43:46.574Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002144c646\u000f \u000310\u000f/ (test/test-fs-event.c test/test-list.h)\u0002:\u000f Add fs_event_close_with_pending_event test - http://git.io/wlgHUw","date":"2012-03-27T19:43:46.771Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: can you review that? --^","date":"2012-03-27T19:44:01.794Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: will have a patch later today","date":"2012-03-27T19:44:07.697Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: will look at it but I have to run (literally) now","date":"2012-03-27T19:44:18.232Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 244 seconds","date":"2012-03-27T19:44:18.716Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: ok no worries. i'll have isaacs ok it","date":"2012-03-27T19:44:42.467Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T19:45:33.513Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#150 (reviewme - 144c646 : Bert Belder): The build is still failing.","date":"2012-03-27T19:45:33.713Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/91fa014...144c646","date":"2012-03-27T19:45:33.713Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/959718","date":"2012-03-27T19:45:33.713Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T19:45:33.713Z","type":"part"}
{"nick":"igorzi","message":"piscisaureus_: lgtm.. so that reproduces it?","date":"2012-03-27T19:46:01.282Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 245 seconds","date":"2012-03-27T19:49:18.003Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-27T19:50:03.606Z","type":"quit"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-03-27T19:50:06.929Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-27T19:51:14.393Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-03-27T19:51:22.992Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-03-27T19:52:10.632Z","type":"join"}
{"nick":"dshaw_1","date":"2012-03-27T19:55:22.186Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T19:55:29.022Z","type":"quit"}
{"nick":"dshaw_","reason":"Ping timeout: 244 seconds","date":"2012-03-27T19:55:40.301Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2012-03-27T19:57:20.101Z","type":"quit"}
{"nick":"igorzi","date":"2012-03-27T19:58:39.709Z","type":"join"}
{"nick":"dylukes","reason":"Quit: Pipes are broken. Sending packets via Fedex.","date":"2012-03-27T19:58:50.253Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-03-27T20:05:07.440Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: well, that at least triggers *a* bug","date":"2012-03-27T20:06:30.823Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: because a fs event is reported after close","date":"2012-03-27T20:06:43.594Z","type":"message"}
{"nick":"piscisaureus_","message":"so now I will fix it","date":"2012-03-27T20:06:48.044Z","type":"message"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-03-27T20:07:22.642Z","type":"quit"}
{"nick":"igorzi","message":"https://github.com/igorzi/libuv/commit/917ebd264ab284f6522e6bf684fef5f28174448b","date":"2012-03-27T20:24:47.326Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ^","date":"2012-03-27T20:24:51.019Z","type":"message"}
{"nick":"dvv","date":"2012-03-27T20:25:14.736Z","type":"part"}
{"nick":"igorzi","message":"bbiab","date":"2012-03-27T20:25:16.502Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: k, I will take a look","date":"2012-03-27T20:25:19.875Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: I got another one of those TLS related lockups we talked about before, this time on SmartOS.","date":"2012-03-27T20:25:41.904Z","type":"message"}
{"nick":"ryah","message":"thread local storage or transport layer security?","date":"2012-03-27T20:28:03.115Z","type":"message"}
{"nick":"tjfontaine","message":"the former I think","date":"2012-03-27T20:29:43.797Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T20:32:59.757Z","type":"join"}
{"nick":"brson","date":"2012-03-27T20:34:51.930Z","type":"join"}
{"nick":"piscisaureus_","message":"TooTallNate: your patch lgtm","date":"2012-03-27T20:37:04.200Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T20:45:28.502Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#1 (cleanup-nodeos - 8b8b999 : Karl Skomski): The build failed.","date":"2012-03-27T20:45:28.705Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/83aae35^...8b8b999","date":"2012-03-27T20:45:28.705Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960057","date":"2012-03-27T20:45:28.705Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T20:45:28.705Z","type":"part"}
{"nick":"dshaw_","date":"2012-03-27T20:46:01.695Z","type":"join"}
{"nick":"dshaw_1","reason":"Ping timeout: 245 seconds","date":"2012-03-27T20:46:48.004Z","type":"quit"}
{"nick":"travis-ci","date":"2012-03-27T20:51:06.795Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#2 (cleanup-nodeos - c5f3730 : Karl Skomski): The build is still failing.","date":"2012-03-27T20:51:06.991Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/8b8b999...c5f3730","date":"2012-03-27T20:51:06.991Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960116","date":"2012-03-27T20:51:06.992Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T20:51:06.992Z","type":"part"}
{"nick":"TooTallNate","message":"piscisaureus_: thanks","date":"2012-03-27T20:55:27.887Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u0002f41901c\u000f \u000310\u000f/ (5 files in 3 dirs)\u0002:\u000f ","date":"2012-03-27T20:55:30.328Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f repl: make ^D emit an 'end' event on the readline instance","date":"2012-03-27T20:55:30.328Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Also emit 'exit' on the repl when 'end' is emitted on the readline.","date":"2012-03-27T20:55:30.328Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Fixes `node debug test/fixtures/breakpoints.js` when ^D is pressed. - http://git.io/FU68VA","date":"2012-03-27T20:55:30.328Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: the write loop?","date":"2012-03-27T20:56:15.158Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: yep","date":"2012-03-27T20:57:39.261Z","type":"message"}
{"nick":"mjr_","message":"But this time, I got a core","date":"2012-03-27T20:57:44.615Z","type":"message"}
{"nick":"bnoordhuis","message":"woo!","date":"2012-03-27T20:57:49.858Z","type":"message"}
{"nick":"mjr_","message":"oh, and this!  http://ranney.com/stuck.svg","date":"2012-03-27T20:57:58.612Z","type":"message"}
{"nick":"bnoordhuis","message":"intriguing","date":"2012-03-27T20:58:33.784Z","type":"message"}
{"nick":"mjr_","message":"Not sure if that helps with anything, but it looks awesome.","date":"2012-03-27T20:58:47.942Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: can you upload the binary and the core file somewhere? i can probably look at it tomorrow","date":"2012-03-27T21:01:43.488Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u00027e8fe3e\u000f \u000310\u000f/ test/test-fs-event.c \u0002:\u000f test-fs-event.c: style - http://git.io/VvtHMw","date":"2012-03-27T21:01:53.403Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002732cf91\u000f \u000310\u000f/ (test/test-fs-event.c test/test-list.h)\u0002:\u000f Test: verify that no callbacks are made after closing an fs event watcher - http://git.io/mI3Dnw","date":"2012-03-27T21:01:56.946Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u000289303f3\u000f \u000310\u000f/ test/test-fs-event.c \u0002:\u000f Fs event tests: don't fail if a previously failed test left stray files - http://git.io/dnl1cA","date":"2012-03-27T21:01:57.930Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00021795427\u000f \u000310\u000f/ src/win/fs-event.c \u0002:\u000f Windows: never call fs event callbacks after closing the watcher - http://git.io/d2P-yw","date":"2012-03-27T21:01:59.123Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002aff0783\u000f \u000310\u000f/ (test/test-fs-event.c test/test-list.h)\u0002:\u000f Test: verify that uv_close from an fs event callback works properly - http://git.io/R0pXRA","date":"2012-03-27T21:02:00.373Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: can you review ^ ?","date":"2012-03-27T21:02:54.972Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: this should fix the fs event issues","date":"2012-03-27T21:03:03.890Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:03:53.794Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#5 (master - 1cba068 : Karl Skomski): The build failed.","date":"2012-03-27T21:03:53.999Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/0022477...1cba068","date":"2012-03-27T21:03:53.999Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960322","date":"2012-03-27T21:03:53.999Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:03:53.999Z","type":"part"}
{"nick":"travis-ci","date":"2012-03-27T21:04:08.788Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#3 (cleanup-nodeos - 044d9b3 : Karl Skomski): The build is still failing.","date":"2012-03-27T21:04:08.872Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/c5f3730...044d9b3","date":"2012-03-27T21:04:08.872Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960226","date":"2012-03-27T21:04:08.873Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:04:08.873Z","type":"part"}
{"nick":"piscisaureus_","message":"mmalecki: can you not make travis a little smarter?","date":"2012-03-27T21:06:08.919Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: so that it does not post messages for forks?","date":"2012-03-27T21:06:23.750Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i think it only does that when that someone enables it on their account","date":"2012-03-27T21:06:55.688Z","type":"message"}
{"nick":"dylukes","date":"2012-03-27T21:06:57.863Z","type":"join"}
{"nick":"TooTallNate","message":"so i think skomski enabled it explicitly","date":"2012-03-27T21:07:05.210Z","type":"message"}
{"nick":"AvianFlu","message":"yeah, somebody activates the travis hook on their fork for that to happen","date":"2012-03-27T21:07:08.041Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: or some setting in .travis.yml so that you can specify for which repos it is enabled","date":"2012-03-27T21:07:30.452Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: right now, to disable travis people basically have to float a patch","date":"2012-03-27T21:07:58.483Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: it's off by default though; notifications from your libuv fork don't get shown here","date":"2012-03-27T21:08:34.167Z","type":"message"}
{"nick":"TooTallNate","message":"but i agree, some solution would be nice :)","date":"2012-03-27T21:09:05.283Z","type":"message"}
{"nick":"tjfontaine","message":"I'd mostly be content with just not using the current irc notification mechanism and opt for something CIA like that can lurk","date":"2012-03-27T21:10:30.685Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:10:35.518Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#151 (v0.6 - 7e8fe3e : Bert Belder): The build is still failing.","date":"2012-03-27T21:10:35.718Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/8409a67...7e8fe3e","date":"2012-03-27T21:10:35.718Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/960376","date":"2012-03-27T21:10:35.718Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:10:35.718Z","type":"part"}
{"nick":"piscisaureus_","message":"maybe travis should identify as travis-###","date":"2012-03-27T21:10:47.683Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:10:50.748Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#4 (master - 0022477 : Fedor Indutny): The build failed.","date":"2012-03-27T21:10:50.948Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/4515987...0022477","date":"2012-03-27T21:10:50.948Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960298","date":"2012-03-27T21:10:50.948Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:10:50.948Z","type":"part"}
{"nick":"piscisaureus_","message":"so we can just ban the travis bot for users that we don't want","date":"2012-03-27T21:11:10.181Z","type":"message"}
{"nick":"tjfontaine","message":"heh, well using the notification api would probably easier","date":"2012-03-27T21:11:30.517Z","type":"message"}
{"nick":"TooTallNate","message":"is CIA different than the regular github IRC hook?","date":"2012-03-27T21:12:25.557Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:12:34.135Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#152 (reviewme - 1795427 : Bert Belder): The build is still failing.","date":"2012-03-27T21:12:34.338Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/144c646...1795427","date":"2012-03-27T21:12:34.338Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/960379","date":"2012-03-27T21:12:34.338Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:12:34.338Z","type":"part"}
{"nick":"tjfontaine","message":"TooTallNate: yes, the github (and travis) style just spawn a new connection, join a channel, spew, and quit","date":"2012-03-27T21:13:03.947Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: where as the cia or hubot stuff you can have persistent connections with","date":"2012-03-27T21:13:21.672Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: it is not wrong that people enable travis on their fork. Actually, +1","date":"2012-03-27T21:13:21.871Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:13:32.470Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#648 (master - f41901c : Nathan Rajlich): The build is still failing.","date":"2012-03-27T21:13:32.671Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/0022477...f41901c","date":"2012-03-27T21:13:32.672Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/960319","date":"2012-03-27T21:13:32.672Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:13:32.672Z","type":"part"}
{"nick":"piscisaureus_","message":"mmalecki: it's just that I don't want to see all the noise","date":"2012-03-27T21:13:35.327Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: it would also be nice if it could just spit out 1 line instead of 3. Maybe shorten the urls?","date":"2012-03-27T21:14:02.382Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: so is CIA part of hubot?","date":"2012-03-27T21:14:08.183Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: no","date":"2012-03-27T21:14:12.482Z","type":"message"}
{"nick":"TooTallNate","message":"where's the source?","date":"2012-03-27T21:14:19.481Z","type":"message"}
{"nick":"piscisaureus_","message":"it predates hubot by a decade or so :-)","date":"2012-03-27T21:14:24.961Z","type":"message"}
{"nick":"TooTallNate","message":"hahah","date":"2012-03-27T21:14:31.783Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: for the github cia hook?","date":"2012-03-27T21:14:32.012Z","type":"message"}
{"nick":"TooTallNate","message":"i guess","date":"2012-03-27T21:14:43.973Z","type":"message"}
{"nick":"TooTallNate","message":"if that's different that the regular one","date":"2012-03-27T21:14:49.067Z","type":"message"}
{"nick":"TooTallNate","message":"i'm just wondering where this bot came from is all :p","date":"2012-03-27T21:15:16.408Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:15:31.113Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#7 (master - 1cba068 : Karl Skomski): The build is still failing.","date":"2012-03-27T21:15:31.314Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/698e795...1cba068","date":"2012-03-27T21:15:31.315Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960445","date":"2012-03-27T21:15:31.315Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:15:31.315Z","type":"part"}
{"nick":"tjfontaine","message":"well as piscisaureus_ mentions, its an ancient mechanism developed back when most of us used cvs","date":"2012-03-27T21:15:40.971Z","type":"message"}
{"nick":"TooTallNate","message":"sure","date":"2012-03-27T21:16:07.849Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: http://cia.vc/ it has had a storied past","date":"2012-03-27T21:16:08.045Z","type":"message"}
{"nick":"rendar","date":"2012-03-27T21:16:18.811Z","type":"quit"}
{"nick":"TooTallNate","message":"bingo","date":"2012-03-27T21:16:25.062Z","type":"message"}
{"nick":"TooTallNate","message":"ok, i was just wondering where it came from is all; since it's not the regular github IRC hook","date":"2012-03-27T21:16:43.860Z","type":"message"}
{"nick":"TooTallNate","message":"i like CIA better","date":"2012-03-27T21:16:49.830Z","type":"message"}
{"nick":"TooTallNate","message":"irc colors and persistent user is nice","date":"2012-03-27T21:16:59.151Z","type":"message"}
{"nick":"tjfontaine","message":"no, I have taken issue with github about their irc hook, and have in fact banned its use on oftc","date":"2012-03-27T21:17:05.714Z","type":"message"}
{"nick":"dylukes","message":"So, from an API point of view, which do you guys think is superior:","date":"2012-03-27T21:17:30.624Z","type":"message"}
{"nick":"dylukes","message":"Callback based API's, or Polling based API's?","date":"2012-03-27T21:17:44.896Z","type":"message"}
{"nick":"TooTallNate","message":"polling is amost never superior","date":"2012-03-27T21:18:02.398Z","type":"message"}
{"nick":"dylukes","message":"The one key thing I can think of though is,","date":"2012-03-27T21:18:48.556Z","type":"message"}
{"nick":"dylukes","message":"callback based API's in a language like C force the user to use a specific event scheduling system.","date":"2012-03-27T21:19:01.846Z","type":"message"}
{"nick":"pfox___","message":"i think, in libuv, that's kind of the point.","date":"2012-03-27T21:19:28.385Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:19:34.857Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] Skomski/node#6 (master - 1cba068 : Karl Skomski): The build is still failing.","date":"2012-03-27T21:19:35.060Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/Skomski/node/compare/698e795...1cba068","date":"2012-03-27T21:19:35.060Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/Skomski/node/builds/960442","date":"2012-03-27T21:19:35.061Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:19:35.061Z","type":"part"}
{"nick":"dylukes","message":"Well, this is my personal musings/code.","date":"2012-03-27T21:19:37.755Z","type":"message"}
{"nick":"dylukes","message":"For instance, IOCP is a polling interface... but it works quite nicely.","date":"2012-03-27T21:19:49.249Z","type":"message"}
{"nick":"dylukes","message":"So in a sense, it makes more sense to write a polling based API and expect the users to integrate this into an event system themselves.","date":"2012-03-27T21:20:33.640Z","type":"message"}
{"nick":"dylukes","message":"Thoughts?","date":"2012-03-27T21:21:52.387Z","type":"message"}
{"nick":"sh1mmer","date":"2012-03-27T21:22:08.403Z","type":"join"}
{"nick":"chilts","reason":"Remote host closed the connection","date":"2012-03-27T21:22:21.102Z","type":"quit"}
{"nick":"djego","reason":"Quit: leaving","date":"2012-03-27T21:29:42.649Z","type":"quit"}
{"nick":"chilts","date":"2012-03-27T21:30:02.467Z","type":"join"}
{"nick":"piscisaureus_","message":"dylukes: well, I'd say in general polling based APIs are more flexible but callback based APIs are more convenient","date":"2012-03-27T21:30:24.993Z","type":"message"}
{"nick":"piscisaureus_","message":"but in the end it is possible to map one to another so it's not much of a difference","date":"2012-03-27T21:30:45.510Z","type":"message"}
{"nick":"dylukes","message":"Right but,","date":"2012-03-27T21:30:49.170Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: i'm going to review your monster patch later this week :)","date":"2012-03-27T21:30:54.506Z","type":"message"}
{"nick":"dylukes","message":"it's easier to map a callback API to a poll API than the reverse.","date":"2012-03-27T21:30:57.683Z","type":"message"}
{"nick":"dylukes","message":"You just set a value in the callback which is being polled.","date":"2012-03-27T21:31:05.035Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: take your time :P","date":"2012-03-27T21:31:16.559Z","type":"message"}
{"nick":"dylukes","message":"Whereas in the reverse, you have to continuously poll a value until it's changed, and then fire a callback.","date":"2012-03-27T21:31:27.520Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I'm of course not expecting a miracle, and I'm sure there's plenty of work that is going to need done","date":"2012-03-27T21:31:31.294Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: I lost you there","date":"2012-03-27T21:31:49.220Z","type":"message"}
{"nick":"dylukes","message":"Say you have... IOCP.","date":"2012-03-27T21:31:54.754Z","type":"message"}
{"nick":"dylukes","message":"You want to set it up so a function gets called when a read is complete.","date":"2012-03-27T21:32:17.814Z","type":"message"}
{"nick":"dylukes","message":"You have to continuously poll the value w/ GetQueuedCompletionStatus() until you get that it's done,","date":"2012-03-27T21:32:42.631Z","type":"message"}
{"nick":"dylukes","message":"and then call the callback via the event system.","date":"2012-03-27T21:33:01.905Z","type":"message"}
{"nick":"dylukes","message":"On the other hand, say you have some API which calls a callback when reading is done.","date":"2012-03-27T21:33:15.272Z","type":"message"}
{"nick":"dylukes","message":"In that callback you set some \"isDone\" flag to 1.","date":"2012-03-27T21:33:23.933Z","type":"message"}
{"nick":"dylukes","message":"See what I mean?","date":"2012-03-27T21:33:41.094Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: well, you don't have to poll continuously. GetQueuedCompletionStatus blocks until it has something to report","date":"2012-03-27T21:34:38.815Z","type":"message"}
{"nick":"dylukes","message":"Er, right. Wrong function.","date":"2012-03-27T21:34:53.235Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: and if it reports something else than what you're waiting for, you probably want to handle that too","date":"2012-03-27T21:35:04.060Z","type":"message"}
{"nick":"dylukes","message":"I forget which one just gives you a status if there is one and always returns immediately.","date":"2012-03-27T21:35:04.363Z","type":"message"}
{"nick":"dylukes","message":"Sure.","date":"2012-03-27T21:35:09.722Z","type":"message"}
{"nick":"piscisaureus_","message":"HasOverlappedIoCompleted?","date":"2012-03-27T21:35:16.189Z","type":"message"}
{"nick":"dylukes","message":"Right.","date":"2012-03-27T21:35:25.335Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-27T21:35:30.090Z","type":"message"}
{"nick":"piscisaureus_","message":"you should not spin on that","date":"2012-03-27T21:35:34.033Z","type":"message"}
{"nick":"piscisaureus_","message":"if you want to do that with windows, just use GetOverlappedResult with bWait=TRUE","date":"2012-03-27T21:35:47.029Z","type":"message"}
{"nick":"dylukes","message":"Well my point is that if you want to do a callback based on a polled value,","date":"2012-03-27T21:35:55.619Z","type":"message"}
{"nick":"dylukes","message":"you pretty much always end up having to either ","date":"2012-03-27T21:36:03.359Z","type":"message"}
{"nick":"dylukes","message":"1) block","date":"2012-03-27T21:36:04.286Z","type":"message"}
{"nick":"dylukes","message":"2) spin","date":"2012-03-27T21:36:05.583Z","type":"message"}
{"nick":"piscisaureus_","message":"Yes.","date":"2012-03-27T21:36:24.799Z","type":"message"}
{"nick":"piscisaureus_","message":"So?","date":"2012-03-27T21:36:36.278Z","type":"message"}
{"nick":"dylukes","message":"Whereas if you want to set a value to be polled based on a callback,","date":"2012-03-27T21:36:36.483Z","type":"message"}
{"nick":"dylukes","message":"you just set the value in the callback.","date":"2012-03-27T21:36:40.297Z","type":"message"}
{"nick":"piscisaureus_","message":"The situation ends up being just the same","date":"2012-03-27T21:36:49.545Z","type":"message"}
{"nick":"piscisaureus_","message":"You block or you spin","date":"2012-03-27T21:36:58.433Z","type":"message"}
{"nick":"dylukes","message":"I mean... really any program either blocks or spins :P. or exits.","date":"2012-03-27T21:37:10.784Z","type":"message"}
{"nick":"perezd_","date":"2012-03-27T21:37:41.185Z","type":"join"}
{"nick":"piscisaureus_","message":"Yeah. Well that sounds pretty crappy to me. Polling is a bad idea in 99% of the cases anyway","date":"2012-03-27T21:38:12.600Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: lgtm","date":"2012-03-27T21:39:35.806Z","type":"message"}
{"nick":"piscisaureus_","message":"Unless you have work to do if the poll doesn't report anything","date":"2012-03-27T21:39:39.168Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002aff0783\u000f \u000310\u000f/ (test/test-fs-event.c test/test-list.h)\u0002:\u000f Test: verify that uv_close from an fs event callback works properly - http://git.io/R0pXRA","date":"2012-03-27T21:40:00.090Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u00021795427\u000f \u000310\u000f/ src/win/fs-event.c \u0002:\u000f Windows: never call fs event callbacks after closing the watcher - http://git.io/d2P-yw","date":"2012-03-27T21:40:01.655Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u000289303f3\u000f \u000310\u000f/ test/test-fs-event.c \u0002:\u000f Fs event tests: don't fail if a previously failed test left stray files - http://git.io/dnl1cA","date":"2012-03-27T21:40:02.479Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002732cf91\u000f \u000310\u000f/ (test/test-fs-event.c test/test-list.h)\u0002:\u000f Test: verify that no callbacks are made after closing an fs event watcher - http://git.io/mI3Dnw","date":"2012-03-27T21:40:03.877Z","type":"message"}
{"nick":"dylukes","message":"right, but writing a cross platform API when you don't want to tie in a dependency on say, libev/libuv...","date":"2012-03-27T21:40:10.435Z","type":"message"}
{"nick":"dylukes","message":"kind of forces you to use some sort of polling.","date":"2012-03-27T21:40:17.496Z","type":"message"}
{"nick":"dylukes","message":"(or a hybrid, with polling guaranteed on all platforms, and callbacks on most or specific ones)","date":"2012-03-27T21:40:35.040Z","type":"message"}
{"nick":"perezd","reason":"Ping timeout: 272 seconds","date":"2012-03-27T21:40:36.052Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-03-27T21:40:36.755Z","type":"nick"}
{"nick":"piscisaureus_","message":"dylukes: well, libuv can do without polling, so why can't you?","date":"2012-03-27T21:40:56.149Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:41:46.994Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#153 (v0.6 - 1795427 : Bert Belder): The build is still failing.","date":"2012-03-27T21:41:47.190Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/7e8fe3e...1795427","date":"2012-03-27T21:41:47.191Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/960879","date":"2012-03-27T21:41:47.191Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:41:47.191Z","type":"part"}
{"nick":"dylukes","message":"piscisaureus_: Because I'm not integrating a whole event loop :P.","date":"2012-03-27T21:42:11.388Z","type":"message"}
{"nick":"dylukes","message":"ah well, I'll work it out.","date":"2012-03-27T21:42:26.062Z","type":"message"}
{"nick":"dylukes","message":"kqueue is a great way for BSD's.","date":"2012-03-27T21:42:52.868Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so you did some changes to inotify.c in v0.6. Can this be merged into master?","date":"2012-03-27T21:42:54.353Z","type":"message"}
{"nick":"dylukes","message":"To avoid spinning, I mean.","date":"2012-03-27T21:43:01.057Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-03-27T21:43:28.991Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-27T21:43:35.835Z","type":"join"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00026e0ca3a\u000f \u000310\u000f/ (src/win/fs-event.c test/test-fs-event.c test/test-list.h)\u0002:\u000f ","date":"2012-03-27T21:47:06.778Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Merge branch 'v0.6'","date":"2012-03-27T21:47:06.778Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f Conflicts:","date":"2012-03-27T21:47:06.778Z","type":"message"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f  src/unix/linux/inotify.c (+5 more commits...) - http://git.io/2dQ0Fg","date":"2012-03-27T21:47:06.778Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:49:03.159Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#154 (master - 6e0ca3a : Bert Belder): The build is still failing.","date":"2012-03-27T21:49:03.360Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/40e6373...6e0ca3a","date":"2012-03-27T21:49:03.361Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/960940","date":"2012-03-27T21:49:03.361Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-27T21:49:03.361Z","type":"part"}
{"nick":"hij1nx","date":"2012-03-27T21:52:55.795Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: oh man, that patch is massive","date":"2012-03-27T21:56:41.086Z","type":"message"}
{"nick":"dylukes","message":"Hrm. piscisaureus_, if I want to update my patch to stay relevant, should I just rebase it on master?","date":"2012-03-27T21:58:12.520Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah","date":"2012-03-27T21:59:11.162Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: yeah, but you can also wait a little bit/","date":"2012-03-27T22:02:27.313Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: otherwise we'll keep you busy","date":"2012-03-27T22:02:37.507Z","type":"message"}
{"nick":"piscisaureus_","message":"dylukes: if you really feel like it now, you can do it.","date":"2012-03-27T22:02:52.978Z","type":"message"}
{"nick":"dylukes","message":"Just wondering for future reference ;P.","date":"2012-03-27T22:03:05.520Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: there are a couple of duplicate commits in master","date":"2012-03-27T22:03:23.658Z","type":"message"}
{"nick":"bnoordhuis","message":"163d8de and aff94a0 for example","date":"2012-03-27T22:03:38.098Z","type":"message"}
{"nick":"bnoordhuis","message":"not a big issue though","date":"2012-03-27T22:04:06.819Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah, sometimes I landed patches on two branches","date":"2012-03-27T22:04:38.902Z","type":"message"}
{"nick":"dylukes","message":"easy to squash later.","date":"2012-03-27T22:05:02.548Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but i just merged 0.6 into master so it shouldn't hurt","date":"2012-03-27T22:05:03.546Z","type":"message"}
{"nick":"dylukes","message":"oh lord. You guys will keep me busy indeed ^^.","date":"2012-03-27T22:05:26.111Z","type":"message"}
{"nick":"dylukes","message":"If I were to continuously rebase that is.","date":"2012-03-27T22:05:36.081Z","type":"message"}
{"nick":"tjfontaine","message":"dylukes: it's generally only necessary to rebase for your own sanity checking if you think something might affect your changes, or if someone needs you to rebase so a merge will go cleanly","date":"2012-03-27T22:12:56.584Z","type":"message"}
{"nick":"dylukes","message":"Well, the thing is my changes likely affect a lot of other peoples.","date":"2012-03-27T22:13:34.198Z","type":"message"}
{"nick":"dylukes","message":"Since I changed the API for at least half a dozen udp/tcp functions.","date":"2012-03-27T22:13:45.024Z","type":"message"}
{"nick":"dylukes","message":"And I modified a dozen and a half to two dozen unit tests.","date":"2012-03-27T22:13:58.281Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T22:13:59.155Z","type":"quit"}
{"nick":"dylukes","message":"(to reflect the API changes)","date":"2012-03-27T22:14:04.198Z","type":"message"}
{"nick":"tjfontaine","message":"dylukes: the basic idea will be there for what you're doing though, that's generally enough to review unless they want to run tests against master, which at that point they'll likely ask you to rebase","date":"2012-03-27T22:14:12.995Z","type":"message"}
{"nick":"dylukes","message":"mm.","date":"2012-03-27T22:14:25.092Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ping","date":"2012-03-27T22:15:45.692Z","type":"message"}
{"nick":"isaacs","message":"hi","date":"2012-03-27T22:17:31.179Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: how does npm do it's proxy server settings?","date":"2012-03-27T22:17:51.900Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it uses request","date":"2012-03-27T22:18:00.155Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: at this point, npm doesn't do anything special with proxies ever","date":"2012-03-27T22:18:08.411Z","type":"message"}
{"nick":"isaacs","message":"it just says, \"Hey, request, use this proxy!\"","date":"2012-03-27T22:18:13.678Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: sure, i mean how/where is it configured?","date":"2012-03-27T22:18:19.304Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: why do you add stuff to run-tests.c?","date":"2012-03-27T22:18:29.411Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: is it not reasonably possible to put this in a test file?","date":"2012-03-27T22:18:55.614Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: why i'm asking is: when npm invokes node-gyp, it should pass on it's \"proxy\" setting when set","date":"2012-03-27T22:19:37.076Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2012-03-27T22:19:49.748Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: you can get the proxy setting from process.env.npm_config_proxy i bet","date":"2012-03-27T22:20:00.723Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: since node-gyp is being invoked in the npm lifecycle script","date":"2012-03-27T22:20:12.362Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ok i'll play with that","date":"2012-03-27T22:20:19.816Z","type":"message"}
{"nick":"TooTallNate","message":"i figured you were already doing something awesome like that :)","date":"2012-03-27T22:20:39.213Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T22:20:58.319Z","type":"join"}
{"nick":"isaacs","message":":)","date":"2012-03-27T22:21:24.759Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, i'll move it","date":"2012-03-27T22:23:01.089Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: cool, that was easy. node-gyp v0.3.8 (just published) uses npm proxy setting when set :)","date":"2012-03-27T22:27:19.344Z","type":"message"}
{"nick":"isaacs","message":"sweet","date":"2012-03-27T22:28:15.293Z","type":"message"}
{"nick":"k-s","new_nick":"k-s[AWAY]","date":"2012-03-27T22:30:54.992Z","type":"nick"}
{"nick":"piscisaureus_","message":"igorzi: I finished the review and added comments. I is starting to be difficult to hold the entire picture in my head, but I think it'll work :-)","date":"2012-03-27T22:32:45.903Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: thx","date":"2012-03-27T22:34:27.836Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so my greatest concern are in setting the socket to blocking, and changing the linger option. We have to be absolutely sure that this does not effect the socket in the other process.","date":"2012-03-27T22:37:19.782Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, i'll verify","date":"2012-03-27T22:37:36.156Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: if that's the case though.. then we're kind of screwed","date":"2012-03-27T22:38:00.601Z","type":"message"}
{"nick":"piscisaureus_","message":"yep ;-(","date":"2012-03-27T22:38:08.356Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think SO_LINGER is not shared but FIONIO is","date":"2012-03-27T22:41:58.368Z","type":"message"}
{"nick":"piscisaureus_","message":"er, FIONBIO *might be*","date":"2012-03-27T22:42:09.808Z","type":"message"}
{"nick":"dylukes","reason":"Quit: Computer has gone to sleep.","date":"2012-03-27T22:51:32.313Z","type":"quit"}
{"nick":"piscisaureus_","message":"igorzi: actually, I have a better idea of some sorts","date":"2012-03-27T22:55:23.460Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: because this comment from socket.c also concerns me","date":"2012-03-27T22:56:03.271Z","type":"message"}
{"nick":"piscisaureus_","message":".    // If linger is set on the socket and is connected, then perform a","date":"2012-03-27T22:56:08.714Z","type":"message"}
{"nick":"piscisaureus_","message":".    // graceful disconnect with the specified timeout.  Note that if","date":"2012-03-27T22:56:08.911Z","type":"message"}
{"nick":"piscisaureus_","message":".    // this socket handle has been exported to a child process, then the","date":"2012-03-27T22:56:08.911Z","type":"message"}
{"nick":"piscisaureus_","message":".    // child won't be able to access the socket after this.  There is no","date":"2012-03-27T22:56:08.911Z","type":"message"}
{"nick":"piscisaureus_","message":".    // reasonable way around this limitation since there is no way to","date":"2012-03-27T22:56:08.911Z","type":"message"}
{"nick":"piscisaureus_","message":".    // obtain the handle count on a socket to determine whether other","date":"2012-03-27T22:56:09.161Z","type":"message"}
{"nick":"piscisaureus_","message":".    // processes have it open.","date":"2012-03-27T22:56:09.361Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: what's the better idea?>","date":"2012-03-27T22:57:01.359Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi:","date":"2012-03-27T22:57:35.591Z","type":"message"}
{"nick":"piscisaureus_","message":"1. set SO_SNDBUF to 0","date":"2012-03-27T22:57:41.650Z","type":"message"}
{"nick":"piscisaureus_","message":"2. write 0 bytes","date":"2012-03-27T22:57:46.144Z","type":"message"}
{"nick":"piscisaureus_","message":"3. wait for it to complete","date":"2012-03-27T22:57:50.201Z","type":"message"}
{"nick":"piscisaureus_","message":"4. restore SO_SNDBUF","date":"2012-03-27T22:57:58.726Z","type":"message"}
{"nick":"piscisaureus_","message":"5. close","date":"2012-03-27T22:58:02.201Z","type":"message"}
{"nick":"piscisaureus_","message":"I am not sure if #1 is allowed while the socket is operating","date":"2012-03-27T22:58:15.253Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: http://support.microsoft.com/kb/181611 suggests that if you set SO_SNDBUF to 0 your writes won't complete until they are ACKed.","date":"2012-03-27T22:58:41.905Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: what about the pending read?  i think the connection would still get aborted if there's a pending read","date":"2012-03-27T23:00:50.561Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: does it really get aborted?","date":"2012-03-27T23:02:04.983Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes.. that's the issue","date":"2012-03-27T23:02:16.648Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah well... the problem is that the write queue is not drained before the socket is closed","date":"2012-03-27T23:02:31.752Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: the writes actually get put on the wire","date":"2012-03-27T23:02:36.667Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes it is","date":"2012-03-27T23:02:39.288Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but if another process holds the socket open the write shouldn't be discarded right?","date":"2012-03-27T23:03:07.685Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: do you know where this abort happens? is it in the kernel driver?","date":"2012-03-27T23:04:03.303Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i don't think it matters.. if you do closesocket and if there's a pending read on the socket in your process the connection gets aborted","date":"2012-03-27T23:04:07.692Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: no, i don't know exactly where it happens","date":"2012-03-27T23:04:32.189Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so... the closesocket trick with linger shouldn't work either?","date":"2012-03-27T23:04:34.024Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so the linger implementation of the \"default\" lsp is just this:","date":"2012-03-27T23:06:28.226Z","type":"message"}
{"nick":"piscisaureus_","message":"while (not_timed_out && have_pending_writes()) Sleep(T); closesocket()","date":"2012-03-27T23:07:19.540Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-27T23:10:20.400Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: hmm.. you're right.. linger should also cause the socket to be aborted","date":"2012-03-27T23:10:24.173Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: but it doesn't","date":"2012-03-27T23:10:28.179Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: let me find out more","date":"2012-03-27T23:10:34.331Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: sorry, meant \"but it does\"","date":"2012-03-27T23:11:02.550Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I can see in WSPClosesocket that it sends and IOCTL_AFD_PARTIAL_DISCONNECT message","date":"2012-03-27T23:12:32.852Z","type":"message"}
{"nick":"piscisaureus_","message":"(which is kernelspeak for shutdown(SD_SEND))","date":"2012-03-27T23:12:42.943Z","type":"message"}
{"nick":"skomski","reason":"Quit: Leaving.","date":"2012-03-27T23:12:50.881Z","type":"quit"}
{"nick":"piscisaureus_","message":"oh wait no worse","date":"2012-03-27T23:13:03.258Z","type":"message"}
{"nick":"piscisaureus_","message":"it sets the AFD_ABORTIVE_DISCONNECT flag","date":"2012-03-27T23:13:11.920Z","type":"message"}
{"nick":"piscisaureus_","message":"so it is... bad","date":"2012-03-27T23:13:19.906Z","type":"message"}
{"nick":"piscisaureus_","message":"Now I am really confused","date":"2012-03-27T23:14:07.822Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-27T23:15:59.285Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: bnoordhuis: isaacs: review? https://github.com/TooTallNate/node/commit/repl-writer-option","date":"2012-03-27T23:21:50.274Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: ^ that's required for the next patch: adding the \"useColors\" option","date":"2012-03-27T23:22:13.310Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: lgtm. does it work?","date":"2012-03-27T23:23:30.469Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: is that a hint for a test?","date":"2012-03-27T23:23:43.840Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: a test would be good","date":"2012-03-27T23:24:08.255Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: i can do that","date":"2012-03-27T23:24:58.813Z","type":"message"}
{"nick":"bnoordhuis","message":"i know you can, nathan, i have faith in you","date":"2012-03-27T23:25:15.042Z","type":"message"}
{"nick":"dshaw_1","date":"2012-03-27T23:25:25.030Z","type":"join"}
{"nick":"TooTallNate","message":":p","date":"2012-03-27T23:25:30.858Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 240 seconds","date":"2012-03-27T23:27:38.614Z","type":"quit"}
{"nick":"isaacs","message":"yeah, seems uncontroversial to me as well","date":"2012-03-27T23:30:58.205Z","type":"message"}
{"nick":"isaacs","message":"as long as it doesn't break anything else","date":"2012-03-27T23:31:04.353Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: hey, so. I found another issue with your code. You should not check for UV_HANDLE_READING but instead check if a read req is pending.","date":"2012-03-27T23:31:09.404Z","type":"message"}
{"nick":"isaacs","message":"(would be surprised if it did.)","date":"2012-03-27T23:31:12.123Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: because if the user calls uv_close from the read callback the reading flag will be set but there is no actual read pending at that point","date":"2012-03-27T23:31:40.155Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: please put a comment about this into the commit","date":"2012-03-27T23:31:46.746Z","type":"message"}
{"nick":"mikeal","date":"2012-03-27T23:34:14.992Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: also, I think that CancelIo should work for LSPs if they are IFS, because then the io is managed by the io manager. (And the handle is not an arbitrary number provided by a user-mode wrapper).\u000301","date":"2012-03-27T23:34:28.146Z","type":"message"}
{"nick":"piscisaureus_","message":"will put a comment in","date":"2012-03-27T23:34:32.381Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so let's declare defeat","date":"2012-03-27T23:35:13.551Z","type":"message"}
{"nick":"perezd_","date":"2012-03-27T23:35:33.468Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: I mean, we are kind of stumbling in the dark here. Who knows what the exact behaviour of *some random non-ifs lsp* is. We have no source code, no non-ifs driver and no way to test it.","date":"2012-03-27T23:36:00.871Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: Making assumptions based on the AFD implementation is probably not going to work here.","date":"2012-03-27T23:36:23.035Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so maybe we should just fprintf(stderr, \"Congratulations. You are treading territory where no man has gone before. You are truly a very bald man. Go get your price at 1 Microsoft Drive, Redmond WA, a creampie with a long history.\"","date":"2012-03-27T23:37:56.348Z","type":"message"}
{"nick":"piscisaureus_","message":"and do nothing","date":"2012-03-27T23:38:04.641Z","type":"message"}
{"nick":"bnoordhuis","message":"bald man, creampie?","date":"2012-03-27T23:38:11.549Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't want to know","date":"2012-03-27T23:38:19.919Z","type":"message"}
{"nick":"perezd","reason":"Ping timeout: 276 seconds","date":"2012-03-27T23:38:25.524Z","type":"quit"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-03-27T23:38:33.756Z","type":"message"}
{"nick":"piscisaureus_","message":"Judging by the google images search result creampie is not the proper translation of \"slagroomtaart\"","date":"2012-03-27T23:38:56.508Z","type":"message"}
{"nick":"piscisaureus_","message":"ah cream cake","date":"2012-03-27T23:39:18.776Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: we have a way to know if there's non-ifs lsp, no?","date":"2012-03-27T23:39:21.853Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think the code is already in there","date":"2012-03-27T23:39:33.012Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah.. we can just disable this feature altogether if we detect one","date":"2012-03-27T23:39:49.911Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: to enable/disable SetFileHandleFuabarMode","date":"2012-03-27T23:39:54.505Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: (passing connections over ipc)","date":"2012-03-27T23:40:04.324Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-27T23:40:07.585Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think we can even just keep it enabled.","date":"2012-03-27T23:40:24.319Z","type":"message"}
{"nick":"piscisaureus_","message":"because I expect that people will actually do this from a read callback","date":"2012-03-27T23:40:38.939Z","type":"message"}
{"nick":"perezd","date":"2012-03-27T23:40:39.477Z","type":"join"}
{"nick":"piscisaureus_","message":"I mean, you read http headers, then lay off the socket to a child process to send the response.","date":"2012-03-27T23:41:17.632Z","type":"message"}
{"nick":"piscisaureus_","message":"Which is the only valid use case anyway","date":"2012-03-27T23:41:26.602Z","type":"message"}
{"nick":"perezd_","reason":"Ping timeout: 240 seconds","date":"2012-03-27T23:41:38.485Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: yeah true.. if people are implementing some type of a load-balancer.. they'll need to read some data out of the socket first","date":"2012-03-27T23:41:45.864Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: exactly. And they will probably close() from a read callback :-)","date":"2012-03-27T23:43:26.853Z","type":"message"}
{"nick":"piscisaureus_","message":"unless they fiddle with nextTick","date":"2012-03-27T23:43:34.849Z","type":"message"}
{"nick":"igorzi","message":"yep","date":"2012-03-27T23:43:55.160Z","type":"message"}
{"nick":"piscisaureus_","message":"and forget to call pause()","date":"2012-03-27T23:44:02.851Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-27T23:44:03.784Z","type":"quit"}
{"nick":"dylukes","date":"2012-03-27T23:44:27.859Z","type":"join"}
{"nick":"dshaw_","date":"2012-03-27T23:52:27.537Z","type":"join"}
{"nick":"dshaw_1","reason":"Ping timeout: 246 seconds","date":"2012-03-27T23:54:41.866Z","type":"quit"}
{"nick":"k-s[AWAY]","new_nick":"k-s","date":"2012-03-27T23:57:30.505Z","type":"nick"}

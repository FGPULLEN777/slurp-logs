{"nick":"isaacs!~isaacs@173-203-97-118.static.cloud-ips.com","topic":"liberal utopian vacation ~ \"Shit came real!\" --indutny ~ http://logs.libuv.org/libuv ~ http://groups.google.com/group/libuv","date":"2013-02-26T00:00:35.171Z","type":"topic"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-26T00:05:41.702Z","type":"quit"}
{"nick":"tjfontaine","message":"bnoordhuis: seems to build","date":"2013-02-26T00:07:06.267Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: you have commit access to joyent/node?","date":"2013-02-26T00:12:25.195Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: nope, but I can work up a PR if you'd like","date":"2013-02-26T00:12:56.263Z","type":"message"}
{"nick":"tjfontaine","message":"when I tried to `git revert` the main one I got all kinds of conflicts, I tried --strategy theirs and ours but nothing seemed to go cleanly, was I just doing that wrong?","date":"2013-02-26T00:13:38.604Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know, let me try","date":"2013-02-26T00:14:47.369Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, style fixes in src/v8ustack.d","date":"2013-02-26T00:15:32.420Z","type":"message"}
{"nick":"tjfontaine","message":"yes [02-25] 18:55:41 < tjfontaine> ugh all the whitespace changes","date":"2013-02-26T00:15:41.998Z","type":"message"}
{"nick":"bnoordhuis","message":"that's why i hate style and lint commits","date":"2013-02-26T00:15:42.323Z","type":"message"}
{"nick":"tjfontaine","message":"I believe I mentioned it should have been a separate commit :)","date":"2013-02-26T00:16:09.543Z","type":"message"}
{"nick":"bnoordhuis","message":"guess i'll just partially revert it","date":"2013-02-26T00:16:22.474Z","type":"message"}
{"nick":"bnoordhuis","message":"and make some scolding remarks in the commit log","date":"2013-02-26T00:16:30.783Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, screw it - i'll revert them all","date":"2013-02-26T00:20:15.711Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: or you can do it if you want the honors","date":"2013-02-26T00:20:23.957Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: either or, is the `git revert` the preferred repo way, or do you do something different?","date":"2013-02-26T00:22:00.546Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: `git revert` makes it easiest to roll back/reapply changes","date":"2013-02-26T00:23:06.971Z","type":"message"}
{"nick":"bnoordhuis","message":"(usually)","date":"2013-02-26T00:23:24.219Z","type":"message"}
{"nick":"tjfontaine","message":"ok, and do you normally keep the \"Conflicts\" section of the commit message?","date":"2013-02-26T00:23:58.678Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2013-02-26T00:24:35.349Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-02-26T00:24:36.679Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033bnoordhuis\u000f created branch unbreak-sunos - http://git.io/Jc3X8g","date":"2013-02-26T00:32:04.628Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: ^ want to test it?","date":"2013-02-26T00:32:31.547Z","type":"message"}
{"nick":"tjfontaine","message":"sure, here's mine as well https://github.com/tjfontaine/node/tree/dtrace64-revert","date":"2013-02-26T00:32:39.526Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: it seems to have built, but I'm going to clean and rebuild","date":"2013-02-26T00:33:43.550Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: in events.js, everything's being set to null when removed. is that an unchangeable thing?","date":"2013-02-26T00:33:57.337Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: yours also rolls back the freebsd fix, doesn't it?","date":"2013-02-26T00:34:24.013Z","type":"message"}
{"nick":"tjfontaine","message":"probably","date":"2013-02-26T00:34:34.940Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: builds cleanly","date":"2013-02-26T00:35:33.755Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool - i'll land it","date":"2013-02-26T00:36:05.683Z","type":"message"}
{"nick":"bnoordhuis","message":"too bad about the freebsd fix :/","date":"2013-02-26T00:36:12.602Z","type":"message"}
{"nick":"tjfontaine","message":"python tools/test.py pummel/test-{post,dtrace}*","date":"2013-02-26T00:36:29.760Z","type":"message"}
{"nick":"tjfontaine","message":"[00:14|% 100|+   3|-   0]: Done","date":"2013-02-26T00:36:30.338Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002f80f3c5\u0002 : sunos: unbreak build after v8 downgrade  Commit 3d67f89 (\"fix generation  - http://git.io/5XLe2Q","date":"2013-02-26T00:36:43.899Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so... i was testing the memory usage between pre and post 3.14 revert. uses just as much. the 50% additional mem usage must be from node.","date":"2013-02-26T00:37:16.690Z","type":"message"}
{"nick":"trevnorris","message":"(against v0.8)","date":"2013-02-26T00:37:30.847Z","type":"message"}
{"nick":"trevnorris","message":"(and net tests)","date":"2013-02-26T00:37:48.347Z","type":"message"}
{"nick":"bnoordhuis","message":"you're not telling me i did all that for nothing, aren't you?","date":"2013-02-26T00:37:50.857Z","type":"message"}
{"nick":"tjfontaine","message":"thank goodness I'm not in .nl to see bnoordhuis explode","date":"2013-02-26T00:38:12.722Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: easy check, downgrade to the v8 that's in v0.8 and see if it makes a difference","date":"2013-02-26T00:39:08.529Z","type":"message"}
{"nick":"bnoordhuis","message":"that's 3.11.15 iirc","date":"2013-02-26T00:39:16.089Z","type":"message"}
{"nick":"trevnorris","message":"oh... i thought 3.14 was in v0.8. ok, i'll do that.","date":"2013-02-26T00:39:50.413Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, it's 3.11.10.25 - close enough","date":"2013-02-26T00:40:55.351Z","type":"message"}
{"nick":"trevnorris","message":"just did a \"git checkout origin/v0.8 -- deps/v8/\" so that should do it.","date":"2013-02-26T00:41:34.786Z","type":"message"}
{"nick":"trevnorris","message":"hm, some api changes needed to be worked out. might take me a bit but i'll let you know.","date":"2013-02-26T00:42:01.772Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: well, that went a lot quicker than I thought.","date":"2013-02-26T00:44:23.124Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, there weren't that many api changes between 3.11 and 3.14","date":"2013-02-26T00:44:45.575Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so against my tcp_net2_c2s: master - 250MB; 3.11 - 176MB","date":"2013-02-26T00:45:11.129Z","type":"message"}
{"nick":"trevnorris","message":"so it is v8","date":"2013-02-26T00:45:14.102Z","type":"message"}
{"nick":"trevnorris","message":"but doesn't seem to be much difference between 3.14 and 3.15.","date":"2013-02-26T00:45:46.763Z","type":"message"}
{"nick":"bradleymeck","date":"2013-02-26T00:49:56.571Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-02-26T00:51:59.275Z","type":"quit"}
{"nick":"bnoordhuis","message":"trevnorris: hm, okay","date":"2013-02-26T00:52:41.831Z","type":"message"}
{"nick":"bnoordhuis","message":"did 3.15 have the Utf8Length() regression? i forgot","date":"2013-02-26T00:52:59.694Z","type":"message"}
{"nick":"trevnorris","message":"no, that started in 3.16","date":"2013-02-26T00:53:08.698Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good. iirc i did see some spurious crashes with 3.15","date":"2013-02-26T00:53:48.132Z","type":"message"}
{"nick":"bnoordhuis","message":"but i forgot the details","date":"2013-02-26T00:54:00.232Z","type":"message"}
{"nick":"bnoordhuis","action":"looks around for the core dump","date":"2013-02-26T00:54:07.100Z","type":"action"}
{"nick":"bnoordhuis","message":"hah, apparenty i have collected 200+ core files over the years","date":"2013-02-26T00:54:43.769Z","type":"message"}
{"nick":"tjfontaine","message":"congrats","date":"2013-02-26T00:56:25.892Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis, trevnorris: How does 3.14 perform vs 3.11.15?","date":"2013-02-26T00:58:02.612Z","type":"message"}
{"nick":"isaacs","message":"er, 3.11.10 or whatever 0.8 used","date":"2013-02-26T00:58:25.057Z","type":"message"}
{"nick":"trevnorris","message":"so far 3.14 uses just as much memory as 3.15. running benchmarks now.","date":"2013-02-26T00:58:28.305Z","type":"message"}
{"nick":"trevnorris","message":"3.11 uses ~50% memory","date":"2013-02-26T00:58:38.389Z","type":"message"}
{"nick":"trevnorris","message":" *less memory","date":"2013-02-26T00:58:46.632Z","type":"message"}
{"nick":"isaacs","message":"memory is no biggie","date":"2013-02-26T00:58:47.476Z","type":"message"}
{"nick":"isaacs","message":"don't care muhc","date":"2013-02-26T00:58:48.972Z","type":"message"}
{"nick":"isaacs","message":"performance is more important.","date":"2013-02-26T00:58:55.985Z","type":"message"}
{"nick":"isaacs","action":"can buy more space, but not more time","date":"2013-02-26T00:59:07.047Z","type":"action"}
{"nick":"bnoordhuis","message":"epoll_ctl(5, EPOLL_CTL_ADD, 6, {...})   = 0 <- i hate this about strace master, it abbrevs the arguments","date":"2013-02-26T01:00:12.875Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: btw, do you think we could backport the two tap changes to libuv 0.8 as well?","date":"2013-02-26T01:00:53.248Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: sure","date":"2013-02-26T01:01:09.366Z","type":"message"}
{"nick":"c4milo","date":"2013-02-26T01:01:30.386Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: thanks","date":"2013-02-26T01:02:52.197Z","type":"message"}
{"nick":"isaacs","message":"omg, this debugger-client test is killing me","date":"2013-02-26T01:03:53.271Z","type":"message"}
{"nick":"isaacs","message":"i've finally figured out where it's actually failing and getting hung up, and now that i have the test script ready to gcore that sucker, it's refusing to fail.","date":"2013-02-26T01:04:14.261Z","type":"message"}
{"nick":"isaacs","message":"it's literally shattering my joy","date":"2013-02-26T01:04:42.235Z","type":"message"}
{"nick":"tjfontaine","message":"you shant see it again until next ground hogs day","date":"2013-02-26T01:04:51.218Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Timothy J Fontaine\u000f \u00037v0.8\u000f * \u000223b9347\u0002 : test: don't rewind_cursor when using tap_output  This is a back-port of c (+1 more commits) - http://git.io/AZ3z7Q","date":"2013-02-26T01:04:55.486Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i'll need to let them run longer and a wider spread, but so far i'm seeing pretty much the same performance on tcp_net2_c2s from 3.11, 3.14 and 3.15 on master.","date":"2013-02-26T01:05:26.476Z","type":"message"}
{"nick":"bnoordhuis","message":"epoll_ctl(5<anon_inode:[eventpoll]>, EPOLL_CTL_ADD, 6<pipe:[697182]>, {...}) = 0 <- this is very nice though, it tells you what kind of fd it is","date":"2013-02-26T01:07:16.260Z","type":"message"}
{"nick":"trevnorris","message":"be back on later. out","date":"2013-02-26T01:07:41.934Z","type":"message"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-26T01:07:42.749Z","type":"quit"}
{"nick":"isaacs","message":"it's literally shattering my joy","date":"2013-02-26T01:10:39.671Z","type":"message"}
{"nick":"isaacs","message":"er, up-enter in the wrong terminal ;)","date":"2013-02-26T01:10:51.041Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-02-26T01:11:13.718Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: clearly it's *still* shattering your joy","date":"2013-02-26T01:11:27.944Z","type":"message"}
{"nick":"dominictarr","date":"2013-02-26T01:14:09.240Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-26T01:18:05.063Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T01:18:14.142Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T01:19:01.808Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-26T01:24:02.904Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-26T01:24:59.910Z","type":"join"}
{"nick":"isaacs","message":"Hm.","date":"2013-02-26T01:26:17.096Z","type":"message"}
{"nick":"isaacs","message":"So, the reason why test-debugger-client.js fails, apparently, is that it's locking up calling new DebuggerAgent in v8","date":"2013-02-26T01:26:55.926Z","type":"message"}
{"nick":"isaacs","message":"also, there's occasionally a 'break' message, which we're not responding to.","date":"2013-02-26T01:27:45.145Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-26T01:27:45.887Z","type":"quit"}
{"nick":"bnoordhuis","message":"that strace thing where it abbreviated the args? that was a bug. it tries to be smart and use fancy new syscalls to copy the data from the traced process","date":"2013-02-26T01:27:46.508Z","type":"message"}
{"nick":"isaacs","message":"but this is more troubling:","date":"2013-02-26T01:27:48.460Z","type":"message"}
{"nick":"bnoordhuis","message":"but it did it wrong :)","date":"2013-02-26T01:27:50.178Z","type":"message"}
{"nick":"isaacs","message":"08046688 libc.so.1`__lwp_park+0x19(fec52a40, 0, 88c21c0, 0)","date":"2013-02-26T01:27:50.394Z","type":"message"}
{"nick":"isaacs","message":"080466c8 libc.so.1`mutex_lock_impl+0x163(88c21c0, 0, feda5880, 0, 8046750, fed3ceb6)","date":"2013-02-26T01:27:50.604Z","type":"message"}
{"nick":"isaacs","message":"080466e8 libc.so.1`mutex_lock+0x10(88c21c0, fead9000, 8046728, feabc6bc)","date":"2013-02-26T01:27:53.755Z","type":"message"}
{"nick":"isaacs","message":"08046728 libumem.so.1`umem_cache_alloc+0x51(88c2010, 0, 3, feabcb9a)","date":"2013-02-26T01:27:56.251Z","type":"message"}
{"nick":"isaacs","message":"08046778 libumem.so.1`umem_alloc+0xcd(48, 0, 80467b8, feab998a)","date":"2013-02-26T01:27:58.806Z","type":"message"}
{"nick":"isaacs","message":"080467a8 libumem.so.1`malloc+0x2a(40, feda0000, 80467f8, fed379e1, feda3c48, 0)","date":"2013-02-26T01:28:01.239Z","type":"message"}
{"nick":"isaacs","message":"080467d8 libstdc++.so.6.0.16`operator new+0x29(40, 8640100, 0, fed29c9e, fec52a40, feda0000)","date":"2013-02-26T01:28:03.721Z","type":"message"}
{"nick":"isaacs","message":"08046828 v8::internal::Debugger::StartAgent+0x6c(89d6ec8, 8645ecf, 16e2, 0, 0, fec52a40)","date":"2013-02-26T01:28:06.839Z","type":"message"}
{"nick":"isaacs","message":"08046848 v8::Debug::EnableAgent+0x51(8645ecf, 16e2, 0, 888db20, fed19069, feda0000)","date":"2013-02-26T01:28:09.757Z","type":"message"}
{"nick":"tjfontaine","message":"hm","date":"2013-02-26T01:32:31.707Z","type":"message"}
{"nick":"abraxas","date":"2013-02-26T01:38:00.739Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-26T01:40:26.006Z","type":"quit"}
{"nick":"isaacs","message":"well.  it's progress: https://code.google.com/p/v8/issues/detail?id=2555&thanks=2555&ts=1361842934","date":"2013-02-26T01:42:57.812Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T01:43:38.199Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-26T01:44:32.398Z","type":"join"}
{"nick":"bnoordhuis","message":"isaacs: you mean it hangs in StartAgent()?","date":"2013-02-26T01:48:42.905Z","type":"message"}
{"nick":"kazupon","date":"2013-02-26T01:48:54.914Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T01:49:04.387Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T01:49:19.344Z","type":"join"}
{"nick":"bnoordhuis","message":"looking at that backtrace, it suggests it's not v8 that's at fault but libumem","date":"2013-02-26T01:51:11.847Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, malloc is not supposed to block indefinitely","date":"2013-02-26T01:51:33.890Z","type":"message"}
{"nick":"TooTallNate","reason":"Ping timeout: 252 seconds","date":"2013-02-26T01:53:59.402Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-02-26T01:54:43.382Z","type":"quit"}
{"nick":"sblom","date":"2013-02-26T01:55:30.875Z","type":"part"}
{"nick":"isaacs","message":"yeah, but it's hanging in os x as well.","date":"2013-02-26T01:56:23.030Z","type":"message"}
{"nick":"isaacs","message":"which is... weird.","date":"2013-02-26T01:56:25.141Z","type":"message"}
{"nick":"TooTallNate","date":"2013-02-26T01:58:11.120Z","type":"join"}
{"nick":"isaacs","message":"though, it has been running MUCH nicer on my laptop now.","date":"2013-02-26T01:59:27.159Z","type":"message"}
{"nick":"isaacs","message":"so i'm going ot call this at least a modest win","date":"2013-02-26T01:59:33.630Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah, it's getting mutex locked on os x for sure.","date":"2013-02-26T02:01:48.988Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-26T02:02:07.633Z","type":"nick"}
{"nick":"bnoordhuis","message":"i guess i should be able to reproduce that then","date":"2013-02-26T02:02:31.010Z","type":"message"}
{"nick":"bnoordhuis","message":"what test do you run?","date":"2013-02-26T02:02:41.962Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: https://github.com/isaacs/node/compare/debugger-testy-fixy if you feel like banging on it","date":"2013-02-26T02:02:43.018Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: then: while ./node test/simple/test-debugger-client.js; do true; done","date":"2013-02-26T02:02:53.831Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: takes a few minutes to die","date":"2013-02-26T02:02:59.305Z","type":"message"}
{"nick":"isaacs","message":"(as opposed to a few *runs* when we don't catch the break signal)","date":"2013-02-26T02:03:13.638Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: i need to apply that patch?","date":"2013-02-26T02:03:49.530Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: https://github.com/isaacs/node/commit/ddcf5759756fe60ca44473be04df18a031740ecb is the patch to apply","date":"2013-02-26T02:03:54.999Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: otherwise you'll never see the malloc/mutex lockup, because you'll go rage blind by the 'break' lockups","date":"2013-02-26T02:04:16.122Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: replace the kill/throw in the timeout function with `spawn('gcore', [nodeProcess.pid], {stdio:'inherit'}).on('close',function() { throw \"timeout\" })`","date":"2013-02-26T02:05:03.324Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: to get a core dump","date":"2013-02-26T02:05:18.233Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T02:06:40.916Z","type":"quit"}
{"nick":"isaacs","message":"also seeing this once in a while, which is a bit infuriating, since it's clear indication of a lie:","date":"2013-02-26T02:06:49.010Z","type":"message"}
{"nick":"isaacs","message":"got stderr data \"Hit SIGUSR1 - starting debugger agent.\\n\"","date":"2013-02-26T02:06:52.001Z","type":"message"}
{"nick":"isaacs","message":"got stderr data \"debugger listening on port 5858\\n\"","date":"2013-02-26T02:06:54.471Z","type":"message"}
{"nick":"bnoordhuis","message":"ah indeed, blocked in a malloc spinlock","date":"2013-02-26T02:06:55.011Z","type":"message"}
{"nick":"isaacs","message":">>> connecting...","date":"2013-02-26T02:06:57.007Z","type":"message"}
{"nick":"isaacs","message":"events.js:69","date":"2013-02-26T02:06:59.547Z","type":"message"}
{"nick":"isaacs","message":"        throw arguments[1]; // Unhandled 'error' event","date":"2013-02-26T02:07:02.090Z","type":"message"}
{"nick":"isaacs","message":"                       ^","date":"2013-02-26T02:07:04.523Z","type":"message"}
{"nick":"isaacs","message":"Error: connect ECONNREFUSED","date":"2013-02-26T02:07:07.064Z","type":"message"}
{"nick":"kazupon","date":"2013-02-26T02:10:29.744Z","type":"join"}
{"nick":"isaacs","message":"so, words from some guys here: core problem is that we're doing this in a signal handling thread","date":"2013-02-26T02:10:43.619Z","type":"message"}
{"nick":"bnoordhuis","message":"we do? ah","date":"2013-02-26T02:12:21.397Z","type":"message"}
{"nick":"isaacs","message":"yep, that's the problem","date":"2013-02-26T02:12:27.172Z","type":"message"}
{"nick":"isaacs","message":"i'm heading home.","date":"2013-02-26T02:13:15.616Z","type":"message"}
{"nick":"bnoordhuis","message":"then the most surprising thing is that it still works so often...","date":"2013-02-26T02:13:23.027Z","type":"message"}
{"nick":"isaacs","message":"haha, indeed","date":"2013-02-26T02:13:29.237Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll see if i can fix it","date":"2013-02-26T02:13:39.185Z","type":"message"}
{"nick":"isaacs","message":"kewl.  thanks","date":"2013-02-26T02:13:51.534Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: for tonight/tomorrow: https://gist.github.com/bnoordhuis/8ad33765b178502598ad","date":"2013-02-26T02:18:39.733Z","type":"message"}
{"nick":"wavded","date":"2013-02-26T02:27:01.001Z","type":"join"}
{"nick":"mikeal","date":"2013-02-26T02:27:15.957Z","type":"join"}
{"nick":"wavded","message":"amongst the various operating systems, are events queued in a similar fashion (e.g. FIFO), or does it depend on the OS?","date":"2013-02-26T02:31:24.326Z","type":"message"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-02-26T02:31:46.027Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-26T02:34:51.286Z","type":"quit"}
{"nick":"bnoordhu1s","date":"2013-02-26T02:37:15.012Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 255 seconds","date":"2013-02-26T02:37:50.402Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T02:44:32.349Z","type":"join"}
{"nick":"bnoordhu1s","message":"wavded: what kind of events do you mean?","date":"2013-02-26T02:44:51.892Z","type":"message"}
{"nick":"bnoordhu1s","new_nick":"bnoordhuis","date":"2013-02-26T02:45:01.110Z","type":"nick"}
{"nick":"wavded","message":"e.g. an incoming connection on a socket","date":"2013-02-26T02:45:17.829Z","type":"message"}
{"nick":"wavded","message":"does the os keeps those ordered and hand them off to libuv?","date":"2013-02-26T02:45:31.325Z","type":"message"}
{"nick":"wavded","message":"or does it libuv get the whole slew of them at once or (say if there was like 100 incoming connections at once)","date":"2013-02-26T02:45:54.573Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-26T02:50:48.540Z","type":"quit"}
{"nick":"bnoordhuis","message":"wavded: the latter, more or less","date":"2013-02-26T02:51:30.462Z","type":"message"}
{"nick":"bnoordhuis","message":"there's no strict ordering","date":"2013-02-26T02:51:34.327Z","type":"message"}
{"nick":"bnoordhuis","message":"though operating systems will usually use something like a fifo","date":"2013-02-26T02:51:49.253Z","type":"message"}
{"nick":"bnoordhuis","message":"but there's no guarantee","date":"2013-02-26T02:51:57.087Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 252 seconds","date":"2013-02-26T02:53:15.114Z","type":"quit"}
{"nick":"wavded","message":"bnoordhuis: no guarantee that you'll get the connections in the order they were received?","date":"2013-02-26T02:55:59.960Z","type":"message"}
{"nick":"bnoordhuis","message":"wavded: nope","date":"2013-02-26T02:58:55.942Z","type":"message"}
{"nick":"bnoordhuis","message":"why do you ask btw?","date":"2013-02-26T02:59:47.073Z","type":"message"}
{"nick":"wavded","message":"bnoordhuis: that's a great question :)","date":"2013-02-26T03:01:04.825Z","type":"message"}
{"nick":"wavded","message":"i am working on writing up some stuff for the event loop that may or may not end up in a node.js book and the tech guy (who is solid JAVA guy) is asking me a bit of questions about the internals and getting to a lot of things I have no clue about, so I ask you guys :)","date":"2013-02-26T03:01:58.664Z","type":"message"}
{"nick":"bnoordhuis","message":"ah okay","date":"2013-02-26T03:08:18.418Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not particular to node / libuv btw","date":"2013-02-26T03:08:28.718Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, off to bed - sleep tight, guys","date":"2013-02-26T03:12:07.371Z","type":"message"}
{"nick":"wavded","message":"yep, OS notifications seem to be used a lot of places","date":"2013-02-26T03:12:10.099Z","type":"message"}
{"nick":"wavded","message":"bnoordhuis: ok, thanks for your help","date":"2013-02-26T03:12:18.038Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-02-26T03:16:37.026Z","type":"quit"}
{"nick":"wavded","reason":"Quit: wavded","date":"2013-02-26T03:21:40.830Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T03:28:05.829Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T03:30:07.011Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T03:32:43.727Z","type":"join"}
{"nick":"c4milo","date":"2013-02-26T03:32:44.387Z","type":"join"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-26T03:44:12.568Z","type":"nick"}
{"nick":"TooTallNate","date":"2013-02-26T03:50:34.549Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-26T03:59:28.025Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-02-26T04:00:16.929Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T04:02:56.665Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T04:04:53.382Z","type":"join"}
{"nick":"TooTallNate","date":"2013-02-26T04:05:04.942Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T04:05:25.815Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T04:06:36.581Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T04:06:55.858Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T04:08:02.131Z","type":"join"}
{"nick":"dominictarr_","date":"2013-02-26T04:17:36.524Z","type":"join"}
{"nick":"dominictarr","reason":"Ping timeout: 276 seconds","date":"2013-02-26T04:21:07.194Z","type":"quit"}
{"nick":"dominictarr_","new_nick":"dominictarr","date":"2013-02-26T04:21:08.411Z","type":"nick"}
{"nick":"bnoordhuis","date":"2013-02-26T04:22:44.690Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-26T04:25:03.972Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-02-26T04:25:19.105Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 272 seconds","date":"2013-02-26T04:27:34.690Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-26T04:32:46.859Z","type":"join"}
{"nick":"isaacs","message":"hmm.... so, seems like it actually works if we do the SIGUSR1 handler in JS","date":"2013-02-26T04:37:50.287Z","type":"message"}
{"nick":"isaacs","message":"which is a bit crazy, but whatever.","date":"2013-02-26T04:37:57.624Z","type":"message"}
{"nick":"tjfontaine","message":"right because I bet we do a uv_async_send for it","date":"2013-02-26T04:38:07.956Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-26T04:38:12.865Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis whipped up a little something, but it halts node if you use it","date":"2013-02-26T04:38:24.628Z","type":"message"}
{"nick":"isaacs","message":"i don't really see why that should be","date":"2013-02-26T04:38:29.674Z","type":"message"}
{"nick":"isaacs","message":"i could just look at what signal_wrap.cc is doing","date":"2013-02-26T04:38:47.205Z","type":"message"}
{"nick":"isaacs","message":"code duplication vs c->js->c++ silliness","date":"2013-02-26T04:39:21.773Z","type":"message"}
{"nick":"tjfontaine","message":"he was basically using the uv stuff for signal handling instead of node hooking itself","date":"2013-02-26T04:39:23.515Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-26T04:39:30.379Z","type":"message"}
{"nick":"tjfontaine","message":"it looks like it should have been semantically the same as setting it up in js","date":"2013-02-26T04:39:50.977Z","type":"message"}
{"nick":"isaacs","message":"yeah, seems that way","date":"2013-02-26T04:41:48.835Z","type":"message"}
{"nick":"isaacs","message":"it was keeping other uv handles from getting unrefed for some reason, though","date":"2013-02-26T04:42:06.656Z","type":"message"}
{"nick":"isaacs","message":"really odd","date":"2013-02-26T04:42:07.929Z","type":"message"}
{"nick":"tjfontaine","message":"ah","date":"2013-02-26T04:42:21.080Z","type":"message"}
{"nick":"isaacs","message":"ok, 1000 runs of simple/test-debugger-client","date":"2013-02-26T04:42:21.295Z","type":"message"}
{"nick":"isaacs","message":"100% passing","date":"2013-02-26T04:42:26.751Z","type":"message"}
{"nick":"tjfontaine","message":"excellent","date":"2013-02-26T04:42:33.057Z","type":"message"}
{"nick":"tjfontaine","message":"I don't think the js sig handler is a bad compriomise","date":"2013-02-26T04:42:47.380Z","type":"message"}
{"nick":"isaacs","message":"still failing debugger-repl, though:","date":"2013-02-26T04:42:51.965Z","type":"message"}
{"nick":"isaacs","message":"node(33321) malloc: *** mmap(size=18446744072116768768) failed (error code=12)","date":"2013-02-26T04:42:52.928Z","type":"message"}
{"nick":"isaacs","message":"*** error: can't allocate region","date":"2013-02-26T04:42:53.145Z","type":"message"}
{"nick":"isaacs","message":"*** set a breakpoint in malloc_error_break to debug","date":"2013-02-26T04:42:54.761Z","type":"message"}
{"nick":"tjfontaine","message":"er","date":"2013-02-26T04:43:10.820Z","type":"message"}
{"nick":"trevnorris","date":"2013-02-26T04:43:13.285Z","type":"join"}
{"nick":"isaacs","message":"same as without the patch","date":"2013-02-26T04:43:49.834Z","type":"message"}
{"nick":"tjfontaine","message":"that mmap region seems huge","date":"2013-02-26T04:44:44.379Z","type":"message"}
{"nick":"pooya","date":"2013-02-26T04:46:24.723Z","type":"join"}
{"nick":"isaacs","message":"yeah","date":"2013-02-26T04:47:23.873Z","type":"message"}
{"nick":"tjfontaine","message":"what's the back trace of that?","date":"2013-02-26T04:47:37.272Z","type":"message"}
{"nick":"isaacs","message":"i'm seeing that on master","date":"2013-02-26T04:48:03.612Z","type":"message"}
{"nick":"tjfontaine","message":"ya but you're not getting a stack trace to go along with it? or a core?","date":"2013-02-26T04:48:17.686Z","type":"message"}
{"nick":"isaacs","message":"no, doens't look that way","date":"2013-02-26T04:49:59.807Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: noticed you posted something about \"Error: connect ECONNREFUSED\"","date":"2013-02-26T04:50:12.803Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: shot in the dark, but think it might be related to that ticker patch?","date":"2013-02-26T04:50:13.261Z","type":"message"}
{"nick":"isaacs","message":"honestly, i've forgotten how to debug programs on not-smartos","date":"2013-02-26T04:50:13.472Z","type":"message"}
{"nick":"isaacs","message":"heh","date":"2013-02-26T04:50:15.439Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: unlikely","date":"2013-02-26T04:50:23.452Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it was a zombie","date":"2013-02-26T04:50:33.272Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: start it in gdb, best way","date":"2013-02-26T04:50:38.668Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: gdb $(which node) ... r script","date":"2013-02-26T04:50:56.729Z","type":"message"}
{"nick":"isaacs","message":"right, but it's the child proc that's dying, and my breakpoint doesn't apply to it or something","date":"2013-02-26T04:50:58.158Z","type":"message"}
{"nick":"tjfontaine","message":"ah","date":"2013-02-26T04:51:15.254Z","type":"message"}
{"nick":"tjfontaine","message":"set follow-fork-mode child","date":"2013-02-26T04:51:32.593Z","type":"message"}
{"nick":"tjfontaine","message":"I think","date":"2013-02-26T04:51:34.050Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-26T04:52:22.935Z","type":"quit"}
{"nick":"isaacs","message":"hm.. https://gist.github.com/5036002","date":"2013-02-26T04:54:19.994Z","type":"message"}
{"nick":"tjfontaine","message":"blerg","date":"2013-02-26T04:55:01.348Z","type":"message"}
{"nick":"isaacs","message":"setting to parent is no different","date":"2013-02-26T04:55:31.827Z","type":"message"}
{"nick":"tjfontaine","message":"there's also an \"ask\"","date":"2013-02-26T04:55:48.085Z","type":"message"}
{"nick":"tjfontaine","message":"in case there's multiple levels of indirection","date":"2013-02-26T04:55:59.189Z","type":"message"}
{"nick":"tjfontaine","message":"you're getting this on osx?","date":"2013-02-26T04:57:28.741Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-26T04:57:48.258Z","type":"message"}
{"nick":"isaacs","message":"it shows even when the test succeeds, actually","date":"2013-02-26T04:58:02.975Z","type":"message"}
{"nick":"tjfontaine","message":"is this in a branch I can test?","date":"2013-02-26T04:58:12.812Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: master","date":"2013-02-26T04:58:43.149Z","type":"message"}
{"nick":"tjfontaine","message":"wtf that was certainly not happening before","date":"2013-02-26T05:06:14.798Z","type":"message"}
{"nick":"isaacs","message":"maybe it was","date":"2013-02-26T05:11:35.273Z","type":"message"}
{"nick":"isaacs","message":"it doesn't actually make the test fail","date":"2013-02-26T05:11:42.942Z","type":"message"}
{"nick":"isaacs","message":"so we might have just not noticed","date":"2013-02-26T05:11:47.846Z","type":"message"}
{"nick":"isaacs","message":"and even when the test does fail, it's just a debugger test, who cares?","date":"2013-02-26T05:11:55.742Z","type":"message"}
{"nick":"tjfontaine","message":"hmm don't see it when I'm runnign with dtrace","date":"2013-02-26T05:13:50.632Z","type":"message"}
{"nick":"isaacs","message":"oh, maybe it is only new since 3.14","date":"2013-02-26T05:14:18.156Z","type":"message"}
{"nick":"tjfontaine","message":"that's what I'm thinking","date":"2013-02-26T05:14:44.845Z","type":"message"}
{"nick":"tjfontaine","message":"it certainly isn't happening while I'm watching syscall::mmap:entry","date":"2013-02-26T05:16:33.854Z","type":"message"}
{"nick":"tjfontaine","message":"oh actually","date":"2013-02-26T05:18:07.784Z","type":"message"}
{"nick":"tjfontaine","message":"it doesn't fail when I run it with sudo of course","date":"2013-02-26T05:18:16.943Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-26T05:20:44.538Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T05:20:58.128Z","type":"join"}
{"nick":"isaacs","message":"de9ee2a483012c0dc3fb48930c1e96baaa466b65 is the first bad commit","date":"2013-02-26T05:24:19.249Z","type":"message"}
{"nick":"isaacs","message":"commit de9ee2a483012c0dc3fb48930c1e96baaa466b65","date":"2013-02-26T05:24:19.466Z","type":"message"}
{"nick":"isaacs","message":"Author: Ben Noordhuis <info@bnoordhuis.nl>","date":"2013-02-26T05:24:19.466Z","type":"message"}
{"nick":"isaacs","message":"Date:   Sun Feb 24 04:03:49 2013 +0100","date":"2013-02-26T05:24:19.466Z","type":"message"}
{"nick":"isaacs","message":"deps: upgrade libuv to e89aced","date":"2013-02-26T05:24:21.076Z","type":"message"}
{"nick":"tjfontaine","message":"https://developer.apple.com/library/mac/#documentation/performance/Conceptual/ManagingMemory/Articles/MallocDebug.html seems useful but I don't know what to read the files with","date":"2013-02-26T05:26:27.469Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u000288befa6\u0002 : bench: Make http easier to profile  Do not run the http/simple.js server  - http://git.io/p7E29Q","date":"2013-02-26T05:33:47.063Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T05:39:36.636Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-26T05:50:53.234Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-26T06:01:53.708Z","type":"quit"}
{"nick":"tjfontaine","message":"isaacs: I was really hoping that I was going to see that debugger was setting the process title :)","date":"2013-02-26T06:09:44.120Z","type":"message"}
{"nick":"tjfontaine","message":"oh it may still be","date":"2013-02-26T06:11:20.622Z","type":"message"}
{"nick":"loladiro","date":"2013-02-26T06:23:18.010Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T06:28:53.130Z","type":"quit"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-26T06:30:41.974Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-26T06:31:58.746Z","type":"join"}
{"nick":"mikeal","date":"2013-02-26T06:33:12.645Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-26T06:36:19.875Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 248 seconds","date":"2013-02-26T06:37:53.326Z","type":"quit"}
{"nick":"csaoh","date":"2013-02-26T06:41:19.335Z","type":"join"}
{"nick":"nodejs-ci","date":"2013-02-26T06:42:54.297Z","type":"join"}
{"nick":"csaoh","reason":"Client Quit","date":"2013-02-26T06:43:22.310Z","type":"quit"}
{"nick":"tjfontaine","message":"nodejs-ci: help","date":"2013-02-26T06:44:58.978Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-02-26T06:45:06.455Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-26T06:45:33.816Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-26T06:54:02.402Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-02-26T06:57:35.216Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T07:04:04.631Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2013-02-26T07:09:06.370Z","type":"quit"}
{"nick":"nodejs-ci","message":"Project nodejs-v0.8 » x64,linux build #2:\u0002\u001f\u000304FAILURE\u000f in 22 min: http://jenkins.nodejs.org/job/nodejs-v0.8/./DESTCPU=x64,label=linux/2/","date":"2013-02-26T07:10:01.348Z","type":"message"}
{"nick":"nodejs-ci","message":"\u0002\u000313Failed tests:","date":"2013-02-26T07:10:01.884Z","type":"message"}
{"nick":"tjfontaine","message":"wtg there jenkins","date":"2013-02-26T07:10:16.163Z","type":"message"}
{"nick":"nodejs-ci","message":"Project nodejs-v0.8 » ia32,linux build #2:\u0002\u001f\u000304FAILURE\u000f in 33 min: http://jenkins.nodejs.org/job/nodejs-v0.8/./DESTCPU=ia32,label=linux/2/","date":"2013-02-26T07:20:33.038Z","type":"message"}
{"nick":"nodejs-ci","message":"\u0002\u000313Failed tests:","date":"2013-02-26T07:20:33.573Z","type":"message"}
{"nick":"indexzero","date":"2013-02-26T07:21:24.283Z","type":"join"}
{"nick":"rendar","date":"2013-02-26T07:26:05.001Z","type":"join"}
{"nick":"mikeal","date":"2013-02-26T07:35:34.266Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-26T07:37:11.472Z","type":"quit"}
{"nick":"tellnes","reason":"*.net *.split","date":"2013-02-26T07:39:18.375Z","type":"quit"}
{"nick":"chobie","reason":"*.net *.split","date":"2013-02-26T07:39:18.375Z","type":"quit"}
{"nick":"pquerna","reason":"*.net *.split","date":"2013-02-26T07:39:18.585Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 246 seconds","date":"2013-02-26T07:39:47.110Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-26T07:40:36.944Z","type":"join"}
{"nick":"indutny","message":"hoya","date":"2013-02-26T07:46:25.078Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: so you guys have touched v8ustack.d?","date":"2013-02-26T07:46:33.007Z","type":"message"}
{"nick":"tellnes","date":"2013-02-26T07:51:05.976Z","type":"join"}
{"nick":"chobie","date":"2013-02-26T07:51:05.976Z","type":"join"}
{"nick":"pquerna","date":"2013-02-26T07:51:05.976Z","type":"join"}
{"nick":"Ralt","reason":"Ping timeout: 248 seconds","date":"2013-02-26T08:00:01.534Z","type":"quit"}
{"nick":"Ralt","date":"2013-02-26T08:03:54.434Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-26T08:08:58.214Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-02-26T08:16:56.387Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002aa98539\u0002 : v8: fix postmortem and dtrace helper build  Regardless of previous @bnoor (+1 more commits) - http://git.io/C6lrmQ","date":"2013-02-26T08:18:05.250Z","type":"message"}
{"nick":"indutny","message":"ircretary: tell bnoordhuis that it was not wise to revert all code that I spent weeks on","date":"2013-02-26T08:19:09.173Z","type":"message"}
{"nick":"ircretary","message":"indutny: I'll be sure to tell bnoordhuis","date":"2013-02-26T08:19:09.386Z","type":"message"}
{"nick":"csaoh","date":"2013-02-26T08:35:10.109Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T09:12:57.153Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-26T09:45:03.124Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T09:52:56.695Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T10:03:44.027Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-02-26T10:04:11.587Z","type":"join"}
{"nick":"kazupon","date":"2013-02-26T10:05:16.867Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T10:07:41.930Z","type":"quit"}
{"nick":"hz","date":"2013-02-26T10:15:07.847Z","type":"join"}
{"nick":"Ralt","reason":"Ping timeout: 252 seconds","date":"2013-02-26T10:22:44.559Z","type":"quit"}
{"nick":"Ralt","date":"2013-02-26T10:25:14.783Z","type":"join"}
{"nick":"csaoh","message":"hello, I have an issue with travis while compiling libuv. I get the following message: \"/usr/bin/ld: libuv/libuv.a(async.o): relocation R_X86_64_32 against `.rodata' can not be used when making a shared object; recompile with -fPIC\" ","date":"2013-02-26T10:27:58.759Z","type":"message"}
{"nick":"csaoh","message":"and turns out i get the same thing when trying on a x64 ubuntu","date":"2013-02-26T10:28:14.687Z","type":"message"}
{"nick":"indutny","message":"I bet you're using makefile?","date":"2013-02-26T10:28:18.696Z","type":"message"}
{"nick":"csaoh","message":"i got it fixed by adding -fPIC to makefile","date":"2013-02-26T10:28:26.405Z","type":"message"}
{"nick":"csaoh","message":"yup","date":"2013-02-26T10:28:28.291Z","type":"message"}
{"nick":"csaoh","message":"shouldn't I ?","date":"2013-02-26T10:28:32.423Z","type":"message"}
{"nick":"indutny","message":"well, gyp is more supported","date":"2013-02-26T10:28:41.817Z","type":"message"}
{"nick":"indutny","message":"but I'll try to fix makefile today","date":"2013-02-26T10:28:52.019Z","type":"message"}
{"nick":"indutny","message":"seen it before too","date":"2013-02-26T10:28:57.521Z","type":"message"}
{"nick":"csaoh","message":"great !","date":"2013-02-26T10:29:30.617Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-02-26T10:35:55.429Z","type":"quit"}
{"nick":"hz","date":"2013-02-26T10:35:58.663Z","type":"join"}
{"nick":"csaoh","message":"actually, just adding -fPIC to CFLAGS works, but I guess there has to be a less dirty way. Would you mind pinging me when you're on it ? thanks !","date":"2013-02-26T10:49:23.662Z","type":"message"}
{"nick":"indutny","message":"well, I'll just to do the same","date":"2013-02-26T10:49:44.328Z","type":"message"}
{"nick":"indutny","message":"but in makefile","date":"2013-02-26T10:49:46.006Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-26T10:52:30.870Z","type":"quit"}
{"nick":"csaoh","message":"yep","date":"2013-02-26T10:56:24.501Z","type":"message"}
{"nick":"kazupon","date":"2013-02-26T11:18:28.485Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 276 seconds","date":"2013-02-26T11:23:54.363Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-02-26T11:28:23.484Z","type":"quit"}
{"nick":"dostoyevsky","message":"Is there a way to use timers for each socket?  So I could do somehting like: Write request to a server and then set a timer that will be fired if there is no response within the time limit.  Or are timers always global and I would need to check for the timeouts myself by iterating over all sockets that I am using?","date":"2013-02-26T11:39:56.780Z","type":"message"}
{"nick":"dostoyevsky","message":"I think If I were to use uv_timer_start() & al I could just use one uv_timer_t per connection and then have what I wanted...  Can one use timeouts like 1-2ms with that interface?","date":"2013-02-26T11:45:33.599Z","type":"message"}
{"nick":"indutny","message":"1-2ms is not really good thing","date":"2013-02-26T11:47:02.781Z","type":"message"}
{"nick":"indutny","message":"though you can do it","date":"2013-02-26T11:47:06.558Z","type":"message"}
{"nick":"dostoyevsky","message":"ok...  we have low latency requirements","date":"2013-02-26T11:47:24.344Z","type":"message"}
{"nick":"indutny","message":"I'm not sure what's exact precision, but I guess it my deviate a little bit out of it","date":"2013-02-26T11:47:41.691Z","type":"message"}
{"nick":"indutny","message":"sometimes","date":"2013-02-26T11:47:44.187Z","type":"message"}
{"nick":"indutny","message":"especially considering that you are doing some work in this thread","date":"2013-02-26T11:47:58.318Z","type":"message"}
{"nick":"dostoyevsky","message":"Yeah, timers are very difficult on cpus AFAIU","date":"2013-02-26T11:48:02.177Z","type":"message"}
{"nick":"indutny","message":"obviously","date":"2013-02-26T11:48:07.955Z","type":"message"}
{"nick":"indutny","message":"so... you can either create one timer per connection","date":"2013-02-26T11:48:22.662Z","type":"message"}
{"nick":"indutny","message":"or use one timer","date":"2013-02-26T11:48:34.320Z","type":"message"}
{"nick":"indutny","message":"and rearm it periodically","date":"2013-02-26T11:48:37.805Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-26T11:49:00.430Z","type":"quit"}
{"nick":"indutny","message":"but you'll need to do a some book-keeping to figure out which connections was timed-out","date":"2013-02-26T11:49:01.559Z","type":"message"}
{"nick":"indutny","message":"second way is the way we've chosen in node.js","date":"2013-02-26T11:49:18.997Z","type":"message"}
{"nick":"indutny","message":"but you can still do it the simple way","date":"2013-02-26T11:49:43.214Z","type":"message"}
{"nick":"dostoyevsky","message":"indutny: Ok... maybe I start simple and then see if I could do it globally..  I just fear that iteration over the active connections just slows things down and libuv might be more efficient internally.. but maybe not really","date":"2013-02-26T11:50:51.147Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-02-26T11:50:56.716Z","type":"message"}
{"nick":"benoitc","date":"2013-02-26T11:51:03.494Z","type":"join"}
{"nick":"indutny","message":"do not optimize prematurely","date":"2013-02-26T11:51:12.581Z","type":"message"}
{"nick":"indutny","message":"have I answered your question, anyway?","date":"2013-02-26T11:51:24.964Z","type":"message"}
{"nick":"dostoyevsky","message":"indutny: I think so :)  ","date":"2013-02-26T11:51:34.724Z","type":"message"}
{"nick":"indutny","message":"good","date":"2013-02-26T11:52:45.880Z","type":"message"}
{"nick":"csaoh","date":"2013-02-26T11:56:10.368Z","type":"join"}
{"nick":"csaoh","message":"i keep getting the \"Assertion failed: (ngx_queue_empty(&loop->wq) && \"thread pool work queue not empty!\"), function uv__loop_delete, file src/unix/loop.c, line 108.\" message… obviously, looks like i forgot to delete or to stop something… is there a way to know what is it exactly ? ","date":"2013-02-26T12:19:30.758Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-02-26T12:26:22.649Z","type":"message"}
{"nick":"csaoh","message":"the weird thing is that i haven't initialized any threads… i use timers and polls, but I'd say I stop them all...","date":"2013-02-26T12:47:43.599Z","type":"message"}
{"nick":"saghul","message":"any fs operations?","date":"2013-02-26T13:06:20.782Z","type":"message"}
{"nick":"csaoh","message":"yes","date":"2013-02-26T13:08:08.602Z","type":"message"}
{"nick":"csaoh","message":"lots of them","date":"2013-02-26T13:08:12.212Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-02-26T13:08:49.830Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-02-26T13:08:51.978Z","type":"message"}
{"nick":"csaoh","message":"fs_open, fs_read, fs_stat, fs_write, etc","date":"2013-02-26T13:08:54.591Z","type":"message"}
{"nick":"indutny","message":"can you create a reduced test case to reproduce this problem?","date":"2013-02-26T13:09:08.463Z","type":"message"}
{"nick":"indutny","message":"or just test case","date":"2013-02-26T13:09:13.792Z","type":"message"}
{"nick":"saghul","message":"csaoh those run on the threadpool, any chance any of them is not done when you delete the loop?","date":"2013-02-26T13:09:57.837Z","type":"message"}
{"nick":"csaoh","message":"hmmm that's some great leads, trying to reduce it now","date":"2013-02-26T13:10:48.770Z","type":"message"}
{"nick":"csaoh","message":"seems to happen when i call fs_open and then either fs_write or fs_read on it","date":"2013-02-26T13:19:12.156Z","type":"message"}
{"nick":"karupanerura","reason":"Excess Flood","date":"2013-02-26T13:19:34.178Z","type":"quit"}
{"nick":"karupanerura","date":"2013-02-26T13:20:46.780Z","type":"join"}
{"nick":"philips_","reason":"Excess Flood","date":"2013-02-26T13:32:13.467Z","type":"quit"}
{"nick":"karupanerura","reason":"Excess Flood","date":"2013-02-26T13:35:13.209Z","type":"quit"}
{"nick":"karupanerura","date":"2013-02-26T13:35:21.636Z","type":"join"}
{"nick":"indutny","message":"from fs_open's callback?","date":"2013-02-26T13:36:56.857Z","type":"message"}
{"nick":"csaoh","message":"uyep","date":"2013-02-26T13:41:30.745Z","type":"message"}
{"nick":"csaoh","message":"but i'm realizing i might have a problem elsewhere aswell","date":"2013-02-26T13:41:53.228Z","type":"message"}
{"nick":"philips_","date":"2013-02-26T13:49:29.298Z","type":"join"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-26T13:50:00.553Z","type":"nick"}
{"nick":"bnoordhuis","date":"2013-02-26T13:51:01.396Z","type":"join"}
{"nick":"kazupon","date":"2013-02-26T13:52:59.324Z","type":"join"}
{"nick":"csaoh","message":"alright, i guess i got it","date":"2013-02-26T13:53:47.454Z","type":"message"}
{"nick":"csaoh","message":"i use a loop of uv_run_once instead of uv_run, and i guess the loop just ended too soon","date":"2013-02-26T13:54:30.672Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T14:00:57.266Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|BRB","date":"2013-02-26T14:10:45.868Z","type":"nick"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002d4a297c\u0002 : http: fix case in 505 response status line  Fixes #4850. - http://git.io/ph-6bA","date":"2013-02-26T14:19:14.734Z","type":"message"}
{"nick":"bnoordhuis","message":"is github broken?","date":"2013-02-26T14:27:14.258Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't push to any repos anymore","date":"2013-02-26T14:27:38.274Z","type":"message"}
{"nick":"bnoordhuis","message":"and it works again...","date":"2013-02-26T14:28:22.053Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Saúl Ibarra Corretgé\u000f \u00037master\u000f * \u0002ae2b30a\u0002 : windows: initialize stop_flag explicitly  The default loop lives in the b - http://git.io/yESmlw","date":"2013-02-26T14:28:30.171Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Timothy J Fontaine\u000f \u00037master\u000f * \u00028fe72a7\u0002 : build: automatically add tag for nightly builds - http://git.io/tChj8g","date":"2013-02-26T14:34:06.500Z","type":"message"}
{"nick":"kazupon","date":"2013-02-26T14:36:54.853Z","type":"join"}
{"nick":"loladiro","date":"2013-02-26T14:46:09.873Z","type":"join"}
{"nick":"c4milo","date":"2013-02-26T14:56:11.124Z","type":"join"}
{"nick":"TheJH","date":"2013-02-26T14:57:57.304Z","type":"join"}
{"nick":"AvianFlu","date":"2013-02-26T15:20:56.952Z","type":"join"}
{"nick":"`3E|BRB","new_nick":"`3rdEden","date":"2013-02-26T15:22:13.249Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-26T15:26:42.661Z","type":"quit"}
{"nick":"pooya","date":"2013-02-26T15:35:47.196Z","type":"join"}
{"nick":"bradleymeck","date":"2013-02-26T15:36:47.195Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-26T15:40:37.905Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-26T15:43:16.677Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-26T15:45:58.869Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: hey ben","date":"2013-02-26T15:49:31.671Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: have you seen my revert revert commit?","date":"2013-02-26T15:49:41.313Z","type":"message"}
{"nick":"txdv","message":"bnoordhuis: any comments on my udp pull request?","date":"2013-02-26T15:51:42.253Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: eh, the dtrace thing?","date":"2013-02-26T15:54:02.888Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-26T15:54:06.818Z","type":"message"}
{"nick":"bnoordhuis","message":"right. you beat me to it","date":"2013-02-26T15:54:15.677Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: what udp pr?","date":"2013-02-26T15:54:31.279Z","type":"message"}
{"nick":"txdv","message":"https://github.com/joyent/libuv/pull/708","date":"2013-02-26T15:55:04.621Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: looks okay to me, i think","date":"2013-02-26T15:56:44.224Z","type":"message"}
{"nick":"bnoordhuis","message":"did you test the windows changes?","date":"2013-02-26T15:56:51.927Z","type":"message"}
{"nick":"txdv","message":"yes I did","date":"2013-02-26T15:57:16.994Z","type":"message"}
{"nick":"txdv","message":"on windows8","date":"2013-02-26T15:57:19.057Z","type":"message"}
{"nick":"txdv","message":"and I posted an issue where there are test failures on windows8","date":"2013-02-26T15:57:36.591Z","type":"message"}
{"nick":"txdv","message":"but this pr doesn't add any more errors","date":"2013-02-26T15:57:49.388Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Andrius Bentkus\u000f \u00037master\u000f * \u0002c5101ae\u0002 : unix, windows: add common uv_udp_* error checking - http://git.io/Im1EbA","date":"2013-02-26T15:58:38.687Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: ^","date":"2013-02-26T15:59:11.644Z","type":"message"}
{"nick":"txdv","message":"thanks","date":"2013-02-26T15:59:27.913Z","type":"message"}
{"nick":"bnoordhuis","message":"#v8 must be the deadest channel i know","date":"2013-02-26T15:59:50.075Z","type":"message"}

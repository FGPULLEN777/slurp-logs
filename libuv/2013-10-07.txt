{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-10-07T00:00:01.447Z","type":"quit"}
{"nick":"ircretary","date":"2013-10-07T00:00:09.345Z","type":"join"}
{"nick":"Benvie","date":"2013-10-07T00:06:13.297Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-07T00:08:12.542Z","type":"nick"}
{"nick":"Benvie","reason":"Ping timeout: 264 seconds","date":"2013-10-07T00:20:30.230Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-07T00:45:47.728Z","type":"nick"}
{"nick":"kazupon","date":"2013-10-07T00:47:35.971Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-07T01:06:39.792Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-07T01:07:11.974Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 248 seconds","date":"2013-10-07T01:11:28.754Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-07T01:37:24.972Z","type":"join"}
{"nick":"c4milo","date":"2013-10-07T01:39:04.471Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-07T01:39:50.927Z","type":"quit"}
{"nick":"inolen1","date":"2013-10-07T01:42:25.328Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-07T01:42:25.652Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-07T01:53:03.746Z","type":"join"}
{"nick":"trevnorris","message":"hello world","date":"2013-10-07T02:13:42.831Z","type":"message"}
{"nick":"tjfontaine","message":"goodbye cruel world :)","date":"2013-10-07T02:14:00.073Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: heh, how's it been?","date":"2013-10-07T02:36:10.600Z","type":"message"}
{"nick":"tjfontaine","message":"sok, you?","date":"2013-10-07T02:37:26.091Z","type":"message"}
{"nick":"trevnorris","message":"nothing much. been doing a little irhydra debugging with mraleph.","date":"2013-10-07T02:39:19.647Z","type":"message"}
{"nick":"trevnorris","message":"it's not showing deopt's in output.","date":"2013-10-07T02:39:27.870Z","type":"message"}
{"nick":"trevnorris","message":"also cleaning up the patch. since isaacs (supposedly) going to be back tomorrow.","date":"2013-10-07T02:39:58.334Z","type":"message"}
{"nick":"trevnorris","message":"not like he's going to have anything else to do than review my patch. :P","date":"2013-10-07T02:40:08.340Z","type":"message"}
{"nick":"wolfeidau","message":"Heya does anyone know what \"<anonymous> (as DataHandler):\" mean in mdb output?","date":"2013-10-07T02:42:53.427Z","type":"message"}
{"nick":"tjfontaine","message":"that'll be an anonymous function with an assignment I think","date":"2013-10-07T02:44:27.012Z","type":"message"}
{"nick":"tjfontaine","message":"var foo = function(){}","date":"2013-10-07T02:44:52.399Z","type":"message"}
{"nick":"tjfontaine","message":"I think","date":"2013-10-07T02:44:54.039Z","type":"message"}
{"nick":"wolfeidau","message":"I have a \"class like thing\" called DataHandler which is getting created in like 3 places","date":"2013-10-07T02:45:44.310Z","type":"message"}
{"nick":"wolfeidau","message":"Just trying to zero in on which one that is","date":"2013-10-07T02:46:01.603Z","type":"message"}
{"nick":"wolfeidau","message":"As in new DataHandler :P","date":"2013-10-07T02:47:14.621Z","type":"message"}
{"nick":"tjfontaine","message":"you have 3 times someone calls `new DataHandler`?","date":"2013-10-07T02:47:44.952Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah ","date":"2013-10-07T02:49:27.169Z","type":"message"}
{"nick":"wolfeidau","message":"All inside functions","date":"2013-10-07T02:49:36.370Z","type":"message"}
{"nick":"wolfeidau","message":"One is also used in a subsequent closure","date":"2013-10-07T02:49:46.102Z","type":"message"}
{"nick":"wolfeidau","message":"callback function","date":"2013-10-07T02:49:51.075Z","type":"message"}
{"nick":"wolfeidau","message":"so i have set that to dataHandler=null at the end ","date":"2013-10-07T02:50:23.693Z","type":"message"}
{"nick":"wolfeidau","message":"My knowledge of how to force js to clean this up is limited to say the least","date":"2013-10-07T02:51:00.590Z","type":"message"}
{"nick":"wolfeidau","message":"The thing i am trying to accertain is whether or not this is just an effect of a larger leak which is within the same closure","date":"2013-10-07T02:52:06.802Z","type":"message"}
{"nick":"wolfeidau","message":"So if i, heaven forbid had a function that did a ton of stuff would just ONE badness in their retain everything used within that closure?","date":"2013-10-07T02:53:03.470Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'm having a pain of a time figuring out how to do an assert.throws() for an asynchronous function.","date":"2013-10-07T03:17:24.442Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-10-07T03:27:18.827Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-07T03:29:47.853Z","type":"join"}
{"nick":"Kakera","date":"2013-10-07T03:31:42.527Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-07T03:39:31.605Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T03:41:54.526Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-07T03:45:48.459Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-07T03:46:21.447Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 256 seconds","date":"2013-10-07T03:50:54.245Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-07T04:09:53.969Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2013-10-07T04:18:08.753Z","type":"quit"}
{"nick":"Kakera_","date":"2013-10-07T04:18:12.012Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-07T04:18:54.246Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 240 seconds","date":"2013-10-07T04:19:50.529Z","type":"quit"}
{"nick":"Kakera","reason":"Ping timeout: 240 seconds","date":"2013-10-07T04:21:02.529Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-07T04:24:46.633Z","type":"join"}
{"nick":"Kakera_","reason":"Ping timeout: 246 seconds","date":"2013-10-07T04:54:40.871Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-07T05:19:40.019Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T05:21:48.333Z","type":"join"}
{"nick":"mikeal","date":"2013-10-07T05:21:58.854Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 264 seconds","date":"2013-10-07T05:23:30.243Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-07T05:37:31.070Z","type":"join"}
{"nick":"mraleph1","date":"2013-10-07T05:40:20.297Z","type":"part"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-07T06:04:06.941Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-07T06:11:36.582Z","type":"join"}
{"nick":"bajtos","date":"2013-10-07T06:12:26.754Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 256 seconds","date":"2013-10-07T06:13:42.414Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T06:14:26.135Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #245 \u00037UNSTABLE\u000f windows-ia32 (7/600) windows-x64 (9/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/245/","date":"2013-10-07T06:40:55.607Z","type":"message"}
{"nick":"st_luke","date":"2013-10-07T06:41:34.825Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-07T06:48:21.977Z","type":"quit"}
{"nick":"inolen1","reason":"Ping timeout: 256 seconds","date":"2013-10-07T06:51:40.324Z","type":"quit"}
{"nick":"inolen","date":"2013-10-07T06:52:01.255Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-07T06:53:52.693Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 245 seconds","date":"2013-10-07T06:54:21.262Z","type":"quit"}
{"nick":"rendar","date":"2013-10-07T07:04:13.447Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-07T07:05:37.714Z","type":"quit"}
{"nick":"inolen","date":"2013-10-07T07:06:09.800Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 245 seconds","date":"2013-10-07T07:23:21.623Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T07:23:39.187Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-07T07:29:44.202Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 245 seconds","date":"2013-10-07T07:30:11.169Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T07:46:51.853Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 240 seconds","date":"2013-10-07T07:48:02.737Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-10-07T07:49:25.981Z","type":"join"}
{"nick":"trevnorris","message":"good night cruel world","date":"2013-10-07T07:50:06.060Z","type":"message"}
{"nick":"trevnorris","action":"&","date":"2013-10-07T07:50:11.938Z","type":"action"}
{"nick":"LOUDBOT","message":"BECAUSE I'M WEB PROGRAMMING AS HARD AS I PONDERED THE EFFECT OF ECHINACEA - YOUR NICK ASSFACE ","date":"2013-10-07T07:50:12.606Z","type":"message"}
{"nick":"wolfeidau","reason":"Ping timeout: 240 seconds","date":"2013-10-07T07:51:08.370Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-10-07T08:00:48.573Z","type":"join"}
{"nick":"hz","date":"2013-10-07T08:02:14.512Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-07T08:09:18.151Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 264 seconds","date":"2013-10-07T08:11:02.813Z","type":"quit"}
{"nick":"bnoordhuis","message":"saghul: do you have moderator rights for the libuv mailing list?","date":"2013-10-07T08:19:21.655Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: nvm, you are now :)","date":"2013-10-07T08:21:29.498Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis oh, thanks :-)","date":"2013-10-07T08:21:48.378Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: hey ben","date":"2013-10-07T08:24:33.692Z","type":"message"}
{"nick":"indutny","message":"how are you?","date":"2013-10-07T08:24:36.147Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-07T08:30:14.388Z","type":"quit"}
{"nick":"inolen","date":"2013-10-07T08:31:24.835Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: hola. i'm fine (again)","date":"2013-10-07T08:37:36.016Z","type":"message"}
{"nick":"bnoordhuis","message":"was down with a stomach flu over the weekend","date":"2013-10-07T08:37:58.723Z","type":"message"}
{"nick":"bnoordhuis","message":"things like that always happen in the weekends, don't they?","date":"2013-10-07T08:38:10.714Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: btw, are you a libuv ML moderator","date":"2013-10-07T08:43:45.145Z","type":"message"}
{"nick":"indutny","message":"I'm not really sure","date":"2013-10-07T08:43:52.354Z","type":"message"}
{"nick":"indutny","message":"perhaps, no","date":"2013-10-07T08:43:56.803Z","type":"message"}
{"nick":"bnoordhuis","message":"let me check","date":"2013-10-07T08:44:00.865Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: stomach flu sounds quite dangerous","date":"2013-10-07T08:44:03.328Z","type":"message"}
{"nick":"indutny","message":"are you ok?","date":"2013-10-07T08:44:05.241Z","type":"message"}
{"nick":"indutny","message":"I mean now","date":"2013-10-07T08:44:10.001Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i'm better again","date":"2013-10-07T08:44:29.303Z","type":"message"}
{"nick":"bnoordhuis","message":"and you're a manager now","date":"2013-10-07T08:44:36.995Z","type":"message"}
{"nick":"bnoordhuis","message":"that rat bert made me manager rather than owner so now i can't bump you guys to owner","date":"2013-10-07T08:44:54.002Z","type":"message"}
{"nick":"bnoordhuis","message":"i've emailed him that i expect a fix on my desk before 4 PM","date":"2013-10-07T08:45:33.996Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-10-07T08:45:50.869Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-10-07T08:45:54.136Z","type":"message"}
{"nick":"rendar","date":"2013-10-07T08:57:12.545Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T09:04:03.335Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 245 seconds","date":"2013-10-07T09:05:00.127Z","type":"quit"}
{"nick":"hz","message":"after a FIN recvd, i can call shutdown on my tcp socket.. FIN is sent and socket enters into the LAST_ACK state waiting for the ACK to the sent FIN. can the socket reach the CLOSED state event if i dont call close on my socket?","date":"2013-10-07T09:11:08.337Z","type":"message"}
{"nick":"hz","message":"* event if -> even if","date":"2013-10-07T09:11:40.917Z","type":"message"}
{"nick":"hz","message":"if yes... if now i call close, does it avoid to send FIN right? how it works internally?","date":"2013-10-07T09:13:04.817Z","type":"message"}
{"nick":"bnoordhuis","message":"hz: the answer however is 'no' :)","date":"2013-10-07T09:13:16.262Z","type":"message"}
{"nick":"bnoordhuis","message":"if you don't call close(), it'll end up in a WAIT state","date":"2013-10-07T09:13:42.916Z","type":"message"}
{"nick":"hz","message":"shutdown send a FIN","date":"2013-10-07T09:13:43.357Z","type":"message"}
{"nick":"hz","message":"CLOSE_WAIT even if FIN has been ACKed?","date":"2013-10-07T09:14:23.112Z","type":"message"}
{"nick":"hz","message":"* shutdown(wr)","date":"2013-10-07T09:15:01.931Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2013-10-07T09:15:11.709Z","type":"message"}
{"nick":"hz","message":"is it a TCP directive or just implementation detail","date":"2013-10-07T09:15:38.898Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess the latter","date":"2013-10-07T09:15:48.547Z","type":"message"}
{"nick":"hz","message":"so i have no warranties on it, damn it :D","date":"2013-10-07T09:16:09.852Z","type":"message"}
{"nick":"hz","message":"thanks bnoordhuis :)","date":"2013-10-07T09:16:45.469Z","type":"message"}
{"nick":"bnoordhuis","message":"np :)","date":"2013-10-07T09:16:49.695Z","type":"message"}
{"nick":"hz","message":"what you said, its unix/linux impl?","date":"2013-10-07T09:17:00.538Z","type":"message"}
{"nick":"hz","message":"or other OS?","date":"2013-10-07T09:17:06.125Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that's how linux works","date":"2013-10-07T09:17:11.286Z","type":"message"}
{"nick":"bnoordhuis","message":"freebsd too, i'm pretty certain","date":"2013-10-07T09:17:16.086Z","type":"message"}
{"nick":"hz","message":"i see","date":"2013-10-07T09:17:28.025Z","type":"message"}
{"nick":"bnoordhuis","message":"it'd be pretty odd if the kernel actually reclaimed the address:port behind your back","date":"2013-10-07T09:17:37.992Z","type":"message"}
{"nick":"hz","message":"are you a ker develper?","date":"2013-10-07T09:17:45.255Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean kernel programmer? off and on","date":"2013-10-07T09:17:59.917Z","type":"message"}
{"nick":"bnoordhuis","message":"my last linux patch is from 2006 or thereabouts though :)","date":"2013-10-07T09:18:16.721Z","type":"message"}
{"nick":"hz","message":"ehehe","date":"2013-10-07T09:18:24.441Z","type":"message"}
{"nick":"rendar","date":"2013-10-07T09:20:59.550Z","type":"join"}
{"nick":"indutny","message":"hz: TCP is really fucked","date":"2013-10-07T09:36:18.537Z","type":"message"}
{"nick":"indutny","message":"use UDP","date":"2013-10-07T09:36:20.029Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-10-07T09:36:21.527Z","type":"message"}
{"nick":"hz","message":"hahahah :D","date":"2013-10-07T09:37:21.770Z","type":"message"}
{"nick":"hz","message":"11:13 <bnoordhuis> if you don't call close(), it'll end up in a WAIT state <--- doesnt shutdown put it into LAST_ACK state?","date":"2013-10-07T09:39:36.597Z","type":"message"}
{"nick":"Benvie_","date":"2013-10-07T09:39:52.771Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 256 seconds","date":"2013-10-07T09:41:40.245Z","type":"quit"}
{"nick":"bnoordhuis","message":"hz: LAST_ACK is when the other end sent a FIN","date":"2013-10-07T09:46:32.890Z","type":"message"}
{"nick":"Benvie_","reason":"Ping timeout: 248 seconds","date":"2013-10-07T09:46:40.771Z","type":"quit"}
{"nick":"hz","message":"CLOSE_WAIT is when the other sends the firts FIN","date":"2013-10-07T09:47:50.452Z","type":"message"}
{"nick":"hz","message":"and i reply with an ACK to it","date":"2013-10-07T09:48:22.135Z","type":"message"}
{"nick":"hz","message":"from close wait, diagram shows the socket can pass into LAST_ACK only by sending the second FIN","date":"2013-10-07T09:48:59.413Z","type":"message"}
{"nick":"bnoordhuis","message":"hz: oh wait, yeah, what i said is only partially correct","date":"2013-10-07T09:49:12.815Z","type":"message"}
{"nick":"hz","message":"so both shutdown(wr) and close should do this","date":"2013-10-07T09:49:22.166Z","type":"message"}
{"nick":"bnoordhuis","message":"shutdown from both sides but there may still be pending data on our side","date":"2013-10-07T09:49:33.494Z","type":"message"}
{"nick":"bnoordhuis","message":"where 'our' means 'in the kernel'","date":"2013-10-07T09:49:45.056Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-07T09:50:28.452Z","type":"quit"}
{"nick":"hz","message":"assuming i recevived the first FIN and i sent the ACK to it","date":"2013-10-07T09:50:30.193Z","type":"message"}
{"nick":"bnoordhuis","message":"if you have a lot of sockets in LAST_ACK state, it means you're not closing them","date":"2013-10-07T09:50:46.243Z","type":"message"}
{"nick":"hz","message":"now if i call shutdown does my socket pass into  LAST_ACK?","date":"2013-10-07T09:50:53.120Z","type":"message"}
{"nick":"hz","message":"or LAST_ACK state is recheable only by invoking close syscall?","date":"2013-10-07T09:51:38.088Z","type":"message"}
{"nick":"bnoordhuis","message":"no, it's usually when you call shutdown but not close","date":"2013-10-07T09:52:12.525Z","type":"message"}
{"nick":"bnoordhuis","message":"a socket can stay in LAST_ACK for a little while after close","date":"2013-10-07T09:52:24.007Z","type":"message"}
{"nick":"hz","message":"sure, waiting for 2nd FIN being ACKed","date":"2013-10-07T09:52:58.315Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm curious though, why are you so interested in this? :)","date":"2013-10-07T09:53:50.713Z","type":"message"}
{"nick":"hz","message":"just for study","date":"2013-10-07T09:54:18.065Z","type":"message"}
{"nick":"hz","message":"curiosity its dangerous :D","date":"2013-10-07T09:54:29.144Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, it killed the cat","date":"2013-10-07T09:54:41.863Z","type":"message"}
{"nick":"hz","message":"btw i can think write a didactical TCP socket interactive simulator","date":"2013-10-07T09:55:22.971Z","type":"message"}
{"nick":"hz","message":"where interactions are syscall invokations","date":"2013-10-07T09:55:50.040Z","type":"message"}
{"nick":"hz","message":"so id like understand the result given by \"every state, every syscall\" couples","date":"2013-10-07T09:57:21.242Z","type":"message"}
{"nick":"bnoordhuis","message":"you want to understand the tcp state machine?","date":"2013-10-07T09:57:56.946Z","type":"message"}
{"nick":"hz","message":"yes","date":"2013-10-07T09:58:12.676Z","type":"message"}
{"nick":"hz","message":"but in relation to syscall","date":"2013-10-07T09:58:18.377Z","type":"message"}
{"nick":"hz","message":"what i can read doent talk about syscall shutdown o close","date":"2013-10-07T09:59:13.640Z","type":"message"}
{"nick":"hz","message":"they say \"send a FIN\"","date":"2013-10-07T09:59:26.832Z","type":"message"}
{"nick":"hz","message":"but i know shutdown is not exaclty as close","date":"2013-10-07T10:00:00.936Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, right","date":"2013-10-07T10:00:43.338Z","type":"message"}
{"nick":"bnoordhuis","message":"what kind of shutdown are you doing? SHUT_RDWR?","date":"2013-10-07T10:00:51.896Z","type":"message"}
{"nick":"hz","message":"only WR","date":"2013-10-07T10:00:58.795Z","type":"message"}
{"nick":"hz","message":"RD is quite useless atm","date":"2013-10-07T10:01:17.583Z","type":"message"}
{"nick":"mburns","reason":"Quit: ZNC - http://znc.sourceforge.net","date":"2013-10-07T10:01:37.503Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-07T10:02:05.224Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-07T10:02:31.285Z","type":"join"}
{"nick":"mburns","date":"2013-10-07T10:03:26.885Z","type":"join"}
{"nick":"mburns","reason":"Client Quit","date":"2013-10-07T10:05:29.349Z","type":"quit"}
{"nick":"mburns","date":"2013-10-07T10:06:54.869Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 268 seconds","date":"2013-10-07T10:07:33.125Z","type":"quit"}
{"nick":"bnoordhuis","message":"hz: i guess you could say the same thing about SHUT_WR, it's not that different from a full close","date":"2013-10-07T10:07:50.043Z","type":"message"}
{"nick":"bnoordhuis","message":"you can still receive data but you could argue that's working around application bugs","date":"2013-10-07T10:08:11.492Z","type":"message"}
{"nick":"bnoordhuis","message":"not that i have a really strong opinion on it, i just work with what's there :)","date":"2013-10-07T10:08:29.317Z","type":"message"}
{"nick":"hz","message":"12:08 <bnoordhuis> you can still receive data <-- if im in CLOSE_WAIT i just received FIN from my peer so read its useless (i think i would get another 0 returned from read syscall)","date":"2013-10-07T10:10:22.811Z","type":"message"}
{"nick":"hz","message":"this is why i dont care about RW detail now","date":"2013-10-07T10:11:00.438Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2013-10-07T10:11:42.068Z","type":"message"}
{"nick":"hz","message":"*RD","date":"2013-10-07T10:15:16.281Z","type":"message"}
{"nick":"hz","message":"http://webmuseum.mi.fh-offenburg.de/exhibition/17/assets/statemachine.swf <-- :D it doesnt contemple shutdown, arrrrr","date":"2013-10-07T10:18:20.613Z","type":"message"}
{"nick":"dominictarr","date":"2013-10-07T10:26:24.150Z","type":"join"}
{"nick":"mburns","date":"2013-10-07T10:28:32.512Z","type":"part"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-10-07T10:32:36.597Z","type":"quit"}
{"nick":"dominictarr","date":"2013-10-07T10:34:43.577Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-10-07T10:39:59.981Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1519 \u00037UNSTABLE\u000f smartos-ia32 (1/600) linux-x64 (1/600) osx-x64 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1519/","date":"2013-10-07T10:45:40.919Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-10-07T10:46:48.157Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-10-07T10:48:05.462Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-10-07T10:48:28.123Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-10-07T10:49:52.454Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-07T10:52:51.001Z","type":"join"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-10-07T10:53:01.007Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T11:05:32.341Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 264 seconds","date":"2013-10-07T11:10:18.227Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: what are the major outstanding issues for v0.12 in your opinion?","date":"2013-10-07T11:37:29.063Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ^ ditto","date":"2013-10-07T11:37:32.559Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-10-07T11:38:47.243Z","type":"message"}
{"nick":"indutny","message":"I'd like to introduce cluster.distribute thing","date":"2013-10-07T11:38:56.834Z","type":"message"}
{"nick":"indutny","message":"and probably dualstack","date":"2013-10-07T11:39:07.467Z","type":"message"}
{"nick":"indutny","message":"no other blockers from my side","date":"2013-10-07T11:39:13.296Z","type":"message"}
{"nick":"bnoordhuis","message":"i was thinking more of bugs, not features","date":"2013-10-07T11:39:24.370Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, think it over while i do the groceries :)","date":"2013-10-07T11:40:01.651Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-10-07T11:44:35.122Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-07T11:47:41.054Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: execSync","date":"2013-10-07T12:18:32.232Z","type":"message"}
{"nick":"piscisaureus_","message":"ircretery: tell bnoordhuis execSync, and also sync/async stdio woes","date":"2013-10-07T12:21:33.365Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-10-07T12:37:13.235Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: okay. when is that finished?","date":"2013-10-07T12:38:01.687Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-07T13:22:27.928Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-07T13:25:29.080Z","type":"join"}
{"nick":"Kakera_","date":"2013-10-07T13:38:24.766Z","type":"join"}
{"nick":"kevinswiber","date":"2013-10-07T13:51:41.501Z","type":"join"}
{"nick":"c4milo","date":"2013-10-07T13:53:43.480Z","type":"join"}
{"nick":"isaacs","action":"waves","date":"2013-10-07T13:58:10.749Z","type":"action"}
{"nick":"bnoordhuis","message":"hey isaac","date":"2013-10-07T13:59:15.317Z","type":"message"}
{"nick":"piscisaureus_","message":"hello","date":"2013-10-07T14:01:52.677Z","type":"message"}
{"nick":"vptr","date":"2013-10-07T14:04:32.124Z","type":"join"}
{"nick":"AvianFlu","date":"2013-10-07T14:24:04.340Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-10-07T14:27:35.484Z","type":"quit"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-10-07T14:28:00.449Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-10-07T14:28:32.337Z","type":"join"}
{"nick":"M28","date":"2013-10-07T14:29:10.337Z","type":"join"}
{"nick":"inolen1","date":"2013-10-07T14:29:17.767Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 264 seconds","date":"2013-10-07T14:29:38.778Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-07T14:31:16.379Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-07T14:32:03.744Z","type":"quit"}
{"nick":"kevinswiber","reason":"Ping timeout: 245 seconds","date":"2013-10-07T14:32:55.190Z","type":"quit"}
{"nick":"piscisaureus_","message":"rendar: ?","date":"2013-10-07T14:37:36.866Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: i saw that named pipes in windows: they're different than those on unix (local sockets) which are more similar to tcp sockets, you have an accept which gives you a new fd. instead with named pipes the listening fd will be the client endpoint fd in the server, right? so how to abstract this to make it working with iocp?","date":"2013-10-07T14:39:01.551Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: so with libuv you just do it the same as on unix","date":"2013-10-07T14:40:13.586Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: internally libuv will create a new \"listening fd\" after it accepts, so it can accept more","date":"2013-10-07T14:40:54.159Z","type":"message"}
{"nick":"saghul","reason":"Ping timeout: 264 seconds","date":"2013-10-07T14:40:54.373Z","type":"quit"}
{"nick":"rendar","message":"piscisaureus_: exactly","date":"2013-10-07T14:41:44.437Z","type":"message"}
{"nick":"saghul","date":"2013-10-07T14:42:45.820Z","type":"join"}
{"nick":"rendar","message":"piscisaureus_: now my question is: when it returns a new fd (which is not a new fd) shouldn't libuv change its iocp key associated with that named pipe handle? i mean: if you set a callback as the completion key, and that callback is \"uv__namedpipe_listening\" after, you should change it to \"uv__normal_stream\" because that fd change \"face\" it passes to be a listening entity to a normal stream ","date":"2013-10-07T14:43:54.888Z","type":"message"}
{"nick":"rendar","message":"entity, this do not happen on unix...how to solve this problem? by modifing callbacks i guess, or changing cb* pointers?","date":"2013-10-07T14:43:55.103Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: the iocp key isn't used","date":"2013-10-07T14:45:07.869Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: oh..i see","date":"2013-10-07T14:45:20.406Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: but why? any particular design decision for that?","date":"2013-10-07T14:45:34.881Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: because the IOCP key would reference a handle","date":"2013-10-07T14:46:23.335Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: but we needed more granularity (track individual OVERLAPPEDs)","date":"2013-10-07T14:47:03.117Z","type":"message"}
{"nick":"rendar","message":"a handle? it can also reference a pointer, right? e.g. a pointer to a callback","date":"2013-10-07T14:47:04.971Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: yes but a handle can have many callbacks","date":"2013-10-07T14:47:26.988Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: e.g. you can have read and multiple writes outstanding at the same time","date":"2013-10-07T14:47:43.573Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: so there isn't really \"the\" callback for a handle","date":"2013-10-07T14:47:55.480Z","type":"message"}
{"nick":"rendar","message":"oh, right","date":"2013-10-07T14:48:21.172Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: you can make it point anywhere, but I never had a use for it. the OVERLAPPED is embedded in a uv_req_t and the uv_req_t points to the handle","date":"2013-10-07T14:48:25.785Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: i saw that also that completion key can't be changed in anyway during the life of the HANDLE, right?","date":"2013-10-07T14:48:38.989Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: so why would I make it redundant?","date":"2013-10-07T14:48:39.422Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: could be yeah","date":"2013-10-07T14:48:48.750Z","type":"message"}
{"nick":"bnoordhuis","message":"accept() really bugs me as an interface","date":"2013-10-07T14:48:52.987Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: so, don't rely on the completion key","date":"2013-10-07T14:48:55.669Z","type":"message"}
{"nick":"mikeal","date":"2013-10-07T14:49:01.340Z","type":"join"}
{"nick":"bnoordhuis","message":"all the EAGAINs!","date":"2013-10-07T14:49:01.598Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: i see","date":"2013-10-07T14:49:04.156Z","type":"message"}
{"nick":"bnoordhuis","message":"and it needs to lock the socket on each call. bah","date":"2013-10-07T14:49:09.991Z","type":"message"}
{"nick":"rendar","message":"what's your network name, EAGAIN?","date":"2013-10-07T14:49:33.050Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: yeah right","date":"2013-10-07T14:49:56.556Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: so what is the question - are you writing your own libuv?","date":"2013-10-07T14:49:56.769Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: nop, i'm just doing some async i/o tests but in C++ instead of C, so i was trying this silly completion key","date":"2013-10-07T14:50:38.053Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: i had completion key pointing to a C++ object which is a listener entity, and i couldn't change it to a stream entity..","date":"2013-10-07T14:51:01.657Z","type":"message"}
{"nick":"piscisaureus_","message":"yup. that don't work","date":"2013-10-07T14:51:32.701Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: interesting the point of using a new pointer for each OVERLAPPEDs","date":"2013-10-07T14:51:50.589Z","type":"message"}
{"nick":"rendar","message":"pointer*","date":"2013-10-07T14:52:11.081Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: before you said \"track\" individual OVERLAPPEDs, what you mean with \"track\"? i guess because each overlapped request created must increment an atomic counter, and decrement it on completion? so the pointer that the OVERLAPPED structure has can be freed?","date":"2013-10-07T14:54:21.153Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: much more bookkeeping, e.g. if a UV_READ req completes we must queue another","date":"2013-10-07T14:56:12.328Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: oh yeah, exactly","date":"2013-10-07T14:56:27.686Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-07T14:56:36.242Z","type":"quit"}
{"nick":"rendar","message":"piscisaureus_: thats just what i was thinking about","date":"2013-10-07T14:56:45.798Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: well, i guess windows its the only operating system that uses OVERLAPPED allocation for each request, so in other systems you don't have to worry about OVERLAPPED deallocation, right? thats because epoll() or kqueue() etc just don't have to allocate these \"packets\"","date":"2013-10-07T14:57:55.066Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: but does libuv use something special to assure that every OVERLAPPED will be freed? i thought an atomic counter for pending requests or something like that","date":"2013-10-07T14:58:22.517Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: the user is responsible for allocating an uv_req_t (uv_write_t, uv_shutdown_t) whenever it does an operation","date":"2013-10-07T14:59:16.823Z","type":"message"}
{"nick":"julianduque","date":"2013-10-07T14:59:18.696Z","type":"join"}
{"nick":"piscisaureus_","message":"rendar: and freeing it in the callback","date":"2013-10-07T14:59:25.766Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: the overlapped sits inside that struct","date":"2013-10-07T14:59:35.886Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: as for read and accept requests, their memory management is handled by the bookkeeping code","date":"2013-10-07T15:00:16.731Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: there are no atomic counters involved in the process. that would make no sense since libuv is not thread-safe anyway","date":"2013-10-07T15:01:02.695Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 240 seconds","date":"2013-10-07T15:07:15.955Z","type":"quit"}
{"nick":"rendar","message":"piscisaureus_: i see","date":"2013-10-07T15:08:13.003Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: well this is totally different from the unix way, because in epoll or kquueue you don't have OVERLAPPED packets, so you have to specify a pointer for the final callback?","date":"2013-10-07T15:10:26.806Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: I don't understand the question","date":"2013-10-07T15:11:50.562Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: sorry, i mean, in libuv/win when you start an async request, you have to specify the pointer to the callback, in order to allocate an OVERLAPPED structure with that pointer, and this won't happen in libuv/*nix i guess, because you do not allocate OVERLAPPEDs, but you have just i/o readyness alerts","date":"2013-10-07T15:13:56.191Z","type":"message"}
{"nick":"rendar","message":"so in *nix you will specify an unique pointer that epoll/kqueue or whatever will call when i/o is *ready* but not completed -- my point is that in *nix you'll need less granularity than in windows i guess","date":"2013-10-07T15:15:04.886Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: well on unix libuv does bookkeeping differently","date":"2013-10-07T15:15:45.503Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: it maintains a queue for writes etc","date":"2013-10-07T15:15:53.282Z","type":"message"}
{"nick":"rendar","message":"yeah right","date":"2013-10-07T15:15:59.138Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #597 \u00037UNSTABLE\u000f osx-x64 (1/644) smartos-x64 (5/644) http://jenkins.nodejs.org/job/nodejs-master/597/","date":"2013-10-07T15:17:12.368Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-10-07T15:22:18.337Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-07T15:25:48.034Z","type":"join"}
{"nick":"kevinswiber","date":"2013-10-07T15:39:58.894Z","type":"join"}
{"nick":"octetcloud","date":"2013-10-07T15:40:35.794Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-07T15:49:08.119Z","type":"join"}
{"nick":"dap","date":"2013-10-07T15:49:21.779Z","type":"join"}
{"nick":"hz","date":"2013-10-07T15:49:35.780Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-07T15:53:03.300Z","type":"quit"}
{"nick":"amartens","date":"2013-10-07T15:55:58.625Z","type":"join"}
{"nick":"indexzero","date":"2013-10-07T16:04:08.033Z","type":"join"}
{"nick":"tjfontaine","message":"gday good folks","date":"2013-10-07T16:12:49.767Z","type":"message"}
{"nick":"indutny","message":"gday","date":"2013-10-07T16:16:01.897Z","type":"message"}
{"nick":"othiym23","message":"good morning Tj","date":"2013-10-07T16:20:47.219Z","type":"message"}
{"nick":"othiym23","message":"I forgot how to type this weekend","date":"2013-10-07T16:21:05.216Z","type":"message"}
{"nick":"othiym23","message":"take one day off IRC, and I'm a mess","date":"2013-10-07T16:21:13.192Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-10-07T16:21:27.001Z","type":"message"}
{"nick":"tjfontaine","message":"muscle memory, it's difficult to keep","date":"2013-10-07T16:21:43.054Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-07T16:21:44.074Z","type":"message"}
{"nick":"othiym23","message":"sweet, Node engineers at New Relic++","date":"2013-10-07T16:28:34.463Z","type":"message"}
{"nick":"othiym23","message":"I have a teammate!","date":"2013-10-07T16:28:38.006Z","type":"message"}
{"nick":"othiym23","message":"whee","date":"2013-10-07T16:28:39.833Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-10-07T16:28:43.943Z","type":"join"}
{"nick":"tjfontaine","message":"othiym23: yay!","date":"2013-10-07T16:29:05.911Z","type":"message"}
{"nick":"inolen","date":"2013-10-07T16:31:36.808Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2013-10-07T16:33:16.962Z","type":"quit"}
{"nick":"inolen1","reason":"Ping timeout: 248 seconds","date":"2013-10-07T16:33:36.787Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-10-07T16:46:20.195Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-07T17:02:57.116Z","type":"nick"}
{"nick":"nightmar1","date":"2013-10-07T17:07:58.998Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: your latest changes are still looking good for me","date":"2013-10-07T17:13:15.692Z","type":"message"}
{"nick":"bnoordhuis","reason":"Quit: leaving","date":"2013-10-07T17:16:20.045Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-07T17:17:51.515Z","type":"quit"}
{"nick":"indexzero","reason":"Ping timeout: 241 seconds","date":"2013-10-07T17:17:59.863Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-10-07T17:19:47.892Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Timothy J Fontaine\u000f \u00037master\u000f * \u0002711ec07\u0002 : v8: ugprade to 3.20.17.14 - http://git.io/keTOag","date":"2013-10-07T17:23:13.549Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: good to hear","date":"2013-10-07T17:23:19.074Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-07T17:23:39.429Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-10-07T17:27:47.391Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #598 \u00034FAILURE\u000f smartos-ia32 (1/644) smartos-x64 (8/644) http://jenkins.nodejs.org/job/nodejs-master/598/","date":"2013-10-07T17:35:20.841Z","type":"message"}
{"nick":"tjfontaine","message":"scuzi?","date":"2013-10-07T17:35:40.166Z","type":"message"}
{"nick":"tjfontaine","message":"/bin/sh: /bin/sh: cannot execute binary file","date":"2013-10-07T17:35:54.869Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-07T17:39:14.777Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-07T17:42:22.322Z","type":"nick"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #599 \u00037UNSTABLE\u000f smartos-ia32 (1/644) smartos-x64 (7/644) osx-ia32 (1/644) http://jenkins.nodejs.org/job/nodejs-master/599/","date":"2013-10-07T17:46:52.097Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #392 \u00037UNSTABLE\u000f windows-x64 (26/644) windows-ia32 (23/644) http://jenkins.nodejs.org/job/nodejs-master-windows/392/","date":"2013-10-07T17:56:13.341Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #273 \u00037UNSTABLE\u000f linux (2/195) windows (3/196) smartos (7/195) http://jenkins.nodejs.org/job/libuv-master/273/","date":"2013-10-07T17:56:19.341Z","type":"message"}
{"nick":"julianduque","date":"2013-10-07T18:05:44.079Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-07T18:06:32.607Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: that was a tiny v8 upgrade. what was the fix for?","date":"2013-10-07T18:06:52.418Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: https://github.com/v8/v8/commit/435d8aadc3f60fea2aaad23fae3f29e5aeccb907","date":"2013-10-07T18:07:37.585Z","type":"message"}
{"nick":"trevnorris","message":"ah, thanks.","date":"2013-10-07T18:07:57.053Z","type":"message"}
{"nick":"tjfontaine","message":"trying to concot a test case for this zlib refcounting issue, I don't think I will win","date":"2013-10-07T18:08:45.391Z","type":"message"}
{"nick":"trevnorris","message":"ooh. yeah.","date":"2013-10-07T18:09:31.001Z","type":"message"}
{"nick":"trevnorris","message":"ah man. i'm going to have soo much fun screwing around with Eternal's when we upgrade to 3.21 in v0.13","date":"2013-10-07T18:12:06.225Z","type":"message"}
{"nick":"trevnorris","action":"smacks himself","date":"2013-10-07T18:12:20.110Z","type":"action"}
{"nick":"trevnorris","message":"ok trevor, focus","date":"2013-10-07T18:12:20.326Z","type":"message"}
{"nick":"tjfontaine","message":"well eternals are technically in there now","date":"2013-10-07T18:12:29.515Z","type":"message"}
{"nick":"trevnorris","message":"the class isn't","date":"2013-10-07T18:12:39.230Z","type":"message"}
{"nick":"othiym23","message":"is an Eternal like an even more persistent Persistent?","date":"2013-10-07T18:12:42.369Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it's a local that exists for the life of the isolate","date":"2013-10-07T18:12:57.550Z","type":"message"}
{"nick":"tjfontaine","message":"and when izs is around we're going to have a discussion about maybe upgrading to 3.21 before release","date":"2013-10-07T18:13:00.019Z","type":"message"}
{"nick":"othiym23","message":"aha","date":"2013-10-07T18:13:02.101Z","type":"message"}
{"nick":"othiym23","message":"ooo 3.21","date":"2013-10-07T18:13:11.054Z","type":"message"}
{"nick":"trevnorris","message":"and it's retrievable by a returned index","date":"2013-10-07T18:13:12.489Z","type":"message"}
{"nick":"trevnorris","message":"i'm looking at the diff of include/v8.h between 3.20 and 3.21. man they like to change stuff.","date":"2013-10-07T18:13:44.475Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: https://github.com/joyent/node/pull/6279","date":"2013-10-07T18:14:02.713Z","type":"message"}
{"nick":"trevnorris","message":":))))))))))))))))","date":"2013-10-07T18:14:19.059Z","type":"message"}
{"nick":"tjfontaine","message":"there's a discussion that's going to be had first though","date":"2013-10-07T18:14:29.644Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #258 \u00037UNSTABLE\u000f osx-x64 (1/644) linux-x64 (2/644) smartos-x64 (7/644) smartos-ia32 (1/644) http://jenkins.nodejs.org/job/libuv-node-integration/258/","date":"2013-10-07T18:15:00.755Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, iirc you're the one that said v0.11 was a bit \"long in the tooth\" for an upgrade to 3.21. ;)","date":"2013-10-07T18:15:33.157Z","type":"message"}
{"nick":"tjfontaine","message":"that's how I feel yes, but I am not unsympathetic to need to have a fresher version of v8 in our stable releases","date":"2013-10-07T18:16:04.430Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: wtf, they have a new Function constructor that allows a Local<Value> data argument,","date":"2013-10-07T18:19:00.835Z","type":"message"}
{"nick":"othiym23","message":"haha just loading that PR in Chrome is making my laptop chug","date":"2013-10-07T18:19:11.419Z","type":"message"}
{"nick":"trevnorris","message":"oh wait. nm","date":"2013-10-07T18:19:21.105Z","type":"message"}
{"nick":"trevnorris","message":"i'm still waking up.","date":"2013-10-07T18:19:25.810Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: ya, WTG github","date":"2013-10-07T18:19:26.995Z","type":"message"}
{"nick":"othiym23","message":"haha 1.5GiB RSS for that tag alone","date":"2013-10-07T18:20:23.033Z","type":"message"}
{"nick":"othiym23","message":"sorry laptop!","date":"2013-10-07T18:20:29.005Z","type":"message"}
{"nick":"othiym23","message":"tab, not tag","date":"2013-10-07T18:20:52.705Z","type":"message"}
{"nick":"trevnorris","message":"Externalize, Eternalize. yeah, i'm going to be getting those two mixed up.","date":"2013-10-07T18:21:39.505Z","type":"message"}
{"nick":"tjfontaine","message":"yup.","date":"2013-10-07T18:22:07.227Z","type":"message"}
{"nick":"trevnorris","message":"at least their parameters aren't the same or i'd really be screwed.","date":"2013-10-07T18:23:42.916Z","type":"message"}
{"nick":"othiym23","message":"the build changes are nice","date":"2013-10-07T18:24:35.105Z","type":"message"}
{"nick":"othiym23","message":"so does 3.21 assume there's always a single isolate?","date":"2013-10-07T18:25:03.436Z","type":"message"}
{"nick":"othiym23","message":"seeing lots of Dispose calls that no longer have isolate parameters","date":"2013-10-07T18:25:19.737Z","type":"message"}
{"nick":"othiym23","message":"or is the Isolate passed to the constructors now?","date":"2013-10-07T18:25:25.832Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: i'm going to cleanup/squash my 37 commits into something much cleaner.","date":"2013-10-07T18:25:36.531Z","type":"message"}
{"nick":"trevnorris","message":"it'll still have the two implementations (w/ and w/o the domain specific code) but it's sort of ridiculous right now.","date":"2013-10-07T18:25:36.740Z","type":"message"}
{"nick":"othiym23","message":"ah nm it's the latter, I see","date":"2013-10-07T18:25:38.744Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: that sounds good -- did you replace the domain.enter / exit calls everwhere with asyncListener before / after callbacks?","date":"2013-10-07T18:26:09.264Z","type":"message"}
{"nick":"othiym23","message":"how had I not noticed NeanderObject and NeanderArray before?","date":"2013-10-07T18:29:50.652Z","type":"message"}
{"nick":"othiym23","message":"their names are so delightful","date":"2013-10-07T18:29:53.881Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: yup.","date":"2013-10-07T18:30:48.696Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: but they should still work normally if the user does","date":"2013-10-07T18:31:07.814Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-07T18:31:42.216Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: I just like the reduction in code cruft","date":"2013-10-07T18:32:05.431Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: although nobody is going to have a chance of understanding how domains work now without learning about asyncListeners first ;)","date":"2013-10-07T18:32:26.360Z","type":"message"}
{"nick":"st_luke","date":"2013-10-07T18:34:25.296Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: heh, yeah. and the best part is that in events.js the domain code was just removed. didn't need to add async listener code. :P","date":"2013-10-07T18:36:45.314Z","type":"message"}
{"nick":"hz","date":"2013-10-07T18:36:48.279Z","type":"join"}
{"nick":"trevnorris","message":"that'll confuse some people.","date":"2013-10-07T18:36:55.688Z","type":"message"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-07T18:40:00.795Z","type":"quit"}
{"nick":"nightmar1","reason":"Quit: Changing server","date":"2013-10-07T18:40:30.428Z","type":"quit"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-10-07T18:41:49.246Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-07T18:42:04.523Z","type":"join"}
{"nick":"mikeal","date":"2013-10-07T18:47:54.991Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #393 \u00037UNSTABLE\u000f windows-x64 (21/644) windows-ia32 (22/644) http://jenkins.nodejs.org/job/nodejs-master-windows/393/","date":"2013-10-07T18:48:45.289Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-10-07T18:49:12.522Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-07T18:52:55.679Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 245 seconds","date":"2013-10-07T18:57:56.776Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-07T19:06:34.414Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-10-07T19:07:07.869Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-10-07T19:15:39.761Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-07T19:24:08.758Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-10-07T19:25:30.367Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-07T19:27:43.350Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-10-07T19:28:47.536Z","type":"join"}
{"nick":"qmx","reason":"Excess Flood","date":"2013-10-07T19:33:37.798Z","type":"quit"}
{"nick":"qmx","date":"2013-10-07T19:34:07.749Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-07T19:52:30.758Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: any knowledge if isaacs is even alive?","date":"2013-10-07T19:52:54.503Z","type":"message"}
{"nick":"TooTallNate","message":"trevnorris: isn't he like in europe somewhere?","date":"2013-10-07T19:53:43.995Z","type":"message"}
{"nick":"st_luke","date":"2013-10-07T19:54:34.958Z","type":"join"}
{"nick":"trevnorris","message":"TooTallNate: well, he's been over there for like a month. was just wondering if joyent's going to have to replace him. ;P","date":"2013-10-07T19:55:46.673Z","type":"message"}
{"nick":"TooTallNate","message":"haha","date":"2013-10-07T19:56:07.217Z","type":"message"}
{"nick":"trevnorris","message":"between isaacs being on vacation and ben having a kid, things have been pretty dead.","date":"2013-10-07T19:56:49.122Z","type":"message"}
{"nick":"trevnorris","message":"except for tjfontaine debugging the things that would cause most developers to blow their brains out. ;)","date":"2013-10-07T19:57:18.638Z","type":"message"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-07T20:00:56.289Z","type":"quit"}
{"nick":"tjfontaine","message":"you're pretty dead :)","date":"2013-10-07T20:27:58.423Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs is alive and in oakland","date":"2013-10-07T20:28:03.898Z","type":"message"}
{"nick":"tjfontaine","message":"execSync, asyncListener, beforeExit are the features that need to land before we can freeze","date":"2013-10-07T20:29:23.045Z","type":"message"}
{"nick":"roxlu","message":"hey guys, I'm using uv_tty to have some nice colored output, but this does not work in the console of xcode","date":"2013-10-07T20:33:15.675Z","type":"message"}
{"nick":"roxlu","message":"does someone knows a way to either not use colors when output goes to the console of xcode or to enable colors in that console?","date":"2013-10-07T20:33:42.852Z","type":"message"}
{"nick":"tjfontaine","message":"so in xcode terminal you're seeing ansi escape sequences?","date":"2013-10-07T20:34:45.626Z","type":"message"}
{"nick":"roxlu","message":"yes","date":"2013-10-07T20:34:50.067Z","type":"message"}
{"nick":"tjfontaine","message":"roxlu: https://github.com/robbiehanson/XcodeColors","date":"2013-10-07T20:36:08.062Z","type":"message"}
{"nick":"tjfontaine","message":"not entirely what you're looking for though I suspect","date":"2013-10-07T20:36:27.165Z","type":"message"}
{"nick":"roxlu","message":"nah, it would be fine if I could simple disable it when color modes are not supported, but I don't think libuv has features for that at?","date":"2013-10-07T20:37:08.483Z","type":"message"}
{"nick":"roxlu","message":"atm","date":"2013-10-07T20:37:11.938Z","type":"message"}
{"nick":"tjfontaine","message":"no that's a feature of someone doing the writes","date":"2013-10-07T20:37:25.357Z","type":"message"}
{"nick":"roxlu","message":"ok","date":"2013-10-07T20:38:00.562Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what was the need for beforeExit?","date":"2013-10-07T20:44:18.099Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: ok, 37 commits down to 12. no need to run tests though. end code is the exact same as before.","date":"2013-10-07T20:45:23.792Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: it would actually help (imo) with the #6305 issue","date":"2013-10-07T20:45:49.475Z","type":"message"}
{"nick":"tjfontaine","message":"the event loop is getting ready to exit, but you know enough about your state to be like ZOMG WAIT I HAVE MORE TO DO","date":"2013-10-07T20:46:28.998Z","type":"message"}
{"nick":"trevnorris","message":"but would beforeExit be backported to v0.10?","date":"2013-10-07T20:46:45.851Z","type":"message"}
{"nick":"tjfontaine","message":"no, that's pretty much working as intended I think :/","date":"2013-10-07T20:47:12.872Z","type":"message"}
{"nick":"trevnorris","message":"ok, and i'd think there'd be a way to create a tcp test that accomplishes the same thing as your http code.","date":"2013-10-07T20:47:43.660Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-10-07T20:47:49.739Z","type":"message"}
{"nick":"tjfontaine","message":"should be relatively trivial","date":"2013-10-07T20:47:53.055Z","type":"message"}
{"nick":"tjfontaine","message":"the thing is you uv_tcp_open, uv_read_start, get chunk, uv_read_stop in the readcb, loop exits","date":"2013-10-07T20:48:28.333Z","type":"message"}
{"nick":"trevnorris","message":"one sec. need my pills before I can get all this","date":"2013-10-07T20:50:20.215Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-10-07T20:55:29.448Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-10-07T20:56:04.757Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-10-07T20:56:29.990Z","type":"quit"}
{"nick":"kevinswi_","date":"2013-10-07T20:58:29.996Z","type":"join"}
{"nick":"kevinswiber","reason":"Read error: Connection reset by peer","date":"2013-10-07T20:58:50.171Z","type":"quit"}
{"nick":"Kakera_","reason":"Ping timeout: 245 seconds","date":"2013-10-07T20:59:36.713Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-07T21:03:02.805Z","type":"join"}
{"nick":"tjfontaine","message":"how is this even possible","date":"2013-10-07T21:03:57.837Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what?","date":"2013-10-07T21:06:55.856Z","type":"message"}
{"nick":"othiym23","message":"yeah what trevnorris said","date":"2013-10-07T21:07:06.246Z","type":"message"}
{"nick":"tjfontaine","message":"just this zlib crash that we're seeing","date":"2013-10-07T21:07:44.492Z","type":"message"}
{"nick":"tjfontaine","message":"that ben has a fix for","date":"2013-10-07T21:07:50.587Z","type":"message"}
{"nick":"trevnorris","message":"ah, that. yeah, never was able to create a reproducible test case.","date":"2013-10-07T21:08:23.452Z","type":"message"}
{"nick":"trevnorris","message":"other than downloading a crap ton of npm packages.","date":"2013-10-07T21:08:32.986Z","type":"message"}
{"nick":"tjfontaine","message":"for this to happen, write_in_progress_ must be set to true, and for an Error or After to have come through and set the object weak, and then a GC is triggered","date":"2013-10-07T21:08:41.090Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-07T21:08:53.540Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 256 seconds","date":"2013-10-07T21:09:01.386Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T21:09:03.551Z","type":"nick"}
{"nick":"tjfontaine","message":"but, writes are serialized from the js interface","date":"2013-10-07T21:11:21.341Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: back to the pause() problem. i'm not seeing the problem. I mean, if I pause the stream and nothing else is in the event loop, that means there's no way for me to .resume().","date":"2013-10-07T21:12:29.628Z","type":"message"}
{"nick":"trevnorris","message":"and here's my tcp version: https://gist.github.com/trevnorris/6875034","date":"2013-10-07T21:12:34.862Z","type":"message"}
{"nick":"trevnorris","message":"so then, why wouldn't the client exit?","date":"2013-10-07T21:13:06.836Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: yes, that's what I said in my follow up","date":"2013-10-07T21:13:07.051Z","type":"message"}
{"nick":"tjfontaine","message":"have you read https://github.com/joyent/node/issues/6305#issuecomment-25728618 :)","date":"2013-10-07T21:13:47.081Z","type":"message"}
{"nick":"trevnorris","message":"am now :)","date":"2013-10-07T21:13:54.952Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: seems cleaner to me if we had proper handling on the paused state, rather than allow users to hack in on beforeExit, checking if each connection needs to be resumed or what not.","date":"2013-10-07T21:18:28.964Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 240 seconds","date":"2013-10-07T21:20:38.545Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: something like, node doesn't consider the connection out of the event loop either until it's recieved FIN, timed out or the user manually ran destroy/unref","date":"2013-10-07T21:20:40.812Z","type":"message"}
{"nick":"wwicks","date":"2013-10-07T21:20:59.950Z","type":"join"}
{"nick":"tjfontaine","message":"what do you think \"proper handlign\" is in this concept","date":"2013-10-07T21:21:34.386Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: but then you're actually breaking the existing semantics, since there is no way to really unpause the stream in this case, and notifying the user through 'end' or whatever isn't good either because what they'll try and do is put async activities back in th eloop","date":"2013-10-07T21:22:44.850Z","type":"message"}
{"nick":"trevnorris","message":"possibly, and I don't care either way, but if a connection is opened then it keeps the event loop open until either the user has explicitly closed it, or an event has been emitted about it being closed.","date":"2013-10-07T21:22:53.778Z","type":"message"}
{"nick":"tjfontaine","message":"that's a big semantic change to libuv, I don't necessarily disagree with it in principle","date":"2013-10-07T21:23:18.678Z","type":"message"}
{"nick":"trevnorris","message":"well, i don't think it'd need to happen in libuv.","date":"2013-10-07T21:23:37.814Z","type":"message"}
{"nick":"trevnorris","message":"i mean, node could keep an active whatnot with a counter","date":"2013-10-07T21:23:49.049Z","type":"message"}
{"nick":"othiym23","message":"how does Node know the connection is unresumable?","date":"2013-10-07T21:23:58.590Z","type":"message"}
{"nick":"othiym23","message":"does pausing unref the handle?","date":"2013-10-07T21:24:02.964Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: no, it's ref'd, but not considered active if there's active readers and listeners","date":"2013-10-07T21:24:28.008Z","type":"message"}
{"nick":"tjfontaine","message":"*only considered active if","date":"2013-10-07T21:24:36.602Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: it doesn't \"know\", but the eloop will close when no other async events are queued. and if none are queued, then it'd be impossible to resume().","date":"2013-10-07T21:24:57.681Z","type":"message"}
{"nick":"othiym23","message":"thanks guys, that makes sense","date":"2013-10-07T21:25:19.176Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: beforeExit might be a nice utility, but in this case, and spitballing here, having an aboutToClose event on the connection seems more appropriate/specific","date":"2013-10-07T21:27:01.225Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-10-07T21:27:38.630Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: how/who would fire that, and wouldn't that fire per connection?","date":"2013-10-07T21:27:41.147Z","type":"message"}
{"nick":"hz","date":"2013-10-07T21:27:42.754Z","type":"join"}
{"nick":"trevnorris","message":"i mean, in real use case, when would a user pause a connection then say, eh I'll wait until beforeExit to resume it.","date":"2013-10-07T21:27:57.393Z","type":"message"}
{"nick":"tjfontaine","message":"it's generally programmer error here","date":"2013-10-07T21:28:10.173Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-10-07T21:28:18.976Z","type":"join"}
{"nick":"trevnorris","message":"no disagreement there.","date":"2013-10-07T21:28:19.609Z","type":"message"}
{"nick":"trevnorris","message":"have people complained about this?","date":"2013-10-07T21:28:46.651Z","type":"message"}
{"nick":"tjfontaine","message":"no one really complained about it perse","date":"2013-10-07T21:28:57.623Z","type":"message"}
{"nick":"tjfontaine","message":"well, I had a coworker who was surprised by the behavior, but after I worked through it I realized this was expected","date":"2013-10-07T21:29:19.589Z","type":"message"}
{"nick":"trevnorris","message":"hm. i'm going to try something. one sec.","date":"2013-10-07T21:29:46.085Z","type":"message"}
{"nick":"trevnorris","message":"oh, does a flag get set on the connection that says it's been paused?","date":"2013-10-07T21:30:03.478Z","type":"message"}
{"nick":"tjfontaine","message":"in the sense that it is not set to read or write","date":"2013-10-07T21:30:44.737Z","type":"message"}
{"nick":"kevinswi_","reason":"Remote host closed the connection","date":"2013-10-07T21:33:32.807Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-10-07T21:34:08.444Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 245 seconds","date":"2013-10-07T21:34:51.114Z","type":"quit"}
{"nick":"rendar","reason":"Ping timeout: 245 seconds","date":"2013-10-07T21:34:52.164Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: heh, well, fwiw I just created a script using async listeners to check if the handle is paused after the callback is finished, and resume it automatically.","date":"2013-10-07T21:36:00.835Z","type":"message"}
{"nick":"trevnorris","message":"nothing unexpected, but fun.","date":"2013-10-07T21:36:10.569Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-10-07T21:36:35.744Z","type":"message"}
{"nick":"kevinswiber","reason":"Ping timeout: 264 seconds","date":"2013-10-07T21:38:30.271Z","type":"quit"}
{"nick":"CoverSlide","date":"2013-10-07T21:38:40.102Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-07T21:41:06.681Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 246 seconds","date":"2013-10-07T21:41:16.919Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T21:41:29.937Z","type":"nick"}
{"nick":"trevnorris","message":"othiym23: in case you're curious, here's how I did it: https://gist.github.com/trevnorris/6875034","date":"2013-10-07T21:42:08.679Z","type":"message"}
{"nick":"trevnorris","message":"there's a comment at the top where it's being done.","date":"2013-10-07T21:42:08.891Z","type":"message"}
{"nick":"tjfontaine","message":"sometimes I like past-tj he has good things to say","date":"2013-10-07T21:44:24.812Z","type":"message"}
{"nick":"superjoe","date":"2013-10-07T21:48:49.879Z","type":"join"}
{"nick":"superjoe","message":"hello friends. where might I begin to troubleshoot this assertion failure? nodejs: ../deps/uv/src/unix/core.c:171: uv__finish_close: Assertion `handle->flags & UV_CLOSING' failed.","date":"2013-10-07T21:49:24.802Z","type":"message"}
{"nick":"superjoe","message":"it's almost certainly an issue with my C++ node addon that does thread stuff","date":"2013-10-07T21:49:50.326Z","type":"message"}
{"nick":"tjfontaine","message":"superjoe: probably need a bit more context","date":"2013-10-07T21:50:56.704Z","type":"message"}
{"nick":"superjoe","message":"I suppose I can try to catch it with gdb","date":"2013-10-07T21:51:06.914Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: code always helps :)","date":"2013-10-07T21:51:27.614Z","type":"message"}
{"nick":"superjoe","message":"ok I'll work on getting a smallish test case","date":"2013-10-07T21:52:04.711Z","type":"message"}
{"nick":"superjoe","message":"here's the code though: https://github.com/superjoe30/node-groove/blob/master/src/gn_scan.cc","date":"2013-10-07T21:52:47.720Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: is the assertion reliable?","date":"2013-10-07T21:54:18.169Z","type":"message"}
{"nick":"superjoe","message":"I'm not sure how to answer that question. are you asking whether I think that the assertion belongs in that line in libuv?","date":"2013-10-07T21:54:46.413Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: sorry, no. will it always occur, or is there some special circumstance/race condition","date":"2013-10-07T21:56:09.954Z","type":"message"}
{"nick":"hz","reason":"Read error: No route to host","date":"2013-10-07T21:56:30.739Z","type":"quit"}
{"nick":"superjoe","message":"ah. it's a race condition. I have not yet figured out how to reliably duplicate the issue","date":"2013-10-07T21:56:35.501Z","type":"message"}
{"nick":"superjoe","message":"it is not rare though. I think I can get a test case going that does it almost every time","date":"2013-10-07T21:56:59.365Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: a backtrace from gdb would be the best. that assertion failure you posted doesn't point to your code.","date":"2013-10-07T21:58:02.702Z","type":"message"}
{"nick":"superjoe","message":"ok I'll get a backtrace","date":"2013-10-07T21:58:24.792Z","type":"message"}
{"nick":"trevnorris","message":"bert, where are you?!","date":"2013-10-07T21:58:37.676Z","type":"message"}
{"nick":"hz","date":"2013-10-07T21:58:57.949Z","type":"join"}
{"nick":"tjfontaine","message":"I don't see how this race can happen","date":"2013-10-07T22:00:05.581Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: you talking about the zlib again?","date":"2013-10-07T22:00:20.601Z","type":"message"}
{"nick":"tjfontaine","message":"but it seems like this could happen on 0.10 if so","date":"2013-10-07T22:00:22.805Z","type":"message"}
{"nick":"tjfontaine","message":"yes, still talking about zlib","date":"2013-10-07T22:00:28.769Z","type":"message"}
{"nick":"superjoe","message":"oh sorry I forgot to specify version","date":"2013-10-07T22:00:30.179Z","type":"message"}
{"nick":"superjoe","message":"node v0.10.20","date":"2013-10-07T22:00:36.401Z","type":"message"}
{"nick":"superjoe","message":"whatever version of libuv is packaged with that","date":"2013-10-07T22:00:50.814Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: yeah. that's easy to see by the api you're using. :)","date":"2013-10-07T22:00:51.733Z","type":"message"}
{"nick":"superjoe","message":"ah of course","date":"2013-10-07T22:00:59.070Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-07T22:01:26.314Z","type":"join"}
{"nick":"trevnorris","message":"superjoe: don't mind tjfontaine, he's just loosing his mind right now. poor little guy.","date":"2013-10-07T22:01:43.060Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 245 seconds","date":"2013-10-07T22:03:21.636Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T22:03:21.964Z","type":"nick"}
{"nick":"superjoe","message":"this backtrace doesn't look very helpful. https://gist.github.com/superjoe30/6875750","date":"2013-10-07T22:06:48.417Z","type":"message"}
{"nick":"superjoe","message":"I suppose I could try to get it running with a version of libuv with debug symbols","date":"2013-10-07T22:08:02.982Z","type":"message"}
{"nick":"trevnorris","message":"superjoe: this might sound dumb, but put your require() in a setTimeout() and see if it gives you a different backtrace","date":"2013-10-07T22:09:39.625Z","type":"message"}
{"nick":"superjoe","message":"the one for the C++ addon, yes?","date":"2013-10-07T22:09:57.489Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-10-07T22:10:05.948Z","type":"message"}
{"nick":"trevnorris","message":"also, if possible to reproduce, try getting the strace.","date":"2013-10-07T22:11:15.380Z","type":"message"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-10-07T22:12:33.000Z","type":"quit"}
{"nick":"superjoe","message":"I have it reproducing pretty reliably. bt with setTimeout is the same. I'll look into strace","date":"2013-10-07T22:12:33.775Z","type":"message"}
{"nick":"superjoe","message":"strace gdb node or just strace node ?","date":"2013-10-07T22:13:21.692Z","type":"message"}
{"nick":"superjoe","message":"going with the latter","date":"2013-10-07T22:13:40.241Z","type":"message"}
{"nick":"trevnorris","message":"yeah, the latter","date":"2013-10-07T22:13:47.175Z","type":"message"}
{"nick":"tjfontaine","message":"your console will hate you if you strace gdb","date":"2013-10-07T22:14:26.811Z","type":"message"}
{"nick":"superjoe","message":"haha","date":"2013-10-07T22:14:30.874Z","type":"message"}
{"nick":"superjoe","message":"I think it hates me anyway","date":"2013-10-07T22:14:47.665Z","type":"message"}
{"nick":"tjfontaine","message":"stracing node is bad enough, stracing gdb which is debugging node GLWAT","date":"2013-10-07T22:15:15.185Z","type":"message"}
{"nick":"superjoe","message":"whoa, somehow vim has highlighting for the output of this file","date":"2013-10-07T22:16:05.238Z","type":"message"}
{"nick":"trevnorris","message":"yup. vim rocks!","date":"2013-10-07T22:16:16.082Z","type":"message"}
{"nick":"superjoe","message":"http://superjoe.s3.amazonaws.com/temp/strace-out","date":"2013-10-07T22:18:12.318Z","type":"message"}
{"nick":"superjoe","message":"sorry for the weird hosting. it's 3 MB","date":"2013-10-07T22:18:17.362Z","type":"message"}
{"nick":"wolfeida_","message":"heya still digging into these memory leaks does anyone know if there is an issue with HTTPs requests leaking buffers atm, I have narrowed my previous issues down to an small example and still exhibits a leak of buffers..","date":"2013-10-07T22:22:52.488Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 264 seconds","date":"2013-10-07T22:22:54.260Z","type":"quit"}
{"nick":"wwicks_","date":"2013-10-07T22:23:00.964Z","type":"join"}
{"nick":"trevnorris","message":"superjoe: sorry, can you do that again using -f ?","date":"2013-10-07T22:23:05.445Z","type":"message"}
{"nick":"trevnorris","message":"wolfeida_: what node version?","date":"2013-10-07T22:23:09.685Z","type":"message"}
{"nick":"wolfeida_","message":"v0.10.18 on smartos","date":"2013-10-07T22:23:26.446Z","type":"message"}
{"nick":"wolfeida_","message":"I have documented my trivial sample with output of MDB in https://gist.github.com/wolfeidau/6875651","date":"2013-10-07T22:23:51.812Z","type":"message"}
{"nick":"trevnorris","message":"wolfeida_: both the tcp part of http and tls use their own slab allocators.","date":"2013-10-07T22:23:58.070Z","type":"message"}
{"nick":"trevnorris","message":"so yeah, possibility of memory leak.","date":"2013-10-07T22:24:06.786Z","type":"message"}
{"nick":"wolfeida_","message":"OMG","date":"2013-10-07T22:24:15.226Z","type":"message"}
{"nick":"wolfeida_","message":"Yeah i have beating my head against this issue for a couple of weeks","date":"2013-10-07T22:24:41.318Z","type":"message"}
{"nick":"superjoe","message":"trevnorris, yes one moment","date":"2013-10-07T22:24:47.664Z","type":"message"}
{"nick":"wolfeida_","message":"I foound a ton of leaks in our code but just couldn't get rid of the one relating to this HTTPS call to an upstream api","date":"2013-10-07T22:25:11.097Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeida_: oh you have a test case wee","date":"2013-10-07T22:25:21.285Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeida_: and of course tls is on the scene","date":"2013-10-07T22:25:28.548Z","type":"message"}
{"nick":"trevnorris","message":"wolfeida_: does this run against latest master?","date":"2013-10-07T22:25:33.264Z","type":"message"}
{"nick":"wolfeida_","message":"It should unless request doesn't","date":"2013-10-07T22:25:47.882Z","type":"message"}
{"nick":"wolfeida_","message":"All i do is just use request to make a call nothing fancy in that GIST","date":"2013-10-07T22:26:02.549Z","type":"message"}
{"nick":"superjoe","message":"trevnorris, I uploaded it to the same URL: http://superjoe.s3.amazonaws.com/temp/strace-out","date":"2013-10-07T22:26:37.002Z","type":"message"}
{"nick":"wolfeida_","message":"I tried 0.10.20 on my mac and it still kept growing memory wise","date":"2013-10-07T22:26:40.199Z","type":"message"}
{"nick":"superjoe","message":"trevnorris, I have to go AFK in 10 minutes. shall I file an issue?","date":"2013-10-07T22:26:50.422Z","type":"message"}
{"nick":"tjfontaine","message":"I bet we can track this down to just https module","date":"2013-10-07T22:26:55.037Z","type":"message"}
{"nick":"vptr","reason":"Ping timeout: 245 seconds","date":"2013-10-07T22:27:05.149Z","type":"quit"}
{"nick":"trevnorris","message":"superjoe: not yet.","date":"2013-10-07T22:27:15.439Z","type":"message"}
{"nick":"wolfeida_","message":"tjfontaine: After our last chat i got rid of all things i now object wise then i was dumfounded it still leaked","date":"2013-10-07T22:27:48.221Z","type":"message"}
{"nick":"wolfeida_","message":"Then i turned off each of our upstream apis","date":"2013-10-07T22:28:01.368Z","type":"message"}
{"nick":"wolfeida_","message":"And wala no HTTPS == no leak","date":"2013-10-07T22:28:12.862Z","type":"message"}
{"nick":"wolfeida_","message":"So i made a very trivial example to test it","date":"2013-10-07T22:28:23.973Z","type":"message"}
{"nick":"wolfeida_","message":"Is there anything in this gist that looks totally wrong https://gist.github.com/wolfeidau/6875651 ?","date":"2013-10-07T22:28:59.407Z","type":"message"}
{"nick":"wolfeida_","new_nick":"wolfeidau","date":"2013-10-07T22:29:16.580Z","type":"nick"}
{"nick":"wolfeidau","message":"I even named all my closures!","date":"2013-10-07T22:29:27.304Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-07T22:29:27.521Z","type":"join"}
{"nick":"trevnorris","message":"wolfeidau: can you post some output of the memory growth, and possibly how long it took to get there?","date":"2013-10-07T22:30:17.339Z","type":"message"}
{"nick":"wolfeidau","message":"trevnorris: yeah that is at the top of comment in the gist","date":"2013-10-07T22:30:45.850Z","type":"message"}
{"nick":"wolfeidau","message":"I started it and went and got a coffee came back and it was at 172M rss","date":"2013-10-07T22:31:08.592Z","type":"message"}
{"nick":"tjfontaine","message":"I don't see that comment btw","date":"2013-10-07T22:31:23.852Z","type":"message"}
{"nick":"trevnorris","message":"ditto","date":"2013-10-07T22:31:28.401Z","type":"message"}
{"nick":"wolfeidau","message":"sorry","date":"2013-10-07T22:31:36.264Z","type":"message"}
{"nick":"wolfeidau","message":"Just had to click ","date":"2013-10-07T22:31:41.220Z","type":"message"}
{"nick":"wolfeidau","message":"Damn comment editor","date":"2013-10-07T22:31:44.481Z","type":"message"}
{"nick":"wolfeidau","message":"See it now?","date":"2013-10-07T22:31:50.485Z","type":"message"}
{"nick":"superjoe","message":"gotta run - catch you later trevnorris ","date":"2013-10-07T22:31:53.804Z","type":"message"}
{"nick":"superjoe","reason":"Quit: Leaving","date":"2013-10-07T22:31:55.533Z","type":"quit"}
{"nick":"tjfontaine","message":"I bet this will be a native leak","date":"2013-10-07T22:32:01.747Z","type":"message"}
{"nick":"wolfeidau","message":"Sorry about that i prepared a full analysis then didn't click the freaking button hard enough","date":"2013-10-07T22:32:16.641Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: could be related to that http leak I was investigating.","date":"2013-10-07T22:32:49.305Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: add setInterval(gc, 1000); then run: UMEM_DEBUG=default node --expose-gc script.js ","date":"2013-10-07T22:33:14.532Z","type":"message"}
{"nick":"tjfontaine","message":"then 3 cores, and put them somewhere where I can play :)","date":"2013-10-07T22:33:24.101Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: np mate","date":"2013-10-07T22:33:36.205Z","type":"message"}
{"nick":"wolfeidau","message":"will do","date":"2013-10-07T22:33:38.306Z","type":"message"}
{"nick":"tjfontaine","message":"presuming","date":"2013-10-07T22:33:43.921Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-07T22:33:46.390Z","type":"message"}
{"nick":"tjfontaine","message":"there are credentials involved ...","date":"2013-10-07T22:33:52.242Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I can get you them ","date":"2013-10-07T22:34:26.680Z","type":"message"}
{"nick":"wolfeidau","message":"It is just a demo account from a site","date":"2013-10-07T22:34:36.026Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2013-10-07T22:34:39.565Z","type":"message"}
{"nick":"wolfeidau","message":"Anyone can sign up","date":"2013-10-07T22:34:41.546Z","type":"message"}
{"nick":"wolfeidau","message":"Or i can give you mine","date":"2013-10-07T22:34:49.276Z","type":"message"}
{"nick":"tjfontaine","message":"ok if they're nto special then I can see the cores :)","date":"2013-10-07T22:34:49.969Z","type":"message"}
{"nick":"tjfontaine","message":"I was just worried about seeing the cores with credentials that I shouldn't have","date":"2013-10-07T22:35:05.359Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: yeah all good i have a set of creds just for this test on another account :)","date":"2013-10-07T22:35:33.835Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-07T22:35:41.104Z","type":"message"}
{"nick":"trevnorris","message":"oh, hate that this strace output doesn't make more sense to me.","date":"2013-10-07T22:39:18.070Z","type":"message"}
{"nick":"trevnorris","message":"wish I could borrow ben's brain for 10 mins.","date":"2013-10-07T22:39:24.603Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 256 seconds","date":"2013-10-07T22:39:42.382Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: so, that crash that super was talking about. strace shows the pid mmaping, then sigabrt.","date":"2013-10-07T22:39:48.965Z","type":"message"}
{"nick":"wwicks","date":"2013-10-07T22:42:39.847Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 264 seconds","date":"2013-10-07T22:43:26.859Z","type":"quit"}
{"nick":"wwicks_","reason":"Ping timeout: 248 seconds","date":"2013-10-07T22:43:49.795Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-07T22:44:25.037Z","type":"join"}
{"nick":"inolen","date":"2013-10-07T22:46:28.004Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: Interesting process hovered around 35m of ram for 5 minutes then jumped to 83m wth","date":"2013-10-07T22:48:04.814Z","type":"message"}
{"nick":"julianduque","reason":"Read error: Connection reset by peer","date":"2013-10-07T22:48:17.737Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-07T22:51:40.404Z","type":"join"}
{"nick":"hz","date":"2013-10-07T22:52:00.750Z","type":"quit"}
{"nick":"vptr","date":"2013-10-07T22:52:55.776Z","type":"join"}
{"nick":"trevnorris","message":"ircretary: tell superjoe you might ask bnoordhuis to look at that strace output.","date":"2013-10-07T22:54:02.977Z","type":"message"}
{"nick":"ircretary","message":"trevnorris: I'll be sure to tell superjoe","date":"2013-10-07T22:54:03.193Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: erm","date":"2013-10-07T22:56:54.232Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: well, that could be unrelated, depends on the threads","date":"2013-10-07T22:57:11.795Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah, well, when it crashes there are 43 threads. so, um yeah.","date":"2013-10-07T22:57:32.071Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: *shrug ","date":"2013-10-07T22:57:47.332Z","type":"message"}
{"nick":"wolfeidau","message":"But it is a lot more stable with ram using full gc","date":"2013-10-07T22:57:59.255Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: 43 o0","date":"2013-10-07T22:58:01.906Z","type":"message"}
{"nick":"trevnorris","message":"yeah, right?","date":"2013-10-07T22:58:13.853Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: right, I would expect we need to let this run for a while to catch the real culprit","date":"2013-10-07T22:58:21.057Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-10-07T22:58:30.212Z","type":"quit"}
{"nick":"wolfeidau","message":"tjfontaine: yeah agreed and i am not keen on running a full gc every second on a production process :P","date":"2013-10-07T22:59:12.791Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: haha no, *but* you could tune max_old_space_size down to convince it to run more often","date":"2013-10-07T22:59:57.895Z","type":"message"}
{"nick":"tjfontaine","message":"or other similar tactics","date":"2013-10-07T23:00:17.670Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: yeah seems a bit silly that if i use HTTP i don't need to do that :(","date":"2013-10-07T23:00:47.727Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-07T23:00:52.707Z","type":"message"}
{"nick":"tjfontaine","message":"consider that v0.10 tls could be generating a lot of extra js garbage that just needs cleaned up more often","date":"2013-10-07T23:01:17.652Z","type":"message"}
{"nick":"vptr","reason":"Ping timeout: 248 seconds","date":"2013-10-07T23:01:20.759Z","type":"quit"}
{"nick":"tjfontaine","message":"if we can identify those pieces, it benefits everyone","date":"2013-10-07T23:01:32.736Z","type":"message"}
{"nick":"wolfeidau","message":"yeah i am all for finding this issue ","date":"2013-10-07T23:01:55.059Z","type":"message"}
{"nick":"tjfontaine","message":"but it may also be that node_crypto has a leak, or https/tls.js has a leak","date":"2013-10-07T23:02:42.561Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-07T23:02:48.666Z","type":"join"}
{"nick":"tjfontaine","message":"or if we're lucky, and everyone else in the world is unlucky request has a leak :)","date":"2013-10-07T23:02:55.303Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Yeah i tried substacks hyperequest as well and it seemed to have the same behaviour","date":"2013-10-07T23:03:37.052Z","type":"message"}
{"nick":"tjfontaine","message":"ok good","date":"2013-10-07T23:03:43.721Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-07T23:03:45.582Z","type":"message"}
{"nick":"tjfontaine","message":"good for the world, bad for node :P","date":"2013-10-07T23:03:50.516Z","type":"message"}
{"nick":"wolfeidau","message":"haha well if we fix node we fix the world!","date":"2013-10-07T23:04:25.018Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 264 seconds","date":"2013-10-07T23:04:26.780Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T23:04:27.107Z","type":"nick"}
{"nick":"tjfontaine","message":"indeed :P","date":"2013-10-07T23:04:30.158Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: remember when I was investigating the http leak, I found that it was fixed by the upgrade to 3.20?","date":"2013-10-07T23:04:40.770Z","type":"message"}
{"nick":"trevnorris","message":"still don't know why though","date":"2013-10-07T23:04:48.677Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: right, for certain definitions of fixed","date":"2013-10-07T23:04:58.245Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: in this case though, it's difficult to get an apples to apples comparison","date":"2013-10-07T23:05:09.304Z","type":"message"}
{"nick":"tjfontaine","message":"I think anyway, need to check my order of operations on when 3.20 landed","date":"2013-10-07T23:05:27.431Z","type":"message"}
{"nick":"tjfontaine","message":"ah tlswrap is after 3.20","date":"2013-10-07T23:05:55.502Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-07T23:06:09.184Z","type":"quit"}
{"nick":"tjfontaine","message":"hmm or did it","date":"2013-10-07T23:07:07.292Z","type":"message"}
{"nick":"tjfontaine","message":"nope","date":"2013-10-07T23:07:17.979Z","type":"message"}
{"nick":"tjfontaine","message":"it happened just before 3.20, sucks.","date":"2013-10-07T23:07:35.869Z","type":"message"}
{"nick":"AvianFlu","date":"2013-10-07T23:09:08.338Z","type":"join"}
{"nick":"tjfontaine","message":"wolfeidau: how difficult would it be for you to implement this in terms of https only? are you only using request for the post work?","date":"2013-10-07T23:10:54.348Z","type":"message"}
{"nick":"tjfontaine","message":"at least that's all it seems like you're using it for","date":"2013-10-07T23:11:22.038Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: yeah i can just use HTTP, using request because that is what my upstream library uses","date":"2013-10-07T23:11:31.418Z","type":"message"}
{"nick":"tjfontaine","message":"right, if/when we file this we'll want to remove request","date":"2013-10-07T23:12:07.886Z","type":"message"}
{"nick":"wolfeidau","message":"Looks like this process is stable with full GC","date":"2013-10-07T23:12:12.869Z","type":"message"}
{"nick":"tjfontaine","message":"I would just let it run for a while","date":"2013-10-07T23:12:30.746Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah i am happy to leave it going :)","date":"2013-10-07T23:12:41.961Z","type":"message"}
{"nick":"tjfontaine","message":"can you set it to gcore in longtime and then longtime*2?","date":"2013-10-07T23:13:06.593Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-07T23:13:08.157Z","type":"message"}
{"nick":"wolfeidau","message":"yeah I will drop a core an hour for a few hours","date":"2013-10-07T23:14:03.093Z","type":"message"}
{"nick":"tjfontaine","message":"excellent, wolfeidau++","date":"2013-10-07T23:14:36.130Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: speaking of hourly cores, were you guys able to glean any information from the ones you guys were doing","date":"2013-10-07T23:16:48.702Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: I'm also interested to know if tls is on the scene for you as well","date":"2013-10-07T23:17:25.632Z","type":"message"}
{"nick":"kaeso","reason":"Ping timeout: 248 seconds","date":"2013-10-07T23:19:23.763Z","type":"quit"}
{"nick":"kaeso","date":"2013-10-07T23:21:53.853Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-07T23:23:18.640Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 245 seconds","date":"2013-10-07T23:25:01.679Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T23:25:01.899Z","type":"nick"}
{"nick":"wolfeidau","message":"tjfontaine: Added comment with what is coming out of mdb atm https://gist.github.com/wolfeidau/6875651","date":"2013-10-07T23:25:51.991Z","type":"message"}
{"nick":"tjfontaine","message":"ya I can see some definite tls related objects that are being reaped sooner","date":"2013-10-07T23:26:36.682Z","type":"message"}
{"nick":"wolfeidau","message":"my requests are TINY as well atm ","date":"2013-10-07T23:31:57.015Z","type":"message"}
{"nick":"tjfontaine","message":"are they generally not tiny in production?","date":"2013-10-07T23:32:09.595Z","type":"message"}
{"nick":"wolfeidau","message":"noper tiny in prod","date":"2013-10-07T23:32:18.800Z","type":"message"}
{"nick":"tjfontaine","message":"k, you could also use --gc_interval whcih specifies the number of allocations that will trigger a gc","date":"2013-10-07T23:32:35.817Z","type":"message"}
{"nick":"wolfeidau","message":"It is just time series data so a few points and a timestamp","date":"2013-10-07T23:32:36.029Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-10-07T23:32:41.393Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah atm I am just getting it to hit a reverse proxy which does the http -> https for us","date":"2013-10-07T23:33:43.983Z","type":"message"}
{"nick":"wolfeidau","message":"This is an interum measure just while i work on this ","date":"2013-10-07T23:34:16.480Z","type":"message"}
{"nick":"wolfeidau","message":"But yeah you can see the diff in those mdb dumps eh","date":"2013-10-07T23:35:21.011Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: still working on it. we have storage issues in production so hopefully soon.","date":"2013-10-07T23:35:44.148Z","type":"message"}
{"nick":"wolfeidau","message":"I am loving MDB has totally explained a ton of issues we were seeing","date":"2013-10-07T23:36:39.265Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: alright, just wanted to make sure I didn't drop your request","date":"2013-10-07T23:36:40.796Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: me too :)","date":"2013-10-07T23:37:02.830Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: It would be nice if it had command history :)","date":"2013-10-07T23:37:22.714Z","type":"message"}
{"nick":"wolfeidau","message":"I have typed ::findjsobjects ! sort -k2 about 50 times","date":"2013-10-07T23:37:39.879Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-10-07T23:37:49.231Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: you still own me a 0.11 build","date":"2013-10-07T23:40:10.717Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: yup, that is tomorrow, now that I have the zlib bug fixed","date":"2013-10-07T23:40:29.208Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-07T23:40:31.406Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis has a fix for, but I am pretty much giving up on finding a reproducible test case","date":"2013-10-07T23:40:53.302Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-07T23:43:47.923Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 245 seconds","date":"2013-10-07T23:45:51.670Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-07T23:45:51.998Z","type":"nick"}
{"nick":"wolfeidau","message":"tjfontaine: Why on earth would node sit on 84m of ram doing 1 https / second this has me stumped ","date":"2013-10-07T23:47:59.449Z","type":"message"}
{"nick":"wolfeidau","message":"Is it something todo with zlib + tls","date":"2013-10-07T23:48:24.479Z","type":"message"}
{"nick":"M28","reason":"Remote host closed the connection","date":"2013-10-07T23:49:25.734Z","type":"quit"}
{"nick":"M28","date":"2013-10-07T23:49:39.933Z","type":"join"}
{"nick":"tjfontaine","message":"wolfeidau: probably, gist the output of pmap <pid>","date":"2013-10-07T23:50:29.723Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Added to https://gist.github.com/wolfeidau/6875651","date":"2013-10-07T23:51:56.140Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: we got morning meeting tomorrow I assume?","date":"2013-10-07T23:55:33.459Z","type":"message"}
{"nick":"tjfontaine","message":"yes","date":"2013-10-07T23:55:48.098Z","type":"message"}
{"nick":"tjfontaine","message":"izs should be there as well :)","date":"2013-10-07T23:55:53.869Z","type":"message"}
{"nick":"trevnorris","message":"heh, cool.","date":"2013-10-07T23:56:33.354Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #213 \u00034FAILURE\u000f windows-x64 (3/196) linux-ia32 (1/195) windows-ia32 (4/196) http://jenkins.nodejs.org/job/libuv-master-gyp/213/","date":"2013-10-07T23:59:21.874Z","type":"message"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-10-29T00:00:00.320Z","type":"quit"}
{"nick":"ircretary","date":"2013-10-29T00:00:07.952Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 240 seconds","date":"2013-10-29T00:01:02.555Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-29T00:01:54.971Z","type":"join"}
{"nick":"trevnorris","message":"hueniverse1: cool.","date":"2013-10-29T00:03:27.352Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2013-10-29T00:04:04.894Z","type":"quit"}
{"nick":"rendar","date":"2013-10-29T00:04:06.812Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 248 seconds","date":"2013-10-29T00:05:57.777Z","type":"quit"}
{"nick":"sblom","date":"2013-10-29T00:06:33.330Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-10-29T00:20:13.094Z","type":"quit"}
{"nick":"FROGGS","reason":"Ping timeout: 245 seconds","date":"2013-10-29T00:21:51.206Z","type":"quit"}
{"nick":"loladiro","date":"2013-10-29T00:22:17.747Z","type":"join"}
{"nick":"c4milo","date":"2013-10-29T00:24:31.184Z","type":"join"}
{"nick":"trevnorris","message":"awesome. only 62 more line changes before 6011 reaches 4,000 lines. I can do it! (maybe i'll just add some whitespace)","date":"2013-10-29T00:25:17.810Z","type":"message"}
{"nick":"othiym23","message":"probably wouldn't be the first time","date":"2013-10-29T00:28:19.523Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-29T00:29:14.051Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-29T00:29:31.292Z","type":"join"}
{"nick":"trevnorris","message":"heh","date":"2013-10-29T00:29:59.046Z","type":"message"}
{"nick":"trevnorris","message":"now if bert would just get on and tell me how he wants those hooks worked into the PR i'll do it.","date":"2013-10-29T00:30:36.807Z","type":"message"}
{"nick":"trevnorris","message":"but that can be another PR later if he doesn't I guess.","date":"2013-10-29T00:30:52.077Z","type":"message"}
{"nick":"trevnorris","message":"anyways","date":"2013-10-29T00:30:54.048Z","type":"message"}
{"nick":"trevnorris","action":"&","date":"2013-10-29T00:30:56.188Z","type":"action"}
{"nick":"LOUDBOT","message":"YOU SAD SACK OF SHIT","date":"2013-10-29T00:30:56.905Z","type":"message"}
{"nick":"trevnorris","message":".... oh LOUDBOT, that hurts :(","date":"2013-10-29T00:31:08.556Z","type":"message"}
{"nick":"othiym23","message":"wow","date":"2013-10-29T00:31:15.122Z","type":"message"}
{"nick":"othiym23","message":"such mean","date":"2013-10-29T00:31:16.415Z","type":"message"}
{"nick":"luxigo_","date":"2013-10-29T00:35:17.019Z","type":"join"}
{"nick":"julianduque","reason":"Read error: Operation timed out","date":"2013-10-29T00:39:10.177Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-29T00:43:28.319Z","type":"quit"}
{"nick":"superjoe30","reason":"Quit: Leaving","date":"2013-10-29T00:45:38.333Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-10-29T00:51:29.691Z","type":"quit"}
{"nick":"loladiro","date":"2013-10-29T00:51:48.748Z","type":"join"}
{"nick":"mikeal","date":"2013-10-29T00:53:26.023Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-29T00:54:00.755Z","type":"nick"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-10-29T00:55:04.511Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-29T00:57:59.413Z","type":"join"}
{"nick":"inolen","date":"2013-10-29T01:05:12.552Z","type":"join"}
{"nick":"inolen","reason":"Client Quit","date":"2013-10-29T01:08:36.975Z","type":"quit"}
{"nick":"sblom","reason":"Ping timeout: 256 seconds","date":"2013-10-29T01:10:02.314Z","type":"quit"}
{"nick":"dshaw_","date":"2013-10-29T01:10:03.107Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-29T01:10:35.461Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-29T01:12:06.546Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 256 seconds","date":"2013-10-29T01:16:50.235Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-29T01:22:33.752Z","type":"quit"}
{"nick":"amartens","date":"2013-10-29T01:22:57.851Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-29T01:26:57.628Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-29T01:27:34.421Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 264 seconds","date":"2013-10-29T01:27:50.796Z","type":"quit"}
{"nick":"c4milo_","date":"2013-10-29T01:29:04.381Z","type":"join"}
{"nick":"c4milo","reason":"Read error: Connection reset by peer","date":"2013-10-29T01:29:41.548Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-29T01:29:51.090Z","type":"join"}
{"nick":"st_luke","date":"2013-10-29T01:30:34.990Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 272 seconds","date":"2013-10-29T01:31:59.194Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-29T01:37:42.398Z","type":"join"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2013-10-29T01:39:03.185Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-29T01:39:30.857Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-10-29T01:42:12.126Z","type":"quit"}
{"nick":"abraxas_","date":"2013-10-29T01:42:12.915Z","type":"join"}
{"nick":"inolen","date":"2013-10-29T01:43:55.839Z","type":"join"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-29T01:56:02.272Z","type":"quit"}
{"nick":"philips","reason":"Excess Flood","date":"2013-10-29T01:57:14.829Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-29T01:58:09.690Z","type":"quit"}
{"nick":"amartens","date":"2013-10-29T01:59:35.743Z","type":"join"}
{"nick":"philips","date":"2013-10-29T02:00:26.715Z","type":"join"}
{"nick":"kazupon","date":"2013-10-29T02:27:59.479Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-29T02:30:53.608Z","type":"nick"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-10-29T02:44:07.863Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-10-29T02:51:08.591Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-29T02:51:09.601Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-29T02:52:39.760Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-10-29T02:53:44.369Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-29T02:55:02.469Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-29T03:12:02.484Z","type":"quit"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-10-29T03:25:58.186Z","type":"quit"}
{"nick":"mcavage","date":"2013-10-29T03:26:26.948Z","type":"join"}
{"nick":"mcavage_","date":"2013-10-29T03:27:08.196Z","type":"join"}
{"nick":"mcavage","reason":"Read error: Connection reset by peer","date":"2013-10-29T03:27:08.196Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-10-29T03:32:40.499Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-10-29T03:45:58.939Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-29T03:46:11.344Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-10-29T03:48:30.759Z","type":"join"}
{"nick":"dshaw_","date":"2013-10-29T03:48:56.949Z","type":"join"}
{"nick":"mikeal","date":"2013-10-29T04:00:01.426Z","type":"join"}
{"nick":"kazupon","date":"2013-10-29T04:00:05.945Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-29T04:00:07.573Z","type":"quit"}
{"nick":"abraxas_","reason":"Remote host closed the connection","date":"2013-10-29T04:02:05.843Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-29T04:03:54.104Z","type":"join"}
{"nick":"mcavage_","reason":"Remote host closed the connection","date":"2013-10-29T04:04:57.606Z","type":"quit"}
{"nick":"mcavage","date":"2013-10-29T04:05:23.563Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-29T04:06:27.226Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-29T04:09:05.783Z","type":"quit"}
{"nick":"mcavage","reason":"Ping timeout: 256 seconds","date":"2013-10-29T04:09:40.269Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-29T04:18:30.588Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-10-29T04:22:31.145Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-29T04:23:58.427Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-29T04:24:36.196Z","type":"nick"}
{"nick":"amartens","date":"2013-10-29T04:25:30.876Z","type":"join"}
{"nick":"loladiro","date":"2013-10-29T04:27:17.744Z","type":"join"}
{"nick":"luxigo_","reason":"Ping timeout: 248 seconds","date":"2013-10-29T04:32:05.816Z","type":"quit"}
{"nick":"inolen","date":"2013-10-29T04:45:22.873Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-29T04:45:25.905Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-10-29T04:54:06.988Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 240 seconds","date":"2013-10-29T04:54:30.272Z","type":"quit"}
{"nick":"amartens","date":"2013-10-29T04:56:23.413Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-10-29T05:00:48.216Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-29T05:01:02.164Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-10-29T05:07:02.839Z","type":"quit"}
{"nick":"mcavage","date":"2013-10-29T05:15:59.959Z","type":"join"}
{"nick":"mcavage","reason":"Ping timeout: 272 seconds","date":"2013-10-29T05:20:53.729Z","type":"quit"}
{"nick":"abraxas","date":"2013-10-29T05:29:43.474Z","type":"join"}
{"nick":"dshaw_","date":"2013-10-29T05:32:35.416Z","type":"join"}
{"nick":"karupa64","new_nick":"karupanerura","date":"2013-10-29T05:33:26.862Z","type":"nick"}
{"nick":"julianduque","reason":"Read error: Connection reset by peer","date":"2013-10-29T05:44:55.009Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-29T05:52:31.370Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-10-29T05:55:50.429Z","type":"quit"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-10-29T06:18:52.192Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-29T06:19:15.947Z","type":"join"}
{"nick":"trevnorris","message":"how is everyone?","date":"2013-10-29T06:25:16.660Z","type":"message"}
{"nick":"sindresorhus","reason":"*.net *.split","date":"2013-10-29T06:28:23.685Z","type":"quit"}
{"nick":"chrisdickinson","reason":"*.net *.split","date":"2013-10-29T06:28:23.685Z","type":"quit"}
{"nick":"groundwater_","message":"you'er up late!","date":"2013-10-29T06:29:35.350Z","type":"message"}
{"nick":"chrisdickinson","date":"2013-10-29T06:29:48.544Z","type":"join"}
{"nick":"trevnorris","message":"groundwater_: yeah. wanted to get some productive work done, then I ended up taking the time to kick some promise lovers in the nads.","date":"2013-10-29T06:30:54.016Z","type":"message"}
{"nick":"groundwater_","message":"you're sounding like LOUDBOT now","date":"2013-10-29T06:31:16.479Z","type":"message"}
{"nick":"trevnorris","message":"curse them for taunting me!","date":"2013-10-29T06:31:16.693Z","type":"message"}
{"nick":"trevnorris","action":"programmer by day, LOUDBOT by night","date":"2013-10-29T06:31:42.018Z","type":"action"}
{"nick":"trevnorris","message":"kinda like it","date":"2013-10-29T06:31:46.890Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: i'm curious, what type of performance regression do people expect from long stack traces?","date":"2013-10-29T06:32:24.666Z","type":"message"}
{"nick":"groundwater_","message":"well i just kinda did that as an exercise, but they are quite useful","date":"2013-10-29T06:32:49.842Z","type":"message"}
{"nick":"groundwater_","message":"my first attempt seemed to be pretty poorly performing though","date":"2013-10-29T06:33:02.658Z","type":"message"}
{"nick":"groundwater_","message":"i assume from creating all the objects holding the stack traces","date":"2013-10-29T06:33:27.470Z","type":"message"}
{"nick":"sindresorhus","date":"2013-10-29T06:33:27.799Z","type":"join"}
{"nick":"trevnorris","message":"groundwater_: here's a script I threw together: https://gist.github.com/trevnorris/7209654","date":"2013-10-29T06:34:00.133Z","type":"message"}
{"nick":"trevnorris","message":"in the benchmarks worst it does is around -2x","date":"2013-10-29T06:34:20.089Z","type":"message"}
{"nick":"groundwater_","message":"i think that's what i started from","date":"2013-10-29T06:34:21.140Z","type":"message"}
{"nick":"groundwater_","message":"yah that's about what I got","date":"2013-10-29T06:34:28.574Z","type":"message"}
{"nick":"groundwater_","message":"i have the exercise somewhere, i'll look for it later","date":"2013-10-29T06:34:58.482Z","type":"message"}
{"nick":"trevnorris","message":"eh, no worries. not important","date":"2013-10-29T06:35:10.653Z","type":"message"}
{"nick":"trevnorris","message":"have you looked at the test changes?","date":"2013-10-29T06:35:16.352Z","type":"message"}
{"nick":"groundwater_","message":"anyways, i tried keeping track of whenever a leaf-node was created, i.e. an async callback that invoked no further async callbacks","date":"2013-10-29T06:35:32.872Z","type":"message"}
{"nick":"groundwater_","message":"i wanted to reuse the objects it had created to hold the stack, to see if that would perform better","date":"2013-10-29T06:35:51.287Z","type":"message"}
{"nick":"groundwater_","message":"the problem is that async callbacks can basically be called N times, where you don't know N","date":"2013-10-29T06:36:05.457Z","type":"message"}
{"nick":"groundwater_","message":"then I kind of concluded the only true way to be sure was to use the GC","date":"2013-10-29T06:36:22.679Z","type":"message"}
{"nick":"trevnorris","message":"ah, that thing. there's one other way. but it requires c++ stuffs, and another patch to my patch.","date":"2013-10-29T06:37:11.338Z","type":"message"}
{"nick":"trevnorris","message":"that's something bert is wanting me to do","date":"2013-10-29T06:37:25.408Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: and you can technically know N. since the asyncQueue is attached to the context you can get at the number of AsyncListeners that are about to run by doing the following in a before/after callback: context._asyncQueue.length","date":"2013-10-29T06:39:00.412Z","type":"message"}
{"nick":"groundwater_","message":"what about for example, reading a socket","date":"2013-10-29T06:39:46.566Z","type":"message"}
{"nick":"trevnorris","message":"how do you mean?","date":"2013-10-29T06:40:03.734Z","type":"message"}
{"nick":"groundwater_","message":"unless you're paying attention to the \"end\" event, the 'on data' callback can be called any number of times","date":"2013-10-29T06:40:41.095Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: ah yeah. that's something I've been wanting to explore. if you could be triggered on the AsyncWrap destructor then you'd know it's dead.","date":"2013-10-29T06:41:46.198Z","type":"message"}
{"nick":"groundwater_","message":"yah, i figured that's what you guys were discussing","date":"2013-10-29T06:42:01.903Z","type":"message"}
{"nick":"trevnorris","message":"unfortunately the object has been disposed by the time it reaches the AsyncWrap destructor","date":"2013-10-29T06:42:05.668Z","type":"message"}
{"nick":"groundwater_","message":"on another note, i want to take a look at adding \"async-listners\" to event emitters, but with a different name","date":"2013-10-29T06:42:31.596Z","type":"message"}
{"nick":"groundwater_","message":"same API, new name","date":"2013-10-29T06:42:34.951Z","type":"message"}
{"nick":"groundwater_","message":"i think domains could use the API","date":"2013-10-29T06:42:54.879Z","type":"message"}
{"nick":"groundwater_","message":"also CLS","date":"2013-10-29T06:43:01.006Z","type":"message"}
{"nick":"trevnorris","action":"wishes for the EventEmitter to burn in the fiery pits of hell","date":"2013-10-29T06:43:55.551Z","type":"action"}
{"nick":"groundwater_","message":"heh, now you're definitely turning into LOUDBOT","date":"2013-10-29T06:44:15.861Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-10-29T06:44:27.898Z","type":"message"}
{"nick":"groundwater_","message":"anyways, i realize nothing would be accepted unless it was as performant as now","date":"2013-10-29T06:44:40.332Z","type":"message"}
{"nick":"trevnorris","message":"i had originally added hooks into the event emitter until I realized it's useless sugar that really has nothing to do with asynchronous events.","date":"2013-10-29T06:45:01.560Z","type":"message"}
{"nick":"trevnorris","message":"eh, that's easy enough to do.","date":"2013-10-29T06:45:07.916Z","type":"message"}
{"nick":"trevnorris","message":"the trick is to make sure that it costs nothing when it's not being used.","date":"2013-10-29T06:45:18.370Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-29T06:45:36.890Z","type":"quit"}
{"nick":"groundwater_","message":"i want to use the exact same API with slightly different semantics since it's not necessarily async","date":"2013-10-29T06:45:48.261Z","type":"message"}
{"nick":"trevnorris","message":"the problem is that there's no way in hell you're going to get an extension to the EE API","date":"2013-10-29T06:45:51.512Z","type":"message"}
{"nick":"groundwater_","message":"the \"onAsync\" becomes \"onAddListner\"","date":"2013-10-29T06:46:00.178Z","type":"message"}
{"nick":"groundwater_","message":"really i just need to be able to run a before/after callback around each handler","date":"2013-10-29T06:46:49.419Z","type":"message"}
{"nick":"groundwater_","message":"the rest can be monkeypatched","date":"2013-10-29T06:46:55.135Z","type":"message"}
{"nick":"groundwater_","message":"i.e. emit -> before() handler_1() after() before() handler_2() after()","date":"2013-10-29T06:47:28.366Z","type":"message"}
{"nick":"groundwater_","message":"the only way to do that now is to either wrap the handlers, or completely replace emit","date":"2013-10-29T06:47:53.096Z","type":"message"}
{"nick":"trevnorris","message":"oh well it's fairly trivial to add an EventEmitter.addListener({ before: fn, after: fn }) and not have it affect performance.","date":"2013-10-29T06:48:04.785Z","type":"message"}
{"nick":"trevnorris","message":"also EventEmitter.removeListener(key);","date":"2013-10-29T06:48:50.954Z","type":"message"}
{"nick":"trevnorris","message":"just keep numeric keys that check the values in emit. that'll have next to no performance difference.","date":"2013-10-29T06:49:27.832Z","type":"message"}
{"nick":"trevnorris","message":"so the only cost is when the callbacks are actually called.","date":"2013-10-29T06:49:39.516Z","type":"message"}
{"nick":"groundwater_","message":"okay i'll try to put something together","date":"2013-10-29T06:50:22.916Z","type":"message"}
{"nick":"groundwater_","message":"it's always easier to talk when there's code on the table","date":"2013-10-29T06:50:35.388Z","type":"message"}
{"nick":"trevnorris","message":"almost have a patch ready","date":"2013-10-29T06:51:44.076Z","type":"message"}
{"nick":"groundwater_","message":"oh what about catching when an emitter throws?","date":"2013-10-29T06:52:47.886Z","type":"message"}
{"nick":"groundwater_","message":"i guess that should go through _fatalException","date":"2013-10-29T06:53:00.814Z","type":"message"}
{"nick":"trevnorris","message":"heh, there you'll have to rely on asyncListener. once you try to let _fatalException know about the event that triggered it you're right back in the domain shitstorm.","date":"2013-10-29T06:55:28.231Z","type":"message"}
{"nick":"groundwater_","message":"heh","date":"2013-10-29T06:57:08.238Z","type":"message"}
{"nick":"groundwater_","message":"i can't wait","date":"2013-10-29T06:58:15.904Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-29T06:59:03.947Z","type":"join"}
{"nick":"inolen","date":"2013-10-29T07:00:18.361Z","type":"join"}
{"nick":"trevnorris","message":"groundwater_: super simple impl: https://gist.github.com/trevnorris/7210177","date":"2013-10-29T07:01:25.974Z","type":"message"}
{"nick":"trevnorris","message":"that won't have noticeable performance impact.","date":"2013-10-29T07:01:43.674Z","type":"message"}
{"nick":"trevnorris","message":"oh wait. one bug.","date":"2013-10-29T07:02:09.294Z","type":"message"}
{"nick":"groundwater_","message":"that was fast","date":"2013-10-29T07:02:25.914Z","type":"message"}
{"nick":"trevnorris","message":"ok, fixed","date":"2013-10-29T07:02:30.680Z","type":"message"}
{"nick":"trevnorris","message":"heh, i spent weeks working on optimizing the event emitter. have it memorized.","date":"2013-10-29T07:03:06.536Z","type":"message"}
{"nick":"trevnorris","message":"another minor fix.","date":"2013-10-29T07:04:47.204Z","type":"message"}
{"nick":"trevnorris","message":"w/ handling error events.","date":"2013-10-29T07:04:52.204Z","type":"message"}
{"nick":"groundwater_","message":"it's fucking weird looking at diffs of a diff file","date":"2013-10-29T07:05:09.627Z","type":"message"}
{"nick":"trevnorris","message":"hah","date":"2013-10-29T07:05:16.518Z","type":"message"}
{"nick":"groundwater_","message":"https://gist.github.com/trevnorris/7210177/revisions","date":"2013-10-29T07:05:22.745Z","type":"message"}
{"nick":"trevnorris","message":"hahaha","date":"2013-10-29T07:05:39.240Z","type":"message"}
{"nick":"trevnorris","message":"never even looked at that.","date":"2013-10-29T07:05:47.729Z","type":"message"}
{"nick":"groundwater_","message":"i was curious what you changed","date":"2013-10-29T07:06:22.578Z","type":"message"}
{"nick":"FROGGS","date":"2013-10-29T07:06:28.563Z","type":"join"}
{"nick":"groundwater_","message":"i'm sure there's some algebraic theory behind this","date":"2013-10-29T07:06:48.457Z","type":"message"}
{"nick":"trevnorris","message":"what you can do from your end is run the async listener in the before, then remove it in the after. this will catch any errors.","date":"2013-10-29T07:07:10.485Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-10-29T07:07:11.365Z","type":"message"}
{"nick":"trevnorris","message":"async listeners catch errors that happen synchronously as well, so it'll catch anything that's immediately triggered by the emitted callback","date":"2013-10-29T07:07:42.640Z","type":"message"}
{"nick":"groundwater_","message":"ahh!","date":"2013-10-29T07:08:36.326Z","type":"message"}
{"nick":"groundwater_","message":"well in CLS they really just need to switch out the context object","date":"2013-10-29T07:08:51.430Z","type":"message"}
{"nick":"groundwater_","message":"but yah, i think that may do it","date":"2013-10-29T07:09:16.285Z","type":"message"}
{"nick":"trevnorris","message":"hah, i'm a moron. forgot to update the counter. one sec.","date":"2013-10-29T07:09:51.055Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: want a neat trick? pass an array as the value when you create the listener, then just make the context you want as the zero index. then it's available in the error state w/o needing to create a new async listener everytime","date":"2013-10-29T07:11:11.857Z","type":"message"}
{"nick":"trevnorris","message":"and since it happens synchronously there's no worries about a collision.","date":"2013-10-29T07:11:23.009Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: ok, just tested it. the basics are working.","date":"2013-10-29T07:13:43.841Z","type":"message"}
{"nick":"groundwater_","message":"i'm literally just sitting here watching netflix and playing iphone games","date":"2013-10-29T07:15:00.264Z","type":"message"}
{"nick":"trevnorris","message":"hehe","date":"2013-10-29T07:15:10.679Z","type":"message"}
{"nick":"trevnorris","message":"well, it's late.","date":"2013-10-29T07:15:17.942Z","type":"message"}
{"nick":"groundwater_","message":"i'm gonna have to check this out tomorrow","date":"2013-10-29T07:15:18.514Z","type":"message"}
{"nick":"trevnorris","message":"no worries.","date":"2013-10-29T07:15:25.952Z","type":"message"}
{"nick":"groundwater_","message":"looks awesome tho","date":"2013-10-29T07:15:34.067Z","type":"message"}
{"nick":"trevnorris","message":"thanks. but just be warned, I doubt it'll land in core.","date":"2013-10-29T07:15:53.560Z","type":"message"}
{"nick":"trevnorris","message":"can try, and since it has no performance diff wont hurt there, but I had one heck of  a time just getting EventEmitter.listenerCount() in","date":"2013-10-29T07:16:35.617Z","type":"message"}
{"nick":"groundwater_","message":"maybe if domains can be removed from the EE code","date":"2013-10-29T07:16:57.962Z","type":"message"}
{"nick":"groundwater_","message":"or if I bribe tjfontaine with enough gin","date":"2013-10-29T07:17:15.773Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-10-29T07:17:19.949Z","type":"message"}
{"nick":"trevnorris","message":"well, then we'd have to add a hook to the EE constructor.","date":"2013-10-29T07:17:27.896Z","type":"message"}
{"nick":"trevnorris","message":"because it has to know if theres an active domain alive.","date":"2013-10-29T07:17:40.203Z","type":"message"}
{"nick":"trevnorris","message":"though, that'll actually be less expensive than what it's doing now.","date":"2013-10-29T07:17:52.746Z","type":"message"}
{"nick":"trevnorris","message":"so that might actually be a viable option.","date":"2013-10-29T07:17:59.085Z","type":"message"}
{"nick":"groundwater_","message":"well, we're using a patched \"on\" method","date":"2013-10-29T07:18:05.498Z","type":"message"}
{"nick":"groundwater_","message":"that kinda functions like onAsync","date":"2013-10-29T07:18:10.770Z","type":"message"}
{"nick":"groundwater_","message":"so you can capture the domain when the listener is assigned","date":"2013-10-29T07:18:18.805Z","type":"message"}
{"nick":"groundwater_","message":"oh wait, you capture the domain at creation","date":"2013-10-29T07:18:25.101Z","type":"message"}
{"nick":"groundwater_","message":"d'oh","date":"2013-10-29T07:18:27.501Z","type":"message"}
{"nick":"trevnorris","message":"yeah. that's the issue.","date":"2013-10-29T07:18:36.766Z","type":"message"}
{"nick":"groundwater_","message":"fucking EEs","date":"2013-10-29T07:18:46.166Z","type":"message"}
{"nick":"trevnorris","message":"yup.","date":"2013-10-29T07:18:50.744Z","type":"message"}
{"nick":"trevnorris","message":"with their powers combined, event emitters and domains make a serious cluster fuck.","date":"2013-10-29T07:19:16.866Z","type":"message"}
{"nick":"groundwater_","message":"heh","date":"2013-10-29T07:20:04.850Z","type":"message"}
{"nick":"trevnorris","message":"well, it'd be trivial to do an creation callback counter.","date":"2013-10-29T07:20:16.237Z","type":"message"}
{"nick":"trevnorris","message":"and have domains use that to attach the domain object.","date":"2013-10-29T07:20:22.787Z","type":"message"}
{"nick":"groundwater_","message":"with your powers combined, I am captain async","date":"2013-10-29T07:20:24.166Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-10-29T07:20:30.312Z","type":"message"}
{"nick":"trevnorris","message":"after 6011 lands i'll throw up a PR, unless you want to use that patch and throw up your own.","date":"2013-10-29T07:21:14.027Z","type":"message"}
{"nick":"trevnorris","message":"doesn't matter to me.","date":"2013-10-29T07:21:18.594Z","type":"message"}
{"nick":"groundwater_","message":"doesn't matter to me either","date":"2013-10-29T07:21:55.322Z","type":"message"}
{"nick":"trevnorris","message":"coolio. well, I think i'm past being productive.","date":"2013-10-29T07:22:47.216Z","type":"message"}
{"nick":"groundwater_","message":"heh","date":"2013-10-29T07:22:52.771Z","type":"message"}
{"nick":"groundwater_","message":"time for some GTA 5","date":"2013-10-29T07:22:59.862Z","type":"message"}
{"nick":"trevnorris","message":"ircretary: tell piscisaureus_ write up a gist about what you're looking for in the AsyncWrap hook. I'm down implementing it in 6011, but i'll need to get it in soon.","date":"2013-10-29T07:24:19.384Z","type":"message"}
{"nick":"ircretary","message":"trevnorris: I'll be sure to tell piscisaureus_","date":"2013-10-29T07:24:19.595Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: have fun. night","date":"2013-10-29T07:24:33.312Z","type":"message"}
{"nick":"rendar","date":"2013-10-29T07:29:31.830Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-29T07:30:45.409Z","type":"quit"}
{"nick":"inolen","date":"2013-10-29T07:34:09.341Z","type":"join"}
{"nick":"inolen","reason":"Client Quit","date":"2013-10-29T07:35:15.358Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-10-29T07:51:41.775Z","type":"quit"}

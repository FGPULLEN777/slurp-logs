{"nick":"mikeal","date":"2012-04-27T00:01:54.459Z","type":"join"}
{"nick":"perezd","message":"do I need to actually free Persistent values?","date":"2012-04-27T00:01:57.592Z","type":"message"}
{"nick":"perezd","message":"or are they freed automatically now","date":"2012-04-27T00:02:04.389Z","type":"message"}
{"nick":"piscisaureus_","message":"perezd: you must free them","date":"2012-04-27T00:09:58.919Z","type":"message"}
{"nick":"perezd","message":"piscisaureus_: how do you do that properly? just calling free?","date":"2012-04-27T00:10:12.787Z","type":"message"}
{"nick":"TooTallNate","message":"handle.Dispose() and handle.Clear() do it for me","date":"2012-04-27T00:11:04.889Z","type":"message"}
{"nick":"TooTallNate","message":"https://github.com/TooTallNate/node-weak/blob/master/src/weakref.cc#L163-164","date":"2012-04-27T00:11:05.361Z","type":"message"}
{"nick":"TooTallNate","message":"not really sure of the differences to be honest","date":"2012-04-27T00:11:13.064Z","type":"message"}
{"nick":"TooTallNate","message":"perezd: ^","date":"2012-04-27T00:11:29.897Z","type":"message"}
{"nick":"piscisaureus_","message":"perezd:","date":"2012-04-27T00:11:43.096Z","type":"message"}
{"nick":"piscisaureus_","message":"Persistent<Object> p = Persistent::New(o);","date":"2012-04-27T00:11:43.302Z","type":"message"}
{"nick":"piscisaureus_","message":"o.Dispose()","date":"2012-04-27T00:11:43.303Z","type":"message"}
{"nick":"perezd","message":"closing scope on handle clears handle objects then?","date":"2012-04-27T00:12:11.566Z","type":"message"}
{"nick":"piscisaureus_","message":"perezd: closing scope disposes Local handles","date":"2012-04-27T00:12:33.239Z","type":"message"}
{"nick":"perezd","message":"okay makes sense","date":"2012-04-27T00:12:39.577Z","type":"message"}
{"nick":"piscisaureus_","message":"I am leaving btw.","date":"2012-04-27T00:14:12.638Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: have a good one","date":"2012-04-27T00:14:24.204Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-04-27T00:14:33.357Z","type":"message"}
{"nick":"piscisaureus_","message":"that'll work","date":"2012-04-27T00:14:40.655Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-04-27T00:14:55.279Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-04-27T00:15:12.402Z","type":"quit"}
{"nick":"orlandovftw","reason":"Ping timeout: 244 seconds","date":"2012-04-27T00:17:45.400Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-04-27T00:27:12.066Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 250 seconds","date":"2012-04-27T00:45:15.678Z","type":"quit"}
{"nick":"bnoordhuis","message":"TooTallNate: ping","date":"2012-04-27T00:50:44.809Z","type":"message"}
{"nick":"tjfontaine","message":"utoh","date":"2012-04-27T00:50:51.085Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: pong","date":"2012-04-27T00:50:53.883Z","type":"message"}
{"nick":"bnoordhuis","message":"hey","date":"2012-04-27T00:50:56.300Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/issues/3148 <- what's your opinion on that?","date":"2012-04-27T00:51:08.321Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not quite a bug, just something that most people won't expect","date":"2012-04-27T00:51:27.470Z","type":"message"}
{"nick":"bnoordhuis","message":"actually... there is a bug but it's not what the reporter thinks :)","date":"2012-04-27T00:51:37.228Z","type":"message"}
{"nick":"bnoordhuis","message":"the isIP() function doesn't allow dotted hex notation","date":"2012-04-27T00:51:57.474Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: you mean radix 10 is what most people would expect?","date":"2012-04-27T00:51:58.879Z","type":"message"}
{"nick":"TooTallNate","message":"i would agree :p","date":"2012-04-27T00:52:05.711Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. otoh, it's all according to spec...","date":"2012-04-27T00:52:18.897Z","type":"message"}
{"nick":"TooTallNate","message":"in the past (url.parse()) we've fallen back on what web browsers do","date":"2012-04-27T00:52:39.877Z","type":"message"}
{"nick":"bnoordhuis","message":"true. and web browsers support all kinds of funky notation","date":"2012-04-27T00:53:04.002Z","type":"message"}
{"nick":"tjfontaine","message":"btw, isIP('') doesn't exactly perform the way I would expect :)","date":"2012-04-27T00:53:10.619Z","type":"message"}
{"nick":"isaacs","message":"ipv6 is so terrible","date":"2012-04-27T00:53:13.651Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: `ping` for example allows octets","date":"2012-04-27T00:54:27.099Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T00:54:38.293Z","type":"quit"}
{"nick":"TooTallNate","message":"(darwin ping at least)","date":"2012-04-27T00:54:47.292Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yes. it's a function of inet_ntop()","date":"2012-04-27T00:54:50.039Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: if you want a personal opinion i'd say use radix 10 there","date":"2012-04-27T00:55:23.781Z","type":"message"}
{"nick":"TooTallNate","message":"i don't know of anybody who'se ever cared about 0x8.0x8.0x8.0x8 :p","date":"2012-04-27T00:55:57.757Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-27T00:56:08.651Z","type":"quit"}
{"nick":"bnoordhuis","message":"there are a lot of noisy, drunk people in front of my house...","date":"2012-04-27T00:56:16.284Z","type":"message"}
{"nick":"bnoordhuis","action":"gets the bb gun","date":"2012-04-27T00:56:20.953Z","type":"action"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-04-27T00:56:37.865Z","type":"quit"}
{"nick":"bnoordhuis","message":"i think they're idling in #libuv because the moment i said that, they moved on","date":"2012-04-27T00:57:00.040Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yeah, i think i agree","date":"2012-04-27T00:57:12.982Z","type":"message"}
{"nick":"tjfontaine","message":"hah","date":"2012-04-27T00:57:40.600Z","type":"message"}
{"nick":"mikeal","date":"2012-04-27T01:00:48.628Z","type":"join"}
{"nick":"c4milo","date":"2012-04-27T01:10:21.012Z","type":"join"}
{"nick":"TooTallNate","message":"bnoordhuis: do you know what the actual problem that guy is reporting is?","date":"2012-04-27T01:10:54.467Z","type":"message"}
{"nick":"TooTallNate","message":"it made sense to be a parseInt error, but apparently its something else","date":"2012-04-27T01:11:14.782Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: isIP() accepts the address because it's numeric, tcp_wrap.cc then parses the 025 as 21 decimal","date":"2012-04-27T01:11:50.862Z","type":"message"}
{"nick":"bnoordhuis","message":"so his script is not connecting to the address he thinks it is","date":"2012-04-27T01:12:07.591Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: what does the ip parsing in c-land?","date":"2012-04-27T01:13:02.186Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: inet_ntop()","date":"2012-04-27T01:13:12.153Z","type":"message"}
{"nick":"seebees","date":"2012-04-27T01:13:29.551Z","type":"part"}
{"nick":"TooTallNate","message":"oh i see","date":"2012-04-27T01:13:38.192Z","type":"message"}
{"nick":"isaacs","date":"2012-04-27T01:35:21.076Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-04-27T01:39:30.840Z","type":"quit"}
{"nick":"mjr_","message":"bnoordhuis: we are running your slab allocator branch on one machine. So far so good.","date":"2012-04-27T01:40:25.066Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: no more zero reads? do you know if it's faster?","date":"2012-04-27T01:41:03.518Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-04-27T01:41:40.798Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-04-27T01:43:29.620Z","type":"quit"}
{"nick":"mjr_","message":"no more 0 reads, but I can't tell if it's faster.","date":"2012-04-27T01:44:03.049Z","type":"message"}
{"nick":"mjr_","message":"It seems perhaps no faster, although I'm really surprised by that","date":"2012-04-27T01:44:11.152Z","type":"message"}
{"nick":"abraxas","date":"2012-04-27T01:44:31.125Z","type":"join"}
{"nick":"mjr_","message":"The flame graph looks way better though, like most of the time is spent in my code now.","date":"2012-04-27T01:44:53.291Z","type":"message"}
{"nick":"mjr_","message":"But I was expecting drastically less CPU time to be consumed, and I don't see that, so a mystery still exists.","date":"2012-04-27T01:45:18.799Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: okay, good. :-) re: faster: i'm having a hard time outcompeting libc","date":"2012-04-27T01:45:30.364Z","type":"message"}
{"nick":"bnoordhuis","message":"memory usage / fragmentation should be more stable though","date":"2012-04-27T01:45:39.502Z","type":"message"}
{"nick":"mjr_","message":"back in a while","date":"2012-04-27T01:46:25.189Z","type":"message"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-04-27T01:46:27.318Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2012-04-27T01:47:05.584Z","type":"quit"}
{"nick":"ira","date":"2012-04-27T01:50:19.046Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T01:57:11.142Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-27T02:14:22.665Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2012-04-27T03:13:28.911Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2012-04-27T03:15:00.634Z","type":"quit"}
{"nick":"perezd","date":"2012-04-27T03:55:29.175Z","type":"join"}
{"nick":"mjr_","date":"2012-04-27T03:56:20.649Z","type":"join"}
{"nick":"ira","reason":"Quit: Leaving...","date":"2012-04-27T04:18:30.339Z","type":"quit"}
{"nick":"bulatshakirzyano","date":"2012-04-27T04:48:41.307Z","type":"join"}
{"nick":"bulatshakirzyano","new_nick":"avalanche123|h","date":"2012-04-27T04:48:58.171Z","type":"nick"}
{"nick":"c4milo","date":"2012-04-27T05:08:04.023Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-04-27T05:24:55.744Z","type":"quit"}
{"nick":"erickt","date":"2012-04-27T05:44:52.478Z","type":"join"}
{"nick":"paddybyers","date":"2012-04-27T05:51:00.393Z","type":"join"}
{"nick":"mikeal","date":"2012-04-27T06:02:11.676Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-27T06:18:18.426Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 250 seconds","date":"2012-04-27T06:20:38.138Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 265 seconds","date":"2012-04-27T06:56:40.181Z","type":"quit"}
{"nick":"rendar","date":"2012-04-27T07:11:49.261Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-04-27T07:16:40.722Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-04-27T07:18:32.203Z","type":"join"}
{"nick":"mmalecki[ft]","message":"wtf https://twitter.com/#!/nodeconf/status/195627209082413056","date":"2012-04-27T07:50:39.371Z","type":"message"}
{"nick":"mmalecki[ft]","message":"(no, really. someone knows what's going on?)","date":"2012-04-27T07:54:44.009Z","type":"message"}
{"nick":"paddybyers","date":"2012-04-27T07:55:03.264Z","type":"join"}
{"nick":"orlandovftw","date":"2012-04-27T08:15:20.046Z","type":"join"}
{"nick":"benvie","date":"2012-04-27T09:23:46.621Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-04-27T10:24:58.783Z","type":"join"}
{"nick":"orlandovftw","reason":"Quit: leaving","date":"2012-04-27T11:20:13.916Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-04-27T12:00:11.468Z","type":"quit"}
{"nick":"abraxas","date":"2012-04-27T12:00:42.961Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 240 seconds","date":"2012-04-27T12:05:13.568Z","type":"quit"}
{"nick":"theCole","date":"2012-04-27T12:44:22.841Z","type":"join"}
{"nick":"c4milo","date":"2012-04-27T12:49:48.009Z","type":"join"}
{"nick":"paddybyers","date":"2012-04-27T12:57:31.644Z","type":"part"}
{"nick":"ira","date":"2012-04-27T13:29:06.039Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-04-27T13:32:53.976Z","type":"quit"}
{"nick":"mmalecki[ft]","message":"bnoordhuis: hey","date":"2012-04-27T13:35:09.392Z","type":"message"}
{"nick":"mmalecki[ft]","message":"bnoordhuis: maybe you know what's going on? https://twitter.com/nodeconf/status/195627209082413056","date":"2012-04-27T13:35:44.717Z","type":"message"}
{"nick":"mmalecki[ft]","message":"bnoordhuis: also, does util.inspect need backward compatibility","date":"2012-04-27T13:38:49.482Z","type":"message"}
{"nick":"mmalecki[ft]","message":"?","date":"2012-04-27T13:38:51.082Z","type":"message"}
{"nick":"mmalecki[ft]","message":"oh... it's \"locked\"","date":"2012-04-27T13:41:28.447Z","type":"message"}
{"nick":"mmalecki[ft]","message":"shitty API is a serious bug, actually","date":"2012-04-27T13:41:40.828Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki[ft]: ho","date":"2012-04-27T13:50:07.344Z","type":"message"}
{"nick":"bnoordhuis","message":"re that twitter message, there'll be awards at nodeconf","date":"2012-04-27T13:51:00.247Z","type":"message"}
{"nick":"bnoordhuis","message":"exterminator is one of the categories","date":"2012-04-27T13:51:14.726Z","type":"message"}
{"nick":"mmalecki[ft]","message":"ok, so I guess I should buy a ticket :)","date":"2012-04-27T13:54:12.854Z","type":"message"}
{"nick":"paddybyers","date":"2012-04-27T13:56:08.885Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-04-27T13:59:46.813Z","type":"join"}
{"nick":"piscisaureus_","message":"creationix: bnoordhuis: I need your opinion.","date":"2012-04-27T14:08:03.821Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, what's up","date":"2012-04-27T14:08:14.498Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: bnoordhuis: if people try to do setsid/setuid on windows, should we throw an error, of fail silently?","date":"2012-04-27T14:08:23.894Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: explicit > implicit","date":"2012-04-27T14:08:45.595Z","type":"message"}
{"nick":"creationix","message":"probably throw error since they most likely do this for security reasons","date":"2012-04-27T14:08:52.916Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, ok","date":"2012-04-27T14:08:58.532Z","type":"message"}
{"nick":"creationix","message":"silent security holes are very bad","date":"2012-04-27T14:09:00.954Z","type":"message"}
{"nick":"piscisaureus_","message":"I agree","date":"2012-04-27T14:09:03.702Z","type":"message"}
{"nick":"creationix","message":"mikeal, Nodie nominations were community provided or did you propose them?","date":"2012-04-27T14:11:42.427Z","type":"message"}
{"nick":"creationix","message":"great idea btw","date":"2012-04-27T14:11:48.592Z","type":"message"}
{"nick":"isaacs","date":"2012-04-27T14:13:44.422Z","type":"join"}
{"nick":"creationix","message":"morning isaacs :)","date":"2012-04-27T14:15:45.299Z","type":"message"}
{"nick":"isaacs","message":"g'mroning","date":"2012-04-27T14:25:36.661Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't really think anyone other than bnoordhuis really qualifies for the exterminator award","date":"2012-04-27T14:30:01.106Z","type":"message"}
{"nick":"piscisaureus_","message":"(not to disregard tootallnate or indutny of course)","date":"2012-04-27T14:30:38.515Z","type":"message"}
{"nick":"mmalecki[ft]","message":"is it for the node core or whole community?","date":"2012-04-27T14:31:05.884Z","type":"message"}
{"nick":"piscisaureus_","message":"that's also an interesting question of course","date":"2012-04-27T14:31:22.714Z","type":"message"}
{"nick":"mmalecki[ft]","message":"because if it's for the core, I'm very surprised","date":"2012-04-27T14:31:29.394Z","type":"message"}
{"nick":"isaacs","message":"mmalecki[ft]: it's gotta be for the whole community","date":"2012-04-27T14:32:02.111Z","type":"message"}
{"nick":"isaacs","message":"also, how can nodejitsu (the company) be up for an award...","date":"2012-04-27T14:32:18.371Z","type":"message"}
{"nick":"isaacs","message":"should be a diff category or something","date":"2012-04-27T14:32:26.052Z","type":"message"}
{"nick":"isaacs","message":"though, the fact that it takes a whole company to rival marco or me is pretty badass, i must say ;)","date":"2012-04-27T14:32:47.640Z","type":"message"}
{"nick":"mmalecki[ft]","message":"isaacs: I mean, the company thing is kinda sane for me","date":"2012-04-27T14:33:20.503Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, uid/gid in spawn for 0.6.","date":"2012-04-27T14:33:20.708Z","type":"message"}
{"nick":"isaacs","message":"mmalecki[ft]: should've been something like, \"company that uses node the awesomest\" or something, and have nodejitsu, voxer, and joyent there or somethign","date":"2012-04-27T14:33:51.006Z","type":"message"}
{"nick":"isaacs","message":"maybe msft or others","date":"2012-04-27T14:33:59.231Z","type":"message"}
{"nick":"isaacs","message":"cloud9","date":"2012-04-27T14:34:05.216Z","type":"message"}
{"nick":"isaacs","message":"et.","date":"2012-04-27T14:34:06.493Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you'd said we could do a spawn2 for 0.6?","date":"2012-04-27T14:34:22.628Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am already working on it.","date":"2012-04-27T14:34:39.599Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/compare/issue3180 <- handle walker (more or less). opinions?","date":"2012-04-27T14:34:48.596Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh, awesome :)","date":"2012-04-27T14:35:09.878Z","type":"message"}
{"nick":"bnoordhuis","message":"adds a process._getActiveHandles() function that returns an array of (surprise surprise) active handles","date":"2012-04-27T14:35:19.923Z","type":"message"}
{"nick":"mmalecki[ft]","message":"isaacs: can't a company do community service?","date":"2012-04-27T14:36:09.812Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: need timers and child processes too","date":"2012-04-27T14:36:11.633Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not complete btw (missing child_process) for example","date":"2012-04-27T14:36:14.647Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: hah, right","date":"2012-04-27T14:36:22.709Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: we need to call out igor's queue in the license, i think","date":"2012-04-27T14:36:23.096Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: sure","date":"2012-04-27T14:36:34.237Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, but that's fine","date":"2012-04-27T14:36:35.622Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: also, this is only for handles, yes?  do you think it's worthwhile to have req's exposed in this way as well?","date":"2012-04-27T14:37:42.492Z","type":"message"}
{"nick":"isaacs","message":"ie, fs.open('file that the os decides should take 3 hours to open', function () { why isn't my program exiting? })","date":"2012-04-27T14:38:14.844Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: yeah, i suppose that could happen. it's trivial to add","date":"2012-04-27T14:38:48.361Z","type":"message"}
{"nick":"bnoordhuis","message":"how do people feel about the general approach?","date":"2012-04-27T14:39:16.910Z","type":"message"}
{"nick":"isaacs","message":"i think it's nice.  very simple.","date":"2012-04-27T14:39:22.935Z","type":"message"}
{"nick":"tjfontaine","message":"+1","date":"2012-04-27T14:39:32.138Z","type":"message"}
{"nick":"bnoordhuis","message":"cool. piscisaureus_?","date":"2012-04-27T14:40:50.570Z","type":"message"}
{"nick":"isaacs","message":"igor's code is always so beautiful.","date":"2012-04-27T14:40:59.627Z","type":"message"}
{"nick":"isaacs","message":"we should just port nginx as a module.","date":"2012-04-27T14:41:08.530Z","type":"message"}
{"nick":"isaacs","message":";P","date":"2012-04-27T14:41:10.909Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: +1","date":"2012-04-27T14:41:31.586Z","type":"message"}
{"nick":"isaacs","message":"not for any purpose, i mean, we already have good http and stuff.  just to look at it.","date":"2012-04-27T14:41:32.747Z","type":"message"}
{"nick":"piscisaureus_","message":"not sure about reqs tho - but whatever","date":"2012-04-27T14:41:39.753Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it gets important if you end up in pathological situations where you're writing to a fs.writeStream, and not listening to the return to do backpressure.","date":"2012-04-27T14:42:10.189Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah, ok","date":"2012-04-27T14:42:20.566Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: then you have lots of writes backed up, and when you think you should exit, it takes a second or more.","date":"2012-04-27T14:42:25.887Z","type":"message"}
{"nick":"piscisaureus_","message":"if it's not too costly","date":"2012-04-27T14:42:33.646Z","type":"message"}
{"nick":"isaacs","message":"which isn't a big deal, unless you're expecting to restart a server or something very soon.","date":"2012-04-27T14:42:35.247Z","type":"message"}
{"nick":"bnoordhuis","message":"two pointers, 16 bytes on x64","date":"2012-04-27T14:42:47.001Z","type":"message"}
{"nick":"isaacs","message":"but yeah, reqs are less important.","date":"2012-04-27T14:42:49.052Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what do you think of the uid/gid patch on master?","date":"2012-04-27T14:44:48.499Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: shall i squash and push?","date":"2012-04-27T14:44:53.627Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or are you doing stuff with it on v0.6 and gonna merge in?","date":"2012-04-27T14:45:09.664Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think I prefer to merge from 0.6","date":"2012-04-27T14:45:29.766Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: also, I like it to be flags","date":"2012-04-27T14:45:35.912Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: just hold on a sec...","date":"2012-04-27T14:46:18.286Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: kewl","date":"2012-04-27T14:46:45.352Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u000276de7c0\u000f \u000310\u000f/ (doc/index.html doc/pipe.css)\u0002:\u000f Add customary 'fork me on github' banner to website - http://git.io/iDHNIw","date":"2012-04-27T14:59:24.423Z","type":"message"}
{"nick":"piscisaureus_","message":"can we somehow test uid/gid ?","date":"2012-04-27T15:02:47.848Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: not really","date":"2012-04-27T15:04:50.509Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: only as root","date":"2012-04-27T15:05:05.219Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: maywe we can assert that at least something is attempted","date":"2012-04-27T15:05:20.589Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you can test that it'll throw if you're not root :)","date":"2012-04-27T15:05:25.223Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think that'll work in node","date":"2012-04-27T15:05:26.314Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: making it throw is not easy","date":"2012-04-27T15:05:49.388Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I'd like to do that at some point - but at the moment we write errors to stderr","date":"2012-04-27T15:06:04.713Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: except on windows btw","date":"2012-04-27T15:06:11.771Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: well, the setuid should return non-zero if you're not root","date":"2012-04-27T15:06:16.511Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I know, but this happens in the forked process","date":"2012-04-27T15:06:26.573Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-04-27T15:06:30.876Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you could test setuid(getuid()) but that's kind of pointless","date":"2012-04-27T15:06:31.839Z","type":"message"}
{"nick":"isaacs","message":"but then the forked process returns -127","date":"2012-04-27T15:06:41.709Z","type":"message"}
{"nick":"piscisaureus_","message":"true","date":"2012-04-27T15:06:45.706Z","type":"message"}
{"nick":"tjfontaine","message":"root or CAP_SETUID on linux","date":"2012-04-27T15:06:46.460Z","type":"message"}
{"nick":"piscisaureus_","message":"and you have no clue why","date":"2012-04-27T15:06:51.811Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, it's easy to test in node","date":"2012-04-27T15:06:52.476Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this is fixable","date":"2012-04-27T15:06:55.207Z","type":"message"}
{"nick":"piscisaureus_","message":"but it's out of scope for this quick setuid/setgid fix","date":"2012-04-27T15:07:14.199Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-04-27T15:07:25.841Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: we could make it exit with different error codes for each failure, but i thought -127 is sort of a customary exit for \"the child process failed to run properly\"","date":"2012-04-27T15:07:27.070Z","type":"message"}
{"nick":"tjfontaine","message":"it should return EPERM isn't that mapped?","date":"2012-04-27T15:07:37.635Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, we can just make the main process wait for the fork","date":"2012-04-27T15:07:40.619Z","type":"message"}
{"nick":"bnoordhuis","message":"EPERM is mapped","date":"2012-04-27T15:07:49.356Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: actually we already do I think - there just needs to be some plumbing to report what actually went wrong","date":"2012-04-27T15:07:59.661Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the child proc gets an EPERM from setgid/setuid, but the parent just gets -127 from the fork()","date":"2012-04-27T15:08:05.119Z","type":"message"}
{"nick":"tjfontaine","message":"oh of course","date":"2012-04-27T15:08:19.225Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: we expose the process exit code if it actually was run, but chdir/setuid/setgid/env etc all return -127 when they fail","date":"2012-04-27T15:08:41.327Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-04-27T15:08:52.766Z","type":"message"}
{"nick":"piscisaureus_","message":"uv.a(core.o): In function `uv_close':","date":"2012-04-27T15:08:52.967Z","type":"message"}
{"nick":"piscisaureus_","message":"/home/bert/libuv/src/unix/core.c:66: multiple definition of `uv_close'","date":"2012-04-27T15:08:52.967Z","type":"message"}
{"nick":"piscisaureus_","message":"uv.a(uv-unix.o):/home/bert/libuv/uv-unix.c:129: first defined here","date":"2012-04-27T15:08:52.967Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: huh","date":"2012-04-27T15:08:56.605Z","type":"message"}
{"nick":"isaacs","message":"i mean, i'm not strongly in favor of keeping that, necessarily","date":"2012-04-27T15:09:12.527Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: how/where/what?","date":"2012-04-27T15:09:28.017Z","type":"message"}
{"nick":"isaacs","message":"it's just the way it's alwasy been in node","date":"2012-04-27T15:09:29.523Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: build the 0.6 branch of libuv on linux","date":"2012-04-27T15:09:42.762Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah. Can't we change that","date":"2012-04-27T15:09:55.525Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't like it","date":"2012-04-27T15:10:02.748Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we can also make it fail loudly when you try to spawn an nonexisting binary (e.g. execve fails)","date":"2012-04-27T15:10:25.012Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: wfm","date":"2012-04-27T15:10:28.258Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think that the return -127 was just a stopgap solution","date":"2012-04-27T15:10:42.386Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: btw, libuv/uv-unix.c?","date":"2012-04-27T15:11:02.813Z","type":"message"}
{"nick":"bnoordhuis","message":"i think you should do a `git clean -dfx` :)","date":"2012-04-27T15:11:18.348Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: weird","date":"2012-04-27T15:11:29.796Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: this is a fresh vm and a fresh checkout :-)","date":"2012-04-27T15:11:39.967Z","type":"message"}
{"nick":"bnoordhuis","message":"weird indeed. uv-unix.c is ancient history","date":"2012-04-27T15:11:58.998Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: can we just pick other codes to use?","date":"2012-04-27T15:12:39.434Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i mean, somethign that isn't already mapped to something else","date":"2012-04-27T15:12:50.958Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't understand your question","date":"2012-04-27T15:13:12.156Z","type":"message"}
{"nick":"isaacs","message":"i mean, instead of failing with -127 on all of them, fail with -127 on one, -128 on another, etc.","date":"2012-04-27T15:13:40.540Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well what we could do is slightly more complex","date":"2012-04-27T15:14:12.810Z","type":"message"}
{"nick":"isaacs","message":"the tricky thing will be if there's some system where like ECONNABORTED is -129, then you'll get really confused about what kinds of connections your child proc was trying to make :)","date":"2012-04-27T15:14:13.715Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well the exit status of a process != an errno","date":"2012-04-27T15:14:36.180Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it is just the number that the process wishes to return","date":"2012-04-27T15:14:45.358Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-04-27T15:14:51.142Z","type":"message"}
{"nick":"isaacs","message":"so the proc could lie about it anyway","date":"2012-04-27T15:15:02.277Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so what we can do is create a pipe, set one end to CLOEXEC and try to spawn","date":"2012-04-27T15:15:12.433Z","type":"message"}
{"nick":"piscisaureus_","message":"if an error happens we write it to the pipe","date":"2012-04-27T15:15:20.079Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the master process reads the pipe","date":"2012-04-27T15:15:30.180Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if nothing appears on it, the spawn worked","date":"2012-04-27T15:15:42.334Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if something does appear, that was the error","date":"2012-04-27T15:15:56.837Z","type":"message"}
{"nick":"piscisaureus_","message":"easy","date":"2012-04-27T15:15:58.562Z","type":"message"}
{"nick":"piscisaureus_","message":"(actually both ends should be cloexec)","date":"2012-04-27T15:16:18.004Z","type":"message"}
{"nick":"erickt","date":"2012-04-27T15:16:26.597Z","type":"join"}
{"nick":"isaacs","message":"k","date":"2012-04-27T15:16:52.835Z","type":"message"}
{"nick":"piscisaureus_","message":"but nevermind - focus","date":"2012-04-27T15:17:05.111Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2012-04-27T15:17:07.583Z","type":"message"}
{"nick":"isaacs","message":"i wanna drop v0.6.16 today","date":"2012-04-27T15:17:12.488Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: almost there","date":"2012-04-27T15:17:21.821Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-04-27T15:17:24.921Z","type":"message"}
{"nick":"isaacs","message":"awesome :)","date":"2012-04-27T15:17:25.128Z","type":"message"}
{"nick":"piscisaureus_","message":"test/test-get-memory.c:29:3: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 2 has type ‘uint64_t’ [-Wformat]","date":"2012-04-27T15:17:26.898Z","type":"message"}
{"nick":"piscisaureus_","message":"test/test-get-memory.c:29:3: warning: format ‘%llu’ expects argument of type ‘long long unsigned int’, but argument 3 has type ‘uint64_t’ [-Wformat]","date":"2012-04-27T15:17:27.103Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- this keeps popping up tho","date":"2012-04-27T15:17:33.449Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah... printing large integers is one of the bigger fails in the c spec","date":"2012-04-27T15:20:01.110Z","type":"message"}
{"nick":"bnoordhuis","message":"biab, dinner","date":"2012-04-27T15:20:24.267Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-04-27T15:24:27.945Z","type":"join"}
{"nick":"creationix","reason":"Quit: ZNC - http://znc.in","date":"2012-04-27T15:25:59.683Z","type":"quit"}
{"nick":"piscisaureus_","message":"[% 100|+ 106|-  12]: Done.","date":"2012-04-27T15:41:13.827Z","type":"message"}
{"nick":"piscisaureus_","message":"make: *** [test] Error 12","date":"2012-04-27T15:41:14.030Z","type":"message"}
{"nick":"piscisaureus_","message":"meh, libuv on unix","date":"2012-04-27T15:41:18.092Z","type":"message"}
{"nick":"piscisaureus_","message":"(v0.6)","date":"2012-04-27T15:41:21.622Z","type":"message"}
{"nick":"avalanche123|h","reason":"Ping timeout: 245 seconds","date":"2012-04-27T15:43:33.041Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002c42ba10\u000f \u000310\u000f/ (6 files in 5 dirs)\u0002:\u000f Temporary API to support spawn with uid and gid options (+7 more commits...) - http://git.io/AkOFIQ","date":"2012-04-27T15:45:11.196Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- isaacs : review?","date":"2012-04-27T15:45:16.574Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: btw - if you add a test to libuv you have to add it to test-list.h","date":"2012-04-27T15:46:07.669Z","type":"message"}
{"nick":"piscisaureus_","message":"or it will never be executed","date":"2012-04-27T15:46:12.084Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T15:47:03.883Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#225 (reviewme - c42ba10 : Bert Belder): The build is still failing.","date":"2012-04-27T15:47:04.088Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/f9fcaf5...c42ba10","date":"2012-04-27T15:47:04.088Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1191357","date":"2012-04-27T15:47:04.088Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T15:47:04.088Z","type":"part"}
{"nick":"theCole","date":"2012-04-27T15:47:31.119Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: good to know.  i was wondering why it was passing when i wasn't root ;)","date":"2012-04-27T15:48:05.413Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you can run an individual test with \"run-tests <test-name>\"","date":"2012-04-27T15:48:37.212Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if the test isn't registered it wil tell you","date":"2012-04-27T15:48:45.404Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I also think that #ifdef setuid doesn't work","date":"2012-04-27T15:50:11.161Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: because that's not a preprocessor symbol","date":"2012-04-27T15:50:18.973Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-04-27T15:52:53.279Z","type":"message"}
{"nick":"isaacs","message":"i like the flags approach.  lgtm.","date":"2012-04-27T15:53:47.359Z","type":"message"}
{"nick":"theCole_","date":"2012-04-27T16:02:44.639Z","type":"join"}
{"nick":"theCole","reason":"Ping timeout: 246 seconds","date":"2012-04-27T16:04:47.322Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T16:05:59.880Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u000256c6793\u000f \u000310\u000f/ (src/unix/process.c test/test-list.h test/test-spawn.c)\u0002:\u000f Test for setuid/setgid - http://git.io/afVm-w","date":"2012-04-27T16:24:00.931Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T16:24:50.054Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#226 (reviewme - 56c6793 : Bert Belder): The build is still failing.","date":"2012-04-27T16:24:50.259Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/c42ba10...56c6793","date":"2012-04-27T16:24:50.259Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1191744","date":"2012-04-27T16:24:50.259Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T16:24:50.259Z","type":"part"}
{"nick":"orlandovftw","date":"2012-04-27T16:25:46.411Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: https://github.com/joyent/libuv/commit/56c6793d19128d0cdaf50b5081c04a769e32afc5#L0R287","date":"2012-04-27T16:30:45.232Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: shouldn't it be checking the flags?","date":"2012-04-27T16:30:49.172Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: oh that's a rogue commit","date":"2012-04-27T16:31:23.324Z","type":"message"}
{"nick":"isaacs","message":"pesky rogues.","date":"2012-04-27T16:31:33.888Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: nvm - I will ask for review when it works","date":"2012-04-27T16:31:36.018Z","type":"message"}
{"nick":"isaacs","message":"always stealin my coppers.","date":"2012-04-27T16:31:37.472Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I landed your commit to grab the test.","date":"2012-04-27T16:31:54.874Z","type":"message"}
{"nick":"isaacs","message":"ah, kewl","date":"2012-04-27T16:31:59.975Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: forgot to undo the changes to process.c","date":"2012-04-27T16:32:00.840Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: btw - the test didn't even compile :p","date":"2012-04-27T16:32:14.705Z","type":"message"}
{"nick":"isaacs","message":"really?","date":"2012-04-27T16:32:35.321Z","type":"message"}
{"nick":"isaacs","message":"oh, probably because i ifdef'd it out :)","date":"2012-04-27T16:32:44.000Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you did this","date":"2012-04-27T16:32:46.391Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-04-27T16:32:50.335Z","type":"message"}
{"nick":"piscisaureus_","message":"also","date":"2012-04-27T16:32:51.022Z","type":"message"}
{"nick":"piscisaureus_","message":"struct passwd *pwd;","date":"2012-04-27T16:33:07.256Z","type":"message"}
{"nick":"piscisaureus_","message":"x = pwd.uid","date":"2012-04-27T16:33:07.460Z","type":"message"}
{"nick":"piscisaureus_","message":"the dot has to be a ->","date":"2012-04-27T16:33:11.478Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-04-27T16:35:25.236Z","type":"message"}
{"nick":"isaacs","message":"well, the patch got you to do it better, so it had the intended effect, i guess :)","date":"2012-04-27T16:35:43.313Z","type":"message"}
{"nick":"mmalecki[ft]","new_nick":"mmalecki","date":"2012-04-27T16:38:44.777Z","type":"nick"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00028106ff4\u000f \u000310\u000f/ (test/test-list.h test/test-spawn.c)\u0002:\u000f Test for setuid/setgid - http://git.io/lCehrg","date":"2012-04-27T16:41:55.512Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- isaacs: updated. Passes on linux and windows","date":"2012-04-27T16:44:36.376Z","type":"message"}
{"nick":"piscisaureus_","message":"can you try on macos?","date":"2012-04-27T16:44:48.013Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T16:45:08.936Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#227 (reviewme - 8106ff4 : Bert Belder): The build is still failing.","date":"2012-04-27T16:45:09.137Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/56c6793...8106ff4","date":"2012-04-27T16:45:09.137Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1191893","date":"2012-04-27T16:45:09.137Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T16:45:09.137Z","type":"part"}
{"nick":"isaacs","message":"piscisaureus_: testing","date":"2012-04-27T16:46:58.259Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: btw - try to run the tests with sudo","date":"2012-04-27T16:47:37.929Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise the setuid test will be skipped","date":"2012-04-27T16:47:48.572Z","type":"message"}
{"nick":"isaacs","message":"yeah, i saw that","date":"2012-04-27T16:47:51.319Z","type":"message"}
{"nick":"benvie","date":"2012-04-27T16:47:56.519Z","type":"quit"}
{"nick":"piscisaureus_","message":"it seems nice to actually run it at least once ;-)","date":"2012-04-27T16:47:56.910Z","type":"message"}
{"nick":"isaacs","message":"i'm testing as user first, to make sure it didn't break anything else","date":"2012-04-27T16:47:59.224Z","type":"message"}
{"nick":"isaacs","message":"or at least, nothing that wasn't already broken","date":"2012-04-27T16:48:09.223Z","type":"message"}
{"nick":"isaacs","message":"fs_chown should check for root-ness","date":"2012-04-27T16:49:44.709Z","type":"message"}
{"nick":"isaacs","message":"[%   0|+  88|-  14]: fs_chown","date":"2012-04-27T16:50:09.092Z","type":"message"}
{"nick":"isaacs","message":"`fs_chown` failed: exit code 6","date":"2012-04-27T16:50:09.268Z","type":"message"}
{"nick":"isaacs","message":"Output from process `fs_chown`:","date":"2012-04-27T16:50:09.473Z","type":"message"}
{"nick":"isaacs","message":"Assertion failed in test/test-fs.c on line 194: req->result == -1","date":"2012-04-27T16:50:10.662Z","type":"message"}
{"nick":"isaacs","message":"as root","date":"2012-04-27T16:50:12.663Z","type":"message"}
{"nick":"isaacs","message":"also:","date":"2012-04-27T16:50:19.487Z","type":"message"}
{"nick":"isaacs","message":"[%   0|+  77|-  12]: spawn_setuid_fails","date":"2012-04-27T16:50:21.482Z","type":"message"}
{"nick":"isaacs","message":"`spawn_setuid_fails` failed: exit code 6","date":"2012-04-27T16:50:21.684Z","type":"message"}
{"nick":"isaacs","message":"Output from process `spawn_setuid_fails`:","date":"2012-04-27T16:50:21.884Z","type":"message"}
{"nick":"isaacs","message":"exit_cb","date":"2012-04-27T16:50:23.471Z","type":"message"}
{"nick":"isaacs","message":"Assertion failed in test/test-spawn.c on line 63: exit_status == 127","date":"2012-04-27T16:50:25.463Z","type":"message"}
{"nick":"isaacs","message":"=============================================================","date":"2012-04-27T16:50:27.521Z","type":"message"}
{"nick":"isaacs","message":"[%   0|+  77|-  13]: spawn_setgid_fails","date":"2012-04-27T16:50:29.474Z","type":"message"}
{"nick":"isaacs","message":"`spawn_setgid_fails` failed: exit code 6","date":"2012-04-27T16:50:31.464Z","type":"message"}
{"nick":"isaacs","message":"Output from process `spawn_setgid_fails`:","date":"2012-04-27T16:50:33.474Z","type":"message"}
{"nick":"isaacs","message":"exit_cb","date":"2012-04-27T16:50:35.474Z","type":"message"}
{"nick":"isaacs","message":"Assertion failed in test/test-spawn.c on line 63: exit_status == 127","date":"2012-04-27T16:50:37.466Z","type":"message"}
{"nick":"isaacs","message":"=============================================================","date":"2012-04-27T16:50:39.464Z","type":"message"}
{"nick":"isaacs","message":"which actually looks expected?  since it ought to work, so the failure test fails?","date":"2012-04-27T16:50:41.472Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: no","date":"2012-04-27T16:50:58.018Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it tries to setsid(-42424242)","date":"2012-04-27T16:51:08.535Z","type":"message"}
{"nick":"piscisaureus_","message":"er, setgid","date":"2012-04-27T16:51:12.990Z","type":"message"}
{"nick":"isaacs","message":"hm.  right","date":"2012-04-27T16:51:18.974Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so apparently that works, on mac?","date":"2012-04-27T16:51:20.663Z","type":"message"}
{"nick":"isaacs","message":"i.. guess so?","date":"2012-04-27T16:51:27.016Z","type":"message"}
{"nick":"isaacs","message":"or it's skipping it or something","date":"2012-04-27T16:51:39.308Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah that could also be the case","date":"2012-04-27T16:51:49.687Z","type":"message"}
{"nick":"isaacs","message":"but it does indeed fail properly as non-root","date":"2012-04-27T16:51:50.924Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: can you try to fix it? I have no mac os on this box ...","date":"2012-04-27T16:52:45.737Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: maybe detect root and setsid to nobody before attempting spawn","date":"2012-04-27T16:53:08.659Z","type":"message"}
{"nick":"piscisaureus_","message":"then it should fail :-)","date":"2012-04-27T16:53:11.648Z","type":"message"}
{"nick":"isaacs","message":"https://gist.github.com/2510764 ","date":"2012-04-27T16:54:06.505Z","type":"message"}
{"nick":"isaacs","message":"yep.","date":"2012-04-27T16:54:27.674Z","type":"message"}
{"nick":"isaacs","message":"os x allows this.","date":"2012-04-27T16:54:30.893Z","type":"message"}
{"nick":"isaacs","message":"i guess.","date":"2012-04-27T16:54:32.031Z","type":"message"}
{"nick":"piscisaureus_","message":"omfg","date":"2012-04-27T16:54:35.095Z","type":"message"}
{"nick":"isaacs","message":"that's not what the man page says it does, though","date":"2012-04-27T16:56:12.681Z","type":"message"}
{"nick":"isaacs","message":"also:","date":"2012-04-27T16:56:17.082Z","type":"message"}
{"nick":"isaacs","message":"$ id --  -424242","date":"2012-04-27T16:56:18.613Z","type":"message"}
{"nick":"isaacs","message":"id: -424242: no such user","date":"2012-04-27T16:56:18.916Z","type":"message"}
{"nick":"isaacs","message":"so, id is getting an enoent there","date":"2012-04-27T16:56:30.782Z","type":"message"}
{"nick":"tjfontaine","message":"there's another 42 there I think","date":"2012-04-27T16:56:33.082Z","type":"message"}
{"nick":"tjfontaine","message":"but smae result either way","date":"2012-04-27T16:56:43.137Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: yeah","date":"2012-04-27T16:56:54.388Z","type":"message"}
{"nick":"ggreer","message":"does ps show that it's running as user... whatever?","date":"2012-04-27T16:57:42.549Z","type":"message"}
{"nick":"tjfontaine","message":"ya that's what I was going to ask, bsd may allow you to make users on the fly","date":"2012-04-27T16:58:00.115Z","type":"message"}
{"nick":"isaacs","message":"getuid shows -424242 as the uid","date":"2012-04-27T16:58:17.742Z","type":"message"}
{"nick":"piscisaureus_","message":"hehe","date":"2012-04-27T16:58:24.137Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: according to the bsd man pages setuid can only fail with EPERM if you are not root","date":"2012-04-27T16:58:40.551Z","type":"message"}
{"nick":"piscisaureus_","message":"so I think it follows the spec","date":"2012-04-27T16:58:48.182Z","type":"message"}
{"nick":"tjfontaine","message":"einval doesn't necessarily imply undefined user I guess","date":"2012-04-27T16:59:22.380Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok. just reset to nobody if the user is root, before trying spawn","date":"2012-04-27T16:59:46.629Z","type":"message"}
{"nick":"isaacs","message":"hm","date":"2012-04-27T17:00:20.420Z","type":"message"}
{"nick":"isaacs","message":"it says that it'll fail with einval","date":"2012-04-27T17:00:23.925Z","type":"message"}
{"nick":"isaacs","message":"     [EINVAL]           The value of the {group,user} ID argument is invalid and is not supported by the implementation.","date":"2012-04-27T17:00:25.078Z","type":"message"}
{"nick":"mikeal","date":"2012-04-27T17:00:53.498Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: ah, right, I was looking at setgid","date":"2012-04-27T17:01:21.181Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: http://www.unix.com/man-page/FreeBSD/2/setuid/","date":"2012-04-27T17:02:02.898Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: darwin !== freebsd","date":"2012-04-27T17:02:26.889Z","type":"message"}
{"nick":"tjfontaine","message":"ps aux | grep a.out","date":"2012-04-27T17:02:43.694Z","type":"message"}
{"nick":"tjfontaine","message":"4252543054     13739  96.6  0.0  2426592    364 s005  R+    1:01PM   0:06.84 ./a.out","date":"2012-04-27T17:02:44.048Z","type":"message"}
{"nick":"tjfontaine","message":"well that uid is certainly not root","date":"2012-04-27T17:02:58.180Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: (the second = is relevant there.  it is == freebsd.)","date":"2012-04-27T17:04:52.585Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok so what should I do, or are you going to do a patch","date":"2012-04-27T17:05:57.994Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: detached spawn thing will go into 0.8, right?","date":"2012-04-27T17:06:26.573Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, i think maybe the right thing to do here is just be ok with the fact that os x lets you setuid to random uids that don't exist on the system.","date":"2012-04-27T17:06:54.779Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and skip that test if uid == 0 && DARWIN or something","date":"2012-04-27T17:07:09.086Z","type":"message"}
{"nick":"tjfontaine","message":"well I think we want to check getcap on linux","date":"2012-04-27T17:07:46.818Z","type":"message"}
{"nick":"isaacs","message":"smartos is the same as linux","date":"2012-04-27T17:08:33.950Z","type":"message"}
{"nick":"isaacs","message":"in this case","date":"2012-04-27T17:08:37.434Z","type":"message"}
{"nick":"isaacs","message":"so darwin's the only odd duck","date":"2012-04-27T17:08:43.695Z","type":"message"}
{"nick":"isaacs","message":"and probably freebsd, i'd guess, though we don't officially support it anyway, i don't think","date":"2012-04-27T17:09:04.457Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: does that sound reasonable?","date":"2012-04-27T17:12:47.705Z","type":"message"}
{"nick":"AndreasMadsen","message":"mmalecki: I just asked AvianFlu today, he says it will land in 0.8 but not before the stdio refactor has been made. ","date":"2012-04-27T17:12:49.211Z","type":"message"}
{"nick":"AvianFlu","message":"I, of course, am a lesser authority on such things than those to which the question was addressed","date":"2012-04-27T17:13:15.936Z","type":"message"}
{"nick":"AndreasMadsen","message":"AvianFlu: of course, but isaacs is a busy man","date":"2012-04-27T17:14:19.581Z","type":"message"}
{"nick":"isaacs","message":"detached processes would be nice, yes","date":"2012-04-27T17:14:33.948Z","type":"message"}
{"nick":"isaacs","message":"BY THE WAY!","date":"2012-04-27T17:14:39.928Z","type":"message"}
{"nick":"isaacs","message":"FC is slipping about a week.","date":"2012-04-27T17:14:43.388Z","type":"message"}
{"nick":"AvianFlu","message":"FC?","date":"2012-04-27T17:14:49.347Z","type":"message"}
{"nick":"isaacs","message":"so we're not quite out of time yet :)","date":"2012-04-27T17:14:49.547Z","type":"message"}
{"nick":"isaacs","message":"feature cutoff","date":"2012-04-27T17:14:54.733Z","type":"message"}
{"nick":"AvianFlu","message":"oh, gotcha","date":"2012-04-27T17:14:58.005Z","type":"message"}
{"nick":"isaacs","message":"feature complete","date":"2012-04-27T17:14:59.087Z","type":"message"}
{"nick":"AvianFlu","message":"so many acronyms, so little time","date":"2012-04-27T17:15:08.603Z","type":"message"}
{"nick":"isaacs","message":"i've been hesitant to announce a release date until we can declare feature complete.","date":"2012-04-27T17:15:31.294Z","type":"message"}
{"nick":"AvianFlu","message":"it's been a busy few weeks for me, isaacs, but I'm definitely down to help out with the stdio refactor still, if help is needed","date":"2012-04-27T17:15:35.583Z","type":"message"}
{"nick":"isaacs","message":"as it stands, there's still stuff to get done.","date":"2012-04-27T17:15:38.881Z","type":"message"}
{"nick":"AvianFlu","message":"isaacs, seems prudent","date":"2012-04-27T17:15:41.392Z","type":"message"}
{"nick":"isaacs","message":"but, my goal is to get v0.8.0 out June 1","date":"2012-04-27T17:15:51.718Z","type":"message"}
{"nick":"isaacs","message":"maybe a few weeklies before NodeConf","date":"2012-04-27T17:16:03.017Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: util.inspect with options object instead of 4 params, how does it sound?","date":"2012-04-27T17:16:23.708Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: v0.9","date":"2012-04-27T17:17:03.672Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: all this \"We need to clean up the API and change some shit to be nicer and prettier and more organized\" = v0.9","date":"2012-04-27T17:17:22.554Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: ok, I'll just open a pull request","date":"2012-04-27T17:17:35.818Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: the focus will be API sanity there.","date":"2012-04-27T17:17:37.489Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: btw, i'm not saying \"yes, that will go in v0.9\".  i'm saying, \"we should discuss that once we get v0.8 out, and fork 0.9, because that's where it would go, if we do it\"","date":"2012-04-27T17:18:10.794Z","type":"message"}
{"nick":"piscisaureus_","message":"hi jan here, i'm taking over from bert.","date":"2012-04-27T17:18:31.911Z","type":"message"}
{"nick":"piscisaureus_","message":"do we have an async printf in libuv?","date":"2012-04-27T17:18:40.993Z","type":"message"}
{"nick":"piscisaureus_","message":"cause it might block","date":"2012-04-27T17:18:44.192Z","type":"message"}
{"nick":"TooTallNate","date":"2012-04-27T17:20:31.598Z","type":"join"}
{"nick":"AndreasMadsen","message":"isaacs: will process.send be async in node 0.8?","date":"2012-04-27T17:20:32.479Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: is it now?","date":"2012-04-27T17:20:55.828Z","type":"message"}
{"nick":"isaacs","message":"(in master)","date":"2012-04-27T17:20:58.071Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: old issue, I havn't checked recently: https://github.com/joyent/node/issues/2598","date":"2012-04-27T17:21:50.086Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: nop, still fails","date":"2012-04-27T17:23:07.626Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hey","date":"2012-04-27T17:23:39.998Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: when you do console.log('bla'); and then process.exit().. and node's stdout is a pipe..  there's a race and stdout doesn't always get written","date":"2012-04-27T17:24:59.809Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: because we write to the pipe on a threadpool","date":"2012-04-27T17:25:23.710Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 260 seconds","date":"2012-04-27T17:26:13.203Z","type":"quit"}
{"nick":"AndreasMadsen","message":"isaacs: UDP using process.send would also be nice, since it would allow UDP support in cluster.","date":"2012-04-27T17:26:23.005Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: yeah, it'd be nice, but not for v0.8","date":"2012-04-27T17:26:54.926Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: and, unless it's easy (which it might be after stdio refactoring), send is going to stay sync, probably, as well.","date":"2012-04-27T17:27:11.056Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: it's painful sometimes, but you have to draw a line at some point, or else it'll never goout.","date":"2012-04-27T17:27:44.590Z","type":"message"}
{"nick":"isaacs","message":"*never go out","date":"2012-04-27T17:27:47.492Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: true, ben was just assigned to the UDP support, so I assumed it would be in node 0.8. ","date":"2012-04-27T17:28:25.186Z","type":"message"}
{"nick":"AndreasMadsen","message":"^ https://github.com/joyent/node/issues/2194","date":"2012-04-27T17:28:43.016Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: https://github.com/joyent/node/issues?milestone=10&state=open","date":"2012-04-27T17:29:14.328Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: that's v0.8 remaining issues","date":"2012-04-27T17:29:19.748Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: thanks. I hope the improved process.send will be on that list too. (https://github.com/joyent/node/pull/2772)","date":"2012-04-27T17:30:37.443Z","type":"message"}
{"nick":"bnoordhuis","message":"AndreasMadsen: i believe the blocker for #2194 is that it's not so easy to implement on windows","date":"2012-04-27T17:31:05.228Z","type":"message"}
{"nick":"bnoordhuis","message":"it would require a fair amount of rework in libuv at any rate","date":"2012-04-27T17:31:24.393Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: oh, whoops, there's a comment from me from 12 days ago saying i'd review it tomorrow.","date":"2012-04-27T17:32:04.216Z","type":"message"}
{"nick":"isaacs","action":"off to review it now...","date":"2012-04-27T17:32:09.328Z","type":"action"}
{"nick":"AndreasMadsen","message":"bnoordhuis: I can perfectly live without it, but the amount of mails I get about that makes me sad :(","date":"2012-04-27T17:32:29.348Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: I'm only so big a pain because I know appreciate it.","date":"2012-04-27T17:33:39.450Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T17:35:00.312Z","type":"quit"}
{"nick":"benvie","date":"2012-04-27T17:37:10.374Z","type":"join"}
{"nick":"isaacs","message":"AndreasMadsen: tell them that i said we can't have async process.send until it makes bnoordhuis happy.","date":"2012-04-27T17:37:20.487Z","type":"message"}
{"nick":"brson","date":"2012-04-27T17:37:35.624Z","type":"join"}
{"nick":"AndreasMadsen","message":"isaacs: process.send is only killing me, it is the UDP support there is the reason behind so many mails.","date":"2012-04-27T17:38:47.387Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: same answer :)","date":"2012-04-27T17:38:58.279Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: not until it makes bnoordhuis happy","date":"2012-04-27T17:39:09.498Z","type":"message"}
{"nick":"AndreasMadsen","message":":D","date":"2012-04-27T17:39:21.443Z","type":"message"}
{"nick":"bnoordhuis","message":"i can be bribed with beer","date":"2012-04-27T17:39:40.211Z","type":"message"}
{"nick":"isaacs","message":"I didn't say drunk.  I said happy.","date":"2012-04-27T17:40:17.213Z","type":"message"}
{"nick":"AndreasMadsen","message":"bnoordhuis: any paypal account I can link to?","date":"2012-04-27T17:40:33.656Z","type":"message"}
{"nick":"isaacs","message":"If all people had to do was get you drunk to get features into node, it'd be php i no time.","date":"2012-04-27T17:40:36.285Z","type":"message"}
{"nick":"isaacs","message":"AndreasMadsen: there's a \"useing\" in there.  should be \"using\"","date":"2012-04-27T17:42:25.427Z","type":"message"}
{"nick":"dap","date":"2012-04-27T17:42:36.314Z","type":"join"}
{"nick":"mikeal","date":"2012-04-27T17:43:07.075Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: hey","date":"2012-04-27T17:43:09.068Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we just figured out that a pipe stdout on unix is also blocking","date":"2012-04-27T17:43:26.509Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah, there's an issue here","date":"2012-04-27T17:43:33.343Z","type":"message"}
{"nick":"AndreasMadsen","action":"eating","date":"2012-04-27T17:43:54.264Z","type":"action"}
{"nick":"piscisaureus_","message":"igorzi: the problem is that if node spawns node and there's a pipe in between, you want stdout to be async","date":"2012-04-27T17:44:05.824Z","type":"message"}
{"nick":"piscisaureus_","message":"because when node pauses the child_process' stdout then the child process might block indefinitely at process.stdout.write","date":"2012-04-27T17:44:31.345Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so if you have a great idea what to do here, please tell me :-)","date":"2012-04-27T17:44:42.011Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: btw, you are experiencing this issue?","date":"2012-04-27T17:44:50.757Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-04-27T17:46:47.854Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: is the option called `sid` or `setsid` in nide?","date":"2012-04-27T17:52:04.357Z","type":"message"}
{"nick":"piscisaureus_","message":"*node","date":"2012-04-27T17:52:05.851Z","type":"message"}
{"nick":"piscisaureus_","message":"I could not find it","date":"2012-04-27T17:52:11.653Z","type":"message"}
{"nick":"isaacs","message":"uid","date":"2012-04-27T17:52:36.195Z","type":"message"}
{"nick":"isaacs","message":"uid is an int that sets the uid","date":"2012-04-27T17:52:47.131Z","type":"message"}
{"nick":"isaacs","message":"setsid is/was a boolean that tells it to set a new session id","date":"2012-04-27T17:52:58.050Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we want that back as well?","date":"2012-04-27T17:53:08.526Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: sure","date":"2012-04-27T17:53:23.966Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think I am leaving it out... it should be put back in 0.8 as part of the daemonization stuff","date":"2012-04-27T17:53:26.006Z","type":"message"}
{"nick":"isaacs","message":"oh, yeah, for 0.6, no","date":"2012-04-27T17:53:38.129Z","type":"message"}
{"nick":"isaacs","message":"for 0.8 it should be back if it's not too hard","date":"2012-04-27T17:53:46.230Z","type":"message"}
{"nick":"AvianFlu","message":"it was a dummy option in 0.6 (setsid)","date":"2012-04-27T17:53:50.376Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: yeah, it didn't actually do anything.","date":"2012-04-27T17:56:03.447Z","type":"message"}
{"nick":"isaacs","message":"i thought it did in 0.4","date":"2012-04-27T17:56:08.589Z","type":"message"}
{"nick":"AvianFlu","message":"it did in 0.4","date":"2012-04-27T17:56:26.631Z","type":"message"}
{"nick":"AvianFlu","message":"but in 0.6, it wasn't in libuv, and the option only existed in js","date":"2012-04-27T17:56:40.042Z","type":"message"}
{"nick":"AvianFlu","message":"vestigial would be a good word for it","date":"2012-04-27T17:56:54.341Z","type":"message"}
{"nick":"AvianFlu","message":"setsid() is needed for the unix end of the daemonization stuff, but I'd be more in favor of a less-unixy name for the option (like detached)","date":"2012-04-27T17:57:28.784Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-04-27T17:58:02.566Z","type":"message"}
{"nick":"piscisaureus_","message":"later","date":"2012-04-27T17:58:04.566Z","type":"message"}
{"nick":"piscisaureus_","message":"I am under time pressure","date":"2012-04-27T17:58:08.100Z","type":"message"}
{"nick":"piscisaureus_","message":"I have to go in 1 hour","date":"2012-04-27T17:58:12.196Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: bad news on the slab allocator fix.  There's a leak somewhere.","date":"2012-04-27T18:00:02.183Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: oh?","date":"2012-04-27T18:00:09.953Z","type":"message"}
{"nick":"mjr_","message":"https://skitch.com/mranney/8sc96/circonus-view-graph","date":"2012-04-27T18:00:10.756Z","type":"message"}
{"nick":"mjr_","message":"The purple line there is the machine with the patch, and the other 20 or so lines on top of each other are v0.6 with just no idle.","date":"2012-04-27T18:00:37.593Z","type":"message"}
{"nick":"mjr_","message":"29 other machines I guess.","date":"2012-04-27T18:00:47.355Z","type":"message"}
{"nick":"tjfontaine","message":"how many servers have the gc idle patch?","date":"2012-04-27T18:01:38.978Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-27T18:02:37.562Z","type":"quit"}
{"nick":"bnoordhuis","message":"back to the drawing board, i guess...","date":"2012-04-27T18:03:04.427Z","type":"message"}
{"nick":"mjr_","message":"tjfontaine: all servers in production have the GC idle patch.  It is an unqualified success.","date":"2012-04-27T18:04:52.915Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2012-04-27T18:04:59.698Z","type":"message"}
{"nick":"erickt","date":"2012-04-27T18:09:16.956Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: yeah we're running into this","date":"2012-04-27T18:13:44.392Z","type":"message"}
{"nick":"piscisaureus_","message":"AvianFlu: agreed that setsid is not a proper name","date":"2012-04-27T18:13:47.318Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: maybe there should be a way to flush stdout (or timeout) before process.exit ?","date":"2012-04-27T18:14:24.448Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i guess we can do fs.write(1)","date":"2012-04-27T18:14:35.608Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah that would work too I think","date":"2012-04-27T18:14:52.820Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I don't have much time now to discuss this...","date":"2012-04-27T18:15:18.266Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: k, no problem.. thx","date":"2012-04-27T18:15:31.665Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: nobody really knows what to deal with it; creationix ran into the same problem but the other way round (his problem was that on unix stdout *is* blocking)","date":"2012-04-27T18:15:57.449Z","type":"message"}
{"nick":"pfox___","date":"2012-04-27T18:16:19.935Z","type":"join"}
{"nick":"orlandovftw","date":"2012-04-27T18:16:25.160Z","type":"join"}
{"nick":"pfox___","message":"hey.. so.. uv_loop_refcount() .. i see the admonition in uv.h against treating it as public API","date":"2012-04-27T18:16:39.788Z","type":"message"}
{"nick":"pfox___","message":"is it going anywhere, mid/long-term?","date":"2012-04-27T18:16:53.910Z","type":"message"}
{"nick":"theCole_","reason":"Quit: theCole_","date":"2012-04-27T18:17:10.845Z","type":"quit"}
{"nick":"bnoordhuis","message":"pfox___: it's already removed in the refcount branch","date":"2012-04-27T18:17:54.336Z","type":"message"}
{"nick":"pfox___","message":"ok.","date":"2012-04-27T18:18:15.671Z","type":"message"}
{"nick":"pfox___","message":"so..","date":"2012-04-27T18:18:23.642Z","type":"message"}
{"nick":"pfox___","message":"how do downstream users observe the loop's state in terms of what would be required to forcefully tear it down?","date":"2012-04-27T18:18:46.745Z","type":"message"}
{"nick":"pfox___","message":"like a refcount.. handles for the loop, etc","date":"2012-04-27T18:18:59.050Z","type":"message"}
{"nick":"CoverSlide","reason":"Read error: Connection reset by peer","date":"2012-04-27T18:19:14.079Z","type":"quit"}
{"nick":"pfox___","message":"im in a situation where, in order to make libuv jive w/ rust's task-based idiom.. i have to create an async handle that users can use to poke the loop from other threads","date":"2012-04-27T18:19:48.695Z","type":"message"}
{"nick":"pfox___","message":"and since libuv has platform inconsistent behavior for how a uv_unref()'d async handle that has had async_send() called against behaves, once uv_run() is called.. i can't unref that handle","date":"2012-04-27T18:20:18.039Z","type":"message"}
{"nick":"AndreasMadsen","message":"isaacs: :(, that was my the weekly spell focus some weeks ago - will fix.","date":"2012-04-27T18:20:27.718Z","type":"message"}
{"nick":"pfox___","message":"so i have no know, when the process is ready to exit (everything that isn't libuv's thread, that is), whether libuv will exit if i unref the async handle in question","date":"2012-04-27T18:20:59.687Z","type":"message"}
{"nick":"pfox___","message":"before, i intended to just assert uv_loop_refcount(loop_ptr) == 0","date":"2012-04-27T18:21:15.748Z","type":"message"}
{"nick":"pfox___","message":"because rolling my own refcount scheme just because of this implementation kind of sucks.","date":"2012-04-27T18:21:44.715Z","type":"message"}
{"nick":"pfox___","message":"so, yeah. that's my situation. any thoughts or insights would be appreciated.","date":"2012-04-27T18:22:12.428Z","type":"message"}
{"nick":"mmalecki","new_nick":"mmalecki[party]","date":"2012-04-27T18:22:30.285Z","type":"nick"}
{"nick":"creationix","date":"2012-04-27T18:23:32.443Z","type":"join"}
{"nick":"piscisaureus_","message":"pfox___: I don't understand it... do you know when you won't need the loop any more?","date":"2012-04-27T18:24:44.158Z","type":"message"}
{"nick":"pfox___","message":"piscisaureus_: yes.","date":"2012-04-27T18:24:56.071Z","type":"message"}
{"nick":"pfox___","message":"at the runtime level","date":"2012-04-27T18:25:08.578Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: so why not send an uv_async_send to that loop","date":"2012-04-27T18:25:10.559Z","type":"message"}
{"nick":"pfox___","message":"i don't understand","date":"2012-04-27T18:25:49.091Z","type":"message"}
{"nick":"piscisaureus_","message":"and in the async callback unref the async handle","date":"2012-04-27T18:26:01.108Z","type":"message"}
{"nick":"pfox___","message":"unref'ing the async handle isn't the issue","date":"2012-04-27T18:26:11.936Z","type":"message"}
{"nick":"pfox___","message":"it's how can i know whether or not uv_run() will return after i do uv_close()","date":"2012-04-27T18:26:26.032Z","type":"message"}
{"nick":"pfox___","message":"because if i just go on uv_close() it and the loop hangs, then the process hangs","date":"2012-04-27T18:26:41.665Z","type":"message"}
{"nick":"pfox___","message":"id rather just force a segfault if the loop isn't going to exit","date":"2012-04-27T18:26:57.189Z","type":"message"}
{"nick":"brson","message":"it's just for a sanity check","date":"2012-04-27T18:27:41.213Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: ah right. I suppose that should be possible.","date":"2012-04-27T18:27:45.492Z","type":"message"}
{"nick":"mjr_","reason":"Remote host closed the connection","date":"2012-04-27T18:27:54.554Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Marcel Laverdet\u000f \u000307master\u000f * r\u00027063575\u000f \u000310\u000f/ src/node_script.cc \u0002:\u000f ","date":"2012-04-27T18:28:06.616Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Cleanup vm module memory leakage","date":"2012-04-27T18:28:06.616Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f There are some paths here that led to dangling contexts. By being","date":"2012-04-27T18:28:06.617Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f smarter with handle management we can get rid of all the cleanup code","date":"2012-04-27T18:28:06.617Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f and fix those issues. - http://git.io/bCmcZw","date":"2012-04-27T18:28:06.617Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: maybe we can have some sort of API for that","date":"2012-04-27T18:28:07.439Z","type":"message"}
{"nick":"mjr_","date":"2012-04-27T18:28:10.355Z","type":"join"}
{"nick":"piscisaureus_","message":"pfox___: but you should know that after the refcount refactor is done, loop hangs are history","date":"2012-04-27T18:28:40.944Z","type":"message"}
{"nick":"pfox___","message":"how so?","date":"2012-04-27T18:29:03.717Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: do you have any idea what could cause that leak? i'm running some benchmarks but memory usage is all very stable","date":"2012-04-27T18:29:22.181Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: well, because the loop will always exit when there's nothing more to do","date":"2012-04-27T18:29:29.392Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: I do not, but this is a very aggressive stress test application.","date":"2012-04-27T18:29:43.923Z","type":"message"}
{"nick":"pfox___","message":"really. hm.","date":"2012-04-27T18:29:52.225Z","type":"message"}
{"nick":"mjr_","message":"It processes 3K packets / sec in normal operation.","date":"2012-04-27T18:29:54.694Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: please post an issue.","date":"2012-04-27T18:29:56.951Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: I am a little too busy right now but I agree that sanity checks are sane :-)","date":"2012-04-27T18:30:09.560Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: maybe comment on the refcount refactor issue","date":"2012-04-27T18:30:25.681Z","type":"message"}
{"nick":"pfox___","message":"how is the overall API affected by the refcount refactor?","date":"2012-04-27T18:30:37.921Z","type":"message"}
{"nick":"pfox___","message":"because \"just exit when there's no work\" is kind of.. i dunno. different?","date":"2012-04-27T18:30:52.600Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: yes","date":"2012-04-27T18:30:57.752Z","type":"message"}
{"nick":"pfox___","message":"so what use is a uv_async_t*?","date":"2012-04-27T18:31:04.095Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: look up the issue in the issue tracker","date":"2012-04-27T18:31:05.626Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: ah, uv_async_t will keep the loop alive","date":"2012-04-27T18:31:26.272Z","type":"message"}
{"nick":"pfox___","message":"whats the ticket #?","date":"2012-04-27T18:31:28.704Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: github has good search.","date":"2012-04-27T18:32:01.914Z","type":"message"}
{"nick":"piscisaureus_","message":"https://github.com/joyent/libuv/issues/347","date":"2012-04-27T18:32:02.119Z","type":"message"}
{"nick":"pfox___","message":"ty","date":"2012-04-27T18:32:15.019Z","type":"message"}
{"nick":"pfox___","message":"ok. uv_async_t is always active","date":"2012-04-27T18:32:57.023Z","type":"message"}
{"nick":"pfox___","message":"so my use case won't change","date":"2012-04-27T18:33:02.493Z","type":"message"}
{"nick":"pfox___","message":"so is uv_close() optional, now?","date":"2012-04-27T18:34:08.504Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: no","date":"2012-04-27T18:34:20.099Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: https://github.com/bnoordhuis/node/compare/slab-allocator%5E%5E...slab-allocator <- quick sanity check, can you test that with e.g. `node --expose-gc benchmark/http_simple_auto.js -q -t 30 -c 100 bytes/1024`?","date":"2012-04-27T18:34:24.214Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: sorry. I am too busy. I am going to ignore you now","date":"2012-04-27T18:34:28.059Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: ping me later","date":"2012-04-27T18:34:35.077Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: it assumes ab is installed and dumps some memory stats at the end","date":"2012-04-27T18:34:44.876Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: he's such a charming fella, isn't he, our piscisaureus_? :)","date":"2012-04-27T18:35:08.931Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: so you mean do expose-gc with my program?","date":"2012-04-27T18:35:15.992Z","type":"message"}
{"nick":"pfox___","message":"im used to dealing with aspies, its alright","date":"2012-04-27T18:35:46.695Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: no, just node (the version that contains the slab allocator)","date":"2012-04-27T18:35:46.897Z","type":"message"}
{"nick":"mjr_","message":"Sure, I reverted that machine already, but I can rebuild and try that.","date":"2012-04-27T18:36:51.219Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: i want to make sure you're seeing roughly the same numbers that i'm seeing","date":"2012-04-27T18:38:18.890Z","type":"message"}
{"nick":"piscisaureus_","message":"pfox___: that is kinda unwarranted...","date":"2012-04-27T18:39:34.975Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024e84dfa\u000f \u000310\u000f/ benchmark/http_simple_auto.js \u0002:\u000f bench: run GC and dump stats if --expose-gc is set - http://git.io/8laj9Q","date":"2012-04-27T18:40:37.223Z","type":"message"}
{"nick":"pfox___","message":"piscisaureus_: in all honesty, you are a very casually disrespectful person. i don't take it personal, but it does make it difficult to interact with you.","date":"2012-04-27T18:40:46.502Z","type":"message"}
{"nick":"pfox___","message":"but, i apologize for my words. it was unwarranted.","date":"2012-04-27T18:40:56.912Z","type":"message"}
{"nick":"mikeal","date":"2012-04-27T18:40:57.114Z","type":"join"}
{"nick":"bnoordhuis","message":"pfox___: keep in mind he's dutch","date":"2012-04-27T18:41:28.066Z","type":"message"}
{"nick":"pfox___","message":"and not a \"i'm sorry you're offended\" non-apology., either","date":"2012-04-27T18:41:34.949Z","type":"message"}
{"nick":"bnoordhuis","message":"bluntness is considered a virtue here","date":"2012-04-27T18:42:05.804Z","type":"message"}
{"nick":"pfox___","message":"noted.","date":"2012-04-27T18:42:24.897Z","type":"message"}
{"nick":"pfox___","message":"yay me, caused a scene.","date":"2012-04-27T18:42:28.901Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that's nothing","date":"2012-04-27T18:42:54.165Z","type":"message"}
{"nick":"bnoordhuis","message":"you should see me when i'm idling in #php","date":"2012-04-27T18:43:00.516Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: re refcount refactor, the idea is that handles that are not actually doing anything don't keep the event loop alive","date":"2012-04-27T18:43:31.124Z","type":"message"}
{"nick":"bnoordhuis","message":"turns out reffing at handle creation and unreffing at close wasn't such a hot idea, caused a lot of bugs","date":"2012-04-27T18:44:21.755Z","type":"message"}
{"nick":"pfox___","message":"interesting.","date":"2012-04-27T18:44:57.596Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002f6a8957\u000f \u000310\u000f/ (test/test-list.h test/test-spawn.c)\u0002:\u000f Test for setuid/setgid - http://git.io/EZ4o9g","date":"2012-04-27T18:45:00.099Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_async_t is something of an odd duck though, it's always active","date":"2012-04-27T18:45:02.751Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T18:46:47.995Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#228 (reviewme - f6a8957 : Bert Belder): The build is still failing.","date":"2012-04-27T18:46:48.202Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/8106ff4...f6a8957","date":"2012-04-27T18:46:48.202Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1192677","date":"2012-04-27T18:46:48.202Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T18:46:48.202Z","type":"part"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00029ea9862\u000f \u000310\u000f/ (test/test-list.h test/test-spawn.c)\u0002:\u000f Test for setuid/setgid - http://git.io/klA6Jg","date":"2012-04-27T18:47:38.122Z","type":"message"}
{"nick":"pfox___","message":"yeah.. like i said.. our use case doesn't change, which is good (i guess?)","date":"2012-04-27T18:47:57.816Z","type":"message"}
{"nick":"pfox___","message":"whats the timeframe for landing this? node 0.9?","date":"2012-04-27T18:48:22.335Z","type":"message"}
{"nick":"bnoordhuis","message":"pfox___: it's scheduled to go into 0.8","date":"2012-04-27T18:48:34.609Z","type":"message"}
{"nick":"pfox___","message":"so soon.","date":"2012-04-27T18:48:46.307Z","type":"message"}
{"nick":"pfox___","message":"ok. yeah.. our branch in rust is pretty old.","date":"2012-04-27T18:48:54.979Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T18:49:24.508Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#229 (reviewme - 9ea9862 : Bert Belder): The build is still failing.","date":"2012-04-27T18:49:24.715Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/f6a8957...9ea9862","date":"2012-04-27T18:49:24.715Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1192693","date":"2012-04-27T18:49:24.715Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T18:49:24.715Z","type":"part"}
{"nick":"piscisaureus_","message":"isaacs: can you try if the latest reviemwe branch passes the setgid-fails test on mac","date":"2012-04-27T18:50:40.070Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: (when run as sudo)","date":"2012-04-27T18:50:48.231Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I'd like to drop this and then finish the node stuff.","date":"2012-04-27T18:50:55.859Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: ran some more tests, i can't reproduce anything that's remotely close to what you're seeing","date":"2012-04-27T18:54:46.410Z","type":"message"}
{"nick":"mjr_","message":"In a meeting, but I'll get back to it.","date":"2012-04-27T18:56:01.701Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: could be an artifact of the backport? or you were testing on the backport?","date":"2012-04-27T18:56:05.578Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: it made all of our processes leak, it seems.","date":"2012-04-27T18:56:20.564Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: running tests as sudo now...","date":"2012-04-27T18:56:32.463Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: yes, testing the backport","date":"2012-04-27T18:57:16.108Z","type":"message"}
{"nick":"pfox___","message":"https://github.com/joyent/libuv/issues/391","date":"2012-04-27T18:58:25.711Z","type":"message"}
{"nick":"felixge","date":"2012-04-27T18:59:36.569Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-04-27T18:59:36.831Z","type":"quit"}
{"nick":"felixge","date":"2012-04-27T18:59:37.029Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: ","date":"2012-04-27T19:04:20.045Z","type":"message"}
{"nick":"isaacs","message":"[%   0|+  80|-  12]: spawn_setuid_setgid","date":"2012-04-27T19:04:22.621Z","type":"message"}
{"nick":"isaacs","message":"`spawn_setuid_setgid` failed: exit code 6","date":"2012-04-27T19:04:22.825Z","type":"message"}
{"nick":"isaacs","message":"Output from process `spawn_setuid_setgid`:","date":"2012-04-27T19:04:22.825Z","type":"message"}
{"nick":"isaacs","message":"Assertion failed in test/test-spawn.c on line 519: pw == NULL","date":"2012-04-27T19:04:24.138Z","type":"message"}
{"nick":"isaacs","message":"=============================================================","date":"2012-04-27T19:04:26.140Z","type":"message"}
{"nick":"piscisaureus_","message":"ah crap","date":"2012-04-27T19:04:32.113Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: otherwise looks the same as v0.6","date":"2012-04-27T19:04:33.145Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's the only one?","date":"2012-04-27T19:04:38.630Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think I made a type in an assert :-)","date":"2012-04-27T19:04:46.720Z","type":"message"}
{"nick":"isaacs","message":"  pw = getpwnam(\"nobody\");","date":"2012-04-27T19:05:04.427Z","type":"message"}
{"nick":"isaacs","message":"  ASSERT(pw == NULL);","date":"2012-04-27T19:05:04.627Z","type":"message"}
{"nick":"isaacs","message":"yeah, certainly looks like a typo :)","date":"2012-04-27T19:05:09.817Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok, so I will change that and land on 0.6","date":"2012-04-27T19:05:24.628Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am pretty positive that it is correct otherwise","date":"2012-04-27T19:05:34.568Z","type":"message"}
{"nick":"isaacs","message":"yeah, lgtm","date":"2012-04-27T19:06:15.829Z","type":"message"}
{"nick":"isaacs","message":"thanks","date":"2012-04-27T19:06:18.605Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002c42ba10\u000f \u000310\u000f/ (6 files in 5 dirs)\u0002:\u000f Temporary API to support spawn with uid and gid options - http://git.io/AkOFIQ","date":"2012-04-27T19:06:32.508Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u000266647bf\u000f \u000310\u000f/ (test/test-list.h test/test-spawn.c)\u0002:\u000f Test for setuid/setgid - http://git.io/5c4Exg","date":"2012-04-27T19:06:32.708Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T19:08:17.455Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#230 (v0.6 - 66647bf : Bert Belder): The build is still failing.","date":"2012-04-27T19:08:17.661Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/06ae804...66647bf","date":"2012-04-27T19:08:17.661Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1192892","date":"2012-04-27T19:08:17.661Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T19:08:17.661Z","type":"part"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-04-27T19:12:40.768Z","type":"quit"}
{"nick":"theCole","date":"2012-04-27T19:13:48.058Z","type":"join"}
{"nick":"`3rdEden","date":"2012-04-27T19:22:47.015Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002aea5db5\u000f \u000310\u000f/ src/win/error.c \u0002:\u000f Windows: add mappings for UV_ENOENT - http://git.io/W1CjJA","date":"2012-04-27T19:25:14.213Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T19:26:57.324Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#231 (v0.6 - aea5db5 : Bert Belder): The build is still failing.","date":"2012-04-27T19:26:57.526Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/66647bf...aea5db5","date":"2012-04-27T19:26:57.526Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1192957","date":"2012-04-27T19:26:57.526Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T19:26:57.526Z","type":"part"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u00029e5216f\u000f \u000310\u000f/ (15 files in 7 dirs)\u0002:\u000f uv: upgrade to aea5db5da1 - http://git.io/VNpxUQ","date":"2012-04-27T19:29:08.629Z","type":"message"}
{"nick":"piscisaureus_","message":"crap","date":"2012-04-27T19:29:26.634Z","type":"message"}
{"nick":"piscisaureus_","message":"force push coming up","date":"2012-04-27T19:29:29.847Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002e221cd4\u000f \u000310\u000f/ (14 files in 6 dirs)\u0002:\u000f uv: upgrade to aea5db5da1 - http://git.io/TK7Fxg","date":"2012-04-27T19:29:53.620Z","type":"message"}
{"nick":"mmalecki[party]","new_nick":"mmalecki","date":"2012-04-27T19:31:21.000Z","type":"nick"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-04-27T19:37:32.092Z","type":"quit"}
{"nick":"theCole","date":"2012-04-27T19:47:39.834Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002d41cc91\u000f \u000310\u000f/ (src/win/process.c test/test-spawn.c)\u0002:\u000f Windows: uv_spawn2 reports the wrong error when setuid/setgid is specified - http://git.io/xeVBZg","date":"2012-04-27T19:59:37.220Z","type":"message"}
{"nick":"ira","message":"Can I drop master libuv into node 0.6.15 without issue, for testing?","date":"2012-04-27T20:01:08.798Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T20:01:21.507Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#232 (v0.6 - d41cc91 : Bert Belder): The build is still failing.","date":"2012-04-27T20:01:21.713Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/aea5db5...d41cc91","date":"2012-04-27T20:01:21.713Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1193139","date":"2012-04-27T20:01:21.713Z","type":"message"}
{"nick":"travis-ci","date":"2012-04-27T20:01:21.714Z","type":"part"}
{"nick":"ira","message":"Or is there another branch etc, I should use?","date":"2012-04-27T20:01:28.799Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u00020b75eee\u000f \u000310\u000f/ (deps/uv/src/win/process.c deps/uv/test/test-spawn.c)\u0002:\u000f uv: upgrade to d41cc9118d - http://git.io/EXraPw","date":"2012-04-27T20:01:47.413Z","type":"message"}
{"nick":"isaacs","message":"ira: i'd expect a lot of failure if you do that","date":"2012-04-27T20:04:08.419Z","type":"message"}
{"nick":"isaacs","message":"ira: libuv master goes with node master","date":"2012-04-27T20:04:16.071Z","type":"message"}
{"nick":"isaacs","message":"ira: libuv v0.6 goes with node v0.6","date":"2012-04-27T20:04:22.112Z","type":"message"}
{"nick":"ira","message":"For contribution, either is accepable?","date":"2012-04-27T20:04:55.847Z","type":"message"}
{"nick":"isaacs","message":"ira: sure, but just know that contributing to v0.6 means it'll only be in v0.6 :)","date":"2012-04-27T20:06:16.336Z","type":"message"}
{"nick":"isaacs","message":"ira: we do usually pull into master","date":"2012-04-27T20:06:22.605Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u000251e66ec\u000f \u000310\u000f/ common.gypi \u0002:\u000f ","date":"2012-04-27T20:06:58.450Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Windows: turn off /Gm","date":"2012-04-27T20:06:58.450Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Otherwise multicode compile doesn't work. - http://git.io/Fxt82A","date":"2012-04-27T20:06:58.450Z","type":"message"}
{"nick":"isaacs","message":"ira: contributing to master => only for node v0.7+","date":"2012-04-27T20:07:00.457Z","type":"message"}
{"nick":"ira","message":"Ok, that makes sense.  If you need a 0.7 version ping me.  I'd like it in both.","date":"2012-04-27T20:10:30.770Z","type":"message"}
{"nick":"ira","message":"(Once I have it up.)","date":"2012-04-27T20:10:41.990Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u000255e4d54\u000f \u000310\u000f/ (lib/child_process.js src/process_wrap.cc)\u0002:\u000f Child process: support the `gid` and `uid` options (+172 more commits...) - http://git.io/nMKCZQ","date":"2012-04-27T20:14:05.050Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: bnoordhuis: can you review https://github.com/joyent/node/commit/55e4d54927536e6f796de87c0ab266a74b9e1c81 ?","date":"2012-04-27T20:14:29.118Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: bnoordhuis: unfortunately I have no time to write a test now - but there are tests in libuv","date":"2012-04-27T20:14:42.897Z","type":"message"}
{"nick":"isaacs","message":"reading","date":"2012-04-27T20:16:32.621Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'll write a test if you finish the refcount refactor <3","date":"2012-04-27T20:16:33.122Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hahaha","date":"2012-04-27T20:16:43.313Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ga buiten spelen","date":"2012-04-27T20:16:47.718Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-04-27T20:16:53.417Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: is your application a http server, client, something else?","date":"2012-04-27T20:18:25.512Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: well, since I'm doing UDP, it's not exactly a web server.  :)","date":"2012-04-27T20:19:09.047Z","type":"message"}
{"nick":"mjr_","message":"It's a metrics collection and aggregation framework.","date":"2012-04-27T20:19:24.637Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, one more benchmark i need to write","date":"2012-04-27T20:20:06.130Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm stress-testing the slab allocator with http traffic","date":"2012-04-27T20:20:35.339Z","type":"message"}
{"nick":"bnoordhuis","message":"i might be persuaded to believe that node's http client either leaks or hits a GC worst case","date":"2012-04-27T20:20:56.745Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: testing","date":"2012-04-27T20:21:03.407Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: but another server I have that also leaked is HTTP.","date":"2012-04-27T20:21:08.214Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: oh, here's something similar about both of them though, they each manage a pool of Buffer objects explicitly.","date":"2012-04-27T20:21:28.939Z","type":"message"}
{"nick":"mjr_","message":"Other HTTP servers with the same node executable didn't have the same bloat, but perhaps I didn't wait long enough.","date":"2012-04-27T20:21:57.802Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: interesting. how and what exactly do they manage?","date":"2012-04-27T20:21:58.329Z","type":"message"}
{"nick":"mjr_","message":"Let me find some code","date":"2012-04-27T20:24:21.166Z","type":"message"}
{"nick":"mjr_","message":"manage is a strong word.","date":"2012-04-27T20:24:38.537Z","type":"message"}
{"nick":"mjr_","message":"They each explicitly allocate Buffer objects to work with.","date":"2012-04-27T20:24:48.749Z","type":"message"}
{"nick":"mjr_","message":"The metrics process needs a Buffer to write into because its doing a UDP protocol","date":"2012-04-27T20:25:08.267Z","type":"message"}
{"nick":"txdv","message":"between alloc_cb and the callback of a calback, is there the possibility that alloc_cb for another event will be called inbetween?","date":"2012-04-27T20:25:22.696Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no","date":"2012-04-27T20:25:40.675Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: but the other process keeps 4K buffers in memory while a file is being uploaded, then writes those to disk when the buffer fills up.","date":"2012-04-27T20:26:05.973Z","type":"message"}
{"nick":"txdv","message":"so I can go with the one buffer for the entire loop except if I want to use some data in it, like if I want to send it to another socket - ill have to copy from it, right?","date":"2012-04-27T20:26:43.929Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: so there's potentially more involved than just network i/o?","date":"2012-04-27T20:27:38.846Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: yes, that's correct","date":"2012-04-27T20:27:59.912Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: git grep slab test - we use the same technique in a lot of our tests","date":"2012-04-27T20:28:31.216Z","type":"message"}
{"nick":"mjr_","message":"Yeah, all of these processes do some kind of logic.   The ones that bloated though are both calling new Buffer() at some point, although that could be nothing.","date":"2012-04-27T20:28:35.625Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: you don't happen to have some simple test case i can run, right?","date":"2012-04-27T20:29:20.301Z","type":"message"}
{"nick":"mjr_","message":"I have a test driver, but it doesn't exhibit the problem.","date":"2012-04-27T20:30:06.255Z","type":"message"}
{"nick":"mjr_","message":"Tricky","date":"2012-04-27T20:30:12.961Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:32:25.894Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:32:34.738Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:33:13.388Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:33:20.472Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:36:42.208Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:36:48.491Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:37:37.892Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:37:43.560Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:38:25.075Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:38:30.662Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-04-27T20:39:57.453Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u000255e4d54\u000f \u000310\u000f/ (lib/child_process.js src/process_wrap.cc)\u0002:\u000f Child process: support the `gid` and `uid` options - http://git.io/nMKCZQ","date":"2012-04-27T20:41:15.786Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:41:33.446Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:41:38.201Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: thanks!","date":"2012-04-27T20:42:30.987Z","type":"message"}
{"nick":"isaacs","message":"ok, anything else to go into 0.6.16?","date":"2012-04-27T20:47:27.878Z","type":"message"}
{"nick":"piscisaureus_","message":"nonblocking stdout pipes :-p","date":"2012-04-27T20:48:06.240Z","type":"message"}
{"nick":"ira","message":"Nah, I need a code review for fs.watch stuff, but I don't think you'll want it that quick ;)","date":"2012-04-27T20:48:27.467Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:48:43.919Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:48:49.612Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:51:01.681Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-04-27T20:51:11.062Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-04-27T20:56:28.771Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: i don't think that can be in 0.6","date":"2012-04-27T20:56:45.083Z","type":"message"}
{"nick":"isaacs","message":"even though it would be nice :)","date":"2012-04-27T20:56:51.853Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well.. the feature is questionable","date":"2012-04-27T20:57:02.667Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but now we have platform incompatibilities","date":"2012-04-27T20:57:14.507Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: for stability's sake, we must keep them!","date":"2012-04-27T20:57:33.634Z","type":"message"}
{"nick":"ira","message":"piscisaureus_: Only long enough, so mission critical applications depend on them.  No longer.","date":"2012-04-27T20:58:37.696Z","type":"message"}
{"nick":"loladiro","date":"2012-04-27T20:59:14.427Z","type":"join"}
{"nick":"piscisaureus_","message":"Ok. I'm gone.","date":"2012-04-27T21:01:52.326Z","type":"message"}
{"nick":"piscisaureus_","new_nick":"pisc_away","date":"2012-04-27T21:01:57.432Z","type":"nick"}
{"nick":"ira","new_nick":"ira_away","date":"2012-04-27T21:05:12.767Z","type":"nick"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2012-04-27T21:10:56.988Z","type":"nick"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000212a90e9\u000f \u000310\u000f/ benchmark/http_bench.js \u0002:\u000f ","date":"2012-04-27T21:13:05.229Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f bench: add continuous stress test","date":"2012-04-27T21:13:05.230Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f Useful in tracking down or at least demonstrating memory leaks. - http://git.io/OAMA5w","date":"2012-04-27T21:13:05.230Z","type":"message"}
{"nick":"bnoordhuis","message":"it would seem http.request() leaks","date":"2012-04-27T21:13:34.587Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 246 seconds","date":"2012-04-27T21:19:25.896Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T21:31:11.562Z","type":"quit"}
{"nick":"mikeal","date":"2012-04-27T21:33:33.457Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.16-release\u000f * r\u000233df812\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f (log message trimmed)","date":"2012-04-27T21:34:08.587Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f 2012.04.27 Version 0.6.16 (stable)","date":"2012-04-27T21:34:08.789Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * Upgrade V8 to 3.6.6.25","date":"2012-04-27T21:34:08.790Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * Windows: add mappings for UV_ENOENT (Bert Belder)","date":"2012-04-27T21:34:08.790Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * linux: add IN_MOVE_SELF to inotify event mask (Ben Noordhuis)","date":"2012-04-27T21:34:08.790Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * unix: call pipe handle connection cb on accept() error (Ben Noordhuis)","date":"2012-04-27T21:34:09.028Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * unix: handle EWOULDBLOCK (Ben Noordhuis)","date":"2012-04-27T21:34:10.028Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-04-27T21:38:37.566Z","type":"quit"}
{"nick":"mjr_","message":"http.request leaks?  Holy shit.","date":"2012-04-27T21:40:09.187Z","type":"message"}
{"nick":"mjr_","message":"That's our bread and butter.","date":"2012-04-27T21:40:16.071Z","type":"message"}
{"nick":"`3rdEden","date":"2012-04-27T21:40:52.828Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: interesting.  could be a source of mjr_'s issues, i'd suspect.","date":"2012-04-27T21:41:08.525Z","type":"message"}
{"nick":"pfox___","reason":"Ping timeout: 244 seconds","date":"2012-04-27T21:41:40.284Z","type":"quit"}
{"nick":"mjr_","message":"So Brendan has looked around at some of our core files and seen lots of copies of HTTP headers in there, way more than make sense, as if they are leaking.","date":"2012-04-27T21:41:50.872Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: each parser (each connection) has a kind of headers cache, that's probably what he was seeing","date":"2012-04-27T21:42:38.971Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-04-27T21:42:39.242Z","type":"quit"}
{"nick":"mjr_","message":"But the strings were duplicated like 100K times","date":"2012-04-27T21:44:26.240Z","type":"message"}
{"nick":"theCole","date":"2012-04-27T21:45:02.423Z","type":"join"}
{"nick":"bnoordhuis","message":"mjr_: v8::String::New() makes a copy from the strings in the headers cache","date":"2012-04-27T21:45:57.923Z","type":"message"}
{"nick":"bnoordhuis","message":"if you have a big heap, you'll see them a lot","date":"2012-04-27T21:46:10.410Z","type":"message"}
{"nick":"bnoordhuis","message":"avoiding the copy is a future optimization point","date":"2012-04-27T21:46:27.737Z","type":"message"}
{"nick":"bnoordhuis","message":"*makes a copy of","date":"2012-04-27T21:46:38.319Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/2513563","date":"2012-04-27T21:47:19.956Z","type":"message"}
{"nick":"mjr_","message":"1.1M instances of Connection: keep-alive","date":"2012-04-27T21:47:31.925Z","type":"message"}
{"nick":"mjr_","message":"But yeah, clearly some duplication is expected.  That's why they call it \"garbage\" collection, after all.","date":"2012-04-27T21:48:10.361Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-04-27T21:53:08.886Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: see any issues on linux?","date":"2012-04-27T21:54:47.134Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: `make test` is at 90% with no failures right now","date":"2012-04-27T21:55:43.542Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2012-04-27T21:55:48.542Z","type":"message"}
{"nick":"bnoordhuis","message":"the moment i typed that pummel/test-timers failed :/","date":"2012-04-27T21:56:04.187Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 246 seconds","date":"2012-04-27T21:56:10.903Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-04-27T21:56:34.147Z","type":"quit"}
{"nick":"bnoordhuis","message":"you know, i guess it would make sense to turn the most common http headers into Persistent strings","date":"2012-04-27T21:57:04.674Z","type":"message"}
{"nick":"txdv","message":"bnoordhuis: how about node, how does handle the buffer for each socket? does it allocate a buffer for each socket?","date":"2012-04-27T21:57:27.780Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no, it uses a slab allocator... for better or worse","date":"2012-04-27T21:57:52.214Z","type":"message"}
{"nick":"txdv","message":"worse?","date":"2012-04-27T21:57:58.863Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yes, i agree.  it would be good to have persistents for Connection and osme other common ones","date":"2012-04-27T21:58:19.783Z","type":"message"}
{"nick":"bnoordhuis","message":"tx well, it seems something is leaking memory and it might be the slab allocator","date":"2012-04-27T21:58:46.119Z","type":"message"}
{"nick":"pfox___","date":"2012-04-27T21:58:59.353Z","type":"join"}
{"nick":"mjr_","message":"txdv: it does have a buffer per socket, but there's a pool of buffers that node manages.","date":"2012-04-27T21:59:02.598Z","type":"message"}
{"nick":"txdv","message":"damn smart node","date":"2012-04-27T21:59:26.410Z","type":"message"}
{"nick":"bnoordhuis","message":"pummel/test-keep-alive, pummel/test-regress-GH-892 and pummel/test-tls-ci-reneg-attack failed too","date":"2012-04-27T22:02:28.228Z","type":"message"}
{"nick":"ira_away","new_nick":"ira","date":"2012-04-27T22:04:09.262Z","type":"nick"}
{"nick":"erickt","date":"2012-04-27T22:04:29.580Z","type":"join"}
{"nick":"bnoordhuis","message":"pummel/test-tls-ci-reneg-attack also consistently fails in isolation","date":"2012-04-27T22:04:41.913Z","type":"message"}
{"nick":"bnoordhuis","message":"also consistently fails with the v0.6 branch","date":"2012-04-27T22:06:59.663Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: has it ever worked in v0.6?","date":"2012-04-27T22:07:47.100Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know but it also fails with master...","date":"2012-04-27T22:08:01.028Z","type":"message"}
{"nick":"bnoordhuis","message":"seems we have a regression","date":"2012-04-27T22:08:12.935Z","type":"message"}
{"nick":"isaacs","message":"wonderful","date":"2012-04-27T22:08:42.211Z","type":"message"}
{"nick":"bnoordhuis","message":"does `python tools/test.py --mode=debug,release pummel/test-tls-ci-reneg-attack` pass for you?","date":"2012-04-27T22:09:01.909Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-04-27T22:09:35.324Z","type":"message"}
{"nick":"bnoordhuis","message":"sigh","date":"2012-04-27T22:09:43.875Z","type":"message"}
{"nick":"bnoordhuis","action":"gets his debugger","date":"2012-04-27T22:09:49.177Z","type":"action"}
{"nick":"avalanche123","reason":"Ping timeout: 240 seconds","date":"2012-04-27T22:10:13.576Z","type":"quit"}
{"nick":"pfox___","reason":"Ping timeout: 256 seconds","date":"2012-04-27T22:11:37.377Z","type":"quit"}
{"nick":"bnoordhuis","message":"ah, the test failing with master may have something to do with my outdated openssl binary","date":"2012-04-27T22:11:45.840Z","type":"message"}
{"nick":"avalanche123","date":"2012-04-27T22:12:03.279Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: just pushed an -RC1","date":"2012-04-27T22:12:41.002Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but only for upgrading npm, nothing relevant.","date":"2012-04-27T22:12:56.311Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.16-release\u000f * r\u00029cfa9bb\u000f \u000310\u000f/ (125 files in 18 dirs)\u0002:\u000f Upgrade npm to 1.1.18 - http://git.io/DZggBg","date":"2012-04-27T22:13:12.951Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.16-release\u000f * r\u00020a5c7f6\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f (log message trimmed)","date":"2012-04-27T22:13:14.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f 2012.04.27 Version 0.6.16 (stable)","date":"2012-04-27T22:13:14.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * Upgrade V8 to 3.6.6.25","date":"2012-04-27T22:13:14.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * Upgrade npm to 1.1.18","date":"2012-04-27T22:13:14.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * Windows: add mappings for UV_ENOENT (Bert Belder)","date":"2012-04-27T22:13:14.091Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * linux: add IN_MOVE_SELF to inotify event mask (Ben Noordhuis)","date":"2012-04-27T22:13:14.092Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f * unix: call pipe handle connection cb on accept() error (Ben Noordhuis)","date":"2012-04-27T22:13:15.022Z","type":"message"}
{"nick":"pfox___","date":"2012-04-27T22:13:24.259Z","type":"join"}
{"nick":"bnoordhuis","message":"okay, it must be something external","date":"2012-04-27T22:14:39.773Z","type":"message"}
{"nick":"bnoordhuis","message":"3415427 was the commit that introduced the test, it was working then but now when i check out 3415427, the test fails","date":"2012-04-27T22:15:00.069Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: hm.","date":"2012-04-27T22:17:08.795Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah, it works for me","date":"2012-04-27T22:17:13.841Z","type":"message"}
{"nick":"bnoordhuis","message":"let me do a full recompile of the tree just in case","date":"2012-04-27T22:17:59.729Z","type":"message"}
{"nick":"bnoordhuis","message":"but if it still fails, let's consider it a local issue and move on","date":"2012-04-27T22:18:14.870Z","type":"message"}
{"nick":"bnoordhuis","message":"still failing","date":"2012-04-27T22:23:58.830Z","type":"message"}
{"nick":"isaacs","message":"yep.","date":"2012-04-27T22:25:45.111Z","type":"message"}
{"nick":"isaacs","message":"works for me","date":"2012-04-27T22:25:49.607Z","type":"message"}
{"nick":"isaacs","message":"on several different machine","date":"2012-04-27T22:25:53.352Z","type":"message"}
{"nick":"isaacs","message":"*s","date":"2012-04-27T22:25:54.738Z","type":"message"}
{"nick":"txdv","message":"what happens if I dont call uv_accept in the listen_cb?","date":"2012-04-27T22:25:55.278Z","type":"message"}
{"nick":"txdv","message":"will it just turn the connection down or what?","date":"2012-04-27T22:27:32.861Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no, it'll stop accept()ing new connections until you call uv_accept","date":"2012-04-27T22:28:16.516Z","type":"message"}
{"nick":"bnoordhuis","message":"that should probably read \"until you *do* call uv_accept\"","date":"2012-04-27T22:28:38.382Z","type":"message"}
{"nick":"txdv","message":"so im always forced to accept","date":"2012-04-27T22:28:40.492Z","type":"message"}
{"nick":"bnoordhuis","message":"no","date":"2012-04-27T22:28:45.388Z","type":"message"}
{"nick":"bnoordhuis","message":"you could set a timer and accept the connection when it expires","date":"2012-04-27T22:28:57.401Z","type":"message"}
{"nick":"txdv","message":"but this functionality is not present in node.js","date":"2012-04-27T22:30:45.889Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no. node always calls uv_accept()","date":"2012-04-27T22:31:35.801Z","type":"message"}
{"nick":"bnoordhuis","message":"which, as we recently discovered, may not always be a good idea","date":"2012-04-27T22:31:50.441Z","type":"message"}
{"nick":"bnoordhuis","message":"it affects the load balancing fairness of the cluster module","date":"2012-04-27T22:32:03.351Z","type":"message"}
{"nick":"txdv","message":"I could accept on a different loop","date":"2012-04-27T22:32:35.219Z","type":"message"}
{"nick":"txdv","message":"hmm","date":"2012-04-27T22:32:36.209Z","type":"message"}
{"nick":"txdv","message":"but there is no uv_dontaccept ","date":"2012-04-27T22:32:49.583Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no, because there is no way to do that","date":"2012-04-27T22:33:21.080Z","type":"message"}
{"nick":"txdv","message":"So, I can accept on another loop or I can delay it with a timer for example","date":"2012-04-27T22:33:48.470Z","type":"message"}
{"nick":"bnoordhuis","message":"you cannot accept on another loop","date":"2012-04-27T22:34:03.458Z","type":"message"}
{"nick":"bnoordhuis","message":"but you can delay accepting it","date":"2012-04-27T22:34:15.827Z","type":"message"}
{"nick":"txdv","message":"so if I create a tcp handle on another loop and use it to accept, it will fail","date":"2012-04-27T22:34:42.109Z","type":"message"}
{"nick":"pfox___","reason":"Ping timeout: 260 seconds","date":"2012-04-27T22:35:05.361Z","type":"quit"}
{"nick":"txdv","message":"not much that uv_accept is good for","date":"2012-04-27T22:35:13.155Z","type":"message"}
{"nick":"txdv","message":"well, 2 loops are 2 different threads, doesn't make even sense, im stupid","date":"2012-04-27T22:35:37.224Z","type":"message"}
{"nick":"txdv","message":"i want RunOnceNonblocking","date":"2012-04-27T22:38:31.114Z","type":"message"}
{"nick":"txdv","message":":(","date":"2012-04-27T22:38:32.671Z","type":"message"}
{"nick":"bnoordhuis","message":"you just may get it","date":"2012-04-27T22:39:33.891Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T22:41:50.068Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: ok, it's a bit late for a release... and friday.","date":"2012-04-27T22:41:50.513Z","type":"message"}
{"nick":"isaacs","message":"considering dropping this thing monday morning","date":"2012-04-27T22:41:55.483Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2012-04-27T22:42:03.234Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but it looks good otherwise, afaict","date":"2012-04-27T22:42:04.457Z","type":"message"}
{"nick":"bnoordhuis","message":"monday is queensday here though so bert and i probably won't be around","date":"2012-04-27T22:42:17.603Z","type":"message"}
{"nick":"isaacs","message":"no worrie","date":"2012-04-27T22:42:30.410Z","type":"message"}
{"nick":"isaacs","message":"i owe you all a status update email as well","date":"2012-04-27T22:42:57.669Z","type":"message"}
{"nick":"pisc_away","new_nick":"piscisaureus","date":"2012-04-27T22:43:44.237Z","type":"nick"}
{"nick":"piscisaureus","message":"back","date":"2012-04-27T22:43:45.240Z","type":"message"}
{"nick":"piscisaureus","message":"any questions","date":"2012-04-27T22:43:48.181Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: 0.6.16.  lgty?","date":"2012-04-27T22:44:36.676Z","type":"message"}
{"nick":"isaacs","message":"http://nodejs.org/dist/v0.6.16/node-v0.6.16-RC1.tar.gz","date":"2012-04-27T22:44:47.933Z","type":"message"}
{"nick":"isaacs","message":"http://nodejs.org/dist/v0.6.16/blog.html","date":"2012-04-27T22:44:57.761Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: let me try that","date":"2012-04-27T22:45:13.169Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: or the v0.6.16-release branch","date":"2012-04-27T22:45:37.882Z","type":"message"}
{"nick":"piscisaureus","message":"yeah, that's what I am using :-)","date":"2012-04-27T22:45:45.090Z","type":"message"}
{"nick":"bnoordhuis","message":"test: cluster: add worker death event test (Ben Noordhuis) <- that hardly bears mentioning :)","date":"2012-04-27T22:46:37.123Z","type":"message"}
{"nick":"piscisaureus","message":"don't check return value of unsetenv (Ben Noordhuis)","date":"2012-04-27T22:46:50.491Z","type":"message"}
{"nick":"piscisaureus","message":"now that :-)","date":"2012-04-27T22:46:56.398Z","type":"message"}
{"nick":"mikeal","date":"2012-04-27T22:47:20.537Z","type":"join"}
{"nick":"bnoordhuis","message":"it's to please the freebsd crowd","date":"2012-04-27T22:47:28.373Z","type":"message"}
{"nick":"piscisaureus","message":"why?","date":"2012-04-27T22:47:42.275Z","type":"message"}
{"nick":"piscisaureus","message":"they make unsetenv() fail ??","date":"2012-04-27T22:47:50.864Z","type":"message"}
{"nick":"isaacs","message":"oh, missed the test thing.  yes, that should not be there","date":"2012-04-27T22:48:38.072Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: no. it means node compiles on freebsd again","date":"2012-04-27T22:48:54.364Z","type":"message"}
{"nick":"isaacs","action":"shrugs.  actually, whatever.  there's not a lot of stuff in the changelog this time anyway","date":"2012-04-27T22:49:14.424Z","type":"action"}
{"nick":"bnoordhuis","message":"no, just bits (pun intended) and pieces","date":"2012-04-27T22:49:31.006Z","type":"message"}
{"nick":"piscisaureus","message":"we should also port the cluster fix to 0.6","date":"2012-04-27T22:50:41.803Z","type":"message"}
{"nick":"piscisaureus","message":"at some point","date":"2012-04-27T22:50:43.746Z","type":"message"}
{"nick":"bnoordhuis","message":"what cluster fix? the load balancing thing?","date":"2012-04-27T22:51:01.814Z","type":"message"}
{"nick":"piscisaureus","message":"yeha","date":"2012-04-27T22:51:11.523Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2012-04-27T22:51:13.271Z","type":"message"}
{"nick":"bnoordhuis","message":"yeehaa","date":"2012-04-27T22:51:34.091Z","type":"message"}
{"nick":"piscisaureus","message":"yahoo","date":"2012-04-27T22:51:44.261Z","type":"message"}
{"nick":"pfox___","date":"2012-04-27T22:51:55.492Z","type":"join"}
{"nick":"piscisaureus","message":"test-net-write-slow keeps failing for me","date":"2012-04-27T22:51:58.813Z","type":"message"}
{"nick":"piscisaureus","message":"[09:55|% 100|+ 339|-   5]: Done","date":"2012-04-27T22:58:53.127Z","type":"message"}
{"nick":"piscisaureus","message":"failures:","date":"2012-04-27T23:00:02.712Z","type":"message"}
{"nick":"piscisaureus","message":"-  test-signal-handler","date":"2012-04-27T23:00:02.914Z","type":"message"}
{"nick":"piscisaureus","message":"- test-net-write-slow","date":"2012-04-27T23:00:02.915Z","type":"message"}
{"nick":"piscisaureus","message":"- test-net-pipe-connect-errors","date":"2012-04-27T23:00:02.915Z","type":"message"}
{"nick":"piscisaureus","message":"- test-http-get-pipeline-problem","date":"2012-04-27T23:00:02.915Z","type":"message"}
{"nick":"piscisaureus","message":"- test-fs-realpath","date":"2012-04-27T23:00:03.541Z","type":"message"}
{"nick":"piscisaureus","message":"Oh I should run test-all","date":"2012-04-27T23:00:06.537Z","type":"message"}
{"nick":"pfox___","reason":"Ping timeout: 252 seconds","date":"2012-04-27T23:05:39.541Z","type":"quit"}
{"nick":"piscisaureus","message":"isaacs: in 0.8 I definitely want 0 failures ....","date":"2012-04-27T23:07:10.273Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: but otherwise, 0.6.16 lgtm","date":"2012-04-27T23:07:22.630Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: kewl :)","date":"2012-04-27T23:07:29.880Z","type":"message"}
{"nick":"isaacs","message":"i also want 0 failures in 0.8","date":"2012-04-27T23:07:35.097Z","type":"message"}
{"nick":"isaacs","message":"we're getting close","date":"2012-04-27T23:07:38.726Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-04-27T23:12:54.369Z","type":"quit"}
{"nick":"txdv","message":"bnoordhuis: i was just thinking while I took a walk outside","date":"2012-04-27T23:13:29.231Z","type":"message"}
{"nick":"txdv","message":"uv_async + RunOnce = RunOnceNonblocking","date":"2012-04-27T23:13:40.065Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: to continue, the barter, let's say I do the refcount refactor and you start on the stdio stuff","date":"2012-04-27T23:14:05.487Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what needs to happen?","date":"2012-04-27T23:15:18.500Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: we'll probably add a uv_run_nowait() function or something sometime in the future","date":"2012-04-27T23:15:46.536Z","type":"message"}
{"nick":"txdv","message":"the libev impl of that is easy","date":"2012-04-27T23:16:18.099Z","type":"message"}
{"nick":"c4milo","date":"2012-04-27T23:16:32.767Z","type":"join"}
{"nick":"piscisaureus","message":"bnoordhuis: https://github.com/joyent/node/issues/3065","date":"2012-04-27T23:17:12.313Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: right, stdio + spawn","date":"2012-04-27T23:18:36.114Z","type":"message"}
{"nick":"bnoordhuis","message":"can do","date":"2012-04-27T23:18:37.533Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: kewl","date":"2012-04-27T23:18:50.124Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: if you make a reasonable api for it I can probably do the windows side for you","date":"2012-04-27T23:19:04.589Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: a libuv api I mean","date":"2012-04-27T23:19:11.350Z","type":"message"}
{"nick":"bnoordhuis","message":"sounds like a plan","date":"2012-04-27T23:19:21.404Z","type":"message"}
{"nick":"piscisaureus","message":"probably take an array of uv_child_fd_t","date":"2012-04-27T23:19:25.220Z","type":"message"}
{"nick":"piscisaureus","message":"struct uv_child_fd_s {","date":"2012-04-27T23:22:21.629Z","type":"message"}
{"nick":"piscisaureus","message":"  unsigned int flags; // EXISTING_FD | EXISTING_STREAM | IPC","date":"2012-04-27T23:22:21.834Z","type":"message"}
{"nick":"piscisaureus","message":"  union {","date":"2012-04-27T23:22:21.835Z","type":"message"}
{"nick":"piscisaureus","message":"    int existing_fd;","date":"2012-04-27T23:22:21.835Z","type":"message"}
{"nick":"piscisaureus","message":"    HANDLE existing_handle;","date":"2012-04-27T23:22:21.835Z","type":"message"}
{"nick":"piscisaureus","message":"    uv_stream_t* existing_stream;","date":"2012-04-27T23:22:22.548Z","type":"message"}
{"nick":"piscisaureus","message":"    uv_stream_t* new_stream;","date":"2012-04-27T23:22:22.754Z","type":"message"}
{"nick":"piscisaureus","message":"  }","date":"2012-04-27T23:22:23.544Z","type":"message"}
{"nick":"piscisaureus","message":"}","date":"2012-04-27T23:22:23.744Z","type":"message"}
{"nick":"piscisaureus","message":"something like that","date":"2012-04-27T23:22:24.787Z","type":"message"}
{"nick":"mikeal","date":"2012-04-27T23:24:41.749Z","type":"join"}
{"nick":"piscisaureus","message":"bah","date":"2012-04-27T23:42:27.974Z","type":"message"}
{"nick":"piscisaureus","message":"It is no longer possible to merge 0.6 into master for libuv","date":"2012-04-27T23:42:36.404Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: what happened to linux.c ?","date":"2012-04-27T23:42:44.077Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: it became src/unix/linux/core.c","date":"2012-04-27T23:43:01.296Z","type":"message"}
{"nick":"bnoordhuis","message":"i split off the inotify code into a separate file, it was becoming unwieldy","date":"2012-04-27T23:43:27.865Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: hmm. git is not detecting the move","date":"2012-04-27T23:43:28.769Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what are you trying to do?","date":"2012-04-27T23:44:11.089Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: merge the 0.6 branch into master","date":"2012-04-27T23:44:21.407Z","type":"message"}
{"nick":"piscisaureus","message":"because there are fixes in 0.6 that are not in master","date":"2012-04-27T23:44:28.709Z","type":"message"}
{"nick":"bnoordhuis","message":"right. it was properly `git mv`d","date":"2012-04-27T23:44:42.200Z","type":"message"}
{"nick":"piscisaureus","message":"git move does not exist, unfortunately","date":"2012-04-27T23:44:52.814Z","type":"message"}
{"nick":"piscisaureus","message":"git does not track that","date":"2012-04-27T23:44:58.883Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: git-mv - Move or rename a file, a directory, or a symlink","date":"2012-04-27T23:45:28.838Z","type":"message"}
{"nick":"tjfontaine","message":"it knows about moves, just not how to merge subsequent changes to moved files :)","date":"2012-04-27T23:45:30.845Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2012-04-27T23:45:37.078Z","type":"message"}
{"nick":"piscisaureus","message":"it does not track moves at all","date":"2012-04-27T23:45:44.177Z","type":"message"}
{"nick":"bnoordhuis","message":"it tracks the hash","date":"2012-04-27T23:45:58.902Z","type":"message"}
{"nick":"tjfontaine","message":"it can \"detect\" them in branch history","date":"2012-04-27T23:45:59.959Z","type":"message"}
{"nick":"piscisaureus","message":"that's true","date":"2012-04-27T23:46:06.244Z","type":"message"}
{"nick":"piscisaureus","message":"but if you also change the file it has to do some search","date":"2012-04-27T23:46:14.708Z","type":"message"}
{"nick":"piscisaureus","message":"which often does not work","date":"2012-04-27T23:46:30.114Z","type":"message"}
{"nick":"bnoordhuis","message":"i can do the merge if you want","date":"2012-04-27T23:46:56.815Z","type":"message"}
{"nick":"bnoordhuis","message":"i know what moved where","date":"2012-04-27T23:47:01.997Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: you'll run into issues with src/win/fs.c","date":"2012-04-27T23:47:32.171Z","type":"message"}
{"nick":"piscisaureus","message":"we should merge in steps :-)","date":"2012-04-27T23:47:39.332Z","type":"message"}
{"nick":"txdv","message":"directory tracking with inotify?","date":"2012-04-27T23:53:12.770Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: what about it?","date":"2012-04-27T23:56:31.746Z","type":"message"}
{"nick":"txdv","message":"awesome","date":"2012-04-27T23:58:36.758Z","type":"message"}

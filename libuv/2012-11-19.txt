{"nick":"brson","reason":"Quit: leaving","date":"2012-11-19T00:00:07.372Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-11-19T00:04:09.852Z","type":"join"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-11-19T00:12:44.404Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-11-19T00:13:14.151Z","type":"join"}
{"nick":"AvianFlu","date":"2012-11-19T00:24:05.162Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-19T00:50:19.844Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-11-19T00:50:48.239Z","type":"join"}
{"nick":"indexzero","date":"2012-11-19T00:55:10.647Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 264 seconds","date":"2012-11-19T00:55:18.105Z","type":"quit"}
{"nick":"dedis39","date":"2012-11-19T01:07:05.191Z","type":"join"}
{"nick":"loladiro","date":"2012-11-19T01:14:02.828Z","type":"join"}
{"nick":"c4milo","date":"2012-11-19T01:15:30.107Z","type":"join"}
{"nick":"dedis39","reason":"Remote host closed the connection","date":"2012-11-19T01:15:49.925Z","type":"quit"}
{"nick":"brson","date":"2012-11-19T01:21:07.808Z","type":"join"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-11-19T01:24:46.238Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-11-19T01:25:17.109Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-11-19T01:25:34.333Z","type":"quit"}
{"nick":"bnoordhuis","action":"reimages his freebsd server...","date":"2012-11-19T01:28:36.408Z","type":"action"}
{"nick":"abraxas","date":"2012-11-19T01:28:44.630Z","type":"join"}
{"nick":"bnoordhuis","message":"kind of annoying, i'd just finished `make buildworld; make buildkernel` when that security advisory came out","date":"2012-11-19T01:33:10.719Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-19T01:47:13.259Z","type":"quit"}
{"nick":"c4milo","date":"2012-11-19T01:47:39.751Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 240 seconds","date":"2012-11-19T01:51:54.619Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002190db15\u0002 : unix: set proper loop errno for udp write req cb  Harmonize with stream.c - http://git.io/Hq2-qg","date":"2012-11-19T03:05:43.810Z","type":"message"}
{"nick":"travis-ci","date":"2012-11-19T03:07:23.041Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#879 (master - 190db15 : Ben Noordhuis): The build passed.","date":"2012-11-19T03:07:23.175Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/665a316aa9d5...190db15638ef","date":"2012-11-19T03:07:23.175Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/3258676","date":"2012-11-19T03:07:23.175Z","type":"message"}
{"nick":"travis-ci","date":"2012-11-19T03:07:23.175Z","type":"part"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-19T03:44:39.465Z","type":"quit"}
{"nick":"chobi_e_","date":"2012-11-19T03:48:06.790Z","type":"join"}
{"nick":"chobi_e_","new_nick":"chobi_e","date":"2012-11-19T03:48:07.083Z","type":"nick"}
{"nick":"chobi_e","new_nick":"chobi_e_","date":"2012-11-19T03:48:37.579Z","type":"nick"}
{"nick":"brson","reason":"Remote host closed the connection","date":"2012-11-19T03:58:56.817Z","type":"quit"}
{"nick":"bradleymeck","date":"2012-11-19T03:59:47.121Z","type":"join"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-11-19T04:14:56.497Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-11-19T04:15:25.919Z","type":"join"}
{"nick":"AvianFlu","date":"2012-11-19T04:15:55.534Z","type":"join"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-11-19T04:55:53.073Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-11-19T04:56:20.640Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-11-19T05:12:28.399Z","type":"quit"}
{"nick":"abraxas","date":"2012-11-19T05:23:06.373Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-19T05:37:24.776Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-11-19T05:47:16.953Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-11-19T05:50:01.340Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-19T05:50:59.332Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-11-19T05:55:55.524Z","type":"quit"}
{"nick":"philips_","date":"2012-11-19T05:57:12.087Z","type":"join"}
{"nick":"benoitc","date":"2012-11-19T05:58:17.335Z","type":"join"}
{"nick":"warz","date":"2012-11-19T06:03:00.112Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-11-19T06:09:52.349Z","type":"quit"}
{"nick":"btrask","date":"2012-11-19T06:22:04.679Z","type":"join"}
{"nick":"rendar","date":"2012-11-19T07:47:00.130Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-11-19T07:54:36.144Z","type":"quit"}
{"nick":"loladiro","date":"2012-11-19T08:02:33.242Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-11-19T08:07:04.696Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-11-19T08:17:17.206Z","type":"join"}
{"nick":"Ralt","date":"2012-11-19T08:25:06.193Z","type":"join"}
{"nick":"hz","date":"2012-11-19T08:52:28.989Z","type":"join"}
{"nick":"`3rdEden","date":"2012-11-19T09:32:38.080Z","type":"join"}
{"nick":"janjongboom","date":"2012-11-19T09:42:01.076Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-11-19T10:32:36.805Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3rdEden|BR`b","date":"2012-11-19T10:57:12.852Z","type":"nick"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-11-19T11:21:09.252Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-11-19T11:38:46.091Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[out]","date":"2012-11-19T11:41:06.070Z","type":"nick"}
{"nick":"EhevuTov","reason":"Ping timeout: 252 seconds","date":"2012-11-19T11:44:10.400Z","type":"quit"}
{"nick":"sgallagh","date":"2012-11-19T12:12:54.725Z","type":"join"}
{"nick":"abraxas","date":"2012-11-19T12:15:52.873Z","type":"join"}
{"nick":"bradleymeck","date":"2012-11-19T12:33:31.086Z","type":"join"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-11-19T12:38:43.462Z","type":"quit"}
{"nick":"hz","date":"2012-11-19T12:39:52.053Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-11-19T12:40:04.510Z","type":"quit"}
{"nick":"sgallagh","message":"bnoordhuis: Could you/have you submitted https://github.com/joyent/node/compare/b61ae54e18c9f6ada7e746052ef6b39272b18a15...988a164cd8820974753ba6a9fc1827d2832c59d4 for upstreaming consideration?","date":"2012-11-19T13:07:45.691Z","type":"message"}
{"nick":"indutny","message":"sgallagh: I like those","date":"2012-11-19T13:19:44.375Z","type":"message"}
{"nick":"indutny","message":"and it lgtm","date":"2012-11-19T13:19:51.628Z","type":"message"}
{"nick":"indutny","message":"but is it ready?","date":"2012-11-19T13:19:55.225Z","type":"message"}
{"nick":"sgallagh","message":"indutny: These are patches that are being carried in Node's bundled copy of openssl that aren't yet upstream","date":"2012-11-19T13:21:46.061Z","type":"message"}
{"nick":"sgallagh","message":"I'm asking for Ben to try to get them upstreamed","date":"2012-11-19T13:21:56.682Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: I asked the Fedora maintainer to look at them, and he replied \"generally looking at the patches I don't see anything that's really critical, what's the real problem they are solving that requires these patches to be in?\"","date":"2012-11-19T13:24:20.601Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2012-11-19T13:24:56.147Z","type":"message"}
{"nick":"indutny","message":"ooh","date":"2012-11-19T13:25:00.077Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-19T13:30:01.588Z","type":"quit"}
{"nick":"jmar777","date":"2012-11-19T13:38:26.244Z","type":"join"}
{"nick":"travis-ci","date":"2012-11-19T13:45:37.192Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] wwwouter/node#3 (master - 57a3b64 : wwwouter): The build is still failing.","date":"2012-11-19T13:45:37.321Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/wwwouter/node/compare/dfce3ed51482...57a3b646e45b","date":"2012-11-19T13:45:37.321Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/wwwouter/node/builds/3263952","date":"2012-11-19T13:45:37.321Z","type":"message"}
{"nick":"travis-ci","date":"2012-11-19T13:45:37.321Z","type":"part"}
{"nick":"`3rdEden|BR`b","new_nick":"`3rdEden","date":"2012-11-19T13:56:10.524Z","type":"nick"}
{"nick":"AvianFlu","date":"2012-11-19T13:57:35.966Z","type":"join"}
{"nick":"bradleymeck","date":"2012-11-19T14:20:44.964Z","type":"join"}
{"nick":"benoitc","reason":"Changing host","date":"2012-11-19T14:23:16.693Z","type":"quit"}
{"nick":"benoitc","date":"2012-11-19T14:23:16.823Z","type":"join"}
{"nick":"c4milo","date":"2012-11-19T14:48:07.071Z","type":"join"}
{"nick":"loladiro","date":"2012-11-19T14:57:06.509Z","type":"join"}
{"nick":"fjakobs","date":"2012-11-19T15:00:45.916Z","type":"join"}
{"nick":"fjakobs","message":"i see connections not being closed if the response is a 304","date":"2012-11-19T15:01:42.228Z","type":"message"}
{"nick":"fjakobs","message":"I also don't get an end event for that response","date":"2012-11-19T15:01:54.616Z","type":"message"}
{"nick":"fjakobs","message":"is that a bug or by design?","date":"2012-11-19T15:02:06.736Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: more details please?","date":"2012-11-19T15:08:52.517Z","type":"message"}
{"nick":"fjakobs","message":"i use the node-http-proxy. when the response is a 304 I don't get the \"close\" event and also the connection is not closed","date":"2012-11-19T15:09:52.581Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: except for the last patch, those are all from google's \"fork\", the openssl that chromium ships with","date":"2012-11-19T15:10:28.780Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: that last one (\"fix uninitialized memory access\") i've sent upstream","date":"2012-11-19T15:11:07.751Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know if it actually landed though","date":"2012-11-19T15:11:20.088Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: I realize that, but I need justification if I'm going to be able to convince upstream to incorporate them. Also, are they actually necessary?","date":"2012-11-19T15:11:25.550Z","type":"message"}
{"nick":"fjakobs","message":"https://github.com/nodejitsu/node-http-proxy/blob/master/lib/node-http-proxy/http-proxy.js#L263","date":"2012-11-19T15:11:32.684Z","type":"message"}
{"nick":"sgallagh","message":"i.e. Can node function without them","date":"2012-11-19T15:11:38.459Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: no and yes (i.e. not strictly necessary and yes, node functions without them)","date":"2012-11-19T15:12:00.894Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-11-19T15:12:03.759Z","type":"quit"}
{"nick":"fjakobs","message":"https://github.com/joyent/node/blob/master/lib/http.js","date":"2012-11-19T15:12:04.105Z","type":"message"}
{"nick":"sgallagh","message":"ok, good","date":"2012-11-19T15:12:10.874Z","type":"message"}
{"nick":"fjakobs","message":"line 995","date":"2012-11-19T15:12:12.777Z","type":"message"}
{"nick":"sgallagh","message":"Then I won't fight over them right now :)","date":"2012-11-19T15:12:18.598Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: you should ping mmalecki about node-http-proxy","date":"2012-11-19T15:12:25.937Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: but questions about lib/http.js i can answer :)","date":"2012-11-19T15:12:50.062Z","type":"message"}
{"nick":"fjakobs","message":"so how are 304 handled differently in node?","date":"2012-11-19T15:13:18.416Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: they aren't","date":"2012-11-19T15:13:26.320Z","type":"message"}
{"nick":"fjakobs","message":"I see special handling code there","date":"2012-11-19T15:13:29.133Z","type":"message"}
{"nick":"fjakobs","message":"I see _hasBody = false","date":"2012-11-19T15:13:42.195Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: yes, but that is if you're the server sending the 304","date":"2012-11-19T15:14:15.490Z","type":"message"}
{"nick":"c4milo","date":"2012-11-19T15:14:27.670Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-11-19T15:14:36.980Z","type":"join"}
{"nick":"fjakobs","message":"since i proxy the 304 I am also the server","date":"2012-11-19T15:14:49.897Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: if your upstream server is sending you a 304 with a response body, it's doing it wrong","date":"2012-11-19T15:15:21.755Z","type":"message"}
{"nick":"fjakobs","message":"no no, I don't get the response body.","date":"2012-11-19T15:16:04.801Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good. so what's the issue?","date":"2012-11-19T15:16:15.712Z","type":"message"}
{"nick":"fjakobs","message":"but somehow I also don't get a close event for the response","date":"2012-11-19T15:16:34.776Z","type":"message"}
{"nick":"fjakobs","message":"and the connection stays open","date":"2012-11-19T15:16:41.599Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: that's WAE (working as expected)","date":"2012-11-19T15:17:37.598Z","type":"message"}
{"nick":"bnoordhuis","message":"the connection doesn't have to be closed if you receive a 304","date":"2012-11-19T15:18:07.686Z","type":"message"}
{"nick":"bnoordhuis","message":"and that's why you don't get a close event","date":"2012-11-19T15:18:15.842Z","type":"message"}
{"nick":"fjakobs","message":"right","date":"2012-11-19T15:18:20.111Z","type":"message"}
{"nick":"piscisaureus_","message":"is there no \"end\" event on the response body?","date":"2012-11-19T15:18:31.718Z","type":"message"}
{"nick":"fjakobs","message":"good to know","date":"2012-11-19T15:18:33.217Z","type":"message"}
{"nick":"piscisaureus_","message":"(even if there is none)","date":"2012-11-19T15:18:36.706Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, you get an end event","date":"2012-11-19T15:18:56.087Z","type":"message"}
{"nick":"fjakobs","message":"my problem is that I want to close the server with \"server.close();\"","date":"2012-11-19T15:19:40.357Z","type":"message"}
{"nick":"fjakobs","message":"but it hangs because of the open connection","date":"2012-11-19T15:19:52.811Z","type":"message"}
{"nick":"fjakobs","message":"even though no request is in preogress","date":"2012-11-19T15:20:02.170Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: right. you'll have to keep track of that yourself","date":"2012-11-19T15:21:16.892Z","type":"message"}
{"nick":"bnoordhuis","message":"server.close() just stops the server from accepting new connections","date":"2012-11-19T15:21:28.433Z","type":"message"}
{"nick":"fjakobs","message":"good to know","date":"2012-11-19T15:21:37.358Z","type":"message"}
{"nick":"fjakobs","message":"so i will count connections and exit when it drops to 0","date":"2012-11-19T15:22:25.912Z","type":"message"}
{"nick":"fjakobs","message":"count HTTP requests i mean","date":"2012-11-19T15:22:45.689Z","type":"message"}
{"nick":"bnoordhuis","message":"fjakobs: yes. and maybe force-close connections that stay open too long","date":"2012-11-19T15:23:55.718Z","type":"message"}
{"nick":"fjakobs","message":"that helps, thanks","date":"2012-11-19T15:24:12.789Z","type":"message"}
{"nick":"bnoordhuis","message":"np","date":"2012-11-19T15:24:23.248Z","type":"message"}
{"nick":"fjakobs","reason":"Quit: fjakobs","date":"2012-11-19T15:29:48.921Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-19T15:36:44.851Z","type":"quit"}
{"nick":"bradleymeck","date":"2012-11-19T15:42:50.526Z","type":"join"}
{"nick":"creationix","message":"is it my responsibility to call uv_read_stop even though I'm already calling uv_shutdown and uv_close?","date":"2012-11-19T15:46:47.771Z","type":"message"}
{"nick":"creationix","message":"will either of those clean up any resources that uv_read_stop would have?","date":"2012-11-19T15:47:06.774Z","type":"message"}
{"nick":"bnoordhuis","message":"creationix: yes","date":"2012-11-19T15:48:40.114Z","type":"message"}
{"nick":"bnoordhuis","message":"(boolean joke there)","date":"2012-11-19T15:48:45.919Z","type":"message"}
{"nick":"creationix","message":"that's a relief, at lease a || !a is still true","date":"2012-11-19T15:49:07.502Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_close() does the same cleanup (and more) as uv_read_stop() does","date":"2012-11-19T15:49:20.983Z","type":"message"}
{"nick":"creationix","message":"*least","date":"2012-11-19T15:49:22.183Z","type":"message"}
{"nick":"creationix","message":"ok, so there is no read to call uv_read_stop if I'm sure to always call uv_close?","date":"2012-11-19T15:49:40.403Z","type":"message"}
{"nick":"creationix","message":"s/read/reason/","date":"2012-11-19T15:49:46.060Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-11-19T15:50:04.273Z","type":"quit"}
{"nick":"bnoordhuis","message":"no, indeed","date":"2012-11-19T15:50:04.796Z","type":"message"}
{"nick":"bnoordhuis","message":"creationix: btw, uv_shutdown() only shuts down the write end","date":"2012-11-19T15:51:02.374Z","type":"message"}
{"nick":"creationix","message":"yeah, that's what I thought","date":"2012-11-19T15:51:12.371Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah you should call uv_read_stop. I mean, what if data comes out of a closed socket? That'd be bad.","date":"2012-11-19T15:51:14.169Z","type":"message"}
{"nick":"bnoordhuis","message":"so depending on what you do, you may need to call uv_read_stop()","date":"2012-11-19T15:51:15.937Z","type":"message"}
{"nick":"creationix","message":"just wanted clarification","date":"2012-11-19T15:51:16.730Z","type":"message"}
{"nick":"creationix","message":"how could data come out of a closed socket?","date":"2012-11-19T15:52:13.684Z","type":"message"}
{"nick":"bnoordhuis","message":"i think piscisaureus_ is trolling for attention :)","date":"2012-11-19T15:52:23.052Z","type":"message"}
{"nick":"bradleymeck","date":"2012-11-19T15:52:51.342Z","type":"join"}
{"nick":"piscisaureus_","message":"Isn't that a Tautology ?","date":"2012-11-19T15:53:10.502Z","type":"message"}
{"nick":"piscisaureus_","message":"s/T/t/","date":"2012-11-19T15:53:34.963Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-11-19T15:54:56.997Z","type":"quit"}
{"nick":"bnoordhuis","message":"you youngsters have forgotten so much about the fine art of trolling","date":"2012-11-19T15:55:49.454Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not about getting attention, it's about getting the other worked up to furious anger","date":"2012-11-19T15:56:17.184Z","type":"message"}
{"nick":"bnoordhuis","message":"preferably the kind where they lose it on the internets","date":"2012-11-19T15:56:34.678Z","type":"message"}
{"nick":"tjfontaine","message":"great vengance and furious anger","date":"2012-11-19T15:57:02.303Z","type":"message"}

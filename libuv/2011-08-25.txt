{"nick":"igorzi","message":"https://github.com/joyent/node/issues/1565 ?","date":"2011-08-25T00:00:33.592Z","type":"message"}
{"nick":"ryah","message":"igorzi: yeah","date":"2011-08-25T00:01:00.367Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: yeah +1","date":"2011-08-25T00:01:27.949Z","type":"message"}
{"nick":"bnoordhuis","message":"cool, will do","date":"2011-08-25T00:01:47.448Z","type":"message"}
{"nick":"ryah","message":"how do i start the msvs debugger with arguments?","date":"2011-08-25T00:04:32.203Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: right click the startup project","date":"2011-08-25T00:04:50.294Z","type":"message"}
{"nick":"piscisaureus","message":"properties","date":"2011-08-25T00:04:52.933Z","type":"message"}
{"nick":"piscisaureus","message":"debugging","date":"2011-08-25T00:04:56.510Z","type":"message"}
{"nick":"ryah","message":"got it - thanks","date":"2011-08-25T00:06:25.187Z","type":"message"}
{"nick":"ryah","message":"this whole visual debugging thing is hilarious","date":"2011-08-25T00:06:42.440Z","type":"message"}
{"nick":"piscisaureus","message":"why?","date":"2011-08-25T00:08:12.324Z","type":"message"}
{"nick":"ryah","message":"doesn't seem like anyone would use it","date":"2011-08-25T00:08:42.414Z","type":"message"}
{"nick":"piscisaureus","message":"you can still use gdb if you want to","date":"2011-08-25T00:08:56.930Z","type":"message"}
{"nick":"piscisaureus","message":"just build with mingw","date":"2011-08-25T00:09:00.837Z","type":"message"}
{"nick":"igorzi","message":"ryah: you can use windbg now too","date":"2011-08-25T00:09:15.282Z","type":"message"}
{"nick":"ryah","message":"true - but im excited to try msvs","date":"2011-08-25T00:09:20.771Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: lol!","date":"2011-08-25T00:09:59.356Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: I love how you try to sell that as a feature :p","date":"2011-08-25T00:10:08.133Z","type":"message"}
{"nick":"DrPizza","message":"ryah: the debugger is perhaps the biggest single reason anyone uses visual studio","date":"2011-08-25T00:10:27.062Z","type":"message"}
{"nick":"igorzi","message":"DrPizza: :)..  i tried gdb, and i'm very happy to be able to use windbg now","date":"2011-08-25T00:10:47.290Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: oic I've been using MSVS for weeks","date":"2011-08-25T00:11:02.571Z","type":"message"}
{"nick":"ryah","message":"http://tinyclouds.org/debugging-windows.png","date":"2011-08-25T00:11:33.702Z","type":"message"}
{"nick":"ryah","message":":D","date":"2011-08-25T00:11:35.335Z","type":"message"}
{"nick":"ryah","message":"i feel like a real windows dev now","date":"2011-08-25T00:11:47.936Z","type":"message"}
{"nick":"DrPizza","message":"lol","date":"2011-08-25T00:11:52.098Z","type":"message"}
{"nick":"ryah","action":"browses various menus","date":"2011-08-25T00:12:19.311Z","type":"action"}
{"nick":"ryah","message":"hehe","date":"2011-08-25T00:12:23.351Z","type":"message"}
{"nick":"bnoordhuis","message":":)","date":"2011-08-25T00:14:46.531Z","type":"message"}
{"nick":"igorzi","message":"ryah: you should try writing some c# :)","date":"2011-08-25T00:15:05.191Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: what do you think about \u0003\u000301NtDeviceIoControlFile\u0003\u000301(IOCTL_AFD_RECEIVE_DATAGRAM) btw?","date":"2011-08-25T00:16:38.667Z","type":"message"}
{"nick":"DrPizza","message":"c# is becoming a very strange language","date":"2011-08-25T00:16:49.035Z","type":"message"}
{"nick":"DrPizza","message":"it doesn't really know what it wants to be","date":"2011-08-25T00:16:53.068Z","type":"message"}
{"nick":"DrPizza","message":"it's gaining some quite interesting features (lambdas, yield, async)","date":"2011-08-25T00:17:11.539Z","type":"message"}
{"nick":"DrPizza","message":"but is IMO hamstrung by bad backwards compatibility decisions and C-esque syntax","date":"2011-08-25T00:17:30.700Z","type":"message"}
{"nick":"ryah","message":"erik meijer was here the other day showing off some event stream c# stuff","date":"2011-08-25T00:18:08.475Z","type":"message"}
{"nick":"ryah","message":"looked pretty awesome","date":"2011-08-25T00:18:13.356Z","type":"message"}
{"nick":"DrPizza","message":"is that using StreamInsight?","date":"2011-08-25T00:18:19.946Z","type":"message"}
{"nick":"igorzi","message":"ryah: on nice","date":"2011-08-25T00:18:26.735Z","type":"message"}
{"nick":"DrPizza","message":"or just some C#' thing?","date":"2011-08-25T00:18:30.667Z","type":"message"}
{"nick":"ryah","message":"http://msdn.microsoft.com/en-us/library/hh242985(v=VS.103).aspx <-- this","date":"2011-08-25T00:19:00.298Z","type":"message"}
{"nick":"DrPizza","message":"aaah","date":"2011-08-25T00:19:31.144Z","type":"message"}
{"nick":"DrPizza","message":"Rx","date":"2011-08-25T00:19:32.214Z","type":"message"}
{"nick":"ryah","message":"how do you evaluate a variable in msvs?","date":"2011-08-25T00:19:42.186Z","type":"message"}
{"nick":"DrPizza","message":"yeah, Rx is another thing which is kind of weird","date":"2011-08-25T00:19:45.647Z","type":"message"}
{"nick":"ryah","message":"when you're stopped on a break point","date":"2011-08-25T00:19:50.060Z","type":"message"}
{"nick":"DrPizza","message":"ryah: mouse over it, look at it in the autos/locals/watch window","date":"2011-08-25T00:19:56.760Z","type":"message"}
{"nick":"DrPizza","message":"ryah: type its name in the immediates window","date":"2011-08-25T00:20:12.751Z","type":"message"}
{"nick":"piscisaureus","message":"yes how can you miss that theres a zillion ways to do that","date":"2011-08-25T00:20:34.661Z","type":"message"}
{"nick":"piscisaureus","message":":-/","date":"2011-08-25T00:20:37.384Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i don't know.. not too fond of it.. there might be other things that won't work if we go down that path","date":"2011-08-25T00:20:44.142Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: what MS really needs to do is to make the VC++ immediates/commands window use windbg behind the scenes, so you get the good looks of MSVS with all the windbg extensions and capabilities","date":"2011-08-25T00:20:59.189Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: it's degenerate I agree","date":"2011-08-25T00:21:09.887Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but what do you think will break?","date":"2011-08-25T00:21:21.304Z","type":"message"}
{"nick":"ryah","message":"and if i have an errno - how do i find out what symbol goes with it?","date":"2011-08-25T00:21:22.784Z","type":"message"}
{"nick":"ryah","message":"(normally i'd grep /usr/include/sys/errno.h)","date":"2011-08-25T00:21:34.253Z","type":"message"}
{"nick":"piscisaureus","message":"a windows errno?","date":"2011-08-25T00:21:34.491Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-25T00:21:36.897Z","type":"message"}
{"nick":"DrPizza","message":"ryah: grep winerror.h","date":"2011-08-25T00:21:44.744Z","type":"message"}
{"nick":"DrPizza","message":"I think that's the filename","date":"2011-08-25T00:21:47.437Z","type":"message"}
{"nick":"DrPizza","message":"something like that","date":"2011-08-25T00:21:52.083Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: http://msdn.microsoft.com/en-us/library/ms681381%28v=VS.85%29.aspx","date":"2011-08-25T00:21:53.355Z","type":"message"}
{"nick":"ryah","message":"oh that's useful","date":"2011-08-25T00:22:10.581Z","type":"message"}
{"nick":"DrPizza","message":"ryah: find something that says ERROR_IO_PENDING, right click, go to definition","date":"2011-08-25T00:22:12.175Z","type":"message"}
{"nick":"DrPizza","message":"then grep that file","date":"2011-08-25T00:22:13.922Z","type":"message"}
{"nick":"DrPizza","message":"or look on MSDN","date":"2011-08-25T00:22:15.660Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: does the iocontrol route work?","date":"2011-08-25T00:23:31.715Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: it did for tcp sockets","date":"2011-08-25T00:24:24.667Z","type":"message"}
{"nick":"piscisaureus","message":"didn't try with udp","date":"2011-08-25T00:24:28.957Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: don't know, like you said it doesn't look like they did the work to make it work with SetFileCompletionNotificationModes.. you just found one issue with it, but there may be more","date":"2011-08-25T00:24:51.614Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: it sounds like they did do the work, since it isn't sending the notification","date":"2011-08-25T00:25:15.579Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yeah, we'll find it out :-)","date":"2011-08-25T00:25:22.019Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: they just didn't make the userland wrapper process the error codes properly","date":"2011-08-25T00:25:27.963Z","type":"message"}
{"nick":"DrPizza","message":"no?","date":"2011-08-25T00:25:28.885Z","type":"message"}
{"nick":"piscisaureus","message":"yes there's this strange hack that turns STATUS_BUFFER_OVERFLOW into WSA_IO_PENDING","date":"2011-08-25T00:26:09.518Z","type":"message"}
{"nick":"igorzi","message":"DrPizza: that can be accomplished with a VS extension.. i've seen one here, there may be others out there","date":"2011-08-25T00:26:10.804Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: orly, sounds interesting","date":"2011-08-25T00:26:22.869Z","type":"message"}
{"nick":"piscisaureus","message":"hey msvs gurus","date":"2011-08-25T00:26:55.340Z","type":"message"}
{"nick":"piscisaureus","message":"can I switch to another thread","date":"2011-08-25T00:27:00.687Z","type":"message"}
{"nick":"piscisaureus","message":"so I can see it's stack","date":"2011-08-25T00:27:04.607Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: sure, double click it in the threads window","date":"2011-08-25T00:27:10.443Z","type":"message"}
{"nick":"piscisaureus","action":"rolls eyes","date":"2011-08-25T00:27:25.459Z","type":"action"}
{"nick":"DrPizza","message":"lol","date":"2011-08-25T00:27:33.643Z","type":"message"}
{"nick":"piscisaureus","message":"no threads window on my screen","date":"2011-08-25T00:27:43.978Z","type":"message"}
{"nick":"piscisaureus","message":"oh man there's a dropdown in the toolbar","date":"2011-08-25T00:28:23.216Z","type":"message"}
{"nick":"DrPizza","message":"haha","date":"2011-08-25T00:28:30.609Z","type":"message"}
{"nick":"igorzi","message":"ctl+alt+H","date":"2011-08-25T00:28:30.772Z","type":"message"}
{"nick":"DrPizza","message":"yeah get the window open","date":"2011-08-25T00:28:37.888Z","type":"message"}
{"nick":"DrPizza","message":"so you can freeze threads etc.","date":"2011-08-25T00:28:41.036Z","type":"message"}
{"nick":"piscisaureus","message":"oh nice","date":"2011-08-25T00:28:48.583Z","type":"message"}
{"nick":"piscisaureus","message":"thanks igorzi","date":"2011-08-25T00:28:51.636Z","type":"message"}
{"nick":"ryah","message":"using this debugger is really making be feel bad. how do you guys work like this?","date":"2011-08-25T00:29:51.783Z","type":"message"}
{"nick":"DrPizza","message":"wow","date":"2011-08-25T00:30:02.119Z","type":"message"}
{"nick":"ryah","message":"i guess im just missing all the short cuts","date":"2011-08-25T00:30:03.628Z","type":"message"}
{"nick":"DrPizza","message":"using gdb makes me want to throw my computer out the window","date":"2011-08-25T00:30:11.744Z","type":"message"}
{"nick":"ryah","message":"but it seems so slow to use","date":"2011-08-25T00:30:13.881Z","type":"message"}
{"nick":"DrPizza","message":"I don't know how people use that!","date":"2011-08-25T00:30:15.448Z","type":"message"}
{"nick":"piscisaureus","message":"slow?","date":"2011-08-25T00:30:27.353Z","type":"message"}
{"nick":"piscisaureus","message":"you mean like wait long times?","date":"2011-08-25T00:30:33.868Z","type":"message"}
{"nick":"ryah","message":"like i have to move my hand to the mouse, scroll down","date":"2011-08-25T00:30:43.660Z","type":"message"}
{"nick":"ryah","message":"scroll up","date":"2011-08-25T00:30:46.888Z","type":"message"}
{"nick":"ryah","message":"hover over something","date":"2011-08-25T00:30:50.774Z","type":"message"}
{"nick":"piscisaureus","message":"learn the shortcuts yeah","date":"2011-08-25T00:31:03.902Z","type":"message"}
{"nick":"igorzi","message":"ryah: you should give windbg (or cdb) a try","date":"2011-08-25T00:31:13.633Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: https://github.com/bnoordhuis/libuv/commit/21451df <- udp test","date":"2011-08-25T00:31:17.199Z","type":"message"}
{"nick":"bnoordhuis","message":"ollydbg!","date":"2011-08-25T00:31:40.388Z","type":"message"}
{"nick":"bnoordhuis","message":"just saw a new release","date":"2011-08-25T00:31:45.318Z","type":"message"}
{"nick":"DrPizza","message":"ryah: my mousing hand is normally on the mouse anyway","date":"2011-08-25T00:32:14.923Z","type":"message"}
{"nick":"bnoordhuis","message":"you type with one hand?","date":"2011-08-25T00:32:30.789Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: I don't type in the debugger, generally","date":"2011-08-25T00:32:42.865Z","type":"message"}
{"nick":"bnoordhuis","message":"i do","date":"2011-08-25T00:32:59.155Z","type":"message"}
{"nick":"bnoordhuis","message":"i like that gdb is pretty scriptable","date":"2011-08-25T00:33:06.466Z","type":"message"}
{"nick":"ryah","message":"igorzi: next bug i fix i'll use windbg","date":"2011-08-25T00:34:34.261Z","type":"message"}
{"nick":"piscisaureus","message":"ah, I think where the pipe breaks","date":"2011-08-25T00:34:38.093Z","type":"message"}
{"nick":"bnoordhuis","message":"pquerna: http://apache.slashdot.org/story/11/08/24/2213201/Apache-Warns-Web-Server-Admins-of-DoS-Attack-Tool","date":"2011-08-25T00:35:09.652Z","type":"message"}
{"nick":"pquerna","message":"hrm, geuss i should read the security list :)","date":"2011-08-25T00:36:56.366Z","type":"message"}
{"nick":"pquerna","message":"range filter --","date":"2011-08-25T00:38:03.396Z","type":"message"}
{"nick":"graydon","reason":"Quit: Leaving.","date":"2011-08-25T00:38:47.344Z","type":"quit"}
{"nick":"igorzi","message":"ryah: piscisaureus: some eio functions allocate buffers (to store results), which are owned by eio..  in case of async call - eio frees the buffer after dispatching the callback.  since we'll support sync and async functions in libuv, i was thinking that we let libuv allocate the buffer, but then the caller needs to free it","date":"2011-08-25T00:40:06.731Z","type":"message"}
{"nick":"igorzi","message":"what do you think?","date":"2011-08-25T00:40:12.119Z","type":"message"}
{"nick":"CIA-75","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000240efa9c\u000f \u000310\u000f/ (src/win/handle.c src/win/udp.c)\u0002:\u000f win: Fix uv_getsockname for UDP - http://git.io/comgBg","date":"2011-08-25T00:40:50.275Z","type":"message"}
{"nick":"DrPizza","message":"can't uv free it?","date":"2011-08-25T00:41:04.754Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: sorry","date":"2011-08-25T00:41:43.251Z","type":"message"}
{"nick":"piscisaureus","message":"that was 5:30am work","date":"2011-08-25T00:41:48.660Z","type":"message"}
{"nick":"piscisaureus","message":"yesterdat","date":"2011-08-25T00:41:52.496Z","type":"message"}
{"nick":"igorzi","message":"it can for async, but not for sync (unless we require uv_close_req or something)","date":"2011-08-25T00:42:03.130Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: that's why you should go to bed earlier :)","date":"2011-08-25T00:42:11.123Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: oh right because sync has no callback it just returns with a buffer","date":"2011-08-25T00:42:30.558Z","type":"message"}
{"nick":"igorzi","message":"right","date":"2011-08-25T00:42:37.444Z","type":"message"}
{"nick":"DrPizza","message":"sorry, was forgetting that ","date":"2011-08-25T00:42:38.762Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000290da533\u000f \u000310\u000f/ (5 files in 4 dirs)\u0002:\u000f Upgrade libuv to 40efa9c - http://git.io/0YOz0w","date":"2011-08-25T00:43:59.148Z","type":"message"}
{"nick":"ryah","message":"is it just me or does the msvs build take a LONG time?","date":"2011-08-25T00:46:59.795Z","type":"message"}
{"nick":"piscisaureus","message":"just you?","date":"2011-08-25T00:47:14.863Z","type":"message"}
{"nick":"piscisaureus","message":"for me it's much faster than mingw","date":"2011-08-25T00:47:21.692Z","type":"message"}
{"nick":"piscisaureus","message":"especially building v8","date":"2011-08-25T00:47:27.096Z","type":"message"}
{"nick":"ryah","message":"~/node> ./Release/node.exe  test/simple/test-dgram-udp4.js","date":"2011-08-25T00:47:56.781Z","type":"message"}
{"nick":"ryah","message":"server is listening on 0.0.0.0:20989","date":"2011-08-25T00:47:56.939Z","type":"message"}
{"nick":"ryah","message":"client wrote 17 bytes.","date":"2011-08-25T00:47:57.099Z","type":"message"}
{"nick":"ryah","message":"server got: A message to send from 127.0.0.1:64247","date":"2011-08-25T00:47:57.099Z","type":"message"}
{"nick":"ryah","message":"client got: A message to send from 127.0.0.1:20989","date":"2011-08-25T00:47:58.173Z","type":"message"}
{"nick":"ryah","message":"(works)","date":"2011-08-25T00:48:24.157Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-25T00:49:20.760Z","type":"message"}
{"nick":"piscisaureus","message":"node.js:205","date":"2011-08-25T00:49:39.250Z","type":"message"}
{"nick":"piscisaureus","message":"        throw e; // process.nextTick error, or 'error' event on first tick","date":"2011-08-25T00:49:39.411Z","type":"message"}
{"nick":"piscisaureus","message":"              ^","date":"2011-08-25T00:49:39.411Z","type":"message"}
{"nick":"piscisaureus","message":"Error: read UNKNOWN","date":"2011-08-25T00:49:39.411Z","type":"message"}
{"nick":"piscisaureus","message":"    at errnoException (net_uv.js:564:11)","date":"2011-08-25T00:49:39.412Z","type":"message"}
{"nick":"piscisaureus","message":"    at Pipe.onread (net_uv.js:333:20)","date":"2011-08-25T00:49:40.177Z","type":"message"}
{"nick":"piscisaureus","message":"^-- happens on EOF :-/","date":"2011-08-25T00:49:48.909Z","type":"message"}
{"nick":"piscisaureus","message":"and the uv_last_error().code == UV_EOF really","date":"2011-08-25T00:50:13.273Z","type":"message"}
{"nick":"isaacs[away]","new_nick":"isaacs","date":"2011-08-25T00:51:31.285Z","type":"nick"}
{"nick":"ryah","message":"piscisaureus: could be related to this change: cf2e68d960750dbe36367463168764d7a32ddcb9","date":"2011-08-25T00:53:20.616Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2011-08-25T00:53:43.455Z","type":"message"}
{"nick":"piscisaureus","message":"yeah I can see that it fails there","date":"2011-08-25T00:53:49.822Z","type":"message"}
{"nick":"piscisaureus","message":"let me track that down too","date":"2011-08-25T00:53:53.653Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: this pipe thing is also breaking test/simple/test-repl.js, i think","date":"2011-08-25T00:54:27.247Z","type":"message"}
{"nick":"ryah","message":"it's really unfortunate that windows uses backslashes for paths","date":"2011-08-25T00:56:59.927Z","type":"message"}
{"nick":"ryah","message":"since they are the escape character..","date":"2011-08-25T00:57:10.822Z","type":"message"}
{"nick":"piscisaureus","action":"calls bill again","date":"2011-08-25T00:57:25.741Z","type":"action"}
{"nick":"DrPizza","message":"ryah: node needs to provide a path delimiter so that paths can be built up in user code in a platform independent way","date":"2011-08-25T00:57:38.372Z","type":"message"}
{"nick":"DrPizza","message":"fs.DIRECTORY_SEPARATOR","date":"2011-08-25T00:57:46.529Z","type":"message"}
{"nick":"ryah","message":"DrPizza: sure","date":"2011-08-25T00:57:53.010Z","type":"message"}
{"nick":"piscisaureus","message":"bill thinks forward slashes should have been the directory separator","date":"2011-08-25T00:57:57.292Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: Igorzi: windows can deal with / just fine","date":"2011-08-25T00:58:10.010Z","type":"message"}
{"nick":"piscisaureus","message":"use that","date":"2011-08-25T00:58:12.178Z","type":"message"}
{"nick":"piscisaureus","message":"er","date":"2011-08-25T00:58:19.182Z","type":"message"}
{"nick":"DrPizza","message":"no, windows cannot deal with / \"just fine\"","date":"2011-08-25T00:58:22.158Z","type":"message"}
{"nick":"CIA-75","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002738e2da\u000f \u000310\u000f/ (test/test-getsockname.c test/test-list.h)\u0002:\u000f test: add udp getsockname test - http://git.io/LKWGxQ","date":"2011-08-25T00:58:22.314Z","type":"message"}
{"nick":"DrPizza","message":"_most_ bits of Windows can deal with / _most_ of the time","date":"2011-08-25T00:58:31.535Z","type":"message"}
{"nick":"DrPizza","message":"but LFNs (> MAX_PATH) cannot","date":"2011-08-25T00:58:40.277Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: like, which bit?","date":"2011-08-25T00:58:46.802Z","type":"message"}
{"nick":"piscisaureus","message":"oh really","date":"2011-08-25T00:58:58.924Z","type":"message"}
{"nick":"piscisaureus","message":"we should replace that then","date":"2011-08-25T00:59:02.506Z","type":"message"}
{"nick":"DrPizza","message":"long paths, \\\\?\\ style ones, must use backslashes","date":"2011-08-25T00:59:02.747Z","type":"message"}
{"nick":"piscisaureus","message":"oh yeah","date":"2011-08-25T00:59:09.642Z","type":"message"}
{"nick":"piscisaureus","message":"long paths must also prepend \\\\?\\","date":"2011-08-25T00:59:22.840Z","type":"message"}
{"nick":"piscisaureus","message":"we should deal with that in libuv","date":"2011-08-25T00:59:29.579Z","type":"message"}
{"nick":"DrPizza","message":"I think they may have some extra constraints, like not allowing internal ..\\ as well","date":"2011-08-25T00:59:32.038Z","type":"message"}
{"nick":"piscisaureus","message":"maybe not double \\\\ too","date":"2011-08-25T00:59:45.835Z","type":"message"}
{"nick":"DrPizza","message":"so they must be full absolute paths","date":"2011-08-25T00:59:53.152Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: we also have path.resolve etc","date":"2011-08-25T01:00:12.635Z","type":"message"}
{"nick":"piscisaureus","message":"irons the path","date":"2011-08-25T01:00:19.029Z","type":"message"}
{"nick":"DrPizza","message":"I do wonder sometimes if Java's rather verbose file handling is the right model to follow.","date":"2011-08-25T01:01:52.889Z","type":"message"}
{"nick":"piscisaureus","message":"I like that msvc knows to rebuild node_javascript when a .js has changed","date":"2011-08-25T01:01:55.203Z","type":"message"}
{"nick":"piscisaureus","message":"gyp++","date":"2011-08-25T01:02:05.005Z","type":"message"}
{"nick":"DrPizza","message":"the Java File class is not a file","date":"2011-08-25T01:02:06.668Z","type":"message"}
{"nick":"DrPizza","message":"it is an abstracted notion of filename with path","date":"2011-08-25T01:02:13.639Z","type":"message"}
{"nick":"DrPizza","message":"and contains various operations for constructing paths and files in a platform-independent way","date":"2011-08-25T01:02:28.919Z","type":"message"}
{"nick":"ryah","message":"[12:45|% 100|+ 544|-   2]: Done <-- OSX, make test-all","date":"2011-08-25T01:03:23.372Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: it looks like errno is not defined in net_uv.js","date":"2011-08-25T01:03:26.230Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: it's set in node.cc","date":"2011-08-25T01:03:36.273Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: errno is set in C++","date":"2011-08-25T01:03:43.583Z","type":"message"}
{"nick":"piscisaureus","message":"er i should go bed","date":"2011-08-25T01:03:59.849Z","type":"message"}
{"nick":"DrPizza","message":"lol","date":"2011-08-25T01:04:15.815Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yes go to sleep :)","date":"2011-08-25T01:05:24.830Z","type":"message"}
{"nick":"rmustacc","date":"2011-08-25T01:11:58.389Z","type":"part"}
{"nick":"ryah","message":"~/node>  fsutil.exe file createnew \"c:\\Users\\ryan\\node\\test\\tmp\\big\" 10485760","date":"2011-08-25T01:13:39.963Z","type":"message"}
{"nick":"ryah","message":"The FSUTIL utility requires that you have administrative privileges.","date":"2011-08-25T01:13:40.462Z","type":"message"}
{"nick":"ryah","message":"groan","date":"2011-08-25T01:13:43.302Z","type":"message"}
{"nick":"ryah","message":"nothing can ever be easy, can it?","date":"2011-08-25T01:13:50.599Z","type":"message"}
{"nick":"DrPizza","message":"hmm","date":"2011-08-25T01:14:10.307Z","type":"message"}
{"nick":"DrPizza","message":"that's a bit annoying","date":"2011-08-25T01:14:24.622Z","type":"message"}
{"nick":"DrPizza","message":"since that particular operation obviously doesn't need privileges","date":"2011-08-25T01:14:30.277Z","type":"message"}
{"nick":"ryah","message":"we should just write some utilities in python","date":"2011-08-25T01:15:03.647Z","type":"message"}
{"nick":"DrPizza","message":"yes, that would probably be easiest","date":"2011-08-25T01:15:22.963Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: okay, I am going to bed","date":"2011-08-25T01:21:12.232Z","type":"message"}
{"nick":"piscisaureus","message":"I have figured out what was wrong with the pipe","date":"2011-08-25T01:21:19.120Z","type":"message"}
{"nick":"piscisaureus","message":"it boils down to it being impossible to shutdown a pipe on windows","date":"2011-08-25T01:21:41.392Z","type":"message"}
{"nick":"piscisaureus","message":"(plus a bug)","date":"2011-08-25T01:21:53.244Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: we should decide what we want to do with this","date":"2011-08-25T01:22:03.636Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: those tests were working before - so it seems like we should be able to make them work","date":"2011-08-25T01:22:28.861Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: but go to bed - we'll discuss later","date":"2011-08-25T01:22:37.133Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-08-25T01:22:40.476Z","type":"message"}
{"nick":"piscisaureus","message":"see ya","date":"2011-08-25T01:22:44.417Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: we should hold the release until this pipe bug is fixed","date":"2011-08-25T01:23:37.749Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: okay","date":"2011-08-25T01:23:43.889Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, piscisaureus","date":"2011-08-25T01:23:58.065Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: moving unix dgrams into a separate module? good idea or not?","date":"2011-08-25T01:24:34.773Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: thanks","date":"2011-08-25T01:32:17.040Z","type":"message"}
{"nick":"piscisaureus","message":"the pipe bug btw is unfixable on windows","date":"2011-08-25T01:32:25.089Z","type":"message"}
{"nick":"DrPizza","message":"what's the bug?","date":"2011-08-25T01:32:47.718Z","type":"message"}
{"nick":"piscisaureus","message":"of course I can make the test pass but I can easily write another valid test that will fail","date":"2011-08-25T01:32:49.852Z","type":"message"}
{"nick":"DrPizza","message":"is it more to do with the inability to tell the other end that you've closed the pipe?","date":"2011-08-25T01:32:58.558Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-08-25T01:33:02.056Z","type":"message"}
{"nick":"DrPizza","message":"hmm yes","date":"2011-08-25T01:33:17.736Z","type":"message"}
{"nick":"DrPizza","message":"is the intent still to have a kind of \"IPC pipe\" with a well-established protocol for shutdown?","date":"2011-08-25T01:33:36.312Z","type":"message"}
{"nick":"piscisaureus","message":"basically pipes on windows should not support stream.end; just stream.destroySoon().","date":"2011-08-25T01:33:37.153Z","type":"message"}
{"nick":"DrPizza","message":"(zero write)","date":"2011-08-25T01:33:40.789Z","type":"message"}
{"nick":"piscisaureus","message":"won't be zero write","date":"2011-08-25T01:33:49.571Z","type":"message"}
{"nick":"piscisaureus","message":"I don't want to think about that now","date":"2011-08-25T01:33:58.564Z","type":"message"}
{"nick":"DrPizza","message":"hmm, I thought an un-coalesced zero write was the easiest approach","date":"2011-08-25T01:34:16.869Z","type":"message"}
{"nick":"DrPizza","message":"ryah: https://github.com/joyent/node/pull/1584","date":"2011-08-25T01:40:14.604Z","type":"message"}
{"nick":"DrPizza","message":"ryah: small gyp change that makes MSVS include node's .h files in its tree","date":"2011-08-25T01:41:22.668Z","type":"message"}
{"nick":"ryah","message":"DrPizza: thanks","date":"2011-08-25T02:13:19.608Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f \u000303Peter Bright\u000f \u000307master\u000f * r\u000264b4168\u000f \u000310\u000f/ node.gyp \u0002:\u000f Add headers to improve the IDE experience. - http://git.io/ffM6Vw","date":"2011-08-25T02:13:24.145Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-08-25T02:14:50.111Z","type":"quit"}
{"nick":"ryah","message":"bnoordhuis: not sure about the unix dgram situation","date":"2011-08-25T02:16:25.363Z","type":"message"}
{"nick":"ryah","message":"i don't think people really want it","date":"2011-08-25T02:16:36.684Z","type":"message"}
{"nick":"ryah","message":"they just think they do","date":"2011-08-25T02:16:43.839Z","type":"message"}
{"nick":"ryah","message":"which is why we should not ask them about it","date":"2011-08-25T02:16:56.176Z","type":"message"}
{"nick":"bnoordhuis","message":"hah","date":"2011-08-25T02:17:00.889Z","type":"message"}
{"nick":"DrPizza","message":"much better to remove features, and if people notice get them to justify their actual use case","date":"2011-08-25T02:18:15.285Z","type":"message"}
{"nick":"DrPizza","message":"rather than ask them and get a load of bullshit \"what-if\" nonsense","date":"2011-08-25T02:18:22.716Z","type":"message"}
{"nick":"piscisaureus","date":"2011-08-25T02:18:44.184Z","type":"join"}
{"nick":"ryah","message":"our job is to provide a simple means of making network servers - i dont think unix dgrams further that goal","date":"2011-08-25T02:19:01.065Z","type":"message"}
{"nick":"ryah","message":"i could be wrong","date":"2011-08-25T02:19:06.679Z","type":"message"}
{"nick":"bnoordhuis","message":"cluster seems to use it for stateless communication between instances","date":"2011-08-25T02:20:15.164Z","type":"message"}
{"nick":"bnoordhuis","message":"but i suppose unix stream sockets would work for that too","date":"2011-08-25T02:20:29.359Z","type":"message"}
{"nick":"bnoordhuis","message":"double-checked it, stream sockets would work just as well for them","date":"2011-08-25T02:24:39.681Z","type":"message"}
{"nick":"ryah","message":"suyes","date":"2011-08-25T02:31:34.557Z","type":"message"}
{"nick":"ryah","message":"*yes","date":"2011-08-25T02:31:39.288Z","type":"message"}
{"nick":"ryah","message":"anyway - we're going to be pulling cluster's functionality into core","date":"2011-08-25T02:35:37.774Z","type":"message"}
{"nick":"ryah","message":"listen(800, { share: true }); ...etc","date":"2011-08-25T02:35:59.444Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 258 seconds","date":"2011-08-25T02:42:41.199Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2011-08-25T02:48:32.818Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-08-25T02:58:00.803Z","type":"quit"}
{"nick":"ryah","message":"ragel is such a great piece of software","date":"2011-08-25T03:18:16.801Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, you think so?","date":"2011-08-25T03:24:29.557Z","type":"message"}
{"nick":"ryah","message":"yeah it really changed how i think about servers","date":"2011-08-25T03:38:38.117Z","type":"message"}
{"nick":"ryah","message":"thought","date":"2011-08-25T03:38:48.089Z","type":"message"}
{"nick":"isaacs","date":"2011-08-25T03:43:28.377Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 268 seconds","date":"2011-08-25T04:40:53.076Z","type":"quit"}
{"nick":"isaacs","message":"anyone know where ssh configs get set when you're using PuTTY?","date":"2011-08-25T05:32:28.671Z","type":"message"}
{"nick":"DrPizza","message":"they get put in the registry","date":"2011-08-25T05:36:17.532Z","type":"message"}
{"nick":"DrPizza","message":"HKCU\\Software\\SimonTatham","date":"2011-08-25T05:40:46.652Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-08-25T07:39:11.217Z","type":"quit"}
{"nick":"mraleph","date":"2011-08-25T08:02:49.282Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-25T08:58:15.411Z","type":"quit"}
{"nick":"mraleph","date":"2011-08-25T09:01:34.915Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-25T09:13:52.700Z","type":"quit"}
{"nick":"mraleph","date":"2011-08-25T09:34:05.664Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-25T09:43:29.352Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-08-25T10:49:02.228Z","type":"join"}
{"nick":"bnoordhuis","date":"2011-08-25T12:00:55.286Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus: you around?","date":"2011-08-25T12:34:12.659Z","type":"message"}
{"nick":"piscisaureus","message":"yay","date":"2011-08-25T12:35:23.798Z","type":"message"}
{"nick":"piscisaureus","message":"but are you?","date":"2011-08-25T12:35:56.246Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis:","date":"2011-08-25T12:41:45.649Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i am","date":"2011-08-25T12:42:06.711Z","type":"message"}
{"nick":"bnoordhuis","message":"feel like ripping out UV_UDP_IPV6ONLY?","date":"2011-08-25T12:42:16.390Z","type":"message"}
{"nick":"piscisaureus","message":"well","date":"2011-08-25T12:42:36.242Z","type":"message"}
{"nick":"piscisaureus","message":"whatever","date":"2011-08-25T12:42:37.751Z","type":"message"}
{"nick":"piscisaureus","message":"I bet you can do the windows part as well","date":"2011-08-25T12:42:50.899Z","type":"message"}
{"nick":"bnoordhuis","message":"removing code is always easier than writing it :)","date":"2011-08-25T12:43:06.914Z","type":"message"}
{"nick":"piscisaureus","message":"exactly","date":"2011-08-25T12:43:14.189Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll remove the flags arg to uv_udp_bind* as well","date":"2011-08-25T12:43:14.410Z","type":"message"}
{"nick":"piscisaureus","message":"good","date":"2011-08-25T12:43:19.654Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what are you working on? that pipes thing?","date":"2011-08-25T12:43:52.488Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: the udp bug","date":"2011-08-25T12:44:09.667Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: the pipe thing is a design issue","date":"2011-08-25T12:44:17.429Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: udp bug == loop starvation issue?","date":"2011-08-25T12:44:30.416Z","type":"message"}
{"nick":"piscisaureus","message":"we need to decide what to do together","date":"2011-08-25T12:44:34.346Z","type":"message"}
{"nick":"bnoordhuis","message":"i want us to drink tea and eat biscuits","date":"2011-08-25T12:44:51.780Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, biscuits!","date":"2011-08-25T12:44:55.395Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: no it is the STATUS_BUFFER_OVERFLOW problem","date":"2011-08-25T12:45:07.474Z","type":"message"}
{"nick":"bnoordhuis","message":"i've probably missed that discussion","date":"2011-08-25T12:45:23.486Z","type":"message"}
{"nick":"piscisaureus","message":"I can explain that but only on skype if you care","date":"2011-08-25T12:46:05.394Z","type":"message"}
{"nick":"bnoordhuis","message":"hah okay, in half an hour or so?","date":"2011-08-25T12:46:14.740Z","type":"message"}
{"nick":"piscisaureus","message":"whatever you like","date":"2011-08-25T12:46:26.287Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll ping you in a bit","date":"2011-08-25T12:46:33.259Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: later also okay?","date":"2011-08-25T13:07:33.301Z","type":"message"}
{"nick":"piscisaureus","message":"moet mijn rijbewijs aanvragen","date":"2011-08-25T13:07:42.585Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: sure","date":"2011-08-25T13:07:43.178Z","type":"message"}
{"nick":"bnoordhuis","message":"have fun :)","date":"2011-08-25T13:07:55.051Z","type":"message"}
{"nick":"piscisaureus","message":"fun :-/","date":"2011-08-25T13:07:59.753Z","type":"message"}
{"nick":"piscisaureus","message":"ja tuurlijk","date":"2011-08-25T13:08:02.512Z","type":"message"}
{"nick":"piscisaureus","message":"heb jij hem eigenlijk al?","date":"2011-08-25T13:08:42.982Z","type":"message"}
{"nick":"bnoordhuis","message":"nee","date":"2011-08-25T13:09:26.252Z","type":"message"}
{"nick":"bnoordhuis","message":"ik heb mijn vriendin","date":"2011-08-25T13:09:29.789Z","type":"message"}
{"nick":"bnoordhuis","message":"i still think deferred socket creation is a daft idea","date":"2011-08-25T13:11:52.897Z","type":"message"}
{"nick":"piscisaureus","message":"claft?","date":"2011-08-25T13:12:08.232Z","type":"message"}
{"nick":"bnoordhuis","message":"daft, silly, stupid, moronic","date":"2011-08-25T13:12:18.539Z","type":"message"}
{"nick":"bnoordhuis","message":"there's calls to uv__udp_maybe_deferred_bind littered over the code","date":"2011-08-25T13:12:52.113Z","type":"message"}
{"nick":"piscisaureus","message":"okay change it","date":"2011-08-25T13:13:00.823Z","type":"message"}
{"nick":"piscisaureus","message":"but do it consistently","date":"2011-08-25T13:13:05.186Z","type":"message"}
{"nick":"piscisaureus","message":"for tcp and udp","date":"2011-08-25T13:13:08.758Z","type":"message"}
{"nick":"bnoordhuis","message":"whose idea was it? yours or ryah's?","date":"2011-08-25T13:13:19.843Z","type":"message"}
{"nick":"piscisaureus","action":"gone","date":"2011-08-25T13:13:20.325Z","type":"action"}
{"nick":"piscisaureus","message":"don't recall","date":"2011-08-25T13:13:26.335Z","type":"message"}
{"nick":"bnoordhuis","message":"hf piscisaureus :)","date":"2011-08-25T13:13:26.497Z","type":"message"}
{"nick":"piscisaureus","message":"prolly ryah","date":"2011-08-25T13:13:29.579Z","type":"message"}
{"nick":"piscisaureus","message":"I thin kthe idea was to make tcp_init unfallt unfallible","date":"2011-08-25T13:14:53.760Z","type":"message"}
{"nick":"piscisaureus","message":"not sure","date":"2011-08-25T13:15:00.036Z","type":"message"}
{"nick":"DrPizza","message":"yes, ryah was planning to make the inits unfailailable.","date":"2011-08-25T13:27:14.453Z","type":"message"}
{"nick":"ryah","message":"i had a good idea last night","date":"2011-08-25T13:49:48.682Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-08-25T13:49:50.145Z","type":"message"}
{"nick":"ryah","message":"i think i can implement it quickly. new feature for node.","date":"2011-08-25T13:50:33.185Z","type":"message"}
{"nick":"bnoordhuis","message":"the suspense! it's killing me!","date":"2011-08-25T13:50:56.365Z","type":"message"}
{"nick":"ryah","message":"green threads","date":"2011-08-25T13:51:35.381Z","type":"message"}
{"nick":"ryah","message":"very fast ones","date":"2011-08-25T13:51:43.212Z","type":"message"}
{"nick":"bnoordhuis","message":"er, like fibers?","date":"2011-08-25T13:52:10.051Z","type":"message"}
{"nick":"ryah","message":"no. you'll see. i dont want to spoil it. :)","date":"2011-08-25T13:52:25.043Z","type":"message"}
{"nick":"bnoordhuis","message":"consider my interest piqued","date":"2011-08-25T13:52:54.120Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: do you have time for a call about the pipe issue?","date":"2011-08-25T14:01:54.189Z","type":"message"}
{"nick":"ryah","message":"i have a call for 1 hour, but then i should be free","date":"2011-08-25T14:02:05.241Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I have time now","date":"2011-08-25T14:02:40.325Z","type":"message"}
{"nick":"piscisaureus","message":"or, whenever","date":"2011-08-25T14:02:49.742Z","type":"message"}
{"nick":"piscisaureus","message":"probably the next 3 hours or so at least","date":"2011-08-25T14:02:57.378Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: okay i'll ping you in about an hour","date":"2011-08-25T14:03:15.924Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: should I still explain the udp bug?","date":"2011-08-25T14:03:36.097Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: sure","date":"2011-08-25T14:04:03.292Z","type":"message"}
{"nick":"piscisaureus","message":"okay","date":"2011-08-25T14:04:15.062Z","type":"message"}
{"nick":"piscisaureus","message":"let me turn off justin bieber","date":"2011-08-25T14:04:19.545Z","type":"message"}
{"nick":"piscisaureus","message":"then I'll call you","date":"2011-08-25T14:04:22.194Z","type":"message"}
{"nick":"bnoordhuis","message":"i like justin bieber","date":"2011-08-25T14:04:39.376Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to get me a justin bieber haircut","date":"2011-08-25T14:04:46.963Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: now?","date":"2011-08-25T15:26:01.915Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: want to join too?","date":"2011-08-25T15:26:07.276Z","type":"message"}
{"nick":"ryah","message":"http://ldapjs.org/ <-- checkout this awesomeness","date":"2011-08-25T15:26:39.961Z","type":"message"}
{"nick":"ryah","message":"(dont tweet that - still private)","date":"2011-08-25T15:26:54.240Z","type":"message"}
{"nick":"piscisaureus","message":"let me turn off leekspin first","date":"2011-08-25T15:28:22.722Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: yeah ok","date":"2011-08-25T15:28:44.432Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: http://www.youtube.com/watch?v=1wnE4vF9CQ4","date":"2011-08-25T15:46:07.954Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: can we skype again?","date":"2011-08-25T15:59:36.102Z","type":"message"}
{"nick":"piscisaureus","message":"I think a timeout trick may work","date":"2011-08-25T15:59:42.108Z","type":"message"}
{"nick":"piscisaureus","message":"to do something not quite correct but reasonable","date":"2011-08-25T15:59:53.576Z","type":"message"}
{"nick":"piscisaureus","message":"or hmm maybe not skype","date":"2011-08-25T16:00:14.132Z","type":"message"}
{"nick":"piscisaureus","message":"it's just","date":"2011-08-25T16:00:16.193Z","type":"message"}
{"nick":"rmustacc","date":"2011-08-25T16:01:33.189Z","type":"join"}
{"nick":"ryah","message":"piscisaureus: back","date":"2011-08-25T16:02:06.105Z","type":"message"}
{"nick":"ryah","message":"yes lets skype","date":"2011-08-25T16:02:09.088Z","type":"message"}
{"nick":"piscisaureus","message":"what if we do this:","date":"2011-08-25T16:02:15.621Z","type":"message"}
{"nick":"piscisaureus","message":"1. flush the usermode buffer and the kernel buffer","date":"2011-08-25T16:02:15.783Z","type":"message"}
{"nick":"piscisaureus","message":"2. start a timer.","date":"2011-08-25T16:02:15.783Z","type":"message"}
{"nick":"piscisaureus","message":"  (every time we receive something we restart the timer)","date":"2011-08-25T16:02:15.783Z","type":"message"}
{"nick":"piscisaureus","message":"3. after having not received something for a while,","date":"2011-08-25T16:02:15.783Z","type":"message"}
{"nick":"piscisaureus","message":"\u0003  - report EOF to the read callback\u0003","date":"2011-08-25T16:02:16.102Z","type":"message"}
{"nick":"piscisaureus","message":"  - implicitly stop reading","date":"2011-08-25T16:02:16.263Z","type":"message"}
{"nick":"piscisaureus","message":"  - close the pipe","date":"2011-08-25T16:02:17.199Z","type":"message"}
{"nick":"piscisaureus","message":"4. the other end then sees ERROR_PIPE_BROKEN","date":"2011-08-25T16:02:17.353Z","type":"message"}
{"nick":"piscisaureus","message":"5. ERROR_PIPE_BROKEN gets mapped to EOF as well","date":"2011-08-25T16:02:39.193Z","type":"message"}
{"nick":"ryah","message":"the timer must be very small","date":"2011-08-25T16:03:31.700Z","type":"message"}
{"nick":"ryah","message":"like 1 tick","date":"2011-08-25T16:03:41.239Z","type":"message"}
{"nick":"piscisaureus","message":"maybe use uv_check for it?","date":"2011-08-25T16:04:08.883Z","type":"message"}
{"nick":"ryah","message":"1. flush user space buffer, once this is done","date":"2011-08-25T16:04:17.870Z","type":"message"}
{"nick":"DrPizza","message":"I don't see how any of that is safe, zero writes are a legitimate thing to do to a pipe","date":"2011-08-25T16:04:19.049Z","type":"message"}
{"nick":"ryah","message":"2. queue completion packet","date":"2011-08-25T16:04:26.203Z","type":"message"}
{"nick":"DrPizza","message":"how can you impose this policy on generic pipes?","date":"2011-08-25T16:04:32.169Z","type":"message"}
{"nick":"ryah","message":"3. on completion packet - try to read - if you read something go to 2","date":"2011-08-25T16:04:51.417Z","type":"message"}
{"nick":"ryah","message":"if not close","date":"2011-08-25T16:05:02.589Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: hmm","date":"2011-08-25T16:05:19.653Z","type":"message"}
{"nick":"piscisaureus","message":"what if the other end needs some time to process your last write before it returns?","date":"2011-08-25T16:05:41.540Z","type":"message"}
{"nick":"DrPizza","message":"if you know it's libuv on both ends, do a zero write and then wait for a zero write in response, as an ack.","date":"2011-08-25T16:05:43.166Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: then its fucked","date":"2011-08-25T16:05:53.573Z","type":"message"}
{"nick":"ryah","message":"im guessing most pipe users have a graceful shutdown at a protocol layer","date":"2011-08-25T16:06:16.725Z","type":"message"}
{"nick":"piscisaureus","message":"all of them sure","date":"2011-08-25T16:06:23.070Z","type":"message"}
{"nick":"ryah","message":"so hopefully that doesn thappen","date":"2011-08-25T16:06:24.378Z","type":"message"}
{"nick":"piscisaureus","message":"http is also fine","date":"2011-08-25T16:06:31.108Z","type":"message"}
{"nick":"piscisaureus","message":"because the client writes everything first","date":"2011-08-25T16:06:50.956Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ok","date":"2011-08-25T16:07:05.766Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: but I still want to expose the flush-kernel-buffer function as such","date":"2011-08-25T16:07:25.605Z","type":"message"}
{"nick":"piscisaureus","message":"so desroySoon has the same semantics as http","date":"2011-08-25T16:07:56.298Z","type":"message"}
{"nick":"ryah","message":"why?","date":"2011-08-25T16:07:58.909Z","type":"message"}
{"nick":"piscisaureus","message":"^","date":"2011-08-25T16:08:04.394Z","type":"message"}
{"nick":"ryah","message":"destroySoon = flush user buffer, close","date":"2011-08-25T16:08:16.383Z","type":"message"}
{"nick":"ryah","message":"we can do that with libuv now","date":"2011-08-25T16:08:22.133Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: not exactly","date":"2011-08-25T16:08:28.733Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: tcp sockets do a graceful disconnect if you close()","date":"2011-08-25T16:08:37.272Z","type":"message"}
{"nick":"ryah","message":"no","date":"2011-08-25T16:08:44.119Z","type":"message"}
{"nick":"piscisaureus","message":"the kernel send buffer doesn't get discarded","date":"2011-08-25T16:08:44.511Z","type":"message"}
{"nick":"DrPizza","message":"the pipe user will only say desotrySoon when they've received their \"end of message\" application-level data","date":"2011-08-25T16:08:47.733Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: I thought flushing was sufficient?","date":"2011-08-25T16:08:57.353Z","type":"message"}
{"nick":"DrPizza","message":"to let the remote end read","date":"2011-08-25T16:09:00.103Z","type":"message"}
{"nick":"DrPizza","message":"i.e. you could flush then close and it would be safe","date":"2011-08-25T16:09:05.184Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: for pipes the kernel send buffer gets discarded","date":"2011-08-25T16:09:18.728Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: yes it is sufficient","date":"2011-08-25T16:09:31.190Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: well you need to flush that on close","date":"2011-08-25T16:09:32.173Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: allright","date":"2011-08-25T16:09:39.162Z","type":"message"}
{"nick":"DrPizza","message":"so...","date":"2011-08-25T16:09:39.474Z","type":"message"}
{"nick":"DrPizza","message":"app knows it needs to tear down the pipe","date":"2011-08-25T16:09:44.319Z","type":"message"}
{"nick":"ryah","message":"close should always flush the kernel send buffer","date":"2011-08-25T16:09:44.628Z","type":"message"}
{"nick":"DrPizza","message":"it calls pipe.close()","date":"2011-08-25T16:09:49.827Z","type":"message"}
{"nick":"DrPizza","message":"uv flushes the pipe","date":"2011-08-25T16:09:53.346Z","type":"message"}
{"nick":"DrPizza","message":"and closes the handle","date":"2011-08-25T16:09:55.413Z","type":"message"}
{"nick":"DrPizza","message":"and the other end is happy","date":"2011-08-25T16:09:59.738Z","type":"message"}
{"nick":"DrPizza","message":"because the other end is what told the app to close it in the first place","date":"2011-08-25T16:10:07.771Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: okay - but flushing is pretty complicated","date":"2011-08-25T16:10:40.560Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: it requires to go to the thread pool etc","date":"2011-08-25T16:10:56.790Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: when would you not want to flush - if you have outbound data","date":"2011-08-25T16:10:59.821Z","type":"message"}
{"nick":"ryah","message":"you almost never want to discard that","date":"2011-08-25T16:11:09.953Z","type":"message"}
{"nick":"DrPizza","message":"flushing is always safe to do","date":"2011-08-25T16:11:15.034Z","type":"message"}
{"nick":"ryah","message":"and in unix we cannot discard it","date":"2011-08-25T16:11:15.331Z","type":"message"}
{"nick":"DrPizza","message":"worst case, the buffer gets discarded because the other end closes the handle","date":"2011-08-25T16:11:23.214Z","type":"message"}
{"nick":"ryah","message":"uv_close = flush kernel. im sorry that windows doesn't do that automatically","date":"2011-08-25T16:11:47.267Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: on unix you discard with setsockopt(fd, SO_DONTLINGER, &yes) before close","date":"2011-08-25T16:12:20.543Z","type":"message"}
{"nick":"piscisaureus","message":"but yeah your point is valid","date":"2011-08-25T16:12:27.840Z","type":"message"}
{"nick":"piscisaureus","message":"you almost never want to do this","date":"2011-08-25T16:12:34.609Z","type":"message"}
{"nick":"ryah","message":"linger is something different AFAIK","date":"2011-08-25T16:12:59.903Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: no","date":"2011-08-25T16:13:07.115Z","type":"message"}
{"nick":"ryah","message":"that's about waiting for the fin packet of the other side","date":"2011-08-25T16:13:08.496Z","type":"message"}
{"nick":"ryah","message":"whether close() should block until its recved","date":"2011-08-25T16:13:38.172Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: there are several linger options","date":"2011-08-25T16:13:48.799Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: basically there are:","date":"2011-08-25T16:14:55.137Z","type":"message"}
{"nick":"piscisaureus","message":"- close() blocks","date":"2011-08-25T16:14:55.300Z","type":"message"}
{"nick":"piscisaureus","message":"- the kernel tries to deliver the kernel send buffer for a finite amount of time","date":"2011-08-25T16:14:55.300Z","type":"message"}
{"nick":"piscisaureus","message":"- forced disconnect. the other end sees ECONNRESET","date":"2011-08-25T16:14:55.300Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: oh i see","date":"2011-08-25T16:16:00.891Z","type":"message"}
{"nick":"piscisaureus","message":"linux does not have the last option","date":"2011-08-25T16:16:07.547Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: so does this sound like a plan for the pipe shutdown?","date":"2011-08-25T16:18:16.468Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: yes","date":"2011-08-25T16:18:22.262Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: wait one tick?","date":"2011-08-25T16:18:25.560Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2011-08-25T16:18:36.706Z","type":"message"}
{"nick":"piscisaureus","message":"maybe a little more","date":"2011-08-25T16:18:44.656Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-08-25T16:18:45.400Z","type":"message"}
{"nick":"ryah","message":"2 ticks?","date":"2011-08-25T16:18:53.212Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-08-25T16:18:56.929Z","type":"message"}
{"nick":"ryah","message":"just wait one tick","date":"2011-08-25T16:19:04.684Z","type":"message"}
{"nick":"ryah","message":"end() - flush user buffer - queue packet - read - if read something queue packet again","date":"2011-08-25T16:19:33.957Z","type":"message"}
{"nick":"ryah","message":"when you cant read something flush kerenl, close","date":"2011-08-25T16:19:52.844Z","type":"message"}
{"nick":"ryah","message":"any uv_writes that happen in the meantime cause error","date":"2011-08-25T16:20:03.873Z","type":"message"}
{"nick":"ryah","message":"this should be enough to get most of our tests working","date":"2011-08-25T16:20:38.314Z","type":"message"}
{"nick":"ryah","message":"and i think practically it's not going to matter","date":"2011-08-25T16:20:47.585Z","type":"message"}
{"nick":"ryah","message":"for most users","date":"2011-08-25T16:20:50.745Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ok","date":"2011-08-25T16:24:37.404Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: we should probably document it anyway though","date":"2011-08-25T16:24:49.791Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-08-25T16:24:59.923Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: and I still think 1 tick may be very low. It can be like < 0.01 ms","date":"2011-08-25T16:25:16.156Z","type":"message"}
{"nick":"piscisaureus","message":"this is gonna be complicated to implement","date":"2011-08-25T16:26:14.216Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: is there an easy way we can get test-net-pingpong working again?","date":"2011-08-25T16:27:00.339Z","type":"message"}
{"nick":"ryah","message":"and do the better fix later?","date":"2011-08-25T16:27:06.386Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-08-25T16:27:13.584Z","type":"message"}
{"nick":"ryah","message":"let's do that - i just want that test passing","date":"2011-08-25T16:27:23.659Z","type":"message"}
{"nick":"ryah","message":"and let's get an issue going for discussion of named pipe shutdown","date":"2011-08-25T16:28:49.903Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: are you doing NKO?","date":"2011-08-25T16:34:11.750Z","type":"message"}
{"nick":"piscisaureus","message":"NKO","date":"2011-08-25T16:34:30.896Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-08-25T16:34:31.975Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ^","date":"2011-08-25T16:36:26.536Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2011-08-25T16:37:01.174Z","type":"quit"}
{"nick":"ryah","message":"node knockout","date":"2011-08-25T16:39:19.833Z","type":"message"}
{"nick":"ryah","message":"http://joyeur.com/2011/08/24/events-node-js-knockout/","date":"2011-08-25T16:39:31.476Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: oh","date":"2011-08-25T16:40:00.715Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I am not in a team","date":"2011-08-25T16:40:04.222Z","type":"message"}
{"nick":"piscisaureus","message":"so, no","date":"2011-08-25T16:40:09.235Z","type":"message"}
{"nick":"piscisaureus","message":"are you?","date":"2011-08-25T16:40:11.017Z","type":"message"}
{"nick":"ryah","message":"nope","date":"2011-08-25T16:40:16.778Z","type":"message"}
{"nick":"ryah","message":"i get to fix bugs all weekend","date":"2011-08-25T16:40:30.137Z","type":"message"}
{"nick":"piscisaureus","message":"I am writing a multiplayer version of gorilla.bas","date":"2011-08-25T16:41:31.378Z","type":"message"}
{"nick":"piscisaureus","message":"to demo node","date":"2011-08-25T16:41:41.461Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-08-25T16:47:29.916Z","type":"join"}
{"nick":"bnoordhuis","message":"dishwashers! rage!","date":"2011-08-25T16:48:22.081Z","type":"message"}
{"nick":"bnoordhuis","message":"i hate today's household appliances","date":"2011-08-25T16:48:29.225Z","type":"message"}
{"nick":"bnoordhuis","message":"beep beep beep and no indication of what's wrong","date":"2011-08-25T16:48:43.409Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: attach a debugger","date":"2011-08-25T16:48:57.594Z","type":"message"}
{"nick":"bnoordhuis","message":"i did try a hard reboot :)","date":"2011-08-25T16:49:24.258Z","type":"message"}
{"nick":"piscisaureus","message":"I thought unix hackers didn't do that","date":"2011-08-25T16:49:47.171Z","type":"message"}
{"nick":"bnoordhuis","message":"no, but i'm pretty sure my dishwasher isn't running a unix","date":"2011-08-25T16:50:11.411Z","type":"message"}
{"nick":"bnoordhuis","message":"well, maybe netbsd","date":"2011-08-25T16:50:14.818Z","type":"message"}
{"nick":"bnoordhuis","message":"i believe the ldapjs thing's already leaked","date":"2011-08-25T16:51:24.276Z","type":"message"}
{"nick":"piscisaureus","message":"I really don't understand what drives these people to maintain all these exotic os-es","date":"2011-08-25T16:51:31.498Z","type":"message"}
{"nick":"piscisaureus","message":"I mean what's the poing of having fbsd and netbsd and openbsd","date":"2011-08-25T16:51:45.778Z","type":"message"}
{"nick":"piscisaureus","message":"there's probably another zillion other flavors that nobody uses","date":"2011-08-25T16:51:58.960Z","type":"message"}
{"nick":"bnoordhuis","message":"subscribe to their mailing lists and you'll soon find out :)","date":"2011-08-25T16:52:00.849Z","type":"message"}
{"nick":"bnoordhuis","message":"but at the core it's clashing egos","date":"2011-08-25T16:52:12.028Z","type":"message"}
{"nick":"DrPizza","message":"in the case of openbsd, it's because theo de raadt is a sociopath","date":"2011-08-25T16:52:56.350Z","type":"message"}
{"nick":"ryah","message":"ldap.js seems so super useful","date":"2011-08-25T16:54:06.660Z","type":"message"}
{"nick":"bnoordhuis","message":"not to the nosql crowd :)","date":"2011-08-25T16:54:32.350Z","type":"message"}
{"nick":"bnoordhuis","message":"but yeah, it's pretty neat","date":"2011-08-25T16:54:38.279Z","type":"message"}
{"nick":"piscisaureus","message":"ldap isn't that what corporate address books use?","date":"2011-08-25T16:54:38.436Z","type":"message"}
{"nick":"ryah","message":"ldap.js + node on windows + the millions of exchange servers sitting around","date":"2011-08-25T16:55:18.362Z","type":"message"}
{"nick":"piscisaureus","message":"ok so","date":"2011-08-25T16:55:30.310Z","type":"message"}
{"nick":"piscisaureus","message":"this replaces active directory?","date":"2011-08-25T16:55:38.154Z","type":"message"}
{"nick":"piscisaureus","message":"don't tell igorz","date":"2011-08-25T16:55:44.973Z","type":"message"}
{"nick":"bnoordhuis","message":"AD is-a ldap, so to speak","date":"2011-08-25T16:56:16.319Z","type":"message"}
{"nick":"bnoordhuis","message":"or a superset of, really","date":"2011-08-25T16:56:34.399Z","type":"message"}
{"nick":"piscisaureus","message":"according to wikipedia","date":"2011-08-25T16:57:15.655Z","type":"message"}
{"nick":"piscisaureus","message":"AD == ldap + dns + kerberos","date":"2011-08-25T16:57:25.364Z","type":"message"}
{"nick":"piscisaureus","message":"which of these is not possible with node?","date":"2011-08-25T16:57:34.829Z","type":"message"}
{"nick":"bnoordhuis","message":"dns? or dhcp?","date":"2011-08-25T16:58:18.625Z","type":"message"}
{"nick":"piscisaureus","message":"no dns","date":"2011-08-25T16:58:25.844Z","type":"message"}
{"nick":"piscisaureus","message":"I don't think you can easily write a dns server in node","date":"2011-08-25T16:58:59.927Z","type":"message"}
{"nick":"bnoordhuis","message":"sure you can","date":"2011-08-25T16:59:05.241Z","type":"message"}
{"nick":"piscisaureus","message":"someone should try though","date":"2011-08-25T16:59:07.692Z","type":"message"}
{"nick":"piscisaureus","message":"sure it is possible","date":"2011-08-25T16:59:12.675Z","type":"message"}
{"nick":"bnoordhuis","message":"i did a while ago, the basics of anyway","date":"2011-08-25T16:59:24.594Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, i think there's a fairly complete dnsd implementation already","date":"2011-08-25T16:59:51.747Z","type":"message"}
{"nick":"bnoordhuis","message":"but only authorative, not recursive and no zone transfers","date":"2011-08-25T17:00:08.555Z","type":"message"}
{"nick":"bnoordhuis","message":"*authoritative","date":"2011-08-25T17:00:19.348Z","type":"message"}
{"nick":"bnoordhuis","message":"i suspect proper kerberos support is a lot harder to implement","date":"2011-08-25T17:01:44.906Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: ETA on test-net-pingpong fix?","date":"2011-08-25T17:07:24.262Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: dinner now","date":"2011-08-25T17:10:52.127Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: what's the #1 prio for this week? improving http_simple performance?","date":"2011-08-25T17:11:40.994Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: #1 priority right now is getting v0.5.5 out","date":"2011-08-25T17:13:56.686Z","type":"message"}
{"nick":"ryah","message":"then perf","date":"2011-08-25T17:13:59.603Z","type":"message"}
{"nick":"bnoordhuis","message":"anything that needs to be done on the unix side?","date":"2011-08-25T17:14:13.923Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yes. 1sec","date":"2011-08-25T17:14:46.832Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2011-08-25T17:14:51.333Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: http://github.com/joyent/node/issues/1512","date":"2011-08-25T17:15:26.533Z","type":"message"}
{"nick":"bnoordhuis","action":"locks #1512","date":"2011-08-25T17:15:52.316Z","type":"action"}
{"nick":"brson","date":"2011-08-25T17:20:23.173Z","type":"join"}
{"nick":"CIA-75","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307v0.4\u000f * r\u00020c91a83\u000f \u000310\u000f/ (lib/util.js test/simple/test-console-not-call-toString.js)\u0002:\u000f ","date":"2011-08-25T17:24:36.433Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f util: isRegExp() should not call toString() on its argument","date":"2011-08-25T17:24:36.596Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f An overloaded toString() method may have side effects","date":"2011-08-25T17:24:36.596Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f so don't call it for a simple type check.","date":"2011-08-25T17:24:36.596Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f Back-port of 54b409d to the v0.4 branch. - http://git.io/r4b9Xg","date":"2011-08-25T17:24:36.596Z","type":"message"}
{"nick":"graydon","date":"2011-08-25T17:39:20.213Z","type":"join"}
{"nick":"DrPizza","message":"ryah: I still want to hear more about your green threads idea.+","date":"2011-08-25T17:47:33.105Z","type":"message"}
{"nick":"ryah","message":"DrPizza: im going to try to make a demo right now","date":"2011-08-25T17:47:49.681Z","type":"message"}
{"nick":"ryah","message":"basically it's collection of uv handles","date":"2011-08-25T17:48:19.947Z","type":"message"}
{"nick":"ryah","message":"any new handles that result from some callback from those handles get added to the collection","date":"2011-08-25T17:48:51.547Z","type":"message"}
{"nick":"ryah","message":"kill = destroy the collection + handles","date":"2011-08-25T17:49:05.801Z","type":"message"}
{"nick":"ryah","message":"uncaught exceptions can then be handled locally","date":"2011-08-25T17:49:41.888Z","type":"message"}
{"nick":"ryah","message":"the \"green thread\" is killed","date":"2011-08-25T17:49:52.183Z","type":"message"}
{"nick":"ryah","message":"nothing is parallel or blocking","date":"2011-08-25T17:50:03.191Z","type":"message"}
{"nick":"DrPizza","message":"I must be missing something","date":"2011-08-25T17:50:28.939Z","type":"message"}
{"nick":"DrPizza","message":"I will wait for the demo","date":"2011-08-25T17:50:31.725Z","type":"message"}
{"nick":"DrPizza","message":"each green thread is a collection of handles?","date":"2011-08-25T17:50:58.424Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-08-25T17:51:16.360Z","type":"message"}
{"nick":"DrPizza","message":"and it'll just execute each callback in turn until it explicitly yields?","date":"2011-08-25T17:51:33.785Z","type":"message"}
{"nick":"ryah","message":"it'll be scheduled by libuv","date":"2011-08-25T17:51:50.515Z","type":"message"}
{"nick":"DrPizza","message":"but how will libuv pre-empt each callback?","date":"2011-08-25T17:52:38.797Z","type":"message"}
{"nick":"ryah","message":"nothing blocks - no need to preempt","date":"2011-08-25T17:52:52.055Z","type":"message"}
{"nick":"DrPizza","message":"so if a callback does a for(;;) {} it'll just hang?","date":"2011-08-25T17:53:19.598Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-08-25T17:53:28.317Z","type":"message"}
{"nick":"ryah","message":"although i think i can add a watchdog timer","date":"2011-08-25T17:53:58.128Z","type":"message"}
{"nick":"ryah","message":"which will kill the current thread if it blocks too long","date":"2011-08-25T17:54:07.508Z","type":"message"}
{"nick":"ryah","message":"not sure if interrupting v8 like that is possible","date":"2011-08-25T17:54:48.121Z","type":"message"}
{"nick":"DrPizza","message":"hmm","date":"2011-08-25T17:54:59.447Z","type":"message"}
{"nick":"ryah","message":"yes v8::V8::TerminateExecution() will work for that","date":"2011-08-25T17:57:16.238Z","type":"message"}
{"nick":"DrPizza","message":"can that be safely called asynchronously?","date":"2011-08-25T17:59:26.224Z","type":"message"}
{"nick":"ryah","message":"damn it. i just layed out my grand plans for everyone to see.","date":"2011-08-25T17:59:26.555Z","type":"message"}
{"nick":"DrPizza","message":":o","date":"2011-08-25T17:59:31.294Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-08-25T17:59:34.366Z","type":"message"}
{"nick":"ryah","message":"yes i think so - that's its purpose","date":"2011-08-25T17:59:48.558Z","type":"message"}
{"nick":"DrPizza","message":"ah","date":"2011-08-25T18:00:00.019Z","type":"message"}
{"nick":"DrPizza","message":"I wasn't sure if it was for some kind of an abort() to be called from within the JS context","date":"2011-08-25T18:00:10.719Z","type":"message"}
{"nick":"ryah","message":"but the watchdog stuff is just a cherry on top","date":"2011-08-25T18:00:19.711Z","type":"message"}
{"nick":"ryah","message":"the real win here is the \"kill\" operation","date":"2011-08-25T18:00:29.069Z","type":"message"}
{"nick":"DrPizza","message":"howso","date":"2011-08-25T18:00:50.344Z","type":"message"}
{"nick":"ryah","message":"it allows one to contain problems","date":"2011-08-25T18:01:25.724Z","type":"message"}
{"nick":"igorzi","message":"ryah: so each isolate would execute in its own \"green thread\"? or..?","date":"2011-08-25T18:01:30.165Z","type":"message"}
{"nick":"ryah","message":"igorzi: no this is inside a single isolate","date":"2011-08-25T18:01:40.153Z","type":"message"}
{"nick":"ryah","message":"say you have a server with 10000 connections","date":"2011-08-25T18:02:09.440Z","type":"message"}
{"nick":"ryah","message":"and one of them hits an exception somehow","date":"2011-08-25T18:02:16.417Z","type":"message"}
{"nick":"ryah","message":"it brings down the entire system","date":"2011-08-25T18:02:20.937Z","type":"message"}
{"nick":"DrPizza","message":"a native code exception you mean?","date":"2011-08-25T18:02:35.618Z","type":"message"}
{"nick":"ryah","message":"this is what i'm trying to solve","date":"2011-08-25T18:02:37.222Z","type":"message"}
{"nick":"ryah","message":"a javascript layer exception","date":"2011-08-25T18:02:47.498Z","type":"message"}
{"nick":"DrPizza","message":"or will an unhandled javascript exception bring it down too?","date":"2011-08-25T18:02:50.073Z","type":"message"}
{"nick":"ryah","message":"an unhandled javascript exception is the use case im addressing","date":"2011-08-25T18:03:15.182Z","type":"message"}
{"nick":"igorzi","message":"so then each connection gets its own \"green thread\"?","date":"2011-08-25T18:04:16.517Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-25T18:04:23.568Z","type":"message"}
{"nick":"ryah","message":"perhaps a connection makes an outbound http request, starts a few timers, and does some disk access","date":"2011-08-25T18:04:48.842Z","type":"message"}
{"nick":"ryah","message":"all of those operations will be added to the \"green thread\" collection","date":"2011-08-25T18:05:00.321Z","type":"message"}
{"nick":"ryah","message":"if one of them fails somehow - all will be terminated","date":"2011-08-25T18:05:11.463Z","type":"message"}
{"nick":"igorzi","message":"ok, and \"green thread\" doesn't map to an OS thread 1-1, right?  it's just an abstraction?","date":"2011-08-25T18:05:18.822Z","type":"message"}
{"nick":"ryah","message":"right","date":"2011-08-25T18:05:25.389Z","type":"message"}
{"nick":"ryah","message":"N green threads to one OS thread","date":"2011-08-25T18:05:36.241Z","type":"message"}
{"nick":"ryah","message":"it's just some sugar","date":"2011-08-25T18:05:48.640Z","type":"message"}
{"nick":"ryah","message":"well i guess it's not sugar - there's some meat","date":"2011-08-25T18:06:18.412Z","type":"message"}
{"nick":"igorzi","message":"ok, it's sort of a handle tree, where instead of killing each handle you can kill the entire tree","date":"2011-08-25T18:06:30.821Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-25T18:06:37.391Z","type":"message"}
{"nick":"igorzi","message":"neat","date":"2011-08-25T18:06:46.335Z","type":"message"}
{"nick":"ryah","message":"not a tree but a set","date":"2011-08-25T18:06:56.613Z","type":"message"}
{"nick":"igorzi","message":"sure, but logically each handle will probably have a child & parent handle?","date":"2011-08-25T18:08:03.958Z","type":"message"}
{"nick":"ryah","message":"yes - and the important thing for us - starting them costs nothing","date":"2011-08-25T18:08:04.228Z","type":"message"}
{"nick":"DrPizza","message":"is there no good place to simply install a javascript try/catch?","date":"2011-08-25T18:08:16.729Z","type":"message"}
{"nick":"ryah","message":"DrPizza: we have a try catch around the whole process","date":"2011-08-25T18:08:51.410Z","type":"message"}
{"nick":"igorzi","message":"i don't think it's just about js try/catch, it's also about doing the proper cleanup","date":"2011-08-25T18:08:59.851Z","type":"message"}
{"nick":"ryah","message":"process.on('uncaughException', function(E) { ... })","date":"2011-08-25T18:09:03.932Z","type":"message"}
{"nick":"ryah","message":"^-- this handles that","date":"2011-08-25T18:09:07.650Z","type":"message"}
{"nick":"ryah","message":"so you can prevent the process from going down","date":"2011-08-25T18:09:20.120Z","type":"message"}
{"nick":"ryah","message":"but the problem is you're often left in a bad state","date":"2011-08-25T18:09:28.163Z","type":"message"}
{"nick":"ryah","message":"since you didn't handle something correctly","date":"2011-08-25T18:09:35.792Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: if it's going to be tearing down v8 then there won't be much scope for cleanup","date":"2011-08-25T18:09:38.490Z","type":"message"}
{"nick":"ryah","message":"you've still got all these timers and open connections","date":"2011-08-25T18:09:42.789Z","type":"message"}
{"nick":"ryah","message":"so it turns out no one actually uses process.on('uncaughException')","date":"2011-08-25T18:09:59.486Z","type":"message"}
{"nick":"DrPizza","message":"they can't just get GCed?","date":"2011-08-25T18:10:19.350Z","type":"message"}
{"nick":"ryah","message":"what we want is to be able to have an acception and clean up","date":"2011-08-25T18:10:23.778Z","type":"message"}
{"nick":"igorzi","message":"why would tearing down v8 be needed?","date":"2011-08-25T18:10:35.904Z","type":"message"}
{"nick":"ryah","message":"DrPizza: not tearing down V8 - just the thread and its handles","date":"2011-08-25T18:11:01.253Z","type":"message"}
{"nick":"DrPizza","message":"oh so the v8::terminateexecution still leaves v8 usable and resumable?","date":"2011-08-25T18:11:28.757Z","type":"message"}
{"nick":"DrPizza","message":"it's an orderly termination?","date":"2011-08-25T18:11:37.259Z","type":"message"}
{"nick":"ryah","message":"yeah, we'll catch the terminateexecution in c++, kill the thread that was running, then return to the event loop","date":"2011-08-25T18:12:08.533Z","type":"message"}
{"nick":"ryah","message":"for the watchdog timer","date":"2011-08-25T18:12:18.299Z","type":"message"}
{"nick":"ryah","message":"but as i said, im not really concerned about people blocking on compute - more concerned about being able to clean up connections","date":"2011-08-25T18:13:11.836Z","type":"message"}
{"nick":"igorzi","message":"right, it seems that the callback taking too long (for which terminateexecution is needed) is really orthogonal to this idea of cleaning up a collection of handles anyway","date":"2011-08-25T18:13:42.296Z","type":"message"}
{"nick":"ryah","message":"although we can have all sorts of cool stuff","date":"2011-08-25T18:13:46.105Z","type":"message"}
{"nick":"ryah","message":"thread.maxRunTime = 500;","date":"2011-08-25T18:13:54.818Z","type":"message"}
{"nick":"DrPizza","message":"hmm","date":"2011-08-25T18:13:55.160Z","type":"message"}
{"nick":"ryah","message":"thread.priority = 10;","date":"2011-08-25T18:14:07.361Z","type":"message"}
{"nick":"ryah","message":"^-- libev has priority for all its watchers","date":"2011-08-25T18:14:18.000Z","type":"message"}
{"nick":"ryah","message":"(we'd need to addd support to the windows backend)","date":"2011-08-25T18:14:27.205Z","type":"message"}
{"nick":"ryah","message":"thread.priority = 10 would change the priority for all associated handles","date":"2011-08-25T18:15:11.392Z","type":"message"}
{"nick":"ryah","message":"which basically determines which order their handled in the event queue","date":"2011-08-25T18:15:50.014Z","type":"message"}
{"nick":"ryah","message":"*they're","date":"2011-08-25T18:16:17.204Z","type":"message"}
{"nick":"ryah","action":"<- idiot","date":"2011-08-25T18:16:24.316Z","type":"action"}
{"nick":"ryah","message":"okay. im going to implement this now. hopefully i can be done for the presentation tomorrow at NKO","date":"2011-08-25T18:16:44.320Z","type":"message"}
{"nick":"pquerna","reason":"Changing host","date":"2011-08-25T18:28:50.110Z","type":"quit"}
{"nick":"pquerna","date":"2011-08-25T18:28:50.273Z","type":"join"}
{"nick":"jmp0","message":"c00l","date":"2011-08-25T18:30:57.334Z","type":"message"}
{"nick":"jmp0","message":"i'm not sure if issue 32 is a riddle or just a request","date":"2011-08-25T18:31:26.921Z","type":"message"}
{"nick":"piscisaureus","reason":"Read error: Connection reset by peer","date":"2011-08-25T18:36:08.637Z","type":"quit"}
{"nick":"bnoordhuis","message":"jmp0: both :)","date":"2011-08-25T18:36:48.993Z","type":"message"}
{"nick":"bnoordhuis","message":"but i think the goal is to test what happens when the read end of a pipe has gone away","date":"2011-08-25T18:37:23.939Z","type":"message"}
{"nick":"bnoordhuis","message":"it won't raise EPIPE on unices, come to think of it","date":"2011-08-25T18:39:35.228Z","type":"message"}
{"nick":"bnoordhuis","message":"the pipe is really a unix socket so if nothing's listening, the client gets ECONNREFUSED","date":"2011-08-25T18:39:58.996Z","type":"message"}
{"nick":"jmp0","message":"hah, but don't give it all away! i expect that this exploration will lead somewhere.. a tour around the system perhaps :)","date":"2011-08-25T18:46:53.391Z","type":"message"}
{"nick":"ryah","message":"http://ntotten.com/2011/08/nodejs-on-windows-azure/","date":"2011-08-25T18:48:54.088Z","type":"message"}
{"nick":"piscisaureus","date":"2011-08-25T18:53:35.664Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus ryah igorzi: call time?","date":"2011-08-25T18:56:35.715Z","type":"message"}
{"nick":"piscisaureus","message":"oh","date":"2011-08-25T18:56:44.299Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2011-08-25T18:56:47.145Z","type":"message"}
{"nick":"piscisaureus","message":"but let me turn off dj korsakoff first","date":"2011-08-25T18:56:58.360Z","type":"message"}
{"nick":"bnoordhuis","message":"not dj tiesto?","date":"2011-08-25T18:57:09.282Z","type":"message"}
{"nick":"bnoordhuis","message":"he the best","date":"2011-08-25T18:57:12.586Z","type":"message"}
{"nick":"ryah","action":"is listening to dj korsakoff now","date":"2011-08-25T18:57:42.314Z","type":"action"}
{"nick":"ryah","message":"sounds pretty fun :)","date":"2011-08-25T18:57:47.919Z","type":"message"}
{"nick":"piscisaureus","message":"it's very bombastic (is that english?)","date":"2011-08-25T18:58:16.851Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-08-25T18:58:25.819Z","type":"message"}
{"nick":"ryah","message":"igorzi: skype?","date":"2011-08-25T19:01:21.360Z","type":"message"}
{"nick":"igorzi","message":"yeah, just signed in","date":"2011-08-25T19:01:29.225Z","type":"message"}
{"nick":"bnoordhuis","message":"ich will built node.js on Opensuse <- cute!","date":"2011-08-25T19:06:20.306Z","type":"message"}
{"nick":"piscisaureus","message":"bauen","date":"2011-08-25T19:19:18.391Z","type":"message"}
{"nick":"mraleph","date":"2011-08-25T19:20:03.914Z","type":"join"}
{"nick":"bnoordhuis","message":"bitte m�chte ich node punkt js am opensuse bauen, danke sehr!","date":"2011-08-25T19:20:16.197Z","type":"message"}
{"nick":"ryah","message":"igorzi: readdir sucks","date":"2011-08-25T19:21:44.003Z","type":"message"}
{"nick":"ryah","message":"igorzi: im worried that having the user free the memory is going to be too confusing","date":"2011-08-25T19:23:08.358Z","type":"message"}
{"nick":"rmustacc","date":"2011-08-25T19:23:23.649Z","type":"part"}
{"nick":"ryah","message":"igorzi: maybe uv_async_req_cleanup(uv_async_req*)","date":"2011-08-25T19:24:51.460Z","type":"message"}
{"nick":"ryah","message":"igorzi: that does seem nicer","date":"2011-08-25T19:25:03.684Z","type":"message"}
{"nick":"piscisaureus","message":"oh man","date":"2011-08-25T20:00:12.609Z","type":"message"}
{"nick":"piscisaureus","message":"this pipe problem requires suck ugly hacks","date":"2011-08-25T20:00:23.696Z","type":"message"}
{"nick":"johnm1234_","reason":"Remote host closed the connection","date":"2011-08-25T20:00:24.418Z","type":"quit"}
{"nick":"indutny","reason":"Remote host closed the connection","date":"2011-08-25T20:01:59.963Z","type":"quit"}
{"nick":"johnm1234_","date":"2011-08-25T20:06:25.084Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 276 seconds","date":"2011-08-25T20:09:12.265Z","type":"quit"}
{"nick":"brson","date":"2011-08-25T20:10:17.670Z","type":"join"}
{"nick":"johnm1234_","reason":"Remote host closed the connection","date":"2011-08-25T20:10:23.223Z","type":"quit"}
{"nick":"johnm1234_","date":"2011-08-25T20:10:28.913Z","type":"join"}
{"nick":"bnoordhuis","message":"http://news.ycombinator.com/item?id=2925547 <- this pisses me off","date":"2011-08-25T20:12:30.434Z","type":"message"}
{"nick":"bnoordhuis","message":"fucking real networks","date":"2011-08-25T20:12:37.338Z","type":"message"}
{"nick":"piscisaureus","message":"yes me too","date":"2011-08-25T20:12:46.958Z","type":"message"}
{"nick":"piscisaureus","message":"these ex parte decisions are so fucked up","date":"2011-08-25T20:13:16.477Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah - seriously, wtf?","date":"2011-08-25T20:13:26.818Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: hey","date":"2011-08-25T20:13:43.061Z","type":"message"}
{"nick":"bnoordhuis","message":"and how can a civil case get your house searched and your property taken?","date":"2011-08-25T20:13:50.226Z","type":"message"}
{"nick":"piscisaureus","message":"yes, indeed","date":"2011-08-25T20:14:12.701Z","type":"message"}
{"nick":"piscisaureus","message":"even without a reasonable process upfront","date":"2011-08-25T20:14:24.121Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to try and send that guy some money","date":"2011-08-25T20:14:53.508Z","type":"message"}
{"nick":"bnoordhuis","message":"i want to see him *destroy* real","date":"2011-08-25T20:15:10.371Z","type":"message"}
{"nick":"DrPizza","message":"I don't think he will succeed.","date":"2011-08-25T20:15:35.549Z","type":"message"}
{"nick":"piscisaureus","message":"http://blog.iusmentis.com/2011/08/25/realnetworks-wil-smartegeld-om-hyperlink/","date":"2011-08-25T20:15:36.121Z","type":"message"}
{"nick":"DrPizza","message":"I think it's shitty to go after hyperlinkers.","date":"2011-08-25T20:15:41.118Z","type":"message"}
{"nick":"DrPizza","message":"But RealAlternative is totally against the law.","date":"2011-08-25T20:15:48.675Z","type":"message"}
{"nick":"DrPizza","message":"And the \"DNS\" angle makes no sense at all.","date":"2011-08-25T20:16:10.211Z","type":"message"}
{"nick":"piscisaureus","message":"it does","date":"2011-08-25T20:16:24.299Z","type":"message"}
{"nick":"DrPizza","message":"no it doesn't, you can't cache Web pages over DNS.","date":"2011-08-25T20:16:35.041Z","type":"message"}
{"nick":"piscisaureus","message":"this guy just had a site that linked some downloads","date":"2011-08-25T20:16:35.625Z","type":"message"}
{"nick":"DrPizza","message":"DNS entries, sure.","date":"2011-08-25T20:16:37.649Z","type":"message"}
{"nick":"piscisaureus","message":"like firefox etc","date":"2011-08-25T20:16:39.959Z","type":"message"}
{"nick":"DrPizza","message":"Sure, but change the page with the hyperlink and DNS has nothing to do with it.","date":"2011-08-25T20:16:53.844Z","type":"message"}
{"nick":"piscisaureus","message":"maybe I don't really understand with the dns angle","date":"2011-08-25T20:17:18.399Z","type":"message"}
{"nick":"DrPizza","message":"\"RealNetworks claims Edskes failed to remove the link to the software, and the reference in the DNS directories existed after February 12, 2010.\"","date":"2011-08-25T20:17:43.265Z","type":"message"}
{"nick":"DrPizza","message":"^^ makes no sense to me","date":"2011-08-25T20:17:48.285Z","type":"message"}
{"nick":"piscisaureus","message":"indeed","date":"2011-08-25T20:17:56.365Z","type":"message"}
{"nick":"piscisaureus","message":"bullshit","date":"2011-08-25T20:17:58.519Z","type":"message"}
{"nick":"piscisaureus","message":"his site: http://codecpack.nl/","date":"2011-08-25T20:19:16.487Z","type":"message"}
{"nick":"piscisaureus","message":"not exactly the pirate bay","date":"2011-08-25T20:19:54.146Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going over to real's amsterdam office and piss in their mailbox >:(","date":"2011-08-25T20:21:08.323Z","type":"message"}
{"nick":"piscisaureus","message":"oh, don't bother","date":"2011-08-25T20:21:38.726Z","type":"message"}
{"nick":"piscisaureus","message":"you'll find an empty office in a corridor of empty offices","date":"2011-08-25T20:21:52.321Z","type":"message"}
{"nick":"piscisaureus","message":"if they're in holland they're only here for tax reasons","date":"2011-08-25T20:22:01.978Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, true that","date":"2011-08-25T20:22:10.579Z","type":"message"}
{"nick":"bnoordhuis","message":"then i'll go into politics and have a law passed that taxes foreign companies 100% of gross income","date":"2011-08-25T20:23:07.422Z","type":"message"}
{"nick":"bnoordhuis","message":"and makes installing spyware a mortal crime","date":"2011-08-25T20:23:52.614Z","type":"message"}
{"nick":"piscisaureus","message":"\\o/ ben for president","date":"2011-08-25T20:24:07.514Z","type":"message"}
{"nick":"piscisaureus","message":"arnoud engelfriet should be a politician though","date":"2011-08-25T20:24:31.328Z","type":"message"}
{"nick":"bnoordhuis","message":"Het lijkt me een goed idee om een regel in te voeren dat advocaten persoonlijk aansprakelijk zijn als ze een ex parte verzoek indienen dat later vernietigd wordt. Omdat het een procedure zonder tegenspraak is, moet de rechter afgaan op de informatie die de advocaat aandraagt. En als die niet blijkt te kloppen, dan moet dat consequenties hebben. <- fully concur","date":"2011-08-25T20:25:45.938Z","type":"message"}
{"nick":"isaacs","date":"2011-08-25T20:30:26.079Z","type":"join"}
{"nick":"igorzi","message":"ryah: piscisaureus: sorry, i was in a meeting","date":"2011-08-25T20:30:27.513Z","type":"message"}
{"nick":"igorzi","message":"ryah: uv_async_req_cleanup sounds good.. you want to use it for sync and async calls?","date":"2011-08-25T20:30:49.422Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: i don't remember what I had to ask :-(","date":"2011-08-25T20:31:04.063Z","type":"message"}
{"nick":"ryah","message":"igorzi: yeah - using it for both sounds good","date":"2011-08-25T20:34:33.662Z","type":"message"}
{"nick":"piscisaureus","message":"hmm.","date":"2011-08-25T20:38:32.229Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: net-pingpong does rely on half-open pipes :-/","date":"2011-08-25T20:38:49.914Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: somehow it was passing before","date":"2011-08-25T20:39:26.696Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I know","date":"2011-08-25T20:39:34.299Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: it's because there was some delay build-in","date":"2011-08-25T20:39:50.498Z","type":"message"}
{"nick":"piscisaureus","message":"but I added an optimization that avoids using the thread pool","date":"2011-08-25T20:40:15.201Z","type":"message"}
{"nick":"ryah","message":"ah","date":"2011-08-25T20:40:39.412Z","type":"message"}
{"nick":"piscisaureus","action":"pomders more","date":"2011-08-25T20:42:40.267Z","type":"action"}
{"nick":"indutny","date":"2011-08-25T20:50:54.996Z","type":"join"}
{"nick":"igorzi","message":"http://tomasz.janczuk.org/2011/08/hosting-nodejs-applications-in-iis-on.html","date":"2011-08-25T20:58:36.394Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: DrPizza: ----^","date":"2011-08-25T20:58:51.599Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: interesting, it's an ISAPI (or whatever the new IIS API is called) fork?","date":"2011-08-25T20:59:38.619Z","type":"message"}
{"nick":"igorzi","message":"DrPizza: it's a module (just like fastcgi module is)","date":"2011-08-25T21:00:19.348Z","type":"message"}
{"nick":"DrPizza","message":"yes","date":"2011-08-25T21:00:24.954Z","type":"message"}
{"nick":"DrPizza","message":"the new extension API","date":"2011-08-25T21:00:28.979Z","type":"message"}
{"nick":"igorzi","message":"yes","date":"2011-08-25T21:00:32.876Z","type":"message"}
{"nick":"DrPizza","message":"IIS7 (maybe 6 too?)","date":"2011-08-25T21:00:34.388Z","type":"message"}
{"nick":"bnoordhuis","message":"test/simple/test-zerolengthbufferbug.js <- weird","date":"2011-08-25T21:00:51.345Z","type":"message"}
{"nick":"bnoordhuis","message":"if i run it with libuv, there's two sockets being created, as expected","date":"2011-08-25T21:01:03.297Z","type":"message"}
{"nick":"bnoordhuis","message":"but with legacy, there's a third socket being created somewhere","date":"2011-08-25T21:01:17.802Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: is this spawning node.exe as a kind of persistent background process?","date":"2011-08-25T21:01:53.003Z","type":"message"}
{"nick":"DrPizza","message":"hm, yes, seems to be","date":"2011-08-25T21:02:10.399Z","type":"message"}
{"nick":"DrPizza","message":"it talks to node over pipes","date":"2011-08-25T21:02:14.627Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: interesting","date":"2011-08-25T21:03:06.541Z","type":"message"}
{"nick":"igorzi","message":"right, it's actually very similar to how fastcgi module works, only it uses http as the protocol","date":"2011-08-25T21:03:12.856Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: I would still prefer libuv http.sys support :)","date":"2011-08-25T21:03:23.965Z","type":"message"}
{"nick":"DrPizza","message":"but it's a nice stopgap","date":"2011-08-25T21:03:36.156Z","type":"message"}
{"nick":"igorzi","message":"DrPizza: these are different scenarios, you get a bunch of extra functionality with iis.  but yeah, having a straight http.sys support would be good if you don't care about that.","date":"2011-08-25T21:04:22.308Z","type":"message"}
{"nick":"DrPizza","message":"yeah, so this hooks into IIS logging etc.","date":"2011-08-25T21:04:33.846Z","type":"message"}
{"nick":"DrPizza","message":"which is nice","date":"2011-08-25T21:04:36.784Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: the kind of thing I'd be more interested in is having node grab http://*:80/websockets/ or something along those lines, so I can use javascript at both ends of the connection","date":"2011-08-25T21:06:32.277Z","type":"message"}
{"nick":"igorzi","message":"yeah, right now you can't really do that i guess","date":"2011-08-25T21:07:54.101Z","type":"message"}
{"nick":"bnoordhuis","message":"/ Ensure we have a dummy fd for EMFILE conditions. <- found it","date":"2011-08-25T21:15:13.987Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: is that the solaris bug?","date":"2011-08-25T21:21:35.080Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: so this Tomasz is the msft guy working on iis support?","date":"2011-08-25T21:22:30.625Z","type":"message"}
{"nick":"piscisaureus","message":"or is this an unrelated project?","date":"2011-08-25T21:22:36.548Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, he's the msft guy who's working on iis support","date":"2011-08-25T21:22:54.667Z","type":"message"}
{"nick":"igorzi","message":"(he's also usually on tuesday calls :))","date":"2011-08-25T21:23:13.649Z","type":"message"}
{"nick":"piscisaureus","message":"oh","date":"2011-08-25T21:23:20.473Z","type":"message"}
{"nick":"piscisaureus","message":"hehe","date":"2011-08-25T21:23:21.284Z","type":"message"}
{"nick":"piscisaureus","message":"i never hear him?","date":"2011-08-25T21:23:27.668Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: no, that's a node feature :)","date":"2011-08-25T21:23:51.714Z","type":"message"}
{"nick":"igorzi","message":"right, he usually just listens","date":"2011-08-25T21:23:54.230Z","type":"message"}
{"nick":"bnoordhuis","message":"it's that EMFILE trick","date":"2011-08-25T21:23:56.450Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: but i'm getting closer","date":"2011-08-25T21:24:33.962Z","type":"message"}
{"nick":"piscisaureus","message":"kind of nice he uses github","date":"2011-08-25T21:24:51.288Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm 95% sure it's a ipv4-vs-ipv6 thing","date":"2011-08-25T21:24:52.388Z","type":"message"}
{"nick":"ryah","message":"fucking ipv6","date":"2011-08-25T21:28:20.562Z","type":"message"}
{"nick":"DrPizza","message":"everything will be much easier when we ditch ipv4","date":"2011-08-25T21:30:17.813Z","type":"message"}
{"nick":"DrPizza","message":"in the year 2417","date":"2011-08-25T21:30:36.270Z","type":"message"}
{"nick":"bnoordhuis","message":"personally i'll wait until ipv8","date":"2011-08-25T21:30:48.661Z","type":"message"}
{"nick":"bnoordhuis","message":"-server.listen(common.PORT, function() {","date":"2011-08-25T21:34:32.145Z","type":"message"}
{"nick":"bnoordhuis","message":"-  http.get({ port: common.PORT }, function(res) {","date":"2011-08-25T21:34:32.327Z","type":"message"}
{"nick":"bnoordhuis","message":"+server.listen(common.PORT, '127.0.0.1', function() {","date":"2011-08-25T21:34:32.491Z","type":"message"}
{"nick":"bnoordhuis","message":"+  http.get({ host: '127.0.0.1', port: common.PORT }, function(res) {","date":"2011-08-25T21:34:32.491Z","type":"message"}
{"nick":"bnoordhuis","message":":/","date":"2011-08-25T21:34:33.815Z","type":"message"}
{"nick":"bnoordhuis","message":"that's all it takes...","date":"2011-08-25T21:34:41.041Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: [01:10|% 100|+ 184|-   4]: Done <- sunos","date":"2011-08-25T21:51:10.132Z","type":"message"}
{"nick":"bnoordhuis","message":"however... the hack is not pretty","date":"2011-08-25T21:51:19.124Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah piscisaureus: https://gist.github.com/5ebbafe376f05ea6bf1d <- review please? :/","date":"2011-08-25T21:51:59.494Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: didn't ryah land a similar patch already?","date":"2011-08-25T21:52:38.328Z","type":"message"}
{"nick":"DrPizza","message":"I'm sure I saw a commit message about a similar issue","date":"2011-08-25T21:52:51.970Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: that was windows-only, wasn't it?","date":"2011-08-25T21:52:55.870Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-08-25T21:53:00.036Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-25T21:53:20.891Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, this is actually a few lines below that one","date":"2011-08-25T21:53:28.414Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I think c-ares specifies that if you look up AF_UNSPEC then it should prefer ipv4 over ipv6","date":"2011-08-25T21:54:01.113Z","type":"message"}
{"nick":"piscisaureus","message":"this seems to be broken","date":"2011-08-25T21:54:13.486Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't AF_UNSPEC say 'give me whatever the system prefers'?","date":"2011-08-25T21:54:38.991Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: oh hmm it's the reverse","date":"2011-08-25T21:56:07.431Z","type":"message"}
{"nick":"piscisaureus","message":"it tries ipv6 first","date":"2011-08-25T21:56:17.015Z","type":"message"}
{"nick":"piscisaureus","message":"the old binding did it differently - it looked for ipv4 first, then looked for ipv6","date":"2011-08-25T21:56:35.167Z","type":"message"}
{"nick":"piscisaureus","message":"by making 2 separate uv calls","date":"2011-08-25T21:56:42.243Z","type":"message"}
{"nick":"bnoordhuis","message":"so... suggestions?","date":"2011-08-25T21:56:53.448Z","type":"message"}
{"nick":"piscisaureus","message":"maybe that should be restored","date":"2011-08-25T21:56:53.990Z","type":"message"}
{"nick":"piscisaureus","message":"but I think this will do as a temporary hack","date":"2011-08-25T21:57:12.699Z","type":"message"}
{"nick":"bnoordhuis","message":"the thing with temporary hacks is","date":"2011-08-25T21:57:48.937Z","type":"message"}
{"nick":"bnoordhuis","message":"that people forget about them","date":"2011-08-25T21:57:53.889Z","type":"message"}
{"nick":"bnoordhuis","message":"if there's a proper way to solve it, i'd rather use that","date":"2011-08-25T21:58:05.954Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-25T22:04:35.808Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus: what i don't get","date":"2011-08-25T22:06:32.944Z","type":"message"}
{"nick":"bnoordhuis","message":"oh wait, i /do/ get it","date":"2011-08-25T22:06:50.113Z","type":"message"}
{"nick":"bnoordhuis","message":"listen(self, '0.0.0.0', port, 4); <- binds to ipv4","date":"2011-08-25T22:06:54.736Z","type":"message"}
{"nick":"bnoordhuis","message":"connect('localhost') <- resolves to either 127.0.0.1 or ::1","date":"2011-08-25T22:07:13.113Z","type":"message"}
{"nick":"bnoordhuis","message":"fucking ipv6","date":"2011-08-25T22:07:21.273Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: hmm","date":"2011-08-25T22:12:05.045Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: what is causing this to fail?","date":"2011-08-25T22:12:18.098Z","type":"message"}
{"nick":"ryah","message":"this hack is really undesirable","date":"2011-08-25T22:12:33.944Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: localhost resolves to ::1 on sunos","date":"2011-08-25T22:12:38.165Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-08-25T22:12:41.966Z","type":"message"}
{"nick":"bnoordhuis","message":"listen should listen on 0.0.0.0 and ::0 if you don't give specify an address","date":"2011-08-25T22:13:30.374Z","type":"message"}
{"nick":"bnoordhuis","message":"-give","date":"2011-08-25T22:13:37.142Z","type":"message"}
{"nick":"bnoordhuis","message":"of course that will create further issues","date":"2011-08-25T22:14:45.743Z","type":"message"}
{"nick":"ryah","message":"listen should always be 0.0.0.0","date":"2011-08-25T22:15:59.820Z","type":"message"}
{"nick":"ryah","message":"if no address is given","date":"2011-08-25T22:16:10.210Z","type":"message"}
{"nick":"ryah","message":"never ::0 - only if specified","date":"2011-08-25T22:16:22.933Z","type":"message"}
{"nick":"ryah","message":"ryan@ryannode:~% host localhost","date":"2011-08-25T22:16:40.848Z","type":"message"}
{"nick":"ryah","message":"localhost has address 127.0.0.1","date":"2011-08-25T22:16:41.009Z","type":"message"}
{"nick":"ryah","message":"localhost has IPv6 address ::1","date":"2011-08-25T22:16:41.869Z","type":"message"}
{"nick":"ryah","message":"^-- seems to resolve to 127.0.0.1","date":"2011-08-25T22:16:49.134Z","type":"message"}
{"nick":"bnoordhuis","message":"scroll up to what piscisaureus said","date":"2011-08-25T22:16:58.329Z","type":"message"}
{"nick":"bnoordhuis","message":"it could be a 'feature' of c-ares that it tries to resolve ipv6 first, ipv4 second","date":"2011-08-25T22:17:17.177Z","type":"message"}
{"nick":"ryah","message":"1sec - patch","date":"2011-08-25T22:18:56.060Z","type":"message"}
{"nick":"CIA-75","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00026490c6a\u000f \u000310\u000f/ src/uv-unix.c \u0002:\u000f unix: improve accept4 syscall feature check - http://git.io/xTKayg","date":"2011-08-25T22:23:37.660Z","type":"message"}
{"nick":"CIA-75","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002576b116\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f uv: upgrade to 6490c6a - http://git.io/m0UHpQ","date":"2011-08-25T22:23:44.812Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: https://gist.github.com/1172182","date":"2011-08-25T22:28:30.747Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: for eio_custom equivalent, do you think it's better to have its own req type (instead of using uv_fs_req_t).. maybe uv_custom_tp_t?","date":"2011-08-25T22:29:08.752Z","type":"message"}
{"nick":"piscisaureus","message":"yes +!","date":"2011-08-25T22:29:24.687Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: yeah, i think that's what piscisaureus proposed","date":"2011-08-25T22:29:29.050Z","type":"message"}
{"nick":"bnoordhuis","message":"so lgtm provided it actually works :)","date":"2011-08-25T22:29:52.898Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i havent tested","date":"2011-08-25T22:30:04.034Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: i'm testing it now","date":"2011-08-25T22:30:39.770Z","type":"message"}
{"nick":"ryah","message":"igorzi: just because it's not a fs thing?","date":"2011-08-25T22:30:47.553Z","type":"message"}
{"nick":"ryah","message":"igorzi: uv_tp_call_t ?","date":"2011-08-25T22:31:19.118Z","type":"message"}
{"nick":"igorzi","message":"yea","date":"2011-08-25T22:32:08.337Z","type":"message"}
{"nick":"piscisaureus","message":"uv_work_t?","date":"2011-08-25T22:32:12.176Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: close_cb is optional right?","date":"2011-08-25T22:32:24.219Z","type":"message"}
{"nick":"piscisaureus","message":"can be null","date":"2011-08-25T22:32:45.472Z","type":"message"}
{"nick":"graydon","reason":"Quit: Leaving.","date":"2011-08-25T22:33:04.841Z","type":"quit"}
{"nick":"bnoordhuis","message":"ryah: [01:09|% 100|+ 184|-   4]: Done <- good","date":"2011-08-25T22:33:17.780Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: cool","date":"2011-08-25T22:33:53.688Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yes","date":"2011-08-25T22:34:04.096Z","type":"message"}
{"nick":"ryah","message":"uv_work_t sounds good :)","date":"2011-08-25T22:34:14.544Z","type":"message"}
{"nick":"piscisaureus","message":"I'm almost done with the pipe hack","date":"2011-08-25T22:34:20.437Z","type":"message"}
{"nick":"piscisaureus","message":"it's already pretty close to the final solution","date":"2011-08-25T22:34:29.316Z","type":"message"}
{"nick":"piscisaureus","message":"(and pretty complex :-()","date":"2011-08-25T22:34:41.600Z","type":"message"}
{"nick":"ryah","message":"piscisaureus is the master of making windows unix-y","date":"2011-08-25T22:34:50.175Z","type":"message"}
{"nick":"bnoordhuis","message":"msft should hire you in that case, piscisaureus!","date":"2011-08-25T22:35:12.582Z","type":"message"}
{"nick":"piscisaureus","message":"They already tried","date":"2011-08-25T22:35:25.533Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: void uv_work(uv_work_t* req, uv_work_cb cb);","date":"2011-08-25T22:35:55.986Z","type":"message"}
{"nick":"piscisaureus","message":"yes looks good","date":"2011-08-25T22:36:12.507Z","type":"message"}
{"nick":"piscisaureus","message":"it can't fail?","date":"2011-08-25T22:36:23.620Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: return values to check are annoying","date":"2011-08-25T22:37:33.743Z","type":"message"}
{"nick":"bnoordhuis","message":"...","date":"2011-08-25T22:37:49.680Z","type":"message"}
{"nick":"igorzi","message":"yeah, i guess we need to add a ret value","date":"2011-08-25T22:38:25.611Z","type":"message"}
{"nick":"ryah","message":"im afraid uv_work() might be too ambiguous","date":"2011-08-25T22:38:33.384Z","type":"message"}
{"nick":"piscisaureus","message":"uv_queue_work?","date":"2011-08-25T22:40:01.406Z","type":"message"}
{"nick":"piscisaureus","message":"uv_send_work","date":"2011-08-25T22:40:04.254Z","type":"message"}
{"nick":"piscisaureus","message":"uv_do_work","date":"2011-08-25T22:40:06.457Z","type":"message"}
{"nick":"ryah","message":"uv_tp_call() ?","date":"2011-08-25T22:40:25.766Z","type":"message"}
{"nick":"ryah","message":"naming things is hard","date":"2011-08-25T22:41:39.314Z","type":"message"}
{"nick":"igorzi","message":"uv_queue_work?","date":"2011-08-25T22:41:45.335Z","type":"message"}
{"nick":"ryah","message":"igorzi: what do you like best?","date":"2011-08-25T22:41:57.272Z","type":"message"}
{"nick":"igorzi","message":"i think i like uv_queue_work","date":"2011-08-25T22:42:06.939Z","type":"message"}
{"nick":"ryah","message":"uv_queue_work it is then","date":"2011-08-25T22:42:14.726Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-08-25T22:42:15.590Z","type":"message"}
{"nick":"ryah","message":"void uv_queue_work(uv_work_t* req, uv_after_work_cb cb); ?","date":"2011-08-25T22:43:19.162Z","type":"message"}
{"nick":"igorzi","message":"ok, yeah after_work makes sense","date":"2011-08-25T22:44:39.798Z","type":"message"}
{"nick":"ryah","message":"void uv_queue_work(uv_work_t* req, uv_work_cb cb, uv_after_work_cb after); ?","date":"2011-08-25T22:44:50.365Z","type":"message"}
{"nick":"ryah","message":"probably need a void* there too","date":"2011-08-25T22:45:07.747Z","type":"message"}
{"nick":"igorzi","message":"i'm inheriting these reqs after uv_req_t, which already has void* data","date":"2011-08-25T22:47:14.765Z","type":"message"}
{"nick":"igorzi","message":"hmm, now i wonder whether i should be inheriting uv_req_t?","date":"2011-08-25T22:47:34.438Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-08-25T22:47:54.070Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a request to perform some action asynchronously","date":"2011-08-25T22:48:19.950Z","type":"message"}
{"nick":"igorzi","message":"actually yes, we do need both type and data","date":"2011-08-25T22:48:27.083Z","type":"message"}
{"nick":"igorzi","message":"void uv_queue_work(uv_work_t* req, uv_work_cb cb, uv_after_work_cb after);","date":"2011-08-25T22:51:14.210Z","type":"message"}
{"nick":"igorzi","message":"if it fails.. dispatch uv_after_work_cb with an error?  or let uv_queue_work return an error?","date":"2011-08-25T22:52:04.344Z","type":"message"}
{"nick":"piscisaureus","message":"ha!","date":"2011-08-25T22:53:56.748Z","type":"message"}
{"nick":"piscisaureus","message":"seems to work","date":"2011-08-25T22:53:58.687Z","type":"message"}
{"nick":"jmp0","reason":"Ping timeout: 260 seconds","date":"2011-08-25T23:31:36.293Z","type":"quit"}
{"nick":"jmp0","date":"2011-08-25T23:31:55.414Z","type":"join"}
{"nick":"piscisaureus","message":"ryah: igorzi: can you review / try this: https://gist.github.com/1172313","date":"2011-08-25T23:34:39.986Z","type":"message"}
{"nick":"piscisaureus","message":"(pick one)","date":"2011-08-25T23:34:45.623Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: trying+reviewing now","date":"2011-08-25T23:38:05.736Z","type":"message"}
{"nick":"piscisaureus","message":"it should fix test-net-pingpong and test-repl","date":"2011-08-25T23:38:22.160Z","type":"message"}
{"nick":"piscisaureus","message":". /* Did the pipe get closed because of shutdown? */","date":"2011-08-25T23:44:20.020Z","type":"message"}
{"nick":"piscisaureus","message":". if (handle->handle == INVALID_HANDLE_VALUE &&","date":"2011-08-25T23:44:20.178Z","type":"message"}
{"nick":"piscisaureus","message":".     (handle->flags & UV_HANDLE_SHUT)) {","date":"2011-08-25T23:44:20.178Z","type":"message"}
{"nick":"piscisaureus","message":".   uv_pipe_read_eof(handle, uv_null_buf_);","date":"2011-08-25T23:44:20.178Z","type":"message"}
{"nick":"piscisaureus","message":". }","date":"2011-08-25T23:44:20.178Z","type":"message"}
{"nick":"piscisaureus","message":"^-- not necessary, removing that","date":"2011-08-25T23:44:20.338Z","type":"message"}
{"nick":"graydon","date":"2011-08-25T23:44:45.415Z","type":"join"}
{"nick":"igorzi","message":"both tests are passing","date":"2011-08-25T23:48:14.600Z","type":"message"}
{"nick":"jmp0","reason":"Ping timeout: 260 seconds","date":"2011-08-25T23:49:41.209Z","type":"quit"}
{"nick":"jmp0","date":"2011-08-25T23:50:01.426Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: eof_timer_cb - the comment should say \"calling ReadFile\"","date":"2011-08-25T23:56:10.583Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yeah","date":"2011-08-25T23:56:54.464Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: if we'll do non-0 reads for pipes it's getting even more complicated btw :-(","date":"2011-08-25T23:59:13.530Z","type":"message"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-05-27T00:00:00.337Z","type":"quit"}
{"nick":"ircretary","date":"2013-05-27T00:00:07.640Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-05-27T00:11:46.998Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T00:13:03.426Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-27T00:17:55.294Z","type":"quit"}
{"nick":"Raynos","message":"I'm trying to find the source code for https://github.com/joyent/node/blob/master/lib/fs.js#L380","date":"2013-05-27T00:43:25.455Z","type":"message"}
{"nick":"Raynos","message":"to figure out what close gives in the callback","date":"2013-05-27T00:43:32.189Z","type":"message"}
{"nick":"Raynos","message":"I've looked here https://github.com/joyent/node/blob/master/src/node_file.cc#L253","date":"2013-05-27T00:43:40.971Z","type":"message"}
{"nick":"Raynos","message":"But I dont see where close is","date":"2013-05-27T00:43:45.339Z","type":"message"}
{"nick":"Raynos","message":"whats the normal way you trace from bindings into libuv?","date":"2013-05-27T00:43:54.647Z","type":"message"}
{"nick":"inolen1","reason":"Quit: Leaving.","date":"2013-05-27T00:44:51.866Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-05-27T00:48:23.632Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-05-27T00:48:34.554Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T00:48:54.962Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-27T00:50:30.100Z","type":"quit"}
{"nick":"bnoordhuis","message":"Raynos: all uv_fs_*() functions take a callback that takes a uv_fs_t*","date":"2013-05-27T00:52:23.481Z","type":"message"}
{"nick":"bnoordhuis","message":"as to node_file.cc, it's full of macro magic (of the bad kind). it's not designed to be easy to follow, i'm afraid","date":"2013-05-27T00:53:00.002Z","type":"message"}
{"nick":"Raynos","message":":(","date":"2013-05-27T00:53:16.698Z","type":"message"}
{"nick":"kevinswi_","date":"2013-05-27T00:53:35.941Z","type":"join"}
{"nick":"kevinswi_","reason":"Remote host closed the connection","date":"2013-05-27T00:55:20.444Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T00:55:53.420Z","type":"join"}
{"nick":"kevinswi_","date":"2013-05-27T00:58:26.779Z","type":"join"}
{"nick":"kevinswiber","reason":"Read error: Connection reset by peer","date":"2013-05-27T00:59:30.105Z","type":"quit"}
{"nick":"kevinswi_","reason":"Remote host closed the connection","date":"2013-05-27T01:00:51.379Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T01:01:25.717Z","type":"join"}
{"nick":"kevinswi_","date":"2013-05-27T01:04:23.587Z","type":"join"}
{"nick":"kevinswiber","reason":"Read error: Connection reset by peer","date":"2013-05-27T01:04:53.923Z","type":"quit"}
{"nick":"kevinswi_","reason":"Remote host closed the connection","date":"2013-05-27T01:08:02.861Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T01:08:34.795Z","type":"join"}
{"nick":"kevinswiber","reason":"Ping timeout: 240 seconds","date":"2013-05-27T01:12:36.263Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T01:13:51.423Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-27T01:18:31.366Z","type":"quit"}
{"nick":"groundwater","date":"2013-05-27T01:18:43.612Z","type":"join"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-05-27T01:20:01.339Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-05-27T01:20:56.550Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-05-27T01:27:47.097Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 245 seconds","date":"2013-05-27T01:32:09.061Z","type":"quit"}
{"nick":"karupanerura","reason":"Ping timeout: 256 seconds","date":"2013-05-27T01:35:09.205Z","type":"quit"}
{"nick":"brson","date":"2013-05-27T01:58:06.124Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T02:00:56.924Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T02:05:48.605Z","type":"join"}
{"nick":"syskk","date":"2013-05-27T02:12:47.482Z","type":"join"}
{"nick":"timoxley","date":"2013-05-27T02:13:20.512Z","type":"join"}
{"nick":"inolen","date":"2013-05-27T02:25:05.326Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T02:50:49.830Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-05-27T02:53:59.337Z","type":"quit"}
{"nick":"timoxley","date":"2013-05-27T02:54:23.083Z","type":"join"}
{"nick":"brson","date":"2013-05-27T02:56:16.278Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-05-27T03:04:43.283Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T03:11:55.471Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-27T03:12:39.635Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T03:13:14.220Z","type":"join"}
{"nick":"kevinswiber","reason":"Ping timeout: 276 seconds","date":"2013-05-27T03:18:04.119Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-27T03:20:24.048Z","type":"quit"}
{"nick":"rje","reason":"Quit: Leaving...","date":"2013-05-27T03:35:49.801Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-27T04:15:56.931Z","type":"nick"}
{"nick":"brson","date":"2013-05-27T04:16:44.444Z","type":"join"}
{"nick":"kazupon","date":"2013-05-27T04:20:48.366Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-05-27T04:22:04.799Z","type":"quit"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T04:23:49.558Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 276 seconds","date":"2013-05-27T04:25:40.186Z","type":"quit"}
{"nick":"normanm","date":"2013-05-27T04:26:20.685Z","type":"join"}
{"nick":"`3rdEden","date":"2013-05-27T04:29:28.122Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 245 seconds","date":"2013-05-27T04:33:49.056Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T04:35:27.631Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-05-27T04:40:14.511Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T05:05:43.310Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-27T05:09:01.830Z","type":"nick"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-05-27T05:09:41.648Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T05:10:08.699Z","type":"join"}
{"nick":"syskk","reason":"Quit: syskk","date":"2013-05-27T05:30:02.741Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-05-27T05:33:27.457Z","type":"quit"}
{"nick":"groundwater","date":"2013-05-27T05:41:37.477Z","type":"join"}
{"nick":"groundwater","reason":"Client Quit","date":"2013-05-27T05:45:16.530Z","type":"quit"}
{"nick":"bajtos","date":"2013-05-27T05:49:02.253Z","type":"join"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-05-27T05:51:34.092Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-27T05:55:59.615Z","type":"quit"}
{"nick":"mikeal","date":"2013-05-27T05:58:38.251Z","type":"join"}
{"nick":"groundwater","date":"2013-05-27T06:09:01.438Z","type":"join"}
{"nick":"bajtos","date":"2013-05-27T06:17:10.242Z","type":"join"}
{"nick":"syskk","date":"2013-05-27T06:20:39.433Z","type":"join"}
{"nick":"syskk","reason":"Changing host","date":"2013-05-27T06:20:39.434Z","type":"quit"}
{"nick":"syskk","date":"2013-05-27T06:20:39.434Z","type":"join"}
{"nick":"rendar","date":"2013-05-27T06:23:08.812Z","type":"join"}
{"nick":"AvianFlu_","date":"2013-05-27T06:28:11.901Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-05-27T06:29:11.367Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-05-27T06:37:14.678Z","type":"join"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-05-27T06:38:48.290Z","type":"quit"}
{"nick":"paddybyers","date":"2013-05-27T06:49:04.759Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-05-27T06:58:01.776Z","type":"quit"}
{"nick":"timoxley","date":"2013-05-27T07:01:44.484Z","type":"join"}
{"nick":"csaoh","date":"2013-05-27T07:37:02.324Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T07:37:30.450Z","type":"quit"}
{"nick":"rje","date":"2013-05-27T07:45:15.396Z","type":"join"}
{"nick":"timoxley","date":"2013-05-27T07:45:57.307Z","type":"join"}
{"nick":"normanm","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-05-27T07:52:10.091Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-27T08:09:24.982Z","type":"quit"}
{"nick":"stagas","date":"2013-05-27T08:17:50.251Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-05-27T08:23:47.051Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-05-27T08:26:09.248Z","type":"join"}
{"nick":"normanm","date":"2013-05-27T08:27:17.063Z","type":"join"}
{"nick":"kazupon","date":"2013-05-27T08:44:56.212Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-05-27T08:50:46.746Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-27T08:50:52.004Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-27T08:51:00.899Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-27T08:53:41.885Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-27T09:12:04.940Z","type":"quit"}
{"nick":"paddybyers_","date":"2013-05-27T09:39:13.291Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 246 seconds","date":"2013-05-27T09:40:37.760Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2013-05-27T09:40:38.147Z","type":"nick"}
{"nick":"normanm","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T09:44:06.582Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-05-27T09:45:50.591Z","type":"quit"}
{"nick":"csaoh","date":"2013-05-27T09:50:35.363Z","type":"join"}
{"nick":"kazupon","date":"2013-05-27T09:50:58.245Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T10:02:53.359Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-27T10:33:11.136Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-05-27T10:36:21.974Z","type":"quit"}
{"nick":"normanm","date":"2013-05-27T10:36:27.299Z","type":"join"}
{"nick":"bajtos","date":"2013-05-27T10:36:42.252Z","type":"join"}
{"nick":"csaoh","date":"2013-05-27T10:39:37.333Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-05-27T10:46:51.225Z","type":"join"}
{"nick":"indutny","message":"hey people","date":"2013-05-27T10:47:15.719Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: have you seen this before Assertion failed: (!uv__io_active(&stream->io_watcher, UV__POLLOUT) || !ngx_queue_empty(&stream->write_completed_queue) || !ngx_queue_empty(&stream->write_queue) || stream->shutdown_req != NULL || stream->connect_req != NULL), function uv_read_stop, file ../deps/uv/src/unix/stream.c, line 1324. ?","date":"2013-05-27T10:47:33.442Z","type":"message"}
{"nick":"indutny","message":"why do we have such check in uv_read_stop() ?","date":"2013-05-27T10:48:22.197Z","type":"message"}
{"nick":"indutny","message":"how stream's writable state connected to read stop","date":"2013-05-27T10:48:48.404Z","type":"message"}
{"nick":"indutny","message":"ok, I see you did it in 41468050","date":"2013-05-27T10:50:22.551Z","type":"message"}
{"nick":"indutny","message":"so, basically this statement is incorrect","date":"2013-05-27T10:50:53.805Z","type":"message"}
{"nick":"indutny","message":"well...","date":"2013-05-27T10:51:01.230Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-27T10:51:02.084Z","type":"message"}
{"nick":"indutny","message":"or not","date":"2013-05-27T10:51:03.521Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: thanks for code review in node-inspector","date":"2013-05-27T10:54:45.506Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-27T10:55:53.689Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: np","date":"2013-05-27T10:55:59.528Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i fixed one bug already that that assert caught","date":"2013-05-27T10:56:16.438Z","type":"message"}
{"nick":"indutny","message":"that's very interesting","date":"2013-05-27T10:56:25.287Z","type":"message"}
{"nick":"indutny","message":"I can't figure out why io_watcher has UV__POLLOUT","date":"2013-05-27T10:56:42.858Z","type":"message"}
{"nick":"indutny","message":"and has no write requests","date":"2013-05-27T10:56:48.633Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: where/when do you get that?","date":"2013-05-27T10:57:34.312Z","type":"message"}
{"nick":"indutny","message":"apply this patch https://github.com/joyent/node/pull/5567","date":"2013-05-27T10:58:07.578Z","type":"message"}
{"nick":"indutny","message":"and run ./node test/simple/test-tls-hello-parser-failure.js","date":"2013-05-27T10:58:16.426Z","type":"message"}
{"nick":"indutny","message":"probably a couple of times","date":"2013-05-27T10:58:21.506Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: have you upgraded libuv to v0.10 HEAD?","date":"2013-05-27T10:58:46.057Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2013-05-27T10:59:12.899Z","type":"message"}
{"nick":"indutny","message":"should I?","date":"2013-05-27T10:59:15.516Z","type":"message"}
{"nick":"bnoordhuis","message":"yes :)","date":"2013-05-27T10:59:21.207Z","type":"message"}
{"nick":"indutny","message":"I'm on v0.10","date":"2013-05-27T10:59:27.690Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-27T10:59:27.856Z","type":"quit"}
{"nick":"indutny","message":"surely HEAD?","date":"2013-05-27T10:59:35.125Z","type":"message"}
{"nick":"bnoordhuis","message":"but not libuv's v0.10 HEAD","date":"2013-05-27T10:59:44.821Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-05-27T10:59:52.611Z","type":"message"}
{"nick":"indutny","message":"you mean https://github.com/joyent/libuv/commit/b329d51ef4ce32f34c21a016a7c311ddeb077878","date":"2013-05-27T10:59:54.192Z","type":"message"}
{"nick":"bnoordhuis","message":"i haven't upgraded it because of policy, don't you know?","date":"2013-05-27T10:59:55.775Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-05-27T11:00:04.517Z","type":"message"}
{"nick":"indutny","message":"ok, lets see","date":"2013-05-27T11:00:07.557Z","type":"message"}
{"nick":"indutny","message":"yup","date":"2013-05-27T11:00:46.337Z","type":"message"}
{"nick":"indutny","message":"works","date":"2013-05-27T11:00:46.884Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-05-27T11:00:48.117Z","type":"message"}
{"nick":"indutny","message":"thank you","date":"2013-05-27T11:00:54.340Z","type":"message"}
{"nick":"bnoordhuis","message":"np, fedor","date":"2013-05-27T11:01:38.074Z","type":"message"}
{"nick":"indutny","message":"so, basically I have this","date":"2013-05-27T11:03:06.045Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/pull/5567/files","date":"2013-05-27T11:03:06.599Z","type":"message"}
{"nick":"indutny","message":"but I need to benchmark it","date":"2013-05-27T11:03:11.741Z","type":"message"}
{"nick":"indutny","message":"seems like it may slowdown tls throughput","date":"2013-05-27T11:03:26.902Z","type":"message"}
{"nick":"indutny","message":"probably significantly","date":"2013-05-27T11:03:33.505Z","type":"message"}
{"nick":"bnoordhuis","message":"what's it doing and why?","date":"2013-05-27T11:04:25.021Z","type":"message"}
{"nick":"bnoordhuis","message":"on a side note, i don't think v8 optimizes away string concatenation when debug() is an empty function","date":"2013-05-27T11:04:59.075Z","type":"message"}
{"nick":"indutny","message":"ok, so the problem","date":"2013-05-27T11:05:00.194Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: meh","date":"2013-05-27T11:05:06.301Z","type":"message"}
{"nick":"indutny","message":"we do it everywhere","date":"2013-05-27T11:05:11.012Z","type":"message"}
{"nick":"indutny","message":"also","date":"2013-05-27T11:05:12.459Z","type":"message"}
{"nick":"indutny","message":"its nothing comparing to nextTick","date":"2013-05-27T11:05:20.867Z","type":"message"}
{"nick":"indutny","message":"and SSL_write/SSL_read","date":"2013-05-27T11:05:23.938Z","type":"message"}
{"nick":"bnoordhuis","message":"that's no excuse :)","date":"2013-05-27T11:05:24.774Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-05-27T11:05:30.182Z","type":"message"}
{"nick":"indutny","message":"good debugability is an excuse","date":"2013-05-27T11:05:35.501Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-05-27T11:05:36.065Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't disagree","date":"2013-05-27T11:05:49.661Z","type":"message"}
{"nick":"bnoordhuis","message":"i also don't dislike double negatives","date":"2013-05-27T11:06:06.817Z","type":"message"}
{"nick":"indutny","message":"I see","date":"2013-05-27T11:06:19.136Z","type":"message"}
{"nick":"bnoordhuis","message":"tj and i discussed it a while ago","date":"2013-05-27T11:06:23.078Z","type":"message"}
{"nick":"indutny","message":"so the problem with tls right now","date":"2013-05-27T11:06:36.143Z","type":"message"}
{"nick":"bnoordhuis","message":"for expensive operations, we should probably do if (debug) debug(whatever)","date":"2013-05-27T11:06:36.828Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: macros! :)","date":"2013-05-27T11:06:43.909Z","type":"message"}
{"nick":"indutny","message":"we need macros","date":"2013-05-27T11:06:45.888Z","type":"message"}
{"nick":"indutny","message":"and a source processor","date":"2013-05-27T11:06:51.533Z","type":"message"}
{"nick":"bnoordhuis","message":"but then debug needs to be null or undefined rather than an empty function","date":"2013-05-27T11:06:52.609Z","type":"message"}
{"nick":"bnoordhuis","message":"once again, i don't disagree :)","date":"2013-05-27T11:06:58.441Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: that'll be more expensive","date":"2013-05-27T11:07:01.120Z","type":"message"}
{"nick":"indutny","message":"checking","date":"2013-05-27T11:07:05.554Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-05-27T11:07:08.470Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, getting back on topic","date":"2013-05-27T11:07:08.610Z","type":"message"}
{"nick":"indutny","message":"or the same","date":"2013-05-27T11:07:09.781Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-05-27T11:07:11.306Z","type":"message"}
{"nick":"indutny","message":"so imagine following situation: user writes 2mb of clear data via cleartext.write","date":"2013-05-27T11:07:27.565Z","type":"message"}
{"nick":"indutny","message":"and then tells it to close as soon as all data written","date":"2013-05-27T11:07:36.092Z","type":"message"}
{"nick":"indutny","message":"so","date":"2013-05-27T11:07:38.378Z","type":"message"}
{"nick":"indutny","message":"._write's cb will be executed as soon as BIO_write will return","date":"2013-05-27T11:07:51.445Z","type":"message"}
{"nick":"indutny","message":"and that'll cause streams2 to emit 'finish'","date":"2013-05-27T11:07:58.460Z","type":"message"}
{"nick":"indutny","message":"and connection will be destroyed","date":"2013-05-27T11:08:03.326Z","type":"message"}
{"nick":"indutny","message":"but","date":"2013-05-27T11:08:07.143Z","type":"message"}
{"nick":"indutny","message":"encrypted.read() will be called only once","date":"2013-05-27T11:08:13.287Z","type":"message"}
{"nick":"indutny","message":"and will probably read 16kb","date":"2013-05-27T11:08:23.404Z","type":"message"}
{"nick":"indutny","message":"because of high watermark","date":"2013-05-27T11:08:29.525Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2013-05-27T11:08:40.356Z","type":"message"}
{"nick":"indutny","message":"and the rest of data won't be ever sent","date":"2013-05-27T11:08:41.672Z","type":"message"}
{"nick":"indutny","message":"because noone waits for it","date":"2013-05-27T11:08:48.388Z","type":"message"}
{"nick":"bnoordhuis","message":"is that a streams2 bug or a tls bug?","date":"2013-05-27T11:09:03.362Z","type":"message"}
{"nick":"indutny","message":"tls bug","date":"2013-05-27T11:10:03.330Z","type":"message"}
{"nick":"indutny","message":"that's why I'm fixing lib/tls.js ;)","date":"2013-05-27T11:10:15.765Z","type":"message"}
{"nick":"bnoordhuis","message":"because it sounds like streams2 is destroying the connection too early","date":"2013-05-27T11:10:40.866Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-05-27T11:11:18.661Z","type":"message"}
{"nick":"indutny","message":"its doing its job wise","date":"2013-05-27T11:11:22.574Z","type":"message"}
{"nick":"indutny","message":"its just me :)","date":"2013-05-27T11:11:29.158Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2013-05-27T11:11:35.388Z","type":"message"}
{"nick":"indutny","message":"so, benchmarks seems to look mostly good for it","date":"2013-05-27T11:11:36.028Z","type":"message"}
{"nick":"indutny","message":"throughput has increased on big writes","date":"2013-05-27T11:11:40.831Z","type":"message"}
{"nick":"indutny","message":"and decreased on 2 byte writes","date":"2013-05-27T11:11:45.788Z","type":"message"}
{"nick":"indutny","message":"but its 47% increase on big writes :)","date":"2013-05-27T11:12:07.448Z","type":"message"}
{"nick":"bnoordhuis","message":"i would expect it to go down across the line","date":"2013-05-27T11:12:19.205Z","type":"message"}
{"nick":"indutny","message":"though 50% decrease on small ones","date":"2013-05-27T11:12:20.605Z","type":"message"}
{"nick":"bnoordhuis","message":"seeing that you're always calling process.nextTick() now","date":"2013-05-27T11:12:33.869Z","type":"message"}
{"nick":"bnoordhuis","message":"well, um, i guess i don't know","date":"2013-05-27T11:13:35.395Z","type":"message"}
{"nick":"bnoordhuis","message":"the PR itself seems reasonable to me","date":"2013-05-27T11:13:56.482Z","type":"message"}
{"nick":"indutny","message":"hm… this nextTick thing","date":"2013-05-27T11:14:12.532Z","type":"message"}
{"nick":"indutny","message":"let me think about it...","date":"2013-05-27T11:14:15.772Z","type":"message"}
{"nick":"indutny","message":"I wonder if I can avoid it","date":"2013-05-27T11:14:30.441Z","type":"message"}
{"nick":"indutny","message":"ok, setImmediate works here too","date":"2013-05-27T11:15:08.593Z","type":"message"}
{"nick":"indutny","message":"not surprisingly","date":"2013-05-27T11:15:13.522Z","type":"message"}
{"nick":"indutny","message":"oh, throughput is even worse now...","date":"2013-05-27T11:16:34.673Z","type":"message"}
{"nick":"indutny","message":"wtf","date":"2013-05-27T11:16:35.756Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2013-05-27T11:17:11.050Z","type":"message"}
{"nick":"indutny","message":"its uv_check","date":"2013-05-27T11:17:12.817Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-05-27T11:17:13.262Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-05-27T11:21:17.465Z","type":"join"}
{"nick":"indutny","message":"hm...","date":"2013-05-27T11:21:30.355Z","type":"message"}
{"nick":"indutny","message":"it seems that reason for slowdown is not process.nextTick","date":"2013-05-27T11:21:44.561Z","type":"message"}
{"nick":"indutny","message":"ok, I know what to do","date":"2013-05-27T11:21:52.030Z","type":"message"}
{"nick":"bnoordhuis","message":"call in the professionals?","date":"2013-05-27T11:23:12.206Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you meant yourself, right?","date":"2013-05-27T11:25:41.329Z","type":"message"}
{"nick":"indutny","message":"ok, all hail me","date":"2013-05-27T11:26:24.527Z","type":"message"}
{"nick":"indutny","message":"I made it faster","date":"2013-05-27T11:26:26.793Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: look how clever I am https://github.com/joyent/node/pull/5567/files","date":"2013-05-27T11:27:36.134Z","type":"message"}
{"nick":"indutny","action":"is runnings tests","date":"2013-05-27T11:27:50.541Z","type":"action"}
{"nick":"bnoordhuis","message":"indutny: nice :)","date":"2013-05-27T11:30:09.145Z","type":"message"}
{"nick":"indutny","message":"oh, btw","date":"2013-05-27T11:31:18.439Z","type":"message"}
{"nick":"indutny","message":"Assertion failed: (stream->write_queue_size == 0), function uv__write, file ../deps/uv/src/unix/stream.c, line 726.","date":"2013-05-27T11:31:18.851Z","type":"message"}
{"nick":"indutny","message":"Command: out/Release/node /Users/indutny/Code/indutny/node/test/simple/test-stdout-close-catch.js","date":"2013-05-27T11:31:26.841Z","type":"message"}
{"nick":"indutny","message":"all other tests are passing","date":"2013-05-27T11:31:40.053Z","type":"message"}
{"nick":"bnoordhuis","message":"is that with libuv v0.10 HEAD?","date":"2013-05-27T11:31:48.639Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm guessing 'no'","date":"2013-05-27T11:32:56.147Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-05-27T11:38:40.715Z","type":"message"}
{"nick":"indutny","message":"I just pulled one patch","date":"2013-05-27T11:38:43.707Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: that test fails for me with the bundled libuv, works with libuv v0.10 HEAD","date":"2013-05-27T11:50:57.251Z","type":"message"}
{"nick":"indutny","message":"good","date":"2013-05-27T11:51:05.525Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yikes https://github.com/joyent/node/pull/5567#issuecomment-18495203","date":"2013-05-27T12:02:12.689Z","type":"message"}
{"nick":"indutny","message":"benchmark results are unbelievable good","date":"2013-05-27T12:02:19.677Z","type":"message"}
{"nick":"indutny","message":"s/vable/vably/","date":"2013-05-27T12:02:26.391Z","type":"message"}
{"nick":"bnoordhuis","message":"wow","date":"2013-05-27T12:04:16.993Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-27T12:04:42.730Z","type":"message"}
{"nick":"bnoordhuis","message":"now test it with a real operating system :)","date":"2013-05-27T12:04:54.082Z","type":"message"}
{"nick":"indutny","message":"I wonder if v0.10.6-pre was too old to compare it","date":"2013-05-27T12:04:56.531Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: do it for me, please","date":"2013-05-27T12:05:00.122Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm kind of busy","date":"2013-05-27T12:05:16.034Z","type":"message"}
{"nick":"indutny","message":"you're kind of gaga","date":"2013-05-27T12:05:24.058Z","type":"message"}
{"nick":"indutny","message":"no offense","date":"2013-05-27T12:05:36.959Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-05-27T12:05:40.909Z","type":"message"}
{"nick":"indutny","message":"I'll do it for you","date":"2013-05-27T12:05:43.557Z","type":"message"}
{"nick":"bnoordhuis","message":"gaga? you mean i'm a popular performer?","date":"2013-05-27T12:05:57.062Z","type":"message"}
{"nick":"bnoordhuis","message":"it's true that i'm quite the dancer","date":"2013-05-27T12:06:15.755Z","type":"message"}
{"nick":"indutny","message":"yeah, I believe you","date":"2013-05-27T12:06:57.232Z","type":"message"}
{"nick":"indutny","message":"ok, started benchmark on ubuntu","date":"2013-05-27T12:10:59.585Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-27T12:33:02.299Z","type":"quit"}
{"nick":"bajtos","date":"2013-05-27T12:42:49.216Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: hm… results are much worse on ubuntu","date":"2013-05-27T12:47:50.544Z","type":"message"}
{"nick":"indutny","message":"probably because I used latest v0.10 to compare with","date":"2013-05-27T12:47:58.163Z","type":"message"}
{"nick":"indutny","message":"so, mostly the same","date":"2013-05-27T12:53:43.121Z","type":"message"}
{"nick":"indutny","message":"but with slight degradation","date":"2013-05-27T12:54:07.568Z","type":"message"}
{"nick":"bnoordhuis","message":"hm, okay","date":"2013-05-27T12:56:25.019Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-27T12:57:47.510Z","type":"join"}
{"nick":"kazupon","date":"2013-05-27T12:59:44.619Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-05-27T13:04:31.514Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|BRB","date":"2013-05-27T13:08:45.787Z","type":"nick"}
{"nick":"indutny","message":"bnoordhuis: I think I can handle it","date":"2013-05-27T13:17:53.326Z","type":"message"}
{"nick":"indutny","message":"it just needs to be a bit more hacky","date":"2013-05-27T13:18:00.949Z","type":"message"}
{"nick":"kazupon","date":"2013-05-27T13:27:30.190Z","type":"join"}
{"nick":"hz","date":"2013-05-27T13:34:22.113Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 248 seconds","date":"2013-05-27T13:38:41.107Z","type":"quit"}
{"nick":"`3E|BRB","new_nick":"`3E","date":"2013-05-27T13:49:53.982Z","type":"nick"}
{"nick":"csaoh","reason":"Remote host closed the connection","date":"2013-05-27T13:53:49.690Z","type":"quit"}
{"nick":"csaoh","date":"2013-05-27T13:58:08.385Z","type":"join"}
{"nick":"timoxley","date":"2013-05-27T13:59:55.080Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-27T14:00:25.854Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T14:03:47.235Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-05-27T14:08:33.719Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-05-27T14:15:03.231Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T14:18:07.692Z","type":"quit"}
{"nick":"kuebk","date":"2013-05-27T14:18:48.219Z","type":"join"}
{"nick":"timoxley","date":"2013-05-27T14:19:48.378Z","type":"join"}
{"nick":"hz","date":"2013-05-27T14:21:34.510Z","type":"join"}
{"nick":"hz","reason":"Changing host","date":"2013-05-27T14:21:34.659Z","type":"quit"}
{"nick":"hz","date":"2013-05-27T14:21:34.659Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-27T14:24:01.670Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T14:24:33.907Z","type":"join"}
{"nick":"kevinswi_","date":"2013-05-27T14:26:58.289Z","type":"join"}
{"nick":"hz_","date":"2013-05-27T14:27:01.162Z","type":"join"}
{"nick":"hz_","reason":"Changing host","date":"2013-05-27T14:27:01.299Z","type":"quit"}
{"nick":"hz_","date":"2013-05-27T14:27:01.299Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-05-27T14:27:01.299Z","type":"quit"}
{"nick":"hz_","new_nick":"hz","date":"2013-05-27T14:27:06.119Z","type":"nick"}
{"nick":"kevinswiber","reason":"Read error: Connection reset by peer","date":"2013-05-27T14:27:39.904Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-05-27T14:28:40.189Z","type":"quit"}
{"nick":"hz_","date":"2013-05-27T14:30:32.383Z","type":"join"}
{"nick":"hz_","reason":"Changing host","date":"2013-05-27T14:30:32.519Z","type":"quit"}
{"nick":"hz_","date":"2013-05-27T14:30:32.519Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-05-27T14:30:32.519Z","type":"quit"}
{"nick":"hz_","new_nick":"hz","date":"2013-05-27T14:30:37.292Z","type":"nick"}
{"nick":"kevinswi_","reason":"Remote host closed the connection","date":"2013-05-27T14:32:47.067Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-27T14:33:18.907Z","type":"join"}
{"nick":"kevinswiber","reason":"Ping timeout: 240 seconds","date":"2013-05-27T14:37:20.411Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-05-27T14:39:31.313Z","type":"quit"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-05-27T14:59:19.283Z","type":"quit"}
{"nick":"hz","date":"2013-05-27T15:00:19.892Z","type":"join"}
{"nick":"hz","reason":"Changing host","date":"2013-05-27T15:00:20.034Z","type":"quit"}
{"nick":"hz","date":"2013-05-27T15:00:20.035Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-27T15:02:56.791Z","type":"quit"}
{"nick":"Corren","date":"2013-05-27T15:05:47.021Z","type":"join"}
{"nick":"kuebk","date":"2013-05-27T15:09:55.711Z","type":"part"}
{"nick":"bnoordhuis","date":"2013-05-27T15:13:52.079Z","type":"join"}
{"nick":"saghul","reason":"Ping timeout: 276 seconds","date":"2013-05-27T15:15:01.280Z","type":"quit"}
{"nick":"saghul","date":"2013-05-27T15:16:42.443Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 240 seconds","date":"2013-05-27T15:28:21.983Z","type":"quit"}
{"nick":"Corren","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T15:31:40.292Z","type":"quit"}
{"nick":"hz","date":"2013-05-27T15:32:18.147Z","type":"join"}
{"nick":"hz","reason":"Changing host","date":"2013-05-27T15:32:18.293Z","type":"quit"}
{"nick":"hz","date":"2013-05-27T15:32:18.294Z","type":"join"}
{"nick":"Corren","date":"2013-05-27T15:38:50.575Z","type":"join"}
{"nick":"bajtos","date":"2013-05-27T15:45:12.219Z","type":"join"}
{"nick":"Corren","reason":"Quit: Computer has gone to sleep.","date":"2013-05-27T15:49:32.452Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 245 seconds","date":"2013-05-27T15:54:39.139Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-05-27T15:56:39.169Z","type":"quit"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-05-27T15:59:17.628Z","type":"quit"}
{"nick":"benoitc","date":"2013-05-27T15:59:17.938Z","type":"join"}

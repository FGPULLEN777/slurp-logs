{"nick":"mikeal","date":"2012-05-22T00:02:12.095Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00023f69c71\u000f \u000310\u000f/ lib/readline.js \u0002:\u000f readline: explicitly disable and re-enable \"raw mode\" on Ctrl+Z - http://git.io/A5T7WQ","date":"2012-05-22T00:11:59.988Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u0002a608f65\u000f \u000310\u000f/ lib/repl.js \u0002:\u000f repl: preserve the cursor when redisplaying the prompt on SIGCONT - http://git.io/CCJH1A","date":"2012-05-22T00:12:02.164Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00022b9967f\u000f \u000310\u000f/ lib/readline.js \u0002:\u000f readline: move the \"setRawMode\" logic into a private function - http://git.io/9o6xAw","date":"2012-05-22T00:12:02.964Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-22T00:18:45.709Z","type":"quit"}
{"nick":"Aria","date":"2012-05-22T00:46:07.205Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u000296e8aba\u000f \u000310\u000f/ (16 files in 6 dirs)\u0002:\u000f windows, unix: share c-ares glue code - http://git.io/3YXXZg","date":"2012-05-22T00:51:07.307Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u00023e1cadb\u000f \u000310\u000f/ test/benchmark-ares.c \u0002:\u000f Make the gethostbyname benchmark more precise - http://git.io/4ByoOg","date":"2012-05-22T00:51:07.751Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis can you review that","date":"2012-05-22T00:51:52.283Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes, but not tonight","date":"2012-05-22T00:52:03.071Z","type":"message"}
{"nick":"piscisaureus_","message":"there is a bug in test/dns-server.c btw","date":"2012-05-22T00:52:08.257Z","type":"message"}
{"nick":"piscisaureus_","message":"a parser error","date":"2012-05-22T00:52:18.736Z","type":"message"}
{"nick":"piscisaureus_","message":"but I was unable to track down what exactly goes wrong","date":"2012-05-22T00:52:30.304Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah I am also checking out","date":"2012-05-22T00:52:42.059Z","type":"message"}
{"nick":"piscisaureus_","message":"time for some R&R","date":"2012-05-22T00:52:44.420Z","type":"message"}
{"nick":"bnoordhuis","message":"yep, sleep tight","date":"2012-05-22T00:52:53.871Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T00:52:54.814Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#295 (cares - 3e1cadb : Bert Belder): The build is still failing.","date":"2012-05-22T00:52:55.034Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/07d4d71...3e1cadb","date":"2012-05-22T00:52:55.034Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1395462","date":"2012-05-22T00:52:55.034Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T00:52:55.034Z","type":"part"}
{"nick":"piscisaureus_","message":"I will be very happy when we get rid of https://github.com/joyent/libuv/blob/ad279df7c08d01b8c683090e955bf628a8aa3bc1/src/win/cares.c","date":"2012-05-22T00:54:34.796Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2012-05-22T00:57:37.135Z","type":"quit"}
{"nick":"AlbireoX","reason":"Ping timeout: 246 seconds","date":"2012-05-22T01:01:07.136Z","type":"quit"}
{"nick":"pietern","reason":"Ping timeout: 252 seconds","date":"2012-05-22T01:23:31.906Z","type":"quit"}
{"nick":"xaq","reason":"Ping timeout: 245 seconds","date":"2012-05-22T01:29:53.364Z","type":"quit"}
{"nick":"abraxas","date":"2012-05-22T01:37:02.214Z","type":"join"}
{"nick":"mmalecki_","date":"2012-05-22T01:37:27.394Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 265 seconds","date":"2012-05-22T01:38:08.313Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 244 seconds","date":"2012-05-22T01:55:47.870Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-05-22T02:00:16.459Z","type":"quit"}
{"nick":"erickt","date":"2012-05-22T02:09:53.189Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-22T02:18:41.859Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-22T02:22:42.183Z","type":"quit"}
{"nick":"ira","reason":"Quit: Computer has gone to sleep.","date":"2012-05-22T02:26:02.907Z","type":"quit"}
{"nick":"erickt","date":"2012-05-22T03:00:31.114Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-22T03:39:20.854Z","type":"quit"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-05-22T03:40:30.716Z","type":"quit"}
{"nick":"mmalecki_","reason":"Quit: Reconnecting","date":"2012-05-22T04:14:17.404Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-22T04:14:34.857Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-22T05:14:47.621Z","type":"quit"}
{"nick":"deoxxa","message":"hmm where's bnoordhuis","date":"2012-05-22T05:24:05.542Z","type":"message"}
{"nick":"deoxxa","message":"i have a weird device here that libuv doesn't want to work properly on, and he seemed interested in cases like that","date":"2012-05-22T05:24:33.419Z","type":"message"}
{"nick":"leif","date":"2012-05-22T05:26:05.613Z","type":"join"}
{"nick":"ljackson","reason":"Read error: Operation timed out","date":"2012-05-22T05:26:09.651Z","type":"quit"}
{"nick":"AlbireoX","date":"2012-05-22T05:43:52.958Z","type":"join"}
{"nick":"paddybyers","date":"2012-05-22T05:56:46.887Z","type":"join"}
{"nick":"avalanche123","date":"2012-05-22T06:06:30.863Z","type":"join"}
{"nick":"deoxxa","message":"yep, uv_fs_event is definitely broken on this device","date":"2012-05-22T06:42:25.454Z","type":"message"}
{"nick":"deoxxa","message":"time to resort to timers!","date":"2012-05-22T06:42:30.890Z","type":"message"}
{"nick":"mmalecki","message":"deoxxa: Ben is in the Netherlands, it's 8:47 :)","date":"2012-05-22T06:48:16.932Z","type":"message"}
{"nick":"abraxas","reason":"Read error: No route to host","date":"2012-05-22T07:02:09.046Z","type":"quit"}
{"nick":"abraxas","date":"2012-05-22T07:02:26.914Z","type":"join"}
{"nick":"avalanch_","date":"2012-05-22T07:07:17.160Z","type":"join"}
{"nick":"avalanch_","reason":"Client Quit","date":"2012-05-22T07:10:42.211Z","type":"quit"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-05-22T07:15:33.850Z","type":"quit"}
{"nick":"rendar","date":"2012-05-22T07:22:17.653Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002ea8fa31\u000f \u000310\u000f/ test/test-fs.c \u0002:\u000f fix fs_symlink_dir test - http://git.io/USsFIg","date":"2012-05-22T07:24:52.252Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T07:26:40.835Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#296 (master - ea8fa31 : Igor Zinkovsky): The build is still failing.","date":"2012-05-22T07:26:41.069Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/ad279df...ea8fa31","date":"2012-05-22T07:26:41.069Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1397728","date":"2012-05-22T07:26:41.069Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T07:26:41.070Z","type":"part"}
{"nick":"indutny","message":"igorzi__: heya","date":"2012-05-22T07:35:29.146Z","type":"message"}
{"nick":"indutny","message":"igorzi__: how is it going with stdio stuff for libuv?","date":"2012-05-22T07:35:36.910Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 260 seconds","date":"2012-05-22T08:05:19.741Z","type":"quit"}
{"nick":"ira","date":"2012-05-22T11:22:38.521Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-05-22T11:27:24.927Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-05-22T11:42:11.107Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/commit/ea8fa31fc0c9865c91a8872c15610d80d5ac93c4#L0R1346 <- why +4?","date":"2012-05-22T11:47:21.292Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: a sec","date":"2012-05-22T11:47:38.395Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey","date":"2012-05-22T11:50:37.426Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ho","date":"2012-05-22T11:50:42.012Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that's because symlinks start with \\\\?\\ on windows","date":"2012-05-22T11:50:48.950Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hmm wait","date":"2012-05-22T11:51:06.348Z","type":"message"}
{"nick":"piscisaureus_","message":"that's odd innit? :-)","date":"2012-05-22T11:51:11.645Z","type":"message"}
{"nick":"bnoordhuis","message":"quite","date":"2012-05-22T11:51:15.077Z","type":"message"}
{"nick":"piscisaureus_","message":"what is the value of test_dir?","date":"2012-05-22T11:51:59.165Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-05-22T11:53:09.493Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/blob/ea8fa31fc0c9865c91a8872c15610d80d5ac93c4/test/test-fs.c#L1322-1326","date":"2012-05-22T11:53:11.399Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, right","date":"2012-05-22T11:53:36.608Z","type":"message"}
{"nick":"bnoordhuis","message":"shouldn't it check for strlen(test_dir) then?","date":"2012-05-22T11:53:54.515Z","type":"message"}
{"nick":"bnoordhuis","message":"using a #ifdef _WIN32 is pretty nasty","date":"2012-05-22T11:54:06.677Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: *shrug*","date":"2012-05-22T11:54:48.531Z","type":"message"}
{"nick":"piscisaureus_","message":"ask igor :-)","date":"2012-05-22T11:54:50.682Z","type":"message"}
{"nick":"piscisaureus_","message":"i didn't read the code","date":"2012-05-22T11:54:55.300Z","type":"message"}
{"nick":"bnoordhuis","message":"i will","date":"2012-05-22T11:55:02.961Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess just a strlen(test_dir) won't work either","date":"2012-05-22T11:55:21.158Z","type":"message"}
{"nick":"bnoordhuis","message":"it looks like the string is \\\\?\\\\test_dir\\","date":"2012-05-22T11:55:34.706Z","type":"message"}
{"nick":"bnoordhuis","message":"your windows is strange and confusing","date":"2012-05-22T11:55:58.335Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that's because of the code I just linked you","date":"2012-05-22T12:00:09.918Z","type":"message"}
{"nick":"deoxxa","message":"bnoordhuis: got a device here that doesn't want to play nice with uv_fs_event (pretty sure there's no inotify or similar) - is this of interest to you?","date":"2012-05-22T12:13:11.108Z","type":"message"}
{"nick":"deoxxa","message":"(you mentioned you'd like to know about systems that don't work properly with libuv)","date":"2012-05-22T12:13:38.391Z","type":"message"}
{"nick":"bnoordhuis","message":"deoxxa: hrm, somewhat. does libuv compile?","date":"2012-05-22T12:14:09.911Z","type":"message"}
{"nick":"deoxxa","message":"it's statically linked into the executable","date":"2012-05-22T12:14:24.013Z","type":"message"}
{"nick":"deoxxa","message":"there's no compiler on the box","date":"2012-05-22T12:14:27.384Z","type":"message"}
{"nick":"bnoordhuis","message":"deoxxa: okay. if the kernel doesn't support inotify, you're out of luck as far as fs events go","date":"2012-05-22T12:15:04.604Z","type":"message"}
{"nick":"deoxxa","message":"i've worked around it for now with a timer and polling the file i'm interested in (which afaik is going to be the internal libuv workaround too in future)","date":"2012-05-22T12:15:11.370Z","type":"message"}
{"nick":"bnoordhuis","message":"there wasn't anything usable before inotify","date":"2012-05-22T12:15:23.435Z","type":"message"}
{"nick":"deoxxa","message":"mmm","date":"2012-05-22T12:15:38.818Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, a polling stat - i'll cry sad little tears the day i commit that though","date":"2012-05-22T12:15:55.800Z","type":"message"}
{"nick":"deoxxa","message":"heh","date":"2012-05-22T12:15:59.359Z","type":"message"}
{"nick":"deoxxa","message":"everything else seems to work just fine though, i'm quite impressed :)","date":"2012-05-22T12:16:13.313Z","type":"message"}
{"nick":"deoxxa","message":"i've implemented using libuv in a week what took nearly 6 months for a coworker who doesn't appreciate external libraries","date":"2012-05-22T12:16:55.098Z","type":"message"}
{"nick":"deoxxa","action":"<3","date":"2012-05-22T12:17:07.226Z","type":"action"}
{"nick":"deoxxa","message":"and with a much nicer interface to boot","date":"2012-05-22T12:17:30.762Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/compare/cares","date":"2012-05-22T12:17:40.930Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what should i be looking at?","date":"2012-05-22T12:18:27.182Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: review","date":"2012-05-22T12:18:37.340Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it didn't change since last night :-)","date":"2012-05-22T12:18:55.577Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: there's a small error in there, I am curious whether you will catch it :-)","date":"2012-05-22T12:19:43.482Z","type":"message"}
{"nick":"bnoordhuis","message":"let's find out","date":"2012-05-22T12:19:55.808Z","type":"message"}
{"nick":"piscisaureus_","message":"(i will fix it even if you don't find it :-))","date":"2012-05-22T12:20:01.261Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ares_handles_ and ares_timer_ are private fields. I didn't add the postfix underscore","date":"2012-05-22T12:24:19.476Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i know, but it's still inconsistent","date":"2012-05-22T12:24:41.914Z","type":"message"}
{"nick":"TheJH","date":"2012-05-22T12:26:29.992Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: uv_timer_again(&loop->ares_timer_) <- should the timer be restarted if status != 0?","date":"2012-05-22T12:27:12.109Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't think it matters","date":"2012-05-22T12:28:08.572Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: re superfluous cast - I am not going to fix the cases where we cast void* to something else","date":"2012-05-22T12:29:22.090Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: don't bother mentioning them","date":"2012-05-22T12:29:27.983Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: except in unix-only code","date":"2012-05-22T12:29:37.282Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i will, again and again, until you stop doing that :)","date":"2012-05-22T12:29:38.334Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-05-22T12:29:40.604Z","type":"quit"}
{"nick":"piscisaureus_","message":"never","date":"2012-05-22T12:30:09.515Z","type":"message"}
{"nick":"piscisaureus_","message":"NEVER","date":"2012-05-22T12:30:11.925Z","type":"message"}
{"nick":"abraxas","date":"2012-05-22T12:30:15.802Z","type":"join"}
{"nick":"piscisaureus_","message":"I wish visual studio could show github comments inline","date":"2012-05-22T12:32:10.148Z","type":"message"}
{"nick":"bnoordhuis","message":"time for a plugin","date":"2012-05-22T12:33:48.039Z","type":"message"}
{"nick":"bnoordhuis","message":"anyway, reviewed","date":"2012-05-22T12:33:54.313Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-05-22T12:34:17.742Z","type":"message"}
{"nick":"abraxas","reason":"Read error: Operation timed out","date":"2012-05-22T12:34:25.136Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Read error: No route to host","date":"2012-05-22T12:36:22.384Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-05-22T12:36:50.111Z","type":"join"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00026190cab\u000f \u000310\u000f/ src/unix/uv-eio.c \u0002:\u000f unix: remove outdated comment - http://git.io/hzJfiw","date":"2012-05-22T13:09:53.992Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-22T13:10:14.492Z","type":"quit"}
{"nick":"travis-ci","date":"2012-05-22T13:11:52.279Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#297 (master - 6190cab : Ben Noordhuis): The build is still failing.","date":"2012-05-22T13:11:52.498Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/ea8fa31...6190cab","date":"2012-05-22T13:11:52.499Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1399875","date":"2012-05-22T13:11:52.499Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T13:11:52.499Z","type":"part"}
{"nick":"piscisaureus_","date":"2012-05-22T13:27:16.000Z","type":"join"}
{"nick":"abraxas","date":"2012-05-22T13:28:30.351Z","type":"join"}
{"nick":"c4milo","date":"2012-05-22T13:41:11.139Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: uv_ares_task is an internal type, right?","date":"2012-05-22T13:45:08.393Z","type":"message"}
{"nick":"avalanche123","date":"2012-05-22T13:52:13.560Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-22T13:56:14.487Z","type":"quit"}
{"nick":"bnoordhuis","message":"pisyes","date":"2012-05-22T13:59:28.431Z","type":"message"}
{"nick":"bnoordhuis","message":"eh, tab complete fail","date":"2012-05-22T13:59:34.478Z","type":"message"}
{"nick":"bnoordhuis","message":"ircretary: tell piscisaureus_ yes, uv_ares_task is internal","date":"2012-05-22T13:59:57.898Z","type":"message"}
{"nick":"ircretary","message":"bnoordhuis: I'll be sure to tell piscisaureus_","date":"2012-05-22T13:59:58.120Z","type":"message"}
{"nick":"erickt","date":"2012-05-22T14:00:10.365Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-05-22T14:01:57.353Z","type":"join"}
{"nick":"piscisaureus_","message":"yay","date":"2012-05-22T14:02:10.113Z","type":"message"}
{"nick":"piscisaureus_","message":"sorry my mac is fucking up again","date":"2012-05-22T14:02:20.989Z","type":"message"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-05-22T14:02:26.942Z","type":"quit"}
{"nick":"bnoordhuis","message":"It Just Works(TM)","date":"2012-05-22T14:02:46.242Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it just works for me","date":"2012-05-22T14:03:01.593Z","type":"message"}
{"nick":"indutny","message":"well, not always","date":"2012-05-22T14:03:18.038Z","type":"message"}
{"nick":"indutny","message":"but mostly","date":"2012-05-22T14:03:19.708Z","type":"message"}
{"nick":"bnoordhuis","message":"not quite as convincing though, It Mostly Works(TM)","date":"2012-05-22T14:03:52.539Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002a478847\u000f \u000310\u000f/ (test/test-list.h uv.gyp test/test-callback-order.c)\u0002:\u000f test: add callback order test - http://git.io/5UdcDA","date":"2012-05-22T14:06:29.388Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000280b5541\u000f \u000310\u000f/ (include/uv-private/uv-unix.h src/unix/core.c src/unix/loop.c)\u0002:\u000f unix: reactive new idle watcher implementation - http://git.io/mo26Vw","date":"2012-05-22T14:06:33.390Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-05-22T14:06:57.350Z","type":"join"}
{"nick":"travis-ci","date":"2012-05-22T14:08:17.129Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#298 (master - a478847 : Ben Noordhuis): The build is still failing.","date":"2012-05-22T14:08:17.353Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/6190cab...a478847","date":"2012-05-22T14:08:17.353Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1400299","date":"2012-05-22T14:08:17.353Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T14:08:17.353Z","type":"part"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u00027eb118f\u000f \u000310\u000f/ test/benchmark-ares.c \u0002:\u000f Make the gethostbyname benchmark more precise - http://git.io/95JNUw","date":"2012-05-22T14:09:06.979Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u000275e72dd\u000f \u000310\u000f/ (16 files in 6 dirs)\u0002:\u000f windows, unix: share c-ares glue code - http://git.io/qA-fmg","date":"2012-05-22T14:09:07.203Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u0002753bf6d\u000f \u000310\u000f/ (include/uv.h src/cares.c src/uv-common.c src/uv-common.h)\u0002:\u000f Move shared c-ares glue code from uv-common to cares.c - http://git.io/ru3PTQ","date":"2012-05-22T14:09:07.642Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307cares\u000f * r\u00023e7e9ca\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f Get rid of UV_HANDLE_TYPE_PRIVATE - http://git.io/h6ERxg","date":"2012-05-22T14:09:07.863Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^-- any desire to look at the last 2 commits?","date":"2012-05-22T14:10:10.054Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: no, but i'll do it anyway","date":"2012-05-22T14:10:23.685Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-05-22T14:10:32.637Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T14:11:02.829Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#299 (cares - 3e7e9ca : Bert Belder): The build is still failing.","date":"2012-05-22T14:11:03.045Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/3e1cadb...3e7e9ca","date":"2012-05-22T14:11:03.046Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1400321","date":"2012-05-22T14:11:03.046Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T14:11:03.046Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: lgtm","date":"2012-05-22T14:11:32.629Z","type":"message"}
{"nick":"piscisaureus_","message":"kewl","date":"2012-05-22T14:11:37.182Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I also fixed your comments but they are squashed already","date":"2012-05-22T14:11:53.627Z","type":"message"}
{"nick":"bnoordhuis","message":"good","date":"2012-05-22T14:11:59.239Z","type":"message"}
{"nick":"bnoordhuis","message":"did i find the bug?","date":"2012-05-22T14:12:01.849Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah it was the memory leak","date":"2012-05-22T14:12:07.224Z","type":"message"}
{"nick":"bnoordhuis","message":"yay, go me!","date":"2012-05-22T14:12:13.045Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis ++","date":"2012-05-22T14:12:19.118Z","type":"message"}
{"nick":"kohai","message":"bnoordhuis has 16 beers","date":"2012-05-22T14:12:19.765Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000225316a3\u000f \u000310\u000f/ test/benchmark-ares.c \u0002:\u000f Make the gethostbyname benchmark more precise - http://git.io/A442qw","date":"2012-05-22T14:12:43.071Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002c06edd4\u000f \u000310\u000f/ (16 files in 6 dirs)\u0002:\u000f windows, unix: share c-ares glue code - http://git.io/J6WWzg","date":"2012-05-22T14:12:43.508Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000258ba2d8\u000f \u000310\u000f/ (include/uv.h src/cares.c src/uv-common.c src/uv-common.h)\u0002:\u000f Move shared c-ares glue code from uv-common to cares.c - http://git.io/lFzS5A","date":"2012-05-22T14:12:43.727Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002d166579\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f Get rid of UV_HANDLE_TYPE_PRIVATE - http://git.io/L0hD7w","date":"2012-05-22T14:12:43.947Z","type":"message"}
{"nick":"piscisaureus_","message":"now to get rid of loop->ares_handles and loop->ares_timer","date":"2012-05-22T14:13:08.501Z","type":"message"}
{"nick":"piscisaureus_","message":"and we can rip out c-ares","date":"2012-05-22T14:13:18.522Z","type":"message"}
{"nick":"piscisaureus_","message":"but that will be some other time","date":"2012-05-22T14:13:24.306Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't understand why simple/test-eio-limit fails every once in a while...","date":"2012-05-22T14:14:30.023Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T14:14:32.275Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#300 (master - d166579 : Bert Belder): The build is still failing.","date":"2012-05-22T14:14:32.500Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/a478847...d166579","date":"2012-05-22T14:14:32.500Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1400342","date":"2012-05-22T14:14:32.500Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T14:14:32.500Z","type":"part"}
{"nick":"deoxxa","message":"bnoordhuis: prejudice against humans - it's the beginning of the machine uprising","date":"2012-05-22T14:16:03.552Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020888cdd\u000f \u000310\u000f/ test/simple/test-cli-eval.js \u0002:\u000f test: fix bad comment - http://git.io/X3T6ag","date":"2012-05-22T14:16:06.814Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002989ae81\u000f \u000310\u000f/ test/simple/test-process-active-wraps.js \u0002:\u000f test: fix simple/test-process-active-wraps - http://git.io/vE43ZQ","date":"2012-05-22T14:16:07.928Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002039fac6\u000f \u000310\u000f/ (86 files in 11 dirs)\u0002:\u000f deps: upgrade libuv to a478847 - http://git.io/FW5ZIQ","date":"2012-05-22T14:16:09.277Z","type":"message"}
{"nick":"bnoordhuis","message":"^ there it is, the refcount refactor","date":"2012-05-22T14:16:26.851Z","type":"message"}
{"nick":"piscisaureus_","message":"cool","date":"2012-05-22T14:16:32.307Z","type":"message"}
{"nick":"tjfontaine","message":"dun dun dun","date":"2012-05-22T14:16:36.964Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: do you mind if I remove uv_lean_and_mean?","date":"2012-05-22T14:17:39.759Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: not at all, just make sure you update uv-unix","date":"2012-05-22T14:18:00.612Z","type":"message"}
{"nick":"piscisaureus_","message":"sure","date":"2012-05-22T14:18:05.835Z","type":"message"}
{"nick":"bnoordhuis","message":"though i'll miss it when debugging","date":"2012-05-22T14:18:16.810Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: do you have uv_walk already?","date":"2012-05-22T14:18:34.419Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: no. trivial to add though","date":"2012-05-22T14:18:55.230Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I want to keep active_reqs","date":"2012-05-22T14:18:55.912Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but not active handles, because I want a list of *all* handles","date":"2012-05-22T14:19:12.479Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: sure, i can live with that","date":"2012-05-22T14:19:21.784Z","type":"message"}
{"nick":"piscisaureus_","message":"and the active reqs should only contain reqs that are created by users (and not windows internal reqs)","date":"2012-05-22T14:19:33.869Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i discovered uv-unix has one or two of those as well","date":"2012-05-22T14:20:04.801Z","type":"message"}
{"nick":"bnoordhuis","message":"mostly to prime eio","date":"2012-05-22T14:20:21.136Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, right","date":"2012-05-22T14:20:29.699Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey","date":"2012-05-22T15:11:21.198Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: why should idle run before timer_cb?","date":"2012-05-22T15:11:33.795Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think that's not true","date":"2012-05-22T15:11:43.274Z","type":"message"}
{"nick":"piscisaureus_","message":"not as a general rule, anyway","date":"2012-05-22T15:11:55.548Z","type":"message"}
{"nick":"mrb_bk","reason":"Read error: Connection reset by peer","date":"2012-05-22T15:12:19.408Z","type":"quit"}
{"nick":"Raynos","reason":"Remote host closed the connection","date":"2012-05-22T15:12:19.849Z","type":"quit"}
{"nick":"indutny","reason":"Remote host closed the connection","date":"2012-05-22T15:12:22.129Z","type":"quit"}
{"nick":"TooTallNate","reason":"Read error: Connection reset by peer","date":"2012-05-22T15:12:23.679Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 248 seconds","date":"2012-05-22T15:13:02.111Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00020ef7844\u000f \u000310\u000f/ test/test-list.h \u0002:\u000f Disable test-callback-order - http://git.io/0b4vaw","date":"2012-05-22T15:14:03.398Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it's what node expects","date":"2012-05-22T15:15:20.554Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it's not","date":"2012-05-22T15:15:26.720Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: see simple/test-next-tick-ordering2","date":"2012-05-22T15:15:30.708Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: windows doesn't fail that test yet it fails test-callback-ordering","date":"2012-05-22T15:15:41.604Z","type":"message"}
{"nick":"piscisaureus_","message":"it's also not what libev does","date":"2012-05-22T15:15:46.797Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T15:15:54.863Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#301 (master - 0ef7844 : Bert Belder): The build is still failing.","date":"2012-05-22T15:15:54.863Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/d166579...0ef7844","date":"2012-05-22T15:15:54.863Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1400838","date":"2012-05-22T15:15:54.863Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-22T15:15:54.864Z","type":"part"}
{"nick":"bnoordhuis","message":"that libuv test is a 1-to-1 translation of the node test","date":"2012-05-22T15:16:07.697Z","type":"message"}
{"nick":"avalanche123","date":"2012-05-22T15:16:11.831Z","type":"join"}
{"nick":"piscisaureus_","message":"that would surprise me","date":"2012-05-22T15:16:21.886Z","type":"message"}
{"nick":"piscisaureus_","message":"since node doesn't use uv_idle","date":"2012-05-22T15:16:28.197Z","type":"message"}
{"nick":"piscisaureus_","message":"it processes nextTick with prepare callbacks","date":"2012-05-22T15:16:44.298Z","type":"message"}
{"nick":"piscisaureus_","message":"the idle thing is only there to keep the loop alive long enough","date":"2012-05-22T15:16:57.970Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: and tick_spinner","date":"2012-05-22T15:16:59.660Z","type":"message"}
{"nick":"bnoordhuis","message":"but okay, maybe","date":"2012-05-22T15:17:12.262Z","type":"message"}
{"nick":"piscisaureus_","message":"yes... but it doesn't make nextTick callbacks from the idle","date":"2012-05-22T15:17:13.164Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok... so it *also* calls the tick callback from the Idle but that doesn't mean anything... that code is normally not reached","date":"2012-05-22T15:20:49.255Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: nextTick callbacks are usually invoked from prepare or check","date":"2012-05-22T15:21:20.669Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-22T15:21:40.984Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: If it is failing for you you may not be calling Prepare/Check when the fd set is empty","date":"2012-05-22T15:21:58.186Z","type":"message"}
{"nick":"piscisaureus_","message":"but nexttick semantics are insane","date":"2012-05-22T15:22:46.534Z","type":"message"}
{"nick":"mrb_bk","date":"2012-05-22T15:23:41.924Z","type":"join"}
{"nick":"creationix","message":"why don't we just run nextTick callback when an event source returns?","date":"2012-05-22T15:25:52.507Z","type":"message"}
{"nick":"creationix","message":"*callbacks","date":"2012-05-22T15:25:56.870Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-05-22T15:26:02.631Z","type":"message"}
{"nick":"piscisaureus_","message":"I think the concern was that if you do","date":"2012-05-22T15:26:10.501Z","type":"message"}
{"nick":"creationix","message":"only event sources and other nextTick callbacks can register nextTick callbacks","date":"2012-05-22T15:26:19.803Z","type":"message"}
{"nick":"piscisaureus_","message":"process.nextTick(function() { process.nextTick(arguments.callee) })","date":"2012-05-22T15:26:31.995Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- that would starve all other events","date":"2012-05-22T15:26:38.819Z","type":"message"}
{"nick":"creationix","message":"I'd consider that a feature","date":"2012-05-22T15:27:02.925Z","type":"message"}
{"nick":"piscisaureus_","message":"but I don't think it would matter much","date":"2012-05-22T15:27:03.806Z","type":"message"}
{"nick":"creationix","message":"while(true) {} starves other events too","date":"2012-05-22T15:27:29.582Z","type":"message"}
{"nick":"creationix","message":"of course, then it should probably be called afterTick instead of nextTick","date":"2012-05-22T15:28:06.546Z","type":"message"}
{"nick":"creationix","message":"but that's usually what a person wants anyway","date":"2012-05-22T15:28:19.845Z","type":"message"}
{"nick":"piscisaureus_","message":"setImmediate as w3c would call it :-)","date":"2012-05-22T15:28:27.206Z","type":"message"}
{"nick":"creationix","message":"interesting name","date":"2012-05-22T15:28:42.252Z","type":"message"}
{"nick":"creationix","message":"I guess to be like setTimeout","date":"2012-05-22T15:28:47.416Z","type":"message"}
{"nick":"creationix","message":"except it's not \"Immediate\", it's later, but within this tick","date":"2012-05-22T15:29:14.651Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah I guess so","date":"2012-05-22T15:29:17.558Z","type":"message"}
{"nick":"piscisaureus_","message":"setLater","date":"2012-05-22T15:29:21.792Z","type":"message"}
{"nick":"creationix","message":"emberjs has something like this, but I'm not sure it's exposed to user scripts","date":"2012-05-22T15:29:39.511Z","type":"message"}
{"nick":"creationix","message":"since they wrap all event sources, there is a loop to handle nextTick-like things when it returns","date":"2012-05-22T15:30:10.018Z","type":"message"}
{"nick":"creationix","message":"I wonder how much node code would break if we changed nextTick","date":"2012-05-22T15:30:33.043Z","type":"message"}
{"nick":"piscisaureus_","message":"Not so much probably","date":"2012-05-22T15:30:41.622Z","type":"message"}
{"nick":"piscisaureus_","message":"node.cc is a mess","date":"2012-05-22T15:30:50.647Z","type":"message"}
{"nick":"pietern","date":"2012-05-22T15:30:58.483Z","type":"join"}
{"nick":"piscisaureus_","message":"creationix: but you should probably be happy with this weirdness","date":"2012-05-22T15:31:35.993Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: it ensures that we need to define libuv's loop behaviour very precisely","date":"2012-05-22T15:32:11.241Z","type":"message"}
{"nick":"creationix","message":"I don't use any of the uv_prepare, uc_idle, etc in my projects","date":"2012-05-22T15:33:19.705Z","type":"message"}
{"nick":"creationix","message":"never understood them or needed them","date":"2012-05-22T15:33:25.406Z","type":"message"}
{"nick":"piscisaureus_","message":"prepare and check are rather odd","date":"2012-05-22T15:33:46.090Z","type":"message"}
{"nick":"indutny","date":"2012-05-22T15:33:49.309Z","type":"join"}
{"nick":"piscisaureus_","message":"I think node is actually abusing them","date":"2012-05-22T15:33:53.067Z","type":"message"}
{"nick":"piscisaureus_","message":"idle is nice","date":"2012-05-22T15:33:55.274Z","type":"message"}
{"nick":"piscisaureus_","message":"suppose you would implement a game","date":"2012-05-22T15:34:12.021Z","type":"message"}
{"nick":"piscisaureus_","message":"you could process events at normal priority","date":"2012-05-22T15:34:32.678Z","type":"message"}
{"nick":"piscisaureus_","message":"and in an idle callback you render a frame","date":"2012-05-22T15:34:39.406Z","type":"message"}
{"nick":"indutny","message":"huh","date":"2012-05-22T15:34:50.320Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: sup?","date":"2012-05-22T15:34:53.117Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: libuv/libev will just call your idle callback unless it has something else to do","date":"2012-05-22T15:35:06.195Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: nothing ?","date":"2012-05-22T15:35:19.253Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: looks like :)","date":"2012-05-22T15:35:25.269Z","type":"message"}
{"nick":"creationix","message":"yeah, I see how they could be useful","date":"2012-05-22T15:35:34.749Z","type":"message"}
{"nick":"creationix","message":"just never needed them","date":"2012-05-22T15:35:37.910Z","type":"message"}
{"nick":"creationix","message":"hmm, so quick question on setImmediate and the desired behavior of process.nextTick","date":"2012-05-22T15:36:35.084Z","type":"message"}
{"nick":"creationix","message":"should it be before or after other queued events?","date":"2012-05-22T15:36:41.834Z","type":"message"}
{"nick":"creationix","message":"before is much easier to implement and usually what I want","date":"2012-05-22T15:36:53.612Z","type":"message"}
{"nick":"piscisaureus_","message":"heh","date":"2012-05-22T15:36:55.035Z","type":"message"}
{"nick":"piscisaureus_","message":"neither I guess","date":"2012-05-22T15:36:59.003Z","type":"message"}
{"nick":"piscisaureus_","message":"it should run before events that are initiated in current the tick are completed","date":"2012-05-22T15:37:28.116Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 245 seconds","date":"2012-05-22T15:37:29.861Z","type":"quit"}
{"nick":"creationix","message":"by \"queued events\" I mean other event sources that have already been put in the event queue","date":"2012-05-22T15:37:32.449Z","type":"message"}
{"nick":"creationix","message":"so if I setTimeout(fn, 10) and then busy loop for 400ms calculating primes, and then nextTick(fn2), should fn2 be before or after fn","date":"2012-05-22T15:38:13.563Z","type":"message"}
{"nick":"piscisaureus_","message":"before","date":"2012-05-22T15:38:38.570Z","type":"message"}
{"nick":"piscisaureus_","message":"because setTimeout is called in the same tick as nextTick","date":"2012-05-22T15:39:00.310Z","type":"message"}
{"nick":"creationix","message":"and if within fn2, I do another nextTick(fn3) should fn3 still be before fn?","date":"2012-05-22T15:39:04.687Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-05-22T15:39:16.075Z","type":"message"}
{"nick":"creationix","message":"why?","date":"2012-05-22T15:39:19.752Z","type":"message"}
{"nick":"creationix","message":"it's still the same tick (well right after it I guess)","date":"2012-05-22T15:39:32.311Z","type":"message"}
{"nick":"piscisaureus_","message":"well, I'm not saying *should*, but that's what it does","date":"2012-05-22T15:39:44.042Z","type":"message"}
{"nick":"creationix","message":"yes, that's what it does today","date":"2012-05-22T15:39:51.913Z","type":"message"}
{"nick":"creationix","message":"I personally hate that behavior","date":"2012-05-22T15:39:59.559Z","type":"message"}
{"nick":"creationix","message":"it causes nasty race conditions","date":"2012-05-22T15:40:06.360Z","type":"message"}
{"nick":"creationix","message":"and hurts performance ","date":"2012-05-22T15:40:11.616Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: there are wonky edge cases tho","date":"2012-05-22T15:40:12.669Z","type":"message"}
{"nick":"creationix","message":"and what would setImmediete do in the fn2, fn3 case?","date":"2012-05-22T15:40:57.452Z","type":"message"}
{"nick":"creationix","message":"it says it executed after UI stuff, but doesn't mention things like new click events or expired timeouts","date":"2012-05-22T15:41:13.698Z","type":"message"}
{"nick":"creationix","message":"there is no UI layer in node","date":"2012-05-22T15:41:20.579Z","type":"message"}
{"nick":"piscisaureus_","message":"function f2() {","date":"2012-05-22T15:41:26.095Z","type":"message"}
{"nick":"piscisaureus_","message":"  process.nextTick(f1c)","date":"2012-05-22T15:41:26.318Z","type":"message"}
{"nick":"piscisaureus_","message":"}","date":"2012-05-22T15:41:26.318Z","type":"message"}
{"nick":"piscisaureus_","message":"function f1() {","date":"2012-05-22T15:41:26.318Z","type":"message"}
{"nick":"piscisaureus_","message":"  process.nextTick(f1b);","date":"2012-05-22T15:41:26.318Z","type":"message"}
{"nick":"piscisaureus_","message":"}","date":"2012-05-22T15:41:26.318Z","type":"message"}
{"nick":"piscisaureus_","message":"process.nextTick(f1);","date":"2012-05-22T15:41:26.319Z","type":"message"}
{"nick":"piscisaureus_","message":"process.nextTick(f2);","date":"2012-05-22T15:41:27.128Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- creationix: what order would you suggest?","date":"2012-05-22T15:41:33.635Z","type":"message"}
{"nick":"creationix","message":"so when the event source finishes, the queue has [f1, f2]","date":"2012-05-22T15:41:56.777Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm I meant to say \"f2b\"  and not \"f1c\"","date":"2012-05-22T15:41:58.302Z","type":"message"}
{"nick":"creationix","message":"it then executes f1 which puts f2b in the queue [f2, f1b]","date":"2012-05-22T15:42:33.893Z","type":"message"}
{"nick":"creationix","message":"s/f2b/f2b/","date":"2012-05-22T15:42:48.826Z","type":"message"}
{"nick":"piscisaureus_","message":"ghe","date":"2012-05-22T15:42:53.208Z","type":"message"}
{"nick":"piscisaureus_","message":"I see what you mean ?","date":"2012-05-22T15:42:56.610Z","type":"message"}
{"nick":"piscisaureus_","message":"s/?/!/","date":"2012-05-22T15:43:00.477Z","type":"message"}
{"nick":"Raynos","date":"2012-05-22T15:43:07.711Z","type":"join"}
{"nick":"creationix","message":"as long as it's a queue and you only pull from the front, it's very well defined","date":"2012-05-22T15:43:20.540Z","type":"message"}
{"nick":"creationix","message":"all within the same stack","date":"2012-05-22T15:43:25.154Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: true... but you just defined a semantic where nextTick is always called immediately after the current tick","date":"2012-05-22T15:43:48.631Z","type":"message"}
{"nick":"piscisaureus_","message":"but that breaks as soon as multiple nextTicks are queued within the same tick","date":"2012-05-22T15:44:16.549Z","type":"message"}
{"nick":"creationix","message":"how does it break?","date":"2012-05-22T15:44:27.339Z","type":"message"}
{"nick":"creationix","message":"it's single threaded, there is one queue","date":"2012-05-22T15:44:34.781Z","type":"message"}
{"nick":"creationix","message":"order is well defined","date":"2012-05-22T15:44:41.935Z","type":"message"}
{"nick":"creationix","message":"callbacks get called in the order they are registered till there are none left","date":"2012-05-22T15:44:51.515Z","type":"message"}
{"nick":"piscisaureus_","message":"Currently the actual semantics are very odd","date":"2012-05-22T15:45:48.650Z","type":"message"}
{"nick":"creationix","message":"right, what I want is very simple.  The only downside is some current code may busyloop if it depends on infinite recursive nextTicks","date":"2012-05-22T15:46:18.263Z","type":"message"}
{"nick":"creationix","message":"also what I want shouldn't be called \"nextTick\"","date":"2012-05-22T15:46:32.331Z","type":"message"}
{"nick":"piscisaureus_","message":"Every time processTicks is called all the callbacks that are in the queue at that point in time are made, but new nextTick callbacks are put on a new queue and executed on the next processTicks invocation","date":"2012-05-22T15:46:39.949Z","type":"message"}
{"nick":"piscisaureus_","message":"and a loop looks like this","date":"2012-05-22T15:46:46.614Z","type":"message"}
{"nick":"avalanche123","reason":"Ping timeout: 276 seconds","date":"2012-05-22T15:46:59.783Z","type":"quit"}
{"nick":"piscisaureus_","message":"processTicks -> processTicks -> processTimers -> processIoEvents -> repeat","date":"2012-05-22T15:47:04.390Z","type":"message"}
{"nick":"creationix","message":"when did that change?  I remember node code used to be `while (next = queue.shift()) {next()}","date":"2012-05-22T15:47:15.798Z","type":"message"}
{"nick":"piscisaureus_","message":"a long long time ago","date":"2012-05-22T15:47:24.319Z","type":"message"}
{"nick":"piscisaureus_","message":"(the two processTicks in a row is not an oversight)","date":"2012-05-22T15:47:49.525Z","type":"message"}
{"nick":"creationix","message":"so processTicks is what eats the current queue of nextTick functions?","date":"2012-05-22T15:48:31.128Z","type":"message"}
{"nick":"piscisaureus_","message":"yep","date":"2012-05-22T15:48:37.526Z","type":"message"}
{"nick":"creationix","message":"that's really strange","date":"2012-05-22T15:48:50.081Z","type":"message"}
{"nick":"piscisaureus_","message":"well, it's actually called _tickCallback","date":"2012-05-22T15:48:52.123Z","type":"message"}
{"nick":"piscisaureus_","message":"but yeah","date":"2012-05-22T15:48:53.774Z","type":"message"}
{"nick":"creationix","message":"that's going to bite people","date":"2012-05-22T15:49:00.928Z","type":"message"}
{"nick":"piscisaureus_","message":"probably not","date":"2012-05-22T15:49:09.595Z","type":"message"}
{"nick":"creationix","message":"the first two time you call it, it's before real events, but not beyond that","date":"2012-05-22T15:49:16.376Z","type":"message"}
{"nick":"piscisaureus_","message":"the semantics are so weird that nobody will rely on anything","date":"2012-05-22T15:49:19.001Z","type":"message"}
{"nick":"creationix","message":"also if I re4gister a nextTick in a timer, then I/O events still come in first?","date":"2012-05-22T15:49:31.969Z","type":"message"}
{"nick":"deoxxa","message":"^^ famous last words","date":"2012-05-22T15:49:33.071Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: yep","date":"2012-05-22T15:49:43.514Z","type":"message"}
{"nick":"avalanche123","date":"2012-05-22T15:49:45.825Z","type":"join"}
{"nick":"TooTallNate","date":"2012-05-22T15:49:54.855Z","type":"join"}
{"nick":"creationix","message":"ok, how about this, we leave nextTick as it is, but add a simpler one called afterTick or setImmediate that does what I want","date":"2012-05-22T15:50:10.705Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: it's easy to test","date":"2012-05-22T15:50:19.543Z","type":"message"}
{"nick":"creationix","message":"so what is the purpose of nextTick in the first place?","date":"2012-05-22T15:51:12.168Z","type":"message"}
{"nick":"creationix","message":"I don't think that's clearly defined","date":"2012-05-22T15:51:21.419Z","type":"message"}
{"nick":"creationix","message":"it's too unreliable in the current form for the things I need it for","date":"2012-05-22T15:51:30.440Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: https://gist.github.com/2769922","date":"2012-05-22T15:54:54.394Z","type":"message"}
{"nick":"piscisaureus_","message":"here's what I get on windows:","date":"2012-05-22T15:54:54.616Z","type":"message"}
{"nick":"piscisaureus_","message":"timeout","date":"2012-05-22T15:54:54.616Z","type":"message"}
{"nick":"piscisaureus_","message":"timeout","date":"2012-05-22T15:54:54.616Z","type":"message"}
{"nick":"piscisaureus_","message":"nexttick set by nexttick","date":"2012-05-22T15:54:54.616Z","type":"message"}
{"nick":"piscisaureus_","message":"nexttick set by timer","date":"2012-05-22T15:54:55.128Z","type":"message"}
{"nick":"piscisaureus_","message":"nexttick set by timer","date":"2012-05-22T15:54:55.346Z","type":"message"}
{"nick":"piscisaureus_","message":"nexttick set by nexttick","date":"2012-05-22T15:54:56.129Z","type":"message"}
{"nick":"piscisaureus_","message":"// repeat","date":"2012-05-22T15:54:56.346Z","type":"message"}
{"nick":"piscisaureus_","message":"I wonder where the double timeout comes from btw","date":"2012-05-22T15:55:56.843Z","type":"message"}
{"nick":"avalanche123","reason":"Ping timeout: 252 seconds","date":"2012-05-22T15:56:26.861Z","type":"quit"}
{"nick":"creationix","message":"strange","date":"2012-05-22T15:57:30.837Z","type":"message"}
{"nick":"piscisaureus_","message":"let's add some busy loop to the tick() function","date":"2012-05-22T15:59:23.398Z","type":"message"}

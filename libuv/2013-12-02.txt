{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-12-02T00:00:01.788Z","type":"quit"}
{"nick":"ircretary","date":"2013-12-02T00:00:09.405Z","type":"join"}
{"nick":"calvinfo1","date":"2013-12-02T00:02:27.154Z","type":"join"}
{"nick":"calvinfo","reason":"Ping timeout: 246 seconds","date":"2013-12-02T00:03:59.941Z","type":"quit"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-12-02T00:10:04.801Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-12-02T00:12:09.023Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-12-02T00:20:35.411Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-12-02T00:24:17.579Z","type":"quit"}
{"nick":"jmar777","date":"2013-12-02T00:42:20.415Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-12-02T00:45:21.005Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-12-02T01:05:47.733Z","type":"quit"}
{"nick":"timoxley","date":"2013-12-02T01:08:05.461Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-12-02T01:25:17.810Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2013-12-02T01:27:53.534Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-12-02T01:28:23.997Z","type":"join"}
{"nick":"piscisaureus_","new_nick":"otwo","date":"2013-12-02T01:29:35.186Z","type":"nick"}
{"nick":"otwo","reason":"Client Quit","date":"2013-12-02T01:29:49.383Z","type":"quit"}
{"nick":"otwo","date":"2013-12-02T01:30:14.165Z","type":"join"}
{"nick":"AvianFlu","date":"2013-12-02T01:42:09.906Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-12-02T01:55:47.513Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-12-02T01:55:57.866Z","type":"join"}
{"nick":"abraxas","date":"2013-12-02T02:03:08.430Z","type":"join"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-12-02T02:03:34.651Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-12-02T02:03:37.745Z","type":"join"}
{"nick":"kevinswiber","date":"2013-12-02T02:12:29.373Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-12-02T02:24:40.296Z","type":"quit"}
{"nick":"kazupon","date":"2013-12-02T02:35:33.796Z","type":"join"}
{"nick":"wolfeida_","new_nick":"wolfeidau","date":"2013-12-02T02:38:07.870Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-12-02T02:40:22.043Z","type":"join"}
{"nick":"stagas","date":"2013-12-02T02:47:13.105Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T02:49:53.880Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-12-02T02:58:41.832Z","type":"quit"}
{"nick":"timoxley","date":"2013-12-02T03:04:19.559Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-12-02T03:08:44.806Z","type":"quit"}
{"nick":"timoxley","reason":"Ping timeout: 265 seconds","date":"2013-12-02T03:08:54.378Z","type":"quit"}
{"nick":"aranhoide","reason":"Ping timeout: 245 seconds","date":"2013-12-02T03:10:50.214Z","type":"quit"}
{"nick":"aranhoide","date":"2013-12-02T03:14:10.264Z","type":"join"}
{"nick":"groundwater","date":"2013-12-02T03:17:08.887Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Timothy J Fontaine\u000f \u00037v0.10\u000f * \u00026877e64\u0002 : build: include postmortem symbols on linux - http://git.io/eqOxRg","date":"2013-12-02T03:20:50.720Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1632 \u00037UNSTABLE\u000f smartos-x64 (4/604) smartos-ia32 (4/604) linux-x64 (2/604) osx-ia32 (1/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1632/","date":"2013-12-02T03:31:23.885Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-12-02T03:34:19.480Z","type":"quit"}
{"nick":"abraxas","date":"2013-12-02T03:34:55.305Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #350 \u00037UNSTABLE\u000f windows-ia32 (10/604) windows-x64 (11/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/350/","date":"2013-12-02T03:36:27.929Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-12-02T03:42:35.859Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-12-02T03:42:47.000Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Timothy J Fontaine\u000f \u00037master\u000f * \u0002001f9b4\u0002 : Merge remote-tracking branch 'upstream/v0.10' (+5 more commits) - http://git.io/4ch2rw","date":"2013-12-02T03:44:01.126Z","type":"message"}
{"nick":"Benvie","date":"2013-12-02T03:49:15.710Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #740 \u00037UNSTABLE\u000f osx-x64 (1/680) smartos-ia32 (8/680) linux-x64 (1/680) smartos-x64 (9/680) http://jenkins.nodejs.org/job/nodejs-master/740/","date":"2013-12-02T04:02:30.433Z","type":"message"}
{"nick":"dshaw_","date":"2013-12-02T04:12:44.876Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 264 seconds","date":"2013-12-02T04:15:50.894Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-12-02T04:36:27.474Z","type":"nick"}
{"nick":"mikeal","date":"2013-12-02T04:36:48.738Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-12-02T04:39:06.811Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T04:41:26.726Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-12-02T04:44:47.882Z","type":"quit"}
{"nick":"brson","date":"2013-12-02T04:52:15.802Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 260 seconds","date":"2013-12-02T04:57:55.830Z","type":"quit"}
{"nick":"indexzero","date":"2013-12-02T05:05:21.130Z","type":"join"}
{"nick":"groundwater","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2013-12-02T05:09:51.790Z","type":"quit"}
{"nick":"dshaw_","date":"2013-12-02T05:12:17.695Z","type":"join"}
{"nick":"calvinfo1","reason":"Quit: Leaving.","date":"2013-12-02T05:20:17.177Z","type":"quit"}
{"nick":"dshaw_","reason":"Ping timeout: 264 seconds","date":"2013-12-02T05:25:26.720Z","type":"quit"}
{"nick":"calvinfo","date":"2013-12-02T05:25:57.175Z","type":"join"}
{"nick":"groundwater","date":"2013-12-02T05:27:03.174Z","type":"join"}
{"nick":"groundwater","reason":"Client Quit","date":"2013-12-02T05:27:52.034Z","type":"quit"}
{"nick":"inolen","reason":"Ping timeout: 265 seconds","date":"2013-12-02T05:28:06.229Z","type":"quit"}
{"nick":"inolen","date":"2013-12-02T05:28:24.289Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T05:30:16.951Z","type":"join"}
{"nick":"groundwater","date":"2013-12-02T05:30:41.921Z","type":"join"}
{"nick":"groundwater","reason":"Remote host closed the connection","date":"2013-12-02T05:30:48.449Z","type":"quit"}
{"nick":"timoxley","date":"2013-12-02T05:31:10.941Z","type":"join"}
{"nick":"groundwater","date":"2013-12-02T05:34:03.083Z","type":"join"}
{"nick":"groundwater","reason":"Remote host closed the connection","date":"2013-12-02T05:34:53.837Z","type":"quit"}
{"nick":"groundwater","date":"2013-12-02T05:38:19.827Z","type":"join"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-12-02T05:39:07.306Z","type":"quit"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-12-02T05:46:39.924Z","type":"quit"}
{"nick":"robonerd","reason":"Ping timeout: 240 seconds","date":"2013-12-02T05:55:26.757Z","type":"quit"}
{"nick":"robonerd-","date":"2013-12-02T05:55:39.663Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2013-12-02T06:05:43.840Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 246 seconds","date":"2013-12-02T06:07:49.797Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-12-02T06:18:39.220Z","type":"quit"}
{"nick":"brson","date":"2013-12-02T06:19:06.604Z","type":"join"}
{"nick":"calvinfo","date":"2013-12-02T06:19:36.926Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-12-02T06:19:49.256Z","type":"quit"}
{"nick":"inolen","date":"2013-12-02T06:20:08.724Z","type":"join"}
{"nick":"kazupon","date":"2013-12-02T06:23:58.843Z","type":"join"}
{"nick":"mikeal","date":"2013-12-02T06:25:24.171Z","type":"join"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-12-02T06:30:04.614Z","type":"quit"}
{"nick":"calvinfo","reason":"Quit: Leaving.","date":"2013-12-02T06:32:58.171Z","type":"quit"}
{"nick":"calvinfo","date":"2013-12-02T06:34:13.295Z","type":"join"}
{"nick":"calvinfo","date":"2013-12-02T06:36:54.948Z","type":"part"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #351 \u00037UNSTABLE\u000f windows-ia32 (10/604) windows-x64 (10/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/351/","date":"2013-12-02T06:41:20.256Z","type":"message"}
{"nick":"felixge","date":"2013-12-02T06:48:21.865Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-12-02T06:55:16.635Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-12-02T06:56:54.217Z","type":"quit"}
{"nick":"m76","date":"2013-12-02T06:58:30.797Z","type":"join"}
{"nick":"bajtos","date":"2013-12-02T07:03:55.094Z","type":"join"}
{"nick":"paddybyers","date":"2013-12-02T07:06:58.317Z","type":"join"}
{"nick":"loladiro","date":"2013-12-02T07:18:03.946Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-12-02T07:25:36.081Z","type":"quit"}
{"nick":"aranhoide","reason":"Read error: Operation timed out","date":"2013-12-02T07:30:46.546Z","type":"quit"}
{"nick":"rendar","date":"2013-12-02T08:01:10.921Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T08:21:18.207Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-12-02T08:26:20.763Z","type":"quit"}
{"nick":"loladiro","date":"2013-12-02T08:27:18.725Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-12-02T08:27:41.913Z","type":"quit"}
{"nick":"indutny","message":"heya","date":"2013-12-02T08:28:12.975Z","type":"message"}
{"nick":"DarkGodW","date":"2013-12-02T08:40:49.934Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T08:52:10.843Z","type":"join"}
{"nick":"inolen","reason":"Read error: No route to host","date":"2013-12-02T09:02:43.972Z","type":"quit"}
{"nick":"inolen","date":"2013-12-02T09:02:59.702Z","type":"join"}
{"nick":"mmalecki","message":"sup Fedor","date":"2013-12-02T09:07:59.614Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 264 seconds","date":"2013-12-02T09:08:38.750Z","type":"quit"}
{"nick":"aranhoide","date":"2013-12-02T09:11:56.302Z","type":"join"}
{"nick":"mmalecki","message":"indutny: so I'm confused as to isLoopback method in ip","date":"2013-12-02T09:13:41.128Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-12-02T09:13:47.794Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-12-02T09:13:48.384Z","type":"message"}
{"nick":"mmalecki","message":"indutny: er, loopback.","date":"2013-12-02T09:13:50.729Z","type":"message"}
{"nick":"mmalecki","message":"indutny: you specify fe80::1, every result I found on the web says that it's just ::1","date":"2013-12-02T09:14:12.664Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-12-02T09:14:34.506Z","type":"message"}
{"nick":"indutny","message":"perhaps, that wasn't me who contributed it","date":"2013-12-02T09:14:40.350Z","type":"message"}
{"nick":"mmalecki","message":"is it related to link-local prefix?","date":"2013-12-02T09:14:41.420Z","type":"message"}
{"nick":"mmalecki","message":"good point","date":"2013-12-02T09:14:46.813Z","type":"message"}
{"nick":"mmalecki","message":":Gblame","date":"2013-12-02T09:14:48.300Z","type":"message"}
{"nick":"mmalecki","message":"yeah, [0]","date":"2013-12-02T09:15:04.752Z","type":"message"}
{"nick":"indutny","message":"ok :)","date":"2013-12-02T09:16:29.477Z","type":"message"}
{"nick":"mmalecki","message":"what a mess - fe80-feb:: seems to be link-local prefix","date":"2013-12-02T09:18:06.239Z","type":"message"}
{"nick":"mmalecki","message":"but ::1 still works","date":"2013-12-02T09:18:18.507Z","type":"message"}
{"nick":"mmalecki","message":"oh maan, there's more. there are also site-local and link-local addresses which aren't in ip yet","date":"2013-12-02T09:20:03.410Z","type":"message"}
{"nick":"indexzero","message":"mmalecki: I really need to change my handle or something so that [0] also summons me","date":"2013-12-02T09:21:52.900Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: haha, it's configurable in irssi","date":"2013-12-02T09:23:52.567Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: so I have a question about https://github.com/indutny/node-ip/commit/5652a2c8a5312dc6a38a0d2300e6ca673b5f54c6","date":"2013-12-02T09:24:27.336Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: why fe80::1 as loopback instead of ::1?","date":"2013-12-02T09:24:38.498Z","type":"message"}
{"nick":"indexzero","message":"mmalecki: https://gist.github.com/indexzero/7747045","date":"2013-12-02T09:25:54.240Z","type":"message"}
{"nick":"indexzero","message":"I think the script I was using probably fetched the first one","date":"2013-12-02T09:26:13.465Z","type":"message"}
{"nick":"indexzero","message":"which happens to be fe::80","date":"2013-12-02T09:26:17.374Z","type":"message"}
{"nick":"indexzero","message":"err","date":"2013-12-02T09:26:20.436Z","type":"message"}
{"nick":"indexzero","message":"fe80::1","date":"2013-12-02T09:26:22.446Z","type":"message"}
{"nick":"indexzero","message":"I didn't really know anything about ipv6 so I just assumed node wasn't lying to me","date":"2013-12-02T09:26:39.346Z","type":"message"}
{"nick":"mmalecki","message":"ohh... nice. so macs also have fe80::1. my Linux VM only has ::1","date":"2013-12-02T09:27:35.017Z","type":"message"}
{"nick":"mmalecki","message":"https://twitter.com/dabeaz/status/406947329431052288","date":"2013-12-02T09:27:56.795Z","type":"message"}
{"nick":"indexzero","message":"ok","date":"2013-12-02T09:29:22.547Z","type":"message"}
{"nick":"indexzero","message":"probably better to just match /::1$/","date":"2013-12-02T09:29:31.573Z","type":"message"}
{"nick":"mmalecki","message":"yeah, fe80:: is already there actually","date":"2013-12-02T09:30:14.610Z","type":"message"}
{"nick":"indexzero","message":"right","date":"2013-12-02T09:30:52.627Z","type":"message"}
{"nick":"indexzero","message":"but fe80::1 and ::1 both match to /::1$/","date":"2013-12-02T09:31:06.070Z","type":"message"}
{"nick":"indexzero","message":"so less regexps?","date":"2013-12-02T09:31:11.618Z","type":"message"}
{"nick":"indexzero","message":"mmalecki: also. unrelated: https://twitter.com/joestump/status/407425620982120448","date":"2013-12-02T09:31:49.863Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: whole fe80:: is a private, link-local address space","date":"2013-12-02T09:32:25.244Z","type":"message"}
{"nick":"mmalecki","message":"fe80 - feb","date":"2013-12-02T09:32:33.014Z","type":"message"}
{"nick":"mmalecki","message":"http://www.freebsd.org/doc/handbook/network-ipv6.html","date":"2013-12-02T09:32:34.653Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: oh, awesome","date":"2013-12-02T09:33:01.323Z","type":"message"}
{"nick":"indexzero","message":"mmalecki: right, but private !== local","date":"2013-12-02T09:33:17.606Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: I don't think I know those folks","date":"2013-12-02T09:33:29.174Z","type":"message"}
{"nick":"indexzero","message":"so is loopback is really just /::1$/","date":"2013-12-02T09:33:41.423Z","type":"message"}
{"nick":"indexzero","message":"but link-local and site-local should be in .isPrivate()","date":"2013-12-02T09:33:57.564Z","type":"message"}
{"nick":"mmalecki","message":"yeah, but os.networkInterfaces() also returns fe80::1 as a loopback interface","date":"2013-12-02T09:34:23.684Z","type":"message"}
{"nick":"mmalecki","message":"with internal: true","date":"2013-12-02T09:34:30.271Z","type":"message"}
{"nick":"mmalecki","message":"indexzero: ohh, wookiehangover. I met him but not sure where","date":"2013-12-02T09:35:06.512Z","type":"message"}
{"nick":"mmalecki","message":"so when I listen to ::1 and connect to ::1, everything works fine. when I listen to ::1 and connect to fe80::1, I get EHOSTUNREACH","date":"2013-12-02T09:41:21.306Z","type":"message"}
{"nick":"mmalecki","message":"starting to be really confused about how computers work","date":"2013-12-02T09:41:38.984Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-12-02T09:42:41.880Z","type":"quit"}
{"nick":"indutny","message":"whoa","date":"2013-12-02T09:43:16.904Z","type":"message"}
{"nick":"indutny","message":"just built custom openvpn","date":"2013-12-02T09:43:23.808Z","type":"message"}
{"nick":"indutny","message":"to connect to the server :)","date":"2013-12-02T09:43:28.130Z","type":"message"}
{"nick":"indutny","message":"took a hour to figure out how to patch this thing","date":"2013-12-02T09:43:41.420Z","type":"message"}
{"nick":"mmalecki","message":"indutny: let me guess, you tried compiling it on Solaris?","date":"2013-12-02T09:44:07.688Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-12-02T09:44:11.866Z","type":"message"}
{"nick":"indutny","message":"on osx","date":"2013-12-02T09:44:14.262Z","type":"message"}
{"nick":"indutny","message":"using cert from keychain","date":"2013-12-02T09:44:18.342Z","type":"message"}
{"nick":"indutny","message":"this option isn't present in default openvpn release","date":"2013-12-02T09:44:26.151Z","type":"message"}
{"nick":"mmalecki","message":"ohhh, nice","date":"2013-12-02T09:44:29.802Z","type":"message"}
{"nick":"indutny","message":"I had to use patch from 2011","date":"2013-12-02T09:44:32.196Z","type":"message"}
{"nick":"mmalecki","message":"heh","date":"2013-12-02T09:44:37.007Z","type":"message"}
{"nick":"indutny","message":"yeah, backporting was kind of hell","date":"2013-12-02T09:44:43.844Z","type":"message"}
{"nick":"indutny","message":"though, most of the stuff was still in place","date":"2013-12-02T09:44:51.010Z","type":"message"}
{"nick":"mmalecki","message":"'::' is also an alias for ::1 ._.","date":"2013-12-02T09:45:49.678Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-12-02T09:45:59.764Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-12-02T09:46:02.740Z","type":"message"}
{"nick":"indutny","message":"http://[::]:8000/","date":"2013-12-02T09:46:07.819Z","type":"message"}
{"nick":"indutny","message":"I love it!","date":"2013-12-02T09:46:09.561Z","type":"message"}
{"nick":"indutny","message":"it don't even highlight in my irc client","date":"2013-12-02T09:46:20.380Z","type":"message"}
{"nick":"otwo","reason":"Ping timeout: 252 seconds","date":"2013-12-02T09:52:09.025Z","type":"quit"}
{"nick":"mmalecki","message":"ah. it all makes a bit more sense when you realize that other interfaces also have \"loopback\" addresses, or link-local addresses","date":"2013-12-02T09:53:28.532Z","type":"message"}
{"nick":"mmalecki","message":"and loopback is just one of those interfaces","date":"2013-12-02T09:53:44.214Z","type":"message"}
{"nick":"dshaw_","date":"2013-12-02T10:03:13.937Z","type":"join"}
{"nick":"mmalecki","message":"indutny: https://github.com/indutny/node-ip/pull/10","date":"2013-12-02T10:04:38.969Z","type":"message"}
{"nick":"mmalecki","message":"indutny: ^","date":"2013-12-02T10:04:43.558Z","type":"message"}
{"nick":"indutny","message":"mmalecki: are you sure about ^:: ?","date":"2013-12-02T10:07:01.211Z","type":"message"}
{"nick":"indutny","message":"is ::5 loopback too?","date":"2013-12-02T10:07:11.700Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 272 seconds","date":"2013-12-02T10:07:53.778Z","type":"quit"}
{"nick":"mmalecki","message":"indutny: no, connecting to ::5 fails","date":"2013-12-02T10:08:19.468Z","type":"message"}
{"nick":"mmalecki","message":"I *think* you can only skip 1's like that","date":"2013-12-02T10:08:31.850Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-12-02T10:09:31.106Z","type":"message"}
{"nick":"mmalecki","message":"indutny: I'm gonna make that ^::$","date":"2013-12-02T10:10:57.284Z","type":"message"}
{"nick":"dshaw_","date":"2013-12-02T10:13:23.239Z","type":"join"}
{"nick":"indutny","message":"ok","date":"2013-12-02T10:16:40.704Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 245 seconds","date":"2013-12-02T10:20:36.133Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-12-02T10:34:46.801Z","type":"join"}
{"nick":"otwo","date":"2013-12-02T10:35:43.082Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 272 seconds","date":"2013-12-02T10:35:45.791Z","type":"quit"}
{"nick":"aranhoide","reason":"Ping timeout: 245 seconds","date":"2013-12-02T10:40:50.256Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1633 \u00037UNSTABLE\u000f smartos-x64 (5/604) smartos-ia32 (4/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1633/","date":"2013-12-02T10:49:22.614Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-12-02T10:50:06.721Z","type":"quit"}
{"nick":"felixge","date":"2013-12-02T10:50:28.352Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-12-02T10:50:29.441Z","type":"quit"}
{"nick":"felixge","date":"2013-12-02T10:50:29.592Z","type":"join"}
{"nick":"wolfeida_","new_nick":"wolfeidau","date":"2013-12-02T10:50:35.066Z","type":"nick"}
{"nick":"aranhoide","date":"2013-12-02T10:50:40.726Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2013-12-02T10:50:57.012Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u00029b8fcff\u0002 : tls: reset NPN callbacks after SNI - http://git.io/Se5Uqw","date":"2013-12-02T10:53:31.648Z","type":"message"}
{"nick":"otwo","reason":"Ping timeout: 246 seconds","date":"2013-12-02T10:57:05.951Z","type":"quit"}
{"nick":"mitsuhiko","message":"indutny: and don't forget the scope can also be in the url","date":"2013-12-02T10:58:35.073Z","type":"message"}
{"nick":"indutny","message":"um?","date":"2013-12-02T10:58:45.898Z","type":"message"}
{"nick":"mitsuhiko","message":"http://[::]%1/","date":"2013-12-02T10:59:21.371Z","type":"message"}
{"nick":"mitsuhiko","message":"or was it [::%1]?","date":"2013-12-02T10:59:30.507Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-12-02T10:59:30.655Z","type":"message"}
{"nick":"indutny","message":"gosh :)","date":"2013-12-02T10:59:36.163Z","type":"message"}
{"nick":"indutny","message":"I don't even want to think about it","date":"2013-12-02T10:59:45.989Z","type":"message"}
{"nick":"indutny","message":"ipv6 without domain names","date":"2013-12-02T10:59:52.639Z","type":"message"}
{"nick":"mitsuhiko","message":"the clever people that thought that \":\" and \"%\" are good signs for ip addresses because they have no prior meaning in urls","date":"2013-12-02T11:00:11.295Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-12-02T11:00:48.071Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-12-02T11:00:53.310Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-12-02T11:01:37.211Z","type":"quit"}
{"nick":"felixge","date":"2013-12-02T11:02:00.984Z","type":"join"}
{"nick":"otwo","date":"2013-12-02T11:02:23.173Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u00024bd5f35\u0002 : Merge branch 'v0.10' (+1 more commits) - http://git.io/Jm0obQ","date":"2013-12-02T11:04:56.832Z","type":"message"}
{"nick":"rendar","date":"2013-12-02T11:07:15.778Z","type":"quit"}
{"nick":"otwo","reason":"Ping timeout: 252 seconds","date":"2013-12-02T11:08:03.021Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #352 \u00037UNSTABLE\u000f windows-ia32 (12/604) windows-x64 (10/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/352/","date":"2013-12-02T11:08:34.927Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1634 \u00037UNSTABLE\u000f smartos-x64 (13/604) smartos-ia32 (5/604) linux-ia32 (2/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1634/","date":"2013-12-02T11:13:22.159Z","type":"message"}
{"nick":"dshaw_","date":"2013-12-02T11:17:09.953Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 260 seconds","date":"2013-12-02T11:21:31.827Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #741 \u00037UNSTABLE\u000f osx-x64 (2/680) smartos-ia32 (5/680) smartos-x64 (11/680) osx-ia32 (1/680) http://jenkins.nodejs.org/job/nodejs-master/741/","date":"2013-12-02T11:25:35.289Z","type":"message"}
{"nick":"bajtos","date":"2013-12-02T11:45:54.325Z","type":"join"}
{"nick":"Raynos_","date":"2013-12-02T11:54:58.221Z","type":"join"}
{"nick":"Raynos","reason":"Ping timeout: 240 seconds","date":"2013-12-02T11:57:38.955Z","type":"quit"}
{"nick":"Raynos_","new_nick":"Raynos","date":"2013-12-02T11:57:41.832Z","type":"nick"}
{"nick":"groundwater","reason":"Ping timeout: 240 seconds","date":"2013-12-02T11:57:52.632Z","type":"quit"}
{"nick":"groundwater","date":"2013-12-02T11:59:37.687Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T12:18:01.807Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 248 seconds","date":"2013-12-02T12:22:29.666Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-12-02T12:46:00.842Z","type":"quit"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2013-12-02T12:58:22.188Z","type":"quit"}
{"nick":"abraxas","date":"2013-12-02T13:01:26.455Z","type":"join"}
{"nick":"aranhoide","reason":"Ping timeout: 264 seconds","date":"2013-12-02T13:01:26.755Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-12-02T13:11:06.655Z","type":"quit"}
{"nick":"janjongboom","date":"2013-12-02T13:16:50.519Z","type":"join"}
{"nick":"jmar777","date":"2013-12-02T13:28:11.536Z","type":"join"}
{"nick":"m76","reason":"Read error: Connection reset by peer","date":"2013-12-02T13:46:04.318Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-12-02T14:17:07.822Z","type":"quit"}
{"nick":"AlexisMocha","date":"2013-12-02T14:17:24.875Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-12-02T14:18:35.825Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-12-02T14:30:06.639Z","type":"join"}
{"nick":"paulfryzel","date":"2013-12-02T14:42:21.140Z","type":"join"}
{"nick":"m76","date":"2013-12-02T14:43:53.893Z","type":"join"}
{"nick":"paulfryzel","reason":"Remote host closed the connection","date":"2013-12-02T14:46:50.094Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-12-02T14:47:38.806Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E|BRB","date":"2013-12-02T14:48:18.346Z","type":"nick"}
{"nick":"`3E|BRB","new_nick":"`3E","date":"2013-12-02T14:58:52.409Z","type":"nick"}
{"nick":"paddybyers_","date":"2013-12-02T15:02:00.770Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2013-12-02T15:03:20.315Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2013-12-02T15:03:20.609Z","type":"nick"}
{"nick":"jmar777","date":"2013-12-02T15:04:21.044Z","type":"join"}
{"nick":"kazupon","date":"2013-12-02T15:06:12.803Z","type":"join"}
{"nick":"hz","date":"2013-12-02T15:08:38.336Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-12-02T15:09:13.102Z","type":"nick"}
{"nick":"hz","reason":"Client Quit","date":"2013-12-02T15:11:14.867Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-12-02T15:16:24.084Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #742 \u00037UNSTABLE\u000f osx-x64 (1/680) smartos-ia32 (7/680) smartos-x64 (8/680) osx-ia32 (1/680) http://jenkins.nodejs.org/job/nodejs-master/742/","date":"2013-12-02T15:21:31.279Z","type":"message"}
{"nick":"paulfryz_","date":"2013-12-02T15:24:55.060Z","type":"join"}
{"nick":"paulfryzel","reason":"Ping timeout: 252 seconds","date":"2013-12-02T15:28:07.677Z","type":"quit"}
{"nick":"timoxley","date":"2013-12-02T15:29:21.797Z","type":"join"}
{"nick":"paulfryz_","new_nick":"paulfryzel","date":"2013-12-02T15:29:55.235Z","type":"nick"}
{"nick":"pachet","date":"2013-12-02T15:31:20.105Z","type":"join"}
{"nick":"pachet","reason":"Changing host","date":"2013-12-02T15:31:20.105Z","type":"quit"}
{"nick":"pachet","date":"2013-12-02T15:31:20.106Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 252 seconds","date":"2013-12-02T15:33:37.650Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-12-02T15:45:58.574Z","type":"join"}
{"nick":"AvianFlu_","date":"2013-12-02T15:47:32.773Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2013-12-02T15:48:04.908Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-12-02T15:48:07.485Z","type":"nick"}
{"nick":"janjongboom","reason":"Ping timeout: 246 seconds","date":"2013-12-02T16:02:59.995Z","type":"quit"}
{"nick":"janjongboom","date":"2013-12-02T16:04:15.359Z","type":"join"}
{"nick":"loladiro","date":"2013-12-02T16:11:01.931Z","type":"join"}
{"nick":"kenperkins","date":"2013-12-02T16:15:11.712Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T16:20:23.518Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-12-02T16:22:26.477Z","type":"quit"}
{"nick":"stagas","date":"2013-12-02T16:26:56.897Z","type":"join"}
{"nick":"octetcloud","date":"2013-12-02T16:37:41.456Z","type":"join"}
{"nick":"TooTallNate","date":"2013-12-02T16:39:29.374Z","type":"join"}
{"nick":"dap_","date":"2013-12-02T16:44:52.070Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-12-02T16:50:39.249Z","type":"quit"}
{"nick":"creationix","message":"does anyone know how allowHalfOpen should work","date":"2013-12-02T16:50:57.078Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T16:51:56.977Z","type":"quit"}
{"nick":"creationix","message":"indutny, ^","date":"2013-12-02T16:52:24.664Z","type":"message"}
{"nick":"mikeal","date":"2013-12-02T16:52:30.065Z","type":"join"}
{"nick":"indutny","message":"well","date":"2013-12-02T16:52:40.383Z","type":"message"}
{"nick":"indutny","message":"I do","date":"2013-12-02T16:52:44.019Z","type":"message"}
{"nick":"indutny","message":"it will keep connection open","date":"2013-12-02T16:53:00.256Z","type":"message"}
{"nick":"indutny","message":"even if one side has shut it down","date":"2013-12-02T16:53:06.191Z","type":"message"}
{"nick":"creationix","message":"right, so support I don't allow half-open on my server","date":"2013-12-02T16:53:13.952Z","type":"message"}
{"nick":"creationix","message":"in node I set allowHalfOpen: false","date":"2013-12-02T16:53:24.125Z","type":"message"}
{"nick":"creationix","message":"but one of my clients never sends me a fin after I send then a fin","date":"2013-12-02T16:53:45.893Z","type":"message"}
{"nick":"creationix","message":"it seems node just keeps the connection open forever waiting on fin from the client","date":"2013-12-02T16:53:59.307Z","type":"message"}
{"nick":"creationix","message":"is that correct?","date":"2013-12-02T16:54:01.794Z","type":"message"}
{"nick":"bajtos","date":"2013-12-02T16:55:52.497Z","type":"join"}
{"nick":"indutny","message":"creationix: hm...","date":"2013-12-02T17:00:31.587Z","type":"message"}
{"nick":"indutny","message":"let me check","date":"2013-12-02T17:00:34.748Z","type":"message"}
{"nick":"indutny","message":"I think it shouldn't","date":"2013-12-02T17:00:37.535Z","type":"message"}
{"nick":"indutny","message":"if everything was sent out to client","date":"2013-12-02T17:00:55.259Z","type":"message"}
{"nick":"indutny","message":"yes, that's it","date":"2013-12-02T17:01:10.198Z","type":"message"}
{"nick":"creationix","message":"I have code showing it the other way where the server has allowHalfOpen and the client doesn't","date":"2013-12-02T17:02:52.518Z","type":"message"}
{"nick":"creationix","message":"the client connects and the server sends data to client, the client sends data to server, then the client sends end","date":"2013-12-02T17:03:29.738Z","type":"message"}
{"nick":"creationix","message":"but the server never sends FIN and the client is stuck in FIN_WAIT_2","date":"2013-12-02T17:04:15.044Z","type":"message"}
{"nick":"creationix","message":"it's very confusing for a socket with allowHalfOpen set to false to stay open waiting for a fin that will never come","date":"2013-12-02T17:04:43.625Z","type":"message"}
{"nick":"isaacs_","date":"2013-12-02T17:14:19.988Z","type":"join"}
{"nick":"hz","date":"2013-12-02T17:14:22.358Z","type":"join"}
{"nick":"creationix","message":"indutny, it doesn't seem to matter which side is allowHalfOpen, either way, the allowHalfOpen: false side will wait forever for a fin that never comes","date":"2013-12-02T17:15:30.020Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-12-02T17:15:48.244Z","type":"message"}
{"nick":"indutny","message":"can you please open an issue with the code that reproduces it?","date":"2013-12-02T17:16:04.067Z","type":"message"}
{"nick":"indutny","message":"I hit that code path quite often, and that thing surprises me","date":"2013-12-02T17:16:17.493Z","type":"message"}
{"nick":"indutny","message":"also","date":"2013-12-02T17:16:24.962Z","type":"message"}
{"nick":"indutny","message":"server may not send FIN","date":"2013-12-02T17:16:30.421Z","type":"message"}
{"nick":"indutny","message":"if you haven't called .destroySoon() on socket","date":"2013-12-02T17:16:43.495Z","type":"message"}
{"nick":"indutny","message":"it'll just send RST","date":"2013-12-02T17:16:50.775Z","type":"message"}
{"nick":"indutny","message":"on .destroy()","date":"2013-12-02T17:16:54.280Z","type":"message"}
{"nick":"janjongboom","reason":"Ping timeout: 240 seconds","date":"2013-12-02T17:18:37.558Z","type":"quit"}
{"nick":"st_luke","date":"2013-12-02T17:19:33.355Z","type":"join"}
{"nick":"janjongboom","date":"2013-12-02T17:19:46.917Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T17:21:48.083Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-12-02T17:22:45.303Z","type":"nick"}
{"nick":"rendar","date":"2013-12-02T17:23:07.222Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-12-02T17:25:21.603Z","type":"nick"}
{"nick":"wwicks","date":"2013-12-02T17:31:18.898Z","type":"join"}
{"nick":"paulfryzel","reason":"Remote host closed the connection","date":"2013-12-02T17:33:20.204Z","type":"quit"}
{"nick":"c4milo","date":"2013-12-02T17:33:44.474Z","type":"join"}
{"nick":"paulfryzel","date":"2013-12-02T17:34:05.854Z","type":"join"}
{"nick":"creationix","message":"indutny, so in this case, it's the side with allowHalfOpen: false that is calling end","date":"2013-12-02T17:36:38.335Z","type":"message"}
{"nick":"creationix","message":"the side with allowHalfOpen: true gets the fin and sends an ACK, but never a fin","date":"2013-12-02T17:36:58.844Z","type":"message"}
{"nick":"creationix","message":"which is correct from that point of view ","date":"2013-12-02T17:37:07.795Z","type":"message"}
{"nick":"creationix","message":"but the side with halfOpen: false waits for a fin that never comes","date":"2013-12-02T17:37:22.913Z","type":"message"}
{"nick":"creationix","message":"indutny, https://gist.github.com/creationix/09d886b6d7dbb5c3fdb6","date":"2013-12-02T17:38:09.481Z","type":"message"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2013-12-02T17:40:05.986Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T17:43:29.757Z","type":"quit"}
{"nick":"isaacs_","reason":"Read error: Connection reset by peer","date":"2013-12-02T17:47:31.741Z","type":"quit"}
{"nick":"isaacs_","date":"2013-12-02T17:47:52.115Z","type":"join"}
{"nick":"isaacs_","new_nick":"Guest76069","date":"2013-12-02T17:48:15.261Z","type":"nick"}
{"nick":"Guest76069","reason":"Client Quit","date":"2013-12-02T17:49:44.517Z","type":"quit"}
{"nick":"mcavage","date":"2013-12-02T17:53:43.430Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #367 \u00037UNSTABLE\u000f windows (5/197) smartos (3/198) http://jenkins.nodejs.org/job/libuv-master/367/","date":"2013-12-02T17:54:43.372Z","type":"message"}
{"nick":"kevinswiber","date":"2013-12-02T17:57:17.017Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 240 seconds","date":"2013-12-02T18:03:50.684Z","type":"quit"}
{"nick":"Benvie","date":"2013-12-02T18:03:57.643Z","type":"join"}
{"nick":"st_luke","date":"2013-12-02T18:06:40.020Z","type":"join"}
{"nick":"octetcloud","message":"creationix: not sure what could be done about that. I think allowHalfOpen is basically a \"fix my code, because I don't understand TCP\" option. it defaults to not-allow, so node tcp server's auto-shutdown the out-side of TCP when the receive an in-close","date":"2013-12-02T18:12:08.664Z","type":"message"}
{"nick":"octetcloud","message":"but you can't cause an in-FIN to magically appear for you, and you can't tell the other side of a TCP link that you are no longer prepared to receive data (other than a read shutdown, but that just records state, and the other side won't know you are now refusing to receive data, until they try and send, and get a RST)","date":"2013-12-02T18:13:36.833Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #333 \u00037UNSTABLE\u000f osx-x64 (1/680) osx-ia32 (1/680) smartos-x64 (7/680) smartos-ia32 (6/680) http://jenkins.nodejs.org/job/libuv-node-integration/333/","date":"2013-12-02T18:13:52.714Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-12-02T18:14:25.899Z","type":"quit"}
{"nick":"octetcloud","message":"I'm pretty sure, that even if your server actually did a full-close/shutdown, your client will print CLIENT end, but then sit there forever, since its allowing half open, but not closing it's half","date":"2013-12-02T18:14:37.767Z","type":"message"}
{"nick":"octetcloud","message":"i.e., the client is buggy.","date":"2013-12-02T18:15:00.010Z","type":"message"}
{"nick":"paulfryz_","date":"2013-12-02T18:15:18.514Z","type":"join"}
{"nick":"paulfryzel","reason":"Ping timeout: 252 seconds","date":"2013-12-02T18:18:37.657Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-12-02T18:18:48.739Z","type":"quit"}
{"nick":"DarkGodW","reason":"Ping timeout: 246 seconds","date":"2013-12-02T18:22:38.965Z","type":"quit"}
{"nick":"skabbes","date":"2013-12-02T18:23:02.448Z","type":"join"}
{"nick":"paulfryz_","reason":"Remote host closed the connection","date":"2013-12-02T18:23:14.257Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-12-02T18:23:52.827Z","type":"join"}
{"nick":"trevnorris","date":"2013-12-02T18:26:20.945Z","type":"join"}
{"nick":"trevnorris","message":"morning all","date":"2013-12-02T18:27:05.079Z","type":"message"}
{"nick":"tjfontaine","message":"g'day","date":"2013-12-02T18:28:35.290Z","type":"message"}
{"nick":"AvianFlu","date":"2013-12-02T18:30:21.073Z","type":"join"}
{"nick":"octetcloud","message":"creationix: yeah, so even if node did a full close on .end() when allowHalfOpen is false, wouldn't help a lot in this example. though still might be better  https://gist.github.com/sam-github/314cdf70907998009dde/revisions","date":"2013-12-02T18:30:31.918Z","type":"message"}
{"nick":"otwo","date":"2013-12-02T18:35:20.009Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-12-02T18:36:20.550Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Sam Roberts\u000f \u00037v0.10\u000f * \u00028aac118\u0002 : process: document kill(0), disallow kill(O_RDWR) - http://git.io/JZpSMQ","date":"2013-12-02T18:45:41.562Z","type":"message"}
{"nick":"groundwater","message":"trevnorris: ahoy!","date":"2013-12-02T18:46:26.907Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-12-02T18:47:54.927Z","type":"quit"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-12-02T18:55:18.622Z","type":"quit"}
{"nick":"st_luke","date":"2013-12-02T18:55:43.363Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1635 \u00034FAILURE\u000f smartos-x64 (4/604) smartos-ia32 (4/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1635/","date":"2013-12-02T18:56:29.665Z","type":"message"}
{"nick":"tjfontaine","message":"hmm","date":"2013-12-02T18:57:45.567Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #353 \u00037UNSTABLE\u000f windows-ia32 (10/604) windows-x64 (10/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/353/","date":"2013-12-02T19:01:24.856Z","type":"message"}
{"nick":"hueniverse","message":"howdy!","date":"2013-12-02T19:04:15.271Z","type":"message"}
{"nick":"hueniverse","message":"I'm bored","date":"2013-12-02T19:04:19.718Z","type":"message"}
{"nick":"trevnorris","message":"hueniverse: upgrade all the things to v0.11 :P","date":"2013-12-02T19:04:55.868Z","type":"message"}
{"nick":"hueniverse","message":"someone on my team wanted to change the mongo write concern to 1 just to increase some load and break things","date":"2013-12-02T19:05:24.529Z","type":"message"}
{"nick":"hueniverse","message":"at this point every member of my team made at least one stupid suggestion to make things unstable","date":"2013-12-02T19:05:46.878Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2013-12-02T19:06:01.312Z","type":"message"}
{"nick":"hueniverse","message":"trevnorris: any luck with the domains issues I pointed out in hapi two weeks ago?","date":"2013-12-02T19:06:31.757Z","type":"message"}
{"nick":"kazupon","date":"2013-12-02T19:07:02.505Z","type":"join"}
{"nick":"trevnorris","message":"hueniverse: honestly I haven't had time. between prep for my training and node summit tomorrow. but it's on my immediate list for things to do on thurs.","date":"2013-12-02T19:07:14.603Z","type":"message"}
{"nick":"hueniverse","message":"trevnorris: no worries, I've been kinda busy too...","date":"2013-12-02T19:07:45.968Z","type":"message"}
{"nick":"trevnorris","message":"oh what, with bf and all? eh, child's play. ;)","date":"2013-12-02T19:08:08.297Z","type":"message"}
{"nick":"groundwater","message":"hueniverse: isn't today also a big online sales day?","date":"2013-12-02T19:08:30.981Z","type":"message"}
{"nick":"hueniverse","message":"groundwater: cyber monday, which is technically a bigger deal for us revenues wise, but lower volume (more people come to shop than look, and less people looking up store stuff)","date":"2013-12-02T19:09:41.853Z","type":"message"}
{"nick":"tjfontaine","message":"iow where the money is spent","date":"2013-12-02T19:10:08.431Z","type":"message"}
{"nick":"hueniverse","message":"groundwater: but black friday was so boring, we didn't even bother to cycle the servers. they are still up since mid day Friday when we did a release (fuck yeah!)","date":"2013-12-02T19:10:39.981Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-12-02T19:10:52.353Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-12-02T19:10:53.884Z","type":"quit"}
{"nick":"hueniverse","message":"that friday release was by itself nothing, but the fact we did it was fun","date":"2013-12-02T19:10:55.586Z","type":"message"}
{"nick":"tjfontaine","message":"that's fucking awesome","date":"2013-12-02T19:10:55.994Z","type":"message"}
{"nick":"hueniverse","message":"my nodesummit talk is really one slide with '#nodebf'","date":"2013-12-02T19:11:22.279Z","type":"message"}
{"nick":"loladiro","date":"2013-12-02T19:11:25.851Z","type":"join"}
{"nick":"groundwater","message":"i guess nodesummit can just be hueniverse talking about how boring his graphs are","date":"2013-12-02T19:11:31.849Z","type":"message"}
{"nick":"mikeal","date":"2013-12-02T19:12:28.321Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1636 \u00037UNSTABLE\u000f smartos-x64 (5/604) smartos-ia32 (5/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1636/","date":"2013-12-02T19:12:54.037Z","type":"message"}
{"nick":"skypjack","date":"2013-12-02T19:12:57.809Z","type":"join"}
{"nick":"skypjack","message":"hi all","date":"2013-12-02T19:13:18.004Z","type":"message"}
{"nick":"tjfontaine","message":"hi","date":"2013-12-02T19:13:26.782Z","type":"message"}
{"nick":"skypjack","message":"@creationix hi I'm Michele from Cynny","date":"2013-12-02T19:13:32.419Z","type":"message"}
{"nick":"skypjack","message":"I was looking fro the discussion about FIN problem","date":"2013-12-02T19:13:54.045Z","type":"message"}
{"nick":"hueniverse","message":"groundwater: that would be a very short summit","date":"2013-12-02T19:18:09.793Z","type":"message"}
{"nick":"hueniverse","message":"I do have one surprise dedicated to tjfontaine... :-)","date":"2013-12-02T19:18:36.785Z","type":"message"}
{"nick":"tjfontaine","message":"ut oh :)","date":"2013-12-02T19:18:43.970Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T19:19:23.792Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T19:20:49.840Z","type":"quit"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-12-02T19:24:02.574Z","type":"quit"}
{"nick":"creationix","message":"skypjack, look for the comments by octetcloud at http://logs.libuv.org/libuv","date":"2013-12-02T19:31:02.119Z","type":"message"}
{"nick":"skypjack","message":"ok, wait","date":"2013-12-02T19:32:31.941Z","type":"message"}
{"nick":"skypjack","message":"I was looking the code of node (js/cc) and libuv","date":"2013-12-02T19:32:52.321Z","type":"message"}
{"nick":"creationix","message":"skypjack, https://github.com/joyent/node, https://github.com/joyent/libuv","date":"2013-12-02T19:34:02.896Z","type":"message"}
{"nick":"creationix","message":"in node, js is in /lib and C++ is in /src","date":"2013-12-02T19:34:14.942Z","type":"message"}
{"nick":"creationix","message":"/lib/net.js is a good place to start looking","date":"2013-12-02T19:34:26.661Z","type":"message"}
{"nick":"skypjack","message":"wait, I've yet downloaded the software :-)","date":"2013-12-02T19:36:13.319Z","type":"message"}
{"nick":"skypjack","message":"about octetcloud comments: he's right but we can still have the problem if the client is a mobile device that losts connection... is it correct?","date":"2013-12-02T19:40:08.544Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2013-12-02T19:40:18.388Z","type":"quit"}
{"nick":"skypjack","message":"I'm not sure about that","date":"2013-12-02T19:40:31.567Z","type":"message"}
{"nick":"skypjack","message":"what about to shutdown the socket if close is called and the socket has been initialized with allowHalfOpen to false?","date":"2013-12-02T19:42:51.612Z","type":"message"}
{"nick":"paulfryzel","reason":"Ping timeout: 248 seconds","date":"2013-12-02T19:44:05.693Z","type":"quit"}
{"nick":"st_luke","date":"2013-12-02T19:45:25.820Z","type":"join"}
{"nick":"skypjack","message":"the problem is that we provide api and we cannot force clients to set allowHalfOpen to false","date":"2013-12-02T19:49:08.581Z","type":"message"}
{"nick":"wwicks","date":"2013-12-02T19:51:39.383Z","type":"join"}
{"nick":"otwo","reason":"Ping timeout: 260 seconds","date":"2013-12-02T19:57:08.539Z","type":"quit"}
{"nick":"indexzero","date":"2013-12-02T20:01:27.988Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T20:03:55.747Z","type":"quit"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-12-02T20:04:51.447Z","type":"quit"}
{"nick":"jmar777","date":"2013-12-02T20:05:22.425Z","type":"join"}
{"nick":"swaj","date":"2013-12-02T20:09:24.327Z","type":"join"}
{"nick":"skypjack","message":"on the other side we have actors in our structure that act both as server and client","date":"2013-12-02T20:10:49.923Z","type":"message"}
{"nick":"swajr","reason":"Ping timeout: 258 seconds","date":"2013-12-02T20:10:51.151Z","type":"quit"}
{"nick":"skypjack","message":"it's better to abstract from the concept of client and server","date":"2013-12-02T20:11:08.340Z","type":"message"}
{"nick":"inolen","date":"2013-12-02T20:16:07.120Z","type":"join"}
{"nick":"mitsuhiko","message":"jesus christ. that pr is still being discussed.","date":"2013-12-02T20:16:15.477Z","type":"message"}
{"nick":"mitsuhiko","message":"closing issues for good cannot come soon enough","date":"2013-12-02T20:16:22.358Z","type":"message"}
{"nick":"st_luke","date":"2013-12-02T20:18:18.505Z","type":"join"}
{"nick":"skypjack","message":"@mitsuhiko can you give me some reference?","date":"2013-12-02T20:18:58.611Z","type":"message"}
{"nick":"octetcloud","reason":"Ping timeout: 272 seconds","date":"2013-12-02T20:20:25.367Z","type":"quit"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-12-02T20:24:10.827Z","type":"quit"}
{"nick":"jmar777","date":"2013-12-02T20:24:42.800Z","type":"join"}
{"nick":"skabbes","message":"skypjack: hop on over to the node.js room, and you'll see what he/she is talking about","date":"2013-12-02T20:24:44.598Z","type":"message"}
{"nick":"AndreasMadsen","date":"2013-12-02T20:25:48.745Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T20:32:11.824Z","type":"quit"}
{"nick":"otwo","date":"2013-12-02T20:34:21.813Z","type":"join"}
{"nick":"kazupon","date":"2013-12-02T20:37:04.951Z","type":"join"}
{"nick":"c4milo","date":"2013-12-02T20:39:41.969Z","type":"join"}
{"nick":"dshaw_","date":"2013-12-02T20:41:08.828Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-12-02T20:41:23.949Z","type":"quit"}
{"nick":"hz","date":"2013-12-02T20:50:06.278Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Read error: Connection reset by peer","date":"2013-12-02T21:06:07.628Z","type":"quit"}
{"nick":"trevnorris","message":"indutny: ping","date":"2013-12-02T21:06:30.520Z","type":"message"}
{"nick":"indutny","message":"pong","date":"2013-12-02T21:06:34.923Z","type":"message"}
{"nick":"AndreasMadsen","date":"2013-12-02T21:07:10.879Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Read error: Connection reset by peer","date":"2013-12-02T21:08:16.618Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2013-12-02T21:09:18.987Z","type":"join"}
{"nick":"trevnorris","message":"indutny: why is it we can't cork() when writing out to http? or can we, and it's just not res.cork()?","date":"2013-12-02T21:09:26.655Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-12-02T21:10:27.814Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: depends on if the headers have already been sent, right?","date":"2013-12-02T21:11:29.664Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: nope. res.cork == undefined","date":"2013-12-02T21:11:47.767Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: no I mean, we already do cork, but depending on if headers have been sent?","date":"2013-12-02T21:12:07.360Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ah, I see what you're saying. sec. let me try that out.","date":"2013-12-02T21:12:20.821Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: are you saying using setHeader will or will not cork?","date":"2013-12-02T21:12:40.571Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: see _http_outgoing.js OutgoingMessage.prototype.write","date":"2013-12-02T21:13:34.583Z","type":"message"}
{"nick":"timoxley","date":"2013-12-02T21:14:11.464Z","type":"join"}
{"nick":"mikeal1","date":"2013-12-02T21:15:18.173Z","type":"join"}
{"nick":"st_luke","date":"2013-12-02T21:15:49.973Z","type":"join"}
{"nick":"aranhoide","date":"2013-12-02T21:17:08.720Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: yeah. the logic seems strange. it has no possibility of chunking if the chunk is a string? why?","date":"2013-12-02T21:17:57.183Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: also, Tranfer-Encoding defaults to chunked, but res.chunkedEncoding == false in the connection listener.","date":"2013-12-02T21:20:22.655Z","type":"message"}
{"nick":"mikeal","reason":"*.net *.split","date":"2013-12-02T21:20:38.227Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2013-12-02T21:21:39.760Z","type":"quit"}
{"nick":"hueniverse","message":"how stable is master?","date":"2013-12-02T21:22:14.425Z","type":"message"}
{"nick":"creationix","message":"mitsuhiko, and this is why I sometimes don't mind having a short backlog in my chat window.  It's gone already.","date":"2013-12-02T21:22:56.813Z","type":"message"}
{"nick":"trevnorris","message":"hueniverse: i'd say pretty good. wouldn't give it a production ready stamp, but it's doing well.","date":"2013-12-02T21:23:06.260Z","type":"message"}
{"nick":"creationix","message":"trevnorris, what is basically left before the 0.12 release?","date":"2013-12-02T21:23:25.401Z","type":"message"}
{"nick":"hueniverse","message":"creationix: my seal of approval :-)","date":"2013-12-02T21:23:40.257Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-12-02T21:23:47.514Z","type":"message"}
{"nick":"mitsuhiko","message":"creationix: considering that the original author of the pull request is from the python community, i still need to read that controversy on twitter","date":"2013-12-02T21:23:50.189Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: and even though it corks, it immediately uncorks following the write. so each individual write() is corked, but a lot of good that does if I want all the write()'s in the connection listener to be corked","date":"2013-12-02T21:24:41.298Z","type":"message"}
{"nick":"tjfontaine","message":"because it's about the ticks, internally we can't really make good decisions about that without necessarily starving it","date":"2013-12-02T21:25:15.158Z","type":"message"}
{"nick":"tjfontaine","message":"I think there are more places we can","date":"2013-12-02T21:25:26.701Z","type":"message"}
{"nick":"trevnorris","message":"and i'm wondering why I'm not allowed to say, res.cork()","date":"2013-12-02T21:25:35.712Z","type":"message"}
{"nick":"tjfontaine","message":"that may just be an oversight","date":"2013-12-02T21:25:41.800Z","type":"message"}
{"nick":"trevnorris","message":"ah ok. that's what I was wondering","date":"2013-12-02T21:25:52.024Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Gabriel Falkenberg\u000f \u00037v0.10\u000f * \u000294c4ba9\u0002 : doc: change constant to consistent - http://git.io/eCGzqQ","date":"2013-12-02T21:33:00.471Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-12-02T21:34:17.214Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-12-02T21:39:05.194Z","type":"quit"}
{"nick":"creationix","message":"isaacs, is Bryan in IRC, it seems to be my only app that is working reliably on the internet right now.","date":"2013-12-02T21:41:41.847Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1637 \u00037UNSTABLE\u000f smartos-x64 (5/604) smartos-ia32 (4/604) linux-ia32 (1/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1637/","date":"2013-12-02T21:44:35.618Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Yazhong Liu\u000f \u00037v0.10\u000f * \u0002bd7fa92\u0002 : doc: list execArgv option for child_process.fork() - http://git.io/hINXrQ","date":"2013-12-02T21:46:00.680Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-12-02T21:47:56.414Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #354 \u00037UNSTABLE\u000f windows-ia32 (10/604) windows-x64 (10/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/354/","date":"2013-12-02T21:48:36.737Z","type":"message"}
{"nick":"paddybyers","date":"2013-12-02T21:48:39.800Z","type":"join"}
{"nick":"octetcloud","date":"2013-12-02T21:48:51.846Z","type":"join"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-12-02T21:54:13.882Z","type":"quit"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-12-02T21:54:17.195Z","type":"quit"}
{"nick":"mikeal","date":"2013-12-02T21:54:51.681Z","type":"join"}
{"nick":"tjfontaine","message":"ircretary: tell sblom holy fucking shit -- https://github.com/chrisa/node-dtrace-provider/pull/39 that's awesome.","date":"2013-12-02T21:57:25.909Z","type":"message"}
{"nick":"ircretary","message":"tjfontaine: I'll be sure to tell sblom","date":"2013-12-02T21:57:26.276Z","type":"message"}
{"nick":"kevinswiber","date":"2013-12-02T21:57:38.959Z","type":"join"}
{"nick":"skypjack","reason":"Quit: Sto andando via","date":"2013-12-02T21:58:04.714Z","type":"quit"}
{"nick":"skabbes","reason":"Quit: skabbes","date":"2013-12-02T21:58:07.102Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: #6623 seems like the design decision behavior for our internal buffering","date":"2013-12-02T21:59:38.448Z","type":"message"}
{"nick":"c4milo","date":"2013-12-02T22:00:02.926Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1638 \u00037UNSTABLE\u000f smartos-x64 (5/604) smartos-ia32 (5/604) linux-x64 (1/604) linux-ia32 (1/604) osx-ia32 (1/604) http://jenkins.nodejs.org/job/nodejs-v0.10/1638/","date":"2013-12-02T22:00:55.876Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #355 \u00037UNSTABLE\u000f windows-ia32 (10/604) windows-x64 (10/604) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/355/","date":"2013-12-02T22:04:17.043Z","type":"message"}
{"nick":"octetcloud","reason":"Ping timeout: 240 seconds","date":"2013-12-02T22:05:50.708Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: yeah. i'm having serious issues w/ it right now. it's casing all types of sporadic behavior when I try to pipe as much data through as possible.","date":"2013-12-02T22:05:59.815Z","type":"message"}
{"nick":"trevnorris","message":"of any buffer size.","date":"2013-12-02T22:06:03.406Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: and, i'm missing some reference on the internal buffering. what commit/when was this done?","date":"2013-12-02T22:06:54.389Z","type":"message"}
{"nick":"kazupon","date":"2013-12-02T22:07:05.401Z","type":"join"}
{"nick":"tjfontaine","message":"the normal stream work","date":"2013-12-02T22:07:52.036Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: https://github.com/joyent/node/blob/master/lib/_stream_writable.js#L227-L247","date":"2013-12-02T22:09:03.736Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, whatever it is, all my benchmarks are useless right now because all Node is doing is filling up my memory.","date":"2013-12-02T22:13:08.175Z","type":"message"}
{"nick":"tjfontaine","message":"are these numbers you're trying to gather for node summit?","date":"2013-12-02T22:14:03.483Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah. I wanted to show performance improvements for using cork/uncork when writing a bunch of small requests over tcp","date":"2013-12-02T22:14:28.722Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: not sure what to say at the moment, I would start by confirming my suspicion that it's the normal buffering mechanism","date":"2013-12-02T22:18:23.459Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: for me this would mean taking a core and looking at it with findjsobjects","date":"2013-12-02T22:18:43.915Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, don't have enough time for that. need to finish my slides. i'm just going to roll back to a release that works.","date":"2013-12-02T22:19:04.978Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: mind confirming that there's nothing stupidly wrong w/ my example script? https://github.com/joyent/node/issues/6623","date":"2013-12-02T22:20:02.675Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: looking at it, I would expect it to fill with 16K of memory until the otherside started to actually read it","date":"2013-12-02T22:21:15.043Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah. so would I. so I start the server, then listen with `nc localhost 8000 > /dev/null`","date":"2013-12-02T22:21:40.191Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: but then the node process quickly fills up memory (I SIGTERM around 2.5BG)","date":"2013-12-02T22:22:16.886Z","type":"message"}
{"nick":"tjfontaine","message":"that's not good","date":"2013-12-02T22:22:42.292Z","type":"message"}
{"nick":"tjfontaine","message":"because, we should be stopping around 1.5gb","date":"2013-12-02T22:22:50.257Z","type":"message"}
{"nick":"tjfontaine","message":"unless the over head is in writereq's","date":"2013-12-02T22:23:03.883Z","type":"message"}
{"nick":"trevnorris","message":"yeah. I haven't output how many write's are happening, but i'm assuming it's a crap ton.","date":"2013-12-02T22:23:59.290Z","type":"message"}
{"nick":"skabbes","date":"2013-12-02T22:24:17.799Z","type":"join"}
{"nick":"aranhoide","reason":"Ping timeout: 264 seconds","date":"2013-12-02T22:24:50.723Z","type":"quit"}
{"nick":"trevnorris","message":"hm. maybe it's something w/ nc? if I `telnet localhost 8000 > /dev/null` it's freakin slow, but at least it doesn't fill up memory.","date":"2013-12-02T22:25:00.085Z","type":"message"}
{"nick":"rendar","date":"2013-12-02T22:27:45.069Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: i'm forcing the write loop to quit after 1e6 writes for a 1KB buffer, and the drain event is never firing.","date":"2013-12-02T22:29:39.407Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'm going to do a clean build and see if that fixes it","date":"2013-12-02T22:29:55.896Z","type":"message"}
{"nick":"tjfontaine","message":"I'm seeing it as well, I'm running findjsobjects, it's taking a while so presumably this is mostly in the js heap","date":"2013-12-02T22:32:09.891Z","type":"message"}
{"nick":"tjfontaine","message":"hmm, 88MB in the heap, 230MB in rss in this core","date":"2013-12-02T22:32:49.295Z","type":"message"}
{"nick":"tjfontaine","message":"probably just going to be a ton of objects","date":"2013-12-02T22:32:58.650Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok, try the second example here: https://github.com/joyent/node/issues/6623","date":"2013-12-02T22:34:51.472Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: it shouldn't be possible that it's filling up memory. since it should only be calling the callback once the write is complete. correct?","date":"2013-12-02T22:35:21.936Z","type":"message"}
{"nick":"tjfontaine","message":"8e499d9d        1   565372 Array","date":"2013-12-02T22:38:20.353Z","type":"message"}
{"nick":"tjfontaine","message":"80ed7b79   565376        2 Object: callback, _asyncQueue","date":"2013-12-02T22:38:20.508Z","type":"message"}
{"nick":"tjfontaine","message":"80eafa39   565374        3 Object: oncomplete, buffer, bytes","date":"2013-12-02T22:38:20.658Z","type":"message"}
{"nick":"trevnorris","message":"whoa, wtf.","date":"2013-12-02T22:39:01.818Z","type":"message"}
{"nick":"tjfontaine","message":"I'm guessing you're never seeing a false returned?","date":"2013-12-02T22:39:27.903Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T22:39:38.211Z","type":"quit"}
{"nick":"tjfontaine","message":"how does that second one fill up memory?","date":"2013-12-02T22:40:09.765Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 265 seconds","date":"2013-12-02T22:40:29.112Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: heck if I know. it's calling the callback before stuff is flushed I guess?","date":"2013-12-02T22:41:04.219Z","type":"message"}
{"nick":"philips","reason":"Quit: http://ifup.org","date":"2013-12-02T22:41:06.169Z","type":"quit"}
{"nick":"trevnorris","message":"was hoping you could confirm that, because it seems impossible to me that would be happening.","date":"2013-12-02T22:41:18.677Z","type":"message"}
{"nick":"tjfontaine","message":"that second one is basically all in the heap","date":"2013-12-02T22:41:39.541Z","type":"message"}
{"nick":"tjfontaine","message":"090EF000  180960K rwx--    [ heap ]","date":"2013-12-02T22:41:45.156Z","type":"message"}
{"nick":"tjfontaine","message":" total    271440K","date":"2013-12-02T22:41:53.201Z","type":"message"}
{"nick":"trevnorris","message":"so it's filling memory for you too?","date":"2013-12-02T22:42:05.461Z","type":"message"}
{"nick":"tjfontaine","message":"oh I missed the second one has a write cb","date":"2013-12-02T22:42:58.393Z","type":"message"}
{"nick":"trevnorris","message":"yeah. sorry. it's not very explicit in what it does","date":"2013-12-02T22:43:21.033Z","type":"message"}
{"nick":"trevnorris","message":"i'll add a comment to point that out","date":"2013-12-02T22:43:25.100Z","type":"message"}
{"nick":"tjfontaine","message":"so these are basically all going to be WriteReq's","date":"2013-12-02T22:43:39.586Z","type":"message"}
{"nick":"tjfontaine","message":"not sure why in your second example the cb's are being fired though","date":"2013-12-02T22:44:03.596Z","type":"message"}
{"nick":"trevnorris","message":"yeah, that also has me stumped.","date":"2013-12-02T22:44:17.612Z","type":"message"}
{"nick":"tjfontaine","message":"or rather why we're not going through the writeOrBuffer path","date":"2013-12-02T22:44:21.242Z","type":"message"}
{"nick":"philips","date":"2013-12-02T22:44:59.873Z","type":"join"}
{"nick":"trevnorris","message":"ok. it's not happening on v0.10. i'm going to update the scripts to also be v0.10 compliant.","date":"2013-12-02T22:45:13.613Z","type":"message"}
{"nick":"tjfontaine","message":"hmm this second one is interesting","date":"2013-12-02T22:46:17.442Z","type":"message"}
{"nick":"tjfontaine","message":"8030bd19  1235639        0 Object","date":"2013-12-02T22:46:27.568Z","type":"message"}
{"nick":"tjfontaine","message":"1.2m empty object","date":"2013-12-02T22:46:36.731Z","type":"message"}
{"nick":"tjfontaine","message":"s","date":"2013-12-02T22:46:37.853Z","type":"message"}
{"nick":"trevnorris","message":"um... ok.","date":"2013-12-02T22:46:45.847Z","type":"message"}
{"nick":"tjfontaine","message":"basically all out of the 128 byte arena, so very tiny","date":"2013-12-02T22:47:40.257Z","type":"message"}
{"nick":"tjfontaine","message":"really only results in 44k of usage","date":"2013-12-02T22:47:59.226Z","type":"message"}
{"nick":"trevnorris","message":"strange. there's got to be something wrong w/ my first script. it's causing the same issue in v0.10 as well.","date":"2013-12-02T22:48:13.627Z","type":"message"}
{"nick":"tjfontaine","message":"a wrong assumption I guess on when write returns false","date":"2013-12-02T22:48:36.035Z","type":"message"}
{"nick":"skabbes","reason":"Quit: skabbes","date":"2013-12-02T22:48:58.762Z","type":"quit"}
{"nick":"trevnorris","message":"yeah. i'll go back and build, like, 10.15 or something.","date":"2013-12-02T22:49:04.841Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: you might look at https://github.com/joyent/node/issues/6506","date":"2013-12-02T22:49:21.988Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-12-02T22:49:37.324Z","type":"quit"}
{"nick":"skabbes","date":"2013-12-02T22:49:43.870Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: thanks. yeah, these all look related.","date":"2013-12-02T22:50:48.793Z","type":"message"}
{"nick":"trevnorris","message":"wtf is going on. even v0.10.15 has the same issue on that first script. I swear I've used this same script in the past to test my thoughput.","date":"2013-12-02T22:52:00.491Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: you around?","date":"2013-12-02T22:53:40.771Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-12-02T22:54:37.991Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: on the side, I think sooner rather than later we should go through ben's open PRs and decide what we want to do w/ them.","date":"2013-12-02T22:54:50.224Z","type":"message"}
{"nick":"loladiro","date":"2013-12-02T22:54:58.391Z","type":"join"}
{"nick":"trevnorris","message":"just food for thought, don't mean in the next few days or anything","date":"2013-12-02T22:55:00.287Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: as we would in our normal process though?","date":"2013-12-02T22:55:34.004Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-12-02T22:55:59.730Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: um, sure? I mean, at least his PR for exposing v8's profiling utils isn't a trivial change. but really useful.","date":"2013-12-02T22:56:25.507Z","type":"message"}
{"nick":"loladiro","date":"2013-12-02T22:56:28.582Z","type":"join"}
{"nick":"trevnorris","message":"and since it's an API addition think it should get in sooner rather than later","date":"2013-12-02T22:56:38.817Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-12-02T22:59:44.986Z","type":"quit"}
{"nick":"loladiro","date":"2013-12-02T23:00:23.603Z","type":"join"}
{"nick":"m76","reason":"Read error: Connection reset by peer","date":"2013-12-02T23:00:40.455Z","type":"quit"}
{"nick":"trevnorris","message":"but whatever. it's way less important than this issue.","date":"2013-12-02T23:01:08.245Z","type":"message"}
{"nick":"dshaw_","date":"2013-12-02T23:01:08.972Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: so, do you know where those 1.2m empty objects originate from?","date":"2013-12-02T23:01:18.089Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I didn't get too in depth on it","date":"2013-12-02T23:06:31.762Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: cool. thanks for at least confirming that it's happening for you too.","date":"2013-12-02T23:06:47.651Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: it's happening, I'm not sure if it's a bug per se, so much as me not realizing the assumptions that are made","date":"2013-12-02T23:09:18.915Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: similar to that issue you linked, there's an internally incorrect check that causes drain to never be emitted.","date":"2013-12-02T23:12:05.331Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'm writing out 10MB all at once and node is never firing drain.","date":"2013-12-02T23:12:40.039Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: actually, wait. I think it might be that node is processing data too quickly on my local box. so drain never needs to be emitted, which causes the infinite while (write) loop. think that's possible?","date":"2013-12-02T23:14:19.534Z","type":"message"}
{"nick":"tjfontaine","message":"it's possible that it's dispatching it to the OS faster than the side is reading","date":"2013-12-02T23:14:50.751Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-12-02T23:15:31.408Z","type":"quit"}
{"nick":"abraxas","date":"2013-12-02T23:15:36.701Z","type":"join"}
{"nick":"trevnorris","message":"hm. I have a variation of the script that's causing unusual output. one sec.","date":"2013-12-02T23:16:17.893Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-12-02T23:17:24.179Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-12-02T23:19:47.291Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u000260f777d\u0002 : tls: fix pool usage race - http://git.io/50mkmA","date":"2013-12-02T23:20:00.740Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: here it is: https://github.com/joyent/node/issues/6623#issuecomment-29668694","date":"2013-12-02T23:20:15.904Z","type":"message"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2013-12-02T23:20:39.016Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: by forcing write() to be called in a setImmediate() it seems to allow things to be cleaned up.","date":"2013-12-02T23:20:40.393Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: but for some reason everything builds up until that point.","date":"2013-12-02T23:20:50.297Z","type":"message"}
{"nick":"tjfontaine","message":"sure, some event loop iteration at least","date":"2013-12-02T23:20:59.750Z","type":"message"}
{"nick":"mikeal","date":"2013-12-02T23:21:00.387Z","type":"join"}
{"nick":"tjfontaine","message":"memory will continue to grow though because you're always writing on the first iteration of the loop?","date":"2013-12-02T23:21:29.426Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: doesn't setImmediate run at the end of the eloop?","date":"2013-12-02T23:22:35.456Z","type":"message"}
{"nick":"trevnorris","message":"and I don't know why memory is still growing","date":"2013-12-02T23:22:49.720Z","type":"message"}
{"nick":"tjfontaine","message":"the point is setImmediate is at least yielding, it's possible your previous scripts weren't actually yielding","date":"2013-12-02T23:23:20.182Z","type":"message"}
{"nick":"tjfontaine","message":"and memory can still grow because each iteration of the for loop will result a write, regardless of counter size","date":"2013-12-02T23:23:49.359Z","type":"message"}
{"nick":"tjfontaine","message":"swap the two comparisons and you will perhaps get a better situation","date":"2013-12-02T23:24:01.054Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: that seems to be what's happening. but why the flush callback would be called synchronously seems strange to me.","date":"2013-12-02T23:24:21.794Z","type":"message"}
{"nick":"trevnorris","message":"and yeah. just swapped them :)","date":"2013-12-02T23:24:27.202Z","type":"message"}
{"nick":"trevnorris","message":"what's strange though is after running for a minute it just stops writing completely. don't know why yet.","date":"2013-12-02T23:25:24.528Z","type":"message"}
{"nick":"tjfontaine","message":"probably has reached HWM","date":"2013-12-02T23:25:35.169Z","type":"message"}
{"nick":"tjfontaine","message":"or whatever","date":"2013-12-02T23:25:39.772Z","type":"message"}
{"nick":"skabbes","reason":"Read error: Connection reset by peer","date":"2013-12-02T23:26:28.704Z","type":"quit"}
{"nick":"skabbes","date":"2013-12-02T23:26:41.853Z","type":"join"}
{"nick":"trevnorris","message":"well crap. whatever. really need to finish these slides.","date":"2013-12-02T23:27:21.679Z","type":"message"}
{"nick":"trevnorris","message":"guess for another day.","date":"2013-12-02T23:27:24.585Z","type":"message"}
{"nick":"trevnorris","message":"oy, there was an issue in the while loop. doesn't fix the problem, but is at least reporting better numbers.","date":"2013-12-02T23:29:08.968Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1639 \u00037UNSTABLE\u000f smartos-x64 (4/605) smartos-ia32 (4/605) linux-ia32 (1/605) osx-x64 (1/605) http://jenkins.nodejs.org/job/nodejs-v0.10/1639/","date":"2013-12-02T23:30:57.151Z","type":"message"}
{"nick":"st_luke","date":"2013-12-02T23:32:13.859Z","type":"join"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-12-02T23:33:48.421Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-12-02T23:34:41.043Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #356 \u00037UNSTABLE\u000f windows-ia32 (10/605) windows-x64 (13/605) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/356/","date":"2013-12-02T23:35:21.177Z","type":"message"}
{"nick":"kazupon","date":"2013-12-02T23:37:06.166Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: so. conn._writableState.length is always 0 when writing small buffers. not sure why that's happening.","date":"2013-12-02T23:39:26.242Z","type":"message"}
{"nick":"trevnorris","message":"so it's never > HWM","date":"2013-12-02T23:39:32.897Z","type":"message"}
{"nick":"tjfontaine","message":"this is in a pure net test, right?","date":"2013-12-02T23:40:02.087Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-12-02T23:40:29.529Z","type":"message"}
{"nick":"tjfontaine","message":"is _writableState.buffer.length 0?","date":"2013-12-02T23:41:55.033Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-12-02T23:42:06.201Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-12-02T23:42:16.651Z","type":"join"}
{"nick":"trevnorris","message":"let me check","date":"2013-12-02T23:42:17.036Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so, state.buffer.length is always == 0, even before doWrite() is fired.","date":"2013-12-02T23:44:06.801Z","type":"message"}
{"nick":"tjfontaine","message":"right, ok that makes sense","date":"2013-12-02T23:44:29.667Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok. so it's never being pushed to .buffer. it's just being written out.","date":"2013-12-02T23:44:40.948Z","type":"message"}
{"nick":"tjfontaine","message":"buffer.length *should* be 0 before doWrite, things should only go to buffer if something has already done doWrite","date":"2013-12-02T23:44:49.708Z","type":"message"}
{"nick":"tjfontaine","message":"so it's the fact we're in sync mode for writes that's tripping you up","date":"2013-12-02T23:45:20.287Z","type":"message"}
{"nick":"trevnorris","message":"ok. so how is it we got into sync mode?","date":"2013-12-02T23:45:40.174Z","type":"message"}
{"nick":"trevnorris","message":"(didn't even realize there was a \"sync\" mode)","date":"2013-12-02T23:45:58.257Z","type":"message"}
{"nick":"tjfontaine","message":"we're basically always in, unless someone calls write while we're already writing","date":"2013-12-02T23:46:53.445Z","type":"message"}
{"nick":"tjfontaine","message":"state.writing is getting set to false","date":"2013-12-02T23:47:09.989Z","type":"message"}
{"nick":"tjfontaine","message":"which means onwriteStateUpdate is firing","date":"2013-12-02T23:47:39.976Z","type":"message"}
{"nick":"tjfontaine","message":"sorry have to context switch","date":"2013-12-02T23:48:12.503Z","type":"message"}
{"nick":"trevnorris","message":"no worries.","date":"2013-12-02T23:48:40.211Z","type":"message"}
{"nick":"trevnorris","message":"ah, so this._handle.writeQueueSize is always === 0 for small writes","date":"2013-12-02T23:50:17.371Z","type":"message"}
{"nick":"trevnorris","message":"which prevents the eloop from every continuing.","date":"2013-12-02T23:50:25.685Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so \"sync\" mode is that the callback will be called synchronously if the queue was flushed?","date":"2013-12-02T23:51:32.434Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-12-02T23:56:14.155Z","type":"quit"}
{"nick":"inolen","reason":"Ping timeout: 260 seconds","date":"2013-12-02T23:57:00.001Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 246 seconds","date":"2013-12-02T23:58:17.934Z","type":"quit"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2014-08-14T00:00:01.306Z","type":"quit"}
{"nick":"ircretary","date":"2014-08-14T00:00:10.098Z","type":"join"}
{"nick":"dap_1","reason":"Quit: Leaving.","date":"2014-08-14T00:00:24.881Z","type":"quit"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T00:04:30.026Z","type":"quit"}
{"nick":"c4milo","date":"2014-08-14T00:07:43.682Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T00:10:03.728Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T00:12:20.840Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T00:12:48.433Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T00:14:19.248Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T00:14:25.155Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T00:14:33.649Z","type":"quit"}
{"nick":"wavded","date":"2014-08-14T00:19:45.765Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2014-08-14T00:24:20.836Z","type":"quit"}
{"nick":"zz_karupa","new_nick":"karupa","date":"2014-08-14T00:29:21.976Z","type":"nick"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T00:36:15.377Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T00:40:48.913Z","type":"join"}
{"nick":"dsantiago","reason":"Ping timeout: 272 seconds","date":"2014-08-14T00:46:35.706Z","type":"quit"}
{"nick":"dsantiago","date":"2014-08-14T00:52:35.039Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T00:53:50.451Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T00:54:17.082Z","type":"join"}
{"nick":"cjihrig","date":"2014-08-14T00:55:23.955Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2014-08-14T00:58:42.644Z","type":"quit"}
{"nick":"wavded","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T01:02:49.159Z","type":"quit"}
{"nick":"WalrusPony1","date":"2014-08-14T01:08:27.184Z","type":"join"}
{"nick":"WalrusPony","reason":"Ping timeout: 255 seconds","date":"2014-08-14T01:10:39.054Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T01:10:48.351Z","type":"join"}
{"nick":"mmalecki","message":"hmm, does anyone know what http_parser_execute return value means exactly?","date":"2014-08-14T01:13:32.936Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 246 seconds","date":"2014-08-14T01:15:18.303Z","type":"quit"}
{"nick":"kazupon","date":"2014-08-14T01:18:19.811Z","type":"join"}
{"nick":"nathan7","message":"mmalecki: let's dive into node?","date":"2014-08-14T01:18:48.529Z","type":"message"}
{"nick":"mmalecki","message":"it's number of parsed characters","date":"2014-08-14T01:20:12.056Z","type":"message"}
{"nick":"mmalecki","message":"I'll document it.","date":"2014-08-14T01:20:15.673Z","type":"message"}
{"nick":"kazupon","reason":"Read error: No route to host","date":"2014-08-14T01:36:29.128Z","type":"quit"}
{"nick":"kazupon","date":"2014-08-14T01:36:35.768Z","type":"join"}
{"nick":"yunong","reason":"Ping timeout: 255 seconds","date":"2014-08-14T01:39:34.256Z","type":"quit"}
{"nick":"SquirrelCZECH","reason":"Quit: No Ping reply in 180 seconds.","date":"2014-08-14T01:41:44.403Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2014-08-14T01:42:17.122Z","type":"quit"}
{"nick":"SquirrelCZECH","date":"2014-08-14T01:43:10.669Z","type":"join"}
{"nick":"kazupon_","date":"2014-08-14T01:44:29.392Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2014-08-14T01:48:10.643Z","type":"quit"}
{"nick":"wavded","date":"2014-08-14T01:49:48.048Z","type":"join"}
{"nick":"othiym23","message":"does anybody know for sure if there are OSes on which file renames are not atomic?","date":"2014-08-14T01:51:29.538Z","type":"message"}
{"nick":"othiym23","message":"and does anybody know if there are any (other) guaranteed atomic fs operations in libuv?","date":"2014-08-14T01:51:49.676Z","type":"message"}
{"nick":"othiym23","message":"need it for a thing","date":"2014-08-14T01:52:01.597Z","type":"message"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2014-08-14T01:58:13.919Z","type":"quit"}
{"nick":"kazupon","date":"2014-08-14T01:58:40.732Z","type":"join"}
{"nick":"abraxas","date":"2014-08-14T02:00:53.270Z","type":"join"}
{"nick":"nathan7","message":"othiym23: I figure POSIX guarantees it","date":"2014-08-14T02:06:50.853Z","type":"message"}
{"nick":"nathan7","message":"othiym23: other than flock and friends and rename and O_EXCL|O_CREAT, I can't think of any","date":"2014-08-14T02:07:32.641Z","type":"message"}
{"nick":"nathan7","message":"othiym23: but I'm probably not the person you wanted to hear from [=","date":"2014-08-14T02:07:45.022Z","type":"message"}
{"nick":"SquirrelCZECH","reason":"Quit: No Ping reply in 180 seconds.","date":"2014-08-14T02:09:17.676Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T02:11:44.241Z","type":"join"}
{"nick":"SquirrelCZECH","date":"2014-08-14T02:12:29.458Z","type":"join"}
{"nick":"othiym23","message":"just wondering if there's some wiggliness in Windows to be worried about","date":"2014-08-14T02:12:31.216Z","type":"message"}
{"nick":"othiym23","message":"and also nathan7 <3 I'm just trying to get the problem solved here, and spent most of the day working with your code","date":"2014-08-14T02:13:11.857Z","type":"message"}
{"nick":"nathan7","message":"othiym23: hope you like it [=","date":"2014-08-14T02:15:50.862Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 246 seconds","date":"2014-08-14T02:15:51.259Z","type":"quit"}
{"nick":"nathan7","action":"is just going mad staring at heap snapshot diffs","date":"2014-08-14T02:16:15.861Z","type":"action"}
{"nick":"jreyno40","date":"2014-08-14T02:18:57.569Z","type":"join"}
{"nick":"jreyno40","message":"I’m having a problem with libuv","date":"2014-08-14T02:19:09.772Z","type":"message"}
{"nick":"jreyno40","message":":(","date":"2014-08-14T02:19:10.972Z","type":"message"}
{"nick":"jreyno40","message":"I think I may be getting race conditions or something","date":"2014-08-14T02:19:23.933Z","type":"message"}
{"nick":"jreyno40","message":"Assertion failed: (uv__has_active_reqs(handle->loop)), function uv__udp_run_completed, file src/unix/udp.c, line 97.","date":"2014-08-14T02:20:10.801Z","type":"message"}
{"nick":"jreyno40","message":":(","date":"2014-08-14T02:23:55.792Z","type":"message"}
{"nick":"jreyno40","reason":"Ping timeout: 255 seconds","date":"2014-08-14T02:28:29.936Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-08-14T02:28:32.678Z","type":"join"}
{"nick":"Left_Turn","reason":"Remote host closed the connection","date":"2014-08-14T02:28:41.873Z","type":"quit"}
{"nick":"jreyno40","date":"2014-08-14T02:28:44.823Z","type":"join"}
{"nick":"nathan7","message":"jreyno40: are you threading or something?","date":"2014-08-14T02:29:28.591Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: Not trying to; working on an open-source library that is using a libuv udp event loop running on NOWAIT","date":"2014-08-14T02:30:00.125Z","type":"message"}
{"nick":"jreyno40_","message":"it appears that when calling uv_udp_send in quick succession","date":"2014-08-14T02:30:12.745Z","type":"message"}
{"nick":"jreyno40_","message":"maybe uv_run is being called too many times or not enough..","date":"2014-08-14T02:30:35.421Z","type":"message"}
{"nick":"jreyno40_","message":"I don’t know enough about libuv to diagnose the issue","date":"2014-08-14T02:30:45.019Z","type":"message"}
{"nick":"jreyno40","message":"so I think this code is threaded","date":"2014-08-14T02:32:53.041Z","type":"message"}
{"nick":"jreyno40_","message":"what does uv_run do?","date":"2014-08-14T02:33:21.160Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-08-14T02:37:47.888Z","type":"quit"}
{"nick":"nathan7","message":"jreyno40_: uv_run() runs an event loop tick","date":"2014-08-14T02:45:17.335Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: which does?","date":"2014-08-14T02:45:31.560Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: handle events","date":"2014-08-14T02:45:39.335Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: okay, so when I call uv_udp_send it adds an event to the event look","date":"2014-08-14T02:45:59.430Z","type":"message"}
{"nick":"jreyno40_","message":"loop*","date":"2014-08-14T02:46:01.170Z","type":"message"}
{"nick":"jreyno40_","message":"correct?","date":"2014-08-14T02:46:02.925Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: well, no, when the send *completes* it fires an event","date":"2014-08-14T02:46:13.195Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: but you can use an event loop in one thread only","date":"2014-08-14T02:46:28.865Z","type":"message"}
{"nick":"indexzero","date":"2014-08-14T02:46:35.867Z","type":"join"}
{"nick":"nathan7","message":"jreyno40_: like, you can't just use it across multiple threads","date":"2014-08-14T02:46:36.157Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: gotcha","date":"2014-08-14T02:46:44.682Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: if you call uv_udp_send with that event loop in another thread, things go horribly wrong","date":"2014-08-14T02:46:51.341Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: So what’s happening","date":"2014-08-14T02:47:03.976Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: I'm not sure","date":"2014-08-14T02:47:12.375Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: is that uv_udp_send is being called twice in a row with the same callback function","date":"2014-08-14T02:47:26.203Z","type":"message"}
{"nick":"jreyno40_","message":"the callback function frees the “req\"","date":"2014-08-14T02:47:40.778Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: no, they'd create separate uv_reqs","date":"2014-08-14T02:47:41.227Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: I’m saying this is how my code is structured","date":"2014-08-14T02:48:04.668Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: okay","date":"2014-08-14T02:48:18.553Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: they'd still create separate uv_reqs","date":"2014-08-14T02:48:34.660Z","type":"message"}
{"nick":"nathan7","message":"afaict","date":"2014-08-14T02:48:42.922Z","type":"message"}
{"nick":"nathan7","message":"are you /certain/ you're not doing thread-unsafe stuff","date":"2014-08-14T02:49:04.487Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: I didn’t write this code, but I’m fairly certain","date":"2014-08-14T02:49:27.134Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: just using a “uv_default_loop\"","date":"2014-08-14T02:49:47.830Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: yeah, but if you're calling uv_run in a diff thread than the uv_udp_send…","date":"2014-08-14T02:50:05.597Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: I can't see your code, but it's the one thing that feels very likely","date":"2014-08-14T02:50:22.198Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: actually no","date":"2014-08-14T02:51:04.270Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: I’m positive it’s all in one thread","date":"2014-08-14T02:51:11.316Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: okay","date":"2014-08-14T02:51:20.450Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: the callback is called correctly, two invocations with two different reqs?","date":"2014-08-14T02:52:04.180Z","type":"message"}
{"nick":"jreyno40_","message":"callback? sorry, do you mean uv_udp_send?","date":"2014-08-14T02:52:21.391Z","type":"message"}
{"nick":"nathan7","message":"I'm guessing you're passing a callback to that","date":"2014-08-14T02:52:54.121Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: yes, I am","date":"2014-08-14T02:53:00.508Z","type":"message"}
{"nick":"nathan7","message":"that callback","date":"2014-08-14T02:53:09.224Z","type":"message"}
{"nick":"nathan7","message":"is it called correctly?","date":"2014-08-14T02:53:14.666Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: it’s inside of that callback a lot of issues seem to be happening","date":"2014-08-14T02:53:27.447Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: it appears to be attempting to free the same memory twice","date":"2014-08-14T02:53:37.254Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: that's bad","date":"2014-08-14T02:53:44.872Z","type":"message"}
{"nick":"nathan7","message":"err","date":"2014-08-14T02:53:50.107Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: and I’m getting that Assertion: thing","date":"2014-08-14T02:53:54.109Z","type":"message"}
{"nick":"nathan7","message":"now here I'd run it with libumem in debug mode","date":"2014-08-14T02:53:57.822Z","type":"message"}
{"nick":"nathan7","message":"but I'm guessing you're on Linux or OS X or something","date":"2014-08-14T02:54:04.988Z","type":"message"}
{"nick":"jreyno40_","message":"“Assertion failed: (uv__has_active_reqs(handle->loop)), function uv__udp_run_completed, file src/unix/udp.c, line 97.”","date":"2014-08-14T02:54:05.203Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: I’m on OSX","date":"2014-08-14T02:54:10.763Z","type":"message"}
{"nick":"nathan7","message":"yeah","date":"2014-08-14T02:54:13.685Z","type":"message"}
{"nick":"nathan7","message":"I tend to debug on Solaris","date":"2014-08-14T02:54:19.201Z","type":"message"}
{"nick":"nathan7","message":"maybe valgrind?","date":"2014-08-14T02:54:32.183Z","type":"message"}
{"nick":"jreyno40_","message":"okay; I’m not too experienced with valgrind","date":"2014-08-14T02:54:44.231Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: But I’ll give it a shot","date":"2014-08-14T02:54:49.111Z","type":"message"}
{"nick":"nathan7","message":"I basically scream incessantly whenever I can't reproduce crashses on Solaris","date":"2014-08-14T02:54:52.122Z","type":"message"}
{"nick":"nathan7","message":"because I want to avoid being experienced with valgrind","date":"2014-08-14T02:55:01.433Z","type":"message"}
{"nick":"nathan7","message":"gdb has damaged me enough","date":"2014-08-14T02:55:14.156Z","type":"message"}
{"nick":"nathan7","message":"as cryptic as mdb sometimes is","date":"2014-08-14T02:55:30.450Z","type":"message"}
{"nick":"nathan7","message":"I don't think I've actually ever used valgrind","date":"2014-08-14T02:55:53.078Z","type":"message"}
{"nick":"nathan7","action":"installs","date":"2014-08-14T02:55:54.987Z","type":"action"}
{"nick":"nathan7","message":"clearly an excellent idea at 5AM","date":"2014-08-14T02:56:02.666Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: haha","date":"2014-08-14T02:56:45.694Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: yeah I’m brew installing it right now","date":"2014-08-14T02:56:55.793Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-08-14T02:57:30.681Z","type":"quit"}
{"nick":"nathan7","message":"\"this thing has a manpage, right\"","date":"2014-08-14T02:57:56.454Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: So what do you think could be happening? Any thoughts?","date":"2014-08-14T02:59:28.992Z","type":"message"}
{"nick":"jreyno40_","message":"It seems the same callback for the same event is being called twice","date":"2014-08-14T02:59:39.163Z","type":"message"}
{"nick":"bradleymeck","date":"2014-08-14T03:01:09.536Z","type":"join"}
{"nick":"nathan7","message":"jreyno40_: dunno, I'm not too much of a libuv person :|","date":"2014-08-14T03:02:18.480Z","type":"message"}
{"nick":"jreyno40_","message":"nathan7: Ahh; Well thanks for the help anyhow","date":"2014-08-14T03:02:31.488Z","type":"message"}
{"nick":"nathan7","message":"jreyno40_: but something very odd is happening for sure","date":"2014-08-14T03:02:32.000Z","type":"message"}
{"nick":"nathan7","message":"multiple requests for the same thing are still multiple distinct requests","date":"2014-08-14T03:02:50.854Z","type":"message"}
{"nick":"nsm","reason":"Ping timeout: 240 seconds","date":"2014-08-14T03:07:03.931Z","type":"quit"}
{"nick":"nsm","date":"2014-08-14T03:07:22.780Z","type":"join"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-08-14T03:09:00.686Z","type":"quit"}
{"nick":"pguillory","date":"2014-08-14T03:10:34.746Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T03:12:27.887Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T03:16:44.918Z","type":"quit"}
{"nick":"jreyno40_","message":"nathan7: When will the uv_udp_send callback be called?","date":"2014-08-14T03:17:14.512Z","type":"message"}
{"nick":"avalanche123","date":"2014-08-14T03:17:36.042Z","type":"join"}
{"nick":"nathan7","message":"jreyno40_: when the send completes according to the OS","date":"2014-08-14T03:19:58.073Z","type":"message"}
{"nick":"avalanche123","reason":"Ping timeout: 272 seconds","date":"2014-08-14T03:22:12.592Z","type":"quit"}
{"nick":"mikeal","date":"2014-08-14T03:25:05.768Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-08-14T03:27:06.316Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-08-14T03:36:15.085Z","type":"quit"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-08-14T03:39:49.134Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2014-08-14T03:40:04.418Z","type":"quit"}
{"nick":"TooTallNate","date":"2014-08-14T03:40:16.258Z","type":"join"}
{"nick":"rmg","date":"2014-08-14T03:45:42.923Z","type":"join"}
{"nick":"mikeal","date":"2014-08-14T03:46:11.822Z","type":"join"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-08-14T03:48:59.390Z","type":"quit"}
{"nick":"rmg","date":"2014-08-14T03:49:34.890Z","type":"join"}
{"nick":"eugeneware__","date":"2014-08-14T03:49:39.949Z","type":"join"}
{"nick":"groundwater_","date":"2014-08-14T03:49:51.447Z","type":"join"}
{"nick":"brycebar1l","date":"2014-08-14T03:52:26.118Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 250 seconds","date":"2014-08-14T03:52:44.368Z","type":"quit"}
{"nick":"eugeneware_","reason":"Ping timeout: 250 seconds","date":"2014-08-14T03:52:44.487Z","type":"quit"}
{"nick":"brycebaril","reason":"Ping timeout: 250 seconds","date":"2014-08-14T03:52:46.408Z","type":"quit"}
{"nick":"eugeneware__","new_nick":"eugeneware_","date":"2014-08-14T03:53:00.732Z","type":"nick"}
{"nick":"groundwater_","new_nick":"groundwater","date":"2014-08-14T03:53:07.591Z","type":"nick"}
{"nick":"c4milo","date":"2014-08-14T03:53:32.037Z","type":"join"}
{"nick":"yunong","date":"2014-08-14T03:53:42.146Z","type":"join"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-08-14T03:53:53.107Z","type":"quit"}
{"nick":"rmg","reason":"Ping timeout: 255 seconds","date":"2014-08-14T03:54:00.013Z","type":"quit"}
{"nick":"yunong","reason":"Client Quit","date":"2014-08-14T03:54:01.401Z","type":"quit"}
{"nick":"groundwater","date":"2014-08-14T03:55:12.369Z","type":"quit"}
{"nick":"groundwater","date":"2014-08-14T03:55:52.045Z","type":"join"}
{"nick":"jreyno40_","reason":"Quit: jreyno40_","date":"2014-08-14T03:58:19.825Z","type":"quit"}
{"nick":"jreyno40","reason":"Quit: jreyno40","date":"2014-08-14T03:58:19.944Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2014-08-14T03:58:29.706Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-08-14T04:00:34.712Z","type":"quit"}
{"nick":"euoia_","date":"2014-08-14T04:02:43.580Z","type":"join"}
{"nick":"avalanche123","date":"2014-08-14T04:07:08.147Z","type":"join"}
{"nick":"bradleymeck","date":"2014-08-14T04:07:15.607Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T04:13:07.697Z","type":"join"}
{"nick":"wavded","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-08-14T04:17:51.606Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 260 seconds","date":"2014-08-14T04:17:58.681Z","type":"quit"}
{"nick":"kazupon","date":"2014-08-14T04:18:17.819Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-08-14T04:18:56.919Z","type":"quit"}
{"nick":"kazupon_","date":"2014-08-14T04:18:58.428Z","type":"join"}
{"nick":"rmg","date":"2014-08-14T04:20:08.347Z","type":"join"}
{"nick":"SquirrelCZECH","reason":"Quit: No Ping reply in 180 seconds.","date":"2014-08-14T04:21:21.734Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T04:21:28.108Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T04:21:54.855Z","type":"join"}
{"nick":"SquirrelCZECH","date":"2014-08-14T04:22:47.673Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 255 seconds","date":"2014-08-14T04:25:37.203Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 250 seconds","date":"2014-08-14T04:26:28.284Z","type":"quit"}
{"nick":"euoia_","reason":"Ping timeout: 260 seconds","date":"2014-08-14T04:30:34.646Z","type":"quit"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-08-14T04:33:49.799Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T04:35:07.934Z","type":"quit"}
{"nick":"indexzero","date":"2014-08-14T04:43:35.461Z","type":"join"}
{"nick":"avalanche123","date":"2014-08-14T04:48:59.046Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T04:50:21.748Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T04:52:09.798Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T04:56:05.206Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2014-08-14T04:59:20.975Z","type":"quit"}
{"nick":"SquirrelCZECH_","date":"2014-08-14T05:10:57.706Z","type":"join"}
{"nick":"SquirrelCZECH","reason":"Write error: Broken pipe","date":"2014-08-14T05:11:00.471Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T05:13:13.020Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T05:14:01.712Z","type":"join"}
{"nick":"sblom","reason":"Remote host closed the connection","date":"2014-08-14T05:14:34.381Z","type":"quit"}
{"nick":"sblom","date":"2014-08-14T05:14:40.374Z","type":"join"}
{"nick":"indexzero","date":"2014-08-14T05:17:57.356Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T05:18:03.651Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2014-08-14T05:26:30.825Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T05:28:21.742Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T05:28:48.769Z","type":"join"}
{"nick":"inolen","date":"2014-08-14T05:33:14.599Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2014-08-14T05:33:25.265Z","type":"quit"}
{"nick":"daviddias","date":"2014-08-14T05:39:04.758Z","type":"join"}
{"nick":"c4milo","date":"2014-08-14T05:41:50.497Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 250 seconds","date":"2014-08-14T05:46:18.178Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T06:14:39.150Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T06:15:35.818Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 255 seconds","date":"2014-08-14T06:19:28.178Z","type":"quit"}
{"nick":"rmg","date":"2014-08-14T06:24:52.415Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 255 seconds","date":"2014-08-14T06:29:41.924Z","type":"quit"}
{"nick":"Ralith","date":"2014-08-14T06:37:22.212Z","type":"join"}
{"nick":"daviddias","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-08-14T06:45:46.194Z","type":"quit"}
{"nick":"daviddias","date":"2014-08-14T06:47:08.249Z","type":"join"}
{"nick":"daviddias","reason":"Client Quit","date":"2014-08-14T06:48:06.790Z","type":"quit"}
{"nick":"daviddias","date":"2014-08-14T06:48:25.838Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T06:50:06.296Z","type":"join"}
{"nick":"SquirrelCZECH_","reason":"Quit: No Ping reply in 180 seconds.","date":"2014-08-14T06:51:52.708Z","type":"quit"}
{"nick":"SquirrelCZECH","date":"2014-08-14T06:53:04.254Z","type":"join"}
{"nick":"inolen","date":"2014-08-14T06:57:29.598Z","type":"join"}
{"nick":"daviddias","reason":"Ping timeout: 240 seconds","date":"2014-08-14T07:12:33.714Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T07:14:18.085Z","type":"join"}
{"nick":"Left_Turn","date":"2014-08-14T07:15:10.687Z","type":"join"}
{"nick":"pguillory","reason":"Ping timeout: 240 seconds","date":"2014-08-14T07:15:32.850Z","type":"quit"}
{"nick":"rendar","date":"2014-08-14T07:18:32.326Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2014-08-14T07:19:02.641Z","type":"quit"}
{"nick":"saghul|afk","message":"indutny: pang, will test ","date":"2014-08-14T07:19:22.359Z","type":"message"}
{"nick":"indutny","message":"heya","date":"2014-08-14T07:19:26.471Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T07:19:26.995Z","type":"quit"}
{"nick":"indutny","message":"np","date":"2014-08-14T07:19:28.533Z","type":"message"}
{"nick":"indutny","message":"I figured it out","date":"2014-08-14T07:19:30.673Z","type":"message"}
{"nick":"indutny","message":"running tests right now","date":"2014-08-14T07:19:34.098Z","type":"message"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T07:21:15.337Z","type":"nick"}
{"nick":"indutny","message":"yay","date":"2014-08-14T07:22:43.206Z","type":"message"}
{"nick":"indutny","message":"it is working","date":"2014-08-14T07:22:44.651Z","type":"message"}
{"nick":"indutny","message":"finally :)","date":"2014-08-14T07:22:45.902Z","type":"message"}
{"nick":"indutny","message":"saghul|afk: wanna review?","date":"2014-08-14T07:23:10.268Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T07:27:48.603Z","type":"quit"}
{"nick":"indutny","message":"saghul|afk: anyway, https://github.com/joyent/libuv/pull/1420","date":"2014-08-14T07:29:29.552Z","type":"message"}
{"nick":"c4milo","date":"2014-08-14T07:30:06.507Z","type":"join"}
{"nick":"inolen","date":"2014-08-14T07:32:58.919Z","type":"join"}
{"nick":"Ralith","reason":"Ping timeout: 250 seconds","date":"2014-08-14T07:33:46.175Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 250 seconds","date":"2014-08-14T07:34:38.180Z","type":"quit"}
{"nick":"janjongboom","date":"2014-08-14T07:36:09.703Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-08-14T07:40:43.380Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T07:57:07.093Z","type":"quit"}
{"nick":"saghul|afk","new_nick":"saghul","date":"2014-08-14T07:57:17.641Z","type":"nick"}
{"nick":"saghul","message":"indutny: thanks! left some comments","date":"2014-08-14T07:57:29.556Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 250 seconds","date":"2014-08-14T08:23:30.246Z","type":"quit"}
{"nick":"indutny","message":"saghul: thanks","date":"2014-08-14T08:25:09.258Z","type":"message"}
{"nick":"indutny","message":"replied","date":"2014-08-14T08:25:10.355Z","type":"message"}
{"nick":"quijote","date":"2014-08-14T08:30:45.700Z","type":"join"}
{"nick":"a3f","date":"2014-08-14T08:53:42.633Z","type":"join"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-08-14T09:04:36.294Z","type":"quit"}
{"nick":"petka_","date":"2014-08-14T09:05:27.817Z","type":"join"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-08-14T09:10:21.861Z","type":"nick"}
{"nick":"c4milo","date":"2014-08-14T09:18:22.936Z","type":"join"}
{"nick":"janjongboom","date":"2014-08-14T09:18:52.539Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 264 seconds","date":"2014-08-14T09:23:22.808Z","type":"quit"}
{"nick":"Ralith","date":"2014-08-14T09:28:03.021Z","type":"join"}
{"nick":"sinclair|work","reason":"Quit: ChatZilla 0.9.90.1 [Firefox 31.0/20140716183446]","date":"2014-08-14T09:43:03.370Z","type":"quit"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2014-08-14T10:01:40.897Z","type":"quit"}
{"nick":"kazupon","date":"2014-08-14T10:03:15.824Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T10:08:51.657Z","type":"nick"}
{"nick":"Ralith","reason":"Ping timeout: 255 seconds","date":"2014-08-14T10:13:20.889Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T10:13:43.673Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 260 seconds","date":"2014-08-14T10:15:54.664Z","type":"quit"}
{"nick":"bajtos","date":"2014-08-14T10:16:58.627Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2014-08-14T10:23:10.309Z","type":"quit"}
{"nick":"kazupon_","date":"2014-08-14T10:23:14.249Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2014-08-14T10:26:47.105Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-08-14T10:32:43.859Z","type":"nick"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T10:38:37.029Z","type":"nick"}
{"nick":"quijote","date":"2014-08-14T10:43:18.846Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T10:47:22.832Z","type":"quit"}
{"nick":"seishun","date":"2014-08-14T10:47:37.403Z","type":"join"}
{"nick":"c4milo","date":"2014-08-14T11:06:44.449Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 246 seconds","date":"2014-08-14T11:11:21.201Z","type":"quit"}
{"nick":"karupa","new_nick":"zz_karupa","date":"2014-08-14T11:22:06.145Z","type":"nick"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-08-14T11:23:34.065Z","type":"nick"}
{"nick":"_3rdEden","new_nick":"`3rdEden","date":"2014-08-14T11:37:34.953Z","type":"nick"}
{"nick":"`3rdEden","new_nick":"_3rdEden","date":"2014-08-14T11:38:04.244Z","type":"nick"}
{"nick":"c4milo","date":"2014-08-14T11:41:22.063Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T11:43:55.986Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2014-08-14T11:46:20.633Z","type":"quit"}
{"nick":"kellabyte","date":"2014-08-14T11:46:45.257Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-08-14T11:47:37.675Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 255 seconds","date":"2014-08-14T11:48:17.980Z","type":"quit"}
{"nick":"AlexisMocha_","reason":"Read error: Connection reset by peer","date":"2014-08-14T11:49:21.305Z","type":"quit"}
{"nick":"AlexisMocha","date":"2014-08-14T11:52:43.348Z","type":"join"}
{"nick":"janjongboom","reason":"Ping timeout: 245 seconds","date":"2014-08-14T11:57:22.549Z","type":"quit"}
{"nick":"janjongboom","date":"2014-08-14T11:58:26.570Z","type":"join"}
{"nick":"rmg","date":"2014-08-14T12:21:17.290Z","type":"join"}
{"nick":"rmg","reason":"Ping timeout: 260 seconds","date":"2014-08-14T12:25:52.135Z","type":"quit"}
{"nick":"a3f","reason":"Ping timeout: 240 seconds","date":"2014-08-14T12:30:33.688Z","type":"quit"}
{"nick":"ircretary","reason":"Remote host closed the connection","date":"2014-08-14T12:32:27.442Z","type":"quit"}
{"nick":"ircretary","date":"2014-08-14T12:32:37.112Z","type":"join"}
{"nick":"sinclair|work","date":"2014-08-14T12:39:27.070Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T12:44:27.377Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T12:47:36.091Z","type":"nick"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-08-14T12:48:57.363Z","type":"quit"}
{"nick":"a3f","date":"2014-08-14T12:58:38.581Z","type":"join"}
{"nick":"andrehjr","date":"2014-08-14T13:06:58.265Z","type":"join"}
{"nick":"guybrush","reason":"Excess Flood","date":"2014-08-14T13:09:18.014Z","type":"quit"}
{"nick":"bradleymeck","date":"2014-08-14T13:09:36.485Z","type":"join"}
{"nick":"guybrush","date":"2014-08-14T13:10:01.545Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T13:10:24.744Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002ab2c442\u0002 : fs: introduce uv_readdir_next() and report types - http://git.io/3mk3Jg","date":"2014-08-14T13:22:01.423Z","type":"message"}
{"nick":"indutny","message":"yay!","date":"2014-08-14T13:23:31.431Z","type":"message"}
{"nick":"saghul","message":"\\o/","date":"2014-08-14T13:24:21.555Z","type":"message"}
{"nick":"mmalecki","message":"ohhh!","date":"2014-08-14T13:27:53.571Z","type":"message"}
{"nick":"mmalecki","message":"sweet!","date":"2014-08-14T13:27:55.644Z","type":"message"}
{"nick":"mmalecki","message":"do we have a node binding yet?","date":"2014-08-14T13:28:01.391Z","type":"message"}
{"nick":"euoia_","date":"2014-08-14T13:28:08.001Z","type":"join"}
{"nick":"mmalecki","message":"btw, I started working on: https://github.com/mmalecki/http-parser.rs, maybe Rust will finally get actual HTTP","date":"2014-08-14T13:28:49.414Z","type":"message"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2014-08-14T13:29:36.418Z","type":"quit"}
{"nick":"c4milo","date":"2014-08-14T13:29:41.301Z","type":"join"}
{"nick":"bradleymeck","message":"nice","date":"2014-08-14T13:29:50.357Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 240 seconds","date":"2014-08-14T13:33:56.886Z","type":"quit"}
{"nick":"cjihrig","date":"2014-08-14T13:48:28.205Z","type":"join"}
{"nick":"cjihrig","reason":"Client Quit","date":"2014-08-14T13:48:28.326Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T13:55:49.593Z","type":"join"}
{"nick":"kellabyte","reason":"Quit: Connection closed for inactivity","date":"2014-08-14T13:56:22.764Z","type":"quit"}
{"nick":"inolen","reason":"Client Quit","date":"2014-08-14T13:57:11.641Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T13:58:50.546Z","type":"join"}
{"nick":"inolen","reason":"Client Quit","date":"2014-08-14T13:58:50.773Z","type":"quit"}
{"nick":"euoia_","reason":"Ping timeout: 260 seconds","date":"2014-08-14T14:01:46.652Z","type":"quit"}
{"nick":"SquirrelCZECH","reason":"Remote host closed the connection","date":"2014-08-14T14:04:11.464Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-08-14T14:05:31.797Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T14:06:53.260Z","type":"join"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-08-14T14:07:15.095Z","type":"quit"}
{"nick":"inolen","reason":"Client Quit","date":"2014-08-14T14:09:14.190Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T14:11:54.629Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 240 seconds","date":"2014-08-14T14:16:03.643Z","type":"quit"}
{"nick":"quijote","reason":"Read error: Connection reset by peer","date":"2014-08-14T14:17:19.076Z","type":"quit"}
{"nick":"quijote_","date":"2014-08-14T14:17:25.702Z","type":"join"}
{"nick":"inolen","date":"2014-08-14T14:17:44.701Z","type":"join"}
{"nick":"indexzero","date":"2014-08-14T14:17:56.275Z","type":"join"}
{"nick":"cjihrig","date":"2014-08-14T14:19:09.133Z","type":"join"}
{"nick":"inolen","reason":"Ping timeout: 272 seconds","date":"2014-08-14T14:22:19.701Z","type":"quit"}
{"nick":"euoia_","date":"2014-08-14T14:22:28.662Z","type":"join"}
{"nick":"cjihrig","reason":"Ping timeout: 260 seconds","date":"2014-08-14T14:26:44.129Z","type":"quit"}
{"nick":"janjongboom","reason":"Ping timeout: 245 seconds","date":"2014-08-14T14:28:37.558Z","type":"quit"}
{"nick":"abraxas","date":"2014-08-14T14:28:45.137Z","type":"join"}
{"nick":"c4milo","date":"2014-08-14T14:29:22.336Z","type":"join"}
{"nick":"inolen","date":"2014-08-14T14:29:29.201Z","type":"join"}
{"nick":"janjongboom","date":"2014-08-14T14:29:57.536Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-08-14T14:30:45.815Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 272 seconds","date":"2014-08-14T14:33:43.701Z","type":"quit"}
{"nick":"quijote_","reason":"Ping timeout: 272 seconds","date":"2014-08-14T14:35:37.703Z","type":"quit"}
{"nick":"wavded","date":"2014-08-14T14:36:20.071Z","type":"join"}
{"nick":"dainis","message":"hmm, what guarantees does node timeoutHave, because right now I have an issue that 500ms timeout is fired after ~100ms","date":"2014-08-14T14:36:52.623Z","type":"message"}
{"nick":"dainis","message":"node 0.10.30","date":"2014-08-14T14:37:08.435Z","type":"message"}
{"nick":"kenperkins","reason":"Remote host closed the connection","date":"2014-08-14T14:38:46.182Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-08-14T14:42:07.956Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T14:42:46.704Z","type":"join"}
{"nick":"a3f","reason":"Quit: ChatZilla 0.9.90.1 [Firefox 31.0/20140716183446]","date":"2014-08-14T14:44:58.576Z","type":"quit"}
{"nick":"indutny","message":"dainis: this is very strange","date":"2014-08-14T14:45:48.647Z","type":"message"}
{"nick":"indutny","message":"dainis: on which OS do you see it?","date":"2014-08-14T14:45:54.156Z","type":"message"}
{"nick":"indutny","message":"do you have a test case?","date":"2014-08-14T14:46:01.606Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T14:49:23.380Z","type":"quit"}
{"nick":"dainis","message":"linux x64, can't really isolate because this happens when one the tests is run, we check whether one of the things is retried after 500ms, that is done by comparing Date.now() values, when I run just setTimeout for 500ms then callback usually gets executed after 450ms-480ms all subsequent setTimeouts execute roughly when they should, on node 0.10.28 same simple test outputs 500-503ms","date":"2014-08-14T14:52:02.613Z","type":"message"}
{"nick":"dainis","message":"I did put some console logs around that setTimeout to verify that that is the culprit","date":"2014-08-14T14:53:15.417Z","type":"message"}
{"nick":"cjihrig","date":"2014-08-14T14:53:59.956Z","type":"join"}
{"nick":"tjfontaine","message":"dainis: are you able to do an out of band build of node and test to see if it still happens in our current 0.10 branch?","date":"2014-08-14T14:54:07.291Z","type":"message"}
{"nick":"tjfontaine","message":"in general though 0.10.30 uses the monotonic timer and not the system time, because the system time is more susceptible to drift","date":"2014-08-14T14:54:39.701Z","type":"message"}
{"nick":"avalanche123","date":"2014-08-14T14:55:19.377Z","type":"join"}
{"nick":"cjihrig","reason":"Ping timeout: 244 seconds","date":"2014-08-14T14:58:23.941Z","type":"quit"}
{"nick":"tjfontaine","message":"did anyone change the configuration of the windows slaves in jenkins?","date":"2014-08-14T15:01:12.423Z","type":"message"}
{"nick":"indexzero","date":"2014-08-14T15:03:10.283Z","type":"join"}
{"nick":"seishun","reason":"Read error: Connection reset by peer","date":"2014-08-14T15:05:43.710Z","type":"quit"}
{"nick":"kenperkins","date":"2014-08-14T15:06:12.231Z","type":"join"}
{"nick":"kazupon","date":"2014-08-14T15:15:31.284Z","type":"join"}
{"nick":"tjfontaine","message":"indutny: https://github.com/joyent/node/compare/v0.10...merge-review lgty presumably?","date":"2014-08-14T15:19:05.190Z","type":"message"}
{"nick":"cjihrig","date":"2014-08-14T15:19:23.345Z","type":"join"}
{"nick":"indutny","message":"hey hey","date":"2014-08-14T15:25:42.050Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 272 seconds","date":"2014-08-14T15:26:17.705Z","type":"quit"}
{"nick":"indutny","message":"makes sense!","date":"2014-08-14T15:26:19.970Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: LGTM","date":"2014-08-14T15:26:22.543Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u00026b97c2e\u0002 : openssl: fix keypress requirement in apps on win32 (+1 more commits) - http://git.io/LYs2PA","date":"2014-08-14T15:26:44.623Z","type":"message"}
{"nick":"tjfontaine","message":"gone","date":"2014-08-14T15:26:48.306Z","type":"message"}
{"nick":"jreyno40_","date":"2014-08-14T15:28:52.644Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T15:29:29.167Z","type":"join"}
{"nick":"mikeal","date":"2014-08-14T15:30:30.365Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u0002fd80a31\u0002 : deps: backport 5f836c from v8 upstream - http://git.io/-Qgx9w","date":"2014-08-14T15:32:11.678Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T15:32:49.114Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T15:33:15.809Z","type":"join"}
{"nick":"kenperkins_","date":"2014-08-14T15:33:32.095Z","type":"join"}
{"nick":"wavded","reason":"Read error: Connection reset by peer","date":"2014-08-14T15:34:02.921Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 246 seconds","date":"2014-08-14T15:37:42.290Z","type":"quit"}
{"nick":"jgi","date":"2014-08-14T15:38:00.242Z","type":"join"}
{"nick":"kenperkins","reason":"Read error: Connection reset by peer","date":"2014-08-14T15:38:40.717Z","type":"quit"}
{"nick":"inolen","date":"2014-08-14T15:40:21.989Z","type":"join"}
{"nick":"inolen","reason":"Client Quit","date":"2014-08-14T15:40:22.106Z","type":"quit"}
{"nick":"janjongboom","reason":"Ping timeout: 245 seconds","date":"2014-08-14T15:40:27.516Z","type":"quit"}
{"nick":"janjongboom","date":"2014-08-14T15:40:43.552Z","type":"join"}
{"nick":"jreyno40_","reason":"Quit: jreyno40_","date":"2014-08-14T15:42:22.524Z","type":"quit"}
{"nick":"seishun","date":"2014-08-14T15:43:52.068Z","type":"join"}
{"nick":"dshaw_","date":"2014-08-14T15:47:10.011Z","type":"join"}
{"nick":"jreyno40_","date":"2014-08-14T15:51:16.182Z","type":"join"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-08-14T15:54:11.120Z","type":"nick"}
{"nick":"avalanche123","date":"2014-08-14T16:00:59.602Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T16:01:25.650Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T16:01:49.157Z","type":"join"}
{"nick":"wavded","date":"2014-08-14T16:02:14.380Z","type":"join"}
{"nick":"tjfontaine","message":"indutny, saghul: nothign slated to go in libuv 0.10 such taht we would need a new release?","date":"2014-08-14T16:02:38.272Z","type":"message"}
{"nick":"tjfontaine","message":"indutny, AlexisMocha, trevnorris, wanna have a call?","date":"2014-08-14T16:03:13.766Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T16:03:21.249Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T16:04:23.132Z","type":"quit"}
{"nick":"AlexisMocha","message":"tjfontaine: can do a quick one. have to leave at :30","date":"2014-08-14T16:06:20.957Z","type":"message"}
{"nick":"txdv","message":"indutny: did you set the enomem error now?","date":"2014-08-14T16:06:23.862Z","type":"message"}
{"nick":"txdv","message":"didnt you want me to do it?","date":"2014-08-14T16:06:29.054Z","type":"message"}
{"nick":"tjfontaine","message":"AlexisMocha: ok if we can't get fedor and trevor and nate today, maybe we can have one tomorrow morning, after landing trevors stuff and the libuv fix for smartos I'm relatively confident we can release the final 0.11 as an RC","date":"2014-08-14T16:07:51.995Z","type":"message"}
{"nick":"rmg","date":"2014-08-14T16:08:02.056Z","type":"join"}
{"nick":"AlexisMocha","message":"ok","date":"2014-08-14T16:09:33.741Z","type":"message"}
{"nick":"dap_","date":"2014-08-14T16:11:34.282Z","type":"join"}
{"nick":"tjfontaine","message":"we need to have the unfortunate conversation about what it means to have a consistent hash key for module cache :/","date":"2014-08-14T16:11:50.845Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 255 seconds","date":"2014-08-14T16:12:07.268Z","type":"quit"}
{"nick":"rendar","message":"tjfontaine: cache for .js modules that are loaded with require() ?","date":"2014-08-14T16:12:51.206Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: we do that already, but we don't normalize the key, so on osx and windows you can require the same file multiple times with multiple cases and get new instances back","date":"2014-08-14T16:13:21.607Z","type":"message"}
{"nick":"rendar","message":"oh, i see","date":"2014-08-14T16:13:43.293Z","type":"message"}
{"nick":"rendar","message":"well, that seems pretty trivial to implement..","date":"2014-08-14T16:13:53.453Z","type":"message"}
{"nick":"tjfontaine","message":"[it's really not about platform but about filesystem, but in practice most windows and osx filesystems fall prey to this]","date":"2014-08-14T16:13:55.546Z","type":"message"}
{"nick":"rendar","message":"mmmm","date":"2014-08-14T16:14:05.138Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: trivial to implement but results in a behavior change","date":"2014-08-14T16:14:11.122Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-08-14T16:14:24.152Z","type":"quit"}
{"nick":"rendar","message":"what kind of behavior change?","date":"2014-08-14T16:14:27.941Z","type":"message"}
{"nick":"tjfontaine","message":"on a case sensitive filesystem you lose the ability to have both ./util.js and ./Util.js","date":"2014-08-14T16:14:32.973Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: not that I know of","date":"2014-08-14T16:14:36.985Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: ok thanks","date":"2014-08-14T16:14:42.264Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: oh...","date":"2014-08-14T16:14:52.821Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: we actually expand that out to the full path, but any component along that path may be case [in]sensitive","date":"2014-08-14T16:15:30.238Z","type":"message"}
{"nick":"rendar","message":"well, but \"util\" and \"Util\" will have a different hash code","date":"2014-08-14T16:15:39.879Z","type":"message"}
{"nick":"c4milo","date":"2014-08-14T16:15:47.489Z","type":"join"}
{"nick":"tjfontaine","message":"rendar: not on osx and windows [in practice[","date":"2014-08-14T16:15:53.478Z","type":"message"}
{"nick":"mcavage","date":"2014-08-14T16:16:10.009Z","type":"join"}
{"nick":"mcavage","reason":"Client Quit","date":"2014-08-14T16:16:48.261Z","type":"quit"}
{"nick":"mcavage","date":"2014-08-14T16:16:58.828Z","type":"join"}
{"nick":"tjfontaine","message":"hmm I still need to do the intl review as well, that's probably going to be me today, intl and trevor review","date":"2014-08-14T16:17:11.201Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: possible solution: require() will be case insentivie","date":"2014-08-14T16:17:39.137Z","type":"message"}
{"nick":"rendar","message":"insensitive*","date":"2014-08-14T16:17:41.578Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: how do you do that efficiently on case sensitive platforms?","date":"2014-08-14T16:18:13.309Z","type":"message"}
{"nick":"tjfontaine","message":"[iow have you seen what wine and mono have to do to get around that?]","date":"2014-08-14T16:18:27.352Z","type":"message"}
{"nick":"TooTallNate","date":"2014-08-14T16:18:28.846Z","type":"join"}
{"nick":"rendar","message":"tjfontaine: nope, what are they doing?","date":"2014-08-14T16:19:32.260Z","type":"message"}
{"nick":"tjfontaine","message":"it's just really painful, you want your open() to do just whatever the OS and FS want to do and stay out if their way","date":"2014-08-14T16:19:57.924Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: in short changing require to be insensitive means we now have to pick which of Util.js and util.js we open","date":"2014-08-14T16:20:41.093Z","type":"message"}
{"nick":"tjfontaine","message":"I mean it's just a shift of where the responsibility is","date":"2014-08-14T16:20:57.105Z","type":"message"}
{"nick":"tjfontaine","message":"but it's easier for us to manage the cache key","date":"2014-08-14T16:21:02.562Z","type":"message"}
{"nick":"inolen","date":"2014-08-14T16:21:23.769Z","type":"join"}
{"nick":"rendar","message":"tjfontaine: i see, how the cache key will be managed, basically?","date":"2014-08-14T16:21:37.240Z","type":"message"}
{"nick":"tjfontaine","message":"good question ;)","date":"2014-08-14T16:21:44.592Z","type":"message"}
{"nick":"rendar","message":":)","date":"2014-08-14T16:21:47.703Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: btw the cache key concept is to load all .js files into memory and giving them an hash key based on their content/name?","date":"2014-08-14T16:23:43.752Z","type":"message"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-08-14T16:25:03.253Z","type":"quit"}
{"nick":"euoia_","reason":"Ping timeout: 260 seconds","date":"2014-08-14T16:25:30.646Z","type":"quit"}
{"nick":"cjihrig","date":"2014-08-14T16:25:39.139Z","type":"join"}
{"nick":"avalanche123","date":"2014-08-14T16:25:50.226Z","type":"join"}
{"nick":"abraxas","date":"2014-08-14T16:29:35.289Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 264 seconds","date":"2014-08-14T16:30:34.761Z","type":"quit"}
{"nick":"tjfontaine","message":"rendar: I hadn't particularly considered using content as part of that","date":"2014-08-14T16:32:32.294Z","type":"message"}
{"nick":"bradleymeck","message":"if require does become case insensitive list of what gets checked first needs to be very careful","date":"2014-08-14T16:32:46.845Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: that's interesting though, but frustrating if someone changes on disk then we've introduced hot loading","date":"2014-08-14T16:32:58.689Z","type":"message"}
{"nick":"abraxas","reason":"Ping timeout: 240 seconds","date":"2014-08-14T16:33:52.827Z","type":"quit"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-08-14T16:33:55.254Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T16:34:01.167Z","type":"join"}
{"nick":"bradleymeck","message":"Abc ABc aBc aBC abC AbC abc ABC, could all exist in a case sensitive directory so you would need to define for example what happens if neither pure UPPER or pure lower are present etc.","date":"2014-08-14T16:35:06.426Z","type":"message"}
{"nick":"bradleymeck","message":"I would assume module authors can fix this, but \\o/","date":"2014-08-14T16:35:45.670Z","type":"message"}
{"nick":"tjfontaine","message":"it's particularly difficult to interpret what the user meant in these instances","date":"2014-08-14T16:35:46.889Z","type":"message"}
{"nick":"nathan7","message":"tjfontaine: it might just make sense to throw","date":"2014-08-14T16:37:00.345Z","type":"message"}
{"nick":"nathan7","message":"tjfontaine: refuse to load different cases","date":"2014-08-14T16:37:07.518Z","type":"message"}
{"nick":"tjfontaine","message":"that's a particularly abrupt change","date":"2014-08-14T16:37:29.179Z","type":"message"}
{"nick":"nathan7","message":"though that doesn't resolve the case where stuff works because the case differs","date":"2014-08-14T16:37:31.773Z","type":"message"}
{"nick":"tjfontaine","message":"I think what I'm most worried about are the onslaught of new node developers on windows","date":"2014-08-14T16:37:55.015Z","type":"message"}
{"nick":"nathan7","message":"yeah","date":"2014-08-14T16:37:59.445Z","type":"message"}
{"nick":"tjfontaine","message":"who will almost certainly be deploying on unicies","date":"2014-08-14T16:38:04.703Z","type":"message"}
{"nick":"tjfontaine","message":"and not understanding necessarily why their modules aren't found","date":"2014-08-14T16:38:15.141Z","type":"message"}
{"nick":"nathan7","message":"can you get the filename given the fd?","date":"2014-08-14T16:38:16.961Z","type":"message"}
{"nick":"nathan7","message":"check that the case is correct, else throw","date":"2014-08-14T16:38:26.018Z","type":"message"}
{"nick":"tjfontaine","message":"there's not [afaik] a way to reliably get the on disk storage of the name","date":"2014-08-14T16:38:47.212Z","type":"message"}
{"nick":"quijote","date":"2014-08-14T16:38:52.553Z","type":"join"}
{"nick":"nathan7","message":"you'd have symlinks fucking with that anyway","date":"2014-08-14T16:39:06.179Z","type":"message"}
{"nick":"nathan7","message":":|","date":"2014-08-14T16:39:07.641Z","type":"message"}
{"nick":"nathan7","message":"you'd have to do a readdir, but we already do enough stat calls on require…","date":"2014-08-14T16:39:18.942Z","type":"message"}
{"nick":"tjfontaine","message":"right there are a lot of other caveats here","date":"2014-08-14T16:39:20.951Z","type":"message"}
{"nick":"tjfontaine","message":"the change to key normalization is easy","date":"2014-08-14T16:39:34.989Z","type":"message"}
{"nick":"tjfontaine","message":"understanding the ramifications are not","date":"2014-08-14T16:39:43.318Z","type":"message"}
{"nick":"nathan7","message":"yeah","date":"2014-08-14T16:39:47.173Z","type":"message"}
{"nick":"nathan7","message":"actually, could probably drop a few stat calls throwing that readdir in","date":"2014-08-14T16:40:09.969Z","type":"message"}
{"nick":"tjfontaine","message":"depends on your tolerance for races :)","date":"2014-08-14T16:40:28.147Z","type":"message"}
{"nick":"a_le","reason":"Ping timeout: 240 seconds","date":"2014-08-14T16:41:32.916Z","type":"quit"}
{"nick":"jgi","message":"tjfontaine: are you refering to this PR: https://github.com/joyent/node/pull/8145?","date":"2014-08-14T16:44:07.150Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: yeah, i see the problem","date":"2014-08-14T16:44:51.393Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: for hot loading you mean reloading the file at every disk change?","date":"2014-08-14T16:45:02.538Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: yes","date":"2014-08-14T16:45:45.003Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: ya, also AlexisMocha has a similar pr","date":"2014-08-14T16:45:51.803Z","type":"message"}
{"nick":"jgi","message":"tjfontaine: ok, my understanding was that path.normalize changes the case only on Windows for drive letters. So requiring two different files with different cases should still work on file systems that are case sensitive.","date":"2014-08-14T16:48:10.868Z","type":"message"}
{"nick":"a_le","date":"2014-08-14T16:48:59.394Z","type":"join"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-08-14T16:49:02.149Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 245 seconds","date":"2014-08-14T16:49:52.552Z","type":"quit"}
{"nick":"cjihrig","date":"2014-08-14T16:50:01.195Z","type":"join"}
{"nick":"jgi","message":"tjfontaine: but my PR doesn’t solve the more general problem, so it’s a fix for only a very tiny portion of these types of issues.","date":"2014-08-14T16:51:18.347Z","type":"message"}
{"nick":"tjfontaine","message":"jgi: right","date":"2014-08-14T16:51:52.126Z","type":"message"}
{"nick":"kellabyte","date":"2014-08-14T16:53:12.890Z","type":"join"}
{"nick":"brycebar1l","new_nick":"brycebaril","date":"2014-08-14T16:53:45.052Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-08-14T16:55:27.121Z","type":"quit"}
{"nick":"indexzero","date":"2014-08-14T16:58:21.948Z","type":"join"}
{"nick":"brson","date":"2014-08-14T16:58:34.281Z","type":"join"}
{"nick":"janjongboom","date":"2014-08-14T17:03:03.538Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2014-08-14T17:04:35.772Z","type":"quit"}
{"nick":"cjihrig","reason":"Quit: Leaving.","date":"2014-08-14T17:04:49.969Z","type":"quit"}
{"nick":"janjongboom","reason":"Ping timeout: 245 seconds","date":"2014-08-14T17:07:22.556Z","type":"quit"}
{"nick":"sblom","reason":"Read error: Connection reset by peer","date":"2014-08-14T17:08:29.417Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T17:08:32.489Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T17:09:44.286Z","type":"join"}
{"nick":"indexzero","date":"2014-08-14T17:10:12.148Z","type":"join"}
{"nick":"avalanch_","date":"2014-08-14T17:11:12.649Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 255 seconds","date":"2014-08-14T17:13:46.198Z","type":"quit"}
{"nick":"dshaw_","date":"2014-08-14T17:15:02.055Z","type":"join"}
{"nick":"wavded","reason":"Ping timeout: 246 seconds","date":"2014-08-14T17:16:24.304Z","type":"quit"}
{"nick":"daviddias","date":"2014-08-14T17:16:25.973Z","type":"join"}
{"nick":"nathan7","message":"tjfontaine: a stat() isn't race-tolerant either","date":"2014-08-14T17:16:39.084Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 246 seconds","date":"2014-08-14T17:16:45.262Z","type":"quit"}
{"nick":"nathan7","message":"tjfontaine: well, race-safe","date":"2014-08-14T17:16:45.616Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2014-08-14T17:16:49.792Z","type":"quit"}
{"nick":"nathan7","message":"tjfontaine: you'd have to open(), bailing on ENOENT","date":"2014-08-14T17:16:59.442Z","type":"message"}
{"nick":"nathan7","message":"tjfontaine: maybe I am mistaken, but I thought node's require did stat() a bunch","date":"2014-08-14T17:17:20.158Z","type":"message"}
{"nick":"janjongboom","date":"2014-08-14T17:19:38.712Z","type":"join"}
{"nick":"tjfontaine","message":"nathan7: right, the open path is ideally what we would do, there are lots of cases where we can be better :)","date":"2014-08-14T17:23:12.355Z","type":"message"}
{"nick":"indexzero","date":"2014-08-14T17:23:20.869Z","type":"join"}
{"nick":"nathan7","message":"tjfontaine: I spent aages figuring out how to handle concurrency with fs stuff while writing the stuff that's becoming npm's cache now","date":"2014-08-14T17:24:48.659Z","type":"message"}
{"nick":"cjihrig","date":"2014-08-14T17:24:55.242Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2014-08-14T17:24:56.159Z","type":"quit"}
{"nick":"jreyno40_","reason":"Quit: jreyno40_","date":"2014-08-14T17:29:04.223Z","type":"quit"}
{"nick":"jreyno40","date":"2014-08-14T17:30:19.136Z","type":"join"}
{"nick":"jreyno40","reason":"Client Quit","date":"2014-08-14T17:30:19.253Z","type":"quit"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2014-08-14T17:36:36.665Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-08-14T17:42:07.225Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T17:43:32.864Z","type":"join"}
{"nick":"txdv","message":"saghul: did indutny add the nomem return in his patch?","date":"2014-08-14T17:46:12.247Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T17:47:56.865Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-08-14T17:49:35.830Z","type":"join"}
{"nick":"tjfontaine","message":"src/uv-common.c:485:11: error: 'uv__dirent_t' has no member named 'd_type'","date":"2014-08-14T17:54:16.613Z","type":"message"}
{"nick":"tjfontaine","message":"src/uv-common.c:485:23: error: 'DT_DIR' undeclared (first use in this function)","date":"2014-08-14T17:54:16.726Z","type":"message"}
{"nick":"tjfontaine","message":"src/uv-common.c:485:23: note: each undeclared identifier is reported only once for each function it appears in","date":"2014-08-14T17:54:17.312Z","type":"message"}
{"nick":"tjfontaine","message":"saghul, indutny ^^","date":"2014-08-14T17:54:22.657Z","type":"message"}
{"nick":"rossk","date":"2014-08-14T17:56:15.374Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T17:57:00.883Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2014-08-14T18:00:54.242Z","type":"quit"}
{"nick":"brson","date":"2014-08-14T18:01:01.707Z","type":"join"}
{"nick":"indutny","message":"huh?","date":"2014-08-14T18:03:10.055Z","type":"message"}
{"nick":"indutny","message":"on which platform?","date":"2014-08-14T18:03:13.919Z","type":"message"}
{"nick":"tjfontaine","message":"smartos","date":"2014-08-14T18:04:03.428Z","type":"message"}
{"nick":"kazupon","date":"2014-08-14T18:05:26.838Z","type":"join"}
{"nick":"kenperkins_","new_nick":"kenperkins","date":"2014-08-14T18:08:22.820Z","type":"nick"}
{"nick":"jreyno40_","message":"I’m getting some weird errors with libuv","date":"2014-08-14T18:11:03.710Z","type":"message"}
{"nick":"wavded","date":"2014-08-14T18:12:06.766Z","type":"join"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-08-14T18:14:08.991Z","type":"quit"}
{"nick":"a_le","date":"2014-08-14T18:14:43.875Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-08-14T18:14:57.010Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2014-08-14T18:19:01.632Z","type":"quit"}
{"nick":"jreyno40_","message":"here is a backtrace I’ve drummed up: http://hastebin.com/xukipopave.xml","date":"2014-08-14T18:21:00.459Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T18:21:22.828Z","type":"quit"}
{"nick":"tjfontaine","message":"can you recompile in debug mode? exec bad address is probably a null deref of sorts","date":"2014-08-14T18:22:43.568Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: Sorry, I’m not well versed with libuv. I’m working on an open-source project that uses it","date":"2014-08-14T18:23:43.706Z","type":"message"}
{"nick":"jreyno40_","message":"how would I recompile in debug mode","date":"2014-08-14T18:23:50.726Z","type":"message"}
{"nick":"tjfontaine","message":"depends on how the project is consuming it","date":"2014-08-14T18:24:00.966Z","type":"message"}
{"nick":"jreyno40_","message":"do I need to recompile from source in debug & take the .a file back into the open-source project?","date":"2014-08-14T18:24:08.329Z","type":"message"}
{"nick":"tjfontaine","message":"that is one way to do it","date":"2014-08-14T18:24:19.109Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: using it for a uv_default_loop and uv_udp_send","date":"2014-08-14T18:24:20.244Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: C, not NodeJS","date":"2014-08-14T18:24:50.976Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: Okay, so how would I compile in debug from source?","date":"2014-08-14T18:25:40.791Z","type":"message"}
{"nick":"tjfontaine","message":"where's the project using this, is it compiling libuv as part of its build?","date":"2014-08-14T18:25:59.183Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: no, it’s statically linking assembly (libuv.a)","date":"2014-08-14T18:26:21.886Z","type":"message"}
{"nick":"tjfontaine","message":"ok, which mechanism are you using to build the libuv.a?","date":"2014-08-14T18:26:44.004Z","type":"message"}
{"nick":"tjfontaine","message":"autoconf or gyp?","date":"2014-08-14T18:26:48.610Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: autoconf","date":"2014-08-14T18:27:05.210Z","type":"message"}
{"nick":"quijote","date":"2014-08-14T18:28:40.849Z","type":"join"}
{"nick":"tjfontaine","message":"ok frustratingly there doesn't seem tobe a debug target currently","date":"2014-08-14T18:29:31.198Z","type":"message"}
{"nick":"jreyno40_","message":":(","date":"2014-08-14T18:29:40.342Z","type":"message"}
{"nick":"tjfontaine","message":"jreyno40_: CFLAGS=\"-O0 -g\" ./configure","date":"2014-08-14T18:29:49.606Z","type":"message"}
{"nick":"jreyno40_","message":"do that?","date":"2014-08-14T18:30:01.149Z","type":"message"}
{"nick":"jreyno40_","message":":D","date":"2014-08-14T18:30:02.530Z","type":"message"}
{"nick":"tjfontaine","message":"ya, it's not 100% what I would want, but it may be sufficient","date":"2014-08-14T18:30:12.069Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: okay","date":"2014-08-14T18:31:18.257Z","type":"message"}
{"nick":"tjfontaine","message":"then ou could also do: make V=1 CFLAGS=\"-O0 -g\"","date":"2014-08-14T18:31:44.251Z","type":"message"}
{"nick":"jreyno40_","message":"oh, last time I compiled from source a make check test failed","date":"2014-08-14T18:31:49.481Z","type":"message"}
{"nick":"tjfontaine","message":"you want to watch the compilation output to see that each code unit is getting that passed to it","date":"2014-08-14T18:32:00.548Z","type":"message"}
{"nick":"tjfontaine","message":"brb lunch","date":"2014-08-14T18:32:36.878Z","type":"message"}
{"nick":"jreyno40_","message":"tjfontaine: okay","date":"2014-08-14T18:33:13.831Z","type":"message"}
{"nick":"avalanch_","reason":"Remote host closed the connection","date":"2014-08-14T18:34:56.302Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T18:35:27.209Z","type":"join"}
{"nick":"euoia_","date":"2014-08-14T18:37:59.024Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 244 seconds","date":"2014-08-14T18:40:02.969Z","type":"quit"}
{"nick":"jreyno40_","message":"tjfontaine: I am also getting this error: Assertion failed: (uv__has_active_reqs(handle->loop)), function uv__udp_run_completed, file src/unix/udp.c, line 97.","date":"2014-08-14T18:40:36.384Z","type":"message"}
{"nick":"avalanche123","date":"2014-08-14T18:40:50.987Z","type":"join"}
{"nick":"AvianFlu","date":"2014-08-14T18:44:21.099Z","type":"join"}
{"nick":"mcavage","date":"2014-08-14T18:47:36.096Z","type":"join"}
{"nick":"sh1mmer","date":"2014-08-14T18:48:14.656Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T18:50:52.847Z","type":"quit"}
{"nick":"mcavage","reason":"Ping timeout: 244 seconds","date":"2014-08-14T18:51:55.947Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2014-08-14T18:54:16.096Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T19:01:11.845Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-08-14T19:03:30.565Z","type":"quit"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-08-14T19:03:49.198Z","type":"quit"}
{"nick":"sh1mmer","reason":"Ping timeout: 245 seconds","date":"2014-08-14T19:04:52.559Z","type":"quit"}
{"nick":"saghul","message":"tjfontaine: pong","date":"2014-08-14T19:04:53.144Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: do you have a test case?","date":"2014-08-14T19:05:20.317Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: this is a rather large project","date":"2014-08-14T19:06:25.084Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: so no","date":"2014-08-14T19:06:33.285Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: multiple threads?","date":"2014-08-14T19:06:42.371Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: no","date":"2014-08-14T19:06:48.405Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I can however give you a brief description","date":"2014-08-14T19:06:58.400Z","type":"message"}
{"nick":"jreyno40_","message":"that could definitely help","date":"2014-08-14T19:07:06.710Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: go ahead :-)","date":"2014-08-14T19:07:18.180Z","type":"message"}
{"nick":"jreyno40_","message":"first thing done with libuv: uv_default_loop();","date":"2014-08-14T19:08:11.661Z","type":"message"}
{"nick":"jreyno40_","message":"uv_udp_init(thatLoop, socketPtr);","date":"2014-08-14T19:08:28.514Z","type":"message"}
{"nick":"jreyno40_","message":"uv_ip4_addr(ip, port, sock_addr);","date":"2014-08-14T19:08:42.880Z","type":"message"}
{"nick":"sh1mmer","date":"2014-08-14T19:09:12.062Z","type":"join"}
{"nick":"jreyno40_","message":"Then, we go into a loop repeatedly calling uv_run(thatLoop, UV_RUN_NOWAIT);","date":"2014-08-14T19:09:14.710Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: The library is a video streaming library. Thus, when capture data is received (a video frame) a bunch of stuff is done to create a packet","date":"2014-08-14T19:09:42.666Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: THEN uv_udp_send(); is called to send the packet. ","date":"2014-08-14T19:10:08.991Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: all meanwhile uv_run() is still being called","date":"2014-08-14T19:10:19.172Z","type":"message"}
{"nick":"jreyno40_","message":"This is all in a single thread","date":"2014-08-14T19:10:25.105Z","type":"message"}
{"nick":"saghul","message":"hum, there is no obvious reason why that would happen :-/","date":"2014-08-14T19:11:44.170Z","type":"message"}
{"nick":"saghul","message":"out of curiosity, why can't you use UV_RUN_DEFAULT?","date":"2014-08-14T19:12:07.332Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: That blocks and we’re drawing a video being streamed at high speed","date":"2014-08-14T19:14:41.333Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: so we can’t use that","date":"2014-08-14T19:15:01.837Z","type":"message"}
{"nick":"saghul","message":"aha","date":"2014-08-14T19:15:16.784Z","type":"message"}
{"nick":"saghul","message":"give me a sec, I found something weird there","date":"2014-08-14T19:15:36.123Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Oh? ^.^","date":"2014-08-14T19:15:49.096Z","type":"message"}
{"nick":"rendar","reason":"Ping timeout: 260 seconds","date":"2014-08-14T19:15:50.654Z","type":"quit"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-08-14T19:16:12.959Z","type":"quit"}
{"nick":"jreyno40_","message":"saghul: Oh, KEY piece of information; The error ONLY happens when we try to call uv_udp_send in quick succession","date":"2014-08-14T19:16:22.490Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T19:16:22.830Z","type":"quit"}
{"nick":"saghul","message":"jreyno40_: do you check the return code? do you get any before it goes nuts?","date":"2014-08-14T19:17:15.010Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: just “if(r!=0){printf(“got an error…\\n”);}\"","date":"2014-08-14T19:20:00.965Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: where r = uv_udp_send();","date":"2014-08-14T19:20:16.187Z","type":"message"}
{"nick":"rendar","date":"2014-08-14T19:21:52.343Z","type":"join"}
{"nick":"dsantiago","reason":"Quit: Computer has gone to sleep.","date":"2014-08-14T19:23:25.196Z","type":"quit"}
{"nick":"saghul","message":"jreyno40_: and, no error?","date":"2014-08-14T19:24:06.726Z","type":"message"}
{"nick":"wavded","reason":"Read error: Connection reset by peer","date":"2014-08-14T19:24:11.964Z","type":"quit"}
{"nick":"sinclair|work","reason":"Remote host closed the connection","date":"2014-08-14T19:24:39.911Z","type":"quit"}
{"nick":"jreyno40_","message":"saghul: I’m also getting messages that say “Abort trap: 6” but I’m not sure that’s related","date":"2014-08-14T19:27:13.552Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Yep, no error","date":"2014-08-14T19:27:19.314Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: those aborts don't sound good at all :-( do you have a backtrace?","date":"2014-08-14T19:27:44.874Z","type":"message"}
{"nick":"jreyno40_","message":"http://hastebin.com/xukipopave.xml","date":"2014-08-14T19:28:08.411Z","type":"message"}
{"nick":"jreyno40_","message":"It segfaults sometimes","date":"2014-08-14T19:28:46.954Z","type":"message"}
{"nick":"jreyno40_","message":"other times it throws the “Assertion failed:” partnered with “Abort trap: 6\"","date":"2014-08-14T19:29:00.334Z","type":"message"}
{"nick":"jreyno40_","message":"other times I get a free issue","date":"2014-08-14T19:29:36.997Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: which is especially weird; It manages to call a callback twice at the exact same time","date":"2014-08-14T19:29:53.776Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: so one of them frees the memory, the other tries to free the already freed memory","date":"2014-08-14T19:30:08.024Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: and I’m referring to the callback you can pass into uv_udp_send","date":"2014-08-14T19:30:19.031Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: and in that callback we free “uv_udp_send_t* req; free(req->data); free(req)\"","date":"2014-08-14T19:31:02.674Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Could that be the issue? Freeing the request?","date":"2014-08-14T19:31:13.555Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: yo use different uv_udp_send_t request objects each time you call uv_udp_send, right?","date":"2014-08-14T19:31:16.096Z","type":"message"}
{"nick":"saghul","message":"*you use","date":"2014-08-14T19:31:43.873Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Yes, a new request object is malloced each time.","date":"2014-08-14T19:31:45.327Z","type":"message"}
{"nick":"saghul","message":"do you modify any of its fields besides data?","date":"2014-08-14T19:32:06.344Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: no","date":"2014-08-14T19:32:22.114Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: However we also us a uv_buf_t (which we initialize with uv_buf_init());","date":"2014-08-14T19:32:41.232Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: and where do you store it?","date":"2014-08-14T19:32:56.274Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: we pass it as the third argument to uv_udp_send()","date":"2014-08-14T19:32:57.850Z","type":"message"}
{"nick":"saghul","message":"sure","date":"2014-08-14T19:33:04.840Z","type":"message"}
{"nick":"saghul","message":"how do you free the buffer?","date":"2014-08-14T19:33:15.287Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: and it appears the person that wrote this never frees that ","date":"2014-08-14T19:33:17.411Z","type":"message"}
{"nick":"saghul","message":"the buffer structure is copied, not the buffer base","date":"2014-08-14T19:33:42.585Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: meaning?","date":"2014-08-14T19:34:15.858Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: you can pass a stack allocated uv_buf_t, as long as buf->base points to valid memory thoughout the lifetime of the request","date":"2014-08-14T19:34:18.431Z","type":"message"}
{"nick":"saghul","message":"*throughout","date":"2014-08-14T19:34:32.046Z","type":"message"}
{"nick":"jreyno40_","message":"well","date":"2014-08-14T19:35:16.864Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: it appears buf->base is never specifically set","date":"2014-08-14T19:35:42.311Z","type":"message"}
{"nick":"saghul","message":"its set by uv_buf_init","date":"2014-08-14T19:36:03.036Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: we cann uv_buf_init((char *)tmp, nbytes); where tmp is a char* with bytes","date":"2014-08-14T19:36:06.432Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Okay","date":"2014-08-14T19:36:15.458Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: So there should be no issue there either, correct?","date":"2014-08-14T19:36:21.890Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: is tmp valid from the moment you call uv_udp_send until the callback is called?","date":"2014-08-14T19:36:39.268Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: tmp is out of scope inside of the callback","date":"2014-08-14T19:37:10.661Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: tmp is declared inside of the function calling uv_udp_send","date":"2014-08-14T19:37:25.879Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: well, the memory needs to be valid until then, otherwise you may write garbage","date":"2014-08-14T19:37:55.719Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: just that the readdir stream work is broken on smartos","date":"2014-08-14T19:37:55.844Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: doh","date":"2014-08-14T19:38:22.866Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: hmm… okay","date":"2014-08-14T19:38:51.722Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: looks like dirent doesn't have d_type on SunOS","date":"2014-08-14T19:39:17.134Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: So I need to make sure the tmp variable is still in scope inside of the callback?","date":"2014-08-14T19:39:23.863Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: tmp is a pointer to a memory area, you need to make sure that memory is valid until then","date":"2014-08-14T19:39:49.108Z","type":"message"}
{"nick":"trevnorris","message":"afternoon","date":"2014-08-14T19:40:00.341Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: so is uv_buf_init taking the pointer from tmp?","date":"2014-08-14T19:41:12.679Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: is it a pointer to tmp?","date":"2014-08-14T19:41:22.370Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: So does it point to the same memory","date":"2014-08-14T19:41:32.178Z","type":"message"}
{"nick":"trevnorris","message":"saghul: *nix compiles w/ 4 threads by default. on windows, while it still has a \"thread pool\" libuv just doesn't need to manage how many threads it has?","date":"2014-08-14T19:41:38.823Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: or is it copying what is in that memory location","date":"2014-08-14T19:41:42.438Z","type":"message"}
{"nick":"trevnorris","message":"i.e. it's managed by windows.","date":"2014-08-14T19:41:46.410Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I’m not entirely sure how I can check the memory. Since the pointer is declared inside of the function calling uv_udp_send & I create the uv_buf that gets passed into uv_udp_send, tmp goes out of scope at the end of the function & the uv_buf isn’t passed as a parameter to the callback","date":"2014-08-14T19:43:42.792Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: according to posix d_type and others are only available by platform, also that d_type may not be supported by the filesystem","date":"2014-08-14T19:44:09.641Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: it sets a pointer, it doesn't copy the memory","date":"2014-08-14T19:48:53.413Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: yeah, let me try to make a quick patch","date":"2014-08-14T19:49:37.303Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Okay, so if I’m mallocing in the sender function but never freeing it should still be valid","date":"2014-08-14T19:49:41.571Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I just need to free it somewhere O.o","date":"2014-08-14T19:49:57.047Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: the data coming across is valid too, meaning we’re actually able to reconstruct video frames","date":"2014-08-14T19:50:24.770Z","type":"message"}
{"nick":"saghul","message":"trevnorris: \"compiling w/ 4 threads\" you mean the default size of the thread pool?","date":"2014-08-14T19:50:29.206Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: damn. Then you have a leak, but it shouldn't crash.","date":"2014-08-14T19:50:53.164Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2014-08-14T19:50:56.577Z","type":"quit"}
{"nick":"saghul","message":"jreyno40_: any chance you can simulate that UV_RUN_NOWAIT spin + lots of uv_usp_send in a test case? That would definitely help.","date":"2014-08-14T19:51:39.746Z","type":"message"}
{"nick":"bradleymeck","date":"2014-08-14T19:52:06.959Z","type":"join"}
{"nick":"jreyno40_","message":"saghul: I’m considering it","date":"2014-08-14T19:52:25.202Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I just figured I could fix it quicker than I could provide a test case","date":"2014-08-14T19:52:44.559Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: guess not though","date":"2014-08-14T19:52:49.570Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I’m just baffled; I really don’t know how “Assertion failed: (uv__has_active_reqs(handle->loop)), function uv__udp_run_completed, file src/unix/udp.c, line 97.” is happening","date":"2014-08-14T19:54:01.813Z","type":"message"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T19:56:13.515Z","type":"quit"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2014-08-14T19:56:26.017Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T19:56:40.179Z","type":"join"}
{"nick":"saghul","message":"tjfontaine: can you try this? https://gist.github.com/saghul/20236dbba12250e6f265","date":"2014-08-14T19:56:50.814Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: yeah, me neither :-/","date":"2014-08-14T19:57:28.022Z","type":"message"}
{"nick":"trevnorris","message":"saghul: yeah. default side of the thread pool on the *nix side is w/ 4 threads. but swear I remember Bert telling me that Windows manages how many threads are created.","date":"2014-08-14T19:58:06.741Z","type":"message"}
{"nick":"bradleymeck","date":"2014-08-14T19:58:07.084Z","type":"join"}
{"nick":"saghul","message":"trevnorris: yes, Windows used to use the system work queuing facilities","date":"2014-08-14T19:58:42.234Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: seems like DT_UNKNOWN would be more appropriate","date":"2014-08-14T19:58:46.418Z","type":"message"}
{"nick":"saghul","message":"but I unified the threadpool, so now uv_cancel also works on Windows","date":"2014-08-14T19:59:03.146Z","type":"message"}
{"nick":"wavded","date":"2014-08-14T19:59:15.337Z","type":"join"}
{"nick":"trevnorris","message":"ah, so that's the reason. thanks for the clarification.","date":"2014-08-14T19:59:20.384Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: SunOS doesn't even have a type, so it's all files to his eyes...","date":"2014-08-14T19:59:22.958Z","type":"message"}
{"nick":"trevnorris","message":"the rust team will be interested to hear that.","date":"2014-08-14T19:59:27.710Z","type":"message"}
{"nick":"saghul","message":"trevnorris: any time!","date":"2014-08-14T19:59:30.553Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: if uv is exposing the concept of this interface, we should be faithful to it, even if the platform doesn't support it","date":"2014-08-14T19:59:50.020Z","type":"message"}
{"nick":"tjfontaine","message":"       Currently, only some filesystems (among them: Btrfs, ext2, ext3, and","date":"2014-08-14T20:00:24.014Z","type":"message"}
{"nick":"tjfontaine","message":"       ext4) have full support for returning the file type in d_type.  All","date":"2014-08-14T20:00:24.133Z","type":"message"}
{"nick":"tjfontaine","message":"       applications must properly handle a return of DT_UNKNOWN.","date":"2014-08-14T20:00:24.651Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: true that","date":"2014-08-14T20:00:32.161Z","type":"message"}
{"nick":"saghul","message":"let me make a better patch","date":"2014-08-14T20:00:42.747Z","type":"message"}
{"nick":"tjfontaine","message":"so the whole interface of this needs to know how to handle interpreting the results","date":"2014-08-14T20:00:58.946Z","type":"message"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2014-08-14T20:01:06.646Z","type":"quit"}
{"nick":"euoia_","reason":"Ping timeout: 260 seconds","date":"2014-08-14T20:03:26.689Z","type":"quit"}
{"nick":"dignifiedquire","date":"2014-08-14T20:03:52.853Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: fyi, github is displaying the commits on https://github.com/joyent/node/pull/8110 out of order","date":"2014-08-14T20:05:08.448Z","type":"message"}
{"nick":"avalanche123","date":"2014-08-14T20:09:07.304Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T20:13:27.874Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T20:13:53.707Z","type":"join"}
{"nick":"jreyno40_","message":"saghul: So the buffer (b) being stack allocated then b = uv_buf_init((char *)tmp, bytes); where tmp is heap allocated shouldn’t be an issue? Meaning that (b) will be managed & the heap allocated data will still be there in the callback?","date":"2014-08-14T20:15:56.614Z","type":"message"}
{"nick":"saghul","message":"yes, sort of","date":"2014-08-14T20:16:53.564Z","type":"message"}
{"nick":"saghul","message":"you'll need to save a pointer to tmp somewhere if you want to free it","date":"2014-08-14T20:17:12.972Z","type":"message"}
{"nick":"saghul","message":"you can embed the uv_udp_send_t request in another struct, or use the data field, for example","date":"2014-08-14T20:17:42.353Z","type":"message"}
{"nick":"quijote","reason":"Ping timeout: 272 seconds","date":"2014-08-14T20:18:53.707Z","type":"quit"}
{"nick":"jreyno40_","message":"saghul: ahh, silly me. We were using the data field","date":"2014-08-14T20:20:36.801Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: to free it","date":"2014-08-14T20:20:40.677Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: I think https://github.com/joyent/node/pull/8110 is where I want it. when can I land it?","date":"2014-08-14T20:22:24.876Z","type":"message"}
{"nick":"a3f","date":"2014-08-14T20:22:30.564Z","type":"join"}
{"nick":"jreyno40_","message":"saghul: And it’s okay to free the uv_udp_send_t inside of the callback?","date":"2014-08-14T20:22:35.075Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: updated with extra bacon: https://gist.github.com/saghul/20236dbba12250e6f265","date":"2014-08-14T20:22:43.791Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: please give it a shot and I'll send a PR so that indutny and txdv also check it out","date":"2014-08-14T20:23:08.160Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: yes","date":"2014-08-14T20:23:28.616Z","type":"message"}
{"nick":"saghul","message":"after the callback you can dispose the request","date":"2014-08-14T20:23:45.194Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: wait, after?","date":"2014-08-14T20:25:34.017Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: we’re disposing it inside the callback","date":"2014-08-14T20:25:40.783Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: yeah, it's ok to do it inside, that's what I tried to say :-)","date":"2014-08-14T20:26:38.263Z","type":"message"}
{"nick":"saghul","message":"as in, libuv will no longer use it","date":"2014-08-14T20:26:45.464Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: oh, okay","date":"2014-08-14T20:27:02.387Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I was hoping you would say it wasn't","date":"2014-08-14T20:27:08.081Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: lol","date":"2014-08-14T20:27:12.760Z","type":"message"}
{"nick":"mikeal","date":"2014-08-14T20:29:04.825Z","type":"join"}
{"nick":"saghul","message":"jreyno40_: I suspect memory corruption, make sure you never reuse a request object by accident","date":"2014-08-14T20:29:05.320Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I do too; That was my first guess","date":"2014-08-14T20:29:19.113Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: I’ve just been unable to find any up to now","date":"2014-08-14T20:29:24.998Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: But I’ll keep looking; thank you","date":"2014-08-14T20:29:32.551Z","type":"message"}
{"nick":"saghul","message":"jreyno40_: you're welcome, I hope you can find it so we can solve it in case it's a problem in libuv","date":"2014-08-14T20:30:52.008Z","type":"message"}
{"nick":"jreyno40_","message":"saghul: Thanks, I’ll report back ^.^","date":"2014-08-14T20:31:13.492Z","type":"message"}
{"nick":"abraxas","date":"2014-08-14T20:31:27.473Z","type":"join"}
{"nick":"jreyno40_","reason":"Quit: jreyno40_","date":"2014-08-14T20:31:47.515Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T20:35:24.858Z","type":"quit"}
{"nick":"abraxas","reason":"Ping timeout: 260 seconds","date":"2014-08-14T20:35:57.261Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T20:36:31.462Z","type":"join"}
{"nick":"indutny","message":"saghul: LGTM","date":"2014-08-14T20:36:41.775Z","type":"message"}
{"nick":"indutny","message":"saghul: didn't know that solaris has now directory information","date":"2014-08-14T20:36:54.095Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2014-08-14T20:37:02.657Z","type":"quit"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T20:37:47.704Z","type":"quit"}
{"nick":"dsantiago","date":"2014-08-14T20:38:02.988Z","type":"join"}
{"nick":"brson","date":"2014-08-14T20:40:30.254Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 250 seconds","date":"2014-08-14T20:40:42.187Z","type":"quit"}
{"nick":"sh1mmer","date":"2014-08-14T20:41:51.034Z","type":"join"}
{"nick":"tjfontaine","message":"saghul: I will test it, it looks like it will work, though my question is why we aren't passing the rest of the types that the interface describes? certainly we will get requests to know about blk, chr, fifo, lnk, and sock as well?","date":"2014-08-14T20:42:26.535Z","type":"message"}
{"nick":"quijote","date":"2014-08-14T20:43:37.200Z","type":"join"}
{"nick":"avalanche123","date":"2014-08-14T20:44:29.775Z","type":"join"}
{"nick":"saghul","message":"tjfontaine: they can send pull requests :-)","date":"2014-08-14T20:44:48.279Z","type":"message"}
{"nick":"saghul","message":"indutny: oh, I thought you were afk, thanks!","date":"2014-08-14T20:45:15.438Z","type":"message"}
{"nick":"tjfontaine","message":"haha, I will send the PR","date":"2014-08-14T20:45:17.029Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: :-) ok, I'll make a PR and see if any jenkins bot complains, just in case","date":"2014-08-14T20:45:58.278Z","type":"message"}
{"nick":"jreyno40","date":"2014-08-14T20:46:04.861Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 260 seconds","date":"2014-08-14T20:48:28.193Z","type":"quit"}
{"nick":"sblom","date":"2014-08-14T20:48:50.790Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T20:49:24.361Z","type":"nick"}
{"nick":"tjfontaine","message":"saghul: we'll probably need to do similar work on the windows path as well, so people can write code that works on all the platforms :)","date":"2014-08-14T20:53:36.191Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: I checked the flags and there doesn't seen to be any which is not a \"file\"","date":"2014-08-14T20:55:56.971Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: tests pass on SmartOS. I'll land it in the morning, when I can have another look with a fresher brain, just in case I miss something","date":"2014-08-14T20:57:43.461Z","type":"message"}
{"nick":"saghul","message":"not it's time to watch Suits :-)","date":"2014-08-14T20:57:52.670Z","type":"message"}
{"nick":"saghul","message":"*now","date":"2014-08-14T20:57:55.435Z","type":"message"}
{"nick":"jreyno40","reason":"Quit: jreyno40","date":"2014-08-14T20:58:21.093Z","type":"quit"}
{"nick":"tjfontaine","message":"hehe fun show","date":"2014-08-14T20:59:14.505Z","type":"message"}
{"nick":"tjfontaine","message":"saghul: fwiw though, fs__stat_handle shows at least we know if it's a link","date":"2014-08-14T20:59:29.532Z","type":"message"}
{"nick":"saghul","message":"tjfontaine: ok, I'll look into that","date":"2014-08-14T20:59:48.387Z","type":"message"}
{"nick":"c4milo","date":"2014-08-14T21:00:40.031Z","type":"quit"}
{"nick":"dshaw_","date":"2014-08-14T21:03:00.058Z","type":"join"}
{"nick":"jgi","reason":"Quit: jgi","date":"2014-08-14T21:04:38.997Z","type":"quit"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-08-14T21:06:28.220Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-08-14T21:10:01.271Z","type":"join"}
{"nick":"wavded","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T21:19:17.794Z","type":"quit"}
{"nick":"jreyno40_","reason":"Quit: jreyno40_","date":"2014-08-14T21:20:43.068Z","type":"quit"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-08-14T21:25:31.701Z","type":"quit"}
{"nick":"wavded","date":"2014-08-14T21:25:49.250Z","type":"join"}
{"nick":"a_le","date":"2014-08-14T21:26:02.295Z","type":"join"}
{"nick":"andrehjr","reason":"Quit: Computer has gone to sleep.","date":"2014-08-14T21:26:29.938Z","type":"quit"}
{"nick":"jgi","date":"2014-08-14T21:28:00.277Z","type":"join"}
{"nick":"AvianFlu","date":"2014-08-14T21:29:28.988Z","type":"join"}
{"nick":"jreyno40_","date":"2014-08-14T21:29:34.168Z","type":"join"}
{"nick":"jreyno40_","reason":"Ping timeout: 250 seconds","date":"2014-08-14T21:34:00.170Z","type":"quit"}
{"nick":"wavded","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-08-14T21:40:30.571Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T21:44:29.970Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 244 seconds","date":"2014-08-14T21:48:37.969Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-08-14T21:52:48.598Z","type":"join"}
{"nick":"kellabyte","reason":"Quit: Connection closed for inactivity","date":"2014-08-14T21:56:22.838Z","type":"quit"}
{"nick":"bradleymeck_","date":"2014-08-14T21:56:56.017Z","type":"join"}
{"nick":"andrehjr","date":"2014-08-14T21:58:18.276Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 272 seconds","date":"2014-08-14T22:00:40.610Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2014-08-14T22:00:40.765Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-08-14T22:03:24.290Z","type":"quit"}
{"nick":"mikeal","date":"2014-08-14T22:05:42.871Z","type":"join"}
{"nick":"euoia_","date":"2014-08-14T22:14:02.355Z","type":"join"}
{"nick":"dshaw_1","date":"2014-08-14T22:15:08.674Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 240 seconds","date":"2014-08-14T22:16:44.858Z","type":"quit"}
{"nick":"jreyno40_","message":"saghul: Hey, does uv_udp_send automatically free the memory inside of the uv_buf passed to it?","date":"2014-08-14T22:19:56.826Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-08-14T22:23:53.587Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-08-14T22:25:12.311Z","type":"nick"}
{"nick":"bradleymeck","message":"jreyno40_: no","date":"2014-08-14T22:31:55.541Z","type":"message"}
{"nick":"jreyno40_","message":"bradleymeck: thanks","date":"2014-08-14T22:32:08.265Z","type":"message"}
{"nick":"abraxas","date":"2014-08-14T22:32:18.851Z","type":"join"}
{"nick":"janjongboom","date":"2014-08-14T22:32:24.169Z","type":"join"}
{"nick":"jreyno40_","message":"Okay, I may have an issue","date":"2014-08-14T22:35:00.248Z","type":"message"}
{"nick":"jreyno40_","message":"the request objects I’m malloc’ing (when calling uv_udp_send twice in a row) are each using the same memory","date":"2014-08-14T22:35:34.192Z","type":"message"}
{"nick":"abraxas","reason":"Ping timeout: 246 seconds","date":"2014-08-14T22:36:39.196Z","type":"quit"}
{"nick":"jreyno40_","date":"2014-08-14T22:37:12.012Z","type":"part"}
{"nick":"c4milo","date":"2014-08-14T22:42:05.824Z","type":"join"}
{"nick":"quijote","date":"2014-08-14T22:45:19.308Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-08-14T22:45:57.687Z","type":"nick"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-08-14T22:46:29.571Z","type":"quit"}
{"nick":"rendar","date":"2014-08-14T22:48:12.762Z","type":"quit"}
{"nick":"quijote","reason":"Ping timeout: 260 seconds","date":"2014-08-14T22:49:53.243Z","type":"quit"}
{"nick":"dap_1","date":"2014-08-14T23:14:31.759Z","type":"join"}
{"nick":"dap_","reason":"Read error: Connection reset by peer","date":"2014-08-14T23:14:33.765Z","type":"quit"}
{"nick":"dshaw_1","reason":"Read error: Connection reset by peer","date":"2014-08-14T23:28:37.733Z","type":"quit"}
{"nick":"dshaw_","date":"2014-08-14T23:28:44.468Z","type":"join"}
{"nick":"petka_","reason":"Quit: Connection closed for inactivity","date":"2014-08-14T23:36:23.017Z","type":"quit"}
{"nick":"dsantiago","reason":"Quit: Computer has gone to sleep.","date":"2014-08-14T23:38:14.569Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 250 seconds","date":"2014-08-14T23:45:18.195Z","type":"quit"}
{"nick":"quijote","date":"2014-08-14T23:46:05.924Z","type":"join"}
{"nick":"quijote","reason":"Ping timeout: 240 seconds","date":"2014-08-14T23:50:20.912Z","type":"quit"}
{"nick":"kaeso","reason":"Ping timeout: 240 seconds","date":"2014-08-14T23:50:33.757Z","type":"quit"}
{"nick":"kaeso","date":"2014-08-14T23:51:46.250Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-08-14T23:52:08.634Z","type":"quit"}
{"nick":"avalanche123","date":"2014-08-14T23:52:34.910Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-08-14T23:54:02.876Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2014-08-14T23:57:14.648Z","type":"quit"}
{"nick":"sh1mmer","date":"2014-08-14T23:58:36.996Z","type":"join"}

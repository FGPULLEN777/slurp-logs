{"nick":"ryah","message":"okay","date":"2011-11-23T00:04:11.388Z","type":"message"}
{"nick":"ryah","message":"igorzi, piscisaureus_: you guys probably have no idea - but im very stuck","date":"2011-11-23T00:04:28.660Z","type":"message"}
{"nick":"ryah","message":"heat.exe has this -var option","date":"2011-11-23T00:04:38.159Z","type":"message"}
{"nick":"ryah","message":"which allows you to specify a variable for the root of the tree..","date":"2011-11-23T00:04:50.849Z","type":"message"}
{"nick":"ryah","message":"without specifying it somehow it thinks all files come from \"SourceDir\"","date":"2011-11-23T00:05:06.603Z","type":"message"}
{"nick":"ryah","message":"whatever.","date":"2011-11-23T00:05:08.546Z","type":"message"}
{"nick":"ryah","message":"so i specify -var var.NPMSourceDir","date":"2011-11-23T00:05:17.571Z","type":"message"}
{"nick":"ryah","message":"and it correctly generates this","date":"2011-11-23T00:05:58.207Z","type":"message"}
{"nick":"ryah","message":" <File Id=\"fil98E70C0CDE5DA8DE026AE5C188255F6E\" KeyPath=\"yes\" Source=\"$(var.NPMSourceDir)\\AUTHORS\" />","date":"2011-11-23T00:05:59.265Z","type":"message"}
{"nick":"ryah","message":"(and other files)","date":"2011-11-23T00:06:05.131Z","type":"message"}
{"nick":"ryah","message":"how do i define this var.NPMSourceDIr during the build?","date":"2011-11-23T00:06:22.011Z","type":"message"}
{"nick":"igorzi","message":"ryah: see in product.wxs -   <?define sourcedir=\"$(var.ProjectDir)..\\..\\..\\$(var.Configuration)\\\" ?>","date":"2011-11-23T00:07:37.154Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-11-23T00:07:40.800Z","type":"message"}
{"nick":"igorzi","message":"can you defined it like that?","date":"2011-11-23T00:07:42.391Z","type":"message"}
{"nick":"ryah","message":"igorzi: i tried that in many places","date":"2011-11-23T00:08:04.877Z","type":"message"}
{"nick":"ryah","message":"but it doesn't get into the npm.wxs","date":"2011-11-23T00:08:10.445Z","type":"message"}
{"nick":"ryah","message":"somehow","date":"2011-11-23T00:08:11.976Z","type":"message"}
{"nick":"ryah","message":"igorzi: let me show you the diff i've got going","date":"2011-11-23T00:08:19.118Z","type":"message"}
{"nick":"piscisaureus_","action":"waves goodbye","date":"2011-11-23T00:11:05.989Z","type":"action"}
{"nick":"ryah","message":"igorzi: https://gist.github.com/063fe772827efd3f2428","date":"2011-11-23T00:11:32.221Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-23T00:12:05.768Z","type":"quit"}
{"nick":"ryah","message":"igorzi: i also tried /p:NPMSourceDir=blah","date":"2011-11-23T00:16:54.035Z","type":"message"}
{"nick":"ryah","message":"and <NPMSourceDir> in the PropertyGroup","date":"2011-11-23T00:17:12.079Z","type":"message"}
{"nick":"ryah","message":"grasping at straws obvious","date":"2011-11-23T00:17:22.345Z","type":"message"}
{"nick":"ryah","message":"ly","date":"2011-11-23T00:17:24.964Z","type":"message"}
{"nick":"igorzi","message":"ryah: <?define sourcedir=\"$(var.ProjectDir)..\\..\\..\\$(var.Configuration)\\\" ?> needs to be in npm.wxs somehow","date":"2011-11-23T00:17:49.198Z","type":"message"}
{"nick":"igorzi","message":"ryah; oh wait.. never mind","date":"2011-11-23T00:17:59.110Z","type":"message"}
{"nick":"ryah","message":"we could jsut .. sed it in there somehow.. ","date":"2011-11-23T00:18:21.944Z","type":"message"}
{"nick":"ryah","message":"but..","date":"2011-11-23T00:18:23.454Z","type":"message"}
{"nick":"ryah","message":"god.","date":"2011-11-23T00:18:25.875Z","type":"message"}
{"nick":"igorzi","message":"i can't seem to apply the patch.. what commit is it on top of?","date":"2011-11-23T00:19:19.112Z","type":"message"}
{"nick":"ryah","message":"7defbd27efe49850973f376c63cbf90ccb195468","date":"2011-11-23T00:22:44.438Z","type":"message"}
{"nick":"ryah","message":"i can rebase...","date":"2011-11-23T00:22:47.242Z","type":"message"}
{"nick":"ryah","message":"one se","date":"2011-11-23T00:22:49.828Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307npm-msi\u000f * r\u0002451d61c\u000f \u000310\u000f/ (4 files in 2 dirs)\u0002:\u000f WIP. Support installing npm in the .msi - http://git.io/QeJJHg","date":"2011-11-23T00:28:18.898Z","type":"message"}
{"nick":"ryah","message":"^-- igorzi ","date":"2011-11-23T00:28:40.428Z","type":"message"}
{"nick":"ryah","message":"igorzi: there is some documentation that suggests that if we use light.exe directly that it can be done","date":"2011-11-23T00:32:25.066Z","type":"message"}
{"nick":"ryah","message":"but presumably there's someway to get that variable defined...","date":"2011-11-23T00:32:36.622Z","type":"message"}
{"nick":"ryah","message":"through the msbuild...","date":"2011-11-23T00:32:43.274Z","type":"message"}
{"nick":"ryah","message":"or just have heat.exe put full paths there..","date":"2011-11-23T00:33:56.359Z","type":"message"}
{"nick":"igorzi","message":"ryah: i'll play with it now.. give me a few minutes","date":"2011-11-23T00:35:07.615Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2011-11-23T00:36:40.073Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2011-11-23T00:39:45.765Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-11-23T00:41:42.615Z","type":"join"}
{"nick":"igorzi","message":"ryah: i think replacing \"-var var.NPMSourceDir\" with \"-var NPMSourceDir\", and then defining <NPMSourceDir> in the <PropertyGroup> works","date":"2011-11-23T00:43:51.543Z","type":"message"}
{"nick":"igorzi","message":"(at least that got rid of the 'var.NPMSourceDir not defined' error","date":"2011-11-23T00:44:11.638Z","type":"message"}
{"nick":"erickt","date":"2011-11-23T00:44:56.155Z","type":"join"}
{"nick":"ryah","message":"igorzi: okay. trying that","date":"2011-11-23T00:45:33.214Z","type":"message"}
{"nick":"igorzi","message":"ryah: actually, that doesn't seem to work","date":"2011-11-23T00:54:56.903Z","type":"message"}
{"nick":"ryah","message":"C:\\Users\\ryan\\node\\npm.wxs(11): error CNDL0149: Ill-formed preprocessor variabl","date":"2011-11-23T00:56:28.303Z","type":"message"}
{"nick":"ryah","message":"e '$(NPMSourceDir)'.  Variables must have a prefix (like 'var.', 'env.', or 'sy","date":"2011-11-23T00:56:28.538Z","type":"message"}
{"nick":"ryah","message":"s.') and a name at least 1 character long. If the literal string '$(NPMSourceDi","date":"2011-11-23T00:56:28.538Z","type":"message"}
{"nick":"ryah","message":"r)' is desired, use '$$(NPMSourceDir)'. [C:\\Users\\ryan\\node\\tools\\msvs\\msi\\node","date":"2011-11-23T00:56:28.538Z","type":"message"}
{"nick":"ryah","message":"msi.wixproj]","date":"2011-11-23T00:56:30.981Z","type":"message"}
{"nick":"ryah","message":"igorzi: is there an advantage to using msbuild instead of light.exe and candle.exe directly?","date":"2011-11-23T01:00:16.476Z","type":"message"}
{"nick":"isaacs","message":"ryah: review?  updated npm to 1.1.0-alpha-2","date":"2011-11-23T01:00:23.271Z","type":"message"}
{"nick":"isaacs","message":"https://github.com/isaacs/node/commit/a386753651ef1d152b1f965355eaf0056c35e80d","date":"2011-11-23T01:00:24.961Z","type":"message"}
{"nick":"isaacs","message":"removed a bunch of stuff that's never used in production","date":"2011-11-23T01:00:38.088Z","type":"message"}
{"nick":"ryah","message":"isaacs: looks good to me","date":"2011-11-23T01:01:30.354Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2011-11-23T01:01:34.446Z","type":"message"}
{"nick":"isaacs","message":"pushing","date":"2011-11-23T01:01:37.206Z","type":"message"}
{"nick":"isaacs","message":"also sent a zip to npmjs.org/dist","date":"2011-11-23T01:02:02.029Z","type":"message"}
{"nick":"isaacs","message":"can be unzipped right in the node folder, for windows users","date":"2011-11-23T01:02:11.139Z","type":"message"}
{"nick":"ryah","message":"isaacs: have you tried the .pkg and 'make install' with npm yet?","date":"2011-11-23T01:02:31.588Z","type":"message"}
{"nick":"isaacs","message":"not yet.  trying that now","date":"2011-11-23T01:02:55.192Z","type":"message"}
{"nick":"ryah","message":"isaacs: i'd love to have a second pair of eyes on them before the release","date":"2011-11-23T01:02:57.042Z","type":"message"}
{"nick":"ryah","message":"isaacs: you can build the .pkg with 'make pkg'","date":"2011-11-23T01:03:10.362Z","type":"message"}
{"nick":"isaacs","message":"ryah: kewl","date":"2011-11-23T01:03:14.510Z","type":"message"}
{"nick":"isaacs","message":"ryah: where's `make install`?  on master?","date":"2011-11-23T01:03:20.178Z","type":"message"}
{"nick":"ryah","message":"isaacs: v0.6","date":"2011-11-23T01:03:27.040Z","type":"message"}
{"nick":"isaacs","message":"and that installs npm?","date":"2011-11-23T01:03:34.797Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-11-23T01:03:41.178Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2011-11-23T01:04:30.730Z","type":"message"}
{"nick":"isaacs","message":"trying","date":"2011-11-23T01:04:33.259Z","type":"message"}
{"nick":"igorzi","message":"ryah: msbuild is supposed to make it easier to use light.exe + candle.exe (at least according to my friend)","date":"2011-11-23T01:04:47.263Z","type":"message"}
{"nick":"ryah","message":"igorzi: okay - easier is better","date":"2011-11-23T01:05:06.127Z","type":"message"}
{"nick":"ryah","message":"igorzi: can you ask him about this preprocessor/heat problem?","date":"2011-11-23T01:05:31.761Z","type":"message"}
{"nick":"isaacs","message":"ryah: it should also symlink as npm-g and npm_g","date":"2011-11-23T01:06:25.540Z","type":"message"}
{"nick":"isaacs","message":"but that's just extra.","date":"2011-11-23T01:06:36.755Z","type":"message"}
{"nick":"isaacs","message":"looks pretty good, though","date":"2011-11-23T01:06:51.150Z","type":"message"}
{"nick":"isaacs","message":"installs are pretty easy when all your deps are bundled :)","date":"2011-11-23T01:07:04.976Z","type":"message"}
{"nick":"ryah","message":"yep","date":"2011-11-23T01:07:14.272Z","type":"message"}
{"nick":"isaacs","message":"v8 is building...","date":"2011-11-23T01:07:39.213Z","type":"message"}
{"nick":"igorzi","message":"ryah: yep","date":"2011-11-23T01:09:32.080Z","type":"message"}
{"nick":"isaacs","message":"hahaha, wow, that's a lot of green","date":"2011-11-23T01:12:58.825Z","type":"message"}
{"nick":"isaacs","message":"ryah: lgtm","date":"2011-11-23T01:13:00.725Z","type":"message"}
{"nick":"isaacs","message":"i'm gonna land this alpha-2 update, then","date":"2011-11-23T01:13:10.028Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00023ab15cd\u000f \u000310\u000f/ (139 files in 50 dirs)\u0002:\u000f Update npm to 1.1.0-alpha-2 - http://git.io/QR-RwA","date":"2011-11-23T01:13:54.441Z","type":"message"}
{"nick":"ryah","message":"isaacs: v0.6.3 is going out thursday at midnight","date":"2011-11-23T01:14:29.865Z","type":"message"}
{"nick":"ryah","message":"isaacs: fyi","date":"2011-11-23T01:14:33.347Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2011-11-23T01:16:44.374Z","type":"message"}
{"nick":"isaacs","message":"well, there isn't going to be another npm release before then, i don't think","date":"2011-11-23T01:16:54.629Z","type":"message"}
{"nick":"isaacs","message":"ryah: this one is looking pretty solid.","date":"2011-11-23T01:18:13.088Z","type":"message"}
{"nick":"ryah","message":"k","date":"2011-11-23T01:18:15.397Z","type":"message"}
{"nick":"igorzi","reason":"Ping timeout: 265 seconds","date":"2011-11-23T01:21:25.289Z","type":"quit"}
{"nick":"ryah","message":"im just going to sed this shit","date":"2011-11-23T01:23:52.846Z","type":"message"}
{"nick":"ryah","message":"god.","date":"2011-11-23T01:23:54.830Z","type":"message"}
{"nick":"igorzi","date":"2011-11-23T01:27:50.874Z","type":"join"}
{"nick":"igorzi","message":"ryah: figured it out","date":"2011-11-23T01:27:56.174Z","type":"message"}
{"nick":"igorzi","message":"it needs to go into <DefineConstants> (in nodemsi.wixproj)","date":"2011-11-23T01:28:21.332Z","type":"message"}
{"nick":"igorzi","message":"it fails now with this:","date":"2011-11-23T01:29:02.220Z","type":"message"}
{"nick":"igorzi","message":"light.exe : error LGHT0103: The system cannot find the file 'C:\\src\\reset\\node\\deps\\npm\\\\node_modules\\tar\\test\\fixtures\\r\\e\\a\\l\\l\\y\\-\\d\\e\\e\\p\\-\\f\\o\\l\\d\\e\\r\\-\\p\\a\\t\\h\\aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\\bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\\cccccccccccccccccccccccccccccccccccccccccccccccccc\\aaaaaaa.txt' with type ''. [C:\\src\\reset\\node\\tools\\msvs\\msi\\nodemsi.wixproj]","date":"2011-11-23T01:29:02.669Z","type":"message"}
{"nick":"igorzi","message":"but that's understandable :)","date":"2011-11-23T01:29:14.035Z","type":"message"}
{"nick":"isaacs","message":"hah!","date":"2011-11-23T01:29:17.592Z","type":"message"}
{"nick":"isaacs","message":"take THAT windows!@","date":"2011-11-23T01:29:19.531Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i just removed that file from node","date":"2011-11-23T01:29:31.223Z","type":"message"}
{"nick":"ryah","message":"igorzi: oh nice","date":"2011-11-23T01:31:42.323Z","type":"message"}
{"nick":"ryah","message":"igorzi: i was just about to put some sed hackery in there","date":"2011-11-23T01:32:18.395Z","type":"message"}
{"nick":"ryah","message":"igorzi: what's your <DefineConstants> line look like?","date":"2011-11-23T01:32:32.049Z","type":"message"}
{"nick":"igorzi","message":"ryah:     <DefineConstants>Debug;ProductVersion=$(NodeVersion);NPMSourceDir=..\\..\\..\\deps\\npm\\</DefineConstants>","date":"2011-11-23T01:35:30.162Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-23T01:37:12.159Z","type":"quit"}
{"nick":"ryah","message":"igorzi: -var var.NPMSourceDir ?","date":"2011-11-23T01:39:00.082Z","type":"message"}
{"nick":"ryah","message":"still doesnt work for me..","date":"2011-11-23T01:39:04.456Z","type":"message"}
{"nick":"igorzi","message":"what do you get?","date":"2011-11-23T01:39:23.123Z","type":"message"}
{"nick":"igorzi","message":"yes: -var var.NPMSourceDir","date":"2011-11-23T01:40:41.203Z","type":"message"}
{"nick":"ryah","message":"oh wait.. ok","date":"2011-11-23T01:41:19.456Z","type":"message"}
{"nick":"ryah","message":"got it - i put it in the wrong place","date":"2011-11-23T01:41:25.194Z","type":"message"}
{"nick":"ryah","message":"cool","date":"2011-11-23T01:41:25.893Z","type":"message"}
{"nick":"igorzi","message":"nice","date":"2011-11-23T01:43:36.347Z","type":"message"}
{"nick":"igorzi","message":"ryah isaacs: btw is laying the files out on disk enough?  do we need to run anything as part of the install?","date":"2011-11-23T01:44:29.837Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307npm-msi\u000f * r\u000246cbe6e\u000f \u000310\u000f/ (4 files in 2 dirs)\u0002:\u000f WIP. Support installing npm in the .msi - http://git.io/2fgBmw","date":"2011-11-23T01:45:33.616Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307npm-msi\u000f * r\u00024e9372d\u000f \u000310\u000f/ (tools/msvs/msi/nodemsi.wixproj vcbuild.bat)\u0002:\u000f Correctly replace NPMSourceDir - http://git.io/0BHsXA","date":"2011-11-23T01:45:33.858Z","type":"message"}
{"nick":"ryah","message":"igorzi: just putting there is good","date":"2011-11-23T01:45:42.868Z","type":"message"}
{"nick":"ryah","message":"igorzi: we need to somehow put the npm.cmd in the base directory","date":"2011-11-23T01:45:55.838Z","type":"message"}
{"nick":"ryah","message":"wow it worked :D","date":"2011-11-23T01:47:34.011Z","type":"message"}
{"nick":"ryah","message":"okay.. now for the .cmd...","date":"2011-11-23T01:47:47.705Z","type":"message"}
{"nick":"ryah","message":"maybe i'll have time to put the node logo in the msi","date":"2011-11-23T01:48:20.846Z","type":"message"}
{"nick":"ryah","message":"which is the kind of polish that people appriciate","date":"2011-11-23T01:48:44.177Z","type":"message"}
{"nick":"ryah","message":"just installed socket.io via the .msi :D","date":"2011-11-23T01:57:07.514Z","type":"message"}
{"nick":"igorzi","message":"sweet!","date":"2011-11-23T01:58:13.056Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u0002e5cf3f9\u000f \u000310\u000f/ (4 files in 2 dirs)\u0002:\u000f Fixes #2083. Support installing npm in the .msi - http://git.io/Bnq70Q","date":"2011-11-23T02:00:16.237Z","type":"message"}
{"nick":"ryah","message":"http://nodejs.org/dist/v0.6.3/node-v0.6.3.msi <-- ","date":"2011-11-23T02:00:46.558Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 244 seconds","date":"2011-11-23T02:00:57.157Z","type":"quit"}
{"nick":"igorzi","message":"the install is definitely not as fast anymore :)","date":"2011-11-23T02:02:19.936Z","type":"message"}
{"nick":"ryah","message":"yeah :(","date":"2011-11-23T02:02:51.325Z","type":"message"}
{"nick":"igorzi","message":"isaacs: https://gist.github.com/1387720","date":"2011-11-23T02:04:29.418Z","type":"message"}
{"nick":"ryah","message":"igorzi: create a bug for him on isaacs/npm","date":"2011-11-23T02:07:03.986Z","type":"message"}
{"nick":"ryah","message":"i think he left for school","date":"2011-11-23T02:07:17.453Z","type":"message"}
{"nick":"igorzi","message":"ryah: k","date":"2011-11-23T02:07:19.595Z","type":"message"}
{"nick":"igorzi","message":"ryah: i think windows devs will definitely appreciate this (msi installing node+npm)","date":"2011-11-23T02:13:03.606Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-11-23T02:16:41.110Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u0002055a933\u000f \u000310\u000f/ vcbuild.bat \u0002:\u000f Add exe and msi signing to vcbuild.bat - http://git.io/FR7lzA","date":"2011-11-23T02:17:39.132Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-11-23T02:18:17.969Z","type":"quit"}
{"nick":"ryah","message":"okay. now for some hot logo action.","date":"2011-11-23T02:25:26.463Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 255 seconds","date":"2011-11-23T02:34:14.359Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-11-23T02:59:35.435Z","type":"quit"}
{"nick":"ryah","message":"got the logos :D","date":"2011-11-23T03:14:28.763Z","type":"message"}
{"nick":"ryah","message":"http://tinyclouds.org/nodejs-msi.png","date":"2011-11-23T03:16:15.355Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u0002b906e85\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f Fixes #2076. Add logos to MSI - http://git.io/AICQWw","date":"2011-11-23T03:24:27.805Z","type":"message"}
{"nick":"ryah","message":"http://nodejs.org/dist/v0.6.3/node-v0.6.3-rc2.msi","date":"2011-11-23T03:26:55.493Z","type":"message"}
{"nick":"creationix","date":"2011-11-23T03:36:53.581Z","type":"join"}
{"nick":"creationix","reason":"Ping timeout: 244 seconds","date":"2011-11-23T04:08:28.352Z","type":"quit"}
{"nick":"creationix","date":"2011-11-23T04:21:47.855Z","type":"join"}
{"nick":"erickt","date":"2011-11-23T05:30:45.481Z","type":"join"}
{"nick":"AvianFlu","date":"2011-11-23T05:38:48.924Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-11-23T05:42:58.229Z","type":"quit"}
{"nick":"piscisaureus___","new_nick":"piscisaureus_","date":"2011-11-23T05:43:54.011Z","type":"nick"}
{"nick":"isaacs","date":"2011-11-23T05:54:08.531Z","type":"join"}
{"nick":"creationix","reason":"Ping timeout: 252 seconds","date":"2011-11-23T06:10:17.402Z","type":"quit"}
{"nick":"mikeal","date":"2011-11-23T06:23:12.282Z","type":"join"}
{"nick":"paddybyers","date":"2011-11-23T06:53:06.071Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2011-11-23T07:06:14.681Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-11-23T07:37:15.197Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-11-23T08:18:51.509Z","type":"quit"}
{"nick":"kuebk","date":"2011-11-23T08:35:38.620Z","type":"join"}
{"nick":"paddybyers","date":"2011-11-23T08:46:44.044Z","type":"join"}
{"nick":"raggi","reason":"Read error: Connection reset by peer","date":"2011-11-23T11:05:58.224Z","type":"quit"}
{"nick":"raggi_","date":"2011-11-23T11:06:08.976Z","type":"join"}
{"nick":"bnoordhuis","date":"2011-11-23T11:29:51.057Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: ping","date":"2011-11-23T11:41:11.267Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2011-11-23T11:55:39.476Z","type":"quit"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002ce3ccc8\u000f \u000310\u000f/ Makefile \u0002:\u000f build: fix circular dependency in doc target - http://git.io/KVu88Q","date":"2011-11-23T11:56:46.770Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u000216889e2\u000f \u000310\u000f/ doc/api/dgram.markdown \u0002:\u000f docs: fix dgram markdown - http://git.io/7c6kig","date":"2011-11-23T11:56:47.004Z","type":"message"}
{"nick":"piscisaureus__","date":"2011-11-23T12:14:53.063Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus__: ping","date":"2011-11-23T12:16:50.062Z","type":"message"}
{"nick":"piscisaureus__","message":"bnoordhuis: ping","date":"2011-11-23T12:17:15.288Z","type":"message"}
{"nick":"piscisaureus__","new_nick":"piscisaureus","date":"2011-11-23T12:17:23.664Z","type":"nick"}
{"nick":"bnoordhuis","message":"yo homie","date":"2011-11-23T12:17:27.579Z","type":"message"}
{"nick":"piscisaureus","message":"sup","date":"2011-11-23T12:17:31.956Z","type":"message"}
{"nick":"bnoordhuis","message":"sup sup","date":"2011-11-23T12:17:39.091Z","type":"message"}
{"nick":"piscisaureus","message":"yo oma","date":"2011-11-23T12:17:42.576Z","type":"message"}
{"nick":"bnoordhuis","message":"can you run libuv's thread_create benchmark?","date":"2011-11-23T12:17:58.164Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm curious what numbers you get","date":"2011-11-23T12:18:04.813Z","type":"message"}
{"nick":"piscisaureus","message":"building libuv is so nice n fast","date":"2011-11-23T12:20:14.293Z","type":"message"}
{"nick":"piscisaureus","message":"how long does that run?","date":"2011-11-23T12:20:33.908Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: 4214/s","date":"2011-11-23T12:21:16.261Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but the processor is not maxing out","date":"2011-11-23T12:21:25.680Z","type":"message"}
{"nick":"piscisaureus","message":"it's running at 2% cpu or something","date":"2011-11-23T12:21:31.940Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: it creates threads serially","date":"2011-11-23T12:22:01.204Z","type":"message"}
{"nick":"bnoordhuis","message":"i get about 26000/s btw","date":"2011-11-23T12:22:16.678Z","type":"message"}
{"nick":"bnoordhuis","message":"and only 80/s on windows xp :/","date":"2011-11-23T12:22:26.832Z","type":"message"}
{"nick":"piscisaureus","message":"let me try to figure it out","date":"2011-11-23T12:24:27.447Z","type":"message"}
{"nick":"piscisaureus","message":"but first lunch","date":"2011-11-23T12:24:31.477Z","type":"message"}
{"nick":"bnoordhuis","message":"100000 threads created in 3.70 seconds (26998/s) <- sunos is no slouch either","date":"2011-11-23T12:26:01.061Z","type":"message"}
{"nick":"bnoordhuis","message":"bon appetite, piscisaureus","date":"2011-11-23T12:26:10.568Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00021db9a2a\u000f \u000310\u000f/ Makefile \u0002:\u000f build: print \"not yet implemented\" warning on `make install` - http://git.io/L1caYQ","date":"2011-11-23T12:28:53.122Z","type":"message"}
{"nick":"creationix","date":"2011-11-23T12:45:17.639Z","type":"join"}
{"nick":"piscisaureus","message":"bnoordhuis: what's the difference between Handle<T> and Local<T>","date":"2011-11-23T14:40:10.569Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-11-23T14:40:11.198Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: handle is the superclass of local and persistent","date":"2011-11-23T14:53:43.743Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: changed jobs again?","date":"2011-11-23T14:54:43.304Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: quick question, why isn't `handle->fd` initialized in `uv_udp_init()`? If it were then we could setsockopt all day before `uv__bind()`, no?","date":"2011-11-23T15:39:36.814Z","type":"message"}
{"nick":"bnoordhuis","message":"wankdanker: it's a long story...","date":"2011-11-23T15:40:30.196Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: i figured that might be that case.","date":"2011-11-23T15:40:43.957Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: ok, i won't climb that tree then","date":"2011-11-23T15:41:22.496Z","type":"message"}
{"nick":"bnoordhuis","message":"wankdanker: it's for feature parity with the uv_tcp functions","date":"2011-11-23T15:41:26.090Z","type":"message"}
{"nick":"bnoordhuis","message":"why those functions do it like that, well... ask ryah or piscisaureus","date":"2011-11-23T15:41:48.069Z","type":"message"}
{"nick":"wankdanker","message":"how much effort is required in your lazy socket creation concept?","date":"2011-11-23T15:43:11.032Z","type":"message"}
{"nick":"wankdanker","message":"(just out of curiosity)","date":"2011-11-23T15:43:23.415Z","type":"message"}
{"nick":"bnoordhuis","message":"wankdanker: effort for what?","date":"2011-11-23T15:43:44.195Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: for `revisiting` it as you mentioned in pull request 255. and possibly implementing the changes also.","date":"2011-11-23T15:45:08.245Z","type":"message"}
{"nick":"wankdanker","message":"bnoordhuis: i have no idea what is involved, so i was just curious","date":"2011-11-23T15:45:27.930Z","type":"message"}
{"nick":"piscisaureus","message":"the reasons sockets are created lazily is because we don't know what the address family is going to be","date":"2011-11-23T15:45:37.996Z","type":"message"}
{"nick":"piscisaureus","message":"because uv_tcp_init does not take an af argument","date":"2011-11-23T15:45:58.022Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: we do for dgram sockets in node","date":"2011-11-23T15:46:03.365Z","type":"message"}
{"nick":"bnoordhuis","message":"wankdanker: not hard for udp","date":"2011-11-23T15:46:25.668Z","type":"message"}
{"nick":"wankdanker","message":"cool. thanks guys.","date":"2011-11-23T15:47:53.434Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: :)","date":"2011-11-23T15:50:53.070Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so what is your new job?","date":"2011-11-23T15:51:12.432Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: build/development tools engineer at Yandex","date":"2011-11-23T15:52:31.039Z","type":"message"}
{"nick":"piscisaureus","message":"ah ok","date":"2011-11-23T15:54:53.966Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: got bored with Nodejitsu?","date":"2011-11-23T15:55:19.091Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: of course, not!","date":"2011-11-23T15:55:42.816Z","type":"message"}
{"nick":"indutny","message":"they're awesome","date":"2011-11-23T15:55:46.116Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: but?","date":"2011-11-23T15:58:24.716Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: having some social garantees and medical insurance is always good :)","date":"2011-11-23T16:00:10.314Z","type":"message"}
{"nick":"indutny","message":"and hard to get if your employer is in another country","date":"2011-11-23T16:00:24.454Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, makes sense","date":"2011-11-23T16:00:37.534Z","type":"message"}
{"nick":"indutny","message":"I'm not saying that I stopped working at Nodejitsu","date":"2011-11-23T16:01:05.378Z","type":"message"}
{"nick":"indutny","message":"anyway it's a big pleasure for me to colaborate with you, guys :)","date":"2011-11-23T16:03:58.712Z","type":"message"}
{"nick":"kuebk","date":"2011-11-23T16:07:40.122Z","type":"part"}
{"nick":"piscisaureus","message":"bnoordhuis: are you coming to amsterdam today or has that been cancelled?","date":"2011-11-23T16:10:37.396Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: no, but it's next week","date":"2011-11-23T16:10:57.582Z","type":"message"}
{"nick":"piscisaureus","message":"ah so I see","date":"2011-11-23T16:11:03.502Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: you should send me invites for this kind of stuff","date":"2011-11-23T16:11:25.880Z","type":"message"}
{"nick":"piscisaureus","message":"I have no memory, just outlook","date":"2011-11-23T16:11:32.388Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i'll see what i can do...","date":"2011-11-23T16:11:59.168Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002b52b8c7\u000f \u000310\u000f/ (8 files in 5 dirs)\u0002:\u000f util: add uv_strlcpy() and uv_strlcat() functions - http://git.io/JrjUSg","date":"2011-11-23T16:30:49.818Z","type":"message"}
{"nick":"sh1mmer","date":"2011-11-23T16:55:38.099Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-23T16:58:41.682Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-23T17:00:46.308Z","type":"join"}
{"nick":"mikeal","date":"2011-11-23T17:03:29.077Z","type":"join"}
{"nick":"dap","date":"2011-11-23T17:08:16.586Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2011-11-23T17:20:12.066Z","type":"quit"}
{"nick":"erickt","date":"2011-11-23T17:42:07.062Z","type":"join"}
{"nick":"isaacs","new_nick":"izs","date":"2011-11-23T17:48:27.368Z","type":"nick"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2011-11-23T17:54:13.707Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-11-23T17:57:49.155Z","type":"join"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303seebees\u000f \u000307master\u000f * r\u000259f9a73\u000f \u000310\u000f/ (test/test-list.h test/test-spawn.c)\u0002:\u000f test: process should not wait for stdio before terminating - http://git.io/hC_LiQ","date":"2011-11-23T18:08:08.584Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000296c2303\u000f \u000310\u000f/ src/unix/internal.h \u0002:\u000f linux: fix build when compiling with -std=c89 -pedantic - http://git.io/Y3OG1g","date":"2011-11-23T18:08:08.988Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002ef811b1\u000f \u000310\u000f/ src/unix/internal.h \u0002:\u000f Merge branch 'v0.6' - http://git.io/r1JhRA","date":"2011-11-23T18:08:09.418Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u000296c2303\u000f \u000310\u000f/ src/unix/internal.h \u0002:\u000f linux: fix build when compiling with -std=c89 -pedantic - http://git.io/Y3OG1g","date":"2011-11-23T18:08:14.197Z","type":"message"}
{"nick":"creationix","reason":"Ping timeout: 244 seconds","date":"2011-11-23T18:20:27.261Z","type":"quit"}
{"nick":"piscisaureus","message":"bnoordhuis: igorzi: ryah: what is our current policy on uv_xxx_init and the the `data` member?","date":"2011-11-23T18:32:22.828Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: don't touch","date":"2011-11-23T18:32:39.392Z","type":"message"}
{"nick":"creationix","date":"2011-11-23T18:32:46.178Z","type":"join"}
{"nick":"piscisaureus","message":"init functions are *guaranteed* to not touch the data event?","date":"2011-11-23T18:32:47.066Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-11-23T18:32:53.277Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-23T18:36:33.218Z","type":"quit"}
{"nick":"piscisaureus","message":"I assume we are not having a call today?","date":"2011-11-23T18:49:56.498Z","type":"message"}
{"nick":"piscisaureus","message":"I believe the americans are out?","date":"2011-11-23T18:50:04.586Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: no, the americans are out on thursday","date":"2011-11-23T18:55:00.313Z","type":"message"}
{"nick":"mikeal","date":"2011-11-23T19:09:16.057Z","type":"join"}
{"nick":"igorzi_","date":"2011-11-23T19:09:18.860Z","type":"join"}
{"nick":"igorzi","reason":"Ping timeout: 265 seconds","date":"2011-11-23T19:11:30.974Z","type":"quit"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-11-23T19:23:32.749Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: have you fixed that process.stdin bug?","date":"2011-11-23T19:36:31.251Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: no","date":"2011-11-23T19:36:57.043Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, is there a call today?","date":"2011-11-23T19:37:05.667Z","type":"message"}
{"nick":"igorzi_","message":"bnoordhuis: we're already 40 min passed the usual time.. so i guess no","date":"2011-11-23T19:38:48.932Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: bnoordhuis: ryah is not here today","date":"2011-11-23T19:45:04.560Z","type":"message"}
{"nick":"piscisaureus","message":"if anyone wants to call we can do that","date":"2011-11-23T19:45:12.569Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: sure - anyone got anything interesting to tell?","date":"2011-11-23T19:45:25.855Z","type":"message"}
{"nick":"piscisaureus","message":"nah, not really","date":"2011-11-23T19:45:33.407Z","type":"message"}
{"nick":"bnoordhuis","message":"i saw a kitten today","date":"2011-11-23T19:45:44.009Z","type":"message"}
{"nick":"piscisaureus","message":"i work on domains today","date":"2011-11-23T19:45:59.182Z","type":"message"}
{"nick":"bnoordhuis","message":"isolates here","date":"2011-11-23T19:46:05.618Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_: what about you?","date":"2011-11-23T19:46:11.292Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: that long filenames patch - did that land?","date":"2011-11-23T19:46:26.829Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: also, prepending \\\\?\\ makes the path unparsed","date":"2011-11-23T19:46:46.675Z","type":"message"}
{"nick":"piscisaureus","message":"but I do not really know what that means","date":"2011-11-23T19:46:55.936Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: still working on that patch","date":"2011-11-23T19:48:32.374Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: i'll send it to you for another review soon","date":"2011-11-23T19:48:51.795Z","type":"message"}
{"nick":"felixge","date":"2011-11-23T19:58:11.906Z","type":"join"}
{"nick":"paddybyers","date":"2011-11-23T20:03:09.064Z","type":"join"}
{"nick":"wankdanker","reason":"Ping timeout: 248 seconds","date":"2011-11-23T20:08:48.103Z","type":"quit"}
{"nick":"igorzi_","message":"piscisaureus: https://gist.github.com/1389807","date":"2011-11-23T20:30:32.075Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: ^-- pls review","date":"2011-11-23T20:30:42.451Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: will do. have to run now to get to the shop before it closes","date":"2011-11-23T20:34:33.514Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: k, sounds good","date":"2011-11-23T20:35:40.100Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 240 seconds","date":"2011-11-23T20:43:35.070Z","type":"quit"}
{"nick":"izs","reason":"Read error: Connection reset by peer","date":"2011-11-23T20:48:01.767Z","type":"quit"}
{"nick":"isaacs","date":"2011-11-23T20:48:14.348Z","type":"join"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307isolates\u000f * r\u00028ebe08a\u000f \u000310\u000f/ (4 files)\u0002:\u000f isolates: add atexit() functionality for isolates - http://git.io/XP4rdw","date":"2011-11-23T20:51:26.620Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307isolates\u000f * r\u000267077b0\u000f \u000310\u000f/ (18 files in 2 dirs)\u0002:\u000f isolates: isolate-ify the main loop - http://git.io/GcdroQ","date":"2011-11-23T20:51:28.559Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307isolates\u000f * r\u00022b0bdc8\u000f \u000310\u000f/ (src/node.cc src/node_isolate.cc)\u0002:\u000f isolates: add _newIsolate() and _joinIsolate() to process object - http://git.io/LhcUMA","date":"2011-11-23T20:51:29.121Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307isolates\u000f * r\u00024b86c0c\u000f \u000310\u000f/ (21 files in 7 dirs)\u0002:\u000f uv: upgrade to ef811b1 - http://git.io/aTbxNw","date":"2011-11-23T20:51:30.298Z","type":"message"}
{"nick":"piscisaureus","date":"2011-11-23T20:57:30.020Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-23T20:57:47.458Z","type":"quit"}
{"nick":"piscisaureus","message":"igorzi_: question","date":"2011-11-23T20:59:50.721Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: how does this work with relative paths","date":"2011-11-23T21:00:01.894Z","type":"message"}
{"nick":"piscisaureus","message":"and drive-relative paths like c:..\\foo.txt","date":"2011-11-23T21:00:15.796Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: also, does it still accept forward slashes?","date":"2011-11-23T21:01:52.257Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: I only prepend \\\\?\\ if the path is not relative (so paths like foo\\bar or c:..\\foo.txt will not get \\\\?\\)","date":"2011-11-23T21:03:13.557Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: forward slashes.. i just ran node tests with this, and a bunch are broken because of forward slashes","date":"2011-11-23T21:04:00.314Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: so what about c:\\foobar\\..\\windows?","date":"2011-11-23T21:04:11.935Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: if the path consists entirely of forward slashes.. it'll work (because i don't add the prefix).. if the path contains both backword and forward slashes - we're broken (this is why node tests are failing)","date":"2011-11-23T21:05:05.583Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: hmm.. i kind of think now that we should probably punt on this in libuv","date":"2011-11-23T21:05:24.414Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: too many special cases to take care of","date":"2011-11-23T21:05:47.215Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: I'd like it to be fixed in libuv","date":"2011-11-23T21:05:49.099Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: but maybe we can get a quick fix in node in place","date":"2011-11-23T21:06:04.068Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: we have to scan the entire path for ., .., forward slashes","date":"2011-11-23T21:06:13.429Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: not super optimal","date":"2011-11-23T21:06:25.373Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: path.resolve does all preprocessing you'll ever want (except for the c:../path case under some circumstances - that should be easy to fix though)","date":"2011-11-23T21:06:42.554Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: maybe we can temporarily fix this in node","date":"2011-11-23T21:06:49.878Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: does path resolve do c:\\foobar\\..\\windows ?","date":"2011-11-23T21:08:04.084Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: yep","date":"2011-11-23T21:10:20.967Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: it also turns / into \\, squashes multiple backslashes etc","date":"2011-11-23T21:10:36.690Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: and it resolves relative paths","date":"2011-11-23T21:10:42.764Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: the only problem that's there is that if the current directory is on c: and you resolve d:..\\bla it does not work correctly","date":"2011-11-23T21:11:20.381Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: so, maybe we should add this logic (prepend \\\\?\\) to path.resolve on windows?  and have fs functions on windows call path.resolve before calling into fs binding?","date":"2011-11-23T21:11:20.715Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: don't hack path.resolve","date":"2011-11-23T21:11:52.873Z","type":"message"}
{"nick":"piscisaureus","message":"instead add another function (unexported) that calls path.resolve and then prepends \\\\?","date":"2011-11-23T21:12:17.795Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: we have to do a lot of what path.resolve does before we can prepend \\\\?\\","date":"2011-11-23T21:12:26.296Z","type":"message"}
{"nick":"piscisaureus","message":"and call that before going to the fs binding","date":"2011-11-23T21:12:26.819Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: ok, sounds good","date":"2011-11-23T21:12:38.466Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi yeab, but it can just be:","date":"2011-11-23T21:13:19.776Z","type":"message"}
{"nick":"piscisaureus","message":"function _makeLong(p) {","date":"2011-11-23T21:13:20.014Z","type":"message"}
{"nick":"piscisaureus","message":"  return \"\\\\?\\\"+ path.resolve(p)","date":"2011-11-23T21:13:20.014Z","type":"message"}
{"nick":"piscisaureus","message":";}","date":"2011-11-23T21:13:20.014Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: yeah, i think we're in agreement on that","date":"2011-11-23T21:14:41.342Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: i was just thinking that it might be beneficial for path.resolve to auto resolve to a ext. path, but that's probably not the case","date":"2011-11-23T21:15:27.190Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: nah, people will get really confused when they see \\\\?\\ in a path","date":"2011-11-23T21:16:09.130Z","type":"message"}
{"nick":"piscisaureus","message":"I'd rather keep this internal","date":"2011-11-23T21:16:15.061Z","type":"message"}
{"nick":"piscisaureus","message":"https://github.com/joyent/node/blob/master/lib/path.js#L126-130 <-- needs fix","date":"2011-11-23T21:18:18.691Z","type":"message"}
{"nick":"isaacs","new_nick":"izs","date":"2011-11-23T21:22:03.847Z","type":"nick"}
{"nick":"igorzi_","message":"piscisaureus: calling path.resolve on every fs call (that takes a path) also seem like an overkill, no?","date":"2011-11-23T21:33:47.710Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: yes, a little","date":"2011-11-23T21:34:19.182Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: but I think for a while it's fine","date":"2011-11-23T21:34:28.163Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: why not let people handle it them-selves if they need/want?","date":"2011-11-23T21:34:28.399Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: well","date":"2011-11-23T21:34:49.554Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: we can add path.makeLong for convenience (so that people don't have to figure out how to do it)","date":"2011-11-23T21:35:04.918Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: the majority of people (probably 99%) will not need it.. so why make them pay the penalty?","date":"2011-11-23T21:35:42.957Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: https://github.com/joyent/node/issues/618","date":"2011-11-23T21:35:51.488Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: also, I don't think the penalty is really that big","date":"2011-11-23T21:36:42.375Z","type":"message"}
{"nick":"piscisaureus","message":"if it is, we should move it to c :-)","date":"2011-11-23T21:36:48.277Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: but what did you want to propose, how should people handle it themselves?","date":"2011-11-23T21:37:23.320Z","type":"message"}
{"nick":"izs","message":"igorzi_, piscisaureus hey","date":"2011-11-23T21:37:25.931Z","type":"message"}
{"nick":"izs","message":"line endings in package.json files.","date":"2011-11-23T21:37:29.715Z","type":"message"}
{"nick":"izs","message":"should be \\r\\n on windows?  or \\n everywhere?","date":"2011-11-23T21:37:37.940Z","type":"message"}
{"nick":"piscisaureus","message":"izs: *shrug* I don't really care","date":"2011-11-23T21:37:58.312Z","type":"message"}
{"nick":"izs","message":"JSON.stringify spits out \\n, so it'd be an extra step.","date":"2011-11-23T21:38:01.224Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: same way as with win32 api","date":"2011-11-23T21:38:04.574Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: if you want long paths - prepend \\\\?\\ or \\\\?\\unc\\","date":"2011-11-23T21:38:23.978Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: and will give you a convenience function that will do it","date":"2011-11-23T21:38:37.982Z","type":"message"}
{"nick":"igorzi_","message":"izs: maybe just do \\n and see if you get issues for that?","date":"2011-11-23T21:40:43.837Z","type":"message"}
{"nick":"piscisaureus","message":"izs: +1 for igorzi_'s solution","date":"2011-11-23T21:40:58.051Z","type":"message"}
{"nick":"izs","message":"igorzi_: i did get an issue on it: https://github.com/isaacs/npm/issues/1767","date":"2011-11-23T21:40:59.354Z","type":"message"}
{"nick":"piscisaureus","message":"izs: I see you already decided","date":"2011-11-23T21:42:01.511Z","type":"message"}
{"nick":"igorzi_","message":"izs: ohh :)  you should probably do \\r\\n then, cause you'll probably get more issues on it","date":"2011-11-23T21:42:06.526Z","type":"message"}
{"nick":"izs","message":"piscisaureus: i decided based on the lack of outrage from you and igor","date":"2011-11-23T21:42:19.382Z","type":"message"}
{"nick":"izs","message":"you're my windows developer litmus testers :)","date":"2011-11-23T21:42:36.169Z","type":"message"}
{"nick":"piscisaureus","message":"izs: in a way I can see the point of using \\r\\n","date":"2011-11-23T21:42:53.655Z","type":"message"}
{"nick":"izs","message":"if i suggest something, and you say \"WHAT!!?  YOURE USING \\n FOR JSON FILES!!!???\" then i know it's a problem.","date":"2011-11-23T21:42:54.732Z","type":"message"}
{"nick":"izs","message":"piscisaureus: the problem is that it's an annoying extra stem.","date":"2011-11-23T21:43:10.494Z","type":"message"}
{"nick":"izs","message":"*step","date":"2011-11-23T21:43:12.125Z","type":"message"}
{"nick":"piscisaureus","message":"izs: yeha","date":"2011-11-23T21:43:17.941Z","type":"message"}
{"nick":"izs","message":"and if someone opens your package.json in vim on a mac, then it'll be all ^M'ed up","date":"2011-11-23T21:43:27.111Z","type":"message"}
{"nick":"piscisaureus","message":"izs: exactly","date":"2011-11-23T21:43:35.117Z","type":"message"}
{"nick":"igorzi_","message":"izs: i use notepad++, so it doesn't bother me.. but you'll probably get a bunch of issues from people using notepad","date":"2011-11-23T21:43:37.534Z","type":"message"}
{"nick":"izs","message":"i'd rather just make *everything* use \\n, everywhere, and even crash if i detect a \\r in a json or config file, and force windows users to use a proper editor.","date":"2011-11-23T21:44:00.832Z","type":"message"}
{"nick":"piscisaureus","message":"what about microsoft fixes fucking notepad","date":"2011-11-23T21:44:13.532Z","type":"message"}
{"nick":"izs","message":"seriously, who codes in notepad?  i did that for like a week when i started programming.","date":"2011-11-23T21:44:14.112Z","type":"message"}
{"nick":"izs","message":"in my *intro* windows programming course in college, we built a notepad replacement that was significantly better than notepad.","date":"2011-11-23T21:44:45.419Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: tell your boss' boss that I will fix nodepad.exe completely for free","date":"2011-11-23T21:44:52.151Z","type":"message"}
{"nick":"igorzi_","message":"well, there's a reason for notepad++ :)","date":"2011-11-23T21:45:12.434Z","type":"message"}
{"nick":"izs","message":"doesn't notepad++ have a way to replace notepad entirely?","date":"2011-11-23T21:45:25.497Z","type":"message"}
{"nick":"izs","message":"can we just shove that into the node msi installer?","date":"2011-11-23T21:45:32.175Z","type":"message"}
{"nick":"piscisaureus","message":"it should, but it doesn't","date":"2011-11-23T21:45:35.652Z","type":"message"}
{"nick":"izs","message":"i thought it did","date":"2011-11-23T21:45:39.555Z","type":"message"}
{"nick":"piscisaureus","message":"ghehe","date":"2011-11-23T21:45:40.381Z","type":"message"}
{"nick":"piscisaureus","message":"doesn't for me","date":"2011-11-23T21:45:45.882Z","type":"message"}
{"nick":"piscisaureus","message":"nodepad++ is also somewhat buggy","date":"2011-11-23T21:45:54.981Z","type":"message"}
{"nick":"izs","message":"there was some trick involving replacing it in 3 places, and a registry change, and two restarts.","date":"2011-11-23T21:45:58.057Z","type":"message"}
{"nick":"izs","message":"so that windows didnt' detect the change and switch it back.","date":"2011-11-23T21:46:08.211Z","type":"message"}
{"nick":"izs","action":"reminiscing about being a window script kiddie...","date":"2011-11-23T21:46:35.929Z","type":"action"}
{"nick":"igorzi_","message":"izs: package.json that ends up in the registry must have \\n, right?  so theoretically you could convert \\r\\n -> \\n when publishing? (but that's probably too much hassle)","date":"2011-11-23T21:48:48.654Z","type":"message"}
{"nick":"izs","message":"igorzi_: no, couch stores the data, not the json string.","date":"2011-11-23T21:49:06.475Z","type":"message"}
{"nick":"izs","message":"so it all gets reformatted anyway","date":"2011-11-23T21:49:14.327Z","type":"message"}
{"nick":"izs","message":"i see \\r as a blocker preventing windows users from integrating.","date":"2011-11-23T21:49:44.859Z","type":"message"}
{"nick":"izs","message":"you're not going to ever get the unix world to use a two-byte line ending.","date":"2011-11-23T21:50:10.326Z","type":"message"}
{"nick":"izs","message":"i think history has spoken, and \\r\\n has to go.","date":"2011-11-23T21:50:25.832Z","type":"message"}
{"nick":"piscisaureus","message":"izs: does the json parser not choke on \\r?","date":"2011-11-23T21:50:26.071Z","type":"message"}
{"nick":"izs","message":"piscisaureus: json treats [\\r\\n\\s\\t] all the same.","date":"2011-11-23T21:50:41.139Z","type":"message"}
{"nick":"izs","message":"any whitespace is ignored.","date":"2011-11-23T21:50:44.916Z","type":"message"}
{"nick":"piscisaureus","message":"izs: ah ok good","date":"2011-11-23T21:50:51.672Z","type":"message"}
{"nick":"izs","message":"so, if you write your package.json in notepad, and it has \\r or whatever, fine.","date":"2011-11-23T21:51:03.179Z","type":"message"}
{"nick":"izs","message":"but the quesion is whether npm init should *write* a package.json with \\r\\n in it","date":"2011-11-23T21:51:13.689Z","type":"message"}
{"nick":"piscisaureus","message":"izs: yeah I see","date":"2011-11-23T21:51:19.277Z","type":"message"}
{"nick":"izs","message":"i'm all for legalizing drugs.  not so much for handing out crack to children.  you know?","date":"2011-11-23T21:51:38.818Z","type":"message"}
{"nick":"izs","message":"you wanna ruin your life with \\r line endings, that's your own deal.  i'm just torn about helping you do that.","date":"2011-11-23T21:52:15.610Z","type":"message"}
{"nick":"piscisaureus","message":"izs: I am all for educating children","date":"2011-11-23T21:53:18.707Z","type":"message"}
{"nick":"piscisaureus","message":"izs: the question is just whether you should start when they're 1","date":"2011-11-23T21:53:40.825Z","type":"message"}
{"nick":"piscisaureus","message":"or if you can let them play for some time","date":"2011-11-23T21:53:51.388Z","type":"message"}
{"nick":"piscisaureus","message":"izs: I might change my mind at some point about package.json ... but not yet :-)","date":"2011-11-23T21:54:40.638Z","type":"message"}
{"nick":"igorzi_","message":"izs: the problem is that some people don't even know '\\n' vs. '\\r\\n'.. all they know is that their editor doesn't show the well-formatted package.json.. i don't know how many people like that will use npm to create new modules..","date":"2011-11-23T21:55:07.996Z","type":"message"}
{"nick":"izs","message":"well... and if they do, they'll almost certainly use npm init","date":"2011-11-23T21:55:32.079Z","type":"message"}
{"nick":"izs","message":"the question is how many will use npm init, and THEN open it up in an editor :)","date":"2011-11-23T21:55:42.338Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: so, what's the consensus on the long paths?  i don't really care either way.. you want it to be done auto-magically?","date":"2011-11-23T21:56:42.153Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: yeah, I think so","date":"2011-11-23T21:59:01.302Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: a quick benchmark reveals that node can resolve about 500.000 paths per seconds","date":"2011-11-23T21:59:37.957Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: if that turns out to be a problem then we can move it to c (or optimize the js code)","date":"2011-11-23T22:00:45.630Z","type":"message"}
{"nick":"piscisaureus","message":"and get 10x","date":"2011-11-23T22:00:48.648Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: ok","date":"2011-11-23T22:00:56.914Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: that is way beyond the number of files that windows can open per second :-)","date":"2011-11-23T22:01:25.927Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: is there a benchmark for that? :)","date":"2011-11-23T22:02:14.611Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: no, but let's have one","date":"2011-11-23T22:02:45.680Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: opening and closing files: 5000 per second","date":"2011-11-23T22:06:15.026Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: btw, was that 500 or 500000 paths/sec?","date":"2011-11-23T22:08:11.709Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: 500000","date":"2011-11-23T22:08:30.120Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: I was trying path.resolve(\"c:/windows/../foo/bar\")","date":"2011-11-23T22:09:13.723Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: I think that resolving a relative path is slightly slower because that requires a js->c transition","date":"2011-11-23T22:09:36.117Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: ahh ok.. i thought it was 500 (the difference between american and european decimal mark)","date":"2011-11-23T22:10:20.393Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus: ok, i'll go ahead with doing path.resolve on every fs operation","date":"2011-11-23T22:10:46.681Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi_: cool","date":"2011-11-23T22:18:45.219Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-23T22:21:37.063Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-11-23T22:23:58.057Z","type":"join"}
{"nick":"creationix","reason":"Read error: Operation timed out","date":"2011-11-23T22:24:31.480Z","type":"quit"}
{"nick":"creationix","date":"2011-11-23T22:27:16.680Z","type":"join"}
{"nick":"creationix","reason":"Ping timeout: 248 seconds","date":"2011-11-23T22:35:28.026Z","type":"quit"}
{"nick":"creationix","date":"2011-11-23T22:37:36.606Z","type":"join"}
{"nick":"piscisaureus","message":"igorzi_: I am really surprised that ntdll understands drive-specific CWDs but SetCurrentDirectory doesnt update the drive-specific cwd","date":"2011-11-23T22:52:17.235Z","type":"message"}
{"nick":"piscisaureus","message":"it seems the latter is implemented in crt","date":"2011-11-23T22:52:26.309Z","type":"message"}
{"nick":"piscisaureus","action":"sighs","date":"2011-11-23T22:52:31.253Z","type":"action"}
{"nick":"mikeal","date":"2011-11-23T22:53:00.999Z","type":"join"}
{"nick":"sh1mmer","date":"2011-11-23T22:54:21.108Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2011-11-23T23:00:29.037Z","type":"quit"}
{"nick":"creationix","reason":"Read error: Operation timed out","date":"2011-11-23T23:05:13.240Z","type":"quit"}
{"nick":"izs","reason":"Quit: izs","date":"2011-11-23T23:09:32.831Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-11-23T23:17:18.713Z","type":"quit"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-11-23T23:20:22.514Z","type":"quit"}
{"nick":"piscisaureus__","date":"2011-11-23T23:21:29.226Z","type":"join"}
{"nick":"piscisaureus__","message":"heh","date":"2011-11-23T23:49:37.801Z","type":"message"}
{"nick":"piscisaureus__","message":"process.cwd(\"foo\") crashes node","date":"2011-11-23T23:49:46.601Z","type":"message"}
{"nick":"piscisaureus__","message":"(debug build)","date":"2011-11-23T23:49:54.876Z","type":"message"}
{"nick":"bnoordhuis","message":"where is pietern when you need him?","date":"2011-11-23T23:53:11.987Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-11-23T23:56:55.430Z","type":"quit"}

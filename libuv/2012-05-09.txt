{"nick":"isaacs","message":"igorzi: that's awesome.","date":"2012-05-09T00:00:13.782Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: storedBytes[n] = new Array(n + 1).join('C'); <- doesn't that change the underlying strings? they're no longer cons strings now","date":"2012-05-09T00:00:19.383Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: They still are.","date":"2012-05-09T00:00:37.352Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think. lemme check to be sure","date":"2012-05-09T00:00:51.832Z","type":"message"}
{"nick":"theCole","date":"2012-05-09T00:06:11.869Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: hmm I am not so sure they will be cons strings. Lemme change it back","date":"2012-05-09T00:06:50.962Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: void* operator new (size_t size) { assert(0); } <- private and no body?","date":"2012-05-09T00:07:09.300Z","type":"message"}
{"nick":"bnoordhuis","message":"or was that an issue with msvc?","date":"2012-05-09T00:07:17.060Z","type":"message"}
{"nick":"theCole","reason":"Client Quit","date":"2012-05-09T00:08:17.092Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: trying if it compiles again.","date":"2012-05-09T00:08:41.974Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think I had protected and no body before.","date":"2012-05-09T00:08:53.228Z","type":"message"}
{"nick":"mikeal","date":"2012-05-09T00:10:24.214Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am going to change the Array join back. I think it *might* run through https://github.com/v8/v8/blob/master/src/ia32/full-codegen-ia32.cc#L3630 which generates flat strings","date":"2012-05-09T00:10:43.849Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so let's just revert to be sure","date":"2012-05-09T00:10:52.366Z","type":"message"}
{"nick":"c4milo","reason":"Quit: leaving","date":"2012-05-09T00:12:10.615Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-09T00:12:32.190Z","type":"quit"}
{"nick":"isaacs","message":"i want to rewrite lib/http.js so bad.","date":"2012-05-09T00:12:53.265Z","type":"message"}
{"nick":"isaacs","message":"it should be lib/http-server.js and lib/http-client.js, for starters","date":"2012-05-09T00:13:15.078Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-05-09T00:13:20.147Z","type":"message"}
{"nick":"piscisaureus_","message":"I cannot agree more :-)","date":"2012-05-09T00:13:27.119Z","type":"message"}
{"nick":"c4milo","date":"2012-05-09T00:13:36.919Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: but I fear that a rewrite will introduce another 1000 bugs","date":"2012-05-09T00:13:40.164Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i know, i know","date":"2012-05-09T00:14:26.130Z","type":"message"}
{"nick":"isaacs","message":"it's just so awful.","date":"2012-05-09T00:14:29.738Z","type":"message"}
{"nick":"c4milo","reason":"Client Quit","date":"2012-05-09T00:14:36.718Z","type":"quit"}
{"nick":"isaacs","message":"it doesn't need to be *this* awful","date":"2012-05-09T00:14:37.598Z","type":"message"}
{"nick":"c4milo","date":"2012-05-09T00:15:01.221Z","type":"join"}
{"nick":"isaacs","message":"mjr_: you still arouhnd?","date":"2012-05-09T00:15:02.526Z","type":"message"}
{"nick":"mjr_","message":"isaacs: yes","date":"2012-05-09T00:15:06.148Z","type":"message"}
{"nick":"mjr_","message":"Did you see my latest observation from the scrollback?","date":"2012-05-09T00:15:14.580Z","type":"message"}
{"nick":"isaacs","message":"mjr_: !!!","date":"2012-05-09T00:15:18.906Z","type":"message"}
{"nick":"isaacs","message":"mjr_: no, i dind't","date":"2012-05-09T00:15:20.688Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/2638935","date":"2012-05-09T00:15:48.780Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-05-09T00:16:02.405Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-09T00:16:04.580Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: private and no body seems to work","date":"2012-05-09T00:16:05.054Z","type":"message"}
{"nick":"mjr_","message":"We have both of those exceptions happening, and piscisaureus_ can sort of make one of them happen.","date":"2012-05-09T00:16:11.154Z","type":"message"}
{"nick":"isaacs","message":"oh, hey, there was a bunch of conversation i missed.","date":"2012-05-09T00:17:04.493Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2012-05-09T00:17:05.008Z","type":"message"}
{"nick":"dap","date":"2012-05-09T00:17:19.466Z","type":"join"}
{"nick":"mikeal","date":"2012-05-09T00:18:24.625Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: https://github.com/joyent/node/issues/3239","date":"2012-05-09T00:19:01.685Z","type":"message"}
{"nick":"piscisaureus_","message":"heh https://github.com/piscisaureus/node is still at my pre-uv iocp branch","date":"2012-05-09T00:21:37.440Z","type":"message"}
{"nick":"piscisaureus_","message":"no wonder that recruiters don't like me :-p","date":"2012-05-09T00:21:53.901Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- that was kidding btw","date":"2012-05-09T00:22:37.171Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what's wrong with the get_uv_max_buf thing as it is?","date":"2012-05-09T00:22:50.921Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it's kind of pointless, you can't do large writes like that anyway :)","date":"2012-05-09T00:23:20.264Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what will happen on unix?","date":"2012-05-09T00:23:30.904Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I suppose on unix it'll just work","date":"2012-05-09T00:23:53.881Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes, but v8 won't have it anyway","date":"2012-05-09T00:24:05.529Z","type":"message"}
{"nick":"bnoordhuis","message":"try to alloc a 2 GB buffer, doesn't work","date":"2012-05-09T00:24:11.824Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that's because of the heap cap","date":"2012-05-09T00:24:18.810Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it can be overridden","date":"2012-05-09T00:24:24.795Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think I will just use INT_MAX as the cap","date":"2012-05-09T00:24:31.205Z","type":"message"}
{"nick":"piscisaureus_","message":"ok with you?","date":"2012-05-09T00:24:36.299Z","type":"message"}
{"nick":"isaacs","message":"there we go: https://gist.github.com/2640679","date":"2012-05-09T00:24:38.566Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that was more or less what i was proposing :)","date":"2012-05-09T00:24:45.872Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: UV_BUF_MAX_LEN it will be, one day","date":"2012-05-09T00:25:00.419Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why is it different on windows btw?","date":"2012-05-09T00:25:18.184Z","type":"message"}
{"nick":"isaacs","message":"agent doesn't do anything with its errors.","date":"2012-05-09T00:25:27.913Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because uv_buf_t is an alias for the native struct iov","date":"2012-05-09T00:25:36.899Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so no conversion is needed","date":"2012-05-09T00:25:48.566Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2012-05-09T00:25:53.176Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the order of the fields is also \"reversed\" on windows","date":"2012-05-09T00:26:05.665Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: re WriteWrap, use placement new, then char* data = reinterpret_cast<char*>(wrap + 1)","date":"2012-05-09T00:27:03.834Z","type":"message"}
{"nick":"bnoordhuis","message":"that's all you need, really","date":"2012-05-09T00:27:15.730Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, that won't work, because I need to compute the offset before I can use placement new","date":"2012-05-09T00:27:33.547Z","type":"message"}
{"nick":"bnoordhuis","message":"how's that?","date":"2012-05-09T00:27:49.754Z","type":"message"}
{"nick":"bnoordhuis","message":"you want to alloc sizeof(WriteWrap) + n bytes, right?","date":"2012-05-09T00:28:09.419Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I want alloc(WriteWrap) + alignment + n, yes","date":"2012-05-09T00:28:28.337Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so how do I compute the alignment if I am not allowed to do this stuff.","date":"2012-05-09T00:28:51.623Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what alignment do you need?","date":"2012-05-09T00:29:42.316Z","type":"message"}
{"nick":"bnoordhuis","message":"*do* you need alignment?","date":"2012-05-09T00:29:49.483Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well it's x86 and I'm not trying to lock cmpxchg, so, no, I don't need alignment","date":"2012-05-09T00:30:43.197Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but it seems rather dumb to not do it","date":"2012-05-09T00:30:51.077Z","type":"message"}
{"nick":"piscisaureus_","message":"since it takes at most 3 bytes, and the os will try to memcpy the buffer to [somewhere[","date":"2012-05-09T00:31:11.025Z","type":"message"}
{"nick":"indexzero","date":"2012-05-09T00:31:25.913Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-05-09T00:31:56.713Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: i mean, writewrap itself is aligned to a 4 or 8 byte boundary","date":"2012-05-09T00:32:13.254Z","type":"message"}
{"nick":"bnoordhuis","message":"you probably don't need to add any yourself","date":"2012-05-09T00:32:25.542Z","type":"message"}
{"nick":"indexzero","date":"2012-05-09T00:32:33.904Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes, but is sizeof(writewrap) also aligned?","date":"2012-05-09T00:33:09.793Z","type":"message"}
{"nick":"isaacs","message":"ah, no, it was newListener tripping me up ;)","date":"2012-05-09T00:33:15.813Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: or, divisiable by 4","date":"2012-05-09T00:33:22.412Z","type":"message"}
{"nick":"piscisaureus_","message":"*dividable","date":"2012-05-09T00:33:30.269Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes, insofar that new() will align it","date":"2012-05-09T00:33:30.846Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: can you read my question again and then answer that?","date":"2012-05-09T00:33:50.981Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: the simple answer is yes","date":"2012-05-09T00:34:14.927Z","type":"message"}
{"nick":"bnoordhuis","message":"but if you want to take special care, use e.g. ROUND_UP(sizeof(WriteWrap), 8)","date":"2012-05-09T00:34:31.672Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so that's what I had, and then you were complaining it was not good ...","date":"2012-05-09T00:35:00.261Z","type":"message"}
{"nick":"orlandovftw","reason":"Quit: leaving","date":"2012-05-09T00:35:08.159Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: so what's there is not correct indeed.","date":"2012-05-09T00:37:43.278Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: re sizeof(WriteWrap), it will always be a multiple of 4 (unless it contained a single char)","date":"2012-05-09T00:39:13.587Z","type":"message"}
{"nick":"bnoordhuis","message":"it's because the compiler needs to guarantee suitable alignment for the types it contains","date":"2012-05-09T00:39:54.396Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I tried with char[3] and it showed that the sizeof is 3","date":"2012-05-09T00:41:47.101Z","type":"message"}
{"nick":"piscisaureus_","message":"but i am going to assume here that you are right, because this code review is getting out of hand","date":"2012-05-09T00:42:03.519Z","type":"message"}
{"nick":"bnoordhuis","message":"well, use ROUND_UP() if you want to be sure","date":"2012-05-09T00:42:43.568Z","type":"message"}
{"nick":"bnoordhuis","message":"aligning on 16 bytes might not be a bad idea if you expect to do lots of copies","date":"2012-05-09T00:43:01.757Z","type":"message"}
{"nick":"piscisaureus_","message":"let's just drop it","date":"2012-05-09T00:43:02.579Z","type":"message"}
{"nick":"piscisaureus_","message":"alright, 16 bytes is also fine","date":"2012-05-09T00:43:13.850Z","type":"message"}
{"nick":"bnoordhuis","message":"unless, of course, new() returns a pointers that's a multiple of 8","date":"2012-05-09T00:43:38.661Z","type":"message"}
{"nick":"bnoordhuis","message":"in that case, ptr + 16 is not aligned on a 16 byte boundary :)","date":"2012-05-09T00:43:55.950Z","type":"message"}
{"nick":"piscisaureus_","message":"which might very well be the case","date":"2012-05-09T00:43:56.150Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but if the data is long then it will just malloc","date":"2012-05-09T00:44:04.495Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-09T00:44:04.703Z","type":"quit"}
{"nick":"piscisaureus_","message":"so it's going to be aligned to 16 bytes","date":"2012-05-09T00:44:13.221Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hmm","date":"2012-05-09T00:45:23.849Z","type":"message"}
{"nick":"piscisaureus_","message":"stream_wrap.obj : error LNK2001: unresolved external symbol \"private: static vo","date":"2012-05-09T00:45:24.225Z","type":"message"}
{"nick":"piscisaureus_","message":"id __cdecl node::WriteWrap::operator delete(void *)\" (??3WriteWrap@node@@CAXPAX","date":"2012-05-09T00:45:24.422Z","type":"message"}
{"nick":"piscisaureus_","message":"@Z) [D:\\node4\\node.vcxproj]","date":"2012-05-09T00:45:24.422Z","type":"message"}
{"nick":"piscisaureus_","message":"D:\\node4\\Release\\node.exe : fatal error LNK1120: 1 unresolved externals [D:\\nod","date":"2012-05-09T00:45:24.422Z","type":"message"}
{"nick":"piscisaureus_","message":"e4\\node.vcxproj]","date":"2012-05-09T00:45:24.422Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- private and no body not working","date":"2012-05-09T00:45:43.217Z","type":"message"}
{"nick":"bnoordhuis","message":"msvc--","date":"2012-05-09T00:45:49.710Z","type":"message"}
{"nick":"kohai","message":"msvc has -1 beer","date":"2012-05-09T00:45:50.257Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what you could do is char* p = new char[sizeof(WriteWrap) + n + 16], then char* data = reinterpret_cast<char*>((uintptr_t) p & ~(uintptr_t)15)","date":"2012-05-09T00:49:03.754Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: req_wrap->object_->Set(bytes_sym, Number::New((uint32_t) data_size)); <- why not Integer::NewFromUnsigned()?","date":"2012-05-09T00:51:06.340Z","type":"message"}
{"nick":"bnoordhuis","message":"(i would comment inline but it's kind of hard to match lines to commits)","date":"2012-05-09T00:51:27.515Z","type":"message"}
{"nick":"piscisaureus_","message":"Umm, I wasn't arare that it existed","date":"2012-05-09T00:51:31.849Z","type":"message"}
{"nick":"piscisaureus_","message":"I looked for Integer::NewUInt","date":"2012-05-09T00:51:42.313Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-05-09T00:54:22.910Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-09T00:59:28.257Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/piscisaureus/node/commit/674c406daa1d968bc8bf40a2b9fc3e22893666c9","date":"2012-05-09T01:00:08.825Z","type":"message"}
{"nick":"c4milo","date":"2012-05-09T01:00:48.213Z","type":"join"}
{"nick":"theCole","date":"2012-05-09T01:01:34.213Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: lgtm","date":"2012-05-09T01:04:21.379Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will change http_simple","date":"2012-05-09T01:05:33.869Z","type":"message"}
{"nick":"piscisaureus_","message":"and fix the space... (sigh)","date":"2012-05-09T01:05:49.020Z","type":"message"}
{"nick":"bnoordhuis","message":"good :)","date":"2012-05-09T01:06:10.390Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what name would you suggest for _bytesWrittenSubmitted ?","date":"2012-05-09T01:09:25.905Z","type":"message"}
{"nick":"piscisaureus_","message":"_bytesWrittenAndSubmitted?","date":"2012-05-09T01:09:37.005Z","type":"message"}
{"nick":"piscisaureus_","message":"_bytesDispatched?","date":"2012-05-09T01:09:47.381Z","type":"message"}
{"nick":"bnoordhuis","message":"meh... i'd probably pick _bytesDispatched or just _bytesWritten","date":"2012-05-09T01:10:51.105Z","type":"message"}
{"nick":"seebees1","date":"2012-05-09T01:13:11.276Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-09T01:14:36.298Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: this:   http.get(options, onResponse, onError); should be:  http.get(options, onResponse).on('error', onError);","date":"2012-05-09T01:15:48.321Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I was just following the node docs....","date":"2012-05-09T01:16:02.760Z","type":"message"}
{"nick":"bnoordhuis","message":"never trust the docs","date":"2012-05-09T01:16:10.476Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: orly?  where'd you see that in the docs?","date":"2012-05-09T01:16:28.000Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: because http.request does not take a third argument","date":"2012-05-09T01:16:37.507Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't see it","date":"2012-05-09T01:16:38.572Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-05-09T01:16:55.264Z","type":"message"}
{"nick":"piscisaureus_","message":"Let's just say I copy pasted from the docs and I splitted out the onError and onResponse functions later","date":"2012-05-09T01:17:16.969Z","type":"message"}
{"nick":"piscisaureus_","message":"apparently my delete key got stuck _p","date":"2012-05-09T01:17:41.522Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the test doesn't catch anything meaningful?","date":"2012-05-09T01:18:00.052Z","type":"message"}
{"nick":"piscisaureus_","action":"goes back to the drawing board","date":"2012-05-09T01:18:06.196Z","type":"action"}
{"nick":"perezd","date":"2012-05-09T01:18:37.897Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: i DO have a test that finds a spot where we don't assign an error handler.","date":"2012-05-09T01:18:38.964Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: https://gist.github.com/2640940","date":"2012-05-09T01:19:28.861Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: fixed by: https://gist.github.com/2640942","date":"2012-05-09T01:20:00.872Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't understand that patch tbh","date":"2012-05-09T01:21:25.936Z","type":"message"}
{"nick":"piscisaureus_","message":"+ } else if (this.listeners('error').length === 1) {","date":"2012-05-09T01:21:32.210Z","type":"message"}
{"nick":"piscisaureus_","message":"+ throw er;","date":"2012-05-09T01:21:32.411Z","type":"message"}
{"nick":"piscisaureus_","message":"why is that?","date":"2012-05-09T01:21:35.336Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh, right...","date":"2012-05-09T01:23:12.474Z","type":"message"}
{"nick":"isaacs","message":"i guess the whole point is to NOT throw.","date":"2012-05-09T01:23:16.653Z","type":"message"}
{"nick":"isaacs","message":"heh","date":"2012-05-09T01:23:20.981Z","type":"message"}
{"nick":"isaacs","message":"oh, right, i remember","date":"2012-05-09T01:23:48.403Z","type":"message"}
{"nick":"isaacs","message":"because if you dont' have an httpMessage right now, then it means that somehow there was a socket somewhere in some unknown place, and the error would be otherwise lost.","date":"2012-05-09T01:24:08.454Z","type":"message"}
{"nick":"isaacs","message":"i guess the thing to do in that case is to emit it on the Agent object, since that's right there.","date":"2012-05-09T01:24:35.292Z","type":"message"}
{"nick":"isaacs","message":"  var onError = function(er) {","date":"2012-05-09T01:24:58.379Z","type":"message"}
{"nick":"isaacs","message":"    if (this._httpMessage) {","date":"2012-05-09T01:24:58.585Z","type":"message"}
{"nick":"isaacs","message":"      this._httpMessage.emit('error', er);","date":"2012-05-09T01:24:58.586Z","type":"message"}
{"nick":"isaacs","message":"    } else {","date":"2012-05-09T01:24:59.881Z","type":"message"}
{"nick":"isaacs","message":"      self.emit('error', er);","date":"2012-05-09T01:25:01.958Z","type":"message"}
{"nick":"isaacs","message":"    }","date":"2012-05-09T01:25:03.868Z","type":"message"}
{"nick":"isaacs","message":"  };","date":"2012-05-09T01:25:05.800Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I suppose it's not so bad to ignore an error that nobody cares about","date":"2012-05-09T01:28:52.036Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: unless, under some circumstances, someone could care about it","date":"2012-05-09T01:29:05.086Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you should really not have sockets just randomly dying.","date":"2012-05-09T01:30:43.368Z","type":"message"}
{"nick":"isaacs","message":"at the very least, the agent should know to remove it.","date":"2012-05-09T01:30:52.448Z","type":"message"}
{"nick":"mikeal","date":"2012-05-09T01:31:18.664Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-05-09T01:32:11.779Z","type":"quit"}
{"nick":"seebees1","date":"2012-05-09T01:32:30.411Z","type":"part"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-09T01:33:08.125Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: maybe this?","date":"2012-05-09T01:33:16.739Z","type":"message"}
{"nick":"isaacs","message":"    } else {","date":"2012-05-09T01:33:18.119Z","type":"message"}
{"nick":"isaacs","message":"      onRemove();","date":"2012-05-09T01:33:18.316Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, why not?","date":"2012-05-09T01:33:38.636Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: would people care if they created an Agent manually?","date":"2012-05-09T01:33:53.728Z","type":"message"}
{"nick":"c4milo","date":"2012-05-09T01:33:59.918Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: about the error?","date":"2012-05-09T01:34:02.161Z","type":"message"}
{"nick":"mjr_","message":"We do create Agents manually, in case that's useful information.","date":"2012-05-09T01:34:21.457Z","type":"message"}
{"nick":"isaacs","message":"oh, no, should be       onClose(); ","date":"2012-05-09T01:34:43.199Z","type":"message"}
{"nick":"bnoordhuis","message":"http.js is getting way too complex...","date":"2012-05-09T01:34:52.883Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: that's why i'm going to rewrite it in 0.9","date":"2012-05-09T01:35:01.080Z","type":"message"}
{"nick":"bnoordhuis","message":"good idea","date":"2012-05-09T01:35:18.457Z","type":"message"}
{"nick":"isaacs","message":"the more i look at this thing, the more the rage swells.","date":"2012-05-09T01:35:28.622Z","type":"message"}
{"nick":"mjr_","message":"That'd be a good time to make sure that keepalive works like people expect.","date":"2012-05-09T01:35:31.937Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yes.","date":"2012-05-09T01:35:37.382Z","type":"message"}
{"nick":"mjr_","message":"And by people, I mean me.","date":"2012-05-09T01:35:41.800Z","type":"message"}
{"nick":"isaacs","message":"i think now we know what features node's http lib should have, and what should be done in something like request","date":"2012-05-09T01:35:52.901Z","type":"message"}
{"nick":"isaacs","message":"also: client and server should be separate.  this code-sharing stuff makes it impossible to find anythign.","date":"2012-05-09T01:36:15.001Z","type":"message"}
{"nick":"isaacs","message":"1600 lines?  srsly!??!","date":"2012-05-09T01:36:26.290Z","type":"message"}
{"nick":"mjr_","message":"We just started to look at hacking together client keep alive agent magic like request.forever, and it really bothers me.","date":"2012-05-09T01:36:31.621Z","type":"message"}
{"nick":"isaacs","message":"a js file should be like 1/10th of that.","date":"2012-05-09T01:36:32.344Z","type":"message"}
{"nick":"mjr_","message":"I mean, it's already unstable enough, and this change is likely to create even more impossible chaos.","date":"2012-05-09T01:36:54.950Z","type":"message"}
{"nick":"mjr_","message":"But hey guys, look over here, it's a memory leak / uncaught exception crash in production.","date":"2012-05-09T01:37:19.689Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-09T01:37:58.096Z","type":"quit"}
{"nick":"isaacs","message":"mjr_: yeah, we cannot even realistically contemplate your desired keepalive magic in the current grimy state.","date":"2012-05-09T01:38:26.983Z","type":"message"}
{"nick":"mjr_","message":"yeah, please don't","date":"2012-05-09T01:38:40.583Z","type":"message"}
{"nick":"mjr_","message":"Let's just get this working solidly and apply more magic in future versions.","date":"2012-05-09T01:38:54.197Z","type":"message"}
{"nick":"mjr_","message":"I say, as if I get to vote.","date":"2012-05-09T01:39:04.752Z","type":"message"}
{"nick":"isaacs","message":"mjr_: you definitely are a significant vip","date":"2012-05-09T01:39:18.135Z","type":"message"}
{"nick":"mjr_","message":"By which I mean, \"please\"","date":"2012-05-09T01:39:19.294Z","type":"message"}
{"nick":"isaacs","message":"i think a good first step will be to rip out http-parser.c and replace it with a js thing so we can throw away parser objects instead of keeping them around.","date":"2012-05-09T01:39:58.362Z","type":"message"}
{"nick":"isaacs","message":"also, that might eventually shut zed shaw up about how we stole his parser.","date":"2012-05-09T01:40:13.387Z","type":"message"}
{"nick":"abraxas","date":"2012-05-09T01:40:38.806Z","type":"join"}
{"nick":"mjr_","message":"But dear god, the hello world benchmark performance","date":"2012-05-09T01:40:44.820Z","type":"message"}
{"nick":"isaacs","message":"but i might just be frustrated and fantasizing right now.","date":"2012-05-09T01:40:46.254Z","type":"message"}
{"nick":"isaacs","message":"mjr_: IT WILL IMPROVE!","date":"2012-05-09T01:40:51.078Z","type":"message"}
{"nick":"isaacs","message":"mjr_: regressions are still not allowed.","date":"2012-05-09T01:40:55.532Z","type":"message"}
{"nick":"isaacs","action":"puttin all the features in the vaporware","date":"2012-05-09T01:41:08.679Z","type":"action"}
{"nick":"isaacs","message":"ok, commute time.","date":"2012-05-09T01:42:02.321Z","type":"message"}
{"nick":"isaacs","message":"have a good evening, heroes.","date":"2012-05-09T01:42:30.385Z","type":"message"}
{"nick":"perezd_","date":"2012-05-09T01:42:32.149Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-09T01:42:35.295Z","type":"quit"}
{"nick":"perezd","reason":"Ping timeout: 272 seconds","date":"2012-05-09T01:42:48.690Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-05-09T01:42:49.058Z","type":"nick"}
{"nick":"perezd_","date":"2012-05-09T01:54:35.215Z","type":"join"}
{"nick":"perezd_","reason":"Client Quit","date":"2012-05-09T01:54:43.603Z","type":"quit"}
{"nick":"perezd","reason":"Ping timeout: 244 seconds","date":"2012-05-09T01:57:55.866Z","type":"quit"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-05-09T02:03:01.828Z","type":"quit"}
{"nick":"perezd","date":"2012-05-09T02:04:25.149Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-09T02:08:51.157Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-05-09T02:18:13.139Z","type":"quit"}
{"nick":"loladiro","date":"2012-05-09T02:22:26.303Z","type":"part"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000227ddd14\u000f \u000310\u000f/ lib/net.js \u0002:\u000f ","date":"2012-05-09T02:23:58.346Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f net.js: make Socket.bytesWritten work again","date":"2012-05-09T02:23:58.346Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  (+6 more commits...) - http://git.io/TbxgKg","date":"2012-05-09T02:23:58.346Z","type":"message"}
{"nick":"loladiro","date":"2012-05-09T02:27:56.011Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00024624cf1\u000f \u000310\u000f/ src/stream_wrap.cc \u0002:\u000f stream_wrap.cc: fix typo - http://git.io/j13uuw","date":"2012-05-09T02:35:31.391Z","type":"message"}
{"nick":"indexzero","reason":"Ping timeout: 272 seconds","date":"2012-05-09T02:39:10.680Z","type":"quit"}
{"nick":"erickt","date":"2012-05-09T02:42:50.719Z","type":"join"}
{"nick":"isaacs","date":"2012-05-09T02:47:04.386Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002ee437c0\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f ","date":"2012-05-09T02:51:09.852Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f zlib: fix error reporting","date":"2012-05-09T02:51:09.852Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f  - http://git.io/q3OM8w","date":"2012-05-09T02:51:09.852Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 260 seconds","date":"2012-05-09T02:51:27.667Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: ouch. found a bad bug","date":"2012-05-09T02:52:57.316Z","type":"message"}
{"nick":"piscisaureus_","action":"blames the reviewer","date":"2012-05-09T02:53:04.458Z","type":"action"}
{"nick":"bnoordhuis","message":"piscisaureus_: what / where?","date":"2012-05-09T02:53:11.490Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, you merged it?","date":"2012-05-09T02:53:20.641Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: require('net').createConnection(80, \"www.google.com\").write(\"hey\", \"ucs2\")","date":"2012-05-09T02:53:58.524Z","type":"message"}
{"nick":"bnoordhuis","message":"of course v8 wants to recompile first...","date":"2012-05-09T02:54:57.795Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-05-09T02:55:12.431Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: nvm. I just have an error in method names, that's all","date":"2012-05-09T02:55:29.192Z","type":"message"}
{"nick":"piscisaureus_","message":"don't bother to recompile","date":"2012-05-09T02:55:33.834Z","type":"message"}
{"nick":"bnoordhuis","message":"well, i'll have to eventually, might as well do it now","date":"2012-05-09T02:55:49.396Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b673d06\u000f \u000310\u000f/ (src/pipe_wrap.cc src/tcp_wrap.cc src/tty_wrap.cc)\u0002:\u000f Net.js: fix UCS2 write crash due to inconsistent naming - http://git.io/IsBlJg","date":"2012-05-09T02:59:47.463Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^-- fixed","date":"2012-05-09T02:59:58.241Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: did you add tests?","date":"2012-05-09T03:04:33.634Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: tests for what?","date":"2012-05-09T03:05:03.960Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that","date":"2012-05-09T03:05:27.914Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you see any?","date":"2012-05-09T03:05:33.978Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: nopew","date":"2012-05-09T03:05:36.463Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: maybe, when I'm in the mood","date":"2012-05-09T03:05:46.248Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but right now I am going to sleep","date":"2012-05-09T03:05:53.628Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: when are you coming to the office? Or, not at all?","date":"2012-05-09T03:07:46.972Z","type":"message"}
{"nick":"bnoordhuis","message":"dunno, feeling a bit under the weather lately","date":"2012-05-09T03:08:00.448Z","type":"message"}
{"nick":"bnoordhuis","message":"don't want to infect you all","date":"2012-05-09T03:08:09.476Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-05-09T03:08:22.625Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-05-09T03:08:23.315Z","type":"message"}
{"nick":"piscisaureus_","message":"sergi had that too","date":"2012-05-09T03:08:25.719Z","type":"message"}
{"nick":"piscisaureus_","message":"we had to let him go","date":"2012-05-09T03:08:32.614Z","type":"message"}
{"nick":"bnoordhuis","message":"poor thing","date":"2012-05-09T03:08:54.973Z","type":"message"}
{"nick":"piscisaureus_","message":"so said how things sometimes end so early","date":"2012-05-09T03:09:13.814Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-09T03:09:39.414Z","type":"quit"}
{"nick":"piscisaureus_","message":"je wenst het niemand toe","date":"2012-05-09T03:10:23.594Z","type":"message"}
{"nick":"bnoordhuis","message":"zo is dat","date":"2012-05-09T03:11:06.935Z","type":"message"}
{"nick":"bnoordhuis","message":"ga maar slapen, bertje, 's goed voor je","date":"2012-05-09T03:11:14.640Z","type":"message"}
{"nick":"piscisaureus_","message":"tabee","date":"2012-05-09T03:13:35.906Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-09T03:14:18.289Z","type":"quit"}
{"nick":"indexzero","date":"2012-05-09T03:19:18.920Z","type":"join"}
{"nick":"erickt","date":"2012-05-09T03:59:26.063Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-09T04:02:24.125Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00027d2e68f\u000f \u000310\u000f/ (src/stream_wrap.cc src/stream_wrap.h)\u0002:\u000f stream_wrap: fix compilation errors - http://git.io/85Te6Q","date":"2012-05-09T04:07:48.036Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2012-05-09T04:13:17.016Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-09T04:38:20.467Z","type":"quit"}
{"nick":"orlandovftw","date":"2012-05-09T05:11:40.552Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-09T05:23:29.508Z","type":"quit"}
{"nick":"paddybyers","date":"2012-05-09T05:28:12.798Z","type":"join"}
{"nick":"isaacs","date":"2012-05-09T05:32:32.531Z","type":"join"}
{"nick":"pfox__","reason":"Ping timeout: 245 seconds","date":"2012-05-09T05:44:24.705Z","type":"quit"}
{"nick":"pfox__","date":"2012-05-09T05:46:11.528Z","type":"join"}
{"nick":"mikeal","date":"2012-05-09T05:48:16.212Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-09T06:20:24.129Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-05-09T06:29:16.945Z","type":"nick"}
{"nick":"mmalecki[away]","reason":"Ping timeout: 252 seconds","date":"2012-05-09T06:34:07.247Z","type":"quit"}
{"nick":"mmalecki[away]","date":"2012-05-09T06:35:09.945Z","type":"join"}
{"nick":"mikeal","date":"2012-05-09T06:39:45.492Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 250 seconds","date":"2012-05-09T07:18:14.211Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-05-09T07:24:02.018Z","type":"join"}
{"nick":"rendar","date":"2012-05-09T07:26:17.665Z","type":"join"}
{"nick":"avsej","reason":"Excess Flood","date":"2012-05-09T07:33:39.854Z","type":"quit"}
{"nick":"avsej","date":"2012-05-09T07:35:10.543Z","type":"join"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-05-09T07:43:32.663Z","type":"nick"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-09T07:43:46.675Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: Reconnecting","date":"2012-05-09T07:43:52.398Z","type":"quit"}
{"nick":"mmalecki_","date":"2012-05-09T07:44:01.269Z","type":"join"}
{"nick":"mmalecki_","reason":"Client Quit","date":"2012-05-09T07:44:10.433Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-09T07:44:30.079Z","type":"join"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-08-15T00:00:02.263Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #103 \u00037UNSTABLE\u000f smartos-x64 (2/192) smartos-ia32 (2/192) windows-x64 (3/193) windows-ia32 (3/193) http://jenkins.nodejs.org/job/libuv-master-gyp/103/","date":"2013-08-15T00:00:06.646Z","type":"message"}
{"nick":"ircretary","date":"2013-08-15T00:00:11.335Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-15T00:07:45.664Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-15T00:10:03.691Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-15T00:13:32.515Z","type":"quit"}
{"nick":"brson","date":"2013-08-15T00:13:49.123Z","type":"join"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-08-15T00:29:40.559Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-08-15T00:45:54.305Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-15T00:48:50.598Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T01:13:39.509Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 246 seconds","date":"2013-08-15T01:16:19.943Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-15T01:18:49.507Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T01:28:41.225Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-15T01:30:56.989Z","type":"quit"}
{"nick":"abraxas","date":"2013-08-15T01:36:22.451Z","type":"join"}
{"nick":"dap1","date":"2013-08-15T01:48:44.337Z","type":"join"}
{"nick":"dap","reason":"Read error: Connection reset by peer","date":"2013-08-15T01:48:44.547Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T01:58:05.646Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-15T01:59:41.303Z","type":"join"}
{"nick":"mikeal","date":"2013-08-15T02:12:28.528Z","type":"join"}
{"nick":"kazupon","date":"2013-08-15T02:13:18.028Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-15T02:21:56.589Z","type":"quit"}
{"nick":"stagas","date":"2013-08-15T02:41:40.288Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-15T02:47:51.086Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T03:03:13.742Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T03:05:20.179Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T03:16:26.192Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T03:22:30.866Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-08-15T03:30:54.810Z","type":"quit"}
{"nick":"indexzero","date":"2013-08-15T03:43:07.046Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-08-15T03:47:21.436Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: you around?","date":"2013-08-15T03:54:39.039Z","type":"message"}
{"nick":"kazupon","date":"2013-08-15T03:55:13.292Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-15T03:59:11.071Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T04:04:24.963Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-15T04:08:00.568Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-15T04:09:29.461Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-15T04:39:38.366Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T04:54:52.726Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T04:58:38.519Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-15T05:15:05.496Z","type":"quit"}
{"nick":"bajtos","date":"2013-08-15T05:15:13.815Z","type":"join"}
{"nick":"julianduque","reason":"Read error: Operation timed out","date":"2013-08-15T05:25:55.946Z","type":"quit"}
{"nick":"szhang","date":"2013-08-15T05:46:07.658Z","type":"join"}
{"nick":"szhang","message":"hi","date":"2013-08-15T05:47:06.902Z","type":"message"}
{"nick":"tjfontaine","message":"hi","date":"2013-08-15T05:47:16.679Z","type":"message"}
{"nick":"szhang","message":"how can I compile libuv to iOS?","date":"2013-08-15T05:47:25.487Z","type":"message"}
{"nick":"tjfontaine","message":"I know some people have done it, but I don't have a reference off hand, I would start by using gyp to generate an xcode build for libuv as a static library","date":"2013-08-15T05:48:17.008Z","type":"message"}
{"nick":"szhang","message":"OK, I'll have a try","date":"2013-08-15T05:49:24.314Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-15T06:01:50.873Z","type":"quit"}
{"nick":"felixge","date":"2013-08-15T06:25:40.759Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-08-15T06:25:40.969Z","type":"quit"}
{"nick":"felixge","date":"2013-08-15T06:25:40.969Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 240 seconds","date":"2013-08-15T06:34:05.880Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T06:40:20.533Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #144 \u00037UNSTABLE\u000f windows-x64 (8/594) windows-ia32 (7/594) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/144/","date":"2013-08-15T06:42:36.599Z","type":"message"}
{"nick":"rendar","date":"2013-08-15T06:50:35.074Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T06:58:46.627Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T07:02:38.263Z","type":"join"}
{"nick":"Damn3d","reason":"Ping timeout: 245 seconds","date":"2013-08-15T07:03:20.204Z","type":"quit"}
{"nick":"Damn3d","date":"2013-08-15T07:05:01.895Z","type":"join"}
{"nick":"Benvie","reason":"Remote host closed the connection","date":"2013-08-15T07:11:16.738Z","type":"quit"}
{"nick":"Benvie","date":"2013-08-15T07:11:35.251Z","type":"join"}
{"nick":"szhang","message":"hi, I have got libuv compiled with iOS SDK, but I have to modify darwin-proctitle.h","date":"2013-08-15T07:22:26.556Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T07:52:57.632Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T07:55:21.277Z","type":"join"}
{"nick":"hz","date":"2013-08-15T08:23:29.125Z","type":"join"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-08-15T08:50:32.829Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T08:51:47.397Z","type":"join"}
{"nick":"hz","date":"2013-08-15T08:54:42.788Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T08:59:35.190Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T09:02:20.065Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T09:18:33.964Z","type":"quit"}
{"nick":"dominictarr","date":"2013-08-15T09:31:38.544Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-15T09:44:21.097Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-08-15T09:44:57.693Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T10:10:09.591Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 264 seconds","date":"2013-08-15T10:14:52.400Z","type":"quit"}
{"nick":"kazupon","date":"2013-08-15T10:25:43.845Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-15T10:31:48.413Z","type":"nick"}
{"nick":"kazupon","reason":"Ping timeout: 240 seconds","date":"2013-08-15T10:35:53.204Z","type":"quit"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T10:52:02.734Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-08-15T10:57:03.609Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:09:35.539Z","type":"join"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T11:15:34.288Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:16:57.121Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-08-15T11:19:42.151Z","type":"quit"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T11:52:06.761Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:55:57.824Z","type":"join"}
{"nick":"indutny","message":"hoya","date":"2013-08-15T12:02:52.511Z","type":"message"}
{"nick":"bnoordhuis","message":"sup fedor?","date":"2013-08-15T12:16:05.873Z","type":"message"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T12:18:05.980Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T12:21:53.921Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000298c5424\u0002 : tools: cpplint: fix NOLINT(build/include_order) - http://git.io/YVH2uQ","date":"2013-08-15T12:22:53.504Z","type":"message"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T12:34:28.187Z","type":"quit"}
{"nick":"pachet","date":"2013-08-15T12:35:18.193Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: everything is fine","date":"2013-08-15T12:35:46.913Z","type":"message"}
{"nick":"indutny","message":"deduplicating crypto right now","date":"2013-08-15T12:35:51.337Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: need some help","date":"2013-08-15T12:37:22.996Z","type":"message"}
{"nick":"indutny","message":"Undefined symbols for architecture x86_64:","date":"2013-08-15T12:37:32.723Z","type":"message"}
{"nick":"indutny","message":"  \"node::crypto::VerifyCallback\", referenced from:Undefined symbols for architecture x86_64:","date":"2013-08-15T12:37:32.942Z","type":"message"}
{"nick":"indutny","message":"  \"node::crypto::VerifyCallback\", referenced from:","date":"2013-08-15T12:37:32.942Z","type":"message"}
{"nick":"indutny","message":"(maybe you meant: __ZN4node6crypto14VerifyCallbackEiP17x509_store_ctx_st)","date":"2013-08-15T12:37:41.085Z","type":"message"}
{"nick":"indutny","message":"it seems like its trying to lookup non-mangled name?","date":"2013-08-15T12:37:55.496Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2013-08-15T12:39:31.562Z","type":"message"}
{"nick":"indutny","message":"figured it out","date":"2013-08-15T12:39:33.086Z","type":"message"}
{"nick":"hz","date":"2013-08-15T12:39:56.842Z","type":"join"}
{"nick":"indutny","message":"brb","date":"2013-08-15T12:46:57.905Z","type":"message"}
{"nick":"felixge","date":"2013-08-15T12:48:44.108Z","type":"join"}
{"nick":"bradleymeck","date":"2013-08-15T12:55:05.756Z","type":"join"}
{"nick":"stagas","date":"2013-08-15T13:03:47.513Z","type":"join"}
{"nick":"bajtos","date":"2013-08-15T13:04:18.429Z","type":"join"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T13:05:49.729Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T13:14:42.108Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T13:22:35.385Z","type":"quit"}
{"nick":"Domenic_","message":"so for vm2, two questions:","date":"2013-08-15T13:37:05.288Z","type":"message"}
{"nick":"Domenic_","message":"1) is getting rid of node_script actually a good idea? or should we leave it alone, since it's so core to the platform?","date":"2013-08-15T13:37:36.869Z","type":"message"}
{"nick":"Domenic_","message":"and 2) any help debugging the assertion failure at https://github.com/domenic/node/commit/1a8210c804ec9cacfb5b689e53393bc765a2d89a would be lovely. I was told \"probably a race condition\" \"something going out of scope\" but not really sure what to do with it.","date":"2013-08-15T13:38:15.128Z","type":"message"}
{"nick":"bnoordhuis","message":"Domenic_: you mean process.binding('node_script')?","date":"2013-08-15T13:41:08.142Z","type":"message"}
{"nick":"hz","date":"2013-08-15T13:47:51.161Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-08-15T13:48:56.334Z","type":"quit"}
{"nick":"Domenic_","message":"bnoordhuis: process.binding('evals'), but yeah.","date":"2013-08-15T13:49:23.158Z","type":"message"}
{"nick":"szhang","reason":"\"\u0002ERC\u0002 Version 5.3 (IRC client for Emacs)\"","date":"2013-08-15T13:49:28.061Z","type":"part"}
{"nick":"stagas","date":"2013-08-15T13:50:12.337Z","type":"join"}
{"nick":"Domenic_","message":"bnoordhuis: this was my first attempt, although it's causing some test failures so I need to fix it a bit. https://github.com/domenic/node/commit/e47670905c18d957d7d1310c2ed9de56bcf13f84","date":"2013-08-15T13:56:28.836Z","type":"message"}
{"nick":"stagas_","date":"2013-08-15T13:56:58.730Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-08-15T13:57:55.124Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-08-15T13:57:59.990Z","type":"nick"}
{"nick":"bnoordhuis","message":"Domenic_: bindings are internal. you can remove it as long as it doesn't break anything in core","date":"2013-08-15T14:03:59.077Z","type":"message"}
{"nick":"bnoordhuis","message":"if it breaks something in someone's code, tough luck - that's what you get for depending on internals","date":"2013-08-15T14:04:20.128Z","type":"message"}
{"nick":"Domenic_","message":"bnoordhuis: yeah that makes sense. just wasn't sure if touching something so core to the module system etc. might be frowned upon.","date":"2013-08-15T14:04:44.954Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 240 seconds","date":"2013-08-15T14:05:02.547Z","type":"quit"}
{"nick":"rendar","message":"what happen when a signal interrupts a slow syscall (like read() or write()) in the middle of i/o? if it happens *before* i/o starts, you can just call again read() or write(), but in the middle of i/o? i guess the read() or write() returns the number of bytes processed but after how to read (or write) the remaining ones? how libuv solve this?","date":"2013-08-15T14:09:31.042Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: EINTR means nothing has been read or written","date":"2013-08-15T14:10:26.589Z","type":"message"}
{"nick":"bnoordhuis","message":"barring kernel bugs, of course (which has happened in the past - solaris, i'm looking at you!)","date":"2013-08-15T14:11:03.394Z","type":"message"}
{"nick":"rendar","message":"eheh","date":"2013-08-15T14:11:18.637Z","type":"message"}
{"nick":"bradleymeck","date":"2013-08-15T14:11:41.475Z","type":"join"}
{"nick":"rendar","message":"yes exactly, so when the i/o is in the middle of processing, read() and write() returns the number of bytes processed, but then, will the fd noticed up again, by epoll/kqueue/etc ?","date":"2013-08-15T14:11:52.059Z","type":"message"}
{"nick":"rendar","message":"i mean, epoll/kqueue/etc *already* noticed the fd is ready for read","date":"2013-08-15T14:12:17.271Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: yes (for epoll, yes when the fd is in level-triggered mode)","date":"2013-08-15T14:12:20.837Z","type":"message"}
{"nick":"rendar","message":"they do not know nothing about signals, i guess","date":"2013-08-15T14:12:24.704Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, oh, when EPOLLET is specified?","date":"2013-08-15T14:12:38.209Z","type":"message"}
{"nick":"bnoordhuis","message":"no, the other way around :)","date":"2013-08-15T14:12:46.316Z","type":"message"}
{"nick":"bnoordhuis","message":"most unix poll apis are level-triggered. an event keeps on being reported until it's consumed","date":"2013-08-15T14:13:12.857Z","type":"message"}
{"nick":"bnoordhuis","message":"the exception is epoll in EPOLLET mode","date":"2013-08-15T14:13:23.212Z","type":"message"}
{"nick":"bnoordhuis","message":"that's edge-triggered mode, meaning the kernel reports the event once and it's up to you to keep track","date":"2013-08-15T14:13:39.277Z","type":"message"}
{"nick":"rendar","message":"hmm yeah right","date":"2013-08-15T14:14:26.565Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, so why it seems everyone uses EPOLLET instead of level-triggering?","date":"2013-08-15T14:14:43.014Z","type":"message"}
{"nick":"bnoordhuis","message":"because it's faster","date":"2013-08-15T14:14:51.032Z","type":"message"}
{"nick":"bnoordhuis","message":"well, usually","date":"2013-08-15T14:14:53.164Z","type":"message"}
{"nick":"bnoordhuis","message":"in theory, you don't have to make as many syscalls as in level-triggered mode","date":"2013-08-15T14:15:17.008Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:15:36.960Z","type":"message"}
{"nick":"bnoordhuis","message":"because you don't have to call epoll_ctl() all the time to update the event mask","date":"2013-08-15T14:15:46.100Z","type":"message"}
{"nick":"rendar","message":"i saw that libuv swaps from level to edge triggering? am i right?","date":"2013-08-15T14:15:50.118Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe","date":"2013-08-15T14:15:59.497Z","type":"message"}
{"nick":"bnoordhuis","message":"i have patches sitting in a tree","date":"2013-08-15T14:16:05.620Z","type":"message"}
{"nick":"mcavage","date":"2013-08-15T14:16:13.544Z","type":"join"}
{"nick":"bnoordhuis","message":"however, there are some corner cases where edge-triggered mode is actually slower due to lock contention in the kernel","date":"2013-08-15T14:16:25.893Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2013-08-15T14:16:42.598Z","type":"message"}
{"nick":"rendar","message":"this is for epoll, what about kqueue and others?","date":"2013-08-15T14:16:52.125Z","type":"message"}
{"nick":"bnoordhuis","message":"i've considered fixing it and sending patches to the LKML - but that doesn't help with existing kernels :-/","date":"2013-08-15T14:17:09.186Z","type":"message"}
{"nick":"bnoordhuis","message":"the other poll apis are all level-triggered","date":"2013-08-15T14:17:19.487Z","type":"message"}
{"nick":"bnoordhuis","message":"kqueue in theory can work in edge-triggered mode","date":"2013-08-15T14:17:33.652Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's basically a kind of one-shot mode where you have to re-add the fd yourself every time","date":"2013-08-15T14:17:48.038Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:17:48.253Z","type":"message"}
{"nick":"bnoordhuis","message":"so it doesn't save you syscalls","date":"2013-08-15T14:18:00.434Z","type":"message"}
{"nick":"rendar","message":"i see, so how about read() write() are interrupted and you're in level triggering mode? how you can know that you have to keep reading/wiritng?","date":"2013-08-15T14:18:33.537Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: it doesn't matter in LT mode, the kernel will keep reporting the event until there is no more data to read / write","date":"2013-08-15T14:19:13.826Z","type":"message"}
{"nick":"bnoordhuis","message":"even so, libuv wraps calls to read() and write() in a do { ... } while (r == -1 && errno == EINTR) loop","date":"2013-08-15T14:19:37.381Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. it retries the syscall","date":"2013-08-15T14:19:53.529Z","type":"message"}
{"nick":"rendar","message":"oh ok","date":"2013-08-15T14:19:53.743Z","type":"message"}
{"nick":"bnoordhuis","message":"i should note that - in theory - that means you could starve an application if you deliver signals so fast the syscall never completes","date":"2013-08-15T14:20:28.117Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, so in LT mode (the default mode of all unices) until you don't read ALL the data pending, the fd will be reported in the next wave of data arrival","date":"2013-08-15T14:20:30.899Z","type":"message"}
{"nick":"bnoordhuis","message":"in practice that means you probably have bigger issues to worry about","date":"2013-08-15T14:20:38.582Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: correct","date":"2013-08-15T14:20:46.572Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:21:02.782Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, i agree to the starving thing, that should be pondered about","date":"2013-08-15T14:21:57.705Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, once time ago, the author of libev told me \"just disable *all* signals facilities in unix\"","date":"2013-08-15T14:22:28.877Z","type":"message"}
{"nick":"bnoordhuis","message":"well, yeah","date":"2013-08-15T14:22:44.678Z","type":"message"}
{"nick":"bnoordhuis","message":"you can't do away completely with signals, you need them for some things","date":"2013-08-15T14:22:59.428Z","type":"message"}
{"nick":"bnoordhuis","message":"but in general they're a pain. adding signals probably seemed like a good idea at the time","date":"2013-08-15T14:23:18.195Z","type":"message"}
{"nick":"rendar","message":"yeah i totally agree","date":"2013-08-15T14:23:31.022Z","type":"message"}
{"nick":"bnoordhuis","message":"when applications were always single-threaded","date":"2013-08-15T14:23:31.231Z","type":"message"}
{"nick":"rendar","message":"nowadays they're not used anymore","date":"2013-08-15T14:23:35.049Z","type":"message"}
{"nick":"rendar","message":"expecially with multithreaded applications","date":"2013-08-15T14:23:48.629Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know about 'not used'","date":"2013-08-15T14:24:00.114Z","type":"message"}
{"nick":"bnoordhuis","message":"when you press ^C, that generates a SIGINT","date":"2013-08-15T14:24:08.992Z","type":"message"}
{"nick":"bnoordhuis","message":"likewise, profiling is traditionally done by instrumenting your application and sending it SIGPROFs at fixed intervals","date":"2013-08-15T14:24:34.466Z","type":"message"}
{"nick":"bnoordhuis","message":"terminating applications, SIGTERM or SIGKILL","date":"2013-08-15T14:24:49.365Z","type":"message"}
{"nick":"bnoordhuis","message":"SIGWINCH when the terminal is resized","date":"2013-08-15T14:24:59.345Z","type":"message"}
{"nick":"bnoordhuis","message":"i can go on :)","date":"2013-08-15T14:25:02.528Z","type":"message"}
{"nick":"rendar","message":"hmmm yeah..","date":"2013-08-15T14:25:13.346Z","type":"message"}
{"nick":"rendar","message":"well, i just think that the stupid thing is just EINTR, because signals themself are still useful/used","date":"2013-08-15T14:25:44.598Z","type":"message"}
{"nick":"rendar","message":"but if we don't have that fucked EINTR, or btw the possibility to disable interrupting syscall by signals, would be great..","date":"2013-08-15T14:26:14.918Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't entirely disagree","date":"2013-08-15T14:26:45.850Z","type":"message"}
{"nick":"bnoordhuis","message":"the thing that annoys me the most is that you still have to deal with EINTR even if the fd is non-blocking","date":"2013-08-15T14:27:02.259Z","type":"message"}
{"nick":"rendar","message":"yeah","date":"2013-08-15T14:27:12.125Z","type":"message"}
{"nick":"bnoordhuis","message":"i blame posix","date":"2013-08-15T14:27:19.965Z","type":"message"}
{"nick":"rendar","message":"yeah, very bad design decision","date":"2013-08-15T14:27:31.597Z","type":"message"}
{"nick":"bnoordhuis","message":"that was somewhat tongue-in-cheek","date":"2013-08-15T14:27:52.831Z","type":"message"}
{"nick":"bnoordhuis","message":"posix just rounds up what unices do and puts that in a specification","date":"2013-08-15T14:28:07.324Z","type":"message"}
{"nick":"isaacs","message":"good morning","date":"2013-08-15T14:28:17.976Z","type":"message"}
{"nick":"bnoordhuis","message":"hey isaac","date":"2013-08-15T14:28:22.040Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: if you want to blame someone or something, it should probably be BSD","date":"2013-08-15T14:28:54.228Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm reasonably sure they started it","date":"2013-08-15T14:29:04.304Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2013-08-15T14:29:26.680Z","type":"message"}
{"nick":"rendar","message":"like select() :)","date":"2013-08-15T14:29:31.303Z","type":"message"}
{"nick":"rendar","message":"instead sysV used poll()","date":"2013-08-15T14:29:37.511Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: Yes, touching something as core to node's system as node_script.cc is frowned upon, but it's frowning that we'll just have to accept, because it needs some deep touching.","date":"2013-08-15T14:30:16.283Z","type":"message"}
{"nick":"rendar","message":"isaacs, hi","date":"2013-08-15T14:30:25.010Z","type":"message"}
{"nick":"isaacs","message":"rendar: hola","date":"2013-08-15T14:30:31.685Z","type":"message"}
{"nick":"mordy___","reason":"Ping timeout: 256 seconds","date":"2013-08-15T14:33:08.245Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: so, we have this \"optimization\" in lib/_http_outgoing.js: https://github.com/joyent/node/blob/master/lib/_http_outgoing.js#L175-L182","date":"2013-08-15T14:37:28.745Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's... odd.  if you do res.write('aaaa', 'hex'); res.write('b'); then you'll get 'aaaab' sent to the client.","date":"2013-08-15T14:38:01.392Z","type":"message"}
{"nick":"bnoordhuis","message":"that'd be a bug, wouldn't it?","date":"2013-08-15T14:38:24.611Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah.  i was wondering if you had any insights into it, but now that i git-blame it, it was written by ryah in 2010.","date":"2013-08-15T14:39:01.080Z","type":"message"}
{"nick":"rendar","message":"why? isn't that correct? you first write 'aaaa' then 'b'","date":"2013-08-15T14:39:08.530Z","type":"message"}
{"nick":"isaacs","message":"rendar: you're writing 'aaaa' as 'hex'","date":"2013-08-15T14:39:17.253Z","type":"message"}
{"nick":"isaacs","message":"not as utf8","date":"2013-08-15T14:39:18.996Z","type":"message"}
{"nick":"rendar","message":"oh sorry","date":"2013-08-15T14:39:22.802Z","type":"message"}
{"nick":"rendar","message":"didn't read that","date":"2013-08-15T14:39:25.182Z","type":"message"}
{"nick":"bnoordhuis","message":"Error: spawn EMFILE at exports._errnoException (util.js:676:11)","date":"2013-08-15T14:39:58.409Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: so, i've backed out of my big http-outgoing-refactor, and i'm just making smaller improvements to get to the API i want","date":"2013-08-15T14:40:02.486Z","type":"message"}
{"nick":"bnoordhuis","message":"opinions on raising the fd rlimit in node to rlim_max?","date":"2013-08-15T14:40:19.504Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: oh. that sounds like a bummer","date":"2013-08-15T14:40:35.033Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah, it was a very educational journey.  but unless we have a this._handle=process.binding('http_wrap'), we can't afford two buffering back-pressuring drain-emitting Writable objects in the http.OutgoingMessage flow","date":"2013-08-15T14:41:44.556Z","type":"message"}
{"nick":"isaacs","message":"and we already ahve a net.Socket","date":"2013-08-15T14:41:51.557Z","type":"message"}
{"nick":"isaacs","message":"the header management changes were faster in many common use-cases, and fixed some common user requests, but the overall approach is not sound, unfortunately.  OutgoingMessage needs to be a light facade around a Socket","date":"2013-08-15T14:42:42.247Z","type":"message"}
{"nick":"AvianFlu","date":"2013-08-15T14:42:43.385Z","type":"join"}
{"nick":"isaacs","message":"(like it is now, but... not so broken.)","date":"2013-08-15T14:42:56.817Z","type":"message"}
{"nick":"stagas","date":"2013-08-15T14:44:11.464Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00029c59978\u0002 : smalloc: don't do Has(key), then Get(key) - http://git.io/KBjq7w","date":"2013-08-15T14:48:35.967Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: by the way, did you see that issue i assigned to you?","date":"2013-08-15T14:49:14.286Z","type":"message"}
{"nick":"bnoordhuis","message":"the one about fs.ReadStream not closing the fd when the destination closes","date":"2013-08-15T14:49:33.171Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T14:51:48.031Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: ping. is smalloc.h a public header?","date":"2013-08-15T14:53:10.660Z","type":"message"}
{"nick":"bnoordhuis","message":"(i'm fearing the answer is yes)","date":"2013-08-15T14:53:22.654Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yt?","date":"2013-08-15T14:56:52.693Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: mind helping me a bit","date":"2013-08-15T14:57:01.772Z","type":"message"}
{"nick":"indutny","message":"?","date":"2013-08-15T14:57:02.900Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sorry, at dinner. biab","date":"2013-08-15T15:04:51.184Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: see ya","date":"2013-08-15T15:04:57.037Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i did not.  i'll take a look.","date":"2013-08-15T15:06:23.125Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: is that what eldar was complaining about?","date":"2013-08-15T15:06:41.038Z","type":"message"}
{"nick":"mordy__","date":"2013-08-15T15:08:08.026Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-08-15T15:10:04.389Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T15:10:06.505Z","type":"quit"}
{"nick":"isaacs","message":"oh, no, this is different.","date":"2013-08-15T15:10:45.069Z","type":"message"}
{"nick":"spolu","date":"2013-08-15T15:18:03.161Z","type":"join"}
{"nick":"jmar777","date":"2013-08-15T15:27:40.639Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-15T16:00:25.758Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T16:11:03.505Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T16:15:17.150Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-08-15T16:19:35.123Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T16:34:00.365Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T16:37:14.432Z","type":"join"}
{"nick":"julianduque","date":"2013-08-15T16:39:09.284Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-15T16:41:25.113Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-08-15T16:41:41.763Z","type":"join"}
{"nick":"piscisaureus_","message":"ircretary: tell sblom where are you? :)","date":"2013-08-15T16:42:10.368Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell sblom","date":"2013-08-15T16:42:10.583Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T16:42:42.562Z","type":"join"}
{"nick":"sblom","date":"2013-08-15T16:44:03.961Z","type":"join"}
{"nick":"sblom","message":"@piscisaureus_: I'm here.","date":"2013-08-15T16:44:41.588Z","type":"message"}
{"nick":"sblom","message":"And I'm hacking on unit tests.","date":"2013-08-15T16:44:45.783Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: ah, kewl","date":"2013-08-15T16:44:56.022Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I'm \"around\" as we agreed :)","date":"2013-08-15T16:45:05.979Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: And I seriously appreciate it.","date":"2013-08-15T16:46:28.185Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: you're welcome :)","date":"2013-08-15T16:46:50.894Z","type":"message"}
{"nick":"sblom","message":"I even have a starter question.","date":"2013-08-15T16:47:49.246Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: I'm investigating test-cluster-bind-twice. And I see that one of the child processes is the one with the headache. Do you have a good trick for getting a debugger attached to it?","date":"2013-08-15T16:48:57.646Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Operation timed out","date":"2013-08-15T16:49:05.268Z","type":"quit"}
{"nick":"sblom","message":"I wish Visual Studio had some \"automatically attach to child processes\" feature.","date":"2013-08-15T16:49:24.749Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah I miss that too...","date":"2013-08-15T16:49:38.158Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I think that if you build the debug build then the 'debug;' javascript statement will break","date":"2013-08-15T16:49:57.038Z","type":"message"}
{"nick":"sblom","message":"Oh, neat.","date":"2013-08-15T16:50:16.065Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: what you could also do is have some sort of \"pause\" when node starts","date":"2013-08-15T16:50:55.880Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g wait for a keypress","date":"2013-08-15T16:51:00.573Z","type":"message"}
{"nick":"piscisaureus_","message":"and then manually attach the debugger","date":"2013-08-15T16:51:05.598Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: fair enough. \\","date":"2013-08-15T16:51:42.110Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: or... windbg","date":"2013-08-15T16:53:12.563Z","type":"message"}
{"nick":"sblom","message":"very good point on that last one. I used to feel about half comfortable inside windbg, but that muscle is seriously atrophied at this point.","date":"2013-08-15T16:53:48.562Z","type":"message"}
{"nick":"sblom","message":"I'll give it a shot if the other tricks are too painful.","date":"2013-08-15T16:54:18.444Z","type":"message"}
{"nick":"hz","date":"2013-08-15T16:54:50.806Z","type":"join"}

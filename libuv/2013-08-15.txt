{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-08-15T00:00:02.263Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #103 \u00037UNSTABLE\u000f smartos-x64 (2/192) smartos-ia32 (2/192) windows-x64 (3/193) windows-ia32 (3/193) http://jenkins.nodejs.org/job/libuv-master-gyp/103/","date":"2013-08-15T00:00:06.646Z","type":"message"}
{"nick":"ircretary","date":"2013-08-15T00:00:11.335Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-15T00:07:45.664Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-15T00:10:03.691Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-15T00:13:32.515Z","type":"quit"}
{"nick":"brson","date":"2013-08-15T00:13:49.123Z","type":"join"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-08-15T00:29:40.559Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-08-15T00:45:54.305Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-15T00:48:50.598Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T01:13:39.509Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 246 seconds","date":"2013-08-15T01:16:19.943Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-15T01:18:49.507Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T01:28:41.225Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-15T01:30:56.989Z","type":"quit"}
{"nick":"abraxas","date":"2013-08-15T01:36:22.451Z","type":"join"}
{"nick":"dap1","date":"2013-08-15T01:48:44.337Z","type":"join"}
{"nick":"dap","reason":"Read error: Connection reset by peer","date":"2013-08-15T01:48:44.547Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T01:58:05.646Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-15T01:59:41.303Z","type":"join"}
{"nick":"mikeal","date":"2013-08-15T02:12:28.528Z","type":"join"}
{"nick":"kazupon","date":"2013-08-15T02:13:18.028Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-15T02:21:56.589Z","type":"quit"}
{"nick":"stagas","date":"2013-08-15T02:41:40.288Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-15T02:47:51.086Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T03:03:13.742Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T03:05:20.179Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T03:16:26.192Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-15T03:22:30.866Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-08-15T03:30:54.810Z","type":"quit"}
{"nick":"indexzero","date":"2013-08-15T03:43:07.046Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-08-15T03:47:21.436Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: you around?","date":"2013-08-15T03:54:39.039Z","type":"message"}
{"nick":"kazupon","date":"2013-08-15T03:55:13.292Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-15T03:59:11.071Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T04:04:24.963Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-15T04:08:00.568Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-15T04:09:29.461Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-15T04:39:38.366Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T04:54:52.726Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T04:58:38.519Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-15T05:15:05.496Z","type":"quit"}
{"nick":"bajtos","date":"2013-08-15T05:15:13.815Z","type":"join"}
{"nick":"julianduque","reason":"Read error: Operation timed out","date":"2013-08-15T05:25:55.946Z","type":"quit"}
{"nick":"szhang","date":"2013-08-15T05:46:07.658Z","type":"join"}
{"nick":"szhang","message":"hi","date":"2013-08-15T05:47:06.902Z","type":"message"}
{"nick":"tjfontaine","message":"hi","date":"2013-08-15T05:47:16.679Z","type":"message"}
{"nick":"szhang","message":"how can I compile libuv to iOS?","date":"2013-08-15T05:47:25.487Z","type":"message"}
{"nick":"tjfontaine","message":"I know some people have done it, but I don't have a reference off hand, I would start by using gyp to generate an xcode build for libuv as a static library","date":"2013-08-15T05:48:17.008Z","type":"message"}
{"nick":"szhang","message":"OK, I'll have a try","date":"2013-08-15T05:49:24.314Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-15T06:01:50.873Z","type":"quit"}
{"nick":"felixge","date":"2013-08-15T06:25:40.759Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-08-15T06:25:40.969Z","type":"quit"}
{"nick":"felixge","date":"2013-08-15T06:25:40.969Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 240 seconds","date":"2013-08-15T06:34:05.880Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T06:40:20.533Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #144 \u00037UNSTABLE\u000f windows-x64 (8/594) windows-ia32 (7/594) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/144/","date":"2013-08-15T06:42:36.599Z","type":"message"}
{"nick":"rendar","date":"2013-08-15T06:50:35.074Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T06:58:46.627Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T07:02:38.263Z","type":"join"}
{"nick":"Damn3d","reason":"Ping timeout: 245 seconds","date":"2013-08-15T07:03:20.204Z","type":"quit"}
{"nick":"Damn3d","date":"2013-08-15T07:05:01.895Z","type":"join"}
{"nick":"Benvie","reason":"Remote host closed the connection","date":"2013-08-15T07:11:16.738Z","type":"quit"}
{"nick":"Benvie","date":"2013-08-15T07:11:35.251Z","type":"join"}
{"nick":"szhang","message":"hi, I have got libuv compiled with iOS SDK, but I have to modify darwin-proctitle.h","date":"2013-08-15T07:22:26.556Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T07:52:57.632Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T07:55:21.277Z","type":"join"}
{"nick":"hz","date":"2013-08-15T08:23:29.125Z","type":"join"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-08-15T08:50:32.829Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T08:51:47.397Z","type":"join"}
{"nick":"hz","date":"2013-08-15T08:54:42.788Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T08:59:35.190Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T09:02:20.065Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-15T09:18:33.964Z","type":"quit"}
{"nick":"dominictarr","date":"2013-08-15T09:31:38.544Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-15T09:44:21.097Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-08-15T09:44:57.693Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T10:10:09.591Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 264 seconds","date":"2013-08-15T10:14:52.400Z","type":"quit"}
{"nick":"kazupon","date":"2013-08-15T10:25:43.845Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-15T10:31:48.413Z","type":"nick"}
{"nick":"kazupon","reason":"Ping timeout: 240 seconds","date":"2013-08-15T10:35:53.204Z","type":"quit"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T10:52:02.734Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-08-15T10:57:03.609Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:09:35.539Z","type":"join"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T11:15:34.288Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:16:57.121Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-08-15T11:19:42.151Z","type":"quit"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T11:52:06.761Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T11:55:57.824Z","type":"join"}
{"nick":"indutny","message":"hoya","date":"2013-08-15T12:02:52.511Z","type":"message"}
{"nick":"bnoordhuis","message":"sup fedor?","date":"2013-08-15T12:16:05.873Z","type":"message"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T12:18:05.980Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T12:21:53.921Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000298c5424\u0002 : tools: cpplint: fix NOLINT(build/include_order) - http://git.io/YVH2uQ","date":"2013-08-15T12:22:53.504Z","type":"message"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T12:34:28.187Z","type":"quit"}
{"nick":"pachet","date":"2013-08-15T12:35:18.193Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: everything is fine","date":"2013-08-15T12:35:46.913Z","type":"message"}
{"nick":"indutny","message":"deduplicating crypto right now","date":"2013-08-15T12:35:51.337Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: need some help","date":"2013-08-15T12:37:22.996Z","type":"message"}
{"nick":"indutny","message":"Undefined symbols for architecture x86_64:","date":"2013-08-15T12:37:32.723Z","type":"message"}
{"nick":"indutny","message":"  \"node::crypto::VerifyCallback\", referenced from:Undefined symbols for architecture x86_64:","date":"2013-08-15T12:37:32.942Z","type":"message"}
{"nick":"indutny","message":"  \"node::crypto::VerifyCallback\", referenced from:","date":"2013-08-15T12:37:32.942Z","type":"message"}
{"nick":"indutny","message":"(maybe you meant: __ZN4node6crypto14VerifyCallbackEiP17x509_store_ctx_st)","date":"2013-08-15T12:37:41.085Z","type":"message"}
{"nick":"indutny","message":"it seems like its trying to lookup non-mangled name?","date":"2013-08-15T12:37:55.496Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2013-08-15T12:39:31.562Z","type":"message"}
{"nick":"indutny","message":"figured it out","date":"2013-08-15T12:39:33.086Z","type":"message"}
{"nick":"hz","date":"2013-08-15T12:39:56.842Z","type":"join"}
{"nick":"indutny","message":"brb","date":"2013-08-15T12:46:57.905Z","type":"message"}
{"nick":"felixge","date":"2013-08-15T12:48:44.108Z","type":"join"}
{"nick":"bradleymeck","date":"2013-08-15T12:55:05.756Z","type":"join"}
{"nick":"stagas","date":"2013-08-15T13:03:47.513Z","type":"join"}
{"nick":"bajtos","date":"2013-08-15T13:04:18.429Z","type":"join"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T13:05:49.729Z","type":"quit"}
{"nick":"hz","date":"2013-08-15T13:14:42.108Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T13:22:35.385Z","type":"quit"}
{"nick":"Domenic_","message":"so for vm2, two questions:","date":"2013-08-15T13:37:05.288Z","type":"message"}
{"nick":"Domenic_","message":"1) is getting rid of node_script actually a good idea? or should we leave it alone, since it's so core to the platform?","date":"2013-08-15T13:37:36.869Z","type":"message"}
{"nick":"Domenic_","message":"and 2) any help debugging the assertion failure at https://github.com/domenic/node/commit/1a8210c804ec9cacfb5b689e53393bc765a2d89a would be lovely. I was told \"probably a race condition\" \"something going out of scope\" but not really sure what to do with it.","date":"2013-08-15T13:38:15.128Z","type":"message"}
{"nick":"bnoordhuis","message":"Domenic_: you mean process.binding('node_script')?","date":"2013-08-15T13:41:08.142Z","type":"message"}
{"nick":"hz","date":"2013-08-15T13:47:51.161Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-08-15T13:48:56.334Z","type":"quit"}
{"nick":"Domenic_","message":"bnoordhuis: process.binding('evals'), but yeah.","date":"2013-08-15T13:49:23.158Z","type":"message"}
{"nick":"szhang","reason":"\"\u0002ERC\u0002 Version 5.3 (IRC client for Emacs)\"","date":"2013-08-15T13:49:28.061Z","type":"part"}
{"nick":"stagas","date":"2013-08-15T13:50:12.337Z","type":"join"}
{"nick":"Domenic_","message":"bnoordhuis: this was my first attempt, although it's causing some test failures so I need to fix it a bit. https://github.com/domenic/node/commit/e47670905c18d957d7d1310c2ed9de56bcf13f84","date":"2013-08-15T13:56:28.836Z","type":"message"}
{"nick":"stagas_","date":"2013-08-15T13:56:58.730Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-08-15T13:57:55.124Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-08-15T13:57:59.990Z","type":"nick"}
{"nick":"bnoordhuis","message":"Domenic_: bindings are internal. you can remove it as long as it doesn't break anything in core","date":"2013-08-15T14:03:59.077Z","type":"message"}
{"nick":"bnoordhuis","message":"if it breaks something in someone's code, tough luck - that's what you get for depending on internals","date":"2013-08-15T14:04:20.128Z","type":"message"}
{"nick":"Domenic_","message":"bnoordhuis: yeah that makes sense. just wasn't sure if touching something so core to the module system etc. might be frowned upon.","date":"2013-08-15T14:04:44.954Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 240 seconds","date":"2013-08-15T14:05:02.547Z","type":"quit"}
{"nick":"rendar","message":"what happen when a signal interrupts a slow syscall (like read() or write()) in the middle of i/o? if it happens *before* i/o starts, you can just call again read() or write(), but in the middle of i/o? i guess the read() or write() returns the number of bytes processed but after how to read (or write) the remaining ones? how libuv solve this?","date":"2013-08-15T14:09:31.042Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: EINTR means nothing has been read or written","date":"2013-08-15T14:10:26.589Z","type":"message"}
{"nick":"bnoordhuis","message":"barring kernel bugs, of course (which has happened in the past - solaris, i'm looking at you!)","date":"2013-08-15T14:11:03.394Z","type":"message"}
{"nick":"rendar","message":"eheh","date":"2013-08-15T14:11:18.637Z","type":"message"}
{"nick":"bradleymeck","date":"2013-08-15T14:11:41.475Z","type":"join"}
{"nick":"rendar","message":"yes exactly, so when the i/o is in the middle of processing, read() and write() returns the number of bytes processed, but then, will the fd noticed up again, by epoll/kqueue/etc ?","date":"2013-08-15T14:11:52.059Z","type":"message"}
{"nick":"rendar","message":"i mean, epoll/kqueue/etc *already* noticed the fd is ready for read","date":"2013-08-15T14:12:17.271Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: yes (for epoll, yes when the fd is in level-triggered mode)","date":"2013-08-15T14:12:20.837Z","type":"message"}
{"nick":"rendar","message":"they do not know nothing about signals, i guess","date":"2013-08-15T14:12:24.704Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, oh, when EPOLLET is specified?","date":"2013-08-15T14:12:38.209Z","type":"message"}
{"nick":"bnoordhuis","message":"no, the other way around :)","date":"2013-08-15T14:12:46.316Z","type":"message"}
{"nick":"bnoordhuis","message":"most unix poll apis are level-triggered. an event keeps on being reported until it's consumed","date":"2013-08-15T14:13:12.857Z","type":"message"}
{"nick":"bnoordhuis","message":"the exception is epoll in EPOLLET mode","date":"2013-08-15T14:13:23.212Z","type":"message"}
{"nick":"bnoordhuis","message":"that's edge-triggered mode, meaning the kernel reports the event once and it's up to you to keep track","date":"2013-08-15T14:13:39.277Z","type":"message"}
{"nick":"rendar","message":"hmm yeah right","date":"2013-08-15T14:14:26.565Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, so why it seems everyone uses EPOLLET instead of level-triggering?","date":"2013-08-15T14:14:43.014Z","type":"message"}
{"nick":"bnoordhuis","message":"because it's faster","date":"2013-08-15T14:14:51.032Z","type":"message"}
{"nick":"bnoordhuis","message":"well, usually","date":"2013-08-15T14:14:53.164Z","type":"message"}
{"nick":"bnoordhuis","message":"in theory, you don't have to make as many syscalls as in level-triggered mode","date":"2013-08-15T14:15:17.008Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:15:36.960Z","type":"message"}
{"nick":"bnoordhuis","message":"because you don't have to call epoll_ctl() all the time to update the event mask","date":"2013-08-15T14:15:46.100Z","type":"message"}
{"nick":"rendar","message":"i saw that libuv swaps from level to edge triggering? am i right?","date":"2013-08-15T14:15:50.118Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe","date":"2013-08-15T14:15:59.497Z","type":"message"}
{"nick":"bnoordhuis","message":"i have patches sitting in a tree","date":"2013-08-15T14:16:05.620Z","type":"message"}
{"nick":"mcavage","date":"2013-08-15T14:16:13.544Z","type":"join"}
{"nick":"bnoordhuis","message":"however, there are some corner cases where edge-triggered mode is actually slower due to lock contention in the kernel","date":"2013-08-15T14:16:25.893Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2013-08-15T14:16:42.598Z","type":"message"}
{"nick":"rendar","message":"this is for epoll, what about kqueue and others?","date":"2013-08-15T14:16:52.125Z","type":"message"}
{"nick":"bnoordhuis","message":"i've considered fixing it and sending patches to the LKML - but that doesn't help with existing kernels :-/","date":"2013-08-15T14:17:09.186Z","type":"message"}
{"nick":"bnoordhuis","message":"the other poll apis are all level-triggered","date":"2013-08-15T14:17:19.487Z","type":"message"}
{"nick":"bnoordhuis","message":"kqueue in theory can work in edge-triggered mode","date":"2013-08-15T14:17:33.652Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's basically a kind of one-shot mode where you have to re-add the fd yourself every time","date":"2013-08-15T14:17:48.038Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:17:48.253Z","type":"message"}
{"nick":"bnoordhuis","message":"so it doesn't save you syscalls","date":"2013-08-15T14:18:00.434Z","type":"message"}
{"nick":"rendar","message":"i see, so how about read() write() are interrupted and you're in level triggering mode? how you can know that you have to keep reading/wiritng?","date":"2013-08-15T14:18:33.537Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: it doesn't matter in LT mode, the kernel will keep reporting the event until there is no more data to read / write","date":"2013-08-15T14:19:13.826Z","type":"message"}
{"nick":"bnoordhuis","message":"even so, libuv wraps calls to read() and write() in a do { ... } while (r == -1 && errno == EINTR) loop","date":"2013-08-15T14:19:37.381Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. it retries the syscall","date":"2013-08-15T14:19:53.529Z","type":"message"}
{"nick":"rendar","message":"oh ok","date":"2013-08-15T14:19:53.743Z","type":"message"}
{"nick":"bnoordhuis","message":"i should note that - in theory - that means you could starve an application if you deliver signals so fast the syscall never completes","date":"2013-08-15T14:20:28.117Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, so in LT mode (the default mode of all unices) until you don't read ALL the data pending, the fd will be reported in the next wave of data arrival","date":"2013-08-15T14:20:30.899Z","type":"message"}
{"nick":"bnoordhuis","message":"in practice that means you probably have bigger issues to worry about","date":"2013-08-15T14:20:38.582Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: correct","date":"2013-08-15T14:20:46.572Z","type":"message"}
{"nick":"rendar","message":"hmm","date":"2013-08-15T14:21:02.782Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, i agree to the starving thing, that should be pondered about","date":"2013-08-15T14:21:57.705Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis, once time ago, the author of libev told me \"just disable *all* signals facilities in unix\"","date":"2013-08-15T14:22:28.877Z","type":"message"}
{"nick":"bnoordhuis","message":"well, yeah","date":"2013-08-15T14:22:44.678Z","type":"message"}
{"nick":"bnoordhuis","message":"you can't do away completely with signals, you need them for some things","date":"2013-08-15T14:22:59.428Z","type":"message"}
{"nick":"bnoordhuis","message":"but in general they're a pain. adding signals probably seemed like a good idea at the time","date":"2013-08-15T14:23:18.195Z","type":"message"}
{"nick":"rendar","message":"yeah i totally agree","date":"2013-08-15T14:23:31.022Z","type":"message"}
{"nick":"bnoordhuis","message":"when applications were always single-threaded","date":"2013-08-15T14:23:31.231Z","type":"message"}
{"nick":"rendar","message":"nowadays they're not used anymore","date":"2013-08-15T14:23:35.049Z","type":"message"}
{"nick":"rendar","message":"expecially with multithreaded applications","date":"2013-08-15T14:23:48.629Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know about 'not used'","date":"2013-08-15T14:24:00.114Z","type":"message"}
{"nick":"bnoordhuis","message":"when you press ^C, that generates a SIGINT","date":"2013-08-15T14:24:08.992Z","type":"message"}
{"nick":"bnoordhuis","message":"likewise, profiling is traditionally done by instrumenting your application and sending it SIGPROFs at fixed intervals","date":"2013-08-15T14:24:34.466Z","type":"message"}
{"nick":"bnoordhuis","message":"terminating applications, SIGTERM or SIGKILL","date":"2013-08-15T14:24:49.365Z","type":"message"}
{"nick":"bnoordhuis","message":"SIGWINCH when the terminal is resized","date":"2013-08-15T14:24:59.345Z","type":"message"}
{"nick":"bnoordhuis","message":"i can go on :)","date":"2013-08-15T14:25:02.528Z","type":"message"}
{"nick":"rendar","message":"hmmm yeah..","date":"2013-08-15T14:25:13.346Z","type":"message"}
{"nick":"rendar","message":"well, i just think that the stupid thing is just EINTR, because signals themself are still useful/used","date":"2013-08-15T14:25:44.598Z","type":"message"}
{"nick":"rendar","message":"but if we don't have that fucked EINTR, or btw the possibility to disable interrupting syscall by signals, would be great..","date":"2013-08-15T14:26:14.918Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't entirely disagree","date":"2013-08-15T14:26:45.850Z","type":"message"}
{"nick":"bnoordhuis","message":"the thing that annoys me the most is that you still have to deal with EINTR even if the fd is non-blocking","date":"2013-08-15T14:27:02.259Z","type":"message"}
{"nick":"rendar","message":"yeah","date":"2013-08-15T14:27:12.125Z","type":"message"}
{"nick":"bnoordhuis","message":"i blame posix","date":"2013-08-15T14:27:19.965Z","type":"message"}
{"nick":"rendar","message":"yeah, very bad design decision","date":"2013-08-15T14:27:31.597Z","type":"message"}
{"nick":"bnoordhuis","message":"that was somewhat tongue-in-cheek","date":"2013-08-15T14:27:52.831Z","type":"message"}
{"nick":"bnoordhuis","message":"posix just rounds up what unices do and puts that in a specification","date":"2013-08-15T14:28:07.324Z","type":"message"}
{"nick":"isaacs","message":"good morning","date":"2013-08-15T14:28:17.976Z","type":"message"}
{"nick":"bnoordhuis","message":"hey isaac","date":"2013-08-15T14:28:22.040Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: if you want to blame someone or something, it should probably be BSD","date":"2013-08-15T14:28:54.228Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm reasonably sure they started it","date":"2013-08-15T14:29:04.304Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2013-08-15T14:29:26.680Z","type":"message"}
{"nick":"rendar","message":"like select() :)","date":"2013-08-15T14:29:31.303Z","type":"message"}
{"nick":"rendar","message":"instead sysV used poll()","date":"2013-08-15T14:29:37.511Z","type":"message"}
{"nick":"isaacs","message":"Domenic_: Yes, touching something as core to node's system as node_script.cc is frowned upon, but it's frowning that we'll just have to accept, because it needs some deep touching.","date":"2013-08-15T14:30:16.283Z","type":"message"}
{"nick":"rendar","message":"isaacs, hi","date":"2013-08-15T14:30:25.010Z","type":"message"}
{"nick":"isaacs","message":"rendar: hola","date":"2013-08-15T14:30:31.685Z","type":"message"}
{"nick":"mordy___","reason":"Ping timeout: 256 seconds","date":"2013-08-15T14:33:08.245Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: so, we have this \"optimization\" in lib/_http_outgoing.js: https://github.com/joyent/node/blob/master/lib/_http_outgoing.js#L175-L182","date":"2013-08-15T14:37:28.745Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's... odd.  if you do res.write('aaaa', 'hex'); res.write('b'); then you'll get 'aaaab' sent to the client.","date":"2013-08-15T14:38:01.392Z","type":"message"}
{"nick":"bnoordhuis","message":"that'd be a bug, wouldn't it?","date":"2013-08-15T14:38:24.611Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah.  i was wondering if you had any insights into it, but now that i git-blame it, it was written by ryah in 2010.","date":"2013-08-15T14:39:01.080Z","type":"message"}
{"nick":"rendar","message":"why? isn't that correct? you first write 'aaaa' then 'b'","date":"2013-08-15T14:39:08.530Z","type":"message"}
{"nick":"isaacs","message":"rendar: you're writing 'aaaa' as 'hex'","date":"2013-08-15T14:39:17.253Z","type":"message"}
{"nick":"isaacs","message":"not as utf8","date":"2013-08-15T14:39:18.996Z","type":"message"}
{"nick":"rendar","message":"oh sorry","date":"2013-08-15T14:39:22.802Z","type":"message"}
{"nick":"rendar","message":"didn't read that","date":"2013-08-15T14:39:25.182Z","type":"message"}
{"nick":"bnoordhuis","message":"Error: spawn EMFILE at exports._errnoException (util.js:676:11)","date":"2013-08-15T14:39:58.409Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: so, i've backed out of my big http-outgoing-refactor, and i'm just making smaller improvements to get to the API i want","date":"2013-08-15T14:40:02.486Z","type":"message"}
{"nick":"bnoordhuis","message":"opinions on raising the fd rlimit in node to rlim_max?","date":"2013-08-15T14:40:19.504Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: oh. that sounds like a bummer","date":"2013-08-15T14:40:35.033Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yeah, it was a very educational journey.  but unless we have a this._handle=process.binding('http_wrap'), we can't afford two buffering back-pressuring drain-emitting Writable objects in the http.OutgoingMessage flow","date":"2013-08-15T14:41:44.556Z","type":"message"}
{"nick":"isaacs","message":"and we already ahve a net.Socket","date":"2013-08-15T14:41:51.557Z","type":"message"}
{"nick":"isaacs","message":"the header management changes were faster in many common use-cases, and fixed some common user requests, but the overall approach is not sound, unfortunately.  OutgoingMessage needs to be a light facade around a Socket","date":"2013-08-15T14:42:42.247Z","type":"message"}
{"nick":"AvianFlu","date":"2013-08-15T14:42:43.385Z","type":"join"}
{"nick":"isaacs","message":"(like it is now, but... not so broken.)","date":"2013-08-15T14:42:56.817Z","type":"message"}
{"nick":"stagas","date":"2013-08-15T14:44:11.464Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00029c59978\u0002 : smalloc: don't do Has(key), then Get(key) - http://git.io/KBjq7w","date":"2013-08-15T14:48:35.967Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: by the way, did you see that issue i assigned to you?","date":"2013-08-15T14:49:14.286Z","type":"message"}
{"nick":"bnoordhuis","message":"the one about fs.ReadStream not closing the fd when the destination closes","date":"2013-08-15T14:49:33.171Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T14:51:48.031Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: ping. is smalloc.h a public header?","date":"2013-08-15T14:53:10.660Z","type":"message"}
{"nick":"bnoordhuis","message":"(i'm fearing the answer is yes)","date":"2013-08-15T14:53:22.654Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yt?","date":"2013-08-15T14:56:52.693Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: mind helping me a bit","date":"2013-08-15T14:57:01.772Z","type":"message"}
{"nick":"indutny","message":"?","date":"2013-08-15T14:57:02.900Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sorry, at dinner. biab","date":"2013-08-15T15:04:51.184Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: see ya","date":"2013-08-15T15:04:57.037Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i did not.  i'll take a look.","date":"2013-08-15T15:06:23.125Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: is that what eldar was complaining about?","date":"2013-08-15T15:06:41.038Z","type":"message"}
{"nick":"mordy__","date":"2013-08-15T15:08:08.026Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-08-15T15:10:04.389Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T15:10:06.505Z","type":"quit"}
{"nick":"isaacs","message":"oh, no, this is different.","date":"2013-08-15T15:10:45.069Z","type":"message"}
{"nick":"spolu","date":"2013-08-15T15:18:03.161Z","type":"join"}
{"nick":"jmar777","date":"2013-08-15T15:27:40.639Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-15T16:00:25.758Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T16:11:03.505Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T16:15:17.150Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-08-15T16:19:35.123Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-15T16:34:00.365Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-15T16:37:14.432Z","type":"join"}
{"nick":"julianduque","date":"2013-08-15T16:39:09.284Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-15T16:41:25.113Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-08-15T16:41:41.763Z","type":"join"}
{"nick":"piscisaureus_","message":"ircretary: tell sblom where are you? :)","date":"2013-08-15T16:42:10.368Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell sblom","date":"2013-08-15T16:42:10.583Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T16:42:42.562Z","type":"join"}
{"nick":"sblom","date":"2013-08-15T16:44:03.961Z","type":"join"}
{"nick":"sblom","message":"@piscisaureus_: I'm here.","date":"2013-08-15T16:44:41.588Z","type":"message"}
{"nick":"sblom","message":"And I'm hacking on unit tests.","date":"2013-08-15T16:44:45.783Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: ah, kewl","date":"2013-08-15T16:44:56.022Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I'm \"around\" as we agreed :)","date":"2013-08-15T16:45:05.979Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: And I seriously appreciate it.","date":"2013-08-15T16:46:28.185Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: you're welcome :)","date":"2013-08-15T16:46:50.894Z","type":"message"}
{"nick":"sblom","message":"I even have a starter question.","date":"2013-08-15T16:47:49.246Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: I'm investigating test-cluster-bind-twice. And I see that one of the child processes is the one with the headache. Do you have a good trick for getting a debugger attached to it?","date":"2013-08-15T16:48:57.646Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Operation timed out","date":"2013-08-15T16:49:05.268Z","type":"quit"}
{"nick":"sblom","message":"I wish Visual Studio had some \"automatically attach to child processes\" feature.","date":"2013-08-15T16:49:24.749Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah I miss that too...","date":"2013-08-15T16:49:38.158Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I think that if you build the debug build then the 'debug;' javascript statement will break","date":"2013-08-15T16:49:57.038Z","type":"message"}
{"nick":"sblom","message":"Oh, neat.","date":"2013-08-15T16:50:16.065Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: what you could also do is have some sort of \"pause\" when node starts","date":"2013-08-15T16:50:55.880Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g wait for a keypress","date":"2013-08-15T16:51:00.573Z","type":"message"}
{"nick":"piscisaureus_","message":"and then manually attach the debugger","date":"2013-08-15T16:51:05.598Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: fair enough. \\","date":"2013-08-15T16:51:42.110Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: or... windbg","date":"2013-08-15T16:53:12.563Z","type":"message"}
{"nick":"sblom","message":"very good point on that last one. I used to feel about half comfortable inside windbg, but that muscle is seriously atrophied at this point.","date":"2013-08-15T16:53:48.562Z","type":"message"}
{"nick":"sblom","message":"I'll give it a shot if the other tricks are too painful.","date":"2013-08-15T16:54:18.444Z","type":"message"}
{"nick":"hz","date":"2013-08-15T16:54:50.806Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-15T17:05:14.055Z","type":"join"}
{"nick":"hz","reason":"Remote host closed the connection","date":"2013-08-15T17:06:43.608Z","type":"quit"}
{"nick":"brson","date":"2013-08-15T17:08:06.070Z","type":"join"}
{"nick":"amartens","date":"2013-08-15T17:12:06.876Z","type":"join"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-08-15T17:12:39.812Z","type":"quit"}
{"nick":"mcavage","date":"2013-08-15T17:17:22.360Z","type":"join"}
{"nick":"perezd","date":"2013-08-15T17:18:05.120Z","type":"join"}
{"nick":"hz","date":"2013-08-15T17:22:55.151Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T17:24:34.830Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-15T17:31:50.335Z","type":"join"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-08-15T17:32:49.934Z","type":"quit"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-08-15T17:35:57.384Z","type":"quit"}
{"nick":"spolu","reason":"Ping timeout: 268 seconds","date":"2013-08-15T17:37:12.078Z","type":"quit"}
{"nick":"philips","reason":"Changing host","date":"2013-08-15T17:39:29.857Z","type":"quit"}
{"nick":"philips","date":"2013-08-15T17:39:30.073Z","type":"join"}
{"nick":"julianduque","reason":"Ping timeout: 268 seconds","date":"2013-08-15T17:40:17.125Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: hoooya","date":"2013-08-15T17:41:30.081Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis:any thoughts https://github.com/joyent/node/pull/6057/files ?","date":"2013-08-15T17:41:38.586Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: There're a couple of functions that could be merged, but that's mostly it","date":"2013-08-15T17:42:17.613Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: and all other functions are diverging too much to be easily merged","date":"2013-08-15T17:42:46.940Z","type":"message"}
{"nick":"st_luke","date":"2013-08-15T17:42:59.101Z","type":"join"}
{"nick":"sblom","message":"piscisaureus_: Wow--there's a lot going on in this test. http://jenkins.nodejs.org/job/nodejs-master-windows/219/DESTCPU=ia32,label=windows/tapTestReport/test.tap-46/","date":"2013-08-15T17:48:41.072Z","type":"message"}
{"nick":"sblom","message":"I've traced in pretty far, and the surprising failure seems to be in uv_tcp_set_socket during a uv_pipe_accept.","date":"2013-08-15T17:49:15.187Z","type":"message"}
{"nick":"sblom","message":"Getting a UV_ENOTSOCK while trying to set the socket to nonblocking mode.","date":"2013-08-15T17:49:52.670Z","type":"message"}
{"nick":"sblom","message":"Are the IPC pipes between parent and child processes in cluster supposed to be TCP sockets?","date":"2013-08-15T17:50:23.954Z","type":"message"}
{"nick":"sblom","message":"I don't understand all of what's going on, but it sorta looks like something thinks that's true when it's not.","date":"2013-08-15T17:50:42.013Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T17:51:32.084Z","type":"quit"}
{"nick":"sblom","message":"http://gist.github.com/anonymous/42d47a4802d30bf990dc","date":"2013-08-15T17:52:52.228Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: no, they are pipes","date":"2013-08-15T17:52:52.441Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: names pipes","date":"2013-08-15T17:52:55.161Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: but I think that stack trace is where it accepts a handle","date":"2013-08-15T17:53:36.764Z","type":"message"}
{"nick":"mcavage","date":"2013-08-15T17:54:50.067Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #164 \u00037UNSTABLE\u000f windows (3/193) smartos (9/192) linux (1/192) http://jenkins.nodejs.org/job/libuv-master/164/","date":"2013-08-15T17:55:12.736Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: it should have created a valid socket handle from the WSAPROTOCOL_INFOW structure that we sent over the pipe","date":"2013-08-15T17:55:14.874Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: Ahh. That helps. From the test failure, it's clearly IPC that's failing: http://jenkins.nodejs.org/job/nodejs-master-windows/219/DESTCPU=ia32,label=windows/tapTestReport/test.tap-46/","date":"2013-08-15T17:57:58.272Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: reviewed. -400 lines of code is a good start","date":"2013-08-15T17:58:01.863Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: but what I'm seeing is definitely an abort() caused while unwinding that stack I gisted.","date":"2013-08-15T17:58:19.487Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: but the IPC failure is consistent with the child process aborting out from under some attempt to send to it, right?","date":"2013-08-15T17:58:43.111Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: how much do you want?","date":"2013-08-15T17:58:44.954Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: yeah","date":"2013-08-15T17:58:59.614Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: the pipe errs if you close it that way","date":"2013-08-15T17:59:09.103Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: how much can i get?","date":"2013-08-15T17:59:19.898Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: all of it","date":"2013-08-15T17:59:24.644Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2013-08-15T17:59:30.225Z","type":"message"}
{"nick":"indutny","message":"well, I don't think there's a big point in it","date":"2013-08-15T17:59:38.157Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: Okay. So I need to figure out how to check up on that handle on the parent side of this cluster.fork.","date":"2013-08-15T17:59:43.694Z","type":"message"}
{"nick":"indutny","message":"that code in node_crypto.cc is a subject for removal","date":"2013-08-15T17:59:46.615Z","type":"message"}
{"nick":"indutny","message":"hopefuly in 1.0","date":"2013-08-15T17:59:51.806Z","type":"message"}
{"nick":"dominictarr","date":"2013-08-15T17:59:54.588Z","type":"join"}
{"nick":"indutny","message":"I don't really enjoy having two ways of using the same functionality","date":"2013-08-15T18:00:14.606Z","type":"message"}
{"nick":"indutny","message":"also it generics complicates things","date":"2013-08-15T18:00:23.645Z","type":"message"}
{"nick":"sblom","message":"This'll be really fun. :-S","date":"2013-08-15T18:00:30.666Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I'm not sure, I don't really know what's happening :)","date":"2013-08-15T18:00:37.776Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: I was more thinking out loud there.","date":"2013-08-15T18:00:53.450Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: I have to go now, bb in 5","date":"2013-08-15T18:00:57.019Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-08-15T18:03:01.766Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: better than replicating reams of code","date":"2013-08-15T18:03:13.001Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't want to be fixing the same bug twice all the time","date":"2013-08-15T18:03:25.405Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: heh","date":"2013-08-15T18:03:39.508Z","type":"message"}
{"nick":"indutny","message":"speaking of bugs","date":"2013-08-15T18:03:42.235Z","type":"message"}
{"nick":"indutny","message":"there's one in crypto_bio","date":"2013-08-15T18:03:46.924Z","type":"message"}
{"nick":"indutny","message":"that isn't reproducible in node yet","date":"2013-08-15T18:03:52.969Z","type":"message"}
{"nick":"indutny","message":"but was reproducible in my port of crypto_bio.cc to C","date":"2013-08-15T18:04:01.239Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 240 seconds","date":"2013-08-15T18:05:02.548Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: go on","date":"2013-08-15T18:06:12.594Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I'm trying to find it :)","date":"2013-08-15T18:06:30.811Z","type":"message"}
{"nick":"indutny","message":"one sec","date":"2013-08-15T18:06:34.664Z","type":"message"}
{"nick":"indutny","message":"oh, I believe that's it https://github.com/Voxer/stud/commit/1190e35d403994ee9f8f1935ab41ea2ac171913a#L3R95","date":"2013-08-15T18:07:02.299Z","type":"message"}
{"nick":"indutny","message":"basically, sometimes read head is stuck","date":"2013-08-15T18:07:16.314Z","type":"message"}
{"nick":"indutny","message":"and Peek() will return 0-length chunk","date":"2013-08-15T18:07:22.432Z","type":"message"}
{"nick":"indutny","message":"that happens because we don't move head in Peek()","date":"2013-08-15T18:07:35.830Z","type":"message"}
{"nick":"indutny","message":"and that's what's wrong here","date":"2013-08-15T18:07:41.231Z","type":"message"}
{"nick":"bnoordhuis","message":"when would that happen?","date":"2013-08-15T18:08:15.972Z","type":"message"}
{"nick":"indutny","message":"1. Write() should fill one Buffer instance","date":"2013-08-15T18:09:07.570Z","type":"message"}
{"nick":"indutny","message":"2. Read() should fully read it","date":"2013-08-15T18:09:12.737Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-08-15T18:09:18.973Z","type":"join"}
{"nick":"indutny","message":"3. Write() could write any data now","date":"2013-08-15T18:09:20.200Z","type":"message"}
{"nick":"piscisaureus_","message":"back","date":"2013-08-15T18:09:23.808Z","type":"message"}
{"nick":"indutny","message":"4. Peek() will return 0","date":"2013-08-15T18:09:27.481Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-15T18:10:32.345Z","type":"nick"}
{"nick":"bnoordhuis","message":"indutny: and we've never hit that so far? that sounds... unlikely","date":"2013-08-15T18:11:44.312Z","type":"message"}
{"nick":"indutny","message":"no, not really","date":"2013-08-15T18:11:50.152Z","type":"message"}
{"nick":"indutny","message":"I hit it only once in a voxer's version of stud","date":"2013-08-15T18:12:06.984Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm, weird","date":"2013-08-15T18:12:31.175Z","type":"message"}
{"nick":"bnoordhuis","message":"but okay, let's fix it","date":"2013-08-15T18:12:37.440Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-08-15T18:15:12.629Z","type":"message"}
{"nick":"indutny","message":"but first","date":"2013-08-15T18:17:03.370Z","type":"message"}
{"nick":"indutny","message":"I need to watch cartoons","date":"2013-08-15T18:17:08.243Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-08-15T18:20:51.086Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-15T18:20:59.398Z","type":"join"}
{"nick":"sblom","message":"piscisaureus_: Jonathan and I are in the same room now. He's working on incorporating the feedback on his pull request from last week.","date":"2013-08-15T18:21:33.782Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: cool. Is he swearing and shouting already?","date":"2013-08-15T18:21:53.438Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: Not too much. :)","date":"2013-08-15T18:22:07.941Z","type":"message"}
{"nick":"piscisaureus_","message":":D","date":"2013-08-15T18:22:21.069Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: while you're at my disposal, can you fix office 2013 to be not sluggish?","date":"2013-08-15T18:22:53.517Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: Man--I'd love to, but I don't think they'll accept my pull requests. :p","date":"2013-08-15T18:23:39.372Z","type":"message"}
{"nick":"indexzero","date":"2013-08-15T18:24:33.487Z","type":"join"}
{"nick":"piscisaureus_","message":"dang","date":"2013-08-15T18:25:38.585Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T18:26:06.076Z","type":"join"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-08-15T18:30:02.693Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T18:30:30.755Z","type":"join"}
{"nick":"sblom","message":"piscisaureus_: I'm going to be busy for a while trying to debug across these two processes to figure out what's going on. I don't know if it's fair for me to keep you here much longer today. But I'll hopefully have 100 more questions tomorrow for you.","date":"2013-08-15T18:34:03.684Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: alright. I'll be around (but maybe afk intermittently) for 1,5 more ours","date":"2013-08-15T18:34:35.596Z","type":"message"}
{"nick":"piscisaureus_","message":"*hours","date":"2013-08-15T18:34:37.484Z","type":"message"}
{"nick":"piscisaureus_","message":"sblom: so bug if I'm still there and, yes, poke my another way if not","date":"2013-08-15T18:34:58.736Z","type":"message"}
{"nick":"sblom","message":"piscisaureus_: cool--I'll hurry. :P","date":"2013-08-15T18:35:01.314Z","type":"message"}
{"nick":"sblom","message":"Okay--appreciate it very much.","date":"2013-08-15T18:35:10.642Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-08-15T18:37:44.103Z","type":"join"}
{"nick":"pachet","date":"2013-08-15T18:40:30.092Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 245 seconds","date":"2013-08-15T18:41:15.129Z","type":"quit"}
{"nick":"julianduque","date":"2013-08-15T18:43:52.891Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #220 \u00037UNSTABLE\u000f windows-x64 (19/622) windows-ia32 (18/622) http://jenkins.nodejs.org/job/nodejs-master-windows/220/","date":"2013-08-15T18:46:35.751Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on unix, does libuv implicitly stop readon upon EOF ?","date":"2013-08-15T18:50:43.056Z","type":"message"}
{"nick":"M28","reason":"Ping timeout: 264 seconds","date":"2013-08-15T18:54:09.758Z","type":"quit"}
{"nick":"bnoordhuis","message":"ERROR: Error cloning remote repo 'origin' : Could not clone https://github.com/joyent/node.git","date":"2013-08-15T18:55:19.916Z","type":"message"}
{"nick":"bnoordhuis","message":"hudson.plugins.git.GitException: Could not clone https://github.com/joyent/node.git","date":"2013-08-15T18:55:22.857Z","type":"message"}
{"nick":"bnoordhuis","message":"^ sigh","date":"2013-08-15T18:55:25.853Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it does in master","date":"2013-08-15T18:56:03.059Z","type":"message"}
{"nick":"M28","date":"2013-08-15T18:56:08.150Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: cool!","date":"2013-08-15T18:56:14.905Z","type":"message"}
{"nick":"bnoordhuis","message":"in v0.10 too, it seems - guess i back-ported that","date":"2013-08-15T18:56:39.306Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on any error or just EOF","date":"2013-08-15T18:56:40.876Z","type":"message"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-08-15T18:57:26.811Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: no, only on EOF. with other errors, the user should just always close the handle","date":"2013-08-15T18:57:27.026Z","type":"message"}
{"nick":"st_luke_","date":"2013-08-15T18:57:30.086Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I'd like it to implicitly stop reading there too, but that's for another day :)","date":"2013-08-15T18:58:00.648Z","type":"message"}
{"nick":"bnoordhuis","message":"or call uv_read_stop()","date":"2013-08-15T18:58:00.856Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok - so if uv_read_stop is okay then I'll go with that.","date":"2013-08-15T18:58:11.398Z","type":"message"}
{"nick":"bnoordhuis","message":"uv-unix enforces that you stop the handle on error, it asserts when you don't","date":"2013-08-15T18:58:24.182Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00020aa1335\u0002 : timers: dispatch ontimeout callback by array index (+1 more commits) - http://git.io/f4ah6A","date":"2013-08-15T18:59:33.975Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: check your email (and reply)","date":"2013-08-15T19:03:20.283Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: tomorrow","date":"2013-08-15T19:03:32.104Z","type":"message"}
{"nick":"piscisaureus_","message":"manjana manjana","date":"2013-08-15T19:03:52.138Z","type":"message"}
{"nick":"bnoordhuis","message":"the right reply is 'you're 100% correct and full of awesome' btw","date":"2013-08-15T19:04:01.125Z","type":"message"}
{"nick":"bnoordhuis","message":"'i want to have your babies' is acceptable too","date":"2013-08-15T19:04:14.417Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I'm not sure but I guess jeugdzorg wants your babies","date":"2013-08-15T19:04:43.220Z","type":"message"}
{"nick":"piscisaureus_","message":"where I meant:","date":"2013-08-15T19:04:55.181Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm not sure about myself but etc.","date":"2013-08-15T19:05:07.083Z","type":"message"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-08-15T19:08:05.471Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #424 \u00037UNSTABLE\u000f osx-ia32 (2/622) smartos-ia32 (5/622) linux-ia32 (2/622) smartos-x64 (11/622) linux-x64 (3/622) osx-x64 (2/622) http://jenkins.nodejs.org/job/nodejs-master/424/","date":"2013-08-15T19:08:34.105Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #221 \u00037UNSTABLE\u000f windows-x64 (20/622) windows-ia32 (20/622) http://jenkins.nodejs.org/job/nodejs-master-windows/221/","date":"2013-08-15T19:18:55.246Z","type":"message"}
{"nick":"isaacs","message":"ok, got http outgoing messages to behave like a proper Writable stream, with callbacks, a proper 'finish' event, and correct behavior for base64 and hex encodings.","date":"2013-08-15T19:19:08.710Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: sup, and yes","date":"2013-08-15T19:19:16.237Z","type":"message"}
{"nick":"isaacs","message":"and afaict, still the only perf impact is noise","date":"2013-08-15T19:19:21.962Z","type":"message"}
{"nick":"isaacs","message":"(running a NODE_BENCH_RUNS=10 benchmark just to be sure)","date":"2013-08-15T19:19:42.014Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: how's it be?","date":"2013-08-15T19:21:33.097Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: pretty good","date":"2013-08-15T19:21:52.207Z","type":"message"}
{"nick":"trevnorris","message":"needed me for something?","date":"2013-08-15T19:22:01.919Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'd pinged you about some performance questino, but i figured it out.","date":"2013-08-15T19:22:02.275Z","type":"message"}
{"nick":"trevnorris","message":"ah, cool","date":"2013-08-15T19:22:08.635Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: there's a really weird optimization in http.OutgoingMessage that i wanted to knwo if you understood, but it's pretty clearly just an old bug.","date":"2013-08-15T19:22:26.961Z","type":"message"}
{"nick":"hz","date":"2013-08-15T19:25:55.091Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T19:28:11.568Z","type":"quit"}
{"nick":"trevnorris","message":"anyone know why test/message/timeout_throw.js might be failing?","date":"2013-08-15T19:30:20.829Z","type":"message"}
{"nick":"roxlu","message":"hi guys, someone -maybe- knows a fast hex to decimal conversion? (esp. hex to uint16_t)","date":"2013-08-15T19:31:54.139Z","type":"message"}
{"nick":"c4milo","date":"2013-08-15T19:36:41.762Z","type":"join"}
{"nick":"isaacs","message":"roxlu: in javascript?  var int = parseInt(hexStr, 16)","date":"2013-08-15T19:37:11.503Z","type":"message"}
{"nick":"roxlu","message":"oh sorry in C/C++","date":"2013-08-15T19:37:20.948Z","type":"message"}
{"nick":"roxlu","message":"(I know .. a bit off  topic)","date":"2013-08-15T19:37:28.978Z","type":"message"}
{"nick":"mraleph","date":"2013-08-15T19:38:50.124Z","type":"join"}
{"nick":"bnoordhuis","message":"roxlu: grep for hex2bin in src/string_bytes.cc","date":"2013-08-15T19:40:34.249Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not ultra-fast (three branches) but it should be fast enough for most everything","date":"2013-08-15T19:41:20.346Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: why the worry about public smalloc?","date":"2013-08-15T19:41:59.256Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: i actually did some benchmarking to see what's faster, comparisons or a lookup in a table","date":"2013-08-15T19:42:18.589Z","type":"message"}
{"nick":"bnoordhuis","message":"the answer is 'it depends' - mostly on the type of cpu","date":"2013-08-15T19:43:03.264Z","type":"message"}
{"nick":"roxlu","message":"ok","date":"2013-08-15T19:43:07.116Z","type":"message"}
{"nick":"roxlu","message":"I need to process quite some data, using std::stringstream now ","date":"2013-08-15T19:43:16.657Z","type":"message"}
{"nick":"roxlu","message":"which is incredibly slow","date":"2013-08-15T19:43:20.058Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i wasn't worrying, just wondering if i can change the prototypes without fuss","date":"2013-08-15T19:43:29.233Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: i'm pretty sure hex2bin will outperform std::stringstream by a wide margin :)","date":"2013-08-15T19:43:54.684Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: well, it's still marked experimental, and hasn't even been in a stable release yet, so I wouldn't worry about it.","date":"2013-08-15T19:44:06.138Z","type":"message"}
{"nick":"roxlu","message":"awesome!","date":"2013-08-15T19:44:10.063Z","type":"message"}
{"nick":"roxlu","message":"but it only works on single chars?","date":"2013-08-15T19:44:18.612Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: yeah, just iterate over the string to decode it in full","date":"2013-08-15T19:45:48.457Z","type":"message"}
{"nick":"bnoordhuis","message":"see string_bytes.cc for an example","date":"2013-08-15T19:46:01.707Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: nah, i want to add versions that take an Environment* as their first arg","date":"2013-08-15T19:46:24.900Z","type":"message"}
{"nick":"bnoordhuis","message":"but that class definitely needs to stay internal","date":"2013-08-15T19:46:32.789Z","type":"message"}
{"nick":"bnoordhuis","message":"don't worry about it, i'll figure something out","date":"2013-08-15T19:47:06.837Z","type":"message"}
{"nick":"trevnorris","message":"ah, I see. well, do as v8 and add an smalloc::internall:: ;)","date":"2013-08-15T19:47:08.129Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, something like that :)","date":"2013-08-15T19:47:16.437Z","type":"message"}
{"nick":"piscisaureus_","message":"ok this is the time I check out","date":"2013-08-15T19:54:55.137Z","type":"message"}
{"nick":"piscisaureus_","message":"\\o","date":"2013-08-15T19:54:59.086Z","type":"message"}
{"nick":"piscisaureus_","message":"good luck sblom, keep up the good work.","date":"2013-08-15T19:55:19.394Z","type":"message"}
{"nick":"piscisaureus_","message":"and give dear john a hug","date":"2013-08-15T19:55:30.230Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-08-15T19:55:38.197Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00025ff6f85\u0002 : darwin: call pthread_setname_np() if available - http://git.io/IdrWkw","date":"2013-08-15T19:55:39.959Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: any opposition? https://github.com/trevnorris/node/compare/remove-unused-nt-vars","date":"2013-08-15T19:59:40.260Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: does that mean the infoBox thingy is completely gone?","date":"2013-08-15T20:00:28.584Z","type":"message"}
{"nick":"bnoordhuis","message":"ah no","date":"2013-08-15T20:00:47.896Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #165 \u00037UNSTABLE\u000f windows (3/193) smartos (9/192) http://jenkins.nodejs.org/job/libuv-master/165/","date":"2013-08-15T20:00:59.009Z","type":"message"}
{"nick":"bnoordhuis","message":"no, no opposition","date":"2013-08-15T20:01:02.774Z","type":"message"}
{"nick":"trevnorris","message":"cool, thanks","date":"2013-08-15T20:01:08.399Z","type":"message"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-08-15T20:01:26.027Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #104 \u00037UNSTABLE\u000f windows-x64 (3/193) windows-ia32 (4/193) smartos-x64 (2/192) smartos-ia32 (2/192) http://jenkins.nodejs.org/job/libuv-master-gyp/104/","date":"2013-08-15T20:01:58.017Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Trevor Norris\u000f \u00037master\u000f * \u0002ab5dabf\u0002 : node: remove duplicate infoBox checks - http://git.io/cet0mQ","date":"2013-08-15T20:02:44.031Z","type":"message"}
{"nick":"mcavage","date":"2013-08-15T20:04:36.043Z","type":"join"}
{"nick":"dominictarr","reason":"Ping timeout: 240 seconds","date":"2013-08-15T20:07:10.347Z","type":"quit"}
{"nick":"dominictarr","date":"2013-08-15T20:07:32.405Z","type":"join"}
{"nick":"bnoordhuis","action":"goes fix some merge conflicts","date":"2013-08-15T20:08:06.598Z","type":"action"}
{"nick":"bnoordhuis","message":"hrm, some are caused by my own patches to master","date":"2013-08-15T20:08:49.602Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-08-15T20:09:29.054Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #425 \u00037UNSTABLE\u000f osx-ia32 (2/622) smartos-ia32 (3/622) linux-ia32 (3/622) smartos-x64 (10/622) linux-x64 (52/622) osx-x64 (52/622) http://jenkins.nodejs.org/job/nodejs-master/425/","date":"2013-08-15T20:13:35.210Z","type":"message"}
{"nick":"st_luke_","reason":"Read error: Connection reset by peer","date":"2013-08-15T20:17:34.057Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-15T20:17:56.768Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #147 \u00037UNSTABLE\u000f smartos-ia32 (4/622) osx-ia32 (69/622) smartos-x64 (12/622) osx-x64 (2/622) linux-x64 (2/622) linux-ia32 (31/622) http://jenkins.nodejs.org/job/libuv-node-integration/147/","date":"2013-08-15T20:19:32.360Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: no worries. i have several others just waiting for multi-context to land :)","date":"2013-08-15T20:20:33.265Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: yeah, i'll try to get it in mergeable state soon","date":"2013-08-15T20:21:38.459Z","type":"message"}
{"nick":"bnoordhuis","message":"it's kind of a bummer i didn't really had time to work on it yesterday and the day before","date":"2013-08-15T20:21:56.189Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: no worries. took me about an hour to wrap my head around, but now doesn't take much effort to convert small changes over.","date":"2013-08-15T20:22:21.440Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: in the meantime, care to review either of these? https://github.com/joyent/node/pulls/isaacs","date":"2013-08-15T20:22:27.322Z","type":"message"}
{"nick":"trevnorris","message":"will do","date":"2013-08-15T20:22:38.681Z","type":"message"}
{"nick":"isaacs","message":"thanks!","date":"2013-08-15T20:22:44.949Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002a1ea8a2\u0002 : test: update tests after internal api change - http://git.io/mxC_mQ","date":"2013-08-15T20:22:46.466Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #222 \u00037UNSTABLE\u000f windows-x64 (20/622) windows-ia32 (20/622) http://jenkins.nodejs.org/job/nodejs-master-windows/222/","date":"2013-08-15T20:22:53.467Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 268 seconds","date":"2013-08-15T20:28:01.285Z","type":"quit"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-08-15T20:29:03.870Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-15T20:29:32.574Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #426 \u00037UNSTABLE\u000f osx-ia32 (1/622) smartos-ia32 (3/622) linux-ia32 (1/622) smartos-x64 (11/622) linux-x64 (1/622) osx-x64 (1/622) http://jenkins.nodejs.org/job/nodejs-master/426/","date":"2013-08-15T20:31:43.649Z","type":"message"}
{"nick":"st_luke","reason":"Ping timeout: 240 seconds","date":"2013-08-15T20:32:51.187Z","type":"quit"}
{"nick":"brson","date":"2013-08-15T20:33:52.363Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: done and done","date":"2013-08-15T20:36:37.126Z","type":"message"}
{"nick":"trevnorris","message":"do have to say, all these optimizations recently are really going to give me a lot to talk about at nodeconf.eu","date":"2013-08-15T20:36:40.942Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that's rad.  people eat that shit up.","date":"2013-08-15T20:37:26.418Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: want to make sure i'm not replicating work. the object in the nextTickQueue would be more easily accessible from c++ if the domain field was also an index.","date":"2013-08-15T20:37:40.125Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: looking forward to it. just hoping my brain isn't fried from all the awesomeness by the time I talk","date":"2013-08-15T20:38:19.349Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: go for it","date":"2013-08-15T20:39:49.189Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #223 \u00037UNSTABLE\u000f windows-x64 (18/622) windows-ia32 (20/622) http://jenkins.nodejs.org/job/nodejs-master-windows/223/","date":"2013-08-15T20:46:03.957Z","type":"message"}
{"nick":"st_luke","date":"2013-08-15T20:47:11.998Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: to answer your question, the test uses setTimeout instead of setImmediate because of timing","date":"2013-08-15T20:52:49.239Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: setImmediate is too fast","date":"2013-08-15T20:52:58.302Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i added 100ms timeout on it, just to avdoid the failures you still sometimes get with setTimeout","date":"2013-08-15T20:53:22.074Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: interesting.","date":"2013-08-15T20:53:35.943Z","type":"message"}
{"nick":"isaacs","message":"yeah, i don't remember why that was","date":"2013-08-15T20:53:48.201Z","type":"message"}
{"nick":"isaacs","message":"localhost is nearly-immediate, but not quite","date":"2013-08-15T20:53:58.463Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00021eedbdc\u0002 : doc: http keepalive, agent options (+1 more commits) - http://git.io/CyBeVw","date":"2013-08-15T20:55:12.107Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #427 \u00037UNSTABLE\u000f osx-ia32 (5/623) smartos-ia32 (4/623) linux-ia32 (2/623) smartos-x64 (9/623) linux-x64 (2/623) osx-x64 (2/623) http://jenkins.nodejs.org/job/nodejs-master/427/","date":"2013-08-15T21:09:00.319Z","type":"message"}
{"nick":"Raynos","message":"Is it possible to peek at HTTP headers on a TCP handle without consuming bytes? I want to do something like cluster but load balance based on headers (sticky)","date":"2013-08-15T21:10:12.749Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #224 \u00037UNSTABLE\u000f windows-x64 (20/623) windows-ia32 (20/623) http://jenkins.nodejs.org/job/nodejs-master-windows/224/","date":"2013-08-15T21:15:00.476Z","type":"message"}
{"nick":"trevnorris","message":"um... somehow the file \"\\033\\033\\033q\" got created in my repo root. strange.","date":"2013-08-15T21:15:33.975Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T21:16:24.123Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-15T21:19:06.157Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: still there?","date":"2013-08-15T21:21:11.425Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-15T21:21:18.179Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00027304a62\u0002 : doc: http rawHeaders/rawTrailers (+1 more commits) - http://git.io/UAQL4A","date":"2013-08-15T21:22:04.578Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: thank you kindly, sir","date":"2013-08-15T21:22:12.965Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: partially","date":"2013-08-15T21:22:32.305Z","type":"message"}
{"nick":"indutny","message":"finishing patch for crypto-bio","date":"2013-08-15T21:23:06.972Z","type":"message"}
{"nick":"indutny","message":"sorry, was watching movies before it","date":"2013-08-15T21:23:12.093Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: not a problem","date":"2013-08-15T21:23:25.425Z","type":"message"}
{"nick":"trevnorris","message":"strange, somewhere the \"domain\" attribute is being set on the object passed to MakeCallback that's not in req_wrap","date":"2013-08-15T21:24:05.249Z","type":"message"}
{"nick":"trevnorris","message":"but I can't find it","date":"2013-08-15T21:24:08.881Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #428 \u00037UNSTABLE\u000f osx-ia32 (2/624) smartos-ia32 (5/624) linux-ia32 (3/624) smartos-x64 (11/624) linux-x64 (3/624) osx-x64 (3/624) http://jenkins.nodejs.org/job/nodejs-master/428/","date":"2013-08-15T21:31:34.744Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/joyent/node/pull/6061","date":"2013-08-15T21:33:02.732Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: please take a look if you'll have a minute","date":"2013-08-15T21:33:10.402Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: while you're on a roll: https://github.com/joyent/node/pull/6062","date":"2013-08-15T21:35:31.276Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: :D","date":"2013-08-15T21:35:33.800Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-08-15T21:35:42.365Z","type":"quit"}
{"nick":"isaacs","message":"i'm going to back-port  6d3d60a","date":"2013-08-15T21:35:49.520Z","type":"message"}
{"nick":"isaacs","message":"to v0.10","date":"2013-08-15T21:35:51.504Z","type":"message"}
{"nick":"isaacs","message":"so there'll be another one of those coming soon","date":"2013-08-15T21:35:55.909Z","type":"message"}
{"nick":"mraleph1","date":"2013-08-15T21:38:06.908Z","type":"join"}
{"nick":"mraleph","reason":"Read error: Connection reset by peer","date":"2013-08-15T21:38:52.074Z","type":"quit"}
{"nick":"indutny","message":"isaacs: what's 6d3d60a ?","date":"2013-08-15T21:39:03.578Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-08-15T21:39:14.544Z","type":"message"}
{"nick":"indutny","message":"somehow I don't have it in my tree","date":"2013-08-15T21:39:18.873Z","type":"message"}
{"nick":"indutny","message":"what's up with you, git","date":"2013-08-15T21:39:22.097Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #225 \u00037UNSTABLE\u000f windows-x64 (23/624) windows-ia32 (22/624) http://jenkins.nodejs.org/job/nodejs-master-windows/225/","date":"2013-08-15T21:42:08.039Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i'll look at it tomorrow","date":"2013-08-15T21:44:28.268Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: done","date":"2013-08-15T21:46:54.113Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: thanks","date":"2013-08-15T21:47:18.903Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, so, i can avoid the Buffer.byteLength for everything except base64","date":"2013-08-15T21:47:30.384Z","type":"message"}
{"nick":"isaacs","message":"since hex is always 1/2 length","date":"2013-08-15T21:47:36.161Z","type":"message"}
{"nick":"trevnorris","message":"erm. and utf8","date":"2013-08-15T21:47:42.536Z","type":"message"}
{"nick":"isaacs","message":"if it's utf8 in that case, it's already been handled.","date":"2013-08-15T21:47:54.482Z","type":"message"}
{"nick":"trevnorris","message":"ah, great.","date":"2013-08-15T21:47:58.992Z","type":"message"}
{"nick":"groundwater","date":"2013-08-15T21:48:02.296Z","type":"join"}
{"nick":"isaacs","message":"binary, base64, and hex, i guess.","date":"2013-08-15T21:48:27.347Z","type":"message"}
{"nick":"Raynos","message":"indutny: ( https://github.com/indutny/sticky-session/issues/3 ) \"that its possible\" any suggestion on how to do this?","date":"2013-08-15T21:48:56.630Z","type":"message"}
{"nick":"trevnorris","message":"binary's handled.","date":"2013-08-15T21:49:08.664Z","type":"message"}
{"nick":"isaacs","message":"oh, wait, no","date":"2013-08-15T21:49:12.440Z","type":"message"}
{"nick":"isaacs","message":"that's a different spot","date":"2013-08-15T21:49:16.291Z","type":"message"}
{"nick":"isaacs","message":"yeah, it's utf8","date":"2013-08-15T21:49:18.690Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok","date":"2013-08-15T21:49:22.875Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'd rather not unroll every possible encoding everywehre we need the length, though","date":"2013-08-15T21:49:42.300Z","type":"message"}
{"nick":"isaacs","message":"that's hideous","date":"2013-08-15T21:49:45.988Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: what if Buffer.byteLength just did this, and only called into C++ for utf8 and base64?","date":"2013-08-15T21:50:11.207Z","type":"message"}
{"nick":"trevnorris","message":"can do.","date":"2013-08-15T21:50:18.586Z","type":"message"}
{"nick":"trevnorris","message":"want me to write that up real fast, or you want to take care of it?","date":"2013-08-15T21:50:27.805Z","type":"message"}
{"nick":"isaacs","message":"if you wanna, go for it","date":"2013-08-15T21:50:34.884Z","type":"message"}
{"nick":"trevnorris","message":"will do, have it done in a minute","date":"2013-08-15T21:50:43.279Z","type":"message"}
{"nick":"isaacs","message":"i'll avoid the check at all in the cases where we know it's either hex or base64","date":"2013-08-15T21:50:46.756Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-08-15T21:51:33.528Z","type":"quit"}
{"nick":"trevnorris","message":"sounds good","date":"2013-08-15T21:51:34.733Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: oh... actually... if Buffer.byteLength has that optimziation that the JIT can chew on, what's the point?","date":"2013-08-15T21:52:54.934Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: true true. ok, don't worry about it for your patch and I'll do it in buffer.js","date":"2013-08-15T21:53:21.994Z","type":"message"}
{"nick":"isaacs","message":"great!","date":"2013-08-15T21:53:29.257Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'll just s/ascii/binary/ then","date":"2013-08-15T21:53:58.272Z","type":"message"}
{"nick":"rendar","reason":"Quit: Leaving","date":"2013-08-15T21:54:19.119Z","type":"quit"}
{"nick":"trevnorris","message":"sounds and looks good","date":"2013-08-15T21:54:45.048Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: pushed.","date":"2013-08-15T21:56:13.855Z","type":"message"}
{"nick":"trevnorris","message":"awesome.","date":"2013-08-15T21:56:36.875Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: binary being faster than ascii, is that new in master, or applies to v0.10 as well?","date":"2013-08-15T21:57:09.964Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just master. that's when we move to the OneByte api","date":"2013-08-15T21:57:58.261Z","type":"message"}
{"nick":"trevnorris","message":"it's hideously slow in v0.10","date":"2013-08-15T21:58:06.958Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2013-08-15T21:58:07.792Z","type":"message"}
{"nick":"isaacs","message":"that's what i thought.","date":"2013-08-15T21:58:12.373Z","type":"message"}
{"nick":"trevnorris","message":"like, the upgrade to the OneByte api made binary encoding 2600% faster","date":"2013-08-15T21:58:31.149Z","type":"message"}
{"nick":"isaacs","message":"it was kind of surprising to me that binary would be faster.  i remember it being like, the reason we have buffers, because it's so terribly slow.","date":"2013-08-15T21:58:33.121Z","type":"message"}
{"nick":"isaacs","message":"hahahha awesome","date":"2013-08-15T21:58:37.012Z","type":"message"}
{"nick":"isaacs","message":"good thing we ddn't deprecate it, eh?","date":"2013-08-15T21:58:45.373Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-08-15T21:58:47.764Z","type":"quit"}
{"nick":"trevnorris","message":"it happened when v8 decided to natively support latin1","date":"2013-08-15T21:58:51.839Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah","date":"2013-08-15T21:58:55.126Z","type":"message"}
{"nick":"trevnorris","message":"technically binary encoding is now latin1 encoding","date":"2013-08-15T21:59:02.689Z","type":"message"}
{"nick":"trevnorris","message":"that's how v8 handles it","date":"2013-08-15T21:59:05.905Z","type":"message"}
{"nick":"isaacs","message":"oh, right, becasue we used to have to have a 2-byte string and throw away every other byte.","date":"2013-08-15T22:00:09.929Z","type":"message"}
{"nick":"trevnorris","message":"yup","date":"2013-08-15T22:00:16.978Z","type":"message"}
{"nick":"isaacs","message":"oh, god, 0.10 is so old.","date":"2013-08-15T22:00:24.514Z","type":"message"}
{"nick":"isaacs","message":"it's painful to use now.","date":"2013-08-15T22:00:28.633Z","type":"message"}
{"nick":"isaacs","message":"i'm so over it.","date":"2013-08-15T22:00:30.037Z","type":"message"}
{"nick":"isaacs","message":"http all in one file??  srsly?","date":"2013-08-15T22:00:38.336Z","type":"message"}
{"nick":"isaacs","message":"who thought THAT was a good idea?","date":"2013-08-15T22:00:42.121Z","type":"message"}
{"nick":"isaacs","message":";)","date":"2013-08-15T22:00:43.688Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-08-15T22:00:44.879Z","type":"message"}
{"nick":"isaacs","message":"i'm so used to the new organization, i can't even barely remember how i used to debug it.","date":"2013-08-15T22:01:02.380Z","type":"message"}
{"nick":"trevnorris","message":"no kidding. tried to help someone with the native Buffer api. took me a few minutes.","date":"2013-08-15T22:01:38.213Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: the best part, with external strings that gives us the ability to create mutable binary strings. sure that has some use somewhere :P","date":"2013-08-15T22:02:37.641Z","type":"message"}
{"nick":"isaacs","message":"yeah, i want to explore that a lot more post-v0.12","date":"2013-08-15T22:03:01.918Z","type":"message"}
{"nick":"isaacs","message":"forget buffers, man","date":"2013-08-15T22:03:25.454Z","type":"message"}
{"nick":"isaacs","message":"binary strings.  old school.","date":"2013-08-15T22:03:29.205Z","type":"message"}
{"nick":"isaacs","message":"return to node 0.1 apis","date":"2013-08-15T22:03:33.099Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-08-15T22:03:33.311Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-08-15T22:03:37.561Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so OutgoingMessage-refactor-part1 lgty?","date":"2013-08-15T22:04:08.448Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: backported for v0.10: https://github.com/joyent/node/pull/6064","date":"2013-08-15T22:04:14.460Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. lgtm","date":"2013-08-15T22:04:55.836Z","type":"message"}
{"nick":"isaacs","message":"kewl, thanks","date":"2013-08-15T22:05:01.832Z","type":"message"}
{"nick":"trevnorris","message":"not a problem.","date":"2013-08-15T22:05:44.449Z","type":"message"}
{"nick":"indutny","message":"Raynos: handle._readStop, I guess","date":"2013-08-15T22:05:50.844Z","type":"message"}
{"nick":"indutny","message":"Raynos: probably some easier way","date":"2013-08-15T22:06:03.536Z","type":"message"}
{"nick":"indutny","message":"I don't really feel like I would like to investigate it that much :D","date":"2013-08-15T22:06:16.456Z","type":"message"}
{"nick":"indutny","message":"sorry","date":"2013-08-15T22:06:17.714Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i've been able to make the domain module not dependent on core internals w/ the new api. as soon as the multi-context stuff is merged i'll throw up the pr","date":"2013-08-15T22:06:26.965Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm super psyched for that.","date":"2013-08-15T22:06:42.230Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i know othiym23 will probably dig it as well.","date":"2013-08-15T22:06:49.608Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah, me too. but probably for different reasons ;)","date":"2013-08-15T22:07:04.145Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-08-15T22:07:36.123Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-15T22:08:34.039Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00021f9f863\u0002 : http: Prefer 'binary' over 'ascii' (+5 more commits) - http://git.io/ZyF3Yg","date":"2013-08-15T22:10:10.556Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.10\u000f * \u0002255650f\u0002 : http: Handle hex/base64 encodings properly - http://git.io/dZGU1w","date":"2013-08-15T22:11:05.575Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: awesome. looks good.","date":"2013-08-15T22:11:09.269Z","type":"message"}
{"nick":"isaacs","message":"sweet.  so now that works :)","date":"2013-08-15T22:11:12.207Z","type":"message"}
{"nick":"isaacs","message":"i'm kinda tempted to just not care about the setHeaders/getHeaders outgoingmessage stuff.","date":"2013-08-15T22:11:45.376Z","type":"message"}
{"nick":"isaacs","message":"i mean... it's not really hurting anyone right now, it's just ugly to read.","date":"2013-08-15T22:11:54.600Z","type":"message"}
{"nick":"dominictarr","date":"2013-08-15T22:12:33.419Z","type":"join"}
{"nick":"trevnorris","message":"well, that sounds more like code cleanup stuff for v0.13","date":"2013-08-15T22:13:15.868Z","type":"message"}
{"nick":"isaacs","message":"yeah, sort of","date":"2013-08-15T22:14:17.755Z","type":"message"}
{"nick":"isaacs","message":"but it does probably add/change api","date":"2013-08-15T22:14:21.563Z","type":"message"}
{"nick":"isaacs","message":"ie, we might have outgoing.getHeader() or outgoing.addHeader()","date":"2013-08-15T22:14:38.936Z","type":"message"}
{"nick":"isaacs","message":"also, i already wrote the code, but the patch was biting off way more than i could chew","date":"2013-08-15T22:15:01.144Z","type":"message"}
{"nick":"trevnorris","message":"know how that goes.","date":"2013-08-15T22:18:40.214Z","type":"message"}
{"nick":"amartens","date":"2013-08-15T22:22:09.381Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1415 \u00037UNSTABLE\u000f smartos-x64 (1/595) http://jenkins.nodejs.org/job/nodejs-v0.10/1415/","date":"2013-08-15T22:25:23.852Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #429 \u00037UNSTABLE\u000f osx-ia32 (3/627) smartos-ia32 (5/627) linux-ia32 (5/627) smartos-x64 (10/627) linux-x64 (4/627) osx-x64 (3/627) http://jenkins.nodejs.org/job/nodejs-master/429/","date":"2013-08-15T22:25:36.873Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-15T22:31:06.308Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #145 \u00037UNSTABLE\u000f windows-ia32 (7/595) windows-x64 (10/595) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/145/","date":"2013-08-15T22:32:52.965Z","type":"message"}
{"nick":"trevnorris","message":"suck.","date":"2013-08-15T22:34:34.064Z","type":"message"}
{"nick":"wolfeidau","date":"2013-08-15T22:34:37.480Z","type":"join"}
{"nick":"trevnorris","message":"oh well, pipe dream.","date":"2013-08-15T22:35:04.918Z","type":"message"}
{"nick":"trevnorris","message":"can't touch EventEmitter anymore...","date":"2013-08-15T22:35:12.708Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #226 \u00037UNSTABLE\u000f windows-x64 (22/627) windows-ia32 (24/627) http://jenkins.nodejs.org/job/nodejs-master-windows/226/","date":"2013-08-15T22:37:43.048Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T22:40:54.796Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-08-15T22:44:53.036Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: oh?","date":"2013-08-15T22:50:27.472Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: wanted to switch the nextTick object to indexed, since it's a lot faster to access from c++, but timers pass the event emitter as the object to ReqWrap, which has it pre-set on .domain","date":"2013-08-15T22:51:22.184Z","type":"message"}
{"nick":"trevnorris","message":"forgot that the event emitter directly attaches the domain object to the instance.","date":"2013-08-15T22:51:52.781Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-08-15T22:52:03.330Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so... you'd have to have EventEmitter do this[0] = domain or something?","date":"2013-08-15T22:54:11.560Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that sounds weird.","date":"2013-08-15T22:54:19.611Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: basically yeah. more like this[kDomain] = domain;","date":"2013-08-15T22:54:32.621Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2013-08-15T22:54:43.122Z","type":"message"}
{"nick":"trevnorris","message":"realize it looks strange, it's just heck a lot faster","date":"2013-08-15T22:54:58.043Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-08-15T22:55:07.521Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: you could still do that with timers and ticks, though","date":"2013-08-15T22:55:15.361Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just have to checkboth, i guess","date":"2013-08-15T22:55:22.268Z","type":"message"}
{"nick":"trevnorris","message":"hm. I could replicate the .domain property to [0]. not very pretty, but would get the job done.","date":"2013-08-15T22:55:49.014Z","type":"message"}
{"nick":"isaacs","message":"we can't do that with EventEmitters, though","date":"2013-08-15T22:56:05.202Z","type":"message"}
{"nick":"trevnorris","message":"eh, not sure how I feel about that. going to sleep on it and try to come up with something better.","date":"2013-08-15T22:56:11.048Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-08-15T22:56:14.395Z","type":"message"}
{"nick":"trevnorris","message":"understood","date":"2013-08-15T22:56:16.296Z","type":"message"}
{"nick":"isaacs","message":"speaking of sleep,i got up too early this morning, and i'm out of steam, i think.  it's scotch o'clock","date":"2013-08-15T22:56:44.207Z","type":"message"}
{"nick":"trevnorris","message":"sounds good. enjoy yourself.","date":"2013-08-15T22:57:06.791Z","type":"message"}
{"nick":"othiym23","message":"I do dig that!","date":"2013-08-15T22:57:50.115Z","type":"message"}
{"nick":"hueniverse","reason":"Ping timeout: 268 seconds","date":"2013-08-15T22:59:43.108Z","type":"quit"}
{"nick":"hueniverse","date":"2013-08-15T22:59:51.363Z","type":"join"}
{"nick":"c4milo","date":"2013-08-15T23:01:20.302Z","type":"join"}
{"nick":"julianduque","reason":"Ping timeout: 240 seconds","date":"2013-08-15T23:03:55.634Z","type":"quit"}
{"nick":"julianduque","date":"2013-08-15T23:07:24.341Z","type":"join"}
{"nick":"amartens","date":"2013-08-15T23:07:39.553Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: 65f6f06 is causing test-http-client-agent to fail, investigating now","date":"2013-08-15T23:18:00.167Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: what would cause uv_rwlock_wrlock() to hang on the first call? I called uv_rwlock_init() first to init it","date":"2013-08-15T23:20:07.138Z","type":"message"}
{"nick":"kenperkins","date":"2013-08-15T23:25:17.548Z","type":"join"}
{"nick":"kenperkins","reason":"Client Quit","date":"2013-08-15T23:27:15.621Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-15T23:28:24.825Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-08-15T23:30:54.182Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: trevnorris so what's the status on the \"blessed\" native abstraction layeR?","date":"2013-08-15T23:32:11.702Z","type":"message"}
{"nick":"TooTallNate","message":"i've been getting lots of bug reports asking me to use \"nan\"","date":"2013-08-15T23:32:20.870Z","type":"message"}
{"nick":"trevnorris","message":"... I have nothing to do w/ that, and i'd so some benchmarking if you decide to use nan","date":"2013-08-15T23:32:58.714Z","type":"message"}
{"nick":"trevnorris","message":"TooTallNate: also, I think isaacs said that if we do decide to integrate a \"blessed\" native abstraction it won't have backwards compatibility.","date":"2013-08-15T23:36:12.889Z","type":"message"}
{"nick":"trevnorris","message":"so you'd have to use tjfontaine's userland module","date":"2013-08-15T23:36:23.265Z","type":"message"}
{"nick":"kazupon","date":"2013-08-15T23:38:22.129Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-15T23:38:41.339Z","type":"join"}
{"nick":"bnoordhuis","message":"kellabyte: i don't know","date":"2013-08-15T23:41:18.074Z","type":"message"}
{"nick":"mordy__","message":"hrm; i'm forgetting now -- does node spawn any threads? (unix) -- or is that a sign of something \"special\" being done","date":"2013-08-15T23:43:52.529Z","type":"message"}
{"nick":"bnoordhuis","message":"mordy__: it has a thread pool for fs operations and stuff like that","date":"2013-08-15T23:44:14.846Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: oh, fwiw i'm meeting up with some guys I know at Oracle on Tues to talk about them using libuv in their latest project.","date":"2013-08-15T23:44:55.554Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: not node.jar per chance?","date":"2013-08-15T23:45:24.731Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: nope. they're working on Oracle's latest product (his business was acquired for it) and the entire thing is in C.","date":"2013-08-15T23:45:59.162Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: the write lock call is on another thread than the init, does that matter?","date":"2013-08-15T23:46:44.708Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: okay, interesting. what kind of product is it?","date":"2013-08-15T23:47:02.820Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: depends. did you start the thread before or after intializing the lock?","date":"2013-08-15T23:47:17.806Z","type":"message"}
{"nick":"bnoordhuis","message":"*initializing","date":"2013-08-15T23:47:23.007Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: it's an in memory distributed sql database, iirc","date":"2013-08-15T23:48:19.247Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: before, the other threads aren't started yet","date":"2013-08-15T23:49:14.218Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: are you locking the rwlock on one thread, then unlocking it from another?","date":"2013-08-15T23:50:28.748Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: interesting. let me know how it works out for them","date":"2013-08-15T23:51:12.221Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: naa, I'm not even getting to the unlock part, the writer lock hangs","date":"2013-08-15T23:51:36.977Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: i guess some example code is in order because i have no idea","date":"2013-08-15T23:52:37.644Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: will do. pretty sure I won't be able to answer their very technical questions. from what he's explained to me, it's pretty intense. but hey, major oracle product using libuv sounds cool. :)","date":"2013-08-15T23:53:36.608Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: https://github.com/kellabyte/Haywire/blob/master/src/haywire/http_response_cache.c#L82 if I uncomment that it hangs on that line","date":"2013-08-15T23:54:02.866Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: apropos nothing, void initialize_http_request_cache() is a minor faux pas in c","date":"2013-08-15T23:55:26.193Z","type":"message"}
{"nick":"bnoordhuis","message":"at least, i assume your intention is to declare a function that takes no arguments","date":"2013-08-15T23:55:44.052Z","type":"message"}
{"nick":"bnoordhuis","message":"but what you're actually declaring is a function that takes any number of arguments, including none","date":"2013-08-15T23:56:00.279Z","type":"message"}
{"nick":"bnoordhuis","message":"back on topic, i don't see anything obviously wrong with how you use the lock","date":"2013-08-15T23:56:55.865Z","type":"message"}
{"nick":"bnoordhuis","message":"has something called uv_rwlock_rdlock() yet?","date":"2013-08-15T23:57:26.193Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: heh, keep forgetting to have you look over my moch node.c api. tomorrow then! :)","date":"2013-08-15T23:57:52.155Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: ah yes","date":"2013-08-15T23:58:16.700Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: which then calls the method doing the writer lock lol","date":"2013-08-15T23:58:29.387Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #105 \u00037UNSTABLE\u000f windows-x64 (4/193) windows-ia32 (3/193) smartos-x64 (2/192) smartos-ia32 (2/192) linux-x64 (1/192) http://jenkins.nodejs.org/job/libuv-master-gyp/105/","date":"2013-08-15T23:58:52.381Z","type":"message"}
{"nick":"bnoordhuis","message":"hah","date":"2013-08-15T23:59:18.419Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: thats what it was, thanks for the code review! lol","date":"2013-08-15T23:59:19.177Z","type":"message"}
{"nick":"bnoordhuis","message":"no problem :)","date":"2013-08-15T23:59:25.675Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-15T23:59:56.770Z","type":"quit"}

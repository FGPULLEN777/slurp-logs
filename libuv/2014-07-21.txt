{"nick":"ircretary","reason":"Remote host closed the connection","date":"2014-07-21T00:00:00.569Z","type":"quit"}
{"nick":"ircretary","date":"2014-07-21T00:00:09.011Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T00:01:24.425Z","type":"quit"}
{"nick":"a_le","date":"2014-07-21T00:07:40.238Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T00:09:20.104Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 240 seconds","date":"2014-07-21T00:13:52.834Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T00:18:18.184Z","type":"quit"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-07-21T00:29:12.608Z","type":"quit"}
{"nick":"a_le","date":"2014-07-21T00:29:47.386Z","type":"join"}
{"nick":"avalanche123","date":"2014-07-21T00:34:44.764Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 245 seconds","date":"2014-07-21T00:38:57.357Z","type":"quit"}
{"nick":"c4milo","date":"2014-07-21T00:41:12.078Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T00:58:51.304Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T01:39:26.316Z","type":"quit"}
{"nick":"Left_Turn","reason":"Remote host closed the connection","date":"2014-07-21T01:42:52.564Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-07-21T01:45:16.081Z","type":"join"}
{"nick":"wavded","date":"2014-07-21T02:09:19.283Z","type":"join"}
{"nick":"wavded","reason":"Client Quit","date":"2014-07-21T02:09:19.403Z","type":"quit"}
{"nick":"petka_","reason":"Quit: Connection closed for inactivity","date":"2014-07-21T02:16:20.438Z","type":"quit"}
{"nick":"kazupon","date":"2014-07-21T02:19:13.946Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-07-21T02:35:22.512Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T02:44:55.187Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2014-07-21T02:48:25.637Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-07-21T02:49:39.653Z","type":"join"}
{"nick":"kazupon","date":"2014-07-21T02:58:49.247Z","type":"join"}
{"nick":"daviddias","date":"2014-07-21T03:06:57.011Z","type":"join"}
{"nick":"AvianFlu_","date":"2014-07-21T03:08:17.990Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2014-07-21T03:08:44.459Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2014-07-21T03:08:46.536Z","type":"nick"}
{"nick":"TooTallNate","date":"2014-07-21T03:45:42.778Z","type":"join"}
{"nick":"seldo","date":"2014-07-21T04:23:41.113Z","type":"quit"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T04:25:46.412Z","type":"quit"}
{"nick":"yunong","date":"2014-07-21T04:28:26.115Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T04:30:15.797Z","type":"quit"}
{"nick":"sh1mmer","date":"2014-07-21T04:32:00.462Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-07-21T04:38:14.333Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T04:38:24.010Z","type":"quit"}
{"nick":"sh1mmer","date":"2014-07-21T04:44:42.153Z","type":"join"}
{"nick":"AvianFlu","date":"2014-07-21T04:45:35.402Z","type":"join"}
{"nick":"AvianFlu","reason":"Client Quit","date":"2014-07-21T04:47:42.113Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-07-21T04:47:54.036Z","type":"join"}
{"nick":"sh1mmer","reason":"Client Quit","date":"2014-07-21T04:49:35.792Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T04:56:45.174Z","type":"join"}
{"nick":"thlorenz","date":"2014-07-21T05:02:12.670Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 255 seconds","date":"2014-07-21T05:06:53.960Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-07-21T05:09:07.010Z","type":"quit"}
{"nick":"yunong","date":"2014-07-21T05:17:49.161Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T05:22:47.866Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T05:29:07.982Z","type":"quit"}
{"nick":"kazupon_","date":"2014-07-21T05:30:34.059Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2014-07-21T05:31:04.145Z","type":"quit"}
{"nick":"seishun","date":"2014-07-21T05:41:48.828Z","type":"join"}
{"nick":"wolfeidau","date":"2014-07-21T05:55:28.653Z","type":"join"}
{"nick":"Left_Turn","date":"2014-07-21T06:24:12.149Z","type":"join"}
{"nick":"MI6","reason":"Ping timeout: 255 seconds","date":"2014-07-21T06:26:06.174Z","type":"quit"}
{"nick":"ircretary","reason":"Ping timeout: 255 seconds","date":"2014-07-21T06:26:32.920Z","type":"quit"}
{"nick":"c4milo","date":"2014-07-21T06:32:26.560Z","type":"join"}
{"nick":"ircretary","date":"2014-07-21T06:32:59.989Z","type":"join"}
{"nick":"MI6","date":"2014-07-21T06:33:28.944Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 255 seconds","date":"2014-07-21T06:36:53.992Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2014-07-21T06:42:03.817Z","type":"quit"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2014-07-21T06:50:42.654Z","type":"quit"}
{"nick":"rendar","date":"2014-07-21T06:53:24.576Z","type":"join"}
{"nick":"dsantiago","date":"2014-07-21T07:14:37.616Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-07-21T07:16:32.875Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T07:29:02.141Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 240 seconds","date":"2014-07-21T07:33:33.772Z","type":"quit"}
{"nick":"dsantiago","reason":"Ping timeout: 240 seconds","date":"2014-07-21T07:43:03.802Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T07:53:44.114Z","type":"join"}
{"nick":"dsantiago","reason":"Max SendQ exceeded","date":"2014-07-21T07:56:08.141Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T07:57:27.712Z","type":"join"}
{"nick":"petka_","date":"2014-07-21T07:57:39.438Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T08:06:21.622Z","type":"nick"}
{"nick":"bajtos","date":"2014-07-21T08:14:47.531Z","type":"join"}
{"nick":"dsantiago","reason":"Ping timeout: 260 seconds","date":"2014-07-21T08:38:12.219Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T08:41:21.840Z","type":"join"}
{"nick":"kazupon","date":"2014-07-21T08:50:55.069Z","type":"join"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T09:10:38.185Z","type":"quit"}
{"nick":"kellabyte_","new_nick":"kellabyte","date":"2014-07-21T09:18:20.675Z","type":"nick"}
{"nick":"kellabyte","reason":"Changing host","date":"2014-07-21T09:18:41.948Z","type":"quit"}
{"nick":"kellabyte","date":"2014-07-21T09:18:42.069Z","type":"join"}
{"nick":"kellabyte","reason":"Changing host","date":"2014-07-21T09:18:42.069Z","type":"quit"}
{"nick":"kellabyte","date":"2014-07-21T09:18:42.069Z","type":"join"}
{"nick":"guybrush","reason":"Excess Flood","date":"2014-07-21T09:19:18.601Z","type":"quit"}
{"nick":"guybrush","date":"2014-07-21T09:20:07.603Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T09:31:13.350Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-07-21T09:37:49.071Z","type":"quit"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2014-07-21T09:38:15.708Z","type":"quit"}
{"nick":"bajtos","date":"2014-07-21T09:41:26.301Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 250 seconds","date":"2014-07-21T09:45:52.167Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-07-21T09:51:51.597Z","type":"quit"}
{"nick":"bajtos","date":"2014-07-21T09:56:06.563Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-07-21T09:59:58.099Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 260 seconds","date":"2014-07-21T10:00:48.146Z","type":"quit"}
{"nick":"kazupon","date":"2014-07-21T10:00:50.089Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T10:08:48.643Z","type":"join"}
{"nick":"rmg","date":"2014-07-21T10:08:57.643Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 240 seconds","date":"2014-07-21T10:13:03.890Z","type":"quit"}
{"nick":"rmg","reason":"Ping timeout: 240 seconds","date":"2014-07-21T10:15:12.522Z","type":"quit"}
{"nick":"mikeal","date":"2014-07-21T10:39:05.660Z","type":"join"}
{"nick":"janjongboom","date":"2014-07-21T10:49:34.858Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2014-07-21T10:51:14.942Z","type":"quit"}
{"nick":"guybrush","reason":"Excess Flood","date":"2014-07-21T10:53:39.225Z","type":"quit"}
{"nick":"guybrush","date":"2014-07-21T10:54:38.149Z","type":"join"}
{"nick":"bajtos","date":"2014-07-21T10:56:47.936Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 240 seconds","date":"2014-07-21T11:01:22.828Z","type":"quit"}
{"nick":"mrvisser","date":"2014-07-21T11:16:22.793Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-07-21T11:28:52.341Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T11:31:31.461Z","type":"nick"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T11:33:27.420Z","type":"nick"}
{"nick":"avalanche123","date":"2014-07-21T11:34:05.790Z","type":"join"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T11:34:54.051Z","type":"nick"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2014-07-21T11:36:21.580Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 245 seconds","date":"2014-07-21T11:38:32.394Z","type":"quit"}
{"nick":"bajtos","date":"2014-07-21T11:44:20.246Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 256 seconds","date":"2014-07-21T11:49:19.035Z","type":"quit"}
{"nick":"stagas","date":"2014-07-21T11:49:58.593Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T11:57:08.502Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 245 seconds","date":"2014-07-21T12:01:52.382Z","type":"quit"}
{"nick":"AlexisMocha_","reason":"Read error: Connection reset by peer","date":"2014-07-21T12:08:04.151Z","type":"quit"}
{"nick":"AlexisMocha","date":"2014-07-21T12:08:30.345Z","type":"join"}
{"nick":"mrvisser","reason":"Remote host closed the connection","date":"2014-07-21T12:22:58.912Z","type":"quit"}
{"nick":"gargsms","date":"2014-07-21T12:28:33.869Z","type":"join"}
{"nick":"mrvisser","date":"2014-07-21T12:32:17.957Z","type":"join"}
{"nick":"bajtos","date":"2014-07-21T12:42:04.319Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 264 seconds","date":"2014-07-21T12:46:46.961Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T12:51:58.187Z","type":"quit"}
{"nick":"stagas_","date":"2014-07-21T12:54:26.410Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 250 seconds","date":"2014-07-21T12:54:41.315Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2014-07-21T12:54:50.540Z","type":"nick"}
{"nick":"gargsms","reason":"Ping timeout: 240 seconds","date":"2014-07-21T13:02:42.867Z","type":"quit"}
{"nick":"gargsms","date":"2014-07-21T13:15:06.312Z","type":"join"}
{"nick":"trevnorris","message":"jcrugzz: yeah. let's talk some time. just been really busy the last week.","date":"2014-07-21T13:22:25.440Z","type":"message"}
{"nick":"trevnorris","message":"indutny: have a sec?","date":"2014-07-21T13:22:33.120Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2014-07-21T13:23:19.285Z","type":"message"}
{"nick":"indutny","message":"heya","date":"2014-07-21T13:23:20.101Z","type":"message"}
{"nick":"indutny","message":"what's up?","date":"2014-07-21T13:23:23.819Z","type":"message"}
{"nick":"trevnorris","message":"indutny: you said in your node-spdy that you somehow hijacked the incoming data from an incoming http request before it was sent to the http parser?","date":"2014-07-21T13:24:35.821Z","type":"message"}
{"nick":"gargsms","reason":"Ping timeout: 250 seconds","date":"2014-07-21T13:28:55.313Z","type":"quit"}
{"nick":"indutny","message":"trevnorris: hm... ","date":"2014-07-21T13:29:09.392Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2014-07-21T13:29:10.098Z","type":"message"}
{"nick":"indutny","message":"but not exactly","date":"2014-07-21T13:29:17.053Z","type":"message"}
{"nick":"indutny","message":"I do create an http request myself","date":"2014-07-21T13:29:21.054Z","type":"message"}
{"nick":"bajtos","date":"2014-07-21T13:29:29.451Z","type":"join"}
{"nick":"indutny","message":"so it is almost like that :)","date":"2014-07-21T13:29:30.572Z","type":"message"}
{"nick":"pdurbin","reason":"\"WeeChat 0.4.0\"","date":"2014-07-21T13:30:31.339Z","type":"part"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T13:31:06.627Z","type":"nick"}
{"nick":"indutny","message":"sorry, brb","date":"2014-07-21T13:33:16.587Z","type":"message"}
{"nick":"euoia","date":"2014-07-21T13:35:00.310Z","type":"join"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T13:41:18.194Z","type":"quit"}
{"nick":"gargsms","date":"2014-07-21T13:41:20.825Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T13:42:21.315Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T13:45:11.513Z","type":"join"}
{"nick":"trevnorris","message":"Can anyone tell me why the following would cause a segfault? https://gist.github.com/trevnorris/a75a0a05550f3e2e3708","date":"2014-07-21T13:51:55.344Z","type":"message"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-07-21T13:54:46.554Z","type":"quit"}
{"nick":"nathan7","message":"trevnorris: *where* does the segfault occur?","date":"2014-07-21T13:56:15.955Z","type":"message"}
{"nick":"piscisaureus","date":"2014-07-21T13:57:11.114Z","type":"join"}
{"nick":"trevnorris","message":"nathan7: here's a bt: https://gist.github.com/trevnorris/a75a0a05550f3e2e3708#file-backtrace-log","date":"2014-07-21T13:59:27.438Z","type":"message"}
{"nick":"trevnorris","message":"i'm simplifying it now.","date":"2014-07-21T14:00:27.719Z","type":"message"}
{"nick":"trevnorris","message":"hm. think it has something to do w/ using args. it doesn't segfault if I do Object::New(Isolate*)","date":"2014-07-21T14:07:35.710Z","type":"message"}
{"nick":"trevnorris","message":"forget that. if I run the function twice it still fails.","date":"2014-07-21T14:10:27.872Z","type":"message"}
{"nick":"trevnorris","message":"# Fatal error in ../deps/v8/src/global-handles.cc, line 335","date":"2014-07-21T14:10:40.343Z","type":"message"}
{"nick":"trevnorris","message":"SUCK IT!","date":"2014-07-21T14:10:46.042Z","type":"message"}
{"nick":"LOUDBOT","message":"THIS IS NOT MY BEAUTIFUL WIFE! THIS IS NOT MY BEAUTIFUL HOUSE!","date":"2014-07-21T14:10:46.489Z","type":"message"}
{"nick":"AvianFlu","date":"2014-07-21T14:13:31.312Z","type":"join"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T14:21:58.189Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T14:23:12.345Z","type":"join"}
{"nick":"trevnorris","message":"strange. when I put it in a class it seems to work. whatever.","date":"2014-07-21T14:25:41.992Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 255 seconds","date":"2014-07-21T14:39:45.004Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T14:40:26.801Z","type":"quit"}
{"nick":"kazupon","date":"2014-07-21T14:42:08.952Z","type":"join"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T14:47:38.203Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T14:48:45.297Z","type":"join"}
{"nick":"mrvisser","reason":"Remote host closed the connection","date":"2014-07-21T14:50:38.717Z","type":"quit"}
{"nick":"rmg","date":"2014-07-21T14:53:13.654Z","type":"join"}
{"nick":"piscisaureus","date":"2014-07-21T14:55:12.064Z","type":"join"}
{"nick":"janjongboom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2014-07-21T15:00:14.298Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T15:00:58.189Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: because you only allocated the size of a pointer","date":"2014-07-21T15:07:15.265Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: malloc(sizeof(*async_call)));","date":"2014-07-21T15:07:23.922Z","type":"message"}
{"nick":"tjfontaine","message":"oh I thoguht that was the type name","date":"2014-07-21T15:07:56.662Z","type":"message"}
{"nick":"tjfontaine","message":"sorry still drinking my coffee","date":"2014-07-21T15:08:01.320Z","type":"message"}
{"nick":"tjfontaine","message":"hmm no I'm still skeptical of that line","date":"2014-07-21T15:08:33.345Z","type":"message"}
{"nick":"piscisaureus","message":"hello","date":"2014-07-21T15:09:20.462Z","type":"message"}
{"nick":"nathan7","message":"Hey piscisaureus ","date":"2014-07-21T15:09:33.531Z","type":"message"}
{"nick":"tjfontaine","message":"so I wonder what args.This() is in that case, when he said \"class\" he must have meant js instance","date":"2014-07-21T15:10:06.904Z","type":"message"}
{"nick":"gargsms","reason":"Remote host closed the connection","date":"2014-07-21T15:10:35.185Z","type":"quit"}
{"nick":"piscisaureus","message":"tjfontaine: trevnorris: use reinterpret_cast?","date":"2014-07-21T15:14:43.948Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus: I think it's just a red herring there, looking at the stack trace it's the args.This() failing an internal state check","date":"2014-07-21T15:16:05.150Z","type":"message"}
{"nick":"piscisaureus","message":"possibly","date":"2014-07-21T15:16:33.847Z","type":"message"}
{"nick":"tjfontaine","message":"the malloc style is not what I would prefer, in this particular case I'd just as soon use `new AsyncCall`","date":"2014-07-21T15:17:04.920Z","type":"message"}
{"nick":"tjfontaine","message":"and that may be what the problem is, the Persistent's constructor not running","date":"2014-07-21T15:17:19.916Z","type":"message"}
{"nick":"piscisaureus","message":"I agree with that.","date":"2014-07-21T15:17:20.101Z","type":"message"}
{"nick":"piscisaureus","message":"but it looks fine","date":"2014-07-21T15:17:26.360Z","type":"message"}
{"nick":"piscisaureus","message":"oh wait","date":"2014-07-21T15:17:28.137Z","type":"message"}
{"nick":"piscisaureus","message":"the constructor for Persistent<Object> is also not getting called","date":"2014-07-21T15:17:37.314Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2014-07-21T15:17:42.443Z","type":"message"}
{"nick":"tjfontaine","message":"malloc + struct is \"ok\" so long as you're not using C++ types","date":"2014-07-21T15:18:06.090Z","type":"message"}
{"nick":"tjfontaine","message":"well classes in your struct","date":"2014-07-21T15:18:13.661Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: ok - so use 'new AsyncCall'","date":"2014-07-21T15:18:17.041Z","type":"message"}
{"nick":"piscisaureus","message":"tjfontaine: so it's also not the This() call that's throwing.","date":"2014-07-21T15:18:25.801Z","type":"message"}
{"nick":"tjfontaine","message":"I think that's what he meant when he said \"when I use a class\"","date":"2014-07-21T15:18:32.975Z","type":"message"}
{"nick":"AvianFlu","date":"2014-07-21T15:18:38.186Z","type":"join"}
{"nick":"piscisaureus","message":"tjfontaine: it's the attempt that Persistent makes to release it's earlier contents","date":"2014-07-21T15:18:39.701Z","type":"message"}
{"nick":"piscisaureus","message":"makes sense","date":"2014-07-21T15:18:49.408Z","type":"message"}
{"nick":"janjongboom","date":"2014-07-21T15:21:19.931Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T15:25:53.321Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-07-21T15:30:35.172Z","type":"quit"}
{"nick":"c4milo","date":"2014-07-21T15:32:19.546Z","type":"join"}
{"nick":"mrvisser","date":"2014-07-21T15:52:00.401Z","type":"join"}
{"nick":"seishun","date":"2014-07-21T15:52:03.040Z","type":"join"}
{"nick":"andrehjr","date":"2014-07-21T15:54:51.289Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2014-07-21T15:54:58.592Z","type":"quit"}
{"nick":"dignifiedquire","date":"2014-07-21T15:59:30.296Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T16:02:22.279Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-07-21T16:02:51.313Z","type":"join"}
{"nick":"seishun","message":"is it guaranteed that a module that works with 0.11.12 will work with 0.12?","date":"2014-07-21T16:03:13.313Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T16:03:32.364Z","type":"quit"}
{"nick":"AvianFlu","date":"2014-07-21T16:03:55.033Z","type":"join"}
{"nick":"daviddias","date":"2014-07-21T16:06:42.391Z","type":"join"}
{"nick":"a_le_","date":"2014-07-21T16:15:55.845Z","type":"join"}
{"nick":"trevnorris","message":"piscisaureus / tjfontaine: thanks. it didn't occur to me that it would need to run a constructor.","date":"2014-07-21T16:16:26.318Z","type":"message"}
{"nick":"trevnorris","message":"i mean, that running .Reset(Isolate*, Handle<T>) wasn't enough","date":"2014-07-21T16:16:55.448Z","type":"message"}
{"nick":"a_le","reason":"Ping timeout: 245 seconds","date":"2014-07-21T16:18:07.410Z","type":"quit"}
{"nick":"trevnorris","message":"piscisaureus: dude, I swear there was an issue about opening multiple fs streams, since it would place a mutex on the worker threads, and that it would block I/O in some way.","date":"2014-07-21T16:18:48.480Z","type":"message"}
{"nick":"trevnorris","message":"must be loosing my mind, but can't find it for the life of me.","date":"2014-07-21T16:19:02.158Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: on mac you mean?","date":"2014-07-21T16:19:19.150Z","type":"message"}
{"nick":"trevnorris","message":"is it only on mac?","date":"2014-07-21T16:19:30.363Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: the thing you spoke to your apple friend about. Yes that's mac only.","date":"2014-07-21T16:19:45.612Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok.","date":"2014-07-21T16:19:53.863Z","type":"message"}
{"nick":"trevnorris","message":"so i'm not going completely insane.","date":"2014-07-21T16:20:10.640Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: https://github.com/joyent/libuv/blob/06c60e9662fea752d77237857bbf2c9ea5889a00/src/unix/fs.c#L587-L590","date":"2014-07-21T16:20:20.246Z","type":"message"}
{"nick":"trevnorris","message":"thanks.","date":"2014-07-21T16:20:38.776Z","type":"message"}
{"nick":"trevnorris","message":"so on linux it just opens the fd, and places a mutex on the worker thread when data needs to be written?","date":"2014-07-21T16:21:21.203Z","type":"message"}
{"nick":"inolen","date":"2014-07-21T16:21:50.337Z","type":"join"}
{"nick":"trevnorris","message":"i mainly ask because if I do an strace -c and see a lot of futex's that usually indicates either a lot of fs or a lot of dns resolution.","date":"2014-07-21T16:21:56.618Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus: also, what do you think about adding pthread_exit() / ExitThread() support to libuv ?","date":"2014-07-21T16:24:08.019Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: you want my honest answer? :)","date":"2014-07-21T16:24:25.928Z","type":"message"}
{"nick":"trevnorris","message":"yes","date":"2014-07-21T16:24:32.178Z","type":"message"}
{"nick":"trevnorris","message":"which probably means no. :)","date":"2014-07-21T16:24:41.876Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: ok. You shouldn't use either functions.","date":"2014-07-21T16:24:45.343Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: I don't care if you add it to libuv as long as you don't actually use it","date":"2014-07-21T16:25:00.215Z","type":"message"}
{"nick":"trevnorris","message":"hahaha","date":"2014-07-21T16:25:05.601Z","type":"message"}
{"nick":"trevnorris","message":"what? don't like the idea of spawning a thread to run the event loop, then closing the main thread?","date":"2014-07-21T16:25:26.085Z","type":"message"}
{"nick":"Ralith","reason":"Ping timeout: 264 seconds","date":"2014-07-21T16:25:47.044Z","type":"quit"}
{"nick":"piscisaureus","message":"trevnorris: exiting a thread by means of exitThread","date":"2014-07-21T16:26:53.396Z","type":"message"}
{"nick":"piscisaureus","message":"if you want to exit a thread, just make sure you return from the threadmain function","date":"2014-07-21T16:27:03.152Z","type":"message"}
{"nick":"piscisaureus","message":"trevnorris: I don't think pthread_exit works nicely with c++ destructors and all that","date":"2014-07-21T16:27:22.357Z","type":"message"}
{"nick":"trevnorris","message":"interesting. ok.","date":"2014-07-21T16:29:47.984Z","type":"message"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T16:30:28.934Z","type":"quit"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-07-21T16:33:50.337Z","type":"quit"}
{"nick":"a_le_","reason":"Remote host closed the connection","date":"2014-07-21T16:34:40.422Z","type":"quit"}
{"nick":"piscisaureus_","date":"2014-07-21T16:34:50.940Z","type":"join"}
{"nick":"piscisaureus","reason":"Ping timeout: 255 seconds","date":"2014-07-21T16:37:38.959Z","type":"quit"}
{"nick":"daviddias","date":"2014-07-21T16:42:52.125Z","type":"join"}
{"nick":"a_le","date":"2014-07-21T16:43:12.045Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2014-07-21T16:43:40.662Z","type":"quit"}
{"nick":"guilleiguaran__","date":"2014-07-21T16:44:50.668Z","type":"part"}
{"nick":"dirkson","message":"Ok, so I've successfully built a network stack on top of libuv. It replaces a libenet stack in my video game. Since this implementation has been in place, I've had zero problems not caused by me. This was.... not true of libenet. Just wanted to say I appreciate the lack of bugs ^.^","date":"2014-07-21T16:46:36.739Z","type":"message"}
{"nick":"a_le","reason":"Ping timeout: 256 seconds","date":"2014-07-21T16:47:23.259Z","type":"quit"}
{"nick":"saghul","message":"dirkson: we can add bugs if you need them :-P","date":"2014-07-21T16:48:10.662Z","type":"message"}
{"nick":"AlexisMocha","reason":"Ping timeout: 245 seconds","date":"2014-07-21T16:50:37.360Z","type":"quit"}
{"nick":"AlexisMocha","date":"2014-07-21T16:50:52.865Z","type":"join"}
{"nick":"TooTallNate","date":"2014-07-21T16:51:00.869Z","type":"join"}
{"nick":"jgi","date":"2014-07-21T16:55:20.676Z","type":"join"}
{"nick":"brson","date":"2014-07-21T17:08:40.389Z","type":"join"}
{"nick":"Ralith","date":"2014-07-21T17:09:36.208Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-07-21T17:11:07.997Z","type":"quit"}
{"nick":"sblom","date":"2014-07-21T17:11:51.930Z","type":"join"}
{"nick":"qard-appneta","message":"There's always bugs. They just get better at hiding.","date":"2014-07-21T17:12:35.046Z","type":"message"}
{"nick":"avalanche123","date":"2014-07-21T17:14:09.030Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-07-21T17:16:22.040Z","type":"join"}
{"nick":"dap_1","date":"2014-07-21T17:18:24.249Z","type":"join"}
{"nick":"daviddias","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-07-21T17:28:02.689Z","type":"quit"}
{"nick":"bajtos","date":"2014-07-21T17:28:37.416Z","type":"join"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T17:30:07.236Z","type":"nick"}
{"nick":"daviddias","date":"2014-07-21T17:39:45.413Z","type":"join"}
{"nick":"daviddias","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-07-21T17:58:16.488Z","type":"quit"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-07-21T18:03:21.184Z","type":"quit"}
{"nick":"daviddias","date":"2014-07-21T18:06:00.285Z","type":"join"}
{"nick":"daviddias","reason":"Client Quit","date":"2014-07-21T18:08:56.936Z","type":"quit"}
{"nick":"brockfredin","message":"I'm the main creator of bugs anywhere. :) ","date":"2014-07-21T18:10:57.909Z","type":"message"}
{"nick":"daviddias","date":"2014-07-21T18:12:19.290Z","type":"join"}
{"nick":"sh1mmer","date":"2014-07-21T18:18:52.045Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-07-21T18:21:35.083Z","type":"join"}
{"nick":"chrisdickinson","message":"tjfontaine: had a question re: splitting core modules into private core modules (a la stream & _stream_readable) -- when is it considered okay to do that?","date":"2014-07-21T18:27:18.954Z","type":"message"}
{"nick":"yunong","date":"2014-07-21T18:27:53.059Z","type":"join"}
{"nick":"chrisdickinson","message":"in specific, I was looking at maybe splitting net up into _net_common, _net_socket, _net_server or something along those lines.","date":"2014-07-21T18:28:03.114Z","type":"message"}
{"nick":"andrehjr","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T18:34:20.573Z","type":"quit"}
{"nick":"dsantiago","reason":"Read error: Connection reset by peer","date":"2014-07-21T18:34:51.961Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T18:34:57.655Z","type":"quit"}
{"nick":"dsantiag_","date":"2014-07-21T18:35:16.349Z","type":"join"}
{"nick":"avalanche123","date":"2014-07-21T18:35:31.230Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T18:36:06.333Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T18:36:18.056Z","type":"join"}
{"nick":"petka_","reason":"Quit: Connection closed for inactivity","date":"2014-07-21T18:36:20.633Z","type":"quit"}
{"nick":"dsantiag_","reason":"Max SendQ exceeded","date":"2014-07-21T18:37:25.279Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T18:46:52.367Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2014-07-21T18:47:37.731Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T18:50:58.195Z","type":"quit"}
{"nick":"rendar","reason":"Ping timeout: 255 seconds","date":"2014-07-21T18:51:18.005Z","type":"quit"}
{"nick":"andrehjr","date":"2014-07-21T18:51:18.502Z","type":"join"}
{"nick":"rendar","date":"2014-07-21T18:57:04.087Z","type":"join"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T18:57:14.666Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T19:02:38.313Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T19:12:55.087Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T19:16:41.744Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T19:16:41.980Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T19:16:56.244Z","type":"join"}
{"nick":"a_le","date":"2014-07-21T19:18:41.963Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-07-21T19:29:19.742Z","type":"quit"}
{"nick":"jgi","reason":"Ping timeout: 256 seconds","date":"2014-07-21T19:29:27.061Z","type":"quit"}
{"nick":"guybrush","reason":"Excess Flood","date":"2014-07-21T19:30:58.695Z","type":"quit"}
{"nick":"guybrush","date":"2014-07-21T19:31:38.532Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T19:31:40.432Z","type":"join"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T19:32:02.578Z","type":"nick"}
{"nick":"daviddias","date":"2014-07-21T19:43:48.645Z","type":"join"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T19:44:03.634Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T19:51:47.468Z","type":"nick"}
{"nick":"mrvisser","reason":"Remote host closed the connection","date":"2014-07-21T19:52:09.328Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T19:52:18.192Z","type":"quit"}
{"nick":"mrvisser","date":"2014-07-21T19:52:57.299Z","type":"join"}
{"nick":"mrvisser","reason":"Ping timeout: 260 seconds","date":"2014-07-21T19:57:12.201Z","type":"quit"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T20:04:02.360Z","type":"nick"}
{"nick":"petka_","date":"2014-07-21T20:08:32.457Z","type":"join"}
{"nick":"jgi","date":"2014-07-21T20:08:45.040Z","type":"join"}
{"nick":"daviddias","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-07-21T20:09:13.130Z","type":"quit"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-07-21T20:11:25.667Z","type":"quit"}
{"nick":"daviddias","date":"2014-07-21T20:13:42.944Z","type":"join"}
{"nick":"dignifiedquire","date":"2014-07-21T20:15:21.603Z","type":"join"}
{"nick":"daviddias","reason":"Client Quit","date":"2014-07-21T20:18:04.095Z","type":"quit"}
{"nick":"daviddias","date":"2014-07-21T20:18:25.131Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T20:19:14.320Z","type":"join"}
{"nick":"andrehjr","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T20:19:51.014Z","type":"quit"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T20:23:58.193Z","type":"quit"}
{"nick":"andrehjr","date":"2014-07-21T20:32:24.900Z","type":"join"}
{"nick":"euoia","date":"2014-07-21T20:35:31.318Z","type":"join"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T20:37:20.442Z","type":"quit"}
{"nick":"daviddias","date":"2014-07-21T20:39:13.255Z","type":"join"}
{"nick":"dignifiedquire","reason":"Quit: dignifiedquire","date":"2014-07-21T20:50:01.260Z","type":"quit"}
{"nick":"a_le","reason":"Remote host closed the connection","date":"2014-07-21T20:59:23.252Z","type":"quit"}
{"nick":"a_le","date":"2014-07-21T21:00:01.322Z","type":"join"}
{"nick":"kenperkins","date":"2014-07-21T21:00:02.056Z","type":"join"}
{"nick":"sh1mmer_","date":"2014-07-21T21:00:52.289Z","type":"join"}
{"nick":"sh1mmer","reason":"Ping timeout: 264 seconds","date":"2014-07-21T21:04:11.137Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T21:11:22.694Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T21:11:59.046Z","type":"join"}
{"nick":"chrisdickinson","message":"tjfontaine: follow-up question, re: turning net.Server into a readable stream of sockets -- is the intention to leave the sockets in the kernel queue until there's a _read on the server?","date":"2014-07-21T21:16:03.398Z","type":"message"}
{"nick":"andrehjr","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T21:19:02.385Z","type":"quit"}
{"nick":"rendar","message":"chrisdickinson: readable stream of sockets? what you mena?","date":"2014-07-21T21:27:01.485Z","type":"message"}
{"nick":"rendar","message":"mean*","date":"2014-07-21T21:27:03.209Z","type":"message"}
{"nick":"chrisdickinson","message":"the idea is to move accepting/rejecting sockets into JS; it would take the existing net.Server implementation and separate it into an objectMode readable stream piped to an objectMode writable.","date":"2014-07-21T21:28:46.812Z","type":"message"}
{"nick":"chrisdickinson","message":"the objects, in this case, are net.Socket instances","date":"2014-07-21T21:28:47.510Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2014-07-21T21:39:13.149Z","type":"quit"}
{"nick":"sh1mmer_","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T21:46:19.614Z","type":"quit"}
{"nick":"andrehjr","date":"2014-07-21T21:47:42.513Z","type":"join"}
{"nick":"rendar","message":"chrisdickinson: i see","date":"2014-07-21T21:49:34.667Z","type":"message"}
{"nick":"rendar","message":"chrisdickinson: i thought node could already accept/reject sockets from js","date":"2014-07-21T21:49:48.063Z","type":"message"}
{"nick":"chrisdickinson","message":"you can reject, but you can't leave a socket in the kernel queue","date":"2014-07-21T21:50:34.971Z","type":"message"}
{"nick":"chrisdickinson","message":"(as i understand it.)","date":"2014-07-21T21:50:43.105Z","type":"message"}
{"nick":"janjongboom","reason":"Read error: Connection reset by peer","date":"2014-07-21T21:51:38.799Z","type":"quit"}
{"nick":"janjongboom","date":"2014-07-21T21:52:14.543Z","type":"join"}
{"nick":"rendar","message":"chrisdickinson: leaving a socket in the kernel queue? what you mean? if you reject a socket, it will be closed, otherwise it will be used..","date":"2014-07-21T21:54:29.409Z","type":"message"}
{"nick":"txdv","message":"there is no way to reject sockets when you are listening","date":"2014-07-21T21:56:12.773Z","type":"message"}
{"nick":"txdv","message":"you can accept them and close them","date":"2014-07-21T21:56:17.506Z","type":"message"}
{"nick":"txdv","message":"there is no way in linux to do that either way, you have to get at least the fd, which you only get with a fd","date":"2014-07-21T21:56:44.482Z","type":"message"}
{"nick":"rendar","message":"yeah, what txvd said","date":"2014-07-21T21:56:45.871Z","type":"message"}
{"nick":"rendar","message":"because you get the socket address only after calling accept()","date":"2014-07-21T21:57:00.360Z","type":"message"}
{"nick":"janjongboom","reason":"Client Quit","date":"2014-07-21T21:57:00.586Z","type":"quit"}
{"nick":"rendar","message":"then, based on the address you can reject sockets, e.g. rejects all sockets coming from 192.168.*","date":"2014-07-21T21:57:19.598Z","type":"message"}
{"nick":"rendar","message":"if you want to reject in the kernel, you must use a firewall","date":"2014-07-21T21:57:44.258Z","type":"message"}
{"nick":"sh1mmer","date":"2014-07-21T21:58:16.946Z","type":"join"}
{"nick":"chrisdickinson","message":"that's why I'm trying to clarify the feature I'm working on with TJ","date":"2014-07-21T21:58:19.877Z","type":"message"}
{"nick":"rendar","message":"chrisdickinson: how its supposed to work?","date":"2014-07-21T21:58:37.320Z","type":"message"}
{"nick":"chrisdickinson","message":"well, yes, that :)","date":"2014-07-21T21:58:43.327Z","type":"message"}
{"nick":"rendar","message":":)","date":"2014-07-21T21:58:52.414Z","type":"message"}
{"nick":"rendar","message":"are you working on a firewall?","date":"2014-07-21T21:59:01.482Z","type":"message"}
{"nick":"chrisdickinson","message":"this is a feature TJ and I discussed at nodeconf that I said I would take a stab at","date":"2014-07-21T21:59:18.773Z","type":"message"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T21:59:58.188Z","type":"quit"}
{"nick":"rendar","message":"chrisdickinson: at that point isn't more convenient make node call directly the system firewall apis/shell-commands?","date":"2014-07-21T22:00:00.302Z","type":"message"}
{"nick":"chrisdickinson","message":"it had started to seem to me like the goal was that Server._read would accept() up to hwm sockets at once","date":"2014-07-21T22:00:17.550Z","type":"message"}
{"nick":"chrisdickinson","message":"& they'd otherwise wait in the kernel queue","date":"2014-07-21T22:00:47.158Z","type":"message"}
{"nick":"txdv","message":"hwm?","date":"2014-07-21T22:00:57.850Z","type":"message"}
{"nick":"rendar","message":"oh","date":"2014-07-21T22:00:58.964Z","type":"message"}
{"nick":"chrisdickinson","message":"highwatermark","date":"2014-07-21T22:01:01.511Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2014-07-21T22:01:04.871Z","type":"message"}
{"nick":"rendar","message":"chrisdickinson: you mean when Server._read is called, it will in turn call accept() which gives you only 1 socket to process, whilst the others are waiting their turn","date":"2014-07-21T22:01:38.135Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: ya, the socket stays in the kernel backlog until someone calls read, this allows for node processes in shared fd mode to accept when they want","date":"2014-07-21T22:04:42.391Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: the intent is that a server socket is akin to a readable socket, where a 'listening' event is akin to 'readable', and accept() is akin to read()","date":"2014-07-21T22:05:24.924Z","type":"message"}
{"nick":"chrisdickinson","message":"the operating assumption I had up until about an hour ago, when I realized that libuv calls `accept` for you before connection_cb, was that JS would _read hwm sockets -- thus `accept`ing them, until the writable side of the server implementation filled up, at which point the kernel would start building up 0-backlog pending sockets","date":"2014-07-21T22:05:27.028Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: sockets stay in the kernel until someone calls accept(), not read() -- right?","date":"2014-07-21T22:06:20.907Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-07-21T22:06:25.132Z","type":"quit"}
{"nick":"rendar","message":"tjfontaine: oh i see, you mean the js read() and not the C read(2) :-)","date":"2014-07-21T22:06:55.516Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: ya, I'm drawing an analog","date":"2014-07-21T22:07:06.135Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: that's interesting, the server fd has always be not utilized for i/o","date":"2014-07-21T22:07:25.941Z","type":"message"}
{"nick":"daviddias","reason":"Quit: My MacBook Pro has gone to sleep. ZZZzzz…","date":"2014-07-21T22:07:35.200Z","type":"quit"}
{"nick":"rendar","message":"i always wondered \"what happen if i read/write to it?\" but never tried :)","date":"2014-07-21T22:07:49.907Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: well there's no way to apply backpressure currently to accept() in node.js","date":"2014-07-21T22:07:52.159Z","type":"message"}
{"nick":"tjfontaine","message":"right htis is decidedly not that :)","date":"2014-07-21T22:08:00.483Z","type":"message"}
{"nick":"rendar","message":"backpressure?","date":"2014-07-21T22:08:05.307Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: node is busy, and shouldn't accept a new connection","date":"2014-07-21T22:08:14.807Z","type":"message"}
{"nick":"rendar","message":"oh","date":"2014-07-21T22:08:23.434Z","type":"message"}
{"nick":"chrisdickinson","message":"tjfontaine: so does this involve adding machinery to libuv to prevent automatic `accept` of new sockets?","date":"2014-07-21T22:08:43.215Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: so connection_cb can fire 'readable' like event, right? the question is will it fire again if someone else shows up in the backlog","date":"2014-07-21T22:08:48.558Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: nope","date":"2014-07-21T22:08:53.394Z","type":"message"}
{"nick":"chrisdickinson","message":"(I'm looking at https://github.com/joyent/libuv/blob/master/src/unix/stream.c#L468 + https://github.com/joyent/libuv/blob/master/src/unix/core.c#L406, specifically)","date":"2014-07-21T22:09:29.482Z","type":"message"}
{"nick":"paulfryzel","reason":"Ping timeout: 240 seconds","date":"2014-07-21T22:09:33.831Z","type":"quit"}
{"nick":"trevnorris","reason":"Ping timeout: 240 seconds","date":"2014-07-21T22:09:38.242Z","type":"quit"}
{"nick":"brycebaril","reason":"Ping timeout: 272 seconds","date":"2014-07-21T22:09:59.707Z","type":"quit"}
{"nick":"julianduque","reason":"Ping timeout: 272 seconds","date":"2014-07-21T22:09:59.827Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T22:10:02.317Z","type":"join"}
{"nick":"chrisdickinson","message":"by the time connection_cb happens, the socket has been accept'd, it looks like","date":"2014-07-21T22:10:09.241Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 264 seconds","date":"2014-07-21T22:10:11.096Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T22:10:14.961Z","type":"nick"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2014-07-21T22:10:53.240Z","type":"quit"}
{"nick":"rendar","message":"tjfontaine: what about windows? can this be portable? for example in windows with named pipes you don't get 1 server fd, instead you create a new server fd for each incoming named pipe connection, this won't be true in unix domain sockets which work like network sockets","date":"2014-07-21T22:11:01.694Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: hand wave over windows for now :)","date":"2014-07-21T22:11:18.640Z","type":"message"}
{"nick":"rendar","message":"lol","date":"2014-07-21T22:11:27.884Z","type":"message"}
{"nick":"rendar","message":":)","date":"2014-07-21T22:11:29.941Z","type":"message"}
{"nick":"trevnorris","date":"2014-07-21T22:11:51.066Z","type":"join"}
{"nick":"paulfryzel","date":"2014-07-21T22:11:54.626Z","type":"join"}
{"nick":"rendar","message":"tjfontaine: btw i think its a very interesting concept, it's worth try to go with further tries","date":"2014-07-21T22:12:00.746Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: I'm looking into this, technically what happens is that connection_cb should fire and then you uv_accept","date":"2014-07-21T22:12:15.268Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: I'm looking at the interaction of io_watcher and uv__accept","date":"2014-07-21T22:12:27.633Z","type":"message"}
{"nick":"AvianFlu","date":"2014-07-21T22:14:12.904Z","type":"join"}
{"nick":"chrisdickinson","message":"hm. to clarify: is that \"this should happen but isn't happening\" or \"chris has misunderstood the order of calls\"?","date":"2014-07-21T22:14:50.605Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: bah, my fault I didn't realize it got broken up like that","date":"2014-07-21T22:14:53.482Z","type":"message"}
{"nick":"brycebaril","date":"2014-07-21T22:15:34.923Z","type":"join"}
{"nick":"julianduque","date":"2014-07-21T22:16:29.333Z","type":"join"}
{"nick":"tjfontaine","message":"chrisdickinson: yes, ok this will require a libuv change","date":"2014-07-21T22:17:22.228Z","type":"message"}
{"nick":"chrisdickinson","message":"ah, cool -- that makes sense. I assume this is the sort of thing that we'll have to do in a backwards-compatible fashion (i.e., introduce a different, pre-connection_cb callback)?","date":"2014-07-21T22:18:26.868Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: libuv at least for now doesn't have the same concerns about backwards compat","date":"2014-07-21T22:19:12.944Z","type":"message"}
{"nick":"chrisdickinson","message":"ah, cool","date":"2014-07-21T22:19:50.973Z","type":"message"}
{"nick":"tjfontaine","message":"chrisdickinson: but you should sign up for the libuv mailing list to talk to saghul and indutny about this","date":"2014-07-21T22:19:55.683Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2014-07-21T22:19:58.698Z","type":"message"}
{"nick":"tjfontaine","message":"and me and LeftWing ","date":"2014-07-21T22:20:02.215Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2014-07-21T22:20:09.542Z","type":"message"}
{"nick":"rendar","date":"2014-07-21T22:20:17.364Z","type":"quit"}
{"nick":"indutny","message":"tjfontaine: could someone please post TLDR? :)","date":"2014-07-21T22:20:36.254Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: uv__server_io should not immediately call accept() but instead let uv_accept actually do that part","date":"2014-07-21T22:21:10.531Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2014-07-21T22:21:20.491Z","type":"message"}
{"nick":"indutny","message":"ok, that's what I thought","date":"2014-07-21T22:21:26.268Z","type":"message"}
{"nick":"indutny","message":"so","date":"2014-07-21T22:21:29.187Z","type":"message"}
{"nick":"tjfontaine","message":"more or less","date":"2014-07-21T22:21:30.379Z","type":"message"}
{"nick":"indutny","message":"there is some trickery","date":"2014-07-21T22:21:37.486Z","type":"message"}
{"nick":"indutny","message":"with EMFILE","date":"2014-07-21T22:21:38.881Z","type":"message"}
{"nick":"indutny","message":"I'm quite sure that this behavior is there for a reason","date":"2014-07-21T22:21:50.120Z","type":"message"}
{"nick":"chrisdickinson","message":"ah, i saw that -- the extra fd for emergency purposes?","date":"2014-07-21T22:21:53.851Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2014-07-21T22:22:01.946Z","type":"message"}
{"nick":"indutny","message":"I'm not sure if it is still relevant","date":"2014-07-21T22:22:06.422Z","type":"message"}
{"nick":"indutny","message":"perhaps saghul have something to share?","date":"2014-07-21T22:22:27.409Z","type":"message"}
{"nick":"indutny","message":"chrisdickinson: anyway","date":"2014-07-21T22:22:29.032Z","type":"message"}
{"nick":"indutny","message":"I'd go for a libuv@ email","date":"2014-07-21T22:22:33.184Z","type":"message"}
{"nick":"indutny","message":"perhaps Ben will some something about it","date":"2014-07-21T22:22:38.726Z","type":"message"}
{"nick":"indutny","message":"he is the author of that part anyway","date":"2014-07-21T22:22:44.374Z","type":"message"}
{"nick":"chrisdickinson","message":"cool, thanks for the pointers!","date":"2014-07-21T22:22:52.907Z","type":"message"}
{"nick":"indutny","message":"np","date":"2014-07-21T22:23:55.380Z","type":"message"}
{"nick":"indutny","message":"you are welcome","date":"2014-07-21T22:23:57.270Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: it really doesn't need to be there (the emfile hack) if uv_accept itself could actually return that :)","date":"2014-07-21T22:24:12.159Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2014-07-21T22:24:24.692Z","type":"message"}
{"nick":"indutny","message":"I agree","date":"2014-07-21T22:24:32.656Z","type":"message"}
{"nick":"tjfontaine","message":"coolio","date":"2014-07-21T22:24:36.566Z","type":"message"}
{"nick":"indutny","message":"but we should still let others know about it","date":"2014-07-21T22:24:43.234Z","type":"message"}
{"nick":"indutny","message":"it would be great to hear Ben's feedback","date":"2014-07-21T22:24:49.034Z","type":"message"}
{"nick":"tjfontaine","message":"tis why I suggested the mailing list :)","date":"2014-07-21T22:24:57.480Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2014-07-21T22:25:08.606Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2014-07-21T22:25:15.018Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2014-07-21T22:25:15.515Z","type":"message"}
{"nick":"indutny","message":"since you are here","date":"2014-07-21T22:25:18.176Z","type":"message"}
{"nick":"indutny","message":"mind taking a look at https://github.com/joyent/node/pull/7982 ?","date":"2014-07-21T22:25:33.571Z","type":"message"}
{"nick":"indutny","message":"I'd like to backport some portions of it to v0.10 too","date":"2014-07-21T22:25:45.182Z","type":"message"}
{"nick":"indutny","message":"especially NameDictionaryShape","date":"2014-07-21T22:25:56.945Z","type":"message"}
{"nick":"indutny","message":"and","date":"2014-07-21T22:26:00.223Z","type":"message"}
{"nick":"indutny","message":"Oddball thing","date":"2014-07-21T22:26:02.184Z","type":"message"}
{"nick":"tjfontaine","message":"looks like indutny is doing lldb work :)","date":"2014-07-21T22:26:44.043Z","type":"message"}
{"nick":"indutny","message":"em?","date":"2014-07-21T22:26:59.689Z","type":"message"}
{"nick":"tjfontaine","message":"adding the postmortem work so you can inspect in lldb on osx?","date":"2014-07-21T22:27:20.593Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2014-07-21T22:28:53.294Z","type":"message"}
{"nick":"indutny","message":"not really","date":"2014-07-21T22:28:54.990Z","type":"message"}
{"nick":"indutny","message":":)","date":"2014-07-21T22:30:04.285Z","type":"message"}
{"nick":"indutny","message":"I'll show you that thing eventually","date":"2014-07-21T22:30:10.262Z","type":"message"}
{"nick":"tjfontaine","message":"dap_1: hey can you take a look at https://github.com/joyent/node/pull/7982/files","date":"2014-07-21T22:30:58.350Z","type":"message"}
{"nick":"indutny","message":"dap_1: please note that it won't fix mdb_v8 for now","date":"2014-07-21T22:31:27.266Z","type":"message"}
{"nick":"indutny","message":"I'm just exposing the stuff that it is using","date":"2014-07-21T22:31:35.550Z","type":"message"}
{"nick":"dap_1","message":"what's wrong with mdb_v8?","date":"2014-07-21T22:31:36.863Z","type":"message"}
{"nick":"tjfontaine","message":"we would have to add the symbols","date":"2014-07-21T22:31:41.176Z","type":"message"}
{"nick":"indutny","message":"dap_1: I don't think it will work with v0.11","date":"2014-07-21T22:31:46.129Z","type":"message"}
{"nick":"indutny","message":"well","date":"2014-07-21T22:31:54.882Z","type":"message"}
{"nick":"indutny","message":"it may be","date":"2014-07-21T22:31:55.832Z","type":"message"}
{"nick":"indutny","message":"but the most of the symbols are gone","date":"2014-07-21T22:32:00.219Z","type":"message"}
{"nick":"tjfontaine","message":"mdb_v8 is version independent really","date":"2014-07-21T22:32:01.640Z","type":"message"}
{"nick":"indutny","message":"it is just using defaults","date":"2014-07-21T22:32:03.377Z","type":"message"}
{"nick":"nathan7","message":"hey humans","date":"2014-07-21T22:32:29.611Z","type":"message"}
{"nick":"nathan7","message":"I was trying to build myself a node with the latest V8","date":"2014-07-21T22:32:40.911Z","type":"message"}
{"nick":"nathan7","message":"but it starts looking for includes in deps/v8 instead of deps/v8/include for some reason","date":"2014-07-21T22:33:04.372Z","type":"message"}
{"nick":"tjfontaine","message":"they probably changed their gyp","date":"2014-07-21T22:33:26.727Z","type":"message"}
{"nick":"chrisdickinson","message":"sent the proposed change to the libuv mailing list (it's pending approval) -- hopefully i did the situation justice :)","date":"2014-07-21T22:34:55.082Z","type":"message"}
{"nick":"indutny","message":"chrisdickinson: approve","date":"2014-07-21T22:35:26.145Z","type":"message"}
{"nick":"indutny","message":"approved*","date":"2014-07-21T22:35:28.169Z","type":"message"}
{"nick":"indutny","message":"and replied","date":"2014-07-21T22:35:29.486Z","type":"message"}
{"nick":"indutny","message":"I just did remember the one thing","date":"2014-07-21T22:35:34.509Z","type":"message"}
{"nick":"indutny","message":"posted it on email","date":"2014-07-21T22:35:37.078Z","type":"message"}
{"nick":"nathan7","message":"tjfontaine: mhm","date":"2014-07-21T22:36:50.304Z","type":"message"}
{"nick":"nathan7","message":"so just dig around in the gyp files?","date":"2014-07-21T22:37:11.400Z","type":"message"}
{"nick":"chrisdickinson","message":"ah, I've actually already moved the uv_accept out of the connection_cb -- https://github.com/chrisdickinson/node/compare/feature/net-stream#diff-e0caefcfacdafe13b6c0c402ae96f60fR186","date":"2014-07-21T22:40:02.091Z","type":"message"}
{"nick":"chrisdickinson","message":"(apologies for the WIP-y code)","date":"2014-07-21T22:40:06.036Z","type":"message"}
{"nick":"chrisdickinson","message":"if we're not picky about where the socket's are queued, then it might be okay to leave 'em in libuv?","date":"2014-07-21T22:41:15.446Z","type":"message"}
{"nick":"Soarez|afk","new_nick":"Soarez","date":"2014-07-21T22:47:30.740Z","type":"nick"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T22:49:38.191Z","type":"quit"}
{"nick":"Soarez","new_nick":"Soarez|afk","date":"2014-07-21T22:53:38.107Z","type":"nick"}
{"nick":"bengl","reason":"Ping timeout: 256 seconds","date":"2014-07-21T22:56:17.111Z","type":"quit"}
{"nick":"dshaw_","date":"2014-07-21T22:58:50.059Z","type":"join"}
{"nick":"c4milo","date":"2014-07-21T23:01:48.277Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 240 seconds","date":"2014-07-21T23:06:13.759Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T23:06:45.304Z","type":"join"}
{"nick":"bengl","date":"2014-07-21T23:07:48.027Z","type":"join"}
{"nick":"sh1mmer","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2014-07-21T23:08:53.303Z","type":"quit"}
{"nick":"sh1mmer","date":"2014-07-21T23:09:23.462Z","type":"join"}
{"nick":"nathan7","message":"gen/debug-support.cc:6:16: fatal error: v8.h: No such file or directory #include \"v8.h\"","date":"2014-07-21T23:10:50.059Z","type":"message"}
{"nick":"nathan7","message":"That's the thing I'm running into","date":"2014-07-21T23:10:59.146Z","type":"message"}
{"nick":"nathan7","message":"ah","date":"2014-07-21T23:11:38.823Z","type":"message"}
{"nick":"nathan7","message":"everything seems to do #include <include/v8.h> now","date":"2014-07-21T23:11:47.519Z","type":"message"}
{"nick":"nathan7","message":"ah, now a zillion other things break","date":"2014-07-21T23:13:49.843Z","type":"message"}
{"nick":"euoia","reason":"Ping timeout: 240 seconds","date":"2014-07-21T23:13:58.187Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2014-07-21T23:15:42.069Z","type":"quit"}
{"nick":"euoia","date":"2014-07-21T23:20:30.315Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2014-07-21T23:20:51.192Z","type":"quit"}
{"nick":"c4milo","date":"2014-07-21T23:21:39.603Z","type":"join"}
{"nick":"dsantiago","reason":"Read error: Connection reset by peer","date":"2014-07-21T23:35:45.151Z","type":"quit"}
{"nick":"dsantiag_","date":"2014-07-21T23:36:01.846Z","type":"join"}
{"nick":"dsantiag_","reason":"Read error: Connection reset by peer","date":"2014-07-21T23:37:56.522Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T23:38:14.901Z","type":"join"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T23:47:48.941Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T23:48:21.287Z","type":"join"}
{"nick":"a_le","reason":"Read error: Connection reset by peer","date":"2014-07-21T23:49:21.017Z","type":"quit"}
{"nick":"avalanche123","reason":"Remote host closed the connection","date":"2014-07-21T23:49:56.546Z","type":"quit"}
{"nick":"avalanche123","date":"2014-07-21T23:50:08.252Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2014-07-21T23:51:23.010Z","type":"quit"}
{"nick":"dsantiago","reason":"Read error: Connection reset by peer","date":"2014-07-21T23:59:12.940Z","type":"quit"}
{"nick":"dsantiago","date":"2014-07-21T23:59:51.808Z","type":"join"}

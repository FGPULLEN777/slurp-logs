{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-05-29T00:00:00.480Z","type":"quit"}
{"nick":"ircretary","date":"2013-05-29T00:00:08.229Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T00:00:54.262Z","type":"nick"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-05-29T00:02:09.111Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #76 \u00037UNSTABLE\u000f smartos-ia32 (1/588) osx-ia32 (1/588) smartos-x64 (1/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/76/","date":"2013-05-29T00:03:07.729Z","type":"message"}
{"nick":"mikeal","date":"2013-05-29T00:03:44.768Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T00:05:30.611Z","type":"quit"}
{"nick":"pachet","date":"2013-05-29T00:08:24.386Z","type":"join"}
{"nick":"sblom","date":"2013-05-29T00:08:50.090Z","type":"join"}
{"nick":"pachet","reason":"Client Quit","date":"2013-05-29T00:09:43.885Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T00:09:51.100Z","type":"nick"}
{"nick":"piscisaureus_","date":"2013-05-29T00:14:51.085Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T00:16:04.150Z","type":"quit"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-05-29T00:16:09.668Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2013-05-29T00:17:35.732Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-29T00:20:52.321Z","type":"join"}
{"nick":"inolen","date":"2013-05-29T00:25:51.869Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-29T00:28:47.514Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-05-29T00:30:37.095Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: so far tracking 3.19 hasn't been a problem, correct?","date":"2013-05-29T00:32:27.395Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T00:35:26.766Z","type":"quit"}
{"nick":"qard","date":"2013-05-29T00:39:41.638Z","type":"join"}
{"nick":"dap1","reason":"Quit: Leaving.","date":"2013-05-29T00:48:28.666Z","type":"quit"}
{"nick":"dannycoates","date":"2013-05-29T00:52:16.122Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-05-29T01:08:34.145Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-05-29T01:13:25.125Z","type":"quit"}
{"nick":"timoxley","date":"2013-05-29T01:14:40.352Z","type":"join"}
{"nick":"hz","date":"2013-05-29T01:15:32.981Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-05-29T01:32:38.525Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T01:45:11.009Z","type":"nick"}
{"nick":"c4milo","date":"2013-05-29T01:46:46.391Z","type":"join"}
{"nick":"sblom","reason":"Ping timeout: 276 seconds","date":"2013-05-29T02:00:13.269Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-29T02:09:28.092Z","type":"quit"}
{"nick":"inolen","date":"2013-05-29T02:21:31.330Z","type":"join"}
{"nick":"isaacs","message":"this is my new favorite tumblr: http://nodejsreactions.tumblr.com/","date":"2013-05-29T02:30:47.314Z","type":"message"}
{"nick":"icarot","reason":"Read error: Connection reset by peer","date":"2013-05-29T02:49:05.245Z","type":"quit"}
{"nick":"icarot","date":"2013-05-29T02:49:36.306Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2013-05-29T02:57:43.849Z","type":"quit"}
{"nick":"mikeal","date":"2013-05-29T03:06:27.871Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-05-29T03:08:27.508Z","type":"quit"}
{"nick":"tjfontaine","message":"huh I think I can reproduce that eaddrnot bug","date":"2013-05-29T03:23:51.187Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 256 seconds","date":"2013-05-29T03:39:24.536Z","type":"quit"}
{"nick":"brson","date":"2013-05-29T03:39:37.425Z","type":"join"}
{"nick":"amartens","date":"2013-05-29T03:45:49.647Z","type":"join"}
{"nick":"amartens","reason":"Client Quit","date":"2013-05-29T03:46:05.445Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-05-29T03:55:47.627Z","type":"quit"}
{"nick":"brson","date":"2013-05-29T03:58:05.121Z","type":"join"}
{"nick":"kazupon","date":"2013-05-29T03:59:42.552Z","type":"join"}
{"nick":"janderssen","date":"2013-05-29T04:00:02.940Z","type":"join"}
{"nick":"dsantiago","reason":"Quit: Leaving...","date":"2013-05-29T04:01:37.018Z","type":"quit"}
{"nick":"janderssen","message":"hi, reading the documentation of libuv and the examples, you malloc a uv_tcp_t to pass into uv_read_start, but all the tests and everything seems to not free it (and if I free it, it crashes), so is it fair to say that libuv free's this pointer beneath the scenes ?","date":"2013-05-29T04:02:02.509Z","type":"message"}
{"nick":"tjfontaine","message":"that wouldn't be fair to say, when you say tests you mean in the tests dir?","date":"2013-05-29T04:03:20.622Z","type":"message"}
{"nick":"janderssen","message":"Yep","date":"2013-05-29T04:03:37.336Z","type":"message"}
{"nick":"tjfontaine","message":"most of those don't really malloc, they're stack allocated","date":"2013-05-29T04:03:53.613Z","type":"message"}
{"nick":"janderssen","message":"give me a sec, Ill point to you a test I was looking at","date":"2013-05-29T04:04:20.116Z","type":"message"}
{"nick":"janderssen","message":"so in test-ipc.c, ipc_on_connection_tcp_conn, the \"conn = malloc(sizeof(*conn))\" doesn't get free'd below, is this correct?","date":"2013-05-29T04:05:20.760Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T04:08:27.906Z","type":"nick"}
{"nick":"janderssen","message":"tjfontaine: also I noticed quite a lot of others do the same in this file, I am probably missing something. ","date":"2013-05-29T04:09:06.221Z","type":"message"}
{"nick":"tjfontaine","message":"janderssen: most of these generally get free'd in their close callback's","date":"2013-05-29T04:11:57.243Z","type":"message"}
{"nick":"janderssen","message":"tjfontaine: than, Ill continue studying further.","date":"2013-05-29T04:12:36.908Z","type":"message"}
{"nick":"normanm","date":"2013-05-29T04:13:37.701Z","type":"join"}
{"nick":"janderssen","message":"tjfontaine: sorry, I meant to say thanks.","date":"2013-05-29T04:13:37.874Z","type":"message"}
{"nick":"tjfontaine","message":"no problem, but in general you are responsible for allocating and freeing the handles and requests","date":"2013-05-29T04:13:58.944Z","type":"message"}
{"nick":"janderssen","message":"ok, that sum's up it up fine, I will have to look at what I am doing wrong in my code. Thanx again.","date":"2013-05-29T04:15:04.746Z","type":"message"}
{"nick":"dsantiago","date":"2013-05-29T04:18:24.992Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: no. hasn't been a problem","date":"2013-05-29T04:39:45.620Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-05-29T04:39:55.408Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: everything will be going through a deprecation phase, even the removal of Local<>","date":"2013-05-29T04:40:07.928Z","type":"message"}
{"nick":"trevnorris","message":"so we'll have ample time to adjust core.","date":"2013-05-29T04:40:35.498Z","type":"message"}
{"nick":"trevnorris","message":"it's mainly the native module authors that will have a problem upgrading to v0.12","date":"2013-05-29T04:40:57.613Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I just meant, if you had any inkling that that we may have to rollback off of 3.19","date":"2013-05-29T04:41:02.304Z","type":"message"}
{"nick":"trevnorris","message":"oh no. 3.19 has had a lot of api changes, but so far has been stable.","date":"2013-05-29T04:41:29.928Z","type":"message"}
{"nick":"tjfontaine","message":"mmk","date":"2013-05-29T04:42:49.000Z","type":"message"}
{"nick":"tjfontaine","message":"yang was asking if we needed abort-on-uncaught backported to any other v8 revs","date":"2013-05-29T04:43:18.450Z","type":"message"}
{"nick":"trevnorris","message":"oh, in case we dropped of 3.19. on we'll be good on 3.19.","date":"2013-05-29T04:44:00.914Z","type":"message"}
{"nick":"trevnorris","message":"and actually better we move to the new api for v0.12, so module authors don't need to do a bunch for the v1 release.","date":"2013-05-29T04:44:41.459Z","type":"message"}
{"nick":"tjfontaine","message":"indeed the more churn we can get in before we move to 1.0 the happier everyone will be in the long run","date":"2013-05-29T04:45:12.869Z","type":"message"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-05-29T05:26:03.158Z","type":"quit"}
{"nick":"bajtos","date":"2013-05-29T05:33:10.268Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: did you forget the conversations about process.on('beforeExit') today?","date":"2013-05-29T05:34:01.139Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: wasn't listening in.","date":"2013-05-29T05:34:16.457Z","type":"message"}
{"nick":"tjfontaine","message":"ah ok","date":"2013-05-29T05:34:20.491Z","type":"message"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T05:36:38.541Z","type":"quit"}
{"nick":"Benvie_","reason":"Ping timeout: 276 seconds","date":"2013-05-29T05:37:19.234Z","type":"quit"}
{"nick":"Benvie_","date":"2013-05-29T05:37:59.931Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: I see why this is necessary, but just feel like a possible world of hurt is hidden in there somewhere.","date":"2013-05-29T05:40:33.733Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I was about to add a comment, I think the test should also include a scenario where someone explicitly calls process.exit()","date":"2013-05-29T05:42:01.796Z","type":"message"}
{"nick":"tjfontaine","message":"or a second test, but anyway","date":"2013-05-29T05:42:13.743Z","type":"message"}
{"nick":"tjfontaine","message":"if process.exit is called, I don't think we should necessarily be allowed to reup the loop, but maybe we should","date":"2013-05-29T05:42:41.824Z","type":"message"}
{"nick":"trevnorris","message":"well, w/ his pr if you call process.exit() then beforeExit is never emitted","date":"2013-05-29T05:44:53.031Z","type":"message"}
{"nick":"tjfontaine","message":"right ya, I was just tracing the code","date":"2013-05-29T05:45:11.669Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T05:48:14.256Z","type":"nick"}
{"nick":"trevnorris","message":"tjfontaine: this is the type of stupidity that I can see coming though: https://gist.github.com/trevnorris/5668211","date":"2013-05-29T05:48:33.694Z","type":"message"}
{"nick":"tjfontaine","message":"what happens?","date":"2013-05-29T05:50:18.451Z","type":"message"}
{"nick":"trevnorris","message":"never ending loop","date":"2013-05-29T05:50:43.552Z","type":"message"}
{"nick":"tjfontaine","message":"because console.log doesn't flush by the end of keepalive?","date":"2013-05-29T05:51:09.811Z","type":"message"}
{"nick":"tjfontaine","message":"oh because it bounces to the closure","date":"2013-05-29T05:51:47.089Z","type":"message"}
{"nick":"tjfontaine","message":"ya well, we can't fix stupid","date":"2013-05-29T05:51:57.234Z","type":"message"}
{"nick":"tjfontaine","message":"for your test, what happens with process.nextTick that doesn't keep it alive either, does it","date":"2013-05-29T05:52:20.822Z","type":"message"}
{"nick":"trevnorris","message":"yeah. process.nextTick won't keep it alive since it's run in the same event phase of uv_run","date":"2013-05-29T05:52:53.685Z","type":"message"}
{"nick":"tjfontaine","message":"that should probably be documented, it's cute that setImmediate works, but I guess because it re-registers the uv_check at that point","date":"2013-05-29T05:53:48.695Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I would update the pr with both those examples and ask for clarification at the very least in the docs about it","date":"2013-05-29T05:55:06.869Z","type":"message"}
{"nick":"tjfontaine","message":"see you on the morrow","date":"2013-05-29T05:57:12.632Z","type":"message"}
{"nick":"trevnorris","message":"night","date":"2013-05-29T05:57:22.543Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: wait. process.nextTick does cause beforeExit to fire...","date":"2013-05-29T06:10:31.815Z","type":"message"}
{"nick":"`3rdEden","date":"2013-05-29T06:12:45.192Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: thought nextTick happened at the end of the callback, not on the next round of the event loop.","date":"2013-05-29T06:15:31.911Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: event loop as in the next round of uv_run","date":"2013-05-29T06:15:53.244Z","type":"message"}
{"nick":"rendar","date":"2013-05-29T06:27:56.254Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E|BRB","date":"2013-05-29T06:33:12.519Z","type":"nick"}
{"nick":"timoxley","date":"2013-05-29T06:34:54.117Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-05-29T06:37:58.985Z","type":"quit"}
{"nick":"janderssen","reason":"Ping timeout: 252 seconds","date":"2013-05-29T06:59:23.941Z","type":"quit"}
{"nick":"cjd","reason":"Ping timeout: 264 seconds","date":"2013-05-29T07:05:55.345Z","type":"quit"}
{"nick":"kuebk","date":"2013-05-29T07:22:40.074Z","type":"join"}
{"nick":"`3E|BRB","new_nick":"`3E","date":"2013-05-29T07:25:16.443Z","type":"nick"}
{"nick":"csaoh","date":"2013-05-29T07:37:47.603Z","type":"join"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-05-29T07:38:40.099Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-29T07:48:22.803Z","type":"join"}
{"nick":"`3E","date":"2013-05-29T07:48:32.843Z","type":"join"}
{"nick":"saghul","message":"indutny the osx-select test doesn't compile for me on OSX 10.6 due to the comment synytax","date":"2013-05-29T07:59:43.162Z","type":"message"}
{"nick":"saghul","message":"test/test-osx-select.c: In function ‘run_test_osx_select’:","date":"2013-05-29T07:59:44.825Z","type":"message"}
{"nick":"saghul","message":"test/test-osx-select.c:65: error: expected expression before ‘/’ token","date":"2013-05-29T07:59:45.179Z","type":"message"}
{"nick":"paddybyers","date":"2013-05-29T08:08:00.937Z","type":"join"}
{"nick":"hz","date":"2013-05-29T08:08:40.283Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 252 seconds","date":"2013-05-29T08:19:08.916Z","type":"quit"}
{"nick":"paddybyers","date":"2013-05-29T08:33:21.927Z","type":"join"}
{"nick":"cjd","date":"2013-05-29T08:38:37.288Z","type":"join"}
{"nick":"hij1nx","reason":"Ping timeout: 264 seconds","date":"2013-05-29T08:55:54.200Z","type":"quit"}
{"nick":"hij1nx","date":"2013-05-29T08:56:55.070Z","type":"join"}
{"nick":"dannycoates","reason":"Ping timeout: 276 seconds","date":"2013-05-29T08:58:49.181Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 252 seconds","date":"2013-05-29T09:00:23.947Z","type":"quit"}
{"nick":"leonvv","date":"2013-05-29T09:03:27.946Z","type":"join"}
{"nick":"dscape","reason":"Ping timeout: 260 seconds","date":"2013-05-29T09:11:59.884Z","type":"quit"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-05-29T09:14:11.031Z","type":"quit"}
{"nick":"indutny","message":"saghul: ouch","date":"2013-05-29T09:18:10.678Z","type":"message"}
{"nick":"`3rdEden","date":"2013-05-29T09:31:33.021Z","type":"join"}
{"nick":"paddybyers","date":"2013-05-29T09:49:20.981Z","type":"join"}
{"nick":"leonvv","reason":"Remote host closed the connection","date":"2013-05-29T09:54:35.268Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 252 seconds","date":"2013-05-29T09:55:56.945Z","type":"quit"}
{"nick":"udp","date":"2013-05-29T09:57:07.949Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-29T10:05:23.291Z","type":"quit"}
{"nick":"kazupon_","date":"2013-05-29T10:12:13.826Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-05-29T10:12:31.032Z","type":"quit"}
{"nick":"udp_","date":"2013-05-29T10:15:31.895Z","type":"join"}
{"nick":"udp","reason":"Ping timeout: 252 seconds","date":"2013-05-29T10:18:29.938Z","type":"quit"}
{"nick":"udp_","new_nick":"udp","date":"2013-05-29T10:18:30.180Z","type":"nick"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2013-05-29T10:18:54.755Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-29T10:23:24.780Z","type":"quit"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T10:30:46.443Z","type":"quit"}
{"nick":"csaoh","date":"2013-05-29T10:32:33.910Z","type":"join"}
{"nick":"timoxley","date":"2013-05-29T10:43:42.189Z","type":"join"}
{"nick":"udp","reason":"Quit: udp","date":"2013-05-29T11:05:44.790Z","type":"quit"}
{"nick":"dscape","date":"2013-05-29T11:12:23.206Z","type":"join"}
{"nick":"bajtos","date":"2013-05-29T11:26:41.348Z","type":"join"}
{"nick":"kazupon","date":"2013-05-29T11:29:23.972Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-05-29T11:34:47.839Z","type":"quit"}
{"nick":"udp","date":"2013-05-29T11:37:21.134Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-29T11:47:07.760Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-05-29T11:48:57.060Z","type":"join"}
{"nick":"udp","reason":"Quit: udp","date":"2013-05-29T12:09:25.075Z","type":"quit"}
{"nick":"paddybyers","date":"2013-05-29T12:12:06.923Z","type":"join"}
{"nick":"Domenic_","reason":"Ping timeout: 260 seconds","date":"2013-05-29T12:23:47.918Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 252 seconds","date":"2013-05-29T12:24:27.019Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-05-29T12:31:51.819Z","type":"join"}
{"nick":"AvianFlu","date":"2013-05-29T12:39:19.094Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-05-29T12:39:30.039Z","type":"join"}
{"nick":"AvianFlu","reason":"Client Quit","date":"2013-05-29T12:39:50.709Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-05-29T12:42:39.058Z","type":"join"}
{"nick":"roxlu","date":"2013-05-29T13:12:19.174Z","type":"join"}
{"nick":"roxlu","reason":"Read error: No route to host","date":"2013-05-29T13:15:10.645Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-05-29T13:18:18.841Z","type":"join"}
{"nick":"piscisaureus_","message":"saghul: hey","date":"2013-05-29T13:19:56.556Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ hi!","date":"2013-05-29T13:20:06.736Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: I saw https://github.com/saghul/libuv/commit/13c108924e6b7e00f0ae73dffc4545c876cafba2 but it scares be a bit","date":"2013-05-29T13:20:13.567Z","type":"message"}
{"nick":"saghul","message":"why is that?","date":"2013-05-29T13:20:39.704Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: so basically you are saying that there should always be atleast one check in between a normal callback and a close callback","date":"2013-05-29T13:21:18.222Z","type":"message"}
{"nick":"piscisaureus_","message":"if you close that handle in the normal callback?","date":"2013-05-29T13:21:25.982Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: well the reason is simple: we're going to do a lot more syscalls now because usually people will close a handle from a callback (I mean, where else you do it?)","date":"2013-05-29T13:22:03.692Z","type":"message"}
{"nick":"saghul","message":"yep, or generally speaking, if any handle was closed before polling, we should do a zero time poll this time","date":"2013-05-29T13:22:12.128Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: well that should already be the case","date":"2013-05-29T13:22:25.834Z","type":"message"}
{"nick":"saghul","message":"without my change the tests stalls for 100 seconds","date":"2013-05-29T13:22:59.412Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: so the effect of this is that we always need to make a poll syscall before we can run a close callback","date":"2013-05-29T13:23:10.311Z","type":"message"}
{"nick":"piscisaureus_","message":"and to make matters worse, shutdown() is also called from the endgame handler","date":"2013-05-29T13:23:25.475Z","type":"message"}
{"nick":"saghul","message":"in a way, yes","date":"2013-05-29T13:23:40.083Z","type":"message"}
{"nick":"piscisaureus_","message":"so in order to send FIN we need to not only call shutdown() but now we need to make another poll syscall","date":"2013-05-29T13:23:43.562Z","type":"message"}
{"nick":"saghul","message":"hum, I didn't know about shutdown()","date":"2013-05-29T13:23:49.873Z","type":"message"}
{"nick":"piscisaureus_","message":"well that's all internal to uv-win","date":"2013-05-29T13:24:08.958Z","type":"message"}
{"nick":"saghul","message":"maybe we can remember that there were engame handles and run them, but not block for io if we ran some?","date":"2013-05-29T13:24:30.921Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: well I thought that was already the case (and if not, it is a bug)","date":"2013-05-29T13:24:48.533Z","type":"message"}
{"nick":"piscisaureus_","message":"let me find the code for you","date":"2013-05-29T13:24:52.026Z","type":"message"}
{"nick":"saghul","message":"doesn't seem to be the case","date":"2013-05-29T13:25:03.468Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: https://github.com/joyent/libuv/blob/master/src/win/core.c#L298","date":"2013-05-29T13:25:52.761Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: so the second argument is whether is should block or not","date":"2013-05-29T13:26:02.262Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: but if engame_handles != NULL then we shouldn't be blocking","date":"2013-05-29T13:26:18.708Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ yeah, now, in the test case I added, endgames will be null, after running the close callback, right?","date":"2013-05-29T13:26:46.128Z","type":"message"}
{"nick":"saghul","message":"so the poll will be done with timer_handle2 timeout","date":"2013-05-29T13:27:04.146Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: right - so what should be a good reason not to block in this case?","date":"2013-05-29T13:30:23.688Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: you should also consider that this works with timers but not with tcp handles for example","date":"2013-05-29T13:30:38.825Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: because the tcp handle won't be pushed unto the endgame queue until the last write is completed","date":"2013-05-29T13:31:00.586Z","type":"message"}
{"nick":"piscisaureus_","message":"s/unto/onto/","date":"2013-05-29T13:31:09.460Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: so just for clarity - I'm not necessarily against landing your patch (although we should definitely benchmark it - it's not a zero risk change as you and bnoordhuis seem to assume)","date":"2013-05-29T13:32:36.972Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: but I would like to understand what the underlying problem is you are trying to solve...","date":"2013-05-29T13:32:50.295Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ well, I ran into this because I'm using the event loop as a scheduler, and on unix it worked so I started digging","date":"2013-05-29T13:33:14.240Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ i queue all callbacks and run them in a check handle, but in windows, the loop will run close callbacks and them it may block so my scheduling thing is stalled","date":"2013-05-29T13:34:22.424Z","type":"message"}
{"nick":"saghul","message":"(kind of hard to synthesize in just a few worlds, sorry)","date":"2013-05-29T13:34:39.063Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: yes so you are apparently abusing the check handle","date":"2013-05-29T13:34:41.279Z","type":"message"}
{"nick":"saghul","message":"*words","date":"2013-05-29T13:34:47.053Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: maybe we should remove that feature :)","date":"2013-05-29T13:34:49.371Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: you really should use an uv_idle_t for this","date":"2013-05-29T13:34:57.210Z","type":"message"}
{"nick":"piscisaureus_","message":"unfortunately uv_idle is broken on unix the last time I checked","date":"2013-05-29T13:35:12.684Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ well, it also behaves different on windows than on unix","date":"2013-05-29T13:35:13.153Z","type":"message"}
{"nick":"piscisaureus_","message":"yes - the unix implementation is (or atleast used to be) wrong","date":"2013-05-29T13:35:33.129Z","type":"message"}
{"nick":"saghul","message":"I'm using a handle because it's what runs last","date":"2013-05-29T13:35:51.835Z","type":"message"}
{"nick":"saghul","message":"so every other handle queues their callbacks, and I process them in order at the end","date":"2013-05-29T13:36:10.286Z","type":"message"}
{"nick":"saghul","message":"this is what Tulip does and the check handle was my way of emulating that","date":"2013-05-29T13:36:26.501Z","type":"message"}
{"nick":"piscisaureus_","message":"the correct semantics for uv_idle_t are outlined here : http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#code_ev_idle_code_when_you_ve_got_no","date":"2013-05-29T13:37:00.004Z","type":"message"}
{"nick":"piscisaureus_","message":"so the rule is:","date":"2013-05-29T13:37:40.403Z","type":"message"}
{"nick":"piscisaureus_","message":"* uv_idle runs last","date":"2013-05-29T13:37:40.558Z","type":"message"}
{"nick":"piscisaureus_","message":"* if there are active idle watchers then poll won't block","date":"2013-05-29T13:37:40.558Z","type":"message"}
{"nick":"saghul","message":"right now we only seem to obey the second rule","date":"2013-05-29T13:38:35.246Z","type":"message"}
{"nick":"bnoordhuis","message":"that second part works okay, at least :)","date":"2013-05-29T13:38:36.242Z","type":"message"}
{"nick":"saghul","message":":-)","date":"2013-05-29T13:38:43.821Z","type":"message"}
{"nick":"saghul","message":"right now i'm workarounding this by starting an idle handle in the close callback… but i'd rather not do that ","date":"2013-05-29T13:39:20.224Z","type":"message"}
{"nick":"piscisaureus_","message":"which means that you can do something like:","date":"2013-05-29T13:39:20.551Z","type":"message"}
{"nick":"piscisaureus_","message":"on_event(event):","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"  push_event_to_queue(event)","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"  start_idle_watcher()","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"on_idle(handle):","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"  proces_event_queue():","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"  stop_idle_watcher()","date":"2013-05-29T13:39:20.688Z","type":"message"}
{"nick":"piscisaureus_","message":"actually I like the unix semantics a bit better","date":"2013-05-29T13:40:21.452Z","type":"message"}
{"nick":"saghul","message":"I'm keeping the check handle active all the time, and use an idle handle to control when I explicitly want the loop not to block","date":"2013-05-29T13:40:28.024Z","type":"message"}
{"nick":"piscisaureus_","message":"just always run uv_idle on every loop iteration","date":"2013-05-29T13:40:34.702Z","type":"message"}
{"nick":"saghul","message":"great!","date":"2013-05-29T13:40:47.757Z","type":"message"}
{"nick":"saghul","message":"commit that before you change your mind!","date":"2013-05-29T13:40:55.351Z","type":"message"}
{"nick":"saghul","message":":-)","date":"2013-05-29T13:41:00.362Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah haha","date":"2013-05-29T13:41:00.511Z","type":"message"}
{"nick":"piscisaureus_","message":"well what we need to do","date":"2013-05-29T13:41:18.570Z","type":"message"}
{"nick":"piscisaureus_","message":"is figure out whether there are any other users of uv_idle","date":"2013-05-29T13:41:26.902Z","type":"message"}
{"nick":"piscisaureus_","message":":_","date":"2013-05-29T13:41:36.511Z","type":"message"}
{"nick":"piscisaureus_","message":"https://www.google.com/search?q=uv_idle_t&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:nl:official&client=firefox-a#safe=off&client=firefox-a&hs=uPN&rls=org.mozilla:nl%3Aofficial&sclient=psy-ab&q=uv_idle_t&oq=uv_idle_t&gs_l=serp.12...0.0.0.34193.0.0.0.0.0.0.0.0..0.0...0.0...1c..14.psy-ab.ghRgNuIjK6I&pbx=1&bav=on.2,or.r_cp.r_qf.&bvm=bv.47008514,d.d2k&fp=183b7b9925a651e5&biw=1920&bih=1081","date":"2013-05-29T13:41:46.308Z","type":"message"}
{"nick":"saghul","message":"I for one, only use it for preventing the loop from blocking, nothing else","date":"2013-05-29T13:42:00.356Z","type":"message"}
{"nick":"bnoordhuis","message":"that seems to be the most common use case","date":"2013-05-29T13:42:41.187Z","type":"message"}
{"nick":"bnoordhuis","message":"node does the same thing","date":"2013-05-29T13:42:52.045Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah so in a way windows is just a bit more \"zealous\" when deciding when a loop is idle","date":"2013-05-29T13:43:51.099Z","type":"message"}
{"nick":"piscisaureus_","message":"because it does another non-blocking poll before deciding the loop is really idle","date":"2013-05-29T13:44:14.857Z","type":"message"}
{"nick":"piscisaureus_","message":"this is actually quite lame come to think of it","date":"2013-05-29T13:44:23.565Z","type":"message"}
{"nick":"piscisaureus_","message":"unfortunately uv_idle_t has too many hits on google","date":"2013-05-29T13:44:40.748Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm the top hit!","date":"2013-05-29T13:46:21.640Z","type":"message"}
{"nick":"piscisaureus_","message":"https://metacpan.org/source/MLEHMANN/EV-4.03/libev/ev.c#L2126","date":"2013-05-29T13:46:27.455Z","type":"message"}
{"nick":"saghul","message":"do you think people are relying on those semantics, given that unix doesn't implement them?","date":"2013-05-29T13:46:37.939Z","type":"message"}
{"nick":"bnoordhuis","message":"people probably depend on the unix semantics","date":"2013-05-29T13:47:04.312Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: for me zocket.sprocket is the top hit","date":"2013-05-29T13:47:07.018Z","type":"message"}
{"nick":"bnoordhuis","message":"aw, search bubbles:(","date":"2013-05-29T13:47:15.024Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T13:47:16.002Z","type":"quit"}
{"nick":"piscisaureus_","message":"I agree","date":"2013-05-29T13:47:35.046Z","type":"message"}
{"nick":"piscisaureus_","message":"ok let's change this","date":"2013-05-29T13:47:40.876Z","type":"message"}
{"nick":"piscisaureus_","message":"unfortunately \"idle\" is no longer really accurate","date":"2013-05-29T13:48:45.291Z","type":"message"}
{"nick":"saghul","message":"yay!","date":"2013-05-29T13:48:59.228Z","type":"message"}
{"nick":"piscisaureus_","message":"but *shrug* :)","date":"2013-05-29T13:49:00.668Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: you were lucky to find me in the mood for \"polderen\" :)","date":"2013-05-29T13:49:48.776Z","type":"message"}
{"nick":"pachet","date":"2013-05-29T13:51:55.183Z","type":"join"}
{"nick":"AvianFlu","date":"2013-05-29T13:52:10.083Z","type":"join"}
{"nick":"piscisaureus_","message":"saghul: bnoordhuis: so what is the right place to invoke uv_idle?","date":"2013-05-29T13:53:54.411Z","type":"message"}
{"nick":"piscisaureus_","message":"now that we're at it I can move it around and put it where you want","date":"2013-05-29T13:54:06.859Z","type":"message"}
{"nick":"piscisaureus_","message":"it's currently here -> https://github.com/joyent/libuv/blob/c39648674c404324c276831fc0ec5c99f30b2fb5/src/win/core.c#L288","date":"2013-05-29T13:54:22.275Z","type":"message"}
{"nick":"saghul","message":"after check?","date":"2013-05-29T13:54:27.474Z","type":"message"}
{"nick":"piscisaureus_","message":"after timers, before regs","date":"2013-05-29T13:54:38.729Z","type":"message"}
{"nick":"saghul","message":"ok","date":"2013-05-29T13:54:45.192Z","type":"message"}
{"nick":"piscisaureus_","message":"s/regs/reqs","date":"2013-05-29T13:55:00.444Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: well if you put it after check that you are assuming that poll conceptually comes last in the event loop","date":"2013-05-29T13:55:24.809Z","type":"message"}
{"nick":"piscisaureus_","message":"(alright - it is a loop, there's not real beginning and end)","date":"2013-05-29T13:55:37.550Z","type":"message"}
{"nick":"piscisaureus_","message":"so if you want it \"last\" we should do it before prepare maybe?","date":"2013-05-29T13:55:58.271Z","type":"message"}
{"nick":"bnoordhuis","message":"unix puts it after times but before check","date":"2013-05-29T13:57:24.883Z","type":"message"}
{"nick":"bnoordhuis","message":"*timers","date":"2013-05-29T13:57:30.340Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: why do you do run_pending *after* prepare?","date":"2013-05-29T13:57:41.828Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: unix puts it after timers but before prepare?","date":"2013-05-29T13:58:06.953Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean idle handles","date":"2013-05-29T13:58:22.588Z","type":"message"}
{"nick":"bnoordhuis","message":"and yes, after timers, before prepare","date":"2013-05-29T13:58:33.410Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah that seems very reasonable to me :)","date":"2013-05-29T13:58:45.744Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what doesn't is that you run pending after prepare, unless I misinterpret what run_pending does","date":"2013-05-29T13:59:00.050Z","type":"message"}
{"nick":"bnoordhuis","message":"re: run_pending, it's complicated","date":"2013-05-29T13:59:04.989Z","type":"message"}
{"nick":"bnoordhuis","message":"that's for i/o handles that have been primed with uv__io_feed()","date":"2013-05-29T13:59:23.151Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess it should come before prepare","date":"2013-05-29T14:00:39.012Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yessir, maybe even before idle :)","date":"2013-05-29T14:00:59.710Z","type":"message"}
{"nick":"piscisaureus_","message":"but I have no strong opinion on the latter, but I do know that only poll should be between prepare and check","date":"2013-05-29T14:01:43.713Z","type":"message"}
{"nick":"bnoordhuis","message":"the thing is, run_pending is used for i/o handles that have error'd somehow","date":"2013-05-29T14:01:58.011Z","type":"message"}
{"nick":"bnoordhuis","message":"e.g. uv_pipe_connect() that failed to connect","date":"2013-05-29T14:02:07.215Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm thinking out aloud if there's situations where running one before the other would create issues","date":"2013-05-29T14:02:58.082Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well maybe if you do something that fails in a prepare handle?","date":"2013-05-29T14:03:16.926Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on windows we deal with this by making poll non-blocking when there's anything in the request queue","date":"2013-05-29T14:03:35.213Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: libev stipulates that prepare and check are special and you shouldn't really do any i/o in them","date":"2013-05-29T14:03:53.942Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, but no one ever reads the docs","date":"2013-05-29T14:04:09.185Z","type":"message"}
{"nick":"bnoordhuis","message":"and besides, that's something of an unreasonable limitation","date":"2013-05-29T14:04:17.368Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, and i also dislike this restriction","date":"2013-05-29T14:04:21.941Z","type":"message"}
{"nick":"piscisaureus_","message":"indeed","date":"2013-05-29T14:04:23.014Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so for uv-win I figured that even if legal it would be very rare so I make poll nonblocking when then happens and process these events in the next round","date":"2013-05-29T14:05:01.833Z","type":"message"}
{"nick":"piscisaureus_","message":"s/then/that/","date":"2013-05-29T14:05:12.503Z","type":"message"}
{"nick":"indutny","message":"hello","date":"2013-05-29T14:05:22.596Z","type":"message"}
{"nick":"bnoordhuis","message":"hm, let me think about it","date":"2013-05-29T14:05:25.606Z","type":"message"}
{"nick":"bnoordhuis","message":"i was thinking we should move uv_run() to src/uv-common.c","date":"2013-05-29T14:05:43.750Z","type":"message"}
{"nick":"bnoordhuis","message":"that would force us to make it consistent across platforms","date":"2013-05-29T14:05:53.976Z","type":"message"}
{"nick":"bnoordhuis","message":"hi fedor","date":"2013-05-29T14:05:59.577Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: you want to go home. In half an hour hell will break loose in 020","date":"2013-05-29T14:06:06.820Z","type":"message"}
{"nick":"indutny","message":"hi ben","date":"2013-05-29T14:06:28.533Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I agree with the feeling in a way. However I'm afraid that means you have to give way a lot in your implementation","date":"2013-05-29T14:06:38.570Z","type":"message"}
{"nick":"piscisaureus_","message":"to make room for windows quirks","date":"2013-05-29T14:06:42.044Z","type":"message"}
{"nick":"bnoordhuis","message":"like what?","date":"2013-05-29T14:06:59.946Z","type":"message"}
{"nick":"piscisaureus_","message":"and limitations (such as having to delay close callbacks and such)","date":"2013-05-29T14:07:01.048Z","type":"message"}
{"nick":"bnoordhuis","message":"i'd be okay with that","date":"2013-05-29T14:07:17.756Z","type":"message"}
{"nick":"bnoordhuis","message":"uv-unix kind of needs that to deal with uv_fs_poll_t handles properly","date":"2013-05-29T14:07:28.567Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: also (soon) running an off-the-main-thread polling mechanism not quite unlike the select thread hack on os x","date":"2013-05-29T14:07:34.174Z","type":"message"}
{"nick":"kevinswiber","date":"2013-05-29T14:07:43.197Z","type":"join"}
{"nick":"piscisaureus_","message":"but performance critical (which the select hack isnt really()","date":"2013-05-29T14:07:44.417Z","type":"message"}
{"nick":"paddybyers","date":"2013-05-29T14:07:48.934Z","type":"join"}
{"nick":"bnoordhuis","message":"okay. how would that be an obstacle? worst case, you turn the function call into an empty macro on unices","date":"2013-05-29T14:08:22.169Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well - my implementation lets the other thread put reqs right into the request queue","date":"2013-05-29T14:09:19.471Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ i'm safe at home already :-)","date":"2013-05-29T14:09:48.522Z","type":"message"}
{"nick":"piscisaureus_","message":"saghul: hah! good for you","date":"2013-05-29T14:09:54.719Z","type":"message"}
{"nick":"piscisaureus_","message":"me too :)","date":"2013-05-29T14:09:59.919Z","type":"message"}
{"nick":"saghul","message":"gtg now maybe we can discuss the close thing in the ML ?","date":"2013-05-29T14:10:22.922Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2013-05-29T14:10:28.790Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2013-05-29T14:10:33.717Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but in general I would say I am for the idea","date":"2013-05-29T14:10:41.434Z","type":"message"}
{"nick":"bnoordhuis","message":"good","date":"2013-05-29T14:10:49.000Z","type":"message"}
{"nick":"saghul","message":"ok, i'll send an email later, thanks guys!","date":"2013-05-29T14:10:49.419Z","type":"message"}
{"nick":"bnoordhuis","message":"there's some other things, like uv_now()","date":"2013-05-29T14:11:45.584Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I can also do something about windows internals (I mean, the fact that the endgame queue is used for things unrelated to close callbacks is really ungodly)","date":"2013-05-29T14:11:45.794Z","type":"message"}
{"nick":"bnoordhuis","message":"it's exactly the same in uv-win and uv-unix","date":"2013-05-29T14:11:55.968Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: which is basically the reason we are having this discussion","date":"2013-05-29T14:12:00.145Z","type":"message"}
{"nick":"bnoordhuis","message":"okay :)","date":"2013-05-29T14:12:10.120Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah uv_now could move to in my book","date":"2013-05-29T14:12:28.521Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so now you've added a whole new problem to your list","date":"2013-05-29T14:13:15.607Z","type":"message"}
{"nick":"piscisaureus_","message":"which is defining the interface between the event loop and the platform backend :)","date":"2013-05-29T14:13:30.174Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002e0bdb3d\u0002 : unix, windows: move uv_now() to uv-common.c - http://git.io/JH0jCA","date":"2013-05-29T14:13:57.202Z","type":"message"}
{"nick":"bnoordhuis","message":"^ done","date":"2013-05-29T14:14:00.057Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah, agreed","date":"2013-05-29T14:14:11.619Z","type":"message"}
{"nick":"bnoordhuis","message":"i was thinking we could do what libev does","date":"2013-05-29T14:14:21.239Z","type":"message"}
{"nick":"bnoordhuis","message":"uv-unix currently runs callbacks straight from uv__io_poll()","date":"2013-05-29T14:14:31.527Z","type":"message"}
{"nick":"bnoordhuis","message":"which is okay (actually it's great for throughput)","date":"2013-05-29T14:14:42.039Z","type":"message"}
{"nick":"bnoordhuis","message":"but it makes things a little inconsistent","date":"2013-05-29T14:14:53.126Z","type":"message"}
{"nick":"piscisaureus_","message":"you want to push handles onto a queue and then process a queue?","date":"2013-05-29T14:15:08.216Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah","date":"2013-05-29T14:15:12.936Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the conceptual issue is also that on unix you get \"handles\" from the OS and generate requests from that","date":"2013-05-29T14:15:36.030Z","type":"message"}
{"nick":"bnoordhuis","message":"that would also let me coalesce read and write events with kqueue","date":"2013-05-29T14:15:37.234Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'm not following. requests?","date":"2013-05-29T14:16:01.190Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on windows we just get requests from the OS and sometimes we marshal those into handle callbacks (like in case of read and accept)","date":"2013-05-29T14:16:04.169Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: epoll gives you FDs right?","date":"2013-05-29T14:16:23.484Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: GetQueuedCompletionStatus gives you uv_req_t's basically","date":"2013-05-29T14:16:35.524Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, right","date":"2013-05-29T14:16:48.136Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, epoll returns fds","date":"2013-05-29T14:16:53.767Z","type":"message"}
{"nick":"piscisaureus_","message":"so this makes defining a common backend quite hairy :)","date":"2013-05-29T14:17:06.806Z","type":"message"}
{"nick":"bnoordhuis","message":"which are then correlated with handles through a hash table","date":"2013-05-29T14:17:12.137Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #82 \u00037UNSTABLE\u000f smartos (2/186) windows (4/187) http://jenkins.nodejs.org/job/libuv-v0.10/82/","date":"2013-05-29T14:17:29.222Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: huh? what?","date":"2013-05-29T14:17:30.026Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hash table where?","date":"2013-05-29T14:17:36.228Z","type":"message"}
{"nick":"bajtos","date":"2013-05-29T14:17:38.262Z","type":"join"}
{"nick":"bnoordhuis","message":"well, basically it's an array","date":"2013-05-29T14:17:41.819Z","type":"message"}
{"nick":"bnoordhuis","message":"but the fd is used as the index/key","date":"2013-05-29T14:17:48.286Z","type":"message"}
{"nick":"saghul","reason":"Ping timeout: 252 seconds","date":"2013-05-29T14:18:01.488Z","type":"quit"}
{"nick":"bnoordhuis","message":"the array element is a uv__io_t*","date":"2013-05-29T14:18:10.345Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you don't you use epoll_event.data ?","date":"2013-05-29T14:18:31.399Z","type":"message"}
{"nick":"bnoordhuis","message":"i do but only to store the fd","date":"2013-05-29T14:18:39.741Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't store a pointer because epoll_wait() might generate events for file descriptors we've stopped watching","date":"2013-05-29T14:18:59.045Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh haha","date":"2013-05-29T14:19:11.051Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: right - yeah that's the reason windows delays close events","date":"2013-05-29T14:19:24.381Z","type":"message"}
{"nick":"saghul","date":"2013-05-29T14:19:37.118Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: because the req might reference a handle :)","date":"2013-05-29T14:19:39.880Z","type":"message"}
{"nick":"Domenic_","date":"2013-05-29T14:19:54.910Z","type":"join"}
{"nick":"bnoordhuis","message":"right :)","date":"2013-05-29T14:19:59.114Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #45 \u00037UNSTABLE\u000f windows-x64 (4/187) windows-ia32 (4/187) smartos-x64 (4/186) smartos-ia32 (2/186) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/45/","date":"2013-05-29T14:20:03.253Z","type":"message"}
{"nick":"piscisaureus_","message":"(and also because many internal req's are embedded in a handle so freeing would really screw things up)","date":"2013-05-29T14:20:14.697Z","type":"message"}
{"nick":"bnoordhuis","message":"back to GetQueuedCompletionStatus()","date":"2013-05-29T14:20:15.044Z","type":"message"}
{"nick":"bnoordhuis","message":"so you get requests rather than handles","date":"2013-05-29T14:20:28.682Z","type":"message"}
{"nick":"bnoordhuis","message":"but is that an issue?","date":"2013-05-29T14:20:32.232Z","type":"message"}
{"nick":"bnoordhuis","message":"essentially what backend_poll() would do, is prime handles that are somehow ready","date":"2013-05-29T14:20:45.302Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah I get what you mean","date":"2013-05-29T14:21:20.975Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: sounds a bit less efficient but it's worth a try","date":"2013-05-29T14:21:45.638Z","type":"message"}
{"nick":"piscisaureus_","message":"and it's also a near-complete rewrite on my end :(","date":"2013-05-29T14:22:00.895Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that's maybe the one drawback","date":"2013-05-29T14:22:04.675Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, two drawbacks :)","date":"2013-05-29T14:22:08.921Z","type":"message"}
{"nick":"bnoordhuis","message":"right now, uv-unix calls epoll_wait() several times if there are ARRAY_SIZE(events) evens ready","date":"2013-05-29T14:22:39.436Z","type":"message"}
{"nick":"bnoordhuis","message":"*events","date":"2013-05-29T14:22:42.924Z","type":"message"}
{"nick":"bnoordhuis","message":"which sometimes helps with throughput","date":"2013-05-29T14:22:53.524Z","type":"message"}
{"nick":"bnoordhuis","message":"on the other hand, it's pretty rare to actually hit that limit","date":"2013-05-29T14:23:19.949Z","type":"message"}
{"nick":"bnoordhuis","message":"ARRAY_SIZE(events) == 1024 right now","date":"2013-05-29T14:23:30.244Z","type":"message"}
{"nick":"bnoordhuis","message":"getting back to the overarching topic, i think it's time for libuv2!","date":"2013-05-29T14:24:32.229Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T14:25:02.893Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 252 seconds","date":"2013-05-29T14:25:26.947Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-29T14:27:16.287Z","type":"join"}
{"nick":"saghul","reason":"Read error: Operation timed out","date":"2013-05-29T14:27:55.838Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes :)","date":"2013-05-29T14:28:02.645Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think handle priming would solve a lot of other problems in uv-win though so in that sense I'm not against it","date":"2013-05-29T14:28:32.545Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: as for libuv 2 - I think the core model should be pull-based","date":"2013-05-29T14:28:56.083Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. you call some function and it gives you a request or handle that has an event pending.","date":"2013-05-29T14:29:35.079Z","type":"message"}
{"nick":"groundwater","date":"2013-05-29T14:29:49.301Z","type":"join"}
{"nick":"piscisaureus_","message":"the bells-and-whistles event loop should be sugar on top","date":"2013-05-29T14:29:53.462Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: now to find some VCs to pay for that...","date":"2013-05-29T14:30:44.287Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you mean you keep calling uv_handle_t* uv_pull_event() until it exhausts the queue?","date":"2013-05-29T14:30:54.691Z","type":"message"}
{"nick":"bnoordhuis","message":"oh VCs, just tell them we're building a twitter, but for pets","date":"2013-05-29T14:31:28.042Z","type":"message"}
{"nick":"saghul","date":"2013-05-29T14:31:36.884Z","type":"join"}
{"nick":"bajtos","message":"bnoordhuis: I don't have npm account credentials. I only used fact that you can change avatar image as long as you can receive emails on registered address","date":"2013-05-29T14:32:12.224Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes - something like that","date":"2013-05-29T14:32:43.310Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #77 \u00037UNSTABLE\u000f smartos-ia32 (1/588) osx-ia32 (1/588) smartos-x64 (3/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/77/","date":"2013-05-29T14:32:54.294Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-29T14:34:52.826Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u00029826b15\u0002 : doc: sending dgram handles only works on unix - http://git.io/-Y29Jg","date":"2013-05-29T14:35:55.322Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: that would make it easy to write chicken scheme bindings. i'm all for it!","date":"2013-05-29T14:37:24.635Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: jsut as a though experiment, we could also do away with handles-that-generate-events completely in the low-level layer","date":"2013-05-29T14:40:53.356Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: basically read and and accept and recv would have to be requests","date":"2013-05-29T14:41:20.780Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it is something isaacs has asked for and ryah suggested it too when I last met him in person","date":"2013-05-29T14:41:46.414Z","type":"message"}
{"nick":"bnoordhuis","message":"what's the rationale?","date":"2013-05-29T14:42:05.945Z","type":"message"}
{"nick":"c4milo","date":"2013-05-29T14:42:21.194Z","type":"join"}
{"nick":"piscisaureus_","message":"well it's more consistent","date":"2013-05-29T14:42:21.597Z","type":"message"}
{"nick":"bnoordhuis","message":"right, you wouldn't need uv_listen(), uv_read_stop(), etc.","date":"2013-05-29T14:42:39.734Z","type":"message"}
{"nick":"bnoordhuis","message":"at least, not in their current incarnation","date":"2013-05-29T14:42:52.656Z","type":"message"}
{"nick":"piscisaureus_","message":"instead of pausing and resuming read you would just \"enqueue\" a read or accept and when it returns you get data or an fd","date":"2013-05-29T14:42:53.612Z","type":"message"}
{"nick":"piscisaureus_","message":"although we'd have to think carefully about how alloc_cb fits into the mix","date":"2013-05-29T14:43:06.443Z","type":"message"}
{"nick":"piscisaureus_","message":"I think realistically you'd want to create a buffer pool and the embedder is responsible for making sure the buffer pool is never completely depleted","date":"2013-05-29T14:44:00.425Z","type":"message"}
{"nick":"piscisaureus_","message":"and read() and recv() would take buffers from the buffer pool","date":"2013-05-29T14:44:18.876Z","type":"message"}
{"nick":"piscisaureus_","message":"(IMO if any operating system would decide to do the right thing for once they should pick the same model)","date":"2013-05-29T14:44:45.179Z","type":"message"}
{"nick":"bnoordhuis","message":"if only windows wasn't completion-based","date":"2013-05-29T14:46:04.883Z","type":"message"}
{"nick":"bnoordhuis","message":"life would have been so much easier","date":"2013-05-29T14:46:10.641Z","type":"message"}
{"nick":"piscisaureus_","message":"you should read the document bajtos' pointed out","date":"2013-05-29T14:46:39.697Z","type":"message"}
{"nick":"piscisaureus_","message":"http://www.facebook.com/l.php?u=https%3A%2F%2Fdocs.google.com%2Fviewer%3Fa%3Dv%26pid%3Dforums%26srcid%3DMDUxODU4OTA1NTU1MzUxODE5MDQBMTA5MDUzNTI5Mzg2ODk0MjY5NjUBYWM5cnR1MEY4Z1FKATQBAXYy%26authuser%3D0&h=dAQFYX4kv","date":"2013-05-29T14:46:41.056Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i've seen it :)","date":"2013-05-29T14:46:46.838Z","type":"message"}
{"nick":"piscisaureus_","message":"it basically says - linux gets much faster with a completion model","date":"2013-05-29T14:46:57.494Z","type":"message"}
{"nick":"piscisaureus_","message":"but I'm scared of memory implications in a C10M scenario","date":"2013-05-29T14:47:19.072Z","type":"message"}
{"nick":"bnoordhuis","message":"right, that's the issue with completion-driven i/o","date":"2013-05-29T14:47:33.704Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #218 \u00037UNSTABLE\u000f osx-x64 (1/588) linux-x64 (1/588) smartos-ia32 (1/588) smartos-x64 (2/588) http://jenkins.nodejs.org/job/nodejs-v0.10/218/","date":"2013-05-29T14:47:34.401Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, the flexsc paper that paper links to is quite interesting as well","date":"2013-05-29T14:47:46.647Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so that's why I would separate queuing read from supplying memory to read into","date":"2013-05-29T14:47:59.646Z","type":"message"}
{"nick":"bnoordhuis","message":"food for thought","date":"2013-05-29T14:49:21.887Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #48 \u00037UNSTABLE\u000f windows-x64 (8/588) windows-ia32 (6/588) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/48/","date":"2013-05-29T14:55:45.412Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-29T15:03:42.415Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-05-29T15:13:35.216Z","type":"join"}
{"nick":"hudgfactor","date":"2013-05-29T15:16:01.010Z","type":"join"}
{"nick":"kuebk","reason":"Quit: Leaving.","date":"2013-05-29T15:16:17.921Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T15:19:29.472Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-29T15:23:18.527Z","type":"join"}
{"nick":"Somebody","date":"2013-05-29T15:23:54.156Z","type":"join"}
{"nick":"Somebody","reason":"Remote host closed the connection","date":"2013-05-29T15:24:33.349Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-05-29T15:26:16.395Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-05-29T15:27:31.480Z","type":"quit"}
{"nick":"leonvv","date":"2013-05-29T15:27:55.749Z","type":"join"}
{"nick":"saghul","message":"bnoordhuis, piscisaureus_ can either of you guys fix this comment here? https://github.com/joyent/libuv/blob/v0.10/test/test-osx-select.c#L65 creates a compilation problem on OSX 10.6","date":"2013-05-29T15:28:19.044Z","type":"message"}
{"nick":"piscisaureus_","action":"fires up github editor","date":"2013-05-29T15:30:18.527Z","type":"action"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037v0.10\u000f * \u0002081f701\u0002 : test: use c-style comments - http://git.io/0YlGog","date":"2013-05-29T15:32:28.641Z","type":"message"}
{"nick":"piscisaureus_","message":"yup, that's my github editor","date":"2013-05-29T15:32:36.735Z","type":"message"}
{"nick":"bnoordhuis","message":"aw","date":"2013-05-29T15:33:23.352Z","type":"message"}
{"nick":"bnoordhuis","message":"preempted","date":"2013-05-29T15:33:25.679Z","type":"message"}
{"nick":"bnoordhuis","action":"force-pushes","date":"2013-05-29T15:33:30.402Z","type":"action"}
{"nick":"bnoordhuis","action":"doesn't really","date":"2013-05-29T15:33:37.357Z","type":"action"}
{"nick":"bnoordhuis","message":"it's okay, bert can use the commit","date":"2013-05-29T15:34:19.113Z","type":"message"}
{"nick":"bnoordhuis","message":" git shortlog -ns | head -4","date":"2013-05-29T15:34:27.818Z","type":"message"}
{"nick":"bnoordhuis","message":"   864  Ben Noordhuis","date":"2013-05-29T15:34:27.985Z","type":"message"}
{"nick":"bnoordhuis","message":"   576  Bert Belder","date":"2013-05-29T15:34:27.985Z","type":"message"}
{"nick":"bnoordhuis","message":"   337  Ryan Dahl","date":"2013-05-29T15:34:27.985Z","type":"message"}
{"nick":"bnoordhuis","message":"   136  Igor Zinkovsky","date":"2013-05-29T15:34:27.986Z","type":"message"}
{"nick":"bnoordhuis","message":"still a bit of catching up to do, bertje","date":"2013-05-29T15:34:39.561Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #83 \u00037UNSTABLE\u000f smartos (2/186) windows (5/187) http://jenkins.nodejs.org/job/libuv-v0.10/83/","date":"2013-05-29T15:34:48.637Z","type":"message"}
{"nick":"benoitc","reason":"Changing host","date":"2013-05-29T15:34:55.213Z","type":"quit"}
{"nick":"benoitc","date":"2013-05-29T15:34:55.378Z","type":"join"}
{"nick":"saghul","message":"thanks!","date":"2013-05-29T15:35:08.730Z","type":"message"}
{"nick":"`3rdEden","message":"bnoordhuis: it's not the amount of commits that count but the quality of the commits ;)","date":"2013-05-29T15:35:35.793Z","type":"message"}
{"nick":"`3rdEden","new_nick":"`3E|BRB","date":"2013-05-29T15:36:23.327Z","type":"nick"}
{"nick":"bnoordhuis","message":"i've heard similar comments in other contexts","date":"2013-05-29T15:37:07.294Z","type":"message"}
{"nick":"bnoordhuis","message":"something about size","date":"2013-05-29T15:37:10.248Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #46 \u00037UNSTABLE\u000f windows-x64 (4/187) linux-ia32 (3/186) linux-x64 (1/186) windows-ia32 (3/187) smartos-x64 (2/186) smartos-ia32 (2/186) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/46/","date":"2013-05-29T15:39:30.651Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T15:46:42.021Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #78 \u00037UNSTABLE\u000f smartos-ia32 (1/588) osx-ia32 (1/588) smartos-x64 (3/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/78/","date":"2013-05-29T15:50:17.712Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T15:51:55.714Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-05-29T15:54:10.311Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-05-29T16:01:19.089Z","type":"quit"}
{"nick":"dap","date":"2013-05-29T16:01:52.981Z","type":"join"}
{"nick":"leonvv","reason":"Remote host closed the connection","date":"2013-05-29T16:14:07.261Z","type":"quit"}
{"nick":"`3E|BRB","reason":"Remote host closed the connection","date":"2013-05-29T16:20:49.885Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-05-29T16:30:13.248Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T16:31:34.818Z","type":"quit"}
{"nick":"TooTallNate","reason":"Read error: Operation timed out","date":"2013-05-29T16:34:25.974Z","type":"quit"}
{"nick":"paddybyers","date":"2013-05-29T16:35:29.338Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-05-29T16:42:10.681Z","type":"quit"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T16:48:19.393Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-05-29T16:48:31.346Z","type":"quit"}
{"nick":"Somebody","date":"2013-05-29T16:55:00.106Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-29T16:56:44.381Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-05-29T16:58:57.026Z","type":"quit"}
{"nick":"amartens","date":"2013-05-29T16:59:40.081Z","type":"join"}
{"nick":"benoitc","date":"2013-05-29T17:01:38.201Z","type":"join"}
{"nick":"qard","date":"2013-05-29T17:08:03.299Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-29T17:11:27.898Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T17:21:36.378Z","type":"nick"}
{"nick":"trapito","date":"2013-05-29T17:23:58.251Z","type":"join"}
{"nick":"trapito","message":"hi","date":"2013-05-29T17:24:02.989Z","type":"message"}
{"nick":"Somebody","reason":"Remote host closed the connection","date":"2013-05-29T17:25:30.031Z","type":"quit"}
{"nick":"trapito","message":"anyone available for a quick question regarding shutdown handlers and uv_close? basically i'm calling uv_close from a shutdown handler and would like to know what behavior to expect, however, i wasn't able to find out (didn't got as far as reading the code)","date":"2013-05-29T17:25:59.975Z","type":"message"}
{"nick":"trapito","message":"didn't get*","date":"2013-05-29T17:26:08.802Z","type":"message"}
{"nick":"hz","date":"2013-05-29T17:28:35.356Z","type":"join"}
{"nick":"hz","reason":"Changing host","date":"2013-05-29T17:28:35.505Z","type":"quit"}
{"nick":"hz","date":"2013-05-29T17:28:35.505Z","type":"join"}
{"nick":"AvianFlu","date":"2013-05-29T17:29:31.148Z","type":"join"}
{"nick":"piscisaureus_","message":"trapito: yes you can close from a shutdown handler","date":"2013-05-29T17:30:25.846Z","type":"message"}
{"nick":"piscisaureus_","message":"trapito: however that means that you won't be able to read any data after that","date":"2013-05-29T17:30:44.697Z","type":"message"}
{"nick":"trapito","message":"piscisaureus_: and as long as the 2 tcp handles run in the same loop i shouldn't have any problems right?","date":"2013-05-29T17:30:55.893Z","type":"message"}
{"nick":"piscisaureus_","message":"trapito: well some time passes between the write completing and the other socket reading it","date":"2013-05-29T17:31:31.356Z","type":"message"}
{"nick":"piscisaureus_","message":"(if I am reading you right and you are creating a loopback connection)","date":"2013-05-29T17:31:46.553Z","type":"message"}
{"nick":"trapito","message":"not really, i'm listening and bridging data from 2 clients, when one closes the connection i close the connection to the other one","date":"2013-05-29T17:32:23.761Z","type":"message"}
{"nick":"trapito","message":"so, i guess my main concern is, as long as both clients run in the same loop callbacks should be \"serialized\" right?","date":"2013-05-29T17:33:18.663Z","type":"message"}
{"nick":"brson","date":"2013-05-29T17:35:07.156Z","type":"join"}
{"nick":"`3rdEden","date":"2013-05-29T17:37:53.227Z","type":"join"}
{"nick":"dannycoates","date":"2013-05-29T17:38:01.341Z","type":"join"}
{"nick":"inolen","date":"2013-05-29T17:38:04.992Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-29T17:38:57.280Z","type":"quit"}
{"nick":"bajtos","date":"2013-05-29T17:41:17.290Z","type":"join"}
{"nick":"piscisaureus_","message":"trapito: oh- yes absolutely","date":"2013-05-29T17:47:49.259Z","type":"message"}
{"nick":"piscisaureus_","message":"callbacks are always made with uv_run immediately underneath and none of your code in between","date":"2013-05-29T17:48:13.030Z","type":"message"}
{"nick":"piscisaureus_","message":"I guess the only exception is uv_walk but that's kind of obvious if you use it","date":"2013-05-29T17:48:36.682Z","type":"message"}
{"nick":"trapito","message":"great, thanks piscisaureus_!","date":"2013-05-29T17:55:42.847Z","type":"message"}
{"nick":"trapito","message":"is there any way for me to read about event loops without actually reading the sources?","date":"2013-05-29T17:56:27.626Z","type":"message"}
{"nick":"trapito","message":"i'd like to know if extra event loops run as threads for example","date":"2013-05-29T17:56:45.919Z","type":"message"}
{"nick":"trapito","message":"actually that's a mistranslated expression (for example) =P","date":"2013-05-29T17:57:25.342Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-29T18:10:24.633Z","type":"quit"}
{"nick":"piscisaureus_","message":"trapito: no extra event loops dont implicitly run in a thread.","date":"2013-05-29T18:12:58.732Z","type":"message"}
{"nick":"piscisaureus_","message":"trapito: but you probably want to create one for it","date":"2013-05-29T18:13:21.230Z","type":"message"}
{"nick":"piscisaureus_","message":"trapito: http://nikhilm.github.io/uvbook/ might help","date":"2013-05-29T18:13:50.550Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: https://gist.github.com/piscisaureus/5672440 <-- why the if / else ?","date":"2013-05-29T18:14:00.895Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so that you can drop a node.exe in that same folder, and it'll use that one.","date":"2013-05-29T18:15:02.533Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i don't remember why this was important once upon a time.","date":"2013-05-29T18:15:08.921Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: sounds kinda nuts :)","date":"2013-05-29T18:15:23.158Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, i'd be surprised if anyonewas actually using it","date":"2013-05-29T18:15:34.114Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but even more - if there is node.exe in the current folder then windows will run that anyway","date":"2013-05-29T18:15:36.687Z","type":"message"}
{"nick":"piscisaureus_","message":"because windows always tries the current dir first","date":"2013-05-29T18:15:49.060Z","type":"message"}
{"nick":"trapito","message":"great, do you think separating the loops by cilent type would be premature optimization?","date":"2013-05-29T18:15:49.631Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: not the cwd","date":"2013-05-29T18:15:51.659Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the ./node_modules/.bin folder","date":"2013-05-29T18:16:02.788Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: where the .cmd file is","date":"2013-05-29T18:16:07.115Z","type":"message"}
{"nick":"piscisaureus_","message":"oh - right I see","date":"2013-05-29T18:16:14.107Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: still it's kind of an odd feater","date":"2013-05-29T18:16:51.158Z","type":"message"}
{"nick":"piscisaureus_","message":"*feature","date":"2013-05-29T18:16:53.167Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-05-29T18:17:04.104Z","type":"message"}
{"nick":"isaacs","message":"i think it was some kind of azure workaround somethingorother","date":"2013-05-29T18:17:10.399Z","type":"message"}
{"nick":"piscisaureus_","message":"that I've always overlooked but coming to think of it, doesn't seem to make such sense :)","date":"2013-05-29T18:17:12.070Z","type":"message"}
{"nick":"piscisaureus_","message":"but awlright if you say so then I guess we can just leave it there","date":"2013-05-29T18:17:34.029Z","type":"message"}
{"nick":"isaacs","message":"i remember a conversation with ryan and someone about this a while ago","date":"2013-05-29T18:17:36.653Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-05-29T18:17:38.734Z","type":"message"}
{"nick":"isaacs","message":"it's not hurting anyone :)","date":"2013-05-29T18:17:42.093Z","type":"message"}
{"nick":"piscisaureus_","message":"ok kewl","date":"2013-05-29T18:18:00.251Z","type":"message"}
{"nick":"trapito","message":"piscisaureus_: please correct me if i'm wrong, but according to the sources, uv_close  does actually stop any activity and closes the fd immediately right? ","date":"2013-05-29T18:23:55.501Z","type":"message"}
{"nick":"normanm","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T18:31:16.244Z","type":"quit"}
{"nick":"piscisaureus_","message":"trapito: yes","date":"2013-05-29T18:32:04.368Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T18:34:40.496Z","type":"nick"}
{"nick":"normanm","date":"2013-05-29T18:35:13.947Z","type":"join"}
{"nick":"bnoordhuis","message":"trapito: correct","date":"2013-05-29T18:59:33.227Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, didn't see piscisaureus_ had replied","date":"2013-05-29T18:59:57.755Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/libuv/commit/5232bbb <- review?","date":"2013-05-29T19:06:16.053Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ did you land the (un)fixed idle handles thing on windows?","date":"2013-05-29T19:07:47.344Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T19:13:11.394Z","type":"join"}
{"nick":"piscisaureus_","message":"saghul: not yet, should I fire up the github editor again","date":"2013-05-29T19:17:06.858Z","type":"message"}
{"nick":"hudgfactor","message":"bnoordhuis and tjfontaine -- thanks for the help yesterday, I seem to have poll working now and node 0.10 running on QNX.","date":"2013-05-29T19:18:40.744Z","type":"message"}
{"nick":"bnoordhuis","message":"hudgfactor: sweet. what does `make test` look like?","date":"2013-05-29T19:19:25.651Z","type":"message"}
{"nick":"bnoordhuis","message":"also, i'm surprised you got node/v8 up and running. what arch is it?","date":"2013-05-29T19:19:41.469Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 276 seconds","date":"2013-05-29T19:20:52.132Z","type":"quit"}
{"nick":"mikeal","date":"2013-05-29T19:20:54.318Z","type":"join"}
{"nick":"hudgfactor","message":"bnoordhuis: I haven't tried, but am pretty sure it won't get very far.  To be clear, I didn't do most of the port -- a 0.6 port was here when I started and a half-done 0.8 port was given to me.","date":"2013-05-29T19:21:14.674Z","type":"message"}
{"nick":"hudgfactor","message":"armv7","date":"2013-05-29T19:21:23.165Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ fire it up while it's hot! :-)","date":"2013-05-29T19:23:22.855Z","type":"message"}
{"nick":"hudgfactor","message":"I've been pushing node here but not really getting much traction.  The company is pretty old-school.  There's a team at Audi that have benefitted by my port though, and they'll be happy to have a 0.10 that works.  Maybe node will be in Audi's in the next few years.  :)","date":"2013-05-29T19:24:17.184Z","type":"message"}
{"nick":"normanm","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T19:24:55.542Z","type":"quit"}
{"nick":"paddybyers","date":"2013-05-29T19:25:40.517Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-05-29T19:26:22.442Z","type":"quit"}
{"nick":"bnoordhuis","message":"hah, that'd be sweet","date":"2013-05-29T19:27:15.612Z","type":"message"}
{"nick":"bnoordhuis","message":"what company are you working for, hudgfactor?","date":"2013-05-29T19:27:29.581Z","type":"message"}
{"nick":"hudgfactor","message":"The company is called QNX as well.","date":"2013-05-29T19:27:44.240Z","type":"message"}
{"nick":"hudgfactor","message":"QNX is an embedded real-time OS.","date":"2013-05-29T19:27:53.216Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, didn't know you worked for them","date":"2013-05-29T19:28:12.387Z","type":"message"}
{"nick":"bnoordhuis","message":"if that was discussed yesterday, i must've missed it","date":"2013-05-29T19:28:25.469Z","type":"message"}
{"nick":"hudgfactor","message":"Yeah, up in Ottawa.  No, didn't mention it.","date":"2013-05-29T19:28:31.223Z","type":"message"}
{"nick":"hudgfactor","message":"QNX is owned by BlackBerry these days.","date":"2013-05-29T19:28:46.411Z","type":"message"}
{"nick":"hudgfactor","message":"It's the OS for their new phones.","date":"2013-05-29T19:28:52.976Z","type":"message"}
{"nick":"bnoordhuis","message":"what hardware do blackberry phones use?","date":"2013-05-29T19:29:39.599Z","type":"message"}
{"nick":"piscisaureus_","message":"does qnx have anything but select() ?","date":"2013-05-29T19:29:46.466Z","type":"message"}
{"nick":"hudgfactor","message":"The original node port came from the Torch browser team.  They were considering it for a back-end for HTML5-based apps on the phone.  In the end they went with a headless Webkit for whatever reason.","date":"2013-05-29T19:29:49.582Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather, what architectures are you targeting?","date":"2013-05-29T19:30:02.091Z","type":"message"}
{"nick":"loladiro","date":"2013-05-29T19:30:17.753Z","type":"join"}
{"nick":"hudgfactor","message":"BB10 phones are arm devices.  But I actually work for the marketing department of QNX, doing mostly automotive concept demos.","date":"2013-05-29T19:30:54.394Z","type":"message"}
{"nick":"hudgfactor","message":"We hacked up a Bentley for CES this year.  I used Node to do a few things, including getting status and controlling the car (ie. roll the windows up and down) from a web app.","date":"2013-05-29T19:31:42.581Z","type":"message"}
{"nick":"bnoordhuis","message":"nice","date":"2013-05-29T19:31:51.400Z","type":"message"}
{"nick":"bnoordhuis","message":"if you send me a bentley, i'll see if i can get node running better on it :)","date":"2013-05-29T19:32:32.044Z","type":"message"}
{"nick":"piscisaureus_","message":"hudgfactor: http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/lib_ref/i/ionotify.html <-- is that \"the\" scalable event multiplexer?","date":"2013-05-29T19:32:43.153Z","type":"message"}
{"nick":"hudgfactor","message":"QNX has another mechanism besides select() but I don't know if it's really meant for this.  poll/select are okay as far as I'm concerned because it's not like I'm serving thousands of connections.","date":"2013-05-29T19:32:53.198Z","type":"message"}
{"nick":"hudgfactor","message":"piscisaureus_:  yes, that's the one.  I know almost nothing about it though.","date":"2013-05-29T19:33:07.931Z","type":"message"}
{"nick":"hudgfactor","message":"bnoordhuis: lol, I'll see what I can do.  :)","date":"2013-05-29T19:33:38.837Z","type":"message"}
{"nick":"bnoordhuis","message":"in all seriousness, if you need some help getting the qnx port going, let me know","date":"2013-05-29T19:35:41.447Z","type":"message"}
{"nick":"hudgfactor","message":"Thanks, that's awesome.","date":"2013-05-29T19:37:14.967Z","type":"message"}
{"nick":"hudgfactor","message":"Will you be at NodeConf?  I did manage to convince QNX to send me to it this year.","date":"2013-05-29T19:37:37.574Z","type":"message"}
{"nick":"bnoordhuis","message":"not me. most of the other core people will be there though","date":"2013-05-29T19:38:25.723Z","type":"message"}
{"nick":"piscisaureus_","message":"I will be and so will isaacs","date":"2013-05-29T19:38:40.072Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm guessing tjfontaine too","date":"2013-05-29T19:38:54.724Z","type":"message"}
{"nick":"tjfontaine","message":"I will be at nodeconf, yes","date":"2013-05-29T19:39:07.898Z","type":"message"}
{"nick":"hudgfactor","message":"That's cool, well it's nice to have talked to you guys.  I've known a lot of your names for quite a while now.  :)","date":"2013-05-29T19:39:18.170Z","type":"message"}
{"nick":"hudgfactor","message":"If you're interested in that Bentley, here's a video.  http://www.youtube.com/watch?v=SSwRsJLSXjY  (I'm not in it)","date":"2013-05-29T19:40:37.597Z","type":"message"}
{"nick":"hudgfactor","message":"kinda long","date":"2013-05-29T19:40:52.862Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 256 seconds","date":"2013-05-29T19:41:19.029Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 252 seconds","date":"2013-05-29T19:42:47.227Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/libuv/commit/c0a1206","date":"2013-05-29T19:43:13.098Z","type":"message"}
{"nick":"bnoordhuis","message":"please test. i didn't","date":"2013-05-29T19:43:27.572Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis heh","date":"2013-05-29T19:45:24.831Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T19:46:43.320Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T19:48:08.940Z","type":"nick"}
{"nick":"V1","date":"2013-05-29T19:48:24.397Z","type":"join"}
{"nick":"qard1","date":"2013-05-29T19:50:49.497Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: lgty?","date":"2013-05-29T19:51:10.875Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-29T19:52:18.217Z","type":"quit"}
{"nick":"V1","new_nick":"`3E","date":"2013-05-29T19:53:27.780Z","type":"nick"}
{"nick":"loladiro_","date":"2013-05-29T19:53:50.876Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Operation timed out","date":"2013-05-29T19:54:02.218Z","type":"quit"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2013-05-29T19:54:02.505Z","type":"nick"}
{"nick":"groundwater","reason":"Ping timeout: 276 seconds","date":"2013-05-29T19:54:40.375Z","type":"quit"}
{"nick":"`3rdEden","reason":"Ping timeout: 276 seconds","date":"2013-05-29T19:54:41.145Z","type":"quit"}
{"nick":"ircretary","reason":"Ping timeout: 276 seconds","date":"2013-05-29T19:54:41.722Z","type":"quit"}
{"nick":"qard","reason":"Ping timeout: 276 seconds","date":"2013-05-29T19:54:43.196Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T19:58:02.064Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T20:03:01.403Z","type":"nick"}
{"nick":"piscisaureus_","message":"bnoordhuis: sorry I was afk","date":"2013-05-29T20:03:35.868Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: lgtm but didn't test","date":"2013-05-29T20:03:48.365Z","type":"message"}
{"nick":"piscisaureus_","message":"let's ask jenkins","date":"2013-05-29T20:03:51.222Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T20:04:09.944Z","type":"quit"}
{"nick":"tjfontaine","message":"jenkins is a bastard, he rarely gives you the answer you want","date":"2013-05-29T20:04:18.750Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033piscisaureus\u000f created branch jenkins-please-test-this-for-bnoordhuis - http://git.io/PzrGMw","date":"2013-05-29T20:04:33.070Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: I'm not sure what you expected that to do, but I'll make it happen :)","date":"2013-05-29T20:06:48.026Z","type":"message"}
{"nick":"cjd","message":"=]","date":"2013-05-29T20:08:43.475Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #1 \u00037UNSTABLE\u000f windows-x64 (5/188) windows-ia32 (4/188) smartos-ia32 (2/187) smartos-x64 (2/187) http://jenkins.nodejs.org/job/libuv-review/1/","date":"2013-05-29T20:13:20.122Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: ^^","date":"2013-05-29T20:13:27.809Z","type":"message"}
{"nick":"TooTallNate","date":"2013-05-29T20:15:34.320Z","type":"join"}
{"nick":"bnoordhuis","message":"Assertion failed in test\\test-timer.c on line 282: 0 == uv_run(uv_default_loop(), UV_RUN_ONCE) <- aw :(","date":"2013-05-29T20:15:44.804Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-29T20:16:25.449Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T20:16:40.605Z","type":"nick"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Wynn Wilkes\u000f \u00037v0.10\u000f * \u0002b4c658c\u0002 : darwin: make uv_fs_sendfile() respect length param - http://git.io/z-l9YA","date":"2013-05-29T20:26:08.176Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-29T20:28:35.472Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-29T20:29:01.401Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #84 \u00037UNSTABLE\u000f smartos (2/186) windows (4/187) http://jenkins.nodejs.org/job/libuv-v0.10/84/","date":"2013-05-29T20:30:53.197Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #47 \u00037UNSTABLE\u000f windows-x64 (5/187) windows-ia32 (5/187) smartos-x64 (2/186) smartos-ia32 (2/186) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/47/","date":"2013-05-29T20:32:00.203Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 264 seconds","date":"2013-05-29T20:33:42.228Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine, isaacs: any objections to me landing code-cleanup-potpourri?","date":"2013-05-29T20:35:45.879Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I'm all for it","date":"2013-05-29T20:35:59.063Z","type":"message"}
{"nick":"bnoordhuis","message":"okay then, there she goes","date":"2013-05-29T20:36:44.696Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll just run debug and release tests one more time, just to be sure :)","date":"2013-05-29T20:37:32.009Z","type":"message"}
{"nick":"tjfontaine","message":"you can push to a review branch in the joyent/node and we can do a wider test","date":"2013-05-29T20:38:04.539Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: so can i now make jenkins do anything by pushing to some branch?","date":"2013-05-29T20:38:10.251Z","type":"message"}
{"nick":"bnoordhuis","message":"good idea","date":"2013-05-29T20:38:13.273Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033bnoordhuis\u000f created branch code-cleanup-potpourri - http://git.io/-2IkVw","date":"2013-05-29T20:38:43.240Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: if you're willing to push a button, I will add a plugin to jenkins to match a branch name ","date":"2013-05-29T20:38:44.497Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: if it isn't too hard","date":"2013-05-29T20:39:02.620Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: moment","date":"2013-05-29T20:39:39.200Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: ya, it's pretty simple","date":"2013-05-29T20:39:43.856Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: so will there be an api for that? :)","date":"2013-05-29T20:39:58.049Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: just curious","date":"2013-05-29T20:40:07.312Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T20:40:16.407Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: land at will","date":"2013-05-29T20:40:36.545Z","type":"message"}
{"nick":"isaacs","message":"is there any reason why we even have uv_fs_sendfile?","date":"2013-05-29T20:41:21.413Z","type":"message"}
{"nick":"isaacs","message":"do any uv-using platforms use it?","date":"2013-05-29T20:41:28.679Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: platforms or projects?","date":"2013-05-29T20:41:39.411Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: whatever.","date":"2013-05-29T20:41:44.488Z","type":"message"}
{"nick":"bnoordhuis","message":"as to why, well, you know","date":"2013-05-29T20:41:48.780Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: http://jenkins.nodejs.org/job/libuv-review/build?delay=0sec is the clicky way, but there's also buildWithParameters where you can pass it as a query string, but I'll just make it automagic, it'll be ready tomorrow","date":"2013-05-29T20:41:49.185Z","type":"message"}
{"nick":"bnoordhuis","message":"libev had a sendfile thingy so we added it for compat's sake","date":"2013-05-29T20:41:59.180Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i see.","date":"2013-05-29T20:42:04.906Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it seems like sendfile is, in practice, awkward at best.","date":"2013-05-29T20:42:29.980Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah. it has it uses but it's decidedly non-standard and quirky","date":"2013-05-29T20:42:50.510Z","type":"message"}
{"nick":"isaacs","message":"i'd love to use it in st","date":"2013-05-29T20:42:58.204Z","type":"message"}
{"nick":"bnoordhuis","message":"st?","date":"2013-05-29T20:43:12.150Z","type":"message"}
{"nick":"isaacs","message":"but i'm not sure how iwould without giving up caching","date":"2013-05-29T20:43:17.428Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: http://npm.im/st","date":"2013-05-29T20:43:23.112Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, right","date":"2013-05-29T20:43:46.800Z","type":"message"}
{"nick":"c4milo","date":"2013-05-29T20:43:50.035Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: static file thingie","date":"2013-05-29T20:44:08.888Z","type":"message"}
{"nick":"bnoordhuis","message":"that's the thing with sendfile, you're putting your faith in your os's disk cache","date":"2013-05-29T20:44:13.797Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-05-29T20:44:19.382Z","type":"message"}
{"nick":"isaacs","message":"seems like operating systems should implement some thing like sendfile that's not so stupid and quirky","date":"2013-05-29T20:44:57.075Z","type":"message"}
{"nick":"isaacs","message":"like a low-level kernel pipe","date":"2013-05-29T20:45:04.941Z","type":"message"}
{"nick":"isaacs","message":"like a low-level kernel stream.pipe() that is","date":"2013-05-29T20:45:12.327Z","type":"message"}
{"nick":"bnoordhuis","message":"splice() :)","date":"2013-05-29T20:45:22.544Z","type":"message"}
{"nick":"bnoordhuis","message":"linux-only unfortunately","date":"2013-05-29T20:45:27.590Z","type":"message"}
{"nick":"isaacs","message":"but generic, not limited to file->socket","date":"2013-05-29T20:45:31.031Z","type":"message"}
{"nick":"isaacs","message":"also file->file, and socket->socket and socket->file","date":"2013-05-29T20:45:40.549Z","type":"message"}
{"nick":"brucem","reason":"Ping timeout: 264 seconds","date":"2013-05-29T20:45:42.208Z","type":"quit"}
{"nick":"bnoordhuis","message":"yeah, that's splice()","date":"2013-05-29T20:45:46.793Z","type":"message"}
{"nick":"bnoordhuis","message":"it works with most files","date":"2013-05-29T20:45:54.383Z","type":"message"}
{"nick":"TooTallNate","date":"2013-05-29T20:45:55.415Z","type":"join"}
{"nick":"bnoordhuis","message":"sendfile() is actually splice() under the hood","date":"2013-05-29T20:46:01.600Z","type":"message"}
{"nick":"isaacs","message":"who's working on adding splice to darwin and sunos?","date":"2013-05-29T20:46:03.189Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm guessing no one","date":"2013-05-29T20:46:10.884Z","type":"message"}
{"nick":"hudgfactor","reason":"Quit: hudgfactor","date":"2013-05-29T20:46:24.559Z","type":"quit"}
{"nick":"bnoordhuis","message":"you could probably interest your co-workers to get it into smartos","date":"2013-05-29T20:46:32.315Z","type":"message"}
{"nick":"bnoordhuis","message":"but darwin... lost cause","date":"2013-05-29T20:46:36.406Z","type":"message"}
{"nick":"tjfontaine","message":"noone uses darwin in production anyway :)","date":"2013-05-29T20:46:47.476Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: this branch is based on master or v0.10?","date":"2013-05-29T20:47:05.630Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: v0.10","date":"2013-05-29T20:47:12.080Z","type":"message"}
{"nick":"brucem","date":"2013-05-29T20:47:14.160Z","type":"join"}
{"nick":"tjfontaine","message":"hm ok","date":"2013-05-29T20:47:16.211Z","type":"message"}
{"nick":"bnoordhuis","message":"i can land it in master, no problem","date":"2013-05-29T20:47:31.640Z","type":"message"}
{"nick":"tjfontaine","message":"no","date":"2013-05-29T20:47:40.626Z","type":"message"}
{"nick":"tjfontaine","message":"I'm seeing debugger tests fail on linux, which I'm used to seeing mostly fail on master right now, not v0.10","date":"2013-05-29T20:48:00.852Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T20:48:10.309Z","type":"join"}
{"nick":"bnoordhuis","message":"they regularly fail for me both with master and v0.10","date":"2013-05-29T20:48:31.847Z","type":"message"}
{"nick":"bnoordhuis","message":"test-debugger-client and friends right?","date":"2013-05-29T20:48:41.743Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #79 \u00037UNSTABLE\u000f smartos-ia32 (1/588) osx-ia32 (1/588) smartos-x64 (1/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/79/","date":"2013-05-29T20:48:55.327Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: ya, but see they didn't fail in that build right there :)","date":"2013-05-29T20:49:27.863Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: http://jenkins.nodejs.org//job/nodejs-review/DESTCPU=ia32,label=linux/lastCompletedBuild//tapTestReport/test.tap-499/","date":"2013-05-29T20:51:53.586Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033piscisaureus\u000f created branch idle-semantics - http://git.io/R-KFNg","date":"2013-05-29T20:52:22.341Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-29T20:52:54.213Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^review?","date":"2013-05-29T20:53:03.184Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: one sec, checking tj's failing test","date":"2013-05-29T20:53:19.587Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: https://gist.github.com/piscisaureus/5673766","date":"2013-05-29T20:53:59.490Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: is what I get","date":"2013-05-29T20:54:05.874Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: oh now it works...","date":"2013-05-29T20:54:53.405Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-05-29T20:55:03.110Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: interesting, it worked monday :)","date":"2013-05-29T20:55:08.800Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: :)","date":"2013-05-29T20:55:13.503Z","type":"message"}
{"nick":"brson","date":"2013-05-29T20:55:31.706Z","type":"join"}
{"nick":"bnoordhuis","message":"it's the last patch, the writeQueueSize optimize thingy","date":"2013-05-29T20:55:38.177Z","type":"message"}
{"nick":"tjfontaine","message":"what style branch names do you want me to key off to trigger?","date":"2013-05-29T20:55:47.197Z","type":"message"}
{"nick":"tjfontaine","message":"is (review|jenkins) enough?","date":"2013-05-29T20:55:59.640Z","type":"message"}
{"nick":"bnoordhuis","message":"which i benchmarked at having a +/- 0% performance impact in the grand scheme of things","date":"2013-05-29T20:55:59.844Z","type":"message"}
{"nick":"bnoordhuis","message":"*as having","date":"2013-05-29T20:56:03.690Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: yeah, works for me","date":"2013-05-29T20:56:20.002Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-05-29T20:56:25.924Z","type":"message"}
{"nick":"bnoordhuis","message":"i think i'm going to ditch that writeQueueSize thing. looks like it's not worth it","date":"2013-05-29T20:57:25.202Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-29T20:57:41.747Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: sound good","date":"2013-05-29T20:57:49.447Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-05-29T20:58:06.656Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: although, really you could just any branch. Not many people create branches here.","date":"2013-05-29T20:58:07.547Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #2 \u00037UNSTABLE\u000f windows-x64 (3/189) windows-ia32 (3/189) smartos-ia32 (2/188) smartos-x64 (2/188) http://jenkins.nodejs.org/job/libuv-review/2/","date":"2013-05-29T20:58:14.358Z","type":"message"}
{"nick":"bnoordhuis","message":"it sometimes seems to give a ~1% speedup but http_simple is so jittery, it's hard to say for sure","date":"2013-05-29T20:58:15.180Z","type":"message"}
{"nick":"tjfontaine","message":"I wish I could filter branches easier","date":"2013-05-29T20:59:46.102Z","type":"message"}
{"nick":"paddybyers","date":"2013-05-29T21:00:53.156Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-review\u0002: #1 \u00037UNSTABLE\u000f linux-ia32 (6/588) smartos-x64 (4/588) osx-ia32 (1/588) linux-x64 (2/588) smartos-ia32 (2/588) windows-x64 (9/588) windows-ia32 (11/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/nodejs-review/1/","date":"2013-05-29T21:01:55.396Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #3 \u00037UNSTABLE\u000f windows-x64 (3/189) windows-ia32 (5/189) smartos-ia32 (2/188) smartos-x64 (2/188) http://jenkins.nodejs.org/job/libuv-review/3/","date":"2013-05-29T21:02:52.461Z","type":"message"}
{"nick":"c4milo","date":"2013-05-29T21:02:58.359Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: test result for idle-semantics patch -> http://jenkins.nodejs.org/job/libuv-review/2/testReport/","date":"2013-05-29T21:04:09.926Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I can't possibly imagine it not to be correct.","date":"2013-05-29T21:04:18.797Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-05-29T21:05:30.112Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: looks okay to me","date":"2013-05-29T21:07:16.075Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #4 \u00037UNSTABLE\u000f windows-x64 (3/189) windows-ia32 (3/189) smartos-ia32 (2/188) smartos-x64 (2/188) http://jenkins.nodejs.org/job/libuv-review/4/","date":"2013-05-29T21:07:22.424Z","type":"message"}
{"nick":"isaacs","action":"fooding","date":"2013-05-29T21:07:50.863Z","type":"action"}
{"nick":"isaacs","action":"&","date":"2013-05-29T21:07:52.016Z","type":"action"}
{"nick":"LOUDBOT","message":"I SHALL TELL YOU TO GROW A PAIR","date":"2013-05-29T21:07:52.484Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: YOU TELL EM","date":"2013-05-29T21:08:11.341Z","type":"message"}
{"nick":"LOUDBOT","message":"tjfontaine: AUSTIN POWERS COMES FROM A TIME BEFORE UNIX","date":"2013-05-29T21:08:11.724Z","type":"message"}
{"nick":"txdv","message":"before 1969?","date":"2013-05-29T21:09:31.304Z","type":"message"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-05-29T21:09:48.739Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037master\u000f * \u0002b5cd78e\u0002 : test: reflect new idle semantics in test (+1 more commits) - http://git.io/XWTEOA","date":"2013-05-29T21:10:20.419Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #98 \u00037UNSTABLE\u000f windows (4/189) smartos (2/188) http://jenkins.nodejs.org/job/libuv-master/98/","date":"2013-05-29T21:14:38.470Z","type":"message"}
{"nick":"KiNgMaR","reason":"Ping timeout: 245 seconds","date":"2013-05-29T21:15:04.085Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000228659ab\u0002 : Merge remote-tracking branch 'origin/v0.10' (+8 more commits) - http://git.io/0sb8MA","date":"2013-05-29T21:15:16.434Z","type":"message"}
{"nick":"bnoordhuis","message":"^ the merge breaks simple/test-tls-client-destroy-soon and i don't know why","date":"2013-05-29T21:15:33.307Z","type":"message"}
{"nick":"bnoordhuis","message":"there was a conflict in lib/tls.js which i resolved","date":"2013-05-29T21:15:52.343Z","type":"message"}
{"nick":"bnoordhuis","message":"lib/tls.js's diff between v0.10 and master is uninteresting","date":"2013-05-29T21:16:24.473Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #37 \u00037UNSTABLE\u000f smartos-x64 (3/188) windows-ia32 (5/189) smartos-ia32 (2/188) windows-x64 (3/189) http://jenkins.nodejs.org/job/libuv-master-gyp/37/","date":"2013-05-29T21:16:29.472Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: around?","date":"2013-05-29T21:16:39.247Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: could be that libuv-master needs libuv-v0.10 merged into it","date":"2013-05-29T21:16:41.073Z","type":"message"}
{"nick":"bnoordhuis","message":"that's possible","date":"2013-05-29T21:17:02.313Z","type":"message"}
{"nick":"KiNgMaR","date":"2013-05-29T21:17:45.498Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: odd. the test passes here","date":"2013-05-29T21:18:23.016Z","type":"message"}
{"nick":"piscisaureus_","message":"consistently","date":"2013-05-29T21:18:31.028Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #99 \u00037UNSTABLE\u000f windows (4/189) smartos (3/188) http://jenkins.nodejs.org/job/libuv-master/99/","date":"2013-05-29T21:18:37.452Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: after the merge i just did?","date":"2013-05-29T21:19:11.489Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no","date":"2013-05-29T21:19:36.671Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. at least it's consistent :)","date":"2013-05-29T21:20:29.341Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you merged node.","date":"2013-05-29T21:20:44.754Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I was looking at libuv timer_run_once","date":"2013-05-29T21:21:03.756Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T21:21:09.964Z","type":"nick"}
{"nick":"trevnorris","message":"bnoordhuis: why is it uv_idle needs to be stopped after receiving a response? I mean, starting it in NeedTickCallback then stopping it in Spin eludes me.","date":"2013-05-29T21:21:17.138Z","type":"message"}
{"nick":"trevnorris","message":"s/receiving a response/calling the callback","date":"2013-05-29T21:21:36.863Z","type":"message"}
{"nick":"rendar","date":"2013-05-29T21:22:41.557Z","type":"quit"}
{"nick":"KiNgMaR","reason":"Ping timeout: 245 seconds","date":"2013-05-29T21:24:14.073Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T21:25:11.720Z","type":"nick"}
{"nick":"KiNgMaR","date":"2013-05-29T21:26:46.452Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T21:27:17.955Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T21:27:22.714Z","type":"nick"}
{"nick":"bnoordhuis","message":"trevnorris: because an active idle watcher stops libuv from sleeping in epoll_wait() / kevent() / etc.","date":"2013-05-29T21:27:47.577Z","type":"message"}
{"nick":"bnoordhuis","message":"try it, if you don't call uv_idle_stop(), node will start using 100% cpu","date":"2013-05-29T21:28:09.908Z","type":"message"}
{"nick":"trevnorris","message":"heh, just did. thanks. :)","date":"2013-05-29T21:30:11.834Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #236 \u00037UNSTABLE\u000f smartos-x64 (10/604) smartos-ia32 (7/604) linux-x64 (3/604) osx-x64 (1/604) osx-ia32 (3/604) linux-ia32 (3/604) http://jenkins.nodejs.org/job/nodejs-master/236/","date":"2013-05-29T21:30:38.506Z","type":"message"}
{"nick":"bnoordhuis","message":"git rerere is the best","date":"2013-05-29T21:30:53.923Z","type":"message"}
{"nick":"trevnorris","message":"never used it","date":"2013-05-29T21:31:06.651Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037jenkins-please-test-this-for-bnoordhuis\u000f * \u0002349b322\u0002 : test (+1 more commits) - http://git.io/-eYJjw","date":"2013-05-29T21:31:17.559Z","type":"message"}
{"nick":"bnoordhuis","message":"botched a merge with conflicts, did a git reset --hard to roll back, did the merge again and it remembered all my previous fixups","date":"2013-05-29T21:31:38.848Z","type":"message"}
{"nick":"bnoordhuis","action":"hugs rerere","date":"2013-05-29T21:31:45.746Z","type":"action"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-29T21:32:04.699Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00028ef9592\u0002 : Merge remote-tracking branch 'origin/v0.10' (+23 more commits) - http://git.io/wmMhJg","date":"2013-05-29T21:32:27.519Z","type":"message"}
{"nick":"trevnorris","message":"well, that's happened to me more than once. time to go take a look.","date":"2013-05-29T21:32:27.786Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: git config --global rerere.enabled true","date":"2013-05-29T21:33:12.656Z","type":"message"}
{"nick":"bnoordhuis","message":"that's all you need really, the defaults work okay","date":"2013-05-29T21:33:30.671Z","type":"message"}
{"nick":"trevnorris","message":"coolio. done","date":"2013-05-29T21:33:40.483Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #80 \u00037UNSTABLE\u000f smartos-ia32 (10/604) osx-ia32 (2/604) smartos-x64 (13/604) linux-x64 (1/604) linux-ia32 (3/604) osx-x64 (3/604) http://jenkins.nodejs.org/job/libuv-node-integration/80/","date":"2013-05-29T21:33:48.527Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, i thought that was my merge ^","date":"2013-05-29T21:34:19.022Z","type":"message"}
{"nick":"tjfontaine","message":"happened too quickly for that","date":"2013-05-29T21:34:42.181Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i was kind of surprise","date":"2013-05-29T21:34:54.211Z","type":"message"}
{"nick":"bnoordhuis","message":"*surprised","date":"2013-05-29T21:34:57.242Z","type":"message"}
{"nick":"bnoordhuis","message":"with good reason, it turns out","date":"2013-05-29T21:35:02.805Z","type":"message"}
{"nick":"bnoordhuis","message":"upgrading libuv doesn't fix the failing tls test :(","date":"2013-05-29T21:35:44.608Z","type":"message"}
{"nick":"tjfontaine","message":"shame","date":"2013-05-29T21:35:49.583Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so you think there is a way to remove the \"needTickCallback\" fron nextTick (e.g. needing to start/stop uv_idle)?","date":"2013-05-29T21:37:10.147Z","type":"message"}
{"nick":"trevnorris","message":"actually, don't even know if I'm asking the right question","date":"2013-05-29T21:37:20.725Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-29T21:38:00.909Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #45 \u00037UNSTABLE\u000f windows-x64 (18/604) windows-ia32 (16/604) http://jenkins.nodejs.org/job/nodejs-master-windows/45/","date":"2013-05-29T21:38:27.560Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #38 \u00037UNSTABLE\u000f smartos-x64 (2/188) windows-ia32 (3/189) smartos-ia32 (3/188) osx-x64 (1/189) windows-x64 (3/189) http://jenkins.nodejs.org/job/libuv-master-gyp/38/","date":"2013-05-29T21:38:40.590Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #100 \u00037UNSTABLE\u000f windows (4/189) smartos (2/188) linux (1/188) http://jenkins.nodejs.org/job/libuv-master/100/","date":"2013-05-29T21:39:35.566Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T21:40:26.372Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-29T21:42:05.145Z","type":"join"}
{"nick":"piscisaureus_","message":"tjfontaine: :(","date":"2013-05-29T21:42:46.599Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: http://jenkins.nodejs.org/job/libuv-review/6/console","date":"2013-05-29T21:42:49.646Z","type":"message"}
{"nick":"tjfontaine","message":"looks like a leading ' ' was there?","date":"2013-05-29T21:43:25.201Z","type":"message"}
{"nick":"tjfontaine","message":"hm","date":"2013-05-29T21:43:59.714Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: http://jenkins.nodejs.org/job/libuv-review/7/console maybe more info?","date":"2013-05-29T21:44:13.288Z","type":"message"}
{"nick":"tjfontaine","message":"this build is working","date":"2013-05-29T21:44:52.567Z","type":"message"}
{"nick":"tjfontaine","message":"but you broke the build :)","date":"2013-05-29T21:45:05.765Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2013-05-29T21:45:13.505Z","type":"message"}
{"nick":"piscisaureus_","message":":)","date":"2013-05-29T21:45:15.318Z","type":"message"}
{"nick":"piscisaureus_","message":"shame","date":"2013-05-29T21:45:16.148Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-05-29T21:45:36.818Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #7 \u00034FAILURE\u000f windows-x64 (3/190) windows-ia32 (3/190) http://jenkins.nodejs.org/job/libuv-review/7/","date":"2013-05-29T21:46:10.629Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: ah. I wasn't interested in the unix output actually","date":"2013-05-29T21:46:47.342Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yes?","date":"2013-05-29T21:47:30.008Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: you can now also see the result in http://jenkins.nodejs.org/job/libuv-pullrequest/125/","date":"2013-05-29T21:47:55.551Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: does the pull request bot auto-retest when I update my PR?","date":"2013-05-29T21:48:35.768Z","type":"message"}
{"nick":"tjfontaine","message":"yes","date":"2013-05-29T21:48:41.243Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T21:48:49.291Z","type":"join"}
{"nick":"tjfontaine","message":"but it doesn't announce here in the channel","date":"2013-05-29T21:48:52.732Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i merged node v0.10 into master and it broke simple/test-tls-client-destroy-soon","date":"2013-05-29T21:48:59.662Z","type":"message"}
{"nick":"indutny","message":"huh?","date":"2013-05-29T21:49:08.021Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: but it will update the github PR page when it's done","date":"2013-05-29T21:49:11.470Z","type":"message"}
{"nick":"indutny","message":"what's happening?","date":"2013-05-29T21:49:11.870Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037jenkins-please-test-this-for-bnoordhuis\u000f * \u0002a321a4d\u0002 : unix, windows: run expired timers in UV_RUN_ONCE mode - http://git.io/0Amtcw","date":"2013-05-29T21:49:20.615Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: dunno. there was a conflict in lib/tls.js because of 4f14221","date":"2013-05-29T21:49:47.310Z","type":"message"}
{"nick":"bnoordhuis","message":"but i resolved it and the affected bit is identical to v0.10 now","date":"2013-05-29T21:50:05.812Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-29T21:50:39.441Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-05-29T21:50:42.088Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: https://gist.github.com/bnoordhuis/f842cd0c32da19f9a7bb <- error","date":"2013-05-29T21:50:58.384Z","type":"message"}
{"nick":"indutny","message":"may be streams2?","date":"2013-05-29T21:51:45.535Z","type":"message"}
{"nick":"indutny","message":"idk","date":"2013-05-29T21:51:46.273Z","type":"message"}
{"nick":"indutny","message":"I'll look into it","date":"2013-05-29T21:51:51.477Z","type":"message"}
{"nick":"indutny","message":"but tls.js seems to be almost identical to v0.10","date":"2013-05-29T21:51:59.166Z","type":"message"}
{"nick":"indutny","message":"except some logging stuff","date":"2013-05-29T21:52:03.980Z","type":"message"}
{"nick":"indutny","message":"and session timeout","date":"2013-05-29T21:52:11.442Z","type":"message"}
{"nick":"indutny","message":"anyway, let me build it and try it myself","date":"2013-05-29T21:52:47.081Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #81 \u00037UNSTABLE\u000f smartos-ia32 (2/604) osx-ia32 (2/604) smartos-x64 (11/604) linux-x64 (1/604) linux-ia32 (1/604) osx-x64 (3/604) http://jenkins.nodejs.org/job/libuv-node-integration/81/","date":"2013-05-29T21:52:58.637Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that's the thing - i can't spot any significant difference","date":"2013-05-29T21:53:03.444Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-05-29T21:53:21.110Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: I think it might be `prefinish` stream_writable change","date":"2013-05-29T21:53:30.589Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-05-29T21:53:37.741Z","type":"message"}
{"nick":"indutny","message":"all other tests are passing, right?","date":"2013-05-29T21:53:43.966Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-05-29T21:53:54.176Z","type":"message"}
{"nick":"bnoordhuis","message":"happens on both darwin and linux btw","date":"2013-05-29T21:54:08.536Z","type":"message"}
{"nick":"bnoordhuis","message":"and fwiw","date":"2013-05-29T21:54:14.561Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037jenkins-please-test-this-for-bnoordhuis\u000f * \u0002c0a1206\u0002 : unix, windows: run expired timers in UV_RUN_ONCE mode - http://git.io/1w8psw","date":"2013-05-29T21:55:06.645Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-29T21:57:27.574Z","type":"quit"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-05-29T21:58:06.167Z","type":"quit"}
{"nick":"indutny","message":"ah,","date":"2013-05-29T21:58:24.664Z","type":"message"}
{"nick":"indutny","message":"I think its cork/uncork","date":"2013-05-29T21:58:28.584Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-05-29T21:58:55.910Z","type":"message"}
{"nick":"indutny","message":"it isn't","date":"2013-05-29T21:58:57.362Z","type":"message"}
{"nick":"indutny","message":"ok, there is a bug...","date":"2013-05-29T22:01:36.564Z","type":"message"}
{"nick":"indutny","message":"but fixing it doesn't fix problem","date":"2013-05-29T22:01:40.187Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2013-05-29T22:02:40.366Z","type":"message"}
{"nick":"indutny","message":"ok, there're two bugs","date":"2013-05-29T22:03:07.340Z","type":"message"}
{"nick":"indutny","message":"fixing them both helps a lot","date":"2013-05-29T22:03:11.502Z","type":"message"}
{"nick":"indutny","message":"isaacs: our optimization didn't work out","date":"2013-05-29T22:03:22.231Z","type":"message"}
{"nick":"isaacs","message":"indutny: oh?","date":"2013-05-29T22:03:43.455Z","type":"message"}
{"nick":"isaacs","message":"indutny: writev you mean?","date":"2013-05-29T22:03:46.530Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-05-29T22:03:47.260Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-05-29T22:03:48.579Z","type":"message"}
{"nick":"isaacs","action":"fg","date":"2013-05-29T22:03:49.990Z","type":"action"}
{"nick":"isaacs","message":"which optimization?","date":"2013-05-29T22:03:55.610Z","type":"message"}
{"nick":"indutny","message":"latest tls thing","date":"2013-05-29T22:03:56.846Z","type":"message"}
{"nick":"indutny","message":"process.nextTick removal","date":"2013-05-29T22:04:02.118Z","type":"message"}
{"nick":"indutny","message":"in my code","date":"2013-05-29T22:04:03.458Z","type":"message"}
{"nick":"isaacs","message":"indutny: what's the problem?","date":"2013-05-29T22:04:14.290Z","type":"message"}
{"nick":"indutny","message":"so here is the problem","date":"2013-05-29T22:04:16.177Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-29T22:04:28.172Z","type":"message"}
{"nick":"indutny","message":"wait, I need some time to fully understand it","date":"2013-05-29T22:04:34.819Z","type":"message"}
{"nick":"indutny","message":"but the thing is that wrapping it in setImmediate fixes it","date":"2013-05-29T22:04:44.188Z","type":"message"}
{"nick":"isaacs","message":"indutny: why does setImmediate work but nextTick doesn't?","date":"2013-05-29T22:05:03.790Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-05-29T22:05:08.253Z","type":"message"}
{"nick":"indutny","message":"nextTick works too","date":"2013-05-29T22:05:12.001Z","type":"message"}
{"nick":"isaacs","message":"indutny: what is the symptom?","date":"2013-05-29T22:05:14.169Z","type":"message"}
{"nick":"indutny","message":"it doesn't wokr on the same tick","date":"2013-05-29T22:05:17.235Z","type":"message"}
{"nick":"isaacs","message":"do not use setImmediate.","date":"2013-05-29T22:05:17.979Z","type":"message"}
{"nick":"indutny","message":"isaacs: connection is closed too early","date":"2013-05-29T22:05:23.520Z","type":"message"}
{"nick":"indutny","message":"because of finish event","date":"2013-05-29T22:05:30.105Z","type":"message"}
{"nick":"indutny","message":"and its happening because we're not reading from socket","date":"2013-05-29T22:05:41.476Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-05-29T22:05:45.753Z","type":"message"}
{"nick":"indutny","message":"I know how to fix it without introducing nextTick","date":"2013-05-29T22:05:53.458Z","type":"message"}
{"nick":"timoxley","date":"2013-05-29T22:07:21.152Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: fyi, i've started working on removal of maxTickDepth","date":"2013-05-29T22:09:24.691Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #82 \u00037UNSTABLE\u000f smartos-ia32 (2/604) osx-ia32 (2/604) smartos-x64 (6/604) linux-x64 (2/604) linux-ia32 (3/604) osx-x64 (2/604) http://jenkins.nodejs.org/job/libuv-node-integration/82/","date":"2013-05-29T22:09:37.716Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: rad","date":"2013-05-29T22:09:51.676Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: shoudln't be too hard, right?","date":"2013-05-29T22:09:59.416Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just let it keep looping forever.","date":"2013-05-29T22:10:06.556Z","type":"message"}
{"nick":"trevnorris","message":"going back, there are a couple things that seem so painfully obvious, i'm embarrassed I didn't seem it before.","date":"2013-05-29T22:10:06.970Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ha","date":"2013-05-29T22:10:12.214Z","type":"message"}
{"nick":"isaacs","message":"that happens","date":"2013-05-29T22:10:14.216Z","type":"message"}
{"nick":"isaacs","message":"means you're learning :)","date":"2013-05-29T22:10:16.756Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: only kicker is if a domain error callback also errors","date":"2013-05-29T22:10:27.702Z","type":"message"}
{"nick":"trevnorris","message":"still trying to figure out that case","date":"2013-05-29T22:10:40.172Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i see","date":"2013-05-29T22:11:41.135Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Operation timed out","date":"2013-05-29T22:13:56.054Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: thoughts on the last half of my comment here http://git.io/o7TmBA","date":"2013-05-29T22:14:49.922Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002c188a75\u0002 : buffer: guard against integer overflow (+6 more commits) - http://git.io/asvrbw","date":"2013-05-29T22:15:04.748Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I couldn't reproduce your timer_run_once failure even once","date":"2013-05-29T22:16:02.959Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and jenkins couldn't either","date":"2013-05-29T22:16:08.199Z","type":"message"}
{"nick":"piscisaureus_","message":"(not even when running it in a loop and varying build flags)","date":"2013-05-29T22:16:36.374Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: really? odd, because jenkins was the one who reported it for win x64","date":"2013-05-29T22:17:19.193Z","type":"message"}
{"nick":"bnoordhuis","message":"and ia32 too, it seems","date":"2013-05-29T22:17:44.225Z","type":"message"}
{"nick":"bnoordhuis","message":"http://jenkins.nodejs.org//job/libuv-review/1/DESTCPU=ia32,label=windows//tapTestReport/test.tap-79/","date":"2013-05-29T22:17:44.843Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I know - but then I made it rebuild it a couple times more but it doesn't repeat","date":"2013-05-29T22:17:45.112Z","type":"message"}
{"nick":"bnoordhuis","message":"weird","date":"2013-05-29T22:17:51.297Z","type":"message"}
{"nick":"bnoordhuis","message":"should i just land it then?","date":"2013-05-29T22:17:55.115Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did you see the update_time comment","date":"2013-05-29T22:18:03.509Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but yeah - just land","date":"2013-05-29T22:18:11.079Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, i see it now","date":"2013-05-29T22:18:32.607Z","type":"message"}
{"nick":"bnoordhuis","message":"remove the call to uv_update_time() you say?","date":"2013-05-29T22:18:45.929Z","type":"message"}
{"nick":"bnoordhuis","message":"but wait, check handles run in between","date":"2013-05-29T22:20:00.809Z","type":"message"}
{"nick":"bnoordhuis","message":"if one of those callbacks blocks for a while, loop->time would be off","date":"2013-05-29T22:20:16.666Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-29T22:20:32.906Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-29T22:22:21.149Z","type":"nick"}
{"nick":"indutny","message":"isaacs: I need your advice","date":"2013-05-29T22:23:28.645Z","type":"message"}
{"nick":"indutny","message":"imagine following situation","date":"2013-05-29T22:23:37.058Z","type":"message"}
{"nick":"isaacs","message":"indutny: ok","date":"2013-05-29T22:23:44.056Z","type":"message"}
{"nick":"indutny","message":"stream is piped to net  socket","date":"2013-05-29T22:23:51.370Z","type":"message"}
{"nick":"indutny","message":"piping engine calls ._read() on stream","date":"2013-05-29T22:24:02.377Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: why would process.on('beforeExit', function() { console.log('foo') }) stay alive forever?","date":"2013-05-29T22:24:07.396Z","type":"message"}
{"nick":"indutny","message":"and","date":"2013-05-29T22:24:12.345Z","type":"message"}
{"nick":"indutny","message":"is going to write data into net socket","date":"2013-05-29T22:24:17.672Z","type":"message"}
{"nick":"indutny","message":"but what happens instead","date":"2013-05-29T22:24:21.902Z","type":"message"}
{"nick":"indutny","message":"is that sslOutEnd is emitted","date":"2013-05-29T22:24:27.956Z","type":"message"}
{"nick":"isaacs","message":"indutny: piping engine calls .read() not ._read()","date":"2013-05-29T22:24:36.336Z","type":"message"}
{"nick":"indutny","message":"and onwrite is called on opposite stream","date":"2013-05-29T22:24:40.225Z","type":"message"}
{"nick":"isaacs","message":"indutny: Readable machinery calls ._read() if necessary","date":"2013-05-29T22:24:42.376Z","type":"message"}
{"nick":"indutny","message":"isaacs: right, correct","date":"2013-05-29T22:24:42.862Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2013-05-29T22:24:43.987Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-05-29T22:24:44.685Z","type":"message"}
{"nick":"indutny","message":"and 'finish' happens","date":"2013-05-29T22:24:49.923Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000264fdfdd\u0002 : Merge remote-tracking branch 'origin/v0.10' (+1 more commits) - http://git.io/sB8Y3w","date":"2013-05-29T22:25:07.808Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u00020017c55\u0002 : unix, windows: run expired timers in run-once mode - http://git.io/jlk7wg","date":"2013-05-29T22:25:14.825Z","type":"message"}
{"nick":"isaacs","message":"indutny: so, the pair.cleartext.emit('finish'), you mean?","date":"2013-05-29T22:25:15.265Z","type":"message"}
{"nick":"indutny","message":"before piping engine becomes aware of data returned by .read(), or probably more correct to say, before 'readable' event","date":"2013-05-29T22:25:17.808Z","type":"message"}
{"nick":"indutny","message":"isaacs: lets skip details :)","date":"2013-05-29T22:25:26.645Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it wouldn't matter because it would still run the timer","date":"2013-05-29T22:25:31.318Z","type":"message"}
{"nick":"indutny","message":"so what happens now is that tls destroy socket","date":"2013-05-29T22:25:38.036Z","type":"message"}
{"nick":"isaacs","message":"indutny: i wanna make sure i know who's emitting finish here.","date":"2013-05-29T22:25:38.535Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-05-29T22:25:42.662Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-05-29T22:25:44.347Z","type":"message"}
{"nick":"indutny","message":"cleartext","date":"2013-05-29T22:25:45.648Z","type":"message"}
{"nick":"isaacs","message":"indutny: so, the cleartext.emit('finish')","date":"2013-05-29T22:25:48.095Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-05-29T22:25:50.817Z","type":"message"}
{"nick":"indutny","message":"and piping stuff is in the middle of piping","date":"2013-05-29T22:25:57.615Z","type":"message"}
{"nick":"indutny","message":"i.e. it has data to read","date":"2013-05-29T22:26:04.080Z","type":"message"}
{"nick":"isaacs","message":"indutny: then this makes it say \"Ok, everything has been sent\"","date":"2013-05-29T22:26:05.675Z","type":"message"}
{"nick":"indutny","message":"but has no output to write","date":"2013-05-29T22:26:08.424Z","type":"message"}
{"nick":"indutny","message":"err","date":"2013-05-29T22:26:12.535Z","type":"message"}
{"nick":"indutny","message":"no output stream to write into","date":"2013-05-29T22:26:16.065Z","type":"message"}
{"nick":"isaacs","message":"indutny: in that, the pair.encrypted got all the data out of openss.","date":"2013-05-29T22:26:17.192Z","type":"message"}
{"nick":"isaacs","message":"*openssl","date":"2013-05-29T22:26:19.052Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #237 \u00037UNSTABLE\u000f smartos-x64 (7/604) smartos-ia32 (2/604) linux-x64 (2/604) osx-x64 (1/604) osx-ia32 (1/604) linux-ia32 (2/604) http://jenkins.nodejs.org/job/nodejs-master/237/","date":"2013-05-29T22:26:30.816Z","type":"message"}
{"nick":"indutny","message":"well, that's not exactly true","date":"2013-05-29T22:26:31.335Z","type":"message"}
{"nick":"indutny","message":"because it just makes sure that ._read() has read all possible data","date":"2013-05-29T22:26:42.079Z","type":"message"}
{"nick":"indutny","message":"and here comes problem","date":"2013-05-29T22:26:44.927Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ah shit I know what it is!","date":"2013-05-29T22:26:47.852Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it must trigger the ref count somewhere. found it by trying to log something while using the patch.","date":"2013-05-29T22:26:49.511Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you shouldn't land that on v0.10 ...","date":"2013-05-29T22:26:54.407Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: on windows that won't be reliable","date":"2013-05-29T22:27:09.808Z","type":"message"}
{"nick":"indutny","message":"isaacs: because it doesn't really mean that it was really *read*","date":"2013-05-29T22:27:10.241Z","type":"message"}
{"nick":"indutny","message":"isaacs: I wonder if this is a .pipe bug","date":"2013-05-29T22:27:16.631Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #85 \u00037UNSTABLE\u000f smartos (2/187) windows (6/188) http://jenkins.nodejs.org/job/libuv-v0.10/85/","date":"2013-05-29T22:27:32.826Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that's because the poll function in windows doesn't guarantee that the clock actually advances by the block time ...","date":"2013-05-29T22:27:38.247Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: remember that timer-precision hack I landed a couple of weeks ago.","date":"2013-05-29T22:27:49.706Z","type":"message"}
{"nick":"isaacs","message":"indutny: it probably should not destroy the socket until the *encrypted* side emits finish, no?","date":"2013-05-29T22:27:50.174Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-05-29T22:28:12.252Z","type":"message"}
{"nick":"isaacs","message":"indutny: cleartext.on('finish') should not happen until all the data was read out...","date":"2013-05-29T22:28:15.864Z","type":"message"}
{"nick":"indutny","message":"that's called half-close","date":"2013-05-29T22:28:17.884Z","type":"message"}
{"nick":"indutny","message":"isaacs: yes","date":"2013-05-29T22:28:21.676Z","type":"message"}
{"nick":"indutny","message":"probably yes","date":"2013-05-29T22:28:26.445Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-05-29T22:28:33.747Z","type":"message"}
{"nick":"indutny","message":"definitely yes","date":"2013-05-29T22:28:35.403Z","type":"message"}
{"nick":"isaacs","message":"but yor'e saying, i'ts been read() from the encrypted side, but not written to the socket?","date":"2013-05-29T22:28:38.993Z","type":"message"}
{"nick":"isaacs","message":"indutny: ie, not finished writing to the socket?","date":"2013-05-29T22:28:45.323Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-05-29T22:28:49.823Z","type":"message"}
{"nick":"indutny","message":"probably socket.write() returned false","date":"2013-05-29T22:28:54.329Z","type":"message"}
{"nick":"isaacs","message":"indutny: then call socket.destroySoon() instead.","date":"2013-05-29T22:28:55.693Z","type":"message"}
{"nick":"isaacs","message":"indutny: not socket.destroy(*)","date":"2013-05-29T22:29:00.553Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-05-29T22:29:04.206Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: then i think the logic in beforeExit is wrong.","date":"2013-05-29T22:29:29.733Z","type":"message"}
{"nick":"indutny","message":"ok, I get \"write after end\" now","date":"2013-05-29T22:29:42.024Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-05-29T22:29:42.597Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it should be:  1) refcount is zero! 2) emit beforeExit 3) if refcount == 0 still, then actually exit.","date":"2013-05-29T22:29:55.812Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh... should i revert it?","date":"2013-05-29T22:30:22.056Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: alternatively you could disable the test on windows in v0.10 only","date":"2013-05-29T22:30:42.706Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, guess i'll do that","date":"2013-05-29T22:31:02.531Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i think it's a similar problem that nextTick triggers the refcount by calling the spinner, even if nothing happens in nextTick","date":"2013-05-29T22:31:06.001Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: right.  but that spinner is going away in 0.12 anyway","date":"2013-05-29T22:31:37.521Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: and beforeExit won't land in 0.10, so we're good there.","date":"2013-05-29T22:31:45.741Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but console.log() should not result in a refcount.","date":"2013-05-29T22:31:53.991Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's synchronous","date":"2013-05-29T22:31:59.311Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: still not sure how that can be done, but discussion for another time.","date":"2013-05-29T22:32:14.238Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2013-05-29T22:32:19.271Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: give me a minute. i'll trace it out","date":"2013-05-29T22:32:21.981Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-05-29T22:32:26.101Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i think i'll force-push it away","date":"2013-05-29T22:32:26.628Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not that important for v0.10","date":"2013-05-29T22:32:30.631Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: okay","date":"2013-05-29T22:32:36.481Z","type":"message"}
{"nick":"isaacs","message":"also: an explicit call to process.exit() should not emit beforeExit, i think","date":"2013-05-29T22:32:50.841Z","type":"message"}
{"nick":"isaacs","message":"or if it does, it should just be synthetic","date":"2013-05-29T22:32:58.301Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: we can just comment that users that need this guarantee in v0.10 should float ffe2ef0 and your patch","date":"2013-05-29T22:33:09.323Z","type":"message"}
{"nick":"isaacs","message":"process.emit('beforeExit'); process.emit('exit'); process._reallyExit()","date":"2013-05-29T22:33:10.900Z","type":"message"}
{"nick":"piscisaureus_","message":"and they have to swallow an ABI change","date":"2013-05-29T22:33:23.742Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002f6d8ba3\u0002 : unix, windows: run expired timers in run-once mode - http://git.io/HxgmgA","date":"2013-05-29T22:33:58.854Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Wynn Wilkes\u000f \u00037v0.10\u000f * \u0002b4c658c\u0002 : darwin: make uv_fs_sendfile() respect length param - http://git.io/xJGe3w","date":"2013-05-29T22:34:09.894Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: both throwing and process.exit() don't trigger beforeExit","date":"2013-05-29T22:34:16.700Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah. i'm guessing there aren't many people that care :)","date":"2013-05-29T22:34:25.108Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: just like how process.exit emits 'exit' for that matter","date":"2013-05-29T22:34:32.724Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine, trevnorris: Yes, exactly","date":"2013-05-29T22:34:49.229Z","type":"message"}
{"nick":"isaacs","message":"i think it's confusing if beforeExit doesn't emit.","date":"2013-05-29T22:34:53.553Z","type":"message"}
{"nick":"isaacs","message":"it should emit.  but it shouldn't be cancellable.","date":"2013-05-29T22:35:00.470Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #101 \u00037UNSTABLE\u000f windows (4/190) smartos (2/189) http://jenkins.nodejs.org/job/libuv-master/101/","date":"2013-05-29T22:35:06.860Z","type":"message"}
{"nick":"isaacs","message":"or maybe it should not emit, because otherwise it's weird that you can't cancel it...","date":"2013-05-29T22:35:11.199Z","type":"message"}
{"nick":"tjfontaine","message":"I agree, perhaps with a flag to say \"no really, you can't stop me\"","date":"2013-05-29T22:35:15.723Z","type":"message"}
{"nick":"isaacs","message":"whatever.  solve it with docs :)","date":"2013-05-29T22:35:19.129Z","type":"message"}
{"nick":"isaacs","message":"i think not emitting is best.","date":"2013-05-29T22:35:25.499Z","type":"message"}
{"nick":"tjfontaine","message":"at the very least doc the fuck out of it","date":"2013-05-29T22:35:28.096Z","type":"message"}
{"nick":"isaacs","message":"\"I said exit, you fucker\"","date":"2013-05-29T22:35:30.169Z","type":"message"}
{"nick":"isaacs","message":"it's annoying if you process.exit() and anything other than immediately exiting the process happens.","date":"2013-05-29T22:35:46.589Z","type":"message"}
{"nick":"tjfontaine","message":"basically just a reiteration for what I said in my comment :)","date":"2013-05-29T22:35:48.912Z","type":"message"}
{"nick":"isaacs","message":"sure :)","date":"2013-05-29T22:35:58.829Z","type":"message"}
{"nick":"isaacs","message":"great minds think alike","date":"2013-05-29T22:36:02.419Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-29T22:36:05.243Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #48 \u00037UNSTABLE\u000f windows-x64 (4/188) osx-x64 (1/188) windows-ia32 (5/188) smartos-x64 (2/187) smartos-ia32 (2/187) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/48/","date":"2013-05-29T22:36:39.869Z","type":"message"}
{"nick":"tjfontaine","message":"also https://github.com/tjfontaine/jankins/commit/29f0ff39f818596d453c02c69fdc01ce1f9970ab","date":"2013-05-29T22:36:47.109Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #86 \u00037UNSTABLE\u000f smartos (4/187) windows (5/188) linux (1/187) http://jenkins.nodejs.org/job/libuv-v0.10/86/","date":"2013-05-29T22:36:54.892Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine ++","date":"2013-05-29T22:37:12.928Z","type":"message"}
{"nick":"isaacs","message":"trevnorris, tjfontaine: So, beforeExit only if it's actually a graceful close, and possible to do async things.","date":"2013-05-29T22:37:45.637Z","type":"message"}
{"nick":"isaacs","message":"otherwise the contract is too confusing.","date":"2013-05-29T22:37:54.757Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #83 \u00034FAILURE\u000f smartos-ia32 (1/588) osx-ia32 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/83/","date":"2013-05-29T22:38:03.891Z","type":"message"}
{"nick":"trevnorris","message":"and process.exit() is considered graceful?","date":"2013-05-29T22:38:12.430Z","type":"message"}
{"nick":"isaacs","message":"If someone wants to prevent throw from exiting, then they can use domains or on('uncaughtException')","date":"2013-05-29T22:38:14.717Z","type":"message"}
{"nick":"isaacs","message":"if they want to avoid process.exit() then they can use `npm i noexit`","date":"2013-05-29T22:38:27.127Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #46 \u00037UNSTABLE\u000f windows-x64 (20/604) windows-ia32 (17/604) http://jenkins.nodejs.org/job/nodejs-master-windows/46/","date":"2013-05-29T22:38:32.877Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #102 \u00037UNSTABLE\u000f windows (4/190) smartos (2/189) http://jenkins.nodejs.org/job/libuv-master/102/","date":"2013-05-29T22:38:51.888Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no, process.exit() cancels everything","date":"2013-05-29T22:38:53.877Z","type":"message"}
{"nick":"trevnorris","message":"ok","date":"2013-05-29T22:38:58.470Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: \"Graceful\" = \"No more work, no explicit exit\"","date":"2013-05-29T22:39:02.427Z","type":"message"}
{"nick":"tjfontaine","message":"did someone force-push libuv? :P http://jenkins.nodejs.org/job/libuv-node-integration/83/DESTCPU=ia32,label=linux/console","date":"2013-05-29T22:40:14.203Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002f58e115\u0002 : deps: upgrade libuv to f6d8ba3 - http://git.io/YJvTWQ","date":"2013-05-29T22:40:29.916Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #39 \u00034FAILURE\u000f smartos-x64 (2/189) windows-ia32 (3/190) smartos-ia32 (2/189) linux-x64 (1/189) http://jenkins.nodejs.org/job/libuv-master-gyp/39/","date":"2013-05-29T22:40:34.886Z","type":"message"}
{"nick":"bnoordhuis","message":"^ there's some patches that depend on a newer libuv","date":"2013-05-29T22:40:48.093Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: tsk tsk!","date":"2013-05-29T22:41:17.085Z","type":"message"}
{"nick":"tjfontaine","message":"I'm going to have to dig into java and figure out what's going on with those psuedo-failiures","date":"2013-05-29T22:41:25.358Z","type":"message"}
{"nick":"tjfontaine","message":"*failures","date":"2013-05-29T22:41:29.369Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: you should do a libuv release and upgrade to that","date":"2013-05-29T22:41:30.285Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #84 \u00034FAILURE\u000f http://jenkins.nodejs.org/job/libuv-node-integration/84/","date":"2013-05-29T22:42:05.894Z","type":"message"}
{"nick":"isaacs","message":"I'm just thinking... why did we keep the TickSpinner anyway?  Why not just fall back to setImmediate?","date":"2013-05-29T22:42:25.665Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #103 \u00037UNSTABLE\u000f windows (3/190) smartos (2/189) http://jenkins.nodejs.org/job/libuv-master/103/","date":"2013-05-29T22:42:32.899Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you know how to do the release? I can do it too","date":"2013-05-29T22:42:46.689Z","type":"message"}
{"nick":"isaacs","message":"probably was just easier to keep using the thing we already had.","date":"2013-05-29T22:42:47.634Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i don't have gpg set up on this machine","date":"2013-05-29T22:44:21.906Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok, sec","date":"2013-05-29T22:44:36.896Z","type":"message"}
{"nick":"piscisaureus_","message":"many changes since last v0.11","date":"2013-05-29T22:44:42.408Z","type":"message"}
{"nick":"bnoordhuis","message":"if you're going to do a release, feel free to force-push my commit away","date":"2013-05-29T22:45:04.475Z","type":"message"}
{"nick":"tjfontaine","message":"it's nice to see most of our build slave executors full","date":"2013-05-29T22:45:19.726Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: why? is there anything that shouldn't be in there?","date":"2013-05-29T22:45:53.548Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: or you mean the node commit?","date":"2013-05-29T22:46:04.896Z","type":"message"}
{"nick":"isaacs","message":"please don't force-push.  it upsets our robots :)","date":"2013-05-29T22:46:50.842Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #49 \u00037UNSTABLE\u000f windows-x64 (3/187) windows-ia32 (4/187) smartos-x64 (2/186) smartos-ia32 (2/186) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/49/","date":"2013-05-29T22:46:53.917Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #85 \u00034FAILURE\u000f http://jenkins.nodejs.org/job/libuv-node-integration/85/","date":"2013-05-29T22:46:56.926Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah, i meant the node commit","date":"2013-05-29T22:47:04.100Z","type":"message"}
{"nick":"bnoordhuis","message":"but if it upsets the bots","date":"2013-05-29T22:47:13.082Z","type":"message"}
{"nick":"isaacs","message":"robots have no Midi-chlorian, the force is strange and mysterious to them","date":"2013-05-29T22:47:28.012Z","type":"message"}
{"nick":"bnoordhuis","message":"it's allaying my fears of a robot uprising","date":"2013-05-29T22:47:39.492Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2013-05-29T22:47:43.811Z","type":"message"}
{"nick":"isaacs","message":"that's why there's no robot jedi","date":"2013-05-29T22:47:51.701Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #87 \u00037UNSTABLE\u000f smartos (2/186) windows (3/187) http://jenkins.nodejs.org/job/libuv-v0.10/87/","date":"2013-05-29T22:48:07.927Z","type":"message"}
{"nick":"isaacs","message":"ok, i've got one hour to carve out http-better agent into an npm module...","date":"2013-05-29T22:48:58.502Z","type":"message"}
{"nick":"isaacs","message":"0.10.9 tomorrow! :D","date":"2013-05-29T22:49:03.600Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, sweet. i know a few people that are looking forward to that","date":"2013-05-29T22:49:23.012Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T22:49:37.428Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #40 \u00037UNSTABLE\u000f smartos-x64 (2/189) windows-ia32 (4/190) smartos-ia32 (5/189) windows-x64 (3/190) http://jenkins.nodejs.org/job/libuv-master-gyp/40/","date":"2013-05-29T22:52:05.961Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-29T22:55:07.329Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #41 \u00037UNSTABLE\u000f smartos-x64 (2/189) windows-ia32 (3/190) smartos-ia32 (3/189) linux-ia32 (2/189) windows-x64 (3/190) http://jenkins.nodejs.org/job/libuv-master-gyp/41/","date":"2013-05-29T22:56:26.026Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: figured out why console.log causes a n infinite loop","date":"2013-05-29T22:57:47.193Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: o_O?","date":"2013-05-29T22:58:07.664Z","type":"message"}
{"nick":"isaacs","message":"oh?","date":"2013-05-29T22:58:08.964Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: because onwrite(stream, er) processes sync requests w/ process.nextTick","date":"2013-05-29T22:58:14.198Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-05-29T22:58:40.213Z","type":"message"}
{"nick":"trevnorris","message":"and nextTick calls the spinner, which increases the ref count","date":"2013-05-29T22:58:44.132Z","type":"message"}
{"nick":"isaacs","message":"i guessed right!","date":"2013-05-29T22:58:48.673Z","type":"message"}
{"nick":"isaacs","action":"gets a gold star","date":"2013-05-29T22:58:51.673Z","type":"action"}
{"nick":"trevnorris","message":"heh","date":"2013-05-29T22:58:54.512Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-29T22:59:06.283Z","type":"join"}
{"nick":"tjfontaine","message":"the guy who wrote it, remembers it!","date":"2013-05-29T22:59:09.902Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-29T22:59:15.092Z","type":"message"}
{"nick":"trevnorris","message":"still not sure how I feel about nextTick triggering beforeExit(?) if the next uv_run loop is empty","date":"2013-05-29T22:59:39.016Z","type":"message"}
{"nick":"trevnorris","message":"guess in my mind nextTick callbacks go somewhere in between sync and async.","date":"2013-05-29T23:00:28.545Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033piscisaureus\u000f created tag v0.11.4 - http://git.io/v-ga-Q","date":"2013-05-29T23:02:06.034Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037master\u000f * \u0002bec8f3c\u0002 : Now working on v0.11.5 (+1 more commits) - http://git.io/Al-PJg","date":"2013-05-29T23:02:08.075Z","type":"message"}
{"nick":"trevnorris","message":"can we all promise no more big buffer changes until after mine are merged. ;-)","date":"2013-05-29T23:02:22.182Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T23:05:02.496Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #86 \u00037UNSTABLE\u000f smartos-ia32 (2/604) osx-ia32 (2/604) smartos-x64 (7/604) linux-x64 (2/604) linux-ia32 (1/604) osx-x64 (2/604) http://jenkins.nodejs.org/job/libuv-node-integration/86/","date":"2013-05-29T23:07:39.065Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #238 \u00037UNSTABLE\u000f smartos-x64 (10/604) smartos-ia32 (3/604) linux-x64 (3/604) osx-x64 (1/604) osx-ia32 (1/604) linux-ia32 (1/604) http://jenkins.nodejs.org/job/nodejs-master/238/","date":"2013-05-29T23:08:10.068Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #104 \u00037UNSTABLE\u000f windows (3/190) smartos (2/189) http://jenkins.nodejs.org/job/libuv-master/104/","date":"2013-05-29T23:10:05.084Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Bert Belder\u000f \u00037master\u000f * \u00026b654c0\u0002 : uv: upgrade to v0.11.4 - http://git.io/98eUig","date":"2013-05-29T23:10:45.092Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #8 \u00037UNSTABLE\u000f windows-x64 (4/190) windows-ia32 (4/190) smartos-ia32 (3/189) smartos-x64 (4/189) http://jenkins.nodejs.org/job/libuv-review/8/","date":"2013-05-29T23:13:10.109Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #42 \u00037UNSTABLE\u000f smartos-x64 (2/189) windows-ia32 (3/190) smartos-ia32 (2/189) linux-ia32 (2/189) windows-x64 (3/190) http://jenkins.nodejs.org/job/libuv-master-gyp/42/","date":"2013-05-29T23:14:51.183Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #105 \u00037UNSTABLE\u000f windows (3/190) smartos (3/189) http://jenkins.nodejs.org/job/libuv-master/105/","date":"2013-05-29T23:15:07.113Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: if only that were universally the case.","date":"2013-05-29T23:16:25.172Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: i'd have a much easier time fixing bugs in node.","date":"2013-05-29T23:16:30.997Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: and especially bugs in npm ;)","date":"2013-05-29T23:16:37.492Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2013-05-29T23:16:38.026Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-29T23:16:40.581Z","type":"message"}
{"nick":"tjfontaine","message":"the 3 \"w\"s \"how the fuck, why the fuck, who the fuck\", always your own worst enemy","date":"2013-05-29T23:17:53.357Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #47 \u00037UNSTABLE\u000f windows-x64 (18/604) windows-ia32 (14/604) http://jenkins.nodejs.org/job/nodejs-master-windows/47/","date":"2013-05-29T23:19:46.131Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: but \"how\" isn't a \"w\"","date":"2013-05-29T23:20:08.760Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the fuck?","date":"2013-05-29T23:20:12.600Z","type":"message"}
{"nick":"isaacs","message":";)","date":"2013-05-29T23:20:21.360Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-05-29T23:20:23.755Z","type":"message"}
{"nick":"tjfontaine","message":"select count(*) from pull_requests where pr = '/joyent/node/pull/4964';","date":"2013-05-29T23:20:30.330Z","type":"message"}
{"nick":"tjfontaine","message":"46","date":"2013-05-29T23:20:30.781Z","type":"message"}
{"nick":"piscisaureus_","message":"huh","date":"2013-05-29T23:20:50.882Z","type":"message"}
{"nick":"tjfontaine","message":"since I changed jankins to use a db trevnorris has pushed 46 times to his PR :)","date":"2013-05-29T23:20:57.969Z","type":"message"}
{"nick":"piscisaureus_","message":"I can totally see why people do startups that do CI","date":"2013-05-29T23:21:52.803Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: lol. yeah. I force push a lot. many of those are rebases of latest master.","date":"2013-05-29T23:21:55.145Z","type":"message"}
{"nick":"piscisaureus_","message":"jankins is totally not it","date":"2013-05-29T23:21:59.647Z","type":"message"}
{"nick":"trevnorris","message":"change that big, I like to keep it as up to date as possible","date":"2013-05-29T23:22:03.509Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, it works. It's probably better than buildbot","date":"2013-05-29T23:22:10.688Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #43 \u00037UNSTABLE\u000f smartos-x64 (2/189) windows-ia32 (3/190) smartos-ia32 (3/189) linux-x64 (1/189) windows-x64 (3/190) http://jenkins.nodejs.org/job/libuv-master-gyp/43/","date":"2013-05-29T23:22:21.148Z","type":"message"}
{"nick":"piscisaureus_","message":"but it still needs a full time graduate tjfontaine to keep working","date":"2013-05-29T23:22:26.335Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-05-29T23:22:33.978Z","type":"quit"}
{"nick":"tjfontaine","message":"most of the time it works","date":"2013-05-29T23:22:46.409Z","type":"message"}
{"nick":"tjfontaine","message":"I could make it better, but ... fuck, it's java","date":"2013-05-29T23:23:06.384Z","type":"message"}
{"nick":"piscisaureus_","message":"w.h. gates said the same","date":"2013-05-29T23:23:10.017Z","type":"message"}
{"nick":"piscisaureus_","message":"about windows me","date":"2013-05-29T23:23:13.549Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-29T23:23:16.130Z","type":"message"}
{"nick":"inolen","date":"2013-05-29T23:23:24.107Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #239 \u00037UNSTABLE\u000f smartos-x64 (9/604) smartos-ia32 (22/604) linux-x64 (3/604) osx-x64 (1/604) osx-ia32 (1/604) linux-ia32 (6/604) http://jenkins.nodejs.org/job/nodejs-master/239/","date":"2013-05-29T23:26:31.180Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #87 \u00037UNSTABLE\u000f smartos-ia32 (2/588) osx-ia32 (1/588) smartos-x64 (120/588) linux-x64 (1/588) osx-x64 (1/588) http://jenkins.nodejs.org/job/libuv-node-integration/87/","date":"2013-05-29T23:28:53.184Z","type":"message"}
{"nick":"tjfontaine","message":"hahah https://github.com/joyent/node/issues/5596 \"if streaming is fast, then writeFileSync() should be as well\"","date":"2013-05-29T23:30:12.749Z","type":"message"}
{"nick":"hz","date":"2013-05-29T23:32:08.343Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: let me handle that one.","date":"2013-05-29T23:32:43.112Z","type":"message"}
{"nick":"trevnorris","message":"dude has no idea what's about to happen. ;-)","date":"2013-05-29T23:32:57.507Z","type":"message"}
{"nick":"tjfontaine","message":"I'm mentioning you, but I can't resist my two cents :)","date":"2013-05-29T23:33:07.599Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-29T23:33:14.567Z","type":"message"}
{"nick":"tjfontaine","message":"you can feel free to drop your knowledge on him","date":"2013-05-29T23:33:18.300Z","type":"message"}
{"nick":"mraleph","reason":"Read error: Operation timed out","date":"2013-05-29T23:33:23.538Z","type":"quit"}
{"nick":"trapito","message":"is there any way to monitor connections so that i don't end up with a lot of close_wait ones if the other end crashes?","date":"2013-05-29T23:40:23.040Z","type":"message"}
{"nick":"trapito","message":"i was testing and i did this : listen on the server, connect from python, raise an unhandled exception in python","date":"2013-05-29T23:41:02.973Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #48 \u00037UNSTABLE\u000f windows-x64 (15/604) windows-ia32 (16/604) http://jenkins.nodejs.org/job/nodejs-master-windows/48/","date":"2013-05-29T23:41:12.259Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #88 \u00037UNSTABLE\u000f smartos-ia32 (2/604) osx-ia32 (2/604) smartos-x64 (7/604) linux-x64 (1/604) linux-ia32 (1/604) osx-x64 (2/604) http://jenkins.nodejs.org/job/libuv-node-integration/88/","date":"2013-05-29T23:45:18.295Z","type":"message"}
{"nick":"trapito","message":"nevermind, i'm a dummy =3","date":"2013-05-29T23:47:25.943Z","type":"message"}
{"nick":"tjfontaine","message":"heh ok","date":"2013-05-29T23:47:32.261Z","type":"message"}
{"nick":"kazupon","date":"2013-05-29T23:50:56.195Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T23:52:50.966Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: think we could program in a way to watch PR subject lines, just to let devs know they don't need to open/close every freakin time they need to correct something?","date":"2013-05-29T23:54:12.263Z","type":"message"}
{"nick":"TooTallNate","date":"2013-05-29T23:54:30.273Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: well I added this today https://github.com/tjfontaine/jankins/commit/29f0ff39f818596d453c02c69fdc01ce1f9970ab","date":"2013-05-29T23:55:24.791Z","type":"message"}
{"nick":"trevnorris","message":"yes yes yes!","date":"2013-05-29T23:55:42.758Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-05-29T23:55:45.226Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: presuming they read","date":"2013-05-29T23:55:46.097Z","type":"message"}
{"nick":"trevnorris","message":"can you make that extra large, very bold. mayby use the <blink> tag","date":"2013-05-29T23:56:08.058Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-29T23:56:28.384Z","type":"message"}
{"nick":"tjfontaine","message":"http://modulecounts.com/ clicking on \"all time\" gives a pretty hilarious graph","date":"2013-05-29T23:57:29.183Z","type":"message"}
{"nick":"trevnorris","message":"ah, average growth of 75 a day? that's insane","date":"2013-05-29T23:58:48.472Z","type":"message"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2012-12-13T00:00:01.487Z","type":"quit"}
{"nick":"ircretary","date":"2012-12-13T00:00:08.615Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T00:01:03.194Z","type":"quit"}
{"nick":"indexzero","date":"2012-12-13T00:01:19.683Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-12-13T00:01:58.102Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T00:04:43.639Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: ++","date":"2012-12-13T00:05:03.234Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'll test this evening","date":"2012-12-13T00:05:09.704Z","type":"message"}
{"nick":"bradleymeck","date":"2012-12-13T00:05:17.555Z","type":"join"}
{"nick":"kazupon","date":"2012-12-13T00:07:57.109Z","type":"join"}
{"nick":"piscisaureus_","message":"txdv: is there an issue for this? I want ben's opinion too","date":"2012-12-13T00:08:46.789Z","type":"message"}
{"nick":"piscisaureus_","message":"txdv: ideally I think the API would look like:","date":"2012-12-13T00:08:57.896Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_ip_bind(uv_stream_t* handle, int flags)","date":"2012-12-13T00:09:26.872Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_ip_bind(uv_stream_t* handle, struct sockaddr* addr, int flags)","date":"2012-12-13T00:09:37.521Z","type":"message"}
{"nick":"piscisaureus_","message":"and it would operate on both tcp and udp handles","date":"2012-12-13T00:09:51.145Z","type":"message"}
{"nick":"piscisaureus_","message":"but this requires streams refactor","date":"2012-12-13T00:09:56.906Z","type":"message"}
{"nick":"piscisaureus_","message":"for which we have great ideas and zero implementation","date":"2012-12-13T00:10:05.645Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 244 seconds","date":"2012-12-13T00:12:03.978Z","type":"quit"}
{"nick":"piscisaureus_","message":"I have to give up for the day","date":"2012-12-13T00:16:53.222Z","type":"message"}
{"nick":"piscisaureus_","message":"ttyl","date":"2012-12-13T00:16:54.229Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-12-13T00:16:57.996Z","type":"quit"}
{"nick":"warz","date":"2012-12-13T00:35:30.293Z","type":"quit"}
{"nick":"txdv","message":"xD","date":"2012-12-13T00:38:25.579Z","type":"message"}
{"nick":"txdv","message":"no","date":"2012-12-13T00:38:26.710Z","type":"message"}
{"nick":"txdv","message":"udp is not a stream","date":"2012-12-13T00:40:49.877Z","type":"message"}
{"nick":"txdv","message":"this doesn't make sense","date":"2012-12-13T00:40:52.972Z","type":"message"}
{"nick":"sgallagh","date":"2012-12-13T00:40:57.141Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T01:05:49.614Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-13T01:08:18.667Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2012-12-13T01:13:14.526Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T01:13:15.755Z","type":"join"}
{"nick":"skebcio_","date":"2012-12-13T01:15:40.346Z","type":"join"}
{"nick":"MI6","reason":"Ping timeout: 264 seconds","date":"2012-12-13T01:18:17.283Z","type":"quit"}
{"nick":"skebcio","reason":"Ping timeout: 264 seconds","date":"2012-12-13T01:18:17.542Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2012-12-13T01:26:59.726Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-12-13T01:30:47.847Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2012-12-13T01:34:43.966Z","type":"quit"}
{"nick":"abraxas","date":"2012-12-13T01:36:40.593Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 260 seconds","date":"2012-12-13T01:53:39.668Z","type":"quit"}
{"nick":"hz","date":"2012-12-13T01:55:17.889Z","type":"quit"}
{"nick":"jmar777","date":"2012-12-13T02:05:34.306Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T02:06:12.462Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T02:14:45.504Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-12-13T02:44:21.945Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T03:06:33.995Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T03:09:46.039Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-12-13T03:11:44.661Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T03:24:27.389Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T03:30:15.968Z","type":"join"}
{"nick":"kazupon","date":"2012-12-13T03:42:53.488Z","type":"join"}
{"nick":"TooTallNate","date":"2012-12-13T03:50:48.924Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2012-12-13T03:50:55.105Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-12-13T03:57:10.314Z","type":"quit"}
{"nick":"jmar777","date":"2012-12-13T03:59:18.480Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-12-13T04:03:31.432Z","type":"quit"}
{"nick":"stagas","date":"2012-12-13T06:29:34.569Z","type":"join"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.89-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2012-12-13T06:44:18.717Z","type":"quit"}
{"nick":"stagas","date":"2012-12-13T06:55:05.674Z","type":"join"}
{"nick":"abraxas","message":"Hi","date":"2012-12-13T07:05:42.717Z","type":"message"}
{"nick":"abraxas","message":"Is there a good reason why signal handlers don't reveal their source? (pid, etc)","date":"2012-12-13T07:05:53.969Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T07:06:10.957Z","type":"quit"}
{"nick":"indutny","message":"erm","date":"2012-12-13T07:06:17.432Z","type":"message"}
{"nick":"abraxas","message":"sigaction seems to contain a lot of useful information","date":"2012-12-13T07:06:25.556Z","type":"message"}
{"nick":"abraxas","message":"(sorry, siginfo)","date":"2012-12-13T07:06:39.580Z","type":"message"}
{"nick":"benoitc","date":"2012-12-13T07:08:20.357Z","type":"join"}
{"nick":"indutny","message":"abraxas: actually, I don't really know","date":"2012-12-13T07:09:21.849Z","type":"message"}
{"nick":"indutny","message":"abraxas: it seems to be present on all unixes","date":"2012-12-13T07:09:28.872Z","type":"message"}
{"nick":"indutny","message":"probably that's because of windows","date":"2012-12-13T07:09:32.675Z","type":"message"}
{"nick":"indutny","message":"better ask bnoordhuis later today","date":"2012-12-13T07:09:38.681Z","type":"message"}
{"nick":"abraxas","message":"I guess so :)","date":"2012-12-13T07:09:40.604Z","type":"message"}
{"nick":"indutny","message":"or piscisaureus","date":"2012-12-13T07:09:44.105Z","type":"message"}
{"nick":"abraxas","message":"okay, I'll try that","date":"2012-12-13T07:09:50.029Z","type":"message"}
{"nick":"rendar","date":"2012-12-13T07:14:59.372Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-13T07:26:39.385Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-12-13T07:33:11.800Z","type":"join"}
{"nick":"loladiro","date":"2012-12-13T07:41:00.998Z","type":"join"}
{"nick":"Ralt","date":"2012-12-13T08:13:12.500Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-12-13T08:20:52.324Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-12-13T08:43:08.253Z","type":"quit"}
{"nick":"stagas_","date":"2012-12-13T08:54:33.502Z","type":"join"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2012-12-13T08:56:23.352Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2012-12-13T08:56:27.775Z","type":"nick"}
{"nick":"bnoordhuis","date":"2012-12-13T09:04:35.731Z","type":"join"}
{"nick":"bnoordhuis","message":"morning","date":"2012-12-13T09:06:59.333Z","type":"message"}
{"nick":"indutny","message":"morning","date":"2012-12-13T09:09:37.764Z","type":"message"}
{"nick":"bnoordhuis","message":"morning fedor","date":"2012-12-13T09:09:45.393Z","type":"message"}
{"nick":"bnoordhuis","message":"brett_: ping","date":"2012-12-13T09:09:48.562Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: apache benchmark scaries me","date":"2012-12-13T09:19:17.099Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: how so?","date":"2012-12-13T09:19:23.416Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean ab, right?","date":"2012-12-13T09:19:31.183Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-13T09:19:33.375Z","type":"message"}
{"nick":"indutny","message":"one sec","date":"2012-12-13T09:19:55.825Z","type":"message"}
{"nick":"indutny","message":"I'll post pic somewhere","date":"2012-12-13T09:20:00.041Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: http://twitpic.com/bljls5","date":"2012-12-13T09:20:32.261Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you know what's interesting","date":"2012-12-13T09:20:48.740Z","type":"message"}
{"nick":"indutny","message":"ab -n 2 -c 2 https://127.0.0.1:44300/","date":"2012-12-13T09:20:55.798Z","type":"message"}
{"nick":"indutny","message":"this is the command I've used","date":"2012-12-13T09:21:00.494Z","type":"message"}
{"nick":"indutny","message":"and ab does a lot of requests","date":"2012-12-13T09:21:11.971Z","type":"message"}
{"nick":"indutny","message":"let me try the latest version","date":"2012-12-13T09:21:20.174Z","type":"message"}
{"nick":"indutny","message":"I've often heard that default one is borked","date":"2012-12-13T09:21:26.102Z","type":"message"}
{"nick":"bnoordhuis","message":"on os x, yes","date":"2012-12-13T09:21:33.028Z","type":"message"}
{"nick":"bnoordhuis","message":"but what's so scary? the fact that it uses http 1.0?","date":"2012-12-13T09:22:02.595Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-13T09:22:10.489Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-12-13T09:22:10.856Z","type":"message"}
{"nick":"indutny","message":"it pipelines a lot of requests in one connection","date":"2012-12-13T09:22:17.777Z","type":"message"}
{"nick":"indutny","message":"I suppose it's just a bug","date":"2012-12-13T09:22:22.438Z","type":"message"}
{"nick":"indutny","message":"because latest version works properly","date":"2012-12-13T09:22:27.033Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: a lot is like ~30","date":"2012-12-13T09:22:35.907Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that. yes, that could be the os x ab bug","date":"2012-12-13T09:22:56.109Z","type":"message"}
{"nick":"bnoordhuis","message":"though i think apple fixed that in 10.8","date":"2012-12-13T09:23:03.098Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2012-12-13T09:23:15.155Z","type":"message"}
{"nick":"indutny","message":"10.8 is even more f*cked than 10.6","date":"2012-12-13T09:23:23.010Z","type":"message"}
{"nick":"indutny","message":"I'm really sad that I've upgraded","date":"2012-12-13T09:23:29.796Z","type":"message"}
{"nick":"indutny","message":"nothing works well there","date":"2012-12-13T09:23:35.712Z","type":"message"}
{"nick":"bnoordhuis","message":"so when are you switching to a real OS?","date":"2012-12-13T09:23:44.244Z","type":"message"}
{"nick":"indutny","message":"idk","date":"2012-12-13T09:23:47.417Z","type":"message"}
{"nick":"indutny","message":"I want to use MBP anyway","date":"2012-12-13T09:23:56.779Z","type":"message"}
{"nick":"indutny","message":"probably I just need to replace OSX with ubuntu","date":"2012-12-13T09:24:07.811Z","type":"message"}
{"nick":"indutny","message":"of fedora","date":"2012-12-13T09:24:10.831Z","type":"message"}
{"nick":"indutny","message":"I like fedora","date":"2012-12-13T09:24:15.201Z","type":"message"}
{"nick":"bnoordhuis","message":"fedora is pretty nice","date":"2012-12-13T09:24:19.421Z","type":"message"}
{"nick":"indutny","message":"everything, except gui","date":"2012-12-13T09:24:20.592Z","type":"message"}
{"nick":"bnoordhuis","message":"i've been thinking of switching","date":"2012-12-13T09:24:23.274Z","type":"message"}
{"nick":"bnoordhuis","message":"gui? you mean kde?","date":"2012-12-13T09:24:32.688Z","type":"message"}
{"nick":"indutny","message":"ain't they using gnome 3?","date":"2012-12-13T09:24:39.097Z","type":"message"}
{"nick":"indutny","message":"last time I've used fedora it was on it","date":"2012-12-13T09:24:53.329Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe gnome's the default","date":"2012-12-13T09:24:59.563Z","type":"message"}
{"nick":"bnoordhuis","message":"but who cares? the gui is just for opening a xterm","date":"2012-12-13T09:25:14.002Z","type":"message"}
{"nick":"indutny","message":"indeed it is","date":"2012-12-13T09:25:14.930Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-13T09:25:18.945Z","type":"message"}
{"nick":"indutny","message":"well, not only","date":"2012-12-13T09:25:21.307Z","type":"message"}
{"nick":"indutny","message":"I watch films and play games, sometimes","date":"2012-12-13T09:25:32.392Z","type":"message"}
{"nick":"indutny","message":"but last one is not about linux","date":"2012-12-13T09:25:45.328Z","type":"message"}
{"nick":"indutny","message":"not yet","date":"2012-12-13T09:25:46.857Z","type":"message"}
{"nick":"bnoordhuis","message":"valve's got your back","date":"2012-12-13T09:25:58.788Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-12-13T09:28:09.949Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: yeah, that's why I said \"not yet\"","date":"2012-12-13T09:29:16.196Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I wonder when everyone will start doing laptops like apple does","date":"2012-12-13T09:29:40.412Z","type":"message"}
{"nick":"indutny","message":"have you seen retina mbp?","date":"2012-12-13T09:29:54.597Z","type":"message"}
{"nick":"bnoordhuis","message":"probably when the patents expires :/","date":"2012-12-13T09:29:55.206Z","type":"message"}
{"nick":"indutny","message":"it looks ultimately good","date":"2012-12-13T09:29:58.463Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ++","date":"2012-12-13T09:30:00.795Z","type":"message"}
{"nick":"bnoordhuis","message":"seen it? i have one","date":"2012-12-13T09:30:03.158Z","type":"message"}
{"nick":"indutny","message":"ah, you're working on it?","date":"2012-12-13T09:30:08.861Z","type":"message"}
{"nick":"bnoordhuis","message":"that i only use to test node on os x on","date":"2012-12-13T09:30:16.309Z","type":"message"}
{"nick":"indutny","message":"shit, I should buy it once I'll get to USA again","date":"2012-12-13T09:30:21.936Z","type":"message"}
{"nick":"indutny","message":"buying it in russia is such a waste of money","date":"2012-12-13T09:30:41.052Z","type":"message"}
{"nick":"bnoordhuis","message":"i had a great time at the apple store that day","date":"2012-12-13T09:30:44.055Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-13T09:30:47.788Z","type":"message"}
{"nick":"bnoordhuis","message":"because i consistently called it a \"macbook retsina\", to the great annoyance of the apple store employees","date":"2012-12-13T09:31:04.061Z","type":"message"}
{"nick":"bnoordhuis","message":"(in case you don't know what retsina is, it's a greek wine)","date":"2012-12-13T09:31:30.772Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-12-13T09:31:31.705Z","type":"message"}
{"nick":"indutny","message":"great","date":"2012-12-13T09:31:39.406Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-12-13T09:31:41.905Z","type":"quit"}
{"nick":"indutny","message":"so looks like that tlsnappy bug wasn't really a tlsnappy bug","date":"2012-12-13T09:32:54.279Z","type":"message"}
{"nick":"indutny","message":"know I need to get shutdown working properly","date":"2012-12-13T09:33:02.084Z","type":"message"}
{"nick":"bnoordhuis","message":"tcp or tls shutdown?","date":"2012-12-13T09:33:19.226Z","type":"message"}
{"nick":"indutny","message":"which remind me about the same patch in node","date":"2012-12-13T09:33:23.978Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: tls one","date":"2012-12-13T09:33:25.751Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2012-12-13T09:33:28.359Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: have you got a chance to look at this PR?","date":"2012-12-13T09:33:36.775Z","type":"message"}
{"nick":"bnoordhuis","message":"i have and i will","date":"2012-12-13T09:33:43.854Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-13T09:33:47.117Z","type":"message"}
{"nick":"bnoordhuis","message":"but do you have a test case i can try?","date":"2012-12-13T09:33:49.158Z","type":"message"}
{"nick":"indutny","message":"thank you","date":"2012-12-13T09:33:50.364Z","type":"message"}
{"nick":"indutny","message":"how do you think one can test it? :)","date":"2012-12-13T09:34:05.056Z","type":"message"}
{"nick":"indutny","message":"just curious","date":"2012-12-13T09:34:07.202Z","type":"message"}
{"nick":"indutny","message":"I've tested in in following way","date":"2012-12-13T09:34:13.473Z","type":"message"}
{"nick":"indutny","message":"start https server","date":"2012-12-13T09:34:17.175Z","type":"message"}
{"nick":"indutny","message":"ab -v 3 -c 1 -n 1 addr","date":"2012-12-13T09:34:24.625Z","type":"message"}
{"nick":"indutny","message":"and look at ssl alert","date":"2012-12-13T09:34:32.518Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, i'll try that","date":"2012-12-13T09:34:52.521Z","type":"message"}
{"nick":"bnoordhuis","message":"first have to catch up on my email backlog though :(","date":"2012-12-13T09:35:25.512Z","type":"message"}
{"nick":"indutny","message":"oooh","date":"2012-12-13T09:35:29.475Z","type":"message"}
{"nick":"indutny","message":"that's a big problem for me too","date":"2012-12-13T09:35:32.709Z","type":"message"}
{"nick":"indutny","message":"I've 28 emails that're waiting for reply","date":"2012-12-13T09:35:43.871Z","type":"message"}
{"nick":"indutny","message":"or for action","date":"2012-12-13T09:35:50.383Z","type":"message"}
{"nick":"indutny","message":"btw, just FYI","date":"2012-12-13T09:36:01.430Z","type":"message"}
{"nick":"indutny","message":"mbp 15'' retina is 2700 $ in russia","date":"2012-12-13T09:36:08.416Z","type":"message"}
{"nick":"indutny","message":"actually, it's 2770$","date":"2012-12-13T09:36:15.778Z","type":"message"}
{"nick":"indutny","message":"so more like 2800$","date":"2012-12-13T09:36:18.330Z","type":"message"}
{"nick":"bnoordhuis","message":"i think i paid 3k euros for mine","date":"2012-12-13T09:36:41.596Z","type":"message"}
{"nick":"bnoordhuis","message":"that's what 20% VAT does to you","date":"2012-12-13T09:36:49.708Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-12-13T09:37:11.628Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a 17\" though","date":"2012-12-13T09:37:15.412Z","type":"message"}
{"nick":"indutny","message":"it's even more expensive in europ","date":"2012-12-13T09:37:16.791Z","type":"message"}
{"nick":"indutny","message":"europe*","date":"2012-12-13T09:37:19.814Z","type":"message"}
{"nick":"indutny","message":"ok :)","date":"2012-12-13T09:37:22.466Z","type":"message"}
{"nick":"indutny","message":"we've 13% VAT","date":"2012-12-13T09:37:29.625Z","type":"message"}
{"nick":"indutny","message":"and it's included in price","date":"2012-12-13T09:37:33.062Z","type":"message"}
{"nick":"indutny","message":"actually, I like your taxes","date":"2012-12-13T09:37:45.357Z","type":"message"}
{"nick":"indutny","message":"you guys pay almost half of your salary to the government","date":"2012-12-13T09:37:56.857Z","type":"message"}
{"nick":"bnoordhuis","message":"so does our government","date":"2012-12-13T09:37:57.323Z","type":"message"}
{"nick":"bnoordhuis","message":"exactly :)","date":"2012-12-13T09:38:02.981Z","type":"message"}
{"nick":"indutny","message":"that's pretty nice :)","date":"2012-12-13T09:38:10.017Z","type":"message"}
{"nick":"indutny","message":"we pay only 13%","date":"2012-12-13T09:38:18.662Z","type":"message"}
{"nick":"indutny","message":"well, firm is paying some percents too","date":"2012-12-13T09:38:34.351Z","type":"message"}
{"nick":"indutny","message":"but it's less than 20% in total","date":"2012-12-13T09:38:45.277Z","type":"message"}
{"nick":"bnoordhuis","message":"i considered moving to austria at one time","date":"2012-12-13T09:39:32.435Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-13T09:39:35.194Z","type":"message"}
{"nick":"bnoordhuis","message":"because of the effective tax rate of 13%","date":"2012-12-13T09:39:45.842Z","type":"message"}
{"nick":"bnoordhuis","message":"other things are way more expensive though","date":"2012-12-13T09:39:54.577Z","type":"message"}
{"nick":"indutny","message":"that's the price to pay","date":"2012-12-13T09:40:07.344Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess on the whole it balances out in western europe","date":"2012-12-13T09:40:08.242Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: do you know any simple way to get list of requests and their sizes in wireshark?","date":"2012-12-13T09:45:05.493Z","type":"message"}
{"nick":"indutny","message":"I've like 3 length errors on 100000","date":"2012-12-13T09:45:16.302Z","type":"message"}
{"nick":"indutny","message":"with correct SSL_shutdown approach","date":"2012-12-13T09:45:30.013Z","type":"message"}
{"nick":"indutny","message":"in tlsnappy","date":"2012-12-13T09:45:33.299Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i don't use wireshark all that much, usually just tcpdump","date":"2012-12-13T09:45:39.543Z","type":"message"}
{"nick":"indutny","message":"eh","date":"2012-12-13T09:45:47.361Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-12-13T09:45:49.193Z","type":"message"}
{"nick":"bnoordhuis","action":"is biab","date":"2012-12-13T09:50:36.759Z","type":"action"}
{"nick":"hz","date":"2012-12-13T09:55:02.471Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T10:09:41.917Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T10:15:50.029Z","type":"join"}
{"nick":"AvianFlu","date":"2012-12-13T10:26:57.130Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-12-13T10:52:19.634Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2012-12-13T10:56:19.072Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-13T11:37:39.198Z","type":"join"}
{"nick":"[mlg]d30xx4[mlg]","new_nick":"zX360Shotz420Xz","date":"2012-12-13T11:39:37.566Z","type":"nick"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-13T11:41:50.990Z","type":"quit"}
{"nick":"kazupon","date":"2012-12-13T11:42:43.545Z","type":"join"}
{"nick":"kazupon_","date":"2012-12-13T11:57:17.388Z","type":"join"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-12-13T11:57:17.518Z","type":"quit"}
{"nick":"hz","date":"2012-12-13T11:57:30.439Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2012-12-13T11:58:04.956Z","type":"quit"}
{"nick":"zX360Shotz420Xz","new_nick":"deoxxa","date":"2012-12-13T12:18:49.721Z","type":"nick"}
{"nick":"sgallagh","date":"2012-12-13T12:29:38.429Z","type":"join"}
{"nick":"kazupon_","reason":"Read error: Connection reset by peer","date":"2012-12-13T12:31:11.457Z","type":"quit"}
{"nick":"kuebk","date":"2012-12-13T12:43:46.471Z","type":"join"}
{"nick":"kuebk","message":"j0","date":"2012-12-13T12:43:53.875Z","type":"message"}
{"nick":"kuebk","message":"i'm debugging a nodejs module with gdb","date":"2012-12-13T12:44:10.531Z","type":"message"}
{"nick":"kuebk","message":"and found out something like this","date":"2012-12-13T12:44:15.139Z","type":"message"}
{"nick":"kuebk","message":"url = {str_ = 0x95c4ea0 \"//urbanmarek\", length_ = 13}","date":"2012-12-13T12:44:20.316Z","type":"message"}
{"nick":"kuebk","message":"and i don't know why there is a difference between actual string length (at least visible one) and the length_ property","date":"2012-12-13T12:45:08.651Z","type":"message"}
{"nick":"kuebk","message":"url is done like this v8::String::AsciiValue url (args[0]->ToString());","date":"2012-12-13T12:45:48.667Z","type":"message"}
{"nick":"jmar777","date":"2012-12-13T12:46:26.632Z","type":"join"}
{"nick":"MI6","date":"2012-12-13T12:47:29.369Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-12-13T12:47:55.877Z","type":"quit"}
{"nick":"bnoordhuis","message":"kuebk: a js string can contain nul bytes","date":"2012-12-13T12:48:06.601Z","type":"message"}
{"nick":"bnoordhuis","message":"it's possible someone's requesting \"//urbanmarek\\u0000\"","date":"2012-12-13T12:48:37.381Z","type":"message"}
{"nick":"kuebk","message":"yes it is","date":"2012-12-13T12:48:58.051Z","type":"message"}
{"nick":"kuebk","message":"but http_parsers","date":"2012-12-13T12:49:01.843Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-13T12:49:02.793Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#950 (master - 92fb84b : Ben Noordhuis): The build passed.","date":"2012-12-13T12:49:02.920Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/731adacad242...92fb84b751e1","date":"2012-12-13T12:49:02.921Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/3645032","date":"2012-12-13T12:49:02.921Z","type":"message"}
{"nick":"travis-ci","date":"2012-12-13T12:49:02.921Z","type":"part"}
{"nick":"kuebk","message":"doesn't allow you to send null byte","date":"2012-12-13T12:49:06.419Z","type":"message"}
{"nick":"bnoordhuis","message":"kuebk: no, but you can request e.g. /foo/bar/baz%00","date":"2012-12-13T12:49:23.396Z","type":"message"}
{"nick":"kuebk","message":"tried that","date":"2012-12-13T12:49:58.171Z","type":"message"}
{"nick":"bnoordhuis","message":"kuebk: btw, is that from src/node_http_parser.cc?","date":"2012-12-13T12:50:45.384Z","type":"message"}
{"nick":"kuebk","message":"nope","date":"2012-12-13T12:50:51.155Z","type":"message"}
{"nick":"kuebk","message":"it's from my code","date":"2012-12-13T12:50:53.899Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, nvm then","date":"2012-12-13T12:51:06.279Z","type":"message"}
{"nick":"kuebk","message":"which uses the IncomingMessage.url","date":"2012-12-13T12:51:06.803Z","type":"message"}
{"nick":"kuebk","message":"btw %00 in url doesnt make anything bad","date":"2012-12-13T12:51:40.451Z","type":"message"}
{"nick":"bnoordhuis","message":"not itself, not until you start unescaping it","date":"2012-12-13T12:53:34.516Z","type":"message"}
{"nick":"bnoordhuis","message":"*not in itself","date":"2012-12-13T12:53:38.393Z","type":"message"}
{"nick":"stagas","date":"2012-12-13T12:53:48.616Z","type":"join"}
{"nick":"jmar777","date":"2012-12-13T12:54:21.548Z","type":"join"}
{"nick":"kuebk","message":"the problem is i'm not escaping it","date":"2012-12-13T12:58:14.586Z","type":"message"}
{"nick":"kuebk","message":"i'm just calling a method from module and as argument I pass IncomingMessage.url","date":"2012-12-13T12:58:43.994Z","type":"message"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2012-12-13T13:09:22.911Z","type":"quit"}
{"nick":"sgallagh","date":"2012-12-13T13:10:33.131Z","type":"join"}
{"nick":"brett_","message":"@bnoordhuis: hi","date":"2012-12-13T13:27:18.426Z","type":"message"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-12-13T13:27:56.554Z","type":"quit"}
{"nick":"bnoordhuis","message":"brett_: just replied on #3241","date":"2012-12-13T13:29:36.652Z","type":"message"}
{"nick":"bnoordhuis","message":"the tl;dr is that i'm seeing reasonably balanced numbers","date":"2012-12-13T13:30:08.890Z","type":"message"}
{"nick":"philips_","date":"2012-12-13T13:30:13.366Z","type":"join"}
{"nick":"bnoordhuis","message":"brett_: you're testing without -b, aren't you?","date":"2012-12-13T13:33:42.673Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2012-12-13T13:34:42.234Z","type":"quit"}
{"nick":"brett_","message":"yes, no -b in our tests","date":"2012-12-13T13:34:43.568Z","type":"message"}
{"nick":"brett_","message":"so it's running with delay","date":"2012-12-13T13:35:04.976Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2012-12-13T13:35:08.515Z","type":"message"}
{"nick":"bnoordhuis","message":"i included a test run without -b","date":"2012-12-13T13:35:15.591Z","type":"message"}
{"nick":"bnoordhuis","message":"much lower numbers of course but still distributed fairly okay","date":"2012-12-13T13:35:35.836Z","type":"message"}
{"nick":"brett_","message":"which seems more germane to our situation, where we're not just slamming it with a bunch of new connections, but where there coming in at maybe a few hundred per second, then hanging out a long time","date":"2012-12-13T13:37:23.715Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-12-13T13:37:47.837Z","type":"quit"}
{"nick":"hz","date":"2012-12-13T13:37:51.414Z","type":"join"}
{"nick":"bnoordhuis","message":"brett_: you mentioned you tried 3.7?","date":"2012-12-13T13:38:13.603Z","type":"message"}
{"nick":"brett_","message":"sven build at 3.7 kernel last night and we're seeing a pretty good balance there (at least like a 3-to-1 imbalance rather than a 10-to-1 or worse)","date":"2012-12-13T13:38:13.748Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good","date":"2012-12-13T13:38:20.600Z","type":"message"}
{"nick":"bnoordhuis","message":"there were some posts on the lkml a while ago about problems with tcp port allocation","date":"2012-12-13T13:38:40.169Z","type":"message"}
{"nick":"brett_","message":"he now has results from 3.6.10, which is not terrible either","date":"2012-12-13T13:38:43.528Z","type":"message"}
{"nick":"bnoordhuis","message":"that may (or may not have been) related","date":"2012-12-13T13:38:53.754Z","type":"message"}
{"nick":"brett_","message":"so we're pursuing the kernel route","date":"2012-12-13T13:39:19.677Z","type":"message"}
{"nick":"brett_","message":"if you happen to remember some good search terms for finding those, i'd love to have a look","date":"2012-12-13T13:39:38.935Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i've been looking myself...","date":"2012-12-13T13:39:49.599Z","type":"message"}
{"nick":"brett_","message":"otherwise i'll try to find them myself","date":"2012-12-13T13:39:52.601Z","type":"message"}
{"nick":"brett_","message":"the mailing list messages, that is","date":"2012-12-13T13:39:59.819Z","type":"message"}
{"nick":"bnoordhuis","message":"it was probably from last year","date":"2012-12-13T13:40:05.849Z","type":"message"}
{"nick":"bnoordhuis","message":"but that doesn't really help, i assume","date":"2012-12-13T13:40:12.686Z","type":"message"}
{"nick":"brett_","message":"we'll post on that bug and on the stack overflow question if we find anything convincing","date":"2012-12-13T13:40:53.836Z","type":"message"}
{"nick":"brett_","message":"so i think we're going to be okay without adding another proxy layer, which is good news, and thank you for all of your help","date":"2012-12-13T13:41:20.872Z","type":"message"}
{"nick":"bnoordhuis","message":"my pleasure :)","date":"2012-12-13T13:41:28.818Z","type":"message"}
{"nick":"bnoordhuis","message":"iirc it was fixed in 3.4 so that'd probably mean it got fixed in the first four months of this year","date":"2012-12-13T13:42:29.789Z","type":"message"}
{"nick":"brett_","message":"i think round-robin would be a great mode for Cluster to support independent of OS scheduling (since it's probably what the user wants for a lot of applications of Node), for the same reason that you tend to round-robin amongst servers with HAProxy rather than doing something fancier","date":"2012-12-13T13:42:58.971Z","type":"message"}
{"nick":"bnoordhuis","message":"we've been considering that","date":"2012-12-13T13:43:29.627Z","type":"message"}
{"nick":"brett_","message":"but i think i understand the approach you're taking, and of course that would be more to support","date":"2012-12-13T13:43:32.887Z","type":"message"}
{"nick":"brett_","message":"anyway, short-term, thanks again and we'll post again when we know more.","date":"2012-12-13T13:44:01.767Z","type":"message"}
{"nick":"bnoordhuis","message":"the main reason for doing it like we do now is that the OS scheduler is supposed to have a better overview of the system load","date":"2012-12-13T13:44:02.964Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool :)","date":"2012-12-13T13:44:16.834Z","type":"message"}
{"nick":"brett_","message":"got it. thanks!","date":"2012-12-13T13:44:53.646Z","type":"message"}
{"nick":"tristram","reason":"\"WeeChat 0.3.7\"","date":"2012-12-13T13:48:59.058Z","type":"part"}
{"nick":"benoitc","reason":"Excess Flood","date":"2012-12-13T13:49:41.160Z","type":"quit"}
{"nick":"benoitc","date":"2012-12-13T13:56:21.293Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-12-13T13:58:00.490Z","type":"join"}
{"nick":"piscisaureus_","message":"hello","date":"2012-12-13T13:58:25.427Z","type":"message"}
{"nick":"bnoordhuis","message":"sup bertje","date":"2012-12-13T13:59:46.058Z","type":"message"}
{"nick":"piscisaureus_","message":"it's cold here","date":"2012-12-13T14:00:05.740Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/pull/653","date":"2012-12-13T14:00:10.473Z","type":"message"}
{"nick":"bnoordhuis","message":"i was just looking at it","date":"2012-12-13T14:00:20.690Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: uv__io_feed() would not update the pending events masked to include","date":"2012-12-13T14:03:43.727Z","type":"message"}
{"nick":"bnoordhuis","message":"UV__POLLOUT, so a subsequent uv__io_stop() call to remove the","date":"2012-12-13T14:03:46.731Z","type":"message"}
{"nick":"bnoordhuis","message":"UV__POLLIN event would cause the pevents mask to become zero","date":"2012-12-13T14:03:49.232Z","type":"message"}
{"nick":"bnoordhuis","message":"that's how it's supposed to work","date":"2012-12-13T14:03:59.171Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I know","date":"2012-12-13T14:04:16.594Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: BUT what happens is","date":"2012-12-13T14:04:21.999Z","type":"message"}
{"nick":"jmar777","date":"2012-12-13T14:04:29.966Z","type":"join"}
{"nick":"piscisaureus_","message":"uv__io_feed adds the watcher to the pending list","date":"2012-12-13T14:04:33.694Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, and uv__io_stop removes it","date":"2012-12-13T14:04:41.941Z","type":"message"}
{"nick":"piscisaureus_","message":"(because a write has completed)","date":"2012-12-13T14:04:44.494Z","type":"message"}
{"nick":"piscisaureus_","message":"and then uv__io_stop removes it, even when the intention was to stop *reading*","date":"2012-12-13T14:04:59.675Z","type":"message"}
{"nick":"bnoordhuis","message":"the problem i see with your PR is that it sets UV__POLLOUT but doesn't clear it afterwards","date":"2012-12-13T14:05:59.909Z","type":"message"}
{"nick":"bnoordhuis","message":"to complicate matters, it should only do that if UV__POLLOUT wasn't already set and doesn't get set in the mean time","date":"2012-12-13T14:06:29.365Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe a new flag is in order","date":"2012-12-13T14:06:34.930Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: maybe UV__FED ?","date":"2012-12-13T14:06:46.689Z","type":"message"}
{"nick":"bnoordhuis","message":"something like that","date":"2012-12-13T14:06:51.495Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so why does pevents not get cleared?","date":"2012-12-13T14:07:21.505Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why/when exactly?","date":"2012-12-13T14:07:50.887Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, it also needs to be cleared when these events originate from epoll_wait right?","date":"2012-12-13T14:07:53.803Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the UV__POLLOUT flag does not need to be cleared immediately. The callback needs to clear it (in the current situation)","date":"2012-12-13T14:08:32.337Z","type":"message"}
{"nick":"bnoordhuis","message":"no, it's not cleared until you call uv__io_stop","date":"2012-12-13T14:08:35.804Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-12-13T14:08:43.061Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: this is pevents right?","date":"2012-12-13T14:08:53.109Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-12-13T14:08:56.208Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so once a sockets becomes writable, it will remain writable until uv__io_stop is calle","date":"2012-12-13T14:09:22.841Z","type":"message"}
{"nick":"piscisaureus_","message":"d","date":"2012-12-13T14:09:23.697Z","type":"message"}
{"nick":"piscisaureus_","message":"that seems weird","date":"2012-12-13T14:09:25.915Z","type":"message"}
{"nick":"bnoordhuis","message":"that's not quite what happens","date":"2012-12-13T14:09:46.039Z","type":"message"}
{"nick":"bnoordhuis","message":"pevents is the event mask of what the user is interested in","date":"2012-12-13T14:10:08.993Z","type":"message"}
{"nick":"bnoordhuis","message":"oh wait, no - you said it right","date":"2012-12-13T14:10:22.685Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, I see","date":"2012-12-13T14:10:22.932Z","type":"message"}
{"nick":"piscisaureus_","message":"no that would be events","date":"2012-12-13T14:10:33.350Z","type":"message"}
{"nick":"bnoordhuis","message":"pevents gets modified by uv__io_start and uv__io_stop","date":"2012-12-13T14:11:51.489Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you are right I think","date":"2012-12-13T14:12:02.104Z","type":"message"}
{"nick":"bnoordhuis","message":"once the actual update (e.g. epoll_ctl) has taken place, pevents == events","date":"2012-12-13T14:12:04.870Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: this is where a queue of reqs is much easier than a queue of watchers :-)","date":"2012-12-13T14:12:19.737Z","type":"message"}
{"nick":"bnoordhuis","message":"heh, no doubt","date":"2012-12-13T14:12:29.383Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I do that in windows but (unfortunately) it creates other problems :-)","date":"2012-12-13T14:12:40.741Z","type":"message"}
{"nick":"piscisaureus_","message":"so I would not suggest to change this","date":"2012-12-13T14:12:46.734Z","type":"message"}
{"nick":"piscisaureus_","message":"but maybe set UV__IO_FED and clear it in uv__run_pending","date":"2012-12-13T14:13:07.672Z","type":"message"}
{"nick":"bnoordhuis","message":"yep, something like that","date":"2012-12-13T14:13:14.749Z","type":"message"}
{"nick":"bnoordhuis","message":"a test case would be nice (hint, hint)","date":"2012-12-13T14:13:21.849Z","type":"message"}
{"nick":"piscisaureus_","message":"well there is a test case for node","date":"2012-12-13T14:13:37.289Z","type":"message"}
{"nick":"piscisaureus_","message":"it's also possible for libuv, I'll see if I can make time","date":"2012-12-13T14:14:00.031Z","type":"message"}
{"nick":"bnoordhuis","message":"i'l see if i can get one working","date":"2012-12-13T14:29:35.379Z","type":"message"}
{"nick":"EhevuTov","date":"2012-12-13T14:34:01.623Z","type":"join"}
{"nick":"roxlu","date":"2012-12-13T14:40:47.035Z","type":"join"}
{"nick":"roxlu","message":"hi, what's the correct way of  destorying/free-ing a client connection?","date":"2012-12-13T14:41:08.750Z","type":"message"}
{"nick":"indutny","message":"close it","date":"2012-12-13T14:41:24.968Z","type":"message"}
{"nick":"indutny","message":"and then free it","date":"2012-12-13T14:41:28.289Z","type":"message"}
{"nick":"roxlu","message":"do I handle on_read() and if nread < 0, then uv_shutdown then uv_clos e? ","date":"2012-12-13T14:41:37.957Z","type":"message"}
{"nick":"indutny","message":"but you may want to call shutdown before close","date":"2012-12-13T14:41:39.115Z","type":"message"}
{"nick":"indutny","message":"erm","date":"2012-12-13T14:41:47.979Z","type":"message"}
{"nick":"indutny","message":"what's client connection?","date":"2012-12-13T14:41:53.972Z","type":"message"}
{"nick":"indutny","message":"tcp?","date":"2012-12-13T14:41:54.795Z","type":"message"}
{"nick":"roxlu","message":"yes","date":"2012-12-13T14:41:57.700Z","type":"message"}
{"nick":"indutny","message":"well, -1 should never happen...","date":"2012-12-13T14:42:05.103Z","type":"message"}
{"nick":"indutny","message":"if you expect eof here","date":"2012-12-13T14:42:12.924Z","type":"message"}
{"nick":"indutny","message":"it'll happen only if client has shutdown it's side","date":"2012-12-13T14:42:22.175Z","type":"message"}
{"nick":"roxlu","message":"yes","date":"2012-12-13T14:42:27.401Z","type":"message"}
{"nick":"indutny","message":"that's what you need?","date":"2012-12-13T14:42:33.245Z","type":"message"}
{"nick":"roxlu","message":"I want to handle the situation where the client closes","date":"2012-12-13T14:42:35.215Z","type":"message"}
{"nick":"indutny","message":"ok, then do it on -1","date":"2012-12-13T14:42:36.108Z","type":"message"}
{"nick":"roxlu","message":"ok so nread < 0, then uv_shutdown, then uv_close ?","date":"2012-12-13T14:42:57.967Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-12-13T14:43:08.154Z","type":"message"}
{"nick":"roxlu","message":"thanks","date":"2012-12-13T14:43:33.587Z","type":"message"}
{"nick":"peterrs","date":"2012-12-13T14:46:13.516Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: roxlu: when you get a -1 there's no need to shutdown","date":"2012-12-13T14:52:34.366Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: isn't it unidirectional?","date":"2012-12-13T14:52:44.153Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: roxlu: but you have to be careful not to call uv_close() before your own writes have finished","date":"2012-12-13T14:53:06.350Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: i.e. connection will become half-open","date":"2012-12-13T14:54:05.002Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: and still needs to be shutdown properly, for graceful disconnection","date":"2012-12-13T14:54:15.071Z","type":"message"}
{"nick":"roxlu","message":"piscisaureus_: I've got a std::vector<Conneciton*> where I store connections; this Connection type has a uv_tcp_t member.. I need to \"delete\" this Connection element when it disconnects but if I \"delete\" the object in my on_read callback I get a SEGFAULT","date":"2012-12-13T14:54:39.187Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: if the other side already half-closed it there's not need to","date":"2012-12-13T14:54:41.936Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: it doesn't hurt much tho - it's just a little slower","date":"2012-12-13T14:54:57.190Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: it does hurt","date":"2012-12-13T14:56:01.567Z","type":"message"}
{"nick":"piscisaureus_","message":"roxlu: yes, you cannot free handles until they are properly closed, e.g. when the close callback is called","date":"2012-12-13T14:56:04.454Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: if other side is expecting RST","date":"2012-12-13T14:56:07.621Z","type":"message"}
{"nick":"indutny","message":"so it's graceful","date":"2012-12-13T14:56:51.295Z","type":"message"}
{"nick":"indutny","message":"only if both sides has agreed on it","date":"2012-12-13T14:56:59.997Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-12-13T14:57:01.536Z","type":"message"}
{"nick":"indutny","message":"otherwise it should be called dictatorial","date":"2012-12-13T14:57:16.507Z","type":"message"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2012-12-13T14:58:42.726Z","type":"quit"}
{"nick":"jmar777","date":"2012-12-13T14:59:10.821Z","type":"join"}
{"nick":"indutny","message":"isaacs: yt?","date":"2012-12-13T15:00:29.959Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-12-13T15:02:15.073Z","type":"quit"}
{"nick":"indutny","message":"hm...","date":"2012-12-13T15:06:34.056Z","type":"message"}
{"nick":"indutny","message":"why 24 core smartos machine can be slow...","date":"2012-12-13T15:06:40.858Z","type":"message"}
{"nick":"indutny","message":"as hell","date":"2012-12-13T15:06:42.525Z","type":"message"}
{"nick":"indutny","message":"it's like I can get more than 10% of CPU","date":"2012-12-13T15:07:11.882Z","type":"message"}
{"nick":"indutny","message":"does anyone know if there're some sort of quotes on them?","date":"2012-12-13T15:07:27.410Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: there can be but it usually manifests itself as your ssh session getting killed","date":"2012-12-13T15:10:25.405Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-12-13T15:10:36.180Z","type":"message"}
{"nick":"bnoordhuis","message":"IME anyway","date":"2012-12-13T15:10:36.602Z","type":"message"}
{"nick":"indutny","message":"nice","date":"2012-12-13T15:10:37.308Z","type":"message"}
{"nick":"indutny","message":"that's what I call \"graceful\"","date":"2012-12-13T15:11:02.615Z","type":"message"}
{"nick":"bnoordhuis","message":"hah","date":"2012-12-13T15:11:05.731Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2012-12-13T15:11:23.524Z","type":"message"}
{"nick":"indutny","message":"load average is 16","date":"2012-12-13T15:11:30.967Z","type":"message"}
{"nick":"indutny","message":"but rps is much lower than on ubuntu","date":"2012-12-13T15:11:54.593Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-12-13T15:12:43.438Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-12-13T15:13:13.944Z","type":"join"}
{"nick":"peterrs","message":"ircretary, tell TooTallNate got pseudo terminals working on windows: http://imgur.com/Ksy7w,BgR8u http://imgur.com/Ksy7w,BgR8u#1","date":"2012-12-13T15:17:55.961Z","type":"message"}
{"nick":"ircretary","message":"peterrs: I'll be sure to tell tootallnate","date":"2012-12-13T15:17:56.508Z","type":"message"}
{"nick":"roxlu","message":"it seems my shutdown isn't called, I've got this basic setup: https://gist.github.com/aeb1b70da52f60082c5b ","date":"2012-12-13T15:19:42.153Z","type":"message"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2012-12-13T15:20:44.169Z","type":"quit"}
{"nick":"piscisaureus_","message":"peterrs: what technology are you using? scraping?","date":"2012-12-13T15:21:08.588Z","type":"message"}
{"nick":"stagas","date":"2012-12-13T15:21:15.620Z","type":"join"}
{"nick":"peterrs","message":"piscisaureus_, scraping (winpty)","date":"2012-12-13T15:21:32.671Z","type":"message"}
{"nick":"roxlu","message":"I'm using the correct calls right?","date":"2012-12-13T15:21:36.737Z","type":"message"}
{"nick":"EhevuTov_","date":"2012-12-13T15:23:06.118Z","type":"join"}
{"nick":"EhevuTov","reason":"Ping timeout: 252 seconds","date":"2012-12-13T15:23:16.486Z","type":"quit"}
{"nick":"bnoordhuis","message":"roxlu: you call uv_shutdown() from your read_cb when status=01","date":"2012-12-13T15:23:57.707Z","type":"message"}
{"nick":"bnoordhuis","message":"*status=-1","date":"2012-12-13T15:24:01.242Z","type":"message"}
{"nick":"felixge","date":"2012-12-13T15:24:03.709Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2012-12-13T15:24:03.709Z","type":"quit"}
{"nick":"bnoordhuis","message":"(bloody keyboard)","date":"2012-12-13T15:24:07.258Z","type":"message"}
{"nick":"bnoordhuis","message":"but by that time the other end has already gone away","date":"2012-12-13T15:24:30.059Z","type":"message"}
{"nick":"EhevuTov__","date":"2012-12-13T15:25:11.141Z","type":"join"}
{"nick":"roxlu","message":"bnoordhuis: thanks, do you mean when nread == -1? I'm doing that now... but my shutdown callback isn't called ","date":"2012-12-13T15:26:16.582Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: see, ben agrees with me","date":"2012-12-13T15:26:58.633Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i do? only by accident then :)","date":"2012-12-13T15:27:35.784Z","type":"message"}
{"nick":"EhevuTov_","reason":"Ping timeout: 255 seconds","date":"2012-12-13T15:28:08.708Z","type":"quit"}
{"nick":"bnoordhuis","message":"roxlu: sorry, my answer is somewhat incomplete","date":"2012-12-13T15:28:23.106Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: if status == -1 and uv_last_error(loop).code == UV_EOF, there's no point in calling uv_shutdown()","date":"2012-12-13T15:28:43.983Z","type":"message"}
{"nick":"roxlu","message":"ok","date":"2012-12-13T15:29:06.516Z","type":"message"}
{"nick":"roxlu","message":"but still when I free the related uv_tcp_t I get a segfault","date":"2012-12-13T15:29:21.918Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yes, coincidence","date":"2012-12-13T15:30:21.725Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: it's probably not it but you call delete when e.g. uv_accept() returns -1","date":"2012-12-13T15:30:28.307Z","type":"message"}
{"nick":"bnoordhuis","message":"that's bad, you still need to call uv_close() on the handle first","date":"2012-12-13T15:30:41.705Z","type":"message"}
{"nick":"roxlu","message":"hmm","date":"2012-12-13T15:30:54.359Z","type":"message"}
{"nick":"EhevuTov","date":"2012-12-13T15:31:05.885Z","type":"join"}
{"nick":"roxlu","message":"so, when uv_last_error(loop).code == UV_EOF, I can call uv_close() and in the callback I can delete my reference?","date":"2012-12-13T15:31:24.940Z","type":"message"}
{"nick":"indutny","message":"ok, it seems that ssl is ultimately slow on that smartos machine...","date":"2012-12-13T15:31:30.653Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: ABC: Always Be Closing","date":"2012-12-13T15:31:33.308Z","type":"message"}
{"nick":"bnoordhuis","message":"(i'm perverting sales droid speech here)","date":"2012-12-13T15:31:52.067Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: re UV_EOF, yes","date":"2012-12-13T15:32:08.450Z","type":"message"}
{"nick":"EhevuTov__","reason":"Ping timeout: 264 seconds","date":"2012-12-13T15:33:12.414Z","type":"quit"}
{"nick":"indutny","action":"sales_droid","date":"2012-12-13T15:33:25.062Z","type":"action"}
{"nick":"indutny","message":"oh","date":"2012-12-13T15:33:30.074Z","type":"message"}
{"nick":"indutny","message":"not this","date":"2012-12-13T15:33:30.944Z","type":"message"}
{"nick":"indutny","new_nick":"sales_droid","date":"2012-12-13T15:33:34.289Z","type":"nick"}
{"nick":"sales_droid","message":"this","date":"2012-12-13T15:33:35.084Z","type":"message"}
{"nick":"sales_droid","message":"my speech is ultimate","date":"2012-12-13T15:33:43.088Z","type":"message"}
{"nick":"roxlu","message":"bnoordhuis: so like this: https://gist.github.com/aeb1b70da52f60082c5b (line 34)","date":"2012-12-13T15:33:52.537Z","type":"message"}
{"nick":"sales_droid","message":"all hail to the sales droid","date":"2012-12-13T15:33:54.131Z","type":"message"}
{"nick":"sales_droid","message":"roxlu: you've library called potator?","date":"2012-12-13T15:34:14.011Z","type":"message"}
{"nick":"roxlu","message":"haha","date":"2012-12-13T15:34:22.025Z","type":"message"}
{"nick":"roxlu","message":"sales_droid: yes :)","date":"2012-12-13T15:34:34.391Z","type":"message"}
{"nick":"sales_droid","message":"i think it's winning libuv in my stupid names list","date":"2012-12-13T15:34:35.892Z","type":"message"}
{"nick":"sales_droid","message":"and it's now #1","date":"2012-12-13T15:34:41.438Z","type":"message"}
{"nick":"roxlu","message":"sales_droid: helping someone with a project which he called potator)","date":"2012-12-13T15:34:56.976Z","type":"message"}
{"nick":"roxlu","message":"awesome","date":"2012-12-13T15:35:09.841Z","type":"message"}
{"nick":"sales_droid","new_nick":"indutny","date":"2012-12-13T15:35:16.988Z","type":"nick"}
{"nick":"indutny","message":"roxlu: I think it's too late to help him :)","date":"2012-12-13T15:35:24.618Z","type":"message"}
{"nick":"indutny","message":"(just kidding)","date":"2012-12-13T15:35:28.930Z","type":"message"}
{"nick":"EhevuTov","reason":"Ping timeout: 248 seconds","date":"2012-12-13T15:35:48.737Z","type":"quit"}
{"nick":"roxlu","message":"I still a bit confused why my close callback isnt called here https://gist.github.com/aeb1b70da52f60082c5b ","date":"2012-12-13T15:36:04.176Z","type":"message"}
{"nick":"isaacs","message":"indutny: pong","date":"2012-12-13T15:36:16.031Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: lgtm at a quick glance","date":"2012-12-13T15:36:23.830Z","type":"message"}
{"nick":"EhevuTov","date":"2012-12-13T15:36:31.489Z","type":"join"}
{"nick":"indutny","message":"isaacs: I can't get more than 700 rps on that big smartos drone :(","date":"2012-12-13T15:36:41.091Z","type":"message"}
{"nick":"indutny","message":"isaacs: hi","date":"2012-12-13T15:36:42.750Z","type":"message"}
{"nick":"indutny","message":"isaacs: though I'm using siege... probably, ab will perform better.","date":"2012-12-13T15:37:04.109Z","type":"message"}
{"nick":"indutny","message":"but siege was much faster anywhere elase","date":"2012-12-13T15:37:10.803Z","type":"message"}
{"nick":"indutny","message":"s/elase/else","date":"2012-12-13T15:37:14.764Z","type":"message"}
{"nick":"isaacs","message":"indutny: that's weird","date":"2012-12-13T15:37:25.228Z","type":"message"}
{"nick":"indutny","message":"indeed it is","date":"2012-12-13T15:37:35.933Z","type":"message"}
{"nick":"roxlu","message":"indutny: when a client disconneccts, my after_write callback gets called all the time","date":"2012-12-13T15:39:09.525Z","type":"message"}
{"nick":"roxlu","message":"with status 0","date":"2012-12-13T15:39:15.698Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-12-13T15:39:23.317Z","type":"message"}
{"nick":"indutny","message":"well, that's expected :)","date":"2012-12-13T15:39:37.050Z","type":"message"}
{"nick":"indutny","message":"if you did writes","date":"2012-12-13T15:39:45.749Z","type":"message"}
{"nick":"indutny","message":"did you?","date":"2012-12-13T15:39:50.379Z","type":"message"}
{"nick":"roxlu","message":"no continuously, but I did a write yes","date":"2012-12-13T15:40:00.977Z","type":"message"}
{"nick":"roxlu","message":"I would expect one after_write callback for each uv_write","date":"2012-12-13T15:40:27.369Z","type":"message"}
{"nick":"indutny","message":"and you get more?","date":"2012-12-13T15:40:52.461Z","type":"message"}
{"nick":"roxlu","message":"yes it never stops till I stop the app","date":"2012-12-13T15:41:07.755Z","type":"message"}
{"nick":"indutny","message":"this looks like a bug to me","date":"2012-12-13T15:41:27.066Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2012-12-13T15:41:31.041Z","type":"message"}
{"nick":"bnoordhuis","message":"reduced test case please","date":"2012-12-13T15:42:07.992Z","type":"message"}
{"nick":"roxlu","message":"yes, thinking how I can make that quickl","date":"2012-12-13T15:42:34.656Z","type":"message"}
{"nick":"bnoordhuis","message":"s","date":"2012-12-13T15:43:57.419Z","type":"message"}
{"nick":"bnoordhuis","message":"(wrong window)","date":"2012-12-13T15:44:05.590Z","type":"message"}
{"nick":"isaacs","message":"call in 0:14 (bnoordhuis, piscisaureus_, sblom, TooTallNate, indutny)","date":"2012-12-13T15:44:45.347Z","type":"message"}
{"nick":"indutny","message":"oh call","date":"2012-12-13T15:44:52.029Z","type":"message"}
{"nick":"bnoordhuis","message":"aye aye","date":"2012-12-13T15:44:59.963Z","type":"message"}
{"nick":"roxlu","message":"I'll try to find where it crashes first; making a clean test case may take some time","date":"2012-12-13T15:45:18.758Z","type":"message"}
{"nick":"roxlu","message":"but this is a gdb bt, https://gist.github.com/6a187b09de13c3055878 ","date":"2012-12-13T15:45:30.280Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: are you sure you're not clobbering memory somewhere?","date":"2012-12-13T15:47:18.946Z","type":"message"}
{"nick":"roxlu","message":"bnoordhuis: I get that crash when I delete/free the uv_tcp_t of the closed connection","date":"2012-12-13T15:47:53.286Z","type":"message"}
{"nick":"warz","date":"2012-12-13T15:48:03.048Z","type":"join"}
{"nick":"warz","reason":"Changing host","date":"2012-12-13T15:48:03.048Z","type":"quit"}
{"nick":"warz","date":"2012-12-13T15:48:03.048Z","type":"join"}
{"nick":"roxlu","message":"when I don't delete/free it,  it doesn't crash, but it means that I'm leaking memory there","date":"2012-12-13T15:48:30.373Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/libuv/commit/87c8cf1 <- i'd expect that test case to fail if your description of the issue is correct, but it doesn't","date":"2012-12-13T15:49:07.308Z","type":"message"}
{"nick":"roxlu","message":"oh hang on... do I need to create a uv_write_t for each client connection? ","date":"2012-12-13T15:50:05.788Z","type":"message"}
{"nick":"peterrs","reason":"Remote host closed the connection","date":"2012-12-13T15:51:45.558Z","type":"quit"}
{"nick":"bnoordhuis","message":"roxlu: yes, you can't share it concurrently","date":"2012-12-13T15:51:47.439Z","type":"message"}
{"nick":"roxlu","message":"ok","date":"2012-12-13T15:51:58.736Z","type":"message"}
{"nick":"roxlu","message":"that might b eit","date":"2012-12-13T15:52:01.263Z","type":"message"}
{"nick":"roxlu","message":"be it","date":"2012-12-13T15:52:03.593Z","type":"message"}
{"nick":"roxlu","message":"that wasn't it","date":"2012-12-13T15:59:09.831Z","type":"message"}
{"nick":"roxlu","message":"I am running doing uv_run() in a thread I spawned","date":"2012-12-13T15:59:28.890Z","type":"message"}
{"nick":"roxlu","message":"do i need to create a new loop or can I use the default one?","date":"2012-12-13T15:59:45.519Z","type":"message"}

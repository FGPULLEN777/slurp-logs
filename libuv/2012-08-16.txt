{"nick":"isaacs","message":"ugh.","date":"2012-08-16T00:00:40.913Z","type":"message"}
{"nick":"isaacs","message":"um... i don't know if there is a 64-bit gdb in pkgin..","date":"2012-08-16T00:00:51.389Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm building one now","date":"2012-08-16T00:01:09.659Z","type":"message"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2012-08-16T00:01:48.545Z","type":"quit"}
{"nick":"mikeal","date":"2012-08-16T00:02:45.804Z","type":"join"}
{"nick":"bnoordhuis","message":"Starting program: /home/isaacs/node/out/Release/node test/simple/test-os.js","date":"2012-08-16T00:03:36.395Z","type":"message"}
{"nick":"bnoordhuis","message":"procfs:4200 -- process not stopped.","date":"2012-08-16T00:03:36.591Z","type":"message"}
{"nick":"bnoordhuis","message":"procfs: ...giving up...","date":"2012-08-16T00:03:36.591Z","type":"message"}
{"nick":"bnoordhuis","message":"grr","date":"2012-08-16T00:03:37.845Z","type":"message"}
{"nick":"isaacs","message":"dap: ping","date":"2012-08-16T00:03:59.515Z","type":"message"}
{"nick":"dap","message":"Yo.","date":"2012-08-16T00:04:06.265Z","type":"message"}
{"nick":"isaacs","message":"dap: do you have any insight into the test failure mentioned above?","date":"2012-08-16T00:04:42.905Z","type":"message"}
{"nick":"isaacs","message":"https://gist.github.com/3364751","date":"2012-08-16T00:04:50.849Z","type":"message"}
{"nick":"dap","message":"None offhand. I have no idea what part of the universe this is, but I'll take a look.","date":"2012-08-16T00:05:19.613Z","type":"message"}
{"nick":"isaacs","message":"dap: i think you have access to 165.225.128.184","date":"2012-08-16T00:05:38.525Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i'm testing on 0.8.6.  if it's the same there, i say we go forward with the release.","date":"2012-08-16T00:05:56.564Z","type":"message"}
{"nick":"isaacs","message":"and fix for 0.8.8","date":"2012-08-16T00:06:02.086Z","type":"message"}
{"nick":"bnoordhuis","message":"good idea","date":"2012-08-16T00:06:08.145Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: yay/nay?","date":"2012-08-16T00:06:08.334Z","type":"message"}
{"nick":"isaacs","message":"k.","date":"2012-08-16T00:06:10.918Z","type":"message"}
{"nick":"bnoordhuis","message":"so that's a yay :)","date":"2012-08-16T00:06:13.935Z","type":"message"}
{"nick":"isaacs","message":"if it's a regression, i'd rather wait on it","date":"2012-08-16T00:06:21.887Z","type":"message"}
{"nick":"isaacs","message":"but no one's really complaining loudly now.","date":"2012-08-16T00:06:33.964Z","type":"message"}
{"nick":"isaacs","message":"probably because smartos builds x86 by default :)","date":"2012-08-16T00:06:42.505Z","type":"message"}
{"nick":"dap","message":"isaacs: can you point me to the version of deps/uv/src/unix/sunos.c under test?","date":"2012-08-16T00:07:32.631Z","type":"message"}
{"nick":"isaacs","message":"dap: https://github.com/joyent/node/blob/v0.8.7-release/deps/uv/src/unix/sunos.c","date":"2012-08-16T00:08:16.418Z","type":"message"}
{"nick":"xaq","reason":"Ping timeout: 248 seconds","date":"2012-08-16T00:09:16.716Z","type":"quit"}
{"nick":"dap","message":"There's nothing obvious. This interface doesn't look to have changed in our platform, and the relevant kstat is there...","date":"2012-08-16T00:10:09.690Z","type":"message"}
{"nick":"dap","message":"How soon will you know if it's a regression?","date":"2012-08-16T00:10:39.253Z","type":"message"}
{"nick":"bnoordhuis","message":"dap: it's not, it's because it's a 64 bits build now","date":"2012-08-16T00:12:01.354Z","type":"message"}
{"nick":"bnoordhuis","message":"in the 32 bits version that field is a KSTAT_DATA_INT32","date":"2012-08-16T00:12:20.411Z","type":"message"}
{"nick":"dap","message":"What do you mean? We've built 64-bit node before on SmartOS","date":"2012-08-16T00:12:33.096Z","type":"message"}
{"nick":"bnoordhuis","message":"and run all the tests?","date":"2012-08-16T00:12:45.545Z","type":"message"}
{"nick":"dap","message":"No, though I suspect you'd hit this by just calling os.cpus()","date":"2012-08-16T00:12:58.830Z","type":"message"}
{"nick":"dap","message":"My point is, you're not adding 64-bit support for the first time in this release, are you?","date":"2012-08-16T00:13:14.527Z","type":"message"}
{"nick":"dap","message":"My question is whether 64-bit node on the previous release segfaulted in this test.","date":"2012-08-16T00:13:50.272Z","type":"message"}
{"nick":"isaacs","message":"dap: well, i don't typically run the tests against 64-bit build","date":"2012-08-16T00:14:26.449Z","type":"message"}
{"nick":"isaacs","message":"dap: since it defaults to 32","date":"2012-08-16T00:14:32.826Z","type":"message"}
{"nick":"bnoordhuis","message":"i've never built a 64 bits build of node before","date":"2012-08-16T00:14:35.192Z","type":"message"}
{"nick":"bnoordhuis","message":"(on sunos that is)","date":"2012-08-16T00:14:45.199Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a KSTAT_DATA_INT64 btw","date":"2012-08-16T00:14:53.601Z","type":"message"}
{"nick":"bnoordhuis","message":"easy to fix","date":"2012-08-16T00:15:01.616Z","type":"message"}
{"nick":"isaacs","message":"oh, wtf...","date":"2012-08-16T00:15:18.085Z","type":"message"}
{"nick":"isaacs","message":"on 0.8.6 $ file node","date":"2012-08-16T00:15:22.531Z","type":"message"}
{"nick":"isaacs","message":"node:           ELF 32-bit LSB executable 80386 Version 1 [FPU], dynamically linked, not stripped","date":"2012-08-16T00:15:24.941Z","type":"message"}
{"nick":"isaacs","message":"that's after DESTCPU=x64 make -j32","date":"2012-08-16T00:15:34.398Z","type":"message"}
{"nick":"dap","message":"Okay. Then I'll back up: what's the question for me? :)","date":"2012-08-16T00:15:34.597Z","type":"message"}
{"nick":"dap","message":"isaacs: I thought it was \"./configure â€”dest-cpu=x64\"? That did the right thing for me on master the other day.","date":"2012-08-16T00:15:59.514Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that","date":"2012-08-16T00:16:16.679Z","type":"message"}
{"nick":"isaacs","message":"oh, right, the DESTCPU env is only for `make binary`","date":"2012-08-16T00:16:43.304Z","type":"message"}
{"nick":"bnoordhuis","message":"https://gist.github.com/7c33bd855c9248ec0fab <- patch","date":"2012-08-16T00:17:01.445Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess we could check INT32 || INT64","date":"2012-08-16T00:17:56.068Z","type":"message"}
{"nick":"isaacs","message":"not a regression","date":"2012-08-16T00:18:30.754Z","type":"message"}
{"nick":"isaacs","message":"same in every 0.8","date":"2012-08-16T00:18:34.723Z","type":"message"}
{"nick":"isaacs","message":"i'm moving forward.","date":"2012-08-16T00:18:38.865Z","type":"message"}
{"nick":"bnoordhuis","message":"and i'm moving to the kitchen for a late night snack","date":"2012-08-16T00:18:51.981Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: :D","date":"2012-08-16T00:18:56.736Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-08-16T00:19:16.098Z","type":"quit"}
{"nick":"isaacs","message":"dap: thanks, turns out it was a false alarm","date":"2012-08-16T00:19:28.451Z","type":"message"}
{"nick":"isaacs","message":"just a garden variety bug.","date":"2012-08-16T00:19:34.150Z","type":"message"}
{"nick":"dap","message":"no prob","date":"2012-08-16T00:19:39.840Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-16T00:22:34.682Z","type":"quit"}
{"nick":"tjfontaine","message":"and ya when mmalecki reported it earlier he said commenting out os.cpus did fix it for him","date":"2012-08-16T00:26:00.798Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u0002073c7b4\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on 0.8.8 (+5 more commits...) - http://git.io/njZooQ","date":"2012-08-16T00:26:45.134Z","type":"message"}
{"nick":"isaacs","message":"probably it just showed up now because it's easy to install x64 node on smartos, becasue you justunpack the tarball","date":"2012-08-16T00:27:20.269Z","type":"message"}
{"nick":"isaacs","message":"before you had to do ./configure flag stuff","date":"2012-08-16T00:27:26.376Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2012-08-16T00:27:44.927Z","type":"message"}
{"nick":"isaacs","topic":"Liberia. Uzbekistan. Velociraptors.  http://piscisaureus.no.de/libuv/latest","date":"2012-08-16T00:31:36.091Z","type":"topic"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-08-16T00:31:36.316Z","type":"quit"}
{"nick":"TooTallNate","message":"bnoordhuis: patch seems to work","date":"2012-08-16T00:31:39.742Z","type":"message"}
{"nick":"TooTallNate","message":"os.cpus().length => 24","date":"2012-08-16T00:31:48.590Z","type":"message"}
{"nick":"TooTallNate","message":"^ holy moly!","date":"2012-08-16T00:31:51.655Z","type":"message"}
{"nick":"mikeal","date":"2012-08-16T00:32:01.399Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: your patch lgtm.  (should go in libuv, obviously)","date":"2012-08-16T00:34:16.175Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u0002c0558ff\u000f \u000310\u000f/ doc/pipe.css \u0002:\u000f website: fix font-size on 'explore' list items - http://git.io/j5hmvA","date":"2012-08-16T00:34:34.584Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-08-16T00:43:21.580Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-08-16T00:44:50.124Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-08-16T00:47:42.412Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: i'll land it tomorrow","date":"2012-08-16T00:55:58.449Z","type":"message"}
{"nick":"bnoordhuis","message":"off to bed now","date":"2012-08-16T00:56:03.269Z","type":"message"}
{"nick":"dap","date":"2012-08-16T01:01:35.654Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 265 seconds","date":"2012-08-16T01:01:47.494Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: https://github.com/TooTallNate/node/commit/fix%2Femail-footer-links","date":"2012-08-16T01:08:07.278Z","type":"message"}
{"nick":"TooTallNate","message":"whoops :p","date":"2012-08-16T01:08:22.353Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-08-16T01:10:10.273Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-08-16T01:11:52.894Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-08-16T01:13:16.734Z","type":"quit"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307v0.8\u000f * r\u0002f9df96b\u000f \u000310\u000f/ tools/email-footer.md \u0002:\u000f email-footer: update the binary package links to x86/x64 - http://git.io/xgR06Q","date":"2012-08-16T01:15:54.591Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-08-16T01:39:12.324Z","type":"quit"}
{"nick":"TheJH","reason":"Read error: Operation timed out","date":"2012-08-16T01:46:16.266Z","type":"quit"}
{"nick":"lohkey","date":"2012-08-16T01:46:34.468Z","type":"part"}
{"nick":"isaacs","message":"TooTallNate: oh, my bad.","date":"2012-08-16T01:54:01.635Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: didn't notice that","date":"2012-08-16T01:55:05.275Z","type":"message"}
{"nick":"abraxas","date":"2012-08-16T01:55:28.217Z","type":"join"}
{"nick":"TooTallNate","message":"TooTallNate: ya my bad really, i should have got that with the Makefile update","date":"2012-08-16T01:55:31.152Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u0002226d37b\u000f \u000310\u000f/ doc/blog/release/v0.8.7.md \u0002:\u000f blog: Fix binary links for 0.8.7 post - http://git.io/Kfh-Lg","date":"2012-08-16T01:59:24.858Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-08-16T02:00:53.390Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2012-08-16T02:06:57.432Z","type":"quit"}
{"nick":"blackorzar","reason":"Ping timeout: 246 seconds","date":"2012-08-16T02:22:00.452Z","type":"quit"}
{"nick":"perezd","date":"2012-08-16T02:23:31.886Z","type":"join"}
{"nick":"blackorzar","date":"2012-08-16T02:39:54.868Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Leaving...","date":"2012-08-16T02:40:03.216Z","type":"quit"}
{"nick":"brson","date":"2012-08-16T02:49:58.803Z","type":"join"}
{"nick":"brson","reason":"Client Quit","date":"2012-08-16T02:50:10.776Z","type":"quit"}
{"nick":"brson","date":"2012-08-16T02:50:46.416Z","type":"join"}
{"nick":"hz","date":"2012-08-16T02:56:27.956Z","type":"quit"}
{"nick":"indexzero","date":"2012-08-16T03:18:35.126Z","type":"join"}
{"nick":"TooTallNate","date":"2012-08-16T03:18:37.901Z","type":"join"}
{"nick":"Raynos","reason":"Excess Flood","date":"2012-08-16T03:19:21.766Z","type":"quit"}
{"nick":"Raynos","date":"2012-08-16T03:20:34.124Z","type":"join"}
{"nick":"creationix","reason":"*.net *.split","date":"2012-08-16T03:29:56.871Z","type":"quit"}
{"nick":"creationix","date":"2012-08-16T03:35:03.927Z","type":"join"}
{"nick":"joshthecoder","date":"2012-08-16T03:42:03.788Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-08-16T03:51:05.453Z","type":"quit"}
{"nick":"lohkey","date":"2012-08-16T03:53:29.012Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-08-16T03:56:14.268Z","type":"quit"}
{"nick":"lohkey","reason":"Quit: lohkey","date":"2012-08-16T04:09:02.858Z","type":"quit"}
{"nick":"blackorzar","reason":"Read error: Connection reset by peer","date":"2012-08-16T05:28:16.905Z","type":"quit"}
{"nick":"blackorzar_","date":"2012-08-16T05:31:20.359Z","type":"join"}
{"nick":"loladiro","date":"2012-08-16T05:35:31.949Z","type":"join"}
{"nick":"mikeal","date":"2012-08-16T05:36:58.798Z","type":"join"}
{"nick":"mmalecki","date":"2012-08-16T05:37:02.062Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-08-16T05:37:56.555Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-16T05:42:30.678Z","type":"quit"}
{"nick":"loladiro","date":"2012-08-16T05:47:59.362Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-08-16T05:51:36.404Z","type":"quit"}
{"nick":"bulatshakirzyano","date":"2012-08-16T06:00:45.093Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2012-08-16T06:01:09.959Z","type":"quit"}
{"nick":"brson","date":"2012-08-16T06:01:37.382Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2012-08-16T06:05:47.377Z","type":"quit"}
{"nick":"brson","date":"2012-08-16T06:18:21.362Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-08-16T06:30:11.047Z","type":"quit"}
{"nick":"mikeal","date":"2012-08-16T06:35:47.371Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-08-16T06:38:38.156Z","type":"quit"}
{"nick":"bulatshakirzyano","reason":"Quit: Computer has gone to sleep.","date":"2012-08-16T06:40:56.881Z","type":"quit"}
{"nick":"blackorzar","date":"2012-08-16T06:47:13.381Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-08-16T06:47:22.823Z","type":"quit"}
{"nick":"bulatshakirzyano","date":"2012-08-16T06:47:50.344Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-08-16T06:49:02.309Z","type":"quit"}
{"nick":"blackorzar_","reason":"Ping timeout: 246 seconds","date":"2012-08-16T06:49:45.381Z","type":"quit"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-08-16T07:05:32.222Z","type":"quit"}
{"nick":"rendar","date":"2012-08-16T07:11:29.381Z","type":"join"}
{"nick":"mikeal","date":"2012-08-16T07:17:33.320Z","type":"join"}
{"nick":"bulatshakirzyano","reason":"Quit: Computer has gone to sleep.","date":"2012-08-16T07:26:29.935Z","type":"quit"}
{"nick":"pooya","date":"2012-08-16T07:43:30.266Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-08-16T07:55:10.514Z","type":"quit"}
{"nick":"ircretary","reason":"Ping timeout: 248 seconds","date":"2012-08-16T07:57:32.605Z","type":"quit"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-08-16T07:58:59.897Z","type":"nick"}
{"nick":"bweaver","reason":"Ping timeout: 246 seconds","date":"2012-08-16T08:01:51.391Z","type":"quit"}
{"nick":"bweaver","date":"2012-08-16T08:02:08.022Z","type":"join"}
{"nick":"bweaver","reason":"Changing host","date":"2012-08-16T08:02:08.219Z","type":"quit"}
{"nick":"bweaver","date":"2012-08-16T08:02:08.219Z","type":"join"}
{"nick":"toothrot","reason":"Ping timeout: 272 seconds","date":"2012-08-16T08:02:38.586Z","type":"quit"}
{"nick":"toothr","date":"2012-08-16T08:03:17.923Z","type":"join"}
{"nick":"blackorzar","reason":"Ping timeout: 246 seconds","date":"2012-08-16T08:08:09.356Z","type":"quit"}
{"nick":"TheJH","date":"2012-08-16T08:33:47.448Z","type":"join"}
{"nick":"loladiro","date":"2012-08-16T08:42:04.405Z","type":"join"}
{"nick":"dshaw_","date":"2012-08-16T08:44:16.745Z","type":"join"}
{"nick":"dshaw_","reason":"Ping timeout: 244 seconds","date":"2012-08-16T09:14:35.840Z","type":"quit"}
{"nick":"dshaw_","date":"2012-08-16T09:17:25.120Z","type":"join"}
{"nick":"hz","date":"2012-08-16T10:21:06.539Z","type":"join"}
{"nick":"mitsuhiko","message":"hey dudes","date":"2012-08-16T11:18:54.617Z","type":"message"}
{"nick":"mitsuhiko","message":"does anyone know if anyone has an secret ports of libuv for xbox 360?","date":"2012-08-16T11:19:10.987Z","type":"message"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-08-16T11:27:13.663Z","type":"nick"}
{"nick":"bnoordhuis","date":"2012-08-16T11:33:53.826Z","type":"join"}
{"nick":"mmalecki","message":"mitsuhiko: doesn't C work on xbox?","date":"2012-08-16T11:34:13.325Z","type":"message"}
{"nick":"mmalecki","message":"(might be a stupid question)","date":"2012-08-16T11:34:21.893Z","type":"message"}
{"nick":"stagas","date":"2012-08-16T11:38:51.390Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: hey man","date":"2012-08-16T11:39:38.473Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: do you have alsa installed?","date":"2012-08-16T11:39:43.916Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: ho man","date":"2012-08-16T11:39:45.826Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-08-16T11:39:50.925Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't have to make vock calls though :)","date":"2012-08-16T11:40:06.612Z","type":"message"}
{"nick":"bnoordhuis","message":"*have time","date":"2012-08-16T11:40:10.992Z","type":"message"}
{"nick":"indutny","message":"hahaa","date":"2012-08-16T11:40:28.678Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-16T11:40:30.575Z","type":"message"}
{"nick":"indutny","message":"it isn't working anyway","date":"2012-08-16T11:40:35.405Z","type":"message"}
{"nick":"indutny","message":"have you ever used ALSA's API?","date":"2012-08-16T11:40:41.079Z","type":"message"}
{"nick":"mmalecki","message":"indutny: if I don't get too deep into devops I might be able to help later","date":"2012-08-16T11:42:05.484Z","type":"message"}
{"nick":"bnoordhuis","message":"unfortunately yes","date":"2012-08-16T11:42:06.013Z","type":"message"}
{"nick":"mmalecki","message":"my battlestation runs linux","date":"2012-08-16T11:42:11.508Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I've some crappy results","date":"2012-08-16T11:42:19.489Z","type":"message"}
{"nick":"indutny","message":"at least now","date":"2012-08-16T11:42:24.016Z","type":"message"}
{"nick":"indutny","message":"it works, but sound is really crappy","date":"2012-08-16T11:42:32.429Z","type":"message"}
{"nick":"bnoordhuis","message":"that's to be expected - alsa has a crappy api","date":"2012-08-16T11:42:34.193Z","type":"message"}
{"nick":"indutny","message":"and I'm running it in virtualbox","date":"2012-08-16T11:42:46.550Z","type":"message"}
{"nick":"bnoordhuis","message":"crappy as in stuttering?","date":"2012-08-16T11:42:47.067Z","type":"message"}
{"nick":"indutny","message":"sort of","date":"2012-08-16T11:43:01.752Z","type":"message"}
{"nick":"bnoordhuis","message":"you should probably run it on real hardware","date":"2012-08-16T11:43:19.680Z","type":"message"}
{"nick":"mmalecki","message":"indutny: sound in virtualbox is crappy","date":"2012-08-16T11:43:59.942Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-08-16T11:44:52.734Z","type":"message"}
{"nick":"indutny","message":"that's why I'm asking","date":"2012-08-16T11:44:57.050Z","type":"message"}
{"nick":"indutny","message":"I have only two macbooks around me","date":"2012-08-16T11:45:03.106Z","type":"message"}
{"nick":"indutny","message":"if one of you will have time","date":"2012-08-16T11:45:18.115Z","type":"message"}
{"nick":"indutny","message":"you can just clone repo","date":"2012-08-16T11:45:21.915Z","type":"message"}
{"nick":"indutny","message":"run node-gyp build","date":"2012-08-16T11:45:24.676Z","type":"message"}
{"nick":"indutny","message":"and node examples/echo.js","date":"2012-08-16T11:45:28.354Z","type":"message"}
{"nick":"indutny","message":"no calls","date":"2012-08-16T11:45:35.402Z","type":"message"}
{"nick":"indutny","message":"and this is code if you're interested https://github.com/indutny/vock/blob/master/src/audio/platform/linux.cc","date":"2012-08-16T11:47:55.318Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2012-08-16T11:47:56.180Z","type":"message"}
{"nick":"bnoordhuis","message":"noted","date":"2012-08-16T11:48:10.806Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2012-08-16T11:48:35.663Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ok, time to node something :)","date":"2012-08-16T11:48:42.805Z","type":"message"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-08-16T11:51:55.900Z","type":"quit"}
{"nick":"TheJH","reason":"Ping timeout: 265 seconds","date":"2012-08-16T11:52:50.503Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-16T11:53:42.204Z","type":"quit"}
{"nick":"philips_","date":"2012-08-16T11:54:01.980Z","type":"join"}
{"nick":"mitsuhiko","message":"mmalecki: yes, it does","date":"2012-08-16T12:00:56.923Z","type":"message"}
{"nick":"indutny","message":"so that kqueue stuff","date":"2012-08-16T12:00:57.122Z","type":"message"}
{"nick":"mitsuhiko","message":"mmalecki: but it has a different io api than windows does","date":"2012-08-16T12:01:14.292Z","type":"message"}
{"nick":"mmalecki","message":"oh well, microsoft, eh","date":"2012-08-16T12:02:26.463Z","type":"message"}
{"nick":"mitsuhiko","message":"and you can't do arbitrary network things, so areas does not work","date":"2012-08-16T12:02:27.776Z","type":"message"}
{"nick":"mitsuhiko","message":"everything makes perfectly sense though :)","date":"2012-08-16T12:02:40.857Z","type":"message"}
{"nick":"loladiro","date":"2012-08-16T12:04:41.378Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: what about it?","date":"2012-08-16T12:11:22.952Z","type":"message"}
{"nick":"indutny","message":"nothing","date":"2012-08-16T12:12:18.435Z","type":"message"}
{"nick":"indutny","message":"just working on it","date":"2012-08-16T12:12:21.765Z","type":"message"}
{"nick":"indutny","message":"going to select on failed sockets in separate thread","date":"2012-08-16T12:12:30.783Z","type":"message"}
{"nick":"indutny","message":"by creating shadow sockets for them","date":"2012-08-16T12:12:41.181Z","type":"message"}
{"nick":"indutny","message":"and kqueueing on them","date":"2012-08-16T12:12:47.092Z","type":"message"}
{"nick":"indutny","message":"is it too complex?","date":"2012-08-16T12:12:58.350Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2012-08-16T12:14:46.675Z","type":"message"}
{"nick":"bnoordhuis","message":"\"shadow sockets\"... sounds spooky","date":"2012-08-16T12:15:05.942Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-08-16T12:15:09.751Z","type":"message"}
{"nick":"indutny","message":"the thing is that I need to break kevent() call somehow","date":"2012-08-16T12:15:25.331Z","type":"message"}
{"nick":"indutny","message":"and the simpliest way to do it - is to create event that'll terminate this call","date":"2012-08-16T12:15:46.398Z","type":"message"}
{"nick":"indutny","message":"though I can create just one socket for it","date":"2012-08-16T12:16:12.640Z","type":"message"}
{"nick":"bnoordhuis","message":"not sure i'm following, are you talking about a uv_async_t?","date":"2012-08-16T12:16:26.455Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2012-08-16T12:16:41.057Z","type":"message"}
{"nick":"bnoordhuis","message":"and what constitutes a failed socket?","date":"2012-08-16T12:16:42.956Z","type":"message"}
{"nick":"indutny","message":"s/socket/fd/","date":"2012-08-16T12:16:47.661Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean a /dev/tty fd?","date":"2012-08-16T12:16:52.251Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-08-16T12:16:54.659Z","type":"message"}
{"nick":"bnoordhuis","message":"ah okay","date":"2012-08-16T12:16:57.789Z","type":"message"}
{"nick":"mmalecki","message":"no education, it's broke and has no money for food","date":"2012-08-16T12:17:02.883Z","type":"message"}
{"nick":"indutny","message":"mmalecki: wrong window?","date":"2012-08-16T12:17:13.983Z","type":"message"}
{"nick":"mmalecki","message":"indutny: failed socket","date":"2012-08-16T12:17:21.320Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki was making a joke :)","date":"2012-08-16T12:17:22.352Z","type":"message"}
{"nick":"indutny","message":"mmalecki: ah","date":"2012-08-16T12:17:26.134Z","type":"message"}
{"nick":"mmalecki","message":"too early for me to be making those!","date":"2012-08-16T12:17:36.930Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: so, shadow fds :D","date":"2012-08-16T12:18:16.965Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: does this make sense for you?","date":"2012-08-16T12:18:23.326Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess","date":"2012-08-16T12:18:39.332Z","type":"message"}
{"nick":"bnoordhuis","message":"but i don't understand what 'is to create event that'll terminate this call' means","date":"2012-08-16T12:18:56.569Z","type":"message"}
{"nick":"bnoordhuis","message":"you want to select() on the tty fd in a separate thread?","date":"2012-08-16T12:19:28.278Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-08-16T12:19:39.115Z","type":"message"}
{"nick":"indutny","message":"my engrish iz wery spooky","date":"2012-08-16T12:19:49.292Z","type":"message"}
{"nick":"bnoordhuis","message":"and then wake up the main thread when something happens?","date":"2012-08-16T12:19:57.476Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-08-16T12:20:01.659Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2012-08-16T12:20:06.944Z","type":"message"}
{"nick":"bnoordhuis","message":"how are you going to detect if the fd is a tty fd?","date":"2012-08-16T12:20:18.419Z","type":"message"}
{"nick":"indutny","message":"if EINVAL happens :D","date":"2012-08-16T12:20:25.830Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather a /dev/tty fd","date":"2012-08-16T12:20:26.029Z","type":"message"}
{"nick":"indutny","message":"still I have no understanding on which fds it fails","date":"2012-08-16T12:20:47.172Z","type":"message"}
{"nick":"bnoordhuis","message":"what if there are 10K fds in the interest set?","date":"2012-08-16T12:20:49.607Z","type":"message"}
{"nick":"bnoordhuis","message":"are you going to iterate over them all?","date":"2012-08-16T12:21:03.583Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: huh?","date":"2012-08-16T12:21:16.067Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I'm going to select on them all","date":"2012-08-16T12:21:23.892Z","type":"message"}
{"nick":"indutny","message":"and yes, then iterate :D","date":"2012-08-16T12:21:28.738Z","type":"message"}
{"nick":"bnoordhuis","message":"on 10K fds?","date":"2012-08-16T12:21:34.342Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you have better idea?","date":"2012-08-16T12:21:50.189Z","type":"message"}
{"nick":"bnoordhuis","message":"well....","date":"2012-08-16T12:22:13.465Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: poll doesn't work too","date":"2012-08-16T12:22:14.941Z","type":"message"}
{"nick":"bnoordhuis","message":"i may not have a better idea but i'm still going to point out the flaws in your proposal :)","date":"2012-08-16T12:22:41.729Z","type":"message"}
{"nick":"bnoordhuis","message":"a) select() on 10K fds is really, really slow","date":"2012-08-16T12:22:51.981Z","type":"message"}
{"nick":"bnoordhuis","message":"b) it may not even work - FD_SETs usually have a limit on the number of fds they can contain","date":"2012-08-16T12:23:15.255Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-08-16T12:23:36.269Z","type":"message"}
{"nick":"bnoordhuis","message":"iow, not using kqueue/kevent is not an option","date":"2012-08-16T12:23:50.988Z","type":"message"}
{"nick":"indutny","message":"though there're _DARWIN_UNLIMITED_SELECT","date":"2012-08-16T12:23:54.110Z","type":"message"}
{"nick":"indutny","message":"define","date":"2012-08-16T12:23:55.306Z","type":"message"}
{"nick":"indutny","message":"well, it's broken","date":"2012-08-16T12:24:05.120Z","type":"message"}
{"nick":"indutny","message":"how can we use it","date":"2012-08-16T12:24:09.408Z","type":"message"}
{"nick":"indutny","message":"on those fds","date":"2012-08-16T12:24:13.203Z","type":"message"}
{"nick":"bnoordhuis","message":"make a note in the doc that /dev fds are not supported","date":"2012-08-16T12:24:20.970Z","type":"message"}
{"nick":"bnoordhuis","message":"if it's documented, it's not a bug :)","date":"2012-08-16T12:24:28.080Z","type":"message"}
{"nick":"indutny","message":"I suppose people opening 10k of /dev/ files are really f*cked","date":"2012-08-16T12:24:31.637Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-08-16T12:24:36.857Z","type":"message"}
{"nick":"indutny","message":"but it's needed","date":"2012-08-16T12:24:40.159Z","type":"message"}
{"nick":"indutny","message":"that's what this bug has raised ;)","date":"2012-08-16T12:24:59.651Z","type":"message"}
{"nick":"bnoordhuis","message":"where/when/by whom?","date":"2012-08-16T12:25:01.491Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/issues/3862","date":"2012-08-16T12:25:48.960Z","type":"message"}
{"nick":"indutny","message":"and https://github.com/joyent/node/issues/3072#issuecomment-6286233","date":"2012-08-16T12:25:56.096Z","type":"message"}
{"nick":"bnoordhuis","message":"i usually apply noordhuis's razor, a variation on occam's","date":"2012-08-16T12:26:04.267Z","type":"message"}
{"nick":"bnoordhuis","message":"\"do i need it myself?\"","date":"2012-08-16T12:26:08.428Z","type":"message"}
{"nick":"indutny","message":"well, it's useful","date":"2012-08-16T12:26:16.367Z","type":"message"}
{"nick":"indutny","message":"it allows users to start tty","date":"2012-08-16T12:26:24.335Z","type":"message"}
{"nick":"indutny","message":"even if stdin is not a tty","date":"2012-08-16T12:26:33.079Z","type":"message"}
{"nick":"indutny","message":"s/start/access/","date":"2012-08-16T12:26:39.270Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: let's go over this from the start","date":"2012-08-16T12:27:52.308Z","type":"message"}
{"nick":"bnoordhuis","message":"what i would suggest is that you add some darwin (and maybe *bsd) specific code to uv_tty_init","date":"2012-08-16T12:28:13.059Z","type":"message"}
{"nick":"bnoordhuis","message":"that does a fstat on the fd","date":"2012-08-16T12:28:24.317Z","type":"message"}
{"nick":"bnoordhuis","message":"if it's the kind of fd that won't work with kqueue, spin up a thread and take it from there","date":"2012-08-16T12:28:40.628Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: what do you mean by \"take it from there\"","date":"2012-08-16T12:29:28.810Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: select on it in another thread?","date":"2012-08-16T12:29:34.361Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yes","date":"2012-08-16T12:29:37.814Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: one thread for each fd?","date":"2012-08-16T12:29:45.242Z","type":"message"}
{"nick":"bnoordhuis","message":"sure, why not?","date":"2012-08-16T12:30:08.345Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-16T12:30:12.340Z","type":"message"}
{"nick":"indutny","message":"np","date":"2012-08-16T12:30:13.546Z","type":"message"}
{"nick":"indutny","message":"I'll need to have shadow fds anyway :D","date":"2012-08-16T12:30:20.085Z","type":"message"}
{"nick":"mmalecki","message":"10k threads?","date":"2012-08-16T12:30:23.091Z","type":"message"}
{"nick":"indutny","message":"mmalecki: that works","date":"2012-08-16T12:30:28.432Z","type":"message"}
{"nick":"indutny","message":"why not","date":"2012-08-16T12:30:29.305Z","type":"message"}
{"nick":"indutny","message":"if most of them are waiting :D","date":"2012-08-16T12:30:33.108Z","type":"message"}
{"nick":"bnoordhuis","message":"exactly","date":"2012-08-16T12:30:37.929Z","type":"message"}
{"nick":"bnoordhuis","message":"and if it does turn out to be a performance issue, we'll address it","date":"2012-08-16T12:30:46.612Z","type":"message"}
{"nick":"bnoordhuis","message":"simple first","date":"2012-08-16T12:30:48.173Z","type":"message"}
{"nick":"mmalecki","message":"well, overhead of creating them?","date":"2012-08-16T12:30:50.168Z","type":"message"}
{"nick":"mmalecki","message":"okay","date":"2012-08-16T12:30:54.087Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: how are you going to wake up the main thread?","date":"2012-08-16T12:31:00.627Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: shadow fd","date":"2012-08-16T12:31:06.323Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-08-16T12:31:06.840Z","type":"message"}
{"nick":"bnoordhuis","message":"(hint: uv_async_t)","date":"2012-08-16T12:31:08.945Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: this is a patch for ev","date":"2012-08-16T12:31:12.091Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i told you we're dropping libev, right?","date":"2012-08-16T12:31:28.597Z","type":"message"}
{"nick":"indutny","message":"em, I can't remember","date":"2012-08-16T12:31:37.051Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-16T12:31:41.202Z","type":"message"}
{"nick":"bnoordhuis","message":"well, i tell you now","date":"2012-08-16T12:31:43.254Z","type":"message"}
{"nick":"indutny","message":"patch for uv!","date":"2012-08-16T12:31:44.288Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-08-16T12:31:47.084Z","type":"message"}
{"nick":"bnoordhuis","message":"indeed :)","date":"2012-08-16T12:31:47.397Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-08-16T12:33:53.743Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: hm... I'll need to have kqueue() instance somewhere inside loop","date":"2012-08-16T12:43:09.574Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: will that break ABI compatibility?","date":"2012-08-16T12:43:19.114Z","type":"message"}
{"nick":"indutny","message":"ah, nvm","date":"2012-08-16T12:44:17.873Z","type":"message"}
{"nick":"indutny","message":"I can close kqueue() fd","date":"2012-08-16T12:44:21.356Z","type":"message"}
{"nick":"saghul","message":"hey indutny, did you consider using PortAudio? I'm not a big fan myself, but you'd potentially get cross-platform support quickly.","date":"2012-08-16T12:46:16.683Z","type":"message"}
{"nick":"CIA-112","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.8\u000f * r\u000222ce5a3\u000f \u000310\u000f/ src/unix/sunos.c \u0002:\u000f sunos: fix uv_cpu_info() on x86_64 - http://git.io/NqmElQ","date":"2012-08-16T12:46:36.146Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ++","date":"2012-08-16T12:46:44.077Z","type":"message"}
{"nick":"indutny","message":"saghul: if you'll contribute it ;)","date":"2012-08-16T12:48:22.747Z","type":"message"}
{"nick":"indutny","message":"saghul: I'm accepting patches","date":"2012-08-16T12:48:29.884Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-16T12:48:30.087Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#566 (v0.8 - 22ce5a3 : Ben Noordhuis): The build is still failing.","date":"2012-08-16T12:48:30.087Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/90a75b0d8485...22ce5a341222","date":"2012-08-16T12:48:30.087Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2141091","date":"2012-08-16T12:48:30.087Z","type":"message"}
{"nick":"travis-ci","date":"2012-08-16T12:48:30.088Z","type":"part"}
{"nick":"saghul","message":"indutny heh :-)","date":"2012-08-16T12:49:18.168Z","type":"message"}
{"nick":"indutny","message":"saghul: I'm really tired of working with that sound APIs","date":"2012-08-16T12:51:40.100Z","type":"message"}
{"nick":"indutny","message":"every other is more borked than previous","date":"2012-08-16T12:51:46.721Z","type":"message"}
{"nick":"saghul","message":"been there...","date":"2012-08-16T12:51:59.111Z","type":"message"}
{"nick":"indutny","message":"and CoreAudio seems to be working fine","date":"2012-08-16T12:52:00.710Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: mind adding uv_thread_cancel API?","date":"2012-08-16T12:53:39.833Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-08-16T12:53:45.540Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2012-08-16T12:53:46.586Z","type":"message"}
{"nick":"bnoordhuis","message":"oh dear","date":"2012-08-16T12:53:51.073Z","type":"message"}
{"nick":"bnoordhuis","message":"why are you asking that?","date":"2012-08-16T12:53:55.745Z","type":"message"}
{"nick":"indutny","message":"just asking","date":"2012-08-16T12:54:18.588Z","type":"message"}
{"nick":"indutny","message":"it's useful sometimes","date":"2012-08-16T12:54:21.560Z","type":"message"}
{"nick":"indutny","message":"though unsafe","date":"2012-08-16T12:54:26.821Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: would it be possible to add uv_waitpid or something like that?","date":"2012-08-16T12:54:29.864Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: *very* unsafe","date":"2012-08-16T12:54:42.229Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: why?","date":"2012-08-16T12:54:48.246Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: for the sake of mad science!","date":"2012-08-16T12:55:05.697Z","type":"message"}
{"nick":"mmalecki","message":"(also, child.wait() API would be pretty sweet)","date":"2012-08-16T12:55:16.746Z","type":"message"}
{"nick":"bnoordhuis","message":"i have grave misgivings about sync child process APIs","date":"2012-08-16T12:55:34.550Z","type":"message"}
{"nick":"theCole","date":"2012-08-16T12:55:39.381Z","type":"join"}
{"nick":"mmalecki","message":"bnoordhuis: let people shoot themselves in the foot :)","date":"2012-08-16T12:56:46.380Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-08-16T12:57:47.910Z","type":"join"}
{"nick":"piscisaureus_","message":"yo","date":"2012-08-16T12:58:33.083Z","type":"message"}
{"nick":"mmalecki","message":"oy","date":"2012-08-16T12:58:41.924Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 248 seconds","date":"2012-08-16T13:06:20.593Z","type":"quit"}
{"nick":"indutny","message":"yo","date":"2012-08-16T13:10:51.842Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: suppose I've uv_async_t associated to stream","date":"2012-08-16T13:21:44.668Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: how would I close it once stream will need to be closed?","date":"2012-08-16T13:22:07.887Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2012-08-16T13:22:29.605Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-08-16T13:22:30.124Z","type":"message"}
{"nick":"mitsuhiko","message":"thread limit per process on os x is 2048 btw","date":"2012-08-16T13:27:21.737Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/joyent/libuv/pull/528/files","date":"2012-08-16T13:28:08.178Z","type":"message"}
{"nick":"indutny","message":"wip","date":"2012-08-16T13:28:09.905Z","type":"message"}
{"nick":"indutny","message":"going to create some test case for it","date":"2012-08-16T13:28:24.272Z","type":"message"}
{"nick":"mitsuhiko","message":"sysctl: oid 'kern.num_taskthreads' is read only","date":"2012-08-16T13:30:10.376Z","type":"message"}
{"nick":"mitsuhiko","message":":-(","date":"2012-08-16T13:30:11.462Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-08-16T13:33:00.867Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I just realized that tcp fast open makes for very easy DOS attacks","date":"2012-08-16T13:33:34.768Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I mean, you can just spoof the sender IP and send an http header in the same packet.","date":"2012-08-16T13:33:57.296Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: the patch is good, except it's going nuts on stream close","date":"2012-08-16T13:36:53.232Z","type":"message"}
{"nick":"indutny","message":"ok. fixed","date":"2012-08-16T13:45:45.855Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-16T13:55:36.932Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-08-16T13:58:52.282Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: except it doesn't really work :D","date":"2012-08-16T14:06:48.642Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: though I've fixed issue","date":"2012-08-16T14:06:52.764Z","type":"message"}
{"nick":"indutny","message":"err","date":"2012-08-16T14:06:57.406Z","type":"message"}
{"nick":"indutny","message":"some issues","date":"2012-08-16T14:06:58.621Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: oh? what was the issue/issues?","date":"2012-08-16T14:07:02.938Z","type":"message"}
{"nick":"bnoordhuis","message":"note that i didn't test it on account of me not having a mac","date":"2012-08-16T14:07:17.248Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it doesn't work :D","date":"2012-08-16T14:07:17.947Z","type":"message"}
{"nick":"bnoordhuis","message":"oh that","date":"2012-08-16T14:07:25.695Z","type":"message"}
{"nick":"indutny","message":"well, first issue was following","date":"2012-08-16T14:07:30.322Z","type":"message"}
{"nick":"bnoordhuis","message":"as long as the source looks pretty","date":"2012-08-16T14:07:30.523Z","type":"message"}
{"nick":"indutny","message":"fd wasn't assigned for watchers","date":"2012-08-16T14:07:40.554Z","type":"message"}
{"nick":"indutny","message":"and everything failed down there","date":"2012-08-16T14:07:47.853Z","type":"message"}
{"nick":"indutny","message":"now uv__stream_io isn't called","date":"2012-08-16T14:07:54.735Z","type":"message"}
{"nick":"indutny","message":"let me refine code first","date":"2012-08-16T14:08:03.012Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. let me know when it's fixed","date":"2012-08-16T14:08:20.867Z","type":"message"}
{"nick":"indutny","message":"osx_hack -> kqueue_hack ?","date":"2012-08-16T14:08:25.280Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-08-16T14:08:26.780Z","type":"message"}
{"nick":"indutny","message":"what's better?","date":"2012-08-16T14:08:29.529Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm, must_select?","date":"2012-08-16T14:08:56.753Z","type":"message"}
{"nick":"indutny","message":"force_select","date":"2012-08-16T14:09:05.078Z","type":"message"}
{"nick":"bnoordhuis","message":"or that","date":"2012-08-16T14:09:08.345Z","type":"message"}
{"nick":"bnoordhuis","message":"it should describe what it does / means","date":"2012-08-16T14:09:13.512Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-08-16T14:09:14.201Z","type":"message"}
{"nick":"indutny","message":"Assign after declaration, put each fd_set on its own line.","date":"2012-08-16T14:09:40.499Z","type":"message"}
{"nick":"indutny","message":"do you mean FD_ZERO() ?","date":"2012-08-16T14:09:47.771Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2012-08-16T14:10:11.362Z","type":"message"}
{"nick":"indutny","action":"ok","date":"2012-08-16T14:10:23.392Z","type":"action"}
{"nick":"bnoordhuis","message":"heh","date":"2012-08-16T14:10:25.800Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a style issue","date":"2012-08-16T14:10:36.174Z","type":"message"}
{"nick":"bnoordhuis","message":"declarations go at the top, assignment/initialization comes afterwards","date":"2012-08-16T14:10:52.056Z","type":"message"}
{"nick":"xaq","date":"2012-08-16T14:11:34.361Z","type":"join"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.88-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2012-08-16T14:18:13.197Z","type":"quit"}
{"nick":"TheJH","date":"2012-08-16T14:19:25.218Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: when you post a patch to chromiumcodereview.appspot.com, what base url do you pick? i don't see one specifically for v8","date":"2012-08-16T14:20:20.962Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: let me look it up","date":"2012-08-16T14:20:37.507Z","type":"message"}
{"nick":"indutny","message":"em...","date":"2012-08-16T14:20:44.058Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you have to import codereview settings from some url I think","date":"2012-08-16T14:20:54.734Z","type":"message"}
{"nick":"bnoordhuis","message":"ah hassle","date":"2012-08-16T14:21:21.410Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: updated https://github.com/joyent/libuv/pull/528/files","date":"2012-08-16T14:21:29.228Z","type":"message"}
{"nick":"indutny","message":"non-working","date":"2012-08-16T14:21:34.328Z","type":"message"}
{"nick":"indutny","message":"but style issues fixed","date":"2012-08-16T14:21:36.761Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I have this in my .git/config file","date":"2012-08-16T14:21:57.351Z","type":"message"}
{"nick":"piscisaureus_","message":"[rietveld]","date":"2012-08-16T14:21:58.211Z","type":"message"}
{"nick":"piscisaureus_","message":"     server = codereview.chromium.org","date":"2012-08-16T14:21:58.413Z","type":"message"}
{"nick":"piscisaureus_","message":"     cc = v8-dev@googlegroups.com","date":"2012-08-16T14:21:58.413Z","type":"message"}
{"nick":"piscisaureus_","message":"     viewvc-url = http://code.google.com/p/v8/source/detail?r=","date":"2012-08-16T14:21:58.413Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that's for upload.py right?","date":"2012-08-16T14:22:12.023Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't get that to work with my google apps account though","date":"2012-08-16T14:22:23.477Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: huh. For me it works fine on linux","date":"2012-08-16T14:22:43.299Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: are you using git-cl ?","date":"2012-08-16T14:22:55.522Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: a gmail account or a @example.com apps account?","date":"2012-08-16T14:23:06.688Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am using a gmail account","date":"2012-08-16T14:23:18.424Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that works","date":"2012-08-16T14:23:23.587Z","type":"message"}
{"nick":"piscisaureus_","message":"oh, like that","date":"2012-08-16T14:23:34.939Z","type":"message"}
{"nick":"bnoordhuis","message":"but it always dies horribly when i use my @bnoordhuis.nl address","date":"2012-08-16T14:23:54.549Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/joyent/libuv/pull/528/files#L1R149","date":"2012-08-16T14:24:40.684Z","type":"message"}
{"nick":"indutny","message":"for some reason uv__io_active() returns false","date":"2012-08-16T14:24:51.481Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-08-16T14:25:35.011Z","type":"message"}
{"nick":"indutny","message":"probably because error has happened :D","date":"2012-08-16T14:25:39.681Z","type":"message"}
{"nick":"indutny","message":"crap","date":"2012-08-16T14:25:48.166Z","type":"message"}
{"nick":"indutny","message":"ok, brb","date":"2012-08-16T14:25:55.574Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what's the best place to send it to? codereview.chromium.org or chromiumcodereview.appspot.com?","date":"2012-08-16T14:26:21.573Z","type":"message"}
{"nick":"bnoordhuis","message":"and why are there two anyway? *sigh*","date":"2012-08-16T14:26:33.611Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I have the feeling you are doing something wrong","date":"2012-08-16T14:26:35.674Z","type":"message"}
{"nick":"bnoordhuis","message":"that would be a first","date":"2012-08-16T14:26:44.963Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hold on... I'm going to find out","date":"2012-08-16T14:26:50.133Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ","date":"2012-08-16T14:27:16.783Z","type":"message"}
{"nick":"mmalecki","message":"codereview.chromium.org is an alias for ghs.l.google.com.","date":"2012-08-16T14:27:17.328Z","type":"message"}
{"nick":"mmalecki","message":"codereview.chromium.org is an alias for ghs.l.google.com.","date":"2012-08-16T14:27:20.402Z","type":"message"}
{"nick":"mmalecki","message":"maybe this one :)","date":"2012-08-16T14:27:37.887Z","type":"message"}
{"nick":"mmalecki","message":"one moar choice","date":"2012-08-16T14:27:40.974Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: try this","date":"2012-08-16T14:27:47.615Z","type":"message"}
{"nick":"piscisaureus_","message":"git cl config http://v8.googlecode.com/svn","date":"2012-08-16T14:27:50.873Z","type":"message"}
{"nick":"bnoordhuis","message":"strange, codereview.chromium.org had only 161 issues two minutes ago","date":"2012-08-16T14:28:07.677Z","type":"message"}
{"nick":"bnoordhuis","message":"but now it's identical to chromiumcodereview","date":"2012-08-16T14:28:17.686Z","type":"message"}
{"nick":"loladiro","date":"2012-08-16T14:28:36.433Z","type":"join"}
{"nick":"piscisaureus_","message":"excuses, excuses","date":"2012-08-16T14:30:00.486Z","type":"message"}
{"nick":"piscisaureus_","message":"oh, gotta reboot again.","date":"2012-08-16T14:30:07.684Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-16T14:30:10.094Z","type":"quit"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-08-16T14:31:41.386Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-08-16T14:34:06.670Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: what's the tree status url?","date":"2012-08-16T14:34:26.654Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you have to enter that?","date":"2012-08-16T14:34:35.437Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-08-16T14:34:44.275Z","type":"message"}
{"nick":"piscisaureus_","message":"heh","date":"2012-08-16T14:34:47.427Z","type":"message"}
{"nick":"piscisaureus_","message":"wtf","date":"2012-08-16T14:34:48.271Z","type":"message"}
{"nick":"piscisaureus_","message":"something is definitely wrong there","date":"2012-08-16T14:35:03.161Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh - don't do presubmit","date":"2012-08-16T14:35:23.740Z","type":"message"}
{"nick":"bnoordhuis","message":"no, that's what `git cl config` is asking me about","date":"2012-08-16T14:35:40.813Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just leave it empty","date":"2012-08-16T14:36:00.969Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't think you can presubmit anyway","date":"2012-08-16T14:36:10.326Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, done","date":"2012-08-16T14:36:23.279Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok - protip - git cl will squash all commits and the message must be really short","date":"2012-08-16T14:36:51.782Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, annoying","date":"2012-08-16T14:37:04.475Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: also create a separate branch before doing it because it will be associated with this particular issue","date":"2012-08-16T14:37:15.294Z","type":"message"}
{"nick":"bnoordhuis","message":"i think i'm going to upload the patches with the web interface","date":"2012-08-16T14:37:26.353Z","type":"message"}
{"nick":"bnoordhuis","message":"all this jumping through hoops annoys me no end","date":"2012-08-16T14:37:41.716Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: don't. once you get used to it it's actually kinda nice","date":"2012-08-16T14:37:43.004Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: just try \"git cl upload\" now","date":"2012-08-16T14:38:07.287Z","type":"message"}
{"nick":"bnoordhuis","message":"meh, okay","date":"2012-08-16T14:38:49.604Z","type":"message"}
{"nick":"piscisaureus_","message":"meh that travis bot is noisy","date":"2012-08-16T14:41:24.799Z","type":"message"}
{"nick":"bnoordhuis","message":"AttributeError: can't set attribute...","date":"2012-08-16T14:42:14.071Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: something is forked up at your repo","date":"2012-08-16T14:42:44.998Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it's working!!!","date":"2012-08-16T14:42:52.447Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: please review it once again","date":"2012-08-16T14:43:05.579Z","type":"message"}
{"nick":"indutny","message":"added fake fd","date":"2012-08-16T14:43:08.502Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-08-16T14:43:19.031Z","type":"quit"}
{"nick":"abraxas","date":"2012-08-16T14:43:56.464Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: no, it simply won't work with google apps accounts","date":"2012-08-16T14:44:18.201Z","type":"message"}
{"nick":"piscisaureus_","message":"let me try","date":"2012-08-16T14:44:35.775Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: are you on osx?","date":"2012-08-16T14:45:14.924Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-08-16T14:45:23.949Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: can you verify that `./node </dev/tty` works with my patch?","date":"2012-08-16T14:45:25.069Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-08-16T14:45:27.464Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-08-16T14:45:29.182Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: wfm","date":"2012-08-16T14:46:25.612Z","type":"message"}
{"nick":"piscisaureus_","message":"D:\\v8>git cl upload","date":"2012-08-16T14:46:27.481Z","type":"message"}
{"nick":"piscisaureus_","message":" bar | 1 +","date":"2012-08-16T14:46:27.682Z","type":"message"}
{"nick":"piscisaureus_","message":" 1 file changed, 1 insertion(+)","date":"2012-08-16T14:46:27.682Z","type":"message"}
{"nick":"piscisaureus_","message":"warning: CRLF will be replaced by LF in bar.","date":"2012-08-16T14:46:27.682Z","type":"message"}
{"nick":"piscisaureus_","message":"The file will have its original line endings in your working directory.","date":"2012-08-16T14:46:27.682Z","type":"message"}
{"nick":"piscisaureus_","message":"Upload server: codereview.chromium.org (change with -s/--server)","date":"2012-08-16T14:46:28.483Z","type":"message"}
{"nick":"piscisaureus_","message":"Loaded authentication cookies from c:/Users/Bert Belder/.codereview_upload_cookies","date":"2012-08-16T14:46:28.693Z","type":"message"}
{"nick":"piscisaureus_","message":"Email (login for uploading to codereview.chromium.org) [bertbelder@gmail.com]: bert@c9.io","date":"2012-08-16T14:46:29.474Z","type":"message"}
{"nick":"piscisaureus_","message":"Password for bert@c9.io:","date":"2012-08-16T14:46:29.682Z","type":"message"}
{"nick":"piscisaureus_","message":"Saving authentication cookies to c:/Users/Bert Belder/.codereview_upload_cookies","date":"2012-08-16T14:46:30.505Z","type":"message"}
{"nick":"piscisaureus_","message":"Issue created. URL: http://codereview.chromium.org/10823365","date":"2012-08-16T14:46:30.713Z","type":"message"}
{"nick":"piscisaureus_","message":"Uploading base file for bar","date":"2012-08-16T14:46:31.476Z","type":"message"}
{"nick":"piscisaureus_","message":"This was on windows btw","date":"2012-08-16T14:46:31.682Z","type":"message"}
{"nick":"bnoordhuis","message":"wtf","date":"2012-08-16T14:46:51.212Z","type":"message"}
{"nick":"abraxas","reason":"Ping timeout: 245 seconds","date":"2012-08-16T14:48:27.382Z","type":"quit"}
{"nick":"bnoordhuis","message":"it dies with the very helpful error \"Unknown\"","date":"2012-08-16T14:49:17.457Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: python version?","date":"2012-08-16T14:49:34.338Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: 2.7.3","date":"2012-08-16T14:49:49.851Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm. I have 2.7.2 but I dont' suppose that it matters","date":"2012-08-16T14:50:01.915Z","type":"message"}
{"nick":"bnoordhuis","message":"i can see it makes a http request to codereview.chromium.org","date":"2012-08-16T14:50:03.156Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what version of git-cl are you using (where did it come from?)","date":"2012-08-16T14:51:18.716Z","type":"message"}
{"nick":"piscisaureus_","message":"mine is rather old :-)","date":"2012-08-16T14:51:41.116Z","type":"message"}
{"nick":"bnoordhuis","message":"from https://github.com/martine/git-cl","date":"2012-08-16T14:52:06.080Z","type":"message"}
{"nick":"bnoordhuis","message":"which is also rather old","date":"2012-08-16T14:52:11.809Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-08-16T14:52:20.079Z","type":"message"}
{"nick":"piscisaureus_","message":"that seems right","date":"2012-08-16T14:52:22.263Z","type":"message"}
{"nick":"mitsuhiko","message":"uv_run_once <- how do i get that to not block?","date":"2012-08-16T14:53:19.734Z","type":"message"}
{"nick":"bnoordhuis","message":"https://www.google.com/accounts/ClientLogin 403 Forbidden","date":"2012-08-16T14:53:39.888Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-08-16T14:53:43.530Z","type":"message"}
{"nick":"bnoordhuis","message":"it's simply not letting me log in","date":"2012-08-16T14:53:46.596Z","type":"message"}
{"nick":"bnoordhuis","message":"mitsuhiko: you can't right now","date":"2012-08-16T14:54:01.762Z","type":"message"}
{"nick":"mitsuhiko","message":":-(","date":"2012-08-16T14:54:05.713Z","type":"message"}
{"nick":"bnoordhuis","message":"mitsuhiko: as a workaround add a uv_idle_t","date":"2012-08-16T14:54:19.475Z","type":"message"}
{"nick":"bnoordhuis","message":"we'll probably add a non-blocking version sometime","date":"2012-08-16T14:54:31.798Z","type":"message"}
{"nick":"mitsuhiko","message":"does not matter for me too much anyways right now. still pondering if it makes sense for us to port that thing to xbox","date":"2012-08-16T14:54:56.131Z","type":"message"}
{"nick":"bnoordhuis","message":"what are you going to do with it on an xbox?","date":"2012-08-16T14:55:11.806Z","type":"message"}
{"nick":"mitsuhiko","message":"shooting birds with canons mostly","date":"2012-08-16T14:55:57.092Z","type":"message"}
{"nick":"mitsuhiko","message":"bnoordhuis: people hate networking code to run in its own thread","date":"2012-08-16T14:56:33.301Z","type":"message"}
{"nick":"mitsuhiko","message":"so you want it non-blocking","date":"2012-08-16T14:56:39.839Z","type":"message"}
{"nick":"mitsuhiko","message":"and well â€¦ since there are so many ways to get it wrong i was assuming it makes sense to base it on something established","date":"2012-08-16T14:56:59.466Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis what about giving this https://github.com/joyent/libuv/issues/339 some more thought? I think I could make a patch for it :-)","date":"2012-08-16T15:00:48.108Z","type":"message"}
{"nick":"bnoordhuis","message":"i fucking hate upload.py","date":"2012-08-16T15:03:22.109Z","type":"message"}
{"nick":"tjfontaine","message":"how do you really feel?","date":"2012-08-16T15:03:38.625Z","type":"message"}
{"nick":"bnoordhuis","message":"sad, frustrated :(","date":"2012-08-16T15:03:50.891Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm using the web interface and that's that","date":"2012-08-16T15:03:59.493Z","type":"message"}
{"nick":"bnoordhuis","message":"which is horrible enough","date":"2012-08-16T15:04:07.399Z","type":"message"}
{"nick":"bnoordhuis","message":"Patch set contains no recognizable patches... son of a...","date":"2012-08-16T15:08:45.659Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: feel like uploading a patch?","date":"2012-08-16T15:08:59.590Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: is forward declarations good?","date":"2012-08-16T15:09:01.298Z","type":"message"}
{"nick":"indutny","message":"in libuv","date":"2012-08-16T15:09:03.562Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: for what?","date":"2012-08-16T15:09:24.864Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I'll show you","date":"2012-08-16T15:09:32.600Z","type":"message"}
{"nick":"indutny","message":"but is it supported by every compiler?","date":"2012-08-16T15:09:42.399Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/v8/compare/fix-postmortem-gen","date":"2012-08-16T15:10:16.475Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: you mean int foo(int bar); ?","date":"2012-08-16T15:10:27.474Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2012-08-16T15:10:50.902Z","type":"message"}
{"nick":"indutny","message":"struct uv_async_s;","date":"2012-08-16T15:10:53.783Z","type":"message"}
{"nick":"indutny","message":"oh fake fd broke tty test","date":"2012-08-16T15:11:05.833Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: only works with struct uv_async_s pointers","date":"2012-08-16T15:11:57.280Z","type":"message"}
{"nick":"indutny","message":"well, yes","date":"2012-08-16T15:16:22.611Z","type":"message"}
{"nick":"indutny","message":"I just need it from within include/uv-private","date":"2012-08-16T15:16:36.888Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: on linux, if you click and download a dpkg or rpm, does it give you a nice friendly option to install it?","date":"2012-08-16T15:16:41.374Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok, I can upload it","date":"2012-08-16T15:17:00.745Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: presuming you're using a ubuntu or something gui","date":"2012-08-16T15:17:01.493Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: yes","date":"2012-08-16T15:17:10.132Z","type":"message"}
{"nick":"isaacs","message":"which is better?  rpm or dpkg?","date":"2012-08-16T15:17:18.429Z","type":"message"}
{"nick":"tjfontaine","message":"dpkg","date":"2012-08-16T15:17:25.473Z","type":"message"}
{"nick":"isaacs","message":"or \"depends on os\"?","date":"2012-08-16T15:17:36.925Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: you mean .rpm or .deb?","date":"2012-08-16T15:17:46.649Z","type":"message"}
{"nick":"isaacs","message":"oh, right","date":"2012-08-16T15:17:56.489Z","type":"message"}
{"nick":"isaacs","message":".rpm or .deb","date":"2012-08-16T15:18:01.139Z","type":"message"}
{"nick":"bnoordhuis","message":"rpms are for redhat derivatives, debs for debian derivatives","date":"2012-08-16T15:18:13.006Z","type":"message"}
{"nick":"bnoordhuis","message":"so realistically you need both","date":"2012-08-16T15:18:25.289Z","type":"message"}
{"nick":"tjfontaine","message":"well, if you do both you'll cover the majority of the bases, after that it's just slackware/gentoo/arch","date":"2012-08-16T15:18:28.185Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am using the official git mirror instead of the github mirror. Should I rebase on top of master?","date":"2012-08-16T15:18:40.455Z","type":"message"}
{"nick":"bnoordhuis","message":"those people know how to help themselves","date":"2012-08-16T15:18:42.992Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes","date":"2012-08-16T15:18:52.493Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: well at least they claim to","date":"2012-08-16T15:18:52.995Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: patch should apply cleanly, it's against the current master","date":"2012-08-16T15:19:04.562Z","type":"message"}
{"nick":"bnoordhuis","message":"err, svn HEAD","date":"2012-08-16T15:19:10.927Z","type":"message"}
{"nick":"tjfontaine","message":"this is the one case where the embedded dependencies actually makes sense in linux package distribution","date":"2012-08-16T15:19:36.810Z","type":"message"}
{"nick":"TheJH","reason":"Read error: Connection reset by peer","date":"2012-08-16T15:22:59.997Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: who do you want as a reviewer?","date":"2012-08-16T15:24:36.069Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: sergey","date":"2012-08-16T15:25:45.271Z","type":"message"}
{"nick":"bnoordhuis","message":"frankly, i don't care","date":"2012-08-16T15:26:12.985Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: last name? There are 3","date":"2012-08-16T15:26:17.604Z","type":"message"}
{"nick":"bnoordhuis","message":"brin","date":"2012-08-16T15:26:22.825Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that was a joke btw","date":"2012-08-16T15:26:59.129Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-08-16T15:27:04.357Z","type":"quit"}
{"nick":"bnoordhuis","message":"just pick someone","date":"2012-08-16T15:27:04.672Z","type":"message"}
{"nick":"indutny","message":"oh, why does ev shadows EV_ERROR","date":"2012-08-16T15:27:54.336Z","type":"message"}
{"nick":"indutny","message":"with another value","date":"2012-08-16T15:27:56.932Z","type":"message"}
{"nick":"indutny","message":"fuck","date":"2012-08-16T15:28:19.556Z","type":"message"}
{"nick":"dap","date":"2012-08-16T15:30:52.052Z","type":"join"}
{"nick":"blackorzar","date":"2012-08-16T15:30:56.393Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: are you asking about forward declarations because of https://github.com/joyent/libuv/pull/528#discussion_r1392821 ?","date":"2012-08-16T15:31:24.384Z","type":"message"}
{"nick":"bnoordhuis","message":"if yes, don't bother too much about it - i can live with ->data = stream","date":"2012-08-16T15:31:50.047Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: http://codereview.chromium.org/10827379/","date":"2012-08-16T15:32:01.073Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-08-16T15:32:11.869Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: sweet, thanks","date":"2012-08-16T15:32:17.058Z","type":"message"}
{"nick":"indutny","message":"so here is the problem","date":"2012-08-16T15:32:47.292Z","type":"message"}
{"nick":"indutny","message":"uv is using stream->fd actively","date":"2012-08-16T15:32:52.807Z","type":"message"}
{"nick":"indutny","message":"but if I'll left a fd that doesn't work with kqueue","date":"2012-08-16T15:33:03.837Z","type":"message"}
{"nick":"indutny","message":"it goes nuts","date":"2012-08-16T15:33:11.970Z","type":"message"}
{"nick":"indutny","message":"since watchers become inactive","date":"2012-08-16T15:33:18.661Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: btw - how do you interrupt the select() when someone stops the watcher?","date":"2012-08-16T15:33:53.603Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I won't","date":"2012-08-16T15:34:05.585Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-08-16T15:34:06.790Z","type":"message"}
{"nick":"indutny","message":"that's a plan","date":"2012-08-16T15:34:10.410Z","type":"message"}
{"nick":"indutny","message":"but it won't call uv__stream_io","date":"2012-08-16T15:34:19.704Z","type":"message"}
{"nick":"indutny","message":"well, lets face the truth","date":"2012-08-16T15:34:36.582Z","type":"message"}
{"nick":"indutny","message":"I'm fixing edge-case","date":"2012-08-16T15:34:41.737Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: so when people close the watcher - you will keep selecting on that fd?","date":"2012-08-16T15:34:52.032Z","type":"message"}
{"nick":"indutny","message":"not something that you do on each request on server","date":"2012-08-16T15:34:56.187Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I'll stop only on uv_close","date":"2012-08-16T15:35:09.776Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: maybe you can dup the fd and close it when you close the watcher","date":"2012-08-16T15:35:51.556Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: sorry?","date":"2012-08-16T15:36:10.177Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well, so the problem is, if someone does uv_close(watcher) and the watcher has an associated select() going on in the thread","date":"2012-08-16T15:36:43.940Z","type":"message"}
{"nick":"piscisaureus_","message":"you can't close it","date":"2012-08-16T15:36:49.404Z","type":"message"}
{"nick":"indutny","message":"I can","date":"2012-08-16T15:37:00.154Z","type":"message"}
{"nick":"indutny","message":"I've semaphore there","date":"2012-08-16T15:37:04.285Z","type":"message"}
{"nick":"indutny","message":"I'll notify that select loop that watcher is being closed","date":"2012-08-16T15:37:14.966Z","type":"message"}
{"nick":"indutny","message":"and it'll end","date":"2012-08-16T15:37:20.169Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: oh, because you set a timeout","date":"2012-08-16T15:37:30.969Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-08-16T15:37:49.535Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: you could also not do that","date":"2012-08-16T15:37:54.488Z","type":"message"}
{"nick":"indutny","message":"how?","date":"2012-08-16T15:37:59.929Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: and use pthread_kill to interrupt the select operation","date":"2012-08-16T15:38:06.390Z","type":"message"}
{"nick":"indutny","message":"em...","date":"2012-08-16T15:38:13.164Z","type":"message"}
{"nick":"indutny","message":"that's not really safe","date":"2012-08-16T15:38:15.033Z","type":"message"}
{"nick":"indutny","message":"I think timeout is ok","date":"2012-08-16T15:38:18.655Z","type":"message"}
{"nick":"indutny","message":"and we don't have uv_thread_kill API","date":"2012-08-16T15:38:26.571Z","type":"message"}
{"nick":"indutny","message":"lets solve another problem","date":"2012-08-16T15:38:31.050Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-08-16T15:38:32.072Z","type":"message"}
{"nick":"indutny","message":"how to watch on fake fd","date":"2012-08-16T15:38:41.187Z","type":"message"}
{"nick":"indutny","message":"but let users see real fd","date":"2012-08-16T15:38:46.737Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: uv_thread_kill is insane. You should never kill a thread","date":"2012-08-16T15:38:49.424Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: you proposed that","date":"2012-08-16T15:39:05.122Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: oh - I though you wanted to terminate the thread","date":"2012-08-16T15:39:24.958Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2012-08-16T15:39:39.801Z","type":"message"}
{"nick":"indutny","message":"I don't","date":"2012-08-16T15:39:41.526Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: pthread_kill sends a signal to a thread, so select() will return EINTR","date":"2012-08-16T15:39:47.531Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2012-08-16T15:40:57.562Z","type":"message"}
{"nick":"indutny","message":"nice","date":"2012-08-16T15:41:02.556Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: so what you would want to do is pick some signal that has no odd side effects","date":"2012-08-16T15:41:17.753Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: and block the signal","date":"2012-08-16T15:41:24.063Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: and use pselect() to unblock that signal","date":"2012-08-16T15:41:30.867Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ok","date":"2012-08-16T15:41:38.107Z","type":"message"}
{"nick":"piscisaureus_","message":"... and start select, atomically","date":"2012-08-16T15:41:40.869Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: is it **much** better?","date":"2012-08-16T15:41:43.075Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-08-16T15:41:46.389Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: ok, there are more important problems to fix, sure :-0","date":"2012-08-16T15:41:55.561Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-08-16T15:42:04.955Z","type":"message"}
{"nick":"indutny","message":"this patch isn't working :D","date":"2012-08-16T15:42:08.908Z","type":"message"}
{"nick":"stephank","date":"2012-08-16T15:46:09.192Z","type":"join"}
{"nick":"indutny","message":"https://github.com/joyent/libuv/pull/528/files#L1R199","date":"2012-08-16T15:46:14.820Z","type":"message"}
{"nick":"indutny","message":"this is why a hate ev :)","date":"2012-08-16T15:46:22.255Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: bnoordhuis: call in 15?","date":"2012-08-16T15:48:54.249Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny tootallnate ^ ?","date":"2012-08-16T15:49:14.644Z","type":"message"}
{"nick":"indutny","message":"oooh","date":"2012-08-16T15:49:16.789Z","type":"message"}
{"nick":"indutny","message":"mega call","date":"2012-08-16T15:49:18.853Z","type":"message"}
{"nick":"indutny","message":"vock ? :D","date":"2012-08-16T15:49:21.778Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-08-16T15:49:37.135Z","type":"message"}
{"nick":"indutny","message":"patch works!!!!","date":"2012-08-16T15:49:39.358Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: piscisaureus_ final version https://github.com/joyent/libuv/pull/528/files","date":"2012-08-16T15:50:29.089Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I really do not like that pthread_kill complexity","date":"2012-08-16T15:51:08.105Z","type":"message"}
{"nick":"indutny","message":"it doesn't make sense for this edge-case","date":"2012-08-16T15:51:13.717Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I do not like that uv_close can hang for 250ms :-)","date":"2012-08-16T15:51:28.332Z","type":"message"}
{"nick":"indutny","message":"on edge-case streams ;)","date":"2012-08-16T15:51:36.545Z","type":"message"}
{"nick":"indutny","message":"and that's maximum","date":"2012-08-16T15:51:43.263Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-08-16T15:53:54.549Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-08-16T15:55:42.877Z","type":"join"}
{"nick":"bnoordhuis","message":"call in 3?","date":"2012-08-16T15:58:42.549Z","type":"message"}
{"nick":"indutny","message":"15 minutes later","date":"2012-08-16T15:59:39.325Z","type":"message"}

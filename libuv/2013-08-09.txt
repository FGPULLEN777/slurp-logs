{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-08-09T00:00:01.045Z","type":"quit"}
{"nick":"isaacs","message":"i think we can optionally add Buffer support, but meh.","date":"2013-08-09T00:00:07.320Z","type":"message"}
{"nick":"ircretary","date":"2013-08-09T00:00:09.010Z","type":"join"}
{"nick":"isaacs","message":"but the current handling of strings can't change","date":"2013-08-09T00:00:22.445Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that was my thinking too","date":"2013-08-09T00:01:34.858Z","type":"message"}
{"nick":"bnoordhuis","message":"it's just that the one-byte string thing is technically correct","date":"2013-08-09T00:02:29.350Z","type":"message"}
{"nick":"bnoordhuis","message":"well, whatever - utf8 it is","date":"2013-08-09T00:02:41.136Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-08-09T00:12:29.014Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: yeah.  it's weird.","date":"2013-08-09T00:14:09.156Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: fwiw, ls shows the utf8 chars: https://gist.github.com/isaacs/6189920#comment-883270","date":"2013-08-09T00:15:56.092Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: shows Vökuró rather than VoÌkuroÌ","date":"2013-08-09T00:16:41.815Z","type":"message"}
{"nick":"isaacs","message":"and `$ ls /Users/isaacs/Music/BjoÌrk/MeduÌlla","date":"2013-08-09T00:17:41.272Z","type":"message"}
{"nick":"isaacs","message":"ls: /Users/isaacs/Music/BjoÌrk/MeduÌlla: No such file or directory","date":"2013-08-09T00:17:46.598Z","type":"message"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-08-09T00:18:58.998Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-09T00:28:44.097Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T00:34:48.240Z","type":"join"}
{"nick":"dshaw_","date":"2013-08-09T00:42:12.787Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-08-09T00:43:44.687Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-09T00:47:13.590Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-09T00:47:42.665Z","type":"join"}
{"nick":"wolfeidau","date":"2013-08-09T00:49:11.765Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-08-09T00:54:19.759Z","type":"quit"}
{"nick":"indexzero_","date":"2013-08-09T01:00:28.742Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-08-09T01:01:03.615Z","type":"quit"}
{"nick":"indexzero","reason":"Ping timeout: 240 seconds","date":"2013-08-09T01:02:38.561Z","type":"quit"}
{"nick":"indexzero_","new_nick":"indexzero","date":"2013-08-09T01:02:39.218Z","type":"nick"}
{"nick":"kazupon","date":"2013-08-09T01:04:28.761Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-09T01:05:02.185Z","type":"quit"}
{"nick":"kazupon","date":"2013-08-09T01:05:09.471Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 264 seconds","date":"2013-08-09T01:12:42.222Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T01:12:44.793Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2013-08-09T01:13:18.545Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T01:14:40.055Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-09T01:20:46.073Z","type":"join"}
{"nick":"abraxas","date":"2013-08-09T01:23:18.542Z","type":"join"}
{"nick":"dshaw_","date":"2013-08-09T01:33:12.199Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-09T01:35:04.256Z","type":"quit"}
{"nick":"TooTallNate","reason":"Ping timeout: 246 seconds","date":"2013-08-09T01:37:55.956Z","type":"quit"}
{"nick":"mordy__","message":"hrm, this is being quite troublesome","date":"2013-08-09T01:42:39.207Z","type":"message"}
{"nick":"mordy__","message":"trying to figure out which -l incantations to use for libuv.. there seems to be quite a bit of ifdefs in config-unix.mk","date":"2013-08-09T01:43:17.635Z","type":"message"}
{"nick":"mordy__","message":"maybe gyp can do something for me...","date":"2013-08-09T01:44:30.817Z","type":"message"}
{"nick":"TooTallNate","date":"2013-08-09T01:47:35.213Z","type":"join"}
{"nick":"indexzero_","date":"2013-08-09T01:50:25.432Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 240 seconds","date":"2013-08-09T01:52:37.931Z","type":"quit"}
{"nick":"indexzero_","new_nick":"indexzero","date":"2013-08-09T01:52:37.931Z","type":"nick"}
{"nick":"brson","reason":"Read error: Connection reset by peer","date":"2013-08-09T01:53:37.784Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T01:54:05.406Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-09T01:56:00.442Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-08-09T01:57:54.386Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-09T02:02:48.081Z","type":"quit"}
{"nick":"sblom","reason":"Ping timeout: 276 seconds","date":"2013-08-09T02:06:15.796Z","type":"quit"}
{"nick":"wavded","date":"2013-08-09T02:09:06.835Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-09T02:09:51.921Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-09T02:17:39.337Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T02:17:52.423Z","type":"join"}
{"nick":"kazupon","date":"2013-08-09T02:27:41.759Z","type":"join"}
{"nick":"wavded","reason":"Quit: Nighty night","date":"2013-08-09T02:27:58.459Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-09T02:31:47.219Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-09T02:36:18.969Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-08-09T02:45:02.983Z","type":"join"}
{"nick":"wolfeidau","date":"2013-08-09T02:57:17.738Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-08-09T02:58:39.755Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T02:59:35.933Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-08-09T03:08:09.180Z","type":"quit"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-08-09T03:08:26.929Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-09T03:16:58.549Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-09T03:18:43.171Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-09T03:20:30.887Z","type":"quit"}
{"nick":"dap","date":"2013-08-09T03:24:46.249Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-09T03:28:47.804Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-09T03:36:56.485Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-08-09T03:52:56.768Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-08-09T03:52:59.809Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-08-09T03:53:36.039Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-09T03:57:22.505Z","type":"quit"}
{"nick":"kazupon","date":"2013-08-09T03:59:20.187Z","type":"join"}
{"nick":"wolfeidau","date":"2013-08-09T04:04:43.125Z","type":"join"}
{"nick":"st_luke","date":"2013-08-09T04:06:17.755Z","type":"join"}
{"nick":"mcavage","date":"2013-08-09T04:16:13.551Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: Leaving","date":"2013-08-09T04:18:45.276Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-09T04:19:46.230Z","type":"nick"}
{"nick":"mcavage","reason":"Ping timeout: 240 seconds","date":"2013-08-09T04:20:14.541Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-09T04:36:44.986Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-09T04:37:41.423Z","type":"join"}
{"nick":"mikeal","date":"2013-08-09T04:39:09.222Z","type":"join"}
{"nick":"mcavage","date":"2013-08-09T04:46:30.120Z","type":"join"}
{"nick":"Damn3d","reason":"Ping timeout: 246 seconds","date":"2013-08-09T04:46:56.007Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-09T04:47:00.652Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2013-08-09T04:47:39.925Z","type":"quit"}
{"nick":"Damn3d","date":"2013-08-09T04:49:11.269Z","type":"join"}
{"nick":"brson","date":"2013-08-09T04:49:59.583Z","type":"join"}
{"nick":"mcavage","reason":"Ping timeout: 260 seconds","date":"2013-08-09T04:55:08.172Z","type":"quit"}
{"nick":"amartens","date":"2013-08-09T05:07:46.540Z","type":"join"}
{"nick":"stagas","date":"2013-08-09T05:12:40.290Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-09T05:15:04.944Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T05:16:25.859Z","type":"join"}
{"nick":"wolfeida_","date":"2013-08-09T05:19:16.568Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 264 seconds","date":"2013-08-09T05:22:18.268Z","type":"quit"}
{"nick":"wolfeida_","reason":"Ping timeout: 248 seconds","date":"2013-08-09T05:24:21.801Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T05:34:19.438Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2013-08-09T05:38:09.015Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T05:42:42.837Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-09T05:45:44.964Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 240 seconds","date":"2013-08-09T05:49:04.814Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-09T05:51:12.967Z","type":"join"}
{"nick":"stagas","date":"2013-08-09T05:52:54.866Z","type":"join"}
{"nick":"wolfeidau","date":"2013-08-09T05:54:07.606Z","type":"join"}
{"nick":"wolfeidau","reason":"Read error: No route to host","date":"2013-08-09T06:00:45.665Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T06:00:56.444Z","type":"join"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-08-09T06:03:35.934Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-08-09T06:03:36.713Z","type":"join"}
{"nick":"mikeal","date":"2013-08-09T06:04:35.612Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-09T06:04:36.671Z","type":"nick"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-08-09T06:07:21.384Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-08-09T06:12:12.258Z","type":"quit"}
{"nick":"paddybyers","date":"2013-08-09T06:15:51.535Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-08-09T06:16:41.107Z","type":"quit"}
{"nick":"felixge","date":"2013-08-09T06:25:38.936Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-09T06:29:48.243Z","type":"quit"}
{"nick":"bajtos","date":"2013-08-09T06:52:50.613Z","type":"join"}
{"nick":"roxlu","reason":"Quit: leaving","date":"2013-08-09T06:58:44.069Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T07:32:24.285Z","type":"join"}
{"nick":"wolfeida_","reason":"Ping timeout: 260 seconds","date":"2013-08-09T07:32:51.935Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-08-09T07:37:05.391Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 240 seconds","date":"2013-08-09T07:37:26.538Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 240 seconds","date":"2013-08-09T07:37:26.750Z","type":"quit"}
{"nick":"rendar","date":"2013-08-09T07:53:17.276Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-09T07:55:28.372Z","type":"nick"}
{"nick":"hz","date":"2013-08-09T07:59:12.377Z","type":"join"}
{"nick":"st_luke","date":"2013-08-09T08:01:58.753Z","type":"join"}
{"nick":"st_luke","reason":"Ping timeout: 240 seconds","date":"2013-08-09T08:06:14.538Z","type":"quit"}
{"nick":"rendar","date":"2013-08-09T08:24:42.568Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-08-09T08:43:50.428Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-09T08:45:59.289Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 264 seconds","date":"2013-08-09T09:16:40.376Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: ping","date":"2013-08-09T09:18:05.676Z","type":"message"}
{"nick":"bajtos","date":"2013-08-09T09:20:14.634Z","type":"join"}
{"nick":"bnoordhuis","message":"bajtos: ping","date":"2013-08-09T09:28:56.874Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: pong","date":"2013-08-09T09:29:24.077Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: question about file paths / filename encodings","date":"2013-08-09T09:30:11.928Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: what do people in eastern europe usually use as their system's character set encoding?","date":"2013-08-09T09:30:38.382Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess for slovak and czech people utf-8 works okay, doesn't it?","date":"2013-08-09T09:31:13.465Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe even latin-1","date":"2013-08-09T09:31:22.747Z","type":"message"}
{"nick":"bajtos","message":"depends on your OS","date":"2013-08-09T09:31:32.677Z","type":"message"}
{"nick":"bajtos","message":"recent Linux distros use UTF-8","date":"2013-08-09T09:31:42.530Z","type":"message"}
{"nick":"bajtos","message":"Windows used to use M$ specific encoding cp1250","date":"2013-08-09T09:32:01.180Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-09T09:32:05.695Z","type":"quit"}
{"nick":"bnoordhuis","message":"ah, good ol' cp1250","date":"2013-08-09T09:32:13.474Z","type":"message"}
{"nick":"bajtos","message":"I don't know if they have changed that in win8, considering the OS supports multiple languages","date":"2013-08-09T09:32:31.112Z","type":"message"}
{"nick":"bnoordhuis","message":"reason i ask was that i realized yesterday that node uses utf-8 for file paths","date":"2013-08-09T09:32:42.703Z","type":"message"}
{"nick":"bajtos","message":"I see","date":"2013-08-09T09:33:02.325Z","type":"message"}
{"nick":"bnoordhuis","message":"which means that you cannot open some files if their filenames contain invalid utf-8 sequences","date":"2013-08-09T09:33:02.922Z","type":"message"}
{"nick":"bnoordhuis","message":"i was wondering how people deal with that","date":"2013-08-09T09:33:23.944Z","type":"message"}
{"nick":"bajtos","message":"which is very common among non-technical users on Windows XP let's say","date":"2013-08-09T09:33:25.031Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: you mean how developers deal with that?","date":"2013-08-09T09:33:43.928Z","type":"message"}
{"nick":"bajtos","message":"or end-users?","date":"2013-08-09T09:33:47.085Z","type":"message"}
{"nick":"bnoordhuis","message":"developers, in this case","date":"2013-08-09T09:33:53.487Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess it's not much of an issue for eastern european languages","date":"2013-08-09T09:34:09.124Z","type":"message"}
{"nick":"bajtos","message":"well","date":"2013-08-09T09:34:14.533Z","type":"message"}
{"nick":"rendar","date":"2013-08-09T09:34:21.602Z","type":"join"}
{"nick":"bajtos","message":"there are two windows APIs for working with files and paths (AFAIK)","date":"2013-08-09T09:34:36.685Z","type":"message"}
{"nick":"bajtos","message":"on uses 8bit encoding, the other 16bits","date":"2013-08-09T09:34:49.513Z","type":"message"}
{"nick":"bnoordhuis","message":"right. but that's not an issue for node, libuv takes care of that","date":"2013-08-09T09:35:06.079Z","type":"message"}
{"nick":"bajtos","message":"I assume that when you use 8bit encoding, you will get the name as-is in the system codepage (cp1250 in EE case)","date":"2013-08-09T09:35:11.672Z","type":"message"}
{"nick":"wolfeida_","reason":"Read error: No route to host","date":"2013-08-09T09:35:13.202Z","type":"quit"}
{"nick":"bnoordhuis","message":"maybe i should've been more clear :)","date":"2013-08-09T09:35:45.614Z","type":"message"}
{"nick":"bajtos","message":"and when you use 16bit encoding, I would expect the WinAPI to convert from whatever CP is used in FS to UCS16/UTF16/whatever else they use internally","date":"2013-08-09T09:35:46.325Z","type":"message"}
{"nick":"wolfeidau","date":"2013-08-09T09:36:17.001Z","type":"join"}
{"nick":"bnoordhuis","message":"the reason i asked is i expect people who use exotic character encodings to run into problems when dealing with files in node","date":"2013-08-09T09:36:17.845Z","type":"message"}
{"nick":"bajtos","message":"I can see two cases:","date":"2013-08-09T09:36:42.043Z","type":"message"}
{"nick":"bnoordhuis","message":"but most all eastern european languages fit in the basic multilingual plane so it's probably not much of an issue","date":"2013-08-09T09:36:42.505Z","type":"message"}
{"nick":"bnoordhuis","message":"i should ask koichi :)","date":"2013-08-09T09:36:51.267Z","type":"message"}
{"nick":"bajtos","message":"1. doing stuff like require('ěščř') - this IMO works as long as your .js file is saved in utf8","date":"2013-08-09T09:37:10.223Z","type":"message"}
{"nick":"bnoordhuis","message":"(though hiragana is probably in the BMP as well)","date":"2013-08-09T09:37:28.001Z","type":"message"}
{"nick":"bajtos","message":"2. opening files with a name coming from the end-user - this should be ok as long as browser/CLI converts the value to UTF8 before it gets into node","date":"2013-08-09T09:37:48.109Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2013-08-09T09:37:55.554Z","type":"message"}
{"nick":"bajtos","message":"asking koichi is a good idea, Asian languages are much difficult to support","date":"2013-08-09T09:38:15.267Z","type":"message"}
{"nick":"bnoordhuis","message":"unices don't do that, of course. file paths are just byte strings","date":"2013-08-09T09:38:15.480Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah","date":"2013-08-09T09:38:38.537Z","type":"message"}
{"nick":"wolfeida_","date":"2013-08-09T09:39:13.760Z","type":"join"}
{"nick":"dominictarr","date":"2013-08-09T09:40:00.963Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 276 seconds","date":"2013-08-09T09:41:54.800Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002f674b09\u0002 : src: use v8::String::NewFrom*() functions - http://git.io/I-sHpw","date":"2013-08-09T09:48:35.598Z","type":"message"}
{"nick":"bnoordhuis","message":"29 files changed, 749 insertions(+), 514 deletions(-)","date":"2013-08-09T09:48:49.444Z","type":"message"}
{"nick":"bnoordhuis","message":"749 insertions that don't have a really positive aesthetic effect but oh well","date":"2013-08-09T09:49:43.279Z","type":"message"}
{"nick":"stagas","date":"2013-08-09T09:53:52.325Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #392 \u00034FAILURE\u000f smartos-ia32 (2/621) smartos-x64 (8/621) linux-x64 (1/621) http://jenkins.nodejs.org/job/nodejs-master/392/","date":"2013-08-09T09:57:48.777Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #193 \u00034FAILURE\u000f http://jenkins.nodejs.org/job/nodejs-master-windows/193/","date":"2013-08-09T09:58:24.782Z","type":"message"}
{"nick":"roxlu","date":"2013-08-09T09:59:25.941Z","type":"join"}
{"nick":"roxlu","message":"hey! ","date":"2013-08-09T09:59:32.222Z","type":"message"}
{"nick":"roxlu","message":"I just found something interesting on windows; I'm using the uv_pipe* features for ipc","date":"2013-08-09T10:00:04.882Z","type":"message"}
{"nick":"wolfeida_","reason":"Ping timeout: 240 seconds","date":"2013-08-09T10:00:14.584Z","type":"quit"}
{"nick":"roxlu","message":"and I noticed that when I try to connect to a pipe, I always got 2 connections for one client;","date":"2013-08-09T10:00:29.856Z","type":"message"}
{"nick":"bnoordhuis","message":"make[1]: *** [/Volumes/External/jenkins/workspace/nodejs-master/929cb465/out/Release/obj.target/cares/deps/cares/src/ares_parse_a_reply.o] Segmentation fault: 11 <- nice...","date":"2013-08-09T10:00:40.641Z","type":"message"}
{"nick":"roxlu","message":"I debugged it and it seems that checking if a file exists \"opens\" a connection","date":"2013-08-09T10:00:50.636Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm guessing gcc ran out of memory there","date":"2013-08-09T10:01:00.355Z","type":"message"}
{"nick":"roxlu","message":"Therefore I was wondering how you guys check if a pipe exists ?","date":"2013-08-09T10:01:24.229Z","type":"message"}
{"nick":"bnoordhuis","message":"roxlu: you're using uv_pipe_connect()?","date":"2013-08-09T10:01:51.532Z","type":"message"}
{"nick":"roxlu","message":"yes","date":"2013-08-09T10:02:04.500Z","type":"message"}
{"nick":"roxlu","message":"bnoordhuis: I do something like: ","date":"2013-08-09T10:02:18.870Z","type":"message"}
{"nick":"roxlu","message":"bnoordhuis: if(!rx_file_exists(\"\\\\\\.\\\\pipe\\myapp\")) { return err; } uv_pipe_init().. uv_pipe_connect","date":"2013-08-09T10:02:51.701Z","type":"message"}
{"nick":"bnoordhuis","message":"ah... checking if a file exists before doing something with it is something of an anti-pattern","date":"2013-08-09T10:03:19.484Z","type":"message"}
{"nick":"roxlu","message":"ah I c","date":"2013-08-09T10:03:30.364Z","type":"message"}
{"nick":"roxlu","message":"so.. I should remove that and check the result of connect/write ? ","date":"2013-08-09T10:03:43.710Z","type":"message"}
{"nick":"bnoordhuis","message":"it's inherently race-y. just do it and handle the error if the file/pipe/whatever isn't there","date":"2013-08-09T10:03:44.504Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-08-09T10:03:50.009Z","type":"message"}
{"nick":"roxlu","message":"thanks man! ","date":"2013-08-09T10:04:28.998Z","type":"message"}
{"nick":"bnoordhuis","message":"np :)","date":"2013-08-09T10:05:46.084Z","type":"message"}
{"nick":"roxlu","message":"then my next thing I need to look into ... when I try to connect I get \"operation not permitted\"","date":"2013-08-09T10:06:43.726Z","type":"message"}
{"nick":"hz","date":"2013-08-09T10:08:41.203Z","type":"quit"}
{"nick":"hz","date":"2013-08-09T10:09:02.772Z","type":"join"}
{"nick":"wolfeidau","date":"2013-08-09T10:10:30.779Z","type":"join"}
{"nick":"roxlu","message":"so that's an EPERM error","date":"2013-08-09T10:13:37.075Z","type":"message"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-08-09T10:15:14.405Z","type":"quit"}
{"nick":"bnoordhuis","message":"roxlu: that's still on windows?","date":"2013-08-09T10:16:08.350Z","type":"message"}
{"nick":"roxlu","message":"yeah","date":"2013-08-09T10:16:32.825Z","type":"message"}
{"nick":"roxlu","message":"I'm trying to see if the pipe exists using \"Process Explorer\"","date":"2013-08-09T10:16:54.686Z","type":"message"}
{"nick":"roxlu","message":"(pretty sure it exists)","date":"2013-08-09T10:17:01.517Z","type":"message"}
{"nick":"wolfeida_","date":"2013-08-09T10:17:53.533Z","type":"join"}
{"nick":"roxlu","message":"ah found it","date":"2013-08-09T10:18:37.953Z","type":"message"}
{"nick":"roxlu","message":"I started my pipe in a administrator console","date":"2013-08-09T10:18:47.872Z","type":"message"}
{"nick":"roxlu","message":"wasn't aware that that made the pipe unavailable for other users :#","date":"2013-08-09T10:19:04.645Z","type":"message"}
{"nick":"wolfeida_","reason":"Read error: Connection reset by peer","date":"2013-08-09T10:19:43.130Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-08-09T10:20:04.772Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 256 seconds","date":"2013-08-09T10:21:29.206Z","type":"quit"}
{"nick":"Damn3d","reason":"Ping timeout: 246 seconds","date":"2013-08-09T10:28:52.883Z","type":"quit"}
{"nick":"wolfeida_","reason":"Read error: No route to host","date":"2013-08-09T10:29:40.178Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T10:30:51.719Z","type":"join"}
{"nick":"Damn3d","date":"2013-08-09T10:31:11.039Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-08-09T10:31:27.973Z","type":"quit"}
{"nick":"felixge","date":"2013-08-09T10:34:44.978Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2013-08-09T10:34:57.270Z","type":"quit"}
{"nick":"felixge","date":"2013-08-09T10:35:07.218Z","type":"join"}
{"nick":"wolfeida_","date":"2013-08-09T10:56:29.441Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 240 seconds","date":"2013-08-09T10:57:02.542Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-08-09T10:59:41.248Z","type":"quit"}
{"nick":"wolfeida_","reason":"Read error: Connection reset by peer","date":"2013-08-09T11:09:04.256Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-08-09T11:10:31.281Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/joyent/node/issues/6024","date":"2013-08-09T11:25:03.684Z","type":"message"}
{"nick":"bajtos","date":"2013-08-09T11:45:12.129Z","type":"join"}
{"nick":"Damn3d","reason":"Ping timeout: 264 seconds","date":"2013-08-09T11:50:02.787Z","type":"quit"}
{"nick":"Damn3d","date":"2013-08-09T11:51:51.747Z","type":"join"}
{"nick":"paddybyers","date":"2013-08-09T11:59:44.775Z","type":"join"}
{"nick":"pachet","date":"2013-08-09T12:19:59.165Z","type":"join"}
{"nick":"mcavage","date":"2013-08-09T12:22:17.544Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: pong","date":"2013-08-09T12:24:34.221Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ok","date":"2013-08-09T12:24:39.116Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: also, a question about cyrillic file paths","date":"2013-08-09T12:25:24.442Z","type":"message"}
{"nick":"indutny","message":"cyrillic file paths?","date":"2013-08-09T12:25:31.477Z","type":"message"}
{"nick":"bnoordhuis","message":"well, what character set encodings are common in russia?","date":"2013-08-09T12:25:45.889Z","type":"message"}
{"nick":"bnoordhuis","message":"node for better or worse uses utf-8 internally for file paths","date":"2013-08-09T12:26:08.694Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-08-09T12:26:13.471Z","type":"message"}
{"nick":"indutny","message":"cyrillic","date":"2013-08-09T12:26:15.300Z","type":"message"}
{"nick":"indutny","message":"doesn't it work with it?","date":"2013-08-09T12:26:23.215Z","type":"message"}
{"nick":"indutny","message":"I'm not really using russian file names, though","date":"2013-08-09T12:26:39.783Z","type":"message"}
{"nick":"bnoordhuis","message":"well, unix paths are byte strings and not all byte strings are valid utf-8","date":"2013-08-09T12:26:43.551Z","type":"message"}
{"nick":"hz","reason":"Ping timeout: 248 seconds","date":"2013-08-09T12:26:45.740Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T12:26:49.981Z","type":"quit"}
{"nick":"mcavage","reason":"Ping timeout: 264 seconds","date":"2013-08-09T12:26:52.388Z","type":"quit"}
{"nick":"bnoordhuis","message":"i was wondering if that's a common issue for russian node programmers","date":"2013-08-09T12:27:17.206Z","type":"message"}
{"nick":"bnoordhuis","message":"but apparently it isn't for you :)","date":"2013-08-09T12:27:23.227Z","type":"message"}
{"nick":"bnoordhuis","message":"apropos nothing, the per-message SCM_RIGHTS limit on linux is... 253!","date":"2013-08-09T12:32:11.082Z","type":"message"}
{"nick":"bnoordhuis","message":"i wonder who came up with that number. and why","date":"2013-08-09T12:32:20.267Z","type":"message"}
{"nick":"kazupon","date":"2013-08-09T12:33:35.556Z","type":"join"}
{"nick":"indutny","message":"heh","date":"2013-08-09T12:33:42.700Z","type":"message"}
{"nick":"indutny","message":"is it an argument of setsockopt?","date":"2013-08-09T12:34:26.170Z","type":"message"}
{"nick":"M28","reason":"Ping timeout: 240 seconds","date":"2013-08-09T12:34:38.542Z","type":"quit"}
{"nick":"indutny","message":"ah, no","date":"2013-08-09T12:34:45.268Z","type":"message"}
{"nick":"indutny","message":"http://linux.die.net/man/3/cmsg","date":"2013-08-09T12:34:45.644Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-08-09T12:35:15.217Z","type":"message"}
{"nick":"indutny","message":"why 253 then? :)","date":"2013-08-09T12:35:17.576Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-08-09T12:35:24.632Z","type":"quit"}
{"nick":"indutny","message":"probably because header has sizeof 3?","date":"2013-08-09T12:35:32.148Z","type":"message"}
{"nick":"M28","date":"2013-08-09T12:36:43.772Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 248 seconds","date":"2013-08-09T12:39:33.782Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: don't think so. the cmsg payload is independent of the cmsg header","date":"2013-08-09T12:51:30.088Z","type":"message"}
{"nick":"indutny","message":"oh, well","date":"2013-08-09T12:51:44.103Z","type":"message"}
{"nick":"bnoordhuis","message":"oh well indeed","date":"2013-08-09T12:51:50.810Z","type":"message"}
{"nick":"indutny","message":"you should look in kernel sources","date":"2013-08-09T12:51:52.232Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i did. couldn't really find anything","date":"2013-08-09T12:52:07.380Z","type":"message"}
{"nick":"bnoordhuis","message":"didn't spend hours on it though :)","date":"2013-08-09T12:52:13.981Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-08-09T12:52:23.566Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-08-09T12:52:24.360Z","type":"message"}
{"nick":"indutny","message":"so what about that _tlsError PR?","date":"2013-08-09T12:52:30.375Z","type":"message"}
{"nick":"indutny","message":"have you got a chance to take a look at it?","date":"2013-08-09T12:52:36.550Z","type":"message"}
{"nick":"bnoordhuis","message":"not yet. maybe later today. i'm heading out though, biab","date":"2013-08-09T12:53:19.842Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/pull/6009","date":"2013-08-09T12:53:32.671Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ok","date":"2013-08-09T12:53:38.909Z","type":"message"}
{"nick":"jmar777","date":"2013-08-09T12:55:14.178Z","type":"join"}
{"nick":"mikeal","date":"2013-08-09T12:56:59.517Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-08-09T12:58:18.228Z","type":"quit"}
{"nick":"abraxas","date":"2013-08-09T13:00:03.607Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 248 seconds","date":"2013-08-09T13:04:37.755Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2013-08-09T13:06:42.210Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-09T13:08:13.465Z","type":"join"}
{"nick":"mcavage","date":"2013-08-09T13:22:35.539Z","type":"join"}
{"nick":"bradleymeck","date":"2013-08-09T13:23:01.189Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-08-09T13:25:03.321Z","type":"quit"}
{"nick":"mcavage","reason":"Ping timeout: 264 seconds","date":"2013-08-09T13:27:28.334Z","type":"quit"}
{"nick":"Dasmyller","reason":"Ping timeout: 264 seconds","date":"2013-08-09T13:28:04.447Z","type":"quit"}
{"nick":"Dasmyller","date":"2013-08-09T13:29:27.952Z","type":"join"}
{"nick":"mikeal","date":"2013-08-09T13:30:31.387Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-08-09T13:32:20.818Z","type":"quit"}
{"nick":"kazupon","date":"2013-08-09T13:45:50.492Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 264 seconds","date":"2013-08-09T13:46:07.056Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-08-09T13:48:19.751Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-08-09T13:50:30.232Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-08-09T13:51:03.814Z","type":"join"}
{"nick":"wavded","date":"2013-08-09T13:55:57.779Z","type":"join"}
{"nick":"hz","date":"2013-08-09T13:56:05.795Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-08-09T13:58:46.581Z","type":"quit"}
{"nick":"bajtos","date":"2013-08-09T13:58:48.423Z","type":"join"}
{"nick":"hz","date":"2013-08-09T13:58:51.043Z","type":"join"}
{"nick":"hz","reason":"Client Quit","date":"2013-08-09T14:03:10.159Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-09T14:09:20.768Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-08-09T14:19:33.028Z","type":"quit"}
{"nick":"mcavage","date":"2013-08-09T14:22:55.032Z","type":"join"}
{"nick":"bradleymeck","date":"2013-08-09T14:25:07.582Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-08-09T14:26:42.072Z","type":"quit"}
{"nick":"mcavage","reason":"Ping timeout: 248 seconds","date":"2013-08-09T14:27:17.728Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T14:28:21.480Z","type":"join"}
{"nick":"AvianFlu","date":"2013-08-09T14:45:02.135Z","type":"join"}
{"nick":"mcavage","date":"2013-08-09T14:57:56.762Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-09T15:02:04.966Z","type":"quit"}
{"nick":"groundwater","date":"2013-08-09T15:05:06.199Z","type":"join"}
{"nick":"indexzero","date":"2013-08-09T15:14:53.013Z","type":"join"}
{"nick":"bajtos","date":"2013-08-09T15:19:08.371Z","type":"join"}
{"nick":"bradleymeck","reason":"Remote host closed the connection","date":"2013-08-09T15:28:04.865Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T15:28:43.048Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: src\\node.cc(2154): error C3861: 'TWO_BYTE_STRING': identifier not found [g:\\jenkins\\workspace\\nodejs-master-windows\\eec653f3\\node.vcxproj]","date":"2013-08-09T15:31:57.545Z","type":"message"}
{"nick":"tjfontaine","message":"http://jenkins.nodejs.org/job/nodejs-master-windows/193/DESTCPU=ia32,label=windows/console","date":"2013-08-09T15:32:05.420Z","type":"message"}
{"nick":"kenperkins","date":"2013-08-09T15:36:13.815Z","type":"join"}
{"nick":"julianduque","date":"2013-08-09T15:39:40.164Z","type":"join"}
{"nick":"bnoordhuis","message":"tjfontaine: aw","date":"2013-08-09T15:40:48.037Z","type":"message"}
{"nick":"amartens","date":"2013-08-09T15:41:02.725Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033bnoordhuis\u000f created branch fix-windows-build - http://git.io/tXyyIw","date":"2013-08-09T15:45:13.218Z","type":"message"}
{"nick":"bnoordhuis","message":"c'mon jenkins, do yo thang","date":"2013-08-09T15:46:31.614Z","type":"message"}
{"nick":"paulfryzel","reason":"Read error: Connection reset by peer","date":"2013-08-09T16:07:32.939Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-08-09T16:08:08.521Z","type":"join"}
{"nick":"bradleymeck","reason":"Remote host closed the connection","date":"2013-08-09T16:10:05.813Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T16:10:32.480Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-09T16:15:05.901Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-09T16:15:42.571Z","type":"quit"}
{"nick":"dap","date":"2013-08-09T16:27:18.754Z","type":"join"}
{"nick":"tjfontaine","message":"hmm bnoordhuis odd that jenkins didn't","date":"2013-08-09T16:28:07.250Z","type":"message"}
{"nick":"tjfontaine","message":"triggered manually","date":"2013-08-09T16:28:43.137Z","type":"message"}
{"nick":"wavded","reason":"Quit: Nighty night","date":"2013-08-09T16:30:30.148Z","type":"quit"}
{"nick":"austo","date":"2013-08-09T16:33:27.847Z","type":"join"}
{"nick":"bnoordhuis","message":"thanks, tj","date":"2013-08-09T16:33:41.598Z","type":"message"}
{"nick":"tjfontaine","message":"no, thank *you* :)","date":"2013-08-09T16:33:53.587Z","type":"message"}
{"nick":"tjfontaine","message":"not sure why the mac build earlier to segfaulted, that's worrisome, more about the mac mini it's on than about node :)","date":"2013-08-09T16:34:24.371Z","type":"message"}
{"nick":"nsm","reason":"Quit: ZNC - http://znc.in","date":"2013-08-09T16:34:29.813Z","type":"quit"}
{"nick":"tjfontaine","message":"*earlier today","date":"2013-08-09T16:34:30.273Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T16:35:18.003Z","type":"join"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T16:35:57.299Z","type":"quit"}
{"nick":"nsm","date":"2013-08-09T16:36:31.548Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-08-09T16:37:40.752Z","type":"quit"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T16:38:15.876Z","type":"quit"}
{"nick":"nsm","date":"2013-08-09T16:39:09.762Z","type":"join"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T16:41:33.915Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002422b334\u0002 : dgram: don't call into js when send cb is omitted (+1 more commits) - http://git.io/bQBtxQ","date":"2013-08-09T16:44:27.195Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: it's probably because gcc ran out of memory. i don't think it checks for NULL return values from malloc() anywhere","date":"2013-08-09T16:45:14.557Z","type":"message"}
{"nick":"tjfontaine","message":"heh, well it's clang, but that's distressing to hear either way :)","date":"2013-08-09T16:45:43.691Z","type":"message"}
{"nick":"bnoordhuis","message":"that said, i don't know if malloc() ever returns null on os x","date":"2013-08-09T16:45:58.950Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-09T16:46:14.247Z","type":"nick"}
{"nick":"trevnorris","message":"morning","date":"2013-08-09T16:47:03.047Z","type":"message"}
{"nick":"tjfontaine","message":"morn","date":"2013-08-09T16:47:13.184Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #194 \u00034FAILURE\u000f http://jenkins.nodejs.org/job/nodejs-master-windows/194/","date":"2013-08-09T16:47:22.242Z","type":"message"}
{"nick":"trevnorris","message":"anyone mind reviewing https://github.com/joyent/node/pull/6019","date":"2013-08-09T16:48:15.544Z","type":"message"}
{"nick":"bnoordhuis","message":"..\\..\\src\\runtime-profiler.cc : fatal error C1090: PDB API call failed, error code '23' : '( [g:\\jenkins\\workspace\\nodejs-master-windows\\eec653f3\\deps\\v8\\tools\\gyp\\v8_base.ia32.vcxproj] <- wut?","date":"2013-08-09T16:48:47.654Z","type":"message"}
{"nick":"tjfontaine","message":"god damn jenkins, as it turns out jenkins kills too many processes","date":"2013-08-09T16:49:16.466Z","type":"message"}
{"nick":"tjfontaine","message":"I pasted a link abotu this when I did the 0.11.5 build","date":"2013-08-09T16:49:32.881Z","type":"message"}
{"nick":"tjfontaine","message":"you *can't* run windows builds in parallel.","date":"2013-08-09T16:49:41.086Z","type":"message"}
{"nick":"tjfontaine","message":":/","date":"2013-08-09T16:49:41.869Z","type":"message"}
{"nick":"tjfontaine","message":"strike 9001","date":"2013-08-09T16:49:54.410Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: why the obsession with exporting things in node.h?","date":"2013-08-09T16:51:00.657Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: the review branch went fine though","date":"2013-08-09T16:51:23.913Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: as an optimizer fanatic, you should consider node.h the seventh ring of hell","date":"2013-08-09T16:51:31.470Z","type":"message"}
{"nick":"tjfontaine","message":"http://jenkins.nodejs.org/job/node-review/55/DESTCPU=x64,label=windows/console","date":"2013-08-09T16:51:33.233Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: i'm working on another patch that'll let users build their own domain like modules, which will require them to know when they're actively in a domain","date":"2013-08-09T16:51:41.872Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: for one, exported functions go through the PLT","date":"2013-08-09T16:51:44.712Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: not just when the domain module has been loaded.","date":"2013-08-09T16:51:48.518Z","type":"message"}
{"nick":"bnoordhuis","message":"(at least, on unices)","date":"2013-08-09T16:52:01.784Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: thanks","date":"2013-08-09T16:52:12.169Z","type":"message"}
{"nick":"trevnorris","message":"PLT?","date":"2013-08-09T16:52:19.946Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: google :)","date":"2013-08-09T16:53:18.161Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2013-08-09T16:53:20.647Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #393 \u00037UNSTABLE\u000f smartos-ia32 (2/622) smartos-x64 (8/622) http://jenkins.nodejs.org/job/nodejs-master/393/","date":"2013-08-09T16:53:33.374Z","type":"message"}
{"nick":"bnoordhuis","message":"hm, some worrisome warnings there, on the windows build","date":"2013-08-09T16:53:48.129Z","type":"message"}
{"nick":"bnoordhuis","message":"g:\\jenkins\\workspace\\node-review\\1d92f228\\deps\\uv\\src\\uv-common.c(476): warning C4715: 'uv__getaddrinfo_translate_error' : not all control paths return a value [g:\\jenkins\\workspace\\node-review\\1d92f228\\node.vcxproj]","date":"2013-08-09T16:53:58.018Z","type":"message"}
{"nick":"bnoordhuis","message":"g:\\jenkins\\workspace\\node-review\\1d92f228\\deps\\uv\\src\\win\\tcp.c(439): warning C4700: uninitialized local variable 'buf' used [g:\\jenkins\\workspace\\node-review\\1d92f228\\node.vcxproj]","date":"2013-08-09T16:54:02.020Z","type":"message"}
{"nick":"bnoordhuis","message":"that's not the kind of warning you want to see in your project","date":"2013-08-09T16:54:07.890Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: plt may not be easy to google, Procedure Linkage Table is the name of it :P","date":"2013-08-09T16:54:35.638Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: thanks, funny though because that just links to \"dynamic linker\" at least on wiki","date":"2013-08-09T16:55:04.407Z","type":"message"}
{"nick":"bnoordhuis","message":"also...","date":"2013-08-09T16:55:10.996Z","type":"message"}
{"nick":"bnoordhuis","message":"../../src/udp_wrap.cc: In constructor ‘node::SendWrap::SendWrap(v8::Local<v8::Object>, bool)’:","date":"2013-08-09T16:55:11.320Z","type":"message"}
{"nick":"bnoordhuis","message":"../../src/udp_wrap.cc:66: error: class ‘node::SendWrap’ does not have any field named ‘ReqWrap’","date":"2013-08-09T16:55:14.505Z","type":"message"}
{"nick":"bnoordhuis","message":"wtf apple-clang?","date":"2013-08-09T16:55:20.138Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000278f709d\u0002 : src: fix windows build breakage from f674b09 (+1 more commits) - http://git.io/Z9qocQ","date":"2013-08-09T16:57:17.500Z","type":"message"}
{"nick":"bnoordhuis","message":"fsck it, force-pushed the fix","date":"2013-08-09T16:57:29.564Z","type":"message"}
{"nick":"bnoordhuis","message":"apparently the clang apple ships is too weak to figure out that ReqWrap(...) means 'call the constructor' when your class derives from ReqWrap<uv_udp_send_t>","date":"2013-08-09T16:58:08.599Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-09T17:01:57.081Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: I decided to export those functions because I consider them necessary api additions to finish implementing https://github.com/joyent/node/pull/6011","date":"2013-08-09T17:02:50.781Z","type":"message"}
{"nick":"tjfontaine","message":"Rollback to 3.20.12.1, the last known \"good\" V8 in preparation for the Chrome","date":"2013-08-09T17:04:20.074Z","type":"message"}
{"nick":"tjfontaine","message":"M30 branch.","date":"2013-08-09T17:04:21.179Z","type":"message"}
{"nick":"tjfontaine","message":"heh, kinda scary to see conversations like that :)","date":"2013-08-09T17:04:32.264Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #394 \u00037UNSTABLE\u000f smartos-ia32 (2/622) smartos-x64 (9/622) http://jenkins.nodejs.org/job/nodejs-master/394/","date":"2013-08-09T17:06:16.637Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002db1dccb\u0002 : windows: fix missing return value warning (+1 more commits) - http://git.io/n9WDmQ","date":"2013-08-09T17:07:34.657Z","type":"message"}
{"nick":"bradleymeck","date":"2013-08-09T17:08:07.011Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-08-09T17:08:24.915Z","type":"quit"}
{"nick":"bnoordhuis","message":"trevnorris: looking","date":"2013-08-09T17:08:25.662Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: sec. to appease the moment i've moved it to node_internals. i'll move it back in the other pr if absolutely proves to be necessary.","date":"2013-08-09T17:09:03.744Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: well, the reason i bring up is this: are you prepared to support those two functions for the next five years, come what may?","date":"2013-08-09T17:10:50.214Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-08-09T17:11:06.491Z","type":"quit"}
{"nick":"bnoordhuis","message":"that's essentially how you should view api additions at this point","date":"2013-08-09T17:11:30.403Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: yes I am. the api changes are so we never have to be bothered by what others want domains to be","date":"2013-08-09T17:11:58.190Z","type":"message"}
{"nick":"trevnorris","message":"or how much error handling we should implement, etc.","date":"2013-08-09T17:12:11.494Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-08-09T17:14:41.623Z","type":"quit"}
{"nick":"st_luke","date":"2013-08-09T17:20:30.997Z","type":"join"}
{"nick":"bnoordhuis","message":"creationix: congrats tim","date":"2013-08-09T17:22:22.357Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you're ben","date":"2013-08-09T17:22:38.621Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: only on even days","date":"2013-08-09T17:23:27.779Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: on odd days, i'm batman!","date":"2013-08-09T17:23:45.155Z","type":"message"}
{"nick":"indexzero","date":"2013-08-09T17:23:52.455Z","type":"join"}
{"nick":"bnoordhuis","message":"as i like to say \"programmer by night, crime fighter by day\"","date":"2013-08-09T17:24:03.538Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #155 \u00034FAILURE\u000f linux (2/191) windows (3/192) http://jenkins.nodejs.org/job/libuv-master/155/","date":"2013-08-09T17:25:44.970Z","type":"message"}
{"nick":"tjfontaine","message":"right, I need to do that today","date":"2013-08-09T17:26:23.881Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #94 \u00037UNSTABLE\u000f windows-x64 (3/192) linux-x64 (1/191) smartos-ia32 (3/191) osx-ia32 (1/192) smartos-x64 (2/191) windows-ia32 (3/192) osx-x64 (1/192) http://jenkins.nodejs.org/job/libuv-master-gyp/94/","date":"2013-08-09T17:26:34.977Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #395 \u00037UNSTABLE\u000f smartos-ia32 (2/622) smartos-x64 (9/622) http://jenkins.nodejs.org/job/nodejs-master/395/","date":"2013-08-09T17:27:25.006Z","type":"message"}
{"nick":"indexzero","reason":"Client Quit","date":"2013-08-09T17:28:11.418Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-08-09T17:30:01.134Z","type":"join"}
{"nick":"indexzero","date":"2013-08-09T17:31:58.532Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2013-08-09T17:32:37.687Z","type":"quit"}
{"nick":"hz","date":"2013-08-09T17:36:21.586Z","type":"join"}
{"nick":"dshaw_","date":"2013-08-09T17:36:23.901Z","type":"join"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-08-09T17:37:54.385Z","type":"quit"}
{"nick":"paulfryzel","reason":"Remote host closed the connection","date":"2013-08-09T17:41:43.881Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-08-09T17:42:18.749Z","type":"join"}
{"nick":"paulfryz_","date":"2013-08-09T17:43:02.989Z","type":"join"}
{"nick":"creationix","message":"bnoordhuis, thanks","date":"2013-08-09T17:44:00.832Z","type":"message"}
{"nick":"paulfryzel","reason":"Ping timeout: 240 seconds","date":"2013-08-09T17:46:14.540Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: curious. process.domain isn't documented anywhere I can see, but do we consider it public api?","date":"2013-08-09T17:47:19.635Z","type":"message"}
{"nick":"paulfryz_","reason":"Ping timeout: 276 seconds","date":"2013-08-09T17:48:06.780Z","type":"quit"}
{"nick":"sblom","date":"2013-08-09T17:50:33.593Z","type":"join"}
{"nick":"wavded","date":"2013-08-09T17:55:45.175Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: any obvious problems with https://github.com/joyent/node/pull/6019 ?","date":"2013-08-09T18:02:07.233Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T18:11:22.499Z","type":"join"}
{"nick":"c4milo","date":"2013-08-09T18:18:15.957Z","type":"join"}
{"nick":"kenperkins","date":"2013-08-09T18:18:43.937Z","type":"join"}
{"nick":"pachet","date":"2013-08-09T18:29:53.182Z","type":"join"}
{"nick":"pachet","reason":"Changing host","date":"2013-08-09T18:29:53.182Z","type":"quit"}
{"nick":"pachet","date":"2013-08-09T18:29:53.183Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ping","date":"2013-08-09T18:30:58.330Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-08-09T18:35:17.754Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T18:35:22.335Z","type":"join"}
{"nick":"bradleymeck","date":"2013-08-09T18:37:05.180Z","type":"join"}
{"nick":"tjfontaine","message":"wtf gyp, https://gist.github.com/tjfontaine/6196041","date":"2013-08-09T18:43:22.957Z","type":"message"}
{"nick":"trevnorris","message":"hah, tjfontaine you've just been having great luck today.","date":"2013-08-09T18:45:18.298Z","type":"message"}
{"nick":"trevnorris","message":"bbiab","date":"2013-08-09T18:45:47.997Z","type":"message"}
{"nick":"trevnorris","action":"&","date":"2013-08-09T18:45:49.339Z","type":"action"}
{"nick":"LOUDBOT","message":"IT SHOULDN'T COVER EVERYTHING!","date":"2013-08-09T18:45:49.918Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-08-09T18:47:03.899Z","type":"quit"}
{"nick":"hz","date":"2013-08-09T18:49:26.012Z","type":"join"}
{"nick":"`3E","new_nick":"`3rdEden","date":"2013-08-09T18:52:10.415Z","type":"nick"}
{"nick":"isaacs","message":"trevnorris: pong","date":"2013-08-09T19:00:17.218Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah... people figured it out.  they're using it.","date":"2013-08-09T19:00:24.722Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we should probably document it","date":"2013-08-09T19:00:28.601Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T19:00:31.481Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: it's in blog posts and shit","date":"2013-08-09T19:00:34.021Z","type":"message"}
{"nick":"sblom","reason":"Ping timeout: 240 seconds","date":"2013-08-09T19:12:49.031Z","type":"quit"}
{"nick":"hz","date":"2013-08-09T19:15:15.412Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-08-09T19:17:33.913Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T19:26:06.271Z","type":"quit"}
{"nick":"sblom","date":"2013-08-09T19:32:38.363Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-08-09T19:41:19.207Z","type":"join"}
{"nick":"indexzero","date":"2013-08-09T19:42:37.377Z","type":"join"}
{"nick":"nsm","reason":"Quit: ZNC - http://znc.in","date":"2013-08-09T19:45:48.489Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-08-09T19:46:07.000Z","type":"quit"}
{"nick":"nsm","date":"2013-08-09T19:46:27.583Z","type":"join"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T19:47:47.339Z","type":"quit"}
{"nick":"nsm","date":"2013-08-09T19:50:22.931Z","type":"join"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T19:52:08.261Z","type":"quit"}
{"nick":"bradleymeck","reason":"Remote host closed the connection","date":"2013-08-09T19:59:02.473Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T19:59:36.450Z","type":"join"}
{"nick":"nsm","date":"2013-08-09T20:00:25.354Z","type":"join"}
{"nick":"groundwater","message":"is there a preferred/sane way to give Javascript objects hidden c++ properties that can be passed around in JS land, but only accessed from c++ land?","date":"2013-08-09T20:00:40.580Z","type":"message"}
{"nick":"groundwater","message":"i am trying to avoid constantly converting between the two worlds","date":"2013-08-09T20:00:51.012Z","type":"message"}
{"nick":"kuplatupsu","message":"there are internal pointers","date":"2013-08-09T20:07:37.195Z","type":"message"}
{"nick":"nsm","reason":"Quit: ZNC - http://znc.in","date":"2013-08-09T20:10:41.782Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-08-09T20:12:28.379Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T20:13:08.328Z","type":"join"}
{"nick":"tjfontaine","message":"groundwater: SetHiddenValue","date":"2013-08-09T20:13:24.583Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine, groundwater: Or you could use trevnorris's new trick :)","date":"2013-08-09T20:14:36.079Z","type":"message"}
{"nick":"groundwater","message":"@tjfontaine: i still have to wrap those in JS types","date":"2013-08-09T20:14:37.640Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-08-09T20:14:48.215Z","type":"join"}
{"nick":"groundwater","message":"i want to store raw c types","date":"2013-08-09T20:14:49.002Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T20:15:05.737Z","type":"join"}
{"nick":"groundwater","message":"@isaacs: where can i learn trevnorris's trick?","date":"2013-08-09T20:15:13.688Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: External is your friend.","date":"2013-08-09T20:15:44.864Z","type":"message"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T20:15:56.571Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris's trick is quite evil, and I think External is much more straight forward for someone who comes back to see what it is","date":"2013-08-09T20:16:08.751Z","type":"message"}
{"nick":"EhevuTov","date":"2013-08-09T20:16:13.624Z","type":"join"}
{"nick":"isaacs","message":"groundwater:   obj->SetIndexedPropertiesToExternalArrayData(data, type, size);","date":"2013-08-09T20:16:35.497Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: presuming of coures when you say \"raw c types\" you actually mean pointers to things","date":"2013-08-09T20:16:38.768Z","type":"message"}
{"nick":"groundwater","message":"@isaacs @tjfontaine thanks, i'll look over each","date":"2013-08-09T20:17:28.324Z","type":"message"}
{"nick":"isaacs","message":"groundwater: then later, obj->GetIndexedPropertiesExternalArrayData()","date":"2013-08-09T20:17:40.159Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: if what you want is to represent a handle to a C resource, that can be passed around and reused other places you want External, and just pass it straight to JS, you don't need to muck with hidden pieces","date":"2013-08-09T20:17:41.474Z","type":"message"}
{"nick":"isaacs","message":"groundwater: yes, External is the way to go, probably","date":"2013-08-09T20:18:00.273Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T20:18:08.182Z","type":"join"}
{"nick":"tjfontaine","message":"External is an opaque wrapper to C memory","date":"2013-08-09T20:18:10.301Z","type":"message"}
{"nick":"dshaw_","date":"2013-08-09T20:18:23.544Z","type":"join"}
{"nick":"groundwater","message":"i think External will be my first attempt","date":"2013-08-09T20:18:24.321Z","type":"message"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T20:18:37.512Z","type":"quit"}
{"nick":"groundwater","message":"though SetIndexedPropertiesToExternalArrayData is a longer name, so it's probably better /s","date":"2013-08-09T20:18:47.769Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-08-09T20:18:57.173Z","type":"message"}
{"nick":"isaacs","message":"ok, back to the outgoingmessage mines :)","date":"2013-08-09T20:19:07.488Z","type":"message"}
{"nick":"isaacs","message":"groundwater: yeah, it's way more extrasuperdoubleplusgood","date":"2013-08-09T20:19:25.394Z","type":"message"}
{"nick":"groundwater","message":"is there an AbstractSingletonFactory version?","date":"2013-08-09T20:20:23.401Z","type":"message"}
{"nick":"tjfontaine","message":"you missed some templates","date":"2013-08-09T20:20:39.843Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 264 seconds","date":"2013-08-09T20:23:16.381Z","type":"quit"}
{"nick":"groundwater","message":"oh, also, is there a way to free the memory when the JS object is reaped?","date":"2013-08-09T20:23:41.868Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: make it a persistent and do .MakeWeak()","date":"2013-08-09T20:24:37.120Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: a brief document that describes this for the shim I'm writing, http://tjfontaine.github.io/node-addon-layer/md_docs_handle.html","date":"2013-08-09T20:25:04.089Z","type":"message"}
{"nick":"tjfontaine","message":"the shim is a thin C binding to the v8 constructs, so it's pretty straight forward to write that in pure v8 c++","date":"2013-08-09T20:25:46.804Z","type":"message"}
{"nick":"groundwater","message":"ahh, MakeWeak accepts a callback","date":"2013-08-09T20:28:30.513Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T20:29:35.160Z","type":"join"}
{"nick":"groundwater","message":"tjfontaine: is your node-addon-layer ready for use?","date":"2013-08-09T20:30:09.298Z","type":"message"}
{"nick":"isaacs","message":"are http trailers only valid with chunked encoding?","date":"2013-08-09T20:31:21.588Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: it's coming along, there's a guy using it, next week I will have more examples and will be asking for people to start banging on it","date":"2013-08-09T20:31:28.889Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-09T20:33:13.734Z","type":"quit"}
{"nick":"groundwater","message":"tjfontaine: starred","date":"2013-08-09T20:33:59.646Z","type":"message"}
{"nick":"paddybyers","date":"2013-08-09T20:34:37.362Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-08-09T20:35:52.382Z","type":"quit"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-08-09T20:37:02.182Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-09T20:38:10.774Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-08-09T20:38:34.080Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-08-09T20:39:56.484Z","type":"quit"}
{"nick":"sblom","reason":"Ping timeout: 264 seconds","date":"2013-08-09T20:44:52.595Z","type":"quit"}
{"nick":"brson","date":"2013-08-09T20:50:50.732Z","type":"join"}
{"nick":"bnoordhuis","message":"interesting... i've somehow managed to get v8 to enter an infinite loop somewhere in the GC","date":"2013-08-09T20:59:28.086Z","type":"message"}
{"nick":"bnoordhuis","message":"looks like the same busy loop some people have complained about","date":"2013-08-09T20:59:53.387Z","type":"message"}
{"nick":"bnoordhuis","message":"that's with master btw","date":"2013-08-09T20:59:57.436Z","type":"message"}
{"nick":"tjfontaine","message":"what's your memory usage like, were you near the 1.5 limit?","date":"2013-08-09T21:00:19.543Z","type":"message"}
{"nick":"c4milo","date":"2013-08-09T21:01:25.379Z","type":"join"}
{"nick":"bnoordhuis","message":"no, not even remotely close. 580 MB virtual, 12.6 MB rss","date":"2013-08-09T21:01:47.988Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-08-09T21:01:57.022Z","type":"message"}
{"nick":"bnoordhuis","message":"unfortunately the release build is not very debuggable. let's see if i can trigger it with a debug build","date":"2013-08-09T21:02:17.283Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: did you see my comment about dtrace+autotools?","date":"2013-08-09T21:02:40.694Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: no. where/what did i miss?","date":"2013-08-09T21:03:47.373Z","type":"message"}
{"nick":"bradleymeck_","date":"2013-08-09T21:03:50.208Z","type":"join"}
{"nick":"tjfontaine","message":"on the actual github issue","date":"2013-08-09T21:04:01.701Z","type":"message"}
{"nick":"bradleymeck","reason":"Ping timeout: 264 seconds","date":"2013-08-09T21:04:18.276Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-08-09T21:04:18.527Z","type":"nick"}
{"nick":"tjfontaine","message":"using find ${top_builddir}/src -name \\*.o worked in my testing","date":"2013-08-09T21:04:19.559Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, if that fixes it, then land at will","date":"2013-08-09T21:04:41.633Z","type":"message"}
{"nick":"bnoordhuis","message":"there's an issue about freebsd+dtrace too btw","date":"2013-08-09T21:05:01.397Z","type":"message"}
{"nick":"tjfontaine","message":"alright, I'm currently looking into soname and gyp atm, since that's also broken on smartos","date":"2013-08-09T21:05:04.097Z","type":"message"}
{"nick":"tjfontaine","message":"ya, I need to figure out that feature test there","date":"2013-08-09T21:05:11.073Z","type":"message"}
{"nick":"bnoordhuis","message":"soname and gyp? what's broken?","date":"2013-08-09T21:05:27.463Z","type":"message"}
{"nick":"tjfontaine","message":"when gyp is building run-tests it tries to pass soname to building the executable, becase we set soname in 'libraries' instead of using product_extension like v8","date":"2013-08-09T21:06:02.347Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T21:06:25.690Z","type":"quit"}
{"nick":"tjfontaine","message":"and the sun linker says \"ah ah ah, you didn't say the magic word\"","date":"2013-08-09T21:06:26.675Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 264 seconds","date":"2013-08-09T21:06:28.332Z","type":"quit"}
{"nick":"tjfontaine","message":"actually more: \"you're trying to do a nonsense thing, soname doesn't make sense for executable\"","date":"2013-08-09T21:06:42.755Z","type":"message"}
{"nick":"bnoordhuis","message":"ah okay","date":"2013-08-09T21:06:57.528Z","type":"message"}
{"nick":"bnoordhuis","message":"true enough","date":"2013-08-09T21:07:01.906Z","type":"message"}
{"nick":"pachet","reason":"Ping timeout: 264 seconds","date":"2013-08-09T21:07:06.954Z","type":"quit"}
{"nick":"tjfontaine","message":"so I looked at how v8 does it","date":"2013-08-09T21:07:07.415Z","type":"message"}
{"nick":"tjfontaine","message":"'product_extension': 'so.<(soname_version)',","date":"2013-08-09T21:07:16.526Z","type":"message"}
{"nick":"tjfontaine","message":"which I could make gyp_uv actually grab from the version header","date":"2013-08-09T21:07:28.319Z","type":"message"}
{"nick":"bnoordhuis","message":"er, but how does it set the soname field in the ELF header?","date":"2013-08-09T21:07:47.324Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T21:07:54.137Z","type":"join"}
{"nick":"tjfontaine","message":"v8 doesn't appear to in its gyp","date":"2013-08-09T21:08:04.387Z","type":"message"}
{"nick":"tjfontaine","message":"looking further","date":"2013-08-09T21:08:16.468Z","type":"message"}
{"nick":"bnoordhuis","message":"ah. that kind of defeats the purpose of soname, doesn't it?","date":"2013-08-09T21:08:23.334Z","type":"message"}
{"nick":"bnoordhuis","message":"apropos that v8 busy loop:","date":"2013-08-09T21:08:32.365Z","type":"message"}
{"nick":"bnoordhuis","message":"#0  0x000000000077df3e in v8::internal::IncrementalMarkingRootMarkingVisitor::VisitPointers(v8::internal::Object**, v8::internal::Object**) ()","date":"2013-08-09T21:08:34.668Z","type":"message"}
{"nick":"bnoordhuis","message":"#1  0x00000000006558b6 in v8::internal::HandleScopeImplementer::IterateThis(v8::internal::ObjectVisitor*) ()","date":"2013-08-09T21:08:37.875Z","type":"message"}
{"nick":"bnoordhuis","message":"#2  0x0000000000708c2b in v8::internal::Heap::IterateStrongRoots(v8::internal::ObjectVisitor*, v8::internal::VisitMode) ()","date":"2013-08-09T21:08:40.876Z","type":"message"}
{"nick":"bnoordhuis","message":"#3  0x000000000077f5a4 in v8::internal::IncrementalMarking::StartMarking(v8::internal::IncrementalMarking::CompactionFlag) ()","date":"2013-08-09T21:08:43.900Z","type":"message"}
{"nick":"bnoordhuis","message":"#4  0x000000000077f828 in v8::internal::IncrementalMarking::Start(v8::internal::IncrementalMarking::CompactionFlag) ()","date":"2013-08-09T21:08:46.983Z","type":"message"}
{"nick":"bnoordhuis","message":"#5  0x0000000000713b61 in v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollector, char const*, char const*) ()","date":"2013-08-09T21:08:49.890Z","type":"message"}
{"nick":"bnoordhuis","message":"#6  0x00000000006bc2eb in v8::internal::Factory::NewProperSubString(v8::internal::Handle<v8::internal::String>, int, int) ()","date":"2013-08-09T21:08:52.967Z","type":"message"}
{"nick":"bnoordhuis","message":"#7  0x000000000086fec2 in v8::internal::Runtime_StringMatch(int, v8::internal::Object**, v8::internal::Isolate*) ()","date":"2013-08-09T21:08:55.932Z","type":"message"}
{"nick":"bnoordhuis","message":"it's always the same stack trace","date":"2013-08-09T21:08:58.968Z","type":"message"}
{"nick":"bnoordhuis","message":"below #7 are js frames that i can't decode","date":"2013-08-09T21:09:04.460Z","type":"message"}
{"nick":"c4milo","date":"2013-08-09T21:09:19.177Z","type":"join"}
{"nick":"tjfontaine","message":"do you have a test I can play with to see what mdb sees as those js stacks?","date":"2013-08-09T21:09:28.267Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah. however, it requires a patch i'm working on","date":"2013-08-09T21:09:45.820Z","type":"message"}
{"nick":"tjfontaine","message":"mk","date":"2013-08-09T21:09:56.366Z","type":"message"}
{"nick":"bnoordhuis","message":"let me push it to a branch","date":"2013-08-09T21:09:59.475Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/bnoordhuis/node/compare/joyent:master...remove-sethiddenvalue-wip - it's test/simple/test-net-GH-5504.js that hangs 1 out of 3 times","date":"2013-08-09T21:11:39.226Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: ok, I will try it out","date":"2013-08-09T21:11:50.759Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: btw, the test has a three second timeout. you'll want to disable that or else debugging will get hard :)","date":"2013-08-09T21:12:16.338Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-08-09T21:12:25.975Z","type":"message"}
{"nick":"bnoordhuis","message":"of course it's possible i broke things somehow by removing SetHiddenValue()","date":"2013-08-09T21:13:24.039Z","type":"message"}
{"nick":"bnoordhuis","message":"trying to verify that","date":"2013-08-09T21:13:32.519Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, and another thing - it only seems to happen in release builds","date":"2013-08-09T21:14:39.662Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't get it to trigger in debug builds, even after 500 runs :-/","date":"2013-08-09T21:14:57.110Z","type":"message"}
{"nick":"tjfontaine","message":"perhaps trying to gcore this was a bad idea","date":"2013-08-09T21:15:51.003Z","type":"message"}
{"nick":"tjfontaine","message":"it's taking a while","date":"2013-08-09T21:16:00.894Z","type":"message"}
{"nick":"wavded","reason":"Quit: Hasta la pasta","date":"2013-08-09T21:16:01.425Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-09T21:16:03.915Z","type":"quit"}
{"nick":"bnoordhuis","message":"heh","date":"2013-08-09T21:16:14.845Z","type":"message"}
{"nick":"bnoordhuis","message":"adding back the SetHiddenValue() call in stream_wrap.cc doesn't fix it","date":"2013-08-09T21:16:33.992Z","type":"message"}
{"nick":"tjfontaine","message":"2.1 GB","date":"2013-08-09T21:16:48.263Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: https://gist.github.com/tjfontaine/6197295","date":"2013-08-09T21:17:40.436Z","type":"message"}
{"nick":"dshaw_","date":"2013-08-09T21:18:32.993Z","type":"join"}
{"nick":"bnoordhuis","message":"tjfontaine: oh, that's interesting","date":"2013-08-09T21:18:43.676Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess that's a console.log statement somewhere","date":"2013-08-09T21:18:55.470Z","type":"message"}
{"nick":"bnoordhuis","message":"the test has like a million of them","date":"2013-08-09T21:19:01.182Z","type":"message"}
{"nick":"bnoordhuis","message":"let's see what happens when i turn console.log in a no-op","date":"2013-08-09T21:19:12.011Z","type":"message"}
{"nick":"tjfontaine","message":"looks like internally in the afterWrite debug though","date":"2013-08-09T21:19:23.379Z","type":"message"}
{"nick":"tjfontaine","message":"there are fewer debugs there","date":"2013-08-09T21:19:59.118Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, you're right","date":"2013-08-09T21:20:49.352Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: this could be the normal GC+Number issue we've seen other times","date":"2013-08-09T21:20:52.034Z","type":"message"}
{"nick":"bnoordhuis","message":"ah... it's logging the req and the req contains the buffer","date":"2013-08-09T21:21:26.420Z","type":"message"}
{"nick":"bnoordhuis","message":"which is a _big_ buffer","date":"2013-08-09T21:21:33.621Z","type":"message"}
{"nick":"bnoordhuis","message":"ffs","date":"2013-08-09T21:21:36.670Z","type":"message"}
{"nick":"bnoordhuis","message":"yep, that's it","date":"2013-08-09T21:22:12.962Z","type":"message"}
{"nick":"bnoordhuis","action":"smacks head against table","date":"2013-08-09T21:22:27.181Z","type":"action"}
{"nick":"bnoordhuis","message":"thanks, tj","date":"2013-08-09T21:22:28.642Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-08-09T21:22:43.749Z","type":"quit"}
{"nick":"tjfontaine","message":"you're welcome :)","date":"2013-08-09T21:22:44.512Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I think we should thank dap for mdb v8.so :P","date":"2013-08-09T21:23:12.071Z","type":"message"}
{"nick":"dshaw_","reason":"Ping timeout: 276 seconds","date":"2013-08-09T21:23:15.776Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-09T21:23:28.779Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-08-09T21:23:43.032Z","type":"join"}
{"nick":"isaacs","message":"i'm starting to think that OutgoingMessage should be a Transform stream rather than a Writable stream directly","date":"2013-08-09T21:23:59.566Z","type":"message"}
{"nick":"bnoordhuis","message":"heh yeah","date":"2013-08-09T21:24:01.669Z","type":"message"}
{"nick":"isaacs","message":"there's a lot of clumsiness in the callback handling, etc","date":"2013-08-09T21:24:10.149Z","type":"message"}
{"nick":"bnoordhuis","message":"i was working on a gdb plugin a while ago, i guess i should finish that. would make my life a lot easier at times","date":"2013-08-09T21:24:34.161Z","type":"message"}
{"nick":"isaacs","message":"it'd be nice to say that assigning a socket to the outgoing message is just `this.pipe(socket)`","date":"2013-08-09T21:24:34.516Z","type":"message"}
{"nick":"isaacs","message":"maybe i just don't have enough calories in me to solve this problem.  need lunch, i think","date":"2013-08-09T21:25:29.772Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: you really need the lunch siren","date":"2013-08-09T21:26:35.317Z","type":"message"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-08-09T21:26:53.064Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: I DO!","date":"2013-08-09T21:26:57.650Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: but when i'm at home, i usually snak through the day, so 12:00 is kinda early for lunch","date":"2013-08-09T21:27:18.437Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T21:28:55.499Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-08-09T21:29:14.700Z","type":"quit"}
{"nick":"julianduque","date":"2013-08-09T21:29:59.460Z","type":"join"}
{"nick":"tjfontaine","message":"heh","date":"2013-08-09T21:30:07.357Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: want to review the final version? https://github.com/bnoordhuis/node/compare/joyent:master...remove-sethiddenvalue-wip","date":"2013-08-09T21:36:08.567Z","type":"message"}
{"nick":"tjfontaine","message":"interesting, so we weren't doing anything with that other than to just hold the reference alive?","date":"2013-08-09T21:38:21.104Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-08-09T21:39:15.664Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-08-09T21:39:34.541Z","type":"quit"}
{"nick":"tjfontaine","message":"then LGTM, do we need to fix util.format so it doesn't muck with large buffers?","date":"2013-08-09T21:39:57.403Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, that sounds like a good idea","date":"2013-08-09T21:40:44.826Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002f9b7714\u0002 : src: don't call v8::Object::SetHiddenValue() (+1 more commits) - http://git.io/vF6KIg","date":"2013-08-09T21:41:49.005Z","type":"message"}
{"nick":"trevnorris","action":"fg","date":"2013-08-09T21:43:15.502Z","type":"action"}
{"nick":"trevnorris","message":"what I miss?","date":"2013-08-09T21:43:19.979Z","type":"message"}
{"nick":"bradleymeck","date":"2013-08-09T21:44:35.424Z","type":"join"}
{"nick":"trevnorris","message":"groundwater: the trick is significantly faster, but there are several others you can use which aren't so evil","date":"2013-08-09T21:45:11.193Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ping again :P","date":"2013-08-09T21:45:54.062Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T21:46:13.435Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: why you telling people my tricks of performance are evil? ;)","date":"2013-08-09T21:48:06.457Z","type":"message"}
{"nick":"wolfeidau","date":"2013-08-09T21:48:38.543Z","type":"join"}
{"nick":"groundwater","message":"tjfontaine is secretly an anarchist ","date":"2013-08-09T21:48:45.956Z","type":"message"}
{"nick":"trevnorris","message":"hah","date":"2013-08-09T21:48:50.751Z","type":"message"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-08-09T21:49:25.292Z","type":"quit"}
{"nick":"groundwater","message":"trevnorris: i'm more concerned with getting it working first than performance, but I'll keep your trick in the back pocket","date":"2013-08-09T21:49:46.409Z","type":"message"}
{"nick":"groundwater","message":"i'm wrapping a bunch of ioctl syscalls, and ioctl is some dark magic ","date":"2013-08-09T21:50:15.449Z","type":"message"}
{"nick":"trevnorris","message":"groundwater: there are others that are \"safer\", whatever that's about :P","date":"2013-08-09T21:50:32.765Z","type":"message"}
{"nick":"trevnorris","message":"but still almost as fast","date":"2013-08-09T21:50:41.302Z","type":"message"}
{"nick":"trevnorris","message":"groundwater: are you creating an object just to attach these objects?","date":"2013-08-09T21:51:10.581Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #396 \u00037UNSTABLE\u000f smartos-ia32 (2/622) smartos-x64 (10/622) linux-ia32 (1/622) osx-x64 (2/622) osx-ia32 (1/622) linux-x64 (1/622) http://jenkins.nodejs.org/job/nodejs-master/396/","date":"2013-08-09T21:51:17.130Z","type":"message"}
{"nick":"groundwater","message":"i will be","date":"2013-08-09T21:51:38.698Z","type":"message"}
{"nick":"trevnorris","action":"flogs github","date":"2013-08-09T21:51:43.301Z","type":"action"}
{"nick":"groundwater","message":"right now i'm actually converting between c++ / js land but that's proving to be a losing strategy","date":"2013-08-09T21:52:02.779Z","type":"message"}
{"nick":"groundwater","message":"and i'm just playing around with various approaches to find the best fit","date":"2013-08-09T21:52:47.647Z","type":"message"}
{"nick":"trevnorris","message":"groundwater: then the actual proper way to do this is create an ObjectTemplate, set the InternalFieldCount = 1","date":"2013-08-09T21:52:59.673Z","type":"message"}
{"nick":"trevnorris","message":"then use SetAlignedPointerInInternalfield","date":"2013-08-09T21:53:21.331Z","type":"message"}
{"nick":"dshaw_","date":"2013-08-09T21:53:35.141Z","type":"join"}
{"nick":"trevnorris","message":"oy, again. SetAlignedPointerInInternalField (int index, void *value)","date":"2013-08-09T21:53:42.776Z","type":"message"}
{"nick":"groundwater","message":"awesome","date":"2013-08-09T21:53:54.278Z","type":"message"}
{"nick":"trevnorris","message":"yeah, use the ObjectTemplate to create your new objects, then you can store as many pointers on the object as you want","date":"2013-08-09T21:54:20.860Z","type":"message"}
{"nick":"groundwater","message":"same question as before, is there a callback i can register for when the object is reaped by teh GC?","date":"2013-08-09T21:54:36.993Z","type":"message"}
{"nick":"trevnorris","message":"use GetAlignedPointerFromInternalField to get the pointer out","date":"2013-08-09T21:54:42.893Z","type":"message"}
{"nick":"trevnorris","message":"for that you need to Persistant the object you create, then set the weak callback","date":"2013-08-09T21:55:14.816Z","type":"message"}
{"nick":"trevnorris","message":"you can see an example in master src/smalloc.cc","date":"2013-08-09T21:55:23.931Z","type":"message"}
{"nick":"groundwater","message":"okay, yah tjfontaine showed me that example","date":"2013-08-09T21:55:35.092Z","type":"message"}
{"nick":"trevnorris","message":"yeah, that's actually the only way to accomplish that. no performance tricks around that crap","date":"2013-08-09T21:56:14.908Z","type":"message"}
{"nick":"groundwater","message":"thanks, this is great","date":"2013-08-09T21:56:24.525Z","type":"message"}
{"nick":"sblom","date":"2013-08-09T21:56:50.003Z","type":"join"}
{"nick":"groundwater","message":"heh, i think i'm pretty far away from worrying about performance, but it's appreciated","date":"2013-08-09T21:56:51.716Z","type":"message"}
{"nick":"austo","message":"tjfontaine: I was just reading the module design page of your addon-layer docs and you advise against using objects for interaction. I've found it's kind of painful to use primitive types and keep track of parameter order. Are you saying it's better to have a shim for that?","date":"2013-08-09T21:57:23.854Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T21:57:25.540Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-08-09T21:57:36.149Z","type":"quit"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-08-09T22:01:08.633Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #196 \u00037UNSTABLE\u000f windows-x64 (18/622) windows-ia32 (22/622) http://jenkins.nodejs.org/job/nodejs-master-windows/196/","date":"2013-08-09T22:11:27.453Z","type":"message"}
{"nick":"jmar777","date":"2013-08-09T22:18:43.993Z","type":"join"}
{"nick":"groundwater","message":"trevnorris: i think i'm doing this wrong, or i'm getting a cast wrong, but i'm getting ‘class v8::Object’ has no member named ‘SetAlignedPointerInInternalField’","date":"2013-08-09T22:19:37.746Z","type":"message"}
{"nick":"groundwater","message":"obj->SetAlignedPointerInInternalField(0, (void*) some_pointer );","date":"2013-08-09T22:20:40.982Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-08-09T22:20:56.248Z","type":"quit"}
{"nick":"bnoordhuis","message":"groundwater: what v8 version?","date":"2013-08-09T22:22:00.962Z","type":"message"}
{"nick":"bnoordhuis","message":"you can find out with `node -pe process.versions`","date":"2013-08-09T22:22:09.523Z","type":"message"}
{"nick":"groundwater","message":"v8: 3.14.5.9","date":"2013-08-09T22:22:25.749Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, node v0.10?","date":"2013-08-09T22:22:34.512Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater, trevnorris: the trick is only faster if you need to access it off an existing object, it is not faster if what you need is actually this handle","date":"2013-08-09T22:22:36.248Z","type":"message"}
{"nick":"groundwater","message":"node v0.10.13","date":"2013-08-09T22:22:56.906Z","type":"message"}
{"nick":"bnoordhuis","message":"groundwater: right. SetAlignedPointerInInternalField() first appeared in 3.16 iirc","date":"2013-08-09T22:23:24.155Z","type":"message"}
{"nick":"bnoordhuis","message":"you want SetPointerInInternalField()","date":"2013-08-09T22:23:31.524Z","type":"message"}
{"nick":"bnoordhuis","message":"make sure it's aligned on at least a two-byte boundary or bad things will happen","date":"2013-08-09T22:23:47.811Z","type":"message"}
{"nick":"tjfontaine","message":"austo: I advise against mutating objects on the native side, regardless of the shim or not, it's a BestPractice for v8","date":"2013-08-09T22:24:14.218Z","type":"message"}
{"nick":"groundwater","message":"hmm, i feel like External will be less dangerous for me","date":"2013-08-09T22:25:13.978Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what do you mean \"this handle\"?","date":"2013-08-09T22:25:35.555Z","type":"message"}
{"nick":"groundwater","message":"i don't want bad things to happen, that's for sure","date":"2013-08-09T22:25:39.342Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: void* handle = library_init(); if that's what you're passing around back and forth, there's no reason to be more clever than External","date":"2013-08-09T22:26:11.621Z","type":"message"}
{"nick":"trevnorris","message":"external goes way back, the proper way to do it now is using an internal field.","date":"2013-08-09T22:26:20.464Z","type":"message"}
{"nick":"tjfontaine","message":"I'm unconvinced of this","date":"2013-08-09T22:26:32.695Z","type":"message"}
{"nick":"trevnorris","message":"well, external requires you to mutate the object, so what's you solution?","date":"2013-08-09T22:26:46.703Z","type":"message"}
{"nick":"tjfontaine","message":"external requires the creation of an object, which happens anyway","date":"2013-08-09T22:27:04.198Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T22:27:11.841Z","type":"join"}
{"nick":"bnoordhuis","message":"Real Men encode the pointer in a double and pass that to Number::New()","date":"2013-08-09T22:27:23.369Z","type":"message"}
{"nick":"bnoordhuis","message":"Real Women do too","date":"2013-08-09T22:27:27.287Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-08-09T22:27:30.479Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: what are, ruby? :)","date":"2013-08-09T22:27:41.541Z","type":"message"}
{"nick":"tjfontaine","message":"*we","date":"2013-08-09T22:27:43.598Z","type":"message"}
{"nick":"tjfontaine","message":"also, External.toString() in 3.14 does look exactly like that","date":"2013-08-09T22:28:08.312Z","type":"message"}
{"nick":"bnoordhuis","message":"no, closet spidermonkey users","date":"2013-08-09T22:28:09.149Z","type":"message"}
{"nick":"bnoordhuis","message":"it uses nan tagging for storing just about anything","date":"2013-08-09T22:28:20.051Z","type":"message"}
{"nick":"tjfontaine","message":"in 3.20 External.toString() is {}","date":"2013-08-09T22:28:29.452Z","type":"message"}
{"nick":"rendar","date":"2013-08-09T22:28:58.758Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: external is not near as useful setting an internal pointer. it only lets you pass around an empty object. if you have additional properties to track you'd need to pass around two objects.","date":"2013-08-09T22:32:17.885Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: or maintain state in js","date":"2013-08-09T22:32:32.038Z","type":"message"}
{"nick":"trevnorris","message":"that's a fair amount of inflexibility. and if you wanted to use any logic of where that pointer was to go, or read some state on that pointer?","date":"2013-08-09T22:34:09.761Z","type":"message"}
{"nick":"tjfontaine","message":"on the contrary, I think it provides far more flexibility, especially consideringn you're actually letting the JIT do the work for you","date":"2013-08-09T22:34:32.363Z","type":"message"}
{"nick":"trevnorris","message":"how so, the jit has almost nothing to do with this","date":"2013-08-09T22:34:47.863Z","type":"message"}
{"nick":"EhevuTov","date":"2013-08-09T22:35:07.557Z","type":"join"}
{"nick":"tjfontaine","message":"you're claiming it's inflexible because you can't hang state on the same object, and I'm saying you maintain the state in a different piece in js land where the jit can do the work","date":"2013-08-09T22:35:17.116Z","type":"message"}
{"nick":"trevnorris","message":"the code complexity rises when you have to maintain state and the data separately","date":"2013-08-09T22:36:43.773Z","type":"message"}
{"nick":"tjfontaine","message":"they aren't maintained separately","date":"2013-08-09T22:37:04.203Z","type":"message"}
{"nick":"bnoordhuis","message":"is this turning into a discussion about monads again?","date":"2013-08-09T22:37:23.443Z","type":"message"}
{"nick":"trevnorris","message":"nothing can be directly attached to the external, so you're saying make the external another objects property?","date":"2013-08-09T22:37:30.053Z","type":"message"}
{"nick":"trevnorris","message":"i dunno. no idea what a monad is, other than it sounds like gonad","date":"2013-08-09T22:37:49.415Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: yes, but that when interacting with the native layer you separate it in JS before passing to native","date":"2013-08-09T22:38:03.285Z","type":"message"}
{"nick":"tjfontaine","message":"which is what we've already determined is a best practice","date":"2013-08-09T22:38:21.567Z","type":"message"}
{"nick":"nsm","reason":"Quit: ZNC - http://znc.in","date":"2013-08-09T22:38:50.087Z","type":"quit"}
{"nick":"trevnorris","message":"so you explicitly pass a property of an object to function calls that go native?","date":"2013-08-09T22:39:03.668Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2013-08-09T22:39:17.916Z","type":"quit"}
{"nick":"nsm","date":"2013-08-09T22:39:21.192Z","type":"join"}
{"nick":"tjfontaine","message":"you avoid doing Get's in the native layer, when at all possible","date":"2013-08-09T22:39:25.919Z","type":"message"}
{"nick":"trevnorris","message":"that would annoy me to need to remember when I need to pass the object, and when to pass just an object property. just pass the entire thing all the time and you're done","date":"2013-08-09T22:40:44.375Z","type":"message"}
{"nick":"tjfontaine","action":"shrugs","date":"2013-08-09T22:41:09.278Z","type":"action"}
{"nick":"tjfontaine","message":"it's quite a common pattern for those already accustomed to doing C interfaces","date":"2013-08-09T22:41:19.617Z","type":"message"}
{"nick":"nsm","reason":"Client Quit","date":"2013-08-09T22:41:25.230Z","type":"quit"}
{"nick":"trevnorris","message":"i thought you were against exposing those properties to js?","date":"2013-08-09T22:41:54.400Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T22:42:01.279Z","type":"join"}
{"nick":"nsm","reason":"Remote host closed the connection","date":"2013-08-09T22:42:02.663Z","type":"quit"}
{"nick":"tjfontaine","message":"when writing an addon module, you should not expose such a method to the consumer, no","date":"2013-08-09T22:42:20.098Z","type":"message"}
{"nick":"tjfontaine","message":"in JS land though you wrap it up nice and neat","date":"2013-08-09T22:42:32.034Z","type":"message"}
{"nick":"tjfontaine","message":"and make it usefule","date":"2013-08-09T22:42:35.220Z","type":"message"}
{"nick":"tjfontaine","message":"-e","date":"2013-08-09T22:42:36.312Z","type":"message"}
{"nick":"brson","date":"2013-08-09T22:42:39.949Z","type":"join"}
{"nick":"trevnorris","message":"then you'd have to mutate the object in native, or use Object.defineProperty which sucks","date":"2013-08-09T22:42:42.573Z","type":"message"}
{"nick":"nsm","date":"2013-08-09T22:42:49.306Z","type":"join"}
{"nick":"trevnorris","message":"what do you mean \"wrap it up\"?","date":"2013-08-09T22:42:54.183Z","type":"message"}
{"nick":"tjfontaine","message":"new MyLibrary(); does handle = binding.init(); and then when you do instance foo.bar() it passes binding.bar(handle)","date":"2013-08-09T22:43:08.557Z","type":"message"}
{"nick":"tjfontaine","message":"no, you use javascript exactly like it was defined","date":"2013-08-09T22:43:22.524Z","type":"message"}
{"nick":"tjfontaine","message":"*designed","date":"2013-08-09T22:43:25.791Z","type":"message"}
{"nick":"jmar777","date":"2013-08-09T22:43:42.664Z","type":"join"}
{"nick":"trevnorris","message":"how do you attach the external to the object instance so that it's not exposed to the user but still can be tracked?","date":"2013-08-09T22:44:07.380Z","type":"message"}
{"nick":"EhevuTov_","date":"2013-08-09T22:44:08.542Z","type":"join"}
{"nick":"tjfontaine","message":"so you have binding.foo_{bar,baz,bat} that all take as their first parameter the handle, your MyLibrary constructor calls the init, and stores internally ._handle, and then as bar/baz/bat properties, and when you call them, it does the right thing and passes the handle","date":"2013-08-09T22:44:21.334Z","type":"message"}
{"nick":"trevnorris","message":"._handle is still technically exposed to the user. that's what i'm getting at","date":"2013-08-09T22:44:58.666Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: pong","date":"2013-08-09T22:45:05.037Z","type":"message"}
{"nick":"trevnorris","message":"e.g. it could be overwritten","date":"2013-08-09T22:45:07.339Z","type":"message"}
{"nick":"tjfontaine","message":"\"so\"","date":"2013-08-09T22:45:07.554Z","type":"message"}
{"nick":"tjfontaine","message":"you could do the other normal variable hiding mechanisms with closure scopes","date":"2013-08-09T22:45:26.162Z","type":"message"}
{"nick":"tjfontaine","message":"if it was *that* important, but it's not really","date":"2013-08-09T22:45:33.456Z","type":"message"}
{"nick":"trevnorris","message":"function closures basically tell the jit to f-off","date":"2013-08-09T22:45:57.442Z","type":"message"}
{"nick":"tjfontaine","message":"that's what you get for trying to hide something that you didn't really need to hide :)","date":"2013-08-09T22:46:20.169Z","type":"message"}
{"nick":"trevnorris","message":"so you definition of \"hiding\" is to place an _ before the object property?","date":"2013-08-09T22:47:09.231Z","type":"message"}
{"nick":"tjfontaine","message":"have you met node/lib/*.js? :)","date":"2013-08-09T22:47:24.277Z","type":"message"}
{"nick":"EhevuTov","reason":"Ping timeout: 264 seconds","date":"2013-08-09T22:47:30.302Z","type":"quit"}
{"nick":"tjfontaine","message":"I'm not sure there's a reason to be more clever than that, it's already the accepted pattern in js to let someone know they're mucking with something they really ought not to be","date":"2013-08-09T22:48:01.248Z","type":"message"}
{"nick":"trevnorris","message":"you hide as much as you can. the _ convention is a necessary evil at times for performance.","date":"2013-08-09T22:48:17.862Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-08-09T22:49:04.388Z","type":"quit"}
{"nick":"tjfontaine","message":"I don't see a reason to be any more clever, or obtuse with the implementation than with _","date":"2013-08-09T22:49:05.641Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: working on the domains patch for a more generic api. wanted feedback, it would move some of the core concepts to src/node.js that would allow the user to create their own domain-like things","date":"2013-08-09T22:49:05.853Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: some work i've been doing for https://github.com/joyent/node/pull/6011","date":"2013-08-09T22:49:38.963Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, so, i wanted to talk you about the storage stuff that othiym23 is doing, as well","date":"2013-08-09T22:49:45.047Z","type":"message"}
{"nick":"isaacs","message":"newrelic has a very particular use-case need, but i think it's also pretty generically applicable.","date":"2013-08-09T22:50:25.839Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: using the method I've been able to recombine the domain stuff as zero performance cost to core","date":"2013-08-09T22:50:31.630Z","type":"message"}
{"nick":"isaacs","message":"basically any case where you'd do res.blerg = bloo, cls woudl be better","date":"2013-08-09T22:50:39.421Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that is exciting to me on many levels.","date":"2013-08-09T22:50:51.052Z","type":"message"}
{"nick":"bnoordhuis","message":"isaac gets excited easily","date":"2013-08-09T22:51:05.468Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-08-09T22:51:09.762Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-08-09T22:52:00.062Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: i've been able to share state so well that in native we can check if the user is actively in a domain at any given time, instead of just checking that the domain module has been loaded.","date":"2013-08-09T22:53:30.662Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, i saw that in your first patch","date":"2013-08-09T22:53:53.785Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: is it worthy of further review?","date":"2013-08-09T22:54:00.117Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: I have a few other commits, but waiting for a lgtm on https://github.com/joyent/node/pull/6019","date":"2013-08-09T22:54:10.586Z","type":"message"}
{"nick":"trevnorris","message":"that'll need to go in first","date":"2013-08-09T22:54:16.622Z","type":"message"}
{"nick":"isaacs","action":"looking now","date":"2013-08-09T22:54:18.955Z","type":"action"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-08-09T22:54:27.743Z","type":"quit"}
{"nick":"AvianFlu_","date":"2013-08-09T22:55:30.600Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-08-09T22:55:56.236Z","type":"quit"}
{"nick":"AvianFlu_","reason":"Remote host closed the connection","date":"2013-08-09T22:56:35.101Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: well seems we'll just have to agree to disagree. :)","date":"2013-08-09T22:58:22.649Z","type":"message"}
{"nick":"tjfontaine","message":"heh, guess so","date":"2013-08-09T22:58:36.192Z","type":"message"}
{"nick":"tjfontaine","message":"fwiw I'm fine with doing whatever we want in core","date":"2013-08-09T22:58:42.598Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not fine with advertising this as a best practice for people writing modules","date":"2013-08-09T22:58:52.815Z","type":"message"}
{"nick":"trevnorris","message":"using the external data array thing is a complete and total hack, and if you have an existing object i'd recommend your technique","date":"2013-08-09T22:59:23.651Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2013-08-09T22:59:39.934Z","type":"quit"}
{"nick":"trevnorris","message":"the other is for when you can create the object from an ObjectTemplate","date":"2013-08-09T22:59:41.929Z","type":"message"}
{"nick":"trevnorris","message":"when possible, it's a better modal, imho","date":"2013-08-09T22:59:56.017Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: e.g. you need to create an object on a c++ class instantiation (like req_wrap) and you want to attach the class instance to that object","date":"2013-08-09T23:00:44.770Z","type":"message"}
{"nick":"groundwater","message":"i think the biggest difference is being able to encapsulate one pointer, or many in a single opaque object","date":"2013-08-09T23:00:49.797Z","type":"message"}
{"nick":"tjfontaine","message":"groundwater: a simple struct solves the latter","date":"2013-08-09T23:01:02.371Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: perhaps","date":"2013-08-09T23:01:05.296Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I'm really not a fan of the ObjectWrap model we have in core","date":"2013-08-09T23:01:17.673Z","type":"message"}
{"nick":"tjfontaine","message":"as is demonstrated by my opinion for how I think others should do it themselves :P","date":"2013-08-09T23:01:37.750Z","type":"message"}
{"nick":"trevnorris","message":"imo it's the best for when you are coming from c++ (e.g. incoming request) and you don't want to visit js just to set an object property","date":"2013-08-09T23:01:46.307Z","type":"message"}
{"nick":"trevnorris","message":"hah","date":"2013-08-09T23:02:04.190Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-08-09T23:02:33.247Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: jenkins treating you well? ;)","date":"2013-08-09T23:03:48.931Z","type":"message"}
{"nick":"tjfontaine","message":"no.","date":"2013-08-09T23:03:55.798Z","type":"message"}
{"nick":"tjfontaine","message":":<","date":"2013-08-09T23:03:58.830Z","type":"message"}
{"nick":"trevnorris","message":"seems this week it's basically become worse than useless","date":"2013-08-09T23:04:15.310Z","type":"message"}
{"nick":"tjfontaine","message":"the frontend wobbles back and forth between blazing fast and excrutiating slow","date":"2013-08-09T23:04:23.367Z","type":"message"}
{"nick":"tjfontaine","message":"but it's at least not hard locked today so far","date":"2013-08-09T23:04:30.948Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-08-09T23:04:48.494Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so... explain why _domain[0] is faster than just using process.domain?","date":"2013-08-09T23:04:52.636Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: accessing an array property by numeric index is 3x's faster than accessing an object property, not including the need to first access the object from global context","date":"2013-08-09T23:05:56.127Z","type":"message"}
{"nick":"trevnorris","message":"it basically serves as a wrapper around the object for quickest access from native","date":"2013-08-09T23:06:13.157Z","type":"message"}
{"nick":"isaacs","message":"ohh","date":"2013-08-09T23:06:20.166Z","type":"message"}
{"nick":"isaacs","message":"from C++","date":"2013-08-09T23:06:23.176Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-08-09T23:06:25.298Z","type":"message"}
{"nick":"trevnorris","message":"mainly how it's used in req_wrap","date":"2013-08-09T23:06:45.524Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-08-09T23:07:42.485Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, internally, why use process.domain and not _domain[0]?","date":"2013-08-09T23:07:51.644Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: eg https://github.com/joyent/node/pull/6019/files#L2R419","date":"2013-08-09T23:08:06.532Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-08-09T23:08:30.817Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: because it's local to domain.js, but that'll be addressed in my next pr","date":"2013-08-09T23:08:46.390Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2013-08-09T23:09:21.358Z","type":"message"}
{"nick":"isaacs","message":"yeah, i see, i thought i was reading src/node.js","date":"2013-08-09T23:09:29.821Z","type":"message"}
{"nick":"isaacs","message":"nvm","date":"2013-08-09T23:09:34.241Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-08-09T23:09:37.217Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: have you run any benchmarks with this?","date":"2013-08-09T23:10:13.865Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T23:11:01.205Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: not w/ domains yet. but it has 0 perf impact on normal use","date":"2013-08-09T23:11:15.911Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ok, well, that'sa plus :)","date":"2013-08-09T23:11:23.457Z","type":"message"}
{"nick":"trevnorris","message":"the minimal goal is to introduce the more extensive api w/o making normal operations slower.","date":"2013-08-09T23:11:59.270Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: NODE_USE_DOMAINS=1 NODE_BENCH=http ./node benchmark/compare.js ./node ./node-master","date":"2013-08-09T23:12:38.566Z","type":"message"}
{"nick":"isaacs","message":"er, no","date":"2013-08-09T23:12:44.606Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: NODE_USE_DOMAINS=1 NODE_BENCH=bench-http ./node benchmark/compare.js ./node ./node-master","date":"2013-08-09T23:12:48.780Z","type":"message"}
{"nick":"trevnorris","message":"oooh. didn't know you could do that :)","date":"2013-08-09T23:12:56.787Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-08-09T23:13:04.864Z","type":"message"}
{"nick":"isaacs","message":"that affects all the benchmarks that use the benchmark/http_simple.js script","date":"2013-08-09T23:13:16.138Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: if the benchmarks in the domain use-case are favorable, land at will.  code lgtm","date":"2013-08-09T23:16:59.193Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: coolio, thanks :)","date":"2013-08-09T23:17:10.653Z","type":"message"}
{"nick":"isaacs","message":"it's a bit weird, but meh :)","date":"2013-08-09T23:17:20.988Z","type":"message"}
{"nick":"isaacs","message":"performance critical code is often oddball","date":"2013-08-09T23:17:27.955Z","type":"message"}
{"nick":"trevnorris","message":"seriously","date":"2013-08-09T23:18:12.997Z","type":"message"}
{"nick":"trevnorris","message":"the state sharing trick is coming in handy","date":"2013-08-09T23:18:22.557Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T23:20:12.932Z","type":"quit"}
{"nick":"othiym23","message":"isaacs, trevnorris: I am totally keeping an eye on all this stuff and am enthusiastic about how it's going, but I'm also up to my ass in alligators right now so I'm kinda quiet","date":"2013-08-09T23:22:03.978Z","type":"message"}
{"nick":"mikeal","date":"2013-08-09T23:22:06.231Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: hm. strange visual. i'm trying to make this my next thing out the door, so hopefully within a week or so","date":"2013-08-09T23:23:40.911Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: my main concern about the changes to domains is that I would very much like to be able to continue to introspect into domains and selectively wrap things like process._fatalExceptionHandler for the New Relic agent's error tracer","date":"2013-08-09T23:26:36.316Z","type":"message"}
{"nick":"othiym23","message":"having hooks into those systems from the outside is more or less a necessity, because I need to stick myself in somewhere where I can see every error without altering the system's behavior","date":"2013-08-09T23:27:19.381Z","type":"message"}
{"nick":"mcavage","date":"2013-08-09T23:30:51.791Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: this should have 100% backwards compatibility","date":"2013-08-09T23:39:03.983Z","type":"message"}
{"nick":"othiym23","message":"(o_o)-b","date":"2013-08-09T23:41:30.790Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-08-09T23:49:11.609Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-09T23:51:00.306Z","type":"quit"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-08-09T23:51:18.394Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Trevor Norris\u000f \u00037master\u000f * \u00023f5d584\u0002 : domain: share object and state with native land (+1 more commits) - http://git.io/rvf7_A","date":"2013-08-09T23:56:49.168Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2013-08-09T23:58:25.863Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: so, domain.create shows it accepts a callback, but nothing is done with it. something I'm missing?","date":"2013-08-09T23:59:34.405Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: hmmm...","date":"2013-08-09T23:59:58.544Z","type":"message"}

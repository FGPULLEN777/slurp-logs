{"nick":"travis-ci","date":"2011-12-08T00:00:06.597Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#15 (master - e53e9c7 : Ryan Dahl): The build was fixed.","date":"2011-12-08T00:00:06.756Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/06d86eb...e53e9c7","date":"2011-12-08T00:00:06.756Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/384189","date":"2011-12-08T00:00:06.756Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T00:00:06.756Z","type":"part"}
{"nick":"luxigo","reason":"Remote host closed the connection","date":"2011-12-08T00:14:35.178Z","type":"quit"}
{"nick":"bnoordhuis","message":"lessons learned, don't util.format(\"%j\") a fastbuffer - it tries to json-ify the whole slab","date":"2011-12-08T00:16:09.489Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-08T00:20:01.998Z","type":"quit"}
{"nick":"piscisaureus__","reason":"Read error: Connection reset by peer","date":"2011-12-08T00:20:11.572Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-12-08T00:20:35.377Z","type":"join"}
{"nick":"mjr_","message":"Yeah, that'll wedge you up for quite a while, depending on the size.","date":"2011-12-08T00:21:50.197Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think this write issue could also cause memory leaks with http","date":"2011-12-08T00:22:30.758Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: http sockets are open with allowHalfOpen","date":"2011-12-08T00:22:54.794Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: that sounds plausible","date":"2011-12-08T00:23:12.505Z","type":"message"}
{"nick":"piscisaureus_","message":"so if the client sends FIN we just stop the read watcher","date":"2011-12-08T00:23:15.027Z","type":"message"}
{"nick":"piscisaureus_","message":"so we don't attempt any reads so we don't see the error","date":"2011-12-08T00:24:10.984Z","type":"message"}
{"nick":"piscisaureus_","message":"and since write errors are never reported the socket just remains in limbo forever","date":"2011-12-08T00:24:13.710Z","type":"message"}
{"nick":"bnoordhuis","message":"why do we set halfOpen:true anyway?","date":"2011-12-08T00:24:34.300Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: also, the write callback does return so the timeout timer gets reset every time","date":"2011-12-08T00:24:45.532Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because if a client doesn't set content-length the end of the request body is marked by FIN","date":"2011-12-08T00:25:14.443Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but the server may still want to send a response after that","date":"2011-12-08T00:25:24.308Z","type":"message"}
{"nick":"bnoordhuis","message":"ah right - http...","date":"2011-12-08T00:25:58.737Z","type":"message"}
{"nick":"mjr_","message":"If you guys are in SF next week, Voxer is having a holiday party on Wednesday to which you are invited.","date":"2011-12-08T00:32:31.694Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: would love to but i'm halfway across the world","date":"2011-12-08T00:33:42.957Z","type":"message"}
{"nick":"mjr_","message":"heh, of course.  I just thought I'd throw that out there. ","date":"2011-12-08T00:33:57.231Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm actually in mexico next week but it's still way too far :-)","date":"2011-12-08T00:34:18.168Z","type":"message"}
{"nick":"mjr_","message":"We sure do appreciate all the work you guys put into node.","date":"2011-12-08T00:34:38.291Z","type":"message"}
{"nick":"mjr_","message":"OK, got another stuck one","date":"2011-12-08T00:46:15.755Z","type":"message"}
{"nick":"benvie","message":"soo about the rapping","date":"2011-12-08T00:47:01.131Z","type":"message"}
{"nick":"benvie","message":"good stuff","date":"2011-12-08T00:47:05.128Z","type":"message"}
{"nick":"mjr_","message":"bnoordhuis: got a stuck one, but that strace didn't work","date":"2011-12-08T00:47:32.178Z","type":"message"}
{"nick":"mjr_","message":"write(2084, \"\\25\\3\\0\\0 .\\327\\377\\252\\310\\3120!z$CWoJ\\262\\4\\316\\200D\\262\\375+\\32\\221\\212f\\333\"..., 37) = -1 EPIPE (Broken pipe)","date":"2011-12-08T00:47:37.335Z","type":"message"}
{"nick":"mjr_","message":"sudo strace -p 12211 -e write=2084","date":"2011-12-08T00:47:47.302Z","type":"message"}
{"nick":"mjr_","message":"strace: invalid descriptor `2084'","date":"2011-12-08T00:47:47.677Z","type":"message"}
{"nick":"mjr_","message":"ryah: ^^","date":"2011-12-08T00:49:13.788Z","type":"message"}
{"nick":"mjr_","message":"Can do gdb stuff if you want","date":"2011-12-08T00:49:16.873Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/81525f200cdc78e11a6f","date":"2011-12-08T00:50:36.007Z","type":"message"}
{"nick":"mjr_","message":"I guess I'll apply that patch and see if it happens again.","date":"2011-12-08T00:52:31.618Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: can we continue tomorrow? it's 2 am here, gotta get some sleep","date":"2011-12-08T00:52:43.404Z","type":"message"}
{"nick":"mjr_","message":"sure, np.","date":"2011-12-08T00:52:49.858Z","type":"message"}
{"nick":"bnoordhuis","action":"signs off for the night","date":"2011-12-08T00:53:22.775Z","type":"action"}
{"nick":"bnoordhuis","reason":"Quit: Leaving","date":"2011-12-08T00:54:12.749Z","type":"quit"}
{"nick":"dap","date":"2011-12-08T00:56:33.326Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-12-08T00:59:51.094Z","type":"quit"}
{"nick":"piscisaureus_","message":"hmm this so so weird","date":"2011-12-08T01:27:39.358Z","type":"message"}
{"nick":"piscisaureus_","message":"some kind of funghus has eaten my node.js shirt :-(","date":"2011-12-08T01:28:07.074Z","type":"message"}
{"nick":"piscisaureus_","message":"not it's full of big holes","date":"2011-12-08T01:28:28.846Z","type":"message"}
{"nick":"piscisaureus_","message":"the weird thing is, it ate *only* that particular shirt","date":"2011-12-08T01:28:47.474Z","type":"message"}
{"nick":"piscisaureus_","message":"everything else in my closes is completely unaffected","date":"2011-12-08T01:29:07.364Z","type":"message"}
{"nick":"piscisaureus_","message":"*closet","date":"2011-12-08T01:29:12.460Z","type":"message"}
{"nick":"ryah","message":"mjr_: still there?","date":"2011-12-08T01:37:36.484Z","type":"message"}
{"nick":"mjr_","message":"Hey","date":"2011-12-08T01:37:54.933Z","type":"message"}
{"nick":"mjr_","message":"Had to restart that process, sorry","date":"2011-12-08T01:38:06.182Z","type":"message"}
{"nick":"ryah","message":"mjr_: did you try that patch from ben?","date":"2011-12-08T01:38:27.909Z","type":"message"}
{"nick":"mjr_","message":"I did not, but I will","date":"2011-12-08T01:38:34.006Z","type":"message"}
{"nick":"mjr_","message":"Seems like a win","date":"2011-12-08T01:38:44.936Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-12-08T01:38:57.650Z","type":"message"}
{"nick":"mjr_","message":"We just got up to 400,000 HTTPS at once.","date":"2011-12-08T01:40:18.381Z","type":"message"}
{"nick":"mjr_","message":"Did you see that stack from gdb?","date":"2011-12-08T01:43:07.824Z","type":"message"}
{"nick":"mjr_","message":"Runtime_Math_pow()  ","date":"2011-12-08T01:43:18.719Z","type":"message"}
{"nick":"mjr_","message":"?","date":"2011-12-08T01:43:19.200Z","type":"message"}
{"nick":"ryah","message":"uh no - let me look","date":"2011-12-08T01:48:21.092Z","type":"message"}
{"nick":"ryah","message":"oh i wouldn't trust those frames ","date":"2011-12-08T01:48:38.349Z","type":"message"}
{"nick":"piscisaureus_","message":"especially not when a pow() call is in the middle","date":"2011-12-08T01:53:08.280Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T01:56:30.296Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 240 seconds","date":"2011-12-08T01:59:49.332Z","type":"quit"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000259055b2\u000f \u000310\u000f/ (src/node_buffer.cc src/node_buffer.h src/node_vars.h)\u0002:\u000f Move node_buffer.cc globals to struct - http://git.io/MP7KSQ","date":"2011-12-08T02:04:02.339Z","type":"message"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2011-12-08T02:04:02.340Z","type":"quit"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002e10fd32\u000f \u000310\u000f/ (7 files)\u0002:\u000f move global vars from platfrom, node_signal_watcher to struct - http://git.io/6lO19A","date":"2011-12-08T02:04:03.192Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T02:17:11.561Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#16 (master - e10fd32 : Ryan Dahl): The build passed.","date":"2011-12-08T02:17:11.722Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/e53e9c7...e10fd32","date":"2011-12-08T02:17:11.722Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/384498","date":"2011-12-08T02:17:11.722Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T02:17:11.722Z","type":"part"}
{"nick":"igorzi","message":"ryah piscisaureus_: finally found why i was not seeing any improvements with non-0 reads","date":"2011-12-08T02:25:37.345Z","type":"message"}
{"nick":"igorzi","message":"basically, the uv server that i am using for testing writes the http response, and closes the connection in the write callback","date":"2011-12-08T02:26:17.719Z","type":"message"}
{"nick":"igorzi","message":"with non-0 reads, we are doing an extra malloc, because we queue another read after reading the request (which requires 64K buffer)","date":"2011-12-08T02:27:29.866Z","type":"message"}
{"nick":"igorzi","message":"if i uv_close() the connection inside the read callback (right after uv_write) that eliminates the extra malloc/free","date":"2011-12-08T02:29:02.305Z","type":"message"}
{"nick":"igorzi","message":"and with that i am seeing the ~3% improvement","date":"2011-12-08T02:29:29.859Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-12-08T03:00:55.152Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-08T03:16:08.662Z","type":"quit"}
{"nick":"erickt","date":"2011-12-08T03:20:02.859Z","type":"join"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-12-08T03:26:36.869Z","type":"quit"}
{"nick":"erickt","reason":"Read error: Connection reset by peer","date":"2011-12-08T03:26:39.514Z","type":"quit"}
{"nick":"erickt","date":"2011-12-08T03:30:59.977Z","type":"join"}
{"nick":"mikeal","date":"2011-12-08T04:10:13.455Z","type":"join"}
{"nick":"isaacs","date":"2011-12-08T04:15:17.072Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T04:25:03.931Z","type":"quit"}
{"nick":"erickt","date":"2011-12-08T04:30:00.927Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 244 seconds","date":"2011-12-08T05:34:18.423Z","type":"quit"}
{"nick":"felixge","date":"2011-12-08T05:40:19.068Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-12-08T05:40:19.227Z","type":"quit"}
{"nick":"felixge","date":"2011-12-08T05:40:19.228Z","type":"join"}
{"nick":"mmalecki","date":"2011-12-08T05:40:32.412Z","type":"join"}
{"nick":"erickt","reason":"Ping timeout: 240 seconds","date":"2011-12-08T06:09:54.928Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2011-12-08T06:25:41.536Z","type":"quit"}
{"nick":"erickt","date":"2011-12-08T06:36:16.995Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-08T06:39:08.944Z","type":"quit"}
{"nick":"sh1mmer","date":"2011-12-08T06:45:50.376Z","type":"join"}
{"nick":"sh1mmer","reason":"Client Quit","date":"2011-12-08T06:50:02.553Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T07:09:00.581Z","type":"quit"}
{"nick":"mikeal","date":"2011-12-08T07:10:46.044Z","type":"join"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-12-08T07:12:09.224Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-08T07:56:53.310Z","type":"quit"}
{"nick":"mraleph","date":"2011-12-08T08:07:34.390Z","type":"join"}
{"nick":"indexzero","date":"2011-12-08T08:08:42.332Z","type":"join"}
{"nick":"mikeal","date":"2011-12-08T08:17:45.830Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2011-12-08T08:21:45.849Z","type":"quit"}
{"nick":"kuebk","date":"2011-12-08T08:25:23.369Z","type":"join"}
{"nick":"kuebk1","date":"2011-12-08T08:30:27.819Z","type":"join"}
{"nick":"kuebk","reason":"Ping timeout: 252 seconds","date":"2011-12-08T08:33:27.715Z","type":"quit"}
{"nick":"kuebk1","reason":"Ping timeout: 240 seconds","date":"2011-12-08T08:37:06.894Z","type":"quit"}
{"nick":"kuebk","date":"2011-12-08T08:38:31.064Z","type":"join"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2011-12-08T09:11:25.250Z","type":"quit"}
{"nick":"indexzero","date":"2011-12-08T09:11:43.477Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 252 seconds","date":"2011-12-08T09:19:59.292Z","type":"quit"}
{"nick":"indexzero","date":"2011-12-08T09:20:55.542Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 252 seconds","date":"2011-12-08T09:30:59.387Z","type":"quit"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-12-08T09:34:25.004Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-12-08T10:54:40.397Z","type":"join"}
{"nick":"luxigo","date":"2011-12-08T13:25:00.961Z","type":"join"}
{"nick":"creationix","reason":"Quit: ZNC - http://znc.sourceforge.net","date":"2011-12-08T13:40:07.726Z","type":"quit"}
{"nick":"creationix","date":"2011-12-08T13:42:07.999Z","type":"join"}
{"nick":"bnoordhuis","date":"2011-12-08T14:00:17.524Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: what's the greatest, most expensive windows 7? enterprise, professional or ultimate?","date":"2011-12-08T14:01:06.749Z","type":"message"}
{"nick":"bnoordhuis","message":"ultimate has a nice ring to it","date":"2011-12-08T14:01:12.250Z","type":"message"}
{"nick":"bnoordhuis","action":"is downloading windows 7 ultimate sp1 x64","date":"2011-12-08T14:14:11.692Z","type":"action"}
{"nick":"mmalecki","message":"bnoordhuis: difference is minor","date":"2011-12-08T14:14:41.281Z","type":"message"}
{"nick":"mmalecki","message":"(yeah, I actually have a win7, crysis won't run under linux)","date":"2011-12-08T14:15:02.390Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Tim Oxley\u000f \u000307v0.6\u000f * r\u0002871194d\u000f \u000310\u000f/ doc/api/util.markdown \u0002:\u000f docs: document util.inspect's colors param - http://git.io/P-KDQQ","date":"2011-12-08T14:48:09.024Z","type":"message"}
{"nick":"AndreasMadsen","date":"2011-12-08T14:56:55.044Z","type":"join"}
{"nick":"travis-ci","date":"2011-12-08T14:58:31.168Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#17 (v0.6 - 871194d : Tim Oxley): The build was broken.","date":"2011-12-08T14:58:31.333Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/22c2c34...871194d","date":"2011-12-08T14:58:31.333Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/386086","date":"2011-12-08T14:58:31.333Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T14:58:31.333Z","type":"part"}
{"nick":"AndreasMadsen_","date":"2011-12-08T14:58:51.608Z","type":"join"}
{"nick":"AndreasMadsen_","message":"I'm online for about an hour to discuss cluster 2.0","date":"2011-12-08T15:02:10.576Z","type":"message"}
{"nick":"AndreasMadsen_","message":"piscisaureus: I'm online for about an hour to discuss cluster 2.0","date":"2011-12-08T15:02:25.651Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Quit: Leaving","date":"2011-12-08T15:12:20.061Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2011-12-08T15:12:55.935Z","type":"join"}
{"nick":"AndreasMadsen_","reason":"Quit: Page closed","date":"2011-12-08T15:19:47.778Z","type":"quit"}
{"nick":"kuebk","date":"2011-12-08T15:32:28.955Z","type":"part"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002248ca5d\u000f \u000310\u000f/ src/unix/error.c \u0002:\u000f unix: translate ETIMEDOUT to UV_ETIMEDOUT - http://git.io/V0P7Zw","date":"2011-12-08T15:33:30.061Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000234e95d1\u000f \u000310\u000f/ src/unix/core.c \u0002:\u000f ","date":"2011-12-08T15:33:30.220Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f unix: make it safe to delete the default loop","date":"2011-12-08T15:33:30.220Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f Fixes a potential free() of non-malloc'ed memory. - http://git.io/a9ZZwA","date":"2011-12-08T15:33:30.220Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020db3274\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f ","date":"2011-12-08T15:33:30.907Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f unix: check UV_CLOSING flag in uv__write()","date":"2011-12-08T15:33:31.071Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f uv__write() runs after the read callbacks have fired. Said callbacks may have","date":"2011-12-08T15:33:31.906Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f closed the handle, handle that graciously. - http://git.io/xIYovQ","date":"2011-12-08T15:33:32.070Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002b89c31b\u000f \u000310\u000f/ src/unix/pipe.c \u0002:\u000f unix: fix warning: return 0 in function returning void - http://git.io/BqSpnQ","date":"2011-12-08T15:33:32.944Z","type":"message"}
{"nick":"CIA-111","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020d8cb08\u000f \u000310\u000f/ (4 files)\u0002:\u000f Merge branch 'v0.6' - http://git.io/0zHnzg","date":"2011-12-08T15:33:33.110Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: that's cool but hmm... can you be here tonight?","date":"2011-12-08T15:40:36.274Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: it works better is SF has woken up as well","date":"2011-12-08T15:40:51.460Z","type":"message"}
{"nick":"piscisaureus_","message":"*is -> when","date":"2011-12-08T15:41:04.824Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: Enterprise. For non-enterprises Ultimate is the most expensive one","date":"2011-12-08T15:42:10.314Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i already started downloading ultimate","date":"2011-12-08T15:42:28.323Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: we are in same timezone right?","date":"2011-12-08T15:42:35.900Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: Enterprise is basically the same as ultimate except that enterprise allows switching languages","date":"2011-12-08T15:42:47.183Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: we are, but ryah is also somewhat important in this project :-)","date":"2011-12-08T15:43:07.508Z","type":"message"}
{"nick":"AndreasMadsen","message":"Yes","date":"2011-12-08T15:43:15.339Z","type":"message"}
{"nick":"AndreasMadsen","message":"One moment","date":"2011-12-08T15:44:12.799Z","type":"message"}
{"nick":"AndreasMadsen_","date":"2011-12-08T15:44:29.541Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am doing nothing again today. I still hope I can get the wrap list out before my holiday","date":"2011-12-08T15:44:31.615Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think it's gonna be night shift work saturday or tomorrow","date":"2011-12-08T15:44:45.409Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: wrap list == handle walker in node?","date":"2011-12-08T15:44:53.804Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the list stuff you need for isolates","date":"2011-12-08T15:45:03.998Z","type":"message"}
{"nick":"piscisaureus_","message":"and domains","date":"2011-12-08T15:45:08.953Z","type":"message"}
{"nick":"bnoordhuis","message":"tell me why i need it?","date":"2011-12-08T15:45:24.117Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because you need to tear down an isolate when it crashes","date":"2011-12-08T15:45:36.580Z","type":"message"}
{"nick":"piscisaureus_","message":"so you have to kill all handles","date":"2011-12-08T15:45:43.545Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2011-12-08T15:46:10.170Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't that handle walker thing i wrote do most of that?","date":"2011-12-08T15:46:38.757Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it'll probably help","date":"2011-12-08T15:46:57.099Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, it allows you to walk the handles - adding a handle killer is the work of 5 minutes and three lines of code","date":"2011-12-08T15:46:58.044Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: for now","date":"2011-12-08T15:46:59.857Z","type":"message"}
{"nick":"AndreasMadsen_","message":"piscisaureus: I have to go to bed about 22:00 UTC+1 but until when im fine. There is also a birthday in the weekend so it will have to be friday, but my brain dosn't work that well after after 22:00.","date":"2011-12-08T15:47:02.038Z","type":"message"}
{"nick":"erickt","date":"2011-12-08T15:47:05.068Z","type":"join"}
{"nick":"bnoordhuis","message":"AndreasMadsen: that's why the lord our saviour gave us amphetamines","date":"2011-12-08T15:47:29.629Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I assume you didn't implement the handle walker for windows :-)","date":"2011-12-08T15:47:33.509Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen_: drop by around 8","date":"2011-12-08T15:47:41.953Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: no, but it's easy to add - four lines of code","date":"2011-12-08T15:47:44.327Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: that's when we have the daily call too","date":"2011-12-08T15:48:07.637Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it's not, because on windows we don't keep a list of watchers","date":"2011-12-08T15:48:18.205Z","type":"message"}
{"nick":"piscisaureus_","message":"so you'd have to add that as well","date":"2011-12-08T15:48:28.967Z","type":"message"}
{"nick":"piscisaureus_","message":"which obviously we could","date":"2011-12-08T15:48:32.711Z","type":"message"}
{"nick":"piscisaureus_","message":"but imho it's better to do this stuff in the binding layer","date":"2011-12-08T15:48:44.570Z","type":"message"}
{"nick":"piscisaureus_","message":"which I am doing now","date":"2011-12-08T15:48:47.979Z","type":"message"}
{"nick":"bnoordhuis","message":"it's trivial, just embed an ngx_queue_t in the handle","date":"2011-12-08T15:48:58.876Z","type":"message"}
{"nick":"AndreasMadsen_","message":"piscisaureus_: In the morning I assume. But there I'm in school at that time.","date":"2011-12-08T15:49:13.484Z","type":"message"}
{"nick":"bnoordhuis","message":"actually, i like that it's in libuv - i want to use it outside of node","date":"2011-12-08T15:49:15.732Z","type":"message"}
{"nick":"bnoordhuis","message":"how old are you, AndreasMadsen_?","date":"2011-12-08T15:49:23.843Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen_: no tonight at 20.00 pm","date":"2011-12-08T15:49:26.565Z","type":"message"}
{"nick":"AndreasMadsen_","message":"bnoordhuis: I'm 18","date":"2011-12-08T15:49:45.103Z","type":"message"}
{"nick":"AndreasMadsen_","message":"Well tonight is fine","date":"2011-12-08T15:50:05.359Z","type":"message"}
{"nick":"bnoordhuis","message":"working in open source always makes me feel so old... (i'm 29)","date":"2011-12-08T15:50:06.197Z","type":"message"}
{"nick":"piscisaureus_","message":"you are :-)","date":"2011-12-08T15:50:27.890Z","type":"message"}
{"nick":"AndreasMadsen_","message":"bnoordhuis: but I started typing <html> for about 6 years ago.","date":"2011-12-08T15:50:35.492Z","type":"message"}
{"nick":"bnoordhuis","message":"my next job is going to be as a cobol programmer, i'll be the junior by at least 15 years","date":"2011-12-08T15:50:41.633Z","type":"message"}
{"nick":"mmalecki","message":"AndreasMadsen_: haha, sounds like what I did (I'm 17). high five!","date":"2011-12-08T15:51:11.362Z","type":"message"}
{"nick":"bnoordhuis","message":"AndreasMadsen_: kids these days... when i was that old, i was writing 8086 assembly","date":"2011-12-08T15:51:20.667Z","type":"message"}
{"nick":"piscisaureus_","message":"these kids :-/","date":"2011-12-08T15:51:32.718Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: please don't mention cobol.","date":"2011-12-08T15:51:33.737Z","type":"message"}
{"nick":"AndreasMadsen_","message":":)","date":"2011-12-08T15:51:35.284Z","type":"message"}
{"nick":"piscisaureus_","message":"next up we'll run in trouble with amnesty for relying on child labor","date":"2011-12-08T15:52:14.622Z","type":"message"}
{"nick":"AndreasMadsen_","message":"The funny thing about this is that I can't get a student job because I don't have any job experience, but I guess that the employes loss.","date":"2011-12-08T15:54:19.337Z","type":"message"}
{"nick":"mmalecki","message":"AndreasMadsen_: keep on hacking open source. I got a job 2 months after I started with node. people will notice you.","date":"2011-12-08T15:55:10.309Z","type":"message"}
{"nick":"AndreasMadsen_","message":"mmalecki: That's cool","date":"2011-12-08T15:55:48.648Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen_: it's true. If you get some good stuff in you'll be hired in no time","date":"2011-12-08T15:56:05.179Z","type":"message"}
{"nick":"AndreasMadsen_","reason":"Quit: Page closed","date":"2011-12-08T15:57:55.226Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Ping timeout: 240 seconds","date":"2011-12-08T16:05:06.880Z","type":"quit"}
{"nick":"isaacs","date":"2011-12-08T16:05:16.339Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T16:09:38.848Z","type":"quit"}
{"nick":"bnoordhuis","message":"ref/unref bugs are annoyingly hard to debug right now","date":"2011-12-08T17:04:12.458Z","type":"message"}
{"nick":"bnoordhuis","message":"how can we do better?","date":"2011-12-08T17:04:16.359Z","type":"message"}
{"nick":"mikeal","date":"2011-12-08T17:15:45.270Z","type":"join"}
{"nick":"AndreasMadsen","date":"2011-12-08T17:15:47.998Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Client Quit","date":"2011-12-08T17:16:54.120Z","type":"quit"}
{"nick":"mikeal","reason":"Client Quit","date":"2011-12-08T17:17:47.833Z","type":"quit"}
{"nick":"dap","date":"2011-12-08T17:26:24.035Z","type":"join"}
{"nick":"erickt","date":"2011-12-08T17:28:56.870Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: uv_ref and unref should take a handle as parameter","date":"2011-12-08T17:32:13.225Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and it should assert if a handle is (un)refed more than once","date":"2011-12-08T17:32:50.452Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so we keep the ref state in a flags field","date":"2011-12-08T17:32:59.735Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: agreed","date":"2011-12-08T17:33:13.078Z","type":"message"}
{"nick":"mikeal","date":"2011-12-08T17:34:03.827Z","type":"join"}
{"nick":"erickt","reason":"Remote host closed the connection","date":"2011-12-08T17:35:59.023Z","type":"quit"}
{"nick":"erickt","date":"2011-12-08T17:36:15.613Z","type":"join"}
{"nick":"ryah","reason":"Ping timeout: 255 seconds","date":"2011-12-08T17:46:51.052Z","type":"quit"}
{"nick":"ryah","date":"2011-12-08T17:47:33.357Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-08T18:04:26.814Z","type":"quit"}
{"nick":"mikeal","date":"2011-12-08T18:07:03.299Z","type":"join"}
{"nick":"indutny","message":"isaacs: https://github.com/isaacs/npm/issues/1855","date":"2011-12-08T18:09:16.031Z","type":"message"}
{"nick":"indutny","message":"hi","date":"2011-12-08T18:09:25.130Z","type":"message"}
{"nick":"isaacs","message":"indutny: hello","date":"2011-12-08T18:09:36.163Z","type":"message"}
{"nick":"isaacs","message":"let's figure this out","date":"2011-12-08T18:09:38.901Z","type":"message"}
{"nick":"indutny","message":"isaacs: looks like wierd update/validation problem","date":"2011-12-08T18:09:56.666Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2011-12-08T18:21:17.337Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2011-12-08T18:54:17.527Z","type":"join"}
{"nick":"AndreasMadsen_","date":"2011-12-08T18:54:24.930Z","type":"join"}
{"nick":"brson","date":"2011-12-08T18:55:37.217Z","type":"join"}
{"nick":"piscisaureus_","message":"call in 5?","date":"2011-12-08T18:58:00.371Z","type":"message"}
{"nick":"igorzi","message":"yep","date":"2011-12-08T18:58:16.846Z","type":"message"}
{"nick":"ryah","message":"yep","date":"2011-12-08T18:58:36.326Z","type":"message"}
{"nick":"AndreasMadsen","message":"yep","date":"2011-12-08T18:58:44.406Z","type":"message"}
{"nick":"piscisaureus_","message":"is AndreasMadsen also joining?","date":"2011-12-08T18:59:13.494Z","type":"message"}
{"nick":"AndreasMadsen","message":"Yes","date":"2011-12-08T18:59:18.296Z","type":"message"}
{"nick":"bnoordhuis","action":"too","date":"2011-12-08T18:59:34.505Z","type":"action"}
{"nick":"AndreasMadsen","message":"Is there always a void in the beginning?","date":"2011-12-08T19:07:08.115Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: we're actually having a call","date":"2011-12-08T19:09:19.669Z","type":"message"}
{"nick":"piscisaureus_","message":"we'll talk to you later","date":"2011-12-08T19:09:27.782Z","type":"message"}
{"nick":"piscisaureus_","message":"in a few minutes","date":"2011-12-08T19:09:33.110Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2011-12-08T19:10:07.319Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-08T19:13:23.403Z","type":"quit"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues/2288","date":"2011-12-08T19:37:33.791Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: hi","date":"2011-12-08T19:39:00.081Z","type":"message"}
{"nick":"AndreasMadsen","message":"Hi","date":"2011-12-08T19:39:15.539Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: so we're really happy about your cluster patch","date":"2011-12-08T19:40:19.432Z","type":"message"}
{"nick":"AndreasMadsen","message":"Thats great","date":"2011-12-08T19:40:30.956Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: my only problem is that it's a bit big","date":"2011-12-08T19:40:31.893Z","type":"message"}
{"nick":"AndreasMadsen","message":"Yes i know","date":"2011-12-08T19:40:41.778Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: im also worried about adding a lot of API all at once","date":"2011-12-08T19:40:45.378Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: is there like a way this can be broken into a few peices?","date":"2011-12-08T19:41:11.397Z","type":"message"}
{"nick":"AndreasMadsen","message":"We are talking about 0.7.x right? ","date":"2011-12-08T19:41:13.944Z","type":"message"}
{"nick":"ryah","message":"with the most minimal improtant changes first","date":"2011-12-08T19:41:20.936Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-12-08T19:41:21.419Z","type":"message"}
{"nick":"ryah","message":"but even though we can change API in v0.7 we don't want to be extremely radical","date":"2011-12-08T19:41:55.977Z","type":"message"}
{"nick":"ryah","message":"i'd rather minimize API changes - or at least land them in parts","date":"2011-12-08T19:42:17.867Z","type":"message"}
{"nick":"AndreasMadsen","message":"Well its pretty integrated so it is hard, but i'm thinking 1: message system 2: autoFork and events, 3: signal handling, 4: zero-downtime restart ","date":"2011-12-08T19:43:15.863Z","type":"message"}
{"nick":"ryah","message":"where does fork(env) land in there?","date":"2011-12-08T19:43:34.507Z","type":"message"}
{"nick":"bnoordhuis","message":"fun fact, libev doesn't epoll_ctl(EPOLL_CTL_DEL) when you stop the watcher, it sets a flag and handles removal right after epoll_wait()","date":"2011-12-08T19:43:37.333Z","type":"message"}
{"nick":"bnoordhuis","message":"the assumption being that the watched fd has been closed anyway","date":"2011-12-08T19:43:47.563Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: it was in https://github.com/joyent/node/pull/2042","date":"2011-12-08T19:44:23.476Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: I agree it should be removed","date":"2011-12-08T19:44:41.927Z","type":"message"}
{"nick":"ryah","message":"oh i see","date":"2011-12-08T19:44:52.492Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what does that mean?","date":"2011-12-08T19:45:00.358Z","type":"message"}
{"nick":"piscisaureus_","message":"that it's not going to be slow?","date":"2011-12-08T19:45:08.056Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: so are your patches supposed to be ontop of #2042? ","date":"2011-12-08T19:45:17.660Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: less slow anyway, it's pretty clever","date":"2011-12-08T19:45:22.646Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: No","date":"2011-12-08T19:45:29.252Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: you also have a lot of lint fixing in there","date":"2011-12-08T19:46:19.254Z","type":"message"}
{"nick":"ryah","message":"which i would want to break into separate commits","date":"2011-12-08T19:46:28.322Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: about that API, you should remember that the most important API change (not addition) is that cluster.fork is not a child_process.fork, you will have to do cluster.fork().process.","date":"2011-12-08T19:46:52.132Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: didn't I do that?","date":"2011-12-08T19:47:19.583Z","type":"message"}
{"nick":"ryah","message":"1. lint 2. child_process silent option 3. add fork(env) 4. message system 5. autoFork and events 6. signal handling","date":"2011-12-08T19:47:21.113Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: https://github.com/joyent/node/pull/2038/files#r280922","date":"2011-12-08T19:48:19.450Z","type":"message"}
{"nick":"AndreasMadsen","message":"Oh i forgot the child_process changes, this sounds fine.","date":"2011-12-08T19:48:21.463Z","type":"message"}
{"nick":"ryah","message":"let's first do the 1,2,3","date":"2011-12-08T19:48:47.907Z","type":"message"}
{"nick":"ryah","message":"then talk more about futher changes","date":"2011-12-08T19:48:54.754Z","type":"message"}
{"nick":"ryah","message":"sorry to slow you down like this - i really want to encourage you to work on this more - but i want to land this in peices and understand the implications","date":"2011-12-08T19:49:18.065Z","type":"message"}
{"nick":"ryah","message":"also - do we have a signed CLA from you?","date":"2011-12-08T19:49:36.078Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: CLA yes","date":"2011-12-08T19:49:50.885Z","type":"message"}
{"nick":"ryah","message":"great","date":"2011-12-08T19:50:25.519Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: should I make another pull request with 1, then another with 2 ... ","date":"2011-12-08T19:50:28.176Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: about that fork(env) should that be removed - i do think is a bit strage. If fork(env) should exist what about individual process arguments?  ","date":"2011-12-08T19:55:48.206Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/blob/master/src/unix/stream.c#L407 <-- also optimization territory. You should not attemt when a previous write returned EAGAIN.","date":"2011-12-08T20:00:16.181Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: I would also like a comment about the event names and method names, should there be a 100% consistency between the worker object and the cluster object?","date":"2011-12-08T20:00:16.494Z","type":"message"}
{"nick":"AndreasMadsen__","date":"2011-12-08T20:00:59.593Z","type":"join"}
{"nick":"piscisaureus_","message":"ryah: igorzi: <-- this also needs fixing. I would do it but ben and I couldn't agree on what the solution should be.","date":"2011-12-08T20:01:46.285Z","type":"message"}
{"nick":"piscisaureus_","message":"https://github.com/joyent/node/issues/2229","date":"2011-12-08T20:01:49.110Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it used to...","date":"2011-12-08T20:02:06.182Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't think so.","date":"2011-12-08T20:02:38.805Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it still does - if < len bytes is written, the next call will result in EAGAIN so we bail out","date":"2011-12-08T20:03:44.252Z","type":"message"}
{"nick":"ryah","message":"mjr_: do you have a report about the patch handling afterWrite status codes?","date":"2011-12-08T20:03:49.110Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen: yes separate pull requests","date":"2011-12-08T20:03:59.495Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Ping timeout: 265 seconds","date":"2011-12-08T20:04:52.622Z","type":"quit"}
{"nick":"sh1mmer_","date":"2011-12-08T20:05:08.289Z","type":"join"}
{"nick":"ryah","message":"AndreasMadsen__: maybe fork() should be like child_process.fork() with args first?","date":"2011-12-08T20:06:49.474Z","type":"message"}
{"nick":"AndreasMadsen__","message":"ryah: My IRC connect when down, did you get that about fork(env), and API consistency","date":"2011-12-08T20:06:52.031Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: sorry, I misunderstood how libuv-unix works","date":"2011-12-08T20:06:52.253Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen__: yes","date":"2011-12-08T20:07:01.917Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen__: http://piscisaureus.no.de/log/latest","date":"2011-12-08T20:07:11.609Z","type":"message"}
{"nick":"sh1mmer_","reason":"Client Quit","date":"2011-12-08T20:09:10.099Z","type":"quit"}
{"nick":"ryah","message":"AndreasMadsen__: do we really care about program args to workers?","date":"2011-12-08T20:10:38.634Z","type":"message"}
{"nick":"ryah","message":"*shrug*","date":"2011-12-08T20:10:40.860Z","type":"message"}
{"nick":"ryah","message":"i like the simplicity of fork(env)","date":"2011-12-08T20:10:47.624Z","type":"message"}
{"nick":"AndreasMadsen__","message":"ryah: I don't do in .fork, but I think the .setupMaster({args: []}) should exist.","date":"2011-12-08T20:12:14.678Z","type":"message"}
{"nick":"ryah","message":"AndreasMadsen__: hm","date":"2011-12-08T20:12:39.233Z","type":"message"}
{"nick":"AndreasMadsen__","message":"So sometimes I wan't a http and https cluster, but really don't want to create 2 files just to change require('http') to require('https'), this is where i think that args can be used.","date":"2011-12-08T20:14:38.766Z","type":"message"}
{"nick":"AndreasMadsen__","message":"I'm talking about 2 different clusters","date":"2011-12-08T20:14:59.634Z","type":"message"}
{"nick":"mraleph","date":"2011-12-08T20:15:40.084Z","type":"join"}
{"nick":"AndreasMadsen__","message":"^^ wan't = want","date":"2011-12-08T20:16:48.340Z","type":"message"}
{"nick":"ryah","topic":"http://drewww.github.com/socket.io-benchmarking/","date":"2011-12-08T20:19:37.047Z","type":"topic"}
{"nick":"piscisaureus_","message":"mjr_: yt?","date":"2011-12-08T20:47:45.671Z","type":"message"}
{"nick":"mjr_","message":"hi","date":"2011-12-08T20:47:51.766Z","type":"message"}
{"nick":"piscisaureus_","message":"mjr_: did ben's patch work for you?","date":"2011-12-08T20:48:04.253Z","type":"message"}
{"nick":"mjr_","message":"We are rolling out that status checking patch right now.","date":"2011-12-08T20:48:14.141Z","type":"message"}
{"nick":"mjr_","message":"Literally syncing the new version of node as we speak","date":"2011-12-08T20:48:27.349Z","type":"message"}
{"nick":"mjr_","message":"Then we'll do a rolling restart across the cluster.  It'll take about 30 mins to complete.","date":"2011-12-08T20:48:52.574Z","type":"message"}
{"nick":"piscisaureus_","message":"mjr_: so what is the time frame until you \"know\"? How long does it ususally take before leaks become noticeable?","date":"2011-12-08T20:49:59.230Z","type":"message"}
{"nick":"mjr_","message":"The leaks are not my primary concern.  The main problem is that sometimes a process will get stuck in a tight loop and never return.","date":"2011-12-08T20:50:33.924Z","type":"message"}
{"nick":"mjr_","message":"Also, it seemed to happen mostly only under peak load, which is about 5PM Pacific.","date":"2011-12-08T20:51:49.890Z","type":"message"}
{"nick":"piscisaureus_","message":"for the statisticians here: Given that a bug occurs on average 3 times an hour, how much time needs to pass before you can be 95% certain that the bug has been fixed?","date":"2011-12-08T20:54:15.170Z","type":"message"}
{"nick":"mjr_","message":"BTW, we have dshaw on the team now, and on his first day he's rolling out this patch to our cluster. :)","date":"2011-12-08T20:56:41.603Z","type":"message"}
{"nick":"piscisaureus_","message":"cool","date":"2011-12-08T20:58:44.786Z","type":"message"}
{"nick":"AndreasMadsen__","reason":"Quit: Page closed","date":"2011-12-08T21:01:30.264Z","type":"quit"}
{"nick":"dshaw_","date":"2011-12-08T21:04:37.708Z","type":"join"}
{"nick":"piscisaureus_","message":"the answer to my statistical question was 8 hrs and 59 minutes btw","date":"2011-12-08T21:18:16.482Z","type":"message"}
{"nick":"piscisaureus_","message":"so if mjr_'s bugs really happened only 3 times an hour on average we have to wait 9 hours before we are 95% sure if the bug works","date":"2011-12-08T21:18:50.863Z","type":"message"}
{"nick":"piscisaureus_","message":"er, if the fix works","date":"2011-12-08T21:19:06.975Z","type":"message"}
{"nick":"mjr_","message":"right, OK","date":"2011-12-08T21:19:14.889Z","type":"message"}
{"nick":"mjr_","message":"I think our traffic will actually be higher today, if we can get things situated first","date":"2011-12-08T21:19:29.397Z","type":"message"}
{"nick":"mjr_","message":"It's really an  unbelievable amount of traffic that we are getting.  ","date":"2011-12-08T21:20:01.684Z","type":"message"}
{"nick":"creationix","message":"does uv_readlink printf stuff when you call it","date":"2011-12-08T21:25:40.056Z","type":"message"}
{"nick":"creationix","message":"I'm getting \"OK, success\" printed to my stdout when I call it","date":"2011-12-08T21:26:00.871Z","type":"message"}
{"nick":"creationix","message":"I can't find anywhere in my code that could be doing that","date":"2011-12-08T21:26:09.204Z","type":"message"}
{"nick":"ryah","message":"ryan@mac1234:~/projects/libuv% grep -R \"OK, success\" src","date":"2011-12-08T21:28:14.789Z","type":"message"}
{"nick":"ryah","message":"-1- ryan@mac1234:~/projects/libuv% ","date":"2011-12-08T21:28:14.973Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: it's probably fprintf(stderr, \"%s: %s\" :-)","date":"2011-12-08T21:29:12.273Z","type":"message"}
{"nick":"creationix","message":"yeah, can't find it in libuv src either","date":"2011-12-08T21:29:32.977Z","type":"message"}
{"nick":"creationix","message":"I would think it's my code or node would see the same thing too when built with latest libuv","date":"2011-12-08T21:29:55.539Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: what happens if you readlink a nonexisting path :-)","date":"2011-12-08T21:29:57.637Z","type":"message"}
{"nick":"felixge","date":"2011-12-08T21:30:08.777Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-12-08T21:30:08.943Z","type":"quit"}
{"nick":"felixge","date":"2011-12-08T21:30:08.943Z","type":"join"}
{"nick":"creationix","message":"piscisaureus_: same thing","date":"2011-12-08T21:31:19.868Z","type":"message"}
{"nick":"piscisaureus_","message":"also, OK, success?","date":"2011-12-08T21:31:26.523Z","type":"message"}
{"nick":"creationix","message":"strange","date":"2011-12-08T21:31:28.222Z","type":"message"}
{"nick":"creationix","message":"I'll bet it's throwing an exception and my repl is just showing the error message","date":"2011-12-08T21:31:49.287Z","type":"message"}
{"nick":"creationix","message":"not sure why it's OK, success for a not found path though","date":"2011-12-08T21:31:58.416Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: it's a libuv bug","date":"2011-12-08T21:32:53.365Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: happens for me in node too","date":"2011-12-08T21:32:59.844Z","type":"message"}
{"nick":"creationix","message":"the success part?","date":"2011-12-08T21:33:08.786Z","type":"message"}
{"nick":"creationix","message":"the printing part is my bug though?","date":"2011-12-08T21:33:14.083Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: https://github.com/joyent/libuv/blob/b89c31b/src/unix/core.c#L456 and https://github.com/joyent/libuv/blob/b89c31b/src/unix/core.c#L469 <- why the unref and particulary the ref?","date":"2011-12-08T21:33:17.404Z","type":"message"}
{"nick":"piscisaureus_","message":"> require('fs').readlinkSync('foo');","date":"2011-12-08T21:33:27.284Z","type":"message"}
{"nick":"piscisaureus_","message":"Error: OK, success 'D:\\nodejs\\node3\\deps\\uv\\foo","date":"2011-12-08T21:33:27.447Z","type":"message"}
{"nick":"piscisaureus_","message":"    at Object.readlinkSync (fs.js:422:18)","date":"2011-12-08T21:33:27.447Z","type":"message"}
{"nick":"piscisaureus_","message":"    at repl:1:15","date":"2011-12-08T21:33:27.447Z","type":"message"}
{"nick":"piscisaureus_","message":"<<cut>>","date":"2011-12-08T21:33:27.607Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: https://github.com/joyent/node/blob/871194d/src/node.cc#L227 <- node unrefs it too","date":"2011-12-08T21:33:32.293Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: are you on windows or unix?","date":"2011-12-08T21:34:07.368Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'm 95% sure there's a bug report about that","date":"2011-12-08T21:34:08.595Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_: linux","date":"2011-12-08T21:34:16.429Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: this is to match libev behavior","date":"2011-12-08T21:34:21.263Z","type":"message"}
{"nick":"bnoordhuis","message":"it looks circumspect and confusing","date":"2011-12-08T21:34:34.107Z","type":"message"}
{"nick":"bnoordhuis","message":"(to me at least)","date":"2011-12-08T21:34:48.824Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: it's to keep the ref count of uv_idle_t at 1 instead of 2","date":"2011-12-08T21:34:56.170Z","type":"message"}
{"nick":"ryah","message":"yes it's very confusing","date":"2011-12-08T21:35:01.039Z","type":"message"}
{"nick":"ryah","message":"that's why we want to remove all that shit :)","date":"2011-12-08T21:35:06.977Z","type":"message"}
{"nick":"bnoordhuis","message":"heh, good :)","date":"2011-12-08T21:35:11.604Z","type":"message"}
{"nick":"creationix","message":"yeah ev ref counts are weird","date":"2011-12-08T21:35:19.076Z","type":"message"}
{"nick":"ryah","message":"by the way","date":"2011-12-08T21:35:20.550Z","type":"message"}
{"nick":"ryah","message":"can we talk about strategy for doing this ref simplification?","date":"2011-12-08T21:35:36.666Z","type":"message"}
{"nick":"bnoordhuis","message":"sure, fire away","date":"2011-12-08T21:35:42.179Z","type":"message"}
{"nick":"ryah","message":"so i want all of the public inteface to be in uv-common.c","date":"2011-12-08T21:36:04.266Z","type":"message"}
{"nick":"ryah","message":"e.g. uv_read_start()","date":"2011-12-08T21:36:14.234Z","type":"message"}
{"nick":"ryah","message":"and that thse are just very thing wrappers around calls into platform specific functions","date":"2011-12-08T21:36:46.193Z","type":"message"}
{"nick":"ryah","message":"the platform specific uv_read_start() would be - say - uv__read_start()","date":"2011-12-08T21:37:47.599Z","type":"message"}
{"nick":"bnoordhuis","message":"sounds good so far","date":"2011-12-08T21:38:02.672Z","type":"message"}
{"nick":"ryah","message":"then these common wrapper functions would be good places for handling ref counting","date":"2011-12-08T21:38:21.716Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: https://github.com/joyent/libuv/blob/master/src/unix/fs.c#L151-153","date":"2011-12-08T21:38:26.799Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: we take patches :-)","date":"2011-12-08T21:38:31.832Z","type":"message"}
{"nick":"ryah","message":"so i would split the ref count patches into two parts","date":"2011-12-08T21:38:36.317Z","type":"message"}
{"nick":"ryah","message":"1) make public interface functions shared with wrappers","date":"2011-12-08T21:38:50.561Z","type":"message"}
{"nick":"ryah","message":"2) move ref counting to shared interface functions","date":"2011-12-08T21:39:08.023Z","type":"message"}
{"nick":"ryah","message":"but we should come up with a better way for naming the platform specific functions","date":"2011-12-08T21:39:38.310Z","type":"message"}
{"nick":"ryah","message":"because we're already using double underscore in several places to just mean \"private\"","date":"2011-12-08T21:39:56.550Z","type":"message"}
{"nick":"bnoordhuis","message":"uv__read_start() would be private right?","date":"2011-12-08T21:40:18.592Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-12-08T21:40:28.476Z","type":"message"}
{"nick":"ryah","message":"im worried about uv_write() and uv__write()","date":"2011-12-08T21:40:36.888Z","type":"message"}
{"nick":"ryah","message":"we already have both","date":"2011-12-08T21:40:42.412Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, like that - we should rename the unix uv__write()","date":"2011-12-08T21:40:55.600Z","type":"message"}
{"nick":"ryah","message":"well or we could just come up with a better naming scheme for the platform specific interface functions","date":"2011-12-08T21:41:21.836Z","type":"message"}
{"nick":"ryah","message":"uv_plat_write()","date":"2011-12-08T21:41:38.874Z","type":"message"}
{"nick":"bnoordhuis","message":"yuck","date":"2011-12-08T21:41:43.037Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-12-08T21:41:45.813Z","type":"message"}
{"nick":"bnoordhuis","message":"uv__internal_write()","date":"2011-12-08T21:41:50.666Z","type":"message"}
{"nick":"ryah","message":"uv_p_write()","date":"2011-12-08T21:41:50.829Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: hmm, it's more complicated than that.","date":"2011-12-08T21:41:53.785Z","type":"message"}
{"nick":"ryah","message":"meh","date":"2011-12-08T21:42:01.598Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_p_write i can live with","date":"2011-12-08T21:42:01.598Z","type":"message"}
{"nick":"ryah","message":"what if we use a struct","date":"2011-12-08T21:42:08.597Z","type":"message"}
{"nick":"ryah","message":"each platform make a struct with a bunch of function pointers ","date":"2011-12-08T21:42:19.769Z","type":"message"}
{"nick":"ryah","message":"oh yeah","date":"2011-12-08T21:42:29.387Z","type":"message"}
{"nick":"ryah","message":"that's what i want to do","date":"2011-12-08T21:42:32.653Z","type":"message"}
{"nick":"bnoordhuis","message":"and do a pointer lookup each time? nooo","date":"2011-12-08T21:42:33.838Z","type":"message"}
{"nick":"ryah","message":"i knew you would say that","date":"2011-12-08T21:42:44.855Z","type":"message"}
{"nick":"bnoordhuis","message":"and you can forget about inlining that way","date":"2011-12-08T21:42:48.451Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, so why bring it up? :)","date":"2011-12-08T21:42:53.044Z","type":"message"}
{"nick":"ryah","message":"look - for many of these functions we switch on handle->type already","date":"2011-12-08T21:42:59.995Z","type":"message"}
{"nick":"ryah","message":"so what we can do is have each platform define various function for each handle->type","date":"2011-12-08T21:43:19.102Z","type":"message"}
{"nick":"ryah","message":"a struct for each handle basically","date":"2011-12-08T21:43:27.031Z","type":"message"}
{"nick":"bnoordhuis","message":"you're a closet c++ programmer, ryan dahl","date":"2011-12-08T21:43:45.155Z","type":"message"}
{"nick":"ryah","message":"that way we could move the switch (handle->type) {} that's in uv_close into the uv-common.c","date":"2011-12-08T21:43:52.586Z","type":"message"}
{"nick":"ryah","message":"im out of the closet baby","date":"2011-12-08T21:44:03.974Z","type":"message"}
{"nick":"ryah","message":"i was thinking something similiar to linux's struct file_operations","date":"2011-12-08T21:45:09.055Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm, let me get used to the idea","date":"2011-12-08T21:45:56.518Z","type":"message"}
{"nick":"ryah","message":"here's what the code in uv-common would look like:","date":"2011-12-08T21:46:02.134Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose it makes sense since we have a lot of handle types now","date":"2011-12-08T21:46:07.726Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T21:47:00.637Z","type":"quit"}
{"nick":"ryah","message":"void uv_close(uv_handle_t* handle) { switch (handle->type) { case UV_TCP: tcp_handle_ops.close(handle); break; ... })","date":"2011-12-08T21:47:19.212Z","type":"message"}
{"nick":"ryah","message":"(modulo syntax errors)","date":"2011-12-08T21:47:34.247Z","type":"message"}
{"nick":"ryah","message":"case UV_TCP: tcp_handle_ops.close(handle); break; case UV_NAMED_PIPE: pipe_handle_ops.close(handle); break; ....","date":"2011-12-08T21:48:21.159Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: then why don't you just make it a proper vtable","date":"2011-12-08T21:49:11.309Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: instead of switch, just do","date":"2011-12-08T21:49:17.612Z","type":"message"}
{"nick":"bnoordhuis","message":"still... how is that better than -> switch (handle->type) { case UV_TCP: return uv__p_tcp_close(handle); }","date":"2011-12-08T21:49:22.734Z","type":"message"}
{"nick":"ryah","message":"compare these two:","date":"2011-12-08T21:49:26.699Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/libuv/blob/f5c2a4a1ae28ab9136520a1f8f307653ca891dd9/src/win/handle.c#L83","date":"2011-12-08T21:49:30.359Z","type":"message"}
{"nick":"piscisaureus_","message":"handle->ops.close(handle);","date":"2011-12-08T21:49:30.519Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/libuv/blob/f5c2a4a1ae28ab9136520a1f8f307653ca891dd9/src/unix/core.c#L81","date":"2011-12-08T21:49:48.307Z","type":"message"}
{"nick":"ryah","message":"^-- obviously we need to share this between platforms","date":"2011-12-08T21:50:01.423Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: sure","date":"2011-12-08T21:50:16.112Z","type":"message"}
{"nick":"ryah","message":"it's another pointer deref though","date":"2011-12-08T21:50:30.547Z","type":"message"}
{"nick":"ryah","message":"but whatever","date":"2011-12-08T21:50:42.883Z","type":"message"}
{"nick":"bnoordhuis","message":"double indirection makes optimizing baby jesus cry","date":"2011-12-08T21:50:52.561Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: hmm, yeah a deref for a load and switch","date":"2011-12-08T21:51:04.168Z","type":"message"}
{"nick":"piscisaureus_","message":"i wonder what's worse","date":"2011-12-08T21:51:11.108Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: why is an ops struct better than a direct function call?","date":"2011-12-08T21:52:04.212Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean this -> switch (handle->type) { case UV_TCP: return uv__p_tcp_close(handle); }","date":"2011-12-08T21:52:15.583Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i feel like it organizes the handles better","date":"2011-12-08T21:52:18.294Z","type":"message"}
{"nick":"ryah","message":"but yeah it doesn't matter","date":"2011-12-08T21:52:24.005Z","type":"message"}
{"nick":"ryah","message":"it's something we can decide to do later","date":"2011-12-08T21:52:30.469Z","type":"message"}
{"nick":"piscisaureus_","message":"I agree that thw switch solution is better btw","date":"2011-12-08T21:52:35.594Z","type":"message"}
{"nick":"piscisaureus_","message":"I just had to run a compiler in my head","date":"2011-12-08T21:52:57.583Z","type":"message"}
{"nick":"piscisaureus_","message":"the nice thing about the double indirection is that people can define their own handle types","date":"2011-12-08T21:53:50.441Z","type":"message"}
{"nick":"piscisaureus_","message":"and plug them in","date":"2011-12-08T21:53:52.809Z","type":"message"}
{"nick":"bnoordhuis","message":"who is going to do that and why?","date":"2011-12-08T21:54:19.632Z","type":"message"}
{"nick":"piscisaureus_","message":"good question my dear","date":"2011-12-08T21:55:18.170Z","type":"message"}
{"nick":"bnoordhuis","message":"another question, how are we going to deal with libev reffing? just deref every handle and handle it in libuv?","date":"2011-12-08T21:56:18.809Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it's not that simple","date":"2011-12-08T21:56:36.114Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: i guess you would call uv_sweep or something","date":"2011-12-08T21:56:51.383Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_sweep?","date":"2011-12-08T21:57:05.831Z","type":"message"}
{"nick":"piscisaureus_","message":"er, ev_sweep","date":"2011-12-08T21:57:13.367Z","type":"message"}
{"nick":"piscisaureus_","message":"but that's probably not the correct name","date":"2011-12-08T21:57:22.436Z","type":"message"}
{"nick":"bnoordhuis","message":"what does it do?","date":"2011-12-08T21:57:43.820Z","type":"message"}
{"nick":"piscisaureus_","message":"sorry I was wrong","date":"2011-12-08T21:57:59.015Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you would do:","date":"2011-12-08T21:58:50.287Z","type":"message"}
{"nick":"piscisaureus_","message":"do {","date":"2011-12-08T21:58:50.452Z","type":"message"}
{"nick":"piscisaureus_","message":"  ev_run(EVRUN_ONCE)","date":"2011-12-08T21:58:50.452Z","type":"message"}
{"nick":"piscisaureus_","message":"} while (loop->refs > 0);","date":"2011-12-08T21:58:50.452Z","type":"message"}
{"nick":"ryah","message":"^-- yes","date":"2011-12-08T21:59:00.789Z","type":"message"}
{"nick":"benvie","date":"2011-12-08T22:02:02.555Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: i think that's what i mean with 'handle it in libuv'","date":"2011-12-08T22:03:32.553Z","type":"message"}
{"nick":"erickt","date":"2011-12-08T22:03:43.338Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: I was confused by the \"deref every handle\" statement","date":"2011-12-08T22:05:04.772Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if you do this the libev reference count will be completely ignored","date":"2011-12-08T22:05:26.246Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: so what do you think about putting all the public interface functions into src/public.c ?","date":"2011-12-08T22:06:08.590Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: src/api.c ?","date":"2011-12-08T22:06:22.332Z","type":"message"}
{"nick":"benvie","date":"2011-12-08T22:06:23.295Z","type":"join"}
{"nick":"ryah","message":"like V8","date":"2011-12-08T22:06:42.579Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: that second one then, or src/uv.c - one less character to type","date":"2011-12-08T22:06:47.738Z","type":"message"}
{"nick":"ryah","message":"src/api.c then - i don't like src/uv.c","date":"2011-12-08T22:07:04.408Z","type":"message"}
{"nick":"ryah","message":"okay - and how are we going to name the second layer functions","date":"2011-12-08T22:07:19.501Z","type":"message"}
{"nick":"ryah","message":"platform speicfic","date":"2011-12-08T22:07:21.720Z","type":"message"}
{"nick":"ryah","message":"i think the easiest thing to do first is to just make wrappers for everything","date":"2011-12-08T22:07:36.894Z","type":"message"}
{"nick":"bnoordhuis","message":"well.. uv__write() for uv_write() seems most straight-forward, just have to deal with the name clashes","date":"2011-12-08T22:08:05.980Z","type":"message"}
{"nick":"ryah","message":"no that's going to be too confusing","date":"2011-12-08T22:08:25.750Z","type":"message"}
{"nick":"ryah","message":"uv_write (src/api.c) calls uv_p_write() (src/unix/stream.c) which calls uv__write() (src/unix/stream.c)","date":"2011-12-08T22:09:15.214Z","type":"message"}
{"nick":"ryah","message":"or","date":"2011-12-08T22:09:24.861Z","type":"message"}
{"nick":"ryah","message":"uv_write (src/api.c) calls uv_p_write() (src/win/stream.c)","date":"2011-12-08T22:09:38.806Z","type":"message"}
{"nick":"bnoordhuis","message":"the second one","date":"2011-12-08T22:10:49.975Z","type":"message"}
{"nick":"bnoordhuis","message":"if it means one less function call","date":"2011-12-08T22:10:59.806Z","type":"message"}
{"nick":"ryah","message":"that wasn't a choice - just the situation on both platforms","date":"2011-12-08T22:11:21.726Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, right","date":"2011-12-08T22:11:59.068Z","type":"message"}
{"nick":"bnoordhuis","message":"what's confusing about uv_write vs uv__write btw?","date":"2011-12-08T22:12:08.776Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what version of msvs 2010 should i download? lots of options...","date":"2011-12-08T22:12:33.465Z","type":"message"}
{"nick":"bnoordhuis","message":"premium or professional?","date":"2011-12-08T22:14:31.211Z","type":"message"}
{"nick":"bnoordhuis","action":"flips a coin","date":"2011-12-08T22:14:37.624Z","type":"action"}
{"nick":"piscisaureus_","message":"bnoordhuis: ultimate","date":"2011-12-08T22:14:47.676Z","type":"message"}
{"nick":"piscisaureus_","message":"if you think having the most expensive version will make you happy","date":"2011-12-08T22:15:01.428Z","type":"message"}
{"nick":"bnoordhuis","message":"always","date":"2011-12-08T22:15:16.054Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you got your msdn already?","date":"2011-12-08T22:15:19.848Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-12-08T22:15:22.552Z","type":"quit"}
{"nick":"piscisaureus_","action":"remembers waiting for 2 monts","date":"2011-12-08T22:15:29.405Z","type":"action"}
{"nick":"piscisaureus_","message":"bnoordhuis: http://www.microsoft.com/visualstudio/en-us/products/2010-editions/product-comparison","date":"2011-12-08T22:16:21.104Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah, got it today","date":"2011-12-08T22:17:24.472Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: not that it matters for you. The only really nice feature that comes with ultimate is intellitrace, but it works only for managed code.","date":"2011-12-08T22:17:35.114Z","type":"message"}
{"nick":"sh1mmer_","date":"2011-12-08T22:20:28.272Z","type":"join"}
{"nick":"sh1mmer_","reason":"Client Quit","date":"2011-12-08T22:21:40.807Z","type":"quit"}
{"nick":"sh1mmer","date":"2011-12-08T22:33:36.388Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2011-12-08T22:41:55.443Z","type":"quit"}
{"nick":"piscisaureus_","message":"are these designs secret?","date":"2011-12-08T22:42:09.344Z","type":"message"}
{"nick":"sh1mmer","reason":"Read error: No route to host","date":"2011-12-08T22:42:11.599Z","type":"quit"}
{"nick":"DrPizza","message":"ultimate also has some nice piece of intrastructure that plugins can depend on","date":"2011-12-08T22:48:14.939Z","type":"message"}
{"nick":"DrPizza","message":"which is actually very annoying","date":"2011-12-08T22:48:18.236Z","type":"message"}
{"nick":"DrPizza","message":"Things like debugger canvas (http://msdn.microsoft.com/en-us/devlabs/hh227299) require ultimate not because they do anything super-advanced or high-end, but because they depend on graphing and similar features that are only found in Ultimate","date":"2011-12-08T22:49:28.088Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: the new node website? yes","date":"2011-12-08T23:01:39.629Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002cced79d\u000f \u000310\u000f/ (4 files)\u0002:\u000f Move a few more global vars into struct - http://git.io/q7xuhw","date":"2011-12-08T23:10:36.224Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00023d3f29c\u000f \u000310\u000f/ wscript \u0002:\u000f Remove wscript - http://git.io/AkUeEg","date":"2011-12-08T23:10:59.014Z","type":"message"}
{"nick":"ryah","message":"i feel like the makefiles that GYP generates are much better than running waf build","date":"2011-12-08T23:11:03.678Z","type":"message"}
{"nick":"igorzi","message":"ryah piscisaureus_: https://gist.github.com/1449202","date":"2011-12-08T23:20:25.030Z","type":"message"}
{"nick":"igorzi","message":"msi upgrade --^","date":"2011-12-08T23:20:36.223Z","type":"message"}
{"nick":"erickt","date":"2011-12-08T23:20:55.050Z","type":"join"}
{"nick":"ryah","message":"igorzi: great ","date":"2011-12-08T23:21:44.069Z","type":"message"}
{"nick":"igorzi","message":"ryah: ok, i'll land","date":"2011-12-08T23:21:53.919Z","type":"message"}
{"nick":"ryah","message":"igorzi: k","date":"2011-12-08T23:22:00.196Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307v0.6\u000f * r\u0002b24cdb3\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f ","date":"2011-12-08T23:22:32.254Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Enable upgrades in MSI.","date":"2011-12-08T23:22:32.415Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f Fixes #2228. - http://git.io/SX9PwA","date":"2011-12-08T23:22:32.415Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: why do you regenerate the product id on every build?","date":"2011-12-08T23:22:59.534Z","type":"message"}
{"nick":"piscisaureus_","message":"(just curious)","date":"2011-12-08T23:23:15.997Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it's required for major upgrades","date":"2011-12-08T23:23:28.440Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: major upgrade -> new product id","date":"2011-12-08T23:23:45.476Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but now it gets regenerated every time...","date":"2011-12-08T23:24:01.904Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, that's fine.. why is that an issue?","date":"2011-12-08T23:24:19.437Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: because now all upgrades are major upgrades","date":"2011-12-08T23:24:39.054Z","type":"message"}
{"nick":"piscisaureus_","message":"oh wait","date":"2011-12-08T23:24:44.874Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes, that's the point","date":"2011-12-08T23:24:47.345Z","type":"message"}
{"nick":"piscisaureus_","message":"we want that :-)","date":"2011-12-08T23:24:47.719Z","type":"message"}
{"nick":"igorzi","message":":)","date":"2011-12-08T23:24:52.746Z","type":"message"}
{"nick":"ryah","message":"rebasing isolates branch is painful","date":"2011-12-08T23:25:00.116Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but will windows installer still understand that it needs to remove the old version?","date":"2011-12-08T23:25:32.954Z","type":"message"}
{"nick":"ryah","action":"boots windows to try the new msi hotness","date":"2011-12-08T23:25:41.006Z","type":"action"}
{"nick":"igorzi","message":"piscisaureus_: yes, that's what upgradecode is for (which stays the same between installs)","date":"2011-12-08T23:26:16.187Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: we could include the product id into the tree, but then we'd have to remember to manually change it for every release, and that would be bad","date":"2011-12-08T23:27:42.788Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:28:00.317Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#18 (master - cced79d : Ryan Dahl): The build passed.","date":"2011-12-08T23:28:00.483Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/e10fd32...cced79d","date":"2011-12-08T23:28:00.483Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/387877","date":"2011-12-08T23:28:00.483Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:28:00.483Z","type":"part"}
{"nick":"mmalecki","action":"suggests putting libuv on travis as well","date":"2011-12-08T23:28:38.701Z","type":"action"}
{"nick":"travis-ci","date":"2011-12-08T23:29:10.918Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#19 (master - 3d3f29c : Ryan Dahl): The build passed.","date":"2011-12-08T23:29:11.084Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/cced79d...3d3f29c","date":"2011-12-08T23:29:11.084Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/387884","date":"2011-12-08T23:29:11.084Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:29:11.084Z","type":"part"}
{"nick":"ryah","message":"mmalecki: yes please","date":"2011-12-08T23:31:57.909Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: no this is fine","date":"2011-12-08T23:32:26.993Z","type":"message"}
{"nick":"mmalecki","message":"ryah: ok! :) will pull request today.","date":"2011-12-08T23:32:43.154Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:35:09.277Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#20 (v0.6 - b24cdb3 : Igor Zinkovsky): The build was fixed.","date":"2011-12-08T23:35:09.442Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/871194d...b24cdb3","date":"2011-12-08T23:35:09.443Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/387972","date":"2011-12-08T23:35:09.443Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:35:09.443Z","type":"part"}
{"nick":"ryah","message":"bnoordhuis: im going to land the isolates rebase","date":"2011-12-08T23:37:47.187Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: that okay?","date":"2011-12-08T23:37:50.058Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: sure","date":"2011-12-08T23:38:11.421Z","type":"message"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307isolates\u000f * r\u000276adeab\u000f \u000310\u000f/ (src/node.cc src/node_isolate.cc)\u0002:\u000f isolates: add _newIsolate() and _joinIsolate() to process object (+5 more commits...) - http://git.io/I-qjew","date":"2011-12-08T23:38:41.668Z","type":"message"}
{"nick":"ryah","message":"now to integrate the struct globals into the isolate","date":"2011-12-08T23:39:19.616Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 240 seconds","date":"2011-12-08T23:40:49.318Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2011-12-08T23:40:53.717Z","type":"quit"}
{"nick":"dshaw_","date":"2011-12-08T23:45:26.617Z","type":"join"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/3d3f29cf0626bcb1688da4fc0621b659a66fe4d9/src/node_vars.h#L21-193","date":"2011-12-08T23:45:50.795Z","type":"message"}
{"nick":"ryah","message":"^-- lots of globals","date":"2011-12-08T23:45:55.483Z","type":"message"}
{"nick":"ryah","message":"we should probably just initialize all these symbols at the beginning of the program","date":"2011-12-08T23:46:37.248Z","type":"message"}
{"nick":"ryah","message":"simpler to maintain and probably faster","date":"2011-12-08T23:46:44.680Z","type":"message"}
{"nick":"ryah","message":"or slower","date":"2011-12-08T23:46:53.790Z","type":"message"}
{"nick":"bnoordhuis","message":"at least simpler","date":"2011-12-08T23:47:08.506Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah:   // node_crypto.cc","date":"2011-12-08T23:47:35.832Z","type":"message"}
{"nick":"bnoordhuis","message":"  uv_rwlock_t* locks;","date":"2011-12-08T23:47:35.996Z","type":"message"}
{"nick":"bnoordhuis","message":"^ you can't move those","date":"2011-12-08T23:47:43.593Z","type":"message"}
{"nick":"ryah","message":"oh sorry","date":"2011-12-08T23:47:49.368Z","type":"message"}
{"nick":"dshaw_","reason":"Client Quit","date":"2011-12-08T23:48:40.144Z","type":"quit"}
{"nick":"dshaw_","date":"2011-12-08T23:49:10.662Z","type":"join"}
{"nick":"travis-ci","date":"2011-12-08T23:51:51.946Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#21 (isolates - 76adeab : Ben Noordhuis): The build failed.","date":"2011-12-08T23:51:52.105Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/6c41c5d...76adeab","date":"2011-12-08T23:51:52.105Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/387995","date":"2011-12-08T23:51:52.105Z","type":"message"}
{"nick":"travis-ci","date":"2011-12-08T23:51:52.105Z","type":"part"}
{"nick":"CIA-111","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002c5e51ce\u000f \u000310\u000f/ (src/node_crypto.cc src/node_vars.h)\u0002:\u000f Move lock back to node_crypto.cc - http://git.io/V1oFcA","date":"2011-12-08T23:58:53.156Z","type":"message"}

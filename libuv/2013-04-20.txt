{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-04-20T00:00:01.139Z","type":"quit"}
{"nick":"ircretary","date":"2013-04-20T00:00:08.482Z","type":"join"}
{"nick":"kellabyte","message":"so http pipelining works great on windows but for some reason not so on OSX, after I write I'm not calling uv_close(), does that sound correct?","date":"2013-04-20T00:00:14.265Z","type":"message"}
{"nick":"kellabyte","message":"write meaning respond to the request","date":"2013-04-20T00:00:31.125Z","type":"message"}
{"nick":"kellabyte","message":"wrk responds with timeouts","date":"2013-04-20T00:00:54.717Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T00:08:46.114Z","type":"quit"}
{"nick":"loladiro","date":"2013-04-20T00:15:09.448Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-04-20T00:18:04.945Z","type":"quit"}
{"nick":"wolfeida_","message":"kellabyte: Have you had a look on the wire?","date":"2013-04-20T00:26:04.941Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T00:26:25.607Z","type":"join"}
{"nick":"kellabyte","message":"wolfeida_: not yet, whats a good HTTP debugging tool? I know of fiddler on windows (easier to understand than wireshark)","date":"2013-04-20T00:26:35.358Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: what do you suggest for osx?","date":"2013-04-20T00:26:59.064Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: I use the terminal version of wireshark mostly, there is a program called charles for OSX","date":"2013-04-20T00:27:23.293Z","type":"message"}
{"nick":"txdv","reason":"Remote host closed the connection","date":"2013-04-20T00:27:41.561Z","type":"quit"}
{"nick":"wolfeida_","message":"kellabyte: All your reall interested in is whether or not connections are being reused atm right?","date":"2013-04-20T00:27:56.510Z","type":"message"}
{"nick":"wolfeida_","message":"you can do this on OSX with netstat or dtrace","date":"2013-04-20T00:28:21.244Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: no, that's http keep-alive, pipelining is another thing","date":"2013-04-20T00:28:24.591Z","type":"message"}
{"nick":"txdv","date":"2013-04-20T00:28:31.380Z","type":"join"}
{"nick":"kellabyte","message":"well both reuse connections but one won't wait for responses to send requests","date":"2013-04-20T00:28:54.900Z","type":"message"}
{"nick":"wolfeida_","message":"hmm i need to read the spec but pipelining is async queuing of requests without waiting for response","date":"2013-04-20T00:29:07.546Z","type":"message"}
{"nick":"kellabyte","message":"yeah","date":"2013-04-20T00:29:15.330Z","type":"message"}
{"nick":"kellabyte","message":"keep-alive also reuses the connection, but it waits for a response before sending the next request","date":"2013-04-20T00:29:32.112Z","type":"message"}
{"nick":"wolfeida_","message":"yeah ","date":"2013-04-20T00:29:37.693Z","type":"message"}
{"nick":"wolfeida_","message":"so you could do it in tshark i think","date":"2013-04-20T00:29:54.022Z","type":"message"}
{"nick":"kellabyte","message":"this code sitting on libuv worked fine on windows, so something I maybe am doing wrong I dunno","date":"2013-04-20T00:30:07.234Z","type":"message"}
{"nick":"wolfeida_","message":"do you have homebrew installed?","date":"2013-04-20T00:30:08.600Z","type":"message"}
{"nick":"kellabyte","message":"yup","date":"2013-04-20T00:30:12.237Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 258 seconds","date":"2013-04-20T00:30:51.700Z","type":"quit"}
{"nick":"wolfeida_","message":"brew install wireshark","date":"2013-04-20T00:31:04.680Z","type":"message"}
{"nick":"wolfeida_","message":"Either way that is a VERY handy tool ","date":"2013-04-20T00:31:14.512Z","type":"message"}
{"nick":"kellabyte","message":"ok","date":"2013-04-20T00:31:26.951Z","type":"message"}
{"nick":"wolfeida_","message":"this is the page i use a lot http://kvz.io/blog/2010/05/15/analyze-http-requests-with-tshark/","date":"2013-04-20T00:32:00.123Z","type":"message"}
{"nick":"wolfeida_","message":"gives you a few recipes which will enable you to see http in the terminal in both verbose (OMG SO MUCH TEXT) and brief mode :)","date":"2013-04-20T00:32:53.908Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T00:33:20.917Z","type":"quit"}
{"nick":"kellabyte","message":"wicked, thanks :) installing now","date":"2013-04-20T00:33:22.452Z","type":"message"}
{"nick":"kellabyte","message":"am I correct in my libuv knowledge that to keep a connection open properly for keep-alive or pipelining I just don't call uv_close()?","date":"2013-04-20T00:34:05.244Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: I have seen your posts on twitter, your way ahead of me on libuv knoweldge :) either way i like to see proof via the wire","date":"2013-04-20T00:35:35.426Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: haha :)","date":"2013-04-20T00:36:20.751Z","type":"message"}
{"nick":"wolfeida_","message":"sudo tshark -i en1 -R \"http.request || http.response\" tcp port 80 or tcp port 443","date":"2013-04-20T00:37:01.469Z","type":"message"}
{"nick":"wolfeida_","message":"that will give you a breif list of http requests and responses, note i am using wireless so the interface specified is eth1","date":"2013-04-20T00:37:31.454Z","type":"message"}
{"nick":"wolfeida_","message":"en1 sorry","date":"2013-04-20T00:37:34.556Z","type":"message"}
{"nick":"wolfeida_","message":"en0 is typically the wired interface unless your on an air or something ","date":"2013-04-20T00:37:55.355Z","type":"message"}
{"nick":"kellabyte","message":"damn, brew getting a 404 on the wiresharp bzip","date":"2013-04-20T00:38:02.533Z","type":"message"}
{"nick":"wolfeida_","message":"do a brew update","date":"2013-04-20T00:39:14.331Z","type":"message"}
{"nick":"loladiro","date":"2013-04-20T00:40:48.624Z","type":"join"}
{"nick":"wolfeida_","message":"if the wireshark recipe is listed after the update try again otherwise you can tweak the brew it is just a simple ruby script","date":"2013-04-20T00:41:58.270Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-04-20T00:45:47.647Z","type":"quit"}
{"nick":"kellabyte","message":"yeah update looks to be downloading a new bzip, thanks","date":"2013-04-20T00:48:23.426Z","type":"message"}
{"nick":"wolfeida_","message":"just refreshing my memory on http pipelineing","date":"2013-04-20T00:53:32.221Z","type":"message"}
{"nick":"wolfeida_","message":"and watching it happen in wireshark","date":"2013-04-20T00:54:23.108Z","type":"message"}
{"nick":"indutny","message":"fuck pipelining","date":"2013-04-20T00:54:24.445Z","type":"message"}
{"nick":"indutny","message":"use spdy","date":"2013-04-20T00:54:25.567Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-04-20T00:54:26.430Z","type":"message"}
{"nick":"dap","date":"2013-04-20T00:54:30.834Z","type":"join"}
{"nick":"wolfeida_","message":"indutny: haha","date":"2013-04-20T00:54:40.741Z","type":"message"}
{"nick":"indutny","message":"really, just reply \"Connection: close\"","date":"2013-04-20T00:55:04.117Z","type":"message"}
{"nick":"indutny","message":"hehe","date":"2013-04-20T00:55:07.534Z","type":"message"}
{"nick":"wolfeida_","message":"reading the Head-of-line blocking article on wikipedia quite a bit out of date","date":"2013-04-20T00:57:20.456Z","type":"message"}
{"nick":"wolfeida_","message":"someone needs at add a note next to out of order delivery, \"seen frequently when observing data that has passed over any mobile network\"","date":"2013-04-20T00:58:57.065Z","type":"message"}
{"nick":"wolfeida_","message":"HTTP/1.1 defines the \"close\" connection option for the sender to signal that the connection will be closed after completion of the response. ","date":"2013-04-20T01:00:58.529Z","type":"message"}
{"nick":"wolfeida_","message":"You see that a lot with bad http client implementations","date":"2013-04-20T01:01:26.594Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: It is my understanding that http pipelining is a required feature of HTTP 1.1 ","date":"2013-04-20T01:02:14.178Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: ah, interesting","date":"2013-04-20T01:02:48.126Z","type":"message"}
{"nick":"wolfeida_","message":"from memory if you don't want to use it you pretty much have to use HTTP 1.0","date":"2013-04-20T01:02:54.410Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: I want pipelining","date":"2013-04-20T01:03:04.443Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: tshark on lo0 seems to not be showing any output, hmm","date":"2013-04-20T01:03:17.707Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: Yeah i think that interface is protected from memory ","date":"2013-04-20T01:03:44.377Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #82 \u00037UNSTABLE\u000f smartos (3/188) windows (4/189) linux (1/188) osx (1/188) http://jenkins.nodejs.org/job/libuv-master/82/","date":"2013-04-20T01:04:07.386Z","type":"message"}
{"nick":"wolfeida_","message":"hmm says it should work on OSX","date":"2013-04-20T01:05:02.688Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T01:05:13.850Z","type":"quit"}
{"nick":"wolfeida_","message":"kellabyte: are you using port 80 or 443?","date":"2013-04-20T01:05:25.225Z","type":"message"}
{"nick":"kellabyte","message":"8000","date":"2013-04-20T01:05:31.372Z","type":"message"}
{"nick":"kellabyte","message":"I put that in the tshark command line though","date":"2013-04-20T01:05:42.967Z","type":"message"}
{"nick":"wolfeida_","message":"sec i will try it","date":"2013-04-20T01:05:54.406Z","type":"message"}
{"nick":"kellabyte","message":"if I don't do the http -r thing you had, it outputs some stuff","date":"2013-04-20T01:05:55.614Z","type":"message"}
{"nick":"wolfeida_","message":"tshark -i lo0 -R \"http.request || http.response\" -d tcp.port==8000,http tcp port 8000 or tcp port 443","date":"2013-04-20T01:08:47.172Z","type":"message"}
{"nick":"wolfeida_","message":"you need to tell it to decode 8000 as http","date":"2013-04-20T01:09:07.963Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-04-20T01:09:28.094Z","type":"quit"}
{"nick":"kellabyte","message":"ah cool now I'm seeing stuff!","date":"2013-04-20T01:10:53.173Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: now you should be able to deduce pipelining by the order in which requests and responses come through","date":"2013-04-20T01:12:01.909Z","type":"message"}
{"nick":"kellabyte","message":"interesting, 2 gets, to responses, 2 gets, no responses, I've set wrk to do 2 pipeline requests","date":"2013-04-20T01:12:14.787Z","type":"message"}
{"nick":"wolfeida_","message":"sound correct?","date":"2013-04-20T01:12:15.118Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: is there a way to spit out the details like the actual response text etc?","date":"2013-04-20T01:12:54.400Z","type":"message"}
{"nick":"wolfeida_","message":"add a -V switch but get ready for a lot of text ","date":"2013-04-20T01:13:12.168Z","type":"message"}
{"nick":"wolfeida_","message":"you can add fields to the output ","date":"2013-04-20T01:13:23.832Z","type":"message"}
{"nick":"wolfeida_","message":"at the moment your seeing the default fields ","date":"2013-04-20T01:13:34.004Z","type":"message"}
{"nick":"wolfeida_","message":"-T fields -e http.cookie ","date":"2013-04-20T01:14:31.759Z","type":"message"}
{"nick":"wolfeida_","message":"for example","date":"2013-04-20T01:14:34.581Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: Each decoder has a page on wireshark wiki from memory ","date":"2013-04-20T01:14:56.824Z","type":"message"}
{"nick":"sblom","reason":"Ping timeout: 240 seconds","date":"2013-04-20T01:15:33.688Z","type":"quit"}
{"nick":"kellabyte","message":"wolfeida_: cool thanks, I'll check it out","date":"2013-04-20T01:16:20.737Z","type":"message"}
{"nick":"kellabyte","message":"thanks so much for the help","date":"2013-04-20T01:16:33.398Z","type":"message"}
{"nick":"kellabyte","message":"seems for some reason I stop responding","date":"2013-04-20T01:16:40.075Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: for what your hacking on that tool will help a ton","date":"2013-04-20T01:16:56.543Z","type":"message"}
{"nick":"kellabyte","message":"my libuv code shows 1 less pair of header requests than what tshark see's going out on the wire","date":"2013-04-20T01:17:08.742Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: could be buffering of some sort going on ? ","date":"2013-04-20T01:18:00.444Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #29 \u00037UNSTABLE\u000f smartos-ia32 (3/582) osx-x64 (1/582) smartos-x64 (1/582) osx-ia32 (1/582) windows-x64 (8/582) windows-ia32 (7/582) http://jenkins.nodejs.org/job/libuv-node-integration/29/","date":"2013-04-20T01:22:46.560Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: dunno yet, hopefully find out sooner than later :)","date":"2013-04-20T01:22:54.419Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: haha good luck, the two tools i use a lot for this sort of  thing are wireshark and dtrace","date":"2013-04-20T01:24:43.189Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: thanks! and thanks for the help :)","date":"2013-04-20T01:26:02.361Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: np any time, you also in the process refreshed my knowledge of tshark :)","date":"2013-04-20T01:26:47.028Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T01:26:58.045Z","type":"join"}
{"nick":"kellabyte","message":":)","date":"2013-04-20T01:27:08.767Z","type":"message"}
{"nick":"pooya","date":"2013-04-20T01:29:17.534Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-04-20T01:31:32.537Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-04-20T01:44:49.189Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-04-20T01:44:53.471Z","type":"quit"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-04-20T02:02:15.596Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-04-20T02:19:59.331Z","type":"quit"}
{"nick":"pooya","date":"2013-04-20T02:22:55.935Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T02:26:09.206Z","type":"quit"}
{"nick":"loladiro","date":"2013-04-20T02:34:23.534Z","type":"join"}
{"nick":"c4milo","date":"2013-04-20T02:35:43.131Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 248 seconds","date":"2013-04-20T03:04:37.599Z","type":"quit"}
{"nick":"kellabyte","message":"any libuvers awake? :P","date":"2013-04-20T03:12:39.071Z","type":"message"}
{"nick":"dscape_","reason":"*.net *.split","date":"2013-04-20T03:15:12.187Z","type":"quit"}
{"nick":"joclek","reason":"*.net *.split","date":"2013-04-20T03:15:12.577Z","type":"quit"}
{"nick":"rvagg","message":"wrong time of day for action in here kellabyte ","date":"2013-04-20T03:15:20.310Z","type":"message"}
{"nick":"kellabyte","message":"rvagg: ah ok no prob :)","date":"2013-04-20T03:16:22.005Z","type":"message"}
{"nick":"dscape_","date":"2013-04-20T03:20:12.386Z","type":"join"}
{"nick":"joclek","date":"2013-04-20T03:20:12.515Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2013-04-20T03:24:07.882Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T03:27:28.902Z","type":"join"}
{"nick":"wolfeida_","message":"kellabyte: almost have that gist running just need to work out how to add a main function","date":"2013-04-20T03:29:18.973Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: oh cool :)","date":"2013-04-20T03:31:39.149Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2013-04-20T03:31:55.776Z","type":"quit"}
{"nick":"wolfeida_","message":"kellabyte: seems to accept 128 requests then die ","date":"2013-04-20T03:36:17.268Z","type":"message"}
{"nick":"mikeal","date":"2013-04-20T03:37:33.599Z","type":"join"}
{"nick":"wolfeida_","message":"so for some reason the backlog setting is not working correctly i think ","date":"2013-04-20T03:38:55.076Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: have you had a look at https://github.com/bnoordhuis/libuv-chat/blob/master/src/main.c","date":"2013-04-20T03:39:01.322Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: either way my seriously rough version is here https://github.com/wolfeidau/uvwebserver","date":"2013-04-20T03:39:36.725Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: yeah I saw that, I can't see anything there that looks majorly different, I thought I was misusing uv_read_start() but the use looks similar","date":"2013-04-20T03:41:59.169Z","type":"message"}
{"nick":"kellabyte","message":"its like libuv isn't sending me anymore bytes although wireshark shows more","date":"2013-04-20T03:42:10.023Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T03:50:19.725Z","type":"join"}
{"nick":"wolfeida_","message":"kellabyte: So it responds correctly 244 times","date":"2013-04-20T03:54:26.196Z","type":"message"}
{"nick":"kellabyte","message":"with wrk using --pipeling 2?","date":"2013-04-20T03:54:55.753Z","type":"message"}
{"nick":"kellabyte","message":"or more","date":"2013-04-20T03:54:58.615Z","type":"message"}
{"nick":"wolfeida_","message":"kellabyte: I am just using siege localhost:8000 at the moment what is wrk?","date":"2013-04-20T03:58:39.020Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: https://github.com/wg/wrk/tree/pipeline","date":"2013-04-20T03:59:15.686Z","type":"message"}
{"nick":"kellabyte","message":"might be exposing the same problem in siege, I dunno, I was testing pipelining with wrk which is a client that supports pipelining if you get that specific branch","date":"2013-04-20T03:59:43.700Z","type":"message"}
{"nick":"kellabyte","message":"with --pipeline 2 you'll see 2 requests, 2 responses, then 2 requests, and no responses","date":"2013-04-20T04:00:08.351Z","type":"message"}
{"nick":"kellabyte","message":"ok bed time, if you do find anything, tweet me :P back at it tomorrow!","date":"2013-04-20T04:02:26.515Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-04-20T04:03:00.831Z","type":"quit"}
{"nick":"wolfeida_","message":"kellabyte: yeah np","date":"2013-04-20T04:07:54.551Z","type":"message"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-04-20T04:10:03.461Z","type":"quit"}
{"nick":"brson","date":"2013-04-20T04:10:52.481Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-20T04:23:10.963Z","type":"nick"}
{"nick":"TooTallNate","date":"2013-04-20T04:36:25.398Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2013-04-20T04:38:02.323Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T05:16:46.651Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T05:17:24.466Z","type":"quit"}
{"nick":"kellabyte2","date":"2013-04-20T05:19:29.911Z","type":"join"}
{"nick":"loladiro","date":"2013-04-20T05:19:50.633Z","type":"join"}
{"nick":"mikeal","date":"2013-04-20T05:20:06.532Z","type":"join"}
{"nick":"CoverSli1e","date":"2013-04-20T05:20:38.462Z","type":"join"}
{"nick":"toothr","date":"2013-04-20T05:21:19.364Z","type":"join"}
{"nick":"kellabyte","reason":"*.net *.split","date":"2013-04-20T05:25:28.821Z","type":"quit"}
{"nick":"CoverSlide","reason":"*.net *.split","date":"2013-04-20T05:25:28.822Z","type":"quit"}
{"nick":"toothrot","reason":"*.net *.split","date":"2013-04-20T05:25:28.960Z","type":"quit"}
{"nick":"kellabyte2","new_nick":"kellabyte","date":"2013-04-20T05:30:03.536Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-04-20T05:41:04.085Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T06:11:26.044Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-04-20T06:20:03.989Z","type":"quit"}
{"nick":"abraxas","date":"2013-04-20T06:25:58.269Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2013-04-20T06:30:17.878Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T06:40:01.132Z","type":"quit"}
{"nick":"mikeal","date":"2013-04-20T06:43:54.563Z","type":"join"}
{"nick":"benoitc","reason":"Ping timeout: 245 seconds","date":"2013-04-20T07:04:36.586Z","type":"quit"}
{"nick":"benoitc","date":"2013-04-20T07:05:16.621Z","type":"join"}
{"nick":"rendar","date":"2013-04-20T07:14:39.762Z","type":"join"}
{"nick":"kazupon","date":"2013-04-20T07:16:40.401Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-04-20T07:21:31.322Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T07:34:33.755Z","type":"join"}
{"nick":"abraxas","date":"2013-04-20T08:26:17.456Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2013-04-20T08:30:35.822Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-04-20T08:31:42.624Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T09:11:01.590Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T09:24:52.560Z","type":"quit"}
{"nick":"hz","date":"2013-04-20T09:54:30.405Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-04-20T10:06:48.407Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2013-04-20T10:08:04.479Z","type":"quit"}
{"nick":"toothr","new_nick":"toothrot","date":"2013-04-20T10:17:12.500Z","type":"nick"}
{"nick":"luxigo","date":"2013-04-20T10:39:58.750Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-04-20T10:41:13.716Z","type":"join"}
{"nick":"dominictarr","date":"2013-04-20T10:49:15.404Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-04-20T11:01:15.672Z","type":"quit"}
{"nick":"c4milo","date":"2013-04-20T11:16:46.356Z","type":"join"}
{"nick":"tjfontaine","message":"bens awake","date":"2013-04-20T11:26:44.034Z","type":"message"}
{"nick":"mmalecki","message":"wow, it's barely 1 PM and he's awake?","date":"2013-04-20T11:30:08.792Z","type":"message"}
{"nick":"tjfontaine","message":"on a saturday no less","date":"2013-04-20T11:30:35.481Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T11:31:37.611Z","type":"join"}
{"nick":"mmalecki","message":"there has to be something wrong, I'm sure","date":"2013-04-20T11:33:09.222Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: is everything ok?","date":"2013-04-20T11:33:32.688Z","type":"message"}
{"nick":"bnoordhuis","message":"the house was on fire","date":"2013-04-20T11:33:40.165Z","type":"message"}
{"nick":"bnoordhuis","message":"but yeah","date":"2013-04-20T11:33:41.840Z","type":"message"}
{"nick":"tjfontaine","message":"it's out now? or you moved?","date":"2013-04-20T11:33:53.164Z","type":"message"}
{"nick":"bnoordhuis","message":"i moved to the front of the house","date":"2013-04-20T11:34:03.645Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/joyent/node/pull/5325 <- is that ready to go in?","date":"2013-04-20T11:34:11.798Z","type":"message"}
{"nick":"bnoordhuis","message":"it says 0.11.2","date":"2013-04-20T11:34:17.733Z","type":"message"}
{"nick":"tjfontaine","message":"I don't think isaacs cut an 11.2 for the node-0.11.1 release so","date":"2013-04-20T11:34:59.819Z","type":"message"}
{"nick":"bnoordhuis","message":"ah okay","date":"2013-04-20T11:35:06.688Z","type":"message"}
{"nick":"bnoordhuis","message":"i see the dtrace stuff in deps/uv/","date":"2013-04-20T11:35:11.619Z","type":"message"}
{"nick":"tjfontaine","message":"yes, but there's a uv.gyp fix that needs to land","date":"2013-04-20T11:35:32.893Z","type":"message"}
{"nick":"bnoordhuis","message":"this 'only official releases' stuff is kinda limiting","date":"2013-04-20T11:35:33.735Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: like that: http://www.golfbytourmiss.com/gbtm/wp-content/uploads/2012/07/House-on-fire.png ?","date":"2013-04-20T11:35:50.014Z","type":"message"}
{"nick":"tjfontaine","message":"because gyp is a tempermental bitch","date":"2013-04-20T11:35:57.613Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: indeed :)","date":"2013-04-20T11:36:39.744Z","type":"message"}
{"nick":"bnoordhuis","message":"re upgrades, i move we move to a scheme where we do intermediate upgrades + an official libu release when we release node","date":"2013-04-20T11:37:30.854Z","type":"message"}
{"nick":"bnoordhuis","message":"*libuv","date":"2013-04-20T11:37:37.976Z","type":"message"}
{"nick":"bnoordhuis","message":"esp. in master because there's easily two or three weeks between releases","date":"2013-04-20T11:38:05.205Z","type":"message"}
{"nick":"tjfontaine","message":"that makes sense to me, merge libuv at will, but cut a libuv same-day as node","date":"2013-04-20T11:38:08.228Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-04-20T11:38:13.398Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: you around?","date":"2013-04-20T11:38:58.324Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: and you?","date":"2013-04-20T11:39:05.383Z","type":"message"}
{"nick":"tjfontaine","message":"it's pretty early in .ca land right now","date":"2013-04-20T11:39:12.029Z","type":"message"}
{"nick":"bnoordhuis","message":"right. what timezone are the bahamas in?","date":"2013-04-20T11:39:33.898Z","type":"message"}
{"nick":"tjfontaine","message":"and indutny is on his way back to NYC? they're same as NY","date":"2013-04-20T11:39:44.052Z","type":"message"}
{"nick":"tjfontaine","message":"afaik","date":"2013-04-20T11:39:47.952Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-04-20T11:39:52.480Z","type":"quit"}
{"nick":"tjfontaine","message":"which is -4 right now I think","date":"2013-04-20T11:40:02.613Z","type":"message"}
{"nick":"bnoordhuis","message":"ah right. okay, let's discuss it on monday","date":"2013-04-20T11:40:08.478Z","type":"message"}
{"nick":"tjfontaine","message":"I'm on my way to -4 today as well","date":"2013-04-20T11:41:21.145Z","type":"message"}
{"nick":"bnoordhuis","message":"oh? why?","date":"2013-04-20T11:42:08.071Z","type":"message"}
{"nick":"tjfontaine","message":"surprise visit for my moms birthday","date":"2013-04-20T11:42:53.358Z","type":"message"}
{"nick":"bnoordhuis","message":"congratulations!","date":"2013-04-20T11:47:02.791Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-04-20T11:47:24.451Z","type":"message"}
{"nick":"tjfontaine","message":"I'll pass along your well wishes :)","date":"2013-04-20T11:48:56.352Z","type":"message"}
{"nick":"hz","date":"2013-04-20T12:00:24.406Z","type":"join"}
{"nick":"mmalecki","message":"do you guys run Linux on MacBooks, per chance?","date":"2013-04-20T12:00:30.265Z","type":"message"}
{"nick":"bnoordhuis","message":"on and off","date":"2013-04-20T12:00:41.460Z","type":"message"}
{"nick":"bnoordhuis","message":"it's hit and miss","date":"2013-04-20T12:00:45.858Z","type":"message"}
{"nick":"bnoordhuis","message":"mostly miss","date":"2013-04-20T12:00:56.804Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: is installation a pain?","date":"2013-04-20T12:01:09.495Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: not if it works :)","date":"2013-04-20T12:01:19.049Z","type":"message"}
{"nick":"bnoordhuis","message":"sorry, gotta go. ask me about it tonight","date":"2013-04-20T12:01:50.029Z","type":"message"}
{"nick":"bnoordhuis","action":"waves","date":"2013-04-20T12:01:56.505Z","type":"action"}
{"nick":"mmalecki","message":":) o/","date":"2013-04-20T12:02:17.919Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-04-20T12:06:10.453Z","type":"quit"}
{"nick":"mmalecki","message":"daaamn, valgrind is sure broken on OS X","date":"2013-04-20T12:06:54.705Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T12:36:50.577Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2013-04-20T12:41:17.435Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-04-20T12:48:18.493Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-04-20T13:12:22.354Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-04-20T13:13:07.105Z","type":"join"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2013-04-20T13:15:12.837Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T13:37:23.475Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-04-20T13:37:59.767Z","type":"nick"}
{"nick":"trippeh","reason":"Quit: leaving","date":"2013-04-20T13:41:17.949Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 258 seconds","date":"2013-04-20T13:42:01.295Z","type":"quit"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-04-20T13:50:36.476Z","type":"quit"}
{"nick":"hz","date":"2013-04-20T13:55:29.539Z","type":"join"}
{"nick":"AvianFlu","date":"2013-04-20T14:08:23.444Z","type":"join"}
{"nick":"kazupon","date":"2013-04-20T14:37:57.313Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-04-20T14:40:40.395Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-04-20T14:44:30.211Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-04-20T14:51:31.437Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-04-20T15:06:25.292Z","type":"quit"}
{"nick":"loladiro","date":"2013-04-20T15:06:25.519Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-04-20T15:08:10.801Z","type":"quit"}
{"nick":"benoitc","date":"2013-04-20T15:13:51.801Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-04-20T15:21:30.191Z","type":"join"}
{"nick":"txdv","reason":"Remote host closed the connection","date":"2013-04-20T15:26:07.478Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-04-20T15:33:09.610Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T15:40:30.626Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-04-20T15:45:14.506Z","type":"quit"}
{"nick":"txdv","date":"2013-04-20T16:09:21.946Z","type":"join"}
{"nick":"txdv","message":"hello","date":"2013-04-20T16:11:27.712Z","type":"message"}
{"nick":"loladiro","date":"2013-04-20T16:27:33.488Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 264 seconds","date":"2013-04-20T16:34:24.421Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T16:41:05.651Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-04-20T16:43:33.201Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-04-20T16:45:54.707Z","type":"quit"}
{"nick":"inolen","date":"2013-04-20T16:46:12.558Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2013-04-20T16:47:06.474Z","type":"quit"}
{"nick":"loladiro","date":"2013-04-20T16:47:35.809Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T17:11:19.924Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-20T17:26:38.578Z","type":"nick"}
{"nick":"kellabyte","message":"any libuvers awake this afternoon? :)","date":"2013-04-20T17:37:39.307Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T17:43:39.458Z","type":"join"}
{"nick":"loladiro","date":"2013-04-20T17:44:48.001Z","type":"join"}
{"nick":"pooya","date":"2013-04-20T17:49:23.636Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-04-20T17:52:12.066Z","type":"quit"}
{"nick":"perezd","date":"2013-04-20T17:53:15.454Z","type":"join"}
{"nick":"perezd","reason":"Client Quit","date":"2013-04-20T17:54:36.211Z","type":"quit"}
{"nick":"perezd","date":"2013-04-20T17:55:30.704Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T17:56:51.615Z","type":"quit"}
{"nick":"mikeal","date":"2013-04-20T17:57:25.013Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-04-20T17:58:59.330Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-04-20T18:02:21.719Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-04-20T18:04:04.931Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2013-04-20T18:10:26.885Z","type":"quit"}
{"nick":"mikeal","date":"2013-04-20T18:25:21.675Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-04-20T18:30:22.602Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-04-20T18:30:54.708Z","type":"nick"}
{"nick":"hz","date":"2013-04-20T18:33:37.583Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2013-04-20T18:37:56.513Z","type":"quit"}
{"nick":"kellabyte","message":"I would appreciate a second set of eyes on this, I'm doing something wrong with libuv I think :) https://gist.github.com/kellabyte/5426722","date":"2013-04-20T18:40:55.325Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T18:42:31.635Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E","date":"2013-04-20T18:44:08.456Z","type":"nick"}
{"nick":"kazupon","date":"2013-04-20T18:48:48.815Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2013-04-20T18:53:26.769Z","type":"quit"}
{"nick":"mikeal","date":"2013-04-20T18:58:52.691Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-04-20T19:17:18.416Z","type":"join"}
{"nick":"kellabyte","message":"bnoordhuis: hiya! how are you? I was wondering if you might have a few minutes to check out something I'm having trouble with :)","date":"2013-04-20T19:20:43.058Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: sure, shoot","date":"2013-04-20T19:21:41.170Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: wicked! thanks so much :) I'm having difficulties with http_parser, I gathered a bunch of info of the problem here: https://gist.github.com/kellabyte/5426722","date":"2013-04-20T19:23:29.180Z","type":"message"}
{"nick":"kellabyte","message":"I'm sure the webserver.c implementation is misusing libuv perhaps but I'm not sure what","date":"2013-04-20T19:23:46.417Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: i'm really only good at yes/no type of questions","date":"2013-04-20T19:24:17.143Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. \"can i use quux when foo is assigned to bar?\" \"yes\" (or no as the case may be)","date":"2013-04-20T19:24:40.957Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: ah okay, sorry. do you know who I can talk to about libuv and http_parser? I'm having difficulty understanding what is wrong","date":"2013-04-20T19:25:27.636Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: I saw you on the commit list so sorry for bothering you","date":"2013-04-20T19:25:50.734Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: well, me i suppose","date":"2013-04-20T19:25:58.651Z","type":"message"}
{"nick":"roxlu","message":"kellabyte: I had a never ending loop a couple of weeks ago too","date":"2013-04-20T19:26:42.356Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, i didn't know wrk supports pipelining","date":"2013-04-20T19:26:58.281Z","type":"message"}
{"nick":"roxlu","message":"kellabyte: I think I fixed it by creating a separate loop (uv_loop_new())","date":"2013-04-20T19:27:21.480Z","type":"message"}
{"nick":"roxlu","message":"(it was actually a \"bug\" caused by my own code)","date":"2013-04-20T19:27:51.437Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: ./wrk -d1 -t1 -c1 --pipeline 2 http://127.0.0.1:8000/ <- are you sure htat line does what you think it does?","date":"2013-04-20T19:28:51.996Z","type":"message"}
{"nick":"bnoordhuis","message":"*that","date":"2013-04-20T19:28:55.162Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: the wireshark output looks to do what I expect it to be doing (minus the last requests)","date":"2013-04-20T19:29:48.616Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: `git grep pipeline` on wrk's repo doesn't show any hits","date":"2013-04-20T19:30:57.111Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: https://github.com/wg/wrk/tree/pipeline","date":"2013-04-20T19:32:43.530Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2013-04-20T19:33:07.845Z","type":"message"}
{"nick":"bnoordhuis","message":"then my next question would be: does wrk implement it correctly?","date":"2013-04-20T19:33:27.007Z","type":"message"}
{"nick":"kellabyte","message":"ah I need to update my git instructions, I thought submodules auto fetch but they don't lol","date":"2013-04-20T19:33:32.677Z","type":"message"}
{"nick":"bnoordhuis","message":"almost all tools that do http pipelining bork it in some way","date":"2013-04-20T19:33:57.572Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: dunno but several people recommended it so I'm going to blame my usage of libuv before I blame a thing people are successfully testing with lol","date":"2013-04-20T19:35:44.874Z","type":"message"}
{"nick":"kellabyte","message":"is there another pipelined benchmark tool thats better to try?","date":"2013-04-20T19:36:03.300Z","type":"message"}
{"nick":"bnoordhuis","message":"httperf does, i think","date":"2013-04-20T19:37:49.776Z","type":"message"}
{"nick":"bnoordhuis","message":"curl does too but that's not really a benchmarking tool, of course","date":"2013-04-20T19:37:59.846Z","type":"message"}
{"nick":"kellabyte","message":"well at this point I can't even benchmark because it just fails in under 4 requests","date":"2013-04-20T19:38:40.773Z","type":"message"}
{"nick":"bnoordhuis","message":"do non-pipelined keep-alive requests work?","date":"2013-04-20T19:40:32.965Z","type":"message"}
{"nick":"kellabyte","message":"and after_write() gets called forever from uv_write()","date":"2013-04-20T19:40:35.731Z","type":"message"}
{"nick":"kellabyte","message":"yup","date":"2013-04-20T19:40:37.573Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-20T19:40:48.806Z","type":"nick"}
{"nick":"bnoordhuis","message":"btw, http_parser itself doesn't really support pipelining","date":"2013-04-20T19:40:49.616Z","type":"message"}
{"nick":"bnoordhuis","message":"how did you add it?","date":"2013-04-20T19:41:24.583Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: it seems to be a writing issue not a reading one unless I understand the problem wrong but my output shows its reading the messages","date":"2013-04-20T19:41:48.799Z","type":"message"}
{"nick":"kellabyte","message":"what do you mean by add it? I just included http_server.h and .c to my project","date":"2013-04-20T19:42:02.067Z","type":"message"}
{"nick":"kellabyte","message":"thanks for the help btw :)","date":"2013-04-20T19:42:11.829Z","type":"message"}
{"nick":"kellabyte","message":"after_write() is endlessly happening so does that indicate some kind of endless loop its stuck on?","date":"2013-04-20T19:43:01.901Z","type":"message"}
{"nick":"kellabyte","message":"from uv_write()","date":"2013-04-20T19:43:08.639Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: do you create a new http_parser struct after on_headers_complete?","date":"2013-04-20T19:43:20.158Z","type":"message"}
{"nick":"bnoordhuis","message":"for the next pipelined request, i mean?","date":"2013-04-20T19:43:30.761Z","type":"message"}
{"nick":"bnoordhuis","message":"if you keep using the same one, well, things are bound to go corrupt","date":"2013-04-20T19:43:48.600Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: ah! that may be a problem then since I'm not :)","date":"2013-04-20T19:44:01.643Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: doesn't explain why it worked on windows though, or is it just a timing thing and I got lucky?","date":"2013-04-20T19:44:19.511Z","type":"message"}
{"nick":"bnoordhuis","message":"probably","date":"2013-04-20T19:44:34.032Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: are you talking about this call? http_parser_init(&client->parser, HTTP_REQUEST);","date":"2013-04-20T19:47:41.717Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: yes","date":"2013-04-20T19:48:09.816Z","type":"message"}
{"nick":"bnoordhuis","message":"see, that's the kind of questions i'm good at","date":"2013-04-20T19:48:25.562Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: yeah, sorry for being difficult, I'm just having difficulty understanding the problem","date":"2013-04-20T19:48:57.063Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: http pipelining means that multiple requests are fired off simultaneously over the same connection","date":"2013-04-20T19:49:28.726Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: yups","date":"2013-04-20T19:49:45.388Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T19:49:51.774Z","type":"join"}
{"nick":"kellabyte","message":"bnoordhuis: and without waiting for the response like in keep-alive","date":"2013-04-20T19:49:55.161Z","type":"message"}
{"nick":"bnoordhuis","message":"you can't just use a single http_parser because you're not receiving/responding in serial but concurrently","date":"2013-04-20T19:50:12.677Z","type":"message"}
{"nick":"bnoordhuis","message":"if i read your code correctly, you use a single instance now","date":"2013-04-20T19:50:37.575Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: per connection, yeah","date":"2013-04-20T19:50:45.721Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-04-20T19:50:51.223Z","type":"message"}
{"nick":"bnoordhuis","message":"what it should do is fork the http_parser instance in its on_headers_complete cb","date":"2013-04-20T19:51:14.612Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T19:51:21.613Z","type":"quit"}
{"nick":"bnoordhuis","message":"and then you have to make sure that the right request body data gets fed to the right http_parser instance, of course","date":"2013-04-20T19:51:38.584Z","type":"message"}
{"nick":"kellabyte","message":"hmm","date":"2013-04-20T19:52:12.047Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not trivial","date":"2013-04-20T19:52:29.646Z","type":"message"}
{"nick":"bnoordhuis","message":"that's also the reason why almost nothing implements pipelining","date":"2013-04-20T19:52:41.004Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2013-04-20T19:54:13.636Z","type":"quit"}
{"nick":"kellabyte","message":"but I'm only using http_parser for reading, so isn't it just getting a sequence of requests?","date":"2013-04-20T19:54:28.857Z","type":"message"}
{"nick":"kellabyte","message":"I guess what my question is, as far as http_parser is concerned, isn't pipelining or keep-alive both a sequence of requests? just one is pausing while one is not","date":"2013-04-20T19:57:10.532Z","type":"message"}
{"nick":"kellabyte","message":"but does the stream actually change?","date":"2013-04-20T19:57:39.413Z","type":"message"}
{"nick":"bnoordhuis","message":"do the requests have bodies?","date":"2013-04-20T19:58:10.629Z","type":"message"}
{"nick":"bnoordhuis","message":"if not, then using the same instance works by accident","date":"2013-04-20T19:58:35.425Z","type":"message"}
{"nick":"kellabyte","message":"ah, so just to clarify my understanding, one http_parser per request, so on_message_complete is almost when I want to create a new one?","date":"2013-04-20T20:00:35.490Z","type":"message"}
{"nick":"kellabyte","message":"if I want to support body etc","date":"2013-04-20T20:00:44.183Z","type":"message"}
{"nick":"c4milo_","date":"2013-04-20T20:02:00.319Z","type":"join"}
{"nick":"bnoordhuis","message":"kellabyte: yeah, but now that i think of it, that's really only an issue when parsing responses (as a client that made pipelined requests)","date":"2013-04-20T20:04:11.049Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, some servers don't send the responses back in the same order as you requested them","date":"2013-04-20T20:04:25.448Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't apply here so never mind i mentioned that","date":"2013-04-20T20:04:36.704Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: okay, so ignore needing multiple parsers, back to 1 per connection?","date":"2013-04-20T20:05:43.690Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-04-20T20:06:03.555Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: ok so now I'm back to confused cuz I dunno what's wrong lol","date":"2013-04-20T20:06:41.631Z","type":"message"}
{"nick":"mikeal","date":"2013-04-20T20:07:04.687Z","type":"join"}
{"nick":"bnoordhuis","message":"it could be a couple of things","date":"2013-04-20T20:07:21.993Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: I'm already doing one http_parser per connection but uv_write() seems to be in an endless loop calling the callback","date":"2013-04-20T20:07:22.151Z","type":"message"}
{"nick":"bnoordhuis","message":"you might be freeing the handle's memory too soon, for instance","date":"2013-04-20T20:07:45.710Z","type":"message"}
{"nick":"bnoordhuis","message":"or it could be a wrk bug","date":"2013-04-20T20:07:52.633Z","type":"message"}
{"nick":"kellabyte","message":"the netty folks have been testing pipelining with wrk I believe, so I'm not apt to just blame it so quickly","date":"2013-04-20T20:09:10.475Z","type":"message"}
{"nick":"kellabyte","message":"the uv_write() endless callback loop doesn't indicate its a reading issue I don't think","date":"2013-04-20T20:09:33.138Z","type":"message"}
{"nick":"bnoordhuis","message":"what do you see when you attach a debugger?","date":"2013-04-20T20:10:36.598Z","type":"message"}
{"nick":"bnoordhuis","message":"that should tell you quick enough why it's looping","date":"2013-04-20T20:10:50.555Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 240 seconds","date":"2013-04-20T20:10:53.724Z","type":"quit"}
{"nick":"kellabyte","message":"I'm trying to do that now, the xcode project gyp generates seems to build but doesn't actually run anything lol","date":"2013-04-20T20:11:53.118Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: btw I believe http pipelining requires responses to be in the order of the requests, I don't think there's any sequence number to know any response from any other so its kinda required I think, if I read things correct","date":"2013-04-20T20:16:16.454Z","type":"message"}
{"nick":"bnoordhuis","message":"that's correct. that doesn't stop some servers from messing it up though :)","date":"2013-04-20T20:19:12.701Z","type":"message"}
{"nick":"bnoordhuis","message":"servers/proxies","date":"2013-04-20T20:19:20.114Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: true, but the parser shouldn't care, it'll just get the wrong one lol","date":"2013-04-20T20:24:43.047Z","type":"message"}
{"nick":"loladiro","date":"2013-04-20T20:24:55.779Z","type":"join"}
{"nick":"kellabyte","message":"which may mess up the implementation but shouldn't mess up http_parser any I don't think","date":"2013-04-20T20:25:01.279Z","type":"message"}
{"nick":"kellabyte","message":"starting to think this is a uv_write() misuse on my part somewhere","date":"2013-04-20T20:26:26.350Z","type":"message"}
{"nick":"jmar777","date":"2013-04-20T20:27:58.670Z","type":"join"}
{"nick":"bnoordhuis","message":"kellabyte: reading your code, i think you're corrupting client->write_req","date":"2013-04-20T20:39:49.205Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, reusing it before libuv is done with it","date":"2013-04-20T20:39:54.900Z","type":"message"}
{"nick":"bnoordhuis","message":"when i malloc/free the write req, pipelining works","date":"2013-04-20T20:41:01.648Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: oh hmm, can you gist what you changed please?","date":"2013-04-20T20:43:34.928Z","type":"message"}
{"nick":"bnoordhuis","message":"kellabyte: here you go: https://gist.github.com/bnoordhuis/f3dc5a6df6f37b300c5e","date":"2013-04-20T20:45:31.473Z","type":"message"}
{"nick":"kazupon","date":"2013-04-20T20:50:26.941Z","type":"join"}
{"nick":"kellabyte","message":"bnoordhuis: no more timeouts or read errors reported in wrk!","date":"2013-04-20T20:51:04.952Z","type":"message"}
{"nick":"kellabyte","message":"bnoordhuis: so if I was corrupting it, that makes sense why uv_write() was all messed up, I was screwing up its state","date":"2013-04-20T20:51:36.327Z","type":"message"}
{"nick":"bnoordhuis","message":"yep. it was corrupting the queue it was part of","date":"2013-04-20T20:52:19.860Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2013-04-20T20:54:56.500Z","type":"quit"}
{"nick":"kellabyte","message":"bnoordhuis: I knew it was my fault, thank you so very much for your time and help :)","date":"2013-04-20T20:56:22.716Z","type":"message"}
{"nick":"bnoordhuis","message":"no problem :)","date":"2013-04-20T20:56:43.835Z","type":"message"}
{"nick":"kellabyte","message":"are you @bnoordhuis on twitter? I want to give a shoutout thanks :)","date":"2013-04-20T20:56:59.054Z","type":"message"}
{"nick":"luigy","date":"2013-04-20T20:58:02.839Z","type":"join"}
{"nick":"bnoordhuis","message":"kellabyte: i am but i don't use twitter. i only have the account because someone created it for me :/","date":"2013-04-20T20:58:51.701Z","type":"message"}
{"nick":"kellabyte","message":"lol","date":"2013-04-20T20:59:14.526Z","type":"message"}
{"nick":"kellabyte","message":"whatever, you're getting the shoutout anyhow :P","date":"2013-04-20T20:59:24.326Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-04-20T21:00:48.737Z","type":"quit"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-04-20T21:01:57.039Z","type":"quit"}
{"nick":"inolen","date":"2013-04-20T21:02:16.540Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000241b75ca\u0002 : cluster: clean up lib/cluster.js  Clean up and DRY the cluster source cod - http://git.io/uDYs3A","date":"2013-04-20T21:03:18.951Z","type":"message"}
{"nick":"brson","date":"2013-04-20T21:03:48.289Z","type":"join"}
{"nick":"kellabyte","message":"now to re-test on windows!","date":"2013-04-20T21:15:33.577Z","type":"message"}
{"nick":"kellabyte","message":"amazing how lucky the timing was last week knowing that bug now :P","date":"2013-04-20T21:15:48.861Z","type":"message"}
{"nick":"inolen","reason":"Ping timeout: 245 seconds","date":"2013-04-20T21:17:06.461Z","type":"quit"}
{"nick":"inolen","date":"2013-04-20T21:17:31.502Z","type":"join"}
{"nick":"wolfeida_","message":"kellabyte: good to see you got it fixed","date":"2013-04-20T21:17:51.867Z","type":"message"}
{"nick":"kellabyte","message":"wolfeida_: all bnoordhuis, not me :)","date":"2013-04-20T21:19:20.832Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #166 \u00037UNSTABLE\u000f osx-ia32 (1/582) windows-ia32 (8/582) smartos-x64 (2/582) smartos-ia32 (1/582) windows-x64 (8/582) http://jenkins.nodejs.org/job/nodejs-master/166/","date":"2013-04-20T21:24:51.127Z","type":"message"}
{"nick":"rendar","date":"2013-04-20T21:26:30.525Z","type":"quit"}
{"nick":"hz","date":"2013-04-20T21:39:06.502Z","type":"join"}
{"nick":"kazupon","date":"2013-04-20T21:50:59.380Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-04-20T21:55:54.145Z","type":"quit"}
{"nick":"hz","date":"2013-04-20T22:03:50.547Z","type":"quit"}
{"nick":"`3E","reason":"Remote host closed the connection","date":"2013-04-20T22:22:18.745Z","type":"quit"}
{"nick":"trevnorris","date":"2013-04-20T22:28:23.746Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-04-20T22:31:06.690Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-04-20T22:48:02.019Z","type":"quit"}
{"nick":"kazupon","date":"2013-04-20T22:51:34.108Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-04-20T22:55:57.605Z","type":"quit"}
{"nick":"loladiro","date":"2013-04-20T22:59:05.736Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-04-20T23:09:04.979Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-04-20T23:32:44.501Z","type":"quit"}
{"nick":"isaacs_mobile","date":"2013-04-20T23:35:19.252Z","type":"join"}
{"nick":"mikeal","date":"2013-04-20T23:43:52.019Z","type":"join"}
{"nick":"kazupon","date":"2013-04-20T23:52:06.235Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-04-20T23:57:06.117Z","type":"quit"}
{"nick":"luxigo","reason":"Ping timeout: 255 seconds","date":"2013-04-20T23:58:05.546Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-04-20T23:59:22.560Z","type":"quit"}

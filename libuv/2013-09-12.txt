{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-09-12T00:00:01.355Z","type":"quit"}
{"nick":"ircretary","date":"2013-09-12T00:00:09.359Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-09-12T00:03:14.689Z","type":"quit"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-09-12T00:03:27.994Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-12T00:14:21.954Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-12T00:14:58.504Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-12T00:16:19.199Z","type":"quit"}
{"nick":"xaka","reason":"Ping timeout: 276 seconds","date":"2013-09-12T00:40:24.444Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-09-12T00:59:56.681Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-12T01:06:49.785Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T01:09:26.522Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-12T01:10:26.679Z","type":"quit"}
{"nick":"inolen","reason":"Ping timeout: 245 seconds","date":"2013-09-12T01:10:51.552Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-12T01:10:52.294Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-12T01:11:13.804Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-09-12T01:14:51.542Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 245 seconds","date":"2013-09-12T01:15:26.526Z","type":"quit"}
{"nick":"inolen","date":"2013-09-12T01:15:48.144Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: ping https://github.com/joyent/node/pull/6209","date":"2013-09-12T01:20:24.967Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-12T01:24:44.095Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-12T01:28:42.053Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-12T01:31:01.986Z","type":"nick"}
{"nick":"piscisaureus_","date":"2013-09-12T01:36:54.005Z","type":"join"}
{"nick":"abraxas","date":"2013-09-12T01:43:17.403Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-12T01:58:33.554Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-12T02:09:34.770Z","type":"nick"}
{"nick":"TooTallNate","date":"2013-09-12T02:46:11.411Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2013-09-12T02:47:03.949Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-12T02:47:56.284Z","type":"nick"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-09-12T03:06:21.728Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-12T03:25:57.813Z","type":"quit"}
{"nick":"brson","date":"2013-09-12T03:39:13.183Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-12T03:45:00.811Z","type":"nick"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-12T03:54:46.282Z","type":"nick"}
{"nick":"M28","date":"2013-09-12T03:57:07.296Z","type":"join"}
{"nick":"kazupon","date":"2013-09-12T04:09:30.332Z","type":"join"}
{"nick":"c4milo","date":"2013-09-12T04:57:16.025Z","type":"join"}
{"nick":"julianduque","reason":"Ping timeout: 240 seconds","date":"2013-09-12T05:13:55.995Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-12T05:35:12.581Z","type":"join"}
{"nick":"qard","date":"2013-09-12T05:36:19.431Z","type":"join"}
{"nick":"qard","date":"2013-09-12T05:39:24.412Z","type":"part"}
{"nick":"julianduque","reason":"Ping timeout: 276 seconds","date":"2013-09-12T05:49:09.539Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-09-12T05:56:13.615Z","type":"quit"}
{"nick":"csaoh","date":"2013-09-12T06:02:58.025Z","type":"join"}
{"nick":"csaoh","reason":"Client Quit","date":"2013-09-12T06:03:22.995Z","type":"quit"}
{"nick":"tuxie_","date":"2013-09-12T06:24:21.654Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #207 \u00037UNSTABLE\u000f windows-ia32 (8/599) windows-x64 (7/599) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/207/","date":"2013-09-12T06:42:39.372Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-12T06:49:48.380Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T07:07:33.128Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-12T07:14:46.604Z","type":"nick"}
{"nick":"csaoh","date":"2013-09-12T07:24:40.149Z","type":"join"}
{"nick":"dsantiago","reason":"Quit: Leaving...","date":"2013-09-12T07:33:06.990Z","type":"quit"}
{"nick":"dsantiago","date":"2013-09-12T07:34:07.099Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-12T07:42:30.099Z","type":"quit"}
{"nick":"tuxie_","reason":"Ping timeout: 260 seconds","date":"2013-09-12T07:43:19.510Z","type":"quit"}
{"nick":"lei__","date":"2013-09-12T07:50:49.176Z","type":"join"}
{"nick":"lei__","message":"should I use UV_HANDLE_ACTIVE in my application?","date":"2013-09-12T07:51:21.763Z","type":"message"}
{"nick":"lei__","message":"how can I know a timer's state?","date":"2013-09-12T07:51:55.947Z","type":"message"}
{"nick":"lei__","message":"how to avoid muptile close on a timer?","date":"2013-09-12T07:52:12.906Z","type":"message"}
{"nick":"lei__","message":"anybody?","date":"2013-09-12T07:54:14.423Z","type":"message"}
{"nick":"lei__","message":"fellows?","date":"2013-09-12T07:55:31.567Z","type":"message"}
{"nick":"Kakera","date":"2013-09-12T07:59:06.158Z","type":"join"}
{"nick":"hz","date":"2013-09-12T07:59:32.211Z","type":"join"}
{"nick":"saghul","message":"lei__ use uv_is_active instead","date":"2013-09-12T08:03:49.034Z","type":"message"}
{"nick":"saghul","message":"uv_is_active((uv_handle_t *)your_handle)","date":"2013-09-12T08:04:05.391Z","type":"message"}
{"nick":"lei__","message":"how about closing and closed?","date":"2013-09-12T08:06:21.304Z","type":"message"}
{"nick":"saghul","message":"uv_is_closing","date":"2013-09-12T08:06:41.411Z","type":"message"}
{"nick":"saghul","message":"that will return true if either is set","date":"2013-09-12T08:06:52.309Z","type":"message"}
{"nick":"lei__","message":"thanks","date":"2013-09-12T08:07:47.639Z","type":"message"}
{"nick":"lei__","message":"should I use reqs_pending in my application?","date":"2013-09-12T08:07:59.277Z","type":"message"}
{"nick":"lei__","message":"couse I  can't delete my object since there are pending reqs.","date":"2013-09-12T08:08:52.181Z","type":"message"}
{"nick":"saghul","message":"I think that's a private field, you can double check in uv.h","date":"2013-09-12T08:09:02.831Z","type":"message"}
{"nick":"saghul","message":"if you want to wait for write requests to end you can uv_shutdown the handle","date":"2013-09-12T08:10:24.404Z","type":"message"}
{"nick":"saghul","message":"and then uv_close it in the shutdown callback","date":"2013-09-12T08:10:35.227Z","type":"message"}
{"nick":"hij1nxAtNodeconf","reason":"Ping timeout: 248 seconds","date":"2013-09-12T08:12:53.642Z","type":"quit"}
{"nick":"lei__","message":"if I use asio, shared_from_this can deal with this problem.","date":"2013-09-12T08:13:07.731Z","type":"message"}
{"nick":"lei__","message":"I am finding a way in libuv","date":"2013-09-12T08:13:20.021Z","type":"message"}
{"nick":"lei__","message":"all the samples from google are too simple.","date":"2013-09-12T08:13:52.410Z","type":"message"}
{"nick":"saghul","message":"what are you trying to accomplish?","date":"2013-09-12T08:14:13.114Z","type":"message"}
{"nick":"lei__","message":"in my application,  my ClientSession object has several handle, tcp_handle,  two timers.","date":"2013-09-12T08:14:38.306Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-12T08:15:50.264Z","type":"nick"}
{"nick":"lei__","message":"I just need a sample deal with multiple handles in a object.","date":"2013-09-12T08:17:18.001Z","type":"message"}
{"nick":"hij1nxAtNodeconf","date":"2013-09-12T08:17:46.312Z","type":"join"}
{"nick":"lei__","message":"thanks saghul, I learned a lot.","date":"2013-09-12T08:20:36.850Z","type":"message"}
{"nick":"saghul","message":"no problem, glad I could help :-)","date":"2013-09-12T08:20:54.130Z","type":"message"}
{"nick":"abraxas__","date":"2013-09-12T08:22:40.311Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-09-12T08:22:40.311Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T08:48:46.531Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-09-12T08:53:45.524Z","type":"quit"}
{"nick":"bajtos","date":"2013-09-12T09:05:37.339Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-09-12T09:09:48.988Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-12T09:41:33.599Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-12T09:44:27.128Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T09:47:36.642Z","type":"join"}
{"nick":"lei__","message":"hi, saghul","date":"2013-09-12T09:49:11.021Z","type":"message"}
{"nick":"saghul","message":"hi lei__ ","date":"2013-09-12T09:49:28.297Z","type":"message"}
{"nick":"lei__","message":"I have a quesiton,  I have an object,  witch contains several handles, like tcp handle, timer handle,  I don't wanna maintain state in my class,  how could I known a handle is closed?","date":"2013-09-12T09:50:34.294Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis mind if one of these days I do some janitoring on the issue tracker? the obvious stuff, that is","date":"2013-09-12T09:50:58.900Z","type":"message"}
{"nick":"saghul","message":"lei__ uv_is_closing(handle)","date":"2013-09-12T09:51:25.995Z","type":"message"}
{"nick":"lei__","message":"I don't wanna maintain tcp_closed, timer_closed flag.","date":"2013-09-12T09:51:34.309Z","type":"message"}
{"nick":"lei__","message":"I can't distinguish between closed and closing.","date":"2013-09-12T09:52:11.601Z","type":"message"}
{"nick":"saghul","message":"lei__ I guess you want to tie the lifetime of your object to the lifetime of all handles","date":"2013-09-12T09:52:20.614Z","type":"message"}
{"nick":"lei__","message":"yes.","date":"2013-09-12T09:52:31.320Z","type":"message"}
{"nick":"saghul","message":"lei__ why do you need to distinguish between them?","date":"2013-09-12T09:52:35.864Z","type":"message"}
{"nick":"lei__","message":"since if all handles are closed, I can delete the object.","date":"2013-09-12T09:53:22.244Z","type":"message"}
{"nick":"lei__","message":"if handles are closing, I can't do that.","date":"2013-09-12T09:53:37.218Z","type":"message"}
{"nick":"saghul","message":"gotcha","date":"2013-09-12T09:53:54.886Z","type":"message"}
{"nick":"saghul","message":"I think you'll need to keep at least a counter","date":"2013-09-12T09:54:20.791Z","type":"message"}
{"nick":"saghul","message":"so, you uv_close X handles, counter = X","date":"2013-09-12T09:54:39.010Z","type":"message"}
{"nick":"lei__","message":"on a closed handle, if handle is tcp, uv_is_closing  3, if timer return 1","date":"2013-09-12T09:54:46.403Z","type":"message"}
{"nick":"saghul","message":"on each close_cb you counter--","date":"2013-09-12T09:54:49.714Z","type":"message"}
{"nick":"saghul","message":"when counter == 0, you can delete your object","date":"2013-09-12T09:55:03.507Z","type":"message"}
{"nick":"lei__","message":"ref counter is not a best choise.","date":"2013-09-12T09:55:09.297Z","type":"message"}
{"nick":"saghul","message":"looks appropriate to me in this case","date":"2013-09-12T09:55:33.599Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: sure, go ahead","date":"2013-09-12T09:56:13.788Z","type":"message"}
{"nick":"saghul","message":"bnoordhuis ack, will do!","date":"2013-09-12T09:56:32.613Z","type":"message"}
{"nick":"lei__","message":"yes, I can solve this by this by ref counter or manual handle state, but I don't think it is the best answer.","date":"2013-09-12T09:56:34.063Z","type":"message"}
{"nick":"lei__","message":"if I can known a handle's state, I don't need to maintain a counter or handle state.","date":"2013-09-12T09:58:07.467Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-09-12T10:02:58.053Z","type":"quit"}
{"nick":"bajtos","date":"2013-09-12T10:04:49.871Z","type":"join"}
{"nick":"lei__","message":"so, keep a counter or other vars is the best answer for my problem?  fellows.","date":"2013-09-12T10:05:14.294Z","type":"message"}
{"nick":"bnoordhuis","message":"lei__: when you say \"i don't want to maintain a closed flag\", why is that?","date":"2013-09-12T10:10:08.518Z","type":"message"}
{"nick":"lei__","message":"I mean for tcp handle, I have a var  tcp_handle_closed, default to false. for timer handle, there is a flag, timer_closed, default to false. after a close callback  I set it to true.","date":"2013-09-12T10:11:39.838Z","type":"message"}
{"nick":"lei__","message":"I am not a native speaker.","date":"2013-09-12T10:11:46.324Z","type":"message"}
{"nick":"bnoordhuis","message":"me neither. don't let that stop you","date":"2013-09-12T10:12:03.070Z","type":"message"}
{"nick":"saghul","message":"i guess you'd want a uv_is_closed, and use it in the close callback","date":"2013-09-12T10:12:06.850Z","type":"message"}
{"nick":"lei__","message":"yes, that's what I need.","date":"2013-09-12T10:12:26.293Z","type":"message"}
{"nick":"saghul","message":"if all of them return true you are done","date":"2013-09-12T10:12:29.338Z","type":"message"}
{"nick":"lei__","message":"I can do that for tcp handle by uv_is_closing() > 1","date":"2013-09-12T10:13:05.124Z","type":"message"}
{"nick":"saghul","message":"hum","date":"2013-09-12T10:13:17.271Z","type":"message"}
{"nick":"lei__","message":"but for timer, it just return 1","date":"2013-09-12T10:13:17.673Z","type":"message"}
{"nick":"saghul","message":"I'm not sure it's supposed to work that way","date":"2013-09-12T10:13:38.227Z","type":"message"}
{"nick":"bnoordhuis","message":"lei__: it returns a bool. zero is false, non-zero is true","date":"2013-09-12T10:13:53.883Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm reasonably sure uv-unix makes sure it's always 0 or 1, don't know about uv-win","date":"2013-09-12T10:14:16.770Z","type":"message"}
{"nick":"bnoordhuis","message":"no, uv-win doesn't :)","date":"2013-09-12T10:14:44.094Z","type":"message"}
{"nick":"bnoordhuis","message":"easy to fix though","date":"2013-09-12T10:14:51.198Z","type":"message"}
{"nick":"saghul","message":"heh","date":"2013-09-12T10:14:54.858Z","type":"message"}
{"nick":"abraxas__","reason":"Remote host closed the connection","date":"2013-09-12T10:19:18.861Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-12T10:19:51.690Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 245 seconds","date":"2013-09-12T10:24:11.512Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-09-12T10:24:15.308Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033bnoordhuis\u000f created branch jenkins-saghul-review - http://git.io/cX95VQ","date":"2013-09-12T10:29:50.689Z","type":"message"}
{"nick":"bnoordhuis","message":"saghul: but only if you feel like it","date":"2013-09-12T10:29:55.565Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-09-12T10:30:06.454Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-review\u0002: #71 \u00037UNSTABLE\u000f smartos-ia32 (2/194) smartos-x64 (2/194) windows-ia32 (3/195) windows-x64 (4/195) http://jenkins.nodejs.org/job/libuv-review/71/","date":"2013-09-12T10:34:29.797Z","type":"message"}
{"nick":"kazupon","date":"2013-09-12T10:37:59.264Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E|GONE","date":"2013-09-12T10:39:17.347Z","type":"nick"}
{"nick":"lei__","message":"is it safe delete object if I just pass NULL callback to uv_close?","date":"2013-09-12T10:40:23.723Z","type":"message"}
{"nick":"lei__","message":"safe to delete object.","date":"2013-09-12T10:40:33.009Z","type":"message"}
{"nick":"bnoordhuis","message":"lei__: you mean immediately after the call to uv_close()? no","date":"2013-09-12T10:42:14.144Z","type":"message"}
{"nick":"lei__","message":"gotcha","date":"2013-09-12T10:43:08.962Z","type":"message"}
{"nick":"Domenic_","message":"bnoordhuis: browsing vm bugs, I bet this one is fixed https://github.com/joyent/node/issues/3352","date":"2013-09-12T10:44:13.979Z","type":"message"}
{"nick":"lei__","message":"I pass null callback,  if I can't delete immediately, when?","date":"2013-09-12T10:44:27.555Z","type":"message"}
{"nick":"csaoh","date":"2013-09-12T10:44:31.285Z","type":"join"}
{"nick":"Domenic_","message":"bnoordhuis: well, generally I guess I should do a vm bug scrub","date":"2013-09-12T10:44:36.652Z","type":"message"}
{"nick":"lei__","message":"when should I delete the object if I pass null callback?","date":"2013-09-12T10:45:21.785Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1479 \u00037UNSTABLE\u000f smartos-x64 (2/599) http://jenkins.nodejs.org/job/nodejs-v0.10/1479/","date":"2013-09-12T10:46:07.086Z","type":"message"}
{"nick":"bnoordhuis","message":"lei__: well, never - because you don't know when libuv actually closes it","date":"2013-09-12T10:46:44.812Z","type":"message"}
{"nick":"bnoordhuis","message":"lei__: a NULL callback is only useful if you have a handle with static storage","date":"2013-09-12T10:47:01.157Z","type":"message"}
{"nick":"bnoordhuis","message":"if it's heap-allocated, you'll always want to pass a close_cb","date":"2013-09-12T10:47:13.362Z","type":"message"}
{"nick":"bnoordhuis","message":"Domenic_: did you test it?","date":"2013-09-12T10:48:12.142Z","type":"message"}
{"nick":"bnoordhuis","message":"if yes, please comment and i'll close the issue","date":"2013-09-12T10:48:24.489Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Operation timed out","date":"2013-09-12T10:50:24.110Z","type":"quit"}
{"nick":"lei__","message":"it is kind of hard to manager object lifecycle,  since I you initialized  a handle in a object, I can't delete it directly, you have to use an object lifecycle manager.","date":"2013-09-12T10:50:41.770Z","type":"message"}
{"nick":"lei__","message":"if I initialized a handle in a object, I have to wait for all handles closed. ","date":"2013-09-12T10:52:03.195Z","type":"message"}
{"nick":"bnoordhuis","message":"hey, i never promised you a rose garden","date":"2013-09-12T10:54:31.690Z","type":"message"}
{"nick":"lei__","message":"I am not complaining, just confirming libuv's behavior.","date":"2013-09-12T10:56:02.802Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002d7115f0\u0002 : unix, windows: make uv_is_*() always return 0 or 1 - http://git.io/6vdrEg","date":"2013-09-12T11:30:16.759Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #238 \u00037UNSTABLE\u000f windows (3/195) smartos (9/194) http://jenkins.nodejs.org/job/libuv-master/238/","date":"2013-09-12T11:35:43.775Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #177 \u00037UNSTABLE\u000f windows-x64 (3/195) smartos-ia32 (2/194) windows-ia32 (3/195) linux-ia32 (1/194) smartos-x64 (2/194) http://jenkins.nodejs.org/job/libuv-master-gyp/177/","date":"2013-09-12T11:36:37.812Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-09-12T11:39:49.638Z","type":"quit"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-09-12T11:45:54.906Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-12T11:46:18.350Z","type":"join"}
{"nick":"indutny","message":"hey people","date":"2013-09-12T11:47:43.930Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #223 \u00037UNSTABLE\u000f smartos-x64 (6/639) linux-x64 (1/639) http://jenkins.nodejs.org/job/libuv-node-integration/223/","date":"2013-09-12T11:48:36.991Z","type":"message"}
{"nick":"kazupon_","date":"2013-09-12T11:51:28.669Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-09-12T11:51:40.186Z","type":"quit"}
{"nick":"indutny","message":"oh shit","date":"2013-09-12T11:55:45.585Z","type":"message"}
{"nick":"indutny","message":"just found a bug in contextify","date":"2013-09-12T11:55:48.836Z","type":"message"}
{"nick":"Domenic_","message":"ircretary: tell bnoordhuis no, i didn't test that vm bug, but will do a general run-through testing all open vm bugs later.","date":"2013-09-12T11:57:58.862Z","type":"message"}
{"nick":"ircretary","message":"Domenic_: I'll be sure to tell bnoordhuis","date":"2013-09-12T11:57:59.049Z","type":"message"}
{"nick":"Domenic_","message":"indutny: the one that was just filed? https://github.com/joyent/node/issues/6208","date":"2013-09-12T11:58:25.571Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-09-12T11:58:34.819Z","type":"message"}
{"nick":"indutny","message":"node crashes","date":"2013-09-12T11:58:37.250Z","type":"message"}
{"nick":"Domenic_","message":"oh shit","date":"2013-09-12T11:59:17.416Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-09-12T11:59:28.171Z","type":"message"}
{"nick":"indutny","message":"on highly computational js :)","date":"2013-09-12T11:59:39.288Z","type":"message"}
{"nick":"Domenic_","message":":-S","date":"2013-09-12T11:59:54.703Z","type":"message"}
{"nick":"indutny","message":"debugging it atm","date":"2013-09-12T12:00:16.402Z","type":"message"}
{"nick":"indutny","message":"oh, that's quite nice","date":"2013-09-12T12:01:39.854Z","type":"message"}
{"nick":"indutny","message":"I'm passing and object to vm.runInNewContext","date":"2013-09-12T12:02:15.507Z","type":"message"}
{"nick":"saghul","message":"ircretary tell bnoordhuis sorry, I was aft, but LGTM :-)","date":"2013-09-12T12:08:02.699Z","type":"message"}
{"nick":"ircretary","message":"saghul: I'll be sure to tell bnoordhuis","date":"2013-09-12T12:08:03.012Z","type":"message"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2013-09-12T12:09:13.139Z","type":"quit"}
{"nick":"Domenic_","message":"indutny: oh, it does .As<String>() instead of ->ToString() or something?","date":"2013-09-12T12:15:47.710Z","type":"message"}
{"nick":"indutny","message":"nono","date":"2013-09-12T12:17:03.565Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-12T12:17:09.658Z","type":"join"}
{"nick":"indutny","message":"I'm still looking into it","date":"2013-09-12T12:17:10.947Z","type":"message"}
{"nick":"kazupon","date":"2013-09-12T12:28:31.364Z","type":"join"}
{"nick":"indutny","message":"Domenic_: sorry, I must be missing something","date":"2013-09-12T12:28:34.935Z","type":"message"}
{"nick":"Domenic_","message":"?","date":"2013-09-12T12:28:48.814Z","type":"message"}
{"nick":"indutny","message":"Domenic_: but can you please take a look at CreateV8Context","date":"2013-09-12T12:28:49.240Z","type":"message"}
{"nick":"Kakera","reason":"Ping timeout: 264 seconds","date":"2013-09-12T12:28:54.156Z","type":"quit"}
{"nick":"indutny","message":"Domenic_: how are you using `sandbox` object here?","date":"2013-09-12T12:28:59.035Z","type":"message"}
{"nick":"Domenic_","message":"indutny: ugh everything has changed since the multi-context stuff","date":"2013-09-12T12:29:24.098Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-09-12T12:29:29.408Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-09-12T12:29:31.541Z","type":"message"}
{"nick":"indutny","message":"I suppose it should be stored somewhere inside context","date":"2013-09-12T12:29:38.488Z","type":"message"}
{"nick":"indutny","message":"no?","date":"2013-09-12T12:29:41.272Z","type":"message"}
{"nick":"Domenic_","message":"there is a sandbox_ instance variable","date":"2013-09-12T12:30:10.801Z","type":"message"}
{"nick":"Domenic_","message":"that is a persistent","date":"2013-09-12T12:30:18.718Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-09-12T12:30:33.333Z","type":"message"}
{"nick":"Domenic_","message":"will look through change history see where this weirdness was introduced","date":"2013-09-12T12:30:46.332Z","type":"message"}
{"nick":"indutny","message":"but how is CreateV8Context related to it?","date":"2013-09-12T12:30:52.768Z","type":"message"}
{"nick":"indutny","message":"756b6222","date":"2013-09-12T12:31:15.801Z","type":"message"}
{"nick":"indutny","message":"well, doesn't look like much was changed ","date":"2013-09-12T12:31:29.717Z","type":"message"}
{"nick":"indutny","message":"since your commit","date":"2013-09-12T12:31:31.569Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2013-09-12T12:31:42.100Z","type":"message"}
{"nick":"indutny","message":"you're doing CreateDataWrapper","date":"2013-09-12T12:31:48.557Z","type":"message"}
{"nick":"Domenic_","message":"Hmm it looks like the sandbox local is mostly useless except for getting its constructor name","date":"2013-09-12T12:32:54.730Z","type":"message"}
{"nick":"Domenic_","message":"that did not change","date":"2013-09-12T12:33:00.455Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-09-12T12:33:16.307Z","type":"message"}
{"nick":"indutny","message":"well, its not as bad","date":"2013-09-12T12:33:20.745Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2013-09-12T12:33:21.572Z","type":"message"}
{"nick":"indutny","message":"I just though that CreateDataWrapper was some sort of newly added v8 api","date":"2013-09-12T12:33:35.003Z","type":"message"}
{"nick":"indutny","message":"and it is actually your function","date":"2013-09-12T12:33:38.771Z","type":"message"}
{"nick":"indutny","action":"is continuing to look into it","date":"2013-09-12T12:33:59.828Z","type":"action"}
{"nick":"Domenic_","message":"oh ok :)","date":"2013-09-12T12:34:14.406Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-09-12T12:36:49.299Z","type":"join"}
{"nick":"indutny","message":"looks like v8 bug","date":"2013-09-12T12:38:35.794Z","type":"message"}
{"nick":"Domenic_","message":":-S","date":"2013-09-12T12:39:20.849Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-12T12:40:03.286Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-12T13:01:35.610Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-12T13:06:41.815Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-12T13:07:36.338Z","type":"join"}
{"nick":"indutny","message":"probably not","date":"2013-09-12T13:21:46.810Z","type":"message"}
{"nick":"indutny","message":"it seems that noone is holding reference to sandbox_","date":"2013-09-12T13:21:59.605Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-09-12T13:24:04.215Z","type":"message"}
{"nick":"kevinswiber","date":"2013-09-12T13:27:37.685Z","type":"join"}
{"nick":"superdealloc","date":"2013-09-12T13:32:24.819Z","type":"join"}
{"nick":"superdealloc","message":"Hi guys. Is there any way to trace back why libuv would get stuck on a kevent()?","date":"2013-09-12T13:32:45.503Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-12T13:32:49.374Z","type":"join"}
{"nick":"bnoordhuis","message":"superdealloc: you can `call uv__print_handles(0, 0)` in gdb","date":"2013-09-12T13:33:50.656Z","type":"message"}
{"nick":"superdealloc","message":"What return type does that have? void?","date":"2013-09-12T13:34:28.877Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2013-09-12T13:35:24.849Z","type":"message"}
{"nick":"superdealloc","message":"Program received signal EXC_BAD_ACCESS, Could not access memory.","date":"2013-09-12T13:37:00.938Z","type":"message"}
{"nick":"superdealloc","message":"Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000000","date":"2013-09-12T13:37:13.032Z","type":"message"}
{"nick":"superdealloc","message":"I did this: call (void)uv__print_handles(0, 0)","date":"2013-09-12T13:37:44.729Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: maybe try (void*)0 as the first argument","date":"2013-09-12T13:38:46.261Z","type":"message"}
{"nick":"bnoordhuis","message":"if that doesn't work, something's wrong","date":"2013-09-12T13:38:53.550Z","type":"message"}
{"nick":"superdealloc","message":"Alright, let me restart this","date":"2013-09-12T13:38:57.746Z","type":"message"}
{"nick":"superdealloc","message":"Yeah, same thing.","date":"2013-09-12T13:40:19.486Z","type":"message"}
{"nick":"superdealloc","message":"backtrace gives me node::SetupProcessObject -> ares__send_query -> uv_barrier_wait -> kevent","date":"2013-09-12T13:40:52.690Z","type":"message"}
{"nick":"superdealloc","message":"this is running from a puppet deployment, if that helps anything.","date":"2013-09-12T13:41:03.805Z","type":"message"}
{"nick":"superdealloc","message":"Is there anything else I can use to pinpoint the issue?","date":"2013-09-12T13:42:25.698Z","type":"message"}
{"nick":"bnoordhuis","message":"that's weird, node doesn't use uv_barrier_wait","date":"2013-09-12T13:42:35.641Z","type":"message"}
{"nick":"superdealloc","message":"I'm on 0.10.13","date":"2013-09-12T13:43:07.033Z","type":"message"}
{"nick":"bnoordhuis","message":"what does `info sharedlibrary` print at that point?","date":"2013-09-12T13:43:33.582Z","type":"message"}
{"nick":"bnoordhuis","message":"and re: 0.10.13, that doesn't use uv_barrier_wait either","date":"2013-09-12T13:43:48.201Z","type":"message"}
{"nick":"superdealloc","message":"let me gist that for you","date":"2013-09-12T13:44:52.270Z","type":"message"}
{"nick":"superdealloc","message":"https://gist.github.com/andremedeiros/2edb8a5cfab9d27c31df","date":"2013-09-12T13:45:19.301Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-12T13:46:28.588Z","type":"quit"}
{"nick":"indutny","message":"Domenic_: care to review https://gist.github.com/indutny/d267a53e69e8d4de0eb9 ?","date":"2013-09-12T13:46:38.488Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: /cc ^","date":"2013-09-12T13:46:41.107Z","type":"message"}
{"nick":"indutny","message":"basically","date":"2013-09-12T13:46:47.617Z","type":"message"}
{"nick":"indutny","message":"sandbox object is not referenced by anyone","date":"2013-09-12T13:46:55.329Z","type":"message"}
{"nick":"indutny","message":"i.e. when you do","date":"2013-09-12T13:47:02.559Z","type":"message"}
{"nick":"Domenic_","message":"hmm","date":"2013-09-12T13:47:09.540Z","type":"message"}
{"nick":"indutny","message":"vm.runInNewContext('(function() {})')","date":"2013-09-12T13:47:09.710Z","type":"message"}
{"nick":"indutny","message":"and then use that function","date":"2013-09-12T13:47:13.417Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: looks okay to me","date":"2013-09-12T13:47:18.322Z","type":"message"}
{"nick":"indutny","message":"there's no reference to sandbox object","date":"2013-09-12T13:47:19.491Z","type":"message"}
{"nick":"Domenic_","message":"right that would be the case for runInNewContext","date":"2013-09-12T13:47:29.329Z","type":"message"}
{"nick":"Domenic_","message":"what about for running in existing contexts","date":"2013-09-12T13:47:34.613Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-09-12T13:47:35.326Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-09-12T13:47:39.203Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: is that a release build? that might explain the odd backtrace","date":"2013-09-12T13:47:45.794Z","type":"message"}
{"nick":"indutny","message":"Domenic_: they'll be referenced anyway","date":"2013-09-12T13:47:52.339Z","type":"message"}
{"nick":"superdealloc","message":"that's compiled by nodenv","date":"2013-09-12T13:47:58.946Z","type":"message"}
{"nick":"indutny","message":"I don't think it matters much","date":"2013-09-12T13:48:00.347Z","type":"message"}
{"nick":"indutny","message":"Domenic_: do you have a counterexampe?","date":"2013-09-12T13:48:18.167Z","type":"message"}
{"nick":"Domenic_","message":"indutny: hmm that makes sense. but we still need to dealloc the contextify context when you GC the sandbox, I think?","date":"2013-09-12T13:48:37.058Z","type":"message"}
{"nick":"indutny","message":"its deallocated","date":"2013-09-12T13:48:44.775Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-09-12T13:48:47.305Z","type":"message"}
{"nick":"indutny","message":"and sandbox should not retain it","date":"2013-09-12T13:48:51.108Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2013-09-12T13:48:57.790Z","type":"message"}
{"nick":"indutny","message":"I see","date":"2013-09-12T13:48:58.648Z","type":"message"}
{"nick":"indutny","message":"we should not dealloc before it","date":"2013-09-12T13:49:02.800Z","type":"message"}
{"nick":"indutny","message":"so both global and sandbox object should die","date":"2013-09-12T13:49:10.417Z","type":"message"}
{"nick":"indutny","message":"is that what you're talking about?","date":"2013-09-12T13:49:16.805Z","type":"message"}
{"nick":"Domenic_","message":"i think that already happens, cuz it calls the destructor","date":"2013-09-12T13:49:31.740Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: try cloning the repo, then check out the right tag and build from that","date":"2013-09-12T13:49:37.446Z","type":"message"}
{"nick":"Domenic_","message":"which deallocs both proxyglobal and sandbox","date":"2013-09-12T13:49:44.840Z","type":"message"}
{"nick":"superdealloc","message":"oof, will do. might take some time tho","date":"2013-09-12T13:49:51.063Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-09-12T13:49:59.901Z","type":"message"}
{"nick":"indutny","message":"that's not what I mean","date":"2013-09-12T13:50:02.822Z","type":"message"}
{"nick":"Domenic_","message":"oh you mean you should only call SandboxFreeCallback once both die","date":"2013-09-12T13:50:25.264Z","type":"message"}
{"nick":"indutny","message":"Domenic_: I mean that it should be destroyed once both sandbox and global object will be not referenced","date":"2013-09-12T13:50:35.055Z","type":"message"}
{"nick":"indutny","message":"Domenic_: yes","date":"2013-09-12T13:50:36.785Z","type":"message"}
{"nick":"indutny","message":"because you can create sandbox","date":"2013-09-12T13:50:42.464Z","type":"message"}
{"nick":"Domenic_","message":"yes that makes perfect sense","date":"2013-09-12T13:50:43.157Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-09-12T13:50:45.392Z","type":"message"}
{"nick":"indutny","message":"opening PR","date":"2013-09-12T13:50:51.100Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: `make -j<num_cores>` - on a 32 core system, it takes less than 30 seconds","date":"2013-09-12T13:51:46.497Z","type":"message"}
{"nick":"superdealloc","message":"https://github.com/joyent/node","date":"2013-09-12T13:52:12.071Z","type":"message"}
{"nick":"Domenic_","message":"indutny: very nice catch, thanks so much for finding it.","date":"2013-09-12T13:52:13.274Z","type":"message"}
{"nick":"superdealloc","message":"from here?","date":"2013-09-12T13:52:14.153Z","type":"message"}
{"nick":"indutny","message":"Domenic_: np, it was blocking my work :)","date":"2013-09-12T13:52:23.484Z","type":"message"}
{"nick":"indutny","message":"hah","date":"2013-09-12T13:52:24.358Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: yes","date":"2013-09-12T13:52:32.359Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-09-12T13:53:04.701Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-12T13:53:16.456Z","type":"quit"}
{"nick":"Domenic_","message":"indutny: is it something you can create a test for? I really want to make vm2 have nice test coverage for all annoying stupid edge cases.","date":"2013-09-12T13:53:26.759Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-09-12T13:53:34.032Z","type":"message"}
{"nick":"indutny","message":"I believe I can","date":"2013-09-12T13:53:37.979Z","type":"message"}
{"nick":"Domenic_","message":"sweeeeet","date":"2013-09-12T13:53:41.233Z","type":"message"}
{"nick":"indutny","message":"Domenic_: I can reproduce it in three lines :)","date":"2013-09-12T13:55:51.227Z","type":"message"}
{"nick":"indutny","message":"var vm = require('vm');","date":"2013-09-12T13:55:51.566Z","type":"message"}
{"nick":"indutny","message":"var fn = vm.runInNewContext('(function() { obj.p = {}; })', { obj: {} })","date":"2013-09-12T13:55:51.825Z","type":"message"}
{"nick":"indutny","message":"while (true)","date":"2013-09-12T13:55:51.986Z","type":"message"}
{"nick":"indutny","message":"  fn();","date":"2013-09-12T13:55:51.987Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2013-09-12T13:55:53.794Z","type":"message"}
{"nick":"indutny","message":"four","date":"2013-09-12T13:55:54.339Z","type":"message"}
{"nick":"Domenic_","message":"hah","date":"2013-09-12T13:56:16.916Z","type":"message"}
{"nick":"Domenic_","message":"i wonder if it would happen immediately if you did --expose_gc and added a gc()","date":"2013-09-12T13:56:31.473Z","type":"message"}
{"nick":"indutny","message":"probably yes","date":"2013-09-12T13:57:04.648Z","type":"message"}
{"nick":"indutny","message":"yeah, it does","date":"2013-09-12T13:57:23.233Z","type":"message"}
{"nick":"superdealloc","message":"bnoordhuis: now I get something different.","date":"2013-09-12T13:59:55.974Z","type":"message"}
{"nick":"superdealloc","message":"bnoordhuis: https://gist.github.com/andremedeiros/2edb8a5cfab9d27c31df#file-gistfile2-txt","date":"2013-09-12T14:01:04.653Z","type":"message"}
{"nick":"superdealloc","message":"Oh hold on, I'm being an iditot.","date":"2013-09-12T14:02:26.879Z","type":"message"}
{"nick":"superdealloc","message":"Here's the correct one: https://gist.github.com/andremedeiros/2edb8a5cfab9d27c31df#file-gistfile2-txt","date":"2013-09-12T14:03:53.645Z","type":"message"}
{"nick":"superdealloc","message":"uv print handles prints nothing.","date":"2013-09-12T14:04:12.020Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: what does `f 1; p loop->active_reqs; p &loop->active_reqs` print?","date":"2013-09-12T14:05:14.934Z","type":"message"}
{"nick":"kevinswiber","date":"2013-09-12T14:06:10.863Z","type":"join"}
{"nick":"superdealloc","message":"bnoordhuis: https://gist.github.com/andremedeiros/2edb8a5cfab9d27c31df#file-gistfile3-txt","date":"2013-09-12T14:06:17.593Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: oh, and the same please for loop->handle_queue","date":"2013-09-12T14:06:17.910Z","type":"message"}
{"nick":"superdealloc","message":"Done and done.","date":"2013-09-12T14:07:06.637Z","type":"message"}
{"nick":"bnoordhuis","message":"superdealloc: thanks. looks like there are active handles. curious that uv__print_handle() doesn't print them","date":"2013-09-12T14:07:51.789Z","type":"message"}
{"nick":"superdealloc","message":"Yeah :-(","date":"2013-09-12T14:08:18.069Z","type":"message"}
{"nick":"chrisdickinson","reason":"Ping timeout: 260 seconds","date":"2013-09-12T14:08:19.604Z","type":"quit"}
{"nick":"bnoordhuis","message":"how are you starting node? just `node`, no arguments?","date":"2013-09-12T14:09:04.613Z","type":"message"}
{"nick":"superdealloc","message":"yup","date":"2013-09-12T14:09:09.662Z","type":"message"}
{"nick":"superdealloc","message":"well, I'm passing 'pow' as an argument","date":"2013-09-12T14:09:30.432Z","type":"message"}
{"nick":"bnoordhuis","message":"pow being?","date":"2013-09-12T14:09:30.432Z","type":"message"}
{"nick":"superdealloc","message":"a local dns responder thingie","date":"2013-09-12T14:09:31.945Z","type":"message"}
{"nick":"superdealloc","message":"makes your computer respond to .dev domains.","date":"2013-09-12T14:09:44.015Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, so you pass it a script?","date":"2013-09-12T14:09:45.496Z","type":"message"}
{"nick":"superdealloc","message":"yeah","date":"2013-09-12T14:09:48.143Z","type":"message"}
{"nick":"bnoordhuis","message":"does that script create sockets, servers, timers, etc.?","date":"2013-09-12T14:10:02.060Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm guessing yes","date":"2013-09-12T14:10:32.014Z","type":"message"}
{"nick":"superdealloc","message":"not what I'm running, no :-(","date":"2013-09-12T14:11:33.762Z","type":"message"}
{"nick":"superdealloc","message":"it asynchronously runs a bunch of scripts to generate files","date":"2013-09-12T14:11:41.539Z","type":"message"}
{"nick":"bnoordhuis","message":"async in this context meaning ... ?","date":"2013-09-12T14:12:16.223Z","type":"message"}
{"nick":"superdealloc","message":"a utility module that runs a bunch of operations asynchronously","date":"2013-09-12T14:13:17.681Z","type":"message"}
{"nick":"superdealloc","message":"https://github.com/caolan/async","date":"2013-09-12T14:13:19.259Z","type":"message"}
{"nick":"chrisdickinson","date":"2013-09-12T14:13:32.235Z","type":"join"}
{"nick":"bnoordhuis","message":"right. so what is exactly the issue?","date":"2013-09-12T14:13:57.095Z","type":"message"}
{"nick":"superdealloc","message":"so this just generates a couple files from a template and puts them in directories","date":"2013-09-12T14:14:06.278Z","type":"message"}
{"nick":"superdealloc","message":"but node is hanging","date":"2013-09-12T14:14:09.749Z","type":"message"}
{"nick":"superdealloc","message":"the process hangs, I can't send it USR1 and run node debug, that hangs too","date":"2013-09-12T14:14:21.047Z","type":"message"}
{"nick":"superdealloc","message":"so I have no idea of where it's stuck and what the issue is","date":"2013-09-12T14:14:48.772Z","type":"message"}
{"nick":"superdealloc","message":"I'm running this from a puppet provisioning script","date":"2013-09-12T14:15:01.384Z","type":"message"}
{"nick":"bnoordhuis","message":"what happens when you attach dtruss?","date":"2013-09-12T14:15:05.872Z","type":"message"}
{"nick":"superdealloc","message":"I see this","date":"2013-09-12T14:15:44.372Z","type":"message"}
{"nick":"superdealloc","message":"SYSCALL(args) \t\t = return","date":"2013-09-12T14:15:45.097Z","type":"message"}
{"nick":"superdealloc","message":"oh wait","date":"2013-09-12T14:15:54.696Z","type":"message"}
{"nick":"superdealloc","message":"let me restart that","date":"2013-09-12T14:15:56.354Z","type":"message"}
{"nick":"superdealloc","message":"ok, same thing","date":"2013-09-12T14:16:41.238Z","type":"message"}
{"nick":"bnoordhuis","message":"that's the only thing it prints?","date":"2013-09-12T14:17:11.633Z","type":"message"}
{"nick":"superdealloc","message":"yup :(","date":"2013-09-12T14:17:17.500Z","type":"message"}
{"nick":"bnoordhuis","message":"okay... what happens when you run it like this: `sudo dtruss node script.js`?","date":"2013-09-12T14:17:33.732Z","type":"message"}
{"nick":"superdealloc","message":"Wait, I'm getting something","date":"2013-09-12T14:17:54.727Z","type":"message"}
{"nick":"superdealloc","message":"o/b/repo ❯❯❯ sudo dtruss -p 74572                                                                  ⏎","date":"2013-09-12T14:18:23.615Z","type":"message"}
{"nick":"superdealloc","message":"SYSCALL(args) \t\t = return","date":"2013-09-12T14:18:23.842Z","type":"message"}
{"nick":"superdealloc","message":"workq_kernreturn(0x20, 0x0, 0x1)\t\t = 0 0","date":"2013-09-12T14:18:24.181Z","type":"message"}
{"nick":"superdealloc","message":"kevent(0xA, 0x0, 0x0)\t\t = 1 0","date":"2013-09-12T14:18:24.339Z","type":"message"}
{"nick":"superdealloc","message":"thread_selfid(0x7FFF75E34278, 0x0, 0xFFFFFFFF)\t\t = 108211 0","date":"2013-09-12T14:18:24.339Z","type":"message"}
{"nick":"superdealloc","message":"kevent(0xA, 0x101980DB8, 0x1)\t\t = 1 0","date":"2013-09-12T14:18:24.499Z","type":"message"}
{"nick":"superdealloc","message":"thread_selfid(0x101900000, 0x83000, 0x2207)\t\t = 108260 0","date":"2013-09-12T14:18:24.499Z","type":"message"}
{"nick":"superdealloc","message":"__disable_threadsignal(0x1, 0x0, 0x0)\t\t = 0 0","date":"2013-09-12T14:18:34.049Z","type":"message"}
{"nick":"superdealloc","message":"OOPS! Sorry :S that was meant to be a gist link","date":"2013-09-12T14:18:34.810Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, so at least it's doing something","date":"2013-09-12T14:19:19.920Z","type":"message"}
{"nick":"bnoordhuis","message":"the fact that you can't attach with `node debug` might mean that something's installing a SIGUSR1 handler","date":"2013-09-12T14:19:46.681Z","type":"message"}
{"nick":"bnoordhuis","message":"one thing you can try is to hack the script, make it call a function every second or so that prints process._getActiveHandles() and process._getActiveRequests()","date":"2013-09-12T14:20:39.740Z","type":"message"}
{"nick":"superdealloc","message":"Yeah, I'll look into that...","date":"2013-09-12T14:20:59.948Z","type":"message"}
{"nick":"superdealloc","message":"I'll also try a more recent nodejs version","date":"2013-09-12T14:21:08.584Z","type":"message"}
{"nick":"`3E|GONE","new_nick":"`3rdEden","date":"2013-09-12T14:25:37.464Z","type":"nick"}
{"nick":"indutny","message":"ergh","date":"2013-09-12T14:30:54.176Z","type":"message"}
{"nick":"indutny","message":"internet problems","date":"2013-09-12T14:30:56.746Z","type":"message"}
{"nick":"indutny","message":"Domenic_: bnoordhuis : https://github.com/joyent/node/pull/6213","date":"2013-09-12T14:31:00.200Z","type":"message"}
{"nick":"kazupon","date":"2013-09-12T14:33:47.314Z","type":"join"}
{"nick":"Kakera","date":"2013-09-12T14:34:24.190Z","type":"join"}
{"nick":"bradleymeck","date":"2013-09-12T14:36:11.083Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-12T14:44:35.314Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-12T14:51:38.129Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u00023395cb1\u0002 : contextify: dealloc only after global and sandbox - http://git.io/woP9zA","date":"2013-09-12T14:56:13.107Z","type":"message"}
{"nick":"indutny","message":"tadam","date":"2013-09-12T14:56:28.629Z","type":"message"}
{"nick":"indutny","message":"landed","date":"2013-09-12T14:56:29.370Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2013-09-12T14:56:30.146Z","type":"message"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-09-12T14:56:36.486Z","type":"quit"}
{"nick":"csaoh","date":"2013-09-12T15:00:20.661Z","type":"join"}
{"nick":"indexzero","date":"2013-09-12T15:02:57.362Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #550 \u00037UNSTABLE\u000f smartos-x64 (5/639) http://jenkins.nodejs.org/job/nodejs-master/550/","date":"2013-09-12T15:05:32.331Z","type":"message"}
{"nick":"Domenic_","message":"silly indutny, I am not a real reviewer :P","date":"2013-09-12T15:09:21.867Z","type":"message"}
{"nick":"bnoordhuis","message":"i am however. left some comments","date":"2013-09-12T15:10:15.608Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #344 \u00037UNSTABLE\u000f windows-x64 (22/639) windows-ia32 (22/639) http://jenkins.nodejs.org/job/nodejs-master-windows/344/","date":"2013-09-12T15:15:40.443Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #551 \u00037UNSTABLE\u000f smartos-ia32 (1/639) smartos-x64 (6/639) linux-ia32 (1/639) http://jenkins.nodejs.org/job/nodejs-master/551/","date":"2013-09-12T15:17:23.500Z","type":"message"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-09-12T15:23:04.354Z","type":"quit"}
{"nick":"mbana","reason":"Quit: Leaving","date":"2013-09-12T15:23:05.771Z","type":"quit"}
{"nick":"indutny","message":":)","date":"2013-09-12T15:38:57.119Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2013-09-12T15:39:51.906Z","type":"message"}
{"nick":"indutny","message":"Domenic_: comma first style? :)","date":"2013-09-12T15:39:56.578Z","type":"message"}
{"nick":"indutny","message":"in C++","date":"2013-09-12T15:39:58.927Z","type":"message"}
{"nick":"indutny","message":"gosh","date":"2013-09-12T15:40:00.290Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u00023d4c663\u0002 : contextify: dealloc only after global and sandbox - http://git.io/wQVXxw","date":"2013-09-12T15:40:51.848Z","type":"message"}
{"nick":"Domenic_","message":"indutny: where!? i would never...","date":"2013-09-12T15:40:54.010Z","type":"message"}
{"nick":"Domenic_","message":"indutny: that's bnoordhuis's fault, when he switched to the initializers.","date":"2013-09-12T15:41:29.681Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not my preferred style but it keeps down noise in the diff when you add members","date":"2013-09-12T15:43:27.779Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2013-09-12T15:45:23.465Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: offender","date":"2013-09-12T15:45:26.061Z","type":"message"}
{"nick":"c4milo","date":"2013-09-12T15:46:49.640Z","type":"join"}
{"nick":"bnoordhuis","message":"cpplint doesn't complain","date":"2013-09-12T15:48:38.202Z","type":"message"}
{"nick":"bnoordhuis","message":"and like we say in the banking industry, \"if it ain't illegal, it's legal\"","date":"2013-09-12T15:48:55.247Z","type":"message"}
{"nick":"xaka","date":"2013-09-12T15:49:34.771Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #552 \u00037UNSTABLE\u000f linux-x64 (1/639) smartos-x64 (6/639) http://jenkins.nodejs.org/job/nodejs-master/552/","date":"2013-09-12T15:49:37.085Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #345 \u00037UNSTABLE\u000f windows-x64 (21/639) windows-ia32 (21/639) http://jenkins.nodejs.org/job/nodejs-master-windows/345/","date":"2013-09-12T15:59:19.191Z","type":"message"}

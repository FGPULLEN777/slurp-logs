{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-02-12T00:00:01.235Z","type":"quit"}
{"nick":"ircretary","date":"2013-02-12T00:00:08.626Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: you're here this thursday, right?","date":"2013-02-12T00:00:34.984Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes.","date":"2013-02-12T00:00:44.881Z","type":"message"}
{"nick":"piscisaureus_","message":"acutally I'm arriving wednesday so if anyway here wants to have beer on wednesday I'd be pleased :)","date":"2013-02-12T00:01:19.064Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: ok.  i'm not free thursday night.","date":"2013-02-12T00:01:19.197Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2013-02-12T00:01:27.430Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: wednesday would be better.","date":"2013-02-12T00:01:28.465Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: 2/14 is a holiday here in the us.","date":"2013-02-12T00:01:51.335Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: do you have time thursday daytime?","date":"2013-02-12T00:01:54.537Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2013-02-12T00:01:59.380Z","type":"message"}
{"nick":"piscisaureus_","message":"so you are not in town whatsoever","date":"2013-02-12T00:02:07.092Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, but i'll have to leave like 4:00 or so","date":"2013-02-12T00:02:13.405Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you mean - 4:00am or 4pm ?","date":"2013-02-12T00:02:36.028Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but if you wanna do like node work strongloop joyent bs stuff, i mean, yeah, i'm down for that.","date":"2013-02-12T00:02:37.899Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: 4pm :)","date":"2013-02-12T00:02:41.269Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2013-02-12T00:02:46.667Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's valentine's day.  so, gonna do some special dinner romantic yadda yadda with the partner","date":"2013-02-12T00:03:00.415Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah I'll drop by. Otherwise I'll just be bored. I'll bring Al too to say hi.","date":"2013-02-12T00:03:15.797Z","type":"message"}
{"nick":"piscisaureus_","message":"but I like to have beer with people so if you can make it wednesday, the better :)","date":"2013-02-12T00:03:31.336Z","type":"message"}
{"nick":"isaacs","message":"yes, that is a godo idea","date":"2013-02-12T00:04:10.353Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm famous for my godo ideas","date":"2013-02-12T00:04:24.929Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: wanna review some tls code that you probably haven't seen yet?","date":"2013-02-12T00:05:02.238Z","type":"message"}
{"nick":"isaacs","message":"https://github.com/joyent/node/pull/4756","date":"2013-02-12T00:05:09.263Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2013-02-12T00:06:29.547Z","type":"message"}
{"nick":"kazupon","date":"2013-02-12T00:07:55.892Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: so this basically fixes fallout from the situation that tls is synchronous right?","date":"2013-02-12T00:08:46.147Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yes, basically","date":"2013-02-12T00:08:57.669Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and that it's two streams joined at the hip, which is kind of awkward.","date":"2013-02-12T00:09:12.938Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so I wasn't even aware that read(0) is there to trigger readable :)","date":"2013-02-12T00:09:23.228Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but it looks good to me. read(0) not calling _read() when there already is data buffered is obviously the right thing to do","date":"2013-02-12T00:10:57.846Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-02-12T00:11:18.349Z","type":"message"}
{"nick":"isaacs","message":"in the past, we just never didd that.","date":"2013-02-12T00:11:22.699Z","type":"message"}
{"nick":"isaacs","message":"but cryptostreams are ab it agressive","date":"2013-02-12T00:11:26.549Z","type":"message"}
{"nick":"isaacs","message":"they just slam read(0) whenever there *might* be data.","date":"2013-02-12T00:11:35.844Z","type":"message"}
{"nick":"isaacs","message":"which should be fine, of course.","date":"2013-02-12T00:11:38.475Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so read() now doesn't tell you when EOF happened in any way?","date":"2013-02-12T00:12:01.720Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you have to listen for the 'end' event for that.","date":"2013-02-12T00:14:05.618Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: read() returns data if it has it, or null if it doesn't.","date":"2013-02-12T00:14:17.857Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T00:14:25.924Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: right - seems fine","date":"2013-02-12T00:15:00.236Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it would've been nice if read() told it as well but I can't think of a nice way to do it","date":"2013-02-12T00:15:22.741Z","type":"message"}
{"nick":"piscisaureus_","message":"since null already has another meaning","date":"2013-02-12T00:15:27.423Z","type":"message"}
{"nick":"piscisaureus_","message":"and making a distinction between null and false seems very weird","date":"2013-02-12T00:15:41.409Z","type":"message"}
{"nick":"mikeal","date":"2013-02-12T00:17:29.087Z","type":"join"}
{"nick":"c4milo","date":"2013-02-12T00:18:22.617Z","type":"join"}
{"nick":"isaacs","message":"yah","date":"2013-02-12T00:21:53.061Z","type":"message"}
{"nick":"shigeki","date":"2013-02-12T00:27:47.084Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: ok, i'm landing it, then","date":"2013-02-12T00:27:57.648Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-02-12T00:37:32.898Z","type":"quit"}
{"nick":"brson","date":"2013-02-12T00:37:52.004Z","type":"join"}
{"nick":"brson","reason":"Client Quit","date":"2013-02-12T00:38:51.741Z","type":"quit"}
{"nick":"brson","date":"2013-02-12T00:39:07.118Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u000202374d0\u0002 : tls: Cycle data when underlying socket drains (+2 more commits) - http://git.io/CBrnpA","date":"2013-02-12T00:43:35.567Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: as is totally okay","date":"2013-02-12T00:45:58.530Z","type":"message"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-02-12T00:49:28.605Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-12T00:54:37.552Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T00:57:26.654Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-12T00:58:39.178Z","type":"join"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-02-12T01:01:32.227Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-12T01:01:32.388Z","type":"join"}
{"nick":"wolfeidau","date":"2013-02-12T01:01:41.719Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-12T01:02:46.043Z","type":"quit"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-12T01:03:13.649Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-12T01:05:08.215Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T01:06:59.243Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-02-12T01:11:58.485Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T01:32:23.676Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-12T01:37:44.080Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T01:39:18.444Z","type":"quit"}
{"nick":"isaacs","message":"WOW, finally some good benchmark news! https://gist.github.com/isaacs/4759393","date":"2013-02-12T01:42:29.259Z","type":"message"}
{"nick":"isaacs","message":"(and bad benchmark news)","date":"2013-02-12T01:42:34.577Z","type":"message"}
{"nick":"isaacs","message":"but tls throughput is WAY up.","date":"2013-02-12T01:42:38.668Z","type":"message"}
{"nick":"isaacs","message":"indutny: nicely done :)","date":"2013-02-12T01:44:17.417Z","type":"message"}
{"nick":"shigeki","reason":"Quit: Page closed","date":"2013-02-12T02:01:02.595Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-02-12T02:09:55.963Z","type":"quit"}
{"nick":"nsm","date":"2013-02-12T02:18:42.532Z","type":"join"}
{"nick":"Chip_Zero","reason":"Ping timeout: 245 seconds","date":"2013-02-12T02:18:53.461Z","type":"quit"}
{"nick":"nsm","reason":"Client Quit","date":"2013-02-12T02:22:51.539Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-12T02:29:34.327Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T02:32:51.057Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2013-02-12T02:42:11.929Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-12T03:21:45.037Z","type":"nick"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2013-02-12T03:23:13.109Z","type":"quit"}
{"nick":"abraxas_","date":"2013-02-12T03:30:44.573Z","type":"join"}
{"nick":"MI61","date":"2013-02-12T03:32:55.359Z","type":"join"}
{"nick":"indutny_","date":"2013-02-12T03:33:59.511Z","type":"join"}
{"nick":"kazupon","date":"2013-02-12T03:38:48.629Z","type":"join"}
{"nick":"joshthecoder_","date":"2013-02-12T03:39:29.759Z","type":"join"}
{"nick":"abraxas","reason":"*.net *.split","date":"2013-02-12T03:39:48.730Z","type":"quit"}
{"nick":"MI6","reason":"*.net *.split","date":"2013-02-12T03:39:48.873Z","type":"quit"}
{"nick":"indutny","reason":"*.net *.split","date":"2013-02-12T03:39:49.010Z","type":"quit"}
{"nick":"joshthecoder","reason":"*.net *.split","date":"2013-02-12T03:39:49.010Z","type":"quit"}
{"nick":"rphillips","reason":"*.net *.split","date":"2013-02-12T03:39:49.010Z","type":"quit"}
{"nick":"rphillips_","date":"2013-02-12T03:41:28.948Z","type":"join"}
{"nick":"trevnorris","date":"2013-02-12T03:42:31.047Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-02-12T03:44:07.503Z","type":"quit"}
{"nick":"Chip_Zero","date":"2013-02-12T04:16:03.932Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: have an interesting stat for ya","date":"2013-02-12T04:25:14.039Z","type":"message"}
{"nick":"CoverSlide","reason":"Ping timeout: 256 seconds","date":"2013-02-12T04:25:59.667Z","type":"quit"}
{"nick":"trevnorris","message":"running a slightly modified fs-streawrite test 512MB to /dev/null, it's 31x's faster to write out 2048 byte chunks than 64 byte chunks.","date":"2013-02-12T04:27:55.739Z","type":"message"}
{"nick":"brucem","message":"trevnorris: you'll probably find that that it depends on disk and memory page sizes, especially if your code paths let you end up doing page-aligned I/O, but I guess that's more for raw I/O which isn't going to be the case here (but been some years since I benchmarked that sort of thing).","date":"2013-02-12T04:29:12.719Z","type":"message"}
{"nick":"trevnorris","message":"brucem: oyi. that's a lot of variables to take into consideration.","date":"2013-02-12T04:30:04.872Z","type":"message"}
{"nick":"brucem","message":"trevnorris: well, start by trying 64 byte up through 64k chunks and see how it looks ...","date":"2013-02-12T04:30:59.395Z","type":"message"}
{"nick":"CoverSlide","date":"2013-02-12T04:32:28.024Z","type":"join"}
{"nick":"brucem","message":"trevnorris: your disk block size might be 512 bytes or 4k … your memory pages are probably 4k ...","date":"2013-02-12T04:33:37.157Z","type":"message"}
{"nick":"trevnorris","message":"brucem: would all that affect writing to /dev/null?","date":"2013-02-12T04:33:59.296Z","type":"message"}
{"nick":"brucem","message":"trevnorris: hmm, probably not. I'd missed that you were writing to /dev/null.","date":"2013-02-12T04:34:26.040Z","type":"message"}
{"nick":"trevnorris","message":"brucem: was getting to much variance writing to disk, and the benchmark is more a test of how quickly data can be spewed out","date":"2013-02-12T04:35:11.951Z","type":"message"}
{"nick":"brucem","message":"trevnorris: then it is worth noting that 2048 divided by 64 is 32 … so you're probably just eliminating overhead along the I/O code path by issuing fewer requests.","date":"2013-02-12T04:35:52.102Z","type":"message"}
{"nick":"trevnorris","message":"brucem: hm. yeah. the difference of writing 64 byte vs 2kb chunks is ~31x's, and it's a filesize difference of 32x's.","date":"2013-02-12T04:37:40.217Z","type":"message"}
{"nick":"trevnorris","message":"brucem: so is it as simple as a 1:1 relationship?","date":"2013-02-12T04:37:54.067Z","type":"message"}
{"nick":"brucem","message":"dunno, more data points would be needed. What's the actual problem that you're trying to solve?","date":"2013-02-12T04:38:17.411Z","type":"message"}
{"nick":"trevnorris","message":"just trying to figure out where the bottlenecks are. perf benchmarks and stuff.","date":"2013-02-12T04:39:37.606Z","type":"message"}
{"nick":"kazupon","date":"2013-02-12T04:40:06.659Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-02-12T04:44:40.527Z","type":"quit"}
{"nick":"trevnorris","message":"brucem: my benchmark says that it wrote 10GB in 64KB chunks to /dev/null at 8GB/s. is that possible?","date":"2013-02-12T04:45:25.798Z","type":"message"}
{"nick":"brucem","message":"trevnorris: writing to /dev/null is just throwing everything away … no real I/O, so sure, why not?","date":"2013-02-12T04:45:55.800Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that's interesting","date":"2013-02-12T04:46:37.914Z","type":"message"}
{"nick":"trevnorris","message":"hm, ok","date":"2013-02-12T04:47:43.741Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-12T04:57:44.720Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: so by all my tests, there's no regression on write stream currently on master, but it's using 4x's the memory. what's up with v8?","date":"2013-02-12T05:06:15.371Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: results - https://gist.github.com/trevnorris/4760364","date":"2013-02-12T05:06:22.773Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-12T05:27:13.097Z","type":"quit"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2013-02-12T05:40:31.995Z","type":"quit"}
{"nick":"perezd_","date":"2013-02-12T05:40:36.532Z","type":"join"}
{"nick":"kazupon","date":"2013-02-12T05:41:24.092Z","type":"join"}
{"nick":"indexzero","date":"2013-02-12T05:44:48.430Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2013-02-12T05:46:11.903Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-12T05:46:55.359Z","type":"quit"}
{"nick":"TheJH","date":"2013-02-12T05:59:09.823Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 255 seconds","date":"2013-02-12T06:12:50.567Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: here's what i'm seeing: https://gist.github.com/isaacs/4760607","date":"2013-02-12T06:23:34.584Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, it's quite a bit slower if the chunk size is smaller.","date":"2013-02-12T06:23:58.108Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: what system you running it on?","date":"2013-02-12T06:24:07.837Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: os x","date":"2013-02-12T06:24:12.957Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's quite a bit faster if the default water levels are changed","date":"2013-02-12T06:24:31.495Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: the last one is a c program that does the same sort of thing","date":"2013-02-12T06:25:26.227Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just a baseline","date":"2013-02-12T06:25:30.816Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ah crap, didn't re-read my message. yeah, meant to include that writes of byte length <= 8 are hecka lot slower.","date":"2013-02-12T06:25:32.571Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: also:","date":"2013-02-12T06:26:42.017Z","type":"message"}
{"nick":"isaacs","message":"fs/write-stream-throughput.js dur=1 type=buf size=65535: 99.098","date":"2013-02-12T06:26:42.397Z","type":"message"}
{"nick":"isaacs","message":"fs/write-stream-throughput.js dur=1 type=buf size=1048576: 74.485","date":"2013-02-12T06:26:42.528Z","type":"message"}
{"nick":"isaacs","message":"way too slow^","date":"2013-02-12T06:26:45.811Z","type":"message"}
{"nick":"isaacs","message":"v0.8: ","date":"2013-02-12T06:27:08.805Z","type":"message"}
{"nick":"isaacs","message":"fs/write-stream-throughput.js dur=1 type=buf size=65535: 145.70","date":"2013-02-12T06:27:09.256Z","type":"message"}
{"nick":"isaacs","message":"fs/write-stream-throughput.js dur=1 type=buf size=1048576: 129.86","date":"2013-02-12T06:27:09.388Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. may have something to help that. give me a couple.","date":"2013-02-12T06:27:40.146Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i have a patch that helps quite a bit","date":"2013-02-12T06:30:03.254Z","type":"message"}
{"nick":"trevnorris","message":"have it posted?","date":"2013-02-12T06:30:15.578Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, there's a pr floating aroudn here","date":"2013-02-12T06:30:35.344Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: https://github.com/joyent/node/pull/4724","date":"2013-02-12T06:31:03.415Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: heh, that's the change? why such a difference?","date":"2013-02-12T06:32:40.922Z","type":"message"}
{"nick":"rje","reason":"Quit: Leaving...","date":"2013-02-12T06:35:28.531Z","type":"quit"}
{"nick":"rje","date":"2013-02-12T06:37:39.147Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: have a ticker change that increases the tcp_raw_c2s speed by 10% over yours.","date":"2013-02-12T06:40:28.617Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it's now only 7% slower (using streams2 api) over v0.8 using the old streams api.","date":"2013-02-12T06:41:06.750Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T06:41:12.051Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T06:42:34.520Z","type":"join"}
{"nick":"benoitc","date":"2013-02-12T06:45:28.537Z","type":"join"}
{"nick":"mikeal","date":"2013-02-12T06:45:31.039Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T06:47:05.284Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-02-12T06:47:31.389Z","type":"quit"}
{"nick":"isaacs","message":"w","date":"2013-02-12T06:47:35.104Z","type":"message"}
{"nick":"isaacs","message":"sweet!","date":"2013-02-12T06:47:52.189Z","type":"message"}
{"nick":"isaacs","message":"i've been focusing on reviving some of our old benchmarks.","date":"2013-02-12T06:48:04.902Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i want to have a \"are we fast yet\" kind of site up tomorrow-ish","date":"2013-02-12T06:48:18.278Z","type":"message"}
{"nick":"trevnorris","message":"sounds good. that will be fun to see.","date":"2013-02-12T06:48:33.705Z","type":"message"}
{"nick":"isaacs","message":"maybe a bit longer","date":"2013-02-12T06:49:05.015Z","type":"message"}
{"nick":"isaacs","message":"this week, though","date":"2013-02-12T06:49:07.731Z","type":"message"}
{"nick":"isaacs","message":"the red-and-green printout is awesome","date":"2013-02-12T06:49:58.281Z","type":"message"}
{"nick":"isaacs","message":"it's too long, though.  and takes forever to generate","date":"2013-02-12T06:50:06.205Z","type":"message"}
{"nick":"trevnorris","message":"heh, benchmarks are funny that way.","date":"2013-02-12T06:51:46.470Z","type":"message"}
{"nick":"benoitc","date":"2013-02-12T06:53:28.550Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: i think test/simple/test-tls-session-cache.js is failing right now on master, double checking now.","date":"2013-02-12T06:56:16.625Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just confirmed. it's failing","date":"2013-02-12T06:58:39.276Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T07:00:51.882Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T07:07:28.198Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-12T07:22:50.004Z","type":"join"}
{"nick":"`3rdEden","date":"2013-02-12T07:29:26.138Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T07:39:32.630Z","type":"quit"}
{"nick":"V1","date":"2013-02-12T07:42:39.511Z","type":"join"}
{"nick":"V1","reason":"Remote host closed the connection","date":"2013-02-12T07:46:48.754Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-02-12T07:48:46.073Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T07:50:58.146Z","type":"join"}
{"nick":"rendar","date":"2013-02-12T08:00:07.153Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-12T08:09:26.631Z","type":"quit"}
{"nick":"isaacs","message":"huh.  interesting.","date":"2013-02-12T08:13:38.073Z","type":"message"}
{"nick":"Chip_Zero","reason":"Changing host","date":"2013-02-12T08:29:06.486Z","type":"quit"}
{"nick":"Chip_Zero","date":"2013-02-12T08:29:06.618Z","type":"join"}
{"nick":"isaacs","topic":"liberal utopian vacation - https://gist.github.com/isaacs/4760981/raw/compare.out - http://logs.libuv.org/libuv - http://groups.google.com/group/libuv","date":"2013-02-12T08:38:46.128Z","type":"topic"}
{"nick":"indutny_","new_nick":"indutny","date":"2013-02-12T08:39:52.427Z","type":"nick"}
{"nick":"kazupon","date":"2013-02-12T08:43:52.255Z","type":"join"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-02-12T08:45:51.625Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T08:46:14.594Z","type":"join"}
{"nick":"isaacs","topic":"liberal utopian vacation ~ http://static.izs.me/node-not-fast-yet.html ~ http://logs.libuv.org/libuv ~ http://groups.google.com/group/libuv","date":"2013-02-12T08:50:44.821Z","type":"topic"}
{"nick":"isaacs","message":"indutny: http://static.izs.me/node-not-fast-yet.html","date":"2013-02-12T08:54:41.316Z","type":"message"}
{"nick":"isaacs","message":"indutny: note the green blob near the bottom.","date":"2013-02-12T08:54:52.695Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-02-12T08:55:00.394Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-02-12T08:55:17.002Z","type":"join"}
{"nick":"indutny","message":"odd :)","date":"2013-02-12T08:55:22.781Z","type":"message"}
{"nick":"isaacs","message":"yeah, i have no idea why streams2 is making tls faster.","date":"2013-02-12T08:55:27.295Z","type":"message"}
{"nick":"indutny","message":"I really hadn't expected that","date":"2013-02-12T08:55:29.320Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-02-12T08:55:31.592Z","type":"message"}
{"nick":"indutny","message":"that's not streams2 actually","date":"2013-02-12T08:55:35.161Z","type":"message"}
{"nick":"indutny","message":"that's the way we pull data now","date":"2013-02-12T08:55:40.384Z","type":"message"}
{"nick":"isaacs","message":"but i'm guessing we were not as agressive in that cycle() function before as we are now.","date":"2013-02-12T08:55:41.578Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-12T08:55:44.596Z","type":"message"}
{"nick":"indutny","message":"obviously","date":"2013-02-12T08:55:51.025Z","type":"message"}
{"nick":"isaacs","message":"also, weird: we crush it on ascii encoding, but every other kind of encoding is way slower for net throughput","date":"2013-02-12T08:56:25.438Z","type":"message"}
{"nick":"isaacs","message":"maybe we should just drop support for binary and unicode.","date":"2013-02-12T08:56:49.167Z","type":"message"}
{"nick":"indutny","message":"ahhaha","date":"2013-02-12T08:57:28.481Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-02-12T09:00:10.003Z","type":"quit"}
{"nick":"isaacs","message":"the thing that sucks about this output is that it makes all the benchmarks seem equal in importance, and also makes all red seem equally red, and all green seem equally green","date":"2013-02-12T09:02:04.706Z","type":"message"}
{"nick":"isaacs","message":"failing more benchmarks is more \"visible\" than failing one really badly","date":"2013-02-12T09:02:15.495Z","type":"message"}
{"nick":"isaacs","message":"but i guess, it's a start.  certainly better than we have now.","date":"2013-02-12T09:02:43.202Z","type":"message"}
{"nick":"isaacs","message":"ok, i need to sleep.","date":"2013-02-12T09:02:58.586Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T09:11:15.881Z","type":"quit"}
{"nick":"indutny","message":"isaacs: can you remind me about anything I should look into?","date":"2013-02-12T09:40:25.537Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2013-02-12T09:40:38.906Z","type":"message"}
{"nick":"indutny","message":"found email","date":"2013-02-12T09:40:40.684Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T09:59:49.794Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T10:04:01.751Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T10:04:51.566Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T10:05:31.411Z","type":"join"}
{"nick":"hz","date":"2013-02-12T10:05:31.548Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T10:12:15.771Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T10:16:01.408Z","type":"join"}
{"nick":"kazupon","date":"2013-02-12T10:21:37.662Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Victor Costan\u000f \u00037master\u000f * \u0002e235bce\u0002 : Fix crypto.hmac behavior with empty keys.  node 0.9.6 introduced Buffer c - http://git.io/FDUkLg","date":"2013-02-12T10:22:25.528Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-02-12T10:26:23.408Z","type":"quit"}
{"nick":"indutny","message":"isaacs: yt?","date":"2013-02-12T10:27:26.666Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-02-12T10:27:27.793Z","type":"join"}
{"nick":"indutny","message":"is test/simple/test-tls-session-cache.js failing for you too?","date":"2013-02-12T10:27:46.194Z","type":"message"}
{"nick":"indutny","message":"on master","date":"2013-02-12T10:27:59.729Z","type":"message"}
{"nick":"V1_","date":"2013-02-12T10:28:39.599Z","type":"join"}
{"nick":"`3rdEden","reason":"Disconnected by services","date":"2013-02-12T10:29:07.588Z","type":"quit"}
{"nick":"V1_","new_nick":"V1","date":"2013-02-12T10:29:09.579Z","type":"nick"}
{"nick":"V1","new_nick":"`3rdEden","date":"2013-02-12T10:29:17.666Z","type":"nick"}
{"nick":"bnoordhuis","reason":"Ping timeout: 272 seconds","date":"2013-02-12T10:36:32.717Z","type":"quit"}
{"nick":"hz","date":"2013-02-12T10:42:43.696Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|NONO3ENOTHER","date":"2013-02-12T10:52:50.807Z","type":"nick"}
{"nick":"abraxas_","reason":"Remote host closed the connection","date":"2013-02-12T10:59:22.363Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-12T11:00:14.447Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-02-12T11:09:11.854Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-12T11:18:56.359Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: btw, https://github.com/joyent/node/issues/4760","date":"2013-02-12T11:28:01.845Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002c34326b\u0002 : test: fix tests after ECONNRESET patch - http://git.io/BYRivQ","date":"2013-02-12T11:28:17.058Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-02-12T11:28:23.145Z","type":"message"}
{"nick":"indutny","message":"replied","date":"2013-02-12T11:28:56.883Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-02-12T11:35:32.672Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: mogge bertje","date":"2013-02-12T11:42:42.306Z","type":"message"}
{"nick":"piscisaureus_","message":"hey ben","date":"2013-02-12T11:42:51.417Z","type":"message"}
{"nick":"`3E|NONO3ENOTHER","new_nick":"`3rdEden","date":"2013-02-12T11:45:55.665Z","type":"nick"}
{"nick":"indutny","message":"morning","date":"2013-02-12T11:47:43.223Z","type":"message"}
{"nick":"saghul_","date":"2013-02-12T11:48:53.526Z","type":"join"}
{"nick":"saghul","reason":"Ping timeout: 240 seconds","date":"2013-02-12T11:49:57.367Z","type":"quit"}
{"nick":"saghul_","new_nick":"saghul","date":"2013-02-12T11:49:57.503Z","type":"nick"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-02-12T12:02:13.436Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-02-12T12:28:17.526Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-02-12T12:36:34.530Z","type":"quit"}
{"nick":"sgallagh","date":"2013-02-12T12:37:11.568Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T12:46:03.221Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T12:48:01.260Z","type":"join"}
{"nick":"kazupon","date":"2013-02-12T12:49:56.194Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-12T12:58:00.124Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T13:05:40.116Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-12T13:11:33.333Z","type":"join"}
{"nick":"AvianFlu","date":"2013-02-12T13:27:34.606Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T13:28:48.124Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T13:30:46.254Z","type":"join"}
{"nick":"Gottox","reason":"Quit: serverwechsel","date":"2013-02-12T13:34:30.596Z","type":"quit"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-12T13:37:55.362Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T13:41:26.741Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-12T13:44:12.668Z","type":"join"}
{"nick":"hz","date":"2013-02-12T14:04:06.433Z","type":"join"}
{"nick":"jmar777","date":"2013-02-12T14:10:58.003Z","type":"join"}
{"nick":"c4milo","date":"2013-02-12T14:16:33.661Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T14:18:13.121Z","type":"quit"}
{"nick":"rphillips_","new_nick":"rphillips","date":"2013-02-12T14:30:15.105Z","type":"nick"}
{"nick":"mikeal","reason":"Ping timeout: 256 seconds","date":"2013-02-12T14:40:10.042Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-12T14:42:46.600Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2013-02-12T14:50:29.541Z","type":"quit"}
{"nick":"c4milo","date":"2013-02-12T14:52:37.676Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2013-02-12T14:54:57.274Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-12T14:56:04.627Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2013-02-12T14:56:22.007Z","type":"quit"}
{"nick":"sgallagh1","date":"2013-02-12T14:56:38.465Z","type":"join"}
{"nick":"philips_","reason":"Excess Flood","date":"2013-02-12T14:59:50.251Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-12T15:00:45.125Z","type":"quit"}
{"nick":"sgallagh","reason":"Ping timeout: 255 seconds","date":"2013-02-12T15:00:47.424Z","type":"quit"}
{"nick":"TheJH","date":"2013-02-12T15:10:03.028Z","type":"join"}
{"nick":"philips_","date":"2013-02-12T15:11:08.368Z","type":"join"}
{"nick":"bradleymeck","date":"2013-02-12T15:12:12.067Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002b6f72e5\u0002 : linux: fix O_CLOEXEC/O_NONBLOCK defines - http://git.io/HB7A5g","date":"2013-02-12T15:21:08.889Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I bet you hadn't expected it to have another value on different linux distros","date":"2013-02-12T15:27:50.291Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: you mean archs?","date":"2013-02-12T15:36:23.795Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-02-12T15:36:30.168Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-02-12T15:36:31.620Z","type":"message"}
{"nick":"bnoordhuis","message":"i knew, i just didn't really care until now :/","date":"2013-02-12T15:36:35.193Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-02-12T15:36:40.874Z","type":"message"}
{"nick":"indutny","message":"until someone else has started to care","date":"2013-02-12T15:36:48.310Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-02-12T15:36:52.527Z","type":"message"}
{"nick":"bnoordhuis","message":"never fix something until bug reports start coming in","date":"2013-02-12T15:37:07.572Z","type":"message"}
{"nick":"indutny","message":"obviously","date":"2013-02-12T15:37:52.247Z","type":"message"}
{"nick":"indutny","message":"so I'm going to find a way to improve accept() over many forks","date":"2013-02-12T15:38:04.233Z","type":"message"}
{"nick":"indutny","message":"not sure if I need to buy a box for it","date":"2013-02-12T15:38:12.814Z","type":"message"}
{"nick":"indutny","message":"btw, what configuration are you using?","date":"2013-02-12T15:38:18.378Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|lunch","date":"2013-02-12T15:38:19.559Z","type":"nick"}
{"nick":"indutny","message":"I was buying laptops for like 5 years","date":"2013-02-12T15:38:27.078Z","type":"message"}
{"nick":"indutny","message":"so I don't know what's considered \"modern\" now","date":"2013-02-12T15:38:42.482Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2013-02-12T15:39:19.852Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: you mean what kind of laptop i have?","date":"2013-02-12T15:40:05.535Z","type":"message"}
{"nick":"bnoordhuis","message":"the googles is broken, gmail, groups","date":"2013-02-12T15:45:45.245Z","type":"message"}
{"nick":"CoverSlide","reason":"Read error: Operation timed out","date":"2013-02-12T16:05:29.201Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: nono","date":"2013-02-12T16:09:18.874Z","type":"message"}
{"nick":"indutny","message":"I'm talking about desktop","date":"2013-02-12T16:09:22.505Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: oh, okay. i think 8 i7 cores and 16 gb is the minimum nowadays","date":"2013-02-12T16:10:19.726Z","type":"message"}
{"nick":"bnoordhuis","message":"and a big ssd, of course","date":"2013-02-12T16:10:31.510Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-02-12T16:11:31.083Z","type":"message"}
{"nick":"indutny","message":"kewl","date":"2013-02-12T16:11:33.034Z","type":"message"}
{"nick":"kazupon","date":"2013-02-12T16:11:40.550Z","type":"join"}
{"nick":"CoverSlide","date":"2013-02-12T16:12:48.959Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2013-02-12T16:16:23.423Z","type":"quit"}
{"nick":"sgallagh1","new_nick":"sgallagh","date":"2013-02-12T16:23:23.966Z","type":"nick"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-02-12T16:43:04.073Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-12T16:50:16.411Z","type":"quit"}
{"nick":"mikeal1","date":"2013-02-12T16:53:39.953Z","type":"join"}
{"nick":"dap","date":"2013-02-12T16:55:10.691Z","type":"join"}
{"nick":"brson","date":"2013-02-12T17:03:28.813Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-02-12T17:04:33.118Z","type":"quit"}
{"nick":"hz","date":"2013-02-12T17:06:47.820Z","type":"quit"}
{"nick":"felixge","date":"2013-02-12T17:09:12.936Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2013-02-12T17:09:12.936Z","type":"quit"}
{"nick":"isaacs","message":"good morning","date":"2013-02-12T17:25:32.656Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-12T17:28:00.647Z","type":"quit"}
{"nick":"creationix","message":"morning isaacs ","date":"2013-02-12T17:30:47.580Z","type":"message"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-02-12T17:32:27.141Z","type":"quit"}
{"nick":"isaacs","message":"ircretary: tell bnoordhuis to talk to me about file descriptors","date":"2013-02-12T17:34:53.500Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell bnoordhuis","date":"2013-02-12T17:34:54.297Z","type":"message"}
{"nick":"isaacs","message":"ircretary: thanks","date":"2013-02-12T17:34:56.884Z","type":"message"}
{"nick":"ircretary","message":"isaacs: You're welcome :)","date":"2013-02-12T17:34:57.703Z","type":"message"}
{"nick":"trevnorris","date":"2013-02-12T17:35:23.043Z","type":"join"}
{"nick":"Ralt","date":"2013-02-12T17:36:49.798Z","type":"join"}
{"nick":"isaacs","message":"trevnorris, indutny: can you take a look at https://github.com/joyent/node/pull/4759?  there's a lot of commits, but most of it's just cleanup.  the first few actually add the new stuff and show how to use the script for sync or async or http benchmarks.","date":"2013-02-12T18:00:54.607Z","type":"message"}
{"nick":"isaacs","message":"you can see all the results by checking it out and doing `make bench` ","date":"2013-02-12T18:02:57.087Z","type":"message"}
{"nick":"isaacs","message":"or `./node benchmark/compare.js ./node ../node-v0.8/node` to see how we stack up against node-v0.8  (not a make target, since the path to the other binary is machine dependent)","date":"2013-02-12T18:03:37.252Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just going to ramble as I see stuff.","date":"2013-02-12T18:07:32.559Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: go for it.","date":"2013-02-12T18:07:47.018Z","type":"message"}
{"nick":"isaacs","message":"i'm gonna step away and make some coffee, but with the magic of persistent irssi, i'll get all your notes :) :)","date":"2013-02-12T18:08:07.638Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: think dataview should go in buffer/ or should have their own typedarray/ folder? there are a lot of other typedarray specific tests we can do.","date":"2013-02-12T18:08:28.367Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, it was one of the last ones i noticed.  probably should be its own set.","date":"2013-02-12T18:08:54.387Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but we can hold off until there are actually more.","date":"2013-02-12T18:09:22.841Z","type":"message"}
{"nick":"loladiro","date":"2013-02-12T18:13:07.319Z","type":"join"}
{"nick":"isaacs","message":"k, bbiab","date":"2013-02-12T18:13:37.757Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-02-12T18:14:30.004Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: maybe cleanup the joyent copyright headers. imho pop it on common.js, but leave it off the benchmarks.","date":"2013-02-12T18:22:12.620Z","type":"message"}
{"nick":"Ralt","reason":"Ping timeout: 272 seconds","date":"2013-02-12T18:23:18.727Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: how's the color output going to look on windows?","date":"2013-02-12T18:24:06.928Z","type":"message"}
{"nick":"TooTallNate","date":"2013-02-12T18:25:46.426Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: thanks for fixing the speaker thing","date":"2013-02-12T18:31:21.080Z","type":"message"}
{"nick":"TooTallNate","message":"some unstable state in the registry for that entry i assume?","date":"2013-02-12T18:31:36.619Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: is there anyway to specify another file location for io.c?","date":"2013-02-12T18:33:23.066Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: no","date":"2013-02-12T18:33:44.414Z","type":"message"}
{"nick":"trevnorris","message":"poop","date":"2013-02-12T18:33:50.448Z","type":"message"}
{"nick":"bnoordhuis","message":"you can change the path variable and recompile","date":"2013-02-12T18:34:06.338Z","type":"message"}
{"nick":"trevnorris","message":"that' s what i've been doing.","date":"2013-02-12T18:34:16.595Z","type":"message"}
{"nick":"trevnorris","message":"awesome bench though. ones like that really help set an upper limit on what node could achive.","date":"2013-02-12T18:34:37.055Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll land a patch that lets you set it","date":"2013-02-12T18:35:56.243Z","type":"message"}
{"nick":"trevnorris","message":"ah, so what you meant is that it can't be set right now. awesome, thanks.","date":"2013-02-12T18:36:17.144Z","type":"message"}
{"nick":"trevnorris","message":"honestly you can thank my stupidity for that one. only gave 12GB to /, and the rest went to /home and projects. so writing that much to /tmp isn't happiness.","date":"2013-02-12T18:37:20.220Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000219d29aa\u0002 : bench: make io.c file path configurable - http://git.io/bBgITQ","date":"2013-02-12T18:38:46.423Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: ^","date":"2013-02-12T18:38:53.690Z","type":"message"}
{"nick":"trevnorris","message":"sure you all know, but master is currently failing on test-tls-session-cache.js and test-tls-over-http-tunnel.js","date":"2013-02-12T18:38:55.247Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: whoot! thanks.","date":"2013-02-12T18:38:59.630Z","type":"message"}
{"nick":"bnoordhuis","message":"that's been fixed by fedor","date":"2013-02-12T18:39:19.430Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: colors look the same in windows","date":"2013-02-12T18:39:27.649Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: cool.","date":"2013-02-12T18:39:33.683Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: cool, thanks.","date":"2013-02-12T18:39:50.291Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i usually just do gcc -o iotest benchmark/io.c && ./iotest","date":"2013-02-12T18:39:52.287Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's not quite an upper limit, though.","date":"2013-02-12T18:40:18.396Z","type":"message"}
{"nick":"isaacs","message":"we can sometimes cheat","date":"2013-02-12T18:40:20.568Z","type":"message"}
{"nick":"isaacs","message":"for example, some of the write stream throughput benchmarks actually go faster.","date":"2013-02-12T18:40:34.646Z","type":"message"}
{"nick":"trevnorris","message":"wha?","date":"2013-02-12T18:40:42.400Z","type":"message"}
{"nick":"isaacs","message":"but yeah, useful info :)","date":"2013-02-12T18:40:45.241Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: probably because of the fs being weird about /tmp","date":"2013-02-12T18:41:46.819Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: yeah, i don't know","date":"2013-02-12T18:42:04.245Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: next time that happens, try an unpublish manually","date":"2013-02-12T18:42:11.127Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: that's all i did","date":"2013-02-12T18:42:18.549Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: interesting… it must have had something to do with the fact that on that comp i was still logged in as \"TooTallNate\" instead of \"tootallnate\"","date":"2013-02-12T18:42:56.212Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: did you see the commit I /cc'd you on last night? re: readable-stream module with .setEncoding() doesn't work on v0.8.x","date":"2013-02-12T18:43:31.248Z","type":"message"}
{"nick":"TooTallNate","message":"<= v0.8.x","date":"2013-02-12T18:43:37.544Z","type":"message"}
{"nick":"TooTallNate","message":"because we're calling decoder.end(), which was introduced in v0.9.x","date":"2013-02-12T18:43:51.791Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: know if running full disk encryption would affect the test much?","date":"2013-02-12T18:43:53.827Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just left a couple comments, but looks good. going to run it now and give it a whirl.","date":"2013-02-12T18:45:19.252Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: yes, it will","date":"2013-02-12T18:45:20.046Z","type":"message"}
{"nick":"bnoordhuis","message":"you're probably going to be more cpu than i/o bound","date":"2013-02-12T18:45:50.536Z","type":"message"}
{"nick":"trevnorris","message":"hm, really? thanks.","date":"2013-02-12T18:46:08.368Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: yes, i saw that","date":"2013-02-12T18:46:57.454Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: we need to check for decoder.end before calling it, i suppose.","date":"2013-02-12T18:47:04.292Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: that bit is necessary to support base64 as an encoding, required for crypto","date":"2013-02-12T18:47:16.835Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: try doing setEncoding('base64') on a v0.8 stream, and watch the horror that issues forth","date":"2013-02-12T18:47:49.672Z","type":"message"}
{"nick":"TooTallNate","message":"hahha","date":"2013-02-12T18:48:04.779Z","type":"message"}
{"nick":"TooTallNate","message":"ya :\\","date":"2013-02-12T18:48:06.073Z","type":"message"}
{"nick":"TooTallNate","message":"i vote we just leave that encoding broken on <= v0.8.x","date":"2013-02-12T18:48:36.646Z","type":"message"}
{"nick":"TooTallNate","message":"and simply check for decoder.end before calling it","date":"2013-02-12T18:48:45.420Z","type":"message"}
{"nick":"TooTallNate","message":"i guess that means all the lib/_stream_* code will need to be v0.8.x  compat for a little while for \"readable-stream\" to stay backwards-compatible","date":"2013-02-12T18:49:18.761Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: want me to write a patch for that?","date":"2013-02-12T18:50:12.094Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: https://github.com/TooTallNate/node/commit/fix%2Freadable-v0.8.x","date":"2013-02-12T19:05:36.603Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 272 seconds","date":"2013-02-12T19:05:44.879Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: or we could float patches on readable-stream","date":"2013-02-12T19:08:46.519Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: i'd rather not have back-compat stuff in node-core","date":"2013-02-12T19:08:53.242Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: we have SOMUCH of it already :)","date":"2013-02-12T19:08:58.885Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ya that's the other option - i'm down for either","date":"2013-02-12T19:09:10.060Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: you should add me as committer for readable-stream ;)","date":"2013-02-12T19:09:39.800Z","type":"message"}
{"nick":"TooTallNate","message":"if you want some help with that","date":"2013-02-12T19:09:56.397Z","type":"message"}
{"nick":"TheJH","reason":"*.net *.split","date":"2013-02-12T19:24:54.800Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T19:27:54.631Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-12T19:30:10.431Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|coffee","date":"2013-02-12T19:30:17.955Z","type":"nick"}
{"nick":"TheJH","date":"2013-02-12T19:31:51.326Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: good idea :)","date":"2013-02-12T19:32:24.475Z","type":"message"}
{"nick":"hz","date":"2013-02-12T19:33:10.433Z","type":"join"}
{"nick":"benoitc","date":"2013-02-12T19:33:34.235Z","type":"join"}
{"nick":"trevnorris","message":"we upgrading to 3.16 for v0.11?","date":"2013-02-12T19:33:39.540Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: no, i'm actually not quiting, just brb'ing","date":"2013-02-12T19:34:44.754Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: probably a good idea","date":"2013-02-12T19:39:14.848Z","type":"message"}
{"nick":"`3rdEden","date":"2013-02-12T19:39:47.164Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: added","date":"2013-02-12T19:44:26.416Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: kewwlll","date":"2013-02-12T19:44:34.502Z","type":"message"}
{"nick":"TooTallNate","message":"thanks","date":"2013-02-12T19:44:36.442Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: in retrospect, it probably would have been better named isaacs/streams2 :p","date":"2013-02-12T19:45:07.225Z","type":"message"}
{"nick":"qmx|coffee","new_nick":"qmx","date":"2013-02-12T19:51:04.813Z","type":"nick"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-02-12T19:54:55.229Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-12T19:57:50.630Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: yeah, but at the time, we didn't realize that we'd be updating writable as well.","date":"2013-02-12T20:01:13.748Z","type":"message"}
{"nick":"TooTallNate","message":"that's true","date":"2013-02-12T20:01:28.747Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.8\u000f * \u00026dcadb9\u0002 : blog: Peer Dependencies article  Thanks, @domenic - http://git.io/B3ETsQ","date":"2013-02-12T20:04:24.994Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i'm a little confused about of _needTickDepth(). doing some testing last night, it seemed like there were scenarios where tickDepth never got super deep, but the queue never alleviated enough to allow it to run. is that by design?","date":"2013-02-12T20:05:59.643Z","type":"message"}
{"nick":"benoitc","date":"2013-02-12T20:09:05.210Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: example?","date":"2013-02-12T20:10:56.885Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: running some tests right now, but when they're done i'll post one.","date":"2013-02-12T20:11:28.437Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i mean,of course, you could do while(++i<1e9)process.nextTick(cb)","date":"2013-02-12T20:11:31.629Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-02-12T20:11:41.392Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: and then you'll have a giant-ass list of stuff to churn through at the end of the tick, but it won't ever be deeper than 1","date":"2013-02-12T20:12:00.953Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: iirc it happened during one of the net tests. MakeCallback made 500k calls, but Tick only called out 3 times.","date":"2013-02-12T20:12:15.853Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: interesting","date":"2013-02-12T20:12:41.029Z","type":"message"}
{"nick":"trevnorris","message":"but give me a minute to verify this.","date":"2013-02-12T20:12:48.161Z","type":"message"}
{"nick":"trevnorris","message":"freaking make test takes forever.","date":"2013-02-12T20:12:53.974Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-02-12T20:12:59.025Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we need to trim some fat in there.","date":"2013-02-12T20:13:08.372Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: some of those tests could be much faster.","date":"2013-02-12T20:13:20.871Z","type":"message"}
{"nick":"isaacs","message":"maybe set the test timeout to 1s instead of 30","date":"2013-02-12T20:13:29.006Z","type":"message"}
{"nick":"isaacs","message":"or even 200ms","date":"2013-02-12T20:13:32.383Z","type":"message"}
{"nick":"isaacs","message":"longer than that should be a failure.","date":"2013-02-12T20:13:38.588Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-02-12T20:16:23.896Z","type":"quit"}
{"nick":"trevnorris","message":"sounds good to me.","date":"2013-02-12T20:17:09.806Z","type":"message"}
{"nick":"bradleymeck","date":"2013-02-12T20:17:22.987Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: so just ran counters in fs/read-stream-throughput.js to record calls from Tick and MakeCallback.","date":"2013-02-12T20:17:34.047Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: Tick: 1025; MakeCallback: 1025029","date":"2013-02-12T20:17:52.840Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-02-12T20:18:06.597Z","type":"message"}
{"nick":"isaacs","message":"Tick is nextTick from spinner, or all nextTick calls?","date":"2013-02-12T20:18:18.531Z","type":"message"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-02-12T20:18:20.779Z","type":"quit"}
{"nick":"hz","date":"2013-02-12T20:18:24.420Z","type":"join"}
{"nick":"trevnorris","message":"Tick is _tickCallback from spinner.","date":"2013-02-12T20:18:47.533Z","type":"message"}
{"nick":"isaacs","message":"see","date":"2013-02-12T20:18:51.828Z","type":"message"}
{"nick":"isaacs","message":"i se","date":"2013-02-12T20:18:53.788Z","type":"message"}
{"nick":"isaacs","action":"can't type, whatevs","date":"2013-02-12T20:18:58.784Z","type":"action"}
{"nick":"isaacs","message":"that's kind of odd. we should almost never have a tick callback called from the spinner","date":"2013-02-12T20:19:21.338Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: did you see any warnings printed to stderr about it?","date":"2013-02-12T20:19:30.184Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: eh? Tick calls `process->Get(tick_callback_sym);` currently.","date":"2013-02-12T20:20:16.223Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: this is in your branch where makecallback is returned to c++?","date":"2013-02-12T20:20:40.140Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: nope, on master. and on yours. i've made a couple alterations.","date":"2013-02-12T20:21:24.673Z","type":"message"}
{"nick":"isaacs","message":"wild...","date":"2013-02-12T20:22:54.182Z","type":"message"}
{"nick":"isaacs","message":"so, something's starting the spinner, then","date":"2013-02-12T20:23:10.063Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: an just ran the tcp-raw-pipe.","date":"2013-02-12T20:23:14.161Z","type":"message"}
{"nick":"trevnorris","message":"Tick: 2; MakeCallback: 111802","date":"2013-02-12T20:23:23.084Z","type":"message"}
{"nick":"trevnorris","message":"so the spinner almost never has time to return.","date":"2013-02-12T20:23:35.338Z","type":"message"}
{"nick":"isaacs","message":"ok... so, if for some reason, we call tickDone, but there's still tocks in the queue, we call needTickCallback","date":"2013-02-12T20:24:54.133Z","type":"message"}
{"nick":"isaacs","message":"and then that gets called from the spinner","date":"2013-02-12T20:24:57.754Z","type":"message"}
{"nick":"trevnorris","message":"give me a minute. that's from my changes. let me test against master","date":"2013-02-12T20:24:59.456Z","type":"message"}
{"nick":"isaacs","message":"and at least how i read the code... the only way that would happen would be if a nextTick cb throws","date":"2013-02-12T20:25:59.176Z","type":"message"}
{"nick":"isaacs","message":"or the depth goes > maxTickDepth","date":"2013-02-12T20:26:08.033Z","type":"message"}
{"nick":"isaacs","message":"oh, wait...","date":"2013-02-12T20:27:15.884Z","type":"message"}
{"nick":"isaacs","message":"no, stupid me.","date":"2013-02-12T20:27:18.678Z","type":"message"}
{"nick":"isaacs","message":"in process.nextTick(cb), we do this:       if (nextTickQueue.length) {","date":"2013-02-12T20:27:36.308Z","type":"message"}
{"nick":"isaacs","message":"        process._needTickCallback();","date":"2013-02-12T20:27:36.443Z","type":"message"}
{"nick":"isaacs","message":"      }","date":"2013-02-12T20:27:36.583Z","type":"message"}
{"nick":"isaacs","message":"so any time you have more than one nextTick scheduled, we kick the spinner","date":"2013-02-12T20:27:50.691Z","type":"message"}
{"nick":"isaacs","message":"and as you've pointed out in the past, iirc, that will *always* be true","date":"2013-02-12T20:28:06.584Z","type":"message"}
{"nick":"isaacs","message":"since we just pushed into that array","date":"2013-02-12T20:28:10.075Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ^","date":"2013-02-12T20:28:11.915Z","type":"message"}
{"nick":"trevnorris","message":"yeah. i've got a cleanup for that.","date":"2013-02-12T20:28:18.336Z","type":"message"}
{"nick":"trevnorris","message":"basically a flag that toggles when we've asked the spinner to return, and when it's actually returned.","date":"2013-02-12T20:28:40.139Z","type":"message"}
{"nick":"trevnorris","message":"if the spinner has been asked to return, no sense in asking it again.","date":"2013-02-12T20:28:58.850Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just tested against master: Tick called _makeCallback 2; MakeCallback called _makeCallback 108118","date":"2013-02-12T20:29:47.994Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-12T20:30:05.066Z","type":"message"}
{"nick":"trevnorris","message":"(ran against net/tcp-raw-pipe.js)","date":"2013-02-12T20:30:11.238Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: one sec, i think i've got a patch that'll fix this up...","date":"2013-02-12T20:31:14.694Z","type":"message"}
{"nick":"isaacs","message":"just running tests on it now","date":"2013-02-12T20:31:23.220Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: you setting it to defer to the spinner more often?","date":"2013-02-12T20:31:49.542Z","type":"message"}
{"nick":"isaacs","message":"occasionally, when monkeying around in this area you can make changes that cause node to fail to start up the main script.","date":"2013-02-12T20:31:50.261Z","type":"message"}
{"nick":"isaacs","message":"then tests run REALLY fast","date":"2013-02-12T20:31:53.295Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-02-12T20:32:00.512Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and over 90% of the time MakeCallback calls _makeCallback w/o any fn in queue.","date":"2013-02-12T20:32:20.601Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no, i'm getting rid of that stupid useless check in nextTick to always call _needTickCallback, and instea just calling _needTickCallback once at the end of startup()","date":"2013-02-12T20:32:22.632Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-02-12T20:32:35.247Z","type":"message"}
{"nick":"trevnorris","message":"that would be awesomeness.","date":"2013-02-12T20:32:39.899Z","type":"message"}
{"nick":"isaacs","message":"maybe it should check before calling _tickCallback","date":"2013-02-12T20:32:49.264Z","type":"message"}
{"nick":"isaacs","message":"hm.  broke simple/test-timers-uncaught-exception","date":"2013-02-12T20:33:36.361Z","type":"message"}
{"nick":"trevnorris","message":"heh, the biggest pain about working with the ticker, imho, is you have to run all the tests every time.","date":"2013-02-12T20:34:12.963Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: https://gist.github.com/4773134","date":"2013-02-12T20:34:23.185Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah, for srs","date":"2013-02-12T20:34:30.318Z","type":"message"}
{"nick":"trevnorris","message":"that works?","date":"2013-02-12T20:34:47.107Z","type":"message"}
{"nick":"CoverSlide","reason":"Ping timeout: 240 seconds","date":"2013-02-12T20:35:18.492Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: no, it breaks simple/test-timers-uncaught-exception","date":"2013-02-12T20:35:54.073Z","type":"message"}
{"nick":"isaacs","message":"trying to work out why that is","date":"2013-02-12T20:35:57.399Z","type":"message"}
{"nick":"isaacs","message":"but it's close.","date":"2013-02-12T20:36:01.003Z","type":"message"}
{"nick":"trevnorris","message":"ah, bugger.","date":"2013-02-12T20:36:01.381Z","type":"message"}
{"nick":"isaacs","message":"everything else passes","date":"2013-02-12T20:36:02.886Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: if you can do that, then awesome.","date":"2013-02-12T20:37:16.639Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: how does that affect your measurements?","date":"2013-02-12T20:37:30.962Z","type":"message"}
{"nick":"trevnorris","message":"i've been able to remove it from _makeCallback w/o a problem.","date":"2013-02-12T20:37:32.819Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: remove what from _makeCallback?","date":"2013-02-12T20:38:00.974Z","type":"message"}
{"nick":"isaacs","message":"remove _tickCallback?","date":"2013-02-12T20:38:10.340Z","type":"message"}
{"nick":"isaacs","message":"      process._tickCallback();","date":"2013-02-12T20:38:14.631Z","type":"message"}
{"nick":"isaacs","message":"that? ^","date":"2013-02-12T20:38:18.062Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-02-12T20:38:45.880Z","type":"message"}
{"nick":"trevnorris","message":"it only has to exist in tickDone","date":"2013-02-12T20:38:52.489Z","type":"message"}
{"nick":"trevnorris","message":"well, and your change.","date":"2013-02-12T20:39:16.373Z","type":"message"}
{"nick":"trevnorris","message":"about to test.","date":"2013-02-12T20:39:18.098Z","type":"message"}
{"nick":"isaacs","message":"oh, wtf.","date":"2013-02-12T20:41:10.189Z","type":"message"}
{"nick":"isaacs","message":"it only fails in the python runner","date":"2013-02-12T20:41:14.610Z","type":"message"}
{"nick":"trevnorris","message":"what? how does that work?","date":"2013-02-12T20:41:28.933Z","type":"message"}
{"nick":"isaacs","message":"yeah, wtf.  https://gist.github.com/4773191","date":"2013-02-12T20:42:13.001Z","type":"message"}
{"nick":"isaacs","message":"and the 'exit' event is happening twice.","date":"2013-02-12T20:43:48.817Z","type":"message"}
{"nick":"isaacs","message":"so... that's not right.","date":"2013-02-12T20:43:56.768Z","type":"message"}
{"nick":"trevnorris","message":"wha? that is strange.","date":"2013-02-12T20:43:56.986Z","type":"message"}
{"nick":"isaacs","message":"ohh... weird.  if you throw an error, in an exit event, then you get a second exit event, but only in the python","date":"2013-02-12T20:45:20.438Z","type":"message"}
{"nick":"isaacs","message":"not in a standard node process","date":"2013-02-12T20:45:26.244Z","type":"message"}
{"nick":"trevnorris","message":"uh, what? no idea how that would work.","date":"2013-02-12T20:46:29.467Z","type":"message"}
{"nick":"isaacs","message":"i see it","date":"2013-02-12T20:50:37.082Z","type":"message"}
{"nick":"isaacs","message":"the process._fatalException logic is a little bit... screwey","date":"2013-02-12T20:50:52.095Z","type":"message"}
{"nick":"isaacs","message":"if there's an uncaughtException in the 'exit' event handler, ti's weird.","date":"2013-02-12T20:51:33.834Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T20:53:31.527Z","type":"quit"}
{"nick":"isaacs","message":"found it","date":"2013-02-12T20:53:59.936Z","type":"message"}
{"nick":"isaacs","message":"so, 2 things:","date":"2013-02-12T20:54:05.691Z","type":"message"}
{"nick":"c4milo","date":"2013-02-12T20:54:15.920Z","type":"join"}
{"nick":"isaacs","message":"first, the emit('exit', 1) in process._fatalException needs to check process._exiting to see if it's already in teh middle of emitting that event","date":"2013-02-12T20:54:29.067Z","type":"message"}
{"nick":"isaacs","message":"so we don't get a second 'exit' on errors in the exit handler","date":"2013-02-12T20:54:38.442Z","type":"message"}
{"nick":"isaacs","message":"second: if we remove the _needTickCallback fron process.nextTick, then we need to call process._needTickCallback when the timer swallows throws.","date":"2013-02-12T20:54:59.224Z","type":"message"}
{"nick":"isaacs","message":"because a throw will always end teh current tick completely","date":"2013-02-12T20:55:10.582Z","type":"message"}
{"nick":"isaacs","message":"alternatively.... we could call process._needTickCallback() in process._fatalException, if it was caught.","date":"2013-02-12T20:55:28.392Z","type":"message"}
{"nick":"isaacs","message":"tha'ts actually not such a bad idea...","date":"2013-02-12T20:55:32.242Z","type":"message"}
{"nick":"isaacs","message":"and it's a bit less whackamole-ish","date":"2013-02-12T20:55:39.186Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: already made that change.","date":"2013-02-12T20:57:20.434Z","type":"message"}
{"nick":"trevnorris","message":"was wondering why I didn't get the error you did.","date":"2013-02-12T20:57:27.196Z","type":"message"}
{"nick":"isaacs","message":"ha :D gmta","date":"2013-02-12T20:57:29.692Z","type":"message"}
{"nick":"isaacs","message":"there's very little cost of adding a _needTickCallback there, since we rarely hit it","date":"2013-02-12T20:57:47.489Z","type":"message"}
{"nick":"isaacs","message":"and if it turns out that the queue is empty, oh well, one extra spinner call for a fatal exception.","date":"2013-02-12T20:58:04.046Z","type":"message"}
{"nick":"isaacs","message":"you're probably in the process of shutting down your server anyway","date":"2013-02-12T20:58:12.435Z","type":"message"}
{"nick":"trevnorris","message":"true true. and one extra is a lot better than on every nextTick.","date":"2013-02-12T20:59:19.233Z","type":"message"}
{"nick":"trevnorris","message":"nice placement of that btw. nice to have that check out.","date":"2013-02-12T20:59:30.315Z","type":"message"}
{"nick":"isaacs","message":"here's what i got now           process._needTickCallback();","date":"2013-02-12T21:00:18.062Z","type":"message"}
{"nick":"isaacs","message":"er, https://gist.github.com/4773339","date":"2013-02-12T21:00:22.387Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T21:02:44.542Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: awesome thanks. putting those in now.","date":"2013-02-12T21:03:16.746Z","type":"message"}
{"nick":"c4milo","date":"2013-02-12T21:03:57.157Z","type":"join"}
{"nick":"c4milo","reason":"Read error: Connection reset by peer","date":"2013-02-12T21:04:40.348Z","type":"quit"}
{"nick":"c4milo_","date":"2013-02-12T21:04:42.346Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: why include the call with maxTickWarn?","date":"2013-02-12T21:04:54.015Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-12T21:08:42.711Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: here's a crazy one for ya. as a micro-optimization i'm manually tracking the length of nextTickQueue. if I created a super small external array buffer that tracked queue length, tick depth and tick length i'd be able to skip calling to js land a lot.","date":"2013-02-12T21:10:48.035Z","type":"message"}
{"nick":"isaacs","message":"whoa, neat.","date":"2013-02-12T21:12:06.607Z","type":"message"}
{"nick":"trevnorris","message":"if you don't think that's over the top then i'll implement it.","date":"2013-02-12T21:12:28.787Z","type":"message"}
{"nick":"isaacs","message":"well, if we are calling maxTickWarn, then we're going to end up bailing out.  i guess that'll get covered by tickDone anyway","date":"2013-02-12T21:12:31.382Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: does a call to console.error or console.trace force a bailout?","date":"2013-02-12T21:12:49.605Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: go for it, but make it a separate commit so we cna pull it out if it's bad","date":"2013-02-12T21:12:51.828Z","type":"message"}
{"nick":"trevnorris","message":"will do","date":"2013-02-12T21:12:56.036Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it can trigger a bailout of Writable.write() yeah","date":"2013-02-12T21:13:06.547Z","type":"message"}
{"nick":"isaacs","message":"but meh.","date":"2013-02-12T21:13:08.033Z","type":"message"}
{"nick":"isaacs","message":"that's not really a big deal, outside of a few benchmarks.","date":"2013-02-12T21:13:17.097Z","type":"message"}
{"nick":"c4milo_","reason":"Remote host closed the connection","date":"2013-02-12T21:13:26.202Z","type":"quit"}
{"nick":"isaacs","message":"sorry, when i said \"bailing out\" i didn't mean in the V8 sense, but in the conventional sense.  ie, exiting the loop.","date":"2013-02-12T21:13:46.730Z","type":"message"}
{"nick":"c4milo","date":"2013-02-12T21:13:57.002Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T21:14:08.195Z","type":"quit"}
{"nick":"c4milo","date":"2013-02-12T21:14:15.282Z","type":"join"}
{"nick":"trevnorris","message":"hm? sorry still not following on the maxTickWarn thing. nextTick will still add the callback, right?","date":"2013-02-12T21:14:58.217Z","type":"message"}
{"nick":"isaacs","message":"yeah, but... if you hit the warning, then it means that we're deferring to the spinner.","date":"2013-02-12T21:17:12.090Z","type":"message"}
{"nick":"isaacs","message":"i think that was sort of a \"throw crap at the wall and see what sticks\" line","date":"2013-02-12T21:17:22.787Z","type":"message"}
{"nick":"isaacs","message":"while tracking down why teh timers were busting up[","date":"2013-02-12T21:17:31.390Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: please plagiarize these changes into your \"nextTick analysis and refactor\" perf patch, though :)","date":"2013-02-12T21:17:58.102Z","type":"message"}
{"nick":"isaacs","message":"with my blessings :)","date":"2013-02-12T21:18:02.085Z","type":"message"}
{"nick":"trevnorris","message":"lol, thanks","date":"2013-02-12T21:18:10.369Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: you'll have to help my small brain understand. wrapping the callback in a try finally won't stop the loop from executing.","date":"2013-02-12T21:25:20.719Z","type":"message"}
{"nick":"trevnorris","message":"so that means the queue will always be emptied, as long as tickDepth is < maxTickLength","date":"2013-02-12T21:25:37.798Z","type":"message"}
{"nick":"isaacs","message":"yeah, it will","date":"2013-02-12T21:25:40.297Z","type":"message"}
{"nick":"isaacs","message":"because it'll throw","date":"2013-02-12T21:25:42.742Z","type":"message"}
{"nick":"isaacs","message":"the throw isn't caught","date":"2013-02-12T21:25:45.609Z","type":"message"}
{"nick":"isaacs","message":"so it'll hit the top level","date":"2013-02-12T21:25:47.913Z","type":"message"}
{"nick":"trevnorris","message":"ah... hence using the finally, not catch.","date":"2013-02-12T21:26:09.127Z","type":"message"}
{"nick":"trevnorris","message":"duh...","date":"2013-02-12T21:26:14.214Z","type":"message"}
{"nick":"isaacs","message":"process.on('uncaughtException', console.log); var threw = true; try { throw x; threw = false; } finally { if (threw) console.log('threw') }","date":"2013-02-12T21:26:30.582Z","type":"message"}
{"nick":"isaacs","message":"logs 'threw', then x","date":"2013-02-12T21:26:36.045Z","type":"message"}
{"nick":"isaacs","message":"the reason for this is that we want to not obscure the call site in the output","date":"2013-02-12T21:26:53.244Z","type":"message"}
{"nick":"isaacs","message":"so you see \"myfile.js line 123 mystuff()\"  instead of \"timers.js line 432 throw er\"","date":"2013-02-12T21:27:29.504Z","type":"message"}
{"nick":"isaacs","message":"it's kind of an arcane javascript trick, but well... we're a platform, so we do arcane stuff sometimes :)","date":"2013-02-12T21:28:00.492Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: hey, run this for fun: (function fn() { process.nextTick(fn); fn(); }());","date":"2013-02-12T21:28:24.528Z","type":"message"}
{"nick":"trevnorris","message":"that's good. more you know when something dies, more pain you save.","date":"2013-02-12T21:28:44.074Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-02-12T21:28:48.822Z","type":"message"}
{"nick":"isaacs","message":"exactly","date":"2013-02-12T21:28:50.337Z","type":"message"}
{"nick":"isaacs","message":"ooh... that looks interesting","date":"2013-02-12T21:29:05.611Z","type":"message"}
{"nick":"isaacs","message":"RangeError: Maximum call stack size exceeded at process.nextTick (node.js) at fn (repl:1:26)","date":"2013-02-12T21:29:25.803Z","type":"message"}
{"nick":"trevnorris","message":"the part I thought was funny was showing the error happening at node.js:0","date":"2013-02-12T21:29:49.200Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-12T21:30:49.039Z","type":"message"}
{"nick":"isaacs","message":"RangeErrors are still a bit wonky","date":"2013-02-12T21:30:55.719Z","type":"message"}
{"nick":"isaacs","message":"they just got stacks","date":"2013-02-12T21:30:57.960Z","type":"message"}
{"nick":"isaacs","message":"we can't know more than v8 tells us.","date":"2013-02-12T21:31:07.336Z","type":"message"}
{"nick":"isaacs","message":"> (function fn() { process.nextTick(fn); try { fn() } catch (er) {}; }());","date":"2013-02-12T21:31:08.355Z","type":"message"}
{"nick":"isaacs","message":"undefined","date":"2013-02-12T21:31:08.496Z","type":"message"}
{"nick":"isaacs","message":"> FATAL ERROR: JS Allocation failed - process out of memory","date":"2013-02-12T21:31:09.204Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-12T21:32:05.580Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-12T21:35:04.225Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ugh, i might have to do something like make a domain specific queue, and a normal queue. having them intermingled in the same queue is making it impossible to make that test case pass.","date":"2013-02-12T21:36:17.827Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: won't that fuck up the ordering?","date":"2013-02-12T21:36:53.344Z","type":"message"}
{"nick":"isaacs","message":"d.run(function() { process.nextTick(fn1) }); process.nextTick(fn2);","date":"2013-02-12T21:37:16.618Z","type":"message"}
{"nick":"isaacs","message":"you want to make sure that fn1() before fn2()","date":"2013-02-12T21:37:26.254Z","type":"message"}
{"nick":"isaacs","message":"and vice-versa","date":"2013-02-12T21:37:28.651Z","type":"message"}
{"nick":"isaacs","message":"if these lists get long... iterating over them will be pretty painful, no?","date":"2013-02-12T21:37:37.895Z","type":"message"}
{"nick":"isaacs","message":"i guess you could keep some kind of counter, etc.  but that's a lot of complexity.","date":"2013-02-12T21:37:55.277Z","type":"message"}
{"nick":"isaacs","message":"i'd avoid it","date":"2013-02-12T21:37:58.288Z","type":"message"}
{"nick":"trevnorris","message":"yeah.","date":"2013-02-12T21:38:02.896Z","type":"message"}
{"nick":"trevnorris","message":"ok, so maybe i'll default call w/o domains, but the first nextTick w/ a domain will then throw all calls to the other.","date":"2013-02-12T21:38:44.283Z","type":"message"}
{"nick":"trevnorris","message":"as a way to bitch slap everyone who uses them.","date":"2013-02-12T21:38:57.045Z","type":"message"}
{"nick":"trevnorris","message":"(and so I can get that stupid test to pass)","date":"2013-02-12T21:39:07.018Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: if you have any other ideas, they're very welcome.","date":"2013-02-12T21:41:06.318Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-12T21:41:17.788Z","type":"quit"}
{"nick":"isaacs","message":"ahah","date":"2013-02-12T21:43:09.390Z","type":"message"}
{"nick":"isaacs","message":"why not just a single \"main\" function that calls either the domainey handler or the nondomainy handler?","date":"2013-02-12T21:43:26.080Z","type":"message"}
{"nick":"isaacs","message":"no reason thatall that stuff has to be inline in the loop","date":"2013-02-12T21:43:33.927Z","type":"message"}
{"nick":"isaacs","message":"while (blahblah) { if (tock.domain) domainTock(tock); else nodomainTock(tock); }","date":"2013-02-12T21:44:14.504Z","type":"message"}
{"nick":"isaacs","message":"probably both functions can be inline dthen","date":"2013-02-12T21:44:25.857Z","type":"message"}
{"nick":"isaacs","message":"maybe the root one can't, but meh.  that one will be shorter anyway, and not doing much","date":"2013-02-12T21:44:37.639Z","type":"message"}
{"nick":"trevnorris","message":"the C functions call directly out to the domain/no-domain functions. it's a noticeable perf improvement.","date":"2013-02-12T21:44:44.975Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2013-02-12T21:45:00.209Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2013-02-12T21:45:02.693Z","type":"message"}
{"nick":"isaacs","message":"so the whole list is either domainified or not?","date":"2013-02-12T21:45:24.505Z","type":"message"}
{"nick":"isaacs","message":"i've gotta get some lunch, then another meeting.","date":"2013-02-12T21:46:13.170Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2013-02-12T21:46:23.332Z","type":"message"}
{"nick":"isaacs","message":"(tuesdays are usually pretty much just talking for me)","date":"2013-02-12T21:46:24.593Z","type":"message"}
{"nick":"trevnorris","message":"heh, fun.","date":"2013-02-12T21:46:32.918Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-12T21:46:37.185Z","type":"message"}
{"nick":"isaacs","message":"usually it is good stuff","date":"2013-02-12T21:46:39.851Z","type":"message"}
{"nick":"isaacs","message":"when you force all meetings to be on the same day, you don't get a lot of stupid meetings.","date":"2013-02-12T21:46:47.751Z","type":"message"}
{"nick":"isaacs","message":"just not any room for them :)","date":"2013-02-12T21:46:51.619Z","type":"message"}
{"nick":"trevnorris","message":"that's actually a good idea.","date":"2013-02-12T21:47:02.706Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-12T21:47:09.880Z","type":"quit"}
{"nick":"isaacs","message":"totally stolen from my hero, Merlin Mann","date":"2013-02-12T21:47:14.276Z","type":"message"}
{"nick":"trevnorris","message":"well, i'll have to take that one with me.","date":"2013-02-12T21:47:27.329Z","type":"message"}
{"nick":"isaacs","message":"for sure","date":"2013-02-12T21:47:34.096Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-12T21:57:42.504Z","type":"quit"}
{"nick":"mmalecki","message":"isaacs: not having meetings is ever more fun","date":"2013-02-12T22:01:51.623Z","type":"message"}
{"nick":"wolfeidau","date":"2013-02-12T22:14:51.948Z","type":"join"}
{"nick":"trevnorris","message":"mmalecki: luckily most my meetings can be done from my desk, then only tune in when someone says my name.","date":"2013-02-12T22:17:28.119Z","type":"message"}
{"nick":"rendar","reason":"Quit: w hz","date":"2013-02-12T22:18:15.300Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: so in v0.11 are we just removing maxTickWarn(), or is some of the functionality going to change?","date":"2013-02-12T22:18:53.675Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-12T22:26:23.574Z","type":"nick"}
{"nick":"hz","date":"2013-02-12T22:29:47.732Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: we're removing the spinner","date":"2013-02-12T22:33:47.929Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: really? hm.","date":"2013-02-12T22:34:00.854Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: well, i'm glad i broke it into a separate function in the js side.","date":"2013-02-12T22:34:24.543Z","type":"message"}
{"nick":"trevnorris","message":"now just a highlight and delete.","date":"2013-02-12T22:34:31.423Z","type":"message"}
{"nick":"isaacs","message":"nice :)","date":"2013-02-12T22:34:41.828Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-12T22:44:46.037Z","type":"quit"}
{"nick":"c4milo","date":"2013-02-12T22:50:16.890Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-02-12T23:01:38.509Z","type":"quit"}
{"nick":"dap","date":"2013-02-12T23:02:40.531Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: gnite hotstuffs","date":"2013-02-12T23:06:33.238Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: re: benchmark2 - possibly rename all the name_ to name- (e.g. buffer_read -> buffer-read)","date":"2013-02-12T23:13:15.070Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ok, ticker changes done, and performing well. in some places as much as 10% higher than the makecallback revert made.","date":"2013-02-12T23:27:30.546Z","type":"message"}
{"nick":"trevnorris","message":"just going to do a review to make sure i didn't miss anything stupid.","date":"2013-02-12T23:27:50.924Z","type":"message"}
{"nick":"indexzero","date":"2013-02-12T23:46:28.135Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 252 seconds","date":"2013-02-12T23:48:06.356Z","type":"quit"}

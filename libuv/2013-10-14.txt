{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-10-14T00:00:00.909Z","type":"quit"}
{"nick":"ircretary","date":"2013-10-14T00:00:09.415Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T00:18:00.396Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-14T00:18:30.120Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-14T01:44:04.572Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 246 seconds","date":"2013-10-14T01:46:01.948Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T01:46:02.158Z","type":"nick"}
{"nick":"wwicks_","date":"2013-10-14T02:05:12.732Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 240 seconds","date":"2013-10-14T02:06:14.535Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T02:06:14.753Z","type":"nick"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T02:48:45.374Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-14T02:49:24.159Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2013-10-14T02:54:06.217Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-14T02:57:37.682Z","type":"nick"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-10-14T03:12:19.102Z","type":"quit"}
{"nick":"wwicks_","date":"2013-10-14T03:26:39.347Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 272 seconds","date":"2013-10-14T03:28:57.769Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T03:28:58.425Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-14T03:50:24.345Z","type":"nick"}
{"nick":"EhevuTov","date":"2013-10-14T04:24:38.486Z","type":"join"}
{"nick":"Kakera","date":"2013-10-14T04:34:56.539Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-14T04:42:11.427Z","type":"quit"}
{"nick":"amartens","date":"2013-10-14T04:42:50.868Z","type":"join"}
{"nick":"qmx","reason":"Read error: Connection reset by peer","date":"2013-10-14T04:43:04.124Z","type":"quit"}
{"nick":"qmx","date":"2013-10-14T04:44:29.645Z","type":"join"}
{"nick":"bajtos","date":"2013-10-14T04:49:11.465Z","type":"join"}
{"nick":"qmx","reason":"Remote host closed the connection","date":"2013-10-14T04:53:01.314Z","type":"quit"}
{"nick":"qmx","date":"2013-10-14T04:58:14.798Z","type":"join"}
{"nick":"Kakera","reason":"Ping timeout: 240 seconds","date":"2013-10-14T04:58:48.925Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-14T04:59:42.480Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-14T05:11:45.179Z","type":"join"}
{"nick":"st_luke","date":"2013-10-14T05:27:02.944Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-14T05:42:58.502Z","type":"quit"}
{"nick":"wwicks","reason":"Read error: Connection reset by peer","date":"2013-10-14T06:30:21.734Z","type":"quit"}
{"nick":"wwicks","date":"2013-10-14T06:30:38.759Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #259 \u00037UNSTABLE\u000f windows-ia32 (9/601) windows-x64 (9/601) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/259/","date":"2013-10-14T06:40:49.005Z","type":"message"}
{"nick":"tjfontaine","message":"NET 99280: onread -4095","date":"2013-10-14T06:40:57.960Z","type":"message"}
{"nick":"tjfontaine","message":"NET 99280: EOF","date":"2013-10-14T06:40:58.380Z","type":"message"}
{"nick":"LOUDBOT","message":"IT'S NOT DIFFERENT AT ALL, IS IT STEVE!!!?","date":"2013-10-14T06:40:58.760Z","type":"message"}
{"nick":"tjfontaine","message":"that can't be right","date":"2013-10-14T06:41:01.617Z","type":"message"}
{"nick":"tjfontaine","message":"ahh well that's not the scary part I guess","date":"2013-10-14T06:47:06.278Z","type":"message"}
{"nick":"tjfontaine","message":"readableState has the left over bytes still in .buffer but streams api isn't flushing that data back out","date":"2013-10-14T06:48:05.996Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T06:51:43.920Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 272 seconds","date":"2013-10-14T06:53:31.946Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T06:53:32.563Z","type":"nick"}
{"nick":"wolfeidau","message":"trevnorris: late night hacking? :)","date":"2013-10-14T07:05:48.372Z","type":"message"}
{"nick":"wolfeidau","message":"oops tjfontaine ^","date":"2013-10-14T07:05:55.082Z","type":"message"}
{"nick":"wolfeidau","message":"to many t's in this channel","date":"2013-10-14T07:06:05.253Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-14T07:10:43.337Z","type":"message"}
{"nick":"tjfontaine","message":"finally had motivation and time to do more work on this ssl truncation issue","date":"2013-10-14T07:11:18.098Z","type":"message"}
{"nick":"rendar","date":"2013-10-14T07:11:24.030Z","type":"join"}
{"nick":"tjfontaine","message":"as it turns out we're reading everything through the tls_wrap socket fine and putting it all into js land","date":"2013-10-14T07:11:44.734Z","type":"message"}
{"nick":"tjfontaine","message":"but when the socket is done and destroyed, if there's still some buffer's in readableState.buffer it doesn't flush those out before an unpipe","date":"2013-10-14T07:12:14.389Z","type":"message"}
{"nick":"tjfontaine","message":"I added some more dtrace probes to verify some of these things, I'll probably making sure those go in","date":"2013-10-14T07:12:40.017Z","type":"message"}
{"nick":"tjfontaine","message":"to take it the next mile I will have to learn more about the streams plumbing :)","date":"2013-10-14T07:13:51.232Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: that mite be what i was seeing","date":"2013-10-14T07:36:02.201Z","type":"message"}
{"nick":"wolfeidau","message":"?","date":"2013-10-14T07:36:07.987Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine:      5c87189f7a9     2515       21 ReadableState: highWaterMark, buffer, ...  lots of those hanging around in my tests","date":"2013-10-14T07:38:04.281Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-14T07:44:31.858Z","type":"quit"}
{"nick":"hz","date":"2013-10-14T08:09:12.298Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-14T08:13:07.938Z","type":"join"}
{"nick":"amartens","date":"2013-10-14T08:15:19.242Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 272 seconds","date":"2013-10-14T08:15:29.926Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T08:15:30.178Z","type":"nick"}
{"nick":"amartens","reason":"Ping timeout: 245 seconds","date":"2013-10-14T08:21:51.332Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T08:44:02.716Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-14T08:44:33.369Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 245 seconds","date":"2013-10-14T08:48:56.150Z","type":"quit"}
{"nick":"wwicks_","date":"2013-10-14T08:54:08.697Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 246 seconds","date":"2013-10-14T08:56:11.022Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T08:56:11.241Z","type":"nick"}
{"nick":"wwicks","reason":"Ping timeout: 245 seconds","date":"2013-10-14T09:16:16.669Z","type":"quit"}
{"nick":"amartens","date":"2013-10-14T09:19:56.805Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 248 seconds","date":"2013-10-14T09:28:27.739Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u000245885a1\u0002 : cluster: fix premature 'disconnect' event (+1 more commits) - http://git.io/qpA8rQ","date":"2013-10-14T09:47:17.754Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #611 \u00037UNSTABLE\u000f smartos-ia32 (5/645) smartos-x64 (9/645) http://jenkins.nodejs.org/job/nodejs-master/611/","date":"2013-10-14T09:59:41.971Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #405 \u00037UNSTABLE\u000f windows-x64 (20/645) windows-ia32 (21/645) http://jenkins.nodejs.org/job/nodejs-master-windows/405/","date":"2013-10-14T10:06:35.190Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-10-14T10:08:15.381Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-14T10:13:08.800Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-14T10:14:17.912Z","type":"join"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-10-14T10:14:25.781Z","type":"quit"}
{"nick":"bnoordhuis","message":"hrm, ssh://github.com down again?","date":"2013-10-14T10:15:52.807Z","type":"message"}
{"nick":"bnoordhuis","message":"and back up again","date":"2013-10-14T10:16:12.365Z","type":"message"}
{"nick":"bnoordhuis","message":"painfully slow though","date":"2013-10-14T10:16:30.495Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u000256c5806\u0002 : doc: document os.loadavg() behavior on windows - http://git.io/r3OCeQ","date":"2013-10-14T10:16:53.295Z","type":"message"}
{"nick":"amartens","date":"2013-10-14T10:24:37.348Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 256 seconds","date":"2013-10-14T10:29:08.265Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-10-14T10:43:13.889Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1533 \u00037UNSTABLE\u000f smartos-x64 (4/601) smartos-ia32 (4/601) http://jenkins.nodejs.org/job/nodejs-v0.10/1533/","date":"2013-10-14T10:47:55.766Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ping","date":"2013-10-14T10:57:46.820Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: pong","date":"2013-10-14T10:57:52.724Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i was thinking about uv_read_t. you and isaac were discussing that the other day, right?","date":"2013-10-14T10:58:25.111Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: http://www.youtube.com/watch?v=dqD1OohY2to","date":"2013-10-14T10:58:26.419Z","type":"message"}
{"nick":"bnoordhuis","message":"more kabouter wesley?","date":"2013-10-14T10:58:33.410Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: another way of saying pong","date":"2013-10-14T10:58:54.485Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, another attempt at humour?","date":"2013-10-14T10:59:21.190Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: Sort of. I think uv_read with a callback would be better design than uv_read_start yeah","date":"2013-10-14T10:59:28.247Z","type":"message"}
{"nick":"bnoordhuis","message":"i usually leave that to the professionals","date":"2013-10-14T10:59:29.194Z","type":"message"}
{"nick":"bnoordhuis","message":"right, i was thinking the same thing. is there a reason we never implemented that?","date":"2013-10-14T10:59:49.185Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no time, no priority","date":"2013-10-14T11:00:01.943Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. but there is no fundamental IOCP shortcoming that makes that impossible?","date":"2013-10-14T11:00:20.859Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: no","date":"2013-10-14T11:00:27.241Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good. maybe i'll have a go at it","date":"2013-10-14T11:00:40.758Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: (but the alloc cb complicates things)","date":"2013-10-14T11:00:41.004Z","type":"message"}
{"nick":"bnoordhuis","message":"you'd pass the buffer to uv_read() right?","date":"2013-10-14T11:00:56.192Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well that is kind of sucky","date":"2013-10-14T11:01:03.225Z","type":"message"}
{"nick":"bnoordhuis","message":"why?","date":"2013-10-14T11:01:09.328Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think we'd want to keep the alloc cb","date":"2013-10-14T11:01:11.165Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if you have 100k connections open and they all have a read pending","date":"2013-10-14T11:01:20.987Z","type":"message"}
{"nick":"piscisaureus_","message":"that will use 100k*64k memory","date":"2013-10-14T11:01:31.147Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2013-10-14T11:01:39.791Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's already kind of how it works with iocp right?","date":"2013-10-14T11:01:51.354Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: upfront allocation needs to be avoided as much as possible","date":"2013-10-14T11:01:53.051Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: hi, does libuv \"reuse\" OVERLAPPED packets for each read/write? i mean, after calling read_cb it can reuse the same OVERLAPPED instead of destroying it and allocating a new one","date":"2013-10-14T11:01:54.936Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: not most of the time.","date":"2013-10-14T11:02:13.742Z","type":"message"}
{"nick":"bnoordhuis","message":"oh? it doesn't actually do IOCP most of the time, or ...?","date":"2013-10-14T11:02:34.296Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: usually the read is a 0-byte read and when it completes we do a nonblocking read to get the actual data out","date":"2013-10-14T11:02:42.443Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: there is also a mode where it allocates upfront, but it is currently disabled","date":"2013-10-14T11:03:01.795Z","type":"message"}
{"nick":"bnoordhuis","message":"right. i've seen that in there somewhere","date":"2013-10-14T11:03:15.208Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because the performance gains were barely significant and it didn't play well with the slab allocator","date":"2013-10-14T11:03:30.439Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but pipes and tty do allocate early","date":"2013-10-14T11:03:48.513Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: (well, pipes do sometimes)","date":"2013-10-14T11:03:56.698Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: because they read in a thread pool","date":"2013-10-14T11:04:02.960Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. so you'd get something like uv_read(uv_read_t*, uv_stream_t*, uv_alloc_cb, uv_read_cb)","date":"2013-10-14T11:04:16.859Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes","date":"2013-10-14T11:04:23.966Z","type":"message"}
{"nick":"bnoordhuis","message":"and because we like feature parity, you'd also get something like uv_listen(uv_listen_t*, uv_stream_t*, uv_preaccept_cb, uv_accept_cb)","date":"2013-10-14T11:05:18.723Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: preaccept_cb?","date":"2013-10-14T11:05:30.110Z","type":"message"}
{"nick":"bnoordhuis","message":"to alloc the new handle","date":"2013-10-14T11:05:38.166Z","type":"message"}
{"nick":"piscisaureus_","message":"oh right yeah","date":"2013-10-14T11:05:44.352Z","type":"message"}
{"nick":"bnoordhuis","message":"could also call it uv_new_handle_cb","date":"2013-10-14T11:05:45.311Z","type":"message"}
{"nick":"bnoordhuis","message":"and then everything is request driven and balance will have been restored to the force","date":"2013-10-14T11:06:01.570Z","type":"message"}
{"nick":"bnoordhuis","message":"i like it","date":"2013-10-14T11:06:04.703Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes, although maybe we should call it uv_accept with a callbacl","date":"2013-10-14T11:06:28.216Z","type":"message"}
{"nick":"bnoordhuis","message":"well okay, works for me too","date":"2013-10-14T11:06:45.249Z","type":"message"}
{"nick":"piscisaureus_","message":"and uv_listen just makes the socket listening","date":"2013-10-14T11:06:48.234Z","type":"message"}
{"nick":"mmalecki","message":"I love uv_preaccept_cb idea. could it be used to reject connections?","date":"2013-10-14T11:06:53.166Z","type":"message"}
{"nick":"bnoordhuis","message":"what if there is no listen request in the queue?","date":"2013-10-14T11:06:59.799Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I have not much time to do it though...","date":"2013-10-14T11:07:04.991Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: yeah, that was my thiking","date":"2013-10-14T11:07:07.046Z","type":"message"}
{"nick":"rendar","message":"mmalecki: yes","date":"2013-10-14T11:07:08.665Z","type":"message"}
{"nick":"bnoordhuis","message":"*thinking","date":"2013-10-14T11:07:08.881Z","type":"message"}
{"nick":"mmalecki","message":"love it","date":"2013-10-14T11:07:10.231Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: it does reuse in case of read_t yes","date":"2013-10-14T11:07:30.300Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: what about write?","date":"2013-10-14T11:07:40.654Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: bnoordhuis if neither of you have time to do this, I might take a stab","date":"2013-10-14T11:07:52.417Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: the OVERLAPPED is embedded int the uv_write_t. If you reuse the uv_write_t the OVERLAPPED inside it gets reused.","date":"2013-10-14T11:08:13.871Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: oh, i see","date":"2013-10-14T11:08:41.497Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: i probably have time to work on it. you can do the windows side of things though :)","date":"2013-10-14T11:08:52.905Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: I prefer leaving Windows work to professionals ;)","date":"2013-10-14T11:09:21.657Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that's the thing - everyone wants to do cool unix stuff, no one wants to write boring windows code","date":"2013-10-14T11:09:47.909Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: so uv_write_t is allocated on heap, and is a kind of an \"handle\" of the read/write current streaming of the uv_stream_t ?","date":"2013-10-14T11:09:52.015Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't blame anyone, least of all me, but it is an issue","date":"2013-10-14T11:09:59.709Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, lunch - biab","date":"2013-10-14T11:10:12.350Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: uv_read_t doesn't exist so far except internally","date":"2013-10-14T11:11:31.398Z","type":"message"}
{"nick":"rendar","message":"piscisaureus_: oh, i see, and uv_write_t exist also externally","date":"2013-10-14T11:11:46.476Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: uv_write_t is a handle to a \"write op\" in the background yes","date":"2013-10-14T11:11:49.063Z","type":"message"}
{"nick":"rendar","message":"got it","date":"2013-10-14T11:11:57.471Z","type":"message"}
{"nick":"piscisaureus_","message":"rendar: and uv_write_t is allocated wherever you allocate it, which would typically be on the heap indeed","date":"2013-10-14T11:12:08.687Z","type":"message"}
{"nick":"rendar","message":"yeah, you allocate it whenever you want to start a write stream","date":"2013-10-14T11:12:30.595Z","type":"message"}
{"nick":"rendar","message":"but why uv_read_t doesn't exist externally like uv_write_t ?","date":"2013-10-14T11:12:42.846Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 265 seconds","date":"2013-10-14T11:15:00.912Z","type":"quit"}
{"nick":"amartens","date":"2013-10-14T11:24:56.825Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 248 seconds","date":"2013-10-14T11:29:31.739Z","type":"quit"}
{"nick":"stagas","date":"2013-10-14T11:35:36.062Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-10-14T12:14:06.849Z","type":"join"}
{"nick":"amartens","date":"2013-10-14T12:25:23.846Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 272 seconds","date":"2013-10-14T12:30:05.825Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-10-14T12:42:56.596Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-10-14T13:00:26.945Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-10-14T13:09:51.543Z","type":"quit"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-10-14T13:09:58.640Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-10-14T13:10:31.421Z","type":"join"}
{"nick":"mikeal1","date":"2013-10-14T13:10:53.011Z","type":"join"}
{"nick":"mikeal","reason":"Write error: Connection reset by peer","date":"2013-10-14T13:12:25.392Z","type":"quit"}
{"nick":"kevinswiber","reason":"Ping timeout: 252 seconds","date":"2013-10-14T13:15:03.140Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-14T13:20:58.816Z","type":"join"}
{"nick":"amartens","date":"2013-10-14T13:26:06.167Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 252 seconds","date":"2013-10-14T13:30:27.157Z","type":"quit"}
{"nick":"Kakera","date":"2013-10-14T13:45:01.689Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-10-14T14:09:01.261Z","type":"join"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2013-10-14T14:13:59.168Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-14T14:14:31.469Z","type":"join"}
{"nick":"inolen","date":"2013-10-14T14:20:10.635Z","type":"join"}
{"nick":"amartens","date":"2013-10-14T14:26:26.188Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 245 seconds","date":"2013-10-14T14:30:50.123Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 268 seconds","date":"2013-10-14T14:33:59.128Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-14T14:38:14.751Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-14T14:42:48.233Z","type":"nick"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T14:51:55.511Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-10-14T14:52:23.288Z","type":"join"}
{"nick":"indexzero","date":"2013-10-14T14:55:26.497Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 268 seconds","date":"2013-10-14T14:57:25.107Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-14T14:59:09.366Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 256 seconds","date":"2013-10-14T15:03:24.363Z","type":"quit"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-10-14T15:16:07.777Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #612 \u00037UNSTABLE\u000f osx-x64 (1/645) smartos-ia32 (6/645) smartos-x64 (7/645) osx-ia32 (1/645) http://jenkins.nodejs.org/job/nodejs-master/612/","date":"2013-10-14T15:19:22.240Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-10-14T15:21:54.366Z","type":"join"}
{"nick":"mikeal","date":"2013-10-14T15:22:24.596Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-10-14T15:25:23.964Z","type":"join"}
{"nick":"amartens","date":"2013-10-14T15:26:46.258Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 256 seconds","date":"2013-10-14T15:31:10.273Z","type":"quit"}
{"nick":"wwicks","date":"2013-10-14T15:34:42.389Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-14T15:43:20.074Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 256 seconds","date":"2013-10-14T15:45:20.336Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T15:45:20.547Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-10-14T15:51:37.066Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-14T15:55:24.934Z","type":"quit"}
{"nick":"dap","date":"2013-10-14T16:01:12.582Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-14T16:04:22.902Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-14T16:05:14.561Z","type":"join"}
{"nick":"c4milo","date":"2013-10-14T16:05:26.951Z","type":"join"}
{"nick":"mcavage","date":"2013-10-14T16:05:37.081Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 268 seconds","date":"2013-10-14T16:05:52.124Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T16:05:52.678Z","type":"nick"}
{"nick":"kevinswiber","date":"2013-10-14T16:06:42.871Z","type":"join"}
{"nick":"indexzero","date":"2013-10-14T16:10:55.090Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-10-14T16:12:48.207Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-14T16:18:56.569Z","type":"quit"}
{"nick":"bajtos","date":"2013-10-14T16:21:00.561Z","type":"join"}
{"nick":"wwicks_","date":"2013-10-14T16:24:14.483Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-10-14T16:24:17.985Z","type":"quit"}
{"nick":"wwicks","reason":"Ping timeout: 260 seconds","date":"2013-10-14T16:26:43.896Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T16:26:44.225Z","type":"nick"}
{"nick":"amartens","date":"2013-10-14T16:27:05.938Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T16:28:57.286Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-10-14T16:29:54.544Z","type":"join"}
{"nick":"AvianFlu","date":"2013-10-14T16:31:42.405Z","type":"join"}
{"nick":"TooTallNate","message":"anyone have any ideas what would cause node to show as \"(Not Responding)\" in osx's Activity Monitor?","date":"2013-10-14T16:31:44.747Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 260 seconds","date":"2013-10-14T16:31:51.971Z","type":"quit"}
{"nick":"TooTallNate","message":"the process is actually running fine...","date":"2013-10-14T16:31:53.471Z","type":"message"}
{"nick":"TooTallNate","message":"and responding to requests","date":"2013-10-14T16:31:56.848Z","type":"message"}
{"nick":"indexzero_","date":"2013-10-14T16:33:45.895Z","type":"join"}
{"nick":"indexzero_","reason":"Client Quit","date":"2013-10-14T16:33:45.895Z","type":"quit"}
{"nick":"indexzero","reason":"Ping timeout: 246 seconds","date":"2013-10-14T16:37:08.356Z","type":"quit"}
{"nick":"tjfontaine","message":"TooTallNate: I've been noticing that for cloudup on 10.9 as well, but also chrome's pepper flash plugin -- I will sample the process and see where dtrace says it is","date":"2013-10-14T16:38:30.849Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i'd appreciate that :)","date":"2013-10-14T16:38:45.059Z","type":"message"}
{"nick":"tjfontaine","message":"did you know you can invoke dtrace from the activity monitor?","date":"2013-10-14T16:38:56.623Z","type":"message"}
{"nick":"TooTallNate","message":"the \"Sample Process\" thinggy?","date":"2013-10-14T16:39:16.244Z","type":"message"}
{"nick":"tjfontaine","message":"aye","date":"2013-10-14T16:39:18.979Z","type":"message"}
{"nick":"Kakera","reason":"Read error: Connection reset by peer","date":"2013-10-14T16:39:25.856Z","type":"quit"}
{"nick":"tjfontaine","message":"https://gist.github.com/tjfontaine/89c8e61d1260cf6d430e","date":"2013-10-14T16:39:55.546Z","type":"message"}
{"nick":"tjfontaine","message":"is where the process is atm","date":"2013-10-14T16:39:59.644Z","type":"message"}
{"nick":"tjfontaine","message":"all things look pretty sane","date":"2013-10-14T16:40:20.939Z","type":"message"}
{"nick":"julianduque","reason":"Read error: Connection reset by peer","date":"2013-10-14T16:40:38.706Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: i'm thinking it's maybe a signal handler being overwritten by the process that maybe trips up Activity Monitor?","date":"2013-10-14T16:41:24.481Z","type":"message"}
{"nick":"TooTallNate","message":"not really sure how it determines the Not Responding status in the first place though...","date":"2013-10-14T16:41:38.070Z","type":"message"}
{"nick":"tjfontaine","message":"it's certainly possible, as most node processes don't show up this way, so it's not something node itself is doing","date":"2013-10-14T16:41:51.489Z","type":"message"}
{"nick":"tjfontaine","message":"let me do some googling to see","date":"2013-10-14T16:42:01.411Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T16:44:45.200Z","type":"join"}
{"nick":"Kakera","date":"2013-10-14T16:45:20.787Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 265 seconds","date":"2013-10-14T16:47:04.240Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T16:47:05.120Z","type":"nick"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-14T16:47:20.459Z","type":"quit"}
{"nick":"kenperkins","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2013-10-14T16:51:09.650Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-10-14T16:51:12.154Z","type":"quit"}
{"nick":"kenperkins","date":"2013-10-14T16:51:43.124Z","type":"join"}
{"nick":"Benvie","date":"2013-10-14T16:52:11.675Z","type":"quit"}
{"nick":"kenperkins","reason":"Client Quit","date":"2013-10-14T16:53:13.085Z","type":"quit"}
{"nick":"luk","date":"2013-10-14T16:56:19.757Z","type":"join"}
{"nick":"kenperkins","date":"2013-10-14T17:00:11.060Z","type":"join"}
{"nick":"luk","reason":"Remote host closed the connection","date":"2013-10-14T17:01:45.224Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T17:02:20.505Z","type":"join"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-14T17:02:28.936Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T17:02:38.336Z","type":"join"}
{"nick":"Benvie","date":"2013-10-14T17:04:51.455Z","type":"join"}
{"nick":"trevnorris","message":"wolfeidau: heh, sort of. fell asleep while writing emails and stuff. woke up several hours later and finished up. :)","date":"2013-10-14T17:10:34.872Z","type":"message"}
{"nick":"brson","date":"2013-10-14T17:10:49.894Z","type":"join"}
{"nick":"trevnorris","message":"morning all","date":"2013-10-14T17:13:45.921Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: how things going?","date":"2013-10-14T17:13:49.778Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: would be interesting if you just put a spurious wakeup that does some cpu time, the common thing between cloudup node and pepper is: __psynch_cvwait and semaphore_wait_trap (in my estimation)","date":"2013-10-14T17:14:03.974Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: like a setInterval() kinda thing?","date":"2013-10-14T17:14:32.641Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: so they're properly waiting for things, but I bet it's worried that because it's not seeing any wakeups and a lot of waits that it thinks the process is \"deadlocked\"","date":"2013-10-14T17:14:45.215Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: ya, that's where I would start I think -- though that defeats the energy feature","date":"2013-10-14T17:15:00.892Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: same old really","date":"2013-10-14T17:15:18.847Z","type":"message"}
{"nick":"bradleymeck","date":"2013-10-14T17:15:19.401Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: gmorning to you sir as well","date":"2013-10-14T17:15:26.829Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: good to hear. getting much sleep these days?","date":"2013-10-14T17:15:42.523Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i can't complain. my SO otoh...","date":"2013-10-14T17:16:01.589Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah. I remember that.","date":"2013-10-14T17:16:20.694Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: mind if i hit you up with some async-listener questions?","date":"2013-10-14T17:22:57.280Z","type":"message"}
{"nick":"dap","date":"2013-10-14T17:23:06.088Z","type":"join"}
{"nick":"trevnorris","message":"groundwater_: go for it :)","date":"2013-10-14T17:23:17.461Z","type":"message"}
{"nick":"groundwater_","message":"what do you think of this?","date":"2013-10-14T17:23:38.403Z","type":"message"}
{"nick":"groundwater_","message":"https://github.com/othiym23/async-listener/pull/5","date":"2013-10-14T17:23:38.951Z","type":"message"}
{"nick":"groundwater_","message":"also, the last comment here https://github.com/othiym23/async-listener/issues/6#issuecomment-26270345","date":"2013-10-14T17:24:07.769Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: That was part of the original specification, but unfortunately it's impossible.","date":"2013-10-14T17:24:59.739Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: see, callbacks can be set while the async request is in flight","date":"2013-10-14T17:25:17.674Z","type":"message"}
{"nick":"trevnorris","message":"so it's never definitive what will be called once the operation is complete.","date":"2013-10-14T17:25:33.005Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: I have a theory, I am going to test it","date":"2013-10-14T17:26:16.224Z","type":"message"}
{"nick":"TooTallNate","message":":D","date":"2013-10-14T17:26:32.415Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: ahh, do you want to quickly note that on the issue? ","date":"2013-10-14T17:26:40.900Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: in the process :)","date":"2013-10-14T17:26:49.702Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: thanks!","date":"2013-10-14T17:26:59.131Z","type":"message"}
{"nick":"trevnorris","message":"np, let me know if you have any other questions","date":"2013-10-14T17:27:08.842Z","type":"message"}
{"nick":"groundwater_","message":"what do you think of my second link?","date":"2013-10-14T17:27:22.361Z","type":"message"}
{"nick":"amartens","date":"2013-10-14T17:27:25.188Z","type":"join"}
{"nick":"tjfontaine","message":"TooTallNate: bugger, quick test didn't work, but OOC is this particular process using fs.watch or fs.watchFile?","date":"2013-10-14T17:28:04.945Z","type":"message"}
{"nick":"mikeal","date":"2013-10-14T17:28:58.036Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: nope","date":"2013-10-14T17:28:59.454Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: as for error handling, each listener is unaware of whether the error has been handled by another listener. and regardless of whether one handles the error, all error callbacks will fire.","date":"2013-10-14T17:29:27.131Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: ok well alright then, random theory pulled out of my ass is bunk, what types of things does it do? I wonder how quickly from start of process does it transition into this state","date":"2013-10-14T17:30:10.643Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: so, does every listener have to \"handle\" the error in order to avoid crashing?","date":"2013-10-14T17:30:13.871Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: no, only one.","date":"2013-10-14T17:30:20.390Z","type":"message"}
{"nick":"groundwater_","message":"ahh okay, this is different behaviour than the polyfill, is there a test for this?","date":"2013-10-14T17:30:40.886Z","type":"message"}
{"nick":"groundwater_","message":"if not, i can put one together","date":"2013-10-14T17:30:49.385Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 272 seconds","date":"2013-10-14T17:32:17.187Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: that's a good thing to look out for... and overall it's basically an app server. it does some HTTP inbound + outbound traffic, spawns an HTTP and HTTPS server","date":"2013-10-14T17:32:33.755Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: no I don't have a multi listener error check. that would probably be easy to create from the existing error check test: http://git.io/Yn3-jw","date":"2013-10-14T17:33:10.764Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: hmm ok","date":"2013-10-14T17:33:25.472Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: sure thing, i just want to make sure the polyfill behaves the same as your impl.","date":"2013-10-14T17:33:41.472Z","type":"message"}
{"nick":"groundwater_","message":"thanks!","date":"2013-10-14T17:33:46.627Z","type":"message"}
{"nick":"trevnorris","message":"np :)","date":"2013-10-14T17:33:51.825Z","type":"message"}
{"nick":"wwicks","reason":"Read error: Connection reset by peer","date":"2013-10-14T17:46:08.641Z","type":"quit"}
{"nick":"wwicks","date":"2013-10-14T17:46:26.185Z","type":"join"}
{"nick":"groundwater_","message":"trevnorris: actually looks like othiym23 fixed it in master already","date":"2013-10-14T17:49:28.182Z","type":"message"}
{"nick":"othiym23","message":"groundwater_: yeah, the polyfill should behave almost exactly the same as core, down to the different behaviors for when there's a throw in an error handler or another async callback","date":"2013-10-14T17:50:13.125Z","type":"message"}
{"nick":"othiym23","message":"mostly becuase I yoinked it straight out of trevnorris's patch","date":"2013-10-14T17:50:22.437Z","type":"message"}
{"nick":"othiym23","message":"that said, we could use less simpleminded tests around the error-handling","date":"2013-10-14T17:50:54.028Z","type":"message"}
{"nick":"othiym23","message":"the fact that the tests from trevnorris's were passing this whole time even though the polyfill was busted ;)","date":"2013-10-14T17:53:02.473Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #284 \u00037UNSTABLE\u000f windows (3/196) smartos (2/195) http://jenkins.nodejs.org/job/libuv-master/284/","date":"2013-10-14T17:53:37.260Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: yeah. I'm in the process of writing up docs and filling in the unit test gaps. on the later, anything you guys have to contribute is great. :)","date":"2013-10-14T17:56:50.936Z","type":"message"}
{"nick":"mmalecki","message":"trevnorris: congrats :-)","date":"2013-10-14T17:58:33.501Z","type":"message"}
{"nick":"trevnorris","message":"mmalecki: thanks :)","date":"2013-10-14T17:58:44.131Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-14T18:02:29.331Z","type":"nick"}
{"nick":"piscisaureus_","reason":"Ping timeout: 264 seconds","date":"2013-10-14T18:03:14.769Z","type":"quit"}
{"nick":"wwicks_","date":"2013-10-14T18:06:43.985Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 245 seconds","date":"2013-10-14T18:08:45.149Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T18:08:45.603Z","type":"nick"}
{"nick":"Kakera","reason":"Read error: Connection reset by peer","date":"2013-10-14T18:09:15.157Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #269 \u00037UNSTABLE\u000f smartos-x64 (8/645) smartos-ia32 (5/645) http://jenkins.nodejs.org/job/libuv-node-integration/269/","date":"2013-10-14T18:10:36.590Z","type":"message"}
{"nick":"othiym23","message":"so #6011 is going to land in 0.12?","date":"2013-10-14T18:26:09.305Z","type":"message"}
{"nick":"othiym23","message":"awesome!","date":"2013-10-14T18:26:12.953Z","type":"message"}
{"nick":"groundwater_","message":"\\o/","date":"2013-10-14T18:26:26.481Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-14T18:27:06.805Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-14T18:27:39.494Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2013-10-14T18:32:27.254Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: so, i've got to figure out what v8 is doing internally w/ their ArrayBuffer","date":"2013-10-14T18:37:55.933Z","type":"message"}
{"nick":"trevnorris","message":"they can create really small ArrayBuffers (e.g. < 128 bytes) faster than we can create sliced Buffers.","date":"2013-10-14T18:37:56.150Z","type":"message"}
{"nick":"trevnorris","message":"after around 1/2 KB we kick it to crap, but before that I can't figure out what's going on","date":"2013-10-14T18:38:21.891Z","type":"message"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-10-14T18:42:02.655Z","type":"quit"}
{"nick":"bnoordhuis","message":"oh? interesting","date":"2013-10-14T18:50:25.866Z","type":"message"}
{"nick":"tjfontaine","message":"don't they have some concept of a block allocator already? seems like that's what they could be leveraging there","date":"2013-10-14T18:51:18.789Z","type":"message"}
{"nick":"tjfontaine","message":"not just in terms of the memory, but as far as object initialization","date":"2013-10-14T18:51:53.374Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #406 \u00037UNSTABLE\u000f windows-x64 (20/645) windows-ia32 (22/645) http://jenkins.nodejs.org/job/nodejs-master-windows/406/","date":"2013-10-14T18:52:15.506Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-14T18:52:51.207Z","type":"quit"}
{"nick":"bnoordhuis","message":"hm, i don't know - it's just calling our custom allocator","date":"2013-10-14T18:56:01.276Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T18:57:20.106Z","type":"quit"}
{"nick":"trevnorris","message":"don't know a better way than to just trace through the code.","date":"2013-10-14T18:57:26.019Z","type":"message"}
{"nick":"amartens","date":"2013-10-14T18:57:50.173Z","type":"join"}
{"nick":"AvianFlu","date":"2013-10-14T18:58:15.033Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: i'm hoping it'll be easy to see, but you think it could be an indirect effect of the gc or some such?","date":"2013-10-14T18:58:35.316Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-14T18:58:37.804Z","type":"nick"}
{"nick":"bnoordhuis","message":"trevnorris: i'm guessing that new char[n] where n < 128 is coming from a fast malloc arena","date":"2013-10-14T18:59:37.250Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: on what os are you testing?","date":"2013-10-14T18:59:48.585Z","type":"message"}
{"nick":"EhevuTov","date":"2013-10-14T18:59:49.962Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: linux","date":"2013-10-14T19:00:13.062Z","type":"message"}
{"nick":"bnoordhuis","message":"with glibc, i presume?","date":"2013-10-14T19:00:27.958Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-10-14T19:00:31.512Z","type":"message"}
{"nick":"bnoordhuis","message":"right. small allocations come from a thread-local arena","date":"2013-10-14T19:00:49.813Z","type":"message"}
{"nick":"tjfontaine","message":"but if it's faster than a slice then our only allocs happening are js objects","date":"2013-10-14T19:00:53.703Z","type":"message"}
{"nick":"bnoordhuis","message":"easy to verify right? just set a tracepoint on malloc() with perf","date":"2013-10-14T19:01:19.908Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2013-10-14T19:01:43.573Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 268 seconds","date":"2013-10-14T19:02:51.071Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: what I don't understand is how pre-allocating the memory on an array buffer, for > 1KB is still significantly slower. here's my test git.io/l8gHuw ","date":"2013-10-14T19:03:22.453Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T19:09:06.578Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 246 seconds","date":"2013-10-14T19:10:04.956Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T19:10:05.167Z","type":"nick"}
{"nick":"bnoordhuis","message":"trevnorris: i'm not sure what you mean by preallocating","date":"2013-10-14T19:14:36.671Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so, ArrayBuffer has to zero fill. but i'm malloc'ing beforehand and telling ArrayBuffer to use that memory.","date":"2013-10-14T19:15:10.896Z","type":"message"}
{"nick":"trevnorris","message":"so it doesn't have to be zero filled.","date":"2013-10-14T19:15:17.198Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-14T19:16:19.469Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-10-14T19:17:23.345Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: also, perf list doesn't show any tracepoint events. must not have something installed.","date":"2013-10-14T19:18:18.776Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: wait, let me look up an article that explains it","date":"2013-10-14T19:21:32.139Z","type":"message"}
{"nick":"trevnorris","message":"ok","date":"2013-10-14T19:21:45.885Z","type":"message"}
{"nick":"bnoordhuis","message":"eh, i guess `perf probe --help` is okay","date":"2013-10-14T19:22:07.963Z","type":"message"}
{"nick":"bnoordhuis","message":"none of the articles / blog posts i find with a quick search are much better","date":"2013-10-14T19:22:39.838Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T19:29:14.925Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 240 seconds","date":"2013-10-14T19:30:14.580Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T19:30:15.065Z","type":"nick"}
{"nick":"amartens","date":"2013-10-14T19:30:31.728Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: eh, whatever. says -e probe_libc isn't supported.","date":"2013-10-14T19:31:24.388Z","type":"message"}
{"nick":"nrajlich","date":"2013-10-14T19:32:45.129Z","type":"join"}
{"nick":"TooTallNate","reason":"Read error: Connection reset by peer","date":"2013-10-14T19:32:50.508Z","type":"quit"}
{"nick":"ecr","date":"2013-10-14T19:34:09.083Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: old kernel/perf? i think you need linux 3.7 or 3.8 for that","date":"2013-10-14T19:34:51.028Z","type":"message"}
{"nick":"trevnorris","message":"ah, that must be it. have 3.5","date":"2013-10-14T19:35:21.527Z","type":"message"}
{"nick":"trevnorris","message":"usually skip the kernel upgrade because it jacks my video card drivers. :P","date":"2013-10-14T19:35:47.681Z","type":"message"}
{"nick":"trevnorris","message":"i'll just dtrace it","date":"2013-10-14T19:36:27.213Z","type":"message"}
{"nick":"c4milo","date":"2013-10-14T19:36:30.488Z","type":"join"}
{"nick":"trevnorris","message":"or something else.","date":"2013-10-14T19:36:39.882Z","type":"message"}
{"nick":"indexzero","date":"2013-10-14T19:39:47.398Z","type":"join"}
{"nick":"st_luke","date":"2013-10-14T19:40:09.628Z","type":"join"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2013-10-14T19:40:57.074Z","type":"quit"}
{"nick":"ecr","date":"2013-10-14T19:41:23.219Z","type":"part"}
{"nick":"indexzero","date":"2013-10-14T19:41:43.127Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: so I ran dtrace and created a distribution on malloc:entry and created 1e7 new ArrayBuffer(16). count: 4048075","date":"2013-10-14T19:47:57.721Z","type":"message"}
{"nick":"Kakera","date":"2013-10-14T19:51:30.821Z","type":"join"}
{"nick":"Kakera","reason":"Read error: Connection reset by peer","date":"2013-10-14T19:53:25.380Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-14T19:56:35.412Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: 'sherlock holmes and the mystery of the missing malloc calls'?","date":"2013-10-14T19:57:52.551Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-10-14T19:58:14.619Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-14T20:03:10.170Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: interesting. did the same with 1 byte, and count is only 1103202 w/ 1e7 iterations.","date":"2013-10-14T20:05:42.008Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-14T20:07:45.618Z","type":"nick"}
{"nick":"trevnorris","message":"bnoordhuis: have some insight to what the comment on ArrayBuffer::IsExternal() means: \"Returns true if ArrayBuffer is extrenalized, that is, does not own its memory block.\"","date":"2013-10-14T20:08:22.807Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: means you've called ArrayBuffer::Externalize() on the arraybuffer","date":"2013-10-14T20:10:04.934Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T20:10:10.054Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 260 seconds","date":"2013-10-14T20:11:40.018Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T20:11:40.228Z","type":"nick"}
{"nick":"trevnorris","message":"... oy, how'd I miss that. thanks for pointing it out.","date":"2013-10-14T20:11:44.391Z","type":"message"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-14T20:13:21.241Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T20:13:33.068Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: and thanks for the -E trick. just saved me trying to mentally unfold 4 levels of macros in v8/src/factory.cc :)","date":"2013-10-14T20:18:22.266Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: on a slightly tangential note, if you ever want to get the list of predefined macros -> gcc -E -dM - < /dev/null","date":"2013-10-14T20:21:44.414Z","type":"message"}
{"nick":"bnoordhuis","message":"you can also pass -dD, -dN and -dI but they're less useful","date":"2013-10-14T20:22:15.604Z","type":"message"}
{"nick":"trevnorris","message":"ooh. cool. thanks :)","date":"2013-10-14T20:22:22.393Z","type":"message"}
{"nick":"trevnorris","message":"no idea why < /dev/null does that, but hey. I'll take it.","date":"2013-10-14T20:23:37.796Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: the - tells gcc to read from stdin and the </dev/null gives it something to read from","date":"2013-10-14T20:28:26.421Z","type":"message"}
{"nick":"trevnorris","message":"ah, interesting.","date":"2013-10-14T20:28:54.189Z","type":"message"}
{"nick":"bnoordhuis","message":"omitting </dev/null and pressing ^D would've achieved the same thing","date":"2013-10-14T20:29:03.236Z","type":"message"}
{"nick":"bnoordhuis","message":"but real men don't tolerate interactive programs","date":"2013-10-14T20:29:12.278Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-10-14T20:29:26.545Z","type":"message"}
{"nick":"trevnorris","message":"now, to figure out what the hell is going on in Heap::AllocateJSObjectFromMap()","date":"2013-10-14T20:29:29.974Z","type":"message"}
{"nick":"trevnorris","message":"i'm about a dozen methods deep trying to figure out how array buffer allocates","date":"2013-10-14T20:29:44.400Z","type":"message"}
{"nick":"trevnorris","message":"hm. i want to put a trace on node::ArrayBufferAllocator::Allocate","date":"2013-10-14T20:30:51.205Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: you probably want Runtime_ArrayBufferInitsomethingsomething in src/runtime.cc","date":"2013-10-14T20:32:01.943Z","type":"message"}
{"nick":"trevnorris","message":"ah, thanks.","date":"2013-10-14T20:32:17.149Z","type":"message"}
{"nick":"bnoordhuis","message":"Runtime_ArrayBufferInitialize, that's the one","date":"2013-10-14T20:32:21.533Z","type":"message"}
{"nick":"trevnorris","message":"ah crap. I forget that calling the JS API has a different entry point than the v8 API.","date":"2013-10-14T20:33:14.801Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: thanks for saving me from myself.","date":"2013-10-14T20:33:25.012Z","type":"message"}
{"nick":"bnoordhuis","message":"np :)","date":"2013-10-14T20:34:16.073Z","type":"message"}
{"nick":"trevnorris","message":"wtf. were are the malloc's going. new ArrayBuffer(n > 0) always calls V8::ArrayBufferAllocator()->Allocate(); which you set in node.cc.","date":"2013-10-14T20:38:30.410Z","type":"message"}
{"nick":"trevnorris","message":"ok. want to put a trace on that and see how many times it's getting called.","date":"2013-10-14T20:38:44.213Z","type":"message"}
{"nick":"`3E","new_nick":"`3E|SLIDEDECKDUT","date":"2013-10-14T20:41:32.060Z","type":"nick"}
{"nick":"trevnorris","message":"tjfontaine: is there a simple form to have dtrace count the number of times a specific method is called?","date":"2013-10-14T20:43:58.991Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: foo::method:entry { self->called += 1; } END { printf(\"foo called %d\\n\", self->called); }","date":"2013-10-14T20:44:42.476Z","type":"message"}
{"nick":"tjfontaine","message":"or similar","date":"2013-10-14T20:44:45.688Z","type":"message"}
{"nick":"tjfontaine","message":"oh","date":"2013-10-14T20:46:56.273Z","type":"message"}
{"nick":"tjfontaine","message":"foo::method:entry { @[probefunc] = count(); }","date":"2013-10-14T20:47:09.569Z","type":"message"}
{"nick":"tjfontaine","message":"that's probably the easiest","date":"2013-10-14T20:47:14.074Z","type":"message"}
{"nick":"trevnorris","message":"but do I have to put the compiled jibberish, or can I use, like \"node::ArrayBufferAllocator::Allocate\"?","date":"2013-10-14T20:47:49.191Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: pid$target::*ArrayBufferAllocator*Allocate:entry","date":"2013-10-14T20:48:29.793Z","type":"message"}
{"nick":"trevnorris","message":"ah, awesome. thanks.","date":"2013-10-14T20:48:40.632Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: but yes, otherwise a mangled name is required","date":"2013-10-14T20:48:44.332Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-14T20:48:47.867Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T20:49:13.946Z","type":"join"}
{"nick":"st_luke","reason":"Changing host","date":"2013-10-14T20:49:16.652Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T20:49:16.866Z","type":"join"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-14T20:51:54.275Z","type":"quit"}
{"nick":"st_luke_","date":"2013-10-14T20:51:57.076Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-14T20:55:33.303Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: eh, keeps telling me \"no probes specified\".","date":"2013-10-14T21:04:33.585Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: gist the command line?","date":"2013-10-14T21:04:48.914Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, the command line is just: sudo dtrace ./trace.d -c '../node/node test.js'","date":"2013-10-14T21:06:25.757Z","type":"message"}
{"nick":"trevnorris","message":"and the script is just: pid$target::*Allocate*:entry { @[probfunc] = count(); }","date":"2013-10-14T21:06:25.970Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: add -Z which will try and resolve probes at runtime","date":"2013-10-14T21:07:06.944Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok.","date":"2013-10-14T21:07:12.501Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: awesome. that did it :)","date":"2013-10-14T21:07:57.522Z","type":"message"}
{"nick":"tjfontaine","message":"well it allows dtrace to start, did it achieve what you wanted? :)","date":"2013-10-14T21:09:27.902Z","type":"message"}
{"nick":"trevnorris","message":"well, I think it's tracing. just not printing anything.","date":"2013-10-14T21:10:22.484Z","type":"message"}
{"nick":"tjfontaine","message":"well it won't print untilt he process exits or you exit dtrace","date":"2013-10-14T21:10:44.716Z","type":"message"}
{"nick":"tjfontaine","message":"you could do: pid$target::*Allocate*:entry { @[probfunc] = count(); } tick-60s { exit(); }","date":"2013-10-14T21:10:58.730Z","type":"message"}
{"nick":"tjfontaine","message":"which would make dtrace exit after 60 seconds","date":"2013-10-14T21:11:06.673Z","type":"message"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2013-10-14T21:11:25.129Z","type":"quit"}
{"nick":"trevnorris","message":"well, the process exits after about 5 sec.","date":"2013-10-14T21:11:38.529Z","type":"message"}
{"nick":"tjfontaine","message":"and dtrace hasn't exited?","date":"2013-10-14T21:11:53.000Z","type":"message"}
{"nick":"trevnorris","message":"it prints: dtrace: pid 13548 has exited","date":"2013-10-14T21:12:06.092Z","type":"message"}
{"nick":"trevnorris","message":"i put an END { printf(\"done...\\n\"); }, and that's not showing up.","date":"2013-10-14T21:12:28.568Z","type":"message"}
{"nick":"indexzero","date":"2013-10-14T21:12:30.088Z","type":"join"}
{"nick":"c4milo","date":"2013-10-14T21:15:31.757Z","type":"join"}
{"nick":"st_luke_","reason":"Remote host closed the connection","date":"2013-10-14T21:15:51.268Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T21:16:18.749Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: oop, i'm a dip. forgot the -s","date":"2013-10-14T21:16:59.900Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: ping","date":"2013-10-14T21:17:25.084Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: pong","date":"2013-10-14T21:18:12.735Z","type":"message"}
{"nick":"groundwater_","message":"what's the desired behaviour if before/after throws?","date":"2013-10-14T21:20:00.796Z","type":"message"}
{"nick":"groundwater_","message":"or even if error throws","date":"2013-10-14T21:20:26.101Z","type":"message"}
{"nick":"groundwater_","message":"in the async listener","date":"2013-10-14T21:20:37.405Z","type":"message"}
{"nick":"st_luke","reason":"Ping timeout: 240 seconds","date":"2013-10-14T21:20:38.534Z","type":"quit"}
{"nick":"trevnorris","message":"all the error callbacks get called then the program dies.","date":"2013-10-14T21:20:57.236Z","type":"message"}
{"nick":"trevnorris","message":"there's no recovery from throwing from a before/after/error callback.","date":"2013-10-14T21:21:11.426Z","type":"message"}
{"nick":"groundwater_","message":"ahhh, even if they return true?","date":"2013-10-14T21:21:19.557Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-10-14T21:25:09.014Z","type":"message"}
{"nick":"groundwater_","message":"and it looks like 'uncaughtException' is called if before/after throws, but not if error throws","date":"2013-10-14T21:25:44.159Z","type":"message"}
{"nick":"groundwater_","message":"throwing in error is pretty much a death sentence ","date":"2013-10-14T21:25:55.976Z","type":"message"}
{"nick":"trevnorris","message":"yeah. it'll call error callbacks once more to let you know what happened, but then dies afterwards.","date":"2013-10-14T21:26:40.742Z","type":"message"}
{"nick":"trevnorris","message":"it's either that or we set an arbitrary limit on how many times your error callbacks can error themselves.","date":"2013-10-14T21:27:00.751Z","type":"message"}
{"nick":"trevnorris","message":"or else you get infinite recursive error callbacks calling","date":"2013-10-14T21:27:10.008Z","type":"message"}
{"nick":"groundwater_","message":"i mean, i think throwing in your async listeners is dangerous anyways","date":"2013-10-14T21:29:46.072Z","type":"message"}
{"nick":"groundwater_","message":"but i figure i should know exactly the intended behaviour","date":"2013-10-14T21:30:10.180Z","type":"message"}
{"nick":"nrajlich","reason":"Quit: Computer has gone to sleep.","date":"2013-10-14T21:30:50.845Z","type":"quit"}
{"nick":"amartens","date":"2013-10-14T21:33:29.447Z","type":"join"}
{"nick":"trevnorris","message":"yeah. this code is ridiculously close to the metal, and throwing from one of those callbacks is always going to be a show stopper.","date":"2013-10-14T21:33:45.262Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ok. well ArrayBufferAllocator::Allocate is called exactly 1e7 times. but malloc is only being called ~1million times.","date":"2013-10-14T21:37:11.684Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: oh, does \"new char\" do something different than malloc?","date":"2013-10-14T21:38:06.181Z","type":"message"}
{"nick":"tjfontaine","message":"it could use mmap or similar, but consider again if they have a block allocator for objects (which I am pretty sure they do) you won't see a 1:1 correlation","date":"2013-10-14T21:39:52.993Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: yeah, but an arraybuffer is a js object backed by external storage","date":"2013-10-14T21:40:36.072Z","type":"message"}
{"nick":"tjfontaine","message":"or if object's get gc'd and that space will be reused","date":"2013-10-14T21:40:37.603Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: have they carved out a space specific to just array storage backend?","date":"2013-10-14T21:40:54.939Z","type":"message"}
{"nick":"bnoordhuis","message":"err, external memory - we're not talking hard drives here","date":"2013-10-14T21:40:57.892Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: no, the embedder has to provide it","date":"2013-10-14T21:41:14.868Z","type":"message"}
{"nick":"tjfontaine","message":"oh this is trevor making ArrayBuffer(new char[])?","date":"2013-10-14T21:41:28.251Z","type":"message"}
{"nick":"trevnorris","message":"no","date":"2013-10-14T21:41:32.530Z","type":"message"}
{"nick":"trevnorris","message":"it's from js. new ArrayBuffer(n);","date":"2013-10-14T21:41:46.489Z","type":"message"}
{"nick":"trevnorris","message":"that calls RunTime::Runtime::SetupArrayBufferAllocatingData() which calls the function provided by the embedder.","date":"2013-10-14T21:42:13.105Z","type":"message"}
{"nick":"tjfontaine","message":"right, so if since it zero's it out, v8 can't say \"oh well I just gc'd an object of that size and type, let's just zero it again and give it back\"","date":"2013-10-14T21:42:15.740Z","type":"message"}
{"nick":"tjfontaine","message":"ah ok","date":"2013-10-14T21:42:22.644Z","type":"message"}
{"nick":"trevnorris","message":"(scratch a RunTime::)","date":"2013-10-14T21:42:24.822Z","type":"message"}
{"nick":"trevnorris","message":"and I verified with dtrace that it does in fact call that method the exact number of times in the loop","date":"2013-10-14T21:43:01.336Z","type":"message"}
{"nick":"ecr","date":"2013-10-14T21:43:42.933Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: but when I loop SlowBuffer instead malloc is called ~6855912x's","date":"2013-10-14T21:44:29.199Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-14T21:44:55.411Z","type":"nick"}
{"nick":"trevnorris","message":"but that's only 1/2 the number of iterations in the loop.","date":"2013-10-14T21:45:06.687Z","type":"message"}
{"nick":"rendar","date":"2013-10-14T21:46:11.715Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-14T21:46:16.858Z","type":"quit"}
{"nick":"tjfontaine","message":"well, I guess the symbol name may not actually be malloc in that case","date":"2013-10-14T21:47:58.700Z","type":"message"}
{"nick":"trevnorris","message":"must be","date":"2013-10-14T21:48:04.066Z","type":"message"}
{"nick":"st_luke","date":"2013-10-14T21:48:09.946Z","type":"join"}
{"nick":"tjfontaine","message":"spin up the process, then `dtrace -l -p <pid> | grep -i malloc`","date":"2013-10-14T21:48:36.513Z","type":"message"}
{"nick":"tjfontaine","message":"will give you a list of probes that contain malloc","date":"2013-10-14T21:48:58.174Z","type":"message"}
{"nick":"trevnorris","message":"damn it. how are they doing this. they have almost no setup time with their constructor call. but smalloc::Alloc is way expensive by comparison.","date":"2013-10-14T21:49:13.944Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: cool. thanks.","date":"2013-10-14T21:49:20.071Z","type":"message"}
{"nick":"tjfontaine","message":"so I may get my wish of an arraybuffer backend yet :)","date":"2013-10-14T21:50:13.652Z","type":"message"}
{"nick":"tjfontaine","message":"hmm pid's are not showing up in that","date":"2013-10-14T21:50:38.797Z","type":"message"}
{"nick":"trevnorris","message":"heh, nope. once you get past 512 bytes Buffers are faster.","date":"2013-10-14T21:50:42.792Z","type":"message"}
{"nick":"trevnorris","message":"and i'm talking slowbuffer allocations in comparison.","date":"2013-10-14T21:50:55.696Z","type":"message"}
{"nick":"trevnorris","message":"not Buffer slices.","date":"2013-10-14T21:51:00.080Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: the stuff in runtime.cc is a lot lighter than a full-blown callout to embedder bindings","date":"2013-10-14T21:51:10.868Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: well, damn them for getting to use all the magic :P","date":"2013-10-14T21:51:26.650Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, it's evil","date":"2013-10-14T21:51:33.961Z","type":"message"}
{"nick":"Kakera","date":"2013-10-14T21:51:40.598Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-10-14T21:52:02.833Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: seriously. even when I comment out every extraneous and unnecessary bit, it's still freakin slow.","date":"2013-10-14T21:53:43.248Z","type":"message"}
{"nick":"trevnorris","message":"poop, I want access to that. think it might be possible?","date":"2013-10-14T21:53:43.464Z","type":"message"}
{"nick":"trevnorris","message":"i mean, that they'd take a patch.","date":"2013-10-14T21:53:56.254Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: unlikely. the list of functions is generated at compile time from a big x-macro","date":"2013-10-14T21:55:17.625Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: am i able to catch an error thrown in the error callback? i'm trying to write a test around it","date":"2013-10-14T21:56:44.211Z","type":"message"}
{"nick":"groundwater_","message":"any ideas?","date":"2013-10-14T21:56:52.922Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-14T21:57:12.204Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-10-14T21:59:51.608Z","type":"quit"}
{"nick":"Kakera","reason":"Ping timeout: 265 seconds","date":"2013-10-14T22:01:14.617Z","type":"quit"}
{"nick":"trevnorris","message":"groundwater_: you can't. spawn a child process that throws an error from the error callback with a specific message. if the error is received with the specific message then exit the child process with a specific error code.","date":"2013-10-14T22:03:38.297Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: then assert the exit code matches what you were expecting.","date":"2013-10-14T22:04:00.596Z","type":"message"}
{"nick":"trevnorris","message":"*with a specific exit code.","date":"2013-10-14T22:04:08.703Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: bummer. well, thanks for helping me dig through that. :)","date":"2013-10-14T22:04:45.334Z","type":"message"}
{"nick":"bnoordhuis","message":"np :)","date":"2013-10-14T22:07:24.457Z","type":"message"}
{"nick":"groundwater_","message":"trevnorris: thanks, added","date":"2013-10-14T22:13:53.265Z","type":"message"}
{"nick":"trevnorris","message":"groundwater_: great","date":"2013-10-14T22:14:21.873Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: mozilla summit was earlier this month, right?","date":"2013-10-14T22:17:47.641Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: yeah.","date":"2013-10-14T22:17:56.382Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. too bad","date":"2013-10-14T22:18:07.601Z","type":"message"}
{"nick":"trevnorris","message":"wanted to go?","date":"2013-10-14T22:18:14.782Z","type":"message"}
{"nick":"bnoordhuis","message":"to the one in brussels maybe","date":"2013-10-14T22:18:29.326Z","type":"message"}
{"nick":"trevnorris","message":"maybe I can get you some shirts :)","date":"2013-10-14T22:19:02.755Z","type":"message"}
{"nick":"bnoordhuis","message":"that'd be nice :)","date":"2013-10-14T22:19:32.704Z","type":"message"}
{"nick":"trevnorris","message":"ah, dude. their use of macros in runtime.h makes env.h look trivial.","date":"2013-10-14T22:19:48.708Z","type":"message"}
{"nick":"trevnorris","message":"coolio. what are you. xl?","date":"2013-10-14T22:19:55.867Z","type":"message"}
{"nick":"bnoordhuis","message":"are you calling me fat?","date":"2013-10-14T22:20:18.241Z","type":"message"}
{"nick":"bnoordhuis","message":"i think i'm a m","date":"2013-10-14T22:20:29.097Z","type":"message"}
{"nick":"trevnorris","message":"hah, no. just tall. i the shirts were made for midgets I think.","date":"2013-10-14T22:20:52.813Z","type":"message"}
{"nick":"trevnorris","message":"i'm wearing xl just so it reaches my pants.","date":"2013-10-14T22:21:12.760Z","type":"message"}
{"nick":"ecr","reason":"Quit: ecr","date":"2013-10-14T22:21:47.485Z","type":"quit"}
{"nick":"bnoordhuis","message":"hah, okay. guess i'd better stick with xl too then","date":"2013-10-14T22:22:27.638Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-14T22:24:57.977Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T22:25:28.403Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: wtf. so in runtime.h, class Runtime. they have a field \"byte* entry\" with the comment \"The C++ (native) entry point\"","date":"2013-10-14T22:25:35.866Z","type":"message"}
{"nick":"wwicks_","date":"2013-10-14T22:27:16.191Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 246 seconds","date":"2013-10-14T22:27:28.948Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-10-14T22:27:29.162Z","type":"nick"}
{"nick":"bnoordhuis","message":"trevnorris: is that an implicitly voiced question or merely an observation?","date":"2013-10-14T22:27:30.582Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: was going to be a question, but as I was writing it thinkg I figured out how it works. :)","date":"2013-10-14T22:28:52.644Z","type":"message"}
{"nick":"trevnorris","message":"i just really want to hack something in and get it working.","date":"2013-10-14T22:29:22.002Z","type":"message"}
{"nick":"trevnorris","message":"THE POWER!!!","date":"2013-10-14T22:29:24.935Z","type":"message"}
{"nick":"LOUDBOT","message":"I DON'T HAVE ESP, I HAVE ESPECIALLY","date":"2013-10-14T22:29:25.501Z","type":"message"}
{"nick":"st_luke","reason":"Ping timeout: 272 seconds","date":"2013-10-14T22:29:57.191Z","type":"quit"}
{"nick":"wwicks_","date":"2013-10-14T22:30:41.149Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: anyways, shouldn't you be asleep?","date":"2013-10-14T22:31:18.523Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 272 seconds","date":"2013-10-14T22:33:07.192Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-14T22:33:22.340Z","type":"join"}
{"nick":"wwicks","date":"2013-10-14T22:33:48.722Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: yeah, i guess i should.  g'night then :)","date":"2013-10-14T22:35:01.413Z","type":"message"}
{"nick":"trevnorris","message":"night :)","date":"2013-10-14T22:35:10.752Z","type":"message"}
{"nick":"wwicks_","reason":"Ping timeout: 245 seconds","date":"2013-10-14T22:35:50.124Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-10-14T22:39:26.558Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: managed to dig your way out of all the emails?","date":"2013-10-14T23:08:58.036Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-14T23:13:45.166Z","type":"quit"}
{"nick":"indexzero","date":"2013-10-14T23:14:35.556Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-10-14T23:30:48.706Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: ah, wtf. v8's now at 3.22?","date":"2013-10-14T23:32:21.842Z","type":"message"}
{"nick":"hz","date":"2013-10-14T23:34:48.536Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: ping","date":"2013-10-14T23:40:50.145Z","type":"message"}
{"nick":"trevnorris","message":"man, where is everyone.","date":"2013-10-14T23:44:59.137Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-10-14T23:45:51.079Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ping","date":"2013-10-14T23:50:26.539Z","type":"message"}
{"nick":"isaacs","message":"pong","date":"2013-10-14T23:50:39.601Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 268 seconds","date":"2013-10-14T23:50:50.127Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: i'm working on my realtime conf tal","date":"2013-10-14T23:51:14.932Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-10-14T23:51:15.941Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so, for kicks I'm trying to upgrade to 3.22 to see if that fixes some of the perf hit I saw w/ smalloc.","date":"2013-10-14T23:51:36.892Z","type":"message"}
{"nick":"trevnorris","message":"but now they have this new gyp variable of icu_gyp_path","date":"2013-10-14T23:51:37.130Z","type":"message"}
{"nick":"trevnorris","message":"and it points to third_party folder. when checked out it's 350MB.","date":"2013-10-14T23:51:57.339Z","type":"message"}
{"nick":"trevnorris","message":"i don't even know what it's for.","date":"2013-10-14T23:52:06.933Z","type":"message"}
{"nick":"trevnorris","message":"oh, cool. what's your realtime conf talk about?","date":"2013-10-14T23:52:17.718Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ok, so the question is. I don't see that icu folder in deps/v8 on master. so do we just compile w/o it?","date":"2013-10-14T23:54:54.818Z","type":"message"}
{"nick":"isaacs","message":"icu folder??","date":"2013-10-14T23:55:20.478Z","type":"message"}
{"nick":"trevnorris","message":"yeah. something to do with this: https://code.google.com/p/v8/wiki/I18NSupport","date":"2013-10-14T23:55:39.116Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: weird","date":"2013-10-14T23:55:39.988Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no idea","date":"2013-10-14T23:55:47.780Z","type":"message"}
{"nick":"trevnorris","message":"cool. well there's some optimizations that I want to try out so going to see if I can't figure this out.","date":"2013-10-14T23:56:24.003Z","type":"message"}
{"nick":"trevnorris","message":"oh, it's part of a massive internationalization package that's part of the 402 spec. http://www.ecma-international.org/ecma-402/1.0/","date":"2013-10-14T23:57:25.124Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-14T23:58:10.353Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #224 \u00034FAILURE\u000f windows-x64 (4/196) windows-ia32 (4/196) http://jenkins.nodejs.org/job/libuv-master-gyp/224/","date":"2013-10-14T23:59:33.433Z","type":"message"}

{"nick":"TooTallNate","message":"LOUD NOISES!!","date":"2012-07-06T00:00:06.005Z","type":"message"}
{"nick":"indutny","message":"so it's very unlikely (but still possible) introducing bugs","date":"2012-07-06T00:00:07.531Z","type":"message"}
{"nick":"indutny","message":"TooTallNate: you're really tall, btw :P","date":"2012-07-06T00:00:17.167Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 264 seconds","date":"2012-07-06T00:00:20.790Z","type":"quit"}
{"nick":"TooTallNate","message":"indutny: haha, it's true :p","date":"2012-07-06T00:00:28.843Z","type":"message"}
{"nick":"TooTallNate","message":"indutny: i did see one or two people taller then me at the conf though, it was a little strange, haha","date":"2012-07-06T00:00:49.085Z","type":"message"}
{"nick":"indutny","message":"hahah","date":"2012-07-06T00:01:22.328Z","type":"message"}
{"nick":"indutny","message":"looking upwards?","date":"2012-07-06T00:01:26.607Z","type":"message"}
{"nick":"isaacs","message":"node appeals to very tall men.","date":"2012-07-06T00:01:54.898Z","type":"message"}
{"nick":"isaacs","message":"not sure why","date":"2012-07-06T00:01:56.627Z","type":"message"}
{"nick":"indutny","message":"hahahaha","date":"2012-07-06T00:02:00.005Z","type":"message"}
{"nick":"isaacs","message":"mjr, creationix, tootallnate, felix, etc","date":"2012-07-06T00:02:20.636Z","type":"message"}
{"nick":"isaacs","message":"evne ry's pretty tall.","date":"2012-07-06T00:02:23.748Z","type":"message"}
{"nick":"isaacs","message":"and he's like one of the shorter node people.  that's why i hang out with mikeal so much, he's the only one who doesn't make me feel tiny.","date":"2012-07-06T00:02:59.100Z","type":"message"}
{"nick":"indutny","message":"btw, is ryan living in SF too?","date":"2012-07-06T00:04:41.164Z","type":"message"}
{"nick":"indutny","message":"i mean CA","date":"2012-07-06T00:04:44.723Z","type":"message"}
{"nick":"indutny","message":"isaacs: %","date":"2012-07-06T00:08:20.009Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^","date":"2012-07-06T00:08:22.748Z","type":"message"}
{"nick":"isaacs","message":"yeah, he lives in SF","date":"2012-07-06T00:09:01.698Z","type":"message"}
{"nick":"isaacs","message":"in the West Bay","date":"2012-07-06T00:09:06.294Z","type":"message"}
{"nick":"isaacs","message":"i'm in The City (aka oakland)","date":"2012-07-06T00:09:13.185Z","type":"message"}
{"nick":"rendar","date":"2012-07-06T00:10:51.975Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: Leaving","date":"2012-07-06T00:25:22.530Z","type":"quit"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Tim Macfarlane\u000f \u000307v0.8\u000f * r\u00020dba28b\u000f \u000310\u000f/ lib/readline.js \u0002:\u000f readline: fix for unicode prompts - http://git.io/io9YOA","date":"2012-07-06T00:26:03.154Z","type":"message"}
{"nick":"indutny","message":"yeah, I know oakland","date":"2012-07-06T00:27:33.778Z","type":"message"}
{"nick":"indutny","message":"jchris lives here too","date":"2012-07-06T00:27:37.961Z","type":"message"}
{"nick":"indutny","message":"or lived here, don't really know how he's doing now","date":"2012-07-06T00:27:46.324Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I've explained that ;)","date":"2012-07-06T00:35:41.498Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: so are we going to allow session reusal between cluster processes?","date":"2012-07-06T00:37:03.299Z","type":"message"}
{"nick":"bcantrill","reason":"Quit: Leaving.","date":"2012-07-06T00:41:47.789Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-06T00:42:32.507Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: session reusal?","date":"2012-07-06T00:53:40.353Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean ssl session reuse?","date":"2012-07-06T00:53:49.934Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yes","date":"2012-07-06T00:54:05.209Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i think that only works when you have shared memory and cross-process mutexes, right?","date":"2012-07-06T00:54:52.268Z","type":"message"}
{"nick":"indutny","message":"right","date":"2012-07-06T00:56:59.044Z","type":"message"}
{"nick":"indutny","message":"do we need some special mutexes handling uv for unixes?","date":"2012-07-06T00:57:34.865Z","type":"message"}
{"nick":"bnoordhuis","message":"well, that's a problem - libuv supports neither shm or PTHREAD_PROCESS_SHARED mutexes","date":"2012-07-06T00:57:37.267Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-07-06T00:57:48.321Z","type":"message"}
{"nick":"indutny","message":"shm is kind of retarded, AFAIK","date":"2012-07-06T00:57:56.891Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah","date":"2012-07-06T00:58:01.646Z","type":"message"}
{"nick":"bnoordhuis","message":"but libuv neither supports cross-fork mmap :)","date":"2012-07-06T00:58:18.341Z","type":"message"}
{"nick":"indutny","message":"indeed","date":"2012-07-06T00:58:29.707Z","type":"message"}
{"nick":"indutny","message":"it doesn't have mmap support at all","date":"2012-07-06T00:58:35.013Z","type":"message"}
{"nick":"bnoordhuis","message":"exactly :)","date":"2012-07-06T00:58:40.347Z","type":"message"}
{"nick":"indutny","message":"but it can have it","date":"2012-07-06T00:58:48.442Z","type":"message"}
{"nick":"indutny","message":"I'm quite sure that windows has shared memory support","date":"2012-07-06T00:58:59.726Z","type":"message"}
{"nick":"bnoordhuis","message":"it has","date":"2012-07-06T00:59:07.466Z","type":"message"}
{"nick":"bnoordhuis","message":" PTHREAD_PROCESS_SHARED is kind of problematic though","date":"2012-07-06T00:59:15.104Z","type":"message"}
{"nick":"indutny","message":"what's really interesting is that we'll need to extend uv_spawn API","date":"2012-07-06T00:59:21.101Z","type":"message"}
{"nick":"indutny","message":"how would that work on windows?","date":"2012-07-06T00:59:40.829Z","type":"message"}
{"nick":"bnoordhuis","message":"with normal mutexes","date":"2012-07-06T01:00:41.869Z","type":"message"}
{"nick":"indutny","message":"doesn't it have shared mutexes?","date":"2012-07-06T01:01:25.921Z","type":"message"}
{"nick":"indutny","message":"what's the point of shared memory without mutexes?","date":"2012-07-06T01:01:33.886Z","type":"message"}
{"nick":"indutny","message":"you can't do anything with it at all","date":"2012-07-06T01:01:43.703Z","type":"message"}
{"nick":"bnoordhuis","message":"heh","date":"2012-07-06T01:01:49.941Z","type":"message"}
{"nick":"bnoordhuis","message":"\"normal\" a.k.a. heavy-weight mutexes are the windows equivalent of PTHREAD_PROCESS_SHARED","date":"2012-07-06T01:02:06.892Z","type":"message"}
{"nick":"bnoordhuis","message":"it's CriticalSection mutexes that you can't share","date":"2012-07-06T01:02:19.957Z","type":"message"}
{"nick":"indutny","message":"well, we're using CriticalSections anyway, as I know","date":"2012-07-06T01:03:25.983Z","type":"message"}
{"nick":"indutny","message":"ok, we just should off-load that to bertje","date":"2012-07-06T01:03:48.787Z","type":"message"}
{"nick":"indutny","message":"we need to implement support for that in uv, anyway","date":"2012-07-06T01:04:06.288Z","type":"message"}
{"nick":"indutny","message":"and then after benchmarking we'll disable it on windows in node","date":"2012-07-06T01:04:17.387Z","type":"message"}
{"nick":"indutny","message":"so, I propose adding uv_shmutex_t","date":"2012-07-06T01:05:32.360Z","type":"message"}
{"nick":"indutny","message":"and uv_shmutex_*()","date":"2012-07-06T01:05:39.961Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2012-07-06T01:07:27.071Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: the reason i said it's problematic is that not all unices have shared mutexes","date":"2012-07-06T01:07:58.035Z","type":"message"}
{"nick":"indutny","message":"oh my zosh","date":"2012-07-06T01:08:06.361Z","type":"message"}
{"nick":"bnoordhuis","message":"linux does, i'm pretty solaris does too, freebsd's implementation used to have bugs","date":"2012-07-06T01:09:04.506Z","type":"message"}
{"nick":"bnoordhuis","message":"which means os x's implementation probably has or had bugs as well","date":"2012-07-06T01:09:22.735Z","type":"message"}
{"nick":"indutny","message":"ok, that's really nice","date":"2012-07-06T01:10:02.132Z","type":"message"}
{"nick":"indutny","message":"we can try using lock-less structures, but the overhead will be really big","date":"2012-07-06T01:10:19.718Z","type":"message"}
{"nick":"indutny","message":"and probably bigger than benefits from shared session storage","date":"2012-07-06T01:10:28.914Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. let's punt on this for a bit","date":"2012-07-06T01:10:45.029Z","type":"message"}
{"nick":"indutny","message":"deal","date":"2012-07-06T01:11:41.708Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: which is not to say you can't hack on a quick prototype","date":"2012-07-06T01:12:03.274Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, I wasn't saying that I won't do anything :P","date":"2012-07-06T01:12:14.842Z","type":"message"}
{"nick":"bnoordhuis","message":"heh, okay","date":"2012-07-06T01:12:19.400Z","type":"message"}
{"nick":"indutny","message":"http://fscked.org/writings/SHM/shm-3.html","date":"2012-07-06T01:12:34.351Z","type":"message"}
{"nick":"indutny","message":"really nice ^","date":"2012-07-06T01:12:36.159Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-07-06T01:13:03.879Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i would generally recommend to use shared mmap'd memory","date":"2012-07-06T01:13:51.478Z","type":"message"}
{"nick":"bnoordhuis","message":"much easier than sysv or posix shm","date":"2012-07-06T01:13:59.715Z","type":"message"}
{"nick":"indutny","message":"indeed","date":"2012-07-06T01:14:02.692Z","type":"message"}
{"nick":"indutny","message":"well, all I need is just passing pointer to the forks, right?","date":"2012-07-06T01:14:26.462Z","type":"message"}
{"nick":"indutny","message":"they should already have COW memory of parent process","date":"2012-07-06T01:14:39.674Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: explain 'passing pointer'?","date":"2012-07-06T01:16:05.142Z","type":"message"}
{"nick":"indutny","message":"well, suppose I do","date":"2012-07-06T01:16:14.475Z","type":"message"}
{"nick":"bnoordhuis","message":"the idea is to store the sessions themselves in shm","date":"2012-07-06T01:16:19.360Z","type":"message"}
{"nick":"indutny","message":"void* ptr = mmap(...)","date":"2012-07-06T01:16:26.444Z","type":"message"}
{"nick":"indutny","message":"if (!fork()) {","date":"2012-07-06T01:16:44.049Z","type":"message"}
{"nick":"indutny","message":"}","date":"2012-07-06T01:16:44.249Z","type":"message"}
{"nick":"indutny","message":"err","date":"2012-07-06T01:16:46.211Z","type":"message"}
{"nick":"indutny","message":"if (!fork()) use(ptr);","date":"2012-07-06T01:16:52.094Z","type":"message"}
{"nick":"bnoordhuis","message":"right, that works","date":"2012-07-06T01:16:57.925Z","type":"message"}
{"nick":"indutny","message":"is there any other ways (except named regions)?","date":"2012-07-06T01:17:08.434Z","type":"message"}
{"nick":"bnoordhuis","message":"provided you mmap'd it with MAP_SHARED of course :)","date":"2012-07-06T01:17:11.249Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-07-06T01:17:17.947Z","type":"message"}
{"nick":"indutny","message":"I understand that","date":"2012-07-06T01:17:19.853Z","type":"message"}
{"nick":"bnoordhuis","message":"no, pointer passing works - the forks inherit the memory mappings","date":"2012-07-06T01:17:42.351Z","type":"message"}
{"nick":"indutny","message":"ok, going to hack this out","date":"2012-07-06T01:17:58.412Z","type":"message"}
{"nick":"bnoordhuis","message":"good luck :)","date":"2012-07-06T01:18:04.896Z","type":"message"}
{"nick":"indutny","message":"I wonder if splay tree will handle enough of load","date":"2012-07-06T01:18:12.543Z","type":"message"}
{"nick":"indutny","message":"err","date":"2012-07-06T01:18:20.254Z","type":"message"}
{"nick":"indutny","message":"will do searches in reasonable time","date":"2012-07-06T01:18:27.136Z","type":"message"}
{"nick":"indutny","message":"I really do not want a RB-tree here","date":"2012-07-06T01:18:43.052Z","type":"message"}
{"nick":"bnoordhuis","message":"benchmark it and you'll know","date":"2012-07-06T01:18:50.097Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-07-06T01:19:01.125Z","type":"message"}
{"nick":"bnoordhuis","message":"though in my experience different data structures with similar big O behavior don't usually have wildly different performance characteristics","date":"2012-07-06T01:19:25.044Z","type":"message"}
{"nick":"indutny","message":"well, RB has O(1) insertion","date":"2012-07-06T01:19:43.086Z","type":"message"}
{"nick":"indutny","message":"splay has O(log n)","date":"2012-07-06T01:19:59.901Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-07-06T01:20:09.962Z","type":"message"}
{"nick":"bnoordhuis","message":"a red/black tree is also O(log n) insertion","date":"2012-07-06T01:20:13.503Z","type":"message"}
{"nick":"bnoordhuis","message":"you need to find the place to insert to first","date":"2012-07-06T01:20:20.842Z","type":"message"}
{"nick":"indutny","message":"yeeah","date":"2012-07-06T01:20:23.898Z","type":"message"}
{"nick":"indutny","message":"indeed, I forgot about that","date":"2012-07-06T01:20:30.451Z","type":"message"}
{"nick":"indutny","message":"so the difference is only in worst cases here","date":"2012-07-06T01:20:48.152Z","type":"message"}
{"nick":"bnoordhuis","message":"it's more that people always bitch and moan about the cache characteristics of binary trees vs. hashes and such","date":"2012-07-06T01:21:14.619Z","type":"message"}
{"nick":"indutny","message":"hashes are good","date":"2012-07-06T01:21:35.044Z","type":"message"}
{"nick":"indutny","message":"really good","date":"2012-07-06T01:21:36.591Z","type":"message"}
{"nick":"indutny","message":"but they eat a lot of memory","date":"2012-07-06T01:21:42.150Z","type":"message"}
{"nick":"indutny","message":"and hard to cleanup","date":"2012-07-06T01:21:44.565Z","type":"message"}
{"nick":"mmalecki","date":"2012-07-06T01:27:14.864Z","type":"join"}
{"nick":"abraxas","date":"2012-07-06T01:28:41.875Z","type":"join"}
{"nick":"indutny","message":"actually, I love hashmaps","date":"2012-07-06T01:29:14.404Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-07-06T01:29:18.015Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to think hard and deep on how to deal with signals, threads and multiple event loops","date":"2012-07-06T01:34:09.181Z","type":"message"}
{"nick":"bnoordhuis","message":"and i'm going to do it from the comfort of my own bed","date":"2012-07-06T01:34:33.917Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight people","date":"2012-07-06T01:34:37.429Z","type":"message"}
{"nick":"indutny","message":"sleep tight ben","date":"2012-07-06T01:35:10.406Z","type":"message"}
{"nick":"bnoordhuis","message":"you too, fedor","date":"2012-07-06T01:35:27.139Z","type":"message"}
{"nick":"mmalecki","message":"night Ben","date":"2012-07-06T01:36:21.308Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2012-07-06T01:39:27.592Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 244 seconds","date":"2012-07-06T01:41:22.402Z","type":"quit"}
{"nick":"indutny","message":"oh grammar is really borked in cluster.js","date":"2012-07-06T02:18:57.877Z","type":"message"}
{"nick":"indutny","message":"wtf","date":"2012-07-06T02:18:59.638Z","type":"message"}
{"nick":"indutny","message":"even I'm noticing this","date":"2012-07-06T02:19:12.509Z","type":"message"}
{"nick":"erickt","date":"2012-07-06T02:28:23.610Z","type":"join"}
{"nick":"TooTallNate","reason":"Ping timeout: 255 seconds","date":"2012-07-06T02:49:41.087Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-07-06T02:56:08.145Z","type":"quit"}
{"nick":"mjr_","date":"2012-07-06T03:02:10.702Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-07-06T03:09:49.312Z","type":"quit"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-07-06T03:23:46.614Z","type":"quit"}
{"nick":"mjr_","date":"2012-07-06T03:24:08.055Z","type":"join"}
{"nick":"brson","date":"2012-07-06T03:38:48.327Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-07-06T03:49:44.533Z","type":"quit"}
{"nick":"bcantrill","date":"2012-07-06T05:07:26.435Z","type":"join"}
{"nick":"perezd","date":"2012-07-06T05:10:12.815Z","type":"join"}
{"nick":"isaacs_mobile","date":"2012-07-06T05:10:33.586Z","type":"join"}
{"nick":"paddybyers","date":"2012-07-06T05:30:06.650Z","type":"join"}
{"nick":"isaacs_mobile","reason":"Quit: Leaving","date":"2012-07-06T05:48:40.637Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-07-06T06:08:43.704Z","type":"join"}
{"nick":"isaacs_mobile","date":"2012-07-06T06:26:48.139Z","type":"join"}
{"nick":"mmalecki","date":"2012-07-06T06:30:37.806Z","type":"join"}
{"nick":"loladiro","date":"2012-07-06T06:35:48.623Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-07-06T06:37:18.233Z","type":"quit"}
{"nick":"hz","date":"2012-07-06T06:44:23.409Z","type":"join"}
{"nick":"isaacs_mobile","reason":"Ping timeout: 252 seconds","date":"2012-07-06T06:46:37.034Z","type":"quit"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-07-06T06:54:00.333Z","type":"quit"}
{"nick":"stephank","date":"2012-07-06T07:01:29.798Z","type":"join"}
{"nick":"rendar","date":"2012-07-06T07:08:25.325Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: Leaving","date":"2012-07-06T07:27:56.196Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 265 seconds","date":"2012-07-06T07:38:23.319Z","type":"quit"}
{"nick":"AlbireoX","new_nick":"AlbireoX`Away","date":"2012-07-06T07:55:58.381Z","type":"nick"}
{"nick":"AlbireoX`Away","new_nick":"AlbireoX","date":"2012-07-06T07:56:01.364Z","type":"nick"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-09-27T00:00:01.256Z","type":"quit"}
{"nick":"ircretary","date":"2013-09-27T00:00:10.121Z","type":"join"}
{"nick":"hueniverse","message":"finally have two servers with slightly different config that are leaking memory twice as fast, so we have our first real clue where to look...","date":"2013-09-27T00:01:55.242Z","type":"message"}
{"nick":"hueniverse","message":"never been this happy about faster leaking","date":"2013-09-27T00:02:04.989Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #199 \u00034FAILURE\u000f windows-x64 (3/195) windows-ia32 (3/195) http://jenkins.nodejs.org/job/libuv-master-gyp/199/","date":"2013-09-27T00:02:12.609Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: what's the context?","date":"2013-09-27T00:04:57.844Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: I'll be doing a new 0.11 release tomorrow","date":"2013-09-27T00:05:06.192Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-27T00:07:32.240Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T00:08:41.507Z","type":"nick"}
{"nick":"hueniverse","message":"tjfontaine: our production servers are leaking about 20mb a day of RSS (they go up about 40 and down 20 at night every day)","date":"2013-09-27T00:09:17.470Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: could not figure it out for a long time","date":"2013-09-27T00:09:30.688Z","type":"message"}
{"nick":"tjfontaine","message":"oh, how related is that to concurrent connections?","date":"2013-09-27T00:10:03.622Z","type":"message"}
{"nick":"st_luke_","date":"2013-09-27T00:10:04.318Z","type":"join"}
{"nick":"hueniverse","message":"tjfontaine: we changed 2 servers to use out http client code more freq and those servers are leaking 43mb a day","date":"2013-09-27T00:10:14.628Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-09-27T00:10:47.691Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: we cannot find any obvious correlation ","date":"2013-09-27T00:10:59.786Z","type":"message"}
{"nick":"kenperkins","date":"2013-09-27T00:11:02.868Z","type":"join"}
{"nick":"hueniverse","message":"not to connections, disconnects, etc","date":"2013-09-27T00:11:12.279Z","type":"message"}
{"nick":"hueniverse","message":"we know more traffic makes is worse","date":"2013-09-27T00:11:17.979Z","type":"message"}
{"nick":"hueniverse","message":"but little traffic keeps it flat or rss goes down","date":"2013-09-27T00:11:31.509Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: do you have any dtrace running watching for gc-start/gc-stop as well, to get some ideas how often it's actually firing?","date":"2013-09-27T00:12:13.543Z","type":"message"}
{"nick":"st_luke_","reason":"Remote host closed the connection","date":"2013-09-27T00:12:19.543Z","type":"quit"}
{"nick":"hueniverse","message":"tjfontaine: we count gc runs","date":"2013-09-27T00:14:58.779Z","type":"message"}
{"nick":"hueniverse","message":"they pick at 4 collections a second","date":"2013-09-27T00:15:52.028Z","type":"message"}
{"nick":"hueniverse","message":"peak","date":"2013-09-27T00:15:54.150Z","type":"message"}
{"nick":"tjfontaine","message":"presumably during peak traffic","date":"2013-09-27T00:16:14.508Z","type":"message"}
{"nick":"hueniverse","message":"yes","date":"2013-09-27T00:16:32.470Z","type":"message"}
{"nick":"hueniverse","message":"total heap used is never over 80mb","date":"2013-09-27T00:16:39.231Z","type":"message"}
{"nick":"hueniverse","message":"servers start at around 150mb","date":"2013-09-27T00:16:55.388Z","type":"message"}
{"nick":"hueniverse","message":"after about a week, they are now all at 350-450mb","date":"2013-09-27T00:17:09.951Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-09-27T00:18:01.892Z","type":"message"}
{"nick":"hueniverse","message":"the offending code is most likely around here: https://github.com/spumko/hapi/blob/master/lib/client.js","date":"2013-09-27T00:22:01.660Z","type":"message"}
{"nick":"tjfontaine","message":"are these predominately tls or http?","date":"2013-09-27T00:22:42.933Z","type":"message"}
{"nick":"hueniverse","message":"looking","date":"2013-09-27T00:23:09.173Z","type":"message"}
{"nick":"hueniverse","message":"so on the slower leaking machines, 28rps http, 15rps tls","date":"2013-09-27T00:24:36.678Z","type":"message"}
{"nick":"hueniverse","message":"on the faster leaking machines, same ratio but with additional http calls (not sure how many more)","date":"2013-09-27T00:25:38.708Z","type":"message"}
{"nick":"tjfontaine","message":"Collector looks interesting","date":"2013-09-27T00:26:30.371Z","type":"message"}
{"nick":"tjfontaine","message":"are you able to gcore these and watch object counts that way?","date":"2013-09-27T00:26:51.601Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: yeah","date":"2013-09-27T00:28:00.768Z","type":"message"}
{"nick":"hueniverse","message":"we can","date":"2013-09-27T00:28:02.517Z","type":"message"}
{"nick":"hueniverse","message":"so far we were not able to make sense of it","date":"2013-09-27T00:28:12.308Z","type":"message"}
{"nick":"hueniverse","message":"but now we got numbers showing how we can speed up leaking","date":"2013-09-27T00:28:26.811Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T00:30:58.555Z","type":"nick"}
{"nick":"tjfontaine","message":"hueniverse: ya, I mean, I would just core on the hour, and cache the output of \"echo '::findjsobjects ! sort -k2' | mdb core > object_counts\"","date":"2013-09-27T00:37:01.917Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: can't imagine this will be super useful. I'm pretty sure we're leaking slabs for buffers","date":"2013-09-27T00:41:50.183Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T00:41:55.008Z","type":"nick"}
{"nick":"hueniverse","message":"since heap is total stable","date":"2013-09-27T00:41:56.943Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: there's no slab in 0.11","date":"2013-09-27T00:42:38.487Z","type":"message"}
{"nick":"st_luke","date":"2013-09-27T00:42:41.497Z","type":"join"}
{"nick":"tjfontaine","message":"hueniverse: there's a buffer pool for buffers made in js, but that's only 8k at a time","date":"2013-09-27T00:43:00.062Z","type":"message"}
{"nick":"hueniverse","message":"we're still 0.10 in production","date":"2013-09-27T00:43:47.790Z","type":"message"}
{"nick":"tjfontaine","message":"oh, I thought we were talking about 2 servers running 0.11","date":"2013-09-27T00:44:00.038Z","type":"message"}
{"nick":"hueniverse","message":"cause your 0.11 keep giving me a hard time!! :-)","date":"2013-09-27T00:44:00.861Z","type":"message"}
{"nick":"hueniverse","message":"tjfontaine: sorry, no","date":"2013-09-27T00:44:11.876Z","type":"message"}
{"nick":"hueniverse","message":"these are all .10","date":"2013-09-27T00:44:15.047Z","type":"message"}
{"nick":"tjfontaine","message":"hehe, well I was waiting to release a new 0.11 until I had your uglify issue fixed","date":"2013-09-27T00:44:15.674Z","type":"message"}
{"nick":"hueniverse","message":"the two servers just do more client calls","date":"2013-09-27T00:44:30.020Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-27T00:44:45.229Z","type":"quit"}
{"nick":"tjfontaine","message":"I see, ok, and the average response times for these calls are pretty quick, and request sizes are how large?","date":"2013-09-27T00:45:00.906Z","type":"message"}
{"nick":"st_luke_","date":"2013-09-27T00:45:30.066Z","type":"join"}
{"nick":"tjfontaine","message":"anyway if they are slabs, we should see some amount of similar increase by the end of the week in buffer counts, we could also inspect and aggregate the buffer counts by length and offsets","date":"2013-09-27T00:51:20.529Z","type":"message"}
{"nick":"st_luke_","reason":"Remote host closed the connection","date":"2013-09-27T00:51:27.072Z","type":"quit"}
{"nick":"tellnes","reason":"Ping timeout: 260 seconds","date":"2013-09-27T00:52:00.268Z","type":"quit"}
{"nick":"tellnes","date":"2013-09-27T00:58:07.835Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T00:58:41.951Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T01:10:28.904Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-27T01:15:49.430Z","type":"quit"}
{"nick":"hueniverse","message":"tjfontaine: that will just prove we are leaking some buffers... once we prove that, how do we go about finding those fuckers?","date":"2013-09-27T01:29:23.091Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-27T01:33:38.409Z","type":"join"}
{"nick":"abraxas","date":"2013-09-27T01:37:02.728Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-09-27T01:41:46.646Z","type":"quit"}
{"nick":"kenperkins","reason":"Ping timeout: 248 seconds","date":"2013-09-27T01:44:37.817Z","type":"quit"}
{"nick":"kenperkins_","date":"2013-09-27T01:44:40.186Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-27T01:50:32.133Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T01:51:04.413Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-27T02:10:29.736Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-27T02:12:57.036Z","type":"join"}
{"nick":"inolen","date":"2013-09-27T02:16:07.918Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T02:17:33.304Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-27T02:44:09.690Z","type":"quit"}
{"nick":"amartens","date":"2013-09-27T02:57:15.833Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T03:07:37.906Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-09-27T03:08:27.386Z","type":"join"}
{"nick":"julianduque","reason":"Ping timeout: 252 seconds","date":"2013-09-27T03:13:24.249Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-27T03:15:48.544Z","type":"join"}
{"nick":"julianduque","reason":"Client Quit","date":"2013-09-27T03:15:48.544Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-27T03:16:01.003Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T03:18:02.212Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T03:19:25.932Z","type":"join"}
{"nick":"AvianFlu","date":"2013-09-27T03:21:48.051Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-27T03:23:38.211Z","type":"quit"}
{"nick":"inolen","date":"2013-09-27T03:27:33.173Z","type":"join"}
{"nick":"AvianFlu","date":"2013-09-27T03:32:05.378Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-09-27T03:42:28.279Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-27T03:52:36.506Z","type":"join"}
{"nick":"kazupon","date":"2013-09-27T03:54:29.397Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-27T03:54:36.032Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-27T03:54:43.905Z","type":"join"}
{"nick":"indexzero","date":"2013-09-27T03:59:14.394Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-27T04:02:27.482Z","type":"quit"}
{"nick":"st_luke_","date":"2013-09-27T04:21:23.526Z","type":"join"}
{"nick":"dap1","date":"2013-09-27T04:23:00.171Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T04:25:11.056Z","type":"quit"}
{"nick":"st_luke_","reason":"Remote host closed the connection","date":"2013-09-27T04:27:25.445Z","type":"quit"}
{"nick":"dap1","reason":"Quit: Leaving.","date":"2013-09-27T04:33:55.165Z","type":"quit"}
{"nick":"dap1","date":"2013-09-27T04:36:52.337Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T04:40:34.240Z","type":"nick"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T04:42:56.029Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-27T04:52:35.857Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-27T04:56:11.939Z","type":"join"}
{"nick":"dap1","reason":"Quit: Leaving.","date":"2013-09-27T04:56:56.101Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 264 seconds","date":"2013-09-27T05:00:42.331Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T05:03:57.480Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2013-09-27T05:09:43.168Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T05:13:55.468Z","type":"nick"}
{"nick":"dominictarr","date":"2013-09-27T05:17:40.041Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T05:23:42.478Z","type":"join"}
{"nick":"inolen","date":"2013-09-27T05:31:51.645Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-27T05:32:27.755Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T05:32:46.319Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T05:43:00.261Z","type":"quit"}
{"nick":"paddybyers","date":"2013-09-27T05:45:17.949Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: I was able to get all your asyncListener error test cases to pass against the polyfill with https://gist.github.com/othiym23/6724661","date":"2013-09-27T05:56:31.296Z","type":"message"}
{"nick":"othiym23","message":"it's actually the non-error tests that are a pain in the butt, and I'm getting *more* events tracked than I expect, rather than less","date":"2013-09-27T05:56:57.672Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T05:58:27.557Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-09-27T05:58:40.008Z","type":"join"}
{"nick":"dominictarr","date":"2013-09-27T06:02:30.787Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T06:13:36.325Z","type":"quit"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-27T06:14:05.048Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-27T06:23:31.790Z","type":"join"}
{"nick":"felixge","date":"2013-09-27T06:25:46.389Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-09-27T06:25:46.610Z","type":"quit"}
{"nick":"felixge","date":"2013-09-27T06:25:46.610Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-09-27T06:26:10.881Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T06:27:05.773Z","type":"quit"}
{"nick":"paddybyers","date":"2013-09-27T06:30:34.072Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #230 \u00037UNSTABLE\u000f windows-ia32 (7/600) windows-x64 (7/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/230/","date":"2013-09-27T06:43:14.842Z","type":"message"}
{"nick":"amartens","date":"2013-09-27T06:49:47.950Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-27T06:55:38.390Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T06:57:18.006Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T06:58:13.891Z","type":"quit"}
{"nick":"dsantiago","reason":"Quit: Leaving...","date":"2013-09-27T07:07:26.175Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-27T07:07:57.332Z","type":"quit"}
{"nick":"inolen","date":"2013-09-27T07:08:23.116Z","type":"join"}
{"nick":"rendar","date":"2013-09-27T07:09:12.342Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T07:09:36.152Z","type":"quit"}
{"nick":"dsantiago","date":"2013-09-27T07:12:52.446Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Jeff Switzer\u000f \u00037master\u000f * \u00022e13d0c\u0002 : fs: remove duplicate !options case - http://git.io/PhVDKg","date":"2013-09-27T07:18:10.510Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-27T07:20:16.661Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-09-27T07:26:31.366Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #582 \u00037UNSTABLE\u000f smartos-x64 (6/643) http://jenkins.nodejs.org/job/nodejs-master/582/","date":"2013-09-27T07:27:40.785Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #375 \u00037UNSTABLE\u000f windows-x64 (22/643) windows-ia32 (20/643) http://jenkins.nodejs.org/job/nodejs-master-windows/375/","date":"2013-09-27T07:37:25.980Z","type":"message"}
{"nick":"paddybyers_","date":"2013-09-27T07:40:53.165Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 268 seconds","date":"2013-09-27T07:41:00.302Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2013-09-27T07:41:00.522Z","type":"nick"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-09-27T07:49:54.323Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-27T07:56:48.296Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-27T08:11:28.310Z","type":"quit"}
{"nick":"kazupon","date":"2013-09-27T08:12:06.471Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T08:55:48.885Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T08:59:16.313Z","type":"join"}
{"nick":"inolen","date":"2013-09-27T09:02:51.956Z","type":"join"}
{"nick":"dominictarr","date":"2013-09-27T09:03:49.783Z","type":"join"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/issues/6271#issuecomment-25232635 <- looks like we hit a linux kernel bug","date":"2013-09-27T09:20:41.947Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T09:23:22.753Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-27T09:28:11.562Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2013-09-27T09:29:38.335Z","type":"quit"}
{"nick":"inolen","date":"2013-09-27T09:32:43.834Z","type":"join"}
{"nick":"rendar","message":"bnoordhuis: i saw that, i think using EPOLLET/EPOLLONESHOT for 0,1,2 fds would solve the problem, at least for libuv, right?","date":"2013-09-27T09:39:19.146Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-09-27T09:44:56.298Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-09-27T09:47:34.734Z","type":"quit"}
{"nick":"dominictarr","date":"2013-09-27T10:11:27.207Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-27T10:14:07.989Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T10:18:00.894Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T10:22:06.805Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-09-27T10:31:07.201Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T10:31:10.419Z","type":"join"}
{"nick":"indutny","message":"heya","date":"2013-09-27T10:38:49.252Z","type":"message"}
{"nick":"rendar","message":"does libuv have only UV_CHANGE and UV_RENAME for file notifications?","date":"2013-09-27T10:40:56.759Z","type":"message"}
{"nick":"Kakera","date":"2013-09-27T10:46:34.885Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1504 \u00037UNSTABLE\u000f smartos-x64 (3/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1504/","date":"2013-09-27T10:46:36.875Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-09-27T10:46:58.073Z","type":"join"}
{"nick":"rendar","message":"bnoordhuis: i saw that linux bug, using EPOLLET/EPOLLONESHOT for 0,1,2 fds would solve the problem, at least for libuv, right?","date":"2013-09-27T10:49:33.681Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T10:51:33.576Z","type":"quit"}
{"nick":"bnoordhuis","message":"rendar: correct","date":"2013-09-27T10:58:17.042Z","type":"message"}
{"nick":"bnoordhuis","message":"'EPOLLONESHOT and rearm' is probably easiest to implement in v0.10. it's not as if fds 0-2 require ultra-high performance","date":"2013-09-27T10:59:18.216Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: another epoll bug","date":"2013-09-27T11:05:10.470Z","type":"message"}
{"nick":"indutny","message":"and you tell kqueue is wicked :)","date":"2013-09-27T11:05:15.352Z","type":"message"}
{"nick":"dominictarr","date":"2013-09-27T11:05:24.832Z","type":"join"}
{"nick":"bnoordhuis","message":"bug-for-bug, event ports is still in the lead","date":"2013-09-27T11:07:00.493Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: i see","date":"2013-09-27T11:09:22.606Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: as far i understood, the bug presents only when someone actually closes fds 0,1,2...so also not closing them would prevent that?","date":"2013-09-27T11:10:09.797Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T11:23:57.705Z","type":"quit"}
{"nick":"bnoordhuis","message":"rendar: yes. but libuv needs to be a little more robust than that","date":"2013-09-27T11:29:57.131Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: god","date":"2013-09-27T11:33:25.006Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: this guy doesn't want to sign CLA :)","date":"2013-09-27T11:33:31.417Z","type":"message"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-09-27T11:33:55.921Z","type":"quit"}
{"nick":"indutny","message":"isaac: yt?","date":"2013-09-27T11:38:25.240Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^","date":"2013-09-27T11:41:00.311Z","type":"message"}
{"nick":"indutny","message":"I wonder if github comment may act as a CLA signature","date":"2013-09-27T11:41:15.712Z","type":"message"}
{"nick":"dominictarr","date":"2013-09-27T12:05:15.262Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-09-27T12:46:39.401Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-09-27T12:53:02.507Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T13:04:32.215Z","type":"nick"}
{"nick":"jmar777","date":"2013-09-27T13:21:17.437Z","type":"join"}
{"nick":"roxlu","date":"2013-09-27T13:25:41.808Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T13:25:47.308Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T13:26:25.525Z","type":"join"}
{"nick":"roxlu","message":"hi guys! does libuv have a functions that strips the filenme from a filepath?","date":"2013-09-27T13:28:41.903Z","type":"message"}
{"nick":"rendar","message":"roxlu: dunno, but it seems a pretty trivial operation! you can just take the last '\\\\' +1 as the filename string","date":"2013-09-27T13:31:09.616Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-09-27T13:31:32.942Z","type":"quit"}
{"nick":"roxlu","message":"yeah, but would be nice if libuv had it :) ","date":"2013-09-27T13:32:40.622Z","type":"message"}
{"nick":"abraxas","date":"2013-09-27T13:35:02.972Z","type":"join"}
{"nick":"EhevuTov","date":"2013-09-27T13:36:10.772Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-09-27T13:39:42.252Z","type":"quit"}
{"nick":"saghul","message":"roxlu it doesn't","date":"2013-09-27T13:43:36.336Z","type":"message"}
{"nick":"saghul","message":"also, I guess that doesn't hold true for those weird Windows paths","date":"2013-09-27T13:43:50.448Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 256 seconds","date":"2013-09-27T13:53:29.016Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 268 seconds","date":"2013-09-27T14:00:52.127Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-27T14:02:29.413Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: Leaving","date":"2013-09-27T14:09:10.831Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-27T14:21:09.640Z","type":"quit"}
{"nick":"mmalecki","message":"indutny: hey, how was that sticky cluster session module of yours called","date":"2013-09-27T14:21:12.574Z","type":"message"}
{"nick":"indutny","message":"hey man","date":"2013-09-27T14:21:43.664Z","type":"message"}
{"nick":"indutny","message":"sticky-session","date":"2013-09-27T14:21:47.283Z","type":"message"}
{"nick":"indutny","message":"I think","date":"2013-09-27T14:21:49.600Z","type":"message"}
{"nick":"mmalecki","message":"heh, thanks indutny, I found `sticky` on your github which appears to be a game :)","date":"2013-09-27T14:31:04.136Z","type":"message"}
{"nick":"indutny","message":"ahhaha","date":"2013-09-27T14:32:45.317Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T14:47:30.864Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T14:50:35.505Z","type":"join"}
{"nick":"groundwater","reason":"Client Quit","date":"2013-09-27T14:52:42.900Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T15:01:18.667Z","type":"quit"}
{"nick":"octetcloud","date":"2013-09-27T15:01:20.124Z","type":"join"}
{"nick":"AvianFlu","date":"2013-09-27T15:02:49.523Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-27T15:07:01.287Z","type":"join"}
{"nick":"octetcloud","reason":"Quit: WeeChat 0.4.0","date":"2013-09-27T15:07:22.385Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-09-27T15:11:54.238Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #583 \u00037UNSTABLE\u000f smartos-x64 (6/643) http://jenkins.nodejs.org/job/nodejs-master/583/","date":"2013-09-27T15:17:39.253Z","type":"message"}
{"nick":"octetcloud","date":"2013-09-27T15:17:45.770Z","type":"join"}
{"nick":"mikeal","date":"2013-09-27T15:22:19.876Z","type":"join"}
{"nick":"roxlu","message":"I'm trying to compile a project  which provides a \"libyuv.gyp\" file (note the 'y', not libuv ^.- ) but no other working info on how to compile this ","date":"2013-09-27T15:27:22.628Z","type":"message"}
{"nick":"roxlu","message":"As libuv uses gyp too, can someone maybe explain a bit how I can compile this project .. or generate a project file?","date":"2013-09-27T15:27:45.884Z","type":"message"}
{"nick":"octetcloud","reason":"Quit: WeeChat 0.4.1","date":"2013-09-27T15:28:03.117Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-09-27T15:31:18.711Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T15:35:07.952Z","type":"join"}
{"nick":"octetcloud","date":"2013-09-27T15:40:19.780Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T15:41:50.609Z","type":"quit"}
{"nick":"wwicks","date":"2013-09-27T15:42:31.309Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-09-27T15:51:20.906Z","type":"join"}
{"nick":"`3rdEden","new_nick":"`3E|GONE","date":"2013-09-27T15:56:54.546Z","type":"nick"}
{"nick":"octetcloud","reason":"Quit: WeeChat 0.4.1","date":"2013-09-27T16:02:10.567Z","type":"quit"}
{"nick":"octetcloud","date":"2013-09-27T16:04:34.801Z","type":"join"}
{"nick":"rendar","message":"does libuv have only UV_CHANGE and UV_RENAME for file notifications?","date":"2013-09-27T16:05:11.669Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: yes","date":"2013-09-27T16:05:22.020Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: why? it seems all other systems to support also creation and deletion of files","date":"2013-09-27T16:06:09.221Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: solaris and the bsds don't","date":"2013-09-27T16:07:05.456Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: hmm i see, kqueue doesn't support that?","date":"2013-09-27T16:07:19.365Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: no. it's inode based rather than path based","date":"2013-09-27T16:07:37.308Z","type":"message"}
{"nick":"rendar","message":"oh...i see","date":"2013-09-27T16:07:47.539Z","type":"message"}
{"nick":"rendar","message":"so the only way to see for a deletion or a creation of file is to polling the directory listing?","date":"2013-09-27T16:08:12.072Z","type":"message"}
{"nick":"rendar","message":"each tot seconds..","date":"2013-09-27T16:08:18.241Z","type":"message"}
{"nick":"bnoordhuis","message":"yep, correct","date":"2013-09-27T16:08:41.421Z","type":"message"}
{"nick":"rendar","message":"thats sucks..","date":"2013-09-27T16:08:55.935Z","type":"message"}
{"nick":"rendar","message":":(","date":"2013-09-27T16:08:59.698Z","type":"message"}
{"nick":"c4milo","date":"2013-09-27T16:09:13.390Z","type":"join"}
{"nick":"octetcloud","reason":"Quit: WeeChat 0.4.1","date":"2013-09-27T16:09:33.952Z","type":"quit"}
{"nick":"bnoordhuis","message":"lots of things do. a stoic accepts that and moves on","date":"2013-09-27T16:09:36.508Z","type":"message"}
{"nick":"bnoordhuis","message":"and cries only when other people don't see it","date":"2013-09-27T16:09:42.810Z","type":"message"}
{"nick":"rendar","message":"eheh","date":"2013-09-27T16:09:44.012Z","type":"message"}
{"nick":"rendar","message":"great words :)","date":"2013-09-27T16:09:47.722Z","type":"message"}
{"nick":"rendar","message":"bnoordhuis: btw even if kqueue is inode based instead of path based, you could hash map the unique inode to a path string, if you receive notifies as by inodes, or there is more?","date":"2013-09-27T16:10:34.310Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T16:11:15.151Z","type":"nick"}
{"nick":"amartens","date":"2013-09-27T16:12:23.318Z","type":"join"}
{"nick":"bnoordhuis","message":"rendar: yeah, there's tricks you can do like stat() the path and check if the inode is still the same","date":"2013-09-27T16:15:56.764Z","type":"message"}
{"nick":"bnoordhuis","message":"we may implement that some day","date":"2013-09-27T16:16:24.766Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-09-27T16:16:39.806Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2013-09-27T16:19:34.721Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFLu","date":"2013-09-27T16:19:37.197Z","type":"nick"}
{"nick":"AvianFLu","new_nick":"AvianFlu","date":"2013-09-27T16:19:40.517Z","type":"nick"}
{"nick":"octetcloud","date":"2013-09-27T16:23:19.424Z","type":"join"}
{"nick":"julianduque","date":"2013-09-27T16:23:45.025Z","type":"join"}
{"nick":"TooTallNate","date":"2013-09-27T16:28:52.563Z","type":"join"}
{"nick":"trevnorris","message":"morning all","date":"2013-09-27T16:29:08.076Z","type":"message"}
{"nick":"tjfontaine","message":"hello","date":"2013-09-27T16:30:45.864Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: if you know which buffers are leaking you can `<addr>::findjsobjects -r` to see who is still referencing them","date":"2013-09-27T16:31:04.229Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: I'm going to be doing a blog post this weekend about it","date":"2013-09-27T16:31:14.207Z","type":"message"}
{"nick":"wavded","date":"2013-09-27T16:31:14.432Z","type":"join"}
{"nick":"dap","date":"2013-09-27T16:31:32.011Z","type":"join"}
{"nick":"bnoordhuis","message":"morning tj","date":"2013-09-27T16:33:58.450Z","type":"message"}
{"nick":"tjfontaine","message":"morning ben","date":"2013-09-27T16:34:11.053Z","type":"message"}
{"nick":"tjfontaine","message":"how goes?","date":"2013-09-27T16:34:14.270Z","type":"message"}
{"nick":"bnoordhuis","message":"all's well. lazy friday. how about you?","date":"2013-09-27T16:35:28.657Z","type":"message"}
{"nick":"tjfontaine","message":"I was hoping to be a lazy day, but I woke up to find a meeting invite in my mailbox for a meeting that happened in 30 mins, so I am guessing the rest of my day will follow the hectic pattern ... mostly because I'm a pessimist","date":"2013-09-27T16:36:17.385Z","type":"message"}
{"nick":"groundwater","date":"2013-09-27T16:36:31.500Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: how's the latest noordhuis doing?","date":"2013-09-27T16:36:31.835Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: he's always hungry but i guess that's natural","date":"2013-09-27T16:38:54.132Z","type":"message"}
{"nick":"bnoordhuis","message":"re: meetings, i've found that once you start showing up smelling of booze, invitations get fewer and fewer","date":"2013-09-27T16:39:31.703Z","type":"message"}
{"nick":"tjfontaine","message":"had I been there in person, that effect would have been accomplished :)","date":"2013-09-27T16:40:15.150Z","type":"message"}
{"nick":"bnoordhuis","message":"apropos nothing, is constructor() a new global in newer versions of js?","date":"2013-09-27T16:41:22.661Z","type":"message"}
{"nick":"tjfontaine","message":"so on #6214, when do you think we should be doing the readStop?","date":"2013-09-27T16:41:33.257Z","type":"message"}
{"nick":"bnoordhuis","message":"d8> new constructor()","date":"2013-09-27T16:41:37.447Z","type":"message"}
{"nick":"bnoordhuis","message":"{print: function print() { [native code] }, write: function write() { [native code] }, read: function read() { [native code] }, readbuffer: function readbuffer() { [native code] }, readline: function readline() { [native code] }, load: function load() { [native code] }, quit: function quit() { [native code] }, version: function version() { [native code] }, Realm: {shared: undefined, current: function current() { [native code] ","date":"2013-09-27T16:41:38.432Z","type":"message"}
{"nick":"bnoordhuis","message":"^ that's with the current HEAD of v8","date":"2013-09-27T16:41:45.451Z","type":"message"}
{"nick":"tjfontaine","message":"huh, interesting","date":"2013-09-27T16:41:53.577Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i was thinking of upgrading but then all tests started failing because of unknown global 'constructor'","date":"2013-09-27T16:42:23.212Z","type":"message"}
{"nick":"bnoordhuis","message":"re #6214, i think (but am not sure) it's related to how we do pipelining","date":"2013-09-27T16:42:40.901Z","type":"message"}
{"nick":"bnoordhuis","message":"but if you put a heap profiler on it, you'll find that the incoming and outgoing arrays keep filling up","date":"2013-09-27T16:43:25.348Z","type":"message"}
{"nick":"bnoordhuis","message":"well, the incoming array in particular","date":"2013-09-27T16:43:33.058Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T16:49:58.692Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-09-27T16:50:16.488Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T16:50:38.390Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T16:50:55.995Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: still haven't completely traced why that one test is failing. i'm going to concentrate on finishing integrating w/ the remaining MakeCallbacks. Should be done by EOD. then I'll focus on that test.","date":"2013-09-27T16:51:00.388Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T16:53:08.710Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: not sure you're going to like how I'm finishing integrating AsyncWrap, but your WeakObject patch is working brilliantly. :)","date":"2013-09-27T16:53:11.565Z","type":"message"}
{"nick":"bnoordhuis","message":"that's good to hear :)","date":"2013-09-27T16:55:27.959Z","type":"message"}
{"nick":"M28","date":"2013-09-27T16:56:18.513Z","type":"join"}
{"nick":"hueniverse","message":"bnoordhuis: \"i've found that once you start showing up smelling of booze, invitations get fewer and fewer\" LOL. you do know this is public :-)","date":"2013-09-27T16:59:31.833Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T17:00:29.258Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:02:01.606Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T17:03:09.431Z","type":"join"}
{"nick":"saghul","reason":"Ping timeout: 264 seconds","date":"2013-09-27T17:14:52.346Z","type":"quit"}
{"nick":"hueniverse","message":"tjfontaine: when is the new 0.11 build coming?","date":"2013-09-27T17:15:12.569Z","type":"message"}
{"nick":"hueniverse","message":"I'd like to test it","date":"2013-09-27T17:15:19.339Z","type":"message"}
{"nick":"tjfontaine","message":"hueniverse: I'm running tests on another v8 upgrade -- once that looks clean and I get a lgtm from bnoordhuis or indutny, I'll cut the new release so you should have it for the weekend","date":"2013-09-27T17:16:11.399Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:16:34.994Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine: i was thinking of upgrading to 3.21","date":"2013-09-27T17:17:26.846Z","type":"message"}
{"nick":"bnoordhuis","message":"now that v8 is putting out 3.22 releases","date":"2013-09-27T17:17:40.183Z","type":"message"}
{"nick":"M28","date":"2013-09-27T17:17:41.386Z","type":"join"}
{"nick":"bnoordhuis","message":"seems to be running solid apart from the constructor thing","date":"2013-09-27T17:17:48.657Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: it feels a little late in the cycle?","date":"2013-09-27T17:17:53.147Z","type":"message"}
{"nick":"tjfontaine","message":"but, if it takes out some of that perf hit we were seeing it seems reasonable","date":"2013-09-27T17:18:11.349Z","type":"message"}
{"nick":"bnoordhuis","message":"well, the second-to-last branch is supposed to be the most stable","date":"2013-09-27T17:18:15.750Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-09-27T17:18:31.745Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm kind of worried we'll get stuck with an unsupported version like the 3.14 in v0.10","date":"2013-09-27T17:18:32.911Z","type":"message"}
{"nick":"isaacbw","message":"bnoordhuis: how's the babby","date":"2013-09-27T17:18:46.006Z","type":"message"}
{"nick":"tjfontaine","message":"ya, I just worry about the unknowns","date":"2013-09-27T17:18:58.138Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacbw: belligerent and always hungry","date":"2013-09-27T17:19:22.309Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:19:56.560Z","type":"quit"}
{"nick":"isaacbw","message":"proper!","date":"2013-09-27T17:20:25.807Z","type":"message"}
{"nick":"bnoordhuis","message":"he's also quite cute :)","date":"2013-09-27T17:20:57.391Z","type":"message"}
{"nick":"bnoordhuis","message":"takes after his dad","date":"2013-09-27T17:21:02.151Z","type":"message"}
{"nick":"M28","date":"2013-09-27T17:21:04.796Z","type":"join"}
{"nick":"saghul","date":"2013-09-27T17:22:45.297Z","type":"join"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/joyent/node/pull/6279 <- for your consideration","date":"2013-09-27T17:23:39.174Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:28:18.148Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T17:29:28.787Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-27T17:30:03.895Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:31:42.981Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T17:37:07.353Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-09-27T17:37:39.029Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-27T17:38:06.132Z","type":"join"}
{"nick":"st_luke","date":"2013-09-27T17:39:57.423Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: think Environment::GetCurrent(isolate); has much overhead? just curious.","date":"2013-09-27T17:41:35.948Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: sounds good re: finishing the integration before tackling my bug -- should I file an issue on your fork of node for tracking?","date":"2013-09-27T17:43:14.124Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:43:26.355Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: sure. or just post a comment in the PR. either way works for me.","date":"2013-09-27T17:43:53.721Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: then you can let me know if you find anything else out.","date":"2013-09-27T17:44:01.509Z","type":"message"}
{"nick":"M28","date":"2013-09-27T17:44:33.844Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: I've just been having a problem wrapping my head around how the boilerplate works in conjunction with the async listeners.","date":"2013-09-27T17:44:45.048Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: https://github.com/othiym23/async-listener/blob/master/glue.js#L5-L38 makes all the #6011 error tests pass under 0.10, and would do the same for 0.8 if I filter out all the setImmediate usage","date":"2013-09-27T17:45:14.910Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: if I have time (unlikely today, more likely tomorrow) I'll see if I can come up with an example that doesn't depend on all the CLS-related crud","date":"2013-09-27T17:45:46.764Z","type":"message"}
{"nick":"trevnorris","message":"wow. impressive you're actually getting a shim to resemble async listeners. but guess your use case is mainly cls.","date":"2013-09-27T17:46:14.701Z","type":"message"}
{"nick":"trevnorris","message":"so it's more focused than what async listeners allow you to do. that's nice.","date":"2013-09-27T17:46:41.116Z","type":"message"}
{"nick":"othiym23","message":"yeah, the context stuff is all bullshit right now, and I'm not sure how much of that I can jam in without resorting to C++","date":"2013-09-27T17:46:46.449Z","type":"message"}
{"nick":"trevnorris","message":"hah, yeah.","date":"2013-09-27T17:46:55.869Z","type":"message"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-27T17:47:40.118Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T17:47:47.016Z","type":"quit"}
{"nick":"othiym23","message":"{create,add,remove}AsyncListener have pretty much the same behavior in the polyfill that they do in the real code, since I ninja'd a bunch of it off the PR","date":"2013-09-27T17:47:51.447Z","type":"message"}
{"nick":"trevnorris","message":"awesome.","date":"2013-09-27T17:48:17.878Z","type":"message"}
{"nick":"othiym23","message":"this weekend I'm going to take a closer look at the _asyncStack stuff and see if it makes sense to try to copy that behavior with all the closures I'm creating","date":"2013-09-27T17:48:31.116Z","type":"message"}
{"nick":"M28","date":"2013-09-27T17:48:56.586Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T17:49:05.070Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T17:49:05.598Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T17:49:39.210Z","type":"join"}
{"nick":"c4milo","date":"2013-09-27T17:49:58.065Z","type":"join"}
{"nick":"trevnorris","message":"coolio","date":"2013-09-27T17:51:40.088Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #260 \u00037UNSTABLE\u000f windows (3/195) smartos (2/194) http://jenkins.nodejs.org/job/libuv-master/260/","date":"2013-09-27T17:54:15.035Z","type":"message"}
{"nick":"mikeal","date":"2013-09-27T17:57:46.521Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:01:40.821Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-09-27T18:02:26.441Z","type":"join"}
{"nick":"M28","date":"2013-09-27T18:02:47.828Z","type":"join"}
{"nick":"dominictarr","date":"2013-09-27T18:02:52.759Z","type":"join"}
{"nick":"kenperkins_","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2013-09-27T18:03:24.207Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:05:07.564Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:06:14.810Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:06:51.965Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #243 \u00037UNSTABLE\u000f smartos-x64 (6/643) http://jenkins.nodejs.org/job/libuv-node-integration/243/","date":"2013-09-27T18:07:34.216Z","type":"message"}
{"nick":"M28","date":"2013-09-27T18:07:59.389Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:08:42.353Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:09:49.388Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-27T18:11:16.739Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:11:16.958Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:12:09.388Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-09-27T18:12:56.609Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-09-27T18:13:28.526Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:14:22.528Z","type":"quit"}
{"nick":"indexzero","date":"2013-09-27T18:15:19.507Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: I'm not opposed to it, how about I do this small bump to 3.20.17.14 to fix this 64bit regression, cut the release, and then immediately land 3.21","date":"2013-09-27T18:17:20.208Z","type":"message"}
{"nick":"M28","date":"2013-09-27T18:17:31.386Z","type":"join"}
{"nick":"brson","date":"2013-09-27T18:19:11.723Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 256 seconds","date":"2013-09-27T18:19:14.946Z","type":"quit"}
{"nick":"indexzero","reason":"Client Quit","date":"2013-09-27T18:19:42.165Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T18:20:17.145Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:21:15.316Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:22:22.564Z","type":"join"}
{"nick":"sh1mmer","date":"2013-09-27T18:26:58.776Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:27:05.721Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-09-27T18:27:46.152Z","type":"join"}
{"nick":"sh1mmer","message":"Sorry for the dumb question. Is a baton just a struct to pass information back and forth between threads and the event loop?","date":"2013-09-27T18:27:46.787Z","type":"message"}
{"nick":"sh1mmer","message":"I can't find the term anywhere else other than people talking about libuv","date":"2013-09-27T18:27:57.448Z","type":"message"}
{"nick":"tjfontaine","message":"sh1mmer: a baton, like the thing you use in a relay race :)","date":"2013-09-27T18:28:33.334Z","type":"message"}
{"nick":"sh1mmer","message":"Ha, I know that","date":"2013-09-27T18:28:40.659Z","type":"message"}
{"nick":"sh1mmer","message":"I found a few people talking about a \"baton pattern\"","date":"2013-09-27T18:29:06.437Z","type":"message"}
{"nick":"tjfontaine","message":"sh1mmer: but yes, it's just a term to describe how the struct is being used, to yes pass information to/from the async mechanism","date":"2013-09-27T18:29:09.224Z","type":"message"}
{"nick":"sh1mmer","message":"Ok, I wanted to make sure I wasn't missing some larger context","date":"2013-09-27T18:29:43.280Z","type":"message"}
{"nick":"tjfontaine","message":"nope","date":"2013-09-27T18:29:49.315Z","type":"message"}
{"nick":"sh1mmer","message":"Thanks","date":"2013-09-27T18:29:50.674Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-09-27T18:30:32.832Z","type":"message"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2013-09-27T18:31:46.242Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:34:16.482Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:36:30.949Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:37:37.830Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:39:26.351Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T18:40:34.459Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 260 seconds","date":"2013-09-27T18:40:43.930Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris, bnoordhuis, TooTallNate, piscisaureus_, indutny: with isaac not being reachable at the moment to find and do the npm fix, I'm going to have to cut a new 0.10 with a revert to the version of npm that was shipped in 0.10.18","date":"2013-09-27T18:46:06.946Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: ok, noted","date":"2013-09-27T18:46:29.654Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-09-27T18:46:31.915Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: what is the NPM problem btw?","date":"2013-09-27T18:46:37.920Z","type":"message"}
{"nick":"tjfontaine","message":"there are a ton of people unable to `npm install` or `npm upgrade` because of the \"cb() not fired\" error","date":"2013-09-27T18:47:00.743Z","type":"message"}
{"nick":"tjfontaine","message":" I haven't actually root caused it at the moment","date":"2013-09-27T18:47:08.739Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:47:20.682Z","type":"quit"}
{"nick":"tjfontaine","message":"but even if I did, I wouldn't be comfortable floating a patch on npm since we don't have publish rights","date":"2013-09-27T18:47:41.812Z","type":"message"}
{"nick":"groundwater","date":"2013-09-27T18:47:50.937Z","type":"join"}
{"nick":"piscisaureus_","message":"tjfontaine: well, we can float patches on externally maintained libraries :)","date":"2013-09-27T18:48:02.963Z","type":"message"}
{"nick":"M28","date":"2013-09-27T18:48:27.827Z","type":"join"}
{"nick":"tjfontaine","message":"piscisaureus_: yes, but this isn't exactly the same thing, since it's a module published, if this were an internal library we absolutely would","date":"2013-09-27T18:48:30.205Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: otoh we'd be shipping a non-canonical version of npm, whcih makes me feel quite icky","date":"2013-09-27T18:48:49.618Z","type":"message"}
{"nick":"tjfontaine","message":"especially difficult since there would be a discrepency in what was published in the registry, vs what we actually shipped","date":"2013-09-27T18:49:37.912Z","type":"message"}
{"nick":"Domenic_","message":"when is isaac coming back :(","date":"2013-09-27T18:49:45.282Z","type":"message"}
{"nick":"tjfontaine","message":"he's supposed to be traveling back next week, but his availability is on the 7th as I understand it","date":"2013-09-27T18:50:42.653Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-27T18:50:52.679Z","type":"quit"}
{"nick":"jmar777","date":"2013-09-27T18:52:33.125Z","type":"join"}
{"nick":"octetcloud","message":"piscisaureus: is there anything on windows that could be used to get an equivalent to unix domain sockets? client-server IPC, with server named by a path?","date":"2013-09-27T18:53:07.670Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T18:53:16.710Z","type":"quit"}
{"nick":"piscisaureus_","message":"octetcloud: you mean, with node, with libuv?","date":"2013-09-27T18:54:12.684Z","type":"message"}
{"nick":"M28","date":"2013-09-27T18:54:24.985Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 248 seconds","date":"2013-09-27T18:54:29.768Z","type":"quit"}
{"nick":"piscisaureus_","message":"octetcloud: you can use named pipes already","date":"2013-09-27T18:54:51.871Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: but you won't be able to send FDs over them, except if you spawn a process with an IPC pipe to it","date":"2013-09-27T18:55:41.360Z","type":"message"}
{"nick":"groundwater","date":"2013-09-27T18:56:52.444Z","type":"join"}
{"nick":"piscisaureus_","message":"octetcloud: however the pipe name should start with \\\\.\\pipe\\","date":"2013-09-27T18:56:55.967Z","type":"message"}
{"nick":"octetcloud","message":"piscisaureus: with node, having .listen(\"/some/path\") work, but I assume that node doesn't have it because luv doesn't have it because windows doesn't have it","date":"2013-09-27T18:56:58.200Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: oh, yes, that works","date":"2013-09-27T18:57:11.682Z","type":"message"}
{"nick":"octetcloud","message":"aren't pipes one-way?","date":"2013-09-27T18:57:16.375Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: just .listen(\"\\\\\\\\.\\\\pipe\\\\some\\\\path\")","date":"2013-09-27T18:57:35.489Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: not on windows","date":"2013-09-27T18:57:43.695Z","type":"message"}
{"nick":"octetcloud","message":"http://nodejs.org/docs/latest/api/net.html#net_server_listen_path_callback","date":"2013-09-27T18:58:24.263Z","type":"message"}
{"nick":"octetcloud","message":"Are you saying that this is a lie? Its not a unix socket server, necessarily, and that it works on windows?","date":"2013-09-27T18:58:53.920Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: it is on unix. It's a named pipe on windows.","date":"2013-09-27T18:59:30.757Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:00:45.366Z","type":"quit"}
{"nick":"octetcloud","message":"piscisaureus: ok, so without the string escaping, a path of \\\\.\\pipe\\clusterctl would be an address in the current working dir?","date":"2013-09-27T19:01:25.040Z","type":"message"}
{"nick":"trevnorris","message":"sweet loving goodness. actually got the thing running and passing all the tests. now, to clean it all up.","date":"2013-09-27T19:01:36.458Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:01:44.812Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:03:28.901Z","type":"quit"}
{"nick":"octetcloud","message":"piscisaureus: and \\\\Apps\\That\\pipe\\clusterctl would be an abs path to a pipe?","date":"2013-09-27T19:04:36.067Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:06:36.880Z","type":"join"}
{"nick":"piscisaureus_","message":"octetcloud: it's doesn't become an actual fule","date":"2013-09-27T19:07:00.028Z","type":"message"}
{"nick":"piscisaureus_","message":"*file","date":"2013-09-27T19:07:02.990Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: but you could create a pipe called '\\\\.\\pipe\\apps\\that\\pipe\\clusterctl' for sure","date":"2013-09-27T19:08:01.679Z","type":"message"}
{"nick":"octetcloud","message":"ok, I see, so all path names exist in a special \\\\.\\pipe\\ namespace. which you can choose to mirror actual fs namespace, if you want, but don't have to.","date":"2013-09-27T19:09:03.769Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:09:50.394Z","type":"quit"}
{"nick":"octetcloud","message":"and node doesn't implicitly add the \\\\.\\pipe\\ to the front of the listen path? I assume, because my code was EINVALing on .listen(\"path\") on windows, which I assumed just meant there was no unix socket support","date":"2013-09-27T19:10:38.802Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:10:58.401Z","type":"join"}
{"nick":"piscisaureus_","message":"octetcloud: true that it doesn't auto-prepend \\\\.\\pipe","date":"2013-09-27T19:11:35.350Z","type":"message"}
{"nick":"piscisaureus_","message":"octetcloud: we could auto-prepend but it'd hide the fact that the path can not be relative to the current directory","date":"2013-09-27T19:11:59.873Z","type":"message"}
{"nick":"octetcloud","message":"path.resolve()?","date":"2013-09-27T19:13:02.335Z","type":"message"}
{"nick":"octetcloud","message":"seems better to prepend, than to have a fabulous but undocumented feature.","date":"2013-09-27T19:14:34.427Z","type":"message"}
{"nick":"piscisaureus_","message":"Maybe change the error","date":"2013-09-27T19:15:00.084Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: can you try running your tests against my latest?","date":"2013-09-27T19:15:10.934Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:15:11.473Z","type":"quit"}
{"nick":"piscisaureus_","message":"\"Error: EINVAL. But if you prepend with \\\\.\\pipe\\ it'd be fine\"","date":"2013-09-27T19:15:29.332Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:16:39.837Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 252 seconds","date":"2013-09-27T19:17:00.199Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T19:17:35.841Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T19:18:38.400Z","type":"quit"}
{"nick":"groundwater","date":"2013-09-27T19:18:49.386Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #376 \u00037UNSTABLE\u000f windows-x64 (23/643) windows-ia32 (26/643) http://jenkins.nodejs.org/job/nodejs-master-windows/376/","date":"2013-09-27T19:20:02.813Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:21:28.689Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-27T19:24:09.558Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: ping","date":"2013-09-27T19:24:27.346Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:24:37.514Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: pong","date":"2013-09-27T19:24:51.175Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: re v8 upgrade, sure, fine by me","date":"2013-09-27T19:25:27.875Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: i'm finding my tests are not deterministic. for example, sometimes it runs the \"before\" callback an extra time.","date":"2013-09-27T19:25:33.674Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: could be because of quantum","date":"2013-09-27T19:25:54.011Z","type":"message"}
{"nick":"trevnorris","message":"yeah.","date":"2013-09-27T19:26:03.564Z","type":"message"}
{"nick":"M28","reason":"Read error: No route to host","date":"2013-09-27T19:26:08.324Z","type":"quit"}
{"nick":"bnoordhuis","message":"unless you're one of those types who believes we live in a deterministic universe","date":"2013-09-27T19:26:14.002Z","type":"message"}
{"nick":"trevnorris","message":"haha, sure. why not. :)","date":"2013-09-27T19:26:26.228Z","type":"message"}
{"nick":"bnoordhuis","message":"what are you testing? asyncwrap?","date":"2013-09-27T19:26:46.895Z","type":"message"}
{"nick":"trevnorris","message":"yeah.","date":"2013-09-27T19:26:52.184Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 248 seconds","date":"2013-09-27T19:27:01.756Z","type":"quit"}
{"nick":"hz","date":"2013-09-27T19:27:03.327Z","type":"join"}
{"nick":"M28","date":"2013-09-27T19:27:04.383Z","type":"join"}
{"nick":"bnoordhuis","message":"and you're seeing the before callback getting invoked twice before the actual callback runs?","date":"2013-09-27T19:27:17.406Z","type":"message"}
{"nick":"trevnorris","message":"right now i'm keeping counters. and yeah. sometimes the counter is > than expected","date":"2013-09-27T19:27:44.636Z","type":"message"}
{"nick":"trevnorris","message":"but it's only 1/20-30 runs that it happens","date":"2013-09-27T19:28:06.487Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. then your job is to find out when and why that extra counter tick happens :)","date":"2013-09-27T19:28:49.430Z","type":"message"}
{"nick":"trevnorris","message":"hah, yeah. working on that. :)","date":"2013-09-27T19:28:58.720Z","type":"message"}
{"nick":"trevnorris","message":"pretty sure it has to do with the way timers work.","date":"2013-09-27T19:29:10.659Z","type":"message"}
{"nick":"c4milo","date":"2013-09-27T19:29:30.773Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-27T19:29:36.371Z","type":"quit"}
{"nick":"trevnorris","message":"since, timers that are set to run at the same time are grouped in a loop, like nextTick, but otherwise they call out to ReqWrap.","date":"2013-09-27T19:29:50.489Z","type":"message"}
{"nick":"bnoordhuis","message":"eh? not sure i follow","date":"2013-09-27T19:30:09.275Z","type":"message"}
{"nick":"`3E|GONE","new_nick":"`3rdEden","date":"2013-09-27T19:30:11.066Z","type":"nick"}
{"nick":"bnoordhuis","message":"node only has a single timer object really","date":"2013-09-27T19:30:17.433Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: hey man","date":"2013-09-27T19:31:27.364Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: isaacs is out","date":"2013-09-27T19:31:31.835Z","type":"message"}
{"nick":"indutny","message":"so probably I may ask you","date":"2013-09-27T19:31:36.420Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: what can we do in following situation https://github.com/joyent/node/pull/6270#issuecomment-25239052 ?","date":"2013-09-27T19:31:56.969Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: just fix it yourself","date":"2013-09-27T19:34:23.587Z","type":"message"}
{"nick":"bnoordhuis","message":"and do a hat tip in the commit log because we're decent people","date":"2013-09-27T19:34:50.296Z","type":"message"}
{"nick":"bnoordhuis","message":"admittedly the CLA is kind of silly, esp. for small changes like this","date":"2013-09-27T19:35:40.959Z","type":"message"}
{"nick":"bnoordhuis","message":"and even for bigger changes it's unlikely that a CLA will grant you more immunity","date":"2013-09-27T19:36:09.114Z","type":"message"}
{"nick":"bnoordhuis","message":"(IANAL but i spoke to one about that)","date":"2013-09-27T19:36:27.022Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:38:17.903Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: ok, I'll do it the other way around then","date":"2013-09-27T19:38:30.548Z","type":"message"}
{"nick":"M28","date":"2013-09-27T19:39:25.388Z","type":"join"}
{"nick":"bnoordhuis","message":"a regression test would be nice btw :)","date":"2013-09-27T19:39:45.402Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: no way :)","date":"2013-09-27T19:39:51.608Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: please wait for me :)","date":"2013-09-27T19:39:55.087Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: if you're going to release v0.10 today","date":"2013-09-27T19:40:02.715Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:43:38.586Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T19:44:45.907Z","type":"join"}
{"nick":"wavded","reason":"Quit: Hasta la pasta","date":"2013-09-27T19:44:51.529Z","type":"quit"}
{"nick":"trevnorris","message":"oy, so I get how setImmediate works. i'm too brain dead to see how we're calling out to run setTimeout.","date":"2013-09-27T19:46:21.955Z","type":"message"}
{"nick":"indutny","message":"trevnorris: pure magic, I told you","date":"2013-09-27T19:46:50.337Z","type":"message"}
{"nick":"trevnorris","message":"hah, yeah","date":"2013-09-27T19:46:55.686Z","type":"message"}
{"nick":"trevnorris","message":"ah, freak. ok I see it. thought a couple of those native callbacks were js callbacks.","date":"2013-09-27T19:47:19.838Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ok, so if you setTimeout the first time it's going to create a new TimeWrap instance, but any setTimeout's schedules to run at the same time are going to piggy-back on the first.","date":"2013-09-27T19:48:30.409Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: correct","date":"2013-09-27T19:48:39.426Z","type":"message"}
{"nick":"bnoordhuis","message":"even better, other setTimeout timers also use that single TimeWrap","date":"2013-09-27T19:49:02.682Z","type":"message"}
{"nick":"bnoordhuis","message":"it's only when you start unref'ing timers that new TimeWraps get created","date":"2013-09-27T19:49:17.423Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: please review https://github.com/joyent/node/pull/6283","date":"2013-09-27T19:49:33.867Z","type":"message"}
{"nick":"trevnorris","message":"yeah, so I have to detect whether that's happening and either let the async listener be handled by AsyncWrap::AsyncWrap, or if I have to handle it in js","date":"2013-09-27T19:49:34.091Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i don't think that fixes it","date":"2013-09-27T19:52:14.190Z","type":"message"}
{"nick":"bnoordhuis","message":"what if read==0?","date":"2013-09-27T19:52:47.281Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: its ok","date":"2013-09-27T19:54:06.773Z","type":"message"}
{"nick":"indutny","message":"there's condition for it","date":"2013-09-27T19:54:12.307Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so, if I run two setTimeouts immediately, sometimes it makes two calls to MakeCallback, and sometimes it doesn't.","date":"2013-09-27T19:54:13.119Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T19:54:20.214Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T19:54:40.818Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T19:55:14.416Z","type":"join"}
{"nick":"tjfontaine","message":"indutny: I'm going to spend more time on this npm thing, so I won't release 0.10 without you","date":"2013-09-27T19:55:20.133Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: oh right, so there is","date":"2013-09-27T19:59:59.539Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: thanks","date":"2013-09-27T20:02:53.792Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: waiting for tests","date":"2013-09-27T20:02:57.249Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u0002671b5be\u0002 : tls: fix sporadic hang and partial reads - http://git.io/q5cZ2A","date":"2013-09-27T20:03:27.712Z","type":"message"}
{"nick":"st_luke","date":"2013-09-27T20:04:38.510Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: sure, just gimme a minute","date":"2013-09-27T20:05:40.769Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-09-27T20:07:22.739Z","type":"quit"}
{"nick":"trevnorris","message":"race conditions are just the best to debug!","date":"2013-09-27T20:07:31.797Z","type":"message"}
{"nick":"othiym23","message":"isn't that why we started using Node in the first place?","date":"2013-09-27T20:08:27.327Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:08:28.228Z","type":"quit"}
{"nick":"tjfontaine","message":":)","date":"2013-09-27T20:08:46.081Z","type":"message"}
{"nick":"M28","date":"2013-09-27T20:09:13.468Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T20:09:19.373Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: fyi, running those tests are more just so I know how they're doing. still a lot of cleanup needs to be done there.","date":"2013-09-27T20:10:05.563Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: it's not a problem, not expecting perfection yet ;)","date":"2013-09-27T20:11:05.341Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so, all i've been able to deduce so far is that if you run two setTimeout's next to each other w/ 0 timeout. sometimes TimerWrap::OnTimeout runs onces, and sometimes twice.","date":"2013-09-27T20:11:10.107Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1505 \u00037UNSTABLE\u000f linux-x64 (1/600) smartos-x64 (2/600) osx-ia32 (1/600) osx-x64 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1505/","date":"2013-09-27T20:11:10.923Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: is that something you might consider a problem? if not, then i'll just have to code around it.","date":"2013-09-27T20:11:41.777Z","type":"message"}
{"nick":"trevnorris","message":"since I thought it would be more deterministic.","date":"2013-09-27T20:11:48.278Z","type":"message"}
{"nick":"othiym23","message":"if the system is OK with that it seems like there's some nondeterminism getting papered over","date":"2013-09-27T20:12:42.290Z","type":"message"}
{"nick":"trevnorris","message":"that's what i'm trying to figure out.","date":"2013-09-27T20:12:59.182Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:13:00.371Z","type":"quit"}
{"nick":"trevnorris","message":"because the actual callback only ever gets run the correct number of times.","date":"2013-09-27T20:13:15.052Z","type":"message"}
{"nick":"othiym23","message":"right","date":"2013-09-27T20:13:52.922Z","type":"message"}
{"nick":"M28","date":"2013-09-27T20:14:10.210Z","type":"join"}
{"nick":"indutny","message":"tjfontaine: pushed fix","date":"2013-09-27T20:14:17.049Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: nod","date":"2013-09-27T20:14:23.575Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: you're ready to go, once you'll finish your thing ;)","date":"2013-09-27T20:14:28.607Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: all of CLS's tests pass","date":"2013-09-27T20:14:37.204Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: let me try the agent","date":"2013-09-27T20:14:41.128Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: is anything ever done? :)","date":"2013-09-27T20:14:59.513Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: and the agent's tests are in the same place, with the same mix of crashes due to modules being incompatible with 0.11 and that issue I found yesterday","date":"2013-09-27T20:16:50.909Z","type":"message"}
{"nick":"othiym23","message":"I'm pretty psyched that it looks like 0.12 isn't going to move my cheese as far as error tracing is concerned","date":"2013-09-27T20:17:38.059Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:17:43.888Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T20:18:34.596Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T20:19:42.641Z","type":"nick"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:22:01.421Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T20:23:11.622Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T20:23:12.514Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: does that happen with master, i.e. with no asyncwrap? if yes, a test case would be appreciated","date":"2013-09-27T20:26:09.788Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: yes, and test case is simple enough. problem is to detect I fprintf in OnTimeout","date":"2013-09-27T20:27:20.769Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so i'm still figuring out a way to detect it externally","date":"2013-09-27T20:27:37.607Z","type":"message"}
{"nick":"othiym23","message":"drop a dtrace probe in there?","date":"2013-09-27T20:27:52.249Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: coolio. good to hear.","date":"2013-09-27T20:27:56.759Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:29:33.197Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: ah, ok. so it seems like sometimes they're on the same linked list, and other times they're not.","date":"2013-09-27T20:30:11.889Z","type":"message"}
{"nick":"trevnorris","message":"no idea why though","date":"2013-09-27T20:30:20.773Z","type":"message"}
{"nick":"M28","date":"2013-09-27T20:30:40.522Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: let's talk about it more tomorrow. i'm signing off for tonight","date":"2013-09-27T20:31:09.571Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: sounds good. night.","date":"2013-09-27T20:31:18.104Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight :)","date":"2013-09-27T20:31:30.191Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T20:31:35.425Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: you mean the same node bucket or libuv linked list?","date":"2013-09-27T20:31:53.739Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: from lib/_linkedlist","date":"2013-09-27T20:32:42.918Z","type":"message"}
{"nick":"st_luke","date":"2013-09-27T20:32:55.021Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: ok, so you're seeing two setTimeout()'s scheduled on the same turn in separate linked lists?","date":"2013-09-27T20:33:37.220Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #231 \u00037UNSTABLE\u000f windows-ia32 (8/600) windows-x64 (9/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/231/","date":"2013-09-27T20:34:53.408Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: no. that is you run setTimeout twice, right next to each other, sometimes they are on the same linked list, and other times they both instantiate a new Timer. at least that's the way it looks. still debugging it though.","date":"2013-09-27T20:34:55.460Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: yes, setTimeout() setTimeout() two scheduled in the same turn","date":"2013-09-27T20:35:29.588Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-09-27T20:35:51.657Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-27T20:36:24.459Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:36:26.258Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T20:36:47.652Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T20:37:34.419Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:39:28.861Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T20:40:29.641Z","type":"nick"}
{"nick":"M28","date":"2013-09-27T20:40:36.418Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: ah, think I have it. so in the while() in listOnTimeout there's a var diff = now - first._idleStart. then it dos a if (diff < msec) { }. I think that's supposed to be an if (diff < msec && diff > 0) { }","date":"2013-09-27T20:40:42.684Z","type":"message"}
{"nick":"trevnorris","message":"on the later if() it fixes the problem.","date":"2013-09-27T20:40:56.827Z","type":"message"}
{"nick":"st_luke","date":"2013-09-27T20:41:10.958Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T20:41:20.332Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T20:41:34.783Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:43:45.386Z","type":"quit"}
{"nick":"trevnorris","message":"wtf. but that's causing test-child-process-fork-dgram to fail. how... what....","date":"2013-09-27T20:44:01.599Z","type":"message"}
{"nick":"trevnorris","message":"ooh, and a lot of other problems as well.","date":"2013-09-27T20:44:30.428Z","type":"message"}
{"nick":"M28","date":"2013-09-27T20:45:33.396Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: what do you think? if diff == 0 in listOnTimeout then it'll cause two setTimeout's to run in separate uv_run loops. but the simple fix in the if () causes a bunch of other stuff to break.","date":"2013-09-27T20:46:35.462Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:48:17.344Z","type":"quit"}
{"nick":"tjfontaine","message":"I'm sorry I can't context switch out atm","date":"2013-09-27T20:48:20.327Z","type":"message"}
{"nick":"c4milo","date":"2013-09-27T20:48:31.115Z","type":"join"}
{"nick":"trevnorris","message":"ah yeah. npm.","date":"2013-09-27T20:48:35.728Z","type":"message"}
{"nick":"trevnorris","message":"good luck w/ that :)","date":"2013-09-27T20:48:39.985Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 264 seconds","date":"2013-09-27T20:49:18.299Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T20:51:25.804Z","type":"join"}
{"nick":"wwicks","date":"2013-09-27T20:53:24.165Z","type":"join"}
{"nick":"wwicks","new_nick":"Guest94840","date":"2013-09-27T20:53:48.176Z","type":"nick"}
{"nick":"trevnorris","message":"ah, I see. so my patch is doing exactly what it was supposed to be doing. I just didn't realize it. :P","date":"2013-09-27T20:54:32.195Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: so the timer has it's own callback, which gets registered to asyncListener, but also each callback passed to the timer. so when it has to make a second, unexpected, call to MakeCallback it adds one to the counter.","date":"2013-09-27T20:55:33.002Z","type":"message"}
{"nick":"Guest94840","reason":"Client Quit","date":"2013-09-27T20:55:42.302Z","type":"quit"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T20:56:14.403Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: that makes sense, but that seems like that could be hazardous for listeners if they're not aware of it","date":"2013-09-27T20:56:42.343Z","type":"message"}
{"nick":"trevnorris","message":"yeah. i'm trying to write a test case. kinda hard though.","date":"2013-09-27T20:57:14.117Z","type":"message"}
{"nick":"M28","date":"2013-09-27T20:59:23.122Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: because even running nextTick in setTimeout will add just enough time to run the next setTimeout in the same tick.","date":"2013-09-27T21:00:10.992Z","type":"message"}
{"nick":"othiym23","message":"is there a reason we're using ms accuracy there instead of hrtime?","date":"2013-09-27T21:01:16.665Z","type":"message"}
{"nick":"trevnorris","message":"i dunno","date":"2013-09-27T21:01:27.618Z","type":"message"}
{"nick":"othiym23","message":"I'll admit I'm not super familiar with that chunk of the code","date":"2013-09-27T21:01:49.215Z","type":"message"}
{"nick":"mikeal","date":"2013-09-27T21:05:28.120Z","type":"join"}
{"nick":"trevnorris","message":"ah suck it. was wondering why I couldn't reproduce. it was because my patch for fix was still in there. :P","date":"2013-09-27T21:06:01.152Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T21:07:35.008Z","type":"nick"}
{"nick":"trevnorris","message":"yes!!!!","date":"2013-09-27T21:08:25.279Z","type":"message"}
{"nick":"trevnorris","message":"was finally able to produce a test case.","date":"2013-09-27T21:08:32.658Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine, othiym23: https://github.com/joyent/node/issues/6285","date":"2013-09-27T21:16:56.422Z","type":"message"}
{"nick":"julianduque","date":"2013-09-27T21:17:00.436Z","type":"join"}
{"nick":"trevnorris","message":"ircretary: tell bnoordhuis finally was able to create a test case: https://github.com/joyent/node/issues/6285","date":"2013-09-27T21:17:14.777Z","type":"message"}
{"nick":"ircretary","message":"trevnorris: I'll be sure to tell bnoordhuis","date":"2013-09-27T21:17:15.370Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:19:12.503Z","type":"quit"}
{"nick":"trevnorris","message":"only took me 3 hours, but i'm proud of that one :)","date":"2013-09-27T21:19:13.015Z","type":"message"}
{"nick":"othiym23","message":"nice bug d00d","date":"2013-09-27T21:19:48.533Z","type":"message"}
{"nick":"trevnorris","message":"thanks","date":"2013-09-27T21:20:34.511Z","type":"message"}
{"nick":"othiym23","message":"couldn't you just add an assert to the end to make sure tracking == [1, 2, 3, 4]?","date":"2013-09-27T21:20:36.820Z","type":"message"}
{"nick":"trevnorris","message":"guess so.","date":"2013-09-27T21:20:58.259Z","type":"message"}
{"nick":"trevnorris","message":"problem is it still wouldn't do much as an actual test, because it very very racey.","date":"2013-09-27T21:21:22.172Z","type":"message"}
{"nick":"othiym23","message":"yeah, but your little shell loop takes care of that","date":"2013-09-27T21:21:39.637Z","type":"message"}
{"nick":"othiym23","message":"there are way more subtle race conditions out there","date":"2013-09-27T21:21:52.748Z","type":"message"}
{"nick":"EhevuTov","date":"2013-09-27T21:22:02.444Z","type":"join"}
{"nick":"trevnorris","message":"heh, don't remind me :P","date":"2013-09-27T21:22:03.337Z","type":"message"}
{"nick":"wwicks_","date":"2013-09-27T21:22:09.344Z","type":"join"}
{"nick":"M28","date":"2013-09-27T21:22:19.384Z","type":"join"}
{"nick":"othiym23","message":"was reading in aphyr's latest post (on Cassandra) that the chubby team came up with a test case that took 3 weeks of running under heavy load to fail","date":"2013-09-27T21:22:21.170Z","type":"message"}
{"nick":"othiym23","message":"but it eventually failed!","date":"2013-09-27T21:22:24.954Z","type":"message"}
{"nick":"EhevuTov","reason":"Remote host closed the connection","date":"2013-09-27T21:22:25.174Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: seriously though. if you want to see how much async is really going on in the background, create a counter in the async listener, run some stuff then print the counter value on process exit.","date":"2013-09-27T21:22:38.384Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not really sure I care about the determinism of this :/","date":"2013-09-27T21:22:47.140Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: hahaha, that's insane.","date":"2013-09-27T21:23:11.117Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: only reason it's bother me is because it's causing my async listener tests to fail. since I can't be deterministic about how many times the lister is going to fire.","date":"2013-09-27T21:23:44.583Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i mean, I agree that if you're writing async code, then the ordering should be non-deterministic in nature","date":"2013-09-27T21:24:19.029Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:24:19.253Z","type":"quit"}
{"nick":"tjfontaine","message":"I will need to think on it more","date":"2013-09-27T21:24:29.279Z","type":"message"}
{"nick":"tjfontaine","message":"for now back into npm worl","date":"2013-09-27T21:24:36.518Z","type":"message"}
{"nick":"tjfontaine","message":"d","date":"2013-09-27T21:24:38.673Z","type":"message"}
{"nick":"wwicks_","reason":"Client Quit","date":"2013-09-27T21:24:48.189Z","type":"quit"}
{"nick":"trevnorris","message":"yeah. you focus on that. much more important to actually releasing something.","date":"2013-09-27T21:24:54.762Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: how did they even figure out there was a race condition to test?","date":"2013-09-27T21:25:05.273Z","type":"message"}
{"nick":"M28","date":"2013-09-27T21:25:09.383Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: they didn't, but they were testing a quorum protocol and knew it needed to be tested hard","date":"2013-09-27T21:25:56.558Z","type":"message"}
{"nick":"trevnorris","message":"interesting.","date":"2013-09-27T21:26:19.170Z","type":"message"}
{"nick":"othiym23","message":"it's in here, which is a fascinating paper: http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/archive/paxos_made_live.pdf","date":"2013-09-27T21:26:34.132Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, even if we decide not to fix it (which I'm fine with btw) i'd at least like to add a comment to the code. but you focus on npm!","date":"2013-09-27T21:27:12.900Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: thanks. i'll take a read once I finish this patch. ;)","date":"2013-09-27T21:27:37.068Z","type":"message"}
{"nick":"othiym23","message":":thumbsup:","date":"2013-09-27T21:27:46.568Z","type":"message"}
{"nick":"tjfontaine","message":"mother fucking ansi color codes","date":"2013-09-27T21:28:09.365Z","type":"message"}
{"nick":"trevnorris","message":"haha, what's up?","date":"2013-09-27T21:28:22.238Z","type":"message"}
{"nick":"tjfontaine","message":"dtrace -Z -wn '::write:entry/execname == \"node\" && strstr(this->str = copyinstr(arg1), \"npm ERR! cb() never called!\") == this->str/{ printf(\"stopping process %d\\n\", pid); stop(); }'","date":"2013-09-27T21:28:23.621Z","type":"message"}
{"nick":"tjfontaine","message":"I was going to stop the node process when it hits the error","date":"2013-09-27T21:28:34.115Z","type":"message"}
{"nick":"tjfontaine","message":"but that doesn't work IF NPM WANTS TO DRAW FUCKING COLORS","date":"2013-09-27T21:28:47.905Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: FUCK IT ALL","date":"2013-09-27T21:28:59.606Z","type":"message"}
{"nick":"LOUDBOT","message":"tjfontaine: WALK WITHOUT RHYTHYM AND YOU WON'T TRIP THE GAIT IDENTIFICATION ALGORITHMS","date":"2013-09-27T21:29:00.153Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: and don't tell me, there's no option to run w/o colors. :-/","date":"2013-09-27T21:29:22.913Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:29:27.502Z","type":"quit"}
{"nick":"tjfontaine","message":"there is I just have to find it","date":"2013-09-27T21:30:20.219Z","type":"message"}
{"nick":"tjfontaine","message":"pissing me off","date":"2013-09-27T21:30:22.596Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: pipe to cat","date":"2013-09-27T21:31:22.823Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: not for what I'm trying to achieve, I am using dtrace to stop the process when it's at that state so I can gcore","date":"2013-09-27T21:31:41.182Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: so I need the exact string that npm is sending to the write syscall","date":"2013-09-27T21:31:52.124Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: --color=false","date":"2013-09-27T21:31:55.394Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: npm set color false","date":"2013-09-27T21:32:07.011Z","type":"message"}
{"nick":"trevnorris","message":"npm <comment> --color=false","date":"2013-09-27T21:32:16.871Z","type":"message"}
{"nick":"trevnorris","message":"*<command>","date":"2013-09-27T21:32:21.935Z","type":"message"}
{"nick":"M28","date":"2013-09-27T21:32:29.382Z","type":"join"}
{"nick":"TooTallNate","message":"same diff guise :p","date":"2013-09-27T21:32:40.523Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-09-27T21:32:51.261Z","type":"message"}
{"nick":"tjfontaine","message":"not really, one is ephemeral","date":"2013-09-27T21:32:55.037Z","type":"message"}
{"nick":"tjfontaine","message":"anyway","date":"2013-09-27T21:32:55.821Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: or if you do npm config set color false","date":"2013-09-27T21:33:24.784Z","type":"message"}
{"nick":"trevnorris","message":"then it'll always be off","date":"2013-09-27T21:33:28.118Z","type":"message"}
{"nick":"tjfontaine","message":"thanks for catching up trevor :)","date":"2013-09-27T21:33:48.640Z","type":"message"}
{"nick":"rendar","date":"2013-09-27T21:34:13.812Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: yeah... do that quite often. see a question, find the answer and don't bother to check if it's been answered already.","date":"2013-09-27T21:34:44.226Z","type":"message"}
{"nick":"M28_","date":"2013-09-27T21:39:50.389Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:39:50.389Z","type":"quit"}
{"nick":"M28_","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:40:15.311Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T21:43:22.388Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: don't know if you're getting this issue on master, but right now when I run npm on master when downloading a lot of packages it'll do","date":"2013-09-27T21:44:39.474Z","type":"message"}
{"nick":"trevnorris","message":"../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.","date":"2013-09-27T21:44:39.697Z","type":"message"}
{"nick":"trevnorris","message":"Aborted (core dumped)","date":"2013-09-27T21:44:39.697Z","type":"message"}
{"nick":"trevnorris","message":"is that part of the problem you're trying to fix?","date":"2013-09-27T21:44:46.661Z","type":"message"}
{"nick":"tjfontaine","message":"that's happening on 0.10.19?","date":"2013-09-27T21:45:24.786Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: whatever version of npm is in master","date":"2013-09-27T21:45:59.860Z","type":"message"}
{"nick":"tjfontaine","message":"that error you're seeing there has more to do master than with npm","date":"2013-09-27T21:46:45.471Z","type":"message"}
{"nick":"trevnorris","message":"yeah, figured.","date":"2013-09-27T21:46:50.985Z","type":"message"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:48:05.633Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T21:48:08.633Z","type":"nick"}
{"nick":"wolfeidau_","date":"2013-09-27T21:49:41.671Z","type":"join"}
{"nick":"M28","date":"2013-09-27T21:52:19.186Z","type":"join"}
{"nick":"LeftWing__","date":"2013-09-27T21:52:43.416Z","type":"join"}
{"nick":"Ralt_","date":"2013-09-27T21:52:50.634Z","type":"join"}
{"nick":"LeftWing","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:53:01.398Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2013-09-27T21:54:23.870Z","type":"quit"}
{"nick":"wwicks","date":"2013-09-27T21:56:09.707Z","type":"join"}
{"nick":"M28_","date":"2013-09-27T21:57:57.174Z","type":"join"}
{"nick":"M28_","reason":"Read error: Connection reset by peer","date":"2013-09-27T21:57:57.614Z","type":"quit"}
{"nick":"Ralt","reason":"Quit: Bye","date":"2013-09-27T21:57:57.834Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-27T22:01:32.763Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T22:02:21.589Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T22:02:46.523Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-27T22:03:27.792Z","type":"join"}
{"nick":"M28","date":"2013-09-27T22:05:02.392Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-27T22:06:23.833Z","type":"nick"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-09-27T22:07:15.806Z","type":"quit"}
{"nick":"M28","date":"2013-09-27T22:08:24.340Z","type":"join"}
{"nick":"ecr","date":"2013-09-27T22:13:01.706Z","type":"join"}
{"nick":"ecr","reason":"Client Quit","date":"2013-09-27T22:13:02.402Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T22:14:49.447Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T22:15:13.003Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-27T22:15:34.388Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-27T22:16:02.451Z","type":"quit"}
{"nick":"c4milo","date":"2013-09-27T22:16:18.287Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: btw, you might notice that the async listener runs >= before/after run. that's because not all async requests result in a MakeCallback.","date":"2013-09-27T22:24:45.478Z","type":"message"}
{"nick":"ecr","date":"2013-09-27T22:26:16.255Z","type":"join"}
{"nick":"othiym23","message":"yeah, that makes sense","date":"2013-09-27T22:26:32.399Z","type":"message"}
{"nick":"othiym23","message":"my goal now is to make the polyfill run the listener the correct number of times","date":"2013-09-27T22:26:48.801Z","type":"message"}
{"nick":"othiym23","message":"it has a tendency to overshoot now, and I'm not sure why","date":"2013-09-27T22:26:59.891Z","type":"message"}
{"nick":"trevnorris","message":"mine or yours?","date":"2013-09-27T22:27:16.702Z","type":"message"}
{"nick":"hz","date":"2013-09-27T22:33:58.706Z","type":"quit"}
{"nick":"othiym23","message":"mine, yours works fine","date":"2013-09-27T22:50:12.009Z","type":"message"}
{"nick":"othiym23","message":"there's a lot that could be going on with the polyfill","date":"2013-09-27T22:50:22.742Z","type":"message"}
{"nick":"othiym23","message":"I actually do need to figure out if the polyfill has bugs that affect CLS, because I need to nail down all the ways CLS and New Relic's transaction tracer can fail to explain some weirdness I'm weeing","date":"2013-09-27T22:51:01.421Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-27T22:52:48.288Z","type":"nick"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-27T22:56:16.402Z","type":"quit"}
{"nick":"ecr","reason":"Quit: ecr","date":"2013-09-27T23:04:42.181Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 252 seconds","date":"2013-09-27T23:27:15.179Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: makes sense. the polyfill you're writing is definitely on the difficult/abstract side.","date":"2013-09-27T23:29:09.048Z","type":"message"}
{"nick":"trevnorris","message":"to be honest I'm surprised that my code is already passing your cls tests","date":"2013-09-27T23:29:23.649Z","type":"message"}
{"nick":"AvianFlu","date":"2013-09-27T23:33:34.770Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 245 seconds","date":"2013-09-27T23:37:06.594Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-27T23:38:02.785Z","type":"quit"}
{"nick":"Kakera","reason":"Ping timeout: 246 seconds","date":"2013-09-27T23:38:28.870Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-27T23:38:55.898Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-09-27T23:39:07.511Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: the tests mostly exercise code paths that touch MakeCallback to ensure that the async listener is pushing CLS across the async gaps","date":"2013-09-27T23:39:32.188Z","type":"message"}
{"nick":"othiym23","message":"they're comprehensive but not super deep","date":"2013-09-27T23:39:36.621Z","type":"message"}
{"nick":"othiym23","message":"CLS is a pretty simple application of the asyncListener API","date":"2013-09-27T23:39:50.478Z","type":"message"}
{"nick":"trevnorris","message":"well, it's a good start :)","date":"2013-09-27T23:39:57.039Z","type":"message"}
{"nick":"Benvie","date":"2013-09-27T23:40:17.716Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: i'll spend some more time on that test case this weekend. I haven't been able to figure out yet why this.active in Namespace#enter() is just an {}.","date":"2013-09-27T23:42:05.800Z","type":"message"}
{"nick":"trevnorris","message":"w/o state: { transaction: { id: 1337 } } } set","date":"2013-09-27T23:42:24.358Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: how's npm treating you?","date":"2013-09-27T23:53:09.283Z","type":"message"}

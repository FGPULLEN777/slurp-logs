{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-02-19T00:00:01.494Z","type":"quit"}
{"nick":"ircretary","date":"2013-02-19T00:00:09.210Z","type":"join"}
{"nick":"wolfeidau","date":"2013-02-19T00:30:08.577Z","type":"join"}
{"nick":"karupanerura","reason":"Excess Flood","date":"2013-02-19T00:30:15.429Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-19T00:32:24.323Z","type":"join"}
{"nick":"karupanerura","date":"2013-02-19T00:34:00.783Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-19T01:05:52.608Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-02-19T01:06:29.620Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-19T01:19:06.631Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-19T01:19:44.182Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 256 seconds","date":"2013-02-19T01:24:26.004Z","type":"quit"}
{"nick":"AvianFlu_","date":"2013-02-19T01:31:29.707Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 252 seconds","date":"2013-02-19T01:32:08.127Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-02-19T01:32:12.181Z","type":"nick"}
{"nick":"abraxas","date":"2013-02-19T01:38:14.753Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T01:42:55.116Z","type":"quit"}
{"nick":"isaacs","message":"ircretary: tell trevnorris Looking into 0a9930a tls stuff now","date":"2013-02-19T01:43:05.060Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell trevnorris","date":"2013-02-19T01:43:05.594Z","type":"message"}
{"nick":"isaacs","message":"indutny: ^","date":"2013-02-19T01:43:09.259Z","type":"message"}
{"nick":"isaacs","message":"indutny: are you seeing that failure as well?","date":"2013-02-19T01:44:47.962Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-19T01:46:48.956Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T01:52:40.782Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T02:03:31.616Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-02-19T02:05:28.701Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-19T02:17:29.276Z","type":"quit"}
{"nick":"isaacs","message":"oh, ok, i see.","date":"2013-02-19T02:20:32.294Z","type":"message"}
{"nick":"isaacs","message":"the issue is that we're asserting that we get a specific number of ECONNRESETs, but in fact, that is timing-dependent.","date":"2013-02-19T02:20:46.665Z","type":"message"}
{"nick":"isaacs","message":"no wonder trevnorris's bisect produced screwey results.","date":"2013-02-19T02:20:58.329Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-02-19T02:35:16.531Z","type":"quit"}
{"nick":"isaacs","message":"test/simple/test-tls-pause.js is a bit more complicated..","date":"2013-02-19T02:41:24.972Z","type":"message"}
{"nick":"isaacs","message":"that seems to work fine on osx, but is broken oddly on linux, and only in the latest v0.8 merge, it seems","date":"2013-02-19T02:41:51.601Z","type":"message"}
{"nick":"pooya","date":"2013-02-19T02:42:42.313Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-19T02:49:43.652Z","type":"quit"}
{"nick":"isaacs","message":"oh, no, it's much older bug than that","date":"2013-02-19T02:51:44.674Z","type":"message"}
{"nick":"isaacs","action":"</3 sometimes-passing tests.","date":"2013-02-19T02:51:59.228Z","type":"action"}
{"nick":"stagas_","date":"2013-02-19T03:21:39.665Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 276 seconds","date":"2013-02-19T03:24:21.885Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T03:24:34.355Z","type":"nick"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-19T04:21:36.179Z","type":"nick"}
{"nick":"stagas_","date":"2013-02-19T04:25:02.937Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-19T04:26:36.899Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 252 seconds","date":"2013-02-19T04:27:06.514Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T04:27:13.158Z","type":"nick"}
{"nick":"trevnorris","date":"2013-02-19T04:37:22.209Z","type":"join"}
{"nick":"abraxas","date":"2013-02-19T04:40:12.468Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: sup dude?","date":"2013-02-19T04:50:43.926Z","type":"message"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-19T05:04:06.019Z","type":"quit"}
{"nick":"Raynos","reason":"Ping timeout: 246 seconds","date":"2013-02-19T05:08:13.902Z","type":"quit"}
{"nick":"wavded_","reason":"Ping timeout: 245 seconds","date":"2013-02-19T05:09:37.055Z","type":"quit"}
{"nick":"dscape","reason":"Ping timeout: 245 seconds","date":"2013-02-19T05:09:37.055Z","type":"quit"}
{"nick":"Raynos","date":"2013-02-19T05:17:17.523Z","type":"join"}
{"nick":"kazupon","date":"2013-02-19T05:21:41.659Z","type":"join"}
{"nick":"mikeal","date":"2013-02-19T05:45:31.259Z","type":"join"}
{"nick":"TheJH","date":"2013-02-19T05:46:03.869Z","type":"join"}
{"nick":"trevnorris","date":"2013-02-19T05:51:47.296Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 240 seconds","date":"2013-02-19T05:55:07.722Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-19T05:55:46.866Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-19T05:56:27.140Z","type":"quit"}
{"nick":"kazupon","date":"2013-02-19T05:58:47.283Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T06:02:06.650Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-19T06:03:47.260Z","type":"join"}
{"nick":"loladiro","date":"2013-02-19T06:07:27.213Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T06:09:23.015Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T06:11:12.990Z","type":"join"}
{"nick":"csaoh","date":"2013-02-19T06:31:42.848Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T06:34:11.082Z","type":"quit"}
{"nick":"csaoh","reason":"Client Quit","date":"2013-02-19T06:35:26.742Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-19T06:39:09.353Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T06:41:29.369Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-19T06:41:33.952Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-19T06:49:03.074Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T06:49:12.638Z","type":"join"}
{"nick":"wavded_","date":"2013-02-19T07:07:01.823Z","type":"join"}
{"nick":"dscape","date":"2013-02-19T07:07:24.413Z","type":"join"}
{"nick":"loladiro","date":"2013-02-19T07:08:41.135Z","type":"join"}
{"nick":"indutny","message":"morning","date":"2013-02-19T07:11:48.899Z","type":"message"}
{"nick":"wolfeidau","date":"2013-02-19T08:05:28.004Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-19T08:13:41.787Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-02-19T08:23:53.476Z","type":"join"}
{"nick":"csaoh","date":"2013-02-19T08:30:16.474Z","type":"join"}
{"nick":"mmalecki[fly]","new_nick":"mmalecki","date":"2013-02-19T08:30:52.901Z","type":"nick"}
{"nick":"rendar","date":"2013-02-19T08:59:53.136Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-19T09:07:18.844Z","type":"quit"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-02-19T09:27:53.412Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-19T09:30:28.749Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-02-19T09:35:32.828Z","type":"quit"}
{"nick":"stagas_","date":"2013-02-19T09:52:03.469Z","type":"join"}
{"nick":"loladiro","date":"2013-02-19T09:56:33.459Z","type":"join"}
{"nick":"stagas_","reason":"Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2013-02-19T09:58:04.367Z","type":"quit"}
{"nick":"stagas_","date":"2013-02-19T10:02:10.893Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-02-19T10:03:59.470Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T10:04:05.518Z","type":"nick"}
{"nick":"csaoh","reason":"Remote host closed the connection","date":"2013-02-19T10:12:24.309Z","type":"quit"}
{"nick":"stagas_","date":"2013-02-19T10:14:53.256Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 252 seconds","date":"2013-02-19T10:16:54.527Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T10:17:03.352Z","type":"nick"}
{"nick":"hz","date":"2013-02-19T10:18:20.448Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u0002a77c29a\u0002 : test: Fix tls tests which fail sporadically  The count of ECONNRESETs is  - http://git.io/wERD4A","date":"2013-02-19T10:22:29.205Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T10:32:47.434Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T10:41:46.974Z","type":"join"}
{"nick":"kazupon","date":"2013-02-19T10:46:03.821Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2013-02-19T10:50:56.585Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-19T11:04:36.161Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-19T11:06:03.255Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T11:46:56.444Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T11:50:17.035Z","type":"join"}
{"nick":"hz","date":"2013-02-19T12:07:59.819Z","type":"quit"}
{"nick":"Ralt","reason":"Ping timeout: 264 seconds","date":"2013-02-19T12:40:54.167Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T12:42:02.603Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T12:44:46.137Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-02-19T13:03:30.027Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T13:05:55.953Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T13:06:16.648Z","type":"join"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-02-19T13:11:19.357Z","type":"nick"}
{"nick":"hz","date":"2013-02-19T13:18:43.436Z","type":"join"}
{"nick":"stagas_","date":"2013-02-19T13:30:36.971Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-02-19T13:32:30.216Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T13:32:32.312Z","type":"nick"}
{"nick":"Ralt","date":"2013-02-19T13:34:21.110Z","type":"join"}
{"nick":"stagas_","date":"2013-02-19T13:41:21.543Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 252 seconds","date":"2013-02-19T13:41:51.274Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T13:41:52.470Z","type":"nick"}
{"nick":"stagas_","date":"2013-02-19T13:44:06.880Z","type":"join"}
{"nick":"jmar777","date":"2013-02-19T13:44:32.690Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-02-19T13:46:16.075Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T13:46:16.556Z","type":"nick"}
{"nick":"stagas_","date":"2013-02-19T13:54:02.235Z","type":"join"}
{"nick":"hz","date":"2013-02-19T13:54:28.361Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-02-19T13:56:23.522Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-02-19T13:56:26.944Z","type":"join"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T13:56:28.148Z","type":"nick"}
{"nick":"stagas_","date":"2013-02-19T13:59:47.312Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-02-19T14:02:30.200Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-02-19T14:02:42.332Z","type":"nick"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T14:29:00.065Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T14:32:46.989Z","type":"join"}
{"nick":"c4milo","date":"2013-02-19T14:36:42.005Z","type":"join"}
{"nick":"stagas_","date":"2013-02-19T14:37:17.560Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T14:38:29.046Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 248 seconds","date":"2013-02-19T14:38:57.125Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T14:39:47.313Z","type":"join"}
{"nick":"loladiro","date":"2013-02-19T14:40:10.469Z","type":"join"}
{"nick":"stagas_","reason":"Ping timeout: 244 seconds","date":"2013-02-19T14:41:44.066Z","type":"quit"}
{"nick":"TheJH","date":"2013-02-19T14:42:41.532Z","type":"join"}
{"nick":"isaacs","message":"indutny: good morning","date":"2013-02-19T15:03:21.241Z","type":"message"}
{"nick":"isaacs","message":"indutny: any idea why tls isn't draining properly on linux?","date":"2013-02-19T15:03:31.403Z","type":"message"}
{"nick":"indutny","message":"morning","date":"2013-02-19T15:05:36.141Z","type":"message"}
{"nick":"indutny","message":"no ideas so far","date":"2013-02-19T15:05:40.726Z","type":"message"}
{"nick":"indutny","message":"going to look into it soon","date":"2013-02-19T15:05:43.707Z","type":"message"}
{"nick":"indutny","message":"but","date":"2013-02-19T15:05:44.514Z","type":"message"}
{"nick":"indutny","message":"I'm confirming it :)","date":"2013-02-19T15:05:48.774Z","type":"message"}
{"nick":"indutny","message":"and its pretty odd","date":"2013-02-19T15:05:55.936Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-19T15:06:22.316Z","type":"quit"}
{"nick":"isaacs","message":"indutny: one thing that occurred to me as i was pouring coffee is that maybe the underlying socket isn't emitting drain sometimes","date":"2013-02-19T15:09:13.653Z","type":"message"}
{"nick":"isaacs","message":"or emitting it when we're not listening","date":"2013-02-19T15:09:23.838Z","type":"message"}
{"nick":"isaacs","message":"there's this thing:   socket.on('drain', function() {","date":"2013-02-19T15:09:56.488Z","type":"message"}
{"nick":"isaacs","message":"    pair.encrypted.read(0);","date":"2013-02-19T15:09:56.629Z","type":"message"}
{"nick":"isaacs","message":"    pair.cleartext.read(0);","date":"2013-02-19T15:09:56.629Z","type":"message"}
{"nick":"isaacs","message":"  });","date":"2013-02-19T15:09:56.629Z","type":"message"}
{"nick":"isaacs","message":"i think maybe that's not properly kicking the data out","date":"2013-02-19T15:10:03.808Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-02-19T15:11:19.353Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2013-02-19T15:11:23.109Z","type":"message"}
{"nick":"isaacs","message":"indutny: here are the states when it locks up: https://gist.github.com/4986783","date":"2013-02-19T15:18:43.104Z","type":"message"}
{"nick":"isaacs","message":"indutny: sock = tcp socket (on server)","date":"2013-02-19T15:18:53.592Z","type":"message"}
{"nick":"isaacs","message":"enc = pair.encrypted, clr = pair.cleartext","date":"2013-02-19T15:19:01.287Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T15:20:23.370Z","type":"quit"}
{"nick":"benoitc","date":"2013-02-19T15:21:47.447Z","type":"join"}
{"nick":"isaacs","message":"indutny: it looks like the encrypted side thinks its writing still, but the data has shown up in the cleartext readable side already","date":"2013-02-19T15:22:19.480Z","type":"message"}
{"nick":"isaacs","message":"this line also makes the test continue: https://gist.github.com/4986783","date":"2013-02-19T15:23:11.722Z","type":"message"}
{"nick":"isaacs","message":"er, this line: socket.pair.cleartext.write(socket.pair.cleartext.read());","date":"2013-02-19T15:23:27.549Z","type":"message"}
{"nick":"isaacs","action":"copypaste fail","date":"2013-02-19T15:23:31.209Z","type":"action"}
{"nick":"indutny","message":"heh","date":"2013-02-19T15:27:16.599Z","type":"message"}
{"nick":"indutny","message":"ok, I need to visit groceries","date":"2013-02-19T15:27:35.579Z","type":"message"}
{"nick":"indutny","message":"and then I'll return to you","date":"2013-02-19T15:27:39.491Z","type":"message"}
{"nick":"indutny","message":"brb","date":"2013-02-19T15:27:43.053Z","type":"message"}
{"nick":"bradleymeck","date":"2013-02-19T15:29:30.530Z","type":"join"}
{"nick":"isaacs","message":"ok","date":"2013-02-19T15:38:29.642Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T15:39:07.599Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|AFK","date":"2013-02-19T16:04:12.278Z","type":"nick"}
{"nick":"isaacs","message":"indutny: aha!  there are cases where we're calling read(0) on both parts of the pairs, but NOT calling _writePending, so the pending stuff just sits there waiting forever.","date":"2013-02-19T16:04:32.276Z","type":"message"}
{"nick":"indutny","message":"back","date":"2013-02-19T16:05:27.606Z","type":"message"}
{"nick":"indutny","message":"aha","date":"2013-02-19T16:05:34.294Z","type":"message"}
{"nick":"indutny","message":"cool that we caught it early","date":"2013-02-19T16:05:39.960Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-02-19T16:05:41.692Z","type":"message"}
{"nick":"mikeal","date":"2013-02-19T16:06:21.911Z","type":"join"}
{"nick":"isaacs","message":"indutny: https://github.com/isaacs/node/commit/8304625c15a59b8ea6236e08461a37c56f8320ee","date":"2013-02-19T16:08:30.489Z","type":"message"}
{"nick":"isaacs","message":"oh, i guess that's on a branch that was already landed.  silly me.","date":"2013-02-19T16:08:42.973Z","type":"message"}
{"nick":"isaacs","message":"should open new PR, i suppose","date":"2013-02-19T16:08:46.400Z","type":"message"}
{"nick":"isaacs","message":"but if it looks good to you, we can just land on master.","date":"2013-02-19T16:08:56.476Z","type":"message"}
{"nick":"isaacs","message":"running tests now to make sure it's non-harmful","date":"2013-02-19T16:09:12.828Z","type":"message"}
{"nick":"indutny","message":"lgtm","date":"2013-02-19T16:09:16.172Z","type":"message"}
{"nick":"indutny","message":"I'll land it","date":"2013-02-19T16:09:25.076Z","type":"message"}
{"nick":"indutny","message":"but let me run tests first","date":"2013-02-19T16:09:42.255Z","type":"message"}
{"nick":"indutny","message":"and also","date":"2013-02-19T16:09:43.566Z","type":"message"}
{"nick":"indutny","message":"ah nvm","date":"2013-02-19T16:09:46.984Z","type":"message"}
{"nick":"indutny","message":"we have regression test","date":"2013-02-19T16:09:49.784Z","type":"message"}
{"nick":"indutny","message":"it just doesn't always work","date":"2013-02-19T16:09:54.151Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-19T16:10:24.137Z","type":"message"}
{"nick":"indutny","message":"running tests","date":"2013-02-19T16:10:30.960Z","type":"message"}
{"nick":"isaacs","message":"ohh... shoot.  found a bug in that \"tls tests that fail sporadically\" fix.","date":"2013-02-19T16:11:24.141Z","type":"message"}
{"nick":"isaacs","message":"undefined reference.","date":"2013-02-19T16:11:26.686Z","type":"message"}
{"nick":"isaacs","message":"oops","date":"2013-02-19T16:11:27.406Z","type":"message"}
{"nick":"isaacs","message":"and this makes test/simple/test-tls-session-cache.js timeout","date":"2013-02-19T16:11:54.722Z","type":"message"}
{"nick":"indutny","message":"aha","date":"2013-02-19T16:12:40.676Z","type":"message"}
{"nick":"isaacs","message":"weird.","date":"2013-02-19T16:12:50.936Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2013-02-19T16:12:51.965Z","type":"message"}
{"nick":"isaacs","message":"i've gotta head into the office.","date":"2013-02-19T16:12:59.745Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: poke","date":"2013-02-19T16:13:09.985Z","type":"message"}
{"nick":"indutny","message":"before you'll be away","date":"2013-02-19T16:13:19.655Z","type":"message"}
{"nick":"isaacs","message":"but we can tls some more later :)","date":"2013-02-19T16:13:20.185Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2013-02-19T16:13:24.951Z","type":"message"}
{"nick":"indutny","message":"haha :)","date":"2013-02-19T16:13:25.496Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-19T16:13:25.968Z","type":"message"}
{"nick":"indutny","message":"isaacs: so I wanted to ask you one thing","date":"2013-02-19T16:13:35.109Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-02-19T16:13:39.541Z","type":"message"}
{"nick":"indutny","message":"do you think we should upgrade openssl in node 0.8","date":"2013-02-19T16:13:41.607Z","type":"message"}
{"nick":"indutny","message":"I mean","date":"2013-02-19T16:13:46.468Z","type":"message"}
{"nick":"isaacs","message":"um... probably not","date":"2013-02-19T16:13:47.387Z","type":"message"}
{"nick":"indutny","message":"I don't care much","date":"2013-02-19T16:13:48.923Z","type":"message"}
{"nick":"isaacs","message":"in master, sure, go crazy","date":"2013-02-19T16:13:53.270Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-02-19T16:13:53.775Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-19T16:13:56.588Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-02-19T16:13:57.408Z","type":"message"}
{"nick":"indutny","message":"thanks for greenlight","date":"2013-02-19T16:14:01.007Z","type":"message"}
{"nick":"isaacs","message":"but that guy's patch doesn't land on master nicely","date":"2013-02-19T16:14:07.976Z","type":"message"}
{"nick":"indutny","message":"considering that its hard to review","date":"2013-02-19T16:14:11.623Z","type":"message"}
{"nick":"isaacs","message":"so it probably has to be fixed up a bit","date":"2013-02-19T16:14:12.576Z","type":"message"}
{"nick":"indutny","message":"I'll just push it","date":"2013-02-19T16:14:15.290Z","type":"message"}
{"nick":"indutny","message":"once everything will be working","date":"2013-02-19T16:14:22.876Z","type":"message"}
{"nick":"isaacs","message":"on v0.8, no, don't upgrade any deps at this point.","date":"2013-02-19T16:14:28.784Z","type":"message"}
{"nick":"isaacs","message":"except npm","date":"2013-02-19T16:14:35.704Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2013-02-19T16:14:37.224Z","type":"message"}
{"nick":"indutny","message":"yes, I'm pretty sure we can introduce more bugs","date":"2013-02-19T16:14:41.447Z","type":"message"}
{"nick":"indutny","message":"by doing this","date":"2013-02-19T16:14:43.052Z","type":"message"}
{"nick":"indutny","message":"btw","date":"2013-02-19T16:14:52.541Z","type":"message"}
{"nick":"indutny","message":"test-http-full-response fails miserably on osx","date":"2013-02-19T16:15:03.596Z","type":"message"}
{"nick":"indutny","message":"can we disable it?","date":"2013-02-19T16:15:08.778Z","type":"message"}
{"nick":"indutny","message":"or make it platform-specifc","date":"2013-02-19T16:15:16.128Z","type":"message"}
{"nick":"indutny","message":"(it fails because of borked `ab` in osx)","date":"2013-02-19T16:15:28.961Z","type":"message"}
{"nick":"isaacs","message":"orly?  we should just land benchmark-refactor-2, and use tools/wrk instead","date":"2013-02-19T16:18:03.013Z","type":"message"}
{"nick":"isaacs","message":"since it runs on all unixes now, thanks to bnoordhuis","date":"2013-02-19T16:18:10.033Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-02-19T16:18:17.751Z","type":"message"}
{"nick":"indutny","message":"huh?","date":"2013-02-19T16:18:22.618Z","type":"message"}
{"nick":"indutny","message":"he implemented that select() thing?","date":"2013-02-19T16:18:27.313Z","type":"message"}
{"nick":"isaacs","message":"i think he pulled in the eventports stuff from new redis.","date":"2013-02-19T16:18:41.164Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T16:18:50.033Z","type":"quit"}
{"nick":"indutny","message":"https://github.com/wg/wrk/commits/master ?","date":"2013-02-19T16:19:35.703Z","type":"message"}
{"nick":"indutny","message":"where is it?","date":"2013-02-19T16:19:36.683Z","type":"message"}
{"nick":"indutny","message":"ah, I see it in your branch","date":"2013-02-19T16:20:32.559Z","type":"message"}
{"nick":"indutny","message":"https://github.com/isaacs/wrk/commit/b96e03c467870d2d27e7b2fa2753de1cb452c7c8","date":"2013-02-19T16:20:39.694Z","type":"message"}
{"nick":"benoitc","date":"2013-02-19T16:20:48.534Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-19T16:22:00.357Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-02-19T16:23:02.623Z","type":"join"}
{"nick":"isaacs","message":"ok, heading out, bbiab","date":"2013-02-19T16:23:45.488Z","type":"message"}
{"nick":"isaacs","message":"indutny: also, simple/test-net-connect-timeout should probably be in test/internet","date":"2013-02-19T16:25:19.557Z","type":"message"}
{"nick":"isaacs","message":"since it fails with ENETUNREACH like eery damn time on linux","date":"2013-02-19T16:25:30.153Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2013-02-19T16:26:24.770Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2013-02-19T16:26:26.729Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T16:31:38.094Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-19T16:46:39.657Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-19T16:47:14.861Z","type":"join"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-02-19T16:47:24.729Z","type":"quit"}
{"nick":"pooya","date":"2013-02-19T16:47:36.901Z","type":"join"}
{"nick":"jmar777","date":"2013-02-19T16:47:56.491Z","type":"join"}
{"nick":"rendar_","date":"2013-02-19T16:56:02.697Z","type":"join"}
{"nick":"mikeal","date":"2013-02-19T16:56:14.387Z","type":"join"}
{"nick":"rendar","reason":"Ping timeout: 260 seconds","date":"2013-02-19T16:56:31.437Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 272 seconds","date":"2013-02-19T16:57:18.740Z","type":"quit"}
{"nick":"dap","date":"2013-02-19T17:00:19.567Z","type":"join"}
{"nick":"brson","date":"2013-02-19T17:09:40.243Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T17:21:46.072Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-02-19T17:25:56.093Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-19T17:27:47.538Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|lunch","date":"2013-02-19T17:30:28.431Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-02-19T17:34:48.554Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-19T17:37:22.164Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-02-19T17:44:49.276Z","type":"join"}
{"nick":"tjfontaine","message":"isaacs: re-poke","date":"2013-02-19T17:46:07.647Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-19T17:51:27.631Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-19T17:52:05.274Z","type":"join"}
{"nick":"perezd","date":"2013-02-19T17:54:01.453Z","type":"join"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-02-19T17:54:05.674Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-19T17:54:18.603Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 260 seconds","date":"2013-02-19T17:55:47.397Z","type":"quit"}
{"nick":"pooya","date":"2013-02-19T17:58:10.191Z","type":"join"}
{"nick":"mikeal","date":"2013-02-19T18:02:37.999Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-19T18:03:50.111Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2013-02-19T18:04:47.228Z","type":"quit"}
{"nick":"brson","date":"2013-02-19T18:06:05.065Z","type":"join"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-02-19T18:24:01.409Z","type":"nick"}
{"nick":"isaacs","message":"indutny: back from groceries?","date":"2013-02-19T18:32:59.620Z","type":"message"}
{"nick":"CAPSLOCKBOT","reason":"Ping timeout: 256 seconds","date":"2013-02-19T18:37:28.064Z","type":"quit"}
{"nick":"indexzero","date":"2013-02-19T18:38:32.662Z","type":"join"}
{"nick":"indutny","message":"yes","date":"2013-02-19T18:39:11.604Z","type":"message"}
{"nick":"indutny","message":"isaacs: so it seems like tests are failing after your commit","date":"2013-02-19T18:39:29.970Z","type":"message"}
{"nick":"isaacs","message":"indutny: which commit?","date":"2013-02-19T18:39:43.449Z","type":"message"}
{"nick":"indutny","message":"isaacs: tls.cycle","date":"2013-02-19T18:39:49.786Z","type":"message"}
{"nick":"isaacs","message":"i have a lot of comits in node, many of them make tests fail","date":"2013-02-19T18:39:53.732Z","type":"message"}
{"nick":"isaacs","message":"oh, right","date":"2013-02-19T18:39:55.221Z","type":"message"}
{"nick":"isaacs","message":"yeah, it's not so great.","date":"2013-02-19T18:39:57.631Z","type":"message"}
{"nick":"isaacs","message":"makes some stuf break","date":"2013-02-19T18:40:03.861Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-02-19T18:40:09.342Z","type":"message"}
{"nick":"isaacs","message":"needs something more surgical, perhaps.","date":"2013-02-19T18:40:10.510Z","type":"message"}
{"nick":"indutny","message":"I wonder why","date":"2013-02-19T18:40:15.050Z","type":"message"}
{"nick":"isaacs","message":"for sure, i think when the socket ends, you need to write anything pending","date":"2013-02-19T18:40:28.391Z","type":"message"}
{"nick":"isaacs","message":"er, when the socket drains","date":"2013-02-19T18:40:31.969Z","type":"message"}
{"nick":"isaacs","message":"perhaps before doing read(0)","date":"2013-02-19T18:40:43.661Z","type":"message"}
{"nick":"isaacs","message":"not after","date":"2013-02-19T18:40:46.321Z","type":"message"}
{"nick":"trevnorris","date":"2013-02-19T18:41:27.970Z","type":"join"}
{"nick":"bradleymeck","date":"2013-02-19T18:41:50.930Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-02-19T18:42:35.162Z","type":"quit"}
{"nick":"joshthecoder_","new_nick":"joshthecoder","date":"2013-02-19T18:45:52.502Z","type":"nick"}
{"nick":"Benvie","date":"2013-02-19T18:47:34.876Z","type":"join"}
{"nick":"qmx","new_nick":"qmx|lunch|for|re","date":"2013-02-19T18:47:59.619Z","type":"nick"}
{"nick":"qmx|lunch|for|re","new_nick":"qmx|lunch","date":"2013-02-19T18:48:04.339Z","type":"nick"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-02-19T18:49:00.404Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-02-19T18:51:45.111Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-02-19T18:54:30.994Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-02-19T18:55:55.772Z","type":"quit"}
{"nick":"`3E|AFK","new_nick":"`3rdEden","date":"2013-02-19T18:56:03.953Z","type":"nick"}
{"nick":"trevnorris","message":"isaacs: so that tls issue looks like it's been fun for you.","date":"2013-02-19T19:04:29.236Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: forgot if I mentioned it somewhere else, but currently on master test-http-get-pipeline-problem is failing with Abort (core dumped).","date":"2013-02-19T19:05:30.821Z","type":"message"}
{"nick":"trevnorris","message":"is that related to a fix you're working on?","date":"2013-02-19T19:05:38.671Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: what does the core dump backtrace say?","date":"2013-02-19T19:05:54.776Z","type":"message"}
{"nick":"tjfontaine","message":"gdb $(which node) core","date":"2013-02-19T19:06:20.651Z","type":"message"}
{"nick":"tjfontaine","message":"and then `bt` or `bt full`","date":"2013-02-19T19:06:32.136Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: no idea what i'm looking at: https://gist.github.com/trevnorris/4988870","date":"2013-02-19T19:09:28.994Z","type":"message"}
{"nick":"tjfontaine","message":"well Core was generated by `VidyoDesktop'. that doesn't seem right","date":"2013-02-19T19:09:59.777Z","type":"message"}
{"nick":"trevnorris","message":"yeah. that's a program I have on my machine,  but it's not running.","date":"2013-02-19T19:10:15.575Z","type":"message"}
{"nick":"tjfontaine","message":"right, we want to make sure the binary you passed to gdb is right, and the core file is really the core that node generated","date":"2013-02-19T19:10:45.917Z","type":"message"}
{"nick":"tjfontaine","message":"you might need to retry with `ulimit -c unlimited` incase the core wasn't actually written to disk","date":"2013-02-19T19:11:07.505Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-02-19T19:11:18.457Z","type":"quit"}
{"nick":"brson","date":"2013-02-19T19:11:31.108Z","type":"join"}
{"nick":"tjfontaine","message":"it's gdb /path/to/node/binary /path/to/core/file","date":"2013-02-19T19:11:37.648Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm not seeing that core dump at all.","date":"2013-02-19T19:11:49.305Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: not on linux, smartos, or osx","date":"2013-02-19T19:11:54.369Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it only happens to me ~1/3 times.","date":"2013-02-19T19:12:08.756Z","type":"message"}
{"nick":"trevnorris","message":"where do those core dump files go?","date":"2013-02-19T19:12:20.871Z","type":"message"}
{"nick":"tjfontaine","message":"depends, generally it's CWD but it could be beside the actual binary","date":"2013-02-19T19:13:16.149Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: this just worked for me: for i in `seq 10`; do ./node test/simple/test-http-get-pipeline-problem.js || break; done","date":"2013-02-19T19:13:38.080Z","type":"message"}
{"nick":"trevnorris","message":"ugh. wtf","date":"2013-02-19T19:13:48.717Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ah, got it: https://gist.github.com/trevnorris/4988870","date":"2013-02-19T19:19:47.051Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ^","date":"2013-02-19T19:19:50.215Z","type":"message"}
{"nick":"tjfontaine","message":"that's an interesting place to abort","date":"2013-02-19T19:20:33.865Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: it never aborts in the same spot.","date":"2013-02-19T19:20:49.231Z","type":"message"}
{"nick":"tjfontaine","message":"what other spots?","date":"2013-02-19T19:21:00.837Z","type":"message"}
{"nick":"trevnorris","message":"it's just a random location during script execution.","date":"2013-02-19T19:21:03.819Z","type":"message"}
{"nick":"trevnorris","message":"ok, what I mean is that the test outputs a lot of lines, and it will abort during any one of those.","date":"2013-02-19T19:21:34.303Z","type":"message"}
{"nick":"tjfontaine","message":"ok, but if it's always core dump'ing it's interesting to know if the stack is always the same","date":"2013-02-19T19:21:51.580Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok. i'll generate a few more. on sec.","date":"2013-02-19T19:22:09.182Z","type":"message"}
{"nick":"tjfontaine","message":"also, it would be interesting to see the backtracks if you use a debug build","date":"2013-02-19T19:22:45.305Z","type":"message"}
{"nick":"isaacs","message":"indutny: so, this fixes the failure, witout introducing more failures: https://gist.github.com/4988981","date":"2013-02-19T19:23:28.166Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok, so it looks like the stack is always the same: https://gist.github.com/trevnorris/4988870","date":"2013-02-19T19:25:25.019Z","type":"message"}
{"nick":"trevnorris","message":"i'll do the debug build.","date":"2013-02-19T19:25:29.157Z","type":"message"}
{"nick":"indutny","message":"isaacs: shit came real","date":"2013-02-19T19:25:40.362Z","type":"message"}
{"nick":"indutny","message":"sorry, right now I'm filling declaration of my income for '12","date":"2013-02-19T19:25:54.074Z","type":"message"}
{"nick":"indutny","message":"damn hard thing","date":"2013-02-19T19:25:59.795Z","type":"message"}
{"nick":"isaacs","message":"indutny: yeah.","date":"2013-02-19T19:26:01.729Z","type":"message"}
{"nick":"isaacs","message":"i'd be so happy if the IRS could set up a \"we'll bill you automatically\" type of thing.","date":"2013-02-19T19:26:18.021Z","type":"message"}
{"nick":"indutny","message":"ahhaha","date":"2013-02-19T19:26:24.354Z","type":"message"}
{"nick":"isaacs","message":"i don't mind paying my dues to the society.","date":"2013-02-19T19:26:26.009Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-02-19T19:26:26.148Z","type":"message"}
{"nick":"indutny","message":"actually","date":"2013-02-19T19:26:27.955Z","type":"message"}
{"nick":"isaacs","message":"i just hate working as a fucking biller.","date":"2013-02-19T19:26:29.416Z","type":"message"}
{"nick":"isaacs","message":"jesus, it's so tedious.","date":"2013-02-19T19:26:33.529Z","type":"message"}
{"nick":"indutny","message":"I would like to just pay money","date":"2013-02-19T19:26:34.106Z","type":"message"}
{"nick":"isaacs","message":"like, even *raise* taxes ifyou have to!","date":"2013-02-19T19:26:42.871Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: have you looked to see what that line is?","date":"2013-02-19T19:26:45.864Z","type":"message"}
{"nick":"isaacs","message":"just make me not have to deal with it!","date":"2013-02-19T19:26:47.590Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: https://github.com/joyent/node/blob/master/deps/uv/src/unix/linux/linux-core.c#L224","date":"2013-02-19T19:27:25.466Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'm not shitting you, just ran the test w/ the debug build 20 times. never failed.","date":"2013-02-19T19:29:57.150Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: ya I'm not surprised that it might be timing related in this context","date":"2013-02-19T19:30:11.933Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: what it seems like is we're trying to epoll() on a fd that is no longer valid, so it's racey to be sure","date":"2013-02-19T19:30:55.930Z","type":"message"}
{"nick":"tjfontaine","message":"well I guess delete it, and it was already deleted","date":"2013-02-19T19:31:39.071Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: hm. so it's an issue w/ libuv?","date":"2013-02-19T19:32:50.049Z","type":"message"}
{"nick":"tjfontaine","message":"difficult to say, in the gdb shell, `p errno`","date":"2013-02-19T19:33:34.619Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: \"$1 = 1\"","date":"2013-02-19T19:35:40.713Z","type":"message"}
{"nick":"tjfontaine","message":"EPERM  The target file fd does not support epoll.","date":"2013-02-19T19:36:11.201Z","type":"message"}
{"nick":"tjfontaine","message":"assuming no thread issues","date":"2013-02-19T19:37:59.318Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok. anything else I can look at?","date":"2013-02-19T19:39:54.744Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: brb due to reasons","date":"2013-02-19T19:40:26.819Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: well we want to try and find out which fd it was looking at, and see if that was/is a valid fd or if it was corrupted","date":"2013-02-19T19:40:29.754Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: it's a little harder considering you can't reproduce with a debug build","date":"2013-02-19T19:40:45.048Z","type":"message"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-02-19T19:43:07.122Z","type":"nick"}
{"nick":"isaacs","message":"indutny: can you take a moment from your busy accounting duties to review this? https://github.com/isaacs/node/compare/tls-MOAR-FIXES","date":"2013-02-19T19:44:54.827Z","type":"message"}
{"nick":"isaacs","message":"indutny: passing tests on linux and darwin.  runinng on smartos now","date":"2013-02-19T19:45:05.327Z","type":"message"}
{"nick":"indutny","message":"lgtm","date":"2013-02-19T19:45:15.364Z","type":"message"}
{"nick":"isaacs","message":"kewl.","date":"2013-02-19T19:46:03.806Z","type":"message"}
{"nick":"isaacs","message":"once smartos agrees, i shall land, and then begin 0.9.10","date":"2013-02-19T19:46:11.164Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we should chat today about benchmarks","date":"2013-02-19T19:46:19.512Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: sounds good.","date":"2013-02-19T19:46:27.827Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm eager to learn what you found out in your stastical stuff","date":"2013-02-19T19:46:35.246Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i've narrowed it down to happening during \"var s = fs.createWriteStream(common.tmpDir + '/' + x + '.jpg');\"","date":"2013-02-19T19:47:50.298Z","type":"message"}
{"nick":"`3rdEden","date":"2013-02-19T19:48:08.157Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: sounds great. just let me know when works for you.","date":"2013-02-19T19:48:38.288Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: would it be better to do a skype or something, or is it low bandwidth enough to do via text?","date":"2013-02-19T19:51:56.263Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'd like to get benchmark-refactor-2 landed, and then get tjfontaine started wiring up joyent's jenkins stuff so that we can have something tracking each commit/etc.","date":"2013-02-19T19:52:40.285Z","type":"message"}
{"nick":"isaacs","message":"but key to all that is getting benchmarks that aren't completely insane.","date":"2013-02-19T19:52:47.800Z","type":"message"}
{"nick":"isaacs","message":"alright, tls tests should  be passing now.","date":"2013-02-19T19:53:33.311Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u000260238cc\u0002 : tls: Write pending data on socket drain  Fixes #4800 (+1 more commits) - http://git.io/5JrJNg","date":"2013-02-19T19:53:36.180Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: text should be fine.","date":"2013-02-19T19:56:51.571Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-02-19T19:57:12.294Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-02-19T19:58:26.033Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: kewl, i just cancelled my 1:00, so after lunch?","date":"2013-02-19T19:59:29.014Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: seeing as how the lunch alarm is about to sound here in SF","date":"2013-02-19T19:59:41.378Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. sounds good","date":"2013-02-19T19:59:53.726Z","type":"message"}
{"nick":"trevnorris","message":"lol, gotta love fire drills.","date":"2013-02-19T19:59:59.399Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we do actually have a lunch alarm here in SF on tuesdays: https://twitter.com/rioter/status/303956023209771008","date":"2013-02-19T20:02:02.357Z","type":"message"}
{"nick":"isaacs","message":"er, this one: https://twitter.com/sfsiren/status/303957137955123200","date":"2013-02-19T20:02:16.976Z","type":"message"}
{"nick":"benoitc","date":"2013-02-19T20:02:19.132Z","type":"join"}
{"nick":"isaacs","message":"rioter is someone else :)","date":"2013-02-19T20:02:21.215Z","type":"message"}
{"nick":"isaacs","message":"the twitter.app's \"copy link to tweet\" is non-deterministic","date":"2013-02-19T20:02:35.456Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-02-19T20:02:45.641Z","type":"message"}
{"nick":"trevnorris","message":"wait. you mean all sf has one every tuesday?","date":"2013-02-19T20:02:57.777Z","type":"message"}
{"nick":"tjfontaine","message":"I presume it's a test of the system, it just so happens to help identify lunch :)","date":"2013-02-19T20:03:21.251Z","type":"message"}
{"nick":"isaacs","message":"it's a giant outdoor alarm that sounds every tuesday at noon","date":"2013-02-19T20:03:22.911Z","type":"message"}
{"nick":"isaacs","message":"it says \"This is a test.  This is a test of the emergency outdoor warning system.\"","date":"2013-02-19T20:03:41.255Z","type":"message"}
{"nick":"isaacs","message":"then it says something in Chinese","date":"2013-02-19T20:03:44.340Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: it would be helpful to learn your future language","date":"2013-02-19T20:04:00.731Z","type":"message"}
{"nick":"TheJH","date":"2013-02-19T20:04:03.680Z","type":"join"}
{"nick":"CoverSlide","message":"you can't take the sky from me","date":"2013-02-19T20:05:14.832Z","type":"message"}
{"nick":"bnoordhuis","message":"evening everyone","date":"2013-02-19T20:05:46.890Z","type":"message"}
{"nick":"bnoordhuis","message":"how are we for v0.10?","date":"2013-02-19T20:05:51.230Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: closing the gap, slowly but surely","date":"2013-02-19T20:06:29.724Z","type":"message"}
{"nick":"isaacs","message":"v0.9.10 today","date":"2013-02-19T20:06:32.852Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: lunchtime right now.  bbiab","date":"2013-02-19T20:06:47.129Z","type":"message"}
{"nick":"isaacs","action":"&","date":"2013-02-19T20:06:48.749Z","type":"action"}
{"nick":"LOUDBOT","message":"WAIT WHY DID THE BOT IGNORE ME?","date":"2013-02-19T20:06:49.163Z","type":"message"}
{"nick":"dap1","date":"2013-02-19T20:25:58.808Z","type":"join"}
{"nick":"dap","reason":"Read error: Connection reset by peer","date":"2013-02-19T20:25:59.368Z","type":"quit"}
{"nick":"bsnote","date":"2013-02-19T20:29:19.761Z","type":"join"}
{"nick":"bsnote","message":"Hi there","date":"2013-02-19T20:33:29.443Z","type":"message"}
{"nick":"bsnote","message":"Can anyone help me? http://stackoverflow.com/questions/14962022/gcc-exact-location-of-type-declaration/14962364#14962364","date":"2013-02-19T20:34:13.152Z","type":"message"}
{"nick":"bradleymeck","date":"2013-02-19T20:35:54.265Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-19T20:42:17.699Z","type":"quit"}
{"nick":"indutny","message":"huh?","date":"2013-02-19T20:43:55.525Z","type":"message"}
{"nick":"indutny","message":"are we stackoverflow?","date":"2013-02-19T20:44:22.589Z","type":"message"}
{"nick":"bsnote","message":"yes :)","date":"2013-02-19T20:52:10.110Z","type":"message"}
{"nick":"bsnote","message":"if you want :)","date":"2013-02-19T20:52:16.669Z","type":"message"}
{"nick":"bsnote","message":"actually nevermind, I think I have a clue","date":"2013-02-19T20:53:02.815Z","type":"message"}
{"nick":"bnoordhuis","message":"was it the butler with a chandelier in the library?","date":"2013-02-19T20:56:43.876Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: chaga-chaga","date":"2013-02-19T20:59:21.442Z","type":"message"}
{"nick":"indutny","message":"hello","date":"2013-02-19T20:59:23.636Z","type":"message"}
{"nick":"indutny","message":"how is SF?","date":"2013-02-19T20:59:32.247Z","type":"message"}
{"nick":"isaacs","action":"fg","date":"2013-02-19T21:00:12.728Z","type":"action"}
{"nick":"trevnorris","message":"bnoordhuis: hey man. maybe you can help me with what I think is a strange race condition in test-http-get-pipeline-problem: https://gist.github.com/trevnorris/4988870","date":"2013-02-19T21:02:18.634Z","type":"message"}
{"nick":"trevnorris","message":"(well, tjfontaine is the reason I know any of this)","date":"2013-02-19T21:02:34.001Z","type":"message"}
{"nick":"tjfontaine","message":"I don't trust that tjfontaine guy","date":"2013-02-19T21:02:55.167Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so i think it's happening when creating the write stream, but feeling around in the dark from there.","date":"2013-02-19T21:06:56.935Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: here or pm for bench stuff?","date":"2013-02-19T21:07:07.000Z","type":"message"}
{"nick":"isaacs","message":"oh, here's fine","date":"2013-02-19T21:07:24.795Z","type":"message"}
{"nick":"isaacs","message":"logs ftw :)","date":"2013-02-19T21:07:27.804Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: first take a glance: https://gist.github.com/trevnorris/4989440","date":"2013-02-19T21:07:47.158Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: hey. i'm already back again","date":"2013-02-19T21:09:32.611Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: what's the issue? (i'm looking at the gist)","date":"2013-02-19T21:10:05.990Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I'm not quite sure of the flow that would mean creation of a write stream would remove an fd","date":"2013-02-19T21:10:22.639Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: at random times it \"Abort (core dump)\"","date":"2013-02-19T21:10:27.883Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: the gist shows three different occurrences to show that the call stack is the same.","date":"2013-02-19T21:11:12.940Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: it appears to be epoll_ctl on an fd that isn't supported by epoll","date":"2013-02-19T21:11:38.261Z","type":"message"}
{"nick":"tjfontaine","message":"deleting anyway","date":"2013-02-19T21:11:49.544Z","type":"message"}
{"nick":"tjfontaine","message":"but he wasn't able to reproduce with a debug build so it could be stepped through","date":"2013-02-19T21:12:12.294Z","type":"message"}
{"nick":"mikeal","date":"2013-02-19T21:12:31.598Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: thanks =)","date":"2013-02-19T21:12:36.419Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: ah, okay. any idea what the errno was?","date":"2013-02-19T21:13:20.249Z","type":"message"}
{"nick":"tjfontaine","message":"heh, it's possible that our inspection of errno isn't entirely accurate, but it's errno was 1","date":"2013-02-19T21:13:23.758Z","type":"message"}
{"nick":"bnoordhuis","message":"EPERM?","date":"2013-02-19T21:13:44.951Z","type":"message"}
{"nick":"tjfontaine","message":"yes that's what I interpreted it as","date":"2013-02-19T21:13:55.778Z","type":"message"}
{"nick":"loladiro","date":"2013-02-19T21:14:08.210Z","type":"join"}
{"nick":"bnoordhuis","message":"you don't happen to know what kind of fd it was?","date":"2013-02-19T21:14:47.344Z","type":"message"}
{"nick":"tjfontaine","message":"I don't know, we didn't get that far in inspection","date":"2013-02-19T21:14:59.812Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 276 seconds","date":"2013-02-19T21:17:09.369Z","type":"quit"}
{"nick":"bnoordhuis","message":"okay. is the kernel version known?","date":"2013-02-19T21:17:17.181Z","type":"message"}
{"nick":"trevnorris","message":"3.5.0-19","date":"2013-02-19T21:17:29.678Z","type":"message"}
{"nick":"tjfontaine","message":"I knew it was 3.5~ish","date":"2013-02-19T21:17:37.685Z","type":"message"}
{"nick":"bnoordhuis","message":"hm, okay","date":"2013-02-19T21:18:02.399Z","type":"message"}
{"nick":"bnoordhuis","message":"one guy reported that he sometimes had trouble with unix sockets (i believe) with some recent-but-not-quite kernels","date":"2013-02-19T21:18:31.953Z","type":"message"}
{"nick":"bnoordhuis","message":"may have been some kind of kernel regression because i haven't seen it with 3.7 or 3.8","date":"2013-02-19T21:18:53.940Z","type":"message"}
{"nick":"bnoordhuis","message":"that reminds me...","date":"2013-02-19T21:19:15.380Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: ping","date":"2013-02-19T21:19:18.144Z","type":"message"}
{"nick":"tjfontaine","message":"I haven't tried on any of my linux installs yet, but isaacs said he wasn't able to reproduce","date":"2013-02-19T21:19:23.413Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: does is matter that i can step back in time and find a commit where it began?","date":"2013-02-19T21:19:31.898Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: you mean it doesn't happen with older versions but reliably with newer ones?","date":"2013-02-19T21:19:55.124Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: yeah. let me bisect again real quick and get the commit for you.","date":"2013-02-19T21:20:08.557Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: while i'm waiting. the table is variants of the most important tests.","date":"2013-02-19T21:23:54.389Z","type":"message"}
{"nick":"sblom","date":"2013-02-19T21:24:29.496Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: kewl","date":"2013-02-19T21:25:41.104Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm showing off the node build process to tjfontaine","date":"2013-02-19T21:25:49.440Z","type":"message"}
{"nick":"isaacs","message":"all part of my master plan to automate my entire job.","date":"2013-02-19T21:25:56.058Z","type":"message"}
{"nick":"trevnorris","message":"hey, full automation is rockin.","date":"2013-02-19T21:26:32.848Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f created branch v0.9.10-release - http://git.io/5mC7ZA","date":"2013-02-19T21:26:32.990Z","type":"message"}
{"nick":"trevnorris","message":"and curse mraleph. that irhydra thing is sucking away my time.","date":"2013-02-19T21:28:25.336Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: 8476ae causes the problem, and when I revert it on latest master don't get the issue.","date":"2013-02-19T21:31:06.367Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-02-19T21:33:29.983Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: the \"% diff\" column helps see how volatile the test is. for some reason cluster is insane.","date":"2013-02-19T21:33:45.453Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and comparing similar tests helps us see how unstable they are. fs is very much that way.","date":"2013-02-19T21:34:00.707Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: where's that gist again?  the chart?","date":"2013-02-19T21:35:52.260Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: https://gist.github.com/trevnorris/4989440","date":"2013-02-19T21:36:00.868Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-19T21:36:10.206Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-19T21:36:48.311Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: yeah, culster is crazy","date":"2013-02-19T21:36:50.113Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and for fs, even if the regression isn't going to linear, it should at least be uniform.","date":"2013-02-19T21:38:02.536Z","type":"message"}
{"nick":"trevnorris","message":"notice that \"fs-write-utf-4096-5\" has the highest stdev, and \"fs-write-utf-65535-5\" has the lowest.","date":"2013-02-19T21:38:21.863Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-19T21:38:28.203Z","type":"message"}
{"nick":"isaacs","message":"that's just luck","date":"2013-02-19T21:38:30.651Z","type":"message"}
{"nick":"isaacs","message":"there's no other way to view that","date":"2013-02-19T21:38:37.314Z","type":"message"}
{"nick":"trevnorris","message":"how do you mean, luck?","date":"2013-02-19T21:38:48.056Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: wut? 8476ae","date":"2013-02-19T21:39:06.370Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: that commit is causing the abort. if I revert it then the issue goes away.","date":"2013-02-19T21:39:30.342Z","type":"message"}
{"nick":"mikeal","date":"2013-02-19T21:39:47.797Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: i mean, i'd chalk that up to \"the fs got busy or something\"","date":"2013-02-19T21:40:22.614Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: what machine were these running on?","date":"2013-02-19T21:40:30.515Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: that's 49 runs of the same test in linear order on my machine, with all extranious services disabled and running headless.","date":"2013-02-19T21:40:55.844Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-02-19T21:41:04.953Z","type":"message"}
{"nick":"isaacs","message":"do you have the test script somewhere handy?","date":"2013-02-19T21:41:13.673Z","type":"message"}
{"nick":"isaacs","message":"once this build is done, we can run it on our build boxes.","date":"2013-02-19T21:41:21.234Z","type":"message"}
{"nick":"isaacs","message":"see if there's any change.","date":"2013-02-19T21:41:24.277Z","type":"message"}
{"nick":"jmar777","reason":"Ping timeout: 264 seconds","date":"2013-02-19T21:41:30.129Z","type":"quit"}
{"nick":"bnoordhuis","message":"trevnorris: can you check something for me?","date":"2013-02-19T21:41:58.182Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just posted it to gist, but don't mock me please. ;)","date":"2013-02-19T21:42:30.666Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: sure, anything to stop this from failing.","date":"2013-02-19T21:42:37.695Z","type":"message"}
{"nick":"isaacs","message":"haha, no worries","date":"2013-02-19T21:42:52.090Z","type":"message"}
{"nick":"isaacs","message":"if it runs, then that's great.","date":"2013-02-19T21:42:54.945Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: run the test in gdb. when it hits the assert, check what fd is triggering it (`p fd`) and what kind of fd it is (`ls -l /proc/<pid>/fd/`)","date":"2013-02-19T21:43:14.911Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it actually generates a .js file that uses a stats lib I have to generate the statistics.","date":"2013-02-19T21:43:19.040Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: so I was thinking about thunder-effect","date":"2013-02-19T21:43:28.487Z","type":"message"}
{"nick":"indutny","message":"of epoll/kqueue","date":"2013-02-19T21:43:32.043Z","type":"message"}
{"nick":"indutny","message":"I don't think there's a real way to fix it in libuv","date":"2013-02-19T21:43:42.154Z","type":"message"}
{"nick":"indutny","message":"but we can improve it in kernel","date":"2013-02-19T21:43:46.194Z","type":"message"}
{"nick":"indutny","message":"though, I'm not sure about APIs that we should propose","date":"2013-02-19T21:43:55.683Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i'm reasonably sure linux somewhat \"fixes\" this","date":"2013-02-19T21:44:12.773Z","type":"message"}
{"nick":"bnoordhuis","message":"by not reporting the event to all threads right away","date":"2013-02-19T21:44:24.073Z","type":"message"}
{"nick":"indutny","message":"impossible","date":"2013-02-19T21:46:31.960Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ok. i've never actually used gdb before today so might take me a few... or more... to figure this out.","date":"2013-02-19T21:46:53.269Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i'll walk you through it","date":"2013-02-19T21:47:02.301Z","type":"message"}
{"nick":"trevnorris","message":"thanks much","date":"2013-02-19T21:47:13.181Z","type":"message"}
{"nick":"bnoordhuis","message":"gdb --start out/Release/node script.js","date":"2013-02-19T21:47:13.390Z","type":"message"}
{"nick":"bnoordhuis","message":"r (for run)","date":"2013-02-19T21:47:17.150Z","type":"message"}
{"nick":"bnoordhuis","message":"wait for the assert to trigger","date":"2013-02-19T21:47:21.424Z","type":"message"}
{"nick":"bnoordhuis","message":"bt","date":"2013-02-19T21:47:24.003Z","type":"message"}
{"nick":"bnoordhuis","message":"pick the uv__io_poll stack frame with `f <n>`","date":"2013-02-19T21:47:34.388Z","type":"message"}
{"nick":"bnoordhuis","message":"then `l` (for list) will print the code around the abort() call site","date":"2013-02-19T21:47:56.755Z","type":"message"}
{"nick":"bnoordhuis","message":"`p fd` should print the fileno, provided it's not optimized away","date":"2013-02-19T21:48:26.417Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-02-19T21:48:29.756Z","type":"nick"}
{"nick":"bnoordhuis","message":"but in that case you can still get it with `p pe->data`","date":"2013-02-19T21:48:44.952Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: um... gdb doesn't recognize --start, using 7.5.","date":"2013-02-19T21:48:54.834Z","type":"message"}
{"nick":"bnoordhuis","message":"ah sorry","date":"2013-02-19T21:49:00.323Z","type":"message"}
{"nick":"bnoordhuis","message":"--args","date":"2013-02-19T21:49:01.348Z","type":"message"}
{"nick":"bnoordhuis","message":"i was typing some code just now that had the word 'start' in it :)","date":"2013-02-19T21:49:16.487Z","type":"message"}
{"nick":"trevnorris","message":"hey, no worries. thanks for saving me a lot of time finding all this stuff on my own.","date":"2013-02-19T21:50:20.044Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: http://git.io/wzDB7w","date":"2013-02-19T21:54:26.097Z","type":"message"}
{"nick":"trevnorris","message":"slightly more cleaned up version: http://git.io/_ugHpQ","date":"2013-02-19T21:55:47.034Z","type":"message"}
{"nick":"pooya","date":"2013-02-19T21:56:47.641Z","type":"join"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f created tag v0.9.10 - http://git.io/KpVB9Q","date":"2013-02-19T21:57:39.563Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: p pe->data ?","date":"2013-02-19T21:58:02.038Z","type":"message"}
{"nick":"trevnorris","message":"ah, one sec","date":"2013-02-19T21:58:10.944Z","type":"message"}
{"nick":"bnoordhuis","message":"also, p errno","date":"2013-02-19T21:58:18.639Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-19T21:58:27.360Z","type":"quit"}
{"nick":"bnoordhuis","message":"or if that doesn't work, p (int) __errno_location()","date":"2013-02-19T21:58:31.008Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 244 seconds","date":"2013-02-19T21:58:50.086Z","type":"quit"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u0002727151a\u0002 : Now working on v0.9.11 (+3 more commits) - http://git.io/yZqRCA","date":"2013-02-19T21:58:53.789Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: http://git.io/2L8uGA","date":"2013-02-19T22:00:37.017Z","type":"message"}
{"nick":"rendar_","date":"2013-02-19T22:01:03.852Z","type":"quit"}
{"nick":"trevnorris","message":"um. should I be doing this from a gcc build, or will clang work?","date":"2013-02-19T22:01:11.030Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: oh sorry, p (int*) __errno_location()","date":"2013-02-19T22:01:11.169Z","type":"message"}
{"nick":"bnoordhuis","message":"clang works","date":"2013-02-19T22:01:14.978Z","type":"message"}
{"nick":"bnoordhuis","message":"kind of annoying that pe is also optimized away","date":"2013-02-19T22:01:33.488Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2013-02-19T22:01:37.122Z","type":"quit"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.8\u000f * \u00023267464\u0002 : blog: v0.9.10 - http://git.io/NquO2A","date":"2013-02-19T22:01:37.797Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: can you try this: p events[i]","date":"2013-02-19T22:02:06.028Z","type":"message"}
{"nick":"bnoordhuis","message":"or p events[i].data","date":"2013-02-19T22:02:51.439Z","type":"message"}
{"nick":"isaacs","message":"ok, v0.9.10 is out.","date":"2013-02-19T22:05:42.399Z","type":"message"}
{"nick":"isaacs","message":"it's a little faster than 0.9.9, and a little better","date":"2013-02-19T22:05:50.972Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, this script, looks pretty ok. a few things i know are going to be ungood on smartos.","date":"2013-02-19T22:06:07.803Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: have you seen that tls benchmark someone posted?","date":"2013-02-19T22:06:13.955Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: killall is not what you think on sunos.","date":"2013-02-19T22:06:14.334Z","type":"message"}
{"nick":"dap1","message":"bnoodrhuis: hi","date":"2013-02-19T22:06:17.596Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: hi","date":"2013-02-19T22:06:23.423Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: which one?  (no?)","date":"2013-02-19T22:06:23.556Z","type":"message"}
{"nick":"TooTallNate","date":"2013-02-19T22:06:30.716Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: both say \"value has been optimized out\"","date":"2013-02-19T22:06:45.064Z","type":"message"}
{"nick":"bnoordhuis","message":"grr","date":"2013-02-19T22:07:01.759Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: does it happen with debug builds? (please say yes)","date":"2013-02-19T22:07:25.992Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i absolutely would not recommend that script. it was a complete hack i wrote at 2am.","date":"2013-02-19T22:07:27.071Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: nope. well, haven't been able to reproduce.","date":"2013-02-19T22:07:36.119Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: question about unix sockets and EINPROGRESS: when does that happen and why?","date":"2013-02-19T22:07:49.208Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't think of a plausible scenarion where a kernel would return that error","date":"2013-02-19T22:08:01.133Z","type":"message"}
{"nick":"bnoordhuis","message":"*scenario","date":"2013-02-19T22:08:05.382Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: https://github.com/joyent/node/issues/4789","date":"2013-02-19T22:08:22.126Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: Is your question why we do, or whether we do?  DTrace showed that we do :)","date":"2013-02-19T22:08:51.931Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: yes, why","date":"2013-02-19T22:08:59.252Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, it's easy to fix in libuv but it doesn't make sense","date":"2013-02-19T22:09:23.397Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: I didn't look that far into it.  Memory allocation could be one case.","date":"2013-02-19T22:11:28.224Z","type":"message"}
{"nick":"dap1","message":"But it's clearly allowed by the man page and standard, so I assuming you're just asking out of curiosity :)","date":"2013-02-19T22:11:28.364Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i am","date":"2013-02-19T22:11:31.637Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i'll add some benchmarks.","date":"2013-02-19T22:11:42.415Z","type":"message"}
{"nick":"bnoordhuis","message":"i was rather surprised. it's never returned on freebsd or linux","date":"2013-02-19T22:12:03.378Z","type":"message"}
{"nick":"bnoordhuis","message":"in the sense that there's not even a code path for it in the kernel","date":"2013-02-19T22:12:21.817Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: this benchmark is idiotic, though.","date":"2013-02-19T22:12:22.939Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's doing completely different things, and littered with insane complaints.","date":"2013-02-19T22:12:31.176Z","type":"message"}
{"nick":"isaacs","action":"sigh","date":"2013-02-19T22:12:34.733Z","type":"action"}
{"nick":"bnoordhuis","message":"but she's pretty hot so we need to take it very seriously","date":"2013-02-19T22:12:46.759Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2013-02-19T22:12:52.655Z","type":"message"}
{"nick":"tjfontaine","message":"gravatar selection is how we will determine how willing we are to work on issues","date":"2013-02-19T22:13:07.216Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: also, npm.im/benchmark is untrustworthy, imo.","date":"2013-02-19T22:13:08.557Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: i've helped her before on SO. want me to introduce you? ;-)","date":"2013-02-19T22:13:09.196Z","type":"message"}
{"nick":"isaacs","message":"it does way too much stuff","date":"2013-02-19T22:13:11.519Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: It's possible that those systems will block for what they expect to be short intervals where we return EINPROGRESS instead.","date":"2013-02-19T22:13:14.839Z","type":"message"}
{"nick":"dap1","message":"e.g., memory allocation","date":"2013-02-19T22:13:19.903Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i'll take you up on that offer if i ever break up with my wife :)","date":"2013-02-19T22:14:16.477Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: hm, okay. it's not anything to do with the connection backlog? (though that wouldn't make sense either)","date":"2013-02-19T22:14:45.645Z","type":"message"}
{"nick":"trevnorris","message":"duly noted","date":"2013-02-19T22:14:47.161Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: That's certainly possible, though I'd have expected ECONNREFUSED instead (and I've seen that one)","date":"2013-02-19T22:15:03.225Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so: do you have any preliminary suggestions from this analysis, re: benchmark-refactor-2?","date":"2013-02-19T22:15:11.406Z","type":"message"}
{"nick":"dap1","message":"it's possible that we issue EINPROGRESS when it's reached a high watermark or something.  I'm just not sure.","date":"2013-02-19T22:15:23.327Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: yeah, i think that's what freebsd returns. on linux, it's EAGAIN for some reason","date":"2013-02-19T22:15:29.953Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, interesting. i'll go and fix it in libuv then :)","date":"2013-02-19T22:16:09.076Z","type":"message"}
{"nick":"dap1","message":"The code path you want is sotpi_connect().  You could also drill down empirically using DTrace by tracing all functions returning EINPROGRESS that were called from sotpi_connect().  I didn't bother going that far.","date":"2013-02-19T22:16:24.972Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. first for using the benchmarks for trending performance. users probably can't be trusted to make sure their systems won't affect fs, which will leave them very unstable.","date":"2013-02-19T22:17:16.147Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: right, but joyent can provide a relatively-stable vm","date":"2013-02-19T22:18:17.487Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and we should take another look at cluster benchs. those are to volatile to be useful.","date":"2013-02-19T22:18:20.881Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-02-19T22:18:27.141Z","type":"message"}
{"nick":"isaacs","message":"agreed","date":"2013-02-19T22:18:30.689Z","type":"message"}
{"nick":"isaacs","message":"and that's an important once","date":"2013-02-19T22:18:36.901Z","type":"message"}
{"nick":"isaacs","message":"*one","date":"2013-02-19T22:18:37.860Z","type":"message"}
{"nick":"dap1","message":"bnoordhuis: https://github.com/joyent/illumos-joyent/blob/master/usr/src/uts/common/fs/sockfs/socktpi.c#L2164","date":"2013-02-19T22:18:40.298Z","type":"message"}
{"nick":"isaacs","message":"for the time being, we can stick to http/simple and net","date":"2013-02-19T22:18:45.851Z","type":"message"}
{"nick":"isaacs","message":"those look pretty ok","date":"2013-02-19T22:18:49.536Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah, sorry. that's what I was getting at. so users should know that fs benchmarks will look like that, and we should run those PR's on the server. not just on our local machines (don't know if we were planning that anyways)","date":"2013-02-19T22:19:32.374Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. so for trending, net and http look good. now for the second part.","date":"2013-02-19T22:20:04.747Z","type":"message"}
{"nick":"isaacs","message":"the goal of all of this is to run these in an automatic way for every commit that lands in master or a stable branch","date":"2013-02-19T22:20:44.711Z","type":"message"}
{"nick":"isaacs","message":"being able to have it pull a PR and do an on-demand comparison is a plus, but not MVP","date":"2013-02-19T22:21:04.834Z","type":"message"}
{"nick":"trevnorris","message":"if that's the only purpose then it's mostly there.","date":"2013-02-19T22:21:11.378Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2013-02-19T22:21:15.719Z","type":"message"}
{"nick":"isaacs","message":"you mean, benchmark-refactor-2 is already suitable for this, barring the insanity in fs/cluster benchmarks?","date":"2013-02-19T22:21:35.327Z","type":"message"}
{"nick":"trevnorris","message":"but using those tests for --trace-* or irhydra or valgrind, etc. won't be too useful. there's too much static.","date":"2013-02-19T22:21:37.377Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-02-19T22:21:45.340Z","type":"join"}
{"nick":"isaacs","message":"sure","date":"2013-02-19T22:21:53.023Z","type":"message"}
{"nick":"bnoordhuis","message":"dap1: interesting, thanks","date":"2013-02-19T22:21:53.949Z","type":"message"}
{"nick":"isaacs","message":"well, that's a separate thing","date":"2013-02-19T22:21:56.198Z","type":"message"}
{"nick":"trevnorris","message":"yeah, figured. just wanted to bring it up.","date":"2013-02-19T22:22:04.590Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2013-02-19T22:22:40.588Z","type":"message"}
{"nick":"trevnorris","message":"just going to verify something, sec.","date":"2013-02-19T22:23:07.060Z","type":"message"}
{"nick":"isaacs","message":"also, i'd like to port this jsstat test to js and be able to run it on-demand.  we should track not only our benchmark performance, but also our reliability.","date":"2013-02-19T22:23:48.079Z","type":"message"}
{"nick":"isaacs","message":"maybe per-commit","date":"2013-02-19T22:23:53.637Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: not a problem. i created the api modular enough so each test can be plucked out when needed.","date":"2013-02-19T22:24:19.713Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2013-02-19T22:26:21.231Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: as you know, i'm hesitant to pull in new js libs to node-core.  so i might do a little std-dev-ectomy just for this purpose :)","date":"2013-02-19T22:26:52.837Z","type":"message"}
{"nick":"isaacs","message":"but meh.  maybe it's worth pulling in jsStats just for this.","date":"2013-02-19T22:27:09.485Z","type":"message"}
{"nick":"isaacs","message":"it's not a super huge lib","date":"2013-02-19T22:27:13.245Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: you mean jStat?","date":"2013-02-19T22:27:23.779Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: oh, screw jsstats.","date":"2013-02-19T22:27:42.026Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: https://github.com/jstat/jstat","date":"2013-02-19T22:27:56.487Z","type":"message"}
{"nick":"trevnorris","message":"haven't needed to touch it in a while, but it's solid.","date":"2013-02-19T22:28:38.618Z","type":"message"}
{"nick":"trevnorris","message":"and i can rip out each test you need.","date":"2013-02-19T22:28:54.620Z","type":"message"}
{"nick":"trevnorris","message":"don't need to include an external lib.","date":"2013-02-19T22:29:01.098Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it could be something like common.stat.stdev([arra]), or some such.","date":"2013-02-19T22:32:14.998Z","type":"message"}
{"nick":"isaacs","message":"oh, jstat","date":"2013-02-19T22:33:17.842Z","type":"message"}
{"nick":"isaacs","message":"whatever","date":"2013-02-19T22:33:19.912Z","type":"message"}
{"nick":"isaacs","message":"JavaScriptStatisticometer","date":"2013-02-19T22:33:26.072Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-02-19T22:33:31.659Z","type":"message"}
{"nick":"trevnorris","message":"just let me know which you want and I'll gist the minimal implementations you can stick in.","date":"2013-02-19T22:33:48.221Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: once we sign off a test then we can make very precise measurements. knowing the stdev within a +95% conf. int. will allow us to run many fewer tests and compensate for how we know it \"should\" look.","date":"2013-02-19T22:36:11.697Z","type":"message"}
{"nick":"trevnorris","message":"then if something out of the ordinary shows up, then run a thicker test.","date":"2013-02-19T22:36:41.097Z","type":"message"}
{"nick":"trevnorris","message":"but the day-to-day can be really light weight.","date":"2013-02-19T22:36:50.479Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ok, so, for starters...","date":"2013-02-19T22:36:58.462Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2013-02-19T22:37:00.000Z","type":"quit"}
{"nick":"isaacs","message":"i'm going to run the net and http tests for 5s only","date":"2013-02-19T22:37:09.650Z","type":"message"}
{"nick":"isaacs","message":"rather than 1 and also 3","date":"2013-02-19T22:37:12.057Z","type":"message"}
{"nick":"isaacs","message":"and add a thing to run the tests N times and get the stdev","date":"2013-02-19T22:37:35.014Z","type":"message"}
{"nick":"isaacs","message":"common.stat.blah() is probably good","date":"2013-02-19T22:37:42.419Z","type":"message"}
{"nick":"isaacs","message":"but maybe it should just be a separate thing","date":"2013-02-19T22:37:57.928Z","type":"message"}
{"nick":"isaacs","message":"since common is like, the runner, and the thing that actual benchmark scripts run","date":"2013-02-19T22:38:06.579Z","type":"message"}
{"nick":"isaacs","message":"compare, analyze, etc, shoudl be external","date":"2013-02-19T22:38:20.809Z","type":"message"}
{"nick":"trevnorris","message":"coolio.","date":"2013-02-19T22:38:24.491Z","type":"message"}
{"nick":"isaacs","message":"maybe something like: ./node benchmark/validate.js [--bench=http,net,fs,tls]","date":"2013-02-19T22:39:07.845Z","type":"message"}
{"nick":"isaacs","message":"then it'll run make bench-blah for each of those, 49 times, and print validity of each result.","date":"2013-02-19T22:39:26.078Z","type":"message"}
{"nick":"trevnorris","message":"yeah. that sounds good.","date":"2013-02-19T22:39:53.489Z","type":"message"}
{"nick":"isaacs","message":"hm.  ./node benchmark/confidence.js","date":"2013-02-19T22:39:53.747Z","type":"message"}
{"nick":"isaacs","message":"and it should report the confidence interval","date":"2013-02-19T22:39:59.612Z","type":"message"}
{"nick":"isaacs","message":"from 0 to 100","date":"2013-02-19T22:40:05.500Z","type":"message"}
{"nick":"trevnorris","message":"an by \"validity\" i'd say mean, stdev, med and quartiles.","date":"2013-02-19T22:40:26.269Z","type":"message"}
{"nick":"trevnorris","message":"quartiles are important because they show the spread.","date":"2013-02-19T22:40:37.189Z","type":"message"}
{"nick":"isaacs","message":"hm.  true that","date":"2013-02-19T22:41:23.947Z","type":"message"}
{"nick":"isaacs","message":"well... for the purposes of automation, the more we can keep things to a number that we try to push in a direction, the better.","date":"2013-02-19T22:41:44.682Z","type":"message"}
{"nick":"isaacs","message":"qualitative results are ahrd.","date":"2013-02-19T22:41:49.876Z","type":"message"}
{"nick":"isaacs","message":"require meat.","date":"2013-02-19T22:41:51.536Z","type":"message"}
{"nick":"trevnorris","message":"the general idea would be to push the mean to Infinity.","date":"2013-02-19T22:43:16.319Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-02-19T22:43:27.428Z","type":"message"}
{"nick":"tjfontaine","message":"and beyond","date":"2013-02-19T22:43:28.480Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-02-19T22:43:31.452Z","type":"message"}
{"nick":"trevnorris","message":"by tracking stdev and quartiles we can quick check the output for fewer runs to see if they lay within the distribution.","date":"2013-02-19T22:44:32.311Z","type":"message"}
{"nick":"trevnorris","message":"just so we can have more confidence that the  tests are running correctly, w/o needing to run them 49 times every time.","date":"2013-02-19T22:44:54.405Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-02-19T22:45:13.373Z","type":"message"}
{"nick":"isaacs","message":"well, i mean, we can adjust that number over time, i suppose","date":"2013-02-19T22:45:22.836Z","type":"message"}
{"nick":"isaacs","message":"also, i can have the confidence.js script run until we get a specific confidence level.","date":"2013-02-19T22:45:36.254Z","type":"message"}
{"nick":"isaacs","message":"which sucks, of course.","date":"2013-02-19T22:45:54.513Z","type":"message"}
{"nick":"tjfontaine","message":"that's something that seems sane when preparing for a release, not necessarily on a per commit basis","date":"2013-02-19T22:46:14.835Z","type":"message"}
{"nick":"isaacs","message":"but like, \"run until 100 times, or until the confidence level is >90%\" would be kinda rad to track over time","date":"2013-02-19T22:46:15.054Z","type":"message"}
{"nick":"trevnorris","message":"> console.log('confidence interval: ', 1 - 1 / Math.sqrt(100));","date":"2013-02-19T22:47:24.243Z","type":"message"}
{"nick":"trevnorris","message":"wait. how do you use that?","date":"2013-02-19T22:47:32.414Z","type":"message"}
{"nick":"isaacs","message":"or, rather, until the stdev is below a certain amount","date":"2013-02-19T22:48:21.324Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: more tests your run, higher stdev will go.","date":"2013-02-19T22:48:32.101Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2013-02-19T22:48:36.758Z","type":"message"}
{"nick":"isaacs","message":"so you set a min, a max, and a min stdev","date":"2013-02-19T22:48:44.602Z","type":"message"}
{"nick":"isaacs","message":"if we run it 10 times and the stdev is <0.5% of the mean, then we don't have to keep going","date":"2013-02-19T22:48:53.797Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i think you're looking for standard error: http://en.wikipedia.org/wiki/Standard_error","date":"2013-02-19T22:49:30.198Z","type":"message"}
{"nick":"isaacs","message":"basically, my goal is to work out an algorithm where we can have a single command that runs each benchmarks as many times as necessary to be reasonable sure that we are getting valid data.","date":"2013-02-19T22:49:46.877Z","type":"message"}
{"nick":"trevnorris","message":"yeah. that's possible.","date":"2013-02-19T22:50:20.319Z","type":"message"}
{"nick":"isaacs","message":"but, dno't run it more than N times, or fewer than M times","date":"2013-02-19T22:50:33.531Z","type":"message"}
{"nick":"trevnorris","message":"yeah. so run minimum of M, and if it's required to run more than N then alert someone.","date":"2013-02-19T22:51:10.676Z","type":"message"}
{"nick":"trevnorris","message":"because somethin ain't right","date":"2013-02-19T22:51:18.196Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-02-19T22:51:31.444Z","type":"message"}
{"nick":"isaacs","message":"mark it in red in the graph","date":"2013-02-19T22:51:37.950Z","type":"message"}
{"nick":"isaacs","message":"but, yeah, this has to be outside of `make bench`","date":"2013-02-19T22:52:00.368Z","type":"message"}
{"nick":"isaacs","message":"it has to be a thing that calls each of the scripts that `make bench` calls","date":"2013-02-19T22:52:20.970Z","type":"message"}
{"nick":"trevnorris","message":"oh, i didn't even expect this part to live in core. i mean, the data storage and stuff won't, right?","date":"2013-02-19T22:52:33.363Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-19T22:52:40.725Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: nono, this script will live in core, but the data storage and graphics etc will be outside.","date":"2013-02-19T22:52:52.920Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it'll be run by jenkins for every commit","date":"2013-02-19T22:53:09.989Z","type":"message"}
{"nick":"trevnorris","message":"ah ok","date":"2013-02-19T22:53:15.318Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, here's the close: does this benchmark/run-until-good.js script sound like something you'd be interested in writing?","date":"2013-02-19T22:54:26.084Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm pretty convinced that it's a good idea to land benchmark-refactor-2 mostly as-is","date":"2013-02-19T22:54:40.750Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: barring a few file name changes.","date":"2013-02-19T22:54:48.401Z","type":"message"}
{"nick":"isaacs","message":"and the settings default changes mentioned above","date":"2013-02-19T22:55:00.785Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: sure. run-until-good and the benchmarks aren't even directly related. if i'm using the current output, then it's parse-able.","date":"2013-02-19T22:57:04.877Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-02-19T22:57:14.575Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so I can create a json of the results not a problem. but how will jenkins like me to poop it out?","date":"2013-02-19T22:57:47.279Z","type":"message"}
{"nick":"brson","date":"2013-02-19T22:58:15.943Z","type":"join"}
{"nick":"tjfontaine","message":"depends on what we use in jenkins, that part isn't set in stone","date":"2013-02-19T22:58:20.894Z","type":"message"}
{"nick":"trevnorris","message":"ok, well i'll just create a placeholder for it.","date":"2013-02-19T22:59:07.410Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just let me know when you've updated refactor-2 and i'll create the script.","date":"2013-02-19T22:59:42.952Z","type":"message"}
{"nick":"isaacs","message":"k, almost done","date":"2013-02-19T22:59:53.545Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: now, do you really want it called run-until-good?","date":"2013-02-19T22:59:55.826Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no, i expect you to pick a better name than that :)","date":"2013-02-19T23:04:11.182Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that name is intentionally bad so that we don't have to debate about it.","date":"2013-02-19T23:04:27.533Z","type":"message"}
{"nick":"indutny","message":"ben you was wrong","date":"2013-02-19T23:08:39.792Z","type":"message"}
{"nick":"indutny","message":"ircretary: tell bnoordhuis that he was wrong, thunderstorm is happening with epoll as it happens with kevent() and all other polling systems","date":"2013-02-19T23:09:09.363Z","type":"message"}
{"nick":"ircretary","message":"indutny: I'll be sure to tell bnoordhuis","date":"2013-02-19T23:09:09.527Z","type":"message"}
{"nick":"trevnorris","message":"indutny: that have to do with the abort issue i'm having?","date":"2013-02-19T23:09:33.165Z","type":"message"}
{"nick":"indutny","message":"no","date":"2013-02-19T23:09:44.018Z","type":"message"}
{"nick":"indutny","message":"its only about cluster performance","date":"2013-02-19T23:09:50.322Z","type":"message"}
{"nick":"indutny","message":"actually","date":"2013-02-19T23:09:53.990Z","type":"message"}
{"nick":"indutny","message":"rps distribution between forks","date":"2013-02-19T23:09:59.866Z","type":"message"}
{"nick":"EhevuTov","date":"2013-02-19T23:10:51.049Z","type":"join"}
{"nick":"trevnorris","message":"oh. well bummer. i want to know why that test is aborting.","date":"2013-02-19T23:11:33.866Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2013-02-19T23:11:47.798Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and fwiw, the abort started to happen on my machine after your 8476aef commit.","date":"2013-02-19T23:11:50.965Z","type":"message"}
{"nick":"trevnorris","message":"if I revert that then don't have the issue.","date":"2013-02-19T23:12:03.316Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2013-02-19T23:12:18.131Z","type":"message"}
{"nick":"indutny","action":"&","date":"2013-02-19T23:12:19.483Z","type":"action"}
{"nick":"LOUDBOT","message":"NO FARTING ON COMPANY PROPERTY","date":"2013-02-19T23:12:19.868Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that's kinda insane","date":"2013-02-19T23:12:23.969Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: what all can you tell me about your environment?","date":"2013-02-19T23:12:26.080Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i mean, all that did was change the defaults","date":"2013-02-19T23:12:32.719Z","type":"message"}
{"nick":"trevnorris","message":"yeah, that's why i'm so confused.","date":"2013-02-19T23:12:44.501Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so that means it was there waiting to be hit, but just got dodged slightly because of some kind of alignment or tming or some shit.","date":"2013-02-19T23:12:52.854Z","type":"message"}
{"nick":"tjfontaine","message":"well, it increased throughput at that point, so it's exacerbating the problem on his system anyway","date":"2013-02-19T23:13:18.108Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. this is completely some kind of race condition.","date":"2013-02-19T23:13:19.299Z","type":"message"}
{"nick":"isaacs","topic":"liberal utopian vacation ~ \"Shit came real! --indutny\" ~ http://logs.libuv.org/libuv ~ http://groups.google.com/group/libuv","date":"2013-02-19T23:13:29.206Z","type":"topic"}
{"nick":"isaacs","topic":"liberal utopian vacation ~ \"Shit came real!\" --indutny ~ http://logs.libuv.org/libuv ~ http://groups.google.com/group/libuv","date":"2013-02-19T23:13:41.372Z","type":"topic"}
{"nick":"trevnorris","message":"tjfontaine: xubuntu 12.10, i7-2860QM, 8GB ram, 3.5.0-19, building w/ clang (about to try w/ gcc)","date":"2013-02-19T23:15:19.396Z","type":"message"}
{"nick":"trevnorris","message":"what else you'd like?","date":"2013-02-19T23:15:24.970Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, to actually track this down, then, we'd need a test that runs with those stream defaults","date":"2013-02-19T23:15:49.587Z","type":"message"}
{"nick":"tjfontaine","message":"that's pretty much what I wanted to know, I presume bare metal? and platter sata?","date":"2013-02-19T23:15:51.429Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ie, setting them explicitly","date":"2013-02-19T23:15:56.657Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: then you can bisect that, and i bet it's not that commit where it started.","date":"2013-02-19T23:16:10.727Z","type":"message"}
{"nick":"MI61","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f created branch benchmark-refactor-2 - http://git.io/24SdpA","date":"2013-02-19T23:16:55.292Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ^","date":"2013-02-19T23:16:56.605Z","type":"message"}
{"nick":"trevnorris","message":"cool","date":"2013-02-19T23:17:04.201Z","type":"message"}
{"nick":"isaacs","message":"now i'm gonna write a new one for https://gist.github.com/naomik/4967659","date":"2013-02-19T23:17:17.756Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah, using a ST9500420AS","date":"2013-02-19T23:18:08.615Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: so you're saying reintroduce that change to every bisect and see where it really started?","date":"2013-02-19T23:18:34.839Z","type":"message"}
{"nick":"wolfeidau","date":"2013-02-19T23:18:38.525Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: just for clarity no md or dm in the mix? (mdadm or lvm)","date":"2013-02-19T23:18:45.139Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: well since it's reproducing on your box you should try it :)","date":"2013-02-19T23:19:05.862Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: don't you use lvm w/ full disk encryption? if so, then yes.","date":"2013-02-19T23:20:08.445Z","type":"message"}
{"nick":"tjfontaine","message":"hehe, well now I can't tell if you're being sarcastic or not :)","date":"2013-02-19T23:20:50.075Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah, using crypt-luks","date":"2013-02-19T23:25:20.225Z","type":"message"}
{"nick":"tjfontaine","message":"ok well, alright","date":"2013-02-19T23:25:44.792Z","type":"message"}
{"nick":"trevnorris","message":"and i'm extremely sleep deprived. kids been sick last couple nights so i'm a little delusional.","date":"2013-02-19T23:26:36.538Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: or just make a test that sets the water marks explicitly","date":"2013-02-19T23:26:38.570Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no worries :)","date":"2013-02-19T23:26:44.191Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: totally understandable","date":"2013-02-19T23:27:03.690Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just want to confirm something you said. noticed that a bare implementation of tcp-raw tests run ~7% slower, but you're not worried about that, right?","date":"2013-02-19T23:31:25.007Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yup. so far back to v0.9.6 and still happening.","date":"2013-02-19T23:39:05.461Z","type":"message"}
{"nick":"hz","date":"2013-02-19T23:42:00.439Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-02-19T23:43:06.118Z","type":"join"}
{"nick":"mraleph","message":"no-no, please don't curse me :-)","date":"2013-02-19T23:45:28.602Z","type":"message"}
{"nick":"trevnorris","message":"mraleph: dude, seriously. now I have an obsession about making those graphs look neat and tidy.","date":"2013-02-19T23:47:37.070Z","type":"message"}
{"nick":"jmar777","date":"2013-02-19T23:47:50.613Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-02-19T23:48:06.123Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: the best I can do is f9caf70, before that and the test completely fails.","date":"2013-02-19T23:52:41.414Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-02-19T23:54:44.672Z","type":"quit"}

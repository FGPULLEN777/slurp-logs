{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-10-05T00:00:01.401Z","type":"quit"}
{"nick":"ircretary","date":"2013-10-05T00:00:09.371Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: no more detail from node_g","date":"2013-10-05T00:01:54.885Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: but a bunch of tests that ran before, even if there were failing asserts, are now crashing with SIGSEGV","date":"2013-10-05T00:02:12.243Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: oh, 64bit?","date":"2013-10-05T00:03:32.617Z","type":"message"}
{"nick":"tjfontaine","message":"ya those addrs seem wide enough","date":"2013-10-05T00:03:46.525Z","type":"message"}
{"nick":"tjfontaine","message":"please try","date":"2013-10-05T00:03:50.373Z","type":"message"}
{"nick":"tjfontaine","message":"(cd deps/v8; curl https://github.com/v8/v8/commit/435d8aadc3f60fea2aaad23fae3f29e5aeccb907.diff | patch -p1)","date":"2013-10-05T00:04:19.874Z","type":"message"}
{"nick":"othiym23","message":"will do, chief","date":"2013-10-05T00:05:28.149Z","type":"message"}
{"nick":"othiym23","message":"tjfontaine: patch applied, ./configure && make && make node_g, still segfaulting","date":"2013-10-05T00:10:30.788Z","type":"message"}
{"nick":"tjfontaine","message":"awesome.","date":"2013-10-05T00:10:44.213Z","type":"message"}
{"nick":"tjfontaine","message":"NMF :)","date":"2013-10-05T00:10:51.011Z","type":"message"}
{"nick":"othiym23","message":"same bt in gdb, too","date":"2013-10-05T00:11:12.316Z","type":"message"}
{"nick":"othiym23","message":"yeah, that's why I didn't bug you with it in the first place ;)","date":"2013-10-05T00:11:18.843Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-05T00:12:18.061Z","type":"message"}
{"nick":"tjfontaine","message":"hehe I still like to know :P","date":"2013-10-05T00:12:22.781Z","type":"message"}
{"nick":"tjfontaine","message":"the backtrace was suspicious though","date":"2013-10-05T00:12:33.436Z","type":"message"}
{"nick":"tjfontaine","message":"could be just an unwrap in trevors logic though","date":"2013-10-05T00:13:15.291Z","type":"message"}
{"nick":"tjfontaine","message":"clearly something set to null and not being checked if its ok to unwrap it","date":"2013-10-05T00:13:32.779Z","type":"message"}
{"nick":"tjfontaine","message":"shame you can't see any of the jit frames there","date":"2013-10-05T00:13:59.334Z","type":"message"}
{"nick":"othiym23","message":"tjfontaine: I updated the gist to be the node_g bt instead","date":"2013-10-05T00:14:38.196Z","type":"message"}
{"nick":"othiym23","message":"the output's less about Smi stuff and more low-level, but otherwise the same","date":"2013-10-05T00:14:53.430Z","type":"message"}
{"nick":"othiym23","message":"I'll take a look at it in SmartOS tonight","date":"2013-10-05T00:15:11.542Z","type":"message"}
{"nick":"tjfontaine","message":"nod, the more I look at it it's probalby just an \"uninitialized\" value","date":"2013-10-05T00:15:54.429Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T00:20:21.794Z","type":"nick"}
{"nick":"jmar777","date":"2013-10-05T00:28:56.040Z","type":"join"}
{"nick":"mikeal","date":"2013-10-05T00:29:19.430Z","type":"join"}
{"nick":"M28","date":"2013-10-05T00:31:55.289Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2013-10-05T00:34:18.286Z","type":"quit"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-10-05T00:39:18.963Z","type":"quit"}
{"nick":"zz_karupanerura","new_nick":"karupa64","date":"2013-10-05T00:42:57.500Z","type":"nick"}
{"nick":"karupa64","new_nick":"karupanerura","date":"2013-10-05T00:44:38.021Z","type":"nick"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-05T00:46:10.041Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-10-05T00:48:45.093Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-05T00:50:20.604Z","type":"nick"}
{"nick":"c4milo","date":"2013-10-05T00:51:14.602Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-10-05T01:00:26.723Z","type":"quit"}
{"nick":"tjfontaine","message":"sigh","date":"2013-10-05T01:14:00.320Z","type":"message"}
{"nick":"othiym23","message":"that good?","date":"2013-10-05T01:14:20.353Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-05T01:14:23.955Z","type":"message"}
{"nick":"tjfontaine","message":"hit a node bug, not sure how I'm going to reproduce this one :/","date":"2013-10-05T01:14:46.148Z","type":"message"}
{"nick":"othiym23","message":"I had a couple like that this week","date":"2013-10-05T01:16:57.149Z","type":"message"}
{"nick":"tjfontaine","message":"basically a node child from .fork() has its parent IPC pipe set into non-blocking mode","date":"2013-10-05T01:17:04.462Z","type":"message"}
{"nick":"othiym23","message":"I consoled myself by telling myself that once I had a repro case the bugs would be easy to fix","date":"2013-10-05T01:17:16.545Z","type":"message"}
{"nick":"othiym23","message":"but I was wrong","date":"2013-10-05T01:17:18.926Z","type":"message"}
{"nick":"tjfontaine","message":"LET US DROWN OUR SORROWS","date":"2013-10-05T01:17:32.388Z","type":"message"}
{"nick":"LOUDBOT","message":"I THINK I'LL TRY TO FUCK THE DEAF GIRL","date":"2013-10-05T01:17:32.833Z","type":"message"}
{"nick":"tjfontaine","message":"loudbot is aggressive today","date":"2013-10-05T01:17:43.835Z","type":"message"}
{"nick":"othiym23","message":"no wonder nexxy doesn't want LOUDBOT in #node.js","date":"2013-10-05T01:17:48.215Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2013-10-05T01:17:52.898Z","type":"message"}
{"nick":"othiym23","message":"LOUDBOT, you're kind of a sexist jerk","date":"2013-10-05T01:18:02.576Z","type":"message"}
{"nick":"LOUDBOT","message":"othiym23: USING PHP IS LIKE FUCKING AN INFLATABLE DOLL. IT MIGHT GET THE JOB DONE BUT IT'S EMBARRASSING TO WATCH.","date":"2013-10-05T01:18:02.925Z","type":"message"}
{"nick":"wolfeidau","message":"o that is funny","date":"2013-10-05T01:18:22.051Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: TWITLAST","date":"2013-10-05T01:18:44.162Z","type":"message"}
{"nick":"LOUDBOT","message":"http://twitter.com/LOUDBOT/status/386299380614971392 (apeiron/#dongtown)","date":"2013-10-05T01:18:44.518Z","type":"message"}
{"nick":"wolfeidau","message":"ROFL","date":"2013-10-05T01:19:05.792Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: SEARCH NODE.JS","date":"2013-10-05T01:19:18.960Z","type":"message"}
{"nick":"LOUDBOT","message":"tjfontaine: <maxogden:#stackvm> POTENTIAL CUSTOMER IN NODE.JS GOGOGOG","date":"2013-10-05T01:19:19.288Z","type":"message"}
{"nick":"st_luke","date":"2013-10-05T01:21:00.752Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: so it seems i have a lot of bodies https://gist.github.com/wolfeidau/6834170 starting to get the hang of this!","date":"2013-10-05T01:21:21.296Z","type":"message"}
{"nick":"tjfontaine","message":"nice, we're going to have a \"fix\" for the two-byte-string stuff soon","date":"2013-10-05T01:22:13.042Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 245 seconds","date":"2013-10-05T01:24:36.871Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-05T01:25:59.617Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T01:29:51.979Z","type":"join"}
{"nick":"wolfeidau","message":"Yeah so idle process is RSS-TOTALHEAP=STUFF where stuff is currently 104342272","date":"2013-10-05T01:34:59.308Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T01:39:05.282Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-05T01:46:34.933Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-10-05T02:05:41.799Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T02:13:25.402Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-05T02:23:55.431Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T02:27:30.836Z","type":"join"}
{"nick":"kazupon","date":"2013-10-05T02:43:53.810Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T02:54:27.783Z","type":"quit"}
{"nick":"karupanerura","new_nick":"zz_karupanerura","date":"2013-10-05T03:00:59.893Z","type":"nick"}
{"nick":"trevnorris","message":"othiym23: thanks for the info.","date":"2013-10-05T03:08:19.197Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: are you using the latest? I do have an unwrap, but immediately check that the return value isn't nil","date":"2013-10-05T03:08:48.734Z","type":"message"}
{"nick":"zz_karupanerura","new_nick":"karupa64","date":"2013-10-05T03:10:05.319Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T03:11:42.592Z","type":"quit"}
{"nick":"karupa64","new_nick":"zz_karupa64","date":"2013-10-05T03:14:35.061Z","type":"nick"}
{"nick":"othiym23","message":"trevnorris: I did a git fetch --all ; git reset --hard trevor/flippin-tick-thing ; configure ; make ; make node_g","date":"2013-10-05T03:20:05.839Z","type":"message"}
{"nick":"othiym23","message":"right before I captured that gist","date":"2013-10-05T03:20:24.297Z","type":"message"}
{"nick":"othiym23","message":"so unless, like, you didn't push some changes, yeah, I have the latest","date":"2013-10-05T03:20:39.528Z","type":"message"}
{"nick":"othiym23","message":"I'm going to upgrade my SmartOS environment and poke at it a little there","date":"2013-10-05T03:20:52.517Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: what's bothering me about that stack trace is that a call from a node js function would go to a node c++ method","date":"2013-10-05T03:23:32.593Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: but I'm not seeing where that's happening","date":"2013-10-05T03:23:41.972Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-05T03:23:55.815Z","type":"quit"}
{"nick":"amartens","date":"2013-10-05T03:24:46.710Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: that's why I'm going to poke at it with mdb","date":"2013-10-05T03:25:34.734Z","type":"message"}
{"nick":"othiym23","message":"all I see in thread 1 on that gist is v8 stuff, except for all those JITted stackframes","date":"2013-10-05T03:26:06.576Z","type":"message"}
{"nick":"othiym23","message":"and I can at least look at the v8::internal::Invoke argument pointers and see where they're pointing a little easier with the mdb node extensions","date":"2013-10-05T03:26:45.123Z","type":"message"}
{"nick":"othiym23","message":"and maybe the jstack helpers will help me descramble the JIT product","date":"2013-10-05T03:28:49.192Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 256 seconds","date":"2013-10-05T03:31:46.047Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: i'm still getting \"../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.\"","date":"2013-10-05T03:33:51.170Z","type":"message"}
{"nick":"trevnorris","message":"when installing using npm from master","date":"2013-10-05T03:36:27.273Z","type":"message"}
{"nick":"zz_karupa64","new_nick":"karupa64","date":"2013-10-05T03:37:49.627Z","type":"nick"}
{"nick":"trevnorris","message":"othiym23: just downloaded node-newrelic. how do I run the tests?","date":"2013-10-05T03:42:01.388Z","type":"message"}
{"nick":"Benvie","date":"2013-10-05T03:42:10.762Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-05T03:54:42.594Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: start with CONTRIBUTING.md","date":"2013-10-05T03:59:22.229Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: ask me questions if that's not enough to get you up and running easily","date":"2013-10-05T03:59:34.821Z","type":"message"}
{"nick":"othiym23","message":"(that will help me improve the docs)","date":"2013-10-05T03:59:40.974Z","type":"message"}
{"nick":"othiym23","message":"and then to run thet tests, you'll probably want to skip straight to `make integration`","date":"2013-10-05T04:00:22.130Z","type":"message"}
{"nick":"othiym23","message":"because there are failures in the unit tests that may or may not be your fault","date":"2013-10-05T04:00:35.471Z","type":"message"}
{"nick":"othiym23","message":"at one point in the not too distant past (i.e. earlier this week), all the tests except one Restify test case were passing","date":"2013-10-05T04:01:01.929Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: the issue is that master is failing doing npm install","date":"2013-10-05T04:01:12.684Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: hmm... you could install using 0.11.7?","date":"2013-10-05T04:01:51.770Z","type":"message"}
{"nick":"trevnorris","message":"i'll try.","date":"2013-10-05T04:02:12.094Z","type":"message"}
{"nick":"othiym23","message":"I don't know if there have been any breaking ABI changes since then in the add-ons that get installed (which I think are probably just BSON and node-dtrace)","date":"2013-10-05T04:02:19.368Z","type":"message"}
{"nick":"trevnorris","message":"though fwiw i'd rather do the install using the same commit that i'll be using testing for","date":"2013-10-05T04:02:30.752Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: you said there are native modules that need to be built?","date":"2013-10-05T04:02:59.477Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: just used by dependencies for the modules I instrument","date":"2013-10-05T04:03:42.978Z","type":"message"}
{"nick":"othiym23","message":"the module itself is 100% crisp, pure JavaScript","date":"2013-10-05T04:03:53.346Z","type":"message"}
{"nick":"othiym23","message":"and I've version-locked bunyan to the last version before it depended on node-dtrace","date":"2013-10-05T04:04:27.375Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: at the least i'm able to reproduce the segfault.","date":"2013-10-05T04:12:52.218Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-10-05T04:13:55.487Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: cool","date":"2013-10-05T04:14:00.375Z","type":"message"}
{"nick":"Benvie","reason":"Ping timeout: 240 seconds","date":"2013-10-05T04:14:48.453Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-05T04:17:31.456Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: require('request') is causing the segfault","date":"2013-10-05T04:17:41.958Z","type":"message"}
{"nick":"trevnorris","message":"it's not even getting to the test.","date":"2013-10-05T04:17:49.650Z","type":"message"}
{"nick":"othiym23","message":"haha rad","date":"2013-10-05T04:20:02.808Z","type":"message"}
{"nick":"othiym23","message":"I figured it had to be something super basic like that","date":"2013-10-05T04:20:14.480Z","type":"message"}
{"nick":"othiym23","message":"all right, I have the latest SmartOS root zone running and am upgrading all my sadly outdated packages","date":"2013-10-05T04:21:17.272Z","type":"message"}
{"nick":"othiym23","message":"I have to do something really dumb to get my root zone talking to the internet that I always forget","date":"2013-10-05T04:25:55.946Z","type":"message"}
{"nick":"othiym23","message":"I need to figure out how to make that config sticky","date":"2013-10-05T04:26:04.470Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-10-05T04:27:12.608Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T04:29:24.886Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: here's the stack for the last call to runAsyncListener before segfaulting: https://gist.github.com/trevnorris/6836690","date":"2013-10-05T04:30:16.609Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and here's what may be causing something: var _rb = require('crypto').randomBytes;","date":"2013-10-05T04:31:28.726Z","type":"message"}
{"nick":"othiym23","message":"I was just gonna ask if it was crypto causing problems","date":"2013-10-05T04:32:01.721Z","type":"message"}
{"nick":"trevnorris","message":"I changed that class to get access to it's MakeCallback.","date":"2013-10-05T04:32:10.964Z","type":"message"}
{"nick":"trevnorris","message":"luckily it's easy to trace","date":"2013-10-05T04:32:18.280Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 260 seconds","date":"2013-10-05T04:33:51.934Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: confirmed. crypto.randomBytes(16) causes a segfault","date":"2013-10-05T04:33:57.447Z","type":"message"}
{"nick":"trevnorris","message":"strange that it wasn't happening before.","date":"2013-10-05T04:34:16.664Z","type":"message"}
{"nick":"trevnorris","message":"oh, but it's only when an asyncListener is listening","date":"2013-10-05T04:35:20.774Z","type":"message"}
{"nick":"trevnorris","message":"freak. that's not it either.","date":"2013-10-05T04:38:31.410Z","type":"message"}
{"nick":"trevnorris","message":"wtf is going on.","date":"2013-10-05T04:38:33.805Z","type":"message"}
{"nick":"othiym23","message":"all I know is that Comcast is doing an excellent job of throttling my bandwidth to GitHub","date":"2013-10-05T04:47:50.882Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: found it.","date":"2013-10-05T04:52:29.437Z","type":"message"}
{"nick":"trevnorris","message":"horrible logic on my part.","date":"2013-10-05T04:53:01.647Z","type":"message"}
{"nick":"othiym23","message":"what was the issue?","date":"2013-10-05T04:53:39.995Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: i'm creating a buffer, but accidently free'ing the associated memory.","date":"2013-10-05T04:54:52.555Z","type":"message"}
{"nick":"othiym23","message":"yep, that'd do it","date":"2013-10-05T04:56:03.336Z","type":"message"}
{"nick":"trevnorris","message":"ok, give me a minute. i'll have it fixed.","date":"2013-10-05T04:56:47.512Z","type":"message"}
{"nick":"othiym23","message":"that's cool, still building Node from source under my SmartOS zone","date":"2013-10-05T04:57:35.229Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T04:57:45.597Z","type":"join"}
{"nick":"trevnorris","message":"hah, ok.","date":"2013-10-05T04:57:49.858Z","type":"message"}
{"nick":"othiym23","message":"even with make -j 4 and 4 cores assigned to vmware it takes a little while","date":"2013-10-05T04:57:50.344Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-10-05T04:58:06.911Z","type":"quit"}
{"nick":"trevnorris","message":"but hey, figured this out by using the async listener api. well, and some core hackery.","date":"2013-10-05T04:58:09.190Z","type":"message"}
{"nick":"othiym23","message":"give a man a fish, and he'll eat for a day","date":"2013-10-05T04:58:36.389Z","type":"message"}
{"nick":"othiym23","message":"give a man a grenade, and everybody will end up covered in fish guts","date":"2013-10-05T04:58:45.701Z","type":"message"}
{"nick":"trevnorris","message":"hah, awesome.","date":"2013-10-05T04:59:13.337Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T05:03:15.079Z","type":"join"}
{"nick":"austo","reason":"Read error: Operation timed out","date":"2013-10-05T05:03:15.968Z","type":"quit"}
{"nick":"austo","date":"2013-10-05T05:03:34.250Z","type":"join"}
{"nick":"trevnorris","message":"good freak, I hate pointers.","date":"2013-10-05T05:06:17.893Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T05:07:21.632Z","type":"join"}
{"nick":"wwicks","date":"2013-10-05T05:16:21.952Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: fixed, pushed.","date":"2013-10-05T05:16:31.434Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T05:18:04.627Z","type":"quit"}
{"nick":"othiym23","message":"cool, I'll check it out soon","date":"2013-10-05T05:18:05.389Z","type":"message"}
{"nick":"trevnorris","message":"it's really easy to see when i've stayed up too late coding.","date":"2013-10-05T05:18:43.376Z","type":"message"}
{"nick":"trevnorris","message":"that was horribly newbish of me.","date":"2013-10-05T05:18:57.859Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T05:28:48.458Z","type":"quit"}
{"nick":"othiym23","message":"I think there may be something slightly messed up with the domain refactor, too","date":"2013-10-05T05:29:24.071Z","type":"message"}
{"nick":"othiym23","message":"let me try pulling and rebuilding based on your latest changes, though","date":"2013-10-05T05:29:33.510Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: fwiw, I don't get the zlib error you've been encountering on either OS X 10.8.5 or SmartOS","date":"2013-10-05T05:31:44.348Z","type":"message"}
{"nick":"trevnorris","message":"oy,","date":"2013-10-05T05:31:55.411Z","type":"message"}
{"nick":"trevnorris","message":"i only get it if i'm installing a ton of packages.","date":"2013-10-05T05:32:09.078Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: also, try clearing your npm cache","date":"2013-10-05T05:33:33.888Z","type":"message"}
{"nick":"trevnorris","message":"if it's already in your cache then there's no zlib necessary","date":"2013-10-05T05:33:54.639Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and it's happening on master, not just my branch","date":"2013-10-05T05:34:15.040Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I was starting from a clean cache","date":"2013-10-05T05:34:26.685Z","type":"message"}
{"nick":"othiym23","message":"and installed ~200 packages","date":"2013-10-05T05:34:33.426Z","type":"message"}
{"nick":"trevnorris","message":"it's definitely a race condition.","date":"2013-10-05T05:34:51.171Z","type":"message"}
{"nick":"trevnorris","message":"but yeah. just ran from master and got: ../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.","date":"2013-10-05T05:35:33.631Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I can confirm that that fix works for me","date":"2013-10-05T05:42:04.845Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-10-05T05:42:09.684Z","type":"message"}
{"nick":"othiym23","message":"there is, however, something broken now in the unit tests that wasn't before","date":"2013-10-05T05:42:19.905Z","type":"message"}
{"nick":"othiym23","message":"I'll see if I can isolate what's going on","date":"2013-10-05T05:42:25.372Z","type":"message"}
{"nick":"othiym23","message":"and something's defintely breaking the Redis and Restify instrumentation, but I haven't checked those against master yet","date":"2013-10-05T05:42:55.199Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: when I ran the restify test against master there were 2 tests failing","date":"2013-10-05T05:44:58.707Z","type":"message"}
{"nick":"othiym23","message":"OK, good to know","date":"2013-10-05T05:45:41.218Z","type":"message"}
{"nick":"trevnorris","message":"but that's not to say I don't expect something to be broken. the way I injected adding the listener to a handle is so precarious. it's sort of sad.","date":"2013-10-05T05:45:55.405Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: like this here: http://git.io/2efU1A","date":"2013-10-05T05:46:41.398Z","type":"message"}
{"nick":"trevnorris","message":"i've had to trace down where all handles are being created after the js object instantiation and inject code to add the handle manually","date":"2013-10-05T05:47:09.625Z","type":"message"}
{"nick":"trevnorris","message":"it's been a pain.","date":"2013-10-05T05:47:12.760Z","type":"message"}
{"nick":"trevnorris","message":"freaking \"net\"","date":"2013-10-05T05:47:26.318Z","type":"message"}
{"nick":"trevnorris","message":"why couldn't it just have been tcp and pipe","date":"2013-10-05T05:47:32.495Z","type":"message"}
{"nick":"trevnorris","message":"combining the two makes it much more painful.","date":"2013-10-05T05:47:42.443Z","type":"message"}
{"nick":"othiym23","message":"hmm... some of the redist tests are failing in a new way","date":"2013-10-05T05:53:48.376Z","type":"message"}
{"nick":"trevnorris","message":"heh, awesome.","date":"2013-10-05T05:54:42.038Z","type":"message"}
{"nick":"othiym23","message":"verifying that my tests work on SmartOS under 0.10.20 before I go to deep with this","date":"2013-10-05T05:55:56.085Z","type":"message"}
{"nick":"othiym23","message":"also I appear to have a 0.8.14 regression","date":"2013-10-05T05:56:03.873Z","type":"message"}
{"nick":"othiym23","message":"it's always something","date":"2013-10-05T05:56:06.326Z","type":"message"}
{"nick":"trevnorris","message":"hah, awesome.","date":"2013-10-05T05:56:59.820Z","type":"message"}
{"nick":"trevnorris","message":"so, the failures you're having. are they on master or on my branch","date":"2013-10-05T05:57:10.398Z","type":"message"}
{"nick":"trevnorris","message":"or maybe both","date":"2013-10-05T05:57:16.508Z","type":"message"}
{"nick":"trevnorris","message":"but in different ways :P","date":"2013-10-05T05:57:22.054Z","type":"message"}
{"nick":"trevnorris","message":"hah, this pr is definitely my biggest so far. 2200 additions 900 deletions.","date":"2013-10-05T05:59:57.506Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-05T06:01:00.444Z","type":"join"}
{"nick":"sindresorhus","reason":"Ping timeout: 248 seconds","date":"2013-10-05T06:03:07.794Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: rebuilding master to check","date":"2013-10-05T06:03:33.263Z","type":"message"}
{"nick":"othiym23","message":"I should probably keep built versions of both master and your branch somewhere handy","date":"2013-10-05T06:03:47.656Z","type":"message"}
{"nick":"sindresorhus","date":"2013-10-05T06:04:01.483Z","type":"join"}
{"nick":"othiym23","message":"restify failures still happen on master","date":"2013-10-05T06:08:02.381Z","type":"message"}
{"nick":"othiym23","message":"(like you said)","date":"2013-10-05T06:08:07.297Z","type":"message"}
{"nick":"othiym23","message":"so jade has problems under master","date":"2013-10-05T06:09:59.017Z","type":"message"}
{"nick":"othiym23","message":"all of the failures that are happening on your branch are happening on master as well, and I can see that the asyncListener polyfill is being used, so I know the right version is running","date":"2013-10-05T06:10:49.203Z","type":"message"}
{"nick":"othiym23","message":"which is encouraging for you, and a bit of a pain in the ass for me, because some of these failures weren't happening last weekend","date":"2013-10-05T06:11:14.686Z","type":"message"}
{"nick":"trevnorris","message":"hm. strange.","date":"2013-10-05T06:13:51.833Z","type":"message"}
{"nick":"trevnorris","message":"well, right now i'm in the process of analyzing every process.nextTick() used in lib/ to see if there's a handle related event that needs to be manually tracked.","date":"2013-10-05T06:14:45.881Z","type":"message"}
{"nick":"trevnorris","message":"so this might take a while. :P","date":"2013-10-05T06:14:49.470Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and I still can't believe you got your polyfill to work so well.","date":"2013-10-05T06:15:13.611Z","type":"message"}
{"nick":"trevnorris","message":"much of the stuff I injected isn't even exposed to js","date":"2013-10-05T06:15:35.800Z","type":"message"}
{"nick":"othiym23","message":"it's pretty simple!","date":"2013-10-05T06:15:37.192Z","type":"message"}
{"nick":"othiym23","message":"it's just not efficient, but so far I haven't really seen the slowdown, but I haven't been doing much in the way of load testing","date":"2013-10-05T06:16:02.625Z","type":"message"}
{"nick":"othiym23","message":"what's a reliable way to cause a DNS lookup to fail fast?","date":"2013-10-05T06:17:37.992Z","type":"message"}
{"nick":"trevnorris","message":"dns.lookup('localhost');","date":"2013-10-05T06:19:46.581Z","type":"message"}
{"nick":"trevnorris","message":"it'll fail with TypeError: Cannot set property 'immediately' of undefined","date":"2013-10-05T06:19:55.476Z","type":"message"}
{"nick":"rendar","date":"2013-10-05T06:20:12.471Z","type":"join"}
{"nick":"othiym23","message":"let's just see about that","date":"2013-10-05T06:21:00.469Z","type":"message"}
{"nick":"othiym23","message":"the test that was failing is no longer failing","date":"2013-10-05T06:21:11.024Z","type":"message"}
{"nick":"othiym23","message":"I have a racy test yay","date":"2013-10-05T06:21:15.254Z","type":"message"}
{"nick":"othiym23","message":"not really sure how, what it's doing is simple","date":"2013-10-05T06:21:22.624Z","type":"message"}
{"nick":"othiym23","message":"I need to figure out what's up with DNS lookup on SmartOS","date":"2013-10-05T06:25:17.696Z","type":"message"}
{"nick":"vptr1","date":"2013-10-05T06:33:33.958Z","type":"join"}
{"nick":"trevnorris","message":"you know, it's funny. i'm noticing how much synchronous sugar has been layered onto the asynchronous nature of node's internals.","date":"2013-10-05T06:34:47.389Z","type":"message"}
{"nick":"vptr","reason":"Read error: Connection reset by peer","date":"2013-10-05T06:34:52.328Z","type":"quit"}
{"nick":"trevnorris","message":"then it's executed to make it look asynchronous.","date":"2013-10-05T06:35:04.774Z","type":"message"}
{"nick":"Raynos","reason":"Ping timeout: 248 seconds","date":"2013-10-05T06:35:17.754Z","type":"quit"}
{"nick":"othiym23","message":"like what?","date":"2013-10-05T06:36:43.279Z","type":"message"}
{"nick":"trevnorris","message":"so, when you setup an http server, all the work is done immediately. but to allow you to setup any listeners at the last moment it nextTicks' the fact that the socket has already been acquired for the server.","date":"2013-10-05T06:37:55.903Z","type":"message"}
{"nick":"trevnorris","message":"or how streams an emitters have nothing asynchronous about them. they just use nextTick as a way to emulate that behavior.","date":"2013-10-05T06:38:21.047Z","type":"message"}
{"nick":"trevnorris","message":"and when I say asynchronous, I mean like calling out to system I/O and suck.","date":"2013-10-05T06:38:39.934Z","type":"message"}
{"nick":"trevnorris","message":"*such","date":"2013-10-05T06:38:42.460Z","type":"message"}
{"nick":"trevnorris","message":"but if a lot of those nextTicks' were removed most of node's api would actually be synchronous, at least with the sugar api on top of the internals.","date":"2013-10-05T06:39:34.590Z","type":"message"}
{"nick":"trevnorris","message":"but doubt this is making much sense. my clonazepam has kicked in and i'm fading off to wonder land.","date":"2013-10-05T06:40:26.608Z","type":"message"}
{"nick":"qmx","reason":"Remote host closed the connection","date":"2013-10-05T06:40:47.262Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #242 \u00037UNSTABLE\u000f windows-ia32 (8/600) windows-x64 (7/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/242/","date":"2013-10-05T06:41:29.871Z","type":"message"}
{"nick":"othiym23","message":"no, I've got you","date":"2013-10-05T06:41:59.328Z","type":"message"}
{"nick":"othiym23","message":"a lot of that sugar is there for consistency","date":"2013-10-05T06:42:12.099Z","type":"message"}
{"nick":"qmx","date":"2013-10-05T06:42:17.559Z","type":"join"}
{"nick":"othiym23","message":"I mean, that's why process.nextTick exists in the first place","date":"2013-10-05T06:42:20.598Z","type":"message"}
{"nick":"trevnorris","message":"yeah. well hopefully in v0.13 isaacs is cool with the changes i'd like to make","date":"2013-10-05T06:42:57.531Z","type":"message"}
{"nick":"trevnorris","message":"fully backwards compatible of course.","date":"2013-10-05T06:43:03.576Z","type":"message"}
{"nick":"trevnorris","message":"but truly making a js binding directly to the c++ class counterparts.","date":"2013-10-05T06:43:20.760Z","type":"message"}
{"nick":"trevnorris","message":"then allowing all the sugar to sit on top of that.","date":"2013-10-05T06:43:34.179Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, good news. just running the listeners, not actually doing anything in them, in the http_simple.js test only tacks on 5-8% perf loss.","date":"2013-10-05T06:57:34.749Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T06:58:05.177Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: one of my challenges is coming up with a benchmark that shows how much overhead the Node agent adds to a realistic app","date":"2013-10-05T06:58:51.785Z","type":"message"}
{"nick":"trevnorris","message":"yeah. true that.","date":"2013-10-05T06:59:08.156Z","type":"message"}
{"nick":"othiym23","message":"so far, the amount of overhead imposed by the agent appears to be ~1% unless you're doing the kind of tight-loop testing the node benchmarks do","date":"2013-10-05T06:59:20.553Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, give me a \"realistic app\" and i'll add a long stack trace script that'll allow them to configure how many stacks they want to keep.","date":"2013-10-05T06:59:34.441Z","type":"message"}
{"nick":"trevnorris","message":"hahaha. that's awesome. just keeping the last stack trace took req/sec from 15000 to 500","date":"2013-10-05T07:01:56.152Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, i'm pretty much useless. thanks for helping me find yet another bug.","date":"2013-10-05T07:11:55.370Z","type":"message"}
{"nick":"othiym23","message":"sure!","date":"2013-10-05T07:12:16.025Z","type":"message"}
{"nick":"othiym23","message":"I'll keep poking at it","date":"2013-10-05T07:12:20.466Z","type":"message"}
{"nick":"trevnorris","message":"thanks.","date":"2013-10-05T07:12:23.952Z","type":"message"}
{"nick":"othiym23","message":"I think things are looking good!","date":"2013-10-05T07:12:27.707Z","type":"message"}
{"nick":"trevnorris","message":"that's good to hear.","date":"2013-10-05T07:14:38.107Z","type":"message"}
{"nick":"trevnorris","message":"this is such a substantial change to go in relatively soon before the v0.12 release. interested to see what isaacs has to say when he finally gets back.","date":"2013-10-05T07:15:21.428Z","type":"message"}
{"nick":"othiym23","message":"yeah, me too","date":"2013-10-05T07:15:58.142Z","type":"message"}
{"nick":"othiym23","message":"there's a lot to review in there, it might make sense to break the asyncListener and domain-removal chunks into separate PRs, even if the latter is dependent on the former","date":"2013-10-05T07:16:28.217Z","type":"message"}
{"nick":"trevnorris","message":"yeah. i've at least broken up the commits that way","date":"2013-10-05T07:16:55.614Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T07:22:11.629Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-05T07:33:53.847Z","type":"join"}
{"nick":"hz","date":"2013-10-05T07:55:43.642Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T08:01:40.026Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T08:21:32.477Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T08:21:41.250Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-10-05T08:32:30.222Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T08:33:39.247Z","type":"join"}
{"nick":"Raynos","date":"2013-10-05T08:36:02.655Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T08:46:01.163Z","type":"quit"}
{"nick":"Kakera","date":"2013-10-05T10:03:02.431Z","type":"join"}
{"nick":"brson","date":"2013-10-05T10:32:55.271Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1516 \u00037UNSTABLE\u000f smartos-x64 (2/600) osx-x64 (1/600) osx-ia32 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1516/","date":"2013-10-05T10:45:37.454Z","type":"message"}
{"nick":"abraxas","date":"2013-10-05T10:54:03.466Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-10-05T10:59:02.795Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T11:11:58.450Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-10-05T11:14:30.290Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T11:14:35.807Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T11:18:13.485Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T11:26:21.600Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T11:32:18.027Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T11:49:33.435Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-10-05T12:04:24.341Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T12:35:41.850Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-05T12:46:59.214Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002d97ea06\u0002 : doc: add warning to fs.exists() documentation - http://git.io/KnTcxg","date":"2013-10-05T12:56:03.403Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1517 \u00037UNSTABLE\u000f smartos-x64 (2/600) linux-ia32 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1517/","date":"2013-10-05T13:03:45.514Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T13:10:01.355Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #243 \u00037UNSTABLE\u000f windows-ia32 (7/600) windows-x64 (8/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/243/","date":"2013-10-05T13:10:55.664Z","type":"message"}
{"nick":"hz","date":"2013-10-05T13:12:35.605Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2013-10-05T13:16:12.966Z","type":"quit"}
{"nick":"mmalecki","date":"2013-10-05T13:16:32.771Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-10-05T13:18:56.425Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2013-10-05T13:22:06.003Z","type":"quit"}
{"nick":"mmalecki","date":"2013-10-05T13:22:17.376Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-05T13:30:16.370Z","type":"join"}
{"nick":"kazupon","date":"2013-10-05T13:40:48.373Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T13:41:23.398Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T14:02:15.923Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2013-10-05T14:07:34.576Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T14:09:12.467Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-05T14:21:29.558Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-10-05T14:39:48.268Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T15:11:15.732Z","type":"nick"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #594 \u00037UNSTABLE\u000f smartos-x64 (6/644) osx-ia32 (1/644) http://jenkins.nodejs.org/job/nodejs-master/594/","date":"2013-10-05T15:16:56.827Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-05T15:33:24.897Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T15:36:26.072Z","type":"quit"}
{"nick":"hz","date":"2013-10-05T15:36:57.513Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T15:43:45.022Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T15:51:01.436Z","type":"join"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-10-05T00:00:01.401Z","type":"quit"}
{"nick":"ircretary","date":"2013-10-05T00:00:09.371Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: no more detail from node_g","date":"2013-10-05T00:01:54.885Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: but a bunch of tests that ran before, even if there were failing asserts, are now crashing with SIGSEGV","date":"2013-10-05T00:02:12.243Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: oh, 64bit?","date":"2013-10-05T00:03:32.617Z","type":"message"}
{"nick":"tjfontaine","message":"ya those addrs seem wide enough","date":"2013-10-05T00:03:46.525Z","type":"message"}
{"nick":"tjfontaine","message":"please try","date":"2013-10-05T00:03:50.373Z","type":"message"}
{"nick":"tjfontaine","message":"(cd deps/v8; curl https://github.com/v8/v8/commit/435d8aadc3f60fea2aaad23fae3f29e5aeccb907.diff | patch -p1)","date":"2013-10-05T00:04:19.874Z","type":"message"}
{"nick":"othiym23","message":"will do, chief","date":"2013-10-05T00:05:28.149Z","type":"message"}
{"nick":"othiym23","message":"tjfontaine: patch applied, ./configure && make && make node_g, still segfaulting","date":"2013-10-05T00:10:30.788Z","type":"message"}
{"nick":"tjfontaine","message":"awesome.","date":"2013-10-05T00:10:44.213Z","type":"message"}
{"nick":"tjfontaine","message":"NMF :)","date":"2013-10-05T00:10:51.011Z","type":"message"}
{"nick":"othiym23","message":"same bt in gdb, too","date":"2013-10-05T00:11:12.316Z","type":"message"}
{"nick":"othiym23","message":"yeah, that's why I didn't bug you with it in the first place ;)","date":"2013-10-05T00:11:18.843Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-10-05T00:12:18.061Z","type":"message"}
{"nick":"tjfontaine","message":"hehe I still like to know :P","date":"2013-10-05T00:12:22.781Z","type":"message"}
{"nick":"tjfontaine","message":"the backtrace was suspicious though","date":"2013-10-05T00:12:33.436Z","type":"message"}
{"nick":"tjfontaine","message":"could be just an unwrap in trevors logic though","date":"2013-10-05T00:13:15.291Z","type":"message"}
{"nick":"tjfontaine","message":"clearly something set to null and not being checked if its ok to unwrap it","date":"2013-10-05T00:13:32.779Z","type":"message"}
{"nick":"tjfontaine","message":"shame you can't see any of the jit frames there","date":"2013-10-05T00:13:59.334Z","type":"message"}
{"nick":"othiym23","message":"tjfontaine: I updated the gist to be the node_g bt instead","date":"2013-10-05T00:14:38.196Z","type":"message"}
{"nick":"othiym23","message":"the output's less about Smi stuff and more low-level, but otherwise the same","date":"2013-10-05T00:14:53.430Z","type":"message"}
{"nick":"othiym23","message":"I'll take a look at it in SmartOS tonight","date":"2013-10-05T00:15:11.542Z","type":"message"}
{"nick":"tjfontaine","message":"nod, the more I look at it it's probalby just an \"uninitialized\" value","date":"2013-10-05T00:15:54.429Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T00:20:21.794Z","type":"nick"}
{"nick":"jmar777","date":"2013-10-05T00:28:56.040Z","type":"join"}
{"nick":"mikeal","date":"2013-10-05T00:29:19.430Z","type":"join"}
{"nick":"M28","date":"2013-10-05T00:31:55.289Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2013-10-05T00:34:18.286Z","type":"quit"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-10-05T00:39:18.963Z","type":"quit"}
{"nick":"zz_karupanerura","new_nick":"karupa64","date":"2013-10-05T00:42:57.500Z","type":"nick"}
{"nick":"karupa64","new_nick":"karupanerura","date":"2013-10-05T00:44:38.021Z","type":"nick"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-05T00:46:10.041Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-10-05T00:48:45.093Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-05T00:50:20.604Z","type":"nick"}
{"nick":"c4milo","date":"2013-10-05T00:51:14.602Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-10-05T01:00:26.723Z","type":"quit"}
{"nick":"tjfontaine","message":"sigh","date":"2013-10-05T01:14:00.320Z","type":"message"}
{"nick":"othiym23","message":"that good?","date":"2013-10-05T01:14:20.353Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-10-05T01:14:23.955Z","type":"message"}
{"nick":"tjfontaine","message":"hit a node bug, not sure how I'm going to reproduce this one :/","date":"2013-10-05T01:14:46.148Z","type":"message"}
{"nick":"othiym23","message":"I had a couple like that this week","date":"2013-10-05T01:16:57.149Z","type":"message"}
{"nick":"tjfontaine","message":"basically a node child from .fork() has its parent IPC pipe set into non-blocking mode","date":"2013-10-05T01:17:04.462Z","type":"message"}
{"nick":"othiym23","message":"I consoled myself by telling myself that once I had a repro case the bugs would be easy to fix","date":"2013-10-05T01:17:16.545Z","type":"message"}
{"nick":"othiym23","message":"but I was wrong","date":"2013-10-05T01:17:18.926Z","type":"message"}
{"nick":"tjfontaine","message":"LET US DROWN OUR SORROWS","date":"2013-10-05T01:17:32.388Z","type":"message"}
{"nick":"LOUDBOT","message":"I THINK I'LL TRY TO FUCK THE DEAF GIRL","date":"2013-10-05T01:17:32.833Z","type":"message"}
{"nick":"tjfontaine","message":"loudbot is aggressive today","date":"2013-10-05T01:17:43.835Z","type":"message"}
{"nick":"othiym23","message":"no wonder nexxy doesn't want LOUDBOT in #node.js","date":"2013-10-05T01:17:48.215Z","type":"message"}
{"nick":"tjfontaine","message":"indeed","date":"2013-10-05T01:17:52.898Z","type":"message"}
{"nick":"othiym23","message":"LOUDBOT, you're kind of a sexist jerk","date":"2013-10-05T01:18:02.576Z","type":"message"}
{"nick":"LOUDBOT","message":"othiym23: USING PHP IS LIKE FUCKING AN INFLATABLE DOLL. IT MIGHT GET THE JOB DONE BUT IT'S EMBARRASSING TO WATCH.","date":"2013-10-05T01:18:02.925Z","type":"message"}
{"nick":"wolfeidau","message":"o that is funny","date":"2013-10-05T01:18:22.051Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: TWITLAST","date":"2013-10-05T01:18:44.162Z","type":"message"}
{"nick":"LOUDBOT","message":"http://twitter.com/LOUDBOT/status/386299380614971392 (apeiron/#dongtown)","date":"2013-10-05T01:18:44.518Z","type":"message"}
{"nick":"wolfeidau","message":"ROFL","date":"2013-10-05T01:19:05.792Z","type":"message"}
{"nick":"tjfontaine","message":"LOUDBOT: SEARCH NODE.JS","date":"2013-10-05T01:19:18.960Z","type":"message"}
{"nick":"LOUDBOT","message":"tjfontaine: <maxogden:#stackvm> POTENTIAL CUSTOMER IN NODE.JS GOGOGOG","date":"2013-10-05T01:19:19.288Z","type":"message"}
{"nick":"st_luke","date":"2013-10-05T01:21:00.752Z","type":"join"}
{"nick":"wolfeidau","message":"tjfontaine: so it seems i have a lot of bodies https://gist.github.com/wolfeidau/6834170 starting to get the hang of this!","date":"2013-10-05T01:21:21.296Z","type":"message"}
{"nick":"tjfontaine","message":"nice, we're going to have a \"fix\" for the two-byte-string stuff soon","date":"2013-10-05T01:22:13.042Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 245 seconds","date":"2013-10-05T01:24:36.871Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-05T01:25:59.617Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T01:29:51.979Z","type":"join"}
{"nick":"wolfeidau","message":"Yeah so idle process is RSS-TOTALHEAP=STUFF where stuff is currently 104342272","date":"2013-10-05T01:34:59.308Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T01:39:05.282Z","type":"quit"}
{"nick":"st_luke","date":"2013-10-05T01:46:34.933Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-10-05T02:05:41.799Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T02:13:25.402Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-10-05T02:23:55.431Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T02:27:30.836Z","type":"join"}
{"nick":"kazupon","date":"2013-10-05T02:43:53.810Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T02:54:27.783Z","type":"quit"}
{"nick":"karupanerura","new_nick":"zz_karupanerura","date":"2013-10-05T03:00:59.893Z","type":"nick"}
{"nick":"trevnorris","message":"othiym23: thanks for the info.","date":"2013-10-05T03:08:19.197Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: are you using the latest? I do have an unwrap, but immediately check that the return value isn't nil","date":"2013-10-05T03:08:48.734Z","type":"message"}
{"nick":"zz_karupanerura","new_nick":"karupa64","date":"2013-10-05T03:10:05.319Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T03:11:42.592Z","type":"quit"}
{"nick":"karupa64","new_nick":"zz_karupa64","date":"2013-10-05T03:14:35.061Z","type":"nick"}
{"nick":"othiym23","message":"trevnorris: I did a git fetch --all ; git reset --hard trevor/flippin-tick-thing ; configure ; make ; make node_g","date":"2013-10-05T03:20:05.839Z","type":"message"}
{"nick":"othiym23","message":"right before I captured that gist","date":"2013-10-05T03:20:24.297Z","type":"message"}
{"nick":"othiym23","message":"so unless, like, you didn't push some changes, yeah, I have the latest","date":"2013-10-05T03:20:39.528Z","type":"message"}
{"nick":"othiym23","message":"I'm going to upgrade my SmartOS environment and poke at it a little there","date":"2013-10-05T03:20:52.517Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: what's bothering me about that stack trace is that a call from a node js function would go to a node c++ method","date":"2013-10-05T03:23:32.593Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: but I'm not seeing where that's happening","date":"2013-10-05T03:23:41.972Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-05T03:23:55.815Z","type":"quit"}
{"nick":"amartens","date":"2013-10-05T03:24:46.710Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: that's why I'm going to poke at it with mdb","date":"2013-10-05T03:25:34.734Z","type":"message"}
{"nick":"othiym23","message":"all I see in thread 1 on that gist is v8 stuff, except for all those JITted stackframes","date":"2013-10-05T03:26:06.576Z","type":"message"}
{"nick":"othiym23","message":"and I can at least look at the v8::internal::Invoke argument pointers and see where they're pointing a little easier with the mdb node extensions","date":"2013-10-05T03:26:45.123Z","type":"message"}
{"nick":"othiym23","message":"and maybe the jstack helpers will help me descramble the JIT product","date":"2013-10-05T03:28:49.192Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 256 seconds","date":"2013-10-05T03:31:46.047Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: i'm still getting \"../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.\"","date":"2013-10-05T03:33:51.170Z","type":"message"}
{"nick":"trevnorris","message":"when installing using npm from master","date":"2013-10-05T03:36:27.273Z","type":"message"}
{"nick":"zz_karupa64","new_nick":"karupa64","date":"2013-10-05T03:37:49.627Z","type":"nick"}
{"nick":"trevnorris","message":"othiym23: just downloaded node-newrelic. how do I run the tests?","date":"2013-10-05T03:42:01.388Z","type":"message"}
{"nick":"Benvie","date":"2013-10-05T03:42:10.762Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-05T03:54:42.594Z","type":"join"}
{"nick":"othiym23","message":"trevnorris: start with CONTRIBUTING.md","date":"2013-10-05T03:59:22.229Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: ask me questions if that's not enough to get you up and running easily","date":"2013-10-05T03:59:34.821Z","type":"message"}
{"nick":"othiym23","message":"(that will help me improve the docs)","date":"2013-10-05T03:59:40.974Z","type":"message"}
{"nick":"othiym23","message":"and then to run thet tests, you'll probably want to skip straight to `make integration`","date":"2013-10-05T04:00:22.130Z","type":"message"}
{"nick":"othiym23","message":"because there are failures in the unit tests that may or may not be your fault","date":"2013-10-05T04:00:35.471Z","type":"message"}
{"nick":"othiym23","message":"at one point in the not too distant past (i.e. earlier this week), all the tests except one Restify test case were passing","date":"2013-10-05T04:01:01.929Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: the issue is that master is failing doing npm install","date":"2013-10-05T04:01:12.684Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: hmm... you could install using 0.11.7?","date":"2013-10-05T04:01:51.770Z","type":"message"}
{"nick":"trevnorris","message":"i'll try.","date":"2013-10-05T04:02:12.094Z","type":"message"}
{"nick":"othiym23","message":"I don't know if there have been any breaking ABI changes since then in the add-ons that get installed (which I think are probably just BSON and node-dtrace)","date":"2013-10-05T04:02:19.368Z","type":"message"}
{"nick":"trevnorris","message":"though fwiw i'd rather do the install using the same commit that i'll be using testing for","date":"2013-10-05T04:02:30.752Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: you said there are native modules that need to be built?","date":"2013-10-05T04:02:59.477Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: just used by dependencies for the modules I instrument","date":"2013-10-05T04:03:42.978Z","type":"message"}
{"nick":"othiym23","message":"the module itself is 100% crisp, pure JavaScript","date":"2013-10-05T04:03:53.346Z","type":"message"}
{"nick":"othiym23","message":"and I've version-locked bunyan to the last version before it depended on node-dtrace","date":"2013-10-05T04:04:27.375Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: at the least i'm able to reproduce the segfault.","date":"2013-10-05T04:12:52.218Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-10-05T04:13:55.487Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: cool","date":"2013-10-05T04:14:00.375Z","type":"message"}
{"nick":"Benvie","reason":"Ping timeout: 240 seconds","date":"2013-10-05T04:14:48.453Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-05T04:17:31.456Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: require('request') is causing the segfault","date":"2013-10-05T04:17:41.958Z","type":"message"}
{"nick":"trevnorris","message":"it's not even getting to the test.","date":"2013-10-05T04:17:49.650Z","type":"message"}
{"nick":"othiym23","message":"haha rad","date":"2013-10-05T04:20:02.808Z","type":"message"}
{"nick":"othiym23","message":"I figured it had to be something super basic like that","date":"2013-10-05T04:20:14.480Z","type":"message"}
{"nick":"othiym23","message":"all right, I have the latest SmartOS root zone running and am upgrading all my sadly outdated packages","date":"2013-10-05T04:21:17.272Z","type":"message"}
{"nick":"othiym23","message":"I have to do something really dumb to get my root zone talking to the internet that I always forget","date":"2013-10-05T04:25:55.946Z","type":"message"}
{"nick":"othiym23","message":"I need to figure out how to make that config sticky","date":"2013-10-05T04:26:04.470Z","type":"message"}
{"nick":"trevnorris","message":"heh","date":"2013-10-05T04:27:12.608Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T04:29:24.886Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: here's the stack for the last call to runAsyncListener before segfaulting: https://gist.github.com/trevnorris/6836690","date":"2013-10-05T04:30:16.609Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and here's what may be causing something: var _rb = require('crypto').randomBytes;","date":"2013-10-05T04:31:28.726Z","type":"message"}
{"nick":"othiym23","message":"I was just gonna ask if it was crypto causing problems","date":"2013-10-05T04:32:01.721Z","type":"message"}
{"nick":"trevnorris","message":"I changed that class to get access to it's MakeCallback.","date":"2013-10-05T04:32:10.964Z","type":"message"}
{"nick":"trevnorris","message":"luckily it's easy to trace","date":"2013-10-05T04:32:18.280Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 260 seconds","date":"2013-10-05T04:33:51.934Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: confirmed. crypto.randomBytes(16) causes a segfault","date":"2013-10-05T04:33:57.447Z","type":"message"}
{"nick":"trevnorris","message":"strange that it wasn't happening before.","date":"2013-10-05T04:34:16.664Z","type":"message"}
{"nick":"trevnorris","message":"oh, but it's only when an asyncListener is listening","date":"2013-10-05T04:35:20.774Z","type":"message"}
{"nick":"trevnorris","message":"freak. that's not it either.","date":"2013-10-05T04:38:31.410Z","type":"message"}
{"nick":"trevnorris","message":"wtf is going on.","date":"2013-10-05T04:38:33.805Z","type":"message"}
{"nick":"othiym23","message":"all I know is that Comcast is doing an excellent job of throttling my bandwidth to GitHub","date":"2013-10-05T04:47:50.882Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: found it.","date":"2013-10-05T04:52:29.437Z","type":"message"}
{"nick":"trevnorris","message":"horrible logic on my part.","date":"2013-10-05T04:53:01.647Z","type":"message"}
{"nick":"othiym23","message":"what was the issue?","date":"2013-10-05T04:53:39.995Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: i'm creating a buffer, but accidently free'ing the associated memory.","date":"2013-10-05T04:54:52.555Z","type":"message"}
{"nick":"othiym23","message":"yep, that'd do it","date":"2013-10-05T04:56:03.336Z","type":"message"}
{"nick":"trevnorris","message":"ok, give me a minute. i'll have it fixed.","date":"2013-10-05T04:56:47.512Z","type":"message"}
{"nick":"othiym23","message":"that's cool, still building Node from source under my SmartOS zone","date":"2013-10-05T04:57:35.229Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T04:57:45.597Z","type":"join"}
{"nick":"trevnorris","message":"hah, ok.","date":"2013-10-05T04:57:49.858Z","type":"message"}
{"nick":"othiym23","message":"even with make -j 4 and 4 cores assigned to vmware it takes a little while","date":"2013-10-05T04:57:50.344Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-10-05T04:58:06.911Z","type":"quit"}
{"nick":"trevnorris","message":"but hey, figured this out by using the async listener api. well, and some core hackery.","date":"2013-10-05T04:58:09.190Z","type":"message"}
{"nick":"othiym23","message":"give a man a fish, and he'll eat for a day","date":"2013-10-05T04:58:36.389Z","type":"message"}
{"nick":"othiym23","message":"give a man a grenade, and everybody will end up covered in fish guts","date":"2013-10-05T04:58:45.701Z","type":"message"}
{"nick":"trevnorris","message":"hah, awesome.","date":"2013-10-05T04:59:13.337Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T05:03:15.079Z","type":"join"}
{"nick":"austo","reason":"Read error: Operation timed out","date":"2013-10-05T05:03:15.968Z","type":"quit"}
{"nick":"austo","date":"2013-10-05T05:03:34.250Z","type":"join"}
{"nick":"trevnorris","message":"good freak, I hate pointers.","date":"2013-10-05T05:06:17.893Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T05:07:21.632Z","type":"join"}
{"nick":"wwicks","date":"2013-10-05T05:16:21.952Z","type":"join"}
{"nick":"trevnorris","message":"othiym23: fixed, pushed.","date":"2013-10-05T05:16:31.434Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T05:18:04.627Z","type":"quit"}
{"nick":"othiym23","message":"cool, I'll check it out soon","date":"2013-10-05T05:18:05.389Z","type":"message"}
{"nick":"trevnorris","message":"it's really easy to see when i've stayed up too late coding.","date":"2013-10-05T05:18:43.376Z","type":"message"}
{"nick":"trevnorris","message":"that was horribly newbish of me.","date":"2013-10-05T05:18:57.859Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T05:28:48.458Z","type":"quit"}
{"nick":"othiym23","message":"I think there may be something slightly messed up with the domain refactor, too","date":"2013-10-05T05:29:24.071Z","type":"message"}
{"nick":"othiym23","message":"let me try pulling and rebuilding based on your latest changes, though","date":"2013-10-05T05:29:33.510Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: fwiw, I don't get the zlib error you've been encountering on either OS X 10.8.5 or SmartOS","date":"2013-10-05T05:31:44.348Z","type":"message"}
{"nick":"trevnorris","message":"oy,","date":"2013-10-05T05:31:55.411Z","type":"message"}
{"nick":"trevnorris","message":"i only get it if i'm installing a ton of packages.","date":"2013-10-05T05:32:09.078Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: also, try clearing your npm cache","date":"2013-10-05T05:33:33.888Z","type":"message"}
{"nick":"trevnorris","message":"if it's already in your cache then there's no zlib necessary","date":"2013-10-05T05:33:54.639Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and it's happening on master, not just my branch","date":"2013-10-05T05:34:15.040Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I was starting from a clean cache","date":"2013-10-05T05:34:26.685Z","type":"message"}
{"nick":"othiym23","message":"and installed ~200 packages","date":"2013-10-05T05:34:33.426Z","type":"message"}
{"nick":"trevnorris","message":"it's definitely a race condition.","date":"2013-10-05T05:34:51.171Z","type":"message"}
{"nick":"trevnorris","message":"but yeah. just ran from master and got: ../src/node_zlib.cc:101: void node::ZCtx::Close(): Assertion `!write_in_progress_ && \"write in progress\"' failed.","date":"2013-10-05T05:35:33.631Z","type":"message"}
{"nick":"othiym23","message":"trevnorris: I can confirm that that fix works for me","date":"2013-10-05T05:42:04.845Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-10-05T05:42:09.684Z","type":"message"}
{"nick":"othiym23","message":"there is, however, something broken now in the unit tests that wasn't before","date":"2013-10-05T05:42:19.905Z","type":"message"}
{"nick":"othiym23","message":"I'll see if I can isolate what's going on","date":"2013-10-05T05:42:25.372Z","type":"message"}
{"nick":"othiym23","message":"and something's defintely breaking the Redis and Restify instrumentation, but I haven't checked those against master yet","date":"2013-10-05T05:42:55.199Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: when I ran the restify test against master there were 2 tests failing","date":"2013-10-05T05:44:58.707Z","type":"message"}
{"nick":"othiym23","message":"OK, good to know","date":"2013-10-05T05:45:41.218Z","type":"message"}
{"nick":"trevnorris","message":"but that's not to say I don't expect something to be broken. the way I injected adding the listener to a handle is so precarious. it's sort of sad.","date":"2013-10-05T05:45:55.405Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: like this here: http://git.io/2efU1A","date":"2013-10-05T05:46:41.398Z","type":"message"}
{"nick":"trevnorris","message":"i've had to trace down where all handles are being created after the js object instantiation and inject code to add the handle manually","date":"2013-10-05T05:47:09.625Z","type":"message"}
{"nick":"trevnorris","message":"it's been a pain.","date":"2013-10-05T05:47:12.760Z","type":"message"}
{"nick":"trevnorris","message":"freaking \"net\"","date":"2013-10-05T05:47:26.318Z","type":"message"}
{"nick":"trevnorris","message":"why couldn't it just have been tcp and pipe","date":"2013-10-05T05:47:32.495Z","type":"message"}
{"nick":"trevnorris","message":"combining the two makes it much more painful.","date":"2013-10-05T05:47:42.443Z","type":"message"}
{"nick":"othiym23","message":"hmm... some of the redist tests are failing in a new way","date":"2013-10-05T05:53:48.376Z","type":"message"}
{"nick":"trevnorris","message":"heh, awesome.","date":"2013-10-05T05:54:42.038Z","type":"message"}
{"nick":"othiym23","message":"verifying that my tests work on SmartOS under 0.10.20 before I go to deep with this","date":"2013-10-05T05:55:56.085Z","type":"message"}
{"nick":"othiym23","message":"also I appear to have a 0.8.14 regression","date":"2013-10-05T05:56:03.873Z","type":"message"}
{"nick":"othiym23","message":"it's always something","date":"2013-10-05T05:56:06.326Z","type":"message"}
{"nick":"trevnorris","message":"hah, awesome.","date":"2013-10-05T05:56:59.820Z","type":"message"}
{"nick":"trevnorris","message":"so, the failures you're having. are they on master or on my branch","date":"2013-10-05T05:57:10.398Z","type":"message"}
{"nick":"trevnorris","message":"or maybe both","date":"2013-10-05T05:57:16.508Z","type":"message"}
{"nick":"trevnorris","message":"but in different ways :P","date":"2013-10-05T05:57:22.054Z","type":"message"}
{"nick":"trevnorris","message":"hah, this pr is definitely my biggest so far. 2200 additions 900 deletions.","date":"2013-10-05T05:59:57.506Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-05T06:01:00.444Z","type":"join"}
{"nick":"sindresorhus","reason":"Ping timeout: 248 seconds","date":"2013-10-05T06:03:07.794Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: rebuilding master to check","date":"2013-10-05T06:03:33.263Z","type":"message"}
{"nick":"othiym23","message":"I should probably keep built versions of both master and your branch somewhere handy","date":"2013-10-05T06:03:47.656Z","type":"message"}
{"nick":"sindresorhus","date":"2013-10-05T06:04:01.483Z","type":"join"}
{"nick":"othiym23","message":"restify failures still happen on master","date":"2013-10-05T06:08:02.381Z","type":"message"}
{"nick":"othiym23","message":"(like you said)","date":"2013-10-05T06:08:07.297Z","type":"message"}
{"nick":"othiym23","message":"so jade has problems under master","date":"2013-10-05T06:09:59.017Z","type":"message"}
{"nick":"othiym23","message":"all of the failures that are happening on your branch are happening on master as well, and I can see that the asyncListener polyfill is being used, so I know the right version is running","date":"2013-10-05T06:10:49.203Z","type":"message"}
{"nick":"othiym23","message":"which is encouraging for you, and a bit of a pain in the ass for me, because some of these failures weren't happening last weekend","date":"2013-10-05T06:11:14.686Z","type":"message"}
{"nick":"trevnorris","message":"hm. strange.","date":"2013-10-05T06:13:51.833Z","type":"message"}
{"nick":"trevnorris","message":"well, right now i'm in the process of analyzing every process.nextTick() used in lib/ to see if there's a handle related event that needs to be manually tracked.","date":"2013-10-05T06:14:45.881Z","type":"message"}
{"nick":"trevnorris","message":"so this might take a while. :P","date":"2013-10-05T06:14:49.470Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: and I still can't believe you got your polyfill to work so well.","date":"2013-10-05T06:15:13.611Z","type":"message"}
{"nick":"trevnorris","message":"much of the stuff I injected isn't even exposed to js","date":"2013-10-05T06:15:35.800Z","type":"message"}
{"nick":"othiym23","message":"it's pretty simple!","date":"2013-10-05T06:15:37.192Z","type":"message"}
{"nick":"othiym23","message":"it's just not efficient, but so far I haven't really seen the slowdown, but I haven't been doing much in the way of load testing","date":"2013-10-05T06:16:02.625Z","type":"message"}
{"nick":"othiym23","message":"what's a reliable way to cause a DNS lookup to fail fast?","date":"2013-10-05T06:17:37.992Z","type":"message"}
{"nick":"trevnorris","message":"dns.lookup('localhost');","date":"2013-10-05T06:19:46.581Z","type":"message"}
{"nick":"trevnorris","message":"it'll fail with TypeError: Cannot set property 'immediately' of undefined","date":"2013-10-05T06:19:55.476Z","type":"message"}
{"nick":"rendar","date":"2013-10-05T06:20:12.471Z","type":"join"}
{"nick":"othiym23","message":"let's just see about that","date":"2013-10-05T06:21:00.469Z","type":"message"}
{"nick":"othiym23","message":"the test that was failing is no longer failing","date":"2013-10-05T06:21:11.024Z","type":"message"}
{"nick":"othiym23","message":"I have a racy test yay","date":"2013-10-05T06:21:15.254Z","type":"message"}
{"nick":"othiym23","message":"not really sure how, what it's doing is simple","date":"2013-10-05T06:21:22.624Z","type":"message"}
{"nick":"othiym23","message":"I need to figure out what's up with DNS lookup on SmartOS","date":"2013-10-05T06:25:17.696Z","type":"message"}
{"nick":"vptr1","date":"2013-10-05T06:33:33.958Z","type":"join"}
{"nick":"trevnorris","message":"you know, it's funny. i'm noticing how much synchronous sugar has been layered onto the asynchronous nature of node's internals.","date":"2013-10-05T06:34:47.389Z","type":"message"}
{"nick":"vptr","reason":"Read error: Connection reset by peer","date":"2013-10-05T06:34:52.328Z","type":"quit"}
{"nick":"trevnorris","message":"then it's executed to make it look asynchronous.","date":"2013-10-05T06:35:04.774Z","type":"message"}
{"nick":"Raynos","reason":"Ping timeout: 248 seconds","date":"2013-10-05T06:35:17.754Z","type":"quit"}
{"nick":"othiym23","message":"like what?","date":"2013-10-05T06:36:43.279Z","type":"message"}
{"nick":"trevnorris","message":"so, when you setup an http server, all the work is done immediately. but to allow you to setup any listeners at the last moment it nextTicks' the fact that the socket has already been acquired for the server.","date":"2013-10-05T06:37:55.903Z","type":"message"}
{"nick":"trevnorris","message":"or how streams an emitters have nothing asynchronous about them. they just use nextTick as a way to emulate that behavior.","date":"2013-10-05T06:38:21.047Z","type":"message"}
{"nick":"trevnorris","message":"and when I say asynchronous, I mean like calling out to system I/O and suck.","date":"2013-10-05T06:38:39.934Z","type":"message"}
{"nick":"trevnorris","message":"*such","date":"2013-10-05T06:38:42.460Z","type":"message"}
{"nick":"trevnorris","message":"but if a lot of those nextTicks' were removed most of node's api would actually be synchronous, at least with the sugar api on top of the internals.","date":"2013-10-05T06:39:34.590Z","type":"message"}
{"nick":"trevnorris","message":"but doubt this is making much sense. my clonazepam has kicked in and i'm fading off to wonder land.","date":"2013-10-05T06:40:26.608Z","type":"message"}
{"nick":"qmx","reason":"Remote host closed the connection","date":"2013-10-05T06:40:47.262Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #242 \u00037UNSTABLE\u000f windows-ia32 (8/600) windows-x64 (7/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/242/","date":"2013-10-05T06:41:29.871Z","type":"message"}
{"nick":"othiym23","message":"no, I've got you","date":"2013-10-05T06:41:59.328Z","type":"message"}
{"nick":"othiym23","message":"a lot of that sugar is there for consistency","date":"2013-10-05T06:42:12.099Z","type":"message"}
{"nick":"qmx","date":"2013-10-05T06:42:17.559Z","type":"join"}
{"nick":"othiym23","message":"I mean, that's why process.nextTick exists in the first place","date":"2013-10-05T06:42:20.598Z","type":"message"}
{"nick":"trevnorris","message":"yeah. well hopefully in v0.13 isaacs is cool with the changes i'd like to make","date":"2013-10-05T06:42:57.531Z","type":"message"}
{"nick":"trevnorris","message":"fully backwards compatible of course.","date":"2013-10-05T06:43:03.576Z","type":"message"}
{"nick":"trevnorris","message":"but truly making a js binding directly to the c++ class counterparts.","date":"2013-10-05T06:43:20.760Z","type":"message"}
{"nick":"trevnorris","message":"then allowing all the sugar to sit on top of that.","date":"2013-10-05T06:43:34.179Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, good news. just running the listeners, not actually doing anything in them, in the http_simple.js test only tacks on 5-8% perf loss.","date":"2013-10-05T06:57:34.749Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T06:58:05.177Z","type":"quit"}
{"nick":"othiym23","message":"trevnorris: one of my challenges is coming up with a benchmark that shows how much overhead the Node agent adds to a realistic app","date":"2013-10-05T06:58:51.785Z","type":"message"}
{"nick":"trevnorris","message":"yeah. true that.","date":"2013-10-05T06:59:08.156Z","type":"message"}
{"nick":"othiym23","message":"so far, the amount of overhead imposed by the agent appears to be ~1% unless you're doing the kind of tight-loop testing the node benchmarks do","date":"2013-10-05T06:59:20.553Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, give me a \"realistic app\" and i'll add a long stack trace script that'll allow them to configure how many stacks they want to keep.","date":"2013-10-05T06:59:34.441Z","type":"message"}
{"nick":"trevnorris","message":"hahaha. that's awesome. just keeping the last stack trace took req/sec from 15000 to 500","date":"2013-10-05T07:01:56.152Z","type":"message"}
{"nick":"trevnorris","message":"othiym23: well, i'm pretty much useless. thanks for helping me find yet another bug.","date":"2013-10-05T07:11:55.370Z","type":"message"}
{"nick":"othiym23","message":"sure!","date":"2013-10-05T07:12:16.025Z","type":"message"}
{"nick":"othiym23","message":"I'll keep poking at it","date":"2013-10-05T07:12:20.466Z","type":"message"}
{"nick":"trevnorris","message":"thanks.","date":"2013-10-05T07:12:23.952Z","type":"message"}
{"nick":"othiym23","message":"I think things are looking good!","date":"2013-10-05T07:12:27.707Z","type":"message"}
{"nick":"trevnorris","message":"that's good to hear.","date":"2013-10-05T07:14:38.107Z","type":"message"}
{"nick":"trevnorris","message":"this is such a substantial change to go in relatively soon before the v0.12 release. interested to see what isaacs has to say when he finally gets back.","date":"2013-10-05T07:15:21.428Z","type":"message"}
{"nick":"othiym23","message":"yeah, me too","date":"2013-10-05T07:15:58.142Z","type":"message"}
{"nick":"othiym23","message":"there's a lot to review in there, it might make sense to break the asyncListener and domain-removal chunks into separate PRs, even if the latter is dependent on the former","date":"2013-10-05T07:16:28.217Z","type":"message"}
{"nick":"trevnorris","message":"yeah. i've at least broken up the commits that way","date":"2013-10-05T07:16:55.614Z","type":"message"}
{"nick":"amartens","date":"2013-10-05T07:22:11.629Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-05T07:33:53.847Z","type":"join"}
{"nick":"hz","date":"2013-10-05T07:55:43.642Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T08:01:40.026Z","type":"quit"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-10-05T08:21:32.477Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T08:21:41.250Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-10-05T08:32:30.222Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T08:33:39.247Z","type":"join"}
{"nick":"Raynos","date":"2013-10-05T08:36:02.655Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T08:46:01.163Z","type":"quit"}
{"nick":"Kakera","date":"2013-10-05T10:03:02.431Z","type":"join"}
{"nick":"brson","date":"2013-10-05T10:32:55.271Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1516 \u00037UNSTABLE\u000f smartos-x64 (2/600) osx-x64 (1/600) osx-ia32 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1516/","date":"2013-10-05T10:45:37.454Z","type":"message"}
{"nick":"abraxas","date":"2013-10-05T10:54:03.466Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-10-05T10:59:02.795Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T11:11:58.450Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 264 seconds","date":"2013-10-05T11:14:30.290Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T11:14:35.807Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T11:18:13.485Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T11:26:21.600Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T11:32:18.027Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T11:49:33.435Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-10-05T12:04:24.341Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T12:35:41.850Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-05T12:46:59.214Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002d97ea06\u0002 : doc: add warning to fs.exists() documentation - http://git.io/KnTcxg","date":"2013-10-05T12:56:03.403Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #1517 \u00037UNSTABLE\u000f smartos-x64 (2/600) linux-ia32 (1/600) http://jenkins.nodejs.org/job/nodejs-v0.10/1517/","date":"2013-10-05T13:03:45.514Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T13:10:01.355Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #243 \u00037UNSTABLE\u000f windows-ia32 (7/600) windows-x64 (8/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/243/","date":"2013-10-05T13:10:55.664Z","type":"message"}
{"nick":"hz","date":"2013-10-05T13:12:35.605Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2013-10-05T13:16:12.966Z","type":"quit"}
{"nick":"mmalecki","date":"2013-10-05T13:16:32.771Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-10-05T13:18:56.425Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2013-10-05T13:22:06.003Z","type":"quit"}
{"nick":"mmalecki","date":"2013-10-05T13:22:17.376Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-05T13:30:16.370Z","type":"join"}
{"nick":"kazupon","date":"2013-10-05T13:40:48.373Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T13:41:23.398Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T14:02:15.923Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 256 seconds","date":"2013-10-05T14:07:34.576Z","type":"quit"}
{"nick":"brson","date":"2013-10-05T14:09:12.467Z","type":"join"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-10-05T14:21:29.558Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-10-05T14:39:48.268Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T15:11:15.732Z","type":"nick"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #594 \u00037UNSTABLE\u000f smartos-x64 (6/644) osx-ia32 (1/644) http://jenkins.nodejs.org/job/nodejs-master/594/","date":"2013-10-05T15:16:56.827Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-05T15:33:24.897Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T15:36:26.072Z","type":"quit"}
{"nick":"hz","date":"2013-10-05T15:36:57.513Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T15:43:45.022Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T15:51:01.436Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T16:07:25.916Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-10-05T16:09:34.972Z","type":"join"}
{"nick":"vptr1","reason":"Ping timeout: 260 seconds","date":"2013-10-05T16:16:40.570Z","type":"quit"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-10-05T16:18:38.020Z","type":"quit"}
{"nick":"wwicks","date":"2013-10-05T16:20:06.383Z","type":"join"}
{"nick":"amartens","date":"2013-10-05T16:22:43.211Z","type":"join"}
{"nick":"amartens","reason":"Read error: Connection reset by peer","date":"2013-10-05T16:23:36.632Z","type":"quit"}
{"nick":"amartens1","date":"2013-10-05T16:23:41.489Z","type":"join"}
{"nick":"amartens1","reason":"Client Quit","date":"2013-10-05T16:23:45.059Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u000238df93c\u0002 : unix: revert recent FSEvent changes - http://git.io/jwQflQ","date":"2013-10-05T16:26:24.141Z","type":"message"}
{"nick":"tjfontaine","message":"sigh","date":"2013-10-05T16:27:17.025Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #119 \u00037UNSTABLE\u000f smartos (2/187) windows (4/188) http://jenkins.nodejs.org/job/libuv-v0.10/119/","date":"2013-10-05T16:28:28.196Z","type":"message"}
{"nick":"wwicks","reason":"Ping timeout: 240 seconds","date":"2013-10-05T16:28:51.974Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: that was a bit rude","date":"2013-10-05T16:29:04.225Z","type":"message"}
{"nick":"indutny","message":"lets revert libev removal","date":"2013-10-05T16:29:10.581Z","type":"message"}
{"nick":"indutny","message":"there was tons bugs since then","date":"2013-10-05T16:29:16.280Z","type":"message"}
{"nick":"indutny","message":"and people were complaining for a year","date":"2013-10-05T16:29:28.711Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #83 \u00034FAILURE\u000f windows-x64 (4/188) windows-ia32 (4/188) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/83/","date":"2013-10-05T16:31:53.270Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: re 10.9 though, the laptop I wanted to put it on is doign SOS beeps at me, which apparently means I need to reflash the firmware -- so hopefully this weekend","date":"2013-10-05T16:31:55.017Z","type":"message"}
{"nick":"indutny","message":"gosh","date":"2013-10-05T16:32:08.085Z","type":"message"}
{"nick":"tjfontaine","message":"MI6: ya ya, I need to pin the gyp tool, since google hates me","date":"2013-10-05T16:32:15.304Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: thanks, anyway","date":"2013-10-05T16:32:41.955Z","type":"message"}
{"nick":"indutny","message":"I'll probably install 10.8 on my wife's MB once it'll be released","date":"2013-10-05T16:32:54.237Z","type":"message"}
{"nick":"indutny","message":"and should be able to test it more after that","date":"2013-10-05T16:33:00.735Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: well GM is out, but they do their silly appstore shtick","date":"2013-10-05T16:33:09.341Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-10-05T16:33:20.978Z","type":"message"}
{"nick":"tjfontaine","message":"lemme see if there's a standalone download I can get you","date":"2013-10-05T16:33:24.750Z","type":"message"}
{"nick":"indutny","message":"well, better not :)","date":"2013-10-05T16:33:30.606Z","type":"message"}
{"nick":"indutny","message":"I don't really want to touch my wife's MB before its out","date":"2013-10-05T16:33:45.222Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-10-05T16:33:47.012Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-10-05T16:33:47.680Z","type":"message"}
{"nick":"tjfontaine","message":"hehe, well it's gold-master","date":"2013-10-05T16:33:59.923Z","type":"message"}
{"nick":"indutny","message":"I know I know","date":"2013-10-05T16:34:43.659Z","type":"message"}
{"nick":"tjfontaine","message":"fuck it, I'll just move my laptop to it, what's the worst that could happen :)","date":"2013-10-05T16:34:53.334Z","type":"message"}
{"nick":"tjfontaine","message":"I'll leave the build slave for jenkins at 10.8 for now though","date":"2013-10-05T16:35:04.019Z","type":"message"}
{"nick":"tjfontaine","message":"downloading 5.29GB","date":"2013-10-05T16:35:48.048Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-10-05T16:36:28.457Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T16:36:56.380Z","type":"join"}
{"nick":"tjfontaine","message":"thank god we're in the internet world and I can download at home at 3MB/s","date":"2013-10-05T16:37:35.317Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-10-05T16:38:26.916Z","type":"message"}
{"nick":"indutny","message":"3mb/s ?","date":"2013-10-05T16:38:33.484Z","type":"message"}
{"nick":"indutny","message":"pretty slow, man","date":"2013-10-05T16:38:37.687Z","type":"message"}
{"nick":"tjfontaine","message":"not mibs MBs :)","date":"2013-10-05T16:38:48.809Z","type":"message"}
{"nick":"indutny","message":"well","date":"2013-10-05T16:38:53.009Z","type":"message"}
{"nick":"indutny","message":"its 5-6 mb/s in moscow","date":"2013-10-05T16:38:58.463Z","type":"message"}
{"nick":"indutny","message":"and that's cheapest plan","date":"2013-10-05T16:39:05.803Z","type":"message"}
{"nick":"tjfontaine","message":"sure, I could upgrade, but I'm also somewhat cheap","date":"2013-10-05T16:39:09.191Z","type":"message"}
{"nick":"tjfontaine","message":"oh","date":"2013-10-05T16:39:10.539Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-10-05T16:39:13.313Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-10-05T16:39:14.709Z","type":"message"}
{"nick":"indutny","message":"I'm paying 20$ month","date":"2013-10-05T16:39:20.633Z","type":"message"}
{"nick":"indutny","message":"per month*","date":"2013-10-05T16:39:44.671Z","type":"message"}
{"nick":"tjfontaine","message":"lucky.","date":"2013-10-05T16:39:47.595Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-10-05T16:39:51.866Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #254 \u00037UNSTABLE\u000f smartos-x64 (2/600) http://jenkins.nodejs.org/job/libuv-node-integration/254/","date":"2013-10-05T16:39:58.445Z","type":"message"}
{"nick":"indutny","message":"though, they seem to be blocking some parts of the internet :)","date":"2013-10-05T16:40:08.548Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2013-10-05T16:40:14.759Z","type":"message"}
{"nick":"indutny","message":"censorship is gradually rising in russia","date":"2013-10-05T16:40:16.281Z","type":"message"}
{"nick":"tjfontaine","message":"that's sad","date":"2013-10-05T16:40:25.004Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2013-10-05T16:41:17.977Z","type":"quit"}
{"nick":"tjfontaine","message":"lets see if can narrow down on this truncation issue on master","date":"2013-10-05T16:41:18.664Z","type":"message"}
{"nick":"indutny","message":"truncation","date":"2013-10-05T16:42:31.927Z","type":"message"}
{"nick":"tjfontaine","message":"ya npm is reporting shasum mismatches, and when I look at the tarballs they're truncated","date":"2013-10-05T16:43:19.066Z","type":"message"}
{"nick":"tjfontaine","message":"that's when zlib isn't destructing too soon","date":"2013-10-05T16:43:32.661Z","type":"message"}
{"nick":"tjfontaine","message":"Assertion failed: !write_in_progress_ && \"write in progress\", file ../src/node_zlib.cc, line 101, function Close","date":"2013-10-05T16:44:33.476Z","type":"message"}
{"nick":"tjfontaine","message":"https://gist.github.com/tjfontaine/6843157","date":"2013-10-05T16:44:53.455Z","type":"message"}
{"nick":"tjfontaine","message":"which is weird, because it sets write_in_progress_ false when it does the makecallback","date":"2013-10-05T16:46:53.825Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-05T16:48:22.751Z","type":"nick"}
{"nick":"indutny","message":"ouch","date":"2013-10-05T16:48:24.161Z","type":"message"}
{"nick":"tjfontaine","message":"so I'm not even sure if it's supposed to really be reaped here, but that's what's going on","date":"2013-10-05T16:48:50.169Z","type":"message"}
{"nick":"tjfontaine","message":"especially since it's supposed to not be weak at this point","date":"2013-10-05T16:51:05.534Z","type":"message"}
{"nick":"tjfontaine","message":"I guess this could be weakobject related","date":"2013-10-05T16:53:51.319Z","type":"message"}
{"nick":"tjfontaine","message":"welp","date":"2013-10-05T16:59:40.970Z","type":"message"}
{"nick":"tjfontaine","message":"that seems to be it","date":"2013-10-05T16:59:44.064Z","type":"message"}
{"nick":"rendar","message":"anyone could help me to understand something in the win/pipe.c code?","date":"2013-10-05T17:00:32.541Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: to work around the zlib issue please `git revert c79d5163e530892c62b08d8b814b588220c26ec8` and see if that helps -- that's going to break your async stuff of course","date":"2013-10-05T17:00:41.350Z","type":"message"}
{"nick":"tjfontaine","message":"rendar: won't know until I know what you're trying to understand :)","date":"2013-10-05T17:01:09.862Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: :) well basically i was wondering why RegisterWaitForSingleObject is used there","date":"2013-10-05T17:01:54.834Z","type":"message"}
{"nick":"rendar","message":"line 1261","date":"2013-10-05T17:02:03.909Z","type":"message"}
{"nick":"tjfontaine","message":"blah, its commit doesn't really come with a lot of information","date":"2013-10-05T17:02:59.070Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: well this commit looks ok to me","date":"2013-10-05T17:03:45.918Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: at least zlib part","date":"2013-10-05T17:03:50.980Z","type":"message"}
{"nick":"indutny","message":"actually","date":"2013-10-05T17:03:56.462Z","type":"message"}
{"nick":"indutny","message":"it looks good","date":"2013-10-05T17:03:57.758Z","type":"message"}
{"nick":"indutny","message":"perhaps there's a bug in weakobject itself","date":"2013-10-05T17:04:12.046Z","type":"message"}
{"nick":"tjfontaine","message":"yes, that's what I'm asserting","date":"2013-10-05T17:04:18.588Z","type":"message"}
{"nick":"tjfontaine","message":"it's not actually doing what it says on the box, zlib shouldn't be weak at this point","date":"2013-10-05T17:04:51.593Z","type":"message"}
{"nick":"tjfontaine","message":"anyway installing mavericks, bbiab","date":"2013-10-05T17:07:56.313Z","type":"message"}
{"nick":"bnoordhuis","message":"is there a zlib issue?","date":"2013-10-05T17:27:36.281Z","type":"message"}
{"nick":"tjfontaine","message":"in so far as the zlib context is getting GCd when it's still valid","date":"2013-10-05T17:29:36.325Z","type":"message"}
{"nick":"tjfontaine","message":"and reverting WeakObject seems to rectify it, I haven't gotten too far into it","date":"2013-10-05T17:29:51.191Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i suspect i know what's causing that","date":"2013-10-05T17:30:32.087Z","type":"message"}
{"nick":"bnoordhuis","message":"let me try a patch real quick","date":"2013-10-05T17:30:46.969Z","type":"message"}
{"nick":"tjfontaine","message":"the easiest way to reproduce it is to try and npm a bunch of stuff","date":"2013-10-05T17:31:01.150Z","type":"message"}
{"nick":"tjfontaine","message":"but an --expose-gc shoudl in theory reproduce it I guess","date":"2013-10-05T17:31:19.211Z","type":"message"}
{"nick":"bnoordhuis","message":"so i'm pretty sure the issue is lack of write refcounting","date":"2013-10-05T17:34:14.653Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, it calls MakeWeak()/ClearWeak() now rather than Ref()/Unref()","date":"2013-10-05T17:34:31.318Z","type":"message"}
{"nick":"bnoordhuis","message":"that said, i'm reasonably sure i've spotted an error in the Error method","date":"2013-10-05T17:34:48.086Z","type":"message"}
{"nick":"bnoordhuis","message":"well, let me check some things before i say more :)","date":"2013-10-05T17:35:34.327Z","type":"message"}
{"nick":"tjfontaine","message":"I'm gonna shower, the mavericks install is taking longer than I expected, bbiab","date":"2013-10-05T17:36:31.384Z","type":"message"}
{"nick":"kazupon","date":"2013-10-05T17:37:27.397Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-10-05T17:46:00.148Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/bnoordhuis/node/compare/joyent:master...zlib-ref-counting","date":"2013-10-05T17:49:05.095Z","type":"message"}
{"nick":"bnoordhuis","message":"the way node_zlib.cc deals with write req tracking is kind of crummy","date":"2013-10-05T17:49:37.752Z","type":"message"}
{"nick":"bnoordhuis","message":"it relies too much on zlib.js not screwing up","date":"2013-10-05T17:49:59.935Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm also not 100% sure that the cleanup-after-error code in ZCtx::Error() is correct","date":"2013-10-05T17:50:17.528Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2013-10-05T17:51:38.907Z","type":"message"}
{"nick":"indutny","message":"I overlooked that ref counting thing, actually","date":"2013-10-05T17:51:46.596Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: also if's bodies are on one line in your branch","date":"2013-10-05T17:51:59.621Z","type":"message"}
{"nick":"indutny","message":"seems that you're out of your style","date":"2013-10-05T17:52:08.021Z","type":"message"}
{"nick":"bnoordhuis","message":"oh yeah, it's just a quickie patch","date":"2013-10-05T17:52:18.262Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #270 \u00037UNSTABLE\u000f windows (3/195) smartos (2/194) http://jenkins.nodejs.org/job/libuv-master/270/","date":"2013-10-05T17:53:07.294Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T17:54:05.092Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #255 \u00037UNSTABLE\u000f smartos-x64 (7/644) smartos-ia32 (1/644) http://jenkins.nodejs.org/job/libuv-node-integration/255/","date":"2013-10-05T18:06:08.521Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T18:08:56.462Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T18:09:58.765Z","type":"join"}
{"nick":"bnoordhuis","message":"simplified the refcounting thing a little","date":"2013-10-05T18:11:23.453Z","type":"message"}
{"nick":"kazupon","date":"2013-10-05T18:11:50.026Z","type":"join"}
{"nick":"AvianFlu","date":"2013-10-05T18:12:42.494Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-10-05T18:17:02.779Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Fedor Indutny\u000f \u00037master\u000f * \u0002429bb80\u0002 : fsevents: fix clever rescheduling - http://git.io/4Caqdw","date":"2013-10-05T18:18:13.336Z","type":"message"}
{"nick":"tjfontaine","message":"man, mavericks takes a while to install","date":"2013-10-05T18:18:42.972Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: looking","date":"2013-10-05T18:18:53.541Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-10-05T18:19:44.179Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine: just rolled back to the previous attempt","date":"2013-10-05T18:20:36.409Z","type":"message"}
{"nick":"bnoordhuis","message":"not that the second attempt is bad but the first one requires less brain power to verify","date":"2013-10-05T18:21:13.414Z","type":"message"}
{"nick":"bnoordhuis","message":"it's saturday night and on saturday nights, i have a distinct lack of brain power","date":"2013-10-05T18:21:45.130Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-10-05T18:21:53.124Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #271 \u00037UNSTABLE\u000f windows (3/196) smartos (2/195) http://jenkins.nodejs.org/job/libuv-master/271/","date":"2013-10-05T18:22:07.513Z","type":"message"}
{"nick":"trevnorris","message":"hello all","date":"2013-10-05T18:22:19.754Z","type":"message"}
{"nick":"bnoordhuis","message":"sup trevor?","date":"2013-10-05T18:22:25.281Z","type":"message"}
{"nick":"tjfontaine","message":"are there other things that use this ref counting mechanism?","date":"2013-10-05T18:22:26.146Z","type":"message"}
{"nick":"indutny","message":"sup trevor?","date":"2013-10-05T18:22:31.050Z","type":"message"}
{"nick":"trevnorris","message":"not much. just been cleaning up and trying to harden this AsyncWrap patch.","date":"2013-10-05T18:22:52.240Z","type":"message"}
{"nick":"trevnorris","message":"how about all you?","date":"2013-10-05T18:23:08.450Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: no, zlib was the only one","date":"2013-10-05T18:23:24.386Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #210 \u00034FAILURE\u000f windows-x64 (3/196) windows-ia32 (3/196) http://jenkins.nodejs.org/job/libuv-master-gyp/210/","date":"2013-10-05T18:23:43.916Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-10-05T18:23:47.644Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ... reverting that would cause me much pain and anguish","date":"2013-10-05T18:24:14.461Z","type":"message"}
{"nick":"bnoordhuis","message":"for that matter, i can't really put my finger on it but i'm not convinced node_zlib.cc handles error situations well","date":"2013-10-05T18:24:24.218Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: we're working on it, ben has a fix","date":"2013-10-05T18:24:27.408Z","type":"message"}
{"nick":"trevnorris","message":"ah good. he always has a fix. :)","date":"2013-10-05T18:24:43.268Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: oh, wtf. you must fixed that segfault issue at a ridiculous hour. did you get up w/ your kid and decide to fix node while you were up?","date":"2013-10-05T18:25:12.569Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: something like that :)","date":"2013-10-05T18:25:32.089Z","type":"message"}
{"nick":"trevnorris","message":"indutny: how's spdy treating you?","date":"2013-10-05T18:26:14.685Z","type":"message"}
{"nick":"indutny","message":"good, mostly good","date":"2013-10-05T18:26:26.061Z","type":"message"}
{"nick":"indutny","message":"I've achieved a lot during this and previous week","date":"2013-10-05T18:26:35.593Z","type":"message"}
{"nick":"trevnorris","message":"coolio.","date":"2013-10-05T18:27:43.079Z","type":"message"}
{"nick":"tjfontaine","message":"is there a flag/config option for npm to not try and install optional deps?","date":"2013-10-05T18:27:57.683Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: which reminds me… why isn't npm using spdy? :)","date":"2013-10-05T18:29:11.569Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-10-05T18:29:11.910Z","type":"message"}
{"nick":"indutny","message":"probably better ask isaacs","date":"2013-10-05T18:29:16.803Z","type":"message"}
{"nick":"tjfontaine","message":"heh, ya totally not my domain :)","date":"2013-10-05T18:30:21.386Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, not getting the segfault, but still getting some strange errors:","date":"2013-10-05T18:31:00.547Z","type":"message"}
{"nick":"trevnorris","message":"error Error: ENOENT, chmod '/var/projects/tmp/npm-dies/node_modules/newrelic/node_modules/sequelize/examples/MinMax'","date":"2013-10-05T18:31:00.779Z","type":"message"}
{"nick":"tjfontaine","message":"that could be a packaging thing","date":"2013-10-05T18:31:28.432Z","type":"message"}
{"nick":"tjfontaine","message":"I'm mostly interested to see if I can hit the shasum/truncation again","date":"2013-10-05T18:32:55.635Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, just downloaded newrelic --dev, which is basically the entire npm repo, and no segfault.","date":"2013-10-05T18:34:16.579Z","type":"message"}
{"nick":"trevnorris","message":"so yeah. i'd say with good confidence that fixed it.","date":"2013-10-05T18:34:26.356Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I haven't been able to hit it again, lgtm so long as we can get a nice test case for it :)","date":"2013-10-05T18:34:36.782Z","type":"message"}
{"nick":"tjfontaine","message":"I mean it's pretty straight forward","date":"2013-10-05T18:34:46.999Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: itym hoarders :)","date":"2013-10-05T18:34:56.191Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #256 \u00037UNSTABLE\u000f smartos-x64 (6/644) http://jenkins.nodejs.org/job/libuv-node-integration/256/","date":"2013-10-05T18:35:06.740Z","type":"message"}
{"nick":"bnoordhuis","message":"i wouldn't know how to trigger that reliably","date":"2013-10-05T18:35:07.886Z","type":"message"}
{"nick":"trevnorris","message":"haha","date":"2013-10-05T18:35:11.767Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: honestly, i wasn't able to trigger it at all. when you said 'premature gc'ing' i know it had to be that","date":"2013-10-05T18:36:36.092Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: nod, I'll try and see if I can get something contrived, if not I'll land it","date":"2013-10-05T18:37:34.721Z","type":"message"}
{"nick":"tjfontaine","message":"also, the fact that I can extend my laptop display to my tv with airplay is pretty awesome :)","date":"2013-10-05T18:37:49.368Z","type":"message"}
{"nick":"bnoordhuis","message":"hah :)","date":"2013-10-05T18:37:58.892Z","type":"message"}
{"nick":"tjfontaine","message":"also independent full screens THANK FUCKING GOD.","date":"2013-10-05T18:40:25.526Z","type":"message"}
{"nick":"tjfontaine","message":"ok so what was the reason I installed this again? :)","date":"2013-10-05T18:40:48.181Z","type":"message"}
{"nick":"tjfontaine","message":"oh cute, activity monitor has a new network tab with useful information","date":"2013-10-05T18:43:58.940Z","type":"message"}
{"nick":"tjfontaine","message":"https://cloudup.com/cO5PtFN8wnA","date":"2013-10-05T18:44:30.212Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master-windows\u0002: #389 \u00037UNSTABLE\u000f windows-x64 (22/644) windows-ia32 (22/644) http://jenkins.nodejs.org/job/nodejs-master-windows/389/","date":"2013-10-05T18:44:53.405Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T18:52:45.327Z","type":"nick"}
{"nick":"vptr1","date":"2013-10-05T18:56:03.227Z","type":"join"}
{"nick":"julianduque","date":"2013-10-05T19:01:44.346Z","type":"join"}
{"nick":"wwicks","date":"2013-10-05T19:02:29.870Z","type":"join"}
{"nick":"bnoordhuis","message":"nice","date":"2013-10-05T19:03:57.934Z","type":"message"}
{"nick":"bnoordhuis","message":"one thing i don't like about cloudup though","date":"2013-10-05T19:04:15.038Z","type":"message"}
{"nick":"bnoordhuis","message":"it's all the javascript","date":"2013-10-05T19:04:23.684Z","type":"message"}
{"nick":"bnoordhuis","message":"javascript is supposed to run on servers, that's how $DEITY intended it to be","date":"2013-10-05T19:04:49.486Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-10-05T19:05:28.085Z","type":"message"}
{"nick":"tjfontaine","message":"hmm test/simple/test-https-foafssl.js  fails on 10.9","date":"2013-10-05T19:06:03.539Z","type":"message"}
{"nick":"tjfontaine","message":"odd","date":"2013-10-05T19:07:08.362Z","type":"message"}
{"nick":"kazupon","date":"2013-10-05T19:12:39.922Z","type":"join"}
{"nick":"wwicks","reason":"Quit: wwicks","date":"2013-10-05T19:13:11.047Z","type":"quit"}
{"nick":"c4milo","date":"2013-10-05T19:14:49.270Z","type":"join"}
{"nick":"tjfontaine","message":"indutny: https://gist.github.com/tjfontaine/7594be6bc86139fafeee","date":"2013-10-05T19:15:14.678Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2013-10-05T19:15:23.012Z","type":"message"}
{"nick":"indutny","message":"does it crash for you?","date":"2013-10-05T19:15:35.515Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-10-05T19:15:46.413Z","type":"message"}
{"nick":"tjfontaine","message":"test/simple/test-fs-watch or whatever it is","date":"2013-10-05T19:16:09.531Z","type":"message"}
{"nick":"tjfontaine","message":"I will recompile with debug","date":"2013-10-05T19:16:50.934Z","type":"message"}
{"nick":"Benvie","date":"2013-10-05T19:18:27.923Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2013-10-05T19:21:41.721Z","type":"quit"}
{"nick":"julianduque","reason":"Remote host closed the connection","date":"2013-10-05T19:23:54.782Z","type":"quit"}
{"nick":"tjfontaine","message":"there's not a lot of extra information around this","date":"2013-10-05T19:25:07.483Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: any extra information I can provide you here?","date":"2013-10-05T19:28:34.094Z","type":"message"}
{"nick":"tjfontaine","message":"added some lldb output https://gist.github.com/tjfontaine/7594be6bc86139fafeee#file-lldb-txt","date":"2013-10-05T19:31:52.322Z","type":"message"}
{"nick":"indutny","message":"idk yet","date":"2013-10-05T19:34:12.971Z","type":"message"}
{"nick":"Benvie_","date":"2013-10-05T19:37:29.914Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 256 seconds","date":"2013-10-05T19:39:04.837Z","type":"quit"}
{"nick":"rendar","message":"when i/o completes, libuv dereferences a function pointer and call the callback -- one indirection more (e.g. 1 pointer dereferencing more) in the most used callbacks (read/write ones) would slow down things, choking bandwidth? or it won't be a bottleneck usually? i ask that just for curiosity :)","date":"2013-10-05T19:44:00.304Z","type":"message"}
{"nick":"bnoordhuis","message":"rendar: probably not noticeable","date":"2013-10-05T19:44:49.701Z","type":"message"}
{"nick":"mraleph","date":"2013-10-05T19:44:59.888Z","type":"join"}
{"nick":"bnoordhuis","message":"rendar: a system call takes microseconds, a pointer indirection nanoseconds","date":"2013-10-05T19:45:11.260Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: thanks","date":"2013-10-05T19:45:32.327Z","type":"message"}
{"nick":"wwicks","date":"2013-10-05T19:48:21.260Z","type":"join"}
{"nick":"paddybyers","date":"2013-10-05T19:50:52.506Z","type":"join"}
{"nick":"othiym23","message":"tjfontaine: that network pane in Activity Monitor is almost enough to get me to install Mavericks on its own","date":"2013-10-05T19:55:07.514Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-05T19:55:38.883Z","type":"nick"}
{"nick":"tjfontaine","message":"othiym23: inorite?","date":"2013-10-05T19:55:45.428Z","type":"message"}
{"nick":"othiym23","message":"all of New Relic's tests are now passing on 0.11.8-pre / trevnorris/flippin-tick-thing except for something messed up deep in the guts of jade","date":"2013-10-05T20:04:10.839Z","type":"message"}
{"nick":"othiym23","message":"maybe I will be a friend of FOSS and send jade a PR","date":"2013-10-05T20:04:27.730Z","type":"message"}
{"nick":"vptr1","new_nick":"vptr","date":"2013-10-05T20:14:51.773Z","type":"nick"}
{"nick":"vptr","reason":"Changing host","date":"2013-10-05T20:14:57.594Z","type":"quit"}
{"nick":"vptr","date":"2013-10-05T20:14:57.807Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-05T20:15:05.157Z","type":"join"}
{"nick":"othiym23","message":"tjfontaine: is there an easy way to use manta to search all of the tarballs for all the packages for something?","date":"2013-10-05T20:17:48.706Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T20:19:26.039Z","type":"quit"}
{"nick":"rendar","message":"bnoordhuis: i see","date":"2013-10-05T20:29:14.750Z","type":"message"}
{"nick":"paddybyers","date":"2013-10-05T20:43:01.220Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-10-05T20:45:58.092Z","type":"nick"}
{"nick":"tjfontaine","message":"othiym23: can you rephrase the question?","date":"2013-10-05T21:00:12.305Z","type":"message"}
{"nick":"ingmar5","new_nick":"KiNgMaR","date":"2013-10-05T21:00:22.508Z","type":"nick"}
{"nick":"Benvie_","reason":"Ping timeout: 246 seconds","date":"2013-10-05T21:03:40.922Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-05T21:03:50.470Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T21:16:07.167Z","type":"quit"}
{"nick":"Benvie_","date":"2013-10-05T21:17:04.346Z","type":"join"}
{"nick":"brson","date":"2013-10-05T21:17:20.418Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 240 seconds","date":"2013-10-05T21:17:28.206Z","type":"quit"}
{"nick":"kazupon","date":"2013-10-05T21:18:39.014Z","type":"join"}
{"nick":"Kakera","reason":"Ping timeout: 240 seconds","date":"2013-10-05T21:23:28.487Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-10-05T21:23:38.857Z","type":"quit"}
{"nick":"tjfontaine","message":"brb","date":"2013-10-05T21:26:18.908Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T21:26:22.120Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T21:32:03.989Z","type":"join"}
{"nick":"c4milo","date":"2013-10-05T21:34:06.469Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-10-05T21:35:21.170Z","type":"quit"}
{"nick":"Benvie","date":"2013-10-05T21:43:05.282Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 256 seconds","date":"2013-10-05T21:44:18.917Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-10-05T21:44:55.988Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-10-05T21:47:35.144Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-05T21:53:53.601Z","type":"join"}
{"nick":"Benvie","reason":"Ping timeout: 240 seconds","date":"2013-10-05T21:55:08.430Z","type":"quit"}
{"nick":"rendar","date":"2013-10-05T21:58:54.716Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-10-05T21:59:29.961Z","type":"nick"}
{"nick":"vptr","reason":"Ping timeout: 240 seconds","date":"2013-10-05T22:00:08.467Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-10-05T22:00:16.685Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2013-10-05T22:01:39.124Z","type":"quit"}
{"nick":"othiym23","message":"tjfontaine: I'm trying to figure out how much module code is still using http.createClient","date":"2013-10-05T22:10:30.944Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-10-05T22:11:46.632Z","type":"quit"}
{"nick":"jmar777","date":"2013-10-05T22:12:22.155Z","type":"join"}
{"nick":"tjfontaine","message":"oh so you want to know how many npm modules are using that","date":"2013-10-05T22:14:40.898Z","type":"message"}
{"nick":"othiym23","message":"yeah","date":"2013-10-05T22:15:43.743Z","type":"message"}
{"nick":"tjfontaine","message":"it doesn't look like what's currently copied into manta is up to date, but I can work out a sample job for you, if you'd like","date":"2013-10-05T22:15:56.789Z","type":"message"}
{"nick":"jmar777","reason":"Ping timeout: 246 seconds","date":"2013-10-05T22:16:28.869Z","type":"quit"}
{"nick":"othiym23","message":"I was just sort of curious, in the \"if I wanted to bend manta to my will, how tough would that be?\"","date":"2013-10-05T22:17:16.166Z","type":"message"}
{"nick":"othiym23","message":"not asking you to do it","date":"2013-10-05T22:17:19.429Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-10-05T22:18:41.283Z","type":"message"}
{"nick":"kazupon","date":"2013-10-05T22:19:20.163Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-10-05T22:20:33.224Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-05T22:21:07.142Z","type":"quit"}
{"nick":"tjfontaine","message":"mfind --type o --name '.tgz$' /NodeCore/public/npm/express/ | head -10 | mjob create -m '(mkdir out; tar xzC out) && find out -name \\*.js -exec grep -H createServer {} \\+' -r 'sort | uniq -c'","date":"2013-10-05T22:22:50.510Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: that's sort of what I was playing around with","date":"2013-10-05T22:22:58.713Z","type":"message"}
{"nick":"tjfontaine","message":"othiym23: in the map I would probably do some bash variable substitution on $MANTA_INPUT_FILE to get the package and version info, so it lands in the output to the reduce","date":"2013-10-05T22:23:48.022Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2013-10-05T22:23:49.915Z","type":"quit"}
{"nick":"tjfontaine","message":"looks pretty straight forward as far as jobs go","date":"2013-10-05T22:25:10.948Z","type":"message"}
{"nick":"tjfontaine","message":"presuming you can make a decent regex to match what you want","date":"2013-10-05T22:25:59.397Z","type":"message"}
{"nick":"vptr","date":"2013-10-05T22:26:50.302Z","type":"join"}
{"nick":"inolen","date":"2013-10-05T22:27:45.917Z","type":"join"}
{"nick":"tjfontaine","message":"could probably change that so it only extracts .js instead of find'ing and then grep -nr's","date":"2013-10-05T22:28:21.029Z","type":"message"}
{"nick":"tjfontaine","message":"also hope noone is using a coffeescript loader :P","date":"2013-10-05T22:28:52.221Z","type":"message"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:28:53.539Z","type":"quit"}
{"nick":"paddybyers","date":"2013-10-05T22:29:12.195Z","type":"join"}
{"nick":"tjfontaine","message":"I've wanted to do a replacement codesearch.google.com built on manta for a while","date":"2013-10-05T22:29:37.730Z","type":"message"}
{"nick":"hz","date":"2013-10-05T22:31:24.800Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:32:43.161Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:33:29.852Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:33:43.027Z","type":"join"}
{"nick":"vptr","reason":"Ping timeout: 240 seconds","date":"2013-10-05T22:34:48.359Z","type":"quit"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:34:50.742Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:35:59.894Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:36:00.838Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:38:17.194Z","type":"join"}
{"nick":"othiym23","message":"tjfontaine: another fun application for re2!","date":"2013-10-05T22:38:30.633Z","type":"message"}
{"nick":"othiym23","message":"there are some really great articles about how they did codesearch out there","date":"2013-10-05T22:38:57.798Z","type":"message"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:38:59.582Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T22:39:19.845Z","type":"join"}
{"nick":"inolen","date":"2013-10-05T22:39:52.890Z","type":"join"}
{"nick":"tjfontaine","message":"othiym23: I have a slight twist on how I want to do it for C/C++/ObjC, using libclang you can actually be pretty specific about what it is you're looking for in the AST and so then it can be \"easy\" to index projects and find virtual stack traces for a given query","date":"2013-10-05T22:41:17.021Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-10-05T22:41:41.476Z","type":"quit"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:42:03.985Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:43:06.151Z","type":"join"}
{"nick":"othiym23","message":"neat!","date":"2013-10-05T22:45:08.250Z","type":"message"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:45:11.351Z","type":"quit"}
{"nick":"tjfontaine","message":"anyway, if/when we get to do a manta hackathon that's one of my ideas","date":"2013-10-05T22:45:23.626Z","type":"message"}
{"nick":"inolen","date":"2013-10-05T22:46:13.678Z","type":"join"}
{"nick":"inolen","reason":"Read error: Connection reset by peer","date":"2013-10-05T22:46:51.513Z","type":"quit"}
{"nick":"inolen","date":"2013-10-05T22:47:50.208Z","type":"join"}
{"nick":"TooTallNate","date":"2013-10-05T22:50:23.141Z","type":"join"}
{"nick":"Benvie","date":"2013-10-05T22:53:42.229Z","type":"join"}
{"nick":"AvianFlu","date":"2013-10-05T22:53:47.150Z","type":"join"}
{"nick":"Benvie_","reason":"Ping timeout: 245 seconds","date":"2013-10-05T22:54:11.682Z","type":"quit"}
{"nick":"wolfeidau","message":"tjfontaine: I think i have found the majority of the issues with this leaking code, the fundamental issue here is indeed closures ","date":"2013-10-05T23:08:30.458Z","type":"message"}
{"nick":"mikeal","date":"2013-10-05T23:12:46.094Z","type":"join"}
{"nick":"kazupon","date":"2013-10-05T23:19:55.461Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 246 seconds","date":"2013-10-05T23:21:13.963Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-10-05T23:23:05.127Z","type":"quit"}
{"nick":"tjfontaine","message":"wolfeidau: but of course","date":"2013-10-05T23:23:24.762Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: glad you were able to find it","date":"2013-10-05T23:23:32.197Z","type":"message"}
{"nick":"tjfontaine","message":"at least some of it","date":"2013-10-05T23:23:34.878Z","type":"message"}
{"nick":"c4milo","date":"2013-10-05T23:23:43.420Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-10-05T23:24:37.045Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: that's good to hear.","date":"2013-10-05T23:25:39.254Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: Yeah big learning experience for me, this is quite a large code base so MDB is showing was showing me a ton warning signs i really didn't full understand","date":"2013-10-05T23:26:27.459Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2013-10-05T23:26:27.935Z","type":"quit"}
{"nick":"trevnorris","message":"othiym23: still have cleanup and tests to write,  but good to know it's at least working.","date":"2013-10-05T23:27:04.019Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: I am drowing in a see of yak's basically ","date":"2013-10-05T23:27:05.385Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 245 seconds","date":"2013-10-05T23:28:06.297Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-05T23:30:17.638Z","type":"join"}
{"nick":"Benvie_","date":"2013-10-05T23:58:45.694Z","type":"join"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #211 \u00034FAILURE\u000f windows-x64 (3/196) windows-ia32 (3/196) http://jenkins.nodejs.org/job/libuv-master-gyp/211/","date":"2013-10-05T23:58:51.050Z","type":"message"}
{"nick":"Benvie","reason":"Ping timeout: 245 seconds","date":"2013-10-05T23:58:56.232Z","type":"quit"}

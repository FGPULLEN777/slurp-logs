{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-01-17T00:00:01.106Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-01-17T00:06:24.107Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-01-17T00:06:42.740Z","type":"join"}
{"nick":"isaacs_","date":"2012-01-17T00:21:02.496Z","type":"join"}
{"nick":"isaacs","reason":"Ping timeout: 240 seconds","date":"2012-01-17T00:23:49.440Z","type":"quit"}
{"nick":"isaacs_","message":"hm, our readdir binding returns suboptimal error results.","date":"2012-01-17T00:28:03.741Z","type":"message"}
{"nick":"isaacs_","new_nick":"isaacs","date":"2012-01-17T00:29:39.604Z","type":"nick"}
{"nick":"igorzi","message":"piscisaureus_: hey yt?","date":"2012-01-17T00:43:39.232Z","type":"message"}
{"nick":"ryah_","message":"     Creating library ../../../..\\build\\Release\\mksnapshot.lib and object ../..","date":"2012-01-17T00:45:11.531Z","type":"message"}
{"nick":"ryah_","message":"  /../..\\build\\Release\\mksnapshot.exp","date":"2012-01-17T00:45:11.739Z","type":"message"}
{"nick":"ryah_","message":"  Generating code","date":"2012-01-17T00:45:11.739Z","type":"message"}
{"nick":"ryah_","message":"  Finished generating code","date":"2012-01-17T00:45:11.739Z","type":"message"}
{"nick":"ryah_","message":"  mksnapshot.vcxproj -> C:\\Users\\ryan\\node\\deps\\v8\\tools\\gyp\\../../../..\\build\\","date":"2012-01-17T00:45:11.739Z","type":"message"}
{"nick":"ryah_","message":"  Release\\mksnapshot.exe","date":"2012-01-17T00:45:14.201Z","type":"message"}
{"nick":"ryah_","message":"  '..' is not recognized as an internal or external command,","date":"2012-01-17T00:45:16.662Z","type":"message"}
{"nick":"ryah_","message":"  operable program or batch file.","date":"2012-01-17T00:45:19.120Z","type":"message"}
{"nick":"ryah_","message":"  run_mksnapshot","date":"2012-01-17T00:45:21.689Z","type":"message"}
{"nick":"ryah_","message":"C:\\Program Files\\MSBuild\\Microsoft.Cpp\\v4.0\\Microsoft.CppCommon.targets(151,5):","date":"2012-01-17T00:45:24.166Z","type":"message"}
{"nick":"ryah_","message":" error MSB6006: \"cmd.exe\" exited with code 1. [C:\\Users\\ryan\\node\\deps\\v8\\tools","date":"2012-01-17T00:45:26.652Z","type":"message"}
{"nick":"ryah_","message":"\\gyp\\v8_snapshot.vcxproj]","date":"2012-01-17T00:45:29.130Z","type":"message"}
{"nick":"ryah_","message":"^-- anyone remember this bug?","date":"2012-01-17T00:45:31.591Z","type":"message"}
{"nick":"ryah_","message":"getting this again on master","date":"2012-01-17T00:45:34.152Z","type":"message"}
{"nick":"ryah_","message":"was it 45822da46a6dd69c8c88ded92fbc4c7f8d76fcde that fixes it?","date":"2012-01-17T00:46:16.067Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah - sorry, reviewing your patch","date":"2012-01-17T00:47:09.591Z","type":"message"}
{"nick":"isaacs","reason":"Ping timeout: 240 seconds","date":"2012-01-17T00:48:09.441Z","type":"quit"}
{"nick":"igorzi","message":"ryah_: yep, that should fix it","date":"2012-01-17T00:48:52.659Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ok, thanks","date":"2012-01-17T00:49:06.248Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think process title should be usable without inializing a loop","date":"2012-01-17T00:51:35.621Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: just list uv_hrtime","date":"2012-01-17T00:51:42.936Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ahh ok, i'll get that working like uv_hrtime","date":"2012-01-17T00:53:22.863Z","type":"message"}
{"nick":"ryah_","message":"we still dont have bindings to uv_hrtime","date":"2012-01-17T00:54:28.486Z","type":"message"}
{"nick":"ryah_","message":":(","date":"2012-01-17T00:54:30.419Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002ab18d72\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f fix windows build - http://git.io/h_bCFQ","date":"2012-01-17T00:56:39.055Z","type":"message"}
{"nick":"piscisaureus_","message":"As a general remark, I don't like that we allocate memory for loops as we let the user do it everywhere else. But leave it for now.","date":"2012-01-17T01:00:54.507Z","type":"message"}
{"nick":"piscisaureus_","message":"Igorzi: why did you make uv__thread_start return UINT. I think it should be HANDLE right?","date":"2012-01-17T01:00:54.711Z","type":"message"}
{"nick":"piscisaureus_","message":"Igorzi: otherwise LGTM","date":"2012-01-17T01:00:54.711Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: that's the callback that's passed to _beginthreadex","date":"2012-01-17T01:03:04.843Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i was fixing a compiler warning (since the callback is defined as unsigned int ( *start_address )( void * ))","date":"2012-01-17T01:03:40.825Z","type":"message"}
{"nick":"piscisaureus_","message":"ah I see","date":"2012-01-17T01:03:41.356Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: do we cast the result?","date":"2012-01-17T01:04:00.965Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: ZZZZZZZ gnite","date":"2012-01-17T01:04:01.991Z","type":"quit"}
{"nick":"piscisaureus_","message":"or - what is the user supposed to supply that works cross platform?","date":"2012-01-17T01:04:17.888Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: the user-supplied callback returns void","date":"2012-01-17T01:05:32.367Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: https://github.com/igorzi/libuv/blob/master/include/uv.h#L1353","date":"2012-01-17T01:06:04.533Z","type":"message"}
{"nick":"piscisaureus_","message":"ah ok","date":"2012-01-17T01:06:54.626Z","type":"message"}
{"nick":"piscisaureus_","message":"looks good","date":"2012-01-17T01:06:59.609Z","type":"message"}
{"nick":"piscisaureus_","message":"I was looking for the implementation of uv_thread_create in src/win/","date":"2012-01-17T01:07:19.763Z","type":"message"}
{"nick":"igorzi","message":"ok, thanks piscisaureus_","date":"2012-01-17T01:08:01.613Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi++","date":"2012-01-17T01:08:23.891Z","type":"message"}
{"nick":"kohai","message":"igorzi has 2 beers","date":"2012-01-17T01:08:24.238Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:09:36.642Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#253 (master - ab18d72 : Igor Zinkovsky): The build is still failing.","date":"2012-01-17T01:09:36.849Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/ca2a047...ab18d72","date":"2012-01-17T01:09:36.850Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/533638","date":"2012-01-17T01:09:36.850Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:09:36.850Z","type":"part"}
{"nick":"piscisaureus_","message":"bnoordhuis: shouldn't uv_thread_create return uv_err_t","date":"2012-01-17T01:09:56.094Z","type":"message"}
{"nick":"ryah_","message":"so i'd really love to see the uv_tcp_t, uv_tty_t, uv_pipe_t be combined at some point","date":"2012-01-17T01:12:34.220Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah +1","date":"2012-01-17T01:12:43.535Z","type":"message"}
{"nick":"piscisaureus_","message":"I still want to do error refactoring","date":"2012-01-17T01:13:33.655Z","type":"message"}
{"nick":"piscisaureus_","message":"Also still want: file streams :-)","date":"2012-01-17T01:14:12.190Z","type":"message"}
{"nick":"piscisaureus_","message":"also still want: get rid of cares :-)","date":"2012-01-17T01:14:28.926Z","type":"message"}
{"nick":"igorzi","message":"*fully* get rid of crt :)","date":"2012-01-17T01:15:39.636Z","type":"message"}
{"nick":"CIA-115","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u000252511b9\u000f \u000310\u000f/ (7 files in 4 dirs)\u0002:\u000f windows: implement uv_loop_new+uv_loop_delete - http://git.io/MN62iw","date":"2012-01-17T01:16:06.711Z","type":"message"}
{"nick":"ryah_","message":"getting rid of c-ares would be nice","date":"2012-01-17T01:16:19.851Z","type":"message"}
{"nick":"ryah_","message":"it could certainly be structured such that c-ares was a dependency of node but not libuv","date":"2012-01-17T01:16:33.569Z","type":"message"}
{"nick":"ryah_","message":"in fact we could even push c-ares out into npm","date":"2012-01-17T01:17:14.451Z","type":"message"}
{"nick":"ryah_","message":"since it's not being used by default anymore","date":"2012-01-17T01:17:23.086Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:17:55.904Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#35 (master - 52511b9 : Igor Zinkovsky): The build is still failing.","date":"2012-01-17T01:17:56.113Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/f5bd21f...52511b9","date":"2012-01-17T01:17:56.113Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/533752","date":"2012-01-17T01:17:56.113Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:17:56.113Z","type":"part"}
{"nick":"ryah_","message":"igorzi: will you land in node?","date":"2012-01-17T01:19:55.061Z","type":"message"}
{"nick":"igorzi","message":"ryah_: yep","date":"2012-01-17T01:20:10.885Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah_: we basically need an extension of https://github.com/joyent/libuv/issues/288","date":"2012-01-17T01:20:58.617Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah_: we can do it for windows too - just won't be super fast or super scalable","date":"2012-01-17T01:21:23.001Z","type":"message"}
{"nick":"ryah_","message":"piscisaureus_: yeah...","date":"2012-01-17T01:21:41.093Z","type":"message"}
{"nick":"piscisaureus_","message":"it's basically there already although the code itself is messy","date":"2012-01-17T01:22:08.210Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah_ oh well we'll figure it out","date":"2012-01-17T01:22:45.491Z","type":"message"}
{"nick":"piscisaureus_","message":"I should ask jasonh and scottgu I suppose >:-)","date":"2012-01-17T01:24:27.612Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u00022c10257\u000f \u000310\u000f/ (7 files in 4 dirs)\u0002:\u000f upgrade libuv to 52511b9ddc - http://git.io/eRoVKg","date":"2012-01-17T01:27:41.907Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: does this mean that isolates now work in windows","date":"2012-01-17T01:28:03.812Z","type":"message"}
{"nick":"piscisaureus_","message":"if it was that \"easy\" I am a happy man","date":"2012-01-17T01:28:16.534Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: test-isolates0.js and test-isolates-ping-pong.js work","date":"2012-01-17T01:29:50.132Z","type":"message"}
{"nick":"ryah_","message":"igorzi++","date":"2012-01-17T01:30:20.473Z","type":"message"}
{"nick":"kohai","message":"igorzi has 3 beers","date":"2012-01-17T01:30:21.001Z","type":"message"}
{"nick":"ryah_","message":"im testing it now","date":"2012-01-17T01:30:37.276Z","type":"message"}
{"nick":"igorzi","message":"ryah_: is test-isolates1.js supposed to work?","date":"2012-01-17T01:30:50.155Z","type":"message"}
{"nick":"ryah_","message":"igorzi: yes","date":"2012-01-17T01:31:12.079Z","type":"message"}
{"nick":"ryah_","message":"test-isolates2 does not yet work","date":"2012-01-17T01:31:25.523Z","type":"message"}
{"nick":"igorzi","message":"i'm going to figure out why test-isolates1.js is not working","date":"2012-01-17T01:33:11.733Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:40:18.990Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#254 (master - 2c10257 : Igor Zinkovsky): The build is still failing.","date":"2012-01-17T01:40:19.203Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/ab18d72...2c10257","date":"2012-01-17T01:40:19.203Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/533791","date":"2012-01-17T01:40:19.203Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T01:40:19.203Z","type":"part"}
{"nick":"pquerna","reason":"Changing host","date":"2012-01-17T01:42:18.130Z","type":"quit"}
{"nick":"pquerna","date":"2012-01-17T01:42:18.336Z","type":"join"}
{"nick":"igorzi","message":"ryah_: on unix, what keeps the forked isolate from exiting? (who reffing it?)","date":"2012-01-17T01:53:09.740Z","type":"message"}
{"nick":"igorzi","message":"ryah_: on windows, with regular (process) fork, the forked process creates a channel over stdin, which is what keeps the ref from hitting 0","date":"2012-01-17T01:53:52.116Z","type":"message"}
{"nick":"igorzi","message":"ryah_: with isolates, we don't create the channel over stdin - so unless the forked isolate does something interesting it just exits right away","date":"2012-01-17T01:54:28.033Z","type":"message"}
{"nick":"igorzi","message":"ryah_: so, i'm curious how this is done on unix","date":"2012-01-17T01:54:50.793Z","type":"message"}
{"nick":"isaacs","date":"2012-01-17T01:58:28.467Z","type":"join"}
{"nick":"ryah_","message":"igorzi: one sec","date":"2012-01-17T02:00:37.270Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: there is also no stdout in isolates?","date":"2012-01-17T02:01:00.154Z","type":"message"}
{"nick":"ryah_","message":"bnoordhuis did this part so im a bit lost as to why this is true.","date":"2012-01-17T02:02:02.108Z","type":"message"}
{"nick":"piscisaureus_","message":"could easily be a refcount bug","date":"2012-01-17T02:02:15.561Z","type":"message"}
{"nick":"piscisaureus_","message":"but for this https://github.com/joyent/node/blob/master/test/fixtures/child-process-spawn-node.js#L3 to work","date":"2012-01-17T02:02:49.441Z","type":"message"}
{"nick":"piscisaureus_","message":"there must be a data channel around somewhere","date":"2012-01-17T02:02:57.159Z","type":"message"}
{"nick":"ryah_","message":"i think it's the uv_async_t associated with each Channel","date":"2012-01-17T02:03:09.462Z","type":"message"}
{"nick":"piscisaureus_","message":"the uv_async_t should ref too - unless it is explicitly unref'ed","date":"2012-01-17T02:03:28.884Z","type":"message"}
{"nick":"piscisaureus_","message":"which it should","date":"2012-01-17T02:03:31.163Z","type":"message"}
{"nick":"ryah_","message":"igorzi: https://github.com/joyent/node/blob/03cb903e7e3a35350ba09af052eac7844ae070e9/src/node_isolate.cc#L457-458","date":"2012-01-17T02:07:26.234Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-01-17T02:07:29.438Z","type":"quit"}
{"nick":"igorzi","message":"ryah_: i think this keeps the parent loop alive.. the problem i'm seeing is that the child event-loop exits","date":"2012-01-17T02:12:13.840Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: does the child do anything at all?","date":"2012-01-17T02:14:23.343Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I mean, does console.log work?","date":"2012-01-17T02:14:34.625Z","type":"message"}
{"nick":"ryah_","message":"igorzi: what hapens if you remove this uv_unref","date":"2012-01-17T02:16:00.680Z","type":"message"}
{"nick":"ryah_","message":"https://github.com/joyent/node/blob/03cb903e7e3a35350ba09af052eac7844ae070e9/src/node_isolate.cc#L136","date":"2012-01-17T02:16:01.189Z","type":"message"}
{"nick":"ryah_","message":"igorzi: it might be that ben mistakenly thought channels shouldn't ref the loop","date":"2012-01-17T02:16:13.182Z","type":"message"}
{"nick":"ryah_","message":"and added that","date":"2012-01-17T02:16:15.578Z","type":"message"}
{"nick":"ryah_","message":"but that the system is refing somewhere else","date":"2012-01-17T02:16:34.353Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes, console.log works (it goes through tty codepath)","date":"2012-01-17T02:16:35.417Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-01-17T02:19:30.024Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-01-17T02:20:10.371Z","type":"join"}
{"nick":"piscisaureus_","message":"okay, I am going to bed","date":"2012-01-17T02:21:37.675Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: if you find anything, type it here, I will read the logs back tomorrow","date":"2012-01-17T02:21:52.160Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: k, sounds good","date":"2012-01-17T02:23:27.003Z","type":"message"}
{"nick":"ryah_","message":"mjr_: no more crashes?","date":"2012-01-17T02:23:31.833Z","type":"message"}
{"nick":"ryah_","message":"igorzi: did modifying that uv_unref help?","date":"2012-01-17T02:25:43.677Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-01-17T02:26:02.240Z","type":"quit"}
{"nick":"igorzi","message":"ryah_: about to try it.. i don't think it will because i don't hit that codepath in the child isolate","date":"2012-01-17T02:26:52.775Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-01-17T02:27:41.573Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-01-17T02:29:23.340Z","type":"quit"}
{"nick":"ryah_","message":"oh ","date":"2012-01-17T02:29:27.034Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2012-01-17T02:36:59.696Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-01-17T02:40:02.069Z","type":"quit"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002317ba9f\u000f \u000310\u000f/ Makefile \u0002:\u000f Fix 'make dist' - http://git.io/QsJlNQ","date":"2012-01-17T02:41:11.600Z","type":"message"}
{"nick":"igorzi","message":"ryah_: sorry, removing that uv_unref does fix it.. somehow i was expecting that child channel init code to execute on the actual thread where the child loop will run","date":"2012-01-17T02:51:11.293Z","type":"message"}
{"nick":"igorzi","message":"ryah_: should i land it?","date":"2012-01-17T02:51:39.272Z","type":"message"}
{"nick":"ryah_","message":"igorzi: let me test on my end","date":"2012-01-17T02:53:29.594Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T02:53:58.116Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#255 (master - 317ba9f : Ryan Dahl): The build is still failing.","date":"2012-01-17T02:53:58.323Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/2c10257...317ba9f","date":"2012-01-17T02:53:58.323Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/534025","date":"2012-01-17T02:53:58.323Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T02:53:58.324Z","type":"part"}
{"nick":"ryah_","message":"hm","date":"2012-01-17T02:58:15.358Z","type":"message"}
{"nick":"ryah_","message":"unfrotuantely this is keeping my event loop alive...","date":"2012-01-17T02:58:23.893Z","type":"message"}
{"nick":"ryah_","message":"(unsurprisingly)","date":"2012-01-17T02:58:31.527Z","type":"message"}
{"nick":"ryah_","message":"igorzi: im going to cut v0.7.0 without this change - we'll figure it out when bnoordhuis is back","date":"2012-01-17T02:59:04.655Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002716f5bc\u000f \u000310\u000f/ Makefile \u0002:\u000f Add make dist-upload - http://git.io/JcmV8w","date":"2012-01-17T03:00:41.403Z","type":"message"}
{"nick":"ryah_","message":"http://nodejs.org/dist/v0.7.0/node-v0.7.0-RC1.tar.gz","date":"2012-01-17T03:05:38.112Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T03:13:22.517Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#256 (master - 716f5bc : Ryan Dahl): The build is still failing.","date":"2012-01-17T03:13:22.729Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/317ba9f...716f5bc","date":"2012-01-17T03:13:22.729Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/534083","date":"2012-01-17T03:13:22.729Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T03:13:22.729Z","type":"part"}
{"nick":"mjr_","message":"ryah_: no cores recently","date":"2012-01-17T03:32:48.657Z","type":"message"}
{"nick":"mjr_","message":"ryah_: just lots of consternation about this UCS-2 thing though.","date":"2012-01-17T03:33:11.692Z","type":"message"}
{"nick":"Raynos","reason":"Remote host closed the connection","date":"2012-01-17T03:38:22.827Z","type":"quit"}
{"nick":"mrb_bk","reason":"Read error: Connection reset by peer","date":"2012-01-17T03:38:23.581Z","type":"quit"}
{"nick":"mrb_bk","date":"2012-01-17T03:52:59.988Z","type":"join"}
{"nick":"Raynos","date":"2012-01-17T03:53:15.919Z","type":"join"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00029cc55dc\u000f \u000310\u000f/ (ChangeLog doc/template.html src/node_version.h)\u0002:\u000f Bump version to v0.7.0 - http://git.io/2_sbTQ","date":"2012-01-17T04:07:23.558Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000272cbb74\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on v0.7.1-pre - http://git.io/MH2qew","date":"2012-01-17T04:07:23.817Z","type":"message"}
{"nick":"ryah_","message":"mjr_: hw serious is this UCS-2 thing?","date":"2012-01-17T04:09:11.999Z","type":"message"}
{"nick":"isaacs","date":"2012-01-17T04:12:10.746Z","type":"join"}
{"nick":"mjr_","message":"ryah_: well, our users around the world are increasingly using characters that cannot be understood by V8","date":"2012-01-17T04:15:34.242Z","type":"message"}
{"nick":"mjr_","message":"Android and iOS now support unicode 6, which V8 does not handle.","date":"2012-01-17T04:15:48.266Z","type":"message"}
{"nick":"mjr_","message":"Surely Chrome has this same problem.  I wonder what the V8 position on this issue is.","date":"2012-01-17T04:16:04.694Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T04:20:16.540Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#257 (master - 72cbb74 : Ryan Dahl): The build is still failing.","date":"2012-01-17T04:20:16.750Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/716f5bc...72cbb74","date":"2012-01-17T04:20:16.750Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/534290","date":"2012-01-17T04:20:16.750Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T04:20:16.750Z","type":"part"}
{"nick":"indutny_sleeping","message":"ryah_: heya","date":"2012-01-17T05:23:46.030Z","type":"message"}
{"nick":"indutny_sleeping","new_nick":"indutny","date":"2012-01-17T05:23:51.390Z","type":"nick"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-01-17T05:24:10.904Z","type":"quit"}
{"nick":"indutny","message":"ok, I read log and everything is almost clear for me now","date":"2012-01-17T05:33:59.277Z","type":"message"}
{"nick":"indutny","message":"ryah_: yt?","date":"2012-01-17T05:36:46.823Z","type":"message"}
{"nick":"indutny","message":"ryah_: if we want to support node-waf - I need to fix installer.js to install it","date":"2012-01-17T05:37:00.100Z","type":"message"}
{"nick":"indutny","message":"ryah_: I don't mind using WAF for 0.7.x","date":"2012-01-17T05:37:23.603Z","type":"message"}
{"nick":"indutny","message":"ryah_: but we should provide *any* working way for building native addons with 0.7.0","date":"2012-01-17T05:37:42.441Z","type":"message"}
{"nick":"mraleph","date":"2012-01-17T05:41:00.550Z","type":"join"}
{"nick":"ryah_","message":"indutny: yeah- install it","date":"2012-01-17T05:42:41.029Z","type":"message"}
{"nick":"ryah_","message":"indutny: thanks","date":"2012-01-17T05:42:57.237Z","type":"message"}
{"nick":"indutny","message":"ryah_: ok, I'll show you commit in a minute, are you going to be online?","date":"2012-01-17T05:43:21.090Z","type":"message"}
{"nick":"ryah_","message":"yes","date":"2012-01-17T05:43:39.696Z","type":"message"}
{"nick":"indutny","message":"ryah_: should node-waf be installed by default?","date":"2012-01-17T05:44:34.593Z","type":"message"}
{"nick":"indutny","message":"ryah_: or only --with-waf flag ?","date":"2012-01-17T05:44:39.955Z","type":"message"}
{"nick":"indutny","message":"ryah_: https://github.com/indutny/node/commit/c618efe6b79ed60dba150bd6ca7f1b16ae9712eb","date":"2012-01-17T05:50:12.909Z","type":"message"}
{"nick":"indutny","message":"there're empty line in patch ^, I remove it","date":"2012-01-17T05:50:31.507Z","type":"message"}
{"nick":"ryah_","message":"it should be installed by default","date":"2012-01-17T05:53:57.982Z","type":"message"}
{"nick":"indutny","message":"and it isn't removing lib/node ... fixed here: https://github.com/indutny/node/commit/f5a68846f405bd923be530437bd5c488c9d3009e","date":"2012-01-17T05:53:59.425Z","type":"message"}
{"nick":"indutny","message":"ryah_: ok, it does in that patch ^","date":"2012-01-17T05:54:14.069Z","type":"message"}
{"nick":"ryah_","message":"what's with that c-ares change?","date":"2012-01-17T05:54:43.809Z","type":"message"}
{"nick":"indutny","message":"ryah_: c-ares wus put into incorrect folder","date":"2012-01-17T05:55:48.273Z","type":"message"}
{"nick":"indutny","message":"ryah_: and includes was failing","date":"2012-01-17T05:55:54.111Z","type":"message"}
{"nick":"ryah_","message":"ok","date":"2012-01-17T05:56:07.948Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00026e76a7c\u000f \u000310\u000f/ (configure tools/installer.js)\u0002:\u000f ","date":"2012-01-17T05:56:31.467Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f installer: install node-waf","date":"2012-01-17T05:56:31.680Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f * added --without-waf flag for configure script - http://git.io/PIoYoA","date":"2012-01-17T05:56:31.680Z","type":"message"}
{"nick":"indutny","message":"In file included from /Users/indutny/.node/dev/include/node/node.h:61, from ../src/generic.cc:2:","date":"2012-01-17T05:56:51.496Z","type":"message"}
{"nick":"ryah_","message":"oh yeah, i guess you can land it yourself now :)","date":"2012-01-17T05:56:54.075Z","type":"message"}
{"nick":"indutny","message":"/Users/indutny/.node/dev/include/node/uv.h:57:18: error: ares.h: No such file or directory","date":"2012-01-17T05:56:54.427Z","type":"message"}
{"nick":"indutny","message":"In file included from /Users/indutny/.node/dev/include/node/node.h:61, from ../src/generic.cc:2:","date":"2012-01-17T05:56:57.586Z","type":"message"}
{"nick":"indutny","message":"/Users/indutny/.node/dev/include/node/uv.h:929: error: ‘ares_channel’ has not been declared","date":"2012-01-17T05:57:00.429Z","type":"message"}
{"nick":"indutny","message":"/Users/indutny/.node/dev/include/node/uv.h:932: error: ‘ares_channel’ has not been declared","date":"2012-01-17T05:57:03.506Z","type":"message"}
{"nick":"indutny","message":"/Users/indutny/.node/dev/include/node/uv.h:1399: error: ‘ares_channel’ does not name a type","date":"2012-01-17T05:57:06.441Z","type":"message"}
{"nick":"indutny","message":"like that ^","date":"2012-01-17T05:57:10.074Z","type":"message"}
{"nick":"indutny","message":"just add lgtm comment next time ;)","date":"2012-01-17T05:57:12.410Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-01-17T05:57:15.047Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-01-17T05:57:17.540Z","type":"message"}
{"nick":"indutny","message":"thank you :)","date":"2012-01-17T05:57:26.213Z","type":"message"}
{"nick":"indutny","message":"sad that will be out only in 0.7.1","date":"2012-01-17T05:58:38.066Z","type":"message"}
{"nick":"ryah_","message":"0.7.0 is just meant for us","date":"2012-01-17T06:00:08.298Z","type":"message"}
{"nick":"ryah_","message":"basically","date":"2012-01-17T06:00:13.040Z","type":"message"}
{"nick":"ryah_","message":"there must be some shitty releases :)","date":"2012-01-17T06:00:38.991Z","type":"message"}
{"nick":"indutny","message":"ryah_: haha :)","date":"2012-01-17T06:01:16.082Z","type":"message"}
{"nick":"indutny","message":"as usual","date":"2012-01-17T06:01:18.021Z","type":"message"}
{"nick":"indutny","message":"we should count them and draw a bar chart later","date":"2012-01-17T06:01:29.313Z","type":"message"}
{"nick":"indutny","message":"like 6 for 0.6.x","date":"2012-01-17T06:01:33.886Z","type":"message"}
{"nick":"indutny","message":"7-8 for 0.4.x","date":"2012-01-17T06:01:42.422Z","type":"message"}
{"nick":"indutny","message":"ryah_: v8 patch should land 3.6 in a couple of days","date":"2012-01-17T06:04:26.125Z","type":"message"}
{"nick":"indutny","message":"ryah_: Erik has started reviewing it tomorrow","date":"2012-01-17T06:04:40.323Z","type":"message"}
{"nick":"indutny","message":"just FYI","date":"2012-01-17T06:04:56.135Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T06:08:58.730Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#258 (master - 6e76a7c : Fedor Indutny): The build is still failing.","date":"2012-01-17T06:08:58.942Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/72cbb74...6e76a7c","date":"2012-01-17T06:08:58.942Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/534482","date":"2012-01-17T06:08:58.942Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T06:08:58.942Z","type":"part"}
{"nick":"indutny","message":"ryah_: ok, there're still some flaws in build system","date":"2012-01-17T06:14:50.156Z","type":"message"}
{"nick":"indutny","message":"ryah_: host_arch may be different in waf and gyp","date":"2012-01-17T06:15:02.709Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-01-17T06:21:22.729Z","type":"quit"}
{"nick":"paddybyers","date":"2012-01-17T06:28:56.736Z","type":"join"}
{"nick":"ryah_","message":"indutny: oh - yeah.. hm","date":"2012-01-17T06:36:20.442Z","type":"message"}
{"nick":"ryah_","message":"indutny: we should fix that somehow..","date":"2012-01-17T06:36:27.089Z","type":"message"}
{"nick":"isaacs","date":"2012-01-17T06:38:56.747Z","type":"join"}
{"nick":"indutny","message":"ryah_: it's easy to fix in wscript","date":"2012-01-17T06:41:33.959Z","type":"message"}
{"nick":"indutny","message":"ryah_: https://github.com/indutny/node-spdy/blob/master/wscript#L15","date":"2012-01-17T06:42:13.576Z","type":"message"}
{"nick":"indutny","message":"ryah_: are we always compiling i386 node for osx?","date":"2012-01-17T06:42:22.642Z","type":"message"}
{"nick":"ryah_","message":"yes","date":"2012-01-17T06:43:12.599Z","type":"message"}
{"nick":"indutny","message":"ryah_: k","date":"2012-01-17T06:43:32.567Z","type":"message"}
{"nick":"indutny","message":"ryah_: I think that was already discussed some time ago, but how would .node files be named in case of multi-platform bundling?","date":"2012-01-17T06:44:16.447Z","type":"message"}
{"nick":"indutny","message":"ryah_: .i386.node /","date":"2012-01-17T06:44:26.250Z","type":"message"}
{"nick":"indutny","message":"ryah_: .x86_64.node /","date":"2012-01-17T06:44:33.964Z","type":"message"}
{"nick":"indutny","message":"ryah_: .win.node :D","date":"2012-01-17T06:44:43.782Z","type":"message"}
{"nick":"ryah_","message":"*shrug*","date":"2012-01-17T06:49:53.883Z","type":"message"}
{"nick":"ryah_","message":"that would probably be technically correct","date":"2012-01-17T06:50:09.470Z","type":"message"}
{"nick":"ryah_","message":"but seems really annoying","date":"2012-01-17T06:50:14.472Z","type":"message"}
{"nick":"indutny","message":"ryah_: I mean that node should choose correct extension at startup time","date":"2012-01-17T06:52:18.324Z","type":"message"}
{"nick":"indutny","message":"otherwise someone will implement module that'll do same :)","date":"2012-01-17T06:52:35.958Z","type":"message"}
{"nick":"indutny","message":"and it'll be in dependencies of many others","date":"2012-01-17T06:52:53.482Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-01-17T07:14:30.293Z","type":"quit"}
{"nick":"ryah_","message":"indutny: yeah, i guess if we did that people could just start uploading them to npm","date":"2012-01-17T07:14:49.770Z","type":"message"}
{"nick":"isaacs","message":"ryah_: or we could just let npm upload platform-specific versions of packages.","date":"2012-01-17T07:15:36.876Z","type":"message"}
{"nick":"ryah_","message":"isaacs: oh yeah, that's better probably","date":"2012-01-17T07:15:55.272Z","type":"message"}
{"nick":"ryah_","message":"just include the .node in the tarball","date":"2012-01-17T07:16:02.662Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-01-17T07:16:05.169Z","type":"message"}
{"nick":"isaacs","message":"that's better at install-time, since .node files can get kinda big, and then you only have one, rather than 4 or whatever.","date":"2012-01-17T07:16:18.600Z","type":"message"}
{"nick":"isaacs","message":"and we can fall back to \"compile on install\" if the platform isn't pre-built","date":"2012-01-17T07:16:33.804Z","type":"message"}
{"nick":"ryah_","message":"how big is the npm db currently?","date":"2012-01-17T07:16:48.807Z","type":"message"}
{"nick":"isaacs","message":"then we can walk through and compile them in a build farm or something, as a separate later enhancement.","date":"2012-01-17T07:16:49.221Z","type":"message"}
{"nick":"isaacs","message":"8568045680","date":"2012-01-17T07:17:17.290Z","type":"message"}
{"nick":"isaacs","message":"8gb","date":"2012-01-17T07:17:20.978Z","type":"message"}
{"nick":"isaacs","message":"6339 pkgs","date":"2012-01-17T07:17:35.933Z","type":"message"}
{"nick":"ryah_","message":"can couch handle that * 4?","date":"2012-01-17T07:18:09.848Z","type":"message"}
{"nick":"isaacs","message":"i believe so.","date":"2012-01-17T07:19:42.318Z","type":"message"}
{"nick":"isaacs","message":"but we will probably have to look into putting the tarballs elsewhere and relying on just keeping the sha's and urls in the db.","date":"2012-01-17T07:20:09.647Z","type":"message"}
{"nick":"pquerna","message":"isn't the 'easy' way to just move the tars and bins into somehting like s3/cloudfiles","date":"2012-01-17T07:20:12.622Z","type":"message"}
{"nick":"pquerna","message":"righto, that","date":"2012-01-17T07:20:17.963Z","type":"message"}
{"nick":"isaacs","message":"pquerna: yes.  with the scare-quotes around \"easy\"","date":"2012-01-17T07:20:28.669Z","type":"message"}
{"nick":"pquerna","message":":)","date":"2012-01-17T07:20:48.521Z","type":"message"}
{"nick":"isaacs","message":"the hardest part is uploading.  the client is already agnostic, and just gets the tarball location from the doc.","date":"2012-01-17T07:20:52.443Z","type":"message"}
{"nick":"isaacs","message":"but, we could always keep the same exact api, and \"just\" have something that plucks the attachments off and puts them elsewhere offline.","date":"2012-01-17T07:21:26.512Z","type":"message"}
{"nick":"isaacs","message":"\"offline\" <-- i mean, on a cron somewhere.","date":"2012-01-17T07:21:39.103Z","type":"message"}
{"nick":"indutny","message":"isaacs: so my proposal","date":"2012-01-17T07:21:52.025Z","type":"message"}
{"nick":"indutny","message":"isaacs: spport %.node, %.arch.node, %.platform-arch.node","date":"2012-01-17T07:22:14.152Z","type":"message"}
{"nick":"indutny","message":"isaacs: and when uploading to npm - rename them to just .node","date":"2012-01-17T07:22:26.602Z","type":"message"}
{"nick":"indutny","message":"and do upload for each platform","date":"2012-01-17T07:22:36.237Z","type":"message"}
{"nick":"isaacs","message":"ryah_: if we move the tarballs to a separate location, then that'd let us grow to hundreds of thousands of packages without any issues from couch, i believe.","date":"2012-01-17T07:22:37.913Z","type":"message"}
{"nick":"isaacs","message":"indutny: why support *.node,arch.node,platform-arch.node, then?","date":"2012-01-17T07:22:57.856Z","type":"message"}
{"nick":"isaacs","message":"indutny: what does that buy you?","date":"2012-01-17T07:23:02.541Z","type":"message"}
{"nick":"indutny","message":"isaacs: git clone repo :)","date":"2012-01-17T07:23:08.744Z","type":"message"}
{"nick":"indutny","message":"isaacs: npm test and it works","date":"2012-01-17T07:23:12.219Z","type":"message"}
{"nick":"isaacs","message":"meh","date":"2012-01-17T07:23:16.442Z","type":"message"}
{"nick":"isaacs","message":"if you git clone, you have to build it anyhow","date":"2012-01-17T07:23:20.703Z","type":"message"}
{"nick":"indutny","message":"isaacs: anyway development is easier this way","date":"2012-01-17T07:23:29.584Z","type":"message"}
{"nick":"isaacs","message":"and you're going to build it for your arch, because that's how it works.","date":"2012-01-17T07:23:35.312Z","type":"message"}
{"nick":"ryah_","message":"it would be nice to have all the various binaries in the tree","date":"2012-01-17T07:23:37.463Z","type":"message"}
{"nick":"indutny","message":"ryah_: ++","date":"2012-01-17T07:23:43.522Z","type":"message"}
{"nick":"kohai","message":"ryah_ has 1 beer","date":"2012-01-17T07:23:43.876Z","type":"message"}
{"nick":"isaacs","message":"would that really be nice?","date":"2012-01-17T07:23:47.200Z","type":"message"}
{"nick":"ryah_","message":"better than doing a switch on process.platform before require","date":"2012-01-17T07:24:20.903Z","type":"message"}
{"nick":"ryah_","message":"*shrug*","date":"2012-01-17T07:24:31.372Z","type":"message"}
{"nick":"ryah_","message":"i guess it's not necessray though","date":"2012-01-17T07:24:38.418Z","type":"message"}
{"nick":"isaacs","message":"ryah_: sure, but you only have to do that today if you're distributing pre-built binaries for all different platforms.","date":"2012-01-17T07:24:43.173Z","type":"message"}
{"nick":"isaacs","message":"*building* them is still a pain.","date":"2012-01-17T07:24:48.467Z","type":"message"}
{"nick":"ryah_","message":"you can always build binding/win-x86/binding.node","date":"2012-01-17T07:24:54.146Z","type":"message"}
{"nick":"isaacs","message":"and pretty much all compiled addons wrap the binding in a js layer anyway","date":"2012-01-17T07:25:25.978Z","type":"message"}
{"nick":"isaacs","message":"since that makes it a lot easier to provide a friendlier api","date":"2012-01-17T07:25:37.135Z","type":"message"}
{"nick":"indutny","message":"isaacs: not every","date":"2012-01-17T07:25:46.984Z","type":"message"}
{"nick":"isaacs","message":"indutny: no, but most of them that matter.","date":"2012-01-17T07:25:54.130Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:25:59.253Z","type":"message"}
{"nick":"isaacs","message":"the more popular ones do","date":"2012-01-17T07:26:00.195Z","type":"message"}
{"nick":"isaacs","message":"there's only a few hundred, after all.","date":"2012-01-17T07:26:05.665Z","type":"message"}
{"nick":"indutny","message":"so must popular is just 10-20 of them","date":"2012-01-17T07:26:19.829Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-01-17T07:26:20.394Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-01-17T07:26:24.900Z","type":"message"}
{"nick":"isaacs","message":"the only reason it matters is that, for the things that need a compiled addon, you really can't get around it very easily.","date":"2012-01-17T07:26:54.834Z","type":"message"}
{"nick":"indutny","message":"isaacs: ryah_ pquerna https://github.com/indutny/node/compare/master...feature-platform-node","date":"2012-01-17T07:27:33.193Z","type":"message"}
{"nick":"ryah_","message":"im staying out of this one. i leave it to isaacs and pquerna ","date":"2012-01-17T07:27:58.827Z","type":"message"}
{"nick":"indutny","message":"something like that","date":"2012-01-17T07:27:59.353Z","type":"message"}
{"nick":"indutny","message":"k","date":"2012-01-17T07:28:03.966Z","type":"message"}
{"nick":"indutny","message":"the only pain , is that wscript will need to know current arch somehow","date":"2012-01-17T07:28:28.793Z","type":"message"}
{"nick":"isaacs","message":"yeah.","date":"2012-01-17T07:28:34.406Z","type":"message"}
{"nick":"isaacs","message":"let's not do this.","date":"2012-01-17T07:28:37.073Z","type":"message"}
{"nick":"indutny","message":"to copy .platform.node to lib/ folder","date":"2012-01-17T07:28:37.867Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000221dd53f\u000f \u000310\u000f/ Makefile \u0002:\u000f Makefile: Don't force user to run ./configure first - http://git.io/tdl6fQ","date":"2012-01-17T07:28:55.908Z","type":"message"}
{"nick":"isaacs","message":"i'm already reworking the build-on-publish in npm to do prebuilt binaries per-platform.","date":"2012-01-17T07:28:57.959Z","type":"message"}
{"nick":"isaacs","message":"and users can use folders, or write their own makefiles and js wrappers today","date":"2012-01-17T07:29:14.318Z","type":"message"}
{"nick":"indutny","message":"isaacs: how will that be distributed","date":"2012-01-17T07:29:14.599Z","type":"message"}
{"nick":"isaacs","message":"indutny: npm publish/npm install","date":"2012-01-17T07:29:24.164Z","type":"message"}
{"nick":"indutny","message":"isaacs: npm will use process.arch to request lib?","date":"2012-01-17T07:29:25.821Z","type":"message"}
{"nick":"isaacs","message":"yes.","date":"2012-01-17T07:29:30.280Z","type":"message"}
{"nick":"indutny","message":"isaacs: what about platform specific versions?","date":"2012-01-17T07:29:38.661Z","type":"message"}
{"nick":"isaacs","message":"well, it'll check for a prebuilt version.","date":"2012-01-17T07:29:39.199Z","type":"message"}
{"nick":"indutny","message":"isaacs: yes, I understand","date":"2012-01-17T07:29:49.376Z","type":"message"}
{"nick":"isaacs","message":"if it's prebuilt for that platform, it'll get that one","date":"2012-01-17T07:29:50.569Z","type":"message"}
{"nick":"indutny","message":"but some libs are platform agnostic","date":"2012-01-17T07:30:04.203Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:30:05.472Z","type":"message"}
{"nick":"indutny","message":"you need some package.json flags","date":"2012-01-17T07:30:10.940Z","type":"message"}
{"nick":"isaacs","message":"what libs are platform agnostic?","date":"2012-01-17T07:30:15.039Z","type":"message"}
{"nick":"isaacs","message":"that require compilation?","date":"2012-01-17T07:30:20.322Z","type":"message"}
{"nick":"indutny","message":"I mean addon can work on any unix like ia32 system","date":"2012-01-17T07:30:40.521Z","type":"message"}
{"nick":"ryah_","message":"i sure wish .gyp files were just .json files","date":"2012-01-17T07:30:40.874Z","type":"message"}
{"nick":"indutny","message":"and some can work only on ia32 osx","date":"2012-01-17T07:30:53.130Z","type":"message"}
{"nick":"ryah_","message":"we should patch GYP so that we can just have .json files","date":"2012-01-17T07:30:59.605Z","type":"message"}
{"nick":"isaacs","message":"indutny: the author can publish from each OS, or the user will compile on install.","date":"2012-01-17T07:31:00.708Z","type":"message"}
{"nick":"isaacs","message":"like today","date":"2012-01-17T07:31:02.057Z","type":"message"}
{"nick":"ryah_","message":"it would look nicer","date":"2012-01-17T07:31:05.670Z","type":"message"}
{"nick":"isaacs","message":"ryah_ ++","date":"2012-01-17T07:31:10.573Z","type":"message"}
{"nick":"kohai","message":"ryah_ has 2 beers","date":"2012-01-17T07:31:11.124Z","type":"message"}
{"nick":"indutny","message":"ryah_: agreed","date":"2012-01-17T07:31:14.177Z","type":"message"}
{"nick":"indutny","message":"ryah_: comments in json... meh!","date":"2012-01-17T07:31:23.043Z","type":"message"}
{"nick":"ryah_","message":"indutny: well - almost json","date":"2012-01-17T07:31:32.092Z","type":"message"}
{"nick":"ryah_","message":"we should allow comments","date":"2012-01-17T07:31:36.483Z","type":"message"}
{"nick":"ryah_","message":"but they should be JS-style comments","date":"2012-01-17T07:31:41.071Z","type":"message"}
{"nick":"isaacs","message":"noooo!!","date":"2012-01-17T07:31:46.251Z","type":"message"}
{"nick":"isaacs","message":"no comments.","date":"2012-01-17T07:31:48.662Z","type":"message"}
{"nick":"indutny","message":"so it still won't be readable by JSON.parse :D","date":"2012-01-17T07:31:54.609Z","type":"message"}
{"nick":"indutny","message":"great","date":"2012-01-17T07:31:55.660Z","type":"message"}
{"nick":"ryah_","message":"but comments are nice","date":"2012-01-17T07:32:02.408Z","type":"message"}
{"nick":"isaacs","message":"just JSON.parse it, and throw if it fails.","date":"2012-01-17T07:32:04.172Z","type":"message"}
{"nick":"indutny","message":"what's better then?","date":"2012-01-17T07:32:04.380Z","type":"message"}
{"nick":"isaacs","message":" { \"//\" : \"this is a comment.\" }","date":"2012-01-17T07:32:10.768Z","type":"message"}
{"nick":"isaacs","message":"just use extra keys if you really want it.","date":"2012-01-17T07:32:17.886Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-01-17T07:32:22.996Z","type":"message"}
{"nick":"ryah_","message":":///","date":"2012-01-17T07:32:26.375Z","type":"message"}
{"nick":"isaacs","message":"the problem with allowing comments in json is that people do idiotic shit with them.","date":"2012-01-17T07:32:38.021Z","type":"message"}
{"nick":"ryah_","message":"why not have comments?","date":"2012-01-17T07:32:39.447Z","type":"message"}
{"nick":"ryah_","message":"well - we need comments in the build scripts","date":"2012-01-17T07:33:02.379Z","type":"message"}
{"nick":"indutny","message":"ryah_: # Do not edit. Generated by the configure script.","date":"2012-01-17T07:33:05.173Z","type":"message"}
{"nick":"ryah_","message":"they are complex","date":"2012-01-17T07:33:05.381Z","type":"message"}
{"nick":"isaacs","message":"/JSONOPTIONS=singlequote,map=function (n) { return n + 100 }","date":"2012-01-17T07:33:13.431Z","type":"message"}
{"nick":"indutny","message":"is that really beautiful?","date":"2012-01-17T07:33:13.641Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:33:14.356Z","type":"message"}
{"nick":"ryah_","message":"maybe we can just keep .gyp","date":"2012-01-17T07:33:46.668Z","type":"message"}
{"nick":"ryah_","message":":P","date":"2012-01-17T07:33:48.787Z","type":"message"}
{"nick":"indutny","message":"JSON.parse('{\"//\":1,\"//\":2}')","date":"2012-01-17T07:34:05.200Z","type":"message"}
{"nick":"isaacs","message":"or worse: /*IF_NOT_IE*/ \"this field is not for ie\" : \"foooo\", /*ENDIF*/","date":"2012-01-17T07:34:05.412Z","type":"message"}
{"nick":"indutny","message":"it'll work fine if we'll just use \"//\" for comments","date":"2012-01-17T07:34:26.163Z","type":"message"}
{"nick":"ryah_","message":"no...","date":"2012-01-17T07:34:34.363Z","type":"message"}
{"nick":"isaacs","message":"yeah, the \"//\" field is the way that you put comments in js","date":"2012-01-17T07:34:36.417Z","type":"message"}
{"nick":"isaacs","message":"json","date":"2012-01-17T07:34:37.350Z","type":"message"}
{"nick":"ryah_","message":"sorry - i suggested it","date":"2012-01-17T07:34:43.752Z","type":"message"}
{"nick":"ryah_","message":"that's worse than having .gyp files","date":"2012-01-17T07:34:53.374Z","type":"message"}
{"nick":"isaacs","message":"the nice thing about \"//\" is that it's not ifdefable.","date":"2012-01-17T07:34:55.469Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-01-17T07:34:55.684Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:34:56.407Z","type":"message"}
{"nick":"ryah_","message":"isaacs: ifdefable? ","date":"2012-01-17T07:35:12.892Z","type":"message"}
{"nick":"isaacs","message":"ifdef-able.","date":"2012-01-17T07:35:17.531Z","type":"message"}
{"nick":"isaacs","message":"#ifdef","date":"2012-01-17T07:35:22.332Z","type":"message"}
{"nick":"indutny","message":"isaacs: ?","date":"2012-01-17T07:35:28.408Z","type":"message"}
{"nick":"ryah_","message":"isaacs: is there some preprocessor i don't know of?","date":"2012-01-17T07:35:43.402Z","type":"message"}
{"nick":"isaacs","message":"ryah_: yes, there have been a few json preprocessors.","date":"2012-01-17T07:35:53.708Z","type":"message"}
{"nick":"isaacs","message":"before the spec was amended to disallow comments.","date":"2012-01-17T07:36:04.636Z","type":"message"}
{"nick":"isaacs","message":"not to mention the courier madness.","date":"2012-01-17T07:36:39.579Z","type":"message"}
{"nick":"isaacs","message":"(a npm package that lets you write a package.coffee, because coffee-scripters are so fascinated by their language that they can't bear to write json)","date":"2012-01-17T07:37:00.438Z","type":"message"}
{"nick":"indutny","message":"isaacs: speaking of npm, can I help you?","date":"2012-01-17T07:37:02.415Z","type":"message"}
{"nick":"isaacs","message":"indutny: sure :)","date":"2012-01-17T07:37:18.270Z","type":"message"}
{"nick":"indutny","message":"isaacs: I think it's very essential feature to have","date":"2012-01-17T07:37:23.435Z","type":"message"}
{"nick":"isaacs","message":"which feature?","date":"2012-01-17T07:37:30.066Z","type":"message"}
{"nick":"indutny","message":"isaacs: next q: how ?","date":"2012-01-17T07:37:30.277Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:37:31.025Z","type":"message"}
{"nick":"isaacs","message":"the publish-bin stuff?","date":"2012-01-17T07:37:38.582Z","type":"message"}
{"nick":"indutny","message":"isaacs: yes","date":"2012-01-17T07:37:42.857Z","type":"message"}
{"nick":"isaacs","message":"on sec...","date":"2012-01-17T07:37:47.223Z","type":"message"}
{"nick":"indutny","message":"isaacs: arch specific libs","date":"2012-01-17T07:37:51.623Z","type":"message"}
{"nick":"isaacs","message":"indutny: so, here's the state of things today:","date":"2012-01-17T07:38:22.751Z","type":"message"}
{"nick":"isaacs","message":"1. it might not work.  it's been feature-flagged out for a while now","date":"2012-01-17T07:38:57.850Z","type":"message"}
{"nick":"isaacs","message":"2. npm help config, search for \"bindist\" and \"publish-bin\"","date":"2012-01-17T07:39:08.695Z","type":"message"}
{"nick":"isaacs","message":"that describes how it's supposed to work.","date":"2012-01-17T07:39:14.173Z","type":"message"}
{"nick":"isaacs","message":"3. grep in the code for those two things, and you'll see where they're used.","date":"2012-01-17T07:39:23.376Z","type":"message"}
{"nick":"paddybyers","date":"2012-01-17T07:39:43.820Z","type":"join"}
{"nick":"indutny","message":"ok","date":"2012-01-17T07:39:51.166Z","type":"message"}
{"nick":"isaacs","message":"indutny: right now, it contains too much info.","date":"2012-01-17T07:40:19.575Z","type":"message"}
{"nick":"indutny","message":"isaacs: yeah","date":"2012-01-17T07:40:52.316Z","type":"message"}
{"nick":"isaacs","message":"really, just 0.6-darwin-x64 is plenty","date":"2012-01-17T07:40:57.554Z","type":"message"}
{"nick":"indutny","message":"isaacs: only arrch or arch+platform is needed","date":"2012-01-17T07:41:02.447Z","type":"message"}
{"nick":"indutny","message":"isaacs: we do already have engine property","date":"2012-01-17T07:41:08.873Z","type":"message"}
{"nick":"isaacs","message":"<nodever>-<platform>-<arch>","date":"2012-01-17T07:41:10.371Z","type":"message"}
{"nick":"indutny","message":"isaacs: ah, got it","date":"2012-01-17T07:41:19.040Z","type":"message"}
{"nick":"isaacs","message":"that should be fine.","date":"2012-01-17T07:41:30.277Z","type":"message"}
{"nick":"indutny","message":"isaacs: may be better use engine?","date":"2012-01-17T07:41:32.398Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T07:41:39.665Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#259 (master - 21dd53f : Ryan Dahl): The build is still failing.","date":"2012-01-17T07:41:39.873Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/6e76a7c...21dd53f","date":"2012-01-17T07:41:39.873Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/534687","date":"2012-01-17T07:41:39.873Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T07:41:39.873Z","type":"part"}
{"nick":"isaacs","message":"no, because whatever it's published with is what it'll work with.","date":"2012-01-17T07:41:47.084Z","type":"message"}
{"nick":"indutny","message":"isaacs: > 0.6.3, < 0.6.7","date":"2012-01-17T07:41:55.653Z","type":"message"}
{"nick":"isaacs","message":"no need there.","date":"2012-01-17T07:42:00.515Z","type":"message"}
{"nick":"indutny","message":"isaacs: oh, ok","date":"2012-01-17T07:42:07.349Z","type":"message"}
{"nick":"isaacs","message":"i mean, that's kind of a separate thing","date":"2012-01-17T07:42:08.184Z","type":"message"}
{"nick":"isaacs","message":"the only thing that matters for the compilation itself is ABI","date":"2012-01-17T07:42:19.006Z","type":"message"}
{"nick":"isaacs","message":"and, if we're gonna continue with the even/odd thing, maybe either skip it for unstable versions, or include all three parts.","date":"2012-01-17T07:42:54.104Z","type":"message"}
{"nick":"isaacs","message":"0.7.2-linux-ia32","date":"2012-01-17T07:43:00.554Z","type":"message"}
{"nick":"isaacs","message":"etc.","date":"2012-01-17T07:43:02.219Z","type":"message"}
{"nick":"isaacs","message":"vs just 0.6-linux-ia32 for a stable version","date":"2012-01-17T07:43:13.043Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-01-17T07:43:24.814Z","type":"message"}
{"nick":"indutny","message":"may be support both variants","date":"2012-01-17T07:43:35.780Z","type":"message"}
{"nick":"indutny","message":"that's upon user anyway","date":"2012-01-17T07:43:45.276Z","type":"message"}
{"nick":"indutny","message":"s/user/developer","date":"2012-01-17T07:43:48.464Z","type":"message"}
{"nick":"isaacs","message":"so, update bindist default value, then `npm config set publish-bin true` on your system, then see what breaks.","date":"2012-01-17T07:43:54.260Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T07:44:01.311Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-01-17T07:44:01.986Z","type":"message"}
{"nick":"isaacs","message":"i have a staging server you can publish to if you dont' want to use the public registry and don't have a private one on localhost.  otherwise, feel free to build a little test package and publish/unpublish it as much as you want.","date":"2012-01-17T07:45:04.566Z","type":"message"}
{"nick":"isaacs","message":"i do that as a normal part of the npm tests anyway.","date":"2012-01-17T07:45:18.449Z","type":"message"}
{"nick":"indutny","message":"k","date":"2012-01-17T07:45:43.892Z","type":"message"}
{"nick":"indutny","message":"I'll just change name in package.json","date":"2012-01-17T07:45:50.740Z","type":"message"}
{"nick":"isaacs","message":"perfect.","date":"2012-01-17T07:46:15.821Z","type":"message"}
{"nick":"isaacs","message":"indutny: it should run the preinstall/install/postinstall scripts at the publish phase, then upload the pre-built copy to the registry in the dist hash","date":"2012-01-17T07:46:53.659Z","type":"message"}
{"nick":"isaacs","message":"npm view <pkgname> dist <-- that will show you what's in the dist hash","date":"2012-01-17T07:47:04.968Z","type":"message"}
{"nick":"mrb_bk","reason":"Remote host closed the connection","date":"2012-01-17T08:25:57.169Z","type":"quit"}
{"nick":"ryah_","message":"pquerna: hey - what was that site with like 12 principles for deployment?","date":"2012-01-17T08:29:56.318Z","type":"message"}
{"nick":"pquerna","message":"12factor","date":"2012-01-17T08:30:42.436Z","type":"message"}
{"nick":"pquerna","message":"ryah_:  http://12factor.net/","date":"2012-01-17T08:30:52.561Z","type":"message"}
{"nick":"pquerna","message":"still in our irc channel topic :x","date":"2012-01-17T08:31:05.905Z","type":"message"}
{"nick":"ryah_","message":"do you know who did that?","date":"2012-01-17T08:31:10.927Z","type":"message"}
{"nick":"pquerna","message":"yes, heroku guys","date":"2012-01-17T08:31:20.517Z","type":"message"}
{"nick":"ryah_","message":"ah","date":"2012-01-17T08:31:26.979Z","type":"message"}
{"nick":"ryah_","message":"it's super nice","date":"2012-01-17T08:31:35.083Z","type":"message"}
{"nick":"pquerna","message":"you know whats wrong with the current PaaS craze","date":"2012-01-17T08:32:04.616Z","type":"message"}
{"nick":"pquerna","message":"i just want a paas that makes those 12 things easier","date":"2012-01-17T08:32:21.404Z","type":"message"}
{"nick":"ryah_","message":"yeah","date":"2012-01-17T08:32:21.755Z","type":"message"}
{"nick":"pquerna","message":"not much else","date":"2012-01-17T08:32:24.389Z","type":"message"}
{"nick":"ryah_","message":"yeah - that's your vector, i see that","date":"2012-01-17T08:32:40.520Z","type":"message"}
{"nick":"ryah_","message":"i, of course, disagree","date":"2012-01-17T08:32:56.241Z","type":"message"}
{"nick":"ryah_","message":"the problem with the PaaS craze is that the system were not built for a PaaS in mind","date":"2012-01-17T08:33:11.909Z","type":"message"}
{"nick":"ryah_","message":"neither Xen, Linux, nor the programming platforms","date":"2012-01-17T08:33:28.015Z","type":"message"}
{"nick":"pquerna","message":"no, but we will burn the old sytems behind us. it has happened in the past, it will happen again, its just not an overnight thing.","date":"2012-01-17T08:33:48.220Z","type":"message"}
{"nick":"ryah_","message":"it's a 6 month thing","date":"2012-01-17T08:34:02.733Z","type":"message"}
{"nick":"pquerna","message":"heh","date":"2012-01-17T08:34:05.579Z","type":"message"}
{"nick":"ryah_","message":"everyone chuckles - but i'll see you guys in october squeezing shit out in excitement","date":"2012-01-17T08:35:17.842Z","type":"message"}
{"nick":"ryah_","message":"desktop -> iOS is not incremental","date":"2012-01-17T08:35:46.127Z","type":"message"}
{"nick":"ryah_","message":"it's \"this fucking sucks - redo\"","date":"2012-01-17T08:36:01.670Z","type":"message"}
{"nick":"ryah_","message":"well - i guess you have quartz or whatever - which helps","date":"2012-01-17T08:37:35.589Z","type":"message"}
{"nick":"sh1mmer","reason":"Quit: sh1mmer","date":"2012-01-17T08:39:24.779Z","type":"quit"}
{"nick":"pquerna","message":"I'm not sure what you meant by incremental in that context, the user experience is not, but the developer experience isn't that far off from building desktop apps on osx","date":"2012-01-17T08:39:33.874Z","type":"message"}
{"nick":"ryah_","message":"i guess i mean UX","date":"2012-01-17T08:40:20.673Z","type":"message"}
{"nick":"pquerna","message":"12factor is about the developer experience mostly, UX has its own weird path its going down these days","date":"2012-01-17T08:40:40.338Z","type":"message"}
{"nick":"pquerna","message":"thats the cool html5/socketio live update blah blah","date":"2012-01-17T08:40:51.090Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-01-17T08:42:03.931Z","type":"join"}
{"nick":"ryah_","message":"well - UX for the programmer","date":"2012-01-17T08:43:56.684Z","type":"message"}
{"nick":"ryah_","message":":P","date":"2012-01-17T08:43:58.846Z","type":"message"}
{"nick":"pquerna","message":"UX for the programmer is what made node. the an execelent study of minimalist + pragmatic + benchmarks from ab.","date":"2012-01-17T08:45:08.724Z","type":"message"}
{"nick":"ryah_","message":"no, youre right developer experience - it's just that 12factor doesn't define all of it","date":"2012-01-17T08:45:12.782Z","type":"message"}
{"nick":"ryah_","message":"there is more to be done","date":"2012-01-17T08:45:21.988Z","type":"message"}
{"nick":"ryah_","message":"inside that framework","date":"2012-01-17T08:45:24.617Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah_: Oh are you awake - please remember to review the cluster patch -> https://github.com/joyent/node/pull/2470","date":"2012-01-17T08:55:01.828Z","type":"message"}
{"nick":"mrb_bk","date":"2012-01-17T08:55:18.931Z","type":"join"}
{"nick":"ryah_","message":"def main(port) { port.write(\"hello world\"); port.close(); }","date":"2012-01-17T09:01:45.982Z","type":"message"}
{"nick":"ryah_","message":"^-- factor 13 - all apps must implement a function which receives a port","date":"2012-01-17T09:02:32.250Z","type":"message"}
{"nick":"ryah_","message":"a port is a tcp connection","date":"2012-01-17T09:02:48.815Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-01-17T09:39:12.985Z","type":"quit"}
{"nick":"cryptix","date":"2012-01-17T10:10:04.787Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-01-17T10:15:12.594Z","type":"quit"}
{"nick":"dshaw_","date":"2012-01-17T10:49:45.543Z","type":"join"}
{"nick":"AndreasMadsen","reason":"Quit: Page closed","date":"2012-01-17T10:54:11.370Z","type":"quit"}
{"nick":"dshaw_","reason":"Client Quit","date":"2012-01-17T10:54:19.700Z","type":"quit"}
{"nick":"russell_h","reason":"Ping timeout: 248 seconds","date":"2012-01-17T11:36:31.264Z","type":"quit"}
{"nick":"russell_h","date":"2012-01-17T11:41:05.036Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-01-17T12:27:41.662Z","type":"join"}
{"nick":"cryptix","reason":"Ping timeout: 260 seconds","date":"2012-01-17T12:36:39.037Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2012-01-17T12:46:09.331Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-01-17T12:50:54.151Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-01-17T12:51:17.711Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-01-17T12:55:17.542Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: yt?","date":"2012-01-17T13:04:08.607Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yep","date":"2012-01-17T13:05:27.662Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I think I want to backport stuff to 0.6 in steps","date":"2012-01-17T13:05:47.444Z","type":"message"}
{"nick":"indutny","message":"cool","date":"2012-01-17T13:06:15.601Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I'd like to not truncate http headers but send a status code \\","date":"2012-01-17T13:06:18.125Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: then we will just publish a branch/patch and go public about it","date":"2012-01-17T13:06:36.171Z","type":"message"}
{"nick":"piscisaureus_","message":"so it can cook for a week or so and see if there are any issues","date":"2012-01-17T13:06:44.155Z","type":"message"}
{"nick":"piscisaureus_","message":"after that we will merge it into 0.6","date":"2012-01-17T13:06:51.672Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: k","date":"2012-01-17T13:07:13.610Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: and merge querystring patch as it is?","date":"2012-01-17T13:07:21.977Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I have a few nits","date":"2012-01-17T13:07:35.150Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: but mostly yeah","date":"2012-01-17T13:07:42.435Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: what nits?","date":"2012-01-17T13:08:09.772Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: the nits are that if you specify { maxHeaders: '232' } it is silently ignored","date":"2012-01-17T13:08:34.561Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: nope","date":"2012-01-17T13:08:43.416Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: node should just throw if you specify anything non-numeric","date":"2012-01-17T13:08:47.273Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ah","date":"2012-01-17T13:08:50.646Z","type":"message"}
{"nick":"indutny","message":"I understand now","date":"2012-01-17T13:08:58.977Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-01-17T13:09:02.408Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: this is what we do everywhere","date":"2012-01-17T13:09:15.584Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: like this: https://github.com/joyent/node/blob/master/lib/net.js#L452","date":"2012-01-17T13:10:18.507Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2012-01-17T13:10:44.688Z","type":"message"}
{"nick":"indutny","message":"quite not informative","date":"2012-01-17T13:10:49.087Z","type":"message"}
{"nick":"indutny","message":"but yeah","date":"2012-01-17T13:10:50.670Z","type":"message"}
{"nick":"indutny","message":"agreed","date":"2012-01-17T13:10:54.827Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: that's better <- https://github.com/joyent/node/blob/master/lib/net.js#L460","date":"2012-01-17T13:12:00.096Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I have one more question, what happens if, instead of sending a lot of http headers, someone just sends you a very big one?","date":"2012-01-17T13:14:15.603Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: that's it :)","date":"2012-01-17T13:15:46.783Z","type":"message"}
{"nick":"indutny","message":"collect collect collect...BAM!","date":"2012-01-17T13:16:23.122Z","type":"message"}
{"nick":"indutny","message":"that's not hash dos","date":"2012-01-17T13:16:59.559Z","type":"message"}
{"nick":"indutny","message":"so lets first pull headers and querystring","date":"2012-01-17T13:17:08.209Z","type":"message"}
{"nick":"indutny","message":"and then patch node_http_parser","date":"2012-01-17T13:17:17.240Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I think http parser might have some limits","date":"2012-01-17T13:17:55.026Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: you can check it","date":"2012-01-17T13:18:29.573Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: but as I see - no","date":"2012-01-17T13:18:33.260Z","type":"message"}
{"nick":"indutny","message":"it's just finite state machine","date":"2012-01-17T13:18:44.979Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: there must be a limit somewhere","date":"2012-01-17T13:23:18.661Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I can't bring down the server","date":"2012-01-17T13:23:24.604Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: hm...","date":"2012-01-17T13:23:35.736Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: https://github.com/joyent/http-parser/blob/master/http_parser.c#L629","date":"2012-01-17T13:24:58.272Z","type":"message"}
{"nick":"indutny","message":"ohhh","date":"2012-01-17T13:25:15.568Z","type":"message"}
{"nick":"indutny","message":"how I missed that?","date":"2012-01-17T13:25:19.780Z","type":"message"}
{"nick":"indutny","message":"sorry","date":"2012-01-17T13:25:24.048Z","type":"message"}
{"nick":"piscisaureus_","message":"the limit is 80kb","date":"2012-01-17T13:25:38.127Z","type":"message"}
{"nick":"piscisaureus_","message":"btw 80kb * 100 headers is still 8mb per connections","date":"2012-01-17T13:28:02.140Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2012-01-17T13:28:27.947Z","type":"message"}
{"nick":"piscisaureus_","message":"could be too much still","date":"2012-01-17T13:28:37.268Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe we should just limit the size of the entire header block as well","date":"2012-01-17T13:28:47.127Z","type":"message"}
{"nick":"piscisaureus_","message":"but lets talk about that later","date":"2012-01-17T13:28:51.451Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: oh well there is an implicit limit of 1000 parsers","date":"2012-01-17T13:33:36.240Z","type":"message"}
{"nick":"piscisaureus_","message":"so the worst-case memory usage = 100*1000*8192 == 8GB :-(","date":"2012-01-17T13:34:30.653Z","type":"message"}
{"nick":"piscisaureus_","message":"the last 8192 should hve been 81920","date":"2012-01-17T13:35:27.109Z","type":"message"}
{"nick":"indutny","message":"heh","date":"2012-01-17T13:35:55.231Z","type":"message"}
{"nick":"indutny","message":"great","date":"2012-01-17T13:36:19.944Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: actually, I think the # of http headers may also be limited already :-/","date":"2012-01-17T13:38:34.193Z","type":"message"}
{"nick":"indutny","message":"hm","date":"2012-01-17T13:39:15.981Z","type":"message"}
{"nick":"indutny","message":"really?","date":"2012-01-17T13:39:18.619Z","type":"message"}
{"nick":"indutny","message":"oh my","date":"2012-01-17T13:39:25.714Z","type":"message"}
{"nick":"indutny","message":"but where?","date":"2012-01-17T13:40:01.324Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yeah I am trying to figure it out","date":"2012-01-17T13:40:33.719Z","type":"message"}
{"nick":"piscisaureus_","message":"I am on 0.6.8-pre","date":"2012-01-17T13:40:43.093Z","type":"message"}
{"nick":"piscisaureus_","message":"but the connection gets rejected after sending ~ 2000 headers","date":"2012-01-17T13:40:56.356Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: strange, because test is passing on 0.7.0","date":"2012-01-17T13:42:25.951Z","type":"message"}
{"nick":"indutny","message":"and it's using 2002 headers","date":"2012-01-17T13:42:31.931Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well slightly over 2000 headers actually","date":"2012-01-17T13:42:47.520Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: make it 5000","date":"2012-01-17T13:42:52.560Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: it must happen in http_parser itself because I get a parse error after n headers","date":"2012-01-17T13:52:14.139Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: hm...","date":"2012-01-17T13:52:36.435Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: don't know what you're talking about","date":"2012-01-17T13:57:34.745Z","type":"message"}
{"nick":"indutny","message":"but I successfully parsed 5000 headers","date":"2012-01-17T13:57:41.471Z","type":"message"}
{"nick":"indutny","message":"even more I'm sending 413 now :)","date":"2012-01-17T13:57:58.386Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: hmm something funny here","date":"2012-01-17T13:59:07.051Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T13:59:57.258Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: can you share yoour header","date":"2012-01-17T14:01:09.645Z","type":"message"}
{"nick":"piscisaureus_","message":"fucking keyboard","date":"2012-01-17T14:01:18.681Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: can you share your header sending code?","date":"2012-01-17T14:01:29.647Z","type":"message"}
{"nick":"indutny","message":"oh yeeah","date":"2012-01-17T14:01:29.866Z","type":"message"}
{"nick":"indutny","message":"of course","date":"2012-01-17T14:01:31.839Z","type":"message"}
{"nick":"indutny","message":"it's just a test-http-max-headers-count","date":"2012-01-17T14:01:44.378Z","type":"message"}
{"nick":"indutny","message":"with s/2000/5000","date":"2012-01-17T14:01:53.711Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I am trying this: https://gist.github.com/b73ec186f1021dbe9e25","date":"2012-01-17T14:02:11.597Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: it works","date":"2012-01-17T14:02:21.016Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: or - whatever - the http server hangs waiting for more data","date":"2012-01-17T14:02:31.051Z","type":"message"}
{"nick":"indutny","message":"probably you're sending too much data in header value?","date":"2012-01-17T14:02:46.640Z","type":"message"}
{"nick":"indutny","message":"can you try just \"a\"","date":"2012-01-17T14:02:52.140Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes, then I  can send more","date":"2012-01-17T14:03:05.415Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ok, what about process RSS?","date":"2012-01-17T14:03:27.424Z","type":"message"}
{"nick":"indutny","message":"or how is it called?","date":"2012-01-17T14:03:41.202Z","type":"message"}
{"nick":"indutny","message":"memory stats, in other words","date":"2012-01-17T14:03:48.225Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-01-17T14:03:48.926Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: low","date":"2012-01-17T14:04:11.945Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: doesn't exceed 20 megs","date":"2012-01-17T14:04:17.629Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: also, node is not dying","date":"2012-01-17T14:04:26.262Z","type":"message"}
{"nick":"indutny","message":"and it just hangs","date":"2012-01-17T14:04:26.471Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: no, this:","date":"2012-01-17T14:04:45.735Z","type":"message"}
{"nick":"piscisaureus_","message":"D:\\node4>node -e \"require('http').createServer(console.log).listen(1234)\"","date":"2012-01-17T14:05:20.836Z","type":"message"}
{"nick":"piscisaureus_","message":"NET: bind to 0.0.0.0","date":"2012-01-17T14:05:21.042Z","type":"message"}
{"nick":"piscisaureus_","message":"NET: onconnection","date":"2012-01-17T14:05:21.043Z","type":"message"}
{"nick":"piscisaureus_","message":"HTTP: SERVER new http connection","date":"2012-01-17T14:05:21.043Z","type":"message"}
{"nick":"piscisaureus_","message":"HTTP: parse error","date":"2012-01-17T14:05:21.043Z","type":"message"}
{"nick":"piscisaureus_","message":"NET: destroy","date":"2012-01-17T14:05:21.533Z","type":"message"}
{"nick":"piscisaureus_","message":"NET: close","date":"2012-01-17T14:05:21.742Z","type":"message"}
{"nick":"piscisaureus_","message":"HTTP: server socket close","date":"2012-01-17T14:05:22.545Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: osx isn't destroying oscket","date":"2012-01-17T14:07:56.137Z","type":"message"}
{"nick":"indutny","message":"s/oscket/socket","date":"2012-01-17T14:07:59.125Z","type":"message"}
{"nick":"indutny","message":"but when I ctrl+c client script - it does","date":"2012-01-17T14:08:12.836Z","type":"message"}
{"nick":"indutny","message":"ooh","date":"2012-01-17T14:08:54.477Z","type":"message"}
{"nick":"indutny","message":"sorry, forgot to increase 400","date":"2012-01-17T14:08:59.230Z","type":"message"}
{"nick":"piscisaureus_","message":"heh. retry","date":"2012-01-17T14:09:08.595Z","type":"message"}
{"nick":"indutny","message":"yeah, I see it!","date":"2012-01-17T14:09:33.234Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-01-17T14:09:34.110Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: ok so now we figure out  where that limit comes from","date":"2012-01-17T14:10:02.763Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: you will notice that if you make the Cookie header smaller then the  number of headers you can send increases","date":"2012-01-17T14:10:46.745Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: so somewhere there's a size cap","date":"2012-01-17T14:11:01.833Z","type":"message"}
{"nick":"indutny","message":"it comes from header overflow","date":"2012-01-17T14:18:37.250Z","type":"message"}
{"nick":"indutny","message":"the error","date":"2012-01-17T14:18:38.707Z","type":"message"}
{"nick":"indutny","message":"looks like it's total headers limit","date":"2012-01-17T14:19:04.048Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yeah","date":"2012-01-17T14:19:29.208Z","type":"message"}
{"nick":"indutny","message":"cool, so no more thank 80kb headers at all :)","date":"2012-01-17T14:19:42.093Z","type":"message"}
{"nick":"indutny","message":"so no need to limit url length","date":"2012-01-17T14:21:32.294Z","type":"message"}
{"nick":"indutny","message":"or limit header name or header value size","date":"2012-01-17T14:21:38.095Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yt?","date":"2012-01-17T14:21:40.370Z","type":"message"}
{"nick":"indutny","message":"I'm going to do some stuff at home, going to be back in a hour or so","date":"2012-01-17T14:22:15.529Z","type":"message"}
{"nick":"indutny","message":"I'll push what I've done so far","date":"2012-01-17T14:22:21.147Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: https://github.com/indutny/node/commit/22647601dcc687e04e156cd0094bfe49df41c8a2","date":"2012-01-17T14:23:39.735Z","type":"message"}
{"nick":"indutny","new_nick":"indutny_away","date":"2012-01-17T14:24:16.732Z","type":"nick"}
{"nick":"bnoordhuis","date":"2012-01-17T14:28:28.508Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: that limit in http parser - does that apply to *all* headers together or is it a per header limit?","date":"2012-01-17T15:08:36.918Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you mean the limit that fedor pointed or what i proposed?","date":"2012-01-17T15:10:24.763Z","type":"message"}
{"nick":"bnoordhuis","message":"*pointed out","date":"2012-01-17T15:10:31.966Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I mean this: https://github.com/joyent/node/blob/v0.6/deps/http_parser/http_parser.c#L424","date":"2012-01-17T15:10:44.065Z","type":"message"}
{"nick":"piscisaureus_","message":"what you pointed out","date":"2012-01-17T15:10:51.763Z","type":"message"}
{"nick":"bnoordhuis","message":"no, that was fedor :)","date":"2012-01-17T15:11:12.986Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's the total limit","date":"2012-01-17T15:11:32.354Z","type":"message"}
{"nick":"bnoordhuis","message":"HTTP_MAX_HEADER_SIZE is 80K in case you're wondering","date":"2012-01-17T15:11:57.858Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002549443a\u000f \u000310\u000f/ (2 files in 2 dirs)\u0002:\u000f ","date":"2012-01-17T15:23:23.033Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f typed arrays: set class name","date":"2012-01-17T15:23:23.238Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Make obj.toString and Object.prototype.toString work correctly for typed arrays. - http://git.io/IGka2A","date":"2012-01-17T15:23:23.238Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: what about we apply a similar size limit the the HTTP request line","date":"2012-01-17T15:29:29.416Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. GET /foo/bar?xyz=..... HTTP/1.1 can't exceed 5k","date":"2012-01-17T15:29:57.383Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: many browsers have a querystring limit of about 1200 characters","date":"2012-01-17T15:30:18.649Z","type":"message"}
{"nick":"bnoordhuis","message":"workable, it's what apache does","date":"2012-01-17T15:30:25.771Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then there would be no need to do crappy shit in querystring.parse","date":"2012-01-17T15:30:38.809Z","type":"message"}
{"nick":"bnoordhuis","message":"exactly","date":"2012-01-17T15:30:51.186Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny_away: ^ -?","date":"2012-01-17T15:30:59.405Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T15:32:06.804Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#260 (v0.6 - 549443a : Ben Noordhuis): The build was fixed.","date":"2012-01-17T15:32:07.010Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/2541009...549443a","date":"2012-01-17T15:32:07.010Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/536087","date":"2012-01-17T15:32:07.010Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T15:32:07.010Z","type":"part"}
{"nick":"piscisaureus_","message":"bnoordhuis: http://stackoverflow.com/questions/3721034/how-long-an-url-can-internet-explorer-9-take","date":"2012-01-17T15:32:17.463Z","type":"message"}
{"nick":"indutny_away","message":"piscisaureus_: :)","date":"2012-01-17T15:32:18.678Z","type":"message"}
{"nick":"indutny_away","new_nick":"indutny","date":"2012-01-17T15:32:20.992Z","type":"nick"}
{"nick":"indutny","message":"that's what she said!","date":"2012-01-17T15:33:06.441Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: what do  you think?","date":"2012-01-17T15:33:27.871Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: does it matter?","date":"2012-01-17T15:33:53.823Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well it means we don't have to patch querystring.parse","date":"2012-01-17T15:34:05.222Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: url still can't be longer than 80k","date":"2012-01-17T15:34:05.432Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: no, it doesn't","date":"2012-01-17T15:34:12.872Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: why not?","date":"2012-01-17T15:34:13.824Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: it's used to parse POST data too","date":"2012-01-17T15:34:21.319Z","type":"message"}
{"nick":"piscisaureus_","message":"oh","date":"2012-01-17T15:34:28.394Z","type":"message"}
{"nick":"piscisaureus_","message":"sure","date":"2012-01-17T15:34:29.975Z","type":"message"}
{"nick":"indutny","message":"so, adding complexity just for another complexity sounds like a bad idea for me","date":"2012-01-17T15:34:55.320Z","type":"message"}
{"nick":"indutny","message":"though I'm open to any other argumnets","date":"2012-01-17T15:35:02.756Z","type":"message"}
{"nick":"indutny","message":"s/argumnets/arguments","date":"2012-01-17T15:35:08.943Z","type":"message"}
{"nick":"piscisaureus_","message":"I think the 80kb line applies to the request line too even","date":"2012-01-17T15:36:09.887Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: have you seen my commit?","date":"2012-01-17T15:40:10.728Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: it's working, only test needs to be fixed","date":"2012-01-17T15:40:18.508Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes","date":"2012-01-17T15:40:47.228Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I am beginning to doubt we need maxHeaders at all :-/","date":"2012-01-17T15:40:59.706Z","type":"message"}
{"nick":"piscisaureus_","message":"there is a limit already","date":"2012-01-17T15:41:04.668Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean nobody can seriously hurt a server if its going to disconnect you after 80kb","date":"2012-01-17T15:41:25.173Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^- do you agree btw","date":"2012-01-17T15:41:41.332Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: 80k = (6 (header name) + 1 (:) + 1 (value) ) * 10k","date":"2012-01-17T15:41:42.918Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: 10k headers is kinda enough for hash collision","date":"2012-01-17T15:42:02.617Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: no the 80kb limit applies to the total size of the headers + request line","date":"2012-01-17T15:42:07.077Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: 80kb is way too big","date":"2012-01-17T15:42:08.064Z","type":"message"}
{"nick":"bnoordhuis","message":"8k is more reasonable","date":"2012-01-17T15:42:24.957Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: huh why?","date":"2012-01-17T15:42:25.163Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well people make pretty big cookies sometimes","date":"2012-01-17T15:42:35.490Z","type":"message"}
{"nick":"bnoordhuis","message":"not that big","date":"2012-01-17T15:42:41.051Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: and correct error handling!","date":"2012-01-17T15:42:44.536Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i can squeeze a lot of headers into 80k","date":"2012-01-17T15:43:16.780Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah but who cares","date":"2012-01-17T15:43:25.850Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: hackers care :)","date":"2012-01-17T15:43:34.313Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I mean, the hash collision problem got fixed","date":"2012-01-17T15:43:36.023Z","type":"message"}
{"nick":"bnoordhuis","message":"so what are we arguing about?","date":"2012-01-17T15:43:59.757Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the only thing that's left is how much memory can we allow the hacker to fill up and how slow can a hashtable become when there's 10k keys in there","date":"2012-01-17T15:44:22.512Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- not so slow","date":"2012-01-17T15:44:27.499Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-01-17T15:44:48.431Z","type":"message"}
{"nick":"indutny","message":"prob, we can lower 80k limit","date":"2012-01-17T15:44:57.154Z","type":"message"}
{"nick":"indutny","message":"and patch only querystring","date":"2012-01-17T15:45:01.119Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, exactly","date":"2012-01-17T15:45:06.722Z","type":"message"}
{"nick":"bnoordhuis","message":"why does querystring need patching if hash collisions are no longer an issue?","date":"2012-01-17T15:45:26.363Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it can blow up memory","date":"2012-01-17T15:45:41.137Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: if attacker will send a lot of POST data to innocent app","date":"2012-01-17T15:45:55.395Z","type":"message"}
{"nick":"piscisaureus_","message":"actually it is also not really an issue","date":"2012-01-17T15:46:20.199Z","type":"message"}
{"nick":"bnoordhuis","message":"if that happens, the user has already buffered all the post data right?","date":"2012-01-17T15:46:22.161Z","type":"message"}
{"nick":"piscisaureus_","message":"the problem is that people buffer up all that crap","date":"2012-01-17T15:46:28.690Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-01-17T15:46:30.099Z","type":"message"}
{"nick":"bnoordhuis","message":"so it's a matter of educating people","date":"2012-01-17T15:46:41.888Z","type":"message"}
{"nick":"piscisaureus_","message":"we would need a streaming querystring parser first","date":"2012-01-17T15:46:44.506Z","type":"message"}
{"nick":"piscisaureus_","message":"which we are not going to do","date":"2012-01-17T15:47:27.203Z","type":"message"}
{"nick":"piscisaureus_","message":"or remove querystring from core :-)","date":"2012-01-17T15:47:33.018Z","type":"message"}
{"nick":"bnoordhuis","message":"so to recap: there's not really an issue here?","date":"2012-01-17T15:48:04.015Z","type":"message"}
{"nick":"piscisaureus_","message":"ehm. yes kinda","date":"2012-01-17T15:48:22.403Z","type":"message"}
{"nick":"bnoordhuis","action":"listens","date":"2012-01-17T15:48:42.337Z","type":"action"}
{"nick":"piscisaureus_","message":"well there is an issue left, namely that people buffer up post data","date":"2012-01-17T15:48:45.151Z","type":"message"}
{"nick":"piscisaureus_","message":"but that we cannot fix","date":"2012-01-17T15:48:49.349Z","type":"message"}
{"nick":"piscisaureus_","message":"yes so","date":"2012-01-17T15:49:47.180Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: did your numberhash fixes already make it into v8 / node ?","date":"2012-01-17T15:49:59.372Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: nope","date":"2012-01-17T15:50:08.464Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ErikCorry implemented it for bleeding_edge, me - backported","date":"2012-01-17T15:50:22.545Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: but my changes are still in review AFAIK","date":"2012-01-17T15:50:30.467Z","type":"message"}
{"nick":"bnoordhuis","message":"what are the chances of it being merged?","date":"2012-01-17T15:50:41.239Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: oooh","date":"2012-01-17T15:50:44.087Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: wut?","date":"2012-01-17T15:51:02.187Z","type":"message"}
{"nick":"indutny","message":"ope","date":"2012-01-17T15:51:06.982Z","type":"message"}
{"nick":"indutny","message":"similar commit message","date":"2012-01-17T15:51:12.339Z","type":"message"}
{"nick":"indutny","message":":(","date":"2012-01-17T15:51:15.661Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: what was the review url again?","date":"2012-01-17T15:51:30.351Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it should be definitely merged, but better ask ErikCorry about that","date":"2012-01-17T15:51:36.811Z","type":"message"}
{"nick":"indutny","message":"http://codereview.chromium.org/9190001/","date":"2012-01-17T15:51:49.191Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: if the v8 guys intend to merge it, we can land it locally","date":"2012-01-17T15:52:08.579Z","type":"message"}
{"nick":"bnoordhuis","message":"as long as we don't have to carry it forward indefinitely","date":"2012-01-17T15:52:16.665Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: just asked erikcorry by jabber","date":"2012-01-17T15:52:54.103Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that won't be needed, worst case scenario we have to carry it through 0.6","date":"2012-01-17T15:53:08.227Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: right, good point","date":"2012-01-17T15:53:25.955Z","type":"message"}
{"nick":"bnoordhuis","message":"well, just land it then and call it a day","date":"2012-01-17T15:53:35.146Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I runned patch with debug,release modes on osx and linux","date":"2012-01-17T15:53:49.284Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it seems to be working fine","date":"2012-01-17T15:53:54.907Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I just want to make sure that all v8 tests pass and it causes no node regressions","date":"2012-01-17T15:54:10.611Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: do the v8 and node test suites pass?","date":"2012-01-17T15:54:10.819Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: did you try the v8 tests?","date":"2012-01-17T15:54:19.381Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: that's what I meant","date":"2012-01-17T15:54:29.280Z","type":"message"}
{"nick":"bnoordhuis","message":"that's good enough for me","date":"2012-01-17T15:54:42.855Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah me too","date":"2012-01-17T15:54:47.343Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: land it","date":"2012-01-17T15:54:59.745Z","type":"message"}
{"nick":"piscisaureus_","message":"ok yeah so land it and call it a day","date":"2012-01-17T15:55:02.975Z","type":"message"}
{"nick":"bnoordhuis","action":"gets the beers","date":"2012-01-17T15:55:09.069Z","type":"action"}
{"nick":"indutny","message":"one sec","date":"2012-01-17T15:55:09.281Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-01-17T15:55:10.513Z","type":"message"}
{"nick":"indutny","message":"running make -j4 on patched node","date":"2012-01-17T15:59:13.662Z","type":"message"}
{"nick":"indutny","message":"and then tools/test.py","date":"2012-01-17T15:59:20.697Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: my stringhash patch already made it into node right?","date":"2012-01-17T16:11:28.775Z","type":"message"}
{"nick":"pietern","date":"2012-01-17T16:16:38.785Z","type":"join"}
{"nick":"indutny","message":"piscisaureus_: probably","date":"2012-01-17T16:19:20.176Z","type":"message"}
{"nick":"indutny","message":"ok, tests are passing","date":"2012-01-17T16:19:31.881Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303koichik\u000f \u000307v0.6\u000f * r\u0002534df2f\u000f \u000310\u000f/ (lib/tls.js test/simple/test-tls-client-abort2.js)\u0002:\u000f ","date":"2012-01-17T16:19:47.128Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f tls: fix double 'error' events on HTTPS Requests","date":"2012-01-17T16:19:47.335Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Fixes #2549. - http://git.io/yMJcjw","date":"2012-01-17T16:19:47.335Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307v0.6\u000f * r\u00021695332\u000f \u000310\u000f/ (36 files in 6 dirs)\u0002:\u000f (log message trimmed)","date":"2012-01-17T16:23:48.916Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Land number collision fix for v8 3.6 by Erik Corry","date":"2012-01-17T16:23:49.130Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f - If V8 snapshots are enabled then the hash is only randomized at build time.","date":"2012-01-17T16:23:49.130Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f ---","date":"2012-01-17T16:23:49.130Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f backport @10366, @10367 and @10402 to 3.6","date":"2012-01-17T16:23:49.130Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Add seed to hash of numeric keyed properties.","date":"2012-01-17T16:23:49.642Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Minor cleanups of numeric seeded hashing patch.","date":"2012-01-17T16:23:49.850Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: bnoordhuis ^","date":"2012-01-17T16:24:04.133Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:27:23.786Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#261 (v0.6 - 534df2f : koichik): The build passed.","date":"2012-01-17T16:27:23.995Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/549443a...534df2f","date":"2012-01-17T16:27:23.995Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/536256","date":"2012-01-17T16:27:23.995Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:27:23.995Z","type":"part"}
{"nick":"indutny","message":"travis: build me!","date":"2012-01-17T16:30:23.940Z","type":"message"}
{"nick":"mmalecki","message":"indutny: it takes some time","date":"2012-01-17T16:30:35.383Z","type":"message"}
{"nick":"mmalecki","message":"indutny: we had to bump up the limit, v8 compilation takes long time","date":"2012-01-17T16:30:53.105Z","type":"message"}
{"nick":"mmalecki","message":"it'd be cool to make it faster","date":"2012-01-17T16:30:59.787Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: what limit?","date":"2012-01-17T16:31:40.234Z","type":"message"}
{"nick":"bnoordhuis","message":"compilation time?","date":"2012-01-17T16:31:52.108Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:32:04.600Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#262 (v0.6 - 1695332 : Fedor Indutny): The build passed.","date":"2012-01-17T16:32:04.811Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/534df2f...1695332","date":"2012-01-17T16:32:04.811Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/536277","date":"2012-01-17T16:32:04.811Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:32:04.811Z","type":"part"}
{"nick":"mmalecki","message":"bnoordhuis: time limit, https://github.com/joyent/node/blob/master/.travis.yml#L3","date":"2012-01-17T16:32:25.296Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: yeah","date":"2012-01-17T16:32:29.345Z","type":"message"}
{"nick":"bnoordhuis","message":"fun fact, on my laptop compiling v8 takes more time than compiling a kernel","date":"2012-01-17T16:41:35.566Z","type":"message"}
{"nick":"mjr_","reason":"Ping timeout: 276 seconds","date":"2012-01-17T16:47:57.111Z","type":"quit"}
{"nick":"CIA-115","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002bf8ccfc\u000f \u000310\u000f/ (src/unix/tty.c test/test-tty.c)\u0002:\u000f ","date":"2012-01-17T16:48:34.910Z","type":"message"}
{"nick":"CIA-115","message":"\u0002libuv:\u000f unix: fix segfault in uv_guess_handle()","date":"2012-01-17T16:48:35.123Z","type":"message"}
{"nick":"CIA-115","message":"\u0002libuv:\u000f Fixes #293. - http://git.io/2Xwleg","date":"2012-01-17T16:48:35.123Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: yeah. not sure if it's possible to speed it up","date":"2012-01-17T16:49:18.843Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: optimize g++","date":"2012-01-17T16:49:53.700Z","type":"message"}
{"nick":"indutny","message":"mmalecki: use 8 core xeon","date":"2012-01-17T16:50:00.553Z","type":"message"}
{"nick":"indutny","message":";D","date":"2012-01-17T16:50:08.357Z","type":"message"}
{"nick":"mmalecki","message":"sounds legit, brb","date":"2012-01-17T16:50:12.578Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:50:14.553Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#36 (v0.6 - bf8ccfc : Ben Noordhuis): The build is still failing.","date":"2012-01-17T16:50:14.757Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/0e6e4ab...bf8ccfc","date":"2012-01-17T16:50:14.757Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/536409","date":"2012-01-17T16:50:14.757Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T16:50:14.757Z","type":"part"}
{"nick":"indutny","message":"brb","date":"2012-01-17T16:50:17.148Z","type":"message"}
{"nick":"bnoordhuis","message":"heh","date":"2012-01-17T16:50:21.602Z","type":"message"}
{"nick":"indutny","new_nick":"indutny_away","date":"2012-01-17T16:50:22.660Z","type":"nick"}
{"nick":"mmalecki","message":"bnoordhuis: optimized it","date":"2012-01-17T16:50:57.069Z","type":"message"}
{"nick":"mmalecki","message":"there's one command to do it","date":"2012-01-17T16:51:02.697Z","type":"message"}
{"nick":"mmalecki","message":"sudo rm /usr/bin/g++","date":"2012-01-17T16:51:10.258Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: alias g++=true","date":"2012-01-17T16:51:29.018Z","type":"message"}
{"nick":"mmalecki","message":"or that","date":"2012-01-17T16:51:36.000Z","type":"message"}
{"nick":"mmalecki","message":"we'll have node 0.7 on travis today btw :)","date":"2012-01-17T16:55:10.065Z","type":"message"}
{"nick":"mmalecki","action":"grabs popcorn to see how stuff breaks","date":"2012-01-17T16:55:22.275Z","type":"action"}
{"nick":"bnoordhuis","message":"my 1 year old daughter has great taste","date":"2012-01-17T17:00:31.506Z","type":"message"}
{"nick":"bnoordhuis","message":"she likes vim better than emacs","date":"2012-01-17T17:00:36.795Z","type":"message"}
{"nick":"bnoordhuis","message":"mostly because the colors are prettier","date":"2012-01-17T17:00:56.715Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's a detail","date":"2012-01-17T17:00:59.526Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ask `3rdEden, he's been teaching vim to his kid for some time","date":"2012-01-17T17:01:13.063Z","type":"message"}
{"nick":"dshaw_","date":"2012-01-17T17:01:17.989Z","type":"join"}
{"nick":"mmalecki","message":"maybe you guys should put together a 'vim for 1 yo' book","date":"2012-01-17T17:02:12.037Z","type":"message"}
{"nick":"piscisaureus_","message":"vim for toddlers","date":"2012-01-17T17:04:11.329Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: which color scheme, btw?","date":"2012-01-17T17:04:12.170Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: ++","date":"2012-01-17T17:04:20.833Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 2 beers","date":"2012-01-17T17:04:21.182Z","type":"message"}
{"nick":"CoverSlide","message":"elflord ftw!","date":"2012-01-17T17:04:24.851Z","type":"message"}
{"nick":"piscisaureus_","message":"https://dpegb9ebondhq.cloudfront.net/product_photos/187098/VIM_25_original.gif","date":"2012-01-17T17:04:56.188Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: i think torte?","date":"2012-01-17T17:10:40.719Z","type":"message"}
{"nick":"mikeal","date":"2012-01-17T17:10:44.774Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: curious... how do you know that other vim?","date":"2012-01-17T17:11:57.056Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: meh. you need solarized.","date":"2012-01-17T17:12:29.134Z","type":"message"}
{"nick":"bnoordhuis","message":"oh hah, it's \"default\"","date":"2012-01-17T17:13:04.312Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm so 1337","date":"2012-01-17T17:13:09.233Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: you *want* solarized","date":"2012-01-17T17:13:44.266Z","type":"message"}
{"nick":"bnoordhuis","message":"why?","date":"2012-01-17T17:14:35.632Z","type":"message"}
{"nick":"bnoordhuis","message":"solarized is the blueish theme right?","date":"2012-01-17T17:14:44.425Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: sec, I'll get you a screenshot","date":"2012-01-17T17:15:00.279Z","type":"message"}
{"nick":"felixge","date":"2012-01-17T17:15:00.809Z","type":"join"}
{"nick":"CoverSlide","message":"default is peachpuff isn't it?","date":"2012-01-17T17:15:12.055Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: think google found it for me","date":"2012-01-17T17:15:59.052Z","type":"message"}
{"nick":"bnoordhuis","message":"but... dinner time!","date":"2012-01-17T17:16:03.256Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ok","date":"2012-01-17T17:16:35.316Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-01-17T17:22:36.135Z","type":"quit"}
{"nick":"mikeal","date":"2012-01-17T17:28:40.369Z","type":"join"}
{"nick":"dap","date":"2012-01-17T17:31:44.882Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: can I land https://github.com/AndreasMadsen/node-1/commit/5f37b355ad36edc375096d90bf9bafbd5ea2d601.patch in v0.6","date":"2012-01-17T17:34:42.620Z","type":"message"}
{"nick":"piscisaureus_","message":"not an api change right?","date":"2012-01-17T17:34:50.292Z","type":"message"}
{"nick":"txdv","date":"2012-01-17T17:36:00.011Z","type":"join"}
{"nick":"piscisaureus_","message":"I suppose I can","date":"2012-01-17T17:36:12.032Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Andreas Madsen\u000f \u000307v0.6\u000f * r\u0002ca6eded\u000f \u000310\u000f/ lib/child_process.js \u0002:\u000f ","date":"2012-01-17T17:40:04.400Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f child_process: add errno property to exceptions","date":"2012-01-17T17:40:04.613Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f In case of a write failure when using fork() an error would be thrown. The","date":"2012-01-17T17:40:04.613Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f thrown exception was missing the `errno` property. - http://git.io/JqmMEQ","date":"2012-01-17T17:40:04.613Z","type":"message"}
{"nick":"indutny_away","new_nick":"indutny","date":"2012-01-17T17:43:32.669Z","type":"nick"}
{"nick":"indutny","message":"back","date":"2012-01-17T17:43:35.529Z","type":"message"}
{"nick":"mmalecki","message":"anyone from joyent's ops here?","date":"2012-01-17T17:44:17.031Z","type":"message"}
{"nick":"mmalecki","message":"wondering if you guys still need https://github.com/nodejitsu/node-http-proxy/blob/master/lib/node-http-proxy/http-proxy.js#L290-292","date":"2012-01-17T17:44:33.400Z","type":"message"}
{"nick":"mmalecki","message":"I know isaacs mentioned it behaving weird in production without this piece of code","date":"2012-01-17T17:44:56.626Z","type":"message"}
{"nick":"indutny","message":"mmalecki: looks strange and buggy","date":"2012-01-17T17:45:32.692Z","type":"message"}
{"nick":"mmalecki","message":"indutny: that's kinda why I'm asking","date":"2012-01-17T17:45:53.497Z","type":"message"}
{"nick":"indutny","message":"mmalecki: that should be probably fixed with uv thing","date":"2012-01-17T17:47:22.678Z","type":"message"}
{"nick":"indutny","message":"but better if bnoordhuis or piscisaureus_ will answer your question","date":"2012-01-17T17:47:32.183Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T17:48:21.814Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#263 (v0.6 - ca6eded : Andreas Madsen): The build passed.","date":"2012-01-17T17:48:22.024Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/1695332...ca6eded","date":"2012-01-17T17:48:22.025Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/536621","date":"2012-01-17T17:48:22.025Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T17:48:22.025Z","type":"part"}
{"nick":"piscisaureus_","message":"I think it's even better to ask isaacs","date":"2012-01-17T17:48:27.551Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-01-17T17:48:43.551Z","type":"join"}
{"nick":"indutny","message":"coin rolls","date":"2012-01-17T17:49:09.641Z","type":"message"}
{"nick":"mmalecki","message":"lol","date":"2012-01-17T17:50:09.308Z","type":"message"}
{"nick":"indutny","message":"btw, are we going to release 0.6.x today?","date":"2012-01-17T17:56:06.218Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: isaacs might","date":"2012-01-17T17:57:33.723Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: k, btw, can I share Buffers between isolates","date":"2012-01-17T17:58:21.291Z","type":"message"}
{"nick":"indutny","message":"or send them?","date":"2012-01-17T17:58:25.166Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ^","date":"2012-01-17T17:58:34.766Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: bnoordhuis: is the isolates guy","date":"2012-01-17T17:58:41.641Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: oh, sorry","date":"2012-01-17T17:58:53.675Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I don't think you can right now, I am not sure what we are plannng for it","date":"2012-01-17T17:58:55.826Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: looks like not","date":"2012-01-17T17:58:57.546Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: issue fixed -> https://github.com/joyent/node/pull/2424","date":"2012-01-17T17:59:26.663Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I think that there are w3c proposals for sharing bytearrays between web workers so we might allow something like that as well","date":"2012-01-17T17:59:33.157Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-01-17T17:59:53.974Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus_: cool :)","date":"2012-01-17T17:59:59.163Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I still see \"get optinal options and args arguments\"","date":"2012-01-17T18:00:10.644Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: that's 1 spelling error + you get bonus points for using a capital and a dot.","date":"2012-01-17T18:00:28.998Z","type":"message"}
{"nick":"piscisaureus_","message":"(in comments)","date":"2012-01-17T18:01:08.605Z","type":"message"}
{"nick":"AndreasMadsen","message":"Oh, thought it was just a spelling, fixed","date":"2012-01-17T18:02:30.468Z","type":"message"}
{"nick":"AndreasMadsen","message":"s/spelling/spacing/","date":"2012-01-17T18:02:41.119Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: GitHub has now processed by commit :) ","date":"2012-01-17T18:04:40.410Z","type":"message"}
{"nick":"AndreasMadsen","message":"s/by/my","date":"2012-01-17T18:05:54.338Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Andreas Madsen\u000f \u000307master\u000f * r\u00027088487\u000f \u000310\u000f/ (doc/api/child_processes.markdown lib/child_process.js)\u0002:\u000f ","date":"2012-01-17T18:08:41.649Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Allow calling fork() without args or options","date":"2012-01-17T18:08:41.867Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Closes GH-2424 - http://git.io/aGuNVw","date":"2012-01-17T18:08:41.867Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-01-17T18:09:04.826Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-01-17T18:09:36.737Z","type":"quit"}
{"nick":"AndreasMadsen","message":"^-- Oh nice, I will need to make some more pull request so I can get at 8 again :)","date":"2012-01-17T18:10:10.835Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: oh no that will only demotivate us","date":"2012-01-17T18:10:27.853Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: you have to wait until the number drops","date":"2012-01-17T18:10:35.997Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: hehe - I just like the number eight is very soft with not edges. No zero do not count.","date":"2012-01-17T18:12:30.597Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: If you are too motivated you could review #2314","date":"2012-01-17T18:13:25.612Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I am doing it actually","date":"2012-01-17T18:13:38.525Z","type":"message"}
{"nick":"AndreasMadsen","message":"Oh, wow","date":"2012-01-17T18:13:47.580Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: ++","date":"2012-01-17T18:14:18.844Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 3 beers","date":"2012-01-17T18:14:19.611Z","type":"message"}
{"nick":"luxigo","date":"2012-01-17T18:17:05.826Z","type":"join"}
{"nick":"travis-ci","date":"2012-01-17T18:17:52.805Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#264 (master - 7088487 : Andreas Madsen): The build is still failing.","date":"2012-01-17T18:17:53.024Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/21dd53f...7088487","date":"2012-01-17T18:17:53.025Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/536760","date":"2012-01-17T18:17:53.025Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T18:17:53.025Z","type":"part"}
{"nick":"pksunkara","date":"2012-01-17T18:18:33.698Z","type":"join"}
{"nick":"piscisaureus_","message":"AndreasMadsen: does jslint tell you to used [ foo ] and not [foo]","date":"2012-01-17T18:19:23.003Z","type":"message"}
{"nick":"bradleymeck","date":"2012-01-17T18:19:24.736Z","type":"join"}
{"nick":"piscisaureus_","message":"but also [ /test/ ] and not [/test/]","date":"2012-01-17T18:19:35.304Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-01-17T18:19:35.990Z","type":"message"}
{"nick":"piscisaureus_","message":"and also to prefer ' over \" ?","date":"2012-01-17T18:19:50.442Z","type":"message"}
{"nick":"TooTallNate","date":"2012-01-17T18:20:01.810Z","type":"join"}
{"nick":"indutny","message":"yeah","date":"2012-01-17T18:22:19.035Z","type":"message"}
{"nick":"indutny","message":"js style is something that many pull requests are missing","date":"2012-01-17T18:22:28.053Z","type":"message"}
{"nick":"mmalecki","message":"we have 0.7 on travis!","date":"2012-01-17T18:22:36.327Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: It is to long ago","date":"2012-01-17T18:22:38.122Z","type":"message"}
{"nick":"mmalecki","message":"indutny: maybe a wiki page?","date":"2012-01-17T18:22:40.898Z","type":"message"}
{"nick":"mmalecki","message":"like, detailed one, not just referring to google","date":"2012-01-17T18:22:53.747Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: just tested it -> Extra space after \"[\"","date":"2012-01-17T18:23:36.853Z","type":"message"}
{"nick":"AndreasMadsen","message":"xtra space before \"]\"","date":"2012-01-17T18:23:40.781Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: Yes ' should be used, never \"","date":"2012-01-17T18:24:22.730Z","type":"message"}
{"nick":"sh1mmer","date":"2012-01-17T18:25:05.565Z","type":"join"}
{"nick":"indutny","message":"AndreasMadsen: jslint sucks :)","date":"2012-01-17T18:25:49.269Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: [/test/] is an exception to --^","date":"2012-01-17T18:25:53.965Z","type":"message"}
{"nick":"indutny","message":"but it's useful sometimes","date":"2012-01-17T18:25:56.736Z","type":"message"}
{"nick":"sh1mmer","reason":"Remote host closed the connection","date":"2012-01-17T18:26:10.052Z","type":"quit"}
{"nick":"AndreasMadsen","message":"indutny: I like it to have it in my code editor, catch many good things","date":"2012-01-17T18:26:32.115Z","type":"message"}
{"nick":"indutny","message":"and node is using it as a simple tool to keep style same everywhere","date":"2012-01-17T18:26:32.530Z","type":"message"}
{"nick":"sh1mmer","date":"2012-01-17T18:26:53.714Z","type":"join"}
{"nick":"AndreasMadsen","message":"indutny: Yes, but when there is so many errors I need to do `make jslint | grep cluster`","date":"2012-01-17T18:27:08.687Z","type":"message"}
{"nick":"AndreasMadsen","message":"Should not be required","date":"2012-01-17T18:27:20.764Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-01-17T18:30:43.374Z","type":"quit"}
{"nick":"mjr_","date":"2012-01-17T18:33:01.058Z","type":"join"}
{"nick":"`3rdEden","date":"2012-01-17T18:37:47.963Z","type":"join"}
{"nick":"luxigo","reason":"Remote host closed the connection","date":"2012-01-17T18:42:25.319Z","type":"quit"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Andreas Madsen\u000f \u000307v0.6\u000f * r\u00024865063\u000f \u000310\u000f/ (38 files in 4 dirs)\u0002:\u000f Tests: fix jslint issues - http://git.io/5KVUTA","date":"2012-01-17T18:46:18.343Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T18:54:24.707Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#265 (v0.6 - 4865063 : Andreas Madsen): The build was broken.","date":"2012-01-17T18:54:24.913Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/ca6eded...4865063","date":"2012-01-17T18:54:24.914Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/537029","date":"2012-01-17T18:54:24.914Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T18:54:24.914Z","type":"part"}
{"nick":"ryah_","message":"hello","date":"2012-01-17T18:59:13.827Z","type":"message"}
{"nick":"dshaw_","date":"2012-01-17T18:59:36.344Z","type":"join"}
{"nick":"piscisaureus_","message":"hello","date":"2012-01-17T19:00:04.696Z","type":"message"}
{"nick":"pksunkara","date":"2012-01-17T19:00:17.325Z","type":"part"}
{"nick":"indutny","message":"hi","date":"2012-01-17T19:00:31.095Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-01-17T19:03:56.639Z","type":"join"}
{"nick":"ryah_","action":"assigns people some random bugs","date":"2012-01-17T19:06:39.818Z","type":"action"}
{"nick":"indutny","message":":)","date":"2012-01-17T19:06:45.450Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: thanks for the landing you are amazing.","date":"2012-01-17T19:06:48.964Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I didn't land everything","date":"2012-01-17T19:06:58.348Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: there's some merge conflicts, some stuff I am not sure about","date":"2012-01-17T19:07:08.724Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I will tell you when I'm done","date":"2012-01-17T19:07:20.118Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: oooh","date":"2012-01-17T19:07:38.305Z","type":"message"}
{"nick":"indutny","message":"do not tell me about conflicts!","date":"2012-01-17T19:07:43.062Z","type":"message"}
{"nick":"indutny","message":"1.5 hours of merging that v8 patch into 3.6","date":"2012-01-17T19:07:49.422Z","type":"message"}
{"nick":"indutny","message":"soooo many conflicts","date":"2012-01-17T19:08:03.140Z","type":"message"}
{"nick":"indutny","message":"and they are so non-obvious...","date":"2012-01-17T19:08:09.936Z","type":"message"}
{"nick":"isaacs","date":"2012-01-17T19:08:28.633Z","type":"join"}
{"nick":"indutny","new_nick":"indutny_away","date":"2012-01-17T19:08:37.836Z","type":"nick"}
{"nick":"isaacs","message":"indutny_away: you work at yandex?","date":"2012-01-17T19:08:52.648Z","type":"message"}
{"nick":"indutny_away","message":"isaacs: surprise! :)","date":"2012-01-17T19:09:08.089Z","type":"message"}
{"nick":"ryah_","message":"russian spy","date":"2012-01-17T19:09:20.226Z","type":"message"}
{"nick":"indutny_away","message":"hahahaha","date":"2012-01-17T19:09:24.141Z","type":"message"}
{"nick":"ryah_","message":";)","date":"2012-01-17T19:09:24.354Z","type":"message"}
{"nick":"indutny_away","message":"bbiab","date":"2012-01-17T19:10:11.507Z","type":"message"}
{"nick":"ryah_","message":"bnoordhuis: you there?","date":"2012-01-17T19:10:30.014Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah_: bnoordhuis: igorzi: call?","date":"2012-01-17T19:14:49.317Z","type":"message"}
{"nick":"piscisaureus_","message":"or is it cancelled?","date":"2012-01-17T19:14:56.982Z","type":"message"}
{"nick":"ryah_","message":"not sure","date":"2012-01-17T19:16:39.576Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002892056b\u000f \u000310\u000f/ (8 files in 2 dirs)\u0002:\u000f tests: fix more lint issues - http://git.io/CHffhQ","date":"2012-01-17T19:17:24.063Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I landed all fixed I want to land","date":"2012-01-17T19:17:50.782Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: there's a few things I didn't like or there were conflicted","date":"2012-01-17T19:18:13.270Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: Okay, anything I should do?","date":"2012-01-17T19:18:13.745Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: yes, close the pull request","date":"2012-01-17T19:18:19.899Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: and add another one if there is stuff left you think that needs to be fixed","date":"2012-01-17T19:18:38.262Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: Okay - I will close and properly make a new one later","date":"2012-01-17T19:18:46.632Z","type":"message"}
{"nick":"AndreasMadsen","message":"Oh, you are so fast","date":"2012-01-17T19:18:59.493Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: Should I base the next on v0.6 or v0.7","date":"2012-01-17T19:21:05.815Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: on latest v0.6 branch","date":"2012-01-17T19:21:47.261Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah_: are you aware that process.on('exit') in parent do not fire when using isolates","date":"2012-01-17T19:22:35.714Z","type":"message"}
{"nick":"ryah_","message":"yeah","date":"2012-01-17T19:22:53.549Z","type":"message"}
{"nick":"ryah_","message":"we also have this very funky linked list for exit callbacks","date":"2012-01-17T19:23:08.313Z","type":"message"}
{"nick":"ryah_","message":"i'll add an issue for it","date":"2012-01-17T19:23:13.941Z","type":"message"}
{"nick":"AndreasMadsen","message":"Good","date":"2012-01-17T19:23:21.505Z","type":"message"}
{"nick":"ryah_","message":"AndreasMadsen: do you have a test for it that we can use?","date":"2012-01-17T19:23:26.961Z","type":"message"}
{"nick":"AndreasMadsen","message":"min","date":"2012-01-17T19:23:44.154Z","type":"message"}
{"nick":"AndreasMadsen","message":"This is how I detected it: https://github.com/AndreasMadsen/node-1/blob/1b36582c56888c42f9a445219f54194852e50cc0/test/simple/test-child-process-fork-kill.js","date":"2012-01-17T19:24:44.390Z","type":"message"}
{"nick":"AndreasMadsen","message":"But is a part of https://github.com/joyent/node/pull/2544","date":"2012-01-17T19:25:00.181Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T19:25:48.445Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#266 (v0.6 - 892056b : Bert Belder): The build is still failing.","date":"2012-01-17T19:25:48.656Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/4865063...892056b","date":"2012-01-17T19:25:48.657Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/537255","date":"2012-01-17T19:25:48.657Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T19:25:48.657Z","type":"part"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-01-17T19:32:06.916Z","type":"message"}
{"nick":"piscisaureus_","message":"is test-child-process-fork2 known for intermittent failure?","date":"2012-01-17T19:32:26.207Z","type":"message"}
{"nick":"mmalecki","message":"yes","date":"2012-01-17T19:32:29.752Z","type":"message"}
{"nick":"mmalecki","message":"it's racey","date":"2012-01-17T19:32:38.935Z","type":"message"}
{"nick":"piscisaureus_","message":"ok, that's sort of good news","date":"2012-01-17T19:32:41.669Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.6\u000f * r\u000254ad2f6\u000f \u000310\u000f/ doc/community/index.html \u0002:\u000f Link to Marak's module rap in community page - http://git.io/9PN2sw","date":"2012-01-17T19:34:50.951Z","type":"message"}
{"nick":"indutny_away","message":"^^^ nodejitsu ftw ^^^","date":"2012-01-17T19:36:09.910Z","type":"message"}
{"nick":"indutny_away","message":"ttyl, everyone","date":"2012-01-17T19:36:35.817Z","type":"message"}
{"nick":"indutny_away","message":"going to sleep","date":"2012-01-17T19:36:38.452Z","type":"message"}
{"nick":"mmalecki","message":"ryah_: ++, lol","date":"2012-01-17T19:37:52.552Z","type":"message"}
{"nick":"kohai","message":"ryah_ has 3 beers","date":"2012-01-17T19:37:52.762Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah: here you go https://github.com/joyent/node/pull/2564","date":"2012-01-17T19:40:23.000Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah_: ^","date":"2012-01-17T19:40:43.608Z","type":"message"}
{"nick":"ryah_","message":"great thanks","date":"2012-01-17T19:40:56.635Z","type":"message"}
{"nick":"AndreasMadsen","message":"ryah_: In return you could review that cluster patch -> https://github.com/joyent/node/pull/2470","date":"2012-01-17T19:42:43.632Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T19:42:56.709Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#267 (v0.6 - 54ad2f6 : Ryan Dahl): The build was fixed.","date":"2012-01-17T19:42:56.919Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/892056b...54ad2f6","date":"2012-01-17T19:42:56.919Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/537289","date":"2012-01-17T19:42:56.919Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T19:42:56.919Z","type":"part"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Andreas Madsen\u000f \u000307master\u000f * r\u00024a38795\u000f \u000310\u000f/ test/simple/test-isolates-parent-exit.js \u0002:\u000f ","date":"2012-01-17T19:43:49.600Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Add failing test case: parent on('exit')","date":"2012-01-17T19:43:49.821Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Fixes #2564 - http://git.io/MtY6Rg","date":"2012-01-17T19:43:49.821Z","type":"message"}
{"nick":"mraleph","date":"2012-01-17T19:49:19.561Z","type":"join"}
{"nick":"travis-ci","date":"2012-01-17T20:09:45.999Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#268 (master - 4a38795 : Andreas Madsen): The build is still failing.","date":"2012-01-17T20:09:46.206Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/7088487...4a38795","date":"2012-01-17T20:09:46.206Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/537348","date":"2012-01-17T20:09:46.206Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T20:09:46.206Z","type":"part"}
{"nick":"mikeal","date":"2012-01-17T20:34:37.754Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-01-17T20:45:01.454Z","type":"quit"}
{"nick":"AndreasMadsen","message":"ryah_: Please add a way to close the IPC channel when using isolate, else we can't gracefull kill cluster workers.","date":"2012-01-17T21:13:32.307Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah_: i am now","date":"2012-01-17T21:15:09.592Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-01-17T21:18:26.302Z","type":"quit"}
{"nick":"bradleymeck","message":"any chance we can get a way to let fork worker processes gracefully die too? (right now i have uv_unref() twice via C++)","date":"2012-01-17T21:18:53.764Z","type":"message"}
{"nick":"AndreasMadsen","message":"bradleymeck: this is the same, cluster use fork :)","date":"2012-01-17T21:20:06.872Z","type":"message"}
{"nick":"bradleymeck","message":"but you were talking isolates ","date":"2012-01-17T21:20:20.114Z","type":"message"}
{"nick":"bradleymeck","message":"i just want the child_process ipc to have a graceful exit","date":"2012-01-17T21:20:32.254Z","type":"message"}
{"nick":"AndreasMadsen","message":"bradleymeck: https://github.com/joyent/node/pull/2426","date":"2012-01-17T21:20:34.051Z","type":"message"}
{"nick":"bradleymeck","message":"mmm that sounds a bit different than my idea","date":"2012-01-17T21:21:11.258Z","type":"message"}
{"nick":"AndreasMadsen","message":"bradleymeck: care to explain ?","date":"2012-01-17T21:21:42.666Z","type":"message"}
{"nick":"bradleymeck","message":"we have a worker that does some stuff which is logged by the parent (including some events which can update our DB) and we don't know how many retries etc will happen in it so we let it do it's thing, when there are no callbacks/io left we let it die","date":"2012-01-17T21:22:23.999Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-01-17T21:22:33.255Z","type":"quit"}
{"nick":"bradleymeck","message":"we still want them able to communicate, just not forced open by the ipc channel","date":"2012-01-17T21:22:39.848Z","type":"message"}
{"nick":"bradleymeck","message":"a good example is gf3's sandbox which we are testing out something like google apps script with","date":"2012-01-17T21:23:29.346Z","type":"message"}
{"nick":"AndreasMadsen","message":"bradleymeck: oh like the persistent options is when watching a file","date":"2012-01-17T21:24:09.119Z","type":"message"}
{"nick":"bradleymeck","message":"watching a file, or running something you don't know when it will be done","date":"2012-01-17T21:24:43.647Z","type":"message"}
{"nick":"bradleymeck","message":"but ya similar","date":"2012-01-17T21:24:55.390Z","type":"message"}
{"nick":"AndreasMadsen","message":"bradleymeck: yes I agree that would be nice and very difficult to implement in userland.","date":"2012-01-17T21:26:29.090Z","type":"message"}
{"nick":"bradleymeck","message":"you can do it pretty easy, but its just kind of wierd to uv_unref twice at start","date":"2012-01-17T21:26:58.878Z","type":"message"}
{"nick":"bradleymeck","message":"instead of the parent just stating that it should allow for graceful death","date":"2012-01-17T21:27:18.801Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-01-17T21:35:15.943Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: hey","date":"2012-01-17T21:38:33.740Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: https://github.com/joyent/libuv/pull/217","date":"2012-01-17T21:38:35.380Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: off the top of your head, any idea what's preventing pulling some of that into libuv?  looks like the patch needs a rebase.","date":"2012-01-17T21:38:57.619Z","type":"message"}
{"nick":"isaacs","message":"ryah_, igorzi: feel free to weigh in as well ^","date":"2012-01-17T21:39:18.143Z","type":"message"}
{"nick":"isaacs","message":"(re udb set multicast loop and set multicast ttl)","date":"2012-01-17T21:39:38.194Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-01-17T21:40:10.828Z","type":"join"}
{"nick":"dshaw_","date":"2012-01-17T21:40:34.572Z","type":"join"}
{"nick":"pietern","reason":"Ping timeout: 276 seconds","date":"2012-01-17T21:41:06.091Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: i think i lgtm'd that patch on irc a while ago, just never landed it","date":"2012-01-17T21:41:54.261Z","type":"message"}
{"nick":"isaacs","message":"ok, cool","date":"2012-01-17T21:47:18.604Z","type":"message"}
{"nick":"isaacs","message":"if we could get it in 0.7, that'd be awesome.","date":"2012-01-17T21:47:23.997Z","type":"message"}
{"nick":"isaacs","message":"github says it won't apply cleanly, but github is kind of an idiot sometimes.","date":"2012-01-17T21:47:38.203Z","type":"message"}
{"nick":"isaacs","message":"it looks like the goal was to get it into 0.6, but it didn't quite make the cut.  oh well.","date":"2012-01-17T21:48:24.571Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah everybody just kinda forgot about it","date":"2012-01-17T21:49:39.070Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: will you be in the office this week?","date":"2012-01-17T21:49:53.524Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes, probably thursday","date":"2012-01-17T21:50:20.504Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why? miss me?","date":"2012-01-17T21:50:43.966Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah *snif*","date":"2012-01-17T21:51:01.415Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I want to sit down to get the handle list stuff done for as much as it is needed for isolates","date":"2012-01-17T21:51:35.215Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am postponing domains work for a while, can't find an api that feels right","date":"2012-01-17T21:51:54.401Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: did you see substack's toss thing?","date":"2012-01-17T21:52:12.501Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and I want to cut back on the issues backlog","date":"2012-01-17T21:52:16.844Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm curious about your thoughts on it.","date":"2012-01-17T21:52:18.770Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: no","date":"2012-01-17T21:52:21.873Z","type":"message"}
{"nick":"isaacs","message":"https://github.com/substack/node-toss","date":"2012-01-17T21:52:35.480Z","type":"message"}
{"nick":"isaacs","message":"it's just pure js, no lowlevel stuff, but it's a pretty nice api for doing timeouts and cancelling.","date":"2012-01-17T21:52:55.255Z","type":"message"}
{"nick":"isaacs","message":"could maybe provide some inspiration.","date":"2012-01-17T21:53:19.773Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: he's taking a path that I don't want to take","date":"2012-01-17T21:53:47.776Z","type":"message"}
{"nick":"piscisaureus_","message":"(wrapping all callbacks)","date":"2012-01-17T21:53:51.715Z","type":"message"}
{"nick":"isaacs","message":"for sure","date":"2012-01-17T21:53:56.909Z","type":"message"}
{"nick":"piscisaureus_","message":"but it's close to what I have in mind","date":"2012-01-17T21:54:05.065Z","type":"message"}
{"nick":"isaacs","message":"it'd be interesting to maybe make it a goal to let him write toss with less ceremony.","date":"2012-01-17T21:54:21.879Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well that's one of the issues I am struggling with too... we can't really tell if a function is a callback","date":"2012-01-17T21:54:57.992Z","type":"message"}
{"nick":"isaacs","message":"i'm not sure how you'd be able to get around some of the cb-wrapping to do what he's after, though.","date":"2012-01-17T21:55:03.255Z","type":"message"}
{"nick":"isaacs","message":"unless we go back to c++ eventemitters which... ugh.  no thakns.","date":"2012-01-17T21:55:13.668Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well... that's not really needed","date":"2012-01-17T21:55:52.239Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-01-17T21:55:58.350Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but EventEmitter *is* sort of a special case","date":"2012-01-17T21:56:06.063Z","type":"message"}
{"nick":"isaacs","message":"you really only need to capture the functions that go into the event loop.","date":"2012-01-17T21:56:09.597Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah well, and emitted events","date":"2012-01-17T21:56:20.667Z","type":"message"}
{"nick":"piscisaureus_","message":"so we have to patch EventEmitter","date":"2012-01-17T21:56:28.663Z","type":"message"}
{"nick":"isaacs","message":"ew ew ew","date":"2012-01-17T21:56:34.422Z","type":"message"}
{"nick":"isaacs","message":"that's kind of gross.","date":"2012-01-17T21:56:40.335Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-01-17T21:56:45.938Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: suddenly EventEmitter2 does something horribly wrong","date":"2012-01-17T21:56:58.053Z","type":"message"}
{"nick":"isaacs","message":"EE should be pure JS","date":"2012-01-17T21:57:13.005Z","type":"message"}
{"nick":"piscisaureus_","message":"because it does not understand domains magic","date":"2012-01-17T21:57:16.465Z","type":"message"}
{"nick":"isaacs","message":"what if we said that domains only cover things that go into the C++ layer?","date":"2012-01-17T21:57:24.253Z","type":"message"}
{"nick":"isaacs","message":"forget emitted evetns.","date":"2012-01-17T21:57:30.597Z","type":"message"}
{"nick":"isaacs","message":"only callbacks.","date":"2012-01-17T21:57:32.804Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well there you have one","date":"2012-01-17T21:57:40.376Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: multiple setTimeout calls can share an uv_timer","date":"2012-01-17T21:58:06.278Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-01-17T21:58:09.978Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so suddenly we can't properly propagate the domain through a setTimeout call","date":"2012-01-17T21:58:40.759Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: there are similar issues in userland modules","date":"2012-01-17T21:59:12.539Z","type":"message"}
{"nick":"isaacs","message":"i see.","date":"2012-01-17T21:59:36.856Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: for example my database driver lazily makes a connection to the database on the first query","date":"2012-01-17T21:59:37.064Z","type":"message"}
{"nick":"isaacs","message":"because the timer would be in the domain.","date":"2012-01-17T21:59:48.069Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-01-17T21:59:55.313Z","type":"message"}
{"nick":"isaacs","message":"here's a thought... what if a domain object had a setTimeout and setInterval method?","date":"2012-01-17T22:00:09.856Z","type":"message"}
{"nick":"isaacs","message":"and the \"global\" ones would all use the same domain?","date":"2012-01-17T22:00:20.687Z","type":"message"}
{"nick":"isaacs","message":"nevermind, that's dumb.","date":"2012-01-17T22:00:25.456Z","type":"message"}
{"nick":"felixge","date":"2012-01-17T22:01:06.444Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-01-17T22:01:06.656Z","type":"quit"}
{"nick":"felixge","date":"2012-01-17T22:01:06.656Z","type":"join"}
{"nick":"isaacs","message":"domain(function (d) { files.forEach(function (f) { fs.readFile(f, function (er, data) { if (er) return d.cancel(); setTimeout(...) }) }) })","date":"2012-01-17T22:01:21.153Z","type":"message"}
{"nick":"isaacs","message":"if that setTimeout is a different domain than the fs.readFile, then it's surprising","date":"2012-01-17T22:01:32.983Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-01-17T22:01:41.779Z","type":"message"}
{"nick":"isaacs","message":"but you always call setTimeout from the global object","date":"2012-01-17T22:01:56.425Z","type":"message"}
{"nick":"isaacs","message":"so you need to always have some sense of the \"currentDomain\" on the global","date":"2012-01-17T22:02:08.223Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yup","date":"2012-01-17T22:02:12.753Z","type":"message"}
{"nick":"isaacs","message":"(or, at least, somewhere accessible by setTimeout)","date":"2012-01-17T22:02:18.195Z","type":"message"}
{"nick":"isaacs","message":"and i guess it could just do currentDomain.setTimeout() instead...","date":"2012-01-17T22:02:28.563Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this problem is not really a problem, we could use the global.setTimeout just as easily","date":"2012-01-17T22:03:10.644Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but consider this: ... (coming up)","date":"2012-01-17T22:03:32.204Z","type":"message"}
{"nick":"isaacs","action":"makes some popcorn...","date":"2012-01-17T22:03:41.290Z","type":"action"}
{"nick":"bnoordhuis","message":"piscisaureus_: okay, i'll drop by thursday. make sure there's beer in the fridge","date":"2012-01-17T22:05:18.122Z","type":"message"}
{"nick":"bnoordhuis","message":"and not heineken or amstel >:(","date":"2012-01-17T22:05:25.337Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002e493b29\u000f \u000310\u000f/ (.gitignore Makefile configure)\u0002:\u000f build: respect --debug configure switch - http://git.io/YKC1rQ","date":"2012-01-17T22:07:16.272Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: https://gist.github.com/1629308","date":"2012-01-17T22:07:16.484Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so.... here's the thing:","date":"2012-01-17T22:08:13.696Z","type":"message"}
{"nick":"isaacs","message":"every time you \"escape\" the stack, you're doing so by one of two ways:","date":"2012-01-17T22:08:23.422Z","type":"message"}
{"nick":"isaacs","message":"1. a timeout","date":"2012-01-17T22:08:27.229Z","type":"message"}
{"nick":"isaacs","message":"2. doing IO","date":"2012-01-17T22:08:39.325Z","type":"message"}
{"nick":"piscisaureus_","message":"3. nextTick","date":"2012-01-17T22:08:43.770Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-01-17T22:08:49.795Z","type":"message"}
{"nick":"isaacs","message":"ok, 3 ways ;)","date":"2012-01-17T22:08:53.083Z","type":"message"}
{"nick":"TooTallNate","message":"4. thread loop","date":"2012-01-17T22:08:54.618Z","type":"message"}
{"nick":"isaacs","message":"let's forget threads for now","date":"2012-01-17T22:09:01.269Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: true","date":"2012-01-17T22:09:28.949Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so ideally you would set the domain every time you enter JS from the event loop","date":"2012-01-17T22:09:48.592Z","type":"message"}
{"nick":"isaacs","message":"my point is, we don't have to wrap EE, because events are either pure JS (and blocking, so never escape the domain) or go through an IO call, in which case, they're either a new child domain, or inherit the parent, but we can trap it there.","date":"2012-01-17T22:09:51.484Z","type":"message"}
{"nick":"isaacs","message":"exactly","date":"2012-01-17T22:09:59.802Z","type":"message"}
{"nick":"isaacs","message":"each tick of the event loop has exactly one domain associated with it","date":"2012-01-17T22:10:11.170Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the thing is, if you really try to use this model you hit a lot of snags","date":"2012-01-17T22:10:32.076Z","type":"message"}
{"nick":"isaacs","message":"like?","date":"2012-01-17T22:10:43.706Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: sometimes you need to bridge from one domain to another","date":"2012-01-17T22:10:47.836Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: 2 domains sharing a timer is the simple case","date":"2012-01-17T22:11:15.572Z","type":"message"}
{"nick":"isaacs","message":"can we just say that domains don't share timers?","date":"2012-01-17T22:11:33.075Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: 2 domains sharing a database connection is more difficult because the library author needs to do it","date":"2012-01-17T22:11:46.241Z","type":"message"}
{"nick":"isaacs","message":"or have the timer store the cb and domain, as well as the cb?","date":"2012-01-17T22:11:51.241Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: have you seen https://github.com/joyent/node/issues/2562","date":"2012-01-17T22:11:58.305Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: i have now","date":"2012-01-17T22:12:22.147Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the stuff where it touches userland modules is trickier, i agree.","date":"2012-01-17T22:12:30.033Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: sometimes you want to emit events from one domain into another","date":"2012-01-17T22:12:41.253Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: on unix, what keeps the child event-loop alive?","date":"2012-01-17T22:12:56.144Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what if we said that domains can only talk to one another via async message passing?","date":"2012-01-17T22:13:22.077Z","type":"message"}
{"nick":"isaacs","message":"or something similarly restrictive.","date":"2012-01-17T22:13:34.628Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's what ryah suggested too","date":"2012-01-17T22:13:36.577Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: hrm, you ask difficult questions","date":"2012-01-17T22:13:43.948Z","type":"message"}
{"nick":"isaacs","message":"oh, but you wanna pass an actual object, not a serialized thing.","date":"2012-01-17T22:13:46.529Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: of course","date":"2012-01-17T22:13:54.933Z","type":"message"}
{"nick":"isaacs","message":"but still, it could be a bit like a nextTick into that other domain","date":"2012-01-17T22:13:57.973Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that's not really the difficult part","date":"2012-01-17T22:14:04.102Z","type":"message"}
{"nick":"isaacs","message":"var connection = getConnection(); otherDomain.enter(function () { connection.doSomething() })","date":"2012-01-17T22:14:27.792Z","type":"message"}
{"nick":"isaacs","message":"that gets hairy.","date":"2012-01-17T22:14:32.907Z","type":"message"}
{"nick":"isaacs","message":"if connection.doSomething() does so IO, does it happen in connection's domain, or in otherDomain?","date":"2012-01-17T22:15:05.781Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: is it possible that process.env.NODE_CHANNEL_FD is somehow set in the child isolate? causing this code-path? https://github.com/joyent/node/blob/master/src/node.js#L433","date":"2012-01-17T22:15:51.052Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if you want to think with me on this issue you're very welcome :-)","date":"2012-01-17T22:16:05.462Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: am i getting to the tough spot, as you see it?","date":"2012-01-17T22:16:39.648Z","type":"message"}
{"nick":"isaacs","message":"i'm happy to get us both simmering on this","date":"2012-01-17T22:16:59.162Z","type":"message"}
{"nick":"isaacs","message":"just wanna make sure i'm there with you, and not doing something unhelpful :)","date":"2012-01-17T22:17:07.635Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: haha","date":"2012-01-17T22:17:13.788Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well I have had some conversations with ryah about this but I never really got really comfortable with any of the proposals","date":"2012-01-17T22:17:36.569Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so if you can help me that'd be great","date":"2012-01-17T22:17:52.226Z","type":"message"}
{"nick":"isaacs","message":"i think pquerna had some thoughts on this, at least, he seemed skeptical of domains' feasibility.","date":"2012-01-17T22:17:56.131Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: i don't think so, the isolates code in lib/child_process.js ignores the environment","date":"2012-01-17T22:17:57.009Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: ok good","date":"2012-01-17T22:18:19.148Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: at some point I had this proposal: https://gist.github.com/d50183eb434370cafe6a","date":"2012-01-17T22:19:11.366Z","type":"message"}
{"nick":"brson","date":"2012-01-17T22:19:33.667Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: but I was never really happy with the second part (that's about streams)","date":"2012-01-17T22:19:45.046Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:20:47.874Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#269 (master - e493b29 : Ben Noordhuis): The build is still failing.","date":"2012-01-17T22:20:48.083Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/4a38795...e493b29","date":"2012-01-17T22:20:48.083Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/538030","date":"2012-01-17T22:20:48.083Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:20:48.083Z","type":"part"}
{"nick":"piscisaureus_","message":"isaacs: the bottom line is basically this at some point you want to delegate some work to be done in a domain, but somehow \"results\" need to flow out","date":"2012-01-17T22:23:47.506Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yes.","date":"2012-01-17T22:24:00.870Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if the result is a simple value its easy, but if it is a stream of events or messages it gets more hairy","date":"2012-01-17T22:24:24.610Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: also, you want to be able to have the db connection crash, and take with it all the domains tied to that work, without killing other things","date":"2012-01-17T22:24:33.350Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-01-17T22:24:41.553Z","type":"message"}
{"nick":"isaacs","message":"even if those other things have references to connections to the db.","date":"2012-01-17T22:24:42.707Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: this is probably all very well possible","date":"2012-01-17T22:25:51.633Z","type":"message"}
{"nick":"isaacs","message":"what you really want is to have the db, template/fs stuff, and http request (let's say) to all be siblings.","date":"2012-01-17T22:25:54.754Z","type":"message"}
{"nick":"piscisaureus_","message":"but I don't want to create a fuckton of api surface","date":"2012-01-17T22:26:00.623Z","type":"message"}
{"nick":"isaacs","message":"but if a request requires a web service request to some backend server, it should be under teh same domain as the initial request.","date":"2012-01-17T22:26:16.806Z","type":"message"}
{"nick":"isaacs","message":"and a failure (or any thrown error) should be catchable, and result in a 500 response","date":"2012-01-17T22:26:33.120Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-01-17T22:26:41.537Z","type":"message"}
{"nick":"piscisaureus_","message":"exactly","date":"2012-01-17T22:26:47.185Z","type":"message"}
{"nick":"isaacs","message":"yeah, you definitely do not want a lot of api surface, i agree.","date":"2012-01-17T22:26:54.406Z","type":"message"}
{"nick":"isaacs","message":"in my mind, they nest like subshells.","date":"2012-01-17T22:26:59.660Z","type":"message"}
{"nick":"isaacs","message":"and if you kill the parent, it kills all the children.","date":"2012-01-17T22:27:21.455Z","type":"message"}
{"nick":"isaacs","message":"and if you have a reference to something in a sibling, you can do stuff with it, but then we have almost like a shared-memory issue","date":"2012-01-17T22:28:00.935Z","type":"message"}
{"nick":"isaacs","message":"not quite as bad, but still kind of sticky","date":"2012-01-17T22:28:18.555Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the only thing we can do about that is disallow it","date":"2012-01-17T22:28:52.874Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs, otherwise you get something like","date":"2012-01-17T22:29:15.314Z","type":"message"}
{"nick":"isaacs","message":"that kind of sucks then, right?","date":"2012-01-17T22:29:17.785Z","type":"message"}
{"nick":"isaacs","message":"unless we have to say that the shared db connection is a parent domain of the http request domains","date":"2012-01-17T22:29:36.110Z","type":"message"}
{"nick":"piscisaureus_","message":".// stream is in domain1","date":"2012-01-17T22:30:04.892Z","type":"message"}
{"nick":"piscisaureus_","message":".// execution scope is in domain2","date":"2012-01-17T22:30:05.105Z","type":"message"}
{"nick":"piscisaureus_","message":".stream.write('foo', function() {","date":"2012-01-17T22:30:05.105Z","type":"message"}
{"nick":"piscisaureus_","message":". // runs in domain1 or domain2?","date":"2012-01-17T22:30:05.106Z","type":"message"}
{"nick":"piscisaureus_","message":".});","date":"2012-01-17T22:30:05.106Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: :-)","date":"2012-01-17T22:30:25.093Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: exactly","date":"2012-01-17T22:30:27.978Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but now callbacks that arise from shared connection run in the wrong domain","date":"2012-01-17T22:30:49.670Z","type":"message"}
{"nick":"isaacs","message":"well... i'd like to say that the function would be run in whatever domain was active at the time that it got called.","date":"2012-01-17T22:31:09.676Z","type":"message"}
{"nick":"isaacs","message":"but then if you have 10 requests in progress, you could be all kinds of awful.","date":"2012-01-17T22:31:19.424Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Dan Williams\u000f \u000307v0.6\u000f * r\u0002091ab85\u000f \u000310\u000f/ doc/api/appendix_1.markdown \u0002:\u000f docs: replace expresso with mocha in appendix 1 - http://git.io/159kfw","date":"2012-01-17T22:31:33.976Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Dan Williams\u000f \u000307master\u000f * r\u000229ce743\u000f \u000310\u000f/ doc/api/cluster.markdown \u0002:\u000f docs: fix syntax error on cluster api docs - http://git.io/k6juOg","date":"2012-01-17T22:31:40.280Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: heh the function itself can run in the active domain, but what about the callback","date":"2012-01-17T22:31:42.523Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-01-17T22:31:43.550Z","type":"message"}
{"nick":"isaacs","message":"the alternative is that functions run in the domain where they're created, but now we have to hijack the Function thing in v8","date":"2012-01-17T22:31:43.844Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes we are not going to do that period","date":"2012-01-17T22:32:07.822Z","type":"message"}
{"nick":"piscisaureus_","message":"(hacking v8)","date":"2012-01-17T22:32:10.488Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: right, so you get towards EE objects having to be associated with a single domain.","date":"2012-01-17T22:32:13.792Z","type":"message"}
{"nick":"isaacs","message":"or, wrapping cb's","date":"2012-01-17T22:32:22.588Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-01-17T22:32:30.722Z","type":"message"}
{"nick":"isaacs","message":"i think we could say that EE's are tied to the domain where they're created.","date":"2012-01-17T22:32:59.934Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: iow, either you can only interact with an EE in the domain that created it","date":"2012-01-17T22:33:05.009Z","type":"message"}
{"nick":"isaacs","message":"and then provide a cb-wrapping approach as a way to get out of that","date":"2012-01-17T22:33:10.334Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-01-17T22:33:15.331Z","type":"message"}
{"nick":"piscisaureus_","message":"so","date":"2012-01-17T22:33:16.141Z","type":"message"}
{"nick":"isaacs","message":"ie, you could like bind a function to a domain by wrapping it","date":"2012-01-17T22:33:19.320Z","type":"message"}
{"nick":"piscisaureus_","message":"domain.bind(function() { });","date":"2012-01-17T22:33:22.382Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-01-17T22:33:25.885Z","type":"message"}
{"nick":"isaacs","message":"i think at least then you could be explicit about it, and the default could be reasonable.","date":"2012-01-17T22:33:55.461Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok now we have 2 issues left:","date":"2012-01-17T22:34:05.410Z","type":"message"}
{"nick":"piscisaureus_","message":"(1) we have to insert checks to prevent people from interacting with an EE from another domain. expensive","date":"2012-01-17T22:34:29.670Z","type":"message"}
{"nick":"isaacs","message":"1 isn't just expensive.  it's also annoying.","date":"2012-01-17T22:34:45.555Z","type":"message"}
{"nick":"piscisaureus_","message":"(2) People rely on callbacks for control flow","date":"2012-01-17T22:35:05.239Z","type":"message"}
{"nick":"piscisaureus_","message":"ee.on('close', domain.bind(function(result) {","date":"2012-01-17T22:35:58.387Z","type":"message"}
{"nick":"piscisaureus_","message":"  connection.resume();","date":"2012-01-17T22:35:58.593Z","type":"message"}
{"nick":"piscisaureus_","message":"}));","date":"2012-01-17T22:35:58.593Z","type":"message"}
{"nick":"piscisaureus_","message":"If ee's domain dies, the callback will never happen","date":"2012-01-17T22:36:13.747Z","type":"message"}
{"nick":"piscisaureus_","message":"suddenly we've lost all the graceful cleanup that a domain promised","date":"2012-01-17T22:36:31.067Z","type":"message"}
{"nick":"isaacs","message":"ee.domain.on(\"end\", function () { ... })","date":"2012-01-17T22:36:45.830Z","type":"message"}
{"nick":"isaacs","message":"what about something like that?","date":"2012-01-17T22:37:01.874Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: sure","date":"2012-01-17T22:37:07.506Z","type":"message"}
{"nick":"isaacs","message":"ee.on(\"close\", ee.domain.end.bind(ee.domain))","date":"2012-01-17T22:37:24.675Z","type":"message"}
{"nick":"isaacs","message":"then the domain could be ended by the EE emitting \"close\", or by an error, or by timing out, etc.","date":"2012-01-17T22:38:02.735Z","type":"message"}
{"nick":"isaacs","message":"when it ends, all the EE's associated with it are neutralized, so they never emit anything again","date":"2012-01-17T22:38:21.280Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000301ee.on('5times', domain.bind(function(buf) {\u0003\u000301","date":"2012-01-17T22:38:25.538Z","type":"message"}
{"nick":"piscisaureus_","message":"  if (++count == 5) connection.resume();","date":"2012-01-17T22:38:25.747Z","type":"message"}
{"nick":"piscisaureus_","message":"});","date":"2012-01-17T22:38:25.747Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the best thing I could think of is close to erlang","date":"2012-01-17T22:38:59.817Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: 2 domains can interact but if they do they jeopardize themselves","date":"2012-01-17T22:39:25.611Z","type":"message"}
{"nick":"piscisaureus_","message":"if the \"other domains\" dies, you will too","date":"2012-01-17T22:39:35.204Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:39:37.382Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#270 (v0.6 - 091ab85 : Dan Williams): The build passed.","date":"2012-01-17T22:39:37.589Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/54ad2f6...091ab85","date":"2012-01-17T22:39:37.589Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/538158","date":"2012-01-17T22:39:37.589Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:39:37.589Z","type":"part"}
{"nick":"piscisaureus_","message":"unless you have an explicit \"death\" handler for the other domain","date":"2012-01-17T22:40:09.967Z","type":"message"}
{"nick":"isaacs","message":"how would you detect if domainA \"interacted\" with domainB?","date":"2012-01-17T22:40:40.171Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: domain.bindTo(ee.domain, function() {","date":"2012-01-17T22:41:15.382Z","type":"message"}
{"nick":"piscisaureus_","message":"terrible but works","date":"2012-01-17T22:41:23.495Z","type":"message"}
{"nick":"piscisaureus_","message":"iow the bind function only works if you specify 2 domains","date":"2012-01-17T22:41:49.382Z","type":"message"}
{"nick":"isaacs","message":"i see.  so, in that case, it says \"ee.domain !== the current domain, so this is a link\"","date":"2012-01-17T22:41:49.670Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-01-17T22:42:02.055Z","type":"message"}
{"nick":"isaacs","message":"am i grokking that properly?","date":"2012-01-17T22:42:02.262Z","type":"message"}
{"nick":"piscisaureus_","message":"it is terrible though","date":"2012-01-17T22:42:11.489Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-01-17T22:42:14.346Z","type":"message"}
{"nick":"isaacs","message":"that's a lot of api","date":"2012-01-17T22:42:16.400Z","type":"message"}
{"nick":"piscisaureus_","message":"it looks gross","date":"2012-01-17T22:42:27.450Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-01-17T22:42:51.537Z","type":"message"}
{"nick":"igorzi_","date":"2012-01-17T22:43:26.987Z","type":"join"}
{"nick":"piscisaureus_","message":"brb","date":"2012-01-17T22:44:29.155Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:44:32.678Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#271 (master - 29ce743 : Dan Williams): The build is still failing.","date":"2012-01-17T22:44:32.885Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/e493b29...29ce743","date":"2012-01-17T22:44:32.885Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/538161","date":"2012-01-17T22:44:32.885Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T22:44:32.885Z","type":"part"}
{"nick":"igorzi","reason":"Ping timeout: 258 seconds","date":"2012-01-17T22:45:13.976Z","type":"quit"}
{"nick":"pietern","date":"2012-01-17T22:45:59.828Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 252 seconds","date":"2012-01-17T23:02:22.797Z","type":"quit"}
{"nick":"igorzi_","message":"ryah bnoordhuis piscisaureus_: https://gist.github.com/1629476","date":"2012-01-17T23:03:20.037Z","type":"message"}
{"nick":"igorzi_","message":"ryah bnoordhuis piscisaureus_: libuv api changes to support sharing sockets between isolates","date":"2012-01-17T23:03:42.603Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-01-17T23:03:58.691Z","type":"quit"}
{"nick":"perezd_","date":"2012-01-17T23:09:56.091Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 252 seconds","date":"2012-01-17T23:10:12.976Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-01-17T23:10:13.258Z","type":"nick"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-01-17T23:12:49.089Z","type":"quit"}
{"nick":"dap","date":"2012-01-17T23:13:12.478Z","type":"join"}
{"nick":"piscisaureus_","message":"looks fine","date":"2012-01-17T23:16:37.450Z","type":"message"}
{"nick":"piscisaureus_","message":"I considerd whether uv_tcp_dup(source, target, toop) would be better but it would require synchronization between loops","date":"2012-01-17T23:17:14.144Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/commit/f363709 <- is this a good idea?","date":"2012-01-17T23:17:15.540Z","type":"message"}
{"nick":"piscisaureus_","message":"so this is prolly better","date":"2012-01-17T23:17:17.835Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_ piscisaureus_: shouldn't we have a more general approach? something like uv_handle_detach(handle) / uv_handle_attach(loop, handle)?","date":"2012-01-17T23:18:14.100Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that would work only for handle *transfer* right, not for sharing?","date":"2012-01-17T23:18:55.502Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, if you want to send over a handle, not clone it","date":"2012-01-17T23:18:58.415Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, precisely","date":"2012-01-17T23:19:05.100Z","type":"message"}
{"nick":"igorzi_","message":"bnoordhuis: so, we're planning to let isolates pass more handles between each other compared to processes?","date":"2012-01-17T23:21:00.897Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_: more handles?","date":"2012-01-17T23:21:21.312Z","type":"message"}
{"nick":"igorzi_","message":"besides TCP servers","date":"2012-01-17T23:21:33.505Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right","date":"2012-01-17T23:21:39.337Z","type":"message"}
{"nick":"igorzi_","message":"that should be \"more handle types\"","date":"2012-01-17T23:21:48.064Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, udp handles for example","date":"2012-01-17T23:21:48.695Z","type":"message"}
{"nick":"bnoordhuis","message":"but that's something that should be fixed for child process too","date":"2012-01-17T23:22:17.083Z","type":"message"}
{"nick":"bnoordhuis","message":"*processes","date":"2012-01-17T23:22:31.605Z","type":"message"}
{"nick":"igorzi_","message":"bnoordhuis: so, you're saying you want a more general api for transferring all types of handles (not just TCP), right?","date":"2012-01-17T23:24:03.965Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_: yes","date":"2012-01-17T23:24:25.604Z","type":"message"}
{"nick":"igorzi_","message":"bnoordhuis: also, as piscisaureus_ said - detach/attach is for transferring, but with tcp servers it's sharing (the detached tcp handle should still work)","date":"2012-01-17T23:24:53.541Z","type":"message"}
{"nick":"bnoordhuis","message":"otoh, i could live with a tcp-only solution for now","date":"2012-01-17T23:24:53.832Z","type":"message"}
{"nick":"mrb_bk","reason":"Read error: Connection reset by peer","date":"2012-01-17T23:25:37.533Z","type":"quit"}
{"nick":"Raynos","reason":"Write error: Broken pipe","date":"2012-01-17T23:25:38.046Z","type":"quit"}
{"nick":"bnoordhuis","message":"igorzi_: yeah, i suppose uv_handle_dup() is a better name","date":"2012-01-17T23:28:52.560Z","type":"message"}
{"nick":"Raynos","date":"2012-01-17T23:30:54.177Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-01-17T23:32:25.381Z","type":"quit"}
{"nick":"bnoordhuis","message":"who here feels most responsible for the cluster module?","date":"2012-01-17T23:42:58.887Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002d44ce97\u000f \u000310\u000f/ (2 files in 2 dirs)\u0002:\u000f ","date":"2012-01-17T23:46:40.315Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f cluster: don't always kill the master on uncaughtException","date":"2012-01-17T23:46:40.529Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f uncaughtException handlers installed by the user override the default one that","date":"2012-01-17T23:46:40.529Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f the cluster module installs, the one that kills off the master process.","date":"2012-01-17T23:46:40.529Z","type":"message"}
{"nick":"CIA-115","message":"\u0002node:\u000f Fixes #2556. - http://git.io/VRYfsQ","date":"2012-01-17T23:46:40.529Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-01-17T23:47:39.942Z","type":"quit"}
{"nick":"igorzi_","message":"bnoordhuis: so any idea on https://github.com/joyent/node/issues/2562?  if we knew how the child isolate stays alive - then we could decide on what's the best way to fix this","date":"2012-01-17T23:52:36.596Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_: i suspect it's a reference counting bug in uv-unix","date":"2012-01-17T23:53:32.765Z","type":"message"}
{"nick":"piscisaureus_","message":"or on windows :-)","date":"2012-01-17T23:54:07.862Z","type":"message"}
{"nick":"piscisaureus_","message":"oh wait windows is bug-free","date":"2012-01-17T23:54:27.308Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T23:54:31.827Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#272 (v0.6 - d44ce97 : Ben Noordhuis): The build passed.","date":"2012-01-17T23:54:32.040Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/091ab85...d44ce97","date":"2012-01-17T23:54:32.040Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/538590","date":"2012-01-17T23:54:32.040Z","type":"message"}
{"nick":"travis-ci","date":"2012-01-17T23:54:32.040Z","type":"part"}
{"nick":"igorzi_","message":"bnoordhuis: right :)","date":"2012-01-17T23:55:28.644Z","type":"message"}
{"nick":"Raynos","reason":"Read error: Connection reset by peer","date":"2012-01-17T23:55:44.936Z","type":"quit"}
{"nick":"piscisaureus_","message":"will there be a nodeconf just after jsconf just like last year?","date":"2012-01-17T23:57:26.279Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'm not sure when nodeconf will be.  i know mikeal is working on it.","date":"2012-01-17T23:57:38.444Z","type":"message"}
{"nick":"piscisaureus_","message":"if it's gonna be just after jsconf it would be nice to know :-)","date":"2012-01-17T23:57:56.105Z","type":"message"}
{"nick":"piscisaureus_","message":"tomorrow is jsconf ticket sale","date":"2012-01-17T23:58:02.283Z","type":"message"}
{"nick":"igorzi_","message":"bnoordhuis: i debugged this on windows yesterday, the child isolate creates 2 handles: uv_tty_t (for stdout), which is artificially unref'ed; and uv_async_t, which is also unref'ed","date":"2012-01-17T23:58:05.339Z","type":"message"}
{"nick":"isaacs","message":"yes","date":"2012-01-17T23:58:06.253Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you should come to jsconf anyway :)","date":"2012-01-17T23:58:11.780Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi_: can you apply this patch, then run test-isolates1?  piscisaureus_: is ","date":"2012-01-17T23:59:19.298Z","type":"message"}
{"nick":"bnoordhuis","message":"ehh...","date":"2012-01-17T23:59:23.380Z","type":"message"}
{"nick":"bnoordhuis","message":"https://gist.github.com/34c459f6fdd0ea3ce2f6","date":"2012-01-17T23:59:26.245Z","type":"message"}

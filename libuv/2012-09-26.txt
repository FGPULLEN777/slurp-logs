{"nick":"txdv","message":"no, from fd to fd","date":"2012-09-26T00:00:23.408Z","type":"message"}
{"nick":"piscisaureus","message":"https://groups.google.com/d/msg/nodejs/k4ZZigx4X1c/EFSZ1aOnsy8J <-- o.O","date":"2012-09-26T00:02:38.410Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: yes, fd to fd. but only file fd to socket fd","date":"2012-09-26T00:04:53.865Z","type":"message"}
{"nick":"txdv","message":"fd_in has to be mmap'ed, fd_out has to be a socket","date":"2012-09-26T00:05:09.709Z","type":"message"}
{"nick":"bnoordhuis","message":"it's less limited with recent linux kernels but that doesn't help on other unices","date":"2012-09-26T00:05:13.905Z","type":"message"}
{"nick":"txdv","message":"well the signature of sendfile in libuv can be changed to take uv_tcp and use the socket in the private fields","date":"2012-09-26T00:06:02.172Z","type":"message"}
{"nick":"txdv","message":"but why isn't there a way to retrieve the socket from uv_tcp and uv_udp? it would be the counter functionality to uv_tcp/udp_open","date":"2012-09-26T00:06:39.565Z","type":"message"}
{"nick":"bnoordhuis","message":"https://bugs.launchpad.net/ubuntu/+source/gnome-terminal/+bug/1055766 <- grep -R doesn't automatically search amazon","date":"2012-09-26T00:07:04.040Z","type":"message"}
{"nick":"piscisaureus","message":"rofl","date":"2012-09-26T00:07:41.192Z","type":"message"}
{"nick":"txdv","message":"any input/ideas, or do I have to create an issue and piss everyone off?","date":"2012-09-26T00:10:25.564Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: sendfile() as an api is too limited to be really useful","date":"2012-09-26T00:11:14.300Z","type":"message"}
{"nick":"bnoordhuis","message":"we (or at least i) have ideas on how to implement streams in libuv that pick the appropriate approach","date":"2012-09-26T00:11:49.155Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. sendfile for file -> socket, threaded i/o for file -> file, use splice() on linux, etc.","date":"2012-09-26T00:12:10.688Z","type":"message"}
{"nick":"txdv","message":"file uv_stream at libuv level?","date":"2012-09-26T00:14:57.600Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-09-26T00:15:24.272Z","type":"message"}
{"nick":"txdv","message":"do that","date":"2012-09-26T00:15:40.756Z","type":"message"}
{"nick":"txdv","message":"immediately","date":"2012-09-26T00:15:51.152Z","type":"message"}
{"nick":"bnoordhuis","message":"not a high priority, you don't normally serve static files with node, that's what nginx and friends are for","date":"2012-09-26T00:16:16.750Z","type":"message"}
{"nick":"txdv","message":"what is high priority right now?","date":"2012-09-26T00:16:58.918Z","type":"message"}
{"nick":"bnoordhuis","message":"finishing my slides :)","date":"2012-09-26T00:17:24.296Z","type":"message"}
{"nick":"txdv","message":"i mean in the libuv/node area","date":"2012-09-26T00:17:41.763Z","type":"message"}
{"nick":"bnoordhuis","message":"not much in libuv, it mostly works","date":"2012-09-26T00:18:22.214Z","type":"message"}
{"nick":"bnoordhuis","message":"udp socket sharing is something i still need to finish","date":"2012-09-26T00:18:34.159Z","type":"message"}
{"nick":"bnoordhuis","message":"re node, you should ask isaacs :)","date":"2012-09-26T00:18:40.601Z","type":"message"}
{"nick":"bnoordhuis","message":"the streams refactor, probably","date":"2012-09-26T00:18:51.420Z","type":"message"}
{"nick":"txdv","message":"socket sharing?","date":"2012-09-26T00:18:51.623Z","type":"message"}
{"nick":"loladiro","date":"2012-09-26T00:18:53.130Z","type":"join"}
{"nick":"bnoordhuis","message":"txdv: passing a udp socket to child processes, like you can with tcp sockets and pipes","date":"2012-09-26T00:19:07.376Z","type":"message"}
{"nick":"txdv","message":"o","date":"2012-09-26T00:19:15.548Z","type":"message"}
{"nick":"txdv","message":"that streams refactor ... it sounds tasty","date":"2012-09-26T00:19:55.799Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-26T00:20:19.628Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T00:22:54.623Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T00:38:10.909Z","type":"quit"}
{"nick":"toothrot","reason":"Ping timeout: 260 seconds","date":"2012-09-26T00:39:00.098Z","type":"quit"}
{"nick":"mjr_","date":"2012-09-26T00:40:55.878Z","type":"join"}
{"nick":"toothr","date":"2012-09-26T00:42:07.920Z","type":"join"}
{"nick":"txdv","message":"man I am too tired","date":"2012-09-26T00:44:10.862Z","type":"message"}
{"nick":"txdv","message":"good night girls","date":"2012-09-26T00:44:17.301Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 244 seconds","date":"2012-09-26T00:56:39.206Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2012-09-26T01:04:03.947Z","type":"quit"}
{"nick":"piscisaureus","message":"I am also going","date":"2012-09-26T01:09:52.224Z","type":"message"}
{"nick":"piscisaureus","message":"see you, all","date":"2012-09-26T01:09:56.945Z","type":"message"}
{"nick":"mmalecki","message":"night","date":"2012-09-26T01:13:16.986Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-09-26T01:19:09.700Z","type":"quit"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-09-26T01:20:48.176Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T01:30:04.410Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-09-26T01:30:47.590Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T01:33:25.858Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T01:36:56.999Z","type":"join"}
{"nick":"abraxas","date":"2012-09-26T01:37:42.086Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T01:42:48.772Z","type":"quit"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T01:45:51.030Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T01:51:22.134Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-26T01:55:34.460Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T01:56:42.725Z","type":"quit"}
{"nick":"erickt","date":"2012-09-26T01:57:09.971Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-09-26T02:14:31.930Z","type":"quit"}
{"nick":"mjr_","date":"2012-09-26T02:18:06.865Z","type":"join"}
{"nick":"mjr_","reason":"Client Quit","date":"2012-09-26T02:18:13.645Z","type":"quit"}
{"nick":"Raynos_","date":"2012-09-26T02:51:00.258Z","type":"join"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-09-26T03:05:42.746Z","type":"quit"}
{"nick":"philips_","date":"2012-09-26T03:06:53.895Z","type":"join"}
{"nick":"TooTallNate","date":"2012-09-26T03:24:58.005Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T04:14:40.614Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 246 seconds","date":"2012-09-26T04:25:01.820Z","type":"quit"}
{"nick":"abraxas","date":"2012-09-26T04:29:44.453Z","type":"join"}
{"nick":"mjr_","date":"2012-09-26T04:37:41.870Z","type":"join"}
{"nick":"avalanche123|h","date":"2012-09-26T04:38:20.189Z","type":"join"}
{"nick":"mjr_","message":"sadness trying to build 64 bit node 0.8 on SmartOS:","date":"2012-09-26T04:39:07.675Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/3786054","date":"2012-09-26T04:39:09.512Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T04:40:15.703Z","type":"quit"}
{"nick":"mmalecki","message":"mjr_: what's your ./configure line?","date":"2012-09-26T04:40:38.548Z","type":"message"}
{"nick":"mmalecki","message":"it doesn't seem to find x64 registers...","date":"2012-09-26T04:40:54.556Z","type":"message"}
{"nick":"mjr_","message":"At the bottom of the gist","date":"2012-09-26T04:40:59.172Z","type":"message"}
{"nick":"mmalecki","message":"ah, I see","date":"2012-09-26T04:41:06.449Z","type":"message"}
{"nick":"mjr_","message":"It's totally an x64 machine though.  Most of the libs that are installed are x64.","date":"2012-09-26T04:41:28.960Z","type":"message"}
{"nick":"mmalecki","message":"yeah, that's weird, install worked fine for us. which dataset is that?","date":"2012-09-26T04:43:12.840Z","type":"message"}
{"nick":"mjr_","message":"Not sure, how do I tell?","date":"2012-09-26T04:47:48.864Z","type":"message"}
{"nick":"mmalecki","message":"I think that's included in the SDC API response when you get details for a specific machine","date":"2012-09-26T04:48:29.710Z","type":"message"}
{"nick":"mmalecki","message":"(if it's on Joyent)","date":"2012-09-26T04:49:21.130Z","type":"message"}
{"nick":"mjr_","message":"    \"dataset\": \"local:admin:riakeds:1.6.1-voxer\",","date":"2012-09-26T04:49:37.386Z","type":"message"}
{"nick":"mjr_","message":"we are fancy and have our own dataset, which I think is part of the problem here","date":"2012-09-26T04:49:50.244Z","type":"message"}
{"nick":"mmalecki","message":"we have custom datasets too and it works fine, but those are for NAT access only","date":"2012-09-26T04:50:32.725Z","type":"message"}
{"nick":"mmalecki","message":"also, I never used those admin ones, there might be some problems with them","date":"2012-09-26T04:51:01.547Z","type":"message"}
{"nick":"mjr_","message":"Does yours say 'host_arch': 'ia32' in the gyp output?","date":"2012-09-26T04:52:33.770Z","type":"message"}
{"nick":"mmalecki","message":"yes","date":"2012-09-26T04:52:40.712Z","type":"message"}
{"nick":"mjr_","message":"hmm","date":"2012-09-26T04:52:51.987Z","type":"message"}
{"nick":"mmalecki","message":"detecting architectures on smartos is a pain, we compile with --dest-cpu=x64 set explicitely","date":"2012-09-26T04:53:04.605Z","type":"message"}
{"nick":"mjr_","message":"The gcc line does include -m64, but it just doesn't like that asm.","date":"2012-09-26T04:53:27.999Z","type":"message"}
{"nick":"mmalecki","message":"it has -m32 later too, but AFAIR -m64 overrides that...","date":"2012-09-26T04:54:14.014Z","type":"message"}
{"nick":"mmalecki","message":"sec, let me compile that, I need to upgrade one host anyway","date":"2012-09-26T04:54:26.857Z","type":"message"}
{"nick":"mmalecki","message":"https://gist.github.com/0f0d43c20d74469d977a is our configure output","date":"2012-09-26T04:55:29.910Z","type":"message"}
{"nick":"mmalecki","message":"everything is the same","date":"2012-09-26T04:56:32.141Z","type":"message"}
{"nick":"mmalecki","message":"hmmm, our compilation line doesn't have that '-m32'","date":"2012-09-26T04:58:19.619Z","type":"message"}
{"nick":"mmalecki","message":"cc '-D_LARGEFILE_SOURCE' '-D_FILE_OFFSET_BITS=64' '-DL_ENDIAN' '-DOPENSSL_THREADS' '-DPURIFY' '-D_REENTRANT' '-DOPENSSL_NO_DTLS1' '-DOPENSSL_NO_SOCK' '-DOPENSSL_NO_DGRAM' '-DOPENSSL_NO_GOST' '-DOPENSSL_NO_HW_PADLOCK' '-DOPENSSL_NO_TTY' '-DAES_ASM' '-DBF_ASM' '-DBNCO_ASM' '-DBN_ASM' '-DCPUID_ASM' '-DDES_ASM' '-DLIB_BN_ASM' '-DOPENSSL_BN_ASM' '-DOPENSSL_CPUID_OBJ' '-DRIP_ASM' '-DWHIRLPOOL_ASM' '-DWP_ASM' '-DENGINESDIR=\"/dev/null\"' '-DOPENSSLDIR=\"/etc/ssl\"","date":"2012-09-26T04:58:21.006Z","type":"message"}
{"nick":"mmalecki","message":"mjr_: any chance you have CFLAGS or CXXFLAGS or CC defined somewhere?","date":"2012-09-26T05:00:10.426Z","type":"message"}
{"nick":"mjr_","message":"let me log out and back in, just in case","date":"2012-09-26T05:00:53.559Z","type":"message"}
{"nick":"mmalecki","message":"`env` outputs https://gist.github.com/5e0b5870bff8b9b9bc2a here","date":"2012-09-26T05:01:56.113Z","type":"message"}
{"nick":"mjr_","message":"well shit","date":"2012-09-26T05:02:18.071Z","type":"message"}
{"nick":"mjr_","message":"That did make it work","date":"2012-09-26T05:02:22.773Z","type":"message"}
{"nick":"mjr_","message":"Must have been something in my env, I guess.","date":"2012-09-26T05:02:32.571Z","type":"message"}
{"nick":"mmalecki","message":"heh, must've been :)","date":"2012-09-26T05:02:52.653Z","type":"message"}
{"nick":"mjr_","message":"Guess I should have dumped my env before logging out","date":"2012-09-26T05:02:53.984Z","type":"message"}
{"nick":"mjr_","message":"This yak is nearly shaved","date":"2012-09-26T05:03:11.440Z","type":"message"}
{"nick":"mjr_","message":"BTW, hiredis builds for me with: export CFLAGS=\"-m64\" CXXFLAGS=\"-m64\" LDFLAGS=\"-m64\" ; npm install hiredis","date":"2012-09-26T05:04:49.887Z","type":"message"}
{"nick":"mjr_","message":"But fuck hiredis.  The new JS parser is just as fast.","date":"2012-09-26T05:05:04.957Z","type":"message"}
{"nick":"mmalecki","message":"nice, we had problems with that. but now that nobody uses hiredis anyway, it's all gone :)","date":"2012-09-26T05:06:10.827Z","type":"message"}
{"nick":"mmalecki","message":"7 AM, I guess I *could* use some sleep","date":"2012-09-26T05:08:04.428Z","type":"message"}
{"nick":"mjr_","message":"Same solution for the postgres module though, in case it ever is relevant.","date":"2012-09-26T05:10:22.838Z","type":"message"}
{"nick":"mmalecki","message":"oh, we got that to build without any modifications to env, actually","date":"2012-09-26T05:11:52.729Z","type":"message"}
{"nick":"mjr_","message":"I think our dataset gives us a gcc that wants to be 32 bit by default, but then installs 64 bit versions of all libraries.","date":"2012-09-26T05:12:27.090Z","type":"message"}
{"nick":"mmalecki","message":"ah. that's surely a pain","date":"2012-09-26T05:14:15.959Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-09-26T05:24:08.854Z","type":"quit"}
{"nick":"AvianFlu_","date":"2012-09-26T05:24:14.127Z","type":"join"}
{"nick":"AvianFlu_","reason":"Ping timeout: 265 seconds","date":"2012-09-26T05:51:01.930Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T05:55:55.999Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T06:12:53.832Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T06:13:29.614Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 264 seconds","date":"2012-09-26T06:22:42.203Z","type":"quit"}
{"nick":"AvianFlu","reason":"Quit: AvianFlu","date":"2012-09-26T06:34:47.842Z","type":"quit"}
{"nick":"avalanche123|h","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T06:53:12.999Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T07:03:24.512Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T07:18:04.795Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-09-26T07:50:06.661Z","type":"join"}
{"nick":"Ralt","date":"2012-09-26T08:31:15.224Z","type":"join"}
{"nick":"stagas","date":"2012-09-26T08:56:37.264Z","type":"join"}
{"nick":"txdv","message":"does someone in here use sublime?","date":"2012-09-26T09:49:14.489Z","type":"message"}
{"nick":"indutny","message":"not me","date":"2012-09-26T10:43:09.344Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 244 seconds","date":"2012-09-26T10:57:32.149Z","type":"quit"}
{"nick":"mmalecki","date":"2012-09-26T11:07:31.732Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-09-26T11:08:12.688Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T11:19:31.448Z","type":"join"}
{"nick":"travis-ci","date":"2012-09-26T11:44:27.588Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#735 (master - 8afd71a : Shannen Saez): The build passed.","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/5bfb7c917b3b...8afd71a12896","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2569032","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-26T11:44:27.792Z","type":"part"}
{"nick":"piscisaureus_","reason":"Read error: Operation timed out","date":"2012-09-26T12:00:48.019Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T12:17:44.947Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-09-26T12:19:31.771Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T13:04:49.149Z","type":"join"}
{"nick":"stagas","date":"2012-09-26T13:20:50.392Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T13:23:33.578Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T13:23:55.347Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T13:50:49.579Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 265 seconds","date":"2012-09-26T13:57:44.899Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T13:57:48.316Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T13:58:49.845Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T13:59:43.315Z","type":"join"}
{"nick":"erickt","date":"2012-09-26T14:07:16.894Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T14:14:57.072Z","type":"join"}
{"nick":"mikeal","date":"2012-09-26T14:19:30.991Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T14:25:33.083Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T14:27:22.577Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T14:37:05.423Z","type":"quit"}
{"nick":"Raynos_","reason":"Remote host closed the connection","date":"2012-09-26T14:51:51.444Z","type":"quit"}
{"nick":"dscape","reason":"Remote host closed the connection","date":"2012-09-26T14:51:51.445Z","type":"quit"}
{"nick":"indutny","reason":"Read error: Connection reset by peer","date":"2012-09-26T14:51:59.784Z","type":"quit"}
{"nick":"dscape","date":"2012-09-26T14:52:34.392Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: cookin like a boss","date":"2012-09-26T15:06:31.262Z","type":"quit"}
{"nick":"dscape","reason":"Remote host closed the connection","date":"2012-09-26T15:07:22.976Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T15:14:00.207Z","type":"join"}
{"nick":"avalanche123|h","date":"2012-09-26T15:14:36.148Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T15:15:20.461Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-09-26T15:19:26.168Z","type":"quit"}
{"nick":"philips_","date":"2012-09-26T15:22:25.453Z","type":"join"}
{"nick":"Raynos_","date":"2012-09-26T15:22:54.114Z","type":"join"}
{"nick":"TheJH","date":"2012-09-26T15:27:56.715Z","type":"join"}
{"nick":"Raynos_","reason":"Remote host closed the connection","date":"2012-09-26T15:33:12.662Z","type":"quit"}
{"nick":"stagas","date":"2012-09-26T15:35:58.305Z","type":"join"}
{"nick":"indutny","date":"2012-09-26T15:39:05.785Z","type":"join"}
{"nick":"Raynos_","date":"2012-09-26T15:40:27.247Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T15:48:02.744Z","type":"quit"}
{"nick":"tjfontaine","message":"evil python ternary syntax should be avoid anyway https://github.com/joyent/node/issues/4057","date":"2012-09-26T15:51:29.724Z","type":"message"}
{"nick":"dscape","date":"2012-09-26T15:57:40.101Z","type":"join"}
{"nick":"isaacs","message":"ohh, man.","date":"2012-09-26T16:00:00.337Z","type":"message"}
{"nick":"isaacs","message":"i would use a compile-to-js language if all it did was add ()=>{} style lexically-bound-this functions.","date":"2012-09-26T16:00:20.376Z","type":"message"}
{"nick":"isaacs","message":"maybe i should just stop using classes.  who cares that they're faster.","date":"2012-09-26T16:00:35.386Z","type":"message"}
{"nick":"isaacs","message":"i can't be trusted to bind all my functions.","date":"2012-09-26T16:00:43.246Z","type":"message"}
{"nick":"avalanche123|h","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T16:01:20.684Z","type":"quit"}
{"nick":"stagas","message":"isaacs: I was wondering, why are node core libs like net so huge, is there a reason for not splitting up stuff to smaller modules?","date":"2012-09-26T16:05:47.102Z","type":"message"}
{"nick":"tjfontaine","message":"stagas: there is a desire to split up the modules in to logical smaller more maintable modules, but so far no one has picked up that flag","date":"2012-09-26T16:06:37.474Z","type":"message"}
{"nick":"tjfontaine","message":"I did a pass at http recently, I wasn't particularly fond of the result client was still pretty huge","date":"2012-09-26T16:07:05.968Z","type":"message"}
{"nick":"stagas","message":"also it'd be nice if there was some way to build without including the js, so messing with those was less tedious","date":"2012-09-26T16:11:29.973Z","type":"message"}
{"nick":"stagas","message":"or is there?","date":"2012-09-26T16:12:04.184Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not aware of a mechanism to do that, but it's too difficult to make && ./node test.js","date":"2012-09-26T16:13:40.091Z","type":"message"}
{"nick":"rendar","message":"tjfontaine: why it would be difficult?","date":"2012-09-26T16:14:33.341Z","type":"message"}
{"nick":"tjfontaine","message":"sorry missed a word, meant *not* too difficult","date":"2012-09-26T16:14:51.150Z","type":"message"}
{"nick":"rendar","message":"i see","date":"2012-09-26T16:14:56.414Z","type":"message"}
{"nick":"tjfontaine","message":"it is a blessing that node works fairly directory independent in this respect","date":"2012-09-26T16:15:28.301Z","type":"message"}
{"nick":"mikeal","reason":"Read error: Connection timed out","date":"2012-09-26T16:23:51.166Z","type":"quit"}
{"nick":"mikeal","date":"2012-09-26T16:24:13.400Z","type":"join"}
{"nick":"Ralt","reason":"Ping timeout: 256 seconds","date":"2012-09-26T16:25:59.161Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-09-26T16:27:54.756Z","type":"join"}
{"nick":"TooTallNate","message":"can any C smart people explain to me how arrays are aligned in structs?","date":"2012-09-26T16:35:38.431Z","type":"message"}
{"nick":"mikeal","reason":"Read error: Connection timed out","date":"2012-09-26T16:40:05.133Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate: depends :-)","date":"2012-09-26T16:42:42.112Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: but typically they are aligned to the size of the type","date":"2012-09-26T16:42:56.234Z","type":"message"}
{"nick":"piscisaureus_","message":"so on x64 a pointer is aligned to 8 bytes, an in32_t to 4, a char is unaligned etc","date":"2012-09-26T16:43:28.067Z","type":"message"}
{"nick":"loladiro","date":"2012-09-26T16:45:01.231Z","type":"join"}
{"nick":"TooTallNate","reason":"Ping timeout: 248 seconds","date":"2012-09-26T16:45:04.701Z","type":"quit"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-26T16:45:31.157Z","type":"quit"}
{"nick":"indutny","message":"hoya","date":"2012-09-26T16:49:47.537Z","type":"message"}
{"nick":"erickt","date":"2012-09-26T16:53:04.821Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 245 seconds","date":"2012-09-26T16:55:36.824Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2012-09-26T16:55:46.823Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T17:00:33.832Z","type":"join"}
{"nick":"TooTallNate","date":"2012-09-26T17:05:09.036Z","type":"join"}
{"nick":"mkrecny","date":"2012-09-26T17:11:51.126Z","type":"join"}
{"nick":"TooTallNate","message":"damn, now bert's gone :(","date":"2012-09-26T17:15:17.317Z","type":"message"}
{"nick":"tjfontaine","message":"he usually reads backlog","date":"2012-09-26T17:16:39.697Z","type":"message"}
{"nick":"c4milo","date":"2012-09-26T17:17:41.963Z","type":"join"}
{"nick":"TooTallNate","message":"this is true","date":"2012-09-26T17:18:25.092Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: I'd love to hear what the issue is though","date":"2012-09-26T17:18:29.583Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: basically, i need to learn the rules for alignment of arrays in structs","date":"2012-09-26T17:19:08.063Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: so the failing tests here http://travis-ci.org/#!/TooTallNate/ref-struct/jobs/2541863","date":"2012-09-26T17:20:11.538Z","type":"message"}
{"nick":"TooTallNate","message":"i don't really understand why they're failing","date":"2012-09-26T17:20:18.893Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: it seems like this guy is hitting the same problem though https://github.com/TooTallNate/ref-struct/issues/1","date":"2012-09-26T17:20:31.835Z","type":"message"}
{"nick":"TooTallNate","message":"i read this but it was really vague, http://en.wikipedia.org/wiki/Stride_of_an_array","date":"2012-09-26T17:20:55.933Z","type":"message"}
{"nick":"tjfontaine","message":"interesting I'm going to play some with this","date":"2012-09-26T17:23:55.297Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: you rule","date":"2012-09-26T17:25:02.743Z","type":"message"}
{"nick":"mkrecny","reason":"Quit: mkrecny","date":"2012-09-26T17:25:55.957Z","type":"quit"}
{"nick":"isaacs","message":"stagas: builds are usually fast if you've only changed js","date":"2012-09-26T17:32:28.849Z","type":"message"}
{"nick":"isaacs","message":"stagas: it's touching deps that makes for a long awful slog","date":"2012-09-26T17:32:36.088Z","type":"message"}
{"nick":"stagas","message":"isaacs: I see. is it too hard to decouple lib/* then? I was thinking the benefits, besides easier dev, we could also require userland modules in there, but I guess I'm thinking too far away","date":"2012-09-26T17:41:14.230Z","type":"message"}
{"nick":"stagas","message":"isaacs: then a \"bundler\" tool would stitch all that in an executable, which could also be reused to build executables from any node app","date":"2012-09-26T17:42:51.503Z","type":"message"}
{"nick":"stagas","message":"in a galaxy far far away","date":"2012-09-26T17:44:34.117Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: have you looked at all at http://en.wikipedia.org/wiki/Data_structure_alignment#Typical_alignment_of_C_structs_on_x86","date":"2012-09-26T17:45:40.459Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: yes","date":"2012-09-26T17:46:10.116Z","type":"message"}
{"nick":"tjfontaine","message":"so you're computing right now that the offset of c in test16 should be 86, when in reality it's 84?","date":"2012-09-26T17:46:55.999Z","type":"message"}
{"nick":"tjfontaine","message":"        'a': ArrayType('double', 10)","date":"2012-09-26T17:47:53.105Z","type":"message"}
{"nick":"tjfontaine","message":"      , 'b': ArrayType('char', 3)","date":"2012-09-26T17:47:53.861Z","type":"message"}
{"nick":"tjfontaine","message":"should end at 83, with a one byte pad","date":"2012-09-26T17:48:14.673Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T17:48:20.143Z","type":"quit"}
{"nick":"erickt","date":"2012-09-26T17:54:15.696Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-09-26T17:58:12.595Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: this is true","date":"2012-09-26T17:58:38.940Z","type":"message"}
{"nick":"TooTallNate","message":"i guess there's a bug in the logic then","date":"2012-09-26T17:58:47.893Z","type":"message"}
{"nick":"tjfontaine","message":"I think this clause might be the issue, \"Padding is only inserted when a structure member is followed by a member with a larger alignment requirement or at the end of the structure\"","date":"2012-09-26T17:59:46.679Z","type":"message"}
{"nick":"tjfontaine","message":"though, 86 % 4 isn't working out, so I'm not sure how you arrived at that entirely","date":"2012-09-26T18:01:08.760Z","type":"message"}
{"nick":"isaacs","message":"stagas: that'd be great, sure.","date":"2012-09-26T18:02:16.766Z","type":"message"}
{"nick":"isaacs","message":"stagas: go build that :)","date":"2012-09-26T18:02:19.326Z","type":"message"}
{"nick":"isaacs","message":"stagas: you will have the thanks (and bugs) of a nation.","date":"2012-09-26T18:02:27.926Z","type":"message"}
{"nick":"stagas","message":"isaacs: hahaha sure right on","date":"2012-09-26T18:04:27.746Z","type":"message"}
{"nick":"CoverSlide","message":"yeah it always irked me that the node executable is 6M whereas most other interpreters are tiny","date":"2012-09-26T18:06:20.027Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T18:07:02.958Z","type":"quit"}
{"nick":"CoverSlide","message":"but their standard libraries are anywhere from 30M-130M whereas for node there is only the executable","date":"2012-09-26T18:09:59.211Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: AvianFlu","date":"2012-09-26T18:13:02.708Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T18:13:23.362Z","type":"join"}
{"nick":"c4milo","date":"2012-09-26T18:14:14.359Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T18:18:50.803Z","type":"join"}
{"nick":"Ralt","date":"2012-09-26T18:20:03.819Z","type":"join"}
{"nick":"tjfontaine","message":"TooTallNate: so here's something interesting, double alignment on linux should be 4 (unless compiled with -malign) but ref.alignof.double is coming back as 8","date":"2012-09-26T18:20:04.086Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: that's only for 32-bit though ","date":"2012-09-26T18:20:23.833Z","type":"message"}
{"nick":"voodootikigod","message":"FELIX","date":"2012-09-26T18:20:26.862Z","type":"message"}
{"nick":"voodootikigod","message":"ARE YOU HERE","date":"2012-09-26T18:20:29.151Z","type":"message"}
{"nick":"voodootikigod","message":"paging felix","date":"2012-09-26T18:20:35.200Z","type":"message"}
{"nick":"tjfontaine","message":"oh damn this 64bit world","date":"2012-09-26T18:20:44.210Z","type":"message"}
{"nick":"voodootikigod","message":"amen to that","date":"2012-09-26T18:20:50.674Z","type":"message"}
{"nick":"voodootikigod","message":"was so much better when all we had was 8 bits","date":"2012-09-26T18:20:56.946Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: besides, that should be handled by \"ref\" which sets the \"alignment\" property in C-land","date":"2012-09-26T18:21:06.622Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: so I added this assert that that offset is a multiple of alignment","date":"2012-09-26T18:21:28.683Z","type":"message"}
{"nick":"TooTallNate","message":"i'm guessing it's failing?","date":"2012-09-26T18:22:36.383Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: well I guess this could be more osx interesting thing, but alignment of test1 is 8, but offset of b is 4, but it seems like it's getting packed nicely","date":"2012-09-26T18:23:08.142Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: welcome to my world :)","date":"2012-09-26T18:23:57.750Z","type":"message"}
{"nick":"TooTallNate","message":"that's not osx-specific, that's just how it works","date":"2012-09-26T18:24:13.650Z","type":"message"}
{"nick":"Ralt","reason":"Remote host closed the connection","date":"2012-09-26T18:25:44.121Z","type":"quit"}
{"nick":"tjfontaine","message":"right I\"m just trying to learn this :)","date":"2012-09-26T18:26:32.952Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: it wouldn't be memory-efficient to align to the largest type size","date":"2012-09-26T18:27:06.385Z","type":"message"}
{"nick":"tjfontaine","message":"right no I get it, just trying to think through all the rules","date":"2012-09-26T18:27:23.748Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: and the most memory efficient is to set packing to 1, but that slows down access","date":"2012-09-26T18:27:41.825Z","type":"message"}
{"nick":"TooTallNate","message":"right, but those are out there too :)","date":"2012-09-26T18:28:45.609Z","type":"message"}
{"nick":"TooTallNate","message":"i need to think of a good syntax for those","date":"2012-09-26T18:28:53.108Z","type":"message"}
{"nick":"erickt_","date":"2012-09-26T18:28:59.146Z","type":"join"}
{"nick":"erickt_","reason":"Client Quit","date":"2012-09-26T18:29:11.458Z","type":"quit"}
{"nick":"tjfontaine","message":"c# has an interesting way of handling that for pinvoke, but doesn't entirely fit the ref-struct mantra","date":"2012-09-26T18:29:34.832Z","type":"message"}
{"nick":"TooTallNate","message":"i think a separate PackedStruct() function will do just fine","date":"2012-09-26T18:29:57.058Z","type":"message"}
{"nick":"tjfontaine","message":"allowing to specify a value","date":"2012-09-26T18:30:30.029Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 256 seconds","date":"2012-09-26T18:30:38.872Z","type":"quit"}
{"nick":"TooTallNate","message":"and for regular structs with individual packed fields, use regular Struct(), and maybe pass Struct.Packed('int') or whatever as the value","date":"2012-09-26T18:30:47.543Z","type":"message"}
{"nick":"mikeal","date":"2012-09-26T18:30:52.892Z","type":"join"}
{"nick":"TooTallNate","message":"i'm thinking in the future though, i wanna get this alignment bug worked out :)","date":"2012-09-26T18:31:07.224Z","type":"message"}
{"nick":"erickt","date":"2012-09-26T18:33:26.146Z","type":"join"}
{"nick":"brson","date":"2012-09-26T18:33:54.772Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-09-26T18:35:13.106Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 248 seconds","date":"2012-09-26T18:41:20.694Z","type":"quit"}
{"nick":"TooTallNate","message":"i give up for now, gotta do real work :\\","date":"2012-09-26T18:51:45.818Z","type":"message"}
{"nick":"Ralt","date":"2012-09-26T18:53:52.305Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T18:53:53.662Z","type":"quit"}
{"nick":"tjfontaine","message":"TooTallNate: got it","date":"2012-09-26T19:01:31.135Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: do tell :)","date":"2012-09-26T19:01:48.932Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: addType shouldn't be computing on struct.alignment but on type.alignment, adapting the wikipedia padding code makes the tests pass, I'll show a diff here in a second","date":"2012-09-26T19:02:32.989Z","type":"message"}
{"nick":"loladiro","date":"2012-09-26T19:02:51.170Z","type":"join"}
{"nick":"tjfontaine","message":"TooTallNate: http://paste.debian.net/hidden/e2d85f33/","date":"2012-09-26T19:03:22.143Z","type":"message"}
{"nick":"tjfontaine","message":"I could have left `left` in but made it use type.alignment but anyway","date":"2012-09-26T19:04:04.024Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: looking pretty good","date":"2012-09-26T19:07:01.251Z","type":"message"}
{"nick":"TooTallNate","message":"2 failures on my end","date":"2012-09-26T19:07:04.128Z","type":"message"}
{"nick":"TooTallNate","message":"relating to \"void *\" type","date":"2012-09-26T19:07:08.259Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: any thoughts?","date":"2012-09-26T19:07:14.779Z","type":"message"}
{"nick":"tjfontaine","message":"oops, that shouldn't happen","date":"2012-09-26T19:07:34.336Z","type":"message"}
{"nick":"tjfontaine","message":"right alignment is undefined","date":"2012-09-26T19:10:06.356Z","type":"message"}
{"nick":"tjfontaine","message":"so it's becoming NaN","date":"2012-09-26T19:10:26.810Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T19:10:52.562Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: well it should have the alignment of a pointer, not of void","date":"2012-09-26T19:11:04.672Z","type":"message"}
{"nick":"TooTallNate","message":"so you need to check type.indirection == 1","date":"2012-09-26T19:11:15.123Z","type":"message"}
{"nick":"tjfontaine","message":"what about: +    var align = type.alignment || ref.alignof.pointer;","date":"2012-09-26T19:12:26.970Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: http://paste.debian.net/hidden/dedb5709/","date":"2012-09-26T19:16:41.536Z","type":"message"}
{"nick":"mraleph","reason":"Read error: Connection reset by peer","date":"2012-09-26T19:18:50.375Z","type":"quit"}
{"nick":"erickt","date":"2012-09-26T19:25:51.722Z","type":"join"}
{"nick":"mikeal","date":"2012-09-26T19:25:52.948Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 246 seconds","date":"2012-09-26T19:32:13.778Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2012-09-26T19:33:06.769Z","type":"quit"}
{"nick":"tomshreds","date":"2012-09-26T19:49:08.117Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T19:57:38.511Z","type":"quit"}
{"nick":"mikeal","date":"2012-09-26T19:59:07.273Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2012-09-26T20:04:42.148Z","type":"quit"}
{"nick":"tomshreds","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-09-26T20:06:52.227Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-09-26T20:13:07.821Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: beautiful :)","date":"2012-09-26T20:17:29.369Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: incidentally this helped me fix an issue in another library :P","date":"2012-09-26T20:18:03.995Z","type":"message"}
{"nick":"TooTallNate","message":"nice :)","date":"2012-09-26T20:18:44.452Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: also, I guess Function's don't pass through ref.type.Object all that kindly?","date":"2012-09-26T20:18:58.610Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: they should, i do that in NodObjC, what are you seeing?","date":"2012-09-26T20:19:19.764Z","type":"message"}
{"nick":"tjfontaine","message":"something weird, it could be corruption in the library though TypeError: Object 84796 has no method 'call'","date":"2012-09-26T20:20:00.596Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: https://github.com/TooTallNate/ref-struct/commit/da85dac1c8a98540813ff083836a967cacd303ff","date":"2012-09-26T20:20:49.052Z","type":"message"}
{"nick":"tjfontaine","message":"I should really add more ram to my vm so I can actually compile llvm in debug mode, trying to get debug llvm to link is near impossible","date":"2012-09-26T20:21:04.062Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: nice :)","date":"2012-09-26T20:21:18.785Z","type":"message"}
{"nick":"AvianFlu_","date":"2012-09-26T20:24:31.216Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-09-26T20:24:48.720Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2012-09-26T20:24:49.264Z","type":"nick"}
{"nick":"TooTallNate","message":"tjfontaine: hey thanks for figuring it out! I was at the max frustration point","date":"2012-09-26T20:24:52.981Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: just glad I could be of service","date":"2012-09-26T20:25:15.557Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-09-26T20:26:24.617Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T20:26:39.889Z","type":"join"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-09-26T20:29:23.094Z","type":"quit"}
{"nick":"AvianFlu_","date":"2012-09-26T20:29:32.076Z","type":"join"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2012-09-26T20:29:50.682Z","type":"nick"}
{"nick":"AvianFlu_","date":"2012-09-26T20:33:34.970Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2012-09-26T20:33:44.305Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2012-09-26T20:33:44.587Z","type":"nick"}
{"nick":"lohkey","date":"2012-09-26T20:38:49.275Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T20:39:16.895Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: and ref-struct v0.0.4 with your fix it out","date":"2012-09-26T20:39:49.883Z","type":"message"}
{"nick":"erickt","date":"2012-09-26T20:40:17.853Z","type":"join"}
{"nick":"tjfontaine","message":"excellent!","date":"2012-09-26T20:40:27.285Z","type":"message"}
{"nick":"Ralt","reason":"Remote host closed the connection","date":"2012-09-26T20:44:16.155Z","type":"quit"}
{"nick":"Ralt","date":"2012-09-26T20:44:51.314Z","type":"join"}
{"nick":"dap","date":"2012-09-26T20:45:16.761Z","type":"join"}
{"nick":"Ralt","reason":"Ping timeout: 244 seconds","date":"2012-09-26T20:49:07.163Z","type":"quit"}
{"nick":"hz","date":"2012-09-26T20:49:27.915Z","type":"join"}
{"nick":"brson","date":"2012-09-26T20:50:39.763Z","type":"join"}
{"nick":"TooTallNate","reason":"Ping timeout: 244 seconds","date":"2012-09-26T20:54:17.158Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-09-26T20:56:30.329Z","type":"join"}
{"nick":"mraleph","date":"2012-09-26T21:06:22.763Z","type":"join"}
{"nick":"pquerna","message":"mktemp. i want it. in uv.","date":"2012-09-26T21:08:53.338Z","type":"message"}
{"nick":"mmalecki","message":"pquerna++","date":"2012-09-26T21:09:42.575Z","type":"message"}
{"nick":"mmalecki","message":"I'm actually down to implement it for linux, unless someone wants to take it","date":"2012-09-26T21:10:23.954Z","type":"message"}
{"nick":"txdv","message":"whats mktemp?","date":"2012-09-26T21:10:30.988Z","type":"message"}
{"nick":"mmalecki","message":"txdv: man 3 mktemp","date":"2012-09-26T21:10:49.424Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T21:10:53.440Z","type":"quit"}
{"nick":"mmalecki","message":"AvianFlu: ^ might be relevant to our interests","date":"2012-09-26T21:11:09.656Z","type":"message"}
{"nick":"txdv","message":"and why do you need mktemp?","date":"2012-09-26T21:11:36.212Z","type":"message"}
{"nick":"tjfontaine","message":"thought it was supposed to be mkstemp? :)","date":"2012-09-26T21:11:40.907Z","type":"message"}
{"nick":"erickt","date":"2012-09-26T21:11:49.175Z","type":"join"}
{"nick":"pquerna","message":"its complicated is why","date":"2012-09-26T21:12:04.181Z","type":"message"}
{"nick":"pquerna","message":"https://github.com/apache/apr/blob/trunk/file_io/unix/mktemp.c#L90-222","date":"2012-09-26T21:12:36.402Z","type":"message"}
{"nick":"pquerna","message":"~120 lines or whatever to implement it in a portable way","date":"2012-09-26T21:12:47.436Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-09-26T21:17:49.442Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T21:42:50.402Z","type":"quit"}
{"nick":"TheJH","reason":"Ping timeout: 252 seconds","date":"2012-09-26T21:44:36.618Z","type":"quit"}
{"nick":"stagas","reason":"Quit: ChatZilla 0.9.89-rdmsoft [XULRunner 1.9.0.17/2009122204]","date":"2012-09-26T22:01:01.826Z","type":"quit"}
{"nick":"hz","date":"2012-09-26T22:07:40.679Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-09-26T22:24:27.528Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-09-26T23:01:35.929Z","type":"join"}
{"nick":"bnoordhuis","message":"TooTallNate: yo nate, alignment trouble?","date":"2012-09-26T23:01:46.126Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: there was. tjfontaine was able to figure things out","date":"2012-09-26T23:02:18.887Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool","date":"2012-09-26T23:03:08.947Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: turns out i was calculating the field padding using the struct's alignment rather than the field type's","date":"2012-09-26T23:03:26.179Z","type":"message"}
{"nick":"TooTallNate","message":"if that makes sense :p","date":"2012-09-26T23:03:37.521Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-09-26T23:06:26.617Z","type":"message"}
{"nick":"bnoordhuis","message":"right, i get what you mean","date":"2012-09-26T23:07:28.934Z","type":"message"}
{"nick":"TooTallNate","message":"my confidence in ref-struct's ABI compatibility went from like 80% to 95% i'd say","date":"2012-09-26T23:11:10.244Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ping?","date":"2012-09-26T23:14:05.449Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: pong","date":"2012-09-26T23:14:13.359Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, the resume","date":"2012-09-26T23:14:15.823Z","type":"message"}
{"nick":"bnoordhuis","message":"damn, i forgot","date":"2012-09-26T23:14:17.839Z","type":"message"}
{"nick":"bnoordhuis","message":"tomorrow?","date":"2012-09-26T23:14:20.094Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: ya, I'm fairly confident in it right now","date":"2012-09-26T23:14:20.887Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: no sweat, tomorrow is fine :)","date":"2012-09-26T23:14:29.510Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool","date":"2012-09-26T23:14:38.735Z","type":"message"}
{"nick":"mmalecki","message":"thanks :)","date":"2012-09-26T23:14:45.463Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: a guy is apparently using node-vlc on raspberry pi so","date":"2012-09-26T23:14:50.332Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: oh nice!","date":"2012-09-26T23:14:57.663Z","type":"message"}
{"nick":"TooTallNate","message":"i've been using node-ffi and ref to interface with libgit2 for my blog","date":"2012-09-26T23:15:23.404Z","type":"message"}
{"nick":"TooTallNate","message":"works well i'd say","date":"2012-09-26T23:15:29.279Z","type":"message"}
{"nick":"mjr_","date":"2012-09-26T23:25:20.100Z","type":"join"}
{"nick":"Aria","date":"2012-09-26T23:40:43.197Z","type":"join"}
{"nick":"tjfontaine","message":"TooTallNate: hrm I guess I can't do require('ref-array')('pointer', 2)?","date":"2012-09-26T23:41:46.228Z","type":"message"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-09-26T23:41:49.778Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: what happens?","date":"2012-09-26T23:42:05.804Z","type":"message"}
{"nick":"Aria","date":"2012-09-26T23:42:08.300Z","type":"join"}
{"nick":"tjfontaine","message":"AssertionError: Could not determine the `ffi_type` instance for type: ArrayType","date":"2012-09-26T23:42:14.916Z","type":"message"}
{"nick":"mikeal","date":"2012-09-26T23:42:40.744Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: do you have multiple copies of \"ref\"?","date":"2012-09-26T23:43:16.365Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: you mean installed?","date":"2012-09-26T23:43:35.873Z","type":"message"}
{"nick":"TooTallNate","message":"ya, in ./node_modules","date":"2012-09-26T23:43:51.498Z","type":"message"}
{"nick":"TooTallNate","message":"like does ref-array have its own copy?","date":"2012-09-26T23:43:57.921Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: no, npm ls looks clean","date":"2012-09-26T23:44:50.043Z","type":"message"}
{"nick":"TooTallNate","message":"well that's interesting...","date":"2012-09-26T23:45:07.297Z","type":"message"}
{"nick":"tjfontaine","message":"http://paste.debian.net/hidden/cc9593c1/","date":"2012-09-26T23:45:20.016Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: actually, i haven't done any ref-array + node-ffi testing yet","date":"2012-09-26T23:45:22.281Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-09-26T23:45:28.819Z","type":"message"}
{"nick":"TooTallNate","message":"i would imagine it wouldn't work yet","date":"2012-09-26T23:45:30.949Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2012-09-26T23:45:32.429Z","type":"message"}
{"nick":"tjfontaine","message":"first for everything :)","date":"2012-09-26T23:45:33.265Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i'll have to add some tests and stuff to node-ffi tonight","date":"2012-09-26T23:46:22.773Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: out of curiosity though, what function are you calling?","date":"2012-09-26T23:46:40.409Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 240 seconds","date":"2012-09-26T23:46:54.541Z","type":"quit"}
{"nick":"tjfontaine","message":"clang_getNullLocation","date":"2012-09-26T23:47:37.881Z","type":"message"}
{"nick":"tjfontaine","message":"which returns a struct that looks like","date":"2012-09-26T23:47:45.656Z","type":"message"}
{"nick":"tjfontaine","message":"var CXSourceLocation = exports.CXSourceLocation = Struct({                                           ","date":"2012-09-26T23:49:05.155Z","type":"message"}
{"nick":"tjfontaine","message":"    ptr_data: ArrayType(ref.refType(ref.types.void), 2),                                         ","date":"2012-09-26T23:49:08.143Z","type":"message"}
{"nick":"tjfontaine","message":"    int_data: 'uint32',","date":"2012-09-26T23:49:11.150Z","type":"message"}
{"nick":"tjfontaine","message":"});","date":"2012-09-26T23:49:13.652Z","type":"message"}
{"nick":"tjfontaine","message":"which I know isn't entirely like your desired use case of ArrayType(ref.refType(ref.types.void))","date":"2012-09-26T23:49:51.632Z","type":"message"}

{"nick":"txdv","message":"no, from fd to fd","date":"2012-09-26T00:00:23.408Z","type":"message"}
{"nick":"piscisaureus","message":"https://groups.google.com/d/msg/nodejs/k4ZZigx4X1c/EFSZ1aOnsy8J <-- o.O","date":"2012-09-26T00:02:38.410Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: yes, fd to fd. but only file fd to socket fd","date":"2012-09-26T00:04:53.865Z","type":"message"}
{"nick":"txdv","message":"fd_in has to be mmap'ed, fd_out has to be a socket","date":"2012-09-26T00:05:09.709Z","type":"message"}
{"nick":"bnoordhuis","message":"it's less limited with recent linux kernels but that doesn't help on other unices","date":"2012-09-26T00:05:13.905Z","type":"message"}
{"nick":"txdv","message":"well the signature of sendfile in libuv can be changed to take uv_tcp and use the socket in the private fields","date":"2012-09-26T00:06:02.172Z","type":"message"}
{"nick":"txdv","message":"but why isn't there a way to retrieve the socket from uv_tcp and uv_udp? it would be the counter functionality to uv_tcp/udp_open","date":"2012-09-26T00:06:39.565Z","type":"message"}
{"nick":"bnoordhuis","message":"https://bugs.launchpad.net/ubuntu/+source/gnome-terminal/+bug/1055766 <- grep -R doesn't automatically search amazon","date":"2012-09-26T00:07:04.040Z","type":"message"}
{"nick":"piscisaureus","message":"rofl","date":"2012-09-26T00:07:41.192Z","type":"message"}
{"nick":"txdv","message":"any input/ideas, or do I have to create an issue and piss everyone off?","date":"2012-09-26T00:10:25.564Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: sendfile() as an api is too limited to be really useful","date":"2012-09-26T00:11:14.300Z","type":"message"}
{"nick":"bnoordhuis","message":"we (or at least i) have ideas on how to implement streams in libuv that pick the appropriate approach","date":"2012-09-26T00:11:49.155Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. sendfile for file -> socket, threaded i/o for file -> file, use splice() on linux, etc.","date":"2012-09-26T00:12:10.688Z","type":"message"}
{"nick":"txdv","message":"file uv_stream at libuv level?","date":"2012-09-26T00:14:57.600Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-09-26T00:15:24.272Z","type":"message"}
{"nick":"txdv","message":"do that","date":"2012-09-26T00:15:40.756Z","type":"message"}
{"nick":"txdv","message":"immediately","date":"2012-09-26T00:15:51.152Z","type":"message"}
{"nick":"bnoordhuis","message":"not a high priority, you don't normally serve static files with node, that's what nginx and friends are for","date":"2012-09-26T00:16:16.750Z","type":"message"}
{"nick":"txdv","message":"what is high priority right now?","date":"2012-09-26T00:16:58.918Z","type":"message"}
{"nick":"bnoordhuis","message":"finishing my slides :)","date":"2012-09-26T00:17:24.296Z","type":"message"}
{"nick":"txdv","message":"i mean in the libuv/node area","date":"2012-09-26T00:17:41.763Z","type":"message"}
{"nick":"bnoordhuis","message":"not much in libuv, it mostly works","date":"2012-09-26T00:18:22.214Z","type":"message"}
{"nick":"bnoordhuis","message":"udp socket sharing is something i still need to finish","date":"2012-09-26T00:18:34.159Z","type":"message"}
{"nick":"bnoordhuis","message":"re node, you should ask isaacs :)","date":"2012-09-26T00:18:40.601Z","type":"message"}
{"nick":"bnoordhuis","message":"the streams refactor, probably","date":"2012-09-26T00:18:51.420Z","type":"message"}
{"nick":"txdv","message":"socket sharing?","date":"2012-09-26T00:18:51.623Z","type":"message"}
{"nick":"loladiro","date":"2012-09-26T00:18:53.130Z","type":"join"}
{"nick":"bnoordhuis","message":"txdv: passing a udp socket to child processes, like you can with tcp sockets and pipes","date":"2012-09-26T00:19:07.376Z","type":"message"}
{"nick":"txdv","message":"o","date":"2012-09-26T00:19:15.548Z","type":"message"}
{"nick":"txdv","message":"that streams refactor ... it sounds tasty","date":"2012-09-26T00:19:55.799Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-26T00:20:19.628Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T00:22:54.623Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T00:38:10.909Z","type":"quit"}
{"nick":"toothrot","reason":"Ping timeout: 260 seconds","date":"2012-09-26T00:39:00.098Z","type":"quit"}
{"nick":"mjr_","date":"2012-09-26T00:40:55.878Z","type":"join"}
{"nick":"toothr","date":"2012-09-26T00:42:07.920Z","type":"join"}
{"nick":"txdv","message":"man I am too tired","date":"2012-09-26T00:44:10.862Z","type":"message"}
{"nick":"txdv","message":"good night girls","date":"2012-09-26T00:44:17.301Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 244 seconds","date":"2012-09-26T00:56:39.206Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2012-09-26T01:04:03.947Z","type":"quit"}
{"nick":"piscisaureus","message":"I am also going","date":"2012-09-26T01:09:52.224Z","type":"message"}
{"nick":"piscisaureus","message":"see you, all","date":"2012-09-26T01:09:56.945Z","type":"message"}
{"nick":"mmalecki","message":"night","date":"2012-09-26T01:13:16.986Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-09-26T01:19:09.700Z","type":"quit"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-09-26T01:20:48.176Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T01:30:04.410Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-09-26T01:30:47.590Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T01:33:25.858Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T01:36:56.999Z","type":"join"}
{"nick":"abraxas","date":"2012-09-26T01:37:42.086Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T01:42:48.772Z","type":"quit"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T01:45:51.030Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T01:51:22.134Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-26T01:55:34.460Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T01:56:42.725Z","type":"quit"}
{"nick":"erickt","date":"2012-09-26T01:57:09.971Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-09-26T02:14:31.930Z","type":"quit"}
{"nick":"mjr_","date":"2012-09-26T02:18:06.865Z","type":"join"}
{"nick":"mjr_","reason":"Client Quit","date":"2012-09-26T02:18:13.645Z","type":"quit"}
{"nick":"Raynos_","date":"2012-09-26T02:51:00.258Z","type":"join"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-09-26T03:05:42.746Z","type":"quit"}
{"nick":"philips_","date":"2012-09-26T03:06:53.895Z","type":"join"}
{"nick":"TooTallNate","date":"2012-09-26T03:24:58.005Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T04:14:40.614Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 246 seconds","date":"2012-09-26T04:25:01.820Z","type":"quit"}
{"nick":"abraxas","date":"2012-09-26T04:29:44.453Z","type":"join"}
{"nick":"mjr_","date":"2012-09-26T04:37:41.870Z","type":"join"}
{"nick":"avalanche123|h","date":"2012-09-26T04:38:20.189Z","type":"join"}
{"nick":"mjr_","message":"sadness trying to build 64 bit node 0.8 on SmartOS:","date":"2012-09-26T04:39:07.675Z","type":"message"}
{"nick":"mjr_","message":"https://gist.github.com/3786054","date":"2012-09-26T04:39:09.512Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T04:40:15.703Z","type":"quit"}
{"nick":"mmalecki","message":"mjr_: what's your ./configure line?","date":"2012-09-26T04:40:38.548Z","type":"message"}
{"nick":"mmalecki","message":"it doesn't seem to find x64 registers...","date":"2012-09-26T04:40:54.556Z","type":"message"}
{"nick":"mjr_","message":"At the bottom of the gist","date":"2012-09-26T04:40:59.172Z","type":"message"}
{"nick":"mmalecki","message":"ah, I see","date":"2012-09-26T04:41:06.449Z","type":"message"}
{"nick":"mjr_","message":"It's totally an x64 machine though.  Most of the libs that are installed are x64.","date":"2012-09-26T04:41:28.960Z","type":"message"}
{"nick":"mmalecki","message":"yeah, that's weird, install worked fine for us. which dataset is that?","date":"2012-09-26T04:43:12.840Z","type":"message"}
{"nick":"mjr_","message":"Not sure, how do I tell?","date":"2012-09-26T04:47:48.864Z","type":"message"}
{"nick":"mmalecki","message":"I think that's included in the SDC API response when you get details for a specific machine","date":"2012-09-26T04:48:29.710Z","type":"message"}
{"nick":"mmalecki","message":"(if it's on Joyent)","date":"2012-09-26T04:49:21.130Z","type":"message"}
{"nick":"mjr_","message":"    \"dataset\": \"local:admin:riakeds:1.6.1-voxer\",","date":"2012-09-26T04:49:37.386Z","type":"message"}
{"nick":"mjr_","message":"we are fancy and have our own dataset, which I think is part of the problem here","date":"2012-09-26T04:49:50.244Z","type":"message"}
{"nick":"mmalecki","message":"we have custom datasets too and it works fine, but those are for NAT access only","date":"2012-09-26T04:50:32.725Z","type":"message"}
{"nick":"mmalecki","message":"also, I never used those admin ones, there might be some problems with them","date":"2012-09-26T04:51:01.547Z","type":"message"}
{"nick":"mjr_","message":"Does yours say 'host_arch': 'ia32' in the gyp output?","date":"2012-09-26T04:52:33.770Z","type":"message"}
{"nick":"mmalecki","message":"yes","date":"2012-09-26T04:52:40.712Z","type":"message"}
{"nick":"mjr_","message":"hmm","date":"2012-09-26T04:52:51.987Z","type":"message"}
{"nick":"mmalecki","message":"detecting architectures on smartos is a pain, we compile with --dest-cpu=x64 set explicitely","date":"2012-09-26T04:53:04.605Z","type":"message"}
{"nick":"mjr_","message":"The gcc line does include -m64, but it just doesn't like that asm.","date":"2012-09-26T04:53:27.999Z","type":"message"}
{"nick":"mmalecki","message":"it has -m32 later too, but AFAIR -m64 overrides that...","date":"2012-09-26T04:54:14.014Z","type":"message"}
{"nick":"mmalecki","message":"sec, let me compile that, I need to upgrade one host anyway","date":"2012-09-26T04:54:26.857Z","type":"message"}
{"nick":"mmalecki","message":"https://gist.github.com/0f0d43c20d74469d977a is our configure output","date":"2012-09-26T04:55:29.910Z","type":"message"}
{"nick":"mmalecki","message":"everything is the same","date":"2012-09-26T04:56:32.141Z","type":"message"}
{"nick":"mmalecki","message":"hmmm, our compilation line doesn't have that '-m32'","date":"2012-09-26T04:58:19.619Z","type":"message"}
{"nick":"mmalecki","message":"cc '-D_LARGEFILE_SOURCE' '-D_FILE_OFFSET_BITS=64' '-DL_ENDIAN' '-DOPENSSL_THREADS' '-DPURIFY' '-D_REENTRANT' '-DOPENSSL_NO_DTLS1' '-DOPENSSL_NO_SOCK' '-DOPENSSL_NO_DGRAM' '-DOPENSSL_NO_GOST' '-DOPENSSL_NO_HW_PADLOCK' '-DOPENSSL_NO_TTY' '-DAES_ASM' '-DBF_ASM' '-DBNCO_ASM' '-DBN_ASM' '-DCPUID_ASM' '-DDES_ASM' '-DLIB_BN_ASM' '-DOPENSSL_BN_ASM' '-DOPENSSL_CPUID_OBJ' '-DRIP_ASM' '-DWHIRLPOOL_ASM' '-DWP_ASM' '-DENGINESDIR=\"/dev/null\"' '-DOPENSSLDIR=\"/etc/ssl\"","date":"2012-09-26T04:58:21.006Z","type":"message"}
{"nick":"mmalecki","message":"mjr_: any chance you have CFLAGS or CXXFLAGS or CC defined somewhere?","date":"2012-09-26T05:00:10.426Z","type":"message"}
{"nick":"mjr_","message":"let me log out and back in, just in case","date":"2012-09-26T05:00:53.559Z","type":"message"}
{"nick":"mmalecki","message":"`env` outputs https://gist.github.com/5e0b5870bff8b9b9bc2a here","date":"2012-09-26T05:01:56.113Z","type":"message"}
{"nick":"mjr_","message":"well shit","date":"2012-09-26T05:02:18.071Z","type":"message"}
{"nick":"mjr_","message":"That did make it work","date":"2012-09-26T05:02:22.773Z","type":"message"}
{"nick":"mjr_","message":"Must have been something in my env, I guess.","date":"2012-09-26T05:02:32.571Z","type":"message"}
{"nick":"mmalecki","message":"heh, must've been :)","date":"2012-09-26T05:02:52.653Z","type":"message"}
{"nick":"mjr_","message":"Guess I should have dumped my env before logging out","date":"2012-09-26T05:02:53.984Z","type":"message"}
{"nick":"mjr_","message":"This yak is nearly shaved","date":"2012-09-26T05:03:11.440Z","type":"message"}
{"nick":"mjr_","message":"BTW, hiredis builds for me with: export CFLAGS=\"-m64\" CXXFLAGS=\"-m64\" LDFLAGS=\"-m64\" ; npm install hiredis","date":"2012-09-26T05:04:49.887Z","type":"message"}
{"nick":"mjr_","message":"But fuck hiredis.  The new JS parser is just as fast.","date":"2012-09-26T05:05:04.957Z","type":"message"}
{"nick":"mmalecki","message":"nice, we had problems with that. but now that nobody uses hiredis anyway, it's all gone :)","date":"2012-09-26T05:06:10.827Z","type":"message"}
{"nick":"mmalecki","message":"7 AM, I guess I *could* use some sleep","date":"2012-09-26T05:08:04.428Z","type":"message"}
{"nick":"mjr_","message":"Same solution for the postgres module though, in case it ever is relevant.","date":"2012-09-26T05:10:22.838Z","type":"message"}
{"nick":"mmalecki","message":"oh, we got that to build without any modifications to env, actually","date":"2012-09-26T05:11:52.729Z","type":"message"}
{"nick":"mjr_","message":"I think our dataset gives us a gcc that wants to be 32 bit by default, but then installs 64 bit versions of all libraries.","date":"2012-09-26T05:12:27.090Z","type":"message"}
{"nick":"mmalecki","message":"ah. that's surely a pain","date":"2012-09-26T05:14:15.959Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2012-09-26T05:24:08.854Z","type":"quit"}
{"nick":"AvianFlu_","date":"2012-09-26T05:24:14.127Z","type":"join"}
{"nick":"AvianFlu_","reason":"Ping timeout: 265 seconds","date":"2012-09-26T05:51:01.930Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T05:55:55.999Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T06:12:53.832Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T06:13:29.614Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 264 seconds","date":"2012-09-26T06:22:42.203Z","type":"quit"}
{"nick":"AvianFlu","reason":"Quit: AvianFlu","date":"2012-09-26T06:34:47.842Z","type":"quit"}
{"nick":"avalanche123|h","reason":"Quit: Computer has gone to sleep.","date":"2012-09-26T06:53:12.999Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T07:03:24.512Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-09-26T07:18:04.795Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-09-26T07:50:06.661Z","type":"join"}
{"nick":"Ralt","date":"2012-09-26T08:31:15.224Z","type":"join"}
{"nick":"stagas","date":"2012-09-26T08:56:37.264Z","type":"join"}
{"nick":"txdv","message":"does someone in here use sublime?","date":"2012-09-26T09:49:14.489Z","type":"message"}
{"nick":"indutny","message":"not me","date":"2012-09-26T10:43:09.344Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 244 seconds","date":"2012-09-26T10:57:32.149Z","type":"quit"}
{"nick":"mmalecki","date":"2012-09-26T11:07:31.732Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-09-26T11:08:12.688Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T11:19:31.448Z","type":"join"}
{"nick":"travis-ci","date":"2012-09-26T11:44:27.588Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#735 (master - 8afd71a : Shannen Saez): The build passed.","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/5bfb7c917b3b...8afd71a12896","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2569032","date":"2012-09-26T11:44:27.792Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-26T11:44:27.792Z","type":"part"}
{"nick":"piscisaureus_","reason":"Read error: Operation timed out","date":"2012-09-26T12:00:48.019Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-26T12:17:44.947Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-09-26T12:19:31.771Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T13:04:49.149Z","type":"join"}
{"nick":"stagas","date":"2012-09-26T13:20:50.392Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T13:23:33.578Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-09-26T13:23:55.347Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T13:50:49.579Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 265 seconds","date":"2012-09-26T13:57:44.899Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T13:57:48.316Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T13:58:49.845Z","type":"quit"}
{"nick":"rendar","date":"2012-09-26T13:59:43.315Z","type":"join"}
{"nick":"erickt","date":"2012-09-26T14:07:16.894Z","type":"join"}
{"nick":"loladiro","date":"2012-09-26T14:14:57.072Z","type":"join"}
{"nick":"mikeal","date":"2012-09-26T14:19:30.991Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T14:25:33.083Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T14:27:22.577Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T14:37:05.423Z","type":"quit"}
{"nick":"Raynos_","reason":"Remote host closed the connection","date":"2012-09-26T14:51:51.444Z","type":"quit"}
{"nick":"dscape","reason":"Remote host closed the connection","date":"2012-09-26T14:51:51.445Z","type":"quit"}
{"nick":"indutny","reason":"Read error: Connection reset by peer","date":"2012-09-26T14:51:59.784Z","type":"quit"}
{"nick":"dscape","date":"2012-09-26T14:52:34.392Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: cookin like a boss","date":"2012-09-26T15:06:31.262Z","type":"quit"}
{"nick":"dscape","reason":"Remote host closed the connection","date":"2012-09-26T15:07:22.976Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-26T15:14:00.207Z","type":"join"}
{"nick":"avalanche123|h","date":"2012-09-26T15:14:36.148Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-09-26T15:15:20.461Z","type":"quit"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-09-26T15:19:26.168Z","type":"quit"}
{"nick":"philips_","date":"2012-09-26T15:22:25.453Z","type":"join"}
{"nick":"Raynos_","date":"2012-09-26T15:22:54.114Z","type":"join"}
{"nick":"TheJH","date":"2012-09-26T15:27:56.715Z","type":"join"}
{"nick":"Raynos_","reason":"Remote host closed the connection","date":"2012-09-26T15:33:12.662Z","type":"quit"}
{"nick":"stagas","date":"2012-09-26T15:35:58.305Z","type":"join"}
{"nick":"indutny","date":"2012-09-26T15:39:05.785Z","type":"join"}
{"nick":"Raynos_","date":"2012-09-26T15:40:27.247Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-26T15:48:02.744Z","type":"quit"}
{"nick":"tjfontaine","message":"evil python ternary syntax should be avoid anyway https://github.com/joyent/node/issues/4057","date":"2012-09-26T15:51:29.724Z","type":"message"}
{"nick":"dscape","date":"2012-09-26T15:57:40.101Z","type":"join"}
{"nick":"isaacs","message":"ohh, man.","date":"2012-09-26T16:00:00.337Z","type":"message"}

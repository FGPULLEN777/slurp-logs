{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-03-24T00:00:00.941Z","type":"quit"}
{"nick":"ircretary","date":"2013-03-24T00:00:08.612Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T00:00:21.229Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T00:00:47.476Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-03-24T00:04:30.276Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2013-03-24T00:05:40.292Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-24T00:09:51.345Z","type":"nick"}
{"nick":"mikeal","date":"2013-03-24T00:17:59.529Z","type":"join"}
{"nick":"mikeal1","date":"2013-03-24T00:21:05.638Z","type":"join"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-03-24T00:21:18.885Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-24T00:28:54.219Z","type":"quit"}
{"nick":"isaacs","message":"you know, i just realized, we could totally do an \"on error resume next\" behavior for error events (not as easily for thrown errors, of course)","date":"2013-03-24T00:29:12.275Z","type":"message"}
{"nick":"isaacs","message":"in EE.emit(), instead of throwing the error if it's uncaught, we could call `process._fatalException(err)`, and then if that returns false, process.exit(1)","date":"2013-03-24T00:29:45.344Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-03-24T00:35:34.982Z","type":"quit"}
{"nick":"isaacs","message":"thought, it's probably stupid to call process._fatalException from not-c++","date":"2013-03-24T00:41:56.608Z","type":"message"}
{"nick":"wolfeidau","date":"2013-03-24T00:47:22.418Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-03-24T00:50:00.501Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-24T01:00:59.003Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-24T01:04:17.440Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 245 seconds","date":"2013-03-24T01:05:26.873Z","type":"quit"}
{"nick":"hz","date":"2013-03-24T01:13:52.467Z","type":"join"}
{"nick":"c4milo","date":"2013-03-24T01:18:22.525Z","type":"join"}
{"nick":"mmalecki","message":"isaacs: ping?","date":"2013-03-24T01:22:52.032Z","type":"message"}
{"nick":"isaacs","message":"pong","date":"2013-03-24T01:22:59.893Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: is it possible to monitor `end` event in streams2 without resuming?","date":"2013-03-24T01:23:19.043Z","type":"message"}
{"nick":"mmalecki","message":"potential usecase being implementing reconnect","date":"2013-03-24T01:23:30.395Z","type":"message"}
{"nick":"isaacs","message":"you mean, receive the 'end' event, even though no one is consuming the stream?","date":"2013-03-24T01:24:09.680Z","type":"message"}
{"nick":"isaacs","message":"no","date":"2013-03-24T01:24:17.023Z","type":"message"}
{"nick":"isaacs","message":"the 'end' event doesn't emit until the stream gets read.","date":"2013-03-24T01:24:29.619Z","type":"message"}
{"nick":"mmalecki","message":"sorry, but this sucks","date":"2013-03-24T01:24:46.212Z","type":"message"}
{"nick":"isaacs","message":"why?","date":"2013-03-24T01:25:04.382Z","type":"message"}
{"nick":"mmalecki","message":"say you have a protocol wrapper with reconnection over a net socket","date":"2013-03-24T01:25:18.847Z","type":"message"}
{"nick":"mmalecki","message":"if nobody reads data, you can't reconnect","date":"2013-03-24T01:25:27.362Z","type":"message"}
{"nick":"isaacs","message":"you can still listen for 'close' or whatever","date":"2013-03-24T01:25:38.253Z","type":"message"}
{"nick":"isaacs","message":"or 'error'","date":"2013-03-24T01:25:43.525Z","type":"message"}
{"nick":"mmalecki","message":"well, not all streams emit `close`, this should be made more generic imo","date":"2013-03-24T01:26:18.630Z","type":"message"}
{"nick":"isaacs","message":"net sockets do","date":"2013-03-24T01:27:08.114Z","type":"message"}
{"nick":"isaacs","message":"that's what you're reconnecting, right?","date":"2013-03-24T01:27:13.231Z","type":"message"}
{"nick":"isaacs","message":"what would it even mean to have 'end' happen when more data is coming?","date":"2013-03-24T01:27:33.002Z","type":"message"}
{"nick":"isaacs","message":"it means that it's not really the end!","date":"2013-03-24T01:27:36.350Z","type":"message"}
{"nick":"mmalecki","message":"I was thinking different event or something","date":"2013-03-24T01:27:55.508Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2013-03-24T01:27:59.414Z","type":"message"}
{"nick":"isaacs","message":"net sockets have '_socketEnd'","date":"2013-03-24T01:28:10.006Z","type":"message"}
{"nick":"isaacs","message":"which is suppoesd to be internal","date":"2013-03-24T01:28:15.110Z","type":"message"}
{"nick":"isaacs","message":"that's \"EOF was seen on the underlying socket\"","date":"2013-03-24T01:28:26.940Z","type":"message"}
{"nick":"mmalecki","message":"yeah, I saw that","date":"2013-03-24T01:28:35.904Z","type":"message"}
{"nick":"isaacs","message":"but that's internal","date":"2013-03-24T01:28:41.440Z","type":"message"}
{"nick":"mmalecki","message":"I was hoping to get that implemented more generically tho","date":"2013-03-24T01:28:46.810Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-03-24T01:28:51.020Z","type":"message"}
{"nick":"isaacs","message":"like, an event that happens when you do stream.push(null) and set _readableState.ended = true","date":"2013-03-24T01:29:06.644Z","type":"message"}
{"nick":"mmalecki","message":"yup :)","date":"2013-03-24T01:29:21.502Z","type":"message"}
{"nick":"isaacs","message":"k, propose something as a feature request.","date":"2013-03-24T01:29:35.470Z","type":"message"}
{"nick":"isaacs","message":"we can discuss it as new API for 0.12","date":"2013-03-24T01:29:48.759Z","type":"message"}
{"nick":"mmalecki","message":"sure","date":"2013-03-24T01:29:50.820Z","type":"message"}
{"nick":"chrisdickinson","reason":"Quit: ZNC - http://znc.sourceforge.net","date":"2013-03-24T01:30:08.657Z","type":"quit"}
{"nick":"chrisdickinson","date":"2013-03-24T01:32:24.784Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-24T01:38:14.610Z","type":"nick"}
{"nick":"stagas","date":"2013-03-24T01:41:29.417Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Alexey Kupershtokh\u000f \u00037v0.10\u000f * \u00029fae4dc\u0002 : timer: fix off-by-one ms error  Fix #5103 - http://git.io/LUdZ6g","date":"2013-03-24T01:48:13.894Z","type":"message"}
{"nick":"isaacs","message":"always nice to find a forgotten pull req that fixes a new bug 0;","date":"2013-03-24T01:49:51.387Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2013-03-24T01:49:53.076Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-03-24T01:50:07.077Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-03-24T01:54:30.983Z","type":"nick"}
{"nick":"brson","date":"2013-03-24T01:58:46.831Z","type":"join"}
{"nick":"kazupon","date":"2013-03-24T02:01:36.429Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #58 \u00034FAILURE\u000f osx-x64 (1/565) windows-x64 (4/565) osx-ia32 (2/565) smartos-ia32 (1/565) windows-ia32 (4/565) http://jenkins.nodejs.org/job/nodejs-v0.10/58/","date":"2013-03-24T02:06:11.939Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-03-24T02:06:34.148Z","type":"quit"}
{"nick":"tjfontaine","message":"goddamn java","date":"2013-03-24T02:06:45.700Z","type":"message"}
{"nick":"tjfontaine","message":"FATAL: null","date":"2013-03-24T02:06:54.746Z","type":"message"}
{"nick":"tjfontaine","message":"java.lang.NullPointerException","date":"2013-03-24T02:06:55.288Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-03-24T02:12:50.255Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-03-24T02:14:57.864Z","type":"join"}
{"nick":"mikeal1","reason":"Quit: Leaving.","date":"2013-03-24T02:30:17.978Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2013-03-24T02:31:41.838Z","type":"quit"}
{"nick":"brson","date":"2013-03-24T02:33:32.070Z","type":"join"}
{"nick":"kazupon","date":"2013-03-24T02:35:39.196Z","type":"join"}
{"nick":"mikeal","date":"2013-03-24T02:39:58.634Z","type":"join"}
{"nick":"indexzero","date":"2013-03-24T02:47:05.441Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-03-24T02:49:54.358Z","type":"quit"}
{"nick":"hz","date":"2013-03-24T02:56:56.221Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: so, the wireshark output is kind of hard to read..","date":"2013-03-24T03:06:14.947Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: because there's so much going on in this test.","date":"2013-03-24T03:06:22.444Z","type":"message"}
{"nick":"tjfontaine","message":"yes, if you limit the count to 2 or 3 does that help?","date":"2013-03-24T03:06:41.026Z","type":"message"}
{"nick":"tjfontaine","message":"or do you need more to trigger the failure mode?","date":"2013-03-24T03:06:54.958Z","type":"message"}
{"nick":"tjfontaine","message":"oh that reminds me","date":"2013-03-24T03:07:02.435Z","type":"message"}
{"nick":"tjfontaine","message":"not that this test is easier to reproduce, http://jenkins.nodejs.org//job/nodejs-master/DESTCPU=x64,label=osx/lastCompletedBuild//tapTestReport/test.tap-29/","date":"2013-03-24T03:07:40.328Z","type":"message"}
{"nick":"isaacs","message":"running wiht `tcp.port == 12346 && tcp.flags.fin` in the filter","date":"2013-03-24T03:07:40.494Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-03-24T03:08:07.052Z","type":"message"}
{"nick":"isaacs","message":"i suspect it's related","date":"2013-03-24T03:08:13.698Z","type":"message"}
{"nick":"isaacs","message":"though, this is x64","date":"2013-03-24T03:08:22.841Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-24T03:09:13.167Z","type":"quit"}
{"nick":"tjfontaine","message":"ya, though I'm kinda worried it feels like a generic child process problem","date":"2013-03-24T03:09:30.851Z","type":"message"}
{"nick":"isaacs","message":"well, a generic \"sent a port to a child proc\" problem, anyway","date":"2013-03-24T03:10:47.144Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2013-03-24T03:10:55.720Z","type":"message"}
{"nick":"wolfeidau","date":"2013-03-24T03:19:28.819Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T03:26:52.240Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T03:27:18.956Z","type":"join"}
{"nick":"wolfeida_","date":"2013-03-24T03:30:57.604Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 248 seconds","date":"2013-03-24T03:32:04.755Z","type":"quit"}
{"nick":"wolfeidau","reason":"Ping timeout: 256 seconds","date":"2013-03-24T03:34:09.736Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-24T03:37:30.302Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-24T03:46:16.116Z","type":"nick"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-03-24T03:47:46.007Z","type":"nick"}
{"nick":"wolfeida_","reason":"Remote host closed the connection","date":"2013-03-24T03:54:44.191Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-24T04:07:16.214Z","type":"quit"}
{"nick":"trevnorris","date":"2013-03-24T04:31:23.846Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-03-24T04:53:47.246Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-24T05:46:20.243Z","type":"quit"}
{"nick":"mikeal","date":"2013-03-24T05:46:58.308Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-24T06:20:05.331Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-24T06:28:15.378Z","type":"quit"}
{"nick":"kevireilly","reason":"Remote host closed the connection","date":"2013-03-24T06:36:32.975Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-24T06:36:41.243Z","type":"nick"}
{"nick":"kevireilly","date":"2013-03-24T06:36:59.988Z","type":"join"}
{"nick":"trevnorris","message":"ircretary: hi","date":"2013-03-24T06:40:50.504Z","type":"message"}
{"nick":"ircretary","message":"trevnorris: Hello :)","date":"2013-03-24T06:40:50.656Z","type":"message"}
{"nick":"bradleymeck","date":"2013-03-24T06:41:05.157Z","type":"join"}
{"nick":"trevnorris","message":"indutny: um. think I asked ircretary to ask you something when I meant it as a reminder to me to ask you... yeah. it's late.","date":"2013-03-24T06:43:26.358Z","type":"message"}
{"nick":"wolfeidau","date":"2013-03-24T07:05:15.877Z","type":"join"}
{"nick":"luxigo","reason":"Ping timeout: 245 seconds","date":"2013-03-24T07:19:11.832Z","type":"quit"}
{"nick":"stagas","date":"2013-03-24T07:20:35.791Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-24T07:52:06.036Z","type":"quit"}
{"nick":"rendar","date":"2013-03-24T08:12:10.961Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-03-24T08:14:58.115Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-24T08:36:42.652Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 258 seconds","date":"2013-03-24T08:38:02.346Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-24T08:38:07.305Z","type":"nick"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2013-03-24T08:51:49.577Z","type":"nick"}
{"nick":"`3rdEden","date":"2013-03-24T10:05:21.517Z","type":"join"}
{"nick":"Kakera","date":"2013-03-24T10:06:11.157Z","type":"join"}
{"nick":"hz","date":"2013-03-24T10:50:08.470Z","type":"join"}
{"nick":"V1","date":"2013-03-24T11:03:25.516Z","type":"join"}
{"nick":"`3rdEden","reason":"Disconnected by services","date":"2013-03-24T11:03:55.426Z","type":"quit"}
{"nick":"V1","new_nick":"`3rdEden","date":"2013-03-24T11:03:56.961Z","type":"nick"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-24T11:18:20.975Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-03-24T11:18:52.280Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-24T11:53:53.214Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u000250b6549\u0002 : doc: update CONTRIBUTING.md  * Latest stable is v0.10 now. * Add example  - http://git.io/G4JdrQ","date":"2013-03-24T12:26:21.551Z","type":"message"}
{"nick":"kevireilly","reason":"Read error: Connection reset by peer","date":"2013-03-24T12:26:35.485Z","type":"quit"}
{"nick":"kevireilly","date":"2013-03-24T12:26:51.184Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002329b538\u0002 : doc: update CONTRIBUTING.md  * Latest stable is v0.10 now. * Add example  - http://git.io/knxYPA","date":"2013-03-24T12:29:47.989Z","type":"message"}
{"nick":"bnoordhuis","message":"missed a reference to v0.8","date":"2013-03-24T12:29:48.143Z","type":"message"}
{"nick":"mraleph1","reason":"Read error: Connection reset by peer","date":"2013-03-24T12:36:28.267Z","type":"quit"}
{"nick":"mraleph","date":"2013-03-24T12:36:32.526Z","type":"join"}
{"nick":"mraleph","reason":"Client Quit","date":"2013-03-24T12:39:52.554Z","type":"quit"}
{"nick":"mraleph","date":"2013-03-24T12:40:32.151Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #59 \u00037UNSTABLE\u000f osx-x64 (1/565) windows-x64 (6/565) osx-ia32 (2/565) smartos-ia32 (1/565) windows-ia32 (4/565) http://jenkins.nodejs.org/job/nodejs-v0.10/59/","date":"2013-03-24T12:42:49.573Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #60 \u00037UNSTABLE\u000f windows-x64 (5/565) osx-ia32 (2/565) smartos-x64 (1/565) smartos-ia32 (1/565) windows-ia32 (4/565) http://jenkins.nodejs.org/job/nodejs-v0.10/60/","date":"2013-03-24T12:59:24.810Z","type":"message"}
{"nick":"luxigo","date":"2013-03-24T13:01:52.661Z","type":"join"}
{"nick":"dostoyevsky","reason":"Quit: leaving","date":"2013-03-24T13:17:49.051Z","type":"quit"}
{"nick":"dostoyevsky","date":"2013-03-24T13:31:47.098Z","type":"join"}
{"nick":"dostoyevsky","message":"What should I do if I cannot allocate anymore memory for uv_read?  ","date":"2013-03-24T13:32:36.482Z","type":"message"}
{"nick":"dostoyevsky","message":"I get: uv__read: Assertion `buf.len > 0' failed.","date":"2013-03-24T13:32:52.220Z","type":"message"}
{"nick":"dostoyevsky","message":"I would like the cancel the read and then reconnect to the server..","date":"2013-03-24T13:33:13.870Z","type":"message"}
{"nick":"cjd","message":"keep a tiny buffer around for just suck an occasion?","date":"2013-03-24T13:36:04.388Z","type":"message"}
{"nick":"cjd","message":"but indeed you bring up a good point that possibly you would want to kill the read during the allocate callback","date":"2013-03-24T13:36:43.842Z","type":"message"}
{"nick":"dostoyevsky","message":"cjd: I don't do any allocation there... I just keep a static buffer that has a certain size","date":"2013-03-24T13:37:47.112Z","type":"message"}
{"nick":"bnoordhuis","message":"dostoyevsky: what cjd said. if you open an issue, maybe we can change it that returning a zero-length buffer disables the read","date":"2013-03-24T13:37:56.386Z","type":"message"}
{"nick":"dostoyevsky","message":"And it should be enough for most things but if it doesn't I just want to cancel ","date":"2013-03-24T13:38:08.111Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm fine with a change like that but i bet it's hairy on windows","date":"2013-03-24T13:38:35.840Z","type":"message"}
{"nick":"dostoyevsky","message":"Yeah, I see from the code that there is no way to do what I want right now...","date":"2013-03-24T13:38:41.470Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-24T13:49:04.270Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u00028632af3\u0002 : tools: update gyp to r1601  Among other things, this should make it easie - http://git.io/-Ee7UQ","date":"2013-03-24T14:03:45.249Z","type":"message"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-03-24T14:41:59.624Z","type":"nick"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-03-24T14:42:43.023Z","type":"nick"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-03-24T15:09:39.404Z","type":"quit"}
{"nick":"erickt","date":"2013-03-24T15:13:08.548Z","type":"join"}
{"nick":"stagas_","date":"2013-03-24T15:20:25.588Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-03-24T15:22:00.101Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-24T15:22:06.176Z","type":"nick"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-24T15:23:45.838Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T15:30:39.334Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T15:33:10.584Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T15:38:26.901Z","type":"join"}
{"nick":"CoverSlide","reason":"Read error: Connection reset by peer","date":"2013-03-24T15:41:35.674Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-03-24T15:54:21.145Z","type":"join"}
{"nick":"AvianFlu","date":"2013-03-24T15:55:17.724Z","type":"join"}
{"nick":"indexzero","date":"2013-03-24T16:00:02.993Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 260 seconds","date":"2013-03-24T16:02:36.471Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-24T16:03:19.512Z","type":"nick"}
{"nick":"isaacs","message":"this child-process-fork-getconnections test on mac is really making me a bit insane...","date":"2013-03-24T16:15:07.118Z","type":"message"}
{"nick":"isaacs","message":"wiresharked it, and a) every packet has a bad checksum and b) there's never a plain old FIN sent, always a FIN/ACK, so why the hell are we reading an EOF??","date":"2013-03-24T16:15:54.956Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-03-24T16:16:16.049Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-24T16:16:32.400Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 258 seconds","date":"2013-03-24T16:21:05.104Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-03-24T16:22:28.074Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2013-03-24T16:37:52.048Z","type":"quit"}
{"nick":"tjfontaine","message":"isaacs: I would bet that a checksum isn't being done for local traffic, you might as well turn that verification off","date":"2013-03-24T16:42:04.570Z","type":"message"}
{"nick":"isaacs","message":"ah, yeah","date":"2013-03-24T16:43:27.508Z","type":"message"}
{"nick":"isaacs","message":"that makes sense","date":"2013-03-24T16:43:31.117Z","type":"message"}
{"nick":"isaacs","message":"the traffic looks identical in both cases, though","date":"2013-03-24T16:43:45.406Z","type":"message"}
{"nick":"tjfontaine","message":"a finack means a graceful shutdown of the tcp connection?","date":"2013-03-24T16:44:37.589Z","type":"message"}
{"nick":"isaacs","message":"it should go, FIN, FIN/ACK, ACK","date":"2013-03-24T16:44:57.603Z","type":"message"}
{"nick":"isaacs","message":"if it's a graceful shutdown","date":"2013-03-24T16:45:08.526Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2013-03-24T16:46:29.285Z","type":"message"}
{"nick":"mikeal","date":"2013-03-24T16:46:45.735Z","type":"join"}
{"nick":"hz","date":"2013-03-24T16:47:37.003Z","type":"quit"}
{"nick":"isaacs","message":"oh, but we're not doing graceful shutdowns anyway...","date":"2013-03-24T16:49:03.804Z","type":"message"}
{"nick":"isaacs","message":"we just do socket.destroy() in the child if we get the messag","date":"2013-03-24T16:49:12.423Z","type":"message"}
{"nick":"isaacs","message":"and the same thing happens if the child crashes, and i'm doing an assert to make sure it's going ok...","date":"2013-03-24T16:49:24.854Z","type":"message"}
{"nick":"isaacs","message":"alright","date":"2013-03-24T16:49:27.906Z","type":"message"}
{"nick":"tjfontaine","message":"this random thread agrees with that http://marc.info/?l=linux-netdev&m=134409837229053&w=2","date":"2013-03-24T16:49:36.722Z","type":"message"}
{"nick":"isaacs","message":"but still, i'm NOT getting a FIN from the client, so why do I get an EOF??","date":"2013-03-24T16:49:37.484Z","type":"message"}
{"nick":"isaacs","message":"in the application, it does read() and gets 0 bytes, which means \"the other side sent a FIN\", but that's not actually happening.","date":"2013-03-24T16:50:58.836Z","type":"message"}
{"nick":"isaacs","message":"again, all signs point towards a bug in the OS X tcp stack","date":"2013-03-24T16:51:09.353Z","type":"message"}
{"nick":"isaacs","message":"or a bug in my understanding of TCP, which is probably more likely ;)","date":"2013-03-24T16:51:27.453Z","type":"message"}
{"nick":"isaacs","message":"or in uv or in node","date":"2013-03-24T16:51:33.937Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-03-24T16:52:15.170Z","type":"message"}
{"nick":"tjfontaine","message":"so you would expect uv/read to report econnreset or einval instead of eof?","date":"2013-03-24T16:52:54.478Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-24T16:53:04.648Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-24T16:57:24.690Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #61 \u0002ABORTED\u0002 smartos-ia32 (1/565) linux-ia32 (1/565) http://jenkins.nodejs.org/job/nodejs-v0.10/61/","date":"2013-03-24T16:57:29.276Z","type":"message"}
{"nick":"tjfontaine","message":"that gyp upgrade isn't behaving well","date":"2013-03-24T16:57:50.123Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: well, no, i would expect it to not fall out of the read() loop, because the other side HASN'T sent a fin packet, or closed the connection, or reset.","date":"2013-03-24T16:58:50.239Z","type":"message"}
{"nick":"tjfontaine","message":"ircretary: tell bnoordhuis the gyp upgrade made windows unhappy http://jenkins.nodejs.org/job/nodejs-v0.10/DESTCPU=ia32,label=windows/61/console and seems to have broken for the osx buildslave, but works fine locally","date":"2013-03-24T16:58:51.681Z","type":"message"}
{"nick":"ircretary","message":"tjfontaine: I'll be sure to tell bnoordhuis","date":"2013-03-24T16:58:51.865Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: hm right","date":"2013-03-24T16:59:12.890Z","type":"message"}
{"nick":"isaacs","message":"we should write our own tcp stack","date":"2013-03-24T17:00:20.546Z","type":"message"}
{"nick":"tjfontaine","message":"oh the gyp upgrade now expects xcodebuild to be there","date":"2013-03-24T17:00:20.739Z","type":"message"}
{"nick":"isaacs","message":"in JavaScript","date":"2013-03-24T17:00:23.805Z","type":"message"}
{"nick":"tjfontaine","message":"NIH ALL THE THINGS","date":"2013-03-24T17:00:26.899Z","type":"message"}
{"nick":"LOUDBOT","message":"FUCK YOU I WON'T DO IT","date":"2013-03-24T17:00:27.093Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-03-24T17:00:30.544Z","type":"message"}
{"nick":"isaacs","message":"UDP stack, too","date":"2013-03-24T17:00:37.906Z","type":"message"}
{"nick":"isaacs","message":"we should just create JavaScript bindings to all the hardware interrupts, and talk directly to the machine","date":"2013-03-24T17:01:09.617Z","type":"message"}
{"nick":"tjfontaine","message":"nodejs-kernel","date":"2013-03-24T17:01:22.729Z","type":"message"}
{"nick":"isaacs","message":"operating systems are an antipattern","date":"2013-03-24T17:01:25.676Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-24T17:01:40.580Z","type":"join"}
{"nick":"tjfontaine","message":"yup it now uses xcodebuild to detect sdk https://github.com/joyent/node/compare/329b5388ba5a...8632af381e70#L19R226","date":"2013-03-24T17:02:06.632Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #62 \u0002ABORTED\u0002 linux-x64 (1/565) smartos-ia32 (1/565) http://jenkins.nodejs.org/job/nodejs-v0.10/62/","date":"2013-03-24T17:12:38.317Z","type":"message"}
{"nick":"isaacs","message":"so, i think the next step here is to write a standalone C program that does the same thing as this test, and see if we can get it to fail in the same way","date":"2013-03-24T17:16:17.108Z","type":"message"}
{"nick":"isaacs","message":"then at least, I'll have something to put in a bug report to aapl","date":"2013-03-24T17:16:31.792Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-03-24T17:22:55.571Z","type":"join"}
{"nick":"kevireilly","reason":"Ping timeout: 245 seconds","date":"2013-03-24T17:25:50.105Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-24T17:27:08.675Z","type":"quit"}
{"nick":"dominictarr","date":"2013-03-24T17:29:03.598Z","type":"join"}
{"nick":"dominictarr","reason":"Client Quit","date":"2013-03-24T17:33:31.515Z","type":"quit"}
{"nick":"tjfontaine","message":"isaacs: ya","date":"2013-03-24T17:35:21.158Z","type":"message"}
{"nick":"tjfontaine","message":"or it could be something else entirely :)","date":"2013-03-24T17:35:29.157Z","type":"message"}
{"nick":"jez0990","reason":"Ping timeout: 252 seconds","date":"2013-03-24T17:40:34.570Z","type":"quit"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2013-03-24T17:43:00.090Z","type":"quit"}
{"nick":"mikeal","date":"2013-03-24T17:43:36.363Z","type":"join"}
{"nick":"c4milo_","date":"2013-03-24T17:51:23.037Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-03-24T17:52:27.558Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-24T17:55:38.878Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-03-24T17:56:32.715Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2013-03-24T17:58:00.243Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-03-24T17:59:55.954Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-24T18:00:26.367Z","type":"quit"}
{"nick":"jez0990","date":"2013-03-24T18:02:41.120Z","type":"join"}
{"nick":"dostoyevsky","message":"If I call uv_read_stop and uv_close in alloc_cb when in uv__read and then introduce a termination flag to the loop when \"buf.len == 0\" would this work as intended? ","date":"2013-03-24T18:03:08.800Z","type":"message"}
{"nick":"dostoyevsky","message":"I'Ve also opened an issue on this: https://github.com/joyent/libuv/issues/752","date":"2013-03-24T18:11:53.636Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 252 seconds","date":"2013-03-24T18:17:14.528Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-24T18:25:34.762Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-24T18:26:09.424Z","type":"join"}
{"nick":"mikeal","date":"2013-03-24T18:36:36.630Z","type":"join"}
{"nick":"`3rdEden","date":"2013-03-24T18:56:08.005Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-24T19:00:29.878Z","type":"quit"}
{"nick":"`3rdEden","reason":"Ping timeout: 245 seconds","date":"2013-03-24T19:04:11.828Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-03-24T19:13:21.898Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T19:18:52.941Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T19:19:18.326Z","type":"join"}
{"nick":"c4milo_","reason":"Remote host closed the connection","date":"2013-03-24T19:19:35.631Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-03-24T19:23:27.451Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2013-03-24T19:24:10.307Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-24T19:28:07.452Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-03-24T19:28:24.520Z","type":"quit"}
{"nick":"browndav","date":"2013-03-24T19:37:51.207Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T19:38:51.288Z","type":"quit"}
{"nick":"browndav","message":"hi -- I'm working with a simple node.js native module that calls a blocking function (flock, in this case) in a function invoked via uv_queue_work(uv_default_loop(), ...). Do I need to explicitly uf_ref or uv_unref anything, or does uv_queue_work() take care of that?","date":"2013-03-24T19:39:23.166Z","type":"message"}
{"nick":"browndav","message":"fwiw, there's not anything else long-running that'd require node to stay running","date":"2013-03-24T19:39:45.757Z","type":"message"}
{"nick":"browndav","message":"thanks in advance if anyone knows off the top of their head","date":"2013-03-24T19:40:29.934Z","type":"message"}
{"nick":"hz","date":"2013-03-24T19:41:09.482Z","type":"join"}
{"nick":"browndav","message":"this is for node v0.8.22 and v0.10.1","date":"2013-03-24T19:41:14.251Z","type":"message"}
{"nick":"brson","date":"2013-03-24T19:46:02.462Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-24T19:48:00.467Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-03-24T19:53:11.333Z","type":"join"}
{"nick":"c4milo","date":"2013-03-24T19:54:43.893Z","type":"join"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-03-24T19:55:08.618Z","type":"nick"}
{"nick":"cjd","reason":"Quit: Lost terminal","date":"2013-03-24T20:02:50.983Z","type":"quit"}
{"nick":"browndav","date":"2013-03-24T20:03:39.019Z","type":"part"}
{"nick":"tjfontaine","message":"bradleymeck: uv_queue_work will handle the reference handling, don't worry about it unless you specifically want the op to not keep the loop open","date":"2013-03-24T20:17:17.534Z","type":"message"}
{"nick":"bradleymeck","message":"?","date":"2013-03-24T20:17:50.121Z","type":"message"}
{"nick":"tjfontaine","message":"sorry","date":"2013-03-24T20:17:53.314Z","type":"message"}
{"nick":"tjfontaine","message":"didn't realize browndav left","date":"2013-03-24T20:18:02.234Z","type":"message"}
{"nick":"tjfontaine","message":"br<tab> fail","date":"2013-03-24T20:18:05.581Z","type":"message"}
{"nick":"tjfontaine","message":"bradleymeck: continue about your day :)","date":"2013-03-24T20:18:24.155Z","type":"message"}
{"nick":"kazupon","date":"2013-03-24T20:18:36.214Z","type":"join"}
{"nick":"bradleymeck","message":"i wish tab complete would have some check to see who you recently referenced, i do that all the time","date":"2013-03-24T20:22:02.359Z","type":"message"}
{"nick":"tjfontaine","message":"it generally does, but the part gets in the way","date":"2013-03-24T20:22:29.688Z","type":"message"}
{"nick":"tjfontaine","message":"at least in irssi anyway","date":"2013-03-24T20:22:35.646Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-03-24T20:23:35.250Z","type":"quit"}
{"nick":"bradleymeck","message":"need to find a better way to get gyp to invoke cmake...","date":"2013-03-24T20:27:16.456Z","type":"message"}
{"nick":"tjfontaine","message":"you must be in an interesting world","date":"2013-03-24T20:27:43.884Z","type":"message"}
{"nick":"bradleymeck","message":"https://github.com/bmeck/uvcat , putting curl and libuv together","date":"2013-03-24T20:28:40.087Z","type":"message"}
{"nick":"bradleymeck","message":"curl's cmake is very angry at gyp","date":"2013-03-24T20:28:51.096Z","type":"message"}
{"nick":"bradleymeck","message":"been trying to move this damn thing to gyp for 2 days","date":"2013-03-24T20:29:02.294Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-03-24T20:44:37.623Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-24T20:45:15.762Z","type":"nick"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-24T20:58:38.924Z","type":"quit"}
{"nick":"trevnorris","date":"2013-03-24T21:10:31.944Z","type":"join"}
{"nick":"kazupon","date":"2013-03-24T21:19:20.330Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-24T21:19:28.731Z","type":"nick"}
{"nick":"trevnorris","message":"helloooo out there.","date":"2013-03-24T21:21:11.617Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.10\u000f * \u0002c0d5001\u0002 : stream: Fix early end in Writables on zero-length writes  Doing this caus - http://git.io/wy6PLg","date":"2013-03-24T21:23:35.047Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-03-24T21:27:47.217Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-03-24T21:27:47.377Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine: weird that the new gyp breaks on windows","date":"2013-03-24T21:31:54.088Z","type":"message"}
{"nick":"bnoordhuis","message":"looks like it's failing to link to gdi32.lib or kernel32.lib","date":"2013-03-24T21:32:26.998Z","type":"message"}
{"nick":"bnoordhuis","message":"and user32.lib, it seems","date":"2013-03-24T21:33:56.938Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #63 \u0002ABORTED\u0002 smartos-ia32 (1/566) http://jenkins.nodejs.org/job/nodejs-v0.10/63/","date":"2013-03-24T21:36:29.990Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: this sounds familiar, I think bert might have fixed this already on master","date":"2013-03-24T21:39:45.949Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: he did? wasn't that the /SAFESEH thing?","date":"2013-03-24T21:41:27.740Z","type":"message"}
{"nick":"tjfontaine","message":"well there was something else we hit, that had to do with a gyp version difference, which we weren't seeing on 0.8 but were on master/v0.10 because we nolonger use a specific svn rev but a git checkout","date":"2013-03-24T21:42:46.831Z","type":"message"}
{"nick":"tjfontaine","message":"oh it was libuv that he fixed it in","date":"2013-03-24T21:43:09.179Z","type":"message"}
{"nick":"bnoordhuis","message":"right. i remember that one","date":"2013-03-24T21:43:31.340Z","type":"message"}
{"nick":"hz","date":"2013-03-24T21:44:54.909Z","type":"quit"}
{"nick":"bnoordhuis","message":"i guess it's https://codereview.chromium.org/12256017","date":"2013-03-24T21:45:44.615Z","type":"message"}
{"nick":"bnoordhuis","message":"oh hah, that's the same changeset bert mentions in his libuv commit log","date":"2013-03-24T21:46:12.616Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-03-24T21:46:27.871Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: when i create a new branch, jenkins will try and build that, right?","date":"2013-03-24T21:48:25.680Z","type":"message"}
{"nick":"tjfontaine","message":"no, but I have a job there designed that will prompt you to enter the branch you want to build","date":"2013-03-24T21:48:53.397Z","type":"message"}
{"nick":"bnoordhuis","message":"sweet","date":"2013-03-24T21:49:41.936Z","type":"message"}
{"nick":"tjfontaine","message":"http://jenkins.nodejs.org/job/nodejs-oneoff/build","date":"2013-03-24T21:50:17.576Z","type":"message"}
{"nick":"tjfontaine","message":"I'm pretty sure I could make it so that you could specify a label as well, but for now I think it's still pinned to windows anyway","date":"2013-03-24T21:51:18.154Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: so it turns  out the most expensive operations are creating a Persistent handle and setting it as an internal field.","date":"2013-03-24T21:51:33.117Z","type":"message"}
{"nick":"trevnorris","message":"those two operations are ~60-70% of execution time for a new buffer.","date":"2013-03-24T21:53:39.831Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: you have a mac laptop these days, right?","date":"2013-03-24T21:56:09.256Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033bnoordhuis\u000f created branch fix-windows-build - http://git.io/wVWnCw","date":"2013-03-24T21:58:45.629Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: yep","date":"2013-03-24T21:59:01.715Z","type":"message"}
{"nick":"isaacs","message":"test/simple/test-child-process-fork-getconnections.js failing on ia32 mac is making me a bit crazy","date":"2013-03-24T21:59:08.584Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: where do i start that job?","date":"2013-03-24T21:59:16.854Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: only ia32, not x64?","date":"2013-03-24T21:59:25.453Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it'd be good if you could take a look at it when you get a chance.","date":"2013-03-24T21:59:27.158Z","type":"message"}
{"nick":"isaacs","message":"i've only seen it fail on ia32","date":"2013-03-24T21:59:32.744Z","type":"message"}
{"nick":"isaacs","message":"not on x4","date":"2013-03-24T21:59:34.624Z","type":"message"}
{"nick":"isaacs","message":"x64","date":"2013-03-24T21:59:37.391Z","type":"message"}
{"nick":"bnoordhuis","message":"okay. i think i've seen it fail on x64 but i might me misremembering that","date":"2013-03-24T21:59:52.111Z","type":"message"}
{"nick":"isaacs","message":"and only ~1% of the time, unless you're the jenkins build machine, then ti's close to 100% of the time","date":"2013-03-24T21:59:52.463Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll look at it tonight or tomorrow","date":"2013-03-24T22:00:08.023Z","type":"message"}
{"nick":"isaacs","message":"i've got a branch where i've made the test more noisy, fixing-test-child-process-fork-getconnections","date":"2013-03-24T22:00:24.630Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: what are you referring to?","date":"2013-03-24T22:00:24.820Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: the link I pasted above? are you logged in?","date":"2013-03-24T22:00:26.830Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, you pasted a link","date":"2013-03-24T22:00:37.374Z","type":"message"}
{"nick":"bnoordhuis","action":"blushes","date":"2013-03-24T22:00:47.062Z","type":"action"}
{"nick":"isaacs","message":"bnoordhuis: afaict, looking at wireshark, we are not sending a FIN from the client.  however, the server sees EOF anyway","date":"2013-03-24T22:00:49.063Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: you saw read() return 0 with dtruss or dtrace?","date":"2013-03-24T22:01:12.549Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: dtruss, and also by putting a fprintf in libuv","date":"2013-03-24T22:01:24.962Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2013-03-24T22:01:29.514Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: new allocator i'm working on. thought I was doing awesome and all until i realized v8 was gc-ing the objects immediately because the persistent handles weren't being attached to js objects.","date":"2013-03-24T22:01:29.871Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but dtruss is dtrace","date":"2013-03-24T22:01:31.598Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: is it possible for osx to have a special case for lo such that it doesn't send FIN?","date":"2013-03-24T22:01:31.768Z","type":"message"}
{"nick":"isaacs","message":"the wireshark output looks identical for success and for failure.","date":"2013-03-24T22:01:58.391Z","type":"message"}
{"nick":"trevnorris","message":"that operation alone doubled execution time.","date":"2013-03-24T22:02:10.225Z","type":"message"}
{"nick":"isaacs","message":"but for the failure case, i'd expdect that a FIN was sent TO the 12346 peer","date":"2013-03-24T22:02:12.221Z","type":"message"}
{"nick":"isaacs","message":"since that's the one getting the EOF","date":"2013-03-24T22:02:23.911Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: nice, it just works","date":"2013-03-24T22:02:35.192Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-24T22:02:41.163Z","type":"quit"}
{"nick":"isaacs","message":"if it's an apple error, then we can send it to cupertino, but probably not without a more minimized test case (ie, no uv or node)","date":"2013-03-24T22:02:57.621Z","type":"message"}
{"nick":"bnoordhuis","message":"an os x kernel bug? unheard of!","date":"2013-03-24T22:03:28.334Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2013-03-24T22:03:32.410Z","type":"message"}
{"nick":"isaacs","message":"if that's what it is, i'm ok just clubbing the test, or doing whatever hacky workaround we need to do","date":"2013-03-24T22:03:43.946Z","type":"message"}
{"nick":"isaacs","message":"but we need to establish it's not our problem, first.","date":"2013-03-24T22:03:53.798Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-03-24T22:03:58.054Z","type":"message"}
{"nick":"isaacs","message":"you're a bit more familiar with the uv internals in this area, so maybe there's something there you'll see that i missed.","date":"2013-03-24T22:04:11.820Z","type":"message"}
{"nick":"isaacs","message":"also, it could be somehow related to the same thing that's causing ia32 to fail test-writefloat.js and test-writedouble.js every time","date":"2013-03-24T22:04:39.793Z","type":"message"}
{"nick":"isaacs","message":"in any event, if we can get our tests green across the board, we can reject pull requests much more efficiently.","date":"2013-03-24T22:05:06.900Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: re persistent handles, i'm not following. when an object is persistent, it's persistent until you Dispose() it","date":"2013-03-24T22:05:07.243Z","type":"message"}
{"nick":"bnoordhuis","message":"unless you also MakeWeak() it","date":"2013-03-24T22:05:17.671Z","type":"message"}
{"nick":"bnoordhuis","message":"but then your callback gets called when it's gc'ed","date":"2013-03-24T22:06:12.772Z","type":"message"}
{"nick":"trevnorris","message":"each object that you attach data to must have the persistent attached or v8 immediately calls the makeweak callback,","date":"2013-03-24T22:06:52.019Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-24T22:06:58.563Z","type":"quit"}
{"nick":"bnoordhuis","message":"right. now it makes more sense :)","date":"2013-03-24T22:07:42.467Z","type":"message"}
{"nick":"dostoyevsky","message":"I kind of like to use libuv with C++11 lambdas","date":"2013-03-24T22:08:30.628Z","type":"message"}
{"nick":"isaacs","message":"ok, i'm off to run errands and watch Oz","date":"2013-03-24T22:09:35.348Z","type":"message"}
{"nick":"isaacs","message":"have fun, Node Heroes","date":"2013-03-24T22:09:43.098Z","type":"message"}
{"nick":"tjfontaine","message":"the great and powerful, or the HBO series? :)","date":"2013-03-24T22:09:51.453Z","type":"message"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-03-24T22:09:54.268Z","type":"quit"}
{"nick":"tjfontaine","message":"bnoordhuis: ok that seems to have fixed windows","date":"2013-03-24T22:11:05.700Z","type":"message"}
{"nick":"tjfontaine","message":"also graphviz-repl is a cute little module","date":"2013-03-24T22:12:34.708Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-24T22:13:06.250Z","type":"nick"}
{"nick":"dominictarr","date":"2013-03-24T22:13:40.309Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-24T22:15:32.901Z","type":"quit"}
{"nick":"bnoordhuis","message":"dostoyevsky: you can, can't you?","date":"2013-03-24T22:16:09.814Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002690a8cc\u0002 : deps: fix openssl build on windows  Commit 8632af3 (\"tools: update gyp to - http://git.io/A7RsBA","date":"2013-03-24T22:17:07.838Z","type":"message"}
{"nick":"wolfeidau","date":"2013-03-24T22:17:51.988Z","type":"join"}
{"nick":"dostoyevsky","message":"bnoordhuis: I've written a quite nice C++ wrapper based on libuv where I can use lambdas quite nicely.  Like server->get(\"key\", [](const char* value) { /* do somethign with value */ })","date":"2013-03-24T22:17:58.131Z","type":"message"}
{"nick":"dostoyevsky","message":"The only problem is that you need to get the capturing part of the lambda right.  Because at the time your lambda is called other variables that you are refering too might be already destroyed, so you need to use the copy & capture correctly.  But once you got this, it's very nice. :)","date":"2013-03-24T22:19:29.744Z","type":"message"}
{"nick":"kazupon","date":"2013-03-24T22:21:52.916Z","type":"join"}
{"nick":"dostoyevsky","message":"But finding out you are doing it wrong involves quite a lot of debugging and coredumps won't be really helpful at all...  There doesn't seem to be much support yet for using lambdas after local variables have been deleted from the stack...  That probably needs to change before it will be as nice to use as in JavaScript","date":"2013-03-24T22:23:15.849Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: okay, confirmed. also happens with x64 builds","date":"2013-03-24T22:23:45.826Z","type":"message"}
{"nick":"bnoordhuis","message":"dostoyevsky: that's the bleeding edge for you, a harsh environment","date":"2013-03-24T22:24:23.546Z","type":"message"}
{"nick":"rendar","date":"2013-03-24T22:24:50.861Z","type":"quit"}
{"nick":"dostoyevsky","message":"bnoordhuis: Do you think so?","date":"2013-03-24T22:25:00.622Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: ya I've seen it happen with x64, it's just been easier to reproduce on ia32 (also when underload)","date":"2013-03-24T22:25:35.295Z","type":"message"}
{"nick":"bnoordhuis","message":"it happens more often with ia32? or is it because of system load?","date":"2013-03-24T22:26:22.813Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2013-03-24T22:26:28.821Z","type":"quit"}
{"nick":"tjfontaine","message":"without adding load, it was easier to hit with ia32, isaacs then started running things like `make doc` etc in another terminal and was hittig it more often, then once he started to add his debugging to it and running with dtruss -n node he was hitting it nearly every time","date":"2013-03-24T22:27:59.914Z","type":"message"}
{"nick":"dostoyevsky","message":"What one can do already in C++ right now is something like: ``uv_close(stream, [](uv_handle_t* h) { /* something */ })''","date":"2013-03-24T22:28:32.077Z","type":"message"}
{"nick":"dostoyevsky","message":"But if you were to support C++ you could make capturing lambdas available","date":"2013-03-24T22:28:50.359Z","type":"message"}
{"nick":"dostoyevsky","message":"So one could write: ``uv_close(stream, [this](uv_handle_t* h) { this->doSomething() })''","date":"2013-03-24T22:29:30.300Z","type":"message"}
{"nick":"dostoyevsky","message":"I don't think you would need to change much to get capturing lambdas for C++","date":"2013-03-24T22:30:03.005Z","type":"message"}
{"nick":"bnoordhuis","message":"dostoyevsky: is that a suggestion for a change in libuv or ?","date":"2013-03-24T22:31:35.278Z","type":"message"}
{"nick":"dostoyevsky","message":"bnoordhuis: Just an idea.  But I am not sure what your plans are for libuv, or whether you consider C++ lambdas interesting at all...","date":"2013-03-24T22:32:12.896Z","type":"message"}
{"nick":"dostoyevsky","message":"I mean C has a certain simplicity","date":"2013-03-24T22:32:30.340Z","type":"message"}
{"nick":"dostoyevsky","message":"And C++ is a moving target kind of. ;-)","date":"2013-03-24T22:32:58.421Z","type":"message"}
{"nick":"dostoyevsky","message":"And you already have the lambda stuff in JavaScript","date":"2013-03-24T22:33:20.539Z","type":"message"}
{"nick":"bnoordhuis","message":"dostoyevsky: right. libuv is pure c and will remain that way","date":"2013-03-24T22:33:39.968Z","type":"message"}
{"nick":"bnoordhuis","message":"you're free to add a c++ shim, of course","date":"2013-03-24T22:33:47.196Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-24T22:43:16.143Z","type":"quit"}
{"nick":"bnoordhuis","message":"i'm having a complete mind blankout","date":"2013-03-24T22:43:45.883Z","type":"message"}
{"nick":"bnoordhuis","message":"how do i open a new buffer in vim that's not tied to any file?","date":"2013-03-24T22:43:57.504Z","type":"message"}
{"nick":"bnoordhuis","message":":e requires a file name, which is not quite what i want","date":"2013-03-24T22:45:00.168Z","type":"message"}
{"nick":"tjfontaine","message":":vnew","date":"2013-03-24T22:45:25.382Z","type":"message"}
{"nick":"tjfontaine","message":"if you're into split views","date":"2013-03-24T22:45:35.032Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess that'll do, thanks","date":"2013-03-24T22:46:23.682Z","type":"message"}
{"nick":"mikeal","date":"2013-03-24T22:46:45.525Z","type":"join"}
{"nick":"bnoordhuis","message":"are my recollections of :bnew the result of fever dreams?","date":"2013-03-24T22:47:02.310Z","type":"message"}
{"nick":"tjfontaine","message":"heh perhaps","date":"2013-03-24T22:48:04.295Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 276 seconds","date":"2013-03-24T22:51:36.471Z","type":"quit"}
{"nick":"bnoordhuis","message":"i think i found at least one core bug thanks to that fork-getconnections test","date":"2013-03-24T23:13:09.146Z","type":"message"}
{"nick":"bnoordhuis","message":"the parent first sends the child x handles","date":"2013-03-24T23:13:12.883Z","type":"message"}
{"nick":"bnoordhuis","message":"then it sends the child x 'close socket x' commands","date":"2013-03-24T23:13:16.455Z","type":"message"}
{"nick":"bnoordhuis","message":"it's interesting that the first command has a raw socket handle attached to it","date":"2013-03-24T23:13:19.841Z","type":"message"}
{"nick":"bnoordhuis","message":"whereas the other commands don't","date":"2013-03-24T23:13:38.760Z","type":"message"}
{"nick":"bnoordhuis","message":"[44964] child new fd=22","date":"2013-03-24T23:14:08.082Z","type":"message"}
{"nick":"bnoordhuis","message":"[44964] child new fd=23","date":"2013-03-24T23:14:08.240Z","type":"message"}
{"nick":"bnoordhuis","message":"[44964] child close id=0 fd=23","date":"2013-03-24T23:14:08.240Z","type":"message"}
{"nick":"bnoordhuis","message":"[44963] zero read (fd=14 shadow=-1)","date":"2013-03-24T23:14:08.240Z","type":"message"}
{"nick":"bnoordhuis","message":"[m] CLIENT: close event","date":"2013-03-24T23:14:08.240Z","type":"message"}
{"nick":"KiNgMaR","reason":"Ping timeout: 264 seconds","date":"2013-03-24T23:14:50.545Z","type":"quit"}
{"nick":"bradleymeck_","date":"2013-03-24T23:14:52.955Z","type":"join"}
{"nick":"bnoordhuis","message":"[44964] child close id=1 fd=<no handle>","date":"2013-03-24T23:15:00.638Z","type":"message"}
{"nick":"bnoordhuis","message":"the 'new' messages are the parent sending the handles","date":"2013-03-24T23:15:00.639Z","type":"message"}
{"nick":"bnoordhuis","message":"the first close message has a socket with fd=23 attached that it's already received","date":"2013-03-24T23:15:00.795Z","type":"message"}
{"nick":"bnoordhuis","message":"the next close message has no handle (and neither do the ones after that)","date":"2013-03-24T23:15:04.201Z","type":"message"}
{"nick":"isaacs_","date":"2013-03-24T23:15:04.425Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 260 seconds","date":"2013-03-24T23:15:10.293Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-03-24T23:15:10.615Z","type":"nick"}
{"nick":"einaros","reason":"Ping timeout: 260 seconds","date":"2013-03-24T23:15:47.232Z","type":"quit"}
{"nick":"einaros","date":"2013-03-24T23:16:02.070Z","type":"join"}
{"nick":"KiNgMaR","date":"2013-03-24T23:16:42.697Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: this is a cross platform bug?","date":"2013-03-24T23:17:16.463Z","type":"message"}
{"nick":"mikeal","date":"2013-03-24T23:18:18.545Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-24T23:19:08.606Z","type":"quit"}
{"nick":"chilts_","date":"2013-03-24T23:19:13.046Z","type":"join"}
{"nick":"philips","reason":"*.net *.split","date":"2013-03-24T23:20:33.502Z","type":"quit"}
{"nick":"CAPSLOCKBOT","reason":"*.net *.split","date":"2013-03-24T23:20:33.691Z","type":"quit"}
{"nick":"chilts","reason":"*.net *.split","date":"2013-03-24T23:20:33.915Z","type":"quit"}
{"nick":"isaacs","reason":"*.net *.split","date":"2013-03-24T23:20:33.916Z","type":"quit"}
{"nick":"philips_","date":"2013-03-24T23:21:37.357Z","type":"join"}
{"nick":"kazupon","date":"2013-03-24T23:22:33.300Z","type":"join"}
{"nick":"philips_","new_nick":"philips","date":"2013-03-24T23:23:37.034Z","type":"nick"}
{"nick":"hij1nx","reason":"Ping timeout: 248 seconds","date":"2013-03-24T23:23:46.796Z","type":"quit"}
{"nick":"wavded_","reason":"Ping timeout: 248 seconds","date":"2013-03-24T23:23:47.299Z","type":"quit"}
{"nick":"Kakera","reason":"Ping timeout: 256 seconds","date":"2013-03-24T23:23:56.076Z","type":"quit"}
{"nick":"hij1nx","date":"2013-03-24T23:24:14.966Z","type":"join"}
{"nick":"isaacs_","new_nick":"Guest88068","date":"2013-03-24T23:24:36.855Z","type":"nick"}
{"nick":"bnoordhuis","message":"tjfontaine: i don't think it's the source of the failure on os x","date":"2013-03-24T23:25:17.623Z","type":"message"}
{"nick":"bnoordhuis","message":"but it is a bug, yes","date":"2013-03-24T23:25:24.375Z","type":"message"}
{"nick":"benoitc","date":"2013-03-24T23:25:51.667Z","type":"join"}
{"nick":"eris0xff","reason":"Ping timeout: 245 seconds","date":"2013-03-24T23:25:53.091Z","type":"quit"}
{"nick":"bnoordhuis","message":"cross platform even :)","date":"2013-03-24T23:26:45.635Z","type":"message"}
{"nick":"tjfontaine","message":"ya, I have a feeling that what you're describing is the source of at least one of the windows errors :)","date":"2013-03-24T23:27:06.970Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2013-03-24T23:29:16.755Z","type":"quit"}
{"nick":"bnoordhuis","message":"it might also explain the failure on os x","date":"2013-03-24T23:30:46.671Z","type":"message"}
{"nick":"bnoordhuis","message":"i think it's reading more than one message off the socket/pipe","date":"2013-03-24T23:31:06.398Z","type":"message"}
{"nick":"tjfontaine","message":"ah","date":"2013-03-24T23:31:15.823Z","type":"message"}
{"nick":"bnoordhuis","message":"but it might not recvmsg all the fds","date":"2013-03-24T23:31:19.025Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033bnoordhuis\u000f created branch tjfontaine-review-this - http://git.io/Wge87Q","date":"2013-03-24T23:33:35.851Z","type":"message"}
{"nick":"bnoordhuis","message":"c'mon MI6","date":"2013-03-24T23:34:29.366Z","type":"message"}
{"nick":"tjfontaine","message":"hehe, what's mi6 missing?","date":"2013-03-24T23:34:54.328Z","type":"message"}
{"nick":"chrisdickinson","reason":"Ping timeout: 264 seconds","date":"2013-03-24T23:35:20.729Z","type":"quit"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/joyent/node/compare/v0.10...tjfontaine-review-this","date":"2013-03-24T23:35:26.266Z","type":"message"}
{"nick":"bnoordhuis","message":"that ^ :)","date":"2013-03-24T23:35:33.274Z","type":"message"}
{"nick":"tjfontaine","message":"[03-24] 19:33:35 < MI6> joyent/node: bnoordhuis created branch tjfontaine-review-this - http://git.io/Wge87Q","date":"2013-03-24T23:35:42.267Z","type":"message"}
{"nick":"tjfontaine","message":"that's what that was?","date":"2013-03-24T23:35:45.350Z","type":"message"}
{"nick":"tjfontaine","message":"anyway, I am testing this change against windows on a hunch :)","date":"2013-03-24T23:36:07.752Z","type":"message"}
{"nick":"bnoordhuis","message":"00:35:26 < MI6> joyent/node: bnoordhuis created branch tjfontaine-review-this - http://git.io/Wge87Q","date":"2013-03-24T23:36:11.197Z","type":"message"}
{"nick":"bnoordhuis","message":"for some reason it only showed up for me now","date":"2013-03-24T23:36:21.860Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe a freenode hiccup","date":"2013-03-24T23:36:26.409Z","type":"message"}
{"nick":"tjfontaine","message":"oh, TCP, it's hard...","date":"2013-03-24T23:36:35.282Z","type":"message"}
{"nick":"chrisdickinson","date":"2013-03-24T23:36:47.993Z","type":"join"}
{"nick":"tjfontaine","message":"bnoordhuis: hm, well no that didn't solve either of the windows ones I was hoping for unfortunately :) I'll see if I can get the other test to fail","date":"2013-03-24T23:47:58.283Z","type":"message"}
{"nick":"dostoyev1ky","date":"2013-03-24T23:51:44.468Z","type":"join"}
{"nick":"Guest88068","reason":"*.net *.split","date":"2013-03-24T23:52:06.362Z","type":"quit"}
{"nick":"bnoordhuis","reason":"*.net *.split","date":"2013-03-24T23:52:06.407Z","type":"quit"}
{"nick":"dostoyevsky","reason":"*.net *.split","date":"2013-03-24T23:52:06.407Z","type":"quit"}
{"nick":"rvagg","reason":"Ping timeout: 264 seconds","date":"2013-03-24T23:52:19.481Z","type":"quit"}
{"nick":"isaacs","date":"2013-03-24T23:52:37.661Z","type":"join"}
{"nick":"rvagg","date":"2013-03-24T23:52:46.671Z","type":"join"}
{"nick":"tjfontaine","message":"hmm doesn't fix test-child-process-fork-net2.js either unfortunately","date":"2013-03-24T23:53:00.779Z","type":"message"}
{"nick":"isaacs","new_nick":"Guest62188","date":"2013-03-24T23:53:01.311Z","type":"nick"}
{"nick":"brson","reason":"Remote host closed the connection","date":"2013-03-24T23:57:47.114Z","type":"quit"}
{"nick":"dscape","reason":"*.net *.split","date":"2013-03-24T23:57:48.939Z","type":"quit"}
{"nick":"chilts_","reason":"*.net *.split","date":"2013-03-24T23:57:52.963Z","type":"quit"}
{"nick":"othiym23","reason":"*.net *.split","date":"2013-03-24T23:57:53.291Z","type":"quit"}
{"nick":"brucem","reason":"*.net *.split","date":"2013-03-24T23:57:53.479Z","type":"quit"}
{"nick":"indutny","reason":"*.net *.split","date":"2013-03-24T23:57:53.639Z","type":"quit"}

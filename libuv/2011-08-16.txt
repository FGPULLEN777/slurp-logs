{"nick":"slurp","date":"2011-08-16T02:45:37.024Z","type":"join"}
{"nick":"ryah!~ry@tinyclouds.org","topic":"v0.5.5 release manager is bnoordhuis","date":"2011-08-16T02:45:37.169Z","type":"topic"}
{"nick":"piscisaureus","message":"http://piscisaureus.no.de/","date":"2011-08-16T02:47:29.783Z","type":"message"}
{"nick":"piscisaureus","message":"Let's see how long this is going to survive","date":"2011-08-16T02:47:29.935Z","type":"message"}
{"nick":"DrPizza","message":"hah","date":"2011-08-16T02:49:24.417Z","type":"message"}
{"nick":"DrPizza","message":"nice","date":"2011-08-16T02:49:25.634Z","type":"message"}
{"nick":"piscisaureus","message":"It will crash as soon something \"rare\" happens, e.g. ryah kicking someone, CIA-95 doing its fancy color thing","date":"2011-08-16T02:54:41.258Z","type":"message"}
{"nick":"DrPizza","message":"heh.","date":"2011-08-16T02:54:53.299Z","type":"message"}
{"nick":"DrPizza","message":"\u0002how 'bout some bold\u0002","date":"2011-08-16T02:55:05.310Z","type":"message"}
{"nick":"DrPizza","message":"that works ","date":"2011-08-16T02:55:14.073Z","type":"message"}
{"nick":"piscisaureus","message":"so far so good","date":"2011-08-16T02:55:14.241Z","type":"message"}
{"nick":"DrPizza","message":"even emboldened in the log","date":"2011-08-16T02:55:23.446Z","type":"message"}
{"nick":"piscisaureus","message":"mirc formatting is easy","date":"2011-08-16T02:55:43.929Z","type":"message"}
{"nick":"DrPizza","message":"\u0016italic\u001funderline\u0002bold\u0002\u001f\u0016","date":"2011-08-16T02:55:57.475Z","type":"message"}
{"nick":"DrPizza","message":"cool, it inverts","date":"2011-08-16T02:56:09.536Z","type":"message"}
{"nick":"DrPizza","message":"as it should","date":"2011-08-16T02:56:21.208Z","type":"message"}
{"nick":"DrPizza","message":"but this client doesn't","date":"2011-08-16T02:56:23.219Z","type":"message"}
{"nick":"piscisaureus","message":"heh, mine neither","date":"2011-08-16T02:56:36.330Z","type":"message"}
{"nick":"piscisaureus","message":"it also support monospace","date":"2011-08-16T02:56:42.402Z","type":"message"}
{"nick":"DrPizza","message":"this one italicizes","date":"2011-08-16T02:56:45.743Z","type":"message"}
{"nick":"DrPizza","message":"man this client doesn't even have /ver so I dunno what you're even using","date":"2011-08-16T02:57:03.903Z","type":"message"}
{"nick":"piscisaureus","message":"but I have not been able to test monospace because my client doesnt support it","date":"2011-08-16T02:57:09.610Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: the irc client is https://github.com/martynsmith/node-irc, the formatting support I hacked together myself","date":"2011-08-16T02:58:44.019Z","type":"message"}
{"nick":"piscisaureus","action":"afw","date":"2011-08-16T02:58:53.303Z","type":"action"}
{"nick":"piscisaureus","action":"*afk","date":"2011-08-16T02:58:58.036Z","type":"action"}
{"nick":"DrPizza","message":"how robust is this irc library","date":"2011-08-16T02:59:31.363Z","type":"message"}
{"nick":"piscisaureus","message":"shrug","date":"2011-08-16T02:59:39.243Z","type":"message"}
{"nick":"DrPizza","message":"writing an irc bot is the main reason that I even looked at node in the first place","date":"2011-08-16T02:59:41.429Z","type":"message"}
{"nick":"DrPizza","message":"I want an IRC bot that lets people program him, in javascript, in-channel","date":"2011-08-16T03:00:11.942Z","type":"message"}
{"nick":"DrPizza","message":"to create new binds","date":"2011-08-16T03:00:20.371Z","type":"message"}
{"nick":"DrPizza","message":"on another network I use, someone has a similar bot using tcl","date":"2011-08-16T03:00:37.873Z","type":"message"}
{"nick":"DrPizza","message":"but who wants to write tcl","date":"2011-08-16T03:00:40.753Z","type":"message"}
{"nick":"piscisaureus","message":"I know nothing about tcp","date":"2011-08-16T03:05:26.938Z","type":"message"}
{"nick":"piscisaureus","message":"*tcl","date":"2011-08-16T03:05:29.514Z","type":"message"}
{"nick":"DrPizza","message":"lucky you","date":"2011-08-16T03:05:35.714Z","type":"message"}
{"nick":"piscisaureus","message":"I was able do write this thingie in windows","date":"2011-08-16T03:05:56.636Z","type":"message"}
{"nick":"DrPizza","message":"excellent","date":"2011-08-16T03:06:03.243Z","type":"message"}
{"nick":"DrPizza","message":"that's very promising","date":"2011-08-16T03:06:05.821Z","type":"message"}
{"nick":"DrPizza","message":"that's basically what I wanted ","date":"2011-08-16T03:06:15.126Z","type":"message"}
{"nick":"DrPizza","message":"node that's good enough to write my IRC bot in windows","date":"2011-08-16T03:06:20.645Z","type":"message"}
{"nick":"DrPizza","message":"before deploying him on lunix","date":"2011-08-16T03:06:24.862Z","type":"message"}
{"nick":"piscisaureus","message":"the only thing that's annoying is that there's no npm support","date":"2011-08-16T03:06:33.488Z","type":"message"}
{"nick":"DrPizza","message":"yes","date":"2011-08-16T03:06:42.068Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: post knockout","date":"2011-08-16T03:06:52.351Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: that's high on my list.","date":"2011-08-16T03:06:55.946Z","type":"message"}
{"nick":"piscisaureus","message":"the other issue is that I can't check in symlinks with msysgit because msysgit doesn't support symlinks","date":"2011-08-16T03:07:01.065Z","type":"message"}
{"nick":"piscisaureus","message":"very unfortunate for node development","date":"2011-08-16T03:07:13.721Z","type":"message"}
{"nick":"piscisaureus","message":"when this node-windows thing is done I should fix git for windows","date":"2011-08-16T03:07:43.176Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-08-16T03:10:52.483Z","type":"quit"}
{"nick":"johnm1234","reason":"Ping timeout: 250 seconds","date":"2011-08-16T03:33:07.010Z","type":"quit"}
{"nick":"johnm1234","date":"2011-08-16T03:51:20.338Z","type":"join"}
{"nick":"piscisaureus","topic":"test","date":"2011-08-16T03:56:57.478Z","type":"topic"}
{"nick":"piscisaureus","topic":"v0.5.5 release manager is bnoordhuis","date":"2011-08-16T03:57:10.995Z","type":"topic"}
{"nick":"piscisaureus","message":"ë �","date":"2011-08-16T04:05:09.671Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-08-16T04:08:46.209Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-08-16T04:11:35.214Z","type":"join"}
{"nick":"piscisaureus!~piscisaur@s09402v03.ocp-s.tudelft.nl","topic":"v0.5.5 release manager is bnoordhuis","date":"2011-08-16T04:14:02.304Z","type":"topic"}
{"nick":"piscisaureus","reason":"Client Quit","date":"2011-08-16T04:14:58.370Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-08-16T04:17:38.011Z","type":"join"}
{"nick":"piscisaureus","reason":"Ping timeout: 258 seconds","date":"2011-08-16T04:25:04.771Z","type":"quit"}
{"nick":"DrPizza","message":"igorzi: neat :)","date":"2011-08-16T05:05:37.589Z","type":"message"}
{"nick":"igorzi","message":"DrPizza: what's up?","date":"2011-08-16T05:16:20.393Z","type":"message"}
{"nick":"DrPizza","message":"the e-mail you were just cced on, nice to know that my thinking isn't completely nuts","date":"2011-08-16T05:16:42.964Z","type":"message"}
{"nick":"igorzi","message":"oh yeah, right.. just saw it","date":"2011-08-16T05:18:31.706Z","type":"message"}
{"nick":"mraleph","date":"2011-08-16T06:04:56.007Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-16T07:01:52.634Z","type":"quit"}
{"nick":"bnoordhuis","date":"2011-08-16T09:52:49.068Z","type":"join"}
{"nick":"piscisaureus","date":"2011-08-16T12:05:50.321Z","type":"join"}
{"nick":"pquerna","reason":"Read error: Connection reset by peer","date":"2011-08-16T12:24:49.168Z","type":"quit"}
{"nick":"pquerna","date":"2011-08-16T12:24:55.228Z","type":"join"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002358d89a\u000f \u000310\u000f/ Makefile \u0002:\u000f ","date":"2011-08-16T12:33:56.751Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f build: fix build on systems where `ld --as-needed` is the default","date":"2011-08-16T12:33:56.983Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Fixes unresolved symbol linker errors from -lm and -lrt. - http://bit.ly/nQcL6c","date":"2011-08-16T12:33:56.983Z","type":"message"}
{"nick":"bnoordhuis","message":"^ software puritan appeasement >:(","date":"2011-08-16T12:36:50.449Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303Antranig Basman\u000f \u000307master\u000f * r\u0002c05936c\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f ","date":"2011-08-16T12:52:06.546Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f vm: fix incorrect dispatch of vm.runInContext for argument \"filename\"","date":"2011-08-16T12:52:06.775Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Adds test case and documentation for vm.runInContext and vm.createContext.","date":"2011-08-16T12:52:06.776Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Fixes #1140. - http://bit.ly/mPtJGz","date":"2011-08-16T12:52:06.776Z","type":"message"}
{"nick":"DrPizza","message":"hmm","date":"2011-08-16T13:21:46.868Z","type":"message"}
{"nick":"DrPizza","message":"I wonder how hard it would be to use cryptoAPI/schannel instead of openssl","date":"2011-08-16T13:22:01.773Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: but why would you want that in the first place?","date":"2011-08-16T13:54:32.603Z","type":"message"}
{"nick":"DrPizza","message":"it would obviate the need to integrate openssl into the gyp/msvs build, ","date":"2011-08-16T13:56:52.292Z","type":"message"}
{"nick":"DrPizza","message":"it would mean that node automatically used hardware crypto devices, if available","date":"2011-08-16T13:57:33.585Z","type":"message"}
{"nick":"DrPizza","message":"it would mean that node picked up standard Windows configuration, such as barring the use of weak hashes/encryption algorithms","date":"2011-08-16T14:00:05.556Z","type":"message"}
{"nick":"DrPizza","message":"it would probably open the door to allowing node to use certificates from the windows certificate store, for both server and client certificates","date":"2011-08-16T14:01:22.537Z","type":"message"}
{"nick":"DrPizza","message":"it would mean, I believe, that SSL handling were consistent if node were to get http.sys integration","date":"2011-08-16T14:03:23.241Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: it scares me. It would mean that we would have separate implementations of node_crypto and http as well.","date":"2011-08-16T14:26:10.253Z","type":"message"}
{"nick":"DrPizza","message":"true","date":"2011-08-16T14:26:30.301Z","type":"message"}
{"nick":"piscisaureus","message":"A good recipe for an unmaintainable clusterfuck","date":"2011-08-16T14:26:45.818Z","type":"message"}
{"nick":"DrPizza","message":"well","date":"2011-08-16T14:28:26.851Z","type":"message"}
{"nick":"DrPizza","message":"I don't know","date":"2011-08-16T14:28:43.246Z","type":"message"}
{"nick":"DrPizza","message":"schannel and openssl with BIO seem to work in a pretty similar way","date":"2011-08-16T14:28:59.963Z","type":"message"}
{"nick":"piscisaureus","message":"I think selene could have crypto api support","date":"2011-08-16T14:30:14.069Z","type":"message"}
{"nick":"piscisaureus","message":"but I don't think we can start using that anytime soon","date":"2011-08-16T14:30:41.421Z","type":"message"}
{"nick":"piscisaureus","message":"(that's what pquerna says anyway)","date":"2011-08-16T14:30:53.509Z","type":"message"}
{"nick":"piscisaureus","message":"besides, selene implements tls handshake, cypher selection itself. It only uses other libraries for the actual cyphers/hmacs","date":"2011-08-16T14:31:45.405Z","type":"message"}
{"nick":"DrPizza","message":"interesting","date":"2011-08-16T14:32:29.512Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: is the long-term intent to switch over to selene?","date":"2011-08-16T14:33:43.106Z","type":"message"}
{"nick":"piscisaureus","message":"undecided","date":"2011-08-16T14:34:00.564Z","type":"message"}
{"nick":"bnoordhuis","message":"the long-term intent is to make the web a place where encryption isn't necessary","date":"2011-08-16T14:34:12.315Z","type":"message"}
{"nick":"bnoordhuis","message":"and where the lamb lies with the lion","date":"2011-08-16T14:34:17.651Z","type":"message"}
{"nick":"bnoordhuis","message":"also: yo nerds","date":"2011-08-16T14:34:48.763Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: using the other libraries only for crypto would certainly make integrating it with other crypto libraries much easier","date":"2011-08-16T14:34:57.010Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: how's the stdio stuff coming along?","date":"2011-08-16T14:35:13.108Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: don't ask","date":"2011-08-16T14:35:45.576Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: just did :)","date":"2011-08-16T14:35:56.675Z","type":"message"}
{"nick":"jonaslund_","date":"2011-08-16T14:36:02.761Z","type":"join"}
{"nick":"bnoordhuis","message":"ready for thursday or not?","date":"2011-08-16T14:36:06.707Z","type":"message"}
{"nick":"jonaslund","reason":"Ping timeout: 260 seconds","date":"2011-08-16T14:36:35.842Z","type":"quit"}
{"nick":"jonaslund_","new_nick":"jonaslund","date":"2011-08-16T14:36:41.357Z","type":"nick"}
{"nick":"piscisaureus","message":"bnoordhuis: not as such","date":"2011-08-16T14:37:14.434Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: there will be stuff landed that relates to this","date":"2011-08-16T14:37:26.483Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: do tell","date":"2011-08-16T14:37:37.492Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but the problem surface was too big for me to solve at once","date":"2011-08-16T14:37:41.189Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: let's call","date":"2011-08-16T14:38:22.673Z","type":"message"}
{"nick":"bnoordhuis","message":"now or tonight?","date":"2011-08-16T14:38:34.173Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: ^","date":"2011-08-16T14:38:50.102Z","type":"message"}
{"nick":"piscisaureus","message":"whatever. I was thinking nwo","date":"2011-08-16T14:38:51.288Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, let me get a drink first","date":"2011-08-16T14:38:58.005Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't chat when i'm sober","date":"2011-08-16T14:39:06.006Z","type":"message"}
{"nick":"DrPizza","message":"lol","date":"2011-08-16T14:39:13.597Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: you're not online, you rascal","date":"2011-08-16T14:43:03.306Z","type":"message"}
{"nick":"bnoordhuis","message":"oh wait, now you are","date":"2011-08-16T14:43:09.329Z","type":"message"}
{"nick":"piscisaureus","message":"oh you want to skype?","date":"2011-08-16T14:43:15.228Z","type":"message"}
{"nick":"piscisaureus","message":"aok","date":"2011-08-16T14:43:16.427Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, my phone's dead","date":"2011-08-16T14:43:36.690Z","type":"message"}
{"nick":"piscisaureus","message":"\u000314https://github.com/bnoordhuis/libuv/compare/udp\u0003\u000301","date":"2011-08-16T14:55:11.075Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303koichik\u000f \u000307master\u000f * r\u00028293bb8\u000f \u000310\u000f/ (26 files in 3 dirs)\u0002:\u000f ","date":"2011-08-16T15:01:06.295Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f test: refactored http test.","date":"2011-08-16T15:01:06.511Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Many http tests had used legacy http.Client.","date":"2011-08-16T15:01:06.512Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f This refactored it to use modern API.","date":"2011-08-16T15:01:06.512Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f Fixes #1528. - http://bit.ly/nLhELf","date":"2011-08-16T15:01:06.512Z","type":"message"}
{"nick":"bnoordhuis","topic":"v0.5.5 release manager is bnoordhuis - this week's feature: dgram support","date":"2011-08-16T15:05:04.049Z","type":"topic"}
{"nick":"piscisaureus","message":"bnoordhuis: what's the purpose of uv_udp_bind?","date":"2011-08-16T15:05:15.165Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: bind a socket to an address + port","date":"2011-08-16T15:05:29.217Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: then call uv_listen after that?","date":"2011-08-16T15:05:46.771Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: no, you don't have to listen","date":"2011-08-16T15:06:07.026Z","type":"message"}
{"nick":"bnoordhuis","message":"but if you don't bind, you get assigned address INADDR_ANY + a random port","date":"2011-08-16T15:06:21.602Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhsui: should we nog make uv_bind generic?","date":"2011-08-16T15:07:18.204Z","type":"message"}
{"nick":"piscisaureus","message":"oh hmm","date":"2011-08-16T15:07:24.824Z","type":"message"}
{"nick":"piscisaureus","message":"there's also pipe_bind","date":"2011-08-16T15:07:32.470Z","type":"message"}
{"nick":"bnoordhuis","message":"i looked at that but there's something of a mismatch","date":"2011-08-16T15:07:40.115Z","type":"message"}
{"nick":"piscisaureus","message":"but it seems to me that tcp_bind == udp_bind","date":"2011-08-16T15:07:41.254Z","type":"message"}
{"nick":"piscisaureus","message":"what's that?","date":"2011-08-16T15:07:47.993Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i'm trying to remember what it was","date":"2011-08-16T15:07:58.171Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, the connection_cb","date":"2011-08-16T15:08:10.387Z","type":"message"}
{"nick":"bnoordhuis","message":"udp / dgram doesn't have the concept of a connection","date":"2011-08-16T15:08:22.860Z","type":"message"}
{"nick":"piscisaureus","message":"tcp_bind doesn't take a connection_cb","date":"2011-08-16T15:08:30.796Z","type":"message"}
{"nick":"bnoordhuis","message":"you're right, that's uv_listen","date":"2011-08-16T15:09:08.676Z","type":"message"}
{"nick":"piscisaureus","message":"maybe we should call it uv_ip_bind and uv_ip6_bind","date":"2011-08-16T15:09:17.057Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, i remember what it is","date":"2011-08-16T15:09:36.020Z","type":"message"}
{"nick":"bnoordhuis","message":"uv__tcp_bind calls uv__stream_open","date":"2011-08-16T15:10:16.925Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-16T15:10:36.276Z","type":"message"}
{"nick":"bnoordhuis","message":"it might be possible to merge it","date":"2011-08-16T15:10:36.502Z","type":"message"}
{"nick":"bnoordhuis","message":"but let's keep it simple for now","date":"2011-08-16T15:10:45.101Z","type":"message"}
{"nick":"piscisaureus","message":"on windows I think it would be totally the same","date":"2011-08-16T15:10:50.963Z","type":"message"}
{"nick":"piscisaureus","message":"but yeah ok","date":"2011-08-16T15:11:01.864Z","type":"message"}
{"nick":"bnoordhuis","message":"one troublesome thing with udp","date":"2011-08-16T15:11:46.757Z","type":"message"}
{"nick":"bnoordhuis","message":"errors can be emitted at anytime","date":"2011-08-16T15:11:55.551Z","type":"message"}
{"nick":"bnoordhuis","message":"you try to send a packet and the kernel might return the error from the previous packet","date":"2011-08-16T15:12:16.223Z","type":"message"}
{"nick":"bnoordhuis","message":"how does that work on windows?","date":"2011-08-16T15:12:31.862Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I have no experience with that","date":"2011-08-16T15:16:13.531Z","type":"message"}
{"nick":"piscisaureus","message":"http://msdn.microsoft.com/en-us/library/ms740148%28v=VS.85%29.aspx","date":"2011-08-16T15:16:22.104Z","type":"message"}
{"nick":"piscisaureus","message":"^-- doesn't mention it","date":"2011-08-16T15:16:25.930Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i can fill bookshelves with stuff you don't have experience with","date":"2011-08-16T15:16:52.009Z","type":"message"}
{"nick":"bnoordhuis","message":"so can your girlfriend for that matter","date":"2011-08-16T15:16:57.234Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: ok so","date":"2011-08-16T15:17:30.594Z","type":"message"}
{"nick":"bnoordhuis","message":"does msdn have something akin to `man 7 udp`?","date":"2011-08-16T15:17:32.946Z","type":"message"}
{"nick":"piscisaureus","message":"I don't think windows does that","date":"2011-08-16T15:17:43.385Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, i'll try to think of a way to handle it graciously on the unices","date":"2011-08-16T15:18:21.259Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f \u000303koichik\u000f \u000307master\u000f * r\u00024cf931d\u000f \u000310\u000f/ (lib/http2.js test/simple/test-http-legacy.js)\u0002:\u000f (log message trimmed)","date":"2011-08-16T15:25:28.405Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f http: improve compatibility of legacy API","date":"2011-08-16T15:25:28.626Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f In http1, legacy http.Client shares one connection with multiple requests.","date":"2011-08-16T15:25:28.626Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f But in http2, it uses concurrent connections.","date":"2011-08-16T15:25:28.626Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f With --use-http1, test/simple/test-http-legacy.js passes.","date":"2011-08-16T15:25:28.626Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f However, it fails without --use-http1 (use http2).","date":"2011-08-16T15:25:28.856Z","type":"message"}
{"nick":"CIA-95","message":"\u0002node:\u000f This improves compatibility of legacy http.Client API between http1 and http2.","date":"2011-08-16T15:25:29.886Z","type":"message"}
{"nick":"ryah","message":"hello!","date":"2011-08-16T16:35:33.142Z","type":"message"}
{"nick":"ryah","message":"what's new?","date":"2011-08-16T16:35:40.707Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: what's the status? stdio, udp?","date":"2011-08-16T16:36:21.430Z","type":"message"}
{"nick":"isaacs","date":"2011-08-16T16:59:06.203Z","type":"join"}
{"nick":"piscisaureus","message":"ryah: hello","date":"2011-08-16T16:59:39.258Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: hello","date":"2011-08-16T16:59:42.912Z","type":"message"}
{"nick":"piscisaureus","message":"stdio has kind of defeated me","date":"2011-08-16T16:59:55.715Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: oh no","date":"2011-08-16T17:00:05.422Z","type":"message"}
{"nick":"ryah","message":"what's happening?","date":"2011-08-16T17:00:11.024Z","type":"message"}
{"nick":"piscisaureus","message":"I'm going to make a plan and break it up into pieces","date":"2011-08-16T17:00:12.089Z","type":"message"}
{"nick":"piscisaureus","message":"you should all help me :-)","date":"2011-08-16T17:00:16.726Z","type":"message"}
{"nick":"ryah","message":"yes we can","date":"2011-08-16T17:00:24.039Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: it's too big to consider this as one project","date":"2011-08-16T17:00:35.642Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2011-08-16T17:00:59.009Z","type":"message"}
{"nick":"ryah","message":"yeah, i didn't want this to become to large ...","date":"2011-08-16T17:01:11.069Z","type":"message"}
{"nick":"brson","date":"2011-08-16T17:01:15.608Z","type":"join"}
{"nick":"ryah","message":"okay - but let's talk about it during the conf call today","date":"2011-08-16T17:01:27.462Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-08-16T17:01:49.611Z","type":"message"}
{"nick":"ryah","message":"you're attempting to provide an abstracted keystroke layer?","date":"2011-08-16T17:02:25.104Z","type":"message"}
{"nick":"ryah","message":"is this why it becomes so large?","date":"2011-08-16T17:02:32.769Z","type":"message"}
{"nick":"piscisaureus","message":"let me put it in a gist","date":"2011-08-16T17:02:44.297Z","type":"message"}
{"nick":"ryah","message":"maybe we need to reconsider the proposition of this - we dont want to write a termcap library","date":"2011-08-16T17:03:14.061Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: https://gist.github.com/1149564","date":"2011-08-16T17:10:00.961Z","type":"message"}
{"nick":"piscisaureus","message":"lots of work","date":"2011-08-16T17:10:31.108Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: can you put your code up?","date":"2011-08-16T17:12:01.424Z","type":"message"}
{"nick":"piscisaureus","reason":"Read error: Connection reset by peer","date":"2011-08-16T17:15:45.308Z","type":"quit"}
{"nick":"DrPizza","message":"I wonder if there's some suitably-licensed library to deal with this stuff already","date":"2011-08-16T17:19:57.415Z","type":"message"}
{"nick":"DrPizza","message":"because stuff like treating the different windows handles appropriately has surely been done before","date":"2011-08-16T17:20:07.437Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-16T17:20:18.276Z","type":"message"}
{"nick":"DrPizza","message":"though I admit, I'm not entirely sure what's out there","date":"2011-08-16T17:20:50.390Z","type":"message"}
{"nick":"ryah","message":"it would be nice if windows just implemented vt100","date":"2011-08-16T17:21:02.423Z","type":"message"}
{"nick":"DrPizza","message":"it would be nice if vt100 were better","date":"2011-08-16T17:21:30.672Z","type":"message"}
{"nick":"DrPizza","message":"The Windows console abstraction is deeply awful","date":"2011-08-16T17:21:55.297Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-08-16T17:22:25.579Z","type":"message"}
{"nick":"DrPizza","message":"like, there's basically no good way to write something such as screen for Windows.","date":"2011-08-16T17:22:30.133Z","type":"message"}
{"nick":"ryah","message":"this is why i think our abstraction of windows tty should be  encoding keystrokes into vt100","date":"2011-08-16T17:23:10.229Z","type":"message"}
{"nick":"ryah","message":"yeah - it's overhead - but at least it's a sane abstraction","date":"2011-08-16T17:23:20.969Z","type":"message"}
{"nick":"DrPizza","message":"although looking at piscis's gist of work, it looks like the things he had planned were lower level than that anyway","date":"2011-08-16T17:26:46.474Z","type":"message"}
{"nick":"DrPizza","message":"related to doing consistent non-blocking I/O of the console, regardless of whether it's a real console, redirected file, or pipe","date":"2011-08-16T17:27:10.390Z","type":"message"}
{"nick":"DrPizza","message":"that's all stuff that needs to exist","date":"2011-08-16T17:27:37.445Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-08-16T17:28:18.396Z","type":"quit"}
{"nick":"brson","date":"2011-08-16T17:28:34.082Z","type":"join"}
{"nick":"DrPizza","message":"ryah: i guess you'd have a kind of dichotomy; \"real\" console events, which are vt100, and \"redirected\" events, which are just regular file/pipe input","date":"2011-08-16T17:29:13.225Z","type":"message"}
{"nick":"DrPizza","message":"I would think you still need to treat real console somewhat differently from the rest","date":"2011-08-16T17:29:34.020Z","type":"message"}
{"nick":"DrPizza","message":"since real consoles can do colour, overtyping, etc. etc.","date":"2011-08-16T17:30:19.316Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-08-16T17:41:39.600Z","type":"quit"}
{"nick":"ryah","message":"DrPizza: yeah all the more reason to use VT escape codes :)","date":"2011-08-16T17:49:32.303Z","type":"message"}
{"nick":"ryah","message":"btw we alredy do the pipe, file, tty switch","date":"2011-08-16T17:50:26.672Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/blob/c05936ca13681059c7aeecfe3a608e4e1afa800a/src/node.js#L232-243","date":"2011-08-16T17:50:27.163Z","type":"message"}
{"nick":"ryah","message":"just in JS land","date":"2011-08-16T17:50:30.433Z","type":"message"}
{"nick":"DrPizza","message":"woudl the intent be to hoist that switch into libuv land (or node land I guess, maybe a bit of both?), and give node and/or libuv a higher level \"console\" notion?","date":"2011-08-16T17:56:08.548Z","type":"message"}
{"nick":"piscisaureus","date":"2011-08-16T17:58:03.388Z","type":"join"}
{"nick":"ryah","message":"DrPizza: yeah","date":"2011-08-16T17:58:17.295Z","type":"message"}
{"nick":"ryah","message":"DrPizza: you'd just have a stdout handle","date":"2011-08-16T17:58:25.546Z","type":"message"}
{"nick":"ryah","message":"you wouldn't have to worry about what it was","date":"2011-08-16T17:58:31.149Z","type":"message"}
{"nick":"ryah","message":"with the idea that different platforms can handle that switch differently","date":"2011-08-16T17:58:47.533Z","type":"message"}
{"nick":"DrPizza","message":"well, you'd want to know if it were a real console handle or not","date":"2011-08-16T17:59:21.561Z","type":"message"}
{"nick":"DrPizza","message":"since you'd probably structure your output differently","date":"2011-08-16T17:59:27.300Z","type":"message"}
{"nick":"DrPizza","message":"if you've got a redirected handle you won't try to move the cursor","date":"2011-08-16T17:59:40.450Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-16T18:00:35.061Z","type":"message"}
{"nick":"ryah","message":"you'd want to be able to query it","date":"2011-08-16T18:00:41.177Z","type":"message"}
{"nick":"piscisaureus","message":"call?","date":"2011-08-16T18:02:03.034Z","type":"message"}
{"nick":"bnoordhuis","message":"you're an hour early, piscisaureus ","date":"2011-08-16T18:02:28.268Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: nope its now","date":"2011-08-16T18:02:35.879Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: stdio -> no, udp -> possibly","date":"2011-08-16T18:02:39.012Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: now!!","date":"2011-08-16T18:02:48.076Z","type":"message"}
{"nick":"bnoordhuis","message":"21.00 hours ffs >:(","date":"2011-08-16T18:02:57.076Z","type":"message"}
{"nick":"bnoordhuis","message":"bot okay","date":"2011-08-16T18:02:59.684Z","type":"message"}
{"nick":"bnoordhuis","message":"*but","date":"2011-08-16T18:03:02.372Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: 0205002500","date":"2011-08-16T18:04:14.110Z","type":"message"}
{"nick":"piscisaureus","message":"36815906#","date":"2011-08-16T18:04:14.354Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: coming?","date":"2011-08-16T18:05:15.633Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-08-16T18:05:18.757Z","type":"message"}
{"nick":"isaacs","date":"2011-08-16T18:26:18.013Z","type":"join"}
{"nick":"piscisaureus","message":"finally","date":"2011-08-16T18:29:17.361Z","type":"message"}
{"nick":"piscisaureus","message":"... I get to eat the dinner I cooked","date":"2011-08-16T18:29:23.925Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: the combination of no zero read + SetFileCompletionNotificationModes(FILE_SKIP_COMPLETION_PORT_ON_SUCCESS) gives 6% improvement","date":"2011-08-16T18:29:33.000Z","type":"message"}
{"nick":"ryah","message":"6% is a bit more enticing","date":"2011-08-16T18:35:19.833Z","type":"message"}
{"nick":"igorzi","message":"it's basically 4 from no zero read + 2 from FILE_SKIP_COMPLETION_PORT_ON_SUCCESS","date":"2011-08-16T18:36:11.032Z","type":"message"}
{"nick":"ryah","action":"is reading about FILE_SKIP_COMPLETION_PORT_ON_SUCCESS","date":"2011-08-16T18:36:33.214Z","type":"action"}
{"nick":"DrPizza","message":"igorzi: so performing the callbacks in-thread for operations that complete immediately?","date":"2011-08-16T18:36:46.341Z","type":"message"}
{"nick":"igorzi","message":"no, not to do the callback immediately, just skip going through the IOCP","date":"2011-08-16T18:37:15.259Z","type":"message"}
{"nick":"igorzi","message":"(if it completes synchronosly)","date":"2011-08-16T18:37:25.396Z","type":"message"}
{"nick":"DrPizza","message":"what are you using to call the callback then? I thought the callbacks only got called after dequeuing from the IOCP","date":"2011-08-16T18:37:40.041Z","type":"message"}
{"nick":"igorzi","message":"we still add the request to the queue and let uv_run loop handle it","date":"2011-08-16T18:37:54.845Z","type":"message"}
{"nick":"DrPizza","message":"oh I see","date":"2011-08-16T18:37:59.690Z","type":"message"}
{"nick":"ryah","message":"igorzi: how will you call the callback?","date":"2011-08-16T18:38:15.421Z","type":"message"}
{"nick":"ryah","message":"oh","date":"2011-08-16T18:38:25.432Z","type":"message"}
{"nick":"ryah","message":"okay","date":"2011-08-16T18:38:25.931Z","type":"message"}
{"nick":"DrPizza","message":"igorzi: doesn't this mean you're going to have to start locking those queues?","date":"2011-08-16T18:38:29.597Z","type":"message"}
{"nick":"ryah","action":"<-- slow","date":"2011-08-16T18:38:30.983Z","type":"action"}
{"nick":"DrPizza","message":"since you're going to be making cross-thread modifications of them/","date":"2011-08-16T18:38:40.196Z","type":"message"}
{"nick":"ryah","message":"DrPizza: there's only one thread atm :)","date":"2011-08-16T18:38:53.976Z","type":"message"}
{"nick":"igorzi","message":"ryah: why?  everything happens on main thread","date":"2011-08-16T18:38:54.206Z","type":"message"}
{"nick":"DrPizza","message":"(currently I think the req queue only gets touched from the IOCP thread?)","date":"2011-08-16T18:38:54.692Z","type":"message"}
{"nick":"DrPizza","message":"ryah: there's various bits and pieces that get done in threadpool threads","date":"2011-08-16T18:39:38.082Z","type":"message"}
{"nick":"DrPizza","message":"I may be wrong, but I thought some of those could feasibly trigger operations that result in reqs getting queued","date":"2011-08-16T18:40:32.399Z","type":"message"}
{"nick":"igorzi","message":"ryah, for example we issue WSARecv as a result of uv_read_start on main thread. WSARecv could complete synchronosly.  If it does we put the req into the queue, and with FILE_SKIP_COMPLETION_PORT_ON_SUCCESS the IOCP packet never gets generated","date":"2011-08-16T18:41:02.243Z","type":"message"}
{"nick":"ryah","message":"igorzi: yeah that sounds good","date":"2011-08-16T18:41:20.357Z","type":"message"}
{"nick":"ryah","message":"we should definitely do that","date":"2011-08-16T18:41:29.813Z","type":"message"}
{"nick":"igorzi","message":"the only downside is that this won't work on 2k3","date":"2011-08-16T18:41:43.151Z","type":"message"}
{"nick":"ryah","message":"can that be done for WSASend too/","date":"2011-08-16T18:41:48.585Z","type":"message"}
{"nick":"igorzi","message":"yep, i'm doing it for WSASend and AcceptEx","date":"2011-08-16T18:42:14.905Z","type":"message"}
{"nick":"igorzi","message":"though i never see AcceptEx complete synchronosly","date":"2011-08-16T18:42:27.874Z","type":"message"}
{"nick":"igorzi","message":"also, FILE_SKIP_COMPLETION_PORT_ON_SUCCESS seems to improve pump benchmark by about 8%; though that benchmark is very noisy for me","date":"2011-08-16T18:43:08.159Z","type":"message"}
{"nick":"ryah","message":"^_^b","date":"2011-08-16T18:43:26.401Z","type":"message"}
{"nick":"ryah","message":"igorzi: so will you able to ifdef out FILE_SKIP_COMPLETION_PORT_ON_SUCCESS for win2k3?","date":"2011-08-16T18:44:18.294Z","type":"message"}
{"nick":"ryah","message":"is that going to require a lot of work?","date":"2011-08-16T18:44:24.739Z","type":"message"}
{"nick":"DrPizza","message":"can't ifdef","date":"2011-08-16T18:44:42.518Z","type":"message"}
{"nick":"DrPizza","message":"need a runtime choice","date":"2011-08-16T18:44:45.826Z","type":"message"}
{"nick":"ryah","message":"really? okay - well wahtever","date":"2011-08-16T18:44:56.588Z","type":"message"}
{"nick":"igorzi","message":"ryah: we'll need  to do something similar to what we did for GetQueuedCompletionStatusEx (which also doesn't work on 2k3)","date":"2011-08-16T18:45:02.663Z","type":"message"}
{"nick":"ryah","message":"oh right - you provide executables for all windows","date":"2011-08-16T18:45:07.870Z","type":"message"}
{"nick":"DrPizza","message":"yes, the same node.exe needs to work on 2003 and 2008","date":"2011-08-16T18:45:09.800Z","type":"message"}
{"nick":"DrPizza","message":"yeah","date":"2011-08-16T18:45:12.048Z","type":"message"}
{"nick":"ryah","message":"s/you/i/ :)","date":"2011-08-16T18:45:20.325Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: re udp: does windows report send/receive errors?","date":"2011-08-16T18:47:19.612Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: for that matter, does darwin?","date":"2011-08-16T18:47:50.700Z","type":"message"}
{"nick":"bnoordhuis","message":"linux does, freebsd doesn't, not sure about solaris","date":"2011-08-16T18:47:58.197Z","type":"message"}
{"nick":"bnoordhuis","message":"s/solaris/sunos/","date":"2011-08-16T18:48:06.326Z","type":"message"}
{"nick":"DrPizza","message":"oh fair enough, all the threadpool operations post back to the IOCP manually to trigger their reqs.","date":"2011-08-16T18:48:15.077Z","type":"message"}
{"nick":"DrPizza","message":"well that's OK then.","date":"2011-08-16T18:48:17.877Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: *shrug*","date":"2011-08-16T18:48:38.678Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: how can i test?","date":"2011-08-16T18:48:55.063Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, `nc -u` some data to an unreachable host?","date":"2011-08-16T18:49:27.150Z","type":"message"}
{"nick":"bnoordhuis","message":"no, that's not a good test - i don't think nc waits for udp errors","date":"2011-08-16T18:49:47.109Z","type":"message"}
{"nick":"ryah","message":"where can i get ab's source code does it come with httpd?","date":"2011-08-16T18:50:43.664Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-08-16T18:50:47.246Z","type":"message"}
{"nick":"bnoordhuis","message":"it's in the tools dir","date":"2011-08-16T18:50:57.477Z","type":"message"}
{"nick":"bnoordhuis","message":"s/tools/support/","date":"2011-08-16T18:51:10.126Z","type":"message"}
{"nick":"ryah","message":"k","date":"2011-08-16T18:51:18.967Z","type":"message"}
{"nick":"ryah","message":"okay maybe i was wrong about the pound bencharmk","date":"2011-08-16T18:52:12.241Z","type":"message"}
{"nick":"ryah","message":"it is running up cpu on my box","date":"2011-08-16T18:52:17.502Z","type":"message"}
{"nick":"ryah","message":"sorry","date":"2011-08-16T18:52:19.749Z","type":"message"}
{"nick":"bnoordhuis","message":"ab re-arms the connections btw","date":"2011-08-16T18:53:16.784Z","type":"message"}
{"nick":"bnoordhuis","message":"line 1775","date":"2011-08-16T18:53:42.128Z","type":"message"}
{"nick":"ryah","message":"i dont like that everything is shaking on the 20th floor","date":"2011-08-16T18:59:41.255Z","type":"message"}
{"nick":"ryah","message":":(","date":"2011-08-16T18:59:45.074Z","type":"message"}
{"nick":"bnoordhuis","message":"but is it the wind?","date":"2011-08-16T19:00:42.124Z","type":"message"}
{"nick":"bnoordhuis","message":"or the san andreas fault line?","date":"2011-08-16T19:00:47.788Z","type":"message"}
{"nick":"ryah","message":"i think its an earthquake","date":"2011-08-16T19:03:05.761Z","type":"message"}
{"nick":"bnoordhuis","message":"crazy","date":"2011-08-16T19:05:51.584Z","type":"message"}
{"nick":"bnoordhuis","message":"don't go 'connection reset by peer' on me, ryah","date":"2011-08-16T19:06:01.738Z","type":"message"}
{"nick":"piscisaureus","message":"Hmm, no mentions of an earthquake on twitter","date":"2011-08-16T19:17:46.155Z","type":"message"}
{"nick":"piscisaureus","message":"It hasn't happened","date":"2011-08-16T19:17:51.420Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: if you use FILE_SKIP_BLABLABLA you need to handle the case where write/connect completes immediately too. Also I'd like to have this as a flag on the handle so we can have something like","date":"2011-08-16T19:20:31.455Z","type":"message"}
{"nick":"piscisaureus","message":"if (success && handle->flags & HANDLE_IOCP_BYPASS) {","date":"2011-08-16T19:20:31.689Z","type":"message"}
{"nick":"piscisaureus","message":"  uv_insert_pending_req((uv_req_t*) req);","date":"2011-08-16T19:20:31.689Z","type":"message"}
{"nick":"piscisaureus","message":"}","date":"2011-08-16T19:20:31.689Z","type":"message"}
{"nick":"piscisaureus","message":"we could even have a macro for that","date":"2011-08-16T19:20:50.796Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: what do you mean with \"report send/receive errors?\"","date":"2011-08-16T19:21:45.390Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: you mean that the os might not report errors at all?","date":"2011-08-16T19:23:47.700Z","type":"message"}
{"nick":"mraleph","date":"2011-08-16T19:24:06.127Z","type":"join"}
{"nick":"isaacs_","date":"2011-08-16T19:27:37.963Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus: freebsd doesn't report udp transmission errors, linux does","date":"2011-08-16T19:29:28.841Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose the question is: do we deal with errors?","date":"2011-08-16T19:30:07.922Z","type":"message"}
{"nick":"isaacs","reason":"Ping timeout: 246 seconds","date":"2011-08-16T19:30:34.965Z","type":"quit"}
{"nick":"bnoordhuis","message":"udp is unreliable by nature so you can make a case for \"yes we should\" and \"no we won't\"","date":"2011-08-16T19:31:02.794Z","type":"message"}
{"nick":"isaacs","date":"2011-08-16T19:31:21.934Z","type":"join"}
{"nick":"isaacs_","reason":"Ping timeout: 246 seconds","date":"2011-08-16T19:33:43.910Z","type":"quit"}
{"nick":"DrPizza","message":"yes, but there's a difference between \"this packet didn't arrive for some reason or other\" and \"we got a load of ICMP errors because there's no route to that host\". How do those situations manifest?","date":"2011-08-16T19:50:15.271Z","type":"message"}
{"nick":"DrPizza","message":"or the machine loses its IP address or whatever else","date":"2011-08-16T19:53:10.110Z","type":"message"}
{"nick":"ryah","topic":"https://gist.github.com/1149993 ab.c","date":"2011-08-16T19:53:33.142Z","type":"topic"}
{"nick":"bnoordhuis","message":"DrPizza: you know, i'm not sure","date":"2011-08-16T19:55:17.612Z","type":"message"}
{"nick":"bnoordhuis","message":"i can see code in the kernel that deals with errors","date":"2011-08-16T19:55:32.596Z","type":"message"}
{"nick":"bnoordhuis","message":"but i can't actually get it to trigger :)","date":"2011-08-16T19:55:40.797Z","type":"message"}
{"nick":"DrPizza","message":"I guess they're all different classes of error","date":"2011-08-16T19:55:44.557Z","type":"message"}
{"nick":"bnoordhuis","message":"the errors you can get are all icmp related (afaict anyway)","date":"2011-08-16T19:56:58.006Z","type":"message"}
{"nick":"bnoordhuis","message":"no route to host, ttl expired, that kind of thing","date":"2011-08-16T19:57:06.367Z","type":"message"}
{"nick":"DrPizza","message":"yeah","date":"2011-08-16T19:57:10.143Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: should I try to trigger udp errors on windwos?","date":"2011-08-16T19:57:22.528Z","type":"message"}
{"nick":"DrPizza","message":"naively, one would think that even UDP should be able to trigger that kind of error","date":"2011-08-16T19:57:33.151Z","type":"message"}
{"nick":"bnoordhuis","message":"on the udp layer the only thing i could find was a bad checksum","date":"2011-08-16T19:57:34.998Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yes, if you can","date":"2011-08-16T19:57:46.798Z","type":"message"}
{"nick":"piscisaureus","message":"the recent stdio debacle this \"if you can\" is painful","date":"2011-08-16T19:58:49.975Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: ?","date":"2011-08-16T19:59:10.175Z","type":"message"}
{"nick":"piscisaureus","message":"oh nvm kid kid","date":"2011-08-16T19:59:21.430Z","type":"message"}
{"nick":"bnoordhuis","message":"he's like the delphi oracle, our piscisaureus","date":"2011-08-16T20:00:00.978Z","type":"message"}
{"nick":"bnoordhuis","message":"tell me, will i lead a long and happy life?","date":"2011-08-16T20:00:09.713Z","type":"message"}
{"nick":"ryah","message":"what's this issue with udp errors?","date":"2011-08-16T20:01:18.691Z","type":"message"}
{"nick":"ryah","message":"are we unsure of the interface to report them?","date":"2011-08-16T20:01:25.293Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: unsure if they're actually reported by the kernel","date":"2011-08-16T20:01:43.698Z","type":"message"}
{"nick":"ryah","message":"how does this change the implementation?","date":"2011-08-16T20:02:19.709Z","type":"message"}
{"nick":"bnoordhuis","message":"well... if the kernel reports errors, you should probably pass them on to the user","date":"2011-08-16T20:02:56.146Z","type":"message"}
{"nick":"ryah","message":"why don't we just assume that some kernel will report errors :)","date":"2011-08-16T20:03:23.470Z","type":"message"}
{"nick":"bnoordhuis","message":"good assumption :)","date":"2011-08-16T20:03:42.083Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm trying to trigger some so i can test it","date":"2011-08-16T20:03:50.267Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: if you want a test program to fool around with: https://gist.github.com/897b6b789872fa731c5c","date":"2011-08-16T20:15:45.821Z","type":"message"}
{"nick":"bnoordhuis","message":"insert unix-centric warning here :)","date":"2011-08-16T20:16:04.443Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ok, i'll add a flag to the handle that indicates iocp bypass","date":"2011-08-16T20:25:21.383Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: so what about a knob to control the buffer size for overlapped WSARecv? (0-read)","date":"2011-08-16T20:29:24.967Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: does windows lets you steal a bound udp port?","date":"2011-08-16T20:35:31.866Z","type":"message"}
{"nick":"graydon","date":"2011-08-16T20:35:50.867Z","type":"join"}
{"nick":"piscisaureus","message":"bnoordhuis: I can send udp packets to random addresses, don't get errors","date":"2011-08-16T20:44:12.377Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: and what if for example you block outgoing udp traffic?","date":"2011-08-16T20:44:37.169Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-16T20:44:54.408Z","type":"message"}
{"nick":"piscisaureus","message":"how to do that?","date":"2011-08-16T20:44:57.219Z","type":"message"}
{"nick":"bnoordhuis","message":"iptables -A OUTPUT -p udp -d 1.2.3.4 -j REJECT --reject-with=icmp-net-unreachable :)","date":"2011-08-16T20:45:06.521Z","type":"message"}
{"nick":"piscisaureus","message":"har har","date":"2011-08-16T20:45:17.075Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: does windows have a SO_REUSEADDR equivalent? if so, what does it do for dgram sockets?","date":"2011-08-16T20:47:20.948Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: windows lets you steal all port types - even tcp ones","date":"2011-08-16T20:47:51.115Z","type":"message"}
{"nick":"bnoordhuis","message":"really? intriguing","date":"2011-08-16T20:48:10.219Z","type":"message"}
{"nick":"piscisaureus","message":"unless the first application to bind the port sets some vista-only flag that prevents this","date":"2011-08-16T20:49:48.423Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: firewall on - no difference","date":"2011-08-16T20:52:09.570Z","type":"message"}
{"nick":"piscisaureus","message":"can still send to 4.6.8.10:1111","date":"2011-08-16T20:52:37.272Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-08-16T20:52:37.500Z","type":"message"}
{"nick":"piscisaureus","message":"udp off == no dns == no internet :-/","date":"2011-08-16T20:52:37.500Z","type":"message"}
{"nick":"piscisaureus","message":"at least the firewall rule works :-)","date":"2011-08-16T20:52:37.500Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2011-08-16T20:52:44.014Z","type":"message"}
{"nick":"bnoordhuis","message":"do you see return icmp traffic?","date":"2011-08-16T20:53:01.814Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: there is no -\u0003\u000301-reject-with=icmp-net-unreachable\u0003\u000301 flag in windows firewall btw","date":"2011-08-16T20:53:13.667Z","type":"message"}
{"nick":"bnoordhuis","message":"does it drop or ?","date":"2011-08-16T20:53:39.703Z","type":"message"}
{"nick":"piscisaureus","message":"I don't know what it does","date":"2011-08-16T20:53:52.866Z","type":"message"}
{"nick":"bnoordhuis","message":"ehm... does tcpdump or wireshark show anything?","date":"2011-08-16T20:54:13.151Z","type":"message"}
{"nick":"piscisaureus","message":"I have to find a tcpdump that works on windows first","date":"2011-08-16T20:54:50.388Z","type":"message"}
{"nick":"bnoordhuis","message":"doesn't wireshark? i thought it did","date":"2011-08-16T20:56:25.481Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-16T21:01:53.207Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-08-16T21:06:04.971Z","type":"quit"}
{"nick":"DrPizza","message":"SO_REUSEADDR is a big clusterfuck of weirdness and bullshit with Windows","date":"2011-08-16T21:08:51.484Z","type":"message"}
{"nick":"DrPizza","message":"http://msdn.microsoft.com/en-us/library/ms740621%28v=VS.85%29.aspx","date":"2011-08-16T21:09:29.341Z","type":"message"}
{"nick":"ryah","message":"i think its a clusterfuck everywhere","date":"2011-08-16T21:09:50.411Z","type":"message"}
{"nick":"DrPizza","message":"ryah: I think you may be right, but the Windows version is particularly demented","date":"2011-08-16T21:10:08.565Z","type":"message"}
{"nick":"DrPizza","message":"when it says \"reuse address\" it really means it","date":"2011-08-16T21:10:24.875Z","type":"message"}
{"nick":"DrPizza","message":"it will steal it away from any program currently using it","date":"2011-08-16T21:10:32.040Z","type":"message"}
{"nick":"DrPizza","message":"not just if the socket is TIME_WAIT","date":"2011-08-16T21:11:22.276Z","type":"message"}
{"nick":"DrPizza","message":"So then Microsoft came up with SO_EXCLUSIVEADDRUSE","date":"2011-08-16T21:12:36.153Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I can verify that even if my computer receives an ICMP port unreachable message, WSASendTo reports success","date":"2011-08-16T21:12:41.783Z","type":"message"}
{"nick":"DrPizza","message":"which prevents anyone from grabbing the socket","date":"2011-08-16T21:12:43.495Z","type":"message"}
{"nick":"DrPizza","message":"even when it IS time_wait","date":"2011-08-16T21:12:57.363Z","type":"message"}
{"nick":"DrPizza","message":"so it went from one extreme to the other","date":"2011-08-16T21:13:04.124Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: okay","date":"2011-08-16T21:13:25.190Z","type":"message"}
{"nick":"ryah","message":"DrPizza: wow strange","date":"2011-08-16T21:13:34.022Z","type":"message"}
{"nick":"bnoordhuis","message":"so does it make sense to silently swallow errors on linux?","date":"2011-08-16T21:13:41.070Z","type":"message"}
{"nick":"DrPizza","message":"ryah: yeah it's crazy","date":"2011-08-16T21:13:42.371Z","type":"message"}
{"nick":"bnoordhuis","message":"the bsds don't report them and apparently neither does windows","date":"2011-08-16T21:13:52.222Z","type":"message"}
{"nick":"DrPizza","message":"ryah: basically, Windows server applications should set SO_EXCLUSIVEADDRUSE, and just forget about ever trying to re-use a 5-tuple, even if it's in TIME_WAIT","date":"2011-08-16T21:15:31.750Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: double-check: does windows report the error on the second WSASendTo call?","date":"2011-08-16T21:16:00.171Z","type":"message"}
{"nick":"DrPizza","message":"I suspect node or libuv should really be setting SO_EXCLUSIVEADDRUSE for server sockets","date":"2011-08-16T21:16:03.141Z","type":"message"}
{"nick":"bnoordhuis","message":"that's what linux does","date":"2011-08-16T21:16:07.735Z","type":"message"}
{"nick":"bnoordhuis","message":"sometimes...","date":"2011-08-16T21:16:12.887Z","type":"message"}
{"nick":"DrPizza","message":"otherwise, anyone can clobber node's listening sockets","date":"2011-08-16T21:16:15.508Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: 0-reads... how about adding an option to uv_tcp_init() that lets the caller decide whether it wants to use a buffer for overlapped WSARecv (less memory vs higher throughput)","date":"2011-08-16T21:16:35.028Z","type":"message"}
{"nick":"piscisaureus","message":"+1 from my side although I don't consider it very important right now","date":"2011-08-16T21:19:15.922Z","type":"message"}
{"nick":"piscisaureus","message":"btw - does it necessary need to be a creation-time option? I would guess it is possible to change this in-flight.","date":"2011-08-16T21:19:52.354Z","type":"message"}
{"nick":"piscisaureus","message":"*necessarily","date":"2011-08-16T21:20:03.139Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I can run WSASendTo in a loop, never an error","date":"2011-08-16T21:20:34.865Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: okay thanks, that settles it","date":"2011-08-16T21:20:47.667Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, i guess it would be least disruptive to do it at creation time, but the api could allow it to be modified in-flight if that what we need","date":"2011-08-16T21:21:48.679Z","type":"message"}
{"nick":"piscisaureus","message":"I don't know if that's what we need","date":"2011-08-16T21:22:03.393Z","type":"message"}
{"nick":"piscisaureus","message":"think about what the node interface would look like","date":"2011-08-16T21:22:29.183Z","type":"message"}
{"nick":"piscisaureus","message":"would we pass it to the Socket constructor or would we have a setter for it (like setNoDelay)","date":"2011-08-16T21:22:58.852Z","type":"message"}
{"nick":"piscisaureus","message":"ryah ^--","date":"2011-08-16T21:23:13.440Z","type":"message"}
{"nick":"DrPizza","message":"igorzi, piscisaureus: agree/disagree, node or libuv should set  SO_EXCLUSIVEADDRUSE on its listening sockets to prevent other apps clobbering node servers? It's NT4+ so no compatibility issues.","date":"2011-08-16T21:28:07.738Z","type":"message"}
{"nick":"DrPizza","message":"(or at least have an option to set it)","date":"2011-08-16T21:28:14.140Z","type":"message"}
{"nick":"igorzi","message":"at the very least there should be an option i think","date":"2011-08-16T21:29:43.057Z","type":"message"}
{"nick":"ryah","message":"igorzi: would the uv_tcp_init specify how large the read buffer would be?","date":"2011-08-16T21:30:11.184Z","type":"message"}
{"nick":"ryah","message":"igorzi: or just boolean?","date":"2011-08-16T21:30:19.834Z","type":"message"}
{"nick":"ryah","message":"we need to cut a v0.4.11 release too","date":"2011-08-16T21:31:58.369Z","type":"message"}
{"nick":"ryah","message":"s/we/i/ :)","date":"2011-08-16T21:32:25.916Z","type":"message"}
{"nick":"ryah","message":":(","date":"2011-08-16T21:32:27.323Z","type":"message"}
{"nick":"igorzi","message":"ryah: a boolean, and then the buffer would be alloc'ed the same way - through alloc_cb","date":"2011-08-16T21:33:27.171Z","type":"message"}
{"nick":"piscisaureus","message":"DrPizza: I may not know enough to understand the consequences. But I think setting it for listening sockets may be a good idea","date":"2011-08-16T21:35:09.414Z","type":"message"}
{"nick":"ryah","message":"is there a way we could do this setting dynamically and automatically?","date":"2011-08-16T21:35:29.962Z","type":"message"}
{"nick":"igorzi","message":"or maybe it should be a buffer size.. piscisaureus,what do you think?","date":"2011-08-16T21:35:35.174Z","type":"message"}
{"nick":"ryah","message":"i don't feel that users want to think about this","date":"2011-08-16T21:35:36.281Z","type":"message"}
{"nick":"ryah","message":"like - what if we keep a concurrent connection count?","date":"2011-08-16T21:36:23.826Z","type":"message"}
{"nick":"igorzi","message":"yeah, if the number of connections goes above N then switch to 0-size buffer","date":"2011-08-16T21:36:45.143Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-16T21:36:48.059Z","type":"message"}
{"nick":"piscisaureus","message":"that sounds like a neat idea","date":"2011-08-16T21:37:04.364Z","type":"message"}
{"nick":"ryah","message":"maybe we can count the number of active streams?","date":"2011-08-16T21:37:04.591Z","type":"message"}
{"nick":"ryah","message":"or active tcp streams","date":"2011-08-16T21:37:08.805Z","type":"message"}
{"nick":"igorzi","message":"would N be static or settable?","date":"2011-08-16T21:37:25.571Z","type":"message"}
{"nick":"ryah","message":"static would be fine with me","date":"2011-08-16T21:37:44.937Z","type":"message"}
{"nick":"ryah","message":"say 20 ?","date":"2011-08-16T21:38:26.268Z","type":"message"}
{"nick":"piscisaureus","message":"how much wasted memory would be acceptable","date":"2011-08-16T21:38:28.243Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-08-16T21:38:36.897Z","type":"message"}
{"nick":"piscisaureus","message":"16 MB?","date":"2011-08-16T21:38:40.557Z","type":"message"}
{"nick":"ryah","message":"20 * 64kb = 1.7 MB","date":"2011-08-16T21:38:51.173Z","type":"message"}
{"nick":"piscisaureus","message":"100 * 64kb = 6,4 MB","date":"2011-08-16T21:39:26.375Z","type":"message"}
{"nick":"piscisaureus","message":"fine with me","date":"2011-08-16T21:39:31.636Z","type":"message"}
{"nick":"igorzi","message":"should N be different between 32 and 64 bit?","date":"2011-08-16T21:39:35.624Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-08-16T21:39:40.743Z","type":"message"}
{"nick":"piscisaureus","message":"the kernel locks the user buffers to the nonpaged pool","date":"2011-08-16T21:40:03.374Z","type":"message"}
{"nick":"ryah","message":"let's do 50 - 3MB of pending read buffers seems reasonable","date":"2011-08-16T21:40:13.616Z","type":"message"}
{"nick":"ryah","message":"i'd say if you have more than 50 connections you're a high concurrency server","date":"2011-08-16T21:40:25.047Z","type":"message"}
{"nick":"ryah","message":"most are not","date":"2011-08-16T21:40:30.210Z","type":"message"}
{"nick":"ryah","message":"i'm slightly worried that 100 is common and so people are going to run benchmarks with 100 and measure single connection memory usage","date":"2011-08-16T21:41:07.893Z","type":"message"}
{"nick":"ryah","message":"with that","date":"2011-08-16T21:41:14.283Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-08-16T21:41:20.624Z","type":"message"}
{"nick":"piscisaureus","message":"haha","date":"2011-08-16T21:41:25.670Z","type":"message"}
{"nick":"piscisaureus","message":"let's do 99 :-)","date":"2011-08-16T21:41:28.116Z","type":"message"}
{"nick":"ryah","message":"yeah - whatever - some number","date":"2011-08-16T21:41:39.954Z","type":"message"}
{"nick":"igorzi","message":"right, 64bit windows has much larger nonpaged pool","date":"2011-08-16T21:41:48.203Z","type":"message"}
{"nick":"piscisaureus","message":"no 50 is fine with me","date":"2011-08-16T21:41:48.432Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: what are the sizes of the nonpaged pool?","date":"2011-08-16T21:42:02.069Z","type":"message"}
{"nick":"piscisaureus","message":"I thought it was 1/4th of the physical memory or something?","date":"2011-08-16T21:42:18.339Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2011-08-16T21:44:34.816Z","type":"message"}
{"nick":"piscisaureus","message":"    32-bit Windows Server 2003 with 2GB or more of RAM will have a nonpaged pool limit of 256MB","date":"2011-08-16T21:44:35.049Z","type":"message"}
{"nick":"piscisaureus","message":"    32-bit Windows Server 2008 will have a nonpaged pool limit of either 2GB or slightly more than 75% of physical memory, whichever is smaller","date":"2011-08-16T21:44:35.049Z","type":"message"}
{"nick":"piscisaureus","message":"    64-bit Windows Server 2003 will have a nonpaged pool of either 128GB or 40% of physical memory, whichever is smaller","date":"2011-08-16T21:44:35.049Z","type":"message"}
{"nick":"piscisaureus","message":"    64-bit Windows Server 2008 (or 2008 R2) will have a nonpaged pool limit of either 128GB or slightly more than 75% of physical memory, whichever is smaller","date":"2011-08-16T21:44:35.049Z","type":"message"}
{"nick":"piscisaureus","message":"so it seems that anything < 10MB is going to be no problem at all","date":"2011-08-16T21:46:01.178Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: btw - if you want high throughput, set the kernel send buffer to 64KB or something","date":"2011-08-16T21:47:15.184Z","type":"message"}
{"nick":"piscisaureus","message":"SO_SNDBUF","date":"2011-08-16T21:47:28.971Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, i will play with that next","date":"2011-08-16T21:47:43.313Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: that actually is a big difference (on loopback anyway)","date":"2011-08-16T21:47:56.127Z","type":"message"}
{"nick":"ryah","message":"someone was asking for a setsockopt binding the other day","date":"2011-08-16T21:49:05.067Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but if you do this for all sockets then you can't create 10K sockets any more (I tried)","date":"2011-08-16T21:49:06.286Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: so, 100 tcp streams?","date":"2011-08-16T21:49:56.583Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: go for 50, ryah has a point :-)","date":"2011-08-16T21:50:12.228Z","type":"message"}
{"nick":"igorzi","message":"ok","date":"2011-08-16T21:50:17.860Z","type":"message"}
{"nick":"piscisaureus","message":"must.optimize.for.benchmarks\u0003 >:-) \u0003","date":"2011-08-16T21:50:34.412Z","type":"message"}
{"nick":"igorzi","message":":)","date":"2011-08-16T21:51:13.172Z","type":"message"}
{"nick":"ryah","message":"igorzi: it might be nice to add a counter for the closes on each type of uv handle","date":"2011-08-16T21:51:19.791Z","type":"message"}
{"nick":"ryah","message":"and use the counters to see how many open uv_tcp_t there are","date":"2011-08-16T21:51:29.015Z","type":"message"}
{"nick":"ryah","message":"or not - just an idea","date":"2011-08-16T21:51:43.208Z","type":"message"}
{"nick":"piscisaureus","message":"OT i like that linkedin is using node btw. Finally a well-known big company digging it.","date":"2011-08-16T21:52:55.867Z","type":"message"}
{"nick":"igorzi","message":"ryah: i tried your pound bench modification.. it's running fine on my machine.  the numbers are the same.  i'll make that work for pipes, and land it, if noone objects","date":"2011-08-16T21:53:03.200Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yahoo, facebook, msft, palm don't count?","date":"2011-08-16T21:55:34.024Z","type":"message"}
{"nick":"piscisaureus","message":"since when is facebook using it?","date":"2011-08-16T21:55:50.017Z","type":"message"}
{"nick":"ryah","message":"they have an internal benchmarking tool using it","date":"2011-08-16T21:56:08.976Z","type":"message"}
{"nick":"ryah","message":"and hopefully some production stuff later this year","date":"2011-08-16T21:56:21.549Z","type":"message"}
{"nick":"piscisaureus","message":"oh ok","date":"2011-08-16T21:56:26.077Z","type":"message"}
{"nick":"ryah","message":"we need to improve debugging","date":"2011-08-16T21:56:51.347Z","type":"message"}
{"nick":"ryah","message":"it's losing us users","date":"2011-08-16T21:56:56.732Z","type":"message"}
{"nick":"ryah","message":"obviously windows first","date":"2011-08-16T21:57:05.689Z","type":"message"}
{"nick":"ryah","message":"long stack traces are relatively approachable now","date":"2011-08-16T21:57:36.237Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: debugging as in long stack traces or line stepping?","date":"2011-08-16T21:57:46.185Z","type":"message"}
{"nick":"piscisaureus","message":"for the latter, they just need to use c9 then :p","date":"2011-08-16T21:58:08.170Z","type":"message"}
{"nick":"ryah","message":"just generally visability","date":"2011-08-16T21:58:09.546Z","type":"message"}
{"nick":"ryah","message":"also post-mortem debugging","date":"2011-08-16T21:58:21.020Z","type":"message"}
{"nick":"ryah","message":"c9?","date":"2011-08-16T21:58:27.834Z","type":"message"}
{"nick":"ryah","message":"d8?","date":"2011-08-16T21:58:32.238Z","type":"message"}
{"nick":"piscisaureus","message":"cloud9","date":"2011-08-16T21:58:36.274Z","type":"message"}
{"nick":"ryah","message":"oh","date":"2011-08-16T21:58:39.562Z","type":"message"}
{"nick":"ryah","message":"the command line debugger needs to be better","date":"2011-08-16T21:58:58.849Z","type":"message"}
{"nick":"ryah","message":"no real programmers use IDEs","date":"2011-08-16T21:59:06.356Z","type":"message"}
{"nick":"DrPizza","message":":(","date":"2011-08-16T22:01:23.191Z","type":"message"}
{"nick":"ryah","message":"jk","date":"2011-08-16T22:01:29.834Z","type":"message"}
{"nick":"DrPizza","message":"long stack traces will make a huge usability difference","date":"2011-08-16T22:01:55.823Z","type":"message"}
{"nick":"isaacs","date":"2011-08-16T22:02:01.970Z","type":"join"}
{"nick":"piscisaureus","message":"long stack traces will slow it down","date":"2011-08-16T22:02:35.440Z","type":"message"}
{"nick":"bnoordhuis","message":"why?","date":"2011-08-16T22:02:48.881Z","type":"message"}
{"nick":"piscisaureus","message":"or ... well that's just an ungrounded fear","date":"2011-08-16T22:02:54.128Z","type":"message"}
{"nick":"ryah","message":"it has to record the stack at each event","date":"2011-08-16T22:03:00.585Z","type":"message"}
{"nick":"piscisaureus","message":"because you need to capture a stack trace all the time","date":"2011-08-16T22:03:03.244Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: I can see ways in which they will","date":"2011-08-16T22:03:03.558Z","type":"message"}
{"nick":"DrPizza","message":"since it has to capture a stack trace at each event ","date":"2011-08-16T22:03:11.757Z","type":"message"}
{"nick":"ryah","message":"but also ev_walk binding","date":"2011-08-16T22:03:18.031Z","type":"message"}
{"nick":"ryah","message":"with integration into the debugger","date":"2011-08-16T22:03:23.802Z","type":"message"}
{"nick":"bnoordhuis","message":"is it such a big performance dent?","date":"2011-08-16T22:03:24.201Z","type":"message"}
{"nick":"ryah","message":"would be hot","date":"2011-08-16T22:03:26.096Z","type":"message"}
{"nick":"DrPizza","message":"but it still has a huge usability advantage","date":"2011-08-16T22:03:26.759Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: at least 30% on http-simple","date":"2011-08-16T22:03:46.242Z","type":"message"}
{"nick":"bnoordhuis","message":"oh wow","date":"2011-08-16T22:03:51.681Z","type":"message"}
{"nick":"ryah","message":"when i measured it","date":"2011-08-16T22:03:56.772Z","type":"message"}
{"nick":"DrPizza","message":"ryah: what exactly is ev_walk, it enumerates every registered callback in libev somehow? ","date":"2011-08-16T22:04:08.212Z","type":"message"}
{"nick":"DrPizza","message":"and calls a callback on each callback?","date":"2011-08-16T22:04:12.693Z","type":"message"}
{"nick":"bnoordhuis","message":"any idea why?","date":"2011-08-16T22:04:14.610Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: yes","date":"2011-08-16T22:04:17.593Z","type":"message"}
{"nick":"ryah","message":"DrPizza: enumerates the \"watchers\" = uv_handle_t","date":"2011-08-16T22:04:26.838Z","type":"message"}
{"nick":"DrPizza","message":"oh, right, yes.","date":"2011-08-16T22:04:38.618Z","type":"message"}
{"nick":"ryah","message":"we're going to have a binding for libuv too","date":"2011-08-16T22:04:48.019Z","type":"message"}
{"nick":"ryah","message":"in v0.5.4 - right ben?","date":"2011-08-16T22:04:53.975Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: stack traces usually aren't optimized much; they're meant to be exceptional","date":"2011-08-16T22:04:58.154Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, i'll finish it up","date":"2011-08-16T22:05:02.387Z","type":"message"}
{"nick":"DrPizza","message":"ryah: so there will be something like a linked list of uv_handle_ts?","date":"2011-08-16T22:05:24.780Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: low priority - it can be bumped. let's focus on udp first","date":"2011-08-16T22:05:44.744Z","type":"message"}
{"nick":"piscisaureus","message":"we should get rid of uv_ref / uv_unref","date":"2011-08-16T22:05:54.473Z","type":"message"}
{"nick":"ryah","message":"DrPizza: yeah","date":"2011-08-16T22:05:54.971Z","type":"message"}
{"nick":"DrPizza","message":"ryah: hrm, that sounds a bit yucky","date":"2011-08-16T22:06:09.808Z","type":"message"}
{"nick":"ryah","message":"DrPizza: piscisaureus we need it...","date":"2011-08-16T22:06:12.144Z","type":"message"}
{"nick":"ryah","message":"sorry that wasn't for DrPizza","date":"2011-08-16T22:06:21.127Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: we need it...","date":"2011-08-16T22:06:28.324Z","type":"message"}
{"nick":"ryah","message":"DrPizza: it's not actually a linked list","date":"2011-08-16T22:06:34.590Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-16T22:06:37.618Z","type":"quit"}
{"nick":"ryah","message":"we'll also want to iterate over pending uv_req_t","date":"2011-08-16T22:07:03.864Z","type":"message"}
{"nick":"DrPizza","message":"what are the use cases for these, just the debugger?","date":"2011-08-16T22:07:14.175Z","type":"message"}
{"nick":"ryah","message":"these will make debugging much nicer","date":"2011-08-16T22:07:15.585Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-08-16T22:07:21.469Z","type":"message"}
{"nick":"DrPizza","message":"so that you can tell the user all the outstanding activity, etc.","date":"2011-08-16T22:07:23.745Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: we would be better of if there was a flag to uv_handle_init. like UV_NOCOUNT and UV_COUNTACTIVE","date":"2011-08-16T22:07:37.102Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: you'll be happy when you them, when you have an event loop that somehow doesn't stop","date":"2011-08-16T22:07:38.501Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: nothing kill -9 can't fix","date":"2011-08-16T22:08:04.124Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: quite :) but some people insist on fixing the cause","date":"2011-08-16T22:08:26.477Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: by default, count the handle towards the refcount. But optionally don't count, or count only as long as uv_is_active(handle).","date":"2011-08-16T22:09:09.454Z","type":"message"}
{"nick":"piscisaureus","message":"I think that covers 99% of all use cases","date":"2011-08-16T22:09:30.068Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: the bonus is that if we ev_walk we can tell whether a handle keeps the loop alive, or if it's just always there","date":"2011-08-16T22:10:30.008Z","type":"message"}
{"nick":"bnoordhuis","message":"^ good point","date":"2011-08-16T22:10:46.510Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: check out timer_wrap.cc","date":"2011-08-16T22:10:54.586Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: UV_COUNTACTIVE is for that","date":"2011-08-16T22:11:05.217Z","type":"message"}
{"nick":"piscisaureus","message":"-> ref() on start, unref() on stop","date":"2011-08-16T22:11:23.752Z","type":"message"}
{"nick":"ryah","message":"i dont know","date":"2011-08-16T22:12:55.459Z","type":"message"}
{"nick":"mraleph","date":"2011-08-16T22:13:32.865Z","type":"join"}
{"nick":"DrPizza","message":"wait what is UV_NOCOUNT doing, some kind of weak \"don't fire if the loop doesn't exist\" or something?","date":"2011-08-16T22:17:04.048Z","type":"message"}
{"nick":"piscisaureus","message":"I was thinking \"this handle doesn't keep the loop alive\"","date":"2011-08-16T22:17:35.837Z","type":"message"}
{"nick":"DrPizza","message":"hm","date":"2011-08-16T22:17:42.901Z","type":"message"}
{"nick":"piscisaureus","message":"I wonder if we better implement uv_walk in node land btw","date":"2011-08-16T22:18:56.039Z","type":"message"}
{"nick":"piscisaureus","message":"just have every foo_wrap register it's object in the constructor, then unregister in the close callback","date":"2011-08-16T22:19:31.188Z","type":"message"}
{"nick":"piscisaureus","message":"then it would be much easier to find the related javascript objects","date":"2011-08-16T22:19:54.067Z","type":"message"}
{"nick":"piscisaureus","action":"in bikeshed mode","date":"2011-08-16T22:20:41.480Z","type":"action"}
{"nick":"piscisaureus","message":"bnoordhuis: How do we deal with this","date":"2011-08-16T22:24:44.945Z","type":"message"}
{"nick":"piscisaureus","message":"\"Note: The Winsock version of the IP_MULTICAST_LOOP option is semantically different than  the UNIX version of the IP_MULTICAST_LOOP option:","date":"2011-08-16T22:24:45.170Z","type":"message"}
{"nick":"piscisaureus","message":"     In Winsock, the IP_MULTICAST_LOOP option applies only to the receive path.","date":"2011-08-16T22:24:45.170Z","type":"message"}
{"nick":"piscisaureus","message":"     In the UNIX version, the IP_MULTICAST_LOOP option applies to the send path.\"","date":"2011-08-16T22:24:45.171Z","type":"message"}
{"nick":"DrPizza","message":"lol","date":"2011-08-16T22:24:54.607Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I remember it made tests fail under windows w/ the legacy binding","date":"2011-08-16T22:25:30.946Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: how does that work on windows?","date":"2011-08-16T22:26:30.891Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, how do you send a multicast packet?","date":"2011-08-16T22:26:42.707Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I don't know, but it was a problem for broadcast as well","date":"2011-08-16T22:28:24.588Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: to broadcast, call setsockopt with SO_BROADCAST, then send to a broadcast address","date":"2011-08-16T22:28:48.575Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: why does IP_MULTICAST_LOOPO work like that on windows?","date":"2011-08-16T22:29:33.357Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, what's the point?","date":"2011-08-16T22:29:52.300Z","type":"message"}
{"nick":"piscisaureus","action":"calls steve ballmer","date":"2011-08-16T22:30:21.150Z","type":"action"}
{"nick":"piscisaureus","message":"he doesn't remember","date":"2011-08-16T22:30:34.329Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll pm bill","date":"2011-08-16T22:30:48.661Z","type":"message"}
{"nick":"DrPizza","message":"IP multicast, what is the point","date":"2011-08-16T22:30:49.178Z","type":"message"}
{"nick":"DrPizza","message":"Great idea in theory.","date":"2011-08-16T22:30:52.815Z","type":"message"}
{"nick":"bnoordhuis","message":"over google talk!","date":"2011-08-16T22:30:54.933Z","type":"message"}
{"nick":"DrPizza","message":"practical application... nil","date":"2011-08-16T22:31:02.616Z","type":"message"}
{"nick":"DrPizza","message":"except for fucking apple using fucking multicast DNS for .local domain names argh","date":"2011-08-16T22:31:12.718Z","type":"message"}
{"nick":"piscisaureus","message":"simple/test-dgram-multicast tests that","date":"2011-08-16T22:31:20.180Z","type":"message"}
{"nick":"piscisaureus","message":"which reminds me","date":"2011-08-16T22:31:28.170Z","type":"message"}
{"nick":"piscisaureus","message":"we need to reinstate the .local -> getaddrinfo switch in dns_uv","date":"2011-08-16T22:31:56.580Z","type":"message"}
{"nick":"DrPizza","message":"to make it use the stupid multicast resolver?","date":"2011-08-16T22:32:19.191Z","type":"message"}
{"nick":"piscisaureus","message":"to use the system resolver to resolve .local addresses on mac","date":"2011-08-16T22:32:39.081Z","type":"message"}
{"nick":"DrPizza","message":"does cares not know how to do multicast to port 5353?","date":"2011-08-16T22:32:48.175Z","type":"message"}
{"nick":"DrPizza","message":"or does the Mac OS X resolver do more than that?","date":"2011-08-16T22:32:56.605Z","type":"message"}
{"nick":"DrPizza","message":"(I know it does at least that)","date":"2011-08-16T22:33:00.305Z","type":"message"}
{"nick":"piscisaureus","message":"I think cares doesn't do that","date":"2011-08-16T22:33:10.985Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm pretty sure it doesn't","date":"2011-08-16T22:33:57.719Z","type":"message"}
{"nick":"bnoordhuis","message":"but let's go back to udp and multicast","date":"2011-08-16T22:34:05.128Z","type":"message"}
{"nick":"piscisaureus","message":"cares also doesn't do WINS lookups btw","date":"2011-08-16T22:34:30.028Z","type":"message"}
{"nick":"bnoordhuis","message":"do we need multicast right now?","date":"2011-08-16T22:35:04.288Z","type":"message"}
{"nick":"DrPizza","message":"not a bug","date":"2011-08-16T22:35:05.105Z","type":"message"}
{"nick":"DrPizza","message":"a feature.","date":"2011-08-16T22:35:06.340Z","type":"message"}
{"nick":"bnoordhuis","message":"or broadcast support?","date":"2011-08-16T22:35:34.833Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: we do if we want to pass test-dgram-multicast :-)","date":"2011-08-16T22:35:49.547Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: I guess having multicast means that you could use node for stuff like bonjour or UPnP services","date":"2011-08-16T22:36:26.522Z","type":"message"}
{"nick":"bnoordhuis","message":"and for provisioning clustered tomcat instances, yay!","date":"2011-08-16T22:36:51.258Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: and a node->NAT-PMP/UPnP IGD library would be very cool","date":"2011-08-16T22:37:08.589Z","type":"message"}
{"nick":"bnoordhuis","message":"but are there realistically using it right now?","date":"2011-08-16T22:37:17.059Z","type":"message"}
{"nick":"DrPizza","message":"having node servers that punch their own firewall holes","date":"2011-08-16T22:37:24.727Z","type":"message"}
{"nick":"DrPizza","message":"^_^","date":"2011-08-16T22:37:25.603Z","type":"message"}
{"nick":"piscisaureus","message":"it could be nice for ryah's node-botnet","date":"2011-08-16T22:37:29.082Z","type":"message"}
{"nick":"piscisaureus","message":"nodes could automatically discover each other","date":"2011-08-16T22:37:42.210Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: simplest way of testing; put out some builds in which the functionality is broken","date":"2011-08-16T22:37:59.714Z","type":"message"}
{"nick":"DrPizza","message":"see how loud the complaints are","date":"2011-08-16T22:38:03.684Z","type":"message"}
{"nick":"DrPizza","message":":D","date":"2011-08-16T22:38:05.935Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: good point :)","date":"2011-08-16T22:38:09.170Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: about the udp api","date":"2011-08-16T22:38:46.451Z","type":"message"}
{"nick":"piscisaureus","message":"ja?","date":"2011-08-16T22:38:56.925Z","type":"message"}
{"nick":"bnoordhuis","message":"right now, socket creation is deferred until the libuv consumer binds, sends or recvs","date":"2011-08-16T22:39:12.170Z","type":"message"}
{"nick":"DrPizza","message":"I wonder how hard it would be to for example spider every node-using project on github and perform some kind of simple text analysis to figure out which APIs they're using","date":"2011-08-16T22:39:18.835Z","type":"message"}
{"nick":"bnoordhuis","message":"recv is a bit troublesome because you don't actually know what type of socket to create, ipv4 or ipv6","date":"2011-08-16T22:39:40.421Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so?","date":"2011-08-16T22:39:40.905Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_udp_recv and uv_udp_recv6 i hear you say","date":"2011-08-16T22:40:11.148Z","type":"message"}
{"nick":"DrPizza","message":"ugh","date":"2011-08-16T22:40:22.861Z","type":"message"}
{"nick":"ryah","message":"now that we have a windows build","date":"2011-08-16T22:40:30.157Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, exactly","date":"2011-08-16T22:40:31.516Z","type":"message"}
{"nick":"ryah","message":"we can start making real botnets","date":"2011-08-16T22:40:36.656Z","type":"message"}
{"nick":"ryah","message":"russian style","date":"2011-08-16T22:40:40.892Z","type":"message"}
{"nick":"bnoordhuis","message":"*crickets chirp*","date":"2011-08-16T22:40:59.460Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: anything with a dual v4/v6 API means that people won't bother supporting v6 which makes the world a sadder place","date":"2011-08-16T22:41:18.139Z","type":"message"}
{"nick":"bnoordhuis","message":"i kid - keep working on that act, ryah","date":"2011-08-16T22:41:27.278Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: there's that","date":"2011-08-16T22:41:56.069Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux, a ipv6 socket can receive ipv4 traffic","date":"2011-08-16T22:43:04.798Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose that's true for other os'es as well","date":"2011-08-16T22:43:11.615Z","type":"message"}
{"nick":"DrPizza","message":"but I don't quite understand the problem, to call recv it has to have some semblance of an address already (it has to have enough to create a socket)","date":"2011-08-16T22:43:12.134Z","type":"message"}
{"nick":"bnoordhuis","message":"you'd usually call bind first","date":"2011-08-16T22:43:49.975Z","type":"message"}
{"nick":"bnoordhuis","message":"but you don't have to, a udp socket can send and receive data the moment it's created","date":"2011-08-16T22:44:12.336Z","type":"message"}
{"nick":"bnoordhuis","message":"it just gets assigned a random port","date":"2011-08-16T22:44:34.872Z","type":"message"}
{"nick":"bnoordhuis","message":"which might be beneficial for p2p style apps","date":"2011-08-16T22:44:48.681Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: yes, but the first parameter to recv is still a socket fd/SOCKET, no?","date":"2011-08-16T22:45:02.987Z","type":"message"}
{"nick":"DrPizza","message":"wait you can create that just totally randomly?","date":"2011-08-16T22:45:18.768Z","type":"message"}
{"nick":"DrPizza","message":"and receive data on it?","date":"2011-08-16T22:45:21.772Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2011-08-16T22:45:25.544Z","type":"message"}
{"nick":"DrPizza","message":"without specifying anything more?","date":"2011-08-16T22:45:28.765Z","type":"message"}
{"nick":"DrPizza","message":"but","date":"2011-08-16T22:45:31.364Z","type":"message"}
{"nick":"DrPizza","message":"how does the other end know where to send?","date":"2011-08-16T22:45:35.246Z","type":"message"}
{"nick":"DrPizza","message":"I guess you tell it","date":"2011-08-16T22:45:37.301Z","type":"message"}
{"nick":"DrPizza","message":"huh.","date":"2011-08-16T22:45:38.356Z","type":"message"}
{"nick":"bnoordhuis","message":"again yep :)","date":"2011-08-16T22:45:47.249Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: input please","date":"2011-08-16T22:46:07.152Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: then I guess just make people set an address to listen on and let them specify 0.0.0.0 or ::","date":"2011-08-16T22:46:17.395Z","type":"message"}
{"nick":"DrPizza","message":"or some other option for \"don't care\"","date":"2011-08-16T22:46:31.446Z","type":"message"}
{"nick":"DrPizza","message":"NULL, say","date":"2011-08-16T22:46:37.549Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i just want to check that uv_udp_t is a subclass of uv_handle_t and uv_msg_t is a subclass of uv_req_t ?","date":"2011-08-16T22:46:52.380Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: yeah, but you still need to specify AF_INET or AF_INET6 when you create the socket","date":"2011-08-16T22:46:53.994Z","type":"message"}
{"nick":"piscisaureus","message":"http://www.youtube.com/watch?v=dEkOT3IngMQ&t=0m28s","date":"2011-08-16T22:47:02.635Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: ack to the first question, nack (for now at least) to the second","date":"2011-08-16T22:47:12.769Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: that'd better be work related","date":"2011-08-16T22:47:33.002Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: or AF_UNSPEC, can't you?","date":"2011-08-16T22:47:36.169Z","type":"message"}
{"nick":"DrPizza","message":"or does that not work","date":"2011-08-16T22:47:48.891Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: ok","date":"2011-08-16T22:47:52.541Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I'm trying to understand the problem","date":"2011-08-16T22:48:18.667Z","type":"message"}
{"nick":"bnoordhuis","message":"DrPizza: i don't think AF_UNSPEC works for creating a socket","date":"2011-08-16T22:49:44.227Z","type":"message"}
{"nick":"piscisaureus","message":"no I don't think so either","date":"2011-08-16T22:49:55.385Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: hmm, it looks like it does for SOCK_RAW and for ICMP (at least on Windows) but not for SOCK_DGRAM","date":"2011-08-16T22:50:17.234Z","type":"message"}
{"nick":"DrPizza","message":"figures.","date":"2011-08-16T22:50:30.940Z","type":"message"}
{"nick":"bnoordhuis","message":"AF_UNSPEC?","date":"2011-08-16T22:50:47.179Z","type":"message"}
{"nick":"bnoordhuis","message":"then i learned something today","date":"2011-08-16T22:50:54.636Z","type":"message"}
{"nick":"DrPizza","message":"yes","date":"2011-08-16T22:50:54.870Z","type":"message"}
{"nick":"DrPizza","message":"at least in winsock","date":"2011-08-16T22:50:59.369Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so what is the problem? you want to listen for ipv4 and ipv6 at the same time?","date":"2011-08-16T22:51:09.510Z","type":"message"}
{"nick":"piscisaureus","message":"or?","date":"2011-08-16T22:51:14.199Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: socket creation is deferred","date":"2011-08-16T22:51:29.284Z","type":"message"}
{"nick":"bnoordhuis","message":"so when the consumer calls uv_udp_recv you don't know what type of socket to create","date":"2011-08-16T22:51:52.589Z","type":"message"}
{"nick":"piscisaureus","message":"oh we don't know what it is going to be heh","date":"2011-08-16T22:51:53.494Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2011-08-16T22:51:57.764Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-16T22:52:04.020Z","type":"message"}
{"nick":"bnoordhuis","message":"so you can split up the api in uv_udp_recv and uv_udp_recv6","date":"2011-08-16T22:52:12.911Z","type":"message"}
{"nick":"piscisaureus","message":"okay so why don't we have this problem with tcp?","date":"2011-08-16T22:52:18.648Z","type":"message"}
{"nick":"piscisaureus","message":"oh because you always bind first then","date":"2011-08-16T22:52:25.636Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2011-08-16T22:52:28.997Z","type":"message"}
{"nick":"piscisaureus","message":"aha","date":"2011-08-16T22:52:31.924Z","type":"message"}
{"nick":"bnoordhuis","message":"or connect, same thing","date":"2011-08-16T22:52:38.925Z","type":"message"}
{"nick":"ryah","message":"forget ipv6","date":"2011-08-16T22:52:41.316Z","type":"message"}
{"nick":"ryah","message":"no one cares about that fictional protocol","date":"2011-08-16T22:52:49.776Z","type":"message"}
{"nick":"piscisaureus","message":"I don't like recv and recv6","date":"2011-08-16T22:52:52.830Z","type":"message"}
{"nick":"piscisaureus","message":"/me pondering","date":"2011-08-16T22:52:53.064Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: better to do it now and do it right than having to retrofit it later","date":"2011-08-16T22:53:18.447Z","type":"message"}
{"nick":"ryah","message":"http://www.google.com/intl/en/ipv6/statistics/","date":"2011-08-16T22:53:53.096Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: we can receive ipv4 packets on an ipv6 socket","date":"2011-08-16T22:53:57.516Z","type":"message"}
{"nick":"piscisaureus","message":"only on vista+","date":"2011-08-16T22:54:02.366Z","type":"message"}
{"nick":"piscisaureus","message":"but ipv6 on xp/2003 is fictional anyway","date":"2011-08-16T22:54:12.284Z","type":"message"}
{"nick":"ryah","message":"if ipv6 traffic goes above 0.5% we can worry about it","date":"2011-08-16T22:54:12.798Z","type":"message"}
{"nick":"ryah","message":"doubtful that will ever happy","date":"2011-08-16T22:54:19.381Z","type":"message"}
{"nick":"ryah","message":"happen","date":"2011-08-16T22:54:21.696Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: http://msdn.microsoft.com/en-us/library/bb513665%28v=vs.85%29.aspx","date":"2011-08-16T22:54:45.804Z","type":"message"}
{"nick":"ryah","message":"(im just kidding - kind of - im glad you're thinking about it)","date":"2011-08-16T22:55:23.913Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: make it a flag then","date":"2011-08-16T22:56:28.213Z","type":"message"}
{"nick":"DrPizza","message":"ryah: I'm starting to see ipv6 connections on bittorrent from time to time","date":"2011-08-16T22:56:40.782Z","type":"message"}
{"nick":"DrPizza","message":"it's definitely growing","date":"2011-08-16T22:56:43.105Z","type":"message"}
{"nick":"DrPizza","message":"slowly","date":"2011-08-16T22:56:43.953Z","type":"message"}
{"nick":"ryah","message":"DrPizza: do you have ipv6 connectivity?","date":"2011-08-16T22:57:00.956Z","type":"message"}
{"nick":"DrPizza","message":"not native, only tunnelled","date":"2011-08-16T22:57:18.552Z","type":"message"}
{"nick":"DrPizza","message":"also youtube is now streaming over ipv6","date":"2011-08-16T22:57:29.265Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yeah, linux has that same feature","date":"2011-08-16T22:57:59.097Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but - I don't understand exactly how it works :-/","date":"2011-08-16T22:58:39.227Z","type":"message"}
{"nick":"DrPizza","message":"would it be unacceptable to say that ipv6 only works on dualstack OSes?","date":"2011-08-16T22:58:46.236Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: one drawback is that ipv4 addresses are reported as :::ffff:1.2.3.4","date":"2011-08-16T22:59:05.827Z","type":"message"}
{"nick":"bnoordhuis","message":"bound to raise complaints","date":"2011-08-16T22:59:16.586Z","type":"message"}
{"nick":"ryah","message":"DrPizza: the last 99% is always the hardest userbase to assimilate","date":"2011-08-16T22:59:16.819Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: hmm","date":"2011-08-16T22:59:22.563Z","type":"message"}
{"nick":"DrPizza","message":"ryah: haha","date":"2011-08-16T22:59:30.973Z","type":"message"}
{"nick":"ryah","message":"sorry 99.7%","date":"2011-08-16T22:59:32.541Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: let's just bind to 0.0.0.0:0 if the user doesn't explicitly bind","date":"2011-08-16T22:59:45.995Z","type":"message"}
{"nick":"bnoordhuis","message":"ipv4? sounds reasonable","date":"2011-08-16T22:59:58.715Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: ist here any functional difference between binding to :: and then calling recv, and just calling recv on an unbound socket?","date":"2011-08-16T23:00:19.276Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-08-16T23:00:33.842Z","type":"message"}
{"nick":"DrPizza","message":"an unbound AF_INET6 socket, that is","date":"2011-08-16T23:00:37.208Z","type":"message"}
{"nick":"bnoordhuis","message":"the alternative is to let the user specify upfront what kind of socket they want","date":"2011-08-16T23:00:38.483Z","type":"message"}
{"nick":"DrPizza","message":"oh in that case, force people to bind","date":"2011-08-16T23:00:43.382Z","type":"message"}
{"nick":"DrPizza","message":"it's harmless","date":"2011-08-16T23:00:44.951Z","type":"message"}
{"nick":"piscisaureus","message":"just force them to bind","date":"2011-08-16T23:00:48.829Z","type":"message"}
{"nick":"piscisaureus","message":"they can bind to either '0.0.0.0' port 0 or '::' port 0","date":"2011-08-16T23:01:02.286Z","type":"message"}
{"nick":"ryah","message":"they should not need to bind","date":"2011-08-16T23:01:24.412Z","type":"message"}
{"nick":"DrPizza","message":"ryah: for ipv6 I mean","date":"2011-08-16T23:01:35.182Z","type":"message"}
{"nick":"piscisaureus","message":"for ipv4 they don't have to","date":"2011-08-16T23:01:46.187Z","type":"message"}
{"nick":"DrPizza","message":"to let them override the ipv4 default","date":"2011-08-16T23:01:51.199Z","type":"message"}
{"nick":"DrPizza","message":"it's either that or to set a flag or something on the first uv_udp_recv call","date":"2011-08-16T23:02:03.002Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: to recap: you propose to auto-bind to 0.0.0.0:0?","date":"2011-08-16T23:02:03.620Z","type":"message"}
{"nick":"ryah","message":"sure","date":"2011-08-16T23:02:04.285Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: yeah","date":"2011-08-16T23:02:21.007Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: we could skip the actual bind syscall if possible","date":"2011-08-16T23:02:40.319Z","type":"message"}
{"nick":"piscisaureus","message":"that is - if the user tries to bind to [::]:0 then we could as well not call bind() at all","date":"2011-08-16T23:03:03.646Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, what piscisaureus is saying is equivalent to creating a ipv4 udp socket","date":"2011-08-16T23:03:10.285Z","type":"message"}
{"nick":"piscisaureus","message":"just record that the user wants an ipv5 socket","date":"2011-08-16T23:03:12.931Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: to be sure: what we're saying here is: default to ipv4 unless the user says otherwise","date":"2011-08-16T23:04:41.751Z","type":"message"}
{"nick":"piscisaureus","message":"yez","date":"2011-08-16T23:04:49.093Z","type":"message"}
{"nick":"bnoordhuis","message":"i can live with that","date":"2011-08-16T23:05:03.774Z","type":"message"}
{"nick":"bnoordhuis","message":"next point of order: how to pass in addresses to send and recv","date":"2011-08-16T23:05:15.383Z","type":"message"}
{"nick":"bnoordhuis","message":"sockaddr_in and sockaddr_in6 differ in size","date":"2011-08-16T23:05:29.799Z","type":"message"}
{"nick":"piscisaureus","message":"pass an address to recv() ?","date":"2011-08-16T23:05:50.049Z","type":"message"}
{"nick":"bnoordhuis","message":"as a string?","date":"2011-08-16T23:05:56.312Z","type":"message"}
{"nick":"piscisaureus","message":"hmm no","date":"2011-08-16T23:06:06.621Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: why pass an adress to recv() ?","date":"2011-08-16T23:06:18.689Z","type":"message"}
{"nick":"bnoordhuis","message":"so you can tell who sent the packet","date":"2011-08-16T23:06:35.402Z","type":"message"}
{"nick":"bnoordhuis","message":"but actually...","date":"2011-08-16T23:06:39.319Z","type":"message"}
{"nick":"bnoordhuis","message":"that's one of the things i created that cookie param for","date":"2011-08-16T23:06:49.567Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: that's gotta be sent to the callbacl","date":"2011-08-16T23:06:50.577Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2011-08-16T23:07:10.255Z","type":"message"}
{"nick":"bnoordhuis","message":"uv_udp_send takes an address though - and has to","date":"2011-08-16T23:07:29.537Z","type":"message"}
{"nick":"piscisaureus","message":"for send we could just pass it as struct sockaddr*","date":"2011-08-16T23:07:40.396Z","type":"message"}
{"nick":"bnoordhuis","message":"i suppose so","date":"2011-08-16T23:08:17.848Z","type":"message"}
{"nick":"bnoordhuis","message":"does windows have socklen_t?","date":"2011-08-16T23:08:22.321Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-08-16T23:08:42.273Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, we'll use int","date":"2011-08-16T23:08:56.217Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: can't look at sockaddr.sa_family?","date":"2011-08-16T23:09:38.508Z","type":"message"}
{"nick":"piscisaureus","message":"why use socklen at all?","date":"2011-08-16T23:09:42.908Z","type":"message"}
{"nick":"bnoordhuis","message":"technically, the offset of sa_family may differ","date":"2011-08-16T23:10:05.626Z","type":"message"}
{"nick":"piscisaureus","message":"also I think it's harmless to have send and send6 btw. I mean we also have connect and connect6","date":"2011-08-16T23:10:59.515Z","type":"message"}
{"nick":"bnoordhuis","message":"right","date":"2011-08-16T23:11:22.466Z","type":"message"}
{"nick":"bnoordhuis","message":"ugly but functional","date":"2011-08-16T23:11:30.619Z","type":"message"}
{"nick":"piscisaureus","message":"does it make the binding more difficult?","date":"2011-08-16T23:11:46.143Z","type":"message"}
{"nick":"bnoordhuis","message":"no, not at all","date":"2011-08-16T23:11:54.106Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-08-16T23:12:26.433Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus: last point: how to tell the recv callback the type of sockaddr?","date":"2011-08-16T23:12:46.676Z","type":"message"}
{"nick":"bnoordhuis","message":"param family in [AF_INET, AF_INET6]?","date":"2011-08-16T23:13:01.082Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-08-16T23:13:20.922Z","type":"message"}
{"nick":"ryah","message":"guys we're making --use-uv default after v0.5.4 - k?","date":"2011-08-16T23:13:46.700Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: yes","date":"2011-08-16T23:13:52.621Z","type":"message"}
{"nick":"ryah","topic":" https://gist.github.com/1149993 ab.c | --use-uv default after v0.5.4 | v0.5.4 release manager bnoordhuis, UDP","date":"2011-08-16T23:15:06.486Z","type":"topic"}
{"nick":"piscisaureus","message":"bnoordhuis: hmm. I don't have a good idea for that. I think a family param is okay if you say that sockaddr.sa_family doesn't work","date":"2011-08-16T23:16:17.440Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: thinking about it - maybe it would be nice if we could use dualstack sockets for unbound sockets","date":"2011-08-16T23:17:02.418Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but we can always do that later","date":"2011-08-16T23:17:29.615Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: well... give me a good reason","date":"2011-08-16T23:17:45.136Z","type":"message"}
{"nick":"bnoordhuis","message":"it's easy to implement so time is not an issue","date":"2011-08-16T23:17:56.216Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so people don't have to think about bound, let them just call send and send6","date":"2011-08-16T23:18:20.796Z","type":"message"}
{"nick":"piscisaureus","message":"*bind","date":"2011-08-16T23:18:28.129Z","type":"message"}
{"nick":"bnoordhuis","message":"i can live with that","date":"2011-08-16T23:18:50.657Z","type":"message"}
{"nick":"bnoordhuis","message":"but the :::ffff:1.2.3.4 address issue still stands","date":"2011-08-16T23:19:04.713Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I guess we would want automatic mapping between ipv4 and v4-mapped-v6","date":"2011-08-16T23:19:21.541Z","type":"message"}
{"nick":"piscisaureus","message":"so the user doesn't have to worry about that","date":"2011-08-16T23:19:28.348Z","type":"message"}
{"nick":"DrPizza","message":"yes, if you just detect such addresses and strip off the ::ffff:","date":"2011-08-16T23:19:54.027Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, i have to digest that one","date":"2011-08-16T23:19:55.937Z","type":"message"}
{"nick":"piscisaureus","message":"so if the socket is dualstack, send(4) would map the address to ipv6 then call send6","date":"2011-08-16T23:20:02.870Z","type":"message"}
{"nick":"DrPizza","message":"that would seem harmless and safe in general","date":"2011-08-16T23:20:03.639Z","type":"message"}
{"nick":"piscisaureus","message":"and recv would - indeed - strip the ::ffff: and tell the callback that it's ipv4","date":"2011-08-16T23:20:28.484Z","type":"message"}
{"nick":"bnoordhuis","message":"that'd work","date":"2011-08-16T23:21:02.425Z","type":"message"}
{"nick":"bnoordhuis","message":"there's probably a lot wrong with it","date":"2011-08-16T23:21:09.242Z","type":"message"}
{"nick":"bnoordhuis","message":"i just can't think of anything yet","date":"2011-08-16T23:21:23.523Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, sexy baby alert: http://www.flickr.com/photos/digilijn/6050012453/in/set-72157627449190374","date":"2011-08-16T23:22:27.668Z","type":"message"}
{"nick":"bnoordhuis","message":"she's cute, isn't she?","date":"2011-08-16T23:22:33.320Z","type":"message"}
{"nick":"piscisaureus","message":"ah she just looks like drpizza","date":"2011-08-16T23:22:43.959Z","type":"message"}
{"nick":"DrPizza","message":"wt","date":"2011-08-16T23:22:50.419Z","type":"message"}
{"nick":"DrPizza","message":"f","date":"2011-08-16T23:22:51.865Z","type":"message"}
{"nick":"DrPizza","message":"wut","date":"2011-08-16T23:22:53.766Z","type":"message"}
{"nick":"bnoordhuis","message":"^ my daughter :)","date":"2011-08-16T23:23:20.739Z","type":"message"}
{"nick":"piscisaureus","message":"drpizza: sorry, you're the victim here, bnoordhuis and I are insulting each other all the time","date":"2011-08-16T23:23:27.495Z","type":"message"}
{"nick":"DrPizza","message":";_;","date":"2011-08-16T23:23:33.471Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: let me run a few dual-stack tests here","date":"2011-08-16T23:26:30.990Z","type":"message"}
{"nick":"DrPizza","message":"in an ideal world you'd just use dual-stack everything, and only make the v4/v6 difference manifest during name/address resolution/specification.","date":"2011-08-16T23:27:56.077Z","type":"message"}
{"nick":"piscisaureus","message":"doesn't node do that?","date":"2011-08-16T23:28:35.332Z","type":"message"}
{"nick":"DrPizza","message":"piscisaureus: perhaps but it seems feasible to me that uv could do so too","date":"2011-08-16T23:28:56.898Z","type":"message"}
{"nick":"DrPizza","message":"at least, if it weren't for win2k3","date":"2011-08-16T23:29:06.980Z","type":"message"}
{"nick":"piscisaureus","message":"perhaps","date":"2011-08-16T23:29:16.758Z","type":"message"}
{"nick":"piscisaureus","message":"maybe we should pass ip addresses as strings","date":"2011-08-16T23:29:23.896Z","type":"message"}
{"nick":"piscisaureus","message":"like, always","date":"2011-08-16T23:29:33.316Z","type":"message"}
{"nick":"piscisaureus","message":"solid dual-stack support for tcp could be a pretty neat","date":"2011-08-16T23:30:24.946Z","type":"message"}
{"nick":"piscisaureus","message":"when ipv6 finally takes off","date":"2011-08-16T23:30:32.917Z","type":"message"}
{"nick":"DrPizza","message":"yes","date":"2011-08-16T23:30:38.829Z","type":"message"}
{"nick":"DrPizza","message":"also it's good for ryah's botnet","date":"2011-08-16T23:30:46.204Z","type":"message"}
{"nick":"DrPizza","message":"since you could give each bot a unique endpoint","date":"2011-08-16T23:30:55.316Z","type":"message"}
{"nick":"DrPizza","message":"even when stuck behind corporate NATs","date":"2011-08-16T23:31:06.364Z","type":"message"}
{"nick":"DrPizza","message":"they can just teredo out or whatever","date":"2011-08-16T23:31:10.622Z","type":"message"}
{"nick":"piscisaureus","message":"basically what you'd want is uv_bind_dual(port)","date":"2011-08-16T23:32:01.981Z","type":"message"}
{"nick":"piscisaureus","message":"bind to any ipv4 + ipv6 interface","date":"2011-08-16T23:32:13.155Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, dual stack should work","date":"2011-08-16T23:37:47.559Z","type":"message"}
{"nick":"bnoordhuis","message":"one narrow use case we can't service: have server A listening on ipv4 and server B on ipv6","date":"2011-08-16T23:38:14.199Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: eh?","date":"2011-08-16T23:38:57.966Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux anyway, ipv6 is by default dual stack","date":"2011-08-16T23:39:01.357Z","type":"message"}
{"nick":"piscisaureus","message":"server A / server ?","date":"2011-08-16T23:39:02.165Z","type":"message"}
{"nick":"piscisaureus","message":"server A / server B?","date":"2011-08-16T23:39:04.602Z","type":"message"}
{"nick":"bnoordhuis","message":"imagine you want to redirect incoming ipv4 traffic to your ipv6 site","date":"2011-08-16T23:39:30.688Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: you can't turn off dualstack on linux?","date":"2011-08-16T23:40:16.720Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, but you need to set a flag (IPV6_V6ONLY)","date":"2011-08-16T23:40:24.953Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: on windows too. But that flag is on by default","date":"2011-08-16T23:40:43.842Z","type":"message"}
{"nick":"bnoordhuis","message":"and it's off by default on linux - awesome eh? :)","date":"2011-08-16T23:41:03.049Z","type":"message"}
{"nick":"bnoordhuis","message":"not sure what the bsds do","date":"2011-08-16T23:41:08.153Z","type":"message"}
{"nick":"piscisaureus","message":"you should turn it on on linux","date":"2011-08-16T23:41:19.874Z","type":"message"}
{"nick":"piscisaureus","message":"but yeah check the bsds first","date":"2011-08-16T23:41:30.723Z","type":"message"}
{"nick":"bnoordhuis","message":"freebsd more or less follows linux","date":"2011-08-16T23:43:46.467Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so we want to enable dualstack by default?","date":"2011-08-16T23:44:58.929Z","type":"message"}
{"nick":"bnoordhuis","message":"well... let me check opensolaris","date":"2011-08-16T23:45:30.891Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: nice looking baby","date":"2011-08-16T23:45:31.673Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so currently with node you can't create a tcp4 server and a tcp6 server on the same port","date":"2011-08-16T23:45:35.998Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: she's cute eh? :)","date":"2011-08-16T23:45:40.683Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: that's correct","date":"2011-08-16T23:46:14.356Z","type":"message"}
{"nick":"piscisaureus","message":"how old is mees now btw?","date":"2011-08-16T23:46:58.551Z","type":"message"}
{"nick":"bnoordhuis","message":"almost nine months","date":"2011-08-16T23:47:06.757Z","type":"message"}
{"nick":"bnoordhuis","message":"not really a baby anymore :(","date":"2011-08-16T23:47:25.797Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: my son is 9.5 months :)","date":"2011-08-16T23:47:34.061Z","type":"message"}
{"nick":"bnoordhuis","message":"hey congrats, igorzi","date":"2011-08-16T23:47:42.974Z","type":"message"}
{"nick":"DrPizza","message":"bnoordhuis: maybe the best option would be to make all the udp functions where it matters (and others, I guess), have a shitty flag to specify \"v4\", \"v6\", \"both\"","date":"2011-08-16T23:47:48.003Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: thanks, you too :)","date":"2011-08-16T23:47:50.719Z","type":"message"}
{"nick":"ryah","message":"we should have NAT piercing in node-core","date":"2011-08-16T23:47:53.824Z","type":"message"}
{"nick":"bnoordhuis","message":"how do you like being a parent?","date":"2011-08-16T23:47:54.101Z","type":"message"}
{"nick":"DrPizza","message":"babies mainly just look weird to me","date":"2011-08-16T23:47:58.230Z","type":"message"}
{"nick":"DrPizza","message":"ryah: lol","date":"2011-08-16T23:48:00.073Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: it was kind of crazy at first, but i like it a lot","date":"2011-08-16T23:48:17.430Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: you?","date":"2011-08-16T23:48:26.645Z","type":"message"}
{"nick":"DrPizza","message":"ryah: like upnp igd/nat-pmp?","date":"2011-08-16T23:48:28.039Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: yeah, same here :)","date":"2011-08-16T23:48:30.030Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: and it's actually her mom that did most of the work in the early days","date":"2011-08-16T23:48:46.895Z","type":"message"}
{"nick":"ryah","message":"DrPizza: like STUN","date":"2011-08-16T23:49:25.719Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: i ended up doing a lot of work.. (his mom had to go back to work after ~2 months) :(","date":"2011-08-16T23:49:55.783Z","type":"message"}
{"nick":"DrPizza","message":"doesn't stun need an external stun server?","date":"2011-08-16T23:50:10.618Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: ow, that sucks - babies are more than a handful","date":"2011-08-16T23:50:22.176Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't think i'd get anything done if i'd have to babysit mees","date":"2011-08-16T23:50:35.720Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307tcp_perf\u000f * r\u0002084f681\u000f \u000310\u000f/ Makefile \u0002:\u000f ","date":"2011-08-16T23:52:16.493Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f build: fix build on systems where `ld --as-needed` is the default","date":"2011-08-16T23:52:16.720Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f Fixes unresolved symbol linker errors from -lm and -lrt. - http://bit.ly/oT9NyT","date":"2011-08-16T23:52:16.720Z","type":"message"}
{"nick":"CIA-95","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307tcp_perf\u000f * r\u0002d763581\u000f \u000310\u000f/ (4 files)\u0002:\u000f Skip IOCP for tcp operations that complete synchronously - http://bit.ly/nd3IsB","date":"2011-08-16T23:52:17.507Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: -----^","date":"2011-08-16T23:52:35.986Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: does it improve perf?","date":"2011-08-16T23:55:55.928Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: btw - lgtm","date":"2011-08-16T23:56:07.695Z","type":"message"}
{"nick":"ryah","message":"he said 2%","date":"2011-08-16T23:56:30.465Z","type":"message"}
{"nick":"ryah","message":"before?","date":"2011-08-16T23:56:33.060Z","type":"message"}
{"nick":"piscisaureus","message":"although it wasn't really necessary to move the `reqs_pending++` inside the if btw","date":"2011-08-16T23:56:58.221Z","type":"message"}
{"nick":"piscisaureus","message":"s/wasn't/isn't/","date":"2011-08-16T23:57:08.998Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: btw","date":"2011-08-16T23:58:15.827Z","type":"message"}
{"nick":"piscisaureus","message":"for me pAcceptEx6 == pAcceptEx for me","date":"2011-08-16T23:58:29.599Z","type":"message"}
{"nick":"piscisaureus","message":"also for ConnectEx etc","date":"2011-08-16T23:58:38.961Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, it seems to make it more readable (so that there's a common pattern -> if (UV_SUCCEEDED_WITHOUT_IOCP) else if(UV_SUCCEEDED_OUT_IOCP) else..)","date":"2011-08-16T23:59:43.111Z","type":"message"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-09-25T00:00:01.429Z","type":"quit"}
{"nick":"ircretary","date":"2013-09-25T00:00:09.338Z","type":"join"}
{"nick":"trevnorris","message":"ok, how is this possible? \"at Pipe._tickCallback (node.js:513:11)\"","date":"2013-09-25T00:01:04.405Z","type":"message"}
{"nick":"trevnorris","message":"Pipe doesn't freaking have _tickCallback","date":"2013-09-25T00:01:16.722Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-25T00:02:05.657Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-09-25T00:03:55.818Z","type":"quit"}
{"nick":"TooTallNate","message":"trevnorris: .call()?","date":"2013-09-25T00:05:21.795Z","type":"message"}
{"nick":"trevnorris","message":"TooTallNate: it has something to do w/ my async listener patch. which doesn't use call anywhere.","date":"2013-09-25T00:05:43.155Z","type":"message"}
{"nick":"st_luke","date":"2013-09-25T00:09:48.404Z","type":"join"}
{"nick":"tjfontaine","message":"ircretary: ask bnoordhuis #6214 was causing the v8 instability, how long was it taking to run, and it wasn't just a pure OOM that you were hitting?","date":"2013-09-25T00:14:28.435Z","type":"message"}
{"nick":"ircretary","message":"tjfontaine: I'll tell bnoordhuis you asked.","date":"2013-09-25T00:14:28.653Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: thanks.","date":"2013-09-25T00:16:24.618Z","type":"message"}
{"nick":"TooTallNate","message":":)","date":"2013-09-25T00:16:51.048Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-09-25T00:19:55.868Z","type":"quit"}
{"nick":"julianduque","reason":"Ping timeout: 260 seconds","date":"2013-09-25T00:20:59.897Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-09-25T00:21:29.500Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-09-25T00:21:56.838Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-25T00:23:59.290Z","type":"join"}
{"nick":"AvianFlu","date":"2013-09-25T00:24:28.159Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-25T00:30:32.322Z","type":"nick"}
{"nick":"bradleymeck","reason":"Ping timeout: 264 seconds","date":"2013-09-25T00:31:18.224Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2013-09-25T00:34:10.758Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-09-25T00:34:30.756Z","type":"join"}
{"nick":"bradleymeck","reason":"Remote host closed the connection","date":"2013-09-25T00:34:34.331Z","type":"quit"}
{"nick":"trevnorris","message":"for anyone that has a spare hour: https://github.com/joyent/node/pull/6011","date":"2013-09-25T00:35:14.338Z","type":"message"}
{"nick":"trevnorris","message":"it's mostly passing, but domains are still deeply integrated. I will remove them!!!!","date":"2013-09-25T00:35:37.407Z","type":"message"}
{"nick":"trevnorris","message":"DAMN YOU DOMAINS TO HELL!!!","date":"2013-09-25T00:35:44.115Z","type":"message"}
{"nick":"LOUDBOT","message":"I JUST PUT PLASTIC IN MY CIDER","date":"2013-09-25T00:35:44.724Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-09-25T00:36:19.861Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-09-25T00:37:01.735Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-25T00:37:40.486Z","type":"nick"}
{"nick":"wwicks_","date":"2013-09-25T00:38:10.135Z","type":"join"}
{"nick":"MI6","date":"2013-09-25T00:39:45.122Z","type":"join"}
{"nick":"wwicks","reason":"Ping timeout: 256 seconds","date":"2013-09-25T00:40:34.363Z","type":"quit"}
{"nick":"wwicks_","new_nick":"wwicks","date":"2013-09-25T00:40:34.584Z","type":"nick"}
{"nick":"tjfontaine","message":"indutny: you around?","date":"2013-09-25T00:43:06.629Z","type":"message"}
{"nick":"M28","date":"2013-09-25T00:44:31.202Z","type":"join"}
{"nick":"tjfontaine","message":"indutny: nvm","date":"2013-09-25T00:45:21.508Z","type":"message"}
{"nick":"amartens","date":"2013-09-25T00:46:55.545Z","type":"join"}
{"nick":"kellabyte","reason":"Quit: Quit","date":"2013-09-25T00:48:14.914Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-25T00:48:28.677Z","type":"quit"}
{"nick":"tjfontaine","message":"ircretary: tell bnoordhuis reverting a9ff21830156b766c9ad2159e9eab4ae1e07b39c and 75124716c7e90733f0a2c6d08457f34155ddab87 while reapplying the vm fix, things are ok, not sure how we get a test case for them","date":"2013-09-25T00:55:58.192Z","type":"message"}
{"nick":"ircretary","message":"tjfontaine: I'll be sure to tell bnoordhuis","date":"2013-09-25T00:55:58.562Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: ^","date":"2013-09-25T00:56:02.175Z","type":"message"}
{"nick":"c4milo","date":"2013-09-25T01:00:57.976Z","type":"join"}
{"nick":"jmar777","date":"2013-09-25T01:16:27.761Z","type":"join"}
{"nick":"groundwater","reason":"Quit: groundwater","date":"2013-09-25T01:18:16.704Z","type":"quit"}
{"nick":"st_luke","date":"2013-09-25T01:20:12.380Z","type":"join"}
{"nick":"kellabyte","date":"2013-09-25T01:22:08.325Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-25T01:34:11.929Z","type":"quit"}
{"nick":"abraxas","date":"2013-09-25T01:37:16.544Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-09-25T01:43:23.952Z","type":"quit"}
{"nick":"creationix","message":"evening folks","date":"2013-09-25T01:43:34.109Z","type":"message"}
{"nick":"tjfontaine","message":"gday","date":"2013-09-25T01:43:39.158Z","type":"message"}
{"nick":"creationix","message":"how do I go about debugging segfaults in threaded libuv code","date":"2013-09-25T01:43:58.183Z","type":"message"}
{"nick":"creationix","message":"my code is crashing somewhere in getaddrinfo","date":"2013-09-25T01:44:12.218Z","type":"message"}
{"nick":"creationix","message":"but gdb complains with \"couldn't activate thread debugging using libthread_db: Cannot find new threads: generic error\"","date":"2013-09-25T01:44:29.870Z","type":"message"}
{"nick":"tjfontaine","message":"hnmn","date":"2013-09-25T01:45:07.745Z","type":"message"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-25T01:45:09.177Z","type":"quit"}
{"nick":"tjfontaine","message":"crashing in getaddrinfo is kinda crazy in general","date":"2013-09-25T01:45:49.314Z","type":"message"}
{"nick":"tjfontaine","message":"creationix: and the normal `thread apply all bt full` isn't producing usable results?","date":"2013-09-25T01:46:21.992Z","type":"message"}
{"nick":"creationix","message":"tjfontaine, I have no idea what that means","date":"2013-09-25T01:47:48.775Z","type":"message"}
{"nick":"creationix","message":"never used threads in gdb","date":"2013-09-25T01:47:54.166Z","type":"message"}
{"nick":"creationix","message":"hmm, that command doesn't seem to make  a difference when applied before run","date":"2013-09-25T01:48:30.548Z","type":"message"}
{"nick":"tjfontaine","message":"no, this happens when you have a core","date":"2013-09-25T01:48:38.025Z","type":"message"}
{"nick":"tjfontaine","message":"or","date":"2013-09-25T01:48:39.738Z","type":"message"}
{"nick":"tjfontaine","message":"when you've breaked for some reason","date":"2013-09-25T01:48:45.938Z","type":"message"}
{"nick":"creationix","message":"oh, I see","date":"2013-09-25T01:48:49.762Z","type":"message"}
{"nick":"tjfontaine","message":"it will give you a stack trace for every thread","date":"2013-09-25T01:48:58.150Z","type":"message"}
{"nick":"tjfontaine","message":"instead of just the active","date":"2013-09-25T01:49:04.523Z","type":"message"}
{"nick":"tjfontaine","message":"when you're bouncing from thread to thread you: thread 0..n","date":"2013-09-25T01:49:16.175Z","type":"message"}
{"nick":"tjfontaine","message":"or, you can say: thread apply <somethread | all> <some cmd>","date":"2013-09-25T01:49:34.279Z","type":"message"}
{"nick":"tjfontaine","message":"or you can do: thread 8\\nbt","date":"2013-09-25T01:49:52.387Z","type":"message"}
{"nick":"tjfontaine","message":"or whatever","date":"2013-09-25T01:49:54.044Z","type":"message"}
{"nick":"creationix","message":"wow, that's a lot of information","date":"2013-09-25T01:51:15.054Z","type":"message"}
{"nick":"tjfontaine","message":"learn you some postmortem debugging real fast :)","date":"2013-09-25T01:51:36.838Z","type":"message"}
{"nick":"creationix","message":"so the only reference to my code is where I call uv_run","date":"2013-09-25T01:52:05.540Z","type":"message"}
{"nick":"creationix","message":"the last line I see in libuv is src/unix/getaddrinfo.c:33","date":"2013-09-25T01:52:19.688Z","type":"message"}
{"nick":"tjfontaine","message":"and are there frames above getaddr?","date":"2013-09-25T01:52:52.514Z","type":"message"}
{"nick":"tjfontaine","message":"is this linux/osx/smartos?","date":"2013-09-25T01:53:03.045Z","type":"message"}
{"nick":"creationix","message":"linux","date":"2013-09-25T01:53:07.031Z","type":"message"}
{"nick":"tjfontaine","message":"do you have libc6-dbg?","date":"2013-09-25T01:53:12.325Z","type":"message"}
{"nick":"creationix","message":"it works fine if I only call two at a time, but if I call 3 in parallel it crashes","date":"2013-09-25T01:53:26.996Z","type":"message"}
{"nick":"creationix","message":"I did not, installing...","date":"2013-09-25T01:53:56.144Z","type":"message"}
{"nick":"tjfontaine","message":"you're dispatching all 3 from the same thread?","date":"2013-09-25T01:53:58.307Z","type":"message"}
{"nick":"creationix","message":"well, three calls from the public libuv API","date":"2013-09-25T01:54:16.572Z","type":"message"}
{"nick":"creationix","message":"I assume the thread pool allows arbitrary calls","date":"2013-09-25T01:54:26.959Z","type":"message"}
{"nick":"tjfontaine","message":"yes, but are you calling into libuv from multiple threads?","date":"2013-09-25T01:54:28.206Z","type":"message"}
{"nick":"creationix","message":"no","date":"2013-09-25T01:54:34.087Z","type":"message"}
{"nick":"tjfontaine","message":"or do you only have the one thread of your own","date":"2013-09-25T01:54:36.308Z","type":"message"}
{"nick":"creationix","message":"all from single threaded luajit","date":"2013-09-25T01:54:38.924Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-09-25T01:54:41.580Z","type":"message"}
{"nick":"tjfontaine","message":"this is likely going to be some memory corruption then, because in general the __work_submit stuff is pretty heavily used","date":"2013-09-25T01:55:33.275Z","type":"message"}
{"nick":"tjfontaine","message":"it's the basis of virtually all fs operations","date":"2013-09-25T01:55:51.735Z","type":"message"}
{"nick":"tjfontaine","message":"I guess I should clarify, is this master or v0.10?","date":"2013-09-25T01:55:59.786Z","type":"message"}
{"nick":"creationix","message":"right","date":"2013-09-25T01:55:59.997Z","type":"message"}
{"nick":"creationix","message":"I'm pretty sure I'm using pointers wrong somewhere","date":"2013-09-25T01:56:07.730Z","type":"message"}
{"nick":"creationix","message":"I'm just unsure where","date":"2013-09-25T01:56:14.805Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2013-09-25T01:57:07.981Z","type":"quit"}
{"nick":"creationix","message":"the code in question is https://github.com/creationix/luv/blob/master/src/luv_functions.c#L324-L352","date":"2013-09-25T01:57:22.799Z","type":"message"}
{"nick":"brson","date":"2013-09-25T01:57:59.161Z","type":"join"}
{"nick":"tjfontaine","message":"lreq->data_ref = LUA_NOREF;","date":"2013-09-25T01:58:27.114Z","type":"message"}
{"nick":"tjfontaine","message":"what does that tell the lua gc?","date":"2013-09-25T01:58:31.409Z","type":"message"}
{"nick":"creationix","message":"that tells it I'm not attaching an extra data object to this request","date":"2013-09-25T01:58:51.767Z","type":"message"}
{"nick":"creationix","message":"it's a convention in my bindings","date":"2013-09-25T01:58:57.156Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2013-09-25T01:59:00.572Z","type":"message"}
{"nick":"creationix","message":"the interesting thing about getaddrinfo is there is no uv_handle_t","date":"2013-09-25T01:59:20.092Z","type":"message"}
{"nick":"creationix","message":"all my other uv_req_t subtypes have one","date":"2013-09-25T01:59:31.342Z","type":"message"}
{"nick":"tjfontaine","message":"ok, so, I would set a break point in uv__getaddrinfo_work and see if it's the first/second/third request that's failing, and see what's different about uv__work in that case","date":"2013-09-25T02:00:27.100Z","type":"message"}
{"nick":"tjfontaine","message":"there's nothing jumping out at me right now","date":"2013-09-25T02:00:48.443Z","type":"message"}
{"nick":"creationix","message":"thanks for looking, sorry for the mess","date":"2013-09-25T02:01:52.439Z","type":"message"}
{"nick":"creationix","message":"this is not my area of expertise","date":"2013-09-25T02:01:58.945Z","type":"message"}
{"nick":"tjfontaine","message":"sure, if it's a pretty small test case I should be able to do some more on it when I get home","date":"2013-09-25T02:02:28.098Z","type":"message"}
{"nick":"creationix","message":"also, do you know much about getaddrinfo in general","date":"2013-09-25T02:02:44.614Z","type":"message"}
{"nick":"creationix","message":"I don't even understand what exactly it does","date":"2013-09-25T02:02:50.664Z","type":"message"}
{"nick":"creationix","message":"the API is strange","date":"2013-09-25T02:02:53.403Z","type":"message"}
{"nick":"tjfontaine","message":"it uses the libc to do name resolution","date":"2013-09-25T02:03:01.696Z","type":"message"}
{"nick":"tjfontaine","message":"whcih means it goes through /etc/nsswitch.conf","date":"2013-09-25T02:03:09.728Z","type":"message"}
{"nick":"tjfontaine","message":"and potentially a bunch of different other system based things","date":"2013-09-25T02:03:19.273Z","type":"message"}
{"nick":"creationix","message":"so in the initial request I can specify the host and/or the port","date":"2013-09-25T02:03:25.692Z","type":"message"}
{"nick":"tjfontaine","message":"port doesn't have anything to do with it","date":"2013-09-25T02:03:40.074Z","type":"message"}
{"nick":"tjfontaine","message":"well","date":"2013-09-25T02:04:06.258Z","type":"message"}
{"nick":"tjfontaine","message":"ok so it does","date":"2013-09-25T02:04:08.484Z","type":"message"}
{"nick":"creationix","message":"the thing it calls \"service\"","date":"2013-09-25T02:04:16.720Z","type":"message"}
{"nick":"tjfontaine","message":"yes, it's looking in /etc/services","date":"2013-09-25T02:04:25.809Z","type":"message"}
{"nick":"tjfontaine","message":"I would probably just pass null there","date":"2013-09-25T02:04:55.469Z","type":"message"}
{"nick":"tjfontaine","message":"ya","date":"2013-09-25T02:05:28.837Z","type":"message"}
{"nick":"tjfontaine","message":"and then use the hints to delegate on the A/AAAA style operation","date":"2013-09-25T02:06:38.425Z","type":"message"}
{"nick":"creationix","message":"so, if I pass in \"http\" or \"80\" the resulting addresses have 20480 as port","date":"2013-09-25T02:06:46.021Z","type":"message"}
{"nick":"creationix","message":"and if I pass in \"ssh\" they come out \"5632\"","date":"2013-09-25T02:06:59.221Z","type":"message"}
{"nick":"creationix","message":"so I think I'm doing an invalid cast somewhere","date":"2013-09-25T02:07:06.941Z","type":"message"}
{"nick":"tjfontaine","message":"well depends on what your /etc/services looks like I guess, but yes that doesn't necessarily seem sane","date":"2013-09-25T02:07:38.502Z","type":"message"}
{"nick":"tjfontaine","message":"anyway I'm heading out, bbl","date":"2013-09-25T02:07:59.581Z","type":"message"}
{"nick":"creationix","message":"ok, take care","date":"2013-09-25T02:08:03.808Z","type":"message"}
{"nick":"kazupon","date":"2013-09-25T02:11:16.580Z","type":"join"}
{"nick":"toothr","new_nick":"toothrot","date":"2013-09-25T02:20:26.686Z","type":"nick"}
{"nick":"kellabyte","reason":"Changing host","date":"2013-09-25T02:22:51.620Z","type":"quit"}
{"nick":"kellabyte","date":"2013-09-25T02:22:51.836Z","type":"join"}
{"nick":"kellabyte","reason":"Changing host","date":"2013-09-25T02:22:51.836Z","type":"quit"}
{"nick":"kellabyte","date":"2013-09-25T02:22:51.836Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-09-25T02:32:10.160Z","type":"quit"}
{"nick":"inolen","date":"2013-09-25T02:36:11.113Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-09-25T03:09:05.026Z","type":"nick"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-09-25T04:06:03.022Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-25T04:09:46.497Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2013-09-25T04:11:23.162Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-25T04:24:53.076Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-25T04:25:54.910Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-09-25T04:42:20.626Z","type":"nick"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-09-25T04:42:21.929Z","type":"quit"}
{"nick":"inolen","date":"2013-09-25T04:42:55.160Z","type":"join"}
{"nick":"mikeal","date":"2013-09-25T05:03:47.398Z","type":"join"}
{"nick":"kazupon","date":"2013-09-25T05:06:52.018Z","type":"join"}
{"nick":"Damn3d","reason":"Ping timeout: 245 seconds","date":"2013-09-25T05:29:46.276Z","type":"quit"}
{"nick":"ecr","date":"2013-09-25T05:31:41.996Z","type":"join"}
{"nick":"Damn3d","date":"2013-09-25T05:34:11.258Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-09-25T05:39:57.241Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-09-25T05:49:41.483Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-09-25T05:52:10.582Z","type":"quit"}
{"nick":"felixge","date":"2013-09-25T06:25:17.530Z","type":"join"}
{"nick":"felixge","reason":"Client Quit","date":"2013-09-25T06:25:30.414Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-09-25T06:29:03.623Z","type":"quit"}
{"nick":"felixge","date":"2013-09-25T06:32:38.377Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-09-25T06:32:38.477Z","type":"quit"}
{"nick":"felixge","date":"2013-09-25T06:32:38.477Z","type":"join"}
{"nick":"amartens","date":"2013-09-25T06:40:12.237Z","type":"join"}
{"nick":"TooTallNate","date":"2013-09-25T06:41:26.494Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2013-09-25T06:42:05.370Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #228 \u00037UNSTABLE\u000f windows-ia32 (9/600) windows-x64 (8/600) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/228/","date":"2013-09-25T06:44:18.899Z","type":"message"}
{"nick":"amartens","reason":"Ping timeout: 252 seconds","date":"2013-09-25T06:44:48.117Z","type":"quit"}
{"nick":"rendar","date":"2013-09-25T06:53:09.079Z","type":"join"}
{"nick":"amartens","date":"2013-09-25T07:40:35.543Z","type":"join"}
{"nick":"amartens","reason":"Ping timeout: 240 seconds","date":"2013-09-25T07:44:38.542Z","type":"quit"}
{"nick":"dominictarr","date":"2013-09-25T07:50:22.204Z","type":"join"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-02-04T00:00:01.281Z","type":"quit"}
{"nick":"ircretary","date":"2013-02-04T00:00:10.512Z","type":"join"}
{"nick":"roxlu","reason":"Ping timeout: 256 seconds","date":"2013-02-04T00:23:38.311Z","type":"quit"}
{"nick":"roxlu_","date":"2013-02-04T00:23:42.311Z","type":"join"}
{"nick":"isaacs","message":"ok, i'm gonna try ripping out all this high/low watermark shit.","date":"2013-02-04T00:47:44.413Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-04T00:47:55.724Z","type":"quit"}
{"nick":"isaacs","message":"if there's a write pending, we return false.  if there isn't, we return true.","date":"2013-02-04T00:47:57.660Z","type":"message"}
{"nick":"isaacs","message":"period.","date":"2013-02-04T00:48:01.932Z","type":"message"}
{"nick":"loladiro","date":"2013-02-04T00:52:10.493Z","type":"join"}
{"nick":"isaacs","action":"&","date":"2013-02-04T01:16:21.994Z","type":"action"}
{"nick":"LOUDBOT","message":"DAMN YOU GMAIL FOR MAKING ME TRUST YOU THEN LETTING ME DOWN","date":"2013-02-04T01:16:22.783Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-02-04T01:30:33.424Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-04T01:34:07.603Z","type":"quit"}
{"nick":"abraxas","date":"2013-02-04T01:36:51.397Z","type":"join"}
{"nick":"mikeal","date":"2013-02-04T01:39:09.086Z","type":"join"}
{"nick":"jmar777_","reason":"Remote host closed the connection","date":"2013-02-04T01:49:58.101Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-04T01:50:36.001Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 248 seconds","date":"2013-02-04T01:54:43.940Z","type":"quit"}
{"nick":"bradleymeck","reason":"Ping timeout: 245 seconds","date":"2013-02-04T02:15:08.442Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-02-04T02:21:54.057Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-02-04T03:27:40.632Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-04T03:37:18.473Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 255 seconds","date":"2013-02-04T03:38:29.517Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-02-04T03:53:52.594Z","type":"quit"}
{"nick":"jmar777","date":"2013-02-04T03:54:29.125Z","type":"join"}
{"nick":"c4milo","date":"2013-02-04T03:54:59.385Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 248 seconds","date":"2013-02-04T03:58:59.883Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-02-04T04:13:26.395Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-02-04T04:14:46.074Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-02-04T04:15:57.570Z","type":"quit"}
{"nick":"loladiro","date":"2013-02-04T04:20:27.176Z","type":"join"}
{"nick":"trevnorris","date":"2013-02-04T04:31:24.017Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-02-04T04:33:16.562Z","type":"quit"}
{"nick":"LOUDBOT","message":"http://twitter.com/LOUDBOT/status/298292777102495744 (simcop2387/##turtles)","date":"2013-02-04T04:51:55.290Z","type":"message"}
{"nick":"TheJH","date":"2013-02-04T05:04:55.782Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 248 seconds","date":"2013-02-04T05:13:24.745Z","type":"quit"}
{"nick":"indexzero","date":"2013-02-04T05:18:37.425Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-02-04T05:30:34.729Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-04T05:40:42.891Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-04T05:43:35.563Z","type":"join"}
{"nick":"loladiro","date":"2013-02-04T05:51:11.782Z","type":"part"}
{"nick":"isaacs","message":"hmm... we sure do call gettimeofday a lot.","date":"2013-02-04T05:51:33.627Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-02-04T05:53:37.128Z","type":"quit"}
{"nick":"isaacs","message":"at least, that's what --prof is saying","date":"2013-02-04T05:55:07.115Z","type":"message"}
{"nick":"isaacs","message":"i'm a bit skeptical of it, though..","date":"2013-02-04T05:55:27.474Z","type":"message"}
{"nick":"perezd","date":"2013-02-04T06:18:22.656Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: the graph is interesting. streams2 was merged between 0.9.3 and 0.9.4. but still looks like there has been significant between .4 and .6.","date":"2013-02-04T06:22:24.219Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-02-04T06:27:09.899Z","type":"quit"}
{"nick":"paddybyers","date":"2013-02-04T06:29:01.325Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: been thinking. doing think those tests are appropriately representative. running the entire thing in the same script means that if one consumes additional cpu then it's forced to be slower.","date":"2013-02-04T06:32:11.431Z","type":"message"}
{"nick":"trevnorris","message":" /doing/don't","date":"2013-02-04T06:32:27.188Z","type":"message"}
{"nick":"trevnorris","message":"going to rewrite them to pipe data between two processes.","date":"2013-02-04T06:33:04.339Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-02-04T06:45:07.338Z","type":"quit"}
{"nick":"mikeal","date":"2013-02-04T06:51:51.241Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ok. so good news. when I spawn it into two processes both v0.8 and master jump up to ~8 Gb/sec.","date":"2013-02-04T06:56:25.513Z","type":"message"}
{"nick":"trevnorris","message":"so that just means that master uses about twice the memory and 20% more cpu.","date":"2013-02-04T06:56:39.570Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: actually, scratch my comment on memory usage. at first glance looks like that might not be true.","date":"2013-02-04T07:21:06.830Z","type":"message"}
{"nick":"EhevuTov","date":"2013-02-04T07:24:51.313Z","type":"join"}
{"nick":"felixge","date":"2013-02-04T07:25:14.583Z","type":"join"}
{"nick":"felixge","reason":"Ping timeout: 276 seconds","date":"2013-02-04T07:30:12.301Z","type":"quit"}
{"nick":"rendar","date":"2013-02-04T07:31:49.460Z","type":"join"}
{"nick":"`3rdEden","date":"2013-02-04T07:34:52.989Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: hm.","date":"2013-02-04T07:39:06.654Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that is indeed interesting.","date":"2013-02-04T07:39:13.845Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm deep in the thick of v8 inline frenzy right now.","date":"2013-02-04T07:39:33.595Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. just ran tcp_net_c2s and got 15.881 - v0.8; 15.888 - master","date":"2013-02-04T07:39:50.234Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that's pretty awesome, actually","date":"2013-02-04T07:40:59.124Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so... why does it get so much slower right when we land streams2?","date":"2013-02-04T07:41:28.724Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i mean, saying \"it's just using more memory and more cpu\" is basically the same as saying \"it's just slower\" ;)","date":"2013-02-04T07:41:52.944Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: on both my smartos and darwin boxes, it falls from ~3.5 to ~3.0 Gb/sec","date":"2013-02-04T07:42:23.783Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. i'm still formulating an idea of why this is happening.","date":"2013-02-04T07:42:25.270Z","type":"message"}
{"nick":"trevnorris","message":"and that is on the net tests.","date":"2013-02-04T07:42:29.746Z","type":"message"}
{"nick":"isaacs","message":"kewl.","date":"2013-02-04T07:42:30.923Z","type":"message"}
{"nick":"trevnorris","message":"next i'll do the raw and see what it looks like","date":"2013-02-04T07:42:39.909Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-02-04T07:42:43.823Z","type":"message"}
{"nick":"isaacs","message":"i still think this Writable rewrite is probably worthwhile.","date":"2013-02-04T07:42:58.303Z","type":"message"}
{"nick":"isaacs","message":"it means giving up the high/low water marks for the writable side.","date":"2013-02-04T07:43:06.133Z","type":"message"}
{"nick":"isaacs","message":"but.. oh well.","date":"2013-02-04T07:43:09.833Z","type":"message"}
{"nick":"isaacs","message":"we don't have batched writev support anyway, so saving up a bunch of bytes to write all at once doesn't make much sense anyhow.","date":"2013-02-04T07:43:30.383Z","type":"message"}
{"nick":"isaacs","message":"also, apparently, there are a bunch of things you can do with arrays that V8's inlining optimizer treats as an early return.","date":"2013-02-04T07:44:19.932Z","type":"message"}
{"nick":"isaacs","message":"which is super strange.","date":"2013-02-04T07:44:23.672Z","type":"message"}
{"nick":"isaacs","message":"buffer.push([chunk,enc,cb]) is not inlineable, but buffer.push({c:chunk,e:enc,cb:cb}) is","date":"2013-02-04T07:44:42.322Z","type":"message"}
{"nick":"trevnorris","message":"heh, that is strange.","date":"2013-02-04T07:44:42.509Z","type":"message"}
{"nick":"trevnorris","message":"hm. yeah, no good explanation for that one.","date":"2013-02-04T07:46:30.012Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i think i need to have a test that will just pipe one stream into another.","date":"2013-02-04T07:46:49.861Z","type":"message"}
{"nick":"isaacs","message":"the trouble there is that there's really no good comparison to v0.8, since we didn't hve the base classes, then","date":"2013-02-04T07:47:12.711Z","type":"message"}
{"nick":"isaacs","message":"of course... all the inlining stuff i'm doing, it's still only amounting to about a 1% diff in the speed.","date":"2013-02-04T07:48:11.500Z","type":"message"}
{"nick":"isaacs","message":"and i'm cutting deep.","date":"2013-02-04T07:48:22.100Z","type":"message"}
{"nick":"trevnorris","message":"i think it's good. honestly I'd like to figure out how to call domain in _makeCallback w/o switching contexts.","date":"2013-02-04T07:50:25.707Z","type":"message"}
{"nick":"trevnorris","message":"(but don't have an idea about perf improvements there)","date":"2013-02-04T07:50:56.558Z","type":"message"}
{"nick":"trevnorris","message":"so what did you mean about pipe to pipe?","date":"2013-02-04T07:51:03.196Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-02-04T07:53:59.140Z","type":"join"}
{"nick":"Ralt","date":"2013-02-04T07:55:40.789Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: hm, interesting. realized an error in the _net_c2s test. after fixing it v0.8 jumped from 15.8 to 18.4","date":"2013-02-04T07:56:10.527Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: there ya go :)","date":"2013-02-04T07:56:19.574Z","type":"message"}
{"nick":"trevnorris","message":"pipe is still correct though.","date":"2013-02-04T07:56:33.253Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2013-02-04T07:56:38.394Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: actually, i guess so far this has yielded a 4% diff on smartos.","date":"2013-02-04T07:56:57.394Z","type":"message"}
{"nick":"isaacs","message":"so that's worthwhile, i suppose.","date":"2013-02-04T07:57:04.564Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: goedemorgen","date":"2013-02-04T07:57:29.824Z","type":"message"}
{"nick":"trevnorris","message":"imho, it definitely is. and with those out of the way and good benchmarks we'll be able to track it more carefully through future development.","date":"2013-02-04T07:57:43.859Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: moge","date":"2013-02-04T07:58:20.001Z","type":"message"}
{"nick":"piscisaureus_","message":"goedenavond in jouw geva","date":"2013-02-04T07:59:15.408Z","type":"message"}
{"nick":"piscisaureus_","message":"l","date":"2013-02-04T07:59:16.669Z","type":"message"}
{"nick":"isaacs","message":"the thing that sucks about this \"early return\" issue in inlining is that it means you have to write your code like super old-school C.","date":"2013-02-04T07:59:30.982Z","type":"message"}
{"nick":"isaacs","message":"with var ret; and then giant if-blocks, and then at the bottom, a single \"return ret\"","date":"2013-02-04T07:59:46.662Z","type":"message"}

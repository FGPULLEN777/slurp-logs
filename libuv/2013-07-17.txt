{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-07-17T00:00:01.391Z","type":"quit"}
{"nick":"ircretary","date":"2013-07-17T00:00:11.194Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-07-17T00:01:37.062Z","type":"quit"}
{"nick":"paulfryzel","date":"2013-07-17T00:02:50.936Z","type":"join"}
{"nick":"tjfontaine","message":"mmalecki: https://gist.github.com/tjfontaine/9be3fec3e943452f89ad first one is node of course, second is python, looks like it's a different symbol?","date":"2013-07-17T00:03:30.540Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: oh the hell?","date":"2013-07-17T00:05:51.004Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: thanks. i'll save that for tomorrow.","date":"2013-07-17T00:06:07.219Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: interesting.  lota arrays","date":"2013-07-17T00:07:04.522Z","type":"message"}
{"nick":"paulfryzel","reason":"Ping timeout: 246 seconds","date":"2013-07-17T00:07:07.789Z","type":"quit"}
{"nick":"tjfontaine","message":"mmalecki: not really sure, I'm still trying to figure it out","date":"2013-07-17T00:07:17.499Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: what's 8ed0814d?","date":"2013-07-17T00:07:25.852Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: trevnorris: where's the core file at?","date":"2013-07-17T00:09:19.130Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: smartos.nodejs.org:/home/trevnorris/gh-*/core* I think is the wildcard I used to grab it","date":"2013-07-17T00:09:48.816Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2013-07-17T00:09:57.480Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: you'll also want to use the v8.so that's in his home dir","date":"2013-07-17T00:10:06.716Z","type":"message"}
{"nick":"isaacs","message":"huh..","date":"2013-07-17T00:10:18.000Z","type":"message"}
{"nick":"tjfontaine","message":"it gets stuck somewhere along the way without the newer v8.so","date":"2013-07-17T00:10:37.429Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-07-17T00:10:48.980Z","type":"message"}
{"nick":"paulfryzel","date":"2013-07-17T00:12:04.310Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: so, there seem to be a lot of sockets that are readable:false,writable:false","date":"2013-07-17T00:14:41.577Z","type":"message"}
{"nick":"isaacs","message":"oh, but those also aren't referred to by anything.","date":"2013-07-17T00:15:14.067Z","type":"message"}
{"nick":"isaacs","message":"just garbage.","date":"2013-07-17T00:15:18.487Z","type":"message"}
{"nick":"dscape__","date":"2013-07-17T00:16:22.798Z","type":"join"}
{"nick":"tjfontaine","message":"mmalecki: actually I forgot my node is 64, and my python 32, so the offset changes are just different libcs, though I am testing with proper arch for each preload","date":"2013-07-17T00:17:07.696Z","type":"message"}
{"nick":"loladiro","date":"2013-07-17T00:23:33.692Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-07-17T00:24:32.672Z","type":"quit"}
{"nick":"c4milo","date":"2013-07-17T00:25:10.219Z","type":"join"}
{"nick":"isaacs","message":"tjfontaine, trevnorris: ok, modified the test to run gc() repeatedly.","date":"2013-07-17T00:26:58.559Z","type":"message"}
{"nick":"isaacs","message":"hammering it now","date":"2013-07-17T00:27:03.489Z","type":"message"}
{"nick":"bradleymeck","date":"2013-07-17T00:28:03.614Z","type":"join"}
{"nick":"tjfontaine","message":"k","date":"2013-07-17T00:28:07.696Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: how were you generating traffic?  wrk or ab?","date":"2013-07-17T00:28:11.369Z","type":"message"}
{"nick":"tjfontaine","message":"mmalecki: interestingly, the only time for the libuv test suite where the preloaded bind is triggered is when test-poll.c calls bind() itself","date":"2013-07-17T00:30:11.443Z","type":"message"}
{"nick":"tjfontaine","message":"well more or less","date":"2013-07-17T00:30:27.980Z","type":"message"}
{"nick":"isaacs","message":"gotta run","date":"2013-07-17T00:32:54.066Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: mk","date":"2013-07-17T00:33:11.309Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T00:35:33.020Z","type":"nick"}
{"nick":"loladiro","reason":"Ping timeout: 264 seconds","date":"2013-07-17T00:39:45.650Z","type":"quit"}
{"nick":"loladiro","date":"2013-07-17T00:43:40.956Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-07-17T00:45:01.088Z","type":"nick"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-07-17T00:55:29.261Z","type":"quit"}
{"nick":"kazupon","date":"2013-07-17T01:01:18.183Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T01:02:34.565Z","type":"nick"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-07-17T01:03:01.725Z","type":"quit"}
{"nick":"kazupon","date":"2013-07-17T01:03:13.412Z","type":"join"}
{"nick":"mikeal","date":"2013-07-17T01:09:12.300Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-07-17T01:12:14.817Z","type":"nick"}
{"nick":"qard","date":"2013-07-17T01:17:27.847Z","type":"join"}
{"nick":"qard","reason":"Client Quit","date":"2013-07-17T01:17:27.847Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-07-17T01:22:09.710Z","type":"quit"}
{"nick":"sblom","reason":"Ping timeout: 268 seconds","date":"2013-07-17T01:22:49.179Z","type":"quit"}
{"nick":"paulfryzel","reason":"Remote host closed the connection","date":"2013-07-17T01:23:32.309Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-07-17T01:25:54.281Z","type":"quit"}
{"nick":"kazupon","date":"2013-07-17T01:29:14.282Z","type":"join"}
{"nick":"loladiro","date":"2013-07-17T01:34:28.652Z","type":"join"}
{"nick":"abraxas","date":"2013-07-17T01:35:51.380Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-07-17T01:37:42.071Z","type":"quit"}
{"nick":"ik_","new_nick":"ik","date":"2013-07-17T01:37:49.639Z","type":"nick"}
{"nick":"loladiro","reason":"Ping timeout: 264 seconds","date":"2013-07-17T01:39:09.653Z","type":"quit"}
{"nick":"julianduque","reason":"Ping timeout: 246 seconds","date":"2013-07-17T01:44:25.814Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-07-17T01:56:59.633Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-07-17T02:04:47.429Z","type":"quit"}
{"nick":"werle","date":"2013-07-17T02:17:33.915Z","type":"join"}
{"nick":"werle","reason":"Client Quit","date":"2013-07-17T02:18:03.244Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T02:22:09.010Z","type":"nick"}
{"nick":"M28_","date":"2013-07-17T02:27:54.652Z","type":"join"}
{"nick":"M28","reason":"Read error: Connection reset by peer","date":"2013-07-17T02:28:04.985Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-07-17T02:31:39.435Z","type":"nick"}
{"nick":"jmar777","date":"2013-07-17T02:51:20.964Z","type":"join"}
{"nick":"pachet_","reason":"Ping timeout: 264 seconds","date":"2013-07-17T02:52:57.715Z","type":"quit"}
{"nick":"DrPizza","reason":"Quit: alice.","date":"2013-07-17T03:07:38.700Z","type":"quit"}
{"nick":"DrPizza","date":"2013-07-17T03:07:50.968Z","type":"join"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-07-17T03:08:53.127Z","type":"quit"}
{"nick":"pachet","date":"2013-07-17T03:09:27.377Z","type":"join"}
{"nick":"pachet","reason":"Client Quit","date":"2013-07-17T03:09:54.328Z","type":"quit"}
{"nick":"c4milo","date":"2013-07-17T03:23:23.783Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-07-17T03:23:37.424Z","type":"quit"}
{"nick":"loladiro","date":"2013-07-17T03:29:51.689Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T03:29:53.531Z","type":"nick"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-07-17T03:31:20.445Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-07-17T03:37:06.704Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-07-17T03:42:41.516Z","type":"quit"}
{"nick":"loladiro","date":"2013-07-17T04:04:24.616Z","type":"join"}
{"nick":"kazupon","date":"2013-07-17T04:07:23.279Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 268 seconds","date":"2013-07-17T04:12:24.244Z","type":"quit"}
{"nick":"kazupon","date":"2013-07-17T04:20:24.795Z","type":"join"}
{"nick":"qmx","new_nick":"zombie222","date":"2013-07-17T04:24:14.761Z","type":"nick"}
{"nick":"zombie222","new_nick":"qmx","date":"2013-07-17T04:24:25.370Z","type":"nick"}
{"nick":"bajtos","date":"2013-07-17T05:44:49.987Z","type":"join"}
{"nick":"paddybyers","date":"2013-07-17T05:46:22.649Z","type":"join"}
{"nick":"stagas","date":"2013-07-17T06:06:53.515Z","type":"join"}
{"nick":"rendar","date":"2013-07-17T06:20:51.894Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2013-07-17T06:24:22.247Z","type":"quit"}
{"nick":"hz","date":"2013-07-17T06:24:27.049Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-07-17T06:58:11.511Z","type":"nick"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-07-17T07:04:57.698Z","type":"quit"}
{"nick":"niska`","date":"2013-07-17T07:13:17.645Z","type":"join"}
{"nick":"niska","reason":"*.net *.split","date":"2013-07-17T07:14:09.415Z","type":"quit"}
{"nick":"csaoh","date":"2013-07-17T07:39:14.579Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-07-17T07:40:24.981Z","type":"quit"}
{"nick":"paddybyers","date":"2013-07-17T07:41:51.142Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 240 seconds","date":"2013-07-17T08:14:16.174Z","type":"quit"}
{"nick":"paddybyers","date":"2013-07-17T08:29:57.588Z","type":"join"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-07-17T08:31:52.330Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-07-17T09:09:11.808Z","type":"quit"}
{"nick":"stagas","date":"2013-07-17T09:18:46.221Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T09:26:47.501Z","type":"join"}
{"nick":"icarot","reason":"Remote host closed the connection","date":"2013-07-17T09:47:01.435Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T09:47:46.515Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-07-17T09:54:25.362Z","type":"quit"}
{"nick":"icarot","reason":"Ping timeout: 264 seconds","date":"2013-07-17T09:57:11.366Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T10:02:59.304Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 268 seconds","date":"2013-07-17T10:07:36.112Z","type":"quit"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-07-17T10:27:54.259Z","type":"quit"}
{"nick":"csaoh","date":"2013-07-17T10:32:34.161Z","type":"join"}
{"nick":"bajtos","reason":"Quit: bajtos","date":"2013-07-17T10:42:33.099Z","type":"quit"}
{"nick":"bajtos","date":"2013-07-17T10:44:54.545Z","type":"join"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-07-17T10:45:02.627Z","type":"quit"}
{"nick":"icarot2","date":"2013-07-17T10:48:18.575Z","type":"join"}
{"nick":"icarot2","reason":"Ping timeout: 256 seconds","date":"2013-07-17T10:55:01.739Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T11:03:28.431Z","type":"join"}
{"nick":"bajtos","date":"2013-07-17T11:03:34.602Z","type":"join"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-07-17T11:05:32.638Z","type":"quit"}
{"nick":"icarot","reason":"Ping timeout: 268 seconds","date":"2013-07-17T11:08:39.128Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T11:22:11.382Z","type":"join"}
{"nick":"AvianFlu","date":"2013-07-17T11:47:06.713Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 268 seconds","date":"2013-07-17T11:54:17.155Z","type":"quit"}
{"nick":"felixge","reason":"Quit: IRCRelay - http://ircrelay.com","date":"2013-07-17T11:58:30.936Z","type":"quit"}
{"nick":"hz","date":"2013-07-17T11:59:07.804Z","type":"quit"}
{"nick":"julianduque","date":"2013-07-17T12:14:04.274Z","type":"join"}
{"nick":"jmar777","date":"2013-07-17T12:18:38.712Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-07-17T12:56:00.485Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-07-17T12:56:26.450Z","type":"join"}
{"nick":"wolfeidau","reason":"Ping timeout: 268 seconds","date":"2013-07-17T13:01:30.180Z","type":"quit"}
{"nick":"werle","date":"2013-07-17T13:01:51.749Z","type":"join"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-07-17T13:15:17.319Z","type":"quit"}
{"nick":"dap","date":"2013-07-17T13:22:47.241Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T13:27:39.329Z","type":"join"}
{"nick":"c4milo","date":"2013-07-17T13:28:23.609Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 240 seconds","date":"2013-07-17T13:32:16.149Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T13:43:28.934Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 246 seconds","date":"2013-07-17T13:47:52.800Z","type":"quit"}
{"nick":"kenperkins","date":"2013-07-17T13:52:29.173Z","type":"join"}
{"nick":"kenperkins","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2013-07-17T13:58:39.087Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T14:04:53.506Z","type":"quit"}
{"nick":"bajtos","date":"2013-07-17T14:09:38.874Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-07-17T14:15:47.192Z","type":"join"}
{"nick":"werle","date":"2013-07-17T14:21:15.711Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 248 seconds","date":"2013-07-17T14:21:57.581Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T14:22:54.970Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 257 seconds","date":"2013-07-17T14:27:27.867Z","type":"quit"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-07-17T14:29:49.998Z","type":"quit"}
{"nick":"dap","date":"2013-07-17T14:30:00.128Z","type":"join"}
{"nick":"hueniverse","reason":"Quit: Leaving.","date":"2013-07-17T14:30:34.083Z","type":"quit"}
{"nick":"julianduque","date":"2013-07-17T14:31:17.257Z","type":"join"}
{"nick":"julianduque","reason":"Changing host","date":"2013-07-17T14:31:20.337Z","type":"quit"}
{"nick":"julianduque","date":"2013-07-17T14:31:20.467Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T14:38:05.965Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 246 seconds","date":"2013-07-17T14:42:28.792Z","type":"quit"}
{"nick":"stagas_","date":"2013-07-17T14:44:47.576Z","type":"join"}
{"nick":"indexzero","date":"2013-07-17T14:46:39.712Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-07-17T14:48:11.399Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-07-17T14:48:13.239Z","type":"nick"}
{"nick":"icarot","date":"2013-07-17T14:48:34.931Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 246 seconds","date":"2013-07-17T14:52:58.823Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Read error: Operation timed out","date":"2013-07-17T14:53:04.376Z","type":"quit"}
{"nick":"kenperkins","date":"2013-07-17T14:53:33.803Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T15:03:46.196Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 240 seconds","date":"2013-07-17T15:08:16.209Z","type":"quit"}
{"nick":"kenperkins","reason":"Ping timeout: 260 seconds","date":"2013-07-17T15:24:51.854Z","type":"quit"}
{"nick":"mcavage","date":"2013-07-17T15:25:19.429Z","type":"join"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-07-17T15:28:00.761Z","type":"quit"}
{"nick":"werle","date":"2013-07-17T15:28:28.278Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T15:34:30.547Z","type":"nick"}
{"nick":"loladiro","date":"2013-07-17T15:43:02.579Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T15:49:29.452Z","type":"join"}
{"nick":"st_luke","date":"2013-07-17T15:49:57.292Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 276 seconds","date":"2013-07-17T15:54:16.300Z","type":"quit"}
{"nick":"pachet","date":"2013-07-17T15:59:02.789Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T16:04:35.007Z","type":"join"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-07-17T16:05:36.317Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|COOKING","date":"2013-07-17T16:06:58.321Z","type":"nick"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T16:07:29.826Z","type":"quit"}
{"nick":"icarot","reason":"Ping timeout: 240 seconds","date":"2013-07-17T16:09:31.592Z","type":"quit"}
{"nick":"tjfontaine","message":"good day folks","date":"2013-07-17T16:10:35.359Z","type":"message"}
{"nick":"trevnorris","message":"morning","date":"2013-07-17T16:13:22.365Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ping","date":"2013-07-17T16:13:27.202Z","type":"message"}
{"nick":"tjfontaine","message":"how goes trevor?","date":"2013-07-17T16:14:18.956Z","type":"message"}
{"nick":"mikeal","date":"2013-07-17T16:17:38.503Z","type":"join"}
{"nick":"trevnorris","message":"going well.","date":"2013-07-17T16:21:06.191Z","type":"message"}
{"nick":"icarot","date":"2013-07-17T16:23:36.341Z","type":"join"}
{"nick":"mmalecki","message":"tjfontaine: regarding that issue with LD_PRELOAD, only difference I found was that bind() in node happens in a thread, I *think*","date":"2013-07-17T16:24:46.456Z","type":"message"}
{"nick":"tjfontaine","message":"erm that can't be right","date":"2013-07-17T16:25:08.940Z","type":"message"}
{"nick":"dap","date":"2013-07-17T16:26:16.300Z","type":"join"}
{"nick":"tjfontaine","message":"mmalecki: there's probably some LD_DEBUG flags to twiddle here to get better visibility","date":"2013-07-17T16:27:05.814Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: https://gist.github.com/mmalecki/14236fb1408107187648 - the /1 thing suprises me","date":"2013-07-17T16:27:47.453Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 268 seconds","date":"2013-07-17T16:28:05.233Z","type":"quit"}
{"nick":"tjfontaine","message":"well, there are probably no other threads in the python one, and it's prefixed with 1 because the fs threadpool has been activated?","date":"2013-07-17T16:29:08.502Z","type":"message"}
{"nick":"mmalecki","message":"yeah, but I'm wondering if this affects anything","date":"2013-07-17T16:29:55.613Z","type":"message"}
{"nick":"mmalecki","message":"need to write a test in C to figure this one out","date":"2013-07-17T16:30:04.134Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-07-17T16:30:08.636Z","type":"quit"}
{"nick":"tjfontaine","message":"there's something else going on here, because I was getting the same with just libuv testsuite itself","date":"2013-07-17T16:30:28.041Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-07-17T16:30:31.265Z","type":"quit"}
{"nick":"st_luke","date":"2013-07-17T16:31:44.409Z","type":"join"}
{"nick":"mmalecki","message":"hmmm, I *think* I know what's up. bind doesn't seem to actually be the function it looks up.","date":"2013-07-17T16:32:23.853Z","type":"message"}
{"nick":"mmalecki","message":"ld looks for _so_bind, but not bind ","date":"2013-07-17T16:32:40.470Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-07-17T16:33:16.958Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T16:33:20.468Z","type":"join"}
{"nick":"tjfontaine","message":"right","date":"2013-07-17T16:34:28.717Z","type":"message"}
{"nick":"tjfontaine","message":"but I'm not sure what's different in tcp.c vs test/test-poll.c in taht regard","date":"2013-07-17T16:34:50.982Z","type":"message"}
{"nick":"werle","date":"2013-07-17T16:35:53.917Z","type":"join"}
{"nick":"mikeal","date":"2013-07-17T16:35:54.257Z","type":"join"}
{"nick":"austo","date":"2013-07-17T16:37:10.190Z","type":"join"}
{"nick":"icarot","reason":"Ping timeout: 276 seconds","date":"2013-07-17T16:38:28.360Z","type":"quit"}
{"nick":"austo","message":"Hi, I'm wondering about the best practice for using a semaphore inside of a uv_work_cb. If anyone has a link to an example I'd really appreciate it.","date":"2013-07-17T16:41:52.170Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T16:44:06.728Z","type":"quit"}
{"nick":"werle","reason":"Ping timeout: 246 seconds","date":"2013-07-17T16:44:37.785Z","type":"quit"}
{"nick":"c4milo","date":"2013-07-17T16:45:59.153Z","type":"join"}
{"nick":"hz","date":"2013-07-17T16:46:04.358Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-07-17T16:47:33.916Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-07-17T16:48:53.846Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-07-17T16:49:08.898Z","type":"quit"}
{"nick":"werle","date":"2013-07-17T16:49:16.323Z","type":"join"}
{"nick":"AndreasMadsen","date":"2013-07-17T16:49:17.384Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-07-17T16:50:12.494Z","type":"quit"}
{"nick":"loladiro","date":"2013-07-17T16:50:35.820Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ok. I have the server setup to reproduce the issue for you.","date":"2013-07-17T16:51:09.711Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-07-17T16:51:26.608Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-07-17T16:53:09.233Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2013-07-17T16:53:19.662Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2013-07-17T16:53:37.998Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: you around?","date":"2013-07-17T16:54:56.540Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: aye","date":"2013-07-17T16:55:23.397Z","type":"message"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-07-17T16:55:39.622Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: i want to try session sharing for tmux. that way you guys can see exactly what i'm doing. so can you login to smartos server and type: tmux -S /tmp/http-leak-session attach","date":"2013-07-17T16:56:33.790Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-07-17T16:57:24.932Z","type":"message"}
{"nick":"mikeal","date":"2013-07-17T16:57:31.179Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T16:59:20.239Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: doot doot","date":"2013-07-17T16:59:56.337Z","type":"message"}
{"nick":"rendar","reason":"Ping timeout: 245 seconds","date":"2013-07-17T16:59:59.059Z","type":"quit"}
{"nick":"rendar","date":"2013-07-17T17:00:53.508Z","type":"join"}
{"nick":"dap","date":"2013-07-17T17:01:31.288Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: nothing?","date":"2013-07-17T17:01:33.534Z","type":"message"}
{"nick":"tjfontaine","message":"I'm on, are we not sharing it?","date":"2013-07-17T17:01:57.110Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-07-17T17:02:01.840Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: oh ok. so you can see the test running?","date":"2013-07-17T17:02:14.743Z","type":"message"}
{"nick":"tjfontaine","message":"no, in the session I am just sitting at a shell","date":"2013-07-17T17:02:41.575Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: eh? that's strange","date":"2013-07-17T17:03:27.386Z","type":"message"}
{"nick":"tjfontaine","message":"[trevnorris@828cbda3-e3d6-4744-86bf-8ad6733dcf15 /root]$ ready when you are^C","date":"2013-07-17T17:03:36.163Z","type":"message"}
{"nick":"tjfontaine","message":"[trevnorris@828cbda3-e3d6-4744-86bf-8ad6733dcf15 /root]$ id","date":"2013-07-17T17:03:36.322Z","type":"message"}
{"nick":"tjfontaine","message":"uid=24563(trevnorris) gid=1(other) groups=1(other)","date":"2013-07-17T17:03:36.556Z","type":"message"}
{"nick":"tjfontaine","message":"is what I typed","date":"2013-07-17T17:03:41.565Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: that's really strange. I just logged in from another window and was able to share my session.","date":"2013-07-17T17:04:44.419Z","type":"message"}
{"nick":"trevnorris","message":"ok. lemme test something","date":"2013-07-17T17:05:07.321Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: when I type w it doesn't show you logged in","date":"2013-07-17T17:05:39.842Z","type":"message"}
{"nick":"tjfontaine","message":"I swear I'm there :)","date":"2013-07-17T17:06:09.967Z","type":"message"}
{"nick":"tjfontaine","message":"you detached me","date":"2013-07-17T17:06:17.253Z","type":"message"}
{"nick":"trevnorris","message":"ah, must be logged in as me I guess?","date":"2013-07-17T17:06:30.188Z","type":"message"}
{"nick":"trevnorris","message":"that's really strange.","date":"2013-07-17T17:06:33.123Z","type":"message"}
{"nick":"tjfontaine","message":" w","date":"2013-07-17T17:06:46.635Z","type":"message"}
{"nick":"tjfontaine","message":"  5:06pm  up 105 day(s),  9:56,  3 users,  load average: 1.25, 1.15, 0.93","date":"2013-07-17T17:06:46.766Z","type":"message"}
{"nick":"tjfontaine","message":"User     tty           login@  idle   JCPU   PCPU  what","date":"2013-07-17T17:06:46.766Z","type":"message"}
{"nick":"tjfontaine","message":"root     pts/7         4:56pm                      w","date":"2013-07-17T17:06:46.766Z","type":"message"}
{"nick":"tjfontaine","message":"root     pts/8         5:05pm                      -bash","date":"2013-07-17T17:06:46.766Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorr pts/9         5:00pm     1                tmux -S /tmp/http-leak-session a","date":"2013-07-17T17:06:49.193Z","type":"message"}
{"nick":"tjfontaine","message":"I'm root :)","date":"2013-07-17T17:06:52.235Z","type":"message"}
{"nick":"brson","date":"2013-07-17T17:06:52.791Z","type":"join"}
{"nick":"trevnorris","message":"su - trevnorris","date":"2013-07-17T17:06:57.057Z","type":"message"}
{"nick":"trevnorris","message":"then try to attach again","date":"2013-07-17T17:07:00.033Z","type":"message"}
{"nick":"tjfontaine","message":"that a is important","date":"2013-07-17T17:07:27.266Z","type":"message"}
{"nick":"tjfontaine","message":"ugh, are we in screen mode?","date":"2013-07-17T17:07:36.141Z","type":"message"}
{"nick":"trevnorris","message":"how do you mean?","date":"2013-07-17T17:07:55.333Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 252 seconds","date":"2013-07-17T17:08:25.205Z","type":"quit"}
{"nick":"tjfontaine","message":"^Bn isn't doing what I expect :)","date":"2013-07-17T17:08:40.290Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah","date":"2013-07-17T17:08:45.245Z","type":"message"}
{"nick":"tjfontaine","message":"what's the bind key?","date":"2013-07-17T17:08:52.724Z","type":"message"}
{"nick":"trevnorris","message":"swapped that for ctrl-a","date":"2013-07-17T17:08:54.528Z","type":"message"}
{"nick":"tjfontaine","message":"ok, \"screen mode\"","date":"2013-07-17T17:09:03.856Z","type":"message"}
{"nick":"trevnorris","message":"on sec","date":"2013-07-17T17:09:20.848Z","type":"message"}
{"nick":"trevnorris","message":"there, just a few of the bindings.","date":"2013-07-17T17:09:38.386Z","type":"message"}
{"nick":"trevnorris","message":"now all yours :)","date":"2013-07-17T17:09:42.254Z","type":"message"}
{"nick":"tjfontaine","message":"I'm fine with it, I just wanted to know what world i was in :)","date":"2013-07-17T17:09:44.516Z","type":"message"}
{"nick":"tjfontaine","message":"so you should gcore it now, and then later","date":"2013-07-17T17:10:07.702Z","type":"message"}
{"nick":"tjfontaine","message":"looks pretty stable atm though","date":"2013-07-17T17:10:33.926Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: hm. i'm not seeing the same leak. one sec.","date":"2013-07-17T17:10:34.055Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2013-07-17T17:10:45.324Z","type":"message"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-07-17T17:11:53.455Z","type":"quit"}
{"nick":"trevnorris","message":"so it appears like the leak only manifests itself without keepalive","date":"2013-07-17T17:12:17.021Z","type":"message"}
{"nick":"mcavage","date":"2013-07-17T17:12:20.954Z","type":"join"}
{"nick":"tjfontaine","message":"I don't think it's that surprising, as you're cycling through more sockets","date":"2013-07-17T17:12:57.966Z","type":"message"}
{"nick":"tjfontaine","message":"is there a flag for ab/wrk that says how many requests it should use for a socket?","date":"2013-07-17T17:13:23.016Z","type":"message"}
{"nick":"trevnorris","message":"don't see one for ab, and wrk doesn't have one.","date":"2013-07-17T17:14:14.312Z","type":"message"}
{"nick":"trevnorris","message":"it's just keepalive or don't","date":"2013-07-17T17:14:33.732Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-07-17T17:14:38.965Z","type":"message"}
{"nick":"trevnorris","message":"right now 99% of cycles are consumed by gc so mem growth is super slow","date":"2013-07-17T17:15:26.976Z","type":"message"}
{"nick":"trevnorris","message":"but it's constant.","date":"2013-07-17T17:15:32.265Z","type":"message"}
{"nick":"tjfontaine","message":"so, I would gcore it now, and then wait 30mins? and then gcore it again, and see what is held","date":"2013-07-17T17:15:35.679Z","type":"message"}
{"nick":"loladiro","date":"2013-07-17T17:16:51.194Z","type":"join"}
{"nick":"mcavage","reason":"Ping timeout: 260 seconds","date":"2013-07-17T17:16:51.952Z","type":"quit"}
{"nick":"trevnorris","message":"whoa, why does gcore cause the rss to shoot up?","date":"2013-07-17T17:16:54.995Z","type":"message"}
{"nick":"tjfontaine","message":"it may touch pages that previously weren't live","date":"2013-07-17T17:18:39.617Z","type":"message"}
{"nick":"tjfontaine","message":"as it gathers information about the process","date":"2013-07-17T17:18:54.860Z","type":"message"}
{"nick":"trevnorris","message":"ok","date":"2013-07-17T17:19:34.218Z","type":"message"}
{"nick":"TooTallNate","date":"2013-07-17T17:19:55.972Z","type":"join"}
{"nick":"sblom","date":"2013-07-17T17:21:33.971Z","type":"join"}
{"nick":"icarot","date":"2013-07-17T17:22:08.958Z","type":"join"}
{"nick":"mjr__","date":"2013-07-17T17:22:38.354Z","type":"join"}
{"nick":"brson","message":"do idle handles use an fd?","date":"2013-07-17T17:22:59.182Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 260 seconds","date":"2013-07-17T17:28:04.067Z","type":"quit"}
{"nick":"icarot","date":"2013-07-17T17:38:25.716Z","type":"join"}
{"nick":"tjfontaine","message":"mmalecki: got it figured out","date":"2013-07-17T17:40:19.613Z","type":"message"}
{"nick":"tjfontaine","message":"mmalecki: the symbol name isn't actually bind, it's __xnet_bind in this particualr case, which depends on what defines we've set","date":"2013-07-17T17:41:23.217Z","type":"message"}
{"nick":"stagas_","date":"2013-07-17T17:41:36.315Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: what have we learned?","date":"2013-07-17T17:41:42.316Z","type":"message"}
{"nick":"tjfontaine","message":"lots of left over sockets","date":"2013-07-17T17:41:58.554Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: that i'm impatient. gc is preventing almost anything from happening since I set max_{old,new}_space_size=16, so need to let it run longer.","date":"2013-07-17T17:42:32.722Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2013-07-17T17:42:44.041Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-07-17T17:42:46.207Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 248 seconds","date":"2013-07-17T17:43:01.586Z","type":"quit"}
{"nick":"trevnorris","message":"started over. took a dump on startup, dump a few seconds after connections started coming in, and will take another in a while.","date":"2013-07-17T17:43:05.689Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-07-17T17:43:15.534Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: I just got it to work with _so_bind too, just a few minutes ago","date":"2013-07-17T17:43:23.922Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 240 seconds","date":"2013-07-17T17:43:54.424Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-07-17T17:43:56.667Z","type":"nick"}
{"nick":"tjfontaine","message":"mmalecki: _so_bind seems slightly evil, but right, the symbol we're actually using for bind() gets all kinds of abuse done to it in the name of POSIX","date":"2013-07-17T17:44:01.560Z","type":"message"}
{"nick":"mmalecki","message":"this is why we can't have nice things","date":"2013-07-17T17:45:02.887Z","type":"message"}
{"nick":"tjfontaine","message":"no doubt","date":"2013-07-17T17:45:27.750Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: wanna see what I'm actually using that for :) ?","date":"2013-07-17T17:46:56.254Z","type":"message"}
{"nick":"tjfontaine","message":"dunno, do I? :)","date":"2013-07-17T17:47:24.193Z","type":"message"}
{"nick":"mmalecki","message":"it can hurt your eyes","date":"2013-07-17T17:47:56.380Z","type":"message"}
{"nick":"tjfontaine","message":"what's the worst that could happen, hit me","date":"2013-07-17T17:48:26.644Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: I just added you on github :-)","date":"2013-07-17T17:49:01.798Z","type":"message"}
{"nick":"mmalecki","message":"gotta go get dinner now","date":"2013-07-17T17:49:06.997Z","type":"message"}
{"nick":"mmalecki","message":"hit me with any questions in PM tho","date":"2013-07-17T17:49:20.328Z","type":"message"}
{"nick":"tjfontaine","message":"k, enjoy!","date":"2013-07-17T17:50:00.914Z","type":"message"}
{"nick":"icarot","date":"2013-07-17T17:51:15.372Z","type":"join"}
{"nick":"isaacs","message":"tjfontaine, bnoordhuis: 11.4 fails to build on Ubuntu Lucid: https://launchpadlibrarian.net/145153704/buildlog_ubuntu-lucid-amd64.nodejs_0.11.4-1chl1~lucid1_FAILEDTOBUILD.txt.gz","date":"2013-07-17T17:52:02.972Z","type":"message"}
{"nick":"isaacs","message":"probably from the fact that it has gcc 4.4","date":"2013-07-17T17:53:08.622Z","type":"message"}
{"nick":"isaacs","message":"not sure, though","date":"2013-07-17T17:53:10.792Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: Jun 18 13:16:54 <bnoordhuis>\twe don't really support gcc < 4.2","date":"2013-07-17T17:54:43.221Z","type":"message"}
{"nick":"trevnorris","message":"so that hopefully wouldn't be the problem.","date":"2013-07-17T17:54:52.929Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-07-17T17:55:19.270Z","type":"message"}
{"nick":"isaacs","message":"because we do support gcc 4.4","date":"2013-07-17T17:55:24.780Z","type":"message"}
{"nick":"icarot","reason":"Ping timeout: 268 seconds","date":"2013-07-17T17:56:16.201Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: look at 2c470301","date":"2013-07-17T17:57:50.520Z","type":"message"}
{"nick":"trevnorris","message":"same error","date":"2013-07-17T17:57:53.027Z","type":"message"}
{"nick":"tjfontaine","message":"'gcc_version': 44, ya I kinda expected it to work","date":"2013-07-17T18:00:22.698Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: thanks!","date":"2013-07-17T18:00:35.617Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-07-17T18:00:39.236Z","type":"message"}
{"nick":"isaacs","message":"yeah, that's the issue","date":"2013-07-17T18:00:40.027Z","type":"message"}
{"nick":"tjfontaine","message":"ah right, ya","date":"2013-07-17T18:00:46.957Z","type":"message"}
{"nick":"stagas","reason":"Quit: Bye","date":"2013-07-17T18:01:14.671Z","type":"quit"}
{"nick":"trevnorris","message":"it sorta irks me when people \"correct\" my memory leak tests. :P","date":"2013-07-17T18:03:11.685Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so will that dump show me anything about external memory?","date":"2013-07-17T18:08:57.247Z","type":"message"}
{"nick":"tjfontaine","message":"what do you want to know about external memory? it can tell you about allocated addresses","date":"2013-07-17T18:10:01.347Z","type":"message"}
{"nick":"trevnorris","message":"not sure. just curious.","date":"2013-07-17T18:10:19.530Z","type":"message"}
{"nick":"trevnorris","message":"so there does seem to be some retention. taking notes and i'll post back","date":"2013-07-17T18:10:44.889Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'm stepping away for a few. feel free to check things out in the terminal","date":"2013-07-17T18:11:43.958Z","type":"message"}
{"nick":"trevnorris","message":"window on the left has the last core dump.","date":"2013-07-17T18:11:54.163Z","type":"message"}
{"nick":"trevnorris","message":"window on the right has the previous","date":"2013-07-17T18:11:58.400Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-07-17T18:12:13.886Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T18:16:30.851Z","type":"quit"}
{"nick":"trevnorris","message":"well that was a lot quicker than I thought.","date":"2013-07-17T18:22:30.037Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: hm. there are two objects on screen that look very similar, but aren't.","date":"2013-07-17T18:25:49.210Z","type":"message"}
{"nick":"trevnorris","message":"can't figure out where each is being created.","date":"2013-07-17T18:25:57.599Z","type":"message"}
{"nick":"tjfontaine","message":"interesting","date":"2013-07-17T18:26:30.596Z","type":"message"}
{"nick":"trevnorris","message":"ah, nm. one's readable, other's writable.","date":"2013-07-17T18:27:40.509Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so if I resolve something back far enough and it says \"not referred to by known object\" does that mean it's dead?","date":"2013-07-17T18:29:07.071Z","type":"message"}
{"nick":"tjfontaine","message":"that's what I how i would interpret it","date":"2013-07-17T18:30:32.946Z","type":"message"}
{"nick":"tjfontaine","message":"at least, found in the heap, but not tracked by the gc","date":"2013-07-17T18:30:48.692Z","type":"message"}
{"nick":"trevnorris","message":"what about some object passed to a callback function. not technically referred to directly by something else","date":"2013-07-17T18:31:51.168Z","type":"message"}
{"nick":"trevnorris","message":"but still needs to be sticking around.","date":"2013-07-17T18:32:00.034Z","type":"message"}
{"nick":"tjfontaine","message":"it should be like an \"unknown object\" I think","date":"2013-07-17T18:32:39.674Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok.","date":"2013-07-17T18:33:03.439Z","type":"message"}
{"nick":"trevnorris","message":"i've seen lots of those before.","date":"2013-07-17T18:33:13.667Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well, i'm not seeing a huge discrepancy between the two","date":"2013-07-17T18:47:42.384Z","type":"message"}
{"nick":"kenperkins","date":"2013-07-17T18:49:59.595Z","type":"join"}
{"nick":"wolfeidau","date":"2013-07-17T19:02:48.204Z","type":"join"}
{"nick":"sblom","reason":"Ping timeout: 254 seconds","date":"2013-07-17T19:12:36.009Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: well. so I can't reproduce the issue the same way on smartos like I can on my linux box.","date":"2013-07-17T19:13:26.686Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-07-17T19:15:37.480Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 246 seconds","date":"2013-07-17T19:23:10.838Z","type":"quit"}
{"nick":"brson","date":"2013-07-17T19:26:18.318Z","type":"join"}
{"nick":"`3E|COOKING","new_nick":"`3rdEden","date":"2013-07-17T19:28:12.465Z","type":"nick"}
{"nick":"tjfontaine","message":"trevnorris: well that's frustrating, and interesting","date":"2013-07-17T19:39:48.536Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-07-17T19:40:19.420Z","type":"join"}
{"nick":"piscisaureus_","message":"$ find . -iname package.json -exec node -pe \"p=require(process.argv[1]); p.name + '@' + p.version\" {} \\;","date":"2013-07-17T19:40:25.100Z","type":"message"}
{"nick":"qmx","reason":"Read error: Operation timed out","date":"2013-07-17T19:40:25.625Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: ugh! so I'm running gc() on every incoming request on my box. can't get the stupid thing to grow.","date":"2013-07-17T19:40:27.153Z","type":"message"}
{"nick":"piscisaureus_","message":"suddenly node startup time matters ^","date":"2013-07-17T19:40:33.214Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 276 seconds","date":"2013-07-17T19:41:07.310Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: so i'm almost convinced it's a bug in v8's gc that was resolved in 3.20","date":"2013-07-17T19:41:08.810Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: seems reasonable","date":"2013-07-17T19:41:18.334Z","type":"message"}
{"nick":"trevnorris","message":"i'm going to go look over v8 logs to see if there's mention of this.","date":"2013-07-17T19:41:27.129Z","type":"message"}
{"nick":"defunctzombie","reason":"Ping timeout: 246 seconds","date":"2013-07-17T19:41:42.320Z","type":"quit"}
{"nick":"kenperkins","reason":"Ping timeout: 240 seconds","date":"2013-07-17T19:44:38.616Z","type":"quit"}
{"nick":"dap","date":"2013-07-17T19:46:41.717Z","type":"join"}
{"nick":"defunctzombie","date":"2013-07-17T19:47:11.857Z","type":"join"}
{"nick":"qmx","date":"2013-07-17T19:47:13.459Z","type":"join"}
{"nick":"sblom","date":"2013-07-17T19:48:45.848Z","type":"join"}
{"nick":"julianduque","reason":"Remote host closed the connection","date":"2013-07-17T19:49:39.748Z","type":"quit"}
{"nick":"trevnorris","message":"damn you v8! get to use all that internal magic sauce for array buffers, ours could be so much faster.","date":"2013-07-17T19:50:04.446Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-07-17T19:52:47.066Z","type":"quit"}
{"nick":"sblom","reason":"Ping timeout: 240 seconds","date":"2013-07-17T19:52:53.784Z","type":"quit"}
{"nick":"dap","date":"2013-07-17T19:53:08.495Z","type":"join"}
{"nick":"kenperkins","date":"2013-07-17T19:55:09.951Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: ha ha! ok. it memory is still growing despite constant gc, on my box. just at a freakishly slow rate.","date":"2013-07-17T19:59:25.298Z","type":"message"}
{"nick":"trevnorris","message":"ok. so at least i'm not loosing my mind. completely.","date":"2013-07-17T19:59:33.459Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-07-17T20:00:15.999Z","type":"message"}
{"nick":"sblom","date":"2013-07-17T20:02:34.827Z","type":"join"}
{"nick":"julianduque","date":"2013-07-17T20:03:01.292Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: well, have any ideas? memory on smartos might not be growing simply because it's only pulling 90 req/sec because gc is spinning so much.","date":"2013-07-17T20:03:23.488Z","type":"message"}
{"nick":"trevnorris","message":"i dunno. getting tired of looking at this thing.","date":"2013-07-17T20:03:43.838Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: let it run for a few hours","date":"2013-07-17T20:04:50.805Z","type":"message"}
{"nick":"tjfontaine","message":"pick something else up for a while :)","date":"2013-07-17T20:05:06.741Z","type":"message"}
{"nick":"tjfontaine","message":"like evaluating again if ArrayBuffer can be the base type for Buffer :)","date":"2013-07-17T20:05:17.716Z","type":"message"}
{"nick":"trevnorris","message":"ooh. now you're just trolling me. :P","date":"2013-07-17T20:05:41.695Z","type":"message"}
{"nick":"tjfontaine","message":"no, I'm actually serious, after reading through the v8.h for 3.20 I was even more convinced it was possible :)","date":"2013-07-17T20:06:04.310Z","type":"message"}
{"nick":"trevnorris","message":"yeah. I know you're serious, but it's still trolling. ;)","date":"2013-07-17T20:06:28.073Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-07-17T20:06:33.073Z","type":"message"}
{"nick":"tjfontaine","message":"in gyp can I define a dependency that is a shared library but isn't actually included in linking?","date":"2013-07-17T20:07:00.407Z","type":"message"}
{"nick":"trevnorris","message":"actually shouldn't* be too hard. smalloc guts are easy to replace.","date":"2013-07-17T20:07:17.675Z","type":"message"}
{"nick":"tjfontaine","message":"right","date":"2013-07-17T20:07:23.868Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i think you can do that with \"type\": \"none\" instead of 'shared_library'","date":"2013-07-17T20:07:48.882Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: that will make the dependency still build as the .so?","date":"2013-07-17T20:08:06.106Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: hmm, well i'm not totally sure there... probably not though :p","date":"2013-07-17T20:08:26.194Z","type":"message"}
{"nick":"tjfontaine","message":"right :)","date":"2013-07-17T20:08:31.629Z","type":"message"}
{"nick":"tjfontaine","message":"worst worst worst case, I can turn it into a set of actions that buidls the .so, but I'd prefer it to be its normal thing, and then I just tell it not to link against it","date":"2013-07-17T20:09:06.644Z","type":"message"}
{"nick":"tjfontaine","message":"maybe I can say !libraries","date":"2013-07-17T20:09:51.983Z","type":"message"}
{"nick":"tjfontaine","message":"*libraries!","date":"2013-07-17T20:10:42.263Z","type":"message"}
{"nick":"mcavage","date":"2013-07-17T20:10:59.779Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-07-17T20:14:37.140Z","type":"quit"}
{"nick":"trevnorris","message":"i swear, if using array buffers is faster i'm just going to resign as a maintainer. :P","date":"2013-07-17T20:17:22.516Z","type":"message"}
{"nick":"kenperkins","reason":"Ping timeout: 264 seconds","date":"2013-07-17T20:17:33.676Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: demerit","date":"2013-07-17T20:17:48.856Z","type":"message"}
{"nick":"isaacs","message":"we gotta get trent's bot converted to irc","date":"2013-07-17T20:18:08.106Z","type":"message"}
{"nick":"isaacs","message":"i'd like to have a bnoogle.","date":"2013-07-17T20:18:14.055Z","type":"message"}
{"nick":"kenperkins","date":"2013-07-17T20:19:28.306Z","type":"join"}
{"nick":"tjfontaine","message":"heh","date":"2013-07-17T20:19:31.524Z","type":"message"}
{"nick":"brson","date":"2013-07-17T20:20:06.149Z","type":"join"}
{"nick":"tjfontaine","message":"TooTallNate: 'type': 'loadable_module'","date":"2013-07-17T20:21:14.133Z","type":"message"}
{"nick":"julianduque","reason":"Remote host closed the connection","date":"2013-07-17T20:21:19.795Z","type":"quit"}
{"nick":"julianduque","date":"2013-07-17T20:24:39.745Z","type":"join"}
{"nick":"wolfeidau","date":"2013-07-17T20:25:49.294Z","type":"join"}
{"nick":"ryah","reason":"Quit: leaving","date":"2013-07-17T20:34:41.561Z","type":"quit"}
{"nick":"ryah","date":"2013-07-17T20:35:28.551Z","type":"join"}
{"nick":"trevnorris","message":"wow. they've really gotten their calls to cc-land down. basic call with numeric return, under 10 ns.","date":"2013-07-17T20:38:56.013Z","type":"message"}
{"nick":"trevnorris","message":"that's impressive.","date":"2013-07-17T20:38:58.515Z","type":"message"}
{"nick":"trevnorris","message":"crossing into cc for simple stuff really shouldn't be a performance concern anymore.","date":"2013-07-17T20:39:18.598Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ^","date":"2013-07-17T20:39:20.399Z","type":"message"}
{"nick":"tjfontaine","message":"what's that? so long as we only speak in primitives? :)","date":"2013-07-17T20:39:38.054Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: intriguing","date":"2013-07-17T20:39:52.742Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: that's all i've tested, but it's looking good.","date":"2013-07-17T20:40:28.479Z","type":"message"}
{"nick":"tjfontaine","message":"right, the best practices for addon modules, rule #1, only speak in primitives","date":"2013-07-17T20:40:53.691Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-07-17T20:41:57.078Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: whoa, or returning any Persistent.","date":"2013-07-17T20:42:17.194Z","type":"message"}
{"nick":"trevnorris","message":"that's under 25 ns","date":"2013-07-17T20:42:21.132Z","type":"message"}
{"nick":"jmar777","date":"2013-07-17T20:42:35.278Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: scratch that. it's under 10. the other 15 came from setting the HandleScope","date":"2013-07-17T20:43:16.628Z","type":"message"}
{"nick":"trevnorris","message":"which you don't have to worry about in that specific case.","date":"2013-07-17T20:43:27.460Z","type":"message"}
{"nick":"isaacs","message":"so... the downside of streams3 is that you're not allowed to impement your own 'read()' method now","date":"2013-07-17T20:43:48.159Z","type":"message"}
{"nick":"isaacs","message":"or else you have a stream where pipe() doesn't work","date":"2013-07-17T20:43:58.619Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: as much as it pains me, i'm testing using ArrayBuffer class as a backer for Buffers. the smalloc re-work is making it a lot more simple to implement.","date":"2013-07-17T20:44:20.392Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: I haven't tried it but can you add a Transform to the middle of a pipe, so you can manipulate the data going through?","date":"2013-07-17T20:45:03.857Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: well, even the brokenStream.pipe(tx).pipe(dest) won't work","date":"2013-07-17T20:45:44.518Z","type":"message"}
{"nick":"isaacs","message":"because brokenStream won't pipe() properly","date":"2013-07-17T20:45:48.798Z","type":"message"}
{"nick":"jmar777","reason":"Ping timeout: 240 seconds","date":"2013-07-17T20:46:46.149Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-07-17T20:46:46.277Z","type":"quit"}
{"nick":"trevnorris","message":"hm.","date":"2013-07-17T20:46:54.753Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-07-17T20:47:44.323Z","type":"join"}
{"nick":"hz","date":"2013-07-17T20:48:24.748Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: if node does implement multiple threads, would it be possible/safe to allow users to pass a callback that we call when switching?","date":"2013-07-17T20:48:44.321Z","type":"message"}
{"nick":"trevnorris","message":"don't understand how it works completely, but was thinking something like they could reassign a global isolate when that happens. just so they don't have to call GetCurrent() constantly.","date":"2013-07-17T20:49:37.035Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: feeling better?","date":"2013-07-17T20:49:38.711Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: so. i'm going to test if it's possible to make Buffer a type of ArrayBufferView. then we get the Neuter functionality for free.","date":"2013-07-17T20:51:24.402Z","type":"message"}
{"nick":"trevnorris","message":"that I have to admit would be awesome.","date":"2013-07-17T20:51:30.324Z","type":"message"}
{"nick":"tjfontaine","message":"is that only on View? I thought it was on ArrayBuffer, but ya, it basically does everything you wanted :)","date":"2013-07-17T20:51:55.489Z","type":"message"}
{"nick":"trevnorris","message":"it is on ArrayBuffer, but we'll have to use their inheritance method to take advantage of it.","date":"2013-07-17T20:52:25.219Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: marginally","date":"2013-07-17T20:52:46.695Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: mk","date":"2013-07-17T20:52:50.837Z","type":"message"}
{"nick":"trevnorris","message":"or else we won't have the proper object properties that are necessary for Neuter to visit all of them.","date":"2013-07-17T20:52:55.722Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: as long as its not getting worse :)","date":"2013-07-17T20:52:58.456Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: \"Test aborted after 10 failures\"","date":"2013-07-17T20:55:21.975Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: yeah. that happens sometimes.","date":"2013-07-17T20:55:39.303Z","type":"message"}
{"nick":"tjfontaine","message":"classy","date":"2013-07-17T20:55:45.659Z","type":"message"}
{"nick":"trevnorris","message":"but I haven't been able to get it over 27 MB after running for a few hours.","date":"2013-07-17T20:56:03.775Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-07-17T20:56:13.833Z","type":"message"}
{"nick":"trevnorris","message":"ok. i'm going to remove the manual gc and see if that will allow memory to grow.","date":"2013-07-17T20:56:40.292Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-07-17T20:59:33.643Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: ok, have a new plan. see if this one works out :P","date":"2013-07-17T20:59:56.412Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-07-17T21:01:52.024Z","type":"message"}
{"nick":"sblom","reason":"Ping timeout: 251 seconds","date":"2013-07-17T21:02:43.998Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: fyi, this might be some strange manifestation of a v8 gc bug. I was grep'ing the repo logs and there were mentions of gc issues, but haven't been able to identify anything yet.","date":"2013-07-17T21:03:51.229Z","type":"message"}
{"nick":"trevnorris","message":"honestly if anything it might be how we're using Persistents","date":"2013-07-17T21:04:06.623Z","type":"message"}
{"nick":"trevnorris","message":"oh, that reminds me, I can create a Persistent handle visitor and pump out information about everything that currently exists.","date":"2013-07-17T21:04:28.659Z","type":"message"}
{"nick":"wolfeidau","date":"2013-07-17T21:06:59.470Z","type":"join"}
{"nick":"tjfontaine","message":"isaacs: https://github.com/tjfontaine/node/compare/mdb this does the new world build v8.so into node binary, so that newer mdb's get the proper version always, that branch is against master but I don't see a particular problem making it work with v0.10 and potentially v0.8, the platform will still be shipping v8.so for a while but we'll be the canonical location for fixing the v8.so going forward","date":"2013-07-17T21:09:17.905Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: for your feedback as well ^^","date":"2013-07-17T21:10:24.738Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: that sounds promising","date":"2013-07-17T21:10:42.412Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-07-17T21:23:19.860Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2013-07-17T21:28:52.873Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-07-17T21:36:39.419Z","type":"join"}
{"nick":"austo","message":"bnoordhius: is uv_sem_t appropriate inside a uv_work_cb?","date":"2013-07-17T21:41:35.547Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-07-17T21:41:36.536Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-07-17T21:44:36.311Z","type":"nick"}
{"nick":"bnoordhuis","message":"austo: what would you use it for?","date":"2013-07-17T21:52:13.316Z","type":"message"}
{"nick":"bnoordhuis","message":"ircretary: tell brson idle handles are entries in a linked list, no fd involved","date":"2013-07-17T21:52:57.508Z","type":"message"}
{"nick":"ircretary","message":"bnoordhuis: I'll be sure to tell brson","date":"2013-07-17T21:52:57.945Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-07-17T21:53:52.436Z","type":"quit"}
{"nick":"brson","date":"2013-07-17T21:54:42.125Z","type":"join"}
{"nick":"austo","message":"bnoordhius: I have a shared resource that gets created on the first applicable tcp connection. Initialization takes a little while, and I want to make sure that other applicable connections are not allowed to recreate the resource.","date":"2013-07-17T21:55:44.585Z","type":"message"}
{"nick":"mjr__","reason":"Quit: mjr__","date":"2013-07-17T21:57:15.154Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: in PersistentToLocal, why did you make it \"const Persistent\"?","date":"2013-07-17T21:57:15.940Z","type":"message"}
{"nick":"dominictarr","date":"2013-07-17T21:57:57.432Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: why not?","date":"2013-07-17T21:58:07.657Z","type":"message"}
{"nick":"bnoordhuis","message":"austo: in that case a semaphore might be appropriate","date":"2013-07-17T21:58:54.384Z","type":"message"}
{"nick":"bnoordhuis","message":"austo: if you're using uv_queue_work, it shouldn't be for jobs that never finish","date":"2013-07-17T21:59:35.072Z","type":"message"}
{"nick":"bnoordhuis","message":"you'll tie up a thread indefinitely and the thread pool is only of limited size","date":"2013-07-17T21:59:57.984Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: I dunno. thought there might be one of those compiler/usage/etc reasons that you're massive knowledge might now about. :)","date":"2013-07-17T22:00:01.432Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: oh, like that. const > non-const, that's mainly why","date":"2013-07-17T22:00:34.494Z","type":"message"}
{"nick":"trevnorris","message":"coolio. thanks :)","date":"2013-07-17T22:00:49.449Z","type":"message"}
{"nick":"austo","message":"bnoordhuis: the job definitely finishes, but in cases where multiple connections happen and I need to initialize the resource only once, I'd like to block the other uv_work_cb's for +/- 100 ms.","date":"2013-07-17T22:03:59.061Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: i'm testing out instantiation time with ArrayBuffer. bastards have made it really freaking fast.","date":"2013-07-17T22:04:02.439Z","type":"message"}
{"nick":"rendar","date":"2013-07-17T22:14:46.249Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: if you'd rather mmap stays dead, i'll go ahead and unpublish it","date":"2013-07-17T22:15:55.450Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: even though mmapping files is a bad idea, as it is, it's a module that is in the way","date":"2013-07-17T22:16:14.540Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: any objection?","date":"2013-07-17T22:16:17.550Z","type":"message"}
{"nick":"c4milo","date":"2013-07-17T22:18:36.604Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 276 seconds","date":"2013-07-17T22:20:22.300Z","type":"quit"}
{"nick":"austo_","date":"2013-07-17T22:23:37.624Z","type":"join"}
{"nick":"austo_","reason":"Client Quit","date":"2013-07-17T22:24:20.364Z","type":"quit"}
{"nick":"austo","date":"2013-07-17T22:24:53.874Z","type":"part"}
{"nick":"austo_","date":"2013-07-17T22:25:37.444Z","type":"join"}
{"nick":"austo_","reason":"Quit: Leaving","date":"2013-07-17T22:32:50.139Z","type":"quit"}
{"nick":"austo","date":"2013-07-17T22:34:36.211Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-07-17T22:36:26.682Z","type":"nick"}
{"nick":"defunctzombie","reason":"Changing host","date":"2013-07-17T22:37:10.948Z","type":"quit"}
{"nick":"defunctzombie","date":"2013-07-17T22:37:11.078Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: sorry dude. not moving to ArrayBuffer any time soon :)","date":"2013-07-17T22:39:32.886Z","type":"message"}
{"nick":"tjfontaine","message":"why is that","date":"2013-07-17T22:39:41.626Z","type":"message"}
{"nick":"trevnorris","message":"when you pass in external memory it's not automatically free'd on gc, so you still have to make it persistent.","date":"2013-07-17T22:40:14.635Z","type":"message"}
{"nick":"trevnorris","message":"and if you don't pass in external memory then it's memset 0","date":"2013-07-17T22:40:27.696Z","type":"message"}
{"nick":"tjfontaine","message":"ya I wasn't expecting anything different there","date":"2013-07-17T22:40:40.768Z","type":"message"}
{"nick":"tjfontaine","message":"as far as the latter, our implementation could just continue to do the same path and avoid letting v8 alloc that memory","date":"2013-07-17T22:41:28.556Z","type":"message"}
{"nick":"trevnorris","message":"it's around 15% slower to use external memory","date":"2013-07-17T22:42:18.566Z","type":"message"}
{"nick":"loladiro","date":"2013-07-17T22:42:23.345Z","type":"join"}
{"nick":"trevnorris","message":"depending on the size, etc.","date":"2013-07-17T22:42:27.757Z","type":"message"}
{"nick":"tjfontaine","message":"what is slower?","date":"2013-07-17T22:42:44.506Z","type":"message"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-07-17T22:42:57.271Z","type":"quit"}
{"nick":"trevnorris","message":"creating an ArrayBuffer using pre-allocated memory","date":"2013-07-17T22:42:57.405Z","type":"message"}
{"nick":"tjfontaine","message":"is 15% slower than creating a Buffer?","date":"2013-07-17T22:43:12.605Z","type":"message"}
{"nick":"trevnorris","message":"yup","date":"2013-07-17T22:43:16.992Z","type":"message"}
{"nick":"tjfontaine","message":"why?","date":"2013-07-17T22:43:20.654Z","type":"message"}
{"nick":"trevnorris","message":"hm. i dunno. possibly because of the class instantiation.","date":"2013-07-17T22:43:55.812Z","type":"message"}
{"nick":"trevnorris","message":"i know they set all properties to getters/setters, so that's not an issue anymore.","date":"2013-07-17T22:44:07.640Z","type":"message"}
{"nick":"trevnorris","message":"but it does seem to be harder on total mem usage.","date":"2013-07-17T22:44:16.998Z","type":"message"}
{"nick":"trevnorris","message":"when creating them in for loop, array buffers seem to consume about twice the amount.","date":"2013-07-17T22:44:41.444Z","type":"message"}
{"nick":"ik_","date":"2013-07-17T22:45:19.692Z","type":"join"}
{"nick":"tjfontaine","message":"make sure you publish the branch for reference, it'd be interesting to profile it","date":"2013-07-17T22:45:25.447Z","type":"message"}
{"nick":"trevnorris","message":"e.g. while (++i < 1e7) CreateArrayBuffer().","date":"2013-07-17T22:45:35.187Z","type":"message"}
{"nick":"trevnorris","message":"just made a module since it'd be easier to figure out. i'll throw it into core and publish a branch.","date":"2013-07-17T22:46:12.713Z","type":"message"}
{"nick":"tjfontaine","message":"which ever is easiest","date":"2013-07-17T22:46:26.385Z","type":"message"}
{"nick":"tjfontaine","message":"publish it somewhere for comparison :)","date":"2013-07-17T22:46:33.248Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-07-17T22:46:39.650Z","type":"message"}
{"nick":"defunctzombie_","date":"2013-07-17T22:46:53.814Z","type":"join"}
{"nick":"ik","reason":"Ping timeout: 240 seconds","date":"2013-07-17T22:47:32.464Z","type":"quit"}
{"nick":"defunctzombie","reason":"Ping timeout: 240 seconds","date":"2013-07-17T22:47:32.594Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 268 seconds","date":"2013-07-17T22:52:16.239Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: https://github.com/trevnorris/node-use-array-buffer","date":"2013-07-17T22:55:17.505Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: excellent thanks!","date":"2013-07-17T22:55:29.488Z","type":"message"}
{"nick":"trevnorris","message":"np. let me know if you find anything that can be improved.","date":"2013-07-17T22:55:41.917Z","type":"message"}
{"nick":"trevnorris","message":"i'm interested to see if it can be.","date":"2013-07-17T22:55:48.335Z","type":"message"}
{"nick":"tjfontaine","message":"heh, SET_RETURN, being JSAPI already :)","date":"2013-07-17T22:59:13.053Z","type":"message"}
{"nick":"trevnorris","message":"hah, awesome.","date":"2013-07-17T22:59:34.202Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Shuan Wang\u000f \u00037v0.10\u000f * \u000248a4600\u0002 : url: Fix edge-case when protocol is non-lowercase - http://git.io/eVWHTw","date":"2013-07-17T22:59:53.633Z","type":"message"}
{"nick":"defunctzombie_","new_nick":"defunctzombie_zz","date":"2013-07-17T23:00:00.518Z","type":"nick"}
{"nick":"trevnorris","message":"yeah. i'm creating a set of utils for module creation. maybe I should look at JSAPI for inspiration.","date":"2013-07-17T23:00:19.075Z","type":"message"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-07-17T23:00:24.750Z","type":"quit"}
{"nick":"st_luke","date":"2013-07-17T23:00:44.909Z","type":"join"}
{"nick":"tjfontaine","message":"it sounds like you're basically wanting to help with the work I'm doing :)","date":"2013-07-17T23:01:02.587Z","type":"message"}
{"nick":"trevnorris","message":"not so much to the point you're doing it. maybe basically a header file that you can drop in to make life easier.","date":"2013-07-17T23:01:54.597Z","type":"message"}
{"nick":"trevnorris","message":"but not to the extent of what I understand you're undertaking :)","date":"2013-07-17T23:02:09.364Z","type":"message"}
{"nick":"tjfontaine","message":"hmm this isn't compiling","date":"2013-07-17T23:04:01.201Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what error you getting?","date":"2013-07-17T23:06:30.502Z","type":"message"}
{"nick":"tjfontaine","message":"it's angry at functioncallbackinfo, ","date":"2013-07-17T23:07:11.379Z","type":"message"}
{"nick":"tjfontaine","message":"I've hacked it to evil to work here","date":"2013-07-17T23:07:21.942Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: oh, you compiling against latest master?","date":"2013-07-17T23:07:25.013Z","type":"message"}
{"nick":"tjfontaine","message":"yes","date":"2013-07-17T23:07:44.303Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-07-17T23:07:45.574Z","type":"quit"}
{"nick":"Denmad","reason":"Ping timeout: 256 seconds","date":"2013-07-17T23:07:48.026Z","type":"quit"}
{"nick":"trevnorris","message":"hm.","date":"2013-07-17T23:07:58.938Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-07-17T23:08:07.872Z","type":"quit"}
{"nick":"tjfontaine","message":"FATAL ERROR: basics::Run() Out of Memory","date":"2013-07-17T23:08:15.501Z","type":"message"}
{"nick":"tjfontaine","message":"lul","date":"2013-07-17T23:08:16.296Z","type":"message"}
{"nick":"trevnorris","message":"wtf? oh, I force pushed :P","date":"2013-07-17T23:08:34.274Z","type":"message"}
{"nick":"jez0990","reason":"Ping timeout: 264 seconds","date":"2013-07-17T23:08:35.406Z","type":"quit"}
{"nick":"trevnorris","message":"thought I did it quickly enough. looks like I didn't","date":"2013-07-17T23:08:43.056Z","type":"message"}
{"nick":"tjfontaine","message":"for what?","date":"2013-07-17T23:08:51.028Z","type":"message"}
{"nick":"tjfontaine","message":"../basics.cc:10:11: error: 'FunctionCallbackInfo' is already declared in this scope","date":"2013-07-17T23:09:22.128Z","type":"message"}
{"nick":"AvianFlu","date":"2013-07-17T23:09:27.276Z","type":"join"}
{"nick":"trevnorris","message":"eh? strange. one sec.","date":"2013-07-17T23:09:37.706Z","type":"message"}
{"nick":"trevnorris","message":"damn you v8! 3.20.6 doesn't compile because they left the fail on warning flag on.","date":"2013-07-17T23:10:04.349Z","type":"message"}
{"nick":"tjfontaine","message":"CFLAGS=\"-Wno-error\"","date":"2013-07-17T23:10:32.216Z","type":"message"}
{"nick":"trevnorris","message":"yeah yeah. I know. it's just annoying.","date":"2013-07-17T23:10:43.588Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #287 \u00037UNSTABLE\u000f osx-x64 (1/594) linux-ia32 (1/594) smartos-x64 (2/594) http://jenkins.nodejs.org/job/nodejs-v0.10/287/","date":"2013-07-17T23:12:11.879Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: oh, you using gcc?","date":"2013-07-17T23:12:41.912Z","type":"message"}
{"nick":"tjfontaine","message":"yes","date":"2013-07-17T23:12:45.329Z","type":"message"}
{"nick":"trevnorris","message":"ah, let me see if that fails on my box too","date":"2013-07-17T23:12:56.898Z","type":"message"}
{"nick":"trevnorris","message":"ah, yup","date":"2013-07-17T23:13:26.772Z","type":"message"}
{"nick":"trevnorris","message":"that's it.","date":"2013-07-17T23:13:28.464Z","type":"message"}
{"nick":"jez0990","date":"2013-07-17T23:14:41.024Z","type":"join"}
{"nick":"Denmad","date":"2013-07-17T23:15:01.094Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: eh, know what's going on?","date":"2013-07-17T23:15:20.809Z","type":"message"}
{"nick":"tjfontaine","message":"not particularly, I can tell you how I hacked it to work for me :)","date":"2013-07-17T23:16:32.047Z","type":"message"}
{"nick":"trevnorris","message":"oh. have a fix. i'm pushing it now","date":"2013-07-17T23:16:42.035Z","type":"message"}
{"nick":"tjfontaine","message":"I didn't look too much into it","date":"2013-07-17T23:16:53.531Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10-windows\u0002: #115 \u00037UNSTABLE\u000f windows-x64 (7/594) windows-ia32 (8/594) http://jenkins.nodejs.org/job/nodejs-v0.10-windows/115/","date":"2013-07-17T23:18:25.184Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-07-17T23:19:05.453Z","type":"join"}
{"nick":"julianduque","date":"2013-07-17T23:22:54.941Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 248 seconds","date":"2013-07-17T23:23:17.578Z","type":"quit"}
{"nick":"pachet","reason":"Ping timeout: 252 seconds","date":"2013-07-17T23:23:28.808Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: ok the fix is up. i wish gcc told me where else it was being declared.","date":"2013-07-17T23:24:23.456Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-07-17T23:24:54.198Z","type":"message"}
{"nick":"sakkaku","date":"2013-07-17T23:25:28.820Z","type":"join"}
{"nick":"sakkaku","reason":"Remote host closed the connection","date":"2013-07-17T23:25:55.803Z","type":"quit"}
{"nick":"tjfontaine","message":"your free cb is never firing","date":"2013-07-17T23:27:24.027Z","type":"message"}
{"nick":"tjfontaine","message":"when I'm gc'ing","date":"2013-07-17T23:27:41.034Z","type":"message"}
{"nick":"trevnorris","message":"how large a value are you passing in to create?","date":"2013-07-17T23:27:55.576Z","type":"message"}
{"nick":"tjfontaine","message":"well, I'm seeing hte dispose, but free isn't happening","date":"2013-07-17T23:28:26.125Z","type":"message"}
{"nick":"tjfontaine","message":"because length is -1","date":"2013-07-17T23:29:05.209Z","type":"message"}
{"nick":"tjfontaine","message":"I'm getting about 44653 ns/op for native buffers, and 40k for array buffers","date":"2013-07-17T23:32:36.486Z","type":"message"}
{"nick":"trevnorris","message":"mother effing.","date":"2013-07-17T23:33:13.754Z","type":"message"}
{"nick":"tjfontaine","message":"there is a leak in there somewhere as well","date":"2013-07-17T23:33:39.398Z","type":"message"}
{"nick":"tjfontaine","message":"about 10k per 1e3 allocations","date":"2013-07-17T23:34:17.789Z","type":"message"}
{"nick":"trevnorris","message":"there, fixed.","date":"2013-07-17T23:35:04.635Z","type":"message"}
{"nick":"tjfontaine","message":"hmm not too much different of an rss growth in that regard for native buffers","date":"2013-07-17T23:35:31.828Z","type":"message"}
{"nick":"trevnorris","message":"please be more specific then, there's a leak in there.","date":"2013-07-17T23:35:32.316Z","type":"message"}
{"nick":"tjfontaine","message":"well, rss growth, it's not scientific","date":"2013-07-17T23:36:34.390Z","type":"message"}
{"nick":"tjfontaine","message":"DEBUG: -1","date":"2013-07-17T23:36:37.881Z","type":"message"}
{"nick":"tjfontaine","message":"DEBUG: -1","date":"2013-07-17T23:36:38.017Z","type":"message"}
{"nick":"tjfontaine","message":"DEBUG: -1","date":"2013-07-17T23:36:38.147Z","type":"message"}
{"nick":"LOUDBOT","message":"NORTH KOREA PUT THOSE TORPEDOES DOWN THOSE ARE NOT FOR NOW","date":"2013-07-17T23:36:38.305Z","type":"message"}
{"nick":"LOUDBOT","message":"OH MAN ITS THE COOLES SOFTWAREZ EVAR","date":"2013-07-17T23:36:38.525Z","type":"message"}
{"nick":"LOUDBOT","message":"ACHIEVEMENT UNLOCKED: FALSE GIGGLES","date":"2013-07-17T23:36:38.757Z","type":"message"}
{"nick":"trevnorris","message":"oh dam","date":"2013-07-17T23:36:38.907Z","type":"message"}
{"nick":"trevnorris","message":"I know ","date":"2013-07-17T23:36:40.567Z","type":"message"}
{"nick":"trevnorris","message":"yeah","date":"2013-07-17T23:36:41.205Z","type":"message"}
{"nick":"trevnorris","message":"i was treating it like an object, but have access it differently.","date":"2013-07-17T23:36:59.627Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok. fixed and pushed.","date":"2013-07-17T23:39:50.021Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: ok. how many ns/op does it take you to create length 1024?","date":"2013-07-17T23:40:44.492Z","type":"message"}
{"nick":"tjfontaine","message":"with your default run.js I'm getting 49k to 58k atm","date":"2013-07-17T23:41:18.604Z","type":"message"}
{"nick":"trevnorris","message":"and with new Buffer()?","date":"2013-07-17T23:41:27.203Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: wait. 49K?","date":"2013-07-17T23:41:47.660Z","type":"message"}
{"nick":"trevnorris","message":"are you using a pentium 133?","date":"2013-07-17T23:42:03.944Z","type":"message"}
{"nick":"tjfontaine","message":"sub 30k","date":"2013-07-17T23:42:23.742Z","type":"message"}
{"nick":"trevnorris","message":"you're talking the first line that has: <NUMBER> ns/op","date":"2013-07-17T23:42:42.619Z","type":"message"}
{"nick":"tjfontaine","message":"yes","date":"2013-07-17T23:42:47.575Z","type":"message"}
{"nick":"trevnorris","message":"what machine you using?","date":"2013-07-17T23:42:52.975Z","type":"message"}
{"nick":"tjfontaine","message":"the jenkins zone","date":"2013-07-17T23:42:58.885Z","type":"message"}
{"nick":"tjfontaine","message":"zonememstat","date":"2013-07-17T23:42:59.726Z","type":"message"}
{"nick":"tjfontaine","message":"                                ZONE      RSS      CAP  NOVER     POUT","date":"2013-07-17T23:42:59.855Z","type":"message"}
{"nick":"tjfontaine","message":"fae04dee-95b3-414b-bb3f-179aa1a08f34   1512MB   8192MB      0      0MB","date":"2013-07-17T23:43:00.121Z","type":"message"}
{"nick":"trevnorris","message":"i'm running sub 1000 ns/op","date":"2013-07-17T23:43:17.306Z","type":"message"}
{"nick":"tjfontaine","message":"I could be seeing bursts right nwo","date":"2013-07-17T23:44:33.715Z","type":"message"}
{"nick":"trevnorris","message":"you have a mac?","date":"2013-07-17T23:45:02.218Z","type":"message"}
{"nick":"tjfontaine","message":"https://gist.github.com/tjfontaine/5195b4ecabf3ddaf4385","date":"2013-07-17T23:45:18.550Z","type":"message"}
{"nick":"tjfontaine","message":"I do have a mac, but my intent is to profile with dtrace the allocs to see where time is being spent","date":"2013-07-17T23:45:35.499Z","type":"message"}
{"nick":"trevnorris","message":"ah, i'll use --ll_prof to do the same on my end.","date":"2013-07-17T23:46:09.088Z","type":"message"}
{"nick":"tjfontaine","message":"at 1024 I get 4k for arraybuffer and 2k for natives","date":"2013-07-17T23:46:25.996Z","type":"message"}
{"nick":"trevnorris","message":"yeah. and you'll see worse for 1024 * 4 - 1","date":"2013-07-17T23:47:24.716Z","type":"message"}
{"nick":"tjfontaine","message":"byte aligning, sure","date":"2013-07-17T23:47:41.197Z","type":"message"}
{"nick":"trevnorris","message":"no, that's not it.","date":"2013-07-17T23:47:47.992Z","type":"message"}
{"nick":"trevnorris","message":"that's the limit of allowing v8 to allocate memory, vs using external memory","date":"2013-07-17T23:48:06.427Z","type":"message"}
{"nick":"trevnorris","message":"really small allocations are actually awesome, but as they get larger they start to suck because of memset.","date":"2013-07-17T23:48:32.367Z","type":"message"}
{"nick":"trevnorris","message":"one sec, I'll show you.","date":"2013-07-17T23:48:38.200Z","type":"message"}
{"nick":"brson_","date":"2013-07-17T23:48:46.809Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-07-17T23:49:03.718Z","type":"quit"}
{"nick":"tjfontaine","message":"that seems fine here","date":"2013-07-17T23:49:19.991Z","type":"message"}
{"nick":"trevnorris","message":"how do you mean?","date":"2013-07-17T23:49:47.946Z","type":"message"}
{"nick":"tjfontaine","message":"it didnt' seem appreciably slower","date":"2013-07-17T23:50:17.967Z","type":"message"}
{"nick":"tjfontaine","message":"at least on smartos","date":"2013-07-17T23:50:24.022Z","type":"message"}
{"nick":"trevnorris","message":"hm. it's 3x's slower on my machine.","date":"2013-07-17T23:50:33.759Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-07-17T23:51:35.692Z","type":"quit"}
{"nick":"mikolalysenko","date":"2013-07-17T23:53:25.374Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-07-17T23:56:08.973Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-07-17T23:59:07.489Z","type":"join"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-07-17T23:59:42.853Z","type":"quit"}

{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-01-30T00:00:01.212Z","type":"quit"}
{"nick":"ircretary","date":"2013-01-30T00:00:08.545Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-01-30T00:00:16.193Z","type":"quit"}
{"nick":"kazupon","date":"2013-01-30T00:03:13.435Z","type":"join"}
{"nick":"loladiro","date":"2013-01-30T00:06:38.747Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-01-30T00:06:40.844Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 252 seconds","date":"2013-01-30T00:07:39.257Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-01-30T00:17:50.174Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-01-30T00:17:52.928Z","type":"quit"}
{"nick":"jmar777","date":"2013-01-30T00:18:31.118Z","type":"join"}
{"nick":"loladiro","date":"2013-01-30T00:19:51.138Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 248 seconds","date":"2013-01-30T00:22:59.906Z","type":"quit"}
{"nick":"isaacs","action":"fg","date":"2013-01-30T00:26:18.855Z","type":"action"}
{"nick":"isaacs","action":"cheeseburgered up","date":"2013-01-30T00:26:24.245Z","type":"action"}
{"nick":"jmar777","date":"2013-01-30T00:27:08.264Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: d'oh!  9bd9c546c87f29e12821de6c2e8bc7fa33903596 breaks the repl","date":"2013-01-30T00:29:24.423Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-01-30T00:32:45.239Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: you around?","date":"2013-01-30T00:40:17.425Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i am","date":"2013-01-30T00:40:31.389Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: i suggest we make \\r behave like \\n in readline, instead of like home","date":"2013-01-30T00:40:35.235Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: TTY inputs give us a \\r, not a \\n","date":"2013-01-30T00:40:50.105Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: because TTYs are jerks","date":"2013-01-30T00:40:59.235Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i thought that was what we were already doing?","date":"2013-01-30T00:41:12.420Z","type":"message"}
{"nick":"isaacs","message":"no, actually, as of 9bd9c546c87f29e12821de6c2e8bc7fa33903596 we treat \\r like home","date":"2013-01-30T00:41:28.925Z","type":"message"}
{"nick":"isaacs","message":"but that's only what \\r means when it's *written*","date":"2013-01-30T00:41:35.145Z","type":"message"}
{"nick":"isaacs","message":"when you *read* \\r, it should behave like \\n","date":"2013-01-30T00:41:40.445Z","type":"message"}
{"nick":"isaacs","message":"the thing is, if you get \\r\\n, it should behave like a single \\n","date":"2013-01-30T00:41:49.825Z","type":"message"}
{"nick":"isaacs","message":"not like \\n\\n","date":"2013-01-30T00:41:53.419Z","type":"message"}
{"nick":"isaacs","message":"so, 9bd9c546c87f29e12821de6c2e8bc7fa33903596 is half right","date":"2013-01-30T00:42:01.925Z","type":"message"}
{"nick":"TooTallNate","message":"it seems like we need to do a little bookkeeping","date":"2013-01-30T00:42:23.055Z","type":"message"}
{"nick":"TooTallNate","message":"to keep track of if the previous char was \"\\r\"","date":"2013-01-30T00:42:32.376Z","type":"message"}
{"nick":"isaacs","message":"well, it just uses /\\r?\\n/ as the split instead of /\\n/","date":"2013-01-30T00:43:27.034Z","type":"message"}
{"nick":"isaacs","message":"in readline","date":"2013-01-30T00:43:29.734Z","type":"message"}
{"nick":"isaacs","message":"but yes, it could get a \\r and then later a \\n","date":"2013-01-30T00:43:36.303Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: that split part is for the \"normal\" readline though","date":"2013-01-30T00:43:51.818Z","type":"message"}
{"nick":"TooTallNate","message":"not TTY readline","date":"2013-01-30T00:43:54.870Z","type":"message"}
{"nick":"indexzero","date":"2013-01-30T00:46:00.685Z","type":"join"}
{"nick":"isaacs","message":"right","date":"2013-01-30T00:46:37.311Z","type":"message"}
{"nick":"isaacs","message":"what does TTY readline do?","date":"2013-01-30T00:46:40.341Z","type":"message"}
{"nick":"isaacs","message":"/[\\r\\n]/?","date":"2013-01-30T00:46:45.511Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: well this seems to fix it https://gist.github.com/f18ba69d227e103d822e","date":"2013-01-30T00:51:05.669Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: just to double check, benchmark/node_module/bench-timer is fine?","date":"2013-01-30T00:51:38.323Z","type":"message"}
{"nick":"trevnorris","message":"(s)","date":"2013-01-30T00:51:45.646Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: tty readline attempts to treat each \"char\" as it's own event","date":"2013-01-30T00:51:47.022Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: not really sure if that patch needs anything else…","date":"2013-01-30T00:52:18.175Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 272 seconds","date":"2013-01-30T00:55:04.792Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: yeah","date":"2013-01-30T00:56:07.435Z","type":"message"}
{"nick":"isaacs","message":"i think that's the appropriate intention","date":"2013-01-30T00:56:17.125Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: the double \"return\" bookkeeping would be good, but i don't think it would be common for that to happen","date":"2013-01-30T00:56:43.228Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: do you think that RL needs to track if it's seen a \\r at the eol, and if so, ignore a \\n at the start of the next?","date":"2013-01-30T00:56:50.255Z","type":"message"}
{"nick":"kristate","date":"2013-01-30T00:57:05.459Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: it wouldn't be hard to do","date":"2013-01-30T00:57:08.874Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i do think it would be good","date":"2013-01-30T00:57:10.170Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: (and i'd already done exactly that same patch in your gist)","date":"2013-01-30T00:57:22.634Z","type":"message"}
{"nick":"isaacs","message":"k, one se","date":"2013-01-30T00:57:24.774Z","type":"message"}
{"nick":"TooTallNate","message":"hahaha","date":"2013-01-30T00:57:26.976Z","type":"message"}
{"nick":"isaacs","message":"*sec","date":"2013-01-30T00:57:27.204Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2013-01-30T00:57:27.745Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: pull/4656 has the updated with bench-timer as an external lib","date":"2013-01-30T01:00:46.452Z","type":"message"}
{"nick":"kazupon","date":"2013-01-30T01:03:49.906Z","type":"join"}
{"nick":"AvianFlu","date":"2013-01-30T01:03:53.876Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: it'll probably take me a week or more to hammer out how `make bench` should work. so imho don't think this PR should wait for that.","date":"2013-01-30T01:05:08.042Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-01-30T01:05:59.208Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-01-30T01:07:27.522Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 272 seconds","date":"2013-01-30T01:09:00.868Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: we don't have to do any bookkeeping for \\r.  we already buffer everything pu until we get a \\n, and since we split on \\r?\\n, it Just Works","date":"2013-01-30T01:21:25.294Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: hmmm… i think you're confusing the \"normal\" code with the TTY code again...","date":"2013-01-30T01:22:03.076Z","type":"message"}
{"nick":"isaacs","message":"oh, maybe","date":"2013-01-30T01:22:09.028Z","type":"message"}
{"nick":"isaacs","message":"ah,yes, indeed.","date":"2013-01-30T01:22:20.428Z","type":"message"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-01-30T01:26:40.858Z","type":"quit"}
{"nick":"jmar777","date":"2013-01-30T01:27:15.826Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 272 seconds","date":"2013-01-30T01:31:48.700Z","type":"quit"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-01-30T01:33:10.769Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: so, you think it's reasonable for \\r to only be a relevant line ender in TTY mode?","date":"2013-01-30T01:35:15.350Z","type":"message"}
{"nick":"kristate","reason":"Remote host closed the connection","date":"2013-01-30T01:35:30.972Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: you mean ignore \"enter\"?","date":"2013-01-30T01:35:49.830Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: no, i mean, foo\\rbar\\r is one \"line\" in non-tty mode","date":"2013-01-30T01:36:06.789Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: but in tty mode, that's \"foo\",\"bar\"","date":"2013-01-30T01:36:12.899Z","type":"message"}
{"nick":"TooTallNate","message":"oh i see","date":"2013-01-30T01:36:24.838Z","type":"message"}
{"nick":"TooTallNate","message":"well then yes","date":"2013-01-30T01:36:29.274Z","type":"message"}
{"nick":"isaacs","message":"otherwise the non-tty splitting code gets more convoluted","date":"2013-01-30T01:36:33.969Z","type":"message"}
{"nick":"TooTallNate","message":"i'd think those would be 2 \"line\" events","date":"2013-01-30T01:36:41.232Z","type":"message"}
{"nick":"TooTallNate","message":"and we should be consistent","date":"2013-01-30T01:36:44.381Z","type":"message"}
{"nick":"isaacs","message":"and right now, it's nicely simple.","date":"2013-01-30T01:36:46.029Z","type":"message"}
{"nick":"isaacs","message":"ugh","date":"2013-01-30T01:36:47.049Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2013-01-30T01:36:47.829Z","type":"message"}
{"nick":"TooTallNate","message":"between the 2 modes","date":"2013-01-30T01:36:48.850Z","type":"message"}
{"nick":"abraxas","date":"2013-01-30T01:37:34.301Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-01-30T01:38:30.133Z","type":"quit"}
{"nick":"isaacs","message":"got a fix","date":"2013-01-30T01:51:17.199Z","type":"message"}
{"nick":"isaacs","message":"it's not so bad","date":"2013-01-30T01:51:24.459Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: https://github.com/joyent/node/pull/4683","date":"2013-01-30T01:52:18.139Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: the capital T in the commit message is bugging me a tiny bit :p","date":"2013-01-30T01:52:48.632Z","type":"message"}
{"nick":"TooTallNate","action":"</ocd>","date":"2013-01-30T01:52:54.794Z","type":"action"}
{"nick":"isaacs","message":"hahah","date":"2013-01-30T01:53:06.238Z","type":"message"}
{"nick":"isaacs","message":"fixed","date":"2013-01-30T01:53:20.738Z","type":"message"}
{"nick":"TooTallNate","message":"very nice","date":"2013-01-30T01:56:27.192Z","type":"message"}
{"nick":"isaacs","message":"thoughts on the actual content?","date":"2013-01-30T01:58:20.396Z","type":"message"}
{"nick":"TooTallNate","message":"trying it out now","date":"2013-01-30T02:01:00.845Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-01-30T02:01:32.144Z","type":"message"}
{"nick":"TooTallNate","message":"damn, have to recompile from scratch","date":"2013-01-30T02:02:41.285Z","type":"message"}
{"nick":"TooTallNate","message":"since i blew away my tree trying to help that guy cross-compile for arm :p","date":"2013-01-30T02:02:54.372Z","type":"message"}
{"nick":"kazupon","date":"2013-01-30T02:04:30.289Z","type":"join"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2013-01-30T02:05:10.929Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-01-30T02:05:36.949Z","type":"join"}
{"nick":"kazupon_","date":"2013-01-30T02:07:06.338Z","type":"join"}
{"nick":"kazupon_","reason":"Remote host closed the connection","date":"2013-01-30T02:07:34.443Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-01-30T02:09:42.154Z","type":"quit"}
{"nick":"lohkey","date":"2013-01-30T02:14:03.796Z","type":"part"}
{"nick":"TooTallNate","message":"isaacs: lgtm - pushing","date":"2013-01-30T02:15:14.304Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u000260f18ed\u0002 : readline: treat bare \\r as a line ending  Fixes #3305 - http://git.io/eXwLfw","date":"2013-01-30T02:21:50.865Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: thanks :)","date":"2013-01-30T02:23:58.010Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: so.. turns out crypto streams are still streams1","date":"2013-01-30T02:24:14.530Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: thanks for writing the patch :)","date":"2013-01-30T02:24:17.423Z","type":"message"}
{"nick":"TooTallNate","message":"ya i just saw that, haha","date":"2013-01-30T02:24:22.023Z","type":"message"}
{"nick":"isaacs","message":"ugh.","date":"2013-01-30T02:24:24.939Z","type":"message"}
{"nick":"isaacs","message":"v0.10 keeps pulling away from me.","date":"2013-01-30T02:24:31.239Z","type":"message"}
{"nick":"isaacs","message":"releasing a new stable version of node is so much more work than you think.","date":"2013-01-30T02:24:40.209Z","type":"message"}
{"nick":"isaacs","message":"even when you're right there, there's always like a million more little things","date":"2013-01-30T02:24:56.709Z","type":"message"}
{"nick":"isaacs","message":"exhausting","date":"2013-01-30T02:24:59.652Z","type":"message"}
{"nick":"indexzero","date":"2013-01-30T02:27:05.239Z","type":"join"}
{"nick":"TooTallNate","message":"agree'd","date":"2013-01-30T02:27:11.616Z","type":"message"}
{"nick":"TooTallNate","message":"there's lots of tiny little patches i want to get in","date":"2013-01-30T02:27:18.469Z","type":"message"}
{"nick":"wolfeidau","date":"2013-01-30T02:30:30.486Z","type":"join"}
{"nick":"c4milo","date":"2013-01-30T02:30:52.896Z","type":"join"}
{"nick":"jmar777","date":"2013-01-30T02:34:21.565Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-01-30T02:34:47.384Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-01-30T02:35:20.324Z","type":"join"}
{"nick":"isaacs","message":"it sucks to stumble onto something like this that i just plain forgot for so long.","date":"2013-01-30T02:35:29.132Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-01-30T02:35:29.965Z","type":"quit"}
{"nick":"isaacs","message":"the tiny patches are not so bad, they're just endless.","date":"2013-01-30T02:35:43.962Z","type":"message"}
{"nick":"isaacs","message":"but this is kind of important.","date":"2013-01-30T02:35:47.225Z","type":"message"}
{"nick":"isaacs","action":"feeling humble atm","date":"2013-01-30T02:35:51.742Z","type":"action"}
{"nick":"googol","date":"2013-01-30T02:36:34.150Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-01-30T02:36:34.652Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-01-30T02:40:50.854Z","type":"quit"}
{"nick":"piscisaureus_","message":"sblom not here?","date":"2013-01-30T02:42:36.727Z","type":"message"}
{"nick":"piscisaureus_","message":"I need someone to review https://github.com/joyent/libuv/pull/697 (indutny / bnoordhuis maybe?)","date":"2013-01-30T02:43:04.604Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: turns out that i forgot about CryptoStream","date":"2013-01-30T02:48:18.753Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: v0.10 will be a bit longer.","date":"2013-01-30T02:48:24.613Z","type":"message"}
{"nick":"piscisaureus_","message":"ouch","date":"2013-01-30T02:49:39.292Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2013-01-30T02:49:39.794Z","type":"message"}
{"nick":"piscisaureus_","action":"signs off","date":"2013-01-30T02:49:45.379Z","type":"action"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-01-30T02:49:45.710Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-01-30T02:49:48.418Z","type":"quit"}
{"nick":"jmar777","date":"2013-01-30T02:50:20.967Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-01-30T02:51:39.956Z","type":"join"}
{"nick":"piscisaureus_","message":"so who pinged sblom?","date":"2013-01-30T02:51:54.101Z","type":"message"}
{"nick":"piscisaureus_","message":"I WANT TO SEE FINGERS!","date":"2013-01-30T02:52:02.976Z","type":"message"}
{"nick":"LOUDBOT","message":"SKYRIM - NOT EVEN ONCE","date":"2013-01-30T02:52:03.327Z","type":"message"}
{"nick":"jmar777","reason":"Ping timeout: 272 seconds","date":"2013-01-30T02:55:24.753Z","type":"quit"}
{"nick":"c4milo","date":"2013-01-30T03:00:29.982Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-01-30T03:11:32.584Z","type":"quit"}
{"nick":"isaacs","message":"fuckit we should just release 0.10 with a streams1 cryptostream","date":"2013-01-30T03:12:51.418Z","type":"message"}
{"nick":"isaacs","message":"no one actually uses that directly anyway","date":"2013-01-30T03:13:08.817Z","type":"message"}
{"nick":"isaacs","action":"half-joking, i hope","date":"2013-01-30T03:13:15.987Z","type":"action"}
{"nick":"isaacs","message":"ok, i'm off for the evening.","date":"2013-01-30T03:13:21.157Z","type":"message"}
{"nick":"isaacs","date":"2013-01-30T03:13:21.854Z","type":"part"}
{"nick":"isaacs","date":"2013-01-30T03:13:25.137Z","type":"join"}
{"nick":"bnoordhuis","message":"ah, i broke the repl","date":"2013-01-30T03:20:37.038Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-01-30T03:21:01.360Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: sblom reviewed it, right?","date":"2013-01-30T03:23:05.957Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00023fe6aba\u0002 : os: rename tmpDir() to tmpdir() for consistency  Make the casing consiste - http://git.io/1ndWtw","date":"2013-01-30T03:25:23.531Z","type":"message"}
{"nick":"Raynos","message":"isaacs: `Readable.wrap` the old crypto streams :D","date":"2013-01-30T03:28:04.372Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-01-30T03:29:32.322Z","type":"quit"}
{"nick":"trevnorris","date":"2013-01-30T03:29:32.979Z","type":"join"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-01-30T03:30:28.611Z","type":"quit"}
{"nick":"kazupon","date":"2013-01-30T03:54:03.858Z","type":"join"}
{"nick":"mikeal","date":"2013-01-30T03:59:49.465Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-01-30T04:05:31.191Z","type":"quit"}
{"nick":"abraxas","date":"2013-01-30T04:06:03.692Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 276 seconds","date":"2013-01-30T04:11:15.328Z","type":"quit"}
{"nick":"bnoordhuis","message":"brson_: re async handles, under the hood they're pipes that get written to in one thread and read from in another thread","date":"2013-01-30T04:12:59.539Z","type":"message"}
{"nick":"bnoordhuis","message":"regarding overhead, you incur two syscalls","date":"2013-01-30T04:13:38.184Z","type":"message"}
{"nick":"brson_","message":"bnoordhuis: thanks, and interesting. I don't know how that compares performance wise to a mutex and condition variable but it sounds like it has more overhead. do you agree?","date":"2013-01-30T04:20:18.470Z","type":"message"}
{"nick":"bnoordhuis","message":"brson_: probably yes, though outside of very tight loops it probably won't be noticeable","date":"2013-01-30T04:21:01.139Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux, we could switch to eventfds. you'd still have a read and a write but they'd be operating on fixed-size buffers","date":"2013-01-30T04:22:41.320Z","type":"message"}
{"nick":"kristate","date":"2013-01-30T04:24:46.534Z","type":"join"}
{"nick":"indexzero","date":"2013-01-30T04:25:19.193Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-01-30T04:26:54.343Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-01-30T04:27:07.822Z","type":"join"}
{"nick":"brson_","message":"bnoordhuis: thanks for the advice. i'm glad this isn't obviously a bad idea. i'll make a point to do some performance comparisions before getting too deep into it","date":"2013-01-30T04:27:35.267Z","type":"message"}
{"nick":"brson_","reason":"Ping timeout: 276 seconds","date":"2013-01-30T04:32:24.849Z","type":"quit"}
{"nick":"c4milo","date":"2013-01-30T04:34:43.899Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: catch any of the earlier conversation on performance regression in tcp_wrap?","date":"2013-01-30T04:37:55.260Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-01-30T04:38:21.316Z","type":"quit"}
{"nick":"bnoordhuis","message":"trevnorris: yes. it's something i've observed as well. it's some kind of weak interaction between libuv and the slab allocator","date":"2013-01-30T04:38:25.214Z","type":"message"}
{"nick":"bnoordhuis","message":"if you trace syscalls with strace -c, you'll find that things are mostly equal","date":"2013-01-30T04:38:43.661Z","type":"message"}
{"nick":"bnoordhuis","message":"but when you profile it with massif or just /usr/bin/time, you'll find that peak memory usage is a lot higher","date":"2013-01-30T04:39:16.672Z","type":"message"}
{"nick":"bnoordhuis","message":"with a corresponding increase in pagefaults, etc.","date":"2013-01-30T04:39:29.848Z","type":"message"}
{"nick":"bnoordhuis","message":"i haven't been able to pinpoint it exactly but i suspect it's because of libuv's more aggresive approach to fetching events","date":"2013-01-30T04:40:19.476Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. it's trying to be faster but that increases strain on other parts of node","date":"2013-01-30T04:40:58.632Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: interesting. think there are any specifics I could benchmark?","date":"2013-01-30T04:42:55.194Z","type":"message"}
{"nick":"dap","date":"2013-01-30T04:44:49.795Z","type":"join"}
{"nick":"trevnorris","message":"in my benchmarks it shows that v0.8 is making 20% more calls and 53% more errors.","date":"2013-01-30T04:45:02.150Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that sounds about right","date":"2013-01-30T04:45:18.637Z","type":"message"}
{"nick":"bnoordhuis","message":"i should've said that master doesn't make _more_ syscalls","date":"2013-01-30T04:45:34.290Z","type":"message"}
{"nick":"bnoordhuis","message":"but try massif and compare the results in massif-visualizer","date":"2013-01-30T04:45:56.857Z","type":"message"}
{"nick":"bnoordhuis","message":"for me, v0.8 heap usage is more or less flat","date":"2013-01-30T04:46:20.712Z","type":"message"}
{"nick":"bnoordhuis","message":"while master has these massive spikes","date":"2013-01-30T04:46:30.292Z","type":"message"}
{"nick":"trevnorris","message":"using strace -c, is the second column avg time spent on that syscall?","date":"2013-01-30T04:47:17.233Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: yes","date":"2013-01-30T04:48:44.677Z","type":"message"}
{"nick":"bnoordhuis","message":"err, third rather","date":"2013-01-30T04:48:57.317Z","type":"message"}
{"nick":"bnoordhuis","message":"second one is total time spent in that syscall","date":"2013-01-30T04:49:06.565Z","type":"message"}
{"nick":"pooya","date":"2013-01-30T04:53:16.210Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: just ran the tests several dozen times to make sure. the write syscall on master is ~34% longer than on v0.8","date":"2013-01-30T05:08:13.258Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: what test/benchmark are you profiling?","date":"2013-01-30T05:08:45.580Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: have a PR for it (4656). here's the dir of tcp tests: http://git.io/0mdWkQ","date":"2013-01-30T05:11:26.414Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: isaacs gave me a gist of these and I extended them.","date":"2013-01-30T05:12:16.561Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, but what test in particular are you benchmarking now?","date":"2013-01-30T05:12:31.761Z","type":"message"}
{"nick":"trevnorris","message":"tcp_raw_c2s.js","date":"2013-01-30T05:12:50.102Z","type":"message"}
{"nick":"wolfeidau","reason":"Ping timeout: 252 seconds","date":"2013-01-30T05:12:54.335Z","type":"quit"}
{"nick":"bnoordhuis","message":"trevnorris: have you checked nr of pagefaults? that could well explain why the write syscall is slower","date":"2013-01-30T05:13:55.236Z","type":"message"}
{"nick":"bnoordhuis","message":"use /usr/bin/time for that btw, the bash builtin is rather basic","date":"2013-01-30T05:14:29.387Z","type":"message"}
{"nick":"loladiro","date":"2013-01-30T05:14:36.843Z","type":"join"}
{"nick":"trevnorris","message":"thanks. one sec","date":"2013-01-30T05:14:57.030Z","type":"message"}
{"nick":"bnoordhuis","message":"_ZTVN2v88internal20FastElementsAccessorINS0_31FastHoleyObjectElementsAccessorENS0_18ElementsKindTraitsILNS0_12ElementsKindE3EEELi4EEE <- c++ name mangling is so awful","date":"2013-01-30T05:17:10.279Z","type":"message"}
{"nick":"trevnorris","message":"heh, seriously. always have a hard time reading those.","date":"2013-01-30T05:20:02.439Z","type":"message"}
{"nick":"mmalecki","new_nick":"mmalecki[zzz]","date":"2013-01-30T05:20:24.077Z","type":"nick"}
{"nick":"trevnorris","message":"bnoordhuis: so not sure what's going on. v0.8 has 61% more minor page faults. neither have major page faults.","date":"2013-01-30T05:20:37.641Z","type":"message"}
{"nick":"bnoordhuis","message":"you actually get less page faults?","date":"2013-01-30T05:21:02.916Z","type":"message"}
{"nick":"bnoordhuis","message":"what's maxresident?","date":"2013-01-30T05:21:14.516Z","type":"message"}
{"nick":"trevnorris","message":"master - 274,352;  v0.8 - 176,424","date":"2013-01-30T05:22:04.788Z","type":"message"}
{"nick":"trevnorris","message":"also master has 72% more \"Voluntary context switches\"","date":"2013-01-30T05:22:27.679Z","type":"message"}
{"nick":"abraxas","date":"2013-01-30T05:22:33.586Z","type":"join"}
{"nick":"trevnorris","message":"minor page faults: master - 115,550;  v0.8 - 299,887","date":"2013-01-30T05:23:28.268Z","type":"message"}
{"nick":"trevnorris","message":"voluntary context switches: master - 68,479;  v0.8 - 18,830","date":"2013-01-30T05:24:07.491Z","type":"message"}
{"nick":"bnoordhuis","message":"right, i've seen that as well","date":"2013-01-30T05:24:26.834Z","type":"message"}
{"nick":"bnoordhuis","message":"but worse, more like 10x","date":"2013-01-30T05:24:49.671Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: var timer = require('bench-timer'); <- what's that?","date":"2013-01-30T05:25:28.024Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: the benchmark api i created for node.","date":"2013-01-30T05:26:34.724Z","type":"message"}
{"nick":"bnoordhuis","message":"ah right","date":"2013-01-30T05:26:50.064Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: isaacs had me make it an external: https://github.com/trevnorris/bench-timer","date":"2013-01-30T05:26:52.174Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-01-30T05:26:56.260Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-01-30T05:32:12.488Z","type":"nick"}
{"nick":"brson","date":"2013-01-30T05:39:59.813Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-01-30T05:47:16.719Z","type":"quit"}
{"nick":"trevnorris","message":"whoa. that ms_print takes a bit to get used to.","date":"2013-01-30T05:54:51.103Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ok. so massif is telling me memory peaked at 256MB for master and 162MB for v0.8","date":"2013-01-30T05:55:42.699Z","type":"message"}
{"nick":"trevnorris","message":"(if i'm reading it correctly)","date":"2013-01-30T05:56:13.000Z","type":"message"}
{"nick":"isaacs","message":"Raynos: lolz","date":"2013-01-30T05:58:33.052Z","type":"message"}
{"nick":"isaacs","message":"Raynos: Readable.wrap() is not a good idea here.","date":"2013-01-30T05:58:46.292Z","type":"message"}
{"nick":"mikeal","date":"2013-01-30T05:59:42.879Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: think i might be getting somewhere. bnoordhuis showed me massif, and the results are interesting. (or I could just be way confused by the ascii graphs)","date":"2013-01-30T06:01:31.666Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: install massif-visualizer, it gives you pretty images","date":"2013-01-30T06:02:52.936Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ah. thanks. those ascii graphs were awesomely retro.","date":"2013-01-30T06:03:20.086Z","type":"message"}
{"nick":"brson","reason":"Read error: Connection reset by peer","date":"2013-01-30T06:04:36.140Z","type":"quit"}
{"nick":"brson","date":"2013-01-30T06:04:44.192Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 255 seconds","date":"2013-01-30T06:08:47.543Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 248 seconds","date":"2013-01-30T06:10:28.775Z","type":"quit"}
{"nick":"mikeal","date":"2013-01-30T06:12:22.183Z","type":"join"}
{"nick":"isaacs","message":"nice","date":"2013-01-30T06:14:37.232Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: why are you up so early?","date":"2013-01-30T06:14:40.702Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: isn't it about dawn where you'er at?","date":"2013-01-30T06:14:45.512Z","type":"message"}
{"nick":"bnoordhuis","message":"it is and i'm not up early, i'm up late","date":"2013-01-30T06:15:06.829Z","type":"message"}
{"nick":"isaacs","message":"ouch","date":"2013-01-30T06:15:11.252Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: _ZTVN2v88internal20FastElementsAccessorINS0_31FastHoleyObjectElementsAccessorENS0_18ElementsKindTraitsILNS0_12ElementsKindE3EEELi4EEE <--it's like german","date":"2013-01-30T06:15:26.302Z","type":"message"}
{"nick":"isaacs","message":"Java, C++, and Deutsch","date":"2013-01-30T06:15:51.441Z","type":"message"}
{"nick":"isaacs","message":"just mash all the words together","date":"2013-01-30T06:15:57.921Z","type":"message"}
{"nick":"isaacs","message":"AbstractFactoryFactoryBeanSingletonFactoryInterfaceBeanFactory","date":"2013-01-30T06:16:17.201Z","type":"message"}
{"nick":"trevnorris","message":"master is spending a mother load of time in Buffer::Replace, which goes down to uv__stream_io, then uv__io_poll. but seriously don't know if this is useful.","date":"2013-01-30T06:18:57.712Z","type":"message"}
{"nick":"bradleymeck","date":"2013-01-30T06:19:22.541Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: and fwiw, Buffer.byteLength is crazy slow on utf8 string.","date":"2013-01-30T06:22:43.715Z","type":"message"}
{"nick":"bnoordhuis","message":"demangled names are not always an improvement... node::WrappedScript::EvalMachine<(node::WrappedScript::EvalInputFlags)0, (node::WrappedScript::EvalContextFlags)0, (node::WrappedScript::EvalOutputFlags)1>","date":"2013-01-30T06:28:21.363Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: mean anything that master's peaking at 256MB where v0.8 at 162MB?","date":"2013-01-30T06:31:26.071Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: yes, it means something is not okay","date":"2013-01-30T06:31:47.259Z","type":"message"}
{"nick":"bnoordhuis","message":"it might be v8, i've noticed that the gc in 3.15 is a lot more passive","date":"2013-01-30T06:32:04.764Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: http://code.google.com/p/v8/issues/detail?id=2483#c4","date":"2013-01-30T06:32:48.188Z","type":"message"}
{"nick":"paddybyers","date":"2013-01-30T06:32:52.108Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: yeah. that's the same % i'm seeing.","date":"2013-01-30T06:34:17.677Z","type":"message"}
{"nick":"bnoordhuis","message":"so yeah, there's a lot of factors :)","date":"2013-01-30T06:34:41.828Z","type":"message"}
{"nick":"bnoordhuis","message":"the good news is that whatever regression is in v8's gc seems to be fixed in 3.16","date":"2013-01-30T06:35:02.916Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: mean anything that in v0.8 ~70% of time after heap allocation is spent in \"v8::internal::Malloced::New\", but in master it spends 99% time in \"node::Buffer::Replace\"?","date":"2013-01-30T06:35:59.691Z","type":"message"}
{"nick":"trevnorris","message":"that's good to hear.","date":"2013-01-30T06:36:07.731Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, only we're shipping 3.15 so it doesn't help right away","date":"2013-01-30T06:36:53.464Z","type":"message"}
{"nick":"bnoordhuis","message":"re your question, i don't know. i don't think i've observed that","date":"2013-01-30T06:37:14.485Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: https://gist.github.com/4671224","date":"2013-01-30T06:39:07.464Z","type":"message"}
{"nick":"trevnorris","message":"let me updated that with equivalent timings","date":"2013-01-30T06:40:16.990Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: whoops. nm","date":"2013-01-30T06:41:32.682Z","type":"message"}
{"nick":"bnoordhuis","message":"bad benchmark? :)","date":"2013-01-30T06:41:42.413Z","type":"message"}
{"nick":"trevnorris","message":"the parts I posted were at different times. so one shows process startup stuff.","date":"2013-01-30T06:42:09.499Z","type":"message"}
{"nick":"trevnorris","message":"once I jumped to the same time spot they look pretty well the same.","date":"2013-01-30T06:42:22.064Z","type":"message"}
{"nick":"bnoordhuis","message":"right, that makes sense","date":"2013-01-30T06:42:33.626Z","type":"message"}
{"nick":"trevnorris","message":"though the total(B)","date":"2013-01-30T06:42:40.461Z","type":"message"}
{"nick":"trevnorris","message":"is interesting","date":"2013-01-30T06:42:43.696Z","type":"message"}
{"nick":"trevnorris","message":"like you said, in v0.8 it stays a lot more steady","date":"2013-01-30T06:42:51.891Z","type":"message"}
{"nick":"trevnorris","message":"where in master it jumps from 256MB to 25MB","date":"2013-01-30T06:43:02.880Z","type":"message"}
{"nick":"trevnorris","message":"i'll assume that just has to do with v8","date":"2013-01-30T06:44:47.480Z","type":"message"}
{"nick":"bnoordhuis","message":"quite possibly","date":"2013-01-30T06:44:54.144Z","type":"message"}
{"nick":"bnoordhuis","message":"but it could also be something that libuv does","date":"2013-01-30T06:45:01.520Z","type":"message"}
{"nick":"bnoordhuis","message":"iirc i tried downgrading libuv and the issue was less severe","date":"2013-01-30T06:45:34.761Z","type":"message"}
{"nick":"bnoordhuis","message":"though admittedly i'm not 100% sure if i'm remembering this correctly","date":"2013-01-30T06:45:52.796Z","type":"message"}
{"nick":"trevnorris","message":"hm in master it goes: uv__stream_io -> uv__io_poll -> uv_run; in v0.8 it's uv__stream_io -> ev_invoke_pending -> uv__run -> uv_run","date":"2013-01-30T06:46:53.999Z","type":"message"}
{"nick":"trevnorris","message":"that just an api change?","date":"2013-01-30T06:46:56.896Z","type":"message"}
{"nick":"trevnorris","message":"other than that part, the call stack is exactly the same.","date":"2013-01-30T06:48:37.198Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, api change. libev got dropped in master","date":"2013-01-30T06:49:51.914Z","type":"message"}
{"nick":"bnoordhuis","message":"there was much rejoicing","date":"2013-01-30T06:50:03.378Z","type":"message"}
{"nick":"trevnorris","message":"heh, awesome.","date":"2013-01-30T06:50:14.631Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-01-30T06:54:42.943Z","type":"quit"}
{"nick":"bnoordhuis","message":"suspect-read,Object,\"domain\" <- i'm never sure what to make of these","date":"2013-01-30T06:55:23.198Z","type":"message"}
{"nick":"bnoordhuis","message":"it means a LoadIC somehow failed","date":"2013-01-30T06:55:34.550Z","type":"message"}
{"nick":"bnoordhuis","message":"but it also happens for builtins","date":"2013-01-30T06:55:39.421Z","type":"message"}
{"nick":"bnoordhuis","message":"e.g. suspect-read,Array,\"toJSON\" (multiple times usually)","date":"2013-01-30T06:55:54.464Z","type":"message"}
{"nick":"bnoordhuis","message":"there is no Array.prototype.toJSON, of course","date":"2013-01-30T06:56:42.355Z","type":"message"}
{"nick":"bnoordhuis","message":"so i wonder where that comes from","date":"2013-01-30T06:56:46.627Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-01-30T06:58:32.313Z","type":"quit"}
{"nick":"bnoordhuis","message":"ha, hm. looks like JSON.stringify([]) triggers it","date":"2013-01-30T06:58:54.993Z","type":"message"}
{"nick":"trevnorris","message":"where's that called?","date":"2013-01-30T06:59:58.540Z","type":"message"}
{"nick":"bnoordhuis","message":"not sure where it comes from in the first v8.log where i spotted it","date":"2013-01-30T07:00:27.817Z","type":"message"}
{"nick":"bnoordhuis","message":"but if you run `node --prof --log_all -e 'JSON.stringify({})'` and grep the log for suspect-read","date":"2013-01-30T07:00:51.672Z","type":"message"}
{"nick":"bnoordhuis","message":"you'll find what i mean. replace {} with [] or something else to observe the difference","date":"2013-01-30T07:01:19.802Z","type":"message"}
{"nick":"trevnorris","message":"i'm running tcp_raw_c2s with `--trace-opt --trace-deopt --trace-inlining --code-comments`","date":"2013-01-30T07:01:57.575Z","type":"message"}
{"nick":"trevnorris","message":"in v0.8 just has a lot of happy \"marking ... for recompilation\"","date":"2013-01-30T07:02:13.410Z","type":"message"}
{"nick":"trevnorris","message":"but on master it pukes everywhere","date":"2013-01-30T07:02:20.942Z","type":"message"}
{"nick":"bnoordhuis","message":"in what sense?","date":"2013-01-30T07:02:31.165Z","type":"message"}
{"nick":"trevnorris","message":"**** DEOPT: process._makeCallback at bailout","date":"2013-01-30T07:02:46.094Z","type":"message"}
{"nick":"trevnorris","message":"Did not inline apply called from process._makeCallback","date":"2013-01-30T07:02:53.498Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2013-01-30T07:02:59.137Z","type":"message"}
{"nick":"bnoordhuis","message":"i think _makeCallback changed quite a bit between v0.8 and now","date":"2013-01-30T07:03:17.899Z","type":"message"}
{"nick":"trevnorris","message":"also the use of call and apply is kicking us in the nuts","date":"2013-01-30T07:03:19.972Z","type":"message"}
{"nick":"isaacs","message":"nice find!","date":"2013-01-30T07:04:10.142Z","type":"message"}
{"nick":"isaacs","message":"yes, if makeCallback is sucking, then that is a huge nut kick","date":"2013-01-30T07:04:18.812Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. every half screen it's DEOPT","date":"2013-01-30T07:04:44.797Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: interesting","date":"2013-01-30T07:05:00.507Z","type":"message"}
{"nick":"isaacs","message":"what can we do to get that not being deopted?","date":"2013-01-30T07:05:14.051Z","type":"message"}
{"nick":"trevnorris","message":"i'll look at the code. give me a few.","date":"2013-01-30T07:05:26.468Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: also, v8 strangeness. if call or apply is in your function, even if it's not used, it will be marked as not inlineable","date":"2013-01-30T07:06:56.529Z","type":"message"}
{"nick":"indexzero","date":"2013-01-30T07:08:32.939Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: weird.","date":"2013-01-30T07:10:08.318Z","type":"message"}
{"nick":"isaacs","message":"stupid \"this\"","date":"2013-01-30T07:10:26.388Z","type":"message"}
{"nick":"trevnorris","message":"yeah. v8 has really strange things. like the number of characters in your function also determines if it's inlineable","date":"2013-01-30T07:10:38.374Z","type":"message"}
{"nick":"isaacs","message":"wild","date":"2013-01-30T07:11:10.917Z","type":"message"}
{"nick":"isaacs","message":"would it be worth checking the arg count?","date":"2013-01-30T07:11:19.047Z","type":"message"}
{"nick":"isaacs","message":"most of the time, makeCallback is called with 0 or 1 args","date":"2013-01-30T07:11:29.177Z","type":"message"}
{"nick":"trevnorris","message":"probably not. i'm tracing the logic now.","date":"2013-01-30T07:12:26.931Z","type":"message"}
{"nick":"isaacs","message":"i wonder if we could reduce reliance on the obj this-context as well.","date":"2013-01-30T07:12:47.976Z","type":"message"}
{"nick":"`3rdEden","date":"2013-01-30T07:13:20.897Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-01-30T07:14:16.425Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: oh, i'm dumb.","date":"2013-01-30T07:15:43.134Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we can get the apply out of there.","date":"2013-01-30T07:15:49.324Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: quite easily, actually.","date":"2013-01-30T07:15:54.094Z","type":"message"}
{"nick":"trevnorris","message":"awesome.","date":"2013-01-30T07:15:58.640Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: we just have to make sure we aren't passing any arbitrary methods in there, that aren't attached to the obj.","date":"2013-01-30T07:16:16.944Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but most of the time, it's stuff like node::MakeCallback(handleObject, \"oncomplete\", argv);","date":"2013-01-30T07:16:38.724Z","type":"message"}
{"nick":"isaacs","message":"testing now","date":"2013-01-30T07:20:38.721Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: v8 question. why is process_makeCallback a Persistent function when it's returned through scope.Close()?","date":"2013-01-30T07:21:33.849Z","type":"message"}
{"nick":"isaacs","message":"um.  i dunno","date":"2013-01-30T07:21:50.660Z","type":"message"}
{"nick":"isaacs","message":"when is it returned through scope.Close?","date":"2013-01-30T07:22:12.990Z","type":"message"}
{"nick":"isaacs","message":"i thought we just closed over the return value","date":"2013-01-30T07:22:37.270Z","type":"message"}
{"nick":"trevnorris","message":"oh. just saw that process_makeCallback is declared at the top. ","date":"2013-01-30T07:23:32.555Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: try this patch: https://github.com/isaacs/node/commit/mc-noapply","date":"2013-01-30T07:23:53.829Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: does that make things happier?","date":"2013-01-30T07:23:59.469Z","type":"message"}
{"nick":"trevnorris","message":"it's returned through scope.Close() in MakeCallback (node.cc L964)","date":"2013-01-30T07:24:07.260Z","type":"message"}
{"nick":"isaacs","message":"you mean this?   return scope.Close(ret);","date":"2013-01-30T07:25:08.769Z","type":"message"}
{"nick":"felixge","date":"2013-01-30T07:25:13.271Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2013-01-30T07:25:13.482Z","type":"quit"}
{"nick":"felixge","date":"2013-01-30T07:25:13.611Z","type":"join"}
{"nick":"trevnorris","message":"yeah","date":"2013-01-30T07:26:10.142Z","type":"message"}
{"nick":"trevnorris","message":"wait. nm","date":"2013-01-30T07:26:16.927Z","type":"message"}
{"nick":"trevnorris","message":"freaking. screen's starting to blur","date":"2013-01-30T07:26:26.397Z","type":"message"}
{"nick":"trevnorris","message":"(well, my eyes are at least)","date":"2013-01-30T07:26:35.398Z","type":"message"}
{"nick":"isaacs","message":"probably it's bedtime, i think","date":"2013-01-30T07:26:47.787Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i can't see any massive change from this _makeCallback change, but it doesn't break anything","date":"2013-01-30T07:28:06.567Z","type":"message"}
{"nick":"isaacs","message":"and it does remove a .apply() from some relatively hot code.","date":"2013-01-30T07:28:15.866Z","type":"message"}
{"nick":"isaacs","message":"so that's probably good","date":"2013-01-30T07:28:18.136Z","type":"message"}
{"nick":"isaacs","message":"i'll make an honest PR out of it","date":"2013-01-30T07:28:22.536Z","type":"message"}
{"nick":"trevnorris","message":"yeah. sounds good. it's less noisy, so it's a start.","date":"2013-01-30T07:28:53.236Z","type":"message"}
{"nick":"felixge","reason":"Ping timeout: 252 seconds","date":"2013-01-30T07:29:59.135Z","type":"quit"}
{"nick":"rendar","date":"2013-01-30T07:30:58.679Z","type":"join"}
{"nick":"isaacs","message":"https://github.com/joyent/node/pull/4686","date":"2013-01-30T07:31:32.984Z","type":"message"}
{"nick":"isaacs","message":"and with that, i'm off.","date":"2013-01-30T07:32:57.373Z","type":"message"}
{"nick":"isaacs","action":"&","date":"2013-01-30T07:32:59.223Z","type":"action"}
{"nick":"LOUDBOT","message":"WAR START FROM ADAM WHEN CAIN HE KILLED ABEL UNTIL NOW. IT'S NEVER GONNA STOP KILLING OF PEOPLE.","date":"2013-01-30T07:32:59.605Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: still have .apply in the function. just because it exists it'll mark for deopt. stupid I know.","date":"2013-01-30T07:34:47.805Z","type":"message"}
{"nick":"trevnorris","message":"um. shouldn't the end of node.js be with a `}());` or something (not a `});`) but guess it still works.","date":"2013-01-30T07:39:45.192Z","type":"message"}
{"nick":"felixge","date":"2013-01-30T07:40:12.444Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 264 seconds","date":"2013-01-30T07:41:30.114Z","type":"quit"}
{"nick":"indutny","message":"whoa","date":"2013-01-30T07:43:02.300Z","type":"message"}
{"nick":"indutny","message":"a lot of logs","date":"2013-01-30T07:43:03.893Z","type":"message"}
{"nick":"indutny","message":"good morning","date":"2013-01-30T07:43:06.221Z","type":"message"}
{"nick":"kristate","reason":"Remote host closed the connection","date":"2013-01-30T07:51:33.507Z","type":"quit"}
{"nick":"bradleymeck_","date":"2013-01-30T07:52:00.851Z","type":"join"}
{"nick":"kristate","date":"2013-01-30T07:53:34.359Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 255 seconds","date":"2013-01-30T07:54:38.465Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-01-30T07:54:38.620Z","type":"nick"}
{"nick":"paddybyers","date":"2013-01-30T07:57:02.064Z","type":"join"}
{"nick":"pooya","reason":"Ping timeout: 245 seconds","date":"2013-01-30T07:57:31.057Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u0002f64d1fe\u0002 : lint - http://git.io/adJ09A","date":"2013-01-30T07:57:41.497Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-01-30T07:59:40.788Z","type":"quit"}
{"nick":"trevnorris","message":"indutny: heh, nice bugzilla link","date":"2013-01-30T08:11:04.133Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-01-30T08:12:44.814Z","type":"quit"}
{"nick":"indutny","message":"trevnorris: that's what I'm doing in my free time","date":"2013-01-30T08:15:43.413Z","type":"message"}
{"nick":"indutny","message":"filing issues everywhere","date":"2013-01-30T08:15:48.890Z","type":"message"}
{"nick":"trevnorris","message":"heh, sounds like a blast.","date":"2013-01-30T08:16:00.391Z","type":"message"}
{"nick":"trevnorris","message":"indutny: you understand _makeCallback?","date":"2013-01-30T08:17:36.697Z","type":"message"}
{"nick":"indutny","message":"I think so","date":"2013-01-30T08:17:42.988Z","type":"message"}
{"nick":"trevnorris","message":"why does it check for domain at the top, then again at the bottom?","date":"2013-01-30T08:17:58.713Z","type":"message"}
{"nick":"indutny","message":"gtg :)","date":"2013-01-30T08:19:10.679Z","type":"message"}
{"nick":"indutny","message":"will reply later","date":"2013-01-30T08:19:13.699Z","type":"message"}
{"nick":"trevnorris","message":"ok np","date":"2013-01-30T08:19:17.925Z","type":"message"}
{"nick":"hz","date":"2013-01-30T08:22:43.422Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 240 seconds","date":"2013-01-30T08:27:11.031Z","type":"quit"}
{"nick":"paddybyers","date":"2013-01-30T08:28:24.050Z","type":"join"}
{"nick":"bradleymeck_","date":"2013-01-30T08:33:21.104Z","type":"join"}
{"nick":"trevnorris","message":"whoot! found most the regression!","date":"2013-01-30T08:34:35.243Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ^","date":"2013-01-30T08:34:41.202Z","type":"message"}
{"nick":"kristate","reason":"Remote host closed the connection","date":"2013-01-30T08:34:47.060Z","type":"quit"}
{"nick":"bradleymeck","reason":"Ping timeout: 272 seconds","date":"2013-01-30T08:36:46.839Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-01-30T08:36:46.972Z","type":"nick"}
{"nick":"trevnorris","message":"isaacs: those domain conditionals are causing a huge amount of bailout. comment those out and you should see a difference.","date":"2013-01-30T08:37:54.308Z","type":"message"}
{"nick":"trevnorris","message":"sorry, shouldn't have said regression. should have said bailout.","date":"2013-01-30T08:39:22.151Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: re _makeCallback and domains, it enters the domain and the top and exits again at, well, exit","date":"2013-01-30T08:41:44.789Z","type":"message"}
{"nick":"trevnorris","message":"ah, ok.","date":"2013-01-30T08:41:59.452Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-01-30T08:52:54.444Z","type":"quit"}
{"nick":"googol","reason":"Ping timeout: 276 seconds","date":"2013-01-30T08:57:36.858Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 240 seconds","date":"2013-01-30T08:58:41.069Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: morning, ben","date":"2013-01-30T08:59:50.849Z","type":"message"}
{"nick":"wolfeidau","date":"2013-01-30T08:59:52.731Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: morning fedor","date":"2013-01-30T08:59:59.914Z","type":"message"}
{"nick":"indutny","message":"how are you?","date":"2013-01-30T09:00:12.213Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm fine. you?","date":"2013-01-30T09:02:21.460Z","type":"message"}
{"nick":"indutny","message":"fine too","date":"2013-01-30T09:03:51.985Z","type":"message"}
{"nick":"brson","date":"2013-01-30T09:08:33.748Z","type":"join"}
{"nick":"trevnorris","message":"wtf? in process.nextTick we push an object to an array, then conditional immediately after to see if it has a length?","date":"2013-01-30T09:15:42.487Z","type":"message"}
{"nick":"indutny","message":"and?","date":"2013-01-30T09:16:32.913Z","type":"message"}
{"nick":"indutny","message":"what's up with this?","date":"2013-01-30T09:16:36.859Z","type":"message"}
{"nick":"trevnorris","message":"if we push and object to it, then it will always have a length","date":"2013-01-30T09:16:42.924Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2013-01-30T09:16:47.548Z","type":"message"}
{"nick":"indutny","message":"I see your point","date":"2013-01-30T09:16:49.670Z","type":"message"}
{"nick":"indutny","message":"yes, pretty odd","date":"2013-01-30T09:17:00.118Z","type":"message"}
{"nick":"trevnorris","message":"and that domain stuff is causing deopt bailouts all over the place.","date":"2013-01-30T09:17:20.662Z","type":"message"}
{"nick":"indutny","message":"also my suggestion would be moving all scope variables inside process","date":"2013-01-30T09:17:30.522Z","type":"message"}
{"nick":"indutny","message":"this should improve performance too","date":"2013-01-30T09:17:35.910Z","type":"message"}
{"nick":"trevnorris","message":"good point","date":"2013-01-30T09:17:39.984Z","type":"message"}
{"nick":"trevnorris","message":"also, we've got to loose splice.","date":"2013-01-30T09:17:48.514Z","type":"message"}
{"nick":"trevnorris","message":"indutny: know what the argument \"fromSpinner\" could be on _tickCallback?","date":"2013-01-30T09:35:35.413Z","type":"message"}
{"nick":"indutny","message":"trevnorris: `true`","date":"2013-01-30T09:37:56.804Z","type":"message"}
{"nick":"trevnorris","message":"i'll assume that gets called from cc land?","date":"2013-01-30T09:38:28.095Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2013-01-30T09:44:29.247Z","type":"message"}
{"nick":"indutny","message":"node.cc","date":"2013-01-30T09:44:30.067Z","type":"message"}
{"nick":"indutny","message":"line 182","date":"2013-01-30T09:44:38.766Z","type":"message"}
{"nick":"trevnorris","message":"awesome. thanks.","date":"2013-01-30T09:46:27.158Z","type":"message"}
{"nick":"trevnorris","message":"indutny: also, why are we creating '{ callback: [callback] }'? why not just push the function and call it? don't see that object being used anywhere else.","date":"2013-01-30T09:55:56.328Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2013-01-30T10:15:48.761Z","type":"quit"}
{"nick":"mmalecki[zzz]","new_nick":"mmalecki","date":"2013-01-30T10:24:51.204Z","type":"nick"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-01-30T10:56:25.998Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-01-30T11:05:24.318Z","type":"quit"}
{"nick":"abraxas","date":"2013-01-30T11:05:59.602Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2013-01-30T11:11:00.421Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-01-30T11:29:56.332Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-01-30T11:45:51.569Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-01-30T11:46:23.893Z","type":"join"}
{"nick":"saghul","reason":"Quit: Bye!","date":"2013-01-30T11:46:48.187Z","type":"quit"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-01-30T11:48:04.207Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-01-30T11:58:28.598Z","type":"quit"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-01-30T12:19:45.945Z","type":"quit"}
{"nick":"hz","date":"2013-01-30T12:22:39.415Z","type":"join"}
{"nick":"sgallagh","date":"2013-01-30T12:50:48.324Z","type":"join"}
{"nick":"bnoordhuis","message":"the v8 people just landed a concurrent gc: https://github.com/v8/v8/commit/666d023","date":"2013-01-30T12:51:15.118Z","type":"message"}
{"nick":"indutny","message":"huuuh","date":"2013-01-30T12:53:31.910Z","type":"message"}
{"nick":"indutny","message":"concurrent gc?","date":"2013-01-30T12:53:33.983Z","type":"message"}
{"nick":"indutny","message":"you kidding","date":"2013-01-30T12:53:35.553Z","type":"message"}
{"nick":"indutny","message":"oh good","date":"2013-01-30T12:53:40.541Z","type":"message"}
{"nick":"indutny","message":"still it needs to run mark-compact periodically","date":"2013-01-30T12:55:02.985Z","type":"message"}
{"nick":"indutny","message":"which basically means synchronization","date":"2013-01-30T13:04:16.164Z","type":"message"}
{"nick":"indutny","message":"whoa","date":"2013-01-30T13:04:21.824Z","type":"message"}
{"nick":"indutny","message":"its still very interesting","date":"2013-01-30T13:04:32.119Z","type":"message"}
{"nick":"stephank","reason":"Ping timeout: 240 seconds","date":"2013-01-30T13:16:40.705Z","type":"quit"}
{"nick":"jmar777","date":"2013-01-30T13:56:31.972Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-01-30T14:41:03.208Z","type":"quit"}
{"nick":"sgallagh","date":"2013-01-30T14:45:46.079Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-01-30T15:16:50.644Z","type":"quit"}
{"nick":"c4milo","date":"2013-01-30T15:38:32.007Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-01-30T15:57:07.409Z","type":"quit"}
{"nick":"sgallagh","date":"2013-01-30T15:57:26.905Z","type":"join"}
{"nick":"kristate","date":"2013-01-30T15:59:04.489Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-01-30T15:59:38.691Z","type":"quit"}
{"nick":"jokester","reason":"Read error: Connection reset by peer","date":"2013-01-30T16:03:06.314Z","type":"quit"}
{"nick":"jokester","date":"2013-01-30T16:03:36.178Z","type":"join"}
{"nick":"qmx","new_nick":"qmx|lunch","date":"2013-01-30T16:04:40.586Z","type":"nick"}
{"nick":"pooya","date":"2013-01-30T16:06:00.581Z","type":"join"}
{"nick":"isaacs","message":"good morning","date":"2013-01-30T16:08:33.724Z","type":"message"}
{"nick":"sgallagh","date":"2013-01-30T16:10:16.029Z","type":"join"}
{"nick":"bnoordhuis","message":"evening isaac","date":"2013-01-30T16:18:13.582Z","type":"message"}
{"nick":"kristate","reason":"Remote host closed the connection","date":"2013-01-30T16:18:22.288Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-01-30T16:19:43.500Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: thoughts on https://github.com/joyent/node/pull/4686?","date":"2013-01-30T16:21:44.625Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: looks okay to me in principle but i haven't benchmarked it or anything","date":"2013-01-30T16:22:50.537Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-01-30T16:23:35.724Z","type":"message"}
{"nick":"isaacs","message":"i don't see much difference, really","date":"2013-01-30T16:23:43.164Z","type":"message"}
{"nick":"isaacs","message":"we visit makeCallback a lot, but it's already pretty fast, deopt or not","date":"2013-01-30T16:24:23.954Z","type":"message"}
{"nick":"AvianFlu","date":"2013-01-30T16:40:45.124Z","type":"join"}
{"nick":"isaacs","message":"So, I think the proposed date for 0.10 is going to have to be pushed back a bit.  Looing at February right now.","date":"2013-01-30T16:43:57.621Z","type":"message"}
{"nick":"isaacs","message":"*looking","date":"2013-01-30T16:44:01.331Z","type":"message"}
{"nick":"isaacs","message":"Too much still to do, and we're still too slow.","date":"2013-01-30T16:44:06.812Z","type":"message"}
{"nick":"indutny","message":"CryptoStream is a bit of pain :)","date":"2013-01-30T16:44:20.300Z","type":"message"}
{"nick":"isaacs","message":"yes","date":"2013-01-30T16:44:29.120Z","type":"message"}
{"nick":"isaacs","message":"it is","date":"2013-01-30T16:44:30.030Z","type":"message"}
{"nick":"isaacs","message":"i'm thinking about it.  i think tomorrow i can write it.","date":"2013-01-30T16:44:36.410Z","type":"message"}
{"nick":"indutny","message":"well, I'd like to do it myself :)","date":"2013-01-30T16:44:47.056Z","type":"message"}
{"nick":"isaacs","message":"oh, ok :)","date":"2013-01-30T16:44:53.070Z","type":"message"}
{"nick":"indutny","message":"but if you can do it fast","date":"2013-01-30T16:44:55.400Z","type":"message"}
{"nick":"isaacs","message":"be my guest :)","date":"2013-01-30T16:44:56.890Z","type":"message"}
{"nick":"indutny","message":"probably its worth trying :)","date":"2013-01-30T16:45:02.978Z","type":"message"}
{"nick":"isaacs","message":"we can have a race :) I think that the CleartextStream and EncryptedStream","date":"2013-01-30T16:45:14.260Z","type":"message"}
{"nick":"indutny","message":"because I'll definitely waste some times","date":"2013-01-30T16:45:15.044Z","type":"message"}
{"nick":"isaacs","message":"both need to be a Duplex, right?","date":"2013-01-30T16:45:21.050Z","type":"message"}
{"nick":"indutny","message":"surely yes","date":"2013-01-30T16:45:27.125Z","type":"message"}
{"nick":"isaacs","message":"and their write() side just has to be connected to the other guy's read buffer.","date":"2013-01-30T16:45:43.450Z","type":"message"}
{"nick":"indutny","message":"erm... not exactly","date":"2013-01-30T16:45:53.570Z","type":"message"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-01-30T16:45:54.829Z","type":"quit"}
{"nick":"isaacs","message":"not exactly","date":"2013-01-30T16:45:58.280Z","type":"message"}
{"nick":"isaacs","message":"but through openssl","date":"2013-01-30T16:46:00.159Z","type":"message"}
{"nick":"indutny","message":"well, yes","date":"2013-01-30T16:46:04.440Z","type":"message"}
{"nick":"indutny","message":"but not every write() results in addition to read buffer","date":"2013-01-30T16:46:24.875Z","type":"message"}
{"nick":"indutny","message":"and not every addition to read buffer was caused by write()","date":"2013-01-30T16:46:47.508Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-01-30T16:47:00.151Z","type":"message"}
{"nick":"indutny","message":"so... its more like two buffering streams","date":"2013-01-30T16:47:02.810Z","type":"message"}
{"nick":"indutny","message":"and openssl reads and writes from/to both of them","date":"2013-01-30T16:47:13.470Z","type":"message"}
{"nick":"isaacs","message":"write(chunk) pushes it down to openssl, and when openssl has data for us, we put it into the readable buffer side","date":"2013-01-30T16:47:26.019Z","type":"message"}
{"nick":"stephank","date":"2013-01-30T16:47:52.533Z","type":"join"}
{"nick":"isaacs","message":"we could even keep a very thing with the pair.cycle() function, and just attach the streams2 machinery on top of it, but it's a bit odd.","date":"2013-01-30T16:48:01.189Z","type":"message"}
{"nick":"isaacs","message":"since cycle() will always pull as much as possible and always push as much as possible.","date":"2013-01-30T16:48:11.358Z","type":"message"}
{"nick":"isaacs","message":"so it'd basically just need to do different stuff with where it puts the data","date":"2013-01-30T16:48:36.208Z","type":"message"}
{"nick":"indutny","message":"I think so, yes","date":"2013-01-30T16:48:44.908Z","type":"message"}
{"nick":"indutny","message":"basically every stream should try to pull on ._read()","date":"2013-01-30T16:48:55.348Z","type":"message"}
{"nick":"indutny","message":"and should try to push on ._write()","date":"2013-01-30T16:49:01.868Z","type":"message"}
{"nick":"isaacs","message":"yes","date":"2013-01-30T16:49:05.737Z","type":"message"}
{"nick":"isaacs","message":"and when there's data, we do ret=stream.push(chunk) and if ret is false, we stop","date":"2013-01-30T16:49:18.537Z","type":"message"}
{"nick":"isaacs","message":"that's like the _paused flag.","date":"2013-01-30T16:49:27.087Z","type":"message"}
{"nick":"indutny","message":"you want to preserve most of the existing logic?","date":"2013-01-30T16:50:06.888Z","type":"message"}
{"nick":"isaacs","message":"well, i mean, it works","date":"2013-01-30T16:50:14.651Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-01-30T16:50:19.210Z","type":"join"}
{"nick":"indutny","message":"yeah","date":"2013-01-30T16:50:33.144Z","type":"message"}
{"nick":"isaacs","message":"we just have to change the surface interface, and that means we'll have to change when push/pull get called.","date":"2013-01-30T16:50:38.787Z","type":"message"}
{"nick":"indutny","message":"this is good idea","date":"2013-01-30T16:50:39.696Z","type":"message"}
{"nick":"bnoordhuis","message":"ssssh, bert's back","date":"2013-01-30T16:50:45.188Z","type":"message"}
{"nick":"indutny","message":"isaacs: so I told them, you guys are morons","date":"2013-01-30T16:51:07.568Z","type":"message"}
{"nick":"indutny","message":"and they told me \"yeah, we're\"","date":"2013-01-30T16:51:20.401Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: hi!","date":"2013-01-30T16:51:24.047Z","type":"message"}
{"nick":"isaacs","action":"wants to hear the rest of this fake conversation, it's way more interesting than talking about CryptoStreams","date":"2013-01-30T16:51:45.316Z","type":"action"}
{"nick":"indutny","message":"man, don't tell me about interesting stuff","date":"2013-01-30T16:52:54.050Z","type":"message"}
{"nick":"indutny","message":"I'm sitting alone in the car","date":"2013-01-30T16:53:00.843Z","type":"message"}
{"nick":"indutny","message":"and will sit here for almost 1.5 hours","date":"2013-01-30T16:53:07.478Z","type":"message"}
{"nick":"isaacs","message":"indutny: gathering benchmarks for mc-noapply now","date":"2013-01-30T16:53:12.455Z","type":"message"}
{"nick":"indutny","message":"god thanks I've 3g internet with me","date":"2013-01-30T16:53:12.647Z","type":"message"}
{"nick":"isaacs","message":"indutny: ??","date":"2013-01-30T16:53:16.235Z","type":"message"}
{"nick":"isaacs","message":"indutny: i thought you had a home","date":"2013-01-30T16:53:19.895Z","type":"message"}
{"nick":"indutny","message":"I'm waiting for my wife to get there","date":"2013-01-30T16:53:35.489Z","type":"message"}
{"nick":"indutny","message":"and she'll come 1.5h later","date":"2013-01-30T16:53:43.283Z","type":"message"}
{"nick":"isaacs","message":"ah","date":"2013-01-30T16:56:01.973Z","type":"message"}
{"nick":"indutny","message":"about cryptostreams","date":"2013-01-30T16:56:04.407Z","type":"message"}
{"nick":"indutny","message":"I just realized that tlsnappy doesn't have write callback","date":"2013-01-30T16:56:12.294Z","type":"message"}
{"nick":"indutny","message":"interesting :)","date":"2013-01-30T16:56:17.695Z","type":"message"}
{"nick":"indutny","message":"things are much simplier without it","date":"2013-01-30T16:56:33.888Z","type":"message"}
{"nick":"isaacs","message":"we don't actually use that anywhere","date":"2013-01-30T16:56:34.132Z","type":"message"}
{"nick":"isaacs","message":"but it was a part of the API early on","date":"2013-01-30T16:56:40.372Z","type":"message"}
{"nick":"isaacs","message":"until streams2, it was used really inconsistently","date":"2013-01-30T16:56:48.023Z","type":"message"}
{"nick":"indutny","message":"well, now its used in streams2","date":"2013-01-30T16:56:51.192Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-01-30T16:56:54.022Z","type":"message"}
{"nick":"isaacs","message":"some streams called the cb when it was dispatched, others when it was flushed","date":"2013-01-30T16:57:09.502Z","type":"message"}
{"nick":"pooya","date":"2013-01-30T16:58:26.296Z","type":"join"}
{"nick":"indutny","message":"yes","date":"2013-01-30T16:58:46.900Z","type":"message"}
{"nick":"indutny","message":"pretty inconsistent","date":"2013-01-30T16:58:50.565Z","type":"message"}
{"nick":"isaacs","message":"indutny: re mc-noapply: https://docs.google.com/spreadsheet/ccc?key=0AganzoeqkiHddE9uRlA5WS0xSF9NTGN1QS0zZ3FRSWc#gid=8","date":"2013-01-30T17:00:49.610Z","type":"message"}
{"nick":"isaacs","message":"only a 1.5% increase in http_simple","date":"2013-01-30T17:00:55.154Z","type":"message"}
{"nick":"isaacs","message":"but i'm seeing it pretty consistently","date":"2013-01-30T17:01:00.120Z","type":"message"}
{"nick":"isaacs","message":"so, not enough to look at and go WOW! but enough to be worth some ugly unrolled code, i guess.","date":"2013-01-30T17:01:21.200Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2013-01-30T17:02:48.475Z","type":"message"}
{"nick":"indutny","message":"seems to be legit","date":"2013-01-30T17:03:00.312Z","type":"message"}
{"nick":"isaacs","message":"lgty?","date":"2013-01-30T17:04:21.508Z","type":"message"}
{"nick":"indutny","message":"let me take a look at code once again","date":"2013-01-30T17:04:46.708Z","type":"message"}
{"nick":"isaacs","message":"oh, let me see if it's a bigger diff with a smaller buffer size","date":"2013-01-30T17:06:01.957Z","type":"message"}
{"nick":"indutny","message":"sure","date":"2013-01-30T17:06:23.537Z","type":"message"}
{"nick":"indexzero","date":"2013-01-30T17:07:13.182Z","type":"join"}
{"nick":"indutny","message":"otherwise lgtm","date":"2013-01-30T17:08:18.581Z","type":"message"}
{"nick":"indutny","message":"why have you removed one MakeCallback()?","date":"2013-01-30T17:08:45.626Z","type":"message"}
{"nick":"isaacs","message":"because you call it now only with a string, never with a function reference","date":"2013-01-30T17:10:44.404Z","type":"message"}
{"nick":"isaacs","message":"so we do obj[fn](arg, arg, arg)","date":"2013-01-30T17:10:52.574Z","type":"message"}
{"nick":"isaacs","message":"instead of fn.apply(obj, args)","date":"2013-01-30T17:10:56.363Z","type":"message"}
{"nick":"isaacs","message":"or fn.call(obj, arg, arg)","date":"2013-01-30T17:11:09.400Z","type":"message"}
{"nick":"isaacs","message":"yeah, i'ts a 2.6% increase with LENGTH=1","date":"2013-01-30T17:11:53.583Z","type":"message"}
{"nick":"isaacs","message":"which makes sense, since that's spending more time in JS and less in IO","date":"2013-01-30T17:12:03.163Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-01-30T17:13:47.300Z","type":"message"}
{"nick":"indutny","message":"ok, lgtm","date":"2013-01-30T17:13:51.887Z","type":"message"}
{"nick":"indutny","message":"I suppose test are passing","date":"2013-01-30T17:13:59.359Z","type":"message"}
{"nick":"dap","date":"2013-01-30T17:19:55.553Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: hi!","date":"2013-01-30T17:25:15.236Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh shit","date":"2013-01-30T17:25:19.248Z","type":"message"}
{"nick":"isaacs","message":"indutny: yes, all tests are passing","date":"2013-01-30T17:27:11.692Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00020168109\u0002 : node: Do not use fn.apply() in process._makeCallback - http://git.io/767Leg","date":"2013-01-30T17:27:18.659Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037master\u000f * \u00023759d71\u0002 : win: get rid of early ipv6 support detection  No longer explictly check w (+7 more commits) - http://git.io/BohVOw","date":"2013-01-30T17:27:59.697Z","type":"message"}
{"nick":"trevnorris","date":"2013-01-30T17:30:12.000Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: landed the no-apply thing","date":"2013-01-30T17:30:52.979Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but it's not a huge improvement further up the stack","date":"2013-01-30T17:31:03.070Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: awesome. ","date":"2013-01-30T17:31:08.150Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: the biggest problem with bailouts comes from those domain checks.","date":"2013-01-30T17:31:19.999Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: I suspect that tickCallback will be similar.","date":"2013-01-30T17:31:20.689Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: is there a way to get the same functionality without the bailouts?","date":"2013-01-30T17:31:43.899Z","type":"message"}
{"nick":"isaacs","message":"i mean, it's nice to start hacking off features to get us 1-3% speed boosts, but people will be upset.","date":"2013-01-30T17:32:07.209Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i'll look into it. right now I've just taken them out for testing.","date":"2013-01-30T17:32:16.300Z","type":"message"}
{"nick":"isaacs","message":"if we were going to do that, we'd be better off ditching streams.  (not streams2.  streams entirely.)","date":"2013-01-30T17:32:27.579Z","type":"message"}
{"nick":"isaacs","message":"good news!  http is 80% faster!","date":"2013-01-30T17:32:44.548Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-01-30T17:32:49.833Z","type":"message"}
{"nick":"isaacs","message":"(bad news: we've replaced require('http') with process.binding('http_parser')","date":"2013-01-30T17:32:57.658Z","type":"message"}
{"nick":"trevnorris","message":"i think we can get that worked out.","date":"2013-01-30T17:33:21.445Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: if you can help me understand startup.nextTick better, think I can get there.","date":"2013-01-30T17:33:55.293Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, basicaly, if there's a domain, we enter it","date":"2013-01-30T17:34:29.027Z","type":"message"}
{"nick":"trevnorris","message":"in PR-4687 what i'm trying to do is create an array or arrays. each one its own stack","date":"2013-01-30T17:34:35.612Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: sure, i saw that.","date":"2013-01-30T17:34:45.197Z","type":"message"}
{"nick":"isaacs","message":"that's fine.","date":"2013-01-30T17:34:46.947Z","type":"message"}
{"nick":"isaacs","message":"but it seems like you've replaced tickDepth with something different","date":"2013-01-30T17:35:01.677Z","type":"message"}
{"nick":"isaacs","message":"the length of that array would be the number of nextTicks that were added, not the number of nextTicks that you have already seen","date":"2013-01-30T17:35:15.951Z","type":"message"}
{"nick":"AvianFlu_","date":"2013-01-30T17:35:26.908Z","type":"join"}
{"nick":"isaacs","message":"process.nextTick(function(){ tickDepth=1; process.nextTick(function(){tickDepth==2}); }); tickDepth === 0","date":"2013-01-30T17:35:39.496Z","type":"message"}
{"nick":"isaacs","message":"the thing is, if you do this:  (function T(){process.nextTick(T)})()","date":"2013-01-30T17:36:10.656Z","type":"message"}
{"nick":"trevnorris","message":"tickDepth was being used to determine how much of the nextTickQueue to splice off, right?","date":"2013-01-30T17:36:16.451Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: then that's going to spin forever.","date":"2013-01-30T17:36:16.876Z","type":"message"}
{"nick":"isaacs","message":"no","date":"2013-01-30T17:36:22.146Z","type":"message"}
{"nick":"isaacs","message":"it was being used to determine whether or not to defer the nextTick with teh spinner and print a warning, or just run the next tick cycle right away","date":"2013-01-30T17:36:47.266Z","type":"message"}
{"nick":"trevnorris","message":"yeah. the part i'm not understanding is what a spinner is.","date":"2013-01-30T17:37:21.015Z","type":"message"}
{"nick":"isaacs","message":"the splice controller is nextTickIndex","date":"2013-01-30T17:37:24.765Z","type":"message"}
{"nick":"isaacs","message":"it's the old-style nextTick","date":"2013-01-30T17:37:29.395Z","type":"message"}
{"nick":"isaacs","message":"which should be reomved in 0.12","date":"2013-01-30T17:37:32.725Z","type":"message"}
{"nick":"isaacs","message":"basically, you can think of it a bit like a setImmediate","date":"2013-01-30T17:37:39.965Z","type":"message"}
{"nick":"isaacs","message":"like, actually go to the event loop and come back","date":"2013-01-30T17:37:49.545Z","type":"message"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2013-01-30T17:38:14.467Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2013-01-30T17:38:17.388Z","type":"nick"}
{"nick":"pooya","reason":"Quit: pooya","date":"2013-01-30T17:38:28.871Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: when using the spinner, nextTick is like a slightly faster setTimeout(fn, 0)","date":"2013-01-30T17:38:58.855Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but when we just process the tick right away, it's like a while()","date":"2013-01-30T17:39:22.055Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: also, we need to \"tock\" objet, beause you need to grab a ref to the domain when the nextTick is *scheduled*, not when it's *run*","date":"2013-01-30T17:40:20.084Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: on the side, there's a stupid check in process.nextTick. an object is pushed into nextTickQueue, then we check if it has a length.","date":"2013-01-30T17:41:06.602Z","type":"message"}
{"nick":"trevnorris","message":"since we just pushed something, it will always have a length","date":"2013-01-30T17:41:13.459Z","type":"message"}
{"nick":"isaacs","message":"oh, yeah","date":"2013-01-30T17:42:35.852Z","type":"message"}
{"nick":"isaacs","message":"that's odd","date":"2013-01-30T17:42:39.422Z","type":"message"}
{"nick":"isaacs","message":"since it's going to be processing the ticks at the end of that makeCallback, though... i think it's also just unnecessary.","date":"2013-01-30T17:43:06.452Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2013-01-30T17:43:38.611Z","type":"message"}
{"nick":"isaacs","message":"ok, so, not *entirely* unnecessary","date":"2013-01-30T17:43:44.311Z","type":"message"}
{"nick":"isaacs","action":"removed that line, then wondering why the tests are running SOOO FAST!!","date":"2013-01-30T17:43:51.831Z","type":"action"}
{"nick":"isaacs","message":"trevnorris: it should call _needTickCallback if the length == 0, *before* pushing","date":"2013-01-30T17:45:07.950Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: right now my goal is to have as much of the callback stack inlined as possible. unfortunately the try/finally will prevent _tickCallback from being inliend.","date":"2013-01-30T17:48:46.056Z","type":"message"}
{"nick":"trevnorris","message":"but it can still get optimized.","date":"2013-01-30T17:48:53.426Z","type":"message"}
{"nick":"trevnorris","message":"though the splice action will have to go","date":"2013-01-30T17:49:03.932Z","type":"message"}
{"nick":"trevnorris","message":"that's why i'm trying to use multiple callstack arrays. chopping off one of those is super easy.","date":"2013-01-30T17:49:34.343Z","type":"message"}
{"nick":"isaacs","message":"oh, actually, that stupid push/length check CAN go entirely","date":"2013-01-30T17:49:47.977Z","type":"message"}
{"nick":"isaacs","message":"just needs to have us call _needTickCallback once when we start up","date":"2013-01-30T17:50:24.987Z","type":"message"}
{"nick":"isaacs","message":"those first nextTick()s to run the main module","date":"2013-01-30T17:50:31.487Z","type":"message"}
{"nick":"isaacs","message":"ok, i was wrong.","date":"2013-01-30T17:52:31.715Z","type":"message"}
{"nick":"isaacs","message":"that breaks a bunch of stuff","date":"2013-01-30T17:52:36.395Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: this works, thouh: https://gist.github.com/4675142","date":"2013-01-30T17:53:18.085Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: cool. left a comment.","date":"2013-01-30T17:56:41.060Z","type":"message"}
{"nick":"isaacs","message":"agreed","date":"2013-01-30T17:57:03.622Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: any difference here? https://gist.github.com/4675202","date":"2013-01-30T17:59:40.501Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: or better yet: https://gist.github.com/4675213","date":"2013-01-30T18:00:32.530Z","type":"message"}
{"nick":"pooya","date":"2013-01-30T18:01:37.785Z","type":"join"}
{"nick":"trevnorris","message":"one sec","date":"2013-01-30T18:03:15.764Z","type":"message"}
{"nick":"felixge","reason":"Read error: Connection reset by peer","date":"2013-01-30T18:10:47.261Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037v0.8\u000f * \u0002034ea31\u0002 : win: get rid of early ipv6 support detection  No longer explictly check w (+7 more commits) - http://git.io/RaxtXw","date":"2013-01-30T18:11:33.186Z","type":"message"}
{"nick":"`3rdEden","date":"2013-01-30T18:14:27.629Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: freakin a. the line `var domain = obj.domain;` is causing all the bailouts.","date":"2013-01-30T18:15:36.681Z","type":"message"}
{"nick":"trevnorris","message":"think it'd be possible to pass a 4th argument like `domain_exists`","date":"2013-01-30T18:15:57.523Z","type":"message"}
{"nick":"trevnorris","message":"(don't know if that would even help, but worth a shot)","date":"2013-01-30T18:16:09.570Z","type":"message"}
{"nick":"isaacs","message":"wait, what?","date":"2013-01-30T18:16:10.560Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. I removed all the domain code then started to add it back line by line. just the `var domain = obj.domain` line is causing all the DEOPTs","date":"2013-01-30T18:17:14.723Z","type":"message"}
{"nick":"ryah","message":"hey guys - this is probably a stupid question - but compiling a 64bit node and noticed that during the v8 build it was building the ia32 stuff","date":"2013-01-30T18:18:33.141Z","type":"message"}
{"nick":"ryah","message":"has it always done that?","date":"2013-01-30T18:18:41.080Z","type":"message"}
{"nick":"ryah","message":"eg ../deps/v8/src/ia32/full-codegen-ia32.cc","date":"2013-01-30T18:18:47.718Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: https://gist.github.com/4675379","date":"2013-01-30T18:19:03.298Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: is that better?","date":"2013-01-30T18:19:12.817Z","type":"message"}
{"nick":"isaacs","message":"ryah: yeah, i remember seeing that","date":"2013-01-30T18:19:20.707Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it's because we're trying to access a property on the object that isn't set. can we force set it to false before it gets sent?","date":"2013-01-30T18:19:25.011Z","type":"message"}
{"nick":"trevnorris","message":"i'll try that out","date":"2013-01-30T18:19:26.873Z","type":"message"}
{"nick":"TooTallNate","date":"2013-01-30T18:20:32.255Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: sorry, doesn't help. v8 will try to inline small functions. so the function call is the same as if it were in the main body.","date":"2013-01-30T18:22:33.367Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: probably we need to just make it so that .domain is always set to *something*","date":"2013-01-30T18:23:12.356Z","type":"message"}
{"nick":"trevnorris","message":"yeah. exactly.","date":"2013-01-30T18:23:21.371Z","type":"message"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-01-30T18:24:34.095Z","type":"nick"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-01-30T18:24:40.475Z","type":"quit"}
{"nick":"indexzero","date":"2013-01-30T18:25:12.553Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: https://gist.github.com/4675445","date":"2013-01-30T18:25:39.143Z","type":"message"}
{"nick":"isaacs","message":"try that ^","date":"2013-01-30T18:25:43.203Z","type":"message"}
{"nick":"indexzero","reason":"Client Quit","date":"2013-01-30T18:27:37.115Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: still doing it. trying to figure out why.","date":"2013-01-30T18:35:01.034Z","type":"message"}
{"nick":"trevnorris","message":"_makeCallback gets hot and optimizes, then suddenly deopts.","date":"2013-01-30T18:35:23.350Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: domains existed in v0.8, right?","date":"2013-01-30T18:37:47.577Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-01-30T18:38:29.066Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ok. for some reason v0.8 isn't deopting","date":"2013-01-30T18:38:42.793Z","type":"message"}
{"nick":"isaacs","message":"wild","date":"2013-01-30T18:38:49.965Z","type":"message"}
{"nick":"isaacs","message":"is anything actually throwing and getting caught by a domain?","date":"2013-01-30T18:39:03.796Z","type":"message"}
{"nick":"isaacs","message":"because that code path changed.","date":"2013-01-30T18:39:06.825Z","type":"message"}
{"nick":"isaacs","message":"otherwise, i'd suspect that it's justa V8 diff","date":"2013-01-30T18:39:27.525Z","type":"message"}
{"nick":"trevnorris","message":"i'm running the net/tcp_raw_c2s.js","date":"2013-01-30T18:39:42.871Z","type":"message"}
{"nick":"trevnorris","message":"freak, yeah. you're probably right.","date":"2013-01-30T18:39:49.583Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: _makeCallback doesn't exist in v0.8. why was it added?","date":"2013-01-30T18:41:52.765Z","type":"message"}
{"nick":"trevnorris","message":"whoa. that whole section isn't even close to v 0.8","date":"2013-01-30T18:43:08.393Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-01-30T18:45:06.273Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: i'm going to give this another 30 or so then move on. PR-4656 is updated. let me know if there's anything else you'd like to see for the initial pull","date":"2013-01-30T18:46:27.299Z","type":"message"}
{"nick":"txdv","reason":"Read error: Connection reset by peer","date":"2013-01-30T18:48:04.083Z","type":"quit"}
{"nick":"txdv","date":"2013-01-30T18:48:13.703Z","type":"join"}
{"nick":"brson","date":"2013-01-30T18:59:17.208Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: why do you check `if (nextTickQueue.length)` in _tickCallback, and `if (nextTickQueue.length === 0)` in nextTick, when they both run the same function afterwards?","date":"2013-01-30T19:00:33.464Z","type":"message"}
{"nick":"lohkey","date":"2013-01-30T19:07:26.274Z","type":"join"}
{"nick":"EhevuTov","date":"2013-01-30T19:08:15.674Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: it's possible to get to tickDone without the queue being flushed","date":"2013-01-30T19:22:57.823Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: then we have to kick the spinner","date":"2013-01-30T19:23:04.470Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ok. it's all coming together. thanks for the patience.","date":"2013-01-30T19:25:13.071Z","type":"message"}
{"nick":"isaacs","message":"np","date":"2013-01-30T19:29:25.332Z","type":"message"}
{"nick":"sblom","date":"2013-01-30T19:29:43.468Z","type":"join"}
{"nick":"loladiro","date":"2013-01-30T19:35:55.251Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: so Spin puts node in an idle state and waits for a callback. then Tick runs the callback?","date":"2013-01-30T19:53:58.108Z","type":"message"}
{"nick":"isaacs","message":"yeah, that sounds right","date":"2013-01-30T19:54:32.945Z","type":"message"}
{"nick":"AvianFlu","date":"2013-01-30T19:58:52.308Z","type":"join"}
{"nick":"bnoordhuis","message":"trevnorris: more precisely, the idle handle the spinner starts stops libuv from blocking in epoll_wait/kevent/etc.","date":"2013-01-30T19:59:10.831Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. it still polls but with a zero timeout","date":"2013-01-30T19:59:34.609Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: ah, thanks.","date":"2013-01-30T20:00:41.766Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: speaking of timeouts, setImmediate, should shigeki rebase the setImmediate uv_check modification, or shoudl I submit a different PR with the js fixup (https://github.com/joyent/node/pull/3872)","date":"2013-01-30T20:06:42.044Z","type":"message"}
{"nick":"sblom","message":"Commit protocol question for https://github.com/joyent/node/pull/4694 : once it gets reviewed, should I land it as one patch with a hat-tip in the comments to the two other contributors? Or should I land it as 3 patches, one for each of the contributors? Or should I land the whole series? (Recognizing, bnoordhuis, that I'll need to change the commit messages in most of these cases :))","date":"2013-01-30T20:07:38.551Z","type":"message"}
{"nick":"bnoordhuis","message":"sblom: i'd land that as three patches, one per contributor","date":"2013-01-30T20:08:57.750Z","type":"message"}
{"nick":"piscisaureus_","message":"assert.equal(net.isIP('0'), 0);","date":"2013-01-30T20:10:39.455Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- does this fail on unix too?","date":"2013-01-30T20:10:44.613Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: mind if i punt on the answer for a bit? it seems i have a toddler that needs cheering up","date":"2013-01-30T20:10:59.417Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I don't mind one bit this was just a reminder before we get to .10 :)","date":"2013-01-30T20:11:29.189Z","type":"message"}
{"nick":"trevnorris","message":"so _makeCallback is only called by MakeCallback in node.cc?","date":"2013-01-30T20:12:22.495Z","type":"message"}
{"nick":"tjfontaine","message":"> assert.equal(net.isIP('0'), 0);","date":"2013-01-30T20:12:53.257Z","type":"message"}
{"nick":"tjfontaine","message":"undefined","date":"2013-01-30T20:12:53.591Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Bert Belder\u000f \u00037v0.8\u000f * \u00021a87776\u0002 : deps: upgrade libuv to 034ea31 - http://git.io/YMjxbg","date":"2013-01-30T20:12:57.248Z","type":"message"}
{"nick":"tjfontaine","message":"on .8.16","date":"2013-01-30T20:13:25.270Z","type":"message"}
{"nick":"trevnorris","message":"nm, that's in isaacs's comments. =P","date":"2013-01-30T20:13:30.955Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: if yo uknow what to do, go ahead and submit it","date":"2013-01-30T20:16:03.801Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: or encourage shigeki to do so, if you'd like.","date":"2013-01-30T20:16:13.762Z","type":"message"}
{"nick":"isaacs","message":"0.10 got pushed back a few weeks, so there's a bit of time :)","date":"2013-01-30T20:16:22.391Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: weird. On windows that assert fails on the 0.8 branch","date":"2013-01-30T20:17:01.567Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: well, the way forward is still slightly up in the air, worst case scenario I vote for the js fix just so people don't get the nasty surprise that after their first issue of setImmediate every subsequent call gets delayed by 1ms :)","date":"2013-01-30T20:17:49.169Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: also on 0.16 for me","date":"2013-01-30T20:17:58.025Z","type":"message"}
{"nick":"tjfontaine","message":"hm","date":"2013-01-30T20:19:06.913Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: not that this is news to you, but I can't see any platform differences that would indicate why that would happen","date":"2013-01-30T20:23:05.811Z","type":"message"}
{"nick":"trevnorris","message":"so callback are added to the tick queue. and looks like their run FIFO.","date":"2013-01-30T20:26:39.000Z","type":"message"}
{"nick":"trevnorris","message":"(just chatting out loud. don't know why this tick queue thing is evading me)","date":"2013-01-30T20:27:02.734Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: no, neither do i","date":"2013-01-30T20:27:08.972Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-01-30T20:30:59.860Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: actually, on 0.8, isIP calls ares_inet_pton under the hood","date":"2013-01-30T20:32:32.029Z","type":"message"}
{"nick":"piscisaureus_","message":"on windows","date":"2013-01-30T20:32:35.075Z","type":"message"}
{"nick":"piscisaureus_","message":"so that could be it","date":"2013-01-30T20:32:37.301Z","type":"message"}
{"nick":"tjfontaine","message":"hmm I thought it was calling uv_inet_pton","date":"2013-01-30T20:32:53.378Z","type":"message"}
{"nick":"tjfontaine","message":"oh defines at the top","date":"2013-01-30T20:33:26.564Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: in nextTick, why would you start tick spinner then push a callback? wouldn't it be called immediately?","date":"2013-01-30T20:37:49.137Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm really not sure.","date":"2013-01-30T20:38:07.667Z","type":"message"}
{"nick":"isaacs","message":"sorry, on another thing atm","date":"2013-01-30T20:38:11.066Z","type":"message"}
{"nick":"trevnorris","message":"np","date":"2013-01-30T20:38:14.954Z","type":"message"}
{"nick":"isaacs","message":"i don't think you'll get more than 2% on any benchmark by optimizing that function","date":"2013-01-30T20:38:22.066Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: heh, at this point it's my developer pride. must... solve... it....","date":"2013-01-30T20:38:53.983Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i hear ya.  that's a healthy impulse :)","date":"2013-01-30T20:39:04.745Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but you could probably pointit at the other more relevant losses.","date":"2013-01-30T20:39:23.075Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: not sure how to follow up on regression in tcp_raw tests. libuv land scares me. i'll see what can be done about streams2.","date":"2013-01-30T20:41:32.829Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so, here's a thing:","date":"2013-01-30T20:41:49.073Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: Readable.pipe()","date":"2013-01-30T20:41:52.533Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: right now, it's doing too much shit.","date":"2013-01-30T20:41:59.033Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: like, closures and other bs.","date":"2013-01-30T20:42:04.983Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just because that was the fastest and easiest way tow rite it","date":"2013-01-30T20:42:12.643Z","type":"message"}
{"nick":"isaacs","message":"but, i'd like Readable.push(chunk) to detect that we're already flowing in a pipe(), and be a bit more efficient about where it puts the data.","date":"2013-01-30T20:42:37.493Z","type":"message"}
{"nick":"isaacs","message":"also, pipeOpts.chunkSize is stupid.  we shouldn't do that.","date":"2013-01-30T20:42:49.292Z","type":"message"}
{"nick":"isaacs","message":"no one wants that.","date":"2013-01-30T20:42:55.672Z","type":"message"}
{"nick":"trevnorris","message":"cool. can do something about that","date":"2013-01-30T20:44:12.852Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-01-30T20:46:00.785Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-01-30T20:50:52.683Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: anything need to be done to pull 4656? keep needing to checkout that benchmark folder to run my tests on changes against master.","date":"2013-01-30T20:50:58.029Z","type":"message"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-01-30T20:50:58.569Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-01-30T20:51:35.832Z","type":"join"}
{"nick":"isaacs","message":"oh, right.","date":"2013-01-30T20:51:37.437Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: can you add `make bench`?","date":"2013-01-30T20:51:42.616Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: like, is it possible to use that stuff to output a reasonable \"headline view\" of performance that we should be aware of?","date":"2013-01-30T20:52:19.006Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: what was the exact functionality you wanted?","date":"2013-01-30T20:52:19.135Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: I want to know about http, net-pipe (all flavors), url parsing, etc.","date":"2013-01-30T20:52:48.256Z","type":"message"}
{"nick":"trevnorris","message":"will be, but the benchmarks are still a mess.","date":"2013-01-30T20:52:48.789Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-01-30T20:52:52.212Z","type":"message"}
{"nick":"isaacs","message":"\"all the benchmarks\" really means \"all the new benchmarks that are pretty and nice\";","date":"2013-01-30T20:53:02.706Z","type":"message"}
{"nick":"tjfontaine","message":"in some sort of programmable output format :)","date":"2013-01-30T20:53:08.669Z","type":"message"}
{"nick":"isaacs","message":"name: <number>","date":"2013-01-30T20:53:21.435Z","type":"message"}
{"nick":"isaacs","message":"where \"name\" is the bench name, and \"<number>\" is some number of operations per time","date":"2013-01-30T20:53:32.176Z","type":"message"}
{"nick":"isaacs","message":"that'd be fine","date":"2013-01-30T20:53:35.975Z","type":"message"}
{"nick":"isaacs","message":"doesn't have to be lined up or anything","date":"2013-01-30T20:53:44.515Z","type":"message"}
{"nick":"isaacs","message":"bigger number = better","date":"2013-01-30T20:54:02.785Z","type":"message"}
{"nick":"isaacs","message":"and they don't all have to be the same metric, obviously.  some could be Gbits/sec or requests/sec or whatever.  you can even omit the labelson the number","date":"2013-01-30T20:54:45.725Z","type":"message"}
{"nick":"isaacs","message":"if we know that bigger=better, then we can track it with a graph","date":"2013-01-30T20:55:02.275Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: definitely, but will take me a few days. (just going through it in my head)","date":"2013-01-30T20:55:15.173Z","type":"message"}
{"nick":"isaacs","message":"also, it ideally should not take 20 minutes to run :)","date":"2013-01-30T20:55:21.944Z","type":"message"}
{"nick":"trevnorris","message":"yeah. know exactly how i'll do it. but it'll take me a while.","date":"2013-01-30T20:57:12.682Z","type":"message"}
{"nick":"trevnorris","message":"will have to build in a time lapse tester, which will run the test several times and increment the number of times it runs. until the threshold is reached.","date":"2013-01-30T20:58:06.645Z","type":"message"}
{"nick":"trevnorris","message":"then it will run the test and report the value.","date":"2013-01-30T20:58:16.738Z","type":"message"}
{"nick":"trevnorris","message":"if that doesn't happen then a test that takes 5 mins on my machine could take 15 on someone elses.","date":"2013-01-30T20:58:38.399Z","type":"message"}
{"nick":"trevnorris","message":"then it'll store the results in json format, which can be saved to a file.","date":"2013-01-30T20:59:49.146Z","type":"message"}
{"nick":"trevnorris","message":"then the tester will see if the file exists and cross compare the results with a new build.","date":"2013-01-30T21:00:11.742Z","type":"message"}
{"nick":"trevnorris","message":"(ok... going overboard)","date":"2013-01-30T21:00:41.857Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not sure how much the cross compare matters","date":"2013-01-30T21:00:44.119Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: just so you can see the % difference between two builds.","date":"2013-01-30T21:00:59.353Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-01-30T21:01:10.582Z","type":"quit"}
{"nick":"tjfontaine","message":"I understand, I just wouldn't kill myself over it","date":"2013-01-30T21:01:22.147Z","type":"message"}
{"nick":"trevnorris","message":"yeah. i'll scratch that one off.","date":"2013-01-30T21:01:33.617Z","type":"message"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-01-30T21:01:44.986Z","type":"quit"}
{"nick":"trevnorris","message":"so the basics would be to just run each test and output the results on stdout?","date":"2013-01-30T21:01:57.565Z","type":"message"}
{"nick":"tjfontaine","message":"print'ing out json results { benchName: results, ... } is probabyl convenient enough","date":"2013-01-30T21:02:12.621Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: some tests are single run. others like the net tests run over several iterations. just output the avg/min/max/stdev etc?","date":"2013-01-30T21:03:34.802Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: hmm, I dunno, or only the most relevant number","date":"2013-01-30T21:04:45.133Z","type":"message"}
{"nick":"trevnorris","message":"what's \"the most relevant\"?","date":"2013-01-30T21:05:09.178Z","type":"message"}
{"nick":"TooTallNate","date":"2013-01-30T21:05:38.286Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: I would guess that depends on the bench, I'm not afraid of getting too much data returned to me, but for the people who will just be reading it you don't want to overwhelm them with data","date":"2013-01-30T21:06:26.745Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: figured if you want a lot of data, you'll run the tests individually. figured `make test` would be a short summary.","date":"2013-01-30T21:07:28.258Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-01-30T21:07:40.805Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: if it runs *longer* on some machines than others, then that'sok","date":"2013-01-30T21:14:50.792Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: you can only reliably compare on the same machine anyway","date":"2013-01-30T21:15:14.811Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 245 seconds","date":"2013-01-30T21:15:26.161Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: most relevant usually = mean","date":"2013-01-30T21:15:29.951Z","type":"message"}
{"nick":"isaacs","message":"i mean, it's not ideal, but it's just a baseline","date":"2013-01-30T21:15:36.691Z","type":"message"}
{"nick":"isaacs","message":"that's what i usually look at first.","date":"2013-01-30T21:15:46.541Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-01-30T21:18:47.898Z","type":"quit"}
{"nick":"EhevuTov","date":"2013-01-30T21:20:44.619Z","type":"join"}
{"nick":"loladiro","date":"2013-01-30T21:27:46.099Z","type":"join"}
{"nick":"hz","date":"2013-01-30T21:29:21.880Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: what are your thoughts on this? https://github.com/joyent/node/issues/1776","date":"2013-01-30T21:34:04.509Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-01-30T21:38:07.498Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-01-30T21:38:37.267Z","type":"quit"}
{"nick":"jmar777","reason":"Remote host closed the connection","date":"2013-01-30T21:40:33.801Z","type":"quit"}
{"nick":"jmar777","date":"2013-01-30T21:41:06.979Z","type":"join"}
{"nick":"jmar777","reason":"Ping timeout: 276 seconds","date":"2013-01-30T21:45:54.808Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-01-30T21:46:09.754Z","type":"quit"}
{"nick":"c4milo","date":"2013-01-30T21:46:36.217Z","type":"join"}
{"nick":"c4milo","reason":"Read error: No route to host","date":"2013-01-30T21:47:52.668Z","type":"quit"}
{"nick":"c4milo","date":"2013-01-30T21:48:09.846Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: the net tests wont be bad. but what about the buffer tests. there are several variations for every Buffer method. should still output all those?","date":"2013-01-30T21:50:57.792Z","type":"message"}
{"nick":"AvianFlu","date":"2013-01-30T21:54:16.124Z","type":"join"}
{"nick":"rendar","date":"2013-01-30T21:55:26.562Z","type":"quit"}
{"nick":"mraleph","date":"2013-01-30T22:02:20.090Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-01-30T22:11:13.002Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: done. you can now run `make bench` and it will output a simple table with results.","date":"2013-01-30T22:20:17.542Z","type":"message"}
{"nick":"sblom","message":"Is it common for conversations about the holocaust to break out over on #node.js?","date":"2013-01-30T22:36:23.461Z","type":"message"}
{"nick":"sblom","message":":)","date":"2013-01-30T22:36:28.124Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 244 seconds","date":"2013-01-30T22:36:31.108Z","type":"quit"}
{"nick":"tjfontaine","message":"sblom: godwins law","date":"2013-01-30T22:37:22.004Z","type":"message"}
{"nick":"tjfontaine","message":"or extension there of","date":"2013-01-30T22:37:26.727Z","type":"message"}
{"nick":"sblom","message":"yeah--I suppose so","date":"2013-01-30T22:37:43.664Z","type":"message"}
{"nick":"isaacs","message":"sblom: occasionally, yes.","date":"2013-01-30T22:37:44.988Z","type":"message"}
{"nick":"isaacs","message":"sblom: anything we should be worried about?","date":"2013-01-30T22:37:51.168Z","type":"message"}
{"nick":"sblom","message":"isaacs: don't think so","date":"2013-01-30T22:37:58.782Z","type":"message"}
{"nick":"isaacs","message":"kewl","date":"2013-01-30T22:38:00.738Z","type":"message"}
{"nick":"isaacs","message":"nazi propaganda is definitely not appropriate.","date":"2013-01-30T22:38:08.198Z","type":"message"}
{"nick":"isaacs","message":"but academic discussions of histoery = perfectly kosher","date":"2013-01-30T22:38:20.798Z","type":"message"}
{"nick":"sblom","message":"I'd say this is the latter. Just in a context I wasn't expecting. :)","date":"2013-01-30T22:38:48.629Z","type":"message"}
{"nick":"sblom","message":"The tubes are a wondrous thing.","date":"2013-01-30T22:39:10.653Z","type":"message"}
{"nick":"paddybyers","date":"2013-01-30T22:39:22.046Z","type":"join"}
{"nick":"kuebk","date":"2013-01-30T22:39:40.096Z","type":"join"}
{"nick":"kuebk","reason":"Client Quit","date":"2013-01-30T22:40:17.559Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: done with make bench. should I remove make bench-idle?","date":"2013-01-30T22:41:32.908Z","type":"message"}
{"nick":"trevnorris","message":"(anyone else find the last example here unreadable: http://bit.ly/VrOyuv)","date":"2013-01-30T22:42:21.141Z","type":"message"}
{"nick":"sblom","message":"trevnorris: yes--untterly incomprehensionable.","date":"2013-01-30T22:43:27.819Z","type":"message"}
{"nick":"sblom","message":"It looks a little like lisp in the middle parts.","date":"2013-01-30T22:43:42.856Z","type":"message"}
{"nick":"sblom","message":"(in that my eyes are going crossed trying to match up nested parens)","date":"2013-01-30T22:43:53.697Z","type":"message"}
{"nick":"trevnorris","message":"same problem i'm having.","date":"2013-01-30T22:44:21.643Z","type":"message"}
{"nick":"trevnorris","message":"way too much going on in a single line.","date":"2013-01-30T22:44:26.593Z","type":"message"}
{"nick":"tjfontaine","message":"comprehensions always lead to people trying out for the oneliner olympics","date":"2013-01-30T22:46:16.179Z","type":"message"}
{"nick":"isaacs","message":"trevnorris, sblom: first person to land an array comprehension in node gets a 50L drum of sewage delivered to their house.","date":"2013-01-30T22:46:27.846Z","type":"message"}
{"nick":"tjfontaine","message":"I will personally help fill the drum up","date":"2013-01-30T22:46:56.566Z","type":"message"}
{"nick":"trevnorris","message":"debugging that must be a bitch. when it prints the bad line, you're like \"oh, it's my entire function\"","date":"2013-01-30T22:47:20.396Z","type":"message"}
{"nick":"sblom","message":"isaacs: I almost want to do it just to see your shitt^H^Hpping invoice.","date":"2013-01-30T22:48:06.360Z","type":"message"}
{"nick":"tjfontaine","message":"groan","date":"2013-01-30T22:48:14.069Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2013-01-30T22:48:14.938Z","type":"message"}
{"nick":"isaacs","message":"i'm just kidding.","date":"2013-01-30T22:48:26.952Z","type":"message"}
{"nick":"isaacs","message":"we'll probably just revert it and make a >_< face in the commit message","date":"2013-01-30T22:48:36.442Z","type":"message"}
{"nick":"sblom","message":"Yeah.","date":"2013-01-30T22:48:40.410Z","type":"message"}
{"nick":"trevnorris","message":"can't imagine what will happen w/ any PR's containing that crap.","date":"2013-01-30T22:49:08.500Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-01-30T22:52:38.240Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-01-30T22:52:55.297Z","type":"join"}
{"nick":"isaacs","message":"oh, it's not hard to imagine.  we'll reject them.","date":"2013-01-30T22:53:51.459Z","type":"message"}
{"nick":"isaacs","message":"we reject a lot of pull requests.","date":"2013-01-30T22:53:55.129Z","type":"message"}
{"nick":"isaacs","message":"it's o","date":"2013-01-30T22:53:55.949Z","type":"message"}
{"nick":"isaacs","message":"*ok","date":"2013-01-30T22:53:57.149Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah. just wonder how much heckling they'll get from the community.","date":"2013-01-30T22:54:53.567Z","type":"message"}
{"nick":"tjfontaine","message":"comps make a ton of sense for people doing oneoff repl work","date":"2013-01-30T22:54:57.846Z","type":"message"}
{"nick":"tjfontaine","message":"or to help illustrate things for others","date":"2013-01-30T22:55:10.089Z","type":"message"}
{"nick":"tjfontaine","message":"or at least that's where I see their use cases being the most helpful","date":"2013-01-30T22:55:48.579Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: i'll take your word on that. just don't like to spend most my time figuring out what the syntax means.","date":"2013-01-30T22:58:37.781Z","type":"message"}
{"nick":"jmar777","date":"2013-01-30T22:58:40.095Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: I'm used to seeing it because of people loving to [ab]use them in python","date":"2013-01-30T22:59:20.186Z","type":"message"}
{"nick":"trevnorris","message":"heh. and that's the reason why I could never get into python.","date":"2013-01-30T22:59:48.679Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-01-30T23:00:10.573Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: and I can see what you're saying. if I was making a quick script, sure.","date":"2013-01-30T23:01:37.496Z","type":"message"}
{"nick":"trevnorris","message":"but as soon as it needs to be maintained by a community, just has to go.","date":"2013-01-30T23:01:38.412Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: have you seen dictcomps?","date":"2013-01-30T23:02:17.881Z","type":"message"}
{"nick":"trevnorris","message":"nope","date":"2013-01-30T23:02:38.509Z","type":"message"}
{"nick":"tjfontaine","message":"as bad as list/array comps start to look, complex dict comps will make your eyes bleed http://www.python.org/dev/peps/pep-0274/","date":"2013-01-30T23:03:43.147Z","type":"message"}
{"nick":"trevnorris","message":"wtf... can't stop staring","date":"2013-01-30T23:05:10.731Z","type":"message"}
{"nick":"trevnorris","message":"i've never written a programming language before, but have to imagine writing the parser for that must have been painful.","date":"2013-01-30T23:06:40.903Z","type":"message"}
{"nick":"trevnorris","message":"what do you guys think about exposing Buffer::kMaxLength as a read only property of Buffer?","date":"2013-01-30T23:23:34.746Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: We could export it as a \"writing doesn't do anything\" property :)","date":"2013-01-30T23:29:35.226Z","type":"message"}
{"nick":"trevnorris","message":"ok. was just thinking it might be good to check value ranges (e.g. highWaterMark) against it (since stuff like ~~0xffffffff === -1)","date":"2013-01-30T23:32:12.139Z","type":"message"}
{"nick":"trevnorris","message":"also, doesn't look like we're checking for negative values in ReadableStream.","date":"2013-01-30T23:32:31.209Z","type":"message"}
{"nick":"loladiro","date":"2013-01-30T23:36:01.493Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-01-30T23:38:20.306Z","type":"quit"}
{"nick":"isaacs","message":"sure","date":"2013-01-30T23:39:09.921Z","type":"message"}
{"nick":"brson","reason":"Remote host closed the connection","date":"2013-01-30T23:40:12.089Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: have any feedback on my unified arg checking doc: https://gist.github.com/4670377","date":"2013-01-30T23:41:52.330Z","type":"message"}
{"nick":"trevnorris","message":"there's a lot of different ways args of specific types are checked, and think it'd be nice to have a standard.","date":"2013-01-30T23:42:17.594Z","type":"message"}
{"nick":"brson","date":"2013-01-30T23:46:42.791Z","type":"join"}
{"nick":"EhevuTov","date":"2013-01-30T23:49:29.596Z","type":"join"}

{"nick":"isaacs","message":"oh, shit, res.emit('end') is happening more than once.","date":"2012-05-15T00:02:31.906Z","type":"message"}
{"nick":"isaacs","message":"very reliably, too","date":"2012-05-15T00:02:42.172Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 240 seconds","date":"2012-05-15T00:03:17.238Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T00:05:25.954Z","type":"join"}
{"nick":"AvianFlu","message":"'I AM THE WALRUS' !? you're right, that is a weird test","date":"2012-05-15T00:05:59.276Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T00:07:25.312Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T00:07:51.882Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-05-15T00:07:53.683Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T00:11:42.860Z","type":"join"}
{"nick":"piscisaureus_","message":"refcount refactor status: timer, p/c/i, process still left","date":"2012-05-15T00:17:31.197Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what's p/c/i?","date":"2012-05-15T00:19:01.940Z","type":"message"}
{"nick":"piscisaureus_","message":"prepare/check/idle","date":"2012-05-15T00:19:09.148Z","type":"message"}
{"nick":"piscisaureus_","message":"but those are moreorless the same","date":"2012-05-15T00:19:16.316Z","type":"message"}
{"nick":"piscisaureus_","message":"generated by macros","date":"2012-05-15T00:19:20.054Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-05-15T00:19:36.308Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: i think i figured it out.  apparently the socket close event and parser message complete event happen in different orders on linux and mac","date":"2012-05-15T00:20:46.984Z","type":"message"}
{"nick":"piscisaureus_","message":"In the meantime I refactor out a lot of cruft btw","date":"2012-05-15T00:20:51.960Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: if the socket event happens first, we end up emitting 'end' twice.","date":"2012-05-15T00:21:24.635Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307reviewme\u000f * r\u00022128ad4\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/80f3ww","date":"2012-05-15T00:22:37.969Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: review?^","date":"2012-05-15T00:22:43.348Z","type":"message"}
{"nick":"isaacs","message":"ohnoes!  console!","date":"2012-05-15T00:22:56.085Z","type":"message"}
{"nick":"isaacs","message":"one sec","date":"2012-05-15T00:22:57.786Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: what does it have to do with console/","date":"2012-05-15T00:23:26.737Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307reviewme\u000f * r\u000214a5b45\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/5pJZ0A","date":"2012-05-15T00:23:31.328Z","type":"message"}
{"nick":"isaacs","message":"ok, this one","date":"2012-05-15T00:23:34.652Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i left a console.error in there.","date":"2012-05-15T00:23:41.701Z","type":"message"}
{"nick":"piscisaureus_","message":"ah:_)","date":"2012-05-15T00:23:54.112Z","type":"message"}
{"nick":"piscisaureus_","message":"stupid mac keyboard","date":"2012-05-15T00:24:04.429Z","type":"message"}
{"nick":"isaacs","message":"er, even worse, console.trace","date":"2012-05-15T00:24:04.961Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I cannot possibly disagree","date":"2012-05-15T00:24:24.931Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but is that like really needed?","date":"2012-05-15T00:24:32.339Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it is, on linux, in the test-http-response-no-headers","date":"2012-05-15T00:24:47.611Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: or is that just to hide some other error in there?","date":"2012-05-15T00:24:48.986Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: dude, 90% of that file is just hiding errors in the other 10%","date":"2012-05-15T00:25:02.197Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: why do you think i'm so hot to rewrite it?","date":"2012-05-15T00:25:13.589Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-05-15T00:25:20.085Z","type":"message"}
{"nick":"piscisaureus_","message":"lgtm","date":"2012-05-15T00:25:21.446Z","type":"message"}
{"nick":"isaacs","message":"thanks :)","date":"2012-05-15T00:25:24.366Z","type":"message"}
{"nick":"isaacs","message":"srsly, though, yes, this is clearly a case where we're doing something sloppily.","date":"2012-05-15T00:25:37.028Z","type":"message"}
{"nick":"isaacs","message":"but the \"correct\" fix is too costly at the moment.","date":"2012-05-15T00:25:53.664Z","type":"message"}
{"nick":"piscisaureus_","message":"so you know what the correct fix would be","date":"2012-05-15T00:26:03.373Z","type":"message"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-05-15T00:26:09.251Z","type":"quit"}
{"nick":"piscisaureus_","message":"or did you mean \"thrash the whole thing and start over\" ?","date":"2012-05-15T00:26:16.078Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i mean thrash.","date":"2012-05-15T00:26:24.325Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but specifically, the parser/socket/request/response connections need to be all cleaned up at once.","date":"2012-05-15T00:26:41.726Z","type":"message"}
{"nick":"piscisaureus_","message":"do you have a sort of high level design in mind that will make it much cleaner btw?","date":"2012-05-15T00:26:46.323Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i do.","date":"2012-05-15T00:26:54.958Z","type":"message"}
{"nick":"piscisaureus_","message":"that helps :-)","date":"2012-05-15T00:27:01.090Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's not going to happen in time for v0.8, of course.","date":"2012-05-15T00:27:05.486Z","type":"message"}
{"nick":"piscisaureus_","message":"sure, I know","date":"2012-05-15T00:27:11.996Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but we need to design it with keepalives, socket pooling, and proxying in mind.","date":"2012-05-15T00:27:33.060Z","type":"message"}
{"nick":"piscisaureus_","message":"but I am sort of confident that once you know how it should be done and your fingers are itching","date":"2012-05-15T00:27:38.685Z","type":"message"}
{"nick":"piscisaureus_","message":"... you generally understand the problem space and it is actually possible to create something nice","date":"2012-05-15T00:27:59.209Z","type":"message"}
{"nick":"isaacs","message":"i have a drawing of it on my whiteboard at home.","date":"2012-05-15T00:28:02.649Z","type":"message"}
{"nick":"piscisaureus_","message":"nice","date":"2012-05-15T00:28:35.912Z","type":"message"}
{"nick":"isaacs","message":"it's probably mostly fictional, but that's how whiteboard drawings are.  they're just a place to start.","date":"2012-05-15T00:28:53.519Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u000214a5b45\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/5pJZ0A","date":"2012-05-15T00:29:20.790Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00028068f9b\u000f \u000310\u000f/ Makefile \u0002:\u000f Escape leading # signs in 'make email.md' - http://git.io/jMRLpw","date":"2012-05-15T00:30:34.217Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.18-release\u000f * r\u00024bc1d39\u000f \u000310\u000f/ (ChangeLog src/node_version.h)\u0002:\u000f 2012.05.15 Version 0.6.18 (stable) - http://git.io/iX_qCA","date":"2012-05-15T00:30:51.265Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: first i wanna see just how bad it'd actually be to have the http parser in js.  we could throw away the FreeList stuff and benefit from V8's magic more.","date":"2012-05-15T00:34:18.838Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 272 seconds","date":"2012-05-15T00:34:22.670Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: sure, go ahead","date":"2012-05-15T00:36:21.219Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we can also refactor the c parser to have a nicer interface","date":"2012-05-15T00:36:32.967Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. one that doesn't use callbacks :-)","date":"2012-05-15T00:36:42.506Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2012-05-15T00:39:58.948Z","type":"message"}
{"nick":"isaacs","message":"though... i do kinda like that interface.","date":"2012-05-15T00:40:23.946Z","type":"message"}
{"nick":"isaacs","message":"it's sort of like sax-js","date":"2012-05-15T00:40:28.451Z","type":"message"}
{"nick":"isaacs","message":"but getting rid of that FreeList abomination would prevent tons of memory leaks we've had.","date":"2012-05-15T00:40:48.903Z","type":"message"}
{"nick":"isaacs","message":"and, at least in theory, make our object trees less complicated, and easier to GC","date":"2012-05-15T00:41:09.373Z","type":"message"}
{"nick":"isaacs","message":"since we wouldn't be mixing old and new generations so much","date":"2012-05-15T00:41:17.274Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: once you upgrade to node-gyp 0.4.2 there's a --nodedir option","date":"2012-05-15T00:42:05.751Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: which we should use for the gc tests in node","date":"2012-05-15T00:42:17.312Z","type":"message"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-05-15T00:43:51.142Z","type":"quit"}
{"nick":"AvianFlu","message":"isaacs, the test passes now with those changes","date":"2012-05-15T00:43:55.921Z","type":"message"}
{"nick":"isaacs","message":"sweet!","date":"2012-05-15T00:44:04.900Z","type":"message"}
{"nick":"isaacs","message":"still building on my puny linux vm","date":"2012-05-15T00:44:10.111Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 248 seconds","date":"2012-05-15T00:54:20.436Z","type":"quit"}
{"nick":"isaacs","message":"passes here, too","date":"2012-05-15T00:55:41.020Z","type":"message"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-05-15T00:55:57.412Z","type":"quit"}
{"nick":"piscisaureus_","message":"Hmm. there's a not so nice race condition in uv_process_close","date":"2012-05-15T01:02:31.512Z","type":"message"}
{"nick":"piscisaureus_","message":"which is not trivial to fix","date":"2012-05-15T01:02:36.308Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-15T01:07:48.623Z","type":"quit"}
{"nick":"loladiro","date":"2012-05-15T01:11:04.668Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-15T01:18:44.182Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-05-15T01:20:53.714Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-05-15T01:32:37.941Z","type":"quit"}
{"nick":"piscisaureus_","message":"[% 100|+ 101|-  39]: Done.","date":"2012-05-15T01:46:05.592Z","type":"message"}
{"nick":"elijah-mbp","reason":"Remote host closed the connection","date":"2012-05-15T01:59:00.048Z","type":"quit"}
{"nick":"piscisaureus_","message":"[% 100|+ 112|-  28]: Done.","date":"2012-05-15T02:08:49.407Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm, not quite there yet","date":"2012-05-15T02:08:54.430Z","type":"message"}
{"nick":"abraxas","date":"2012-05-15T02:10:39.275Z","type":"join"}
{"nick":"elijah-mbp","date":"2012-05-15T02:31:55.907Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-15T02:32:49.014Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T02:36:58.022Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T02:45:44.007Z","type":"join"}
{"nick":"piscisaureus_","message":"yay","date":"2012-05-15T02:49:19.281Z","type":"message"}
{"nick":"piscisaureus_","message":"[% 100|+ 134|-   6]","date":"2012-05-15T02:49:21.679Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00028ff8c5a\u000f \u000310\u000f/ (29 files in 4 dirs)\u0002:\u000f Refcount refactor almost done (+13 more commits...) - http://git.io/Q3Sjkw","date":"2012-05-15T03:02:16.108Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T03:02:52.900Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#273 (refcount - 8ff8c5a : Bert Belder): The build failed.","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/b4dcd4a^...8ff8c5a","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1332830","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T03:02:53.106Z","type":"part"}
{"nick":"piscisaureus_","message":"ircretary: tell bnoordhuis https://github.com/joyent/libuv/commits/refcount <-- almost done, but 4 difficult failures left","date":"2012-05-15T03:07:42.499Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell bnoordhuis","date":"2012-05-15T03:07:42.980Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-15T03:08:39.643Z","type":"quit"}
{"nick":"perezd","date":"2012-05-15T03:14:17.800Z","type":"join"}
{"nick":"ira","reason":"Quit: Computer has gone to sleep.","date":"2012-05-15T03:29:38.585Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T03:41:45.637Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-05-15T03:51:28.104Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T04:05:18.907Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 240 seconds","date":"2012-05-15T04:25:47.143Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-05-15T04:38:28.516Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T05:07:37.494Z","type":"quit"}
{"nick":"einaros","reason":"Ping timeout: 240 seconds","date":"2012-05-15T05:19:47.123Z","type":"quit"}
{"nick":"einaros","date":"2012-05-15T05:20:17.190Z","type":"join"}
{"nick":"paddybyers","date":"2012-05-15T05:35:47.713Z","type":"join"}
{"nick":"abraxas_","date":"2012-05-15T05:49:43.330Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2012-05-15T05:51:08.220Z","type":"quit"}
{"nick":"pfox__","reason":"Ping timeout: 260 seconds","date":"2012-05-15T06:31:34.620Z","type":"quit"}
{"nick":"pfox__","date":"2012-05-15T06:32:18.256Z","type":"join"}
{"nick":"abraxas","date":"2012-05-15T06:33:48.860Z","type":"join"}
{"nick":"abraxas_","reason":"Read error: No route to host","date":"2012-05-15T06:35:07.201Z","type":"quit"}
{"nick":"paddybyers_","date":"2012-05-15T06:47:24.681Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 272 seconds","date":"2012-05-15T06:50:34.677Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-05-15T06:50:34.894Z","type":"nick"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-05-15T06:59:20.544Z","type":"quit"}
{"nick":"abraxas","date":"2012-05-15T06:59:52.835Z","type":"join"}
{"nick":"rendar","date":"2012-05-15T07:28:48.125Z","type":"join"}
{"nick":"felixge","date":"2012-05-15T07:50:08.293Z","type":"join"}

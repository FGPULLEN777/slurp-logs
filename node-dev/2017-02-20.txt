{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T00:05:11.618Z","type":"quit"}
{"nick":"notarseniy","date":"2017-02-20T00:05:48.799Z","type":"join"}
{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T00:05:55.522Z","type":"quit"}
{"nick":"notarseniy","date":"2017-02-20T00:06:01.715Z","type":"join"}
{"nick":"lholmquist","reason":"Ping timeout: 240 seconds","date":"2017-02-20T00:08:28.483Z","type":"quit"}
{"nick":"lholmquist","date":"2017-02-20T00:08:35.426Z","type":"join"}
{"nick":"lholmquist","reason":"Changing host","date":"2017-02-20T00:08:35.586Z","type":"quit"}
{"nick":"lholmquist","date":"2017-02-20T00:08:35.587Z","type":"join"}
{"nick":"zeptoTon","reason":"Remote host closed the connection","date":"2017-02-20T00:24:04.670Z","type":"quit"}
{"nick":"troykelly_","date":"2017-02-20T00:36:25.398Z","type":"join"}
{"nick":"joyee","date":"2017-02-20T00:36:45.542Z","type":"join"}
{"nick":"troykelly","reason":"Ping timeout: 240 seconds","date":"2017-02-20T00:38:00.034Z","type":"quit"}
{"nick":"joyee","reason":"Ping timeout: 240 seconds","date":"2017-02-20T00:40:49.539Z","type":"quit"}
{"nick":"IRCFrEAK","date":"2017-02-20T00:56:31.413Z","type":"join"}
{"nick":"IRCFrEAK","date":"2017-02-20T00:56:31.712Z","type":"part"}
{"nick":"troykelly_","reason":"Ping timeout: 240 seconds","date":"2017-02-20T01:13:00.054Z","type":"quit"}
{"nick":"TimothyGu","message":"addaleax: is there a good reason for the limitation in MaybeStackBuffer to only call AllocateSufficientStorage or Invalidate once? i.e. https://github.com/nodejs/node/blob/051047231ec71307302904b10dd8a80ee3027ae0/src/util.h#L308-L309","date":"2017-02-20T01:16:18.308Z","type":"message"}
{"nick":"addaleax","message":"well… first calling AllocateSufficientStorage() and then Invalidate()ing leaks memory","date":"2017-02-20T01:18:04.404Z","type":"message"}
{"nick":"addaleax","message":"other than that, I don’t think so","date":"2017-02-20T01:18:21.073Z","type":"message"}
{"nick":"TimothyGu","message":"mmh okay","date":"2017-02-20T01:19:13.631Z","type":"message"}
{"nick":"addaleax","message":"you can remove that comment if you think that makes sense :D","date":"2017-02-20T01:19:44.531Z","type":"message"}
{"nick":"TimothyGu","message":"I'm looking at the code here: https://github.com/nodejs/node/blob/051047231ec71307302904b10dd8a80ee3027ae0/src/node_i18n.cc#L466-L480","date":"2017-02-20T01:19:48.780Z","type":"message"}
{"nick":"TimothyGu","message":"which is used here: https://github.com/nodejs/node/blob/051047231ec71307302904b10dd8a80ee3027ae0/src/node_url.cc#L108-L110","date":"2017-02-20T01:20:07.721Z","type":"message"}
{"nick":"TimothyGu","message":"since buf is always initialized to length == 0, the buffer overflow retry is always activated, so every time the function is called the conversion is actually done twice","date":"2017-02-20T01:20:46.295Z","type":"message"}
{"nick":"TimothyGu","message":"and if one accidentally pass to ToASCII in node_i18n a used buffer, AllocateSufficientStorage() will possibly be called twice","date":"2017-02-20T01:21:31.361Z","type":"message"}
{"nick":"addaleax","message":"uh… I think the former behaviour is an actual bug","date":"2017-02-20T01:22:12.942Z","type":"message"}
{"nick":"TimothyGu","message":"which former behavior?","date":"2017-02-20T01:22:41.183Z","type":"message"}
{"nick":"addaleax","message":"like, it should pass kStackStorageSize to uidna_nameToASCII_UTF8 on the first call, right?","date":"2017-02-20T01:23:07.668Z","type":"message"}
{"nick":"troykelly","date":"2017-02-20T01:23:09.827Z","type":"join"}
{"nick":"TimothyGu","message":"yeah","date":"2017-02-20T01:23:16.276Z","type":"message"}
{"nick":"TimothyGu","message":"I'm making a method capacity() for the class when I encountered this comment","date":"2017-02-20T01:23:40.467Z","type":"message"}
{"nick":"TimothyGu","message":"addaleax: also, does https://github.com/nodejs/node/blob/051047231ec71307302904b10dd8a80ee3027ae0/src/util.h#L349-L352 leak memory if buf_ is malloc'd?","date":"2017-02-20T01:31:56.072Z","type":"message"}
{"nick":"addaleax","message":"yup (unless of course the old pointer became managed by another owner before)","date":"2017-02-20T01:33:04.235Z","type":"message"}
{"nick":"TimothyGu","message":"this code looks so buggy...","date":"2017-02-20T01:34:30.719Z","type":"message"}
{"nick":"TimothyGu","message":"is there a built-in way to build node with something like asan?","date":"2017-02-20T01:34:47.520Z","type":"message"}
{"nick":"TimothyGu","message":"or do i have to use valgrind","date":"2017-02-20T01:34:57.677Z","type":"message"}
{"nick":"addaleax","message":"I think valgrind is what you’re going to have to use ;)","date":"2017-02-20T01:35:40.454Z","type":"message"}
{"nick":"addaleax","message":"you could say the code “grew organically”… ;) if you think you can improve things, go for it","date":"2017-02-20T01:36:19.360Z","type":"message"}
{"nick":"TimothyGu","message":":/","date":"2017-02-20T01:36:36.063Z","type":"message"}
{"nick":"BridgeAR","reason":"Ping timeout: 240 seconds","date":"2017-02-20T01:49:28.518Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-02-20T02:17:03.401Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-02-20T02:17:03.561Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-02-20T02:20:30.725Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-02-20T02:20:30.886Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-02-20T02:56:52.420Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-02-20T02:56:52.618Z","type":"part"}
{"nick":"yuta_hiroto","date":"2017-02-20T02:59:17.739Z","type":"join"}
{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T03:46:21.025Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-02-20T03:52:55.780Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2017-02-20T03:54:11.546Z","type":"quit"}
{"nick":"yuta_hiroto","reason":"Ping timeout: 260 seconds","date":"2017-02-20T03:58:45.774Z","type":"quit"}
{"nick":"notarseniy","date":"2017-02-20T04:02:36.725Z","type":"join"}
{"nick":"madgoat","date":"2017-02-20T04:03:00.160Z","type":"join"}
{"nick":"madgoat","date":"2017-02-20T04:03:00.376Z","type":"part"}
{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T04:04:10.189Z","type":"quit"}
{"nick":"notarseniy","date":"2017-02-20T04:04:23.770Z","type":"join"}
{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T04:06:48.763Z","type":"quit"}
{"nick":"notarseniy","date":"2017-02-20T04:15:33.026Z","type":"join"}
{"nick":"joyee","date":"2017-02-20T04:22:02.725Z","type":"join"}
{"nick":"yuta_hiroto","date":"2017-02-20T04:28:58.774Z","type":"join"}
{"nick":"jessicaquynh","reason":"Remote host closed the connection","date":"2017-02-20T04:31:16.878Z","type":"quit"}
{"nick":"joyee_","date":"2017-02-20T04:42:36.004Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-02-20T04:42:36.317Z","type":"quit"}
{"nick":"notarseniy","reason":"Remote host closed the connection","date":"2017-02-20T04:49:02.602Z","type":"quit"}
{"nick":"joyee_","reason":"Remote host closed the connection","date":"2017-02-20T04:50:37.811Z","type":"quit"}
{"nick":"joyee","date":"2017-02-20T04:51:14.392Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-02-20T04:53:00.565Z","type":"quit"}
{"nick":"joyee","date":"2017-02-20T04:53:14.838Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-02-20T05:15:30.180Z","type":"quit"}
{"nick":"joyee_","date":"2017-02-20T05:15:33.313Z","type":"join"}
{"nick":"Guest89097","new_nick":"indutny","date":"2017-02-20T05:23:35.866Z","type":"nick"}
{"nick":"evanlucas","reason":"Ping timeout: 260 seconds","date":"2017-02-20T05:54:01.550Z","type":"quit"}
{"nick":"howdoi","date":"2017-02-20T06:14:26.469Z","type":"join"}
{"nick":"mscdex","reason":"Ping timeout: 240 seconds","date":"2017-02-20T06:15:00.184Z","type":"quit"}
{"nick":"joyee_","reason":"Read error: Connection reset by peer","date":"2017-02-20T06:24:35.681Z","type":"quit"}
{"nick":"mscdex","date":"2017-02-20T06:29:06.346Z","type":"join"}
{"nick":"joyee","date":"2017-02-20T06:29:09.394Z","type":"join"}
{"nick":"troykelly","reason":"Quit: Farewell. So long. My battery has died...","date":"2017-02-20T06:32:58.043Z","type":"quit"}
{"nick":"lpin","date":"2017-02-20T06:37:23.758Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-02-20T06:56:39.766Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-02-20T06:56:39.922Z","type":"part"}
{"nick":"mcollina","date":"2017-02-20T07:19:00.095Z","type":"join"}
{"nick":"EV3RYDAYPR0GRESS","reason":"Read error: Connection reset by peer","date":"2017-02-20T07:19:38.741Z","type":"quit"}
{"nick":"EV3RYDAYPR0GRESS","date":"2017-02-20T07:20:19.496Z","type":"join"}
{"nick":"mcollina","reason":"Remote host closed the connection","date":"2017-02-20T07:21:28.816Z","type":"quit"}
{"nick":"mcollina","date":"2017-02-20T07:21:41.069Z","type":"join"}
{"nick":"mcollina","reason":"Remote host closed the connection","date":"2017-02-20T07:26:12.486Z","type":"quit"}
{"nick":"yuta_hiroto","reason":"Ping timeout: 240 seconds","date":"2017-02-20T07:30:11.846Z","type":"quit"}
{"nick":"seishun","date":"2017-02-20T07:30:20.084Z","type":"join"}
{"nick":"yuta_hiroto","date":"2017-02-20T07:31:48.207Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-02-20T07:35:50.896Z","type":"quit"}
{"nick":"joyee","date":"2017-02-20T07:36:01.202Z","type":"join"}
{"nick":"joyee","reason":"Read error: Connection reset by peer","date":"2017-02-20T07:56:47.262Z","type":"quit"}

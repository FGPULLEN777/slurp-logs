{"nick":"taaz_","new_nick":"taaz","date":"2017-06-21T00:24:49.627Z","type":"nick"}
{"nick":"ChALkeR","reason":"Quit: Konversation terminated!","date":"2017-06-21T00:47:28.968Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T00:47:55.095Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T00:47:55.095Z","type":"part"}
{"nick":"ChALkeR","date":"2017-06-21T00:48:19.814Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T00:50:52.736Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T00:50:52.875Z","type":"part"}
{"nick":"bpmedley","date":"2017-06-21T00:52:36.735Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 276 seconds","date":"2017-06-21T00:55:33.828Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T01:07:19.718Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T01:07:19.719Z","type":"part"}
{"nick":"ChALkeR","date":"2017-06-21T01:17:07.895Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 255 seconds","date":"2017-06-21T01:23:01.968Z","type":"quit"}
{"nick":"joshontheweb","date":"2017-06-21T01:37:09.049Z","type":"join"}
{"nick":"ktjd123","date":"2017-06-21T01:39:44.309Z","type":"join"}
{"nick":"ktjd123","date":"2017-06-21T01:39:55.068Z","type":"part"}
{"nick":"alrra","date":"2017-06-21T02:25:58.120Z","type":"join"}
{"nick":"alrra","reason":"Changing host","date":"2017-06-21T02:25:59.986Z","type":"quit"}
{"nick":"alrra","date":"2017-06-21T02:25:59.987Z","type":"join"}
{"nick":"alrra","reason":"Changing host","date":"2017-06-21T02:25:59.987Z","type":"quit"}
{"nick":"alrra","date":"2017-06-21T02:25:59.987Z","type":"join"}
{"nick":"joshontheweb","reason":"Quit: Computer has gone to sleep.","date":"2017-06-21T02:28:07.595Z","type":"quit"}
{"nick":"phpnode","reason":"Remote host closed the connection","date":"2017-06-21T02:41:34.548Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T03:03:00.467Z","type":"join"}
{"nick":"qard","date":"2017-06-21T03:09:22.602Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-06-21T03:10:05.641Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T03:17:19.987Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T03:17:19.988Z","type":"part"}
{"nick":"howdoi","date":"2017-06-21T03:40:19.788Z","type":"join"}
{"nick":"not-an-aardvark","date":"2017-06-21T03:48:03.957Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T03:51:32.357Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T03:51:32.501Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T03:54:39.861Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T03:54:39.863Z","type":"part"}
{"nick":"phpnode","date":"2017-06-21T04:42:07.573Z","type":"join"}
{"nick":"lpin","date":"2017-06-21T04:52:40.481Z","type":"join"}
{"nick":"jeyanthi","date":"2017-06-21T04:57:41.170Z","type":"join"}
{"nick":"qard","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-06-21T05:25:59.451Z","type":"quit"}
{"nick":"aqrln","message":"trevnorris: > require('buffer').Buffer is b/c of jslint.","date":"2017-06-21T05:50:55.766Z","type":"message"}
{"nick":"aqrln","message":"since https://github.com/nodejs/node/pull/5371 the linter rule only applies to lib/","date":"2017-06-21T05:51:12.756Z","type":"message"}
{"nick":"aqrln","message":"thanks for showing the direction where to dig for the answer, apparently those tests were written before #5371","date":"2017-06-21T05:52:49.807Z","type":"message"}
{"nick":"aqrln","message":"cc Trott","date":"2017-06-21T05:53:15.024Z","type":"message"}
{"nick":"trevnorris","message":"yup. and thanks for pointing out that require('buffer').Buffer is no longer needed in test/","date":"2017-06-21T05:53:21.493Z","type":"message"}
{"nick":"aqrln","message":"sounds like a good first contribution","date":"2017-06-21T05:53:43.858Z","type":"message"}
{"nick":"aqrln","message":"I can open an issue","date":"2017-06-21T05:53:49.544Z","type":"message"}
{"nick":"aqrln","message":"p.s. I really enjoy our Git history with grepable subsystems and commit metadata","date":"2017-06-21T05:55:57.831Z","type":"message"}
{"nick":"aqrln","message":"anything can be found instantly","date":"2017-06-21T05:56:03.571Z","type":"message"}
{"nick":"qard","date":"2017-06-21T06:16:58.427Z","type":"join"}
{"nick":"aqrln","message":"buffer things aside, who is in charge for the GitHub organization teams? :)","date":"2017-06-21T06:17:09.002Z","type":"message"}
{"nick":"aqrln","message":"I've opened an issue on the TSC repo, but I'm not sure if that's the right place","date":"2017-06-21T06:17:23.913Z","type":"message"}
{"nick":"aqrln","message":"https://github.com/nodejs/TSC/issues/284","date":"2017-06-21T06:17:26.140Z","type":"message"}
{"nick":"aqrln","message":"(the issue is about nodejs/members team)","date":"2017-06-21T06:17:47.862Z","type":"message"}
{"nick":"oohnoitz","reason":"Ping timeout: 276 seconds","date":"2017-06-21T06:21:45.497Z","type":"quit"}
{"nick":"oohnoitz-","date":"2017-06-21T06:21:45.926Z","type":"join"}
{"nick":"seishun","date":"2017-06-21T06:26:57.374Z","type":"join"}
{"nick":"ChALkeR","date":"2017-06-21T06:30:47.156Z","type":"join"}
{"nick":"qard","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2017-06-21T06:40:23.081Z","type":"quit"}
{"nick":"jeyanthi","reason":"Ping timeout: 260 seconds","date":"2017-06-21T06:58:48.208Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 268 seconds","date":"2017-06-21T07:22:26.777Z","type":"quit"}
{"nick":"lpin","reason":"Read error: Connection reset by peer","date":"2017-06-21T07:27:06.835Z","type":"quit"}
{"nick":"jeyanthi","date":"2017-06-21T07:32:13.460Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 260 seconds","date":"2017-06-21T07:56:33.179Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T07:59:53.282Z","type":"join"}
{"nick":"alrra","reason":"Quit: Connection closed for inactivity","date":"2017-06-21T08:04:29.172Z","type":"quit"}
{"nick":"ChALkeR","reason":"Read error: Connection reset by peer","date":"2017-06-21T08:07:51.605Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T08:08:24.149Z","type":"join"}
{"nick":"phpnode","reason":"Remote host closed the connection","date":"2017-06-21T08:19:35.402Z","type":"quit"}
{"nick":"phpnode","date":"2017-06-21T08:19:47.504Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 255 seconds","date":"2017-06-21T08:25:37.097Z","type":"quit"}
{"nick":"geoid","date":"2017-06-21T08:33:18.889Z","type":"join"}
{"nick":"geoid","reason":"Client Quit","date":"2017-06-21T08:33:24.649Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T08:38:18.787Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T08:38:18.791Z","type":"part"}
{"nick":"alraz","date":"2017-06-21T08:45:11.957Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T09:17:05.837Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T09:17:05.839Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T09:28:34.280Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T09:28:34.321Z","type":"part"}
{"nick":"TimothyGu","date":"2017-06-21T09:49:02.510Z","type":"join"}
{"nick":"ChALkeR","date":"2017-06-21T09:52:45.898Z","type":"join"}
{"nick":"gucci_meow","date":"2017-06-21T09:55:08.933Z","type":"join"}
{"nick":"tniessen","date":"2017-06-21T10:04:32.438Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T10:13:53.097Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T10:13:53.099Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T10:14:36.279Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T10:14:36.281Z","type":"part"}
{"nick":"gucci_meow","reason":"Remote host closed the connection","date":"2017-06-21T10:16:23.577Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-06-21T10:25:09.805Z","type":"quit"}
{"nick":"mylesborins","date":"2017-06-21T10:25:40.300Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 255 seconds","date":"2017-06-21T10:25:43.975Z","type":"quit"}
{"nick":"bordeaux_facile","reason":"Quit: ZNC 1.6.3+deb1+xenial0 - http://znc.in","date":"2017-06-21T10:34:48.814Z","type":"quit"}
{"nick":"bordeaux_facile","date":"2017-06-21T10:37:08.036Z","type":"join"}
{"nick":"alraz","reason":"Quit: Leaving","date":"2017-06-21T10:44:12.077Z","type":"quit"}
{"nick":"bordeaux_facile","reason":"Quit: ZNC 1.6.3+deb1+xenial0 - http://znc.in","date":"2017-06-21T10:44:47.421Z","type":"quit"}
{"nick":"bordeaux_facile","date":"2017-06-21T10:45:22.942Z","type":"join"}
{"nick":"bordeaux_facile","reason":"Client Quit","date":"2017-06-21T10:47:40.864Z","type":"quit"}
{"nick":"bordeaux_facile","date":"2017-06-21T10:48:39.172Z","type":"join"}
{"nick":"onel0p3z","date":"2017-06-21T10:57:19.350Z","type":"join"}
{"nick":"tniessen","reason":"Quit: Leaving","date":"2017-06-21T11:00:02.489Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T11:10:07.459Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T11:10:07.501Z","type":"part"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2017-06-21T11:27:49.088Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T12:13:19.567Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-06-21T12:20:35.473Z","type":"quit"}
{"nick":"refack","message":"Is this think on?","date":"2017-06-21T12:31:36.748Z","type":"message"}
{"nick":"ChALkeR","date":"2017-06-21T12:32:00.805Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 268 seconds","date":"2017-06-21T12:36:56.774Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T12:50:20.270Z","type":"join"}
{"nick":"bradleymeck","date":"2017-06-21T13:05:11.520Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-06-21T13:28:08.418Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-06-21T13:29:18.398Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T13:42:20.539Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T13:42:20.542Z","type":"part"}
{"nick":"indistylo","date":"2017-06-21T13:51:52.302Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-06-21T14:05:31.181Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T14:10:28.016Z","type":"join"}
{"nick":"plasticle","reason":"Ping timeout: 246 seconds","date":"2017-06-21T14:15:20.544Z","type":"quit"}
{"nick":"bradleymeck","message":"refack: did you make some sort of tracking issue for snapshot stuff you are doing?","date":"2017-06-21T14:53:05.141Z","type":"message"}
{"nick":"jeyanthi","reason":"Quit: jeyanthi","date":"2017-06-21T15:09:25.847Z","type":"quit"}
{"nick":"refack","message":"Not yet...","date":"2017-06-21T15:23:19.133Z","type":"message"}
{"nick":"tbsaunde_","new_nick":"tbsaunde","date":"2017-06-21T15:31:18.308Z","type":"nick"}
{"nick":"bradleymeck","message":"no worries, just don't want to forget about it and then see it months later after not tracking it","date":"2017-06-21T15:36:06.552Z","type":"message"}
{"nick":"Trott","message":"aqrln: The members team is manually maintained, unfortunately.","date":"2017-06-21T15:44:01.569Z","type":"message"}
{"nick":"Trott","message":"TSC is probably a good place to start.","date":"2017-06-21T15:44:21.100Z","type":"message"}
{"nick":"Trott","date":"2017-06-21T15:44:54.963Z","type":"quit"}
{"nick":"Trott","date":"2017-06-21T15:45:10.869Z","type":"join"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2017-06-21T15:50:30.910Z","type":"quit"}
{"nick":"seishun","date":"2017-06-21T15:50:55.070Z","type":"join"}
{"nick":"Trott","message":"refack: Are you around?","date":"2017-06-21T16:09:08.295Z","type":"message"}
{"nick":"Trott","message":"Any Collaborators using OS X, can you confirm that `make test` (or just `make test-async-hooks`) is broken for you as of 32c7f114c54190dbdfb5f21f1432cf6626777341 but fixed if you roll back one commit to 1c314f5facb98e4790ff60f0104f5d18bc3eb53e? If it's obvious that it's not Just Me, I'd like to revert that commit quickly.","date":"2017-06-21T16:12:06.046Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T16:21:59.802Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T16:21:59.804Z","type":"part"}
{"nick":"justNow","date":"2017-06-21T16:36:29.967Z","type":"join"}
{"nick":"justNow","reason":"Client Quit","date":"2017-06-21T16:36:35.945Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T16:42:49.995Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T16:42:50.033Z","type":"part"}
{"nick":"ChALkeR","reason":"Read error: Connection reset by peer","date":"2017-06-21T16:44:01.852Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T16:44:26.168Z","type":"join"}
{"nick":"ChALkeR","reason":"Read error: Connection reset by peer","date":"2017-06-21T16:47:24.395Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-06-21T16:48:05.197Z","type":"join"}
{"nick":"onel0p3z","reason":"Quit: onel0p3z","date":"2017-06-21T17:03:19.233Z","type":"quit"}
{"nick":"aqrln","message":"refack: I've edited your comment in the require('buffer') tracking issue to include links to the first PR we've got","date":"2017-06-21T17:06:44.904Z","type":"message"}
{"nick":"aqrln","message":"hope that's okay","date":"2017-06-21T17:06:48.732Z","type":"message"}
{"nick":"d10n-work","date":"2017-06-21T17:08:52.982Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:11:04.947Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:11:04.952Z","type":"part"}
{"nick":"addaleax","date":"2017-06-21T17:11:58.779Z","type":"join"}
{"nick":"phpnode","reason":"Remote host closed the connection","date":"2017-06-21T17:15:03.950Z","type":"quit"}
{"nick":"netsinn","date":"2017-06-21T17:19:55.861Z","type":"join"}
{"nick":"zsoc","message":"Is there a convention to use when writing a test for a #ifdef _WIN32 code branch? eg: where to put it / how to name it / make sure it doesn't run in CI?","date":"2017-06-21T17:20:51.974Z","type":"message"}
{"nick":"addaleax","message":"zsoc: You mean, a test that is only run on Windows? You can place it in test/parallel (or wherever else you’d put it) and add a if (!common.isWindows) return common.skip('Windows-only'); at the beginning","date":"2017-06-21T17:22:19.461Z","type":"message"}
{"nick":"netsin","reason":"Ping timeout: 240 seconds","date":"2017-06-21T17:22:58.017Z","type":"quit"}
{"nick":"addaleax","message":"like in test/parallel/test-fs-realpath-on-substed-drive.js","date":"2017-06-21T17:23:01.196Z","type":"message"}
{"nick":"zsoc","message":"addaleax: ah, perfect, thank you :) I didn't see a note of this in either of the testing docs but... maybe it's an obscure thing","date":"2017-06-21T17:23:11.076Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T17:26:54.120Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:26:54.161Z","type":"part"}
{"nick":"zsoc","message":"Ah, it's in the common api doc... i got it now. Missed taht one :)","date":"2017-06-21T17:27:51.646Z","type":"message"}
{"nick":"bradleymeck","reason":"Read error: Connection reset by peer","date":"2017-06-21T17:30:26.643Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-06-21T17:30:45.754Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:38:14.615Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:38:14.617Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T17:38:25.920Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:38:25.922Z","type":"part"}
{"nick":"Alina-malina","reason":"Ping timeout: 240 seconds","date":"2017-06-21T17:38:57.932Z","type":"quit"}
{"nick":"Alina-malina","date":"2017-06-21T17:45:37.541Z","type":"join"}
{"nick":"Alina-malina","reason":"Changing host","date":"2017-06-21T17:49:41.899Z","type":"quit"}
{"nick":"Alina-malina","date":"2017-06-21T17:49:41.909Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:53:07.554Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:53:07.556Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T17:55:59.873Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T17:55:59.876Z","type":"part"}
{"nick":"refack","message":"aqrln: obviously","date":"2017-06-21T18:02:38.971Z","type":"message"}
{"nick":"refack","message":"Trott: how does it fail? i.e. any interesting output?","date":"2017-06-21T18:05:44.566Z","type":"message"}
{"nick":"Trott","message":"refack: Same as CI.","date":"2017-06-21T18:06:47.933Z","type":"message"}
{"nick":"Trott","message":"I mean, failure looks similar.","date":"2017-06-21T18:06:55.309Z","type":"message"}
{"nick":"Trott","message":"Right now, I have two different node binaries on my computer where  macOS behaves differently. --abort-on-uncaught-exception has one exit immediately after printing the stack trace, but the other one has the hang. So trying to figure out what the difference is.","date":"2017-06-21T18:07:52.892Z","type":"message"}
{"nick":"Trott","message":"Because if we can solve *that* mystery, all this other stuff goes away. :-D","date":"2017-06-21T18:08:05.632Z","type":"message"}
{"nick":"refack","message":"That was goal all along :thumbsup:","date":"2017-06-21T18:10:53.021Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T18:11:39.129Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:11:39.169Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T18:12:24.280Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:12:24.283Z","type":"part"}
{"nick":"phpnode","date":"2017-06-21T18:20:14.626Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-06-21T18:21:23.572Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T18:26:01.455Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:26:01.457Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T18:27:56.069Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:27:56.071Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T18:28:36.028Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:28:36.030Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T18:29:48.802Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:29:48.947Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T18:44:26.519Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:44:26.520Z","type":"part"}
{"nick":"bradleymeck","date":"2017-06-21T18:49:52.290Z","type":"join"}
{"nick":"Trott","message":"refack: Investigating https://stackoverflow.com/questions/14268887/what-is-the-illegal-instruction-4-error-and-why-does-mmacosx-version-min-10 as a possible cause. If I'm covering ground you've already covered, let me know.","date":"2017-06-21T18:51:53.641Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T18:52:33.280Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T18:52:33.282Z","type":"part"}
{"nick":"refack","message":"I don't have readily access to a macOS, so all of my experimentations are documented in https://github.com/nodejs/node/pull/13559","date":"2017-06-21T18:55:46.441Z","type":"message"}
{"nick":"Trott","message":"Hey, release folks, is this still accurate/up-to-date? Is there a different document that you use when doing a release or is this it? https://github.com/nodejs/node/wiki/Node.js-release-guide","date":"2017-06-21T18:55:52.422Z","type":"message"}
{"nick":"addaleax","message":"Trott: https://github.com/nodejs/node/blob/master/doc/releases.md","date":"2017-06-21T18:56:12.411Z","type":"message"}
{"nick":"addaleax","message":"I think the wiki page could be replaced with a link to that","date":"2017-06-21T18:57:48.322Z","type":"message"}
{"nick":"Trott","message":"So the business in that wiki page about needing to build locally on a Mac is no longer true?","date":"2017-06-21T18:57:50.539Z","type":"message"}
{"nick":"refack","message":"Trott: What I do know is that spawnSync(process.execPath, args, { timeout: 15 * 1000 }) is not \"strong enough\"","date":"2017-06-21T19:00:03.151Z","type":"message"}
{"nick":"Trott","message":"strong enough?","date":"2017-06-21T19:02:02.394Z","type":"message"}
{"nick":"refack","message":"It doesn't kill the child with a \"string enough\" signal, so it times out after 60+ seconds not 15 as expected","date":"2017-06-21T19:03:27.124Z","type":"message"}
{"nick":"refack","message":"(Which is probably a bug)","date":"2017-06-21T19:05:13.407Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T19:08:19.198Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T19:08:19.200Z","type":"part"}
{"nick":"Trott","message":"I'm finding that when the macOS process hangs, I can't kill it anyway (at least not with SIGINT) so it may not be a bug, it may just be part of the macOS behavior we're seeing that we need to understand?","date":"2017-06-21T19:14:44.720Z","type":"message"}
{"nick":"refack","message":"All I know is that spawnSync(process.execPath, args, { timeout: 15 * 1000 }) got me red CI with whole test times out. and current code `c = spawn; setTimeout(c.kill, 15 * 1000)` at least finishes.","date":"2017-06-21T19:17:22.894Z","type":"message"}
{"nick":"refack","message":"probably c.kill() doesn't actualy kill the process, but it releases the loop for the code to finish","date":"2017-06-21T19:17:50.346Z","type":"message"}
{"nick":"refack","message":"I'll dust off my hackintosh VM. probably has 10.8","date":"2017-06-21T19:18:48.203Z","type":"message"}
{"nick":"ChALkeR","reason":"Ping timeout: 260 seconds","date":"2017-06-21T20:02:48.198Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T20:05:39.857Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:05:39.859Z","type":"part"}
{"nick":"Trott","message":"refack: That compilation flag didn't do anything. Now wondering if the problem is somehow inside of DumpBacktrace() in backtrace_posix.cc.","date":"2017-06-21T20:09:01.832Z","type":"message"}
{"nick":"Trott","message":"But...that can't be right because it's all ifdef'd out on macOS. Harumph.","date":"2017-06-21T20:10:56.116Z","type":"message"}
{"nick":"ezequiel1","message":"addaleax: is there any way i can put a branch with https://github.com/nodejs/node/pull/12794 in https://ci.nodejs.org ?","date":"2017-06-21T20:11:31.607Z","type":"message"}
{"nick":"ChALkeR","date":"2017-06-21T20:13:49.114Z","type":"join"}
{"nick":"ezequiel1","new_nick":"ezequielg","date":"2017-06-21T20:15:26.972Z","type":"nick"}
{"nick":"refack","message":"[offtopic] trying to access how far along am I... Anyone else saving twist ties? Like has a box with several dozen?","date":"2017-06-21T20:18:32.426Z","type":"message"}
{"nick":"addaleax","message":"ezequielg: sorry, what exactly are you asking for? a new CI run?","date":"2017-06-21T20:19:29.362Z","type":"message"}
{"nick":"addaleax","message":"ezequielg: if you want us to run CI on a custom branch that’s not in a PR, yes, we can do that too","date":"2017-06-21T20:20:53.168Z","type":"message"}
{"nick":"indistylo","reason":"Read error: Connection reset by peer","date":"2017-06-21T20:21:31.305Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-06-21T20:24:00.945Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:24:00.946Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T20:24:08.609Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:24:08.649Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T20:29:28.592Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:29:28.594Z","type":"part"}
{"nick":"ezequielg","message":"addaleax: I want to run CI for the changes on the PR.","date":"2017-06-21T20:30:21.876Z","type":"message"}
{"nick":"refack","message":"[OT] I bought some $2 teaspoons at TJMaxx and IMHO the best bit were two really good twist ties, PVC covered once. Grrrrrrr.","date":"2017-06-21T20:30:49.484Z","type":"message"}
{"nick":"ezequielg","message":"and haven't seen one already, so I got curious on how the CI run was created.","date":"2017-06-21T20:31:09.054Z","type":"message"}
{"nick":"addaleax","message":"ezequielg: Our CI needs to be started manually, so you’ll need to ask collaborators to kick one off :) Usually it’s easiest to do that in the github thread (but I’m starting one now, give me a second)","date":"2017-06-21T20:31:42.889Z","type":"message"}
{"nick":"refack","message":"Just started one","date":"2017-06-21T20:31:58.370Z","type":"message"}
{"nick":"refack","message":"https://ci.nodejs.org/job/node-test-pull-request/8786/","date":"2017-06-21T20:31:58.976Z","type":"message"}
{"nick":"addaleax","message":"cool :)","date":"2017-06-21T20:32:11.430Z","type":"message"}
{"nick":"ezequielg","message":"coolio guys. so next time i just need to say so in the pr thread.","date":"2017-06-21T20:32:42.400Z","type":"message"}
{"nick":"refack","message":"Yep","date":"2017-06-21T20:33:07.522Z","type":"message"}
{"nick":"ezequielg","message":"i thought acceptance is now close, so figured it was a good idea to run a CI","date":"2017-06-21T20:33:19.286Z","type":"message"}
{"nick":"refack","message":"Somethign like \"This PR is ready, could someone run CI please?\"","date":"2017-06-21T20:33:51.620Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T20:33:53.873Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:33:53.875Z","type":"part"}
{"nick":"addaleax","message":"ezequielg: yeah, you’re doing everything right :)","date":"2017-06-21T20:33:55.705Z","type":"message"}
{"nick":"ezequielg","message":"funny how this feature was requested on 2010... back then i think i didn't even know what a patch was.","date":"2017-06-21T20:34:36.916Z","type":"message"}
{"nick":"mwh_","date":"2017-06-21T20:35:28.066Z","type":"join"}
{"nick":"refack","message":"[context] the CI setup is quite extensive, with some machines running ~1hr, and we have a few bottle necks. So we run a full range CI only on demenad.","date":"2017-06-21T20:35:28.925Z","type":"message"}
{"nick":"mwh_","new_nick":"Mikey","date":"2017-06-21T20:35:34.755Z","type":"nick"}
{"nick":"Mikey","new_nick":"MikeyWasHere","date":"2017-06-21T20:35:50.594Z","type":"nick"}
{"nick":"ezequielg","message":"btw, my `make test` fails on the napi addons. is it a known issue?","date":"2017-06-21T20:40:12.774Z","type":"message"}
{"nick":"addaleax","message":"what kind of failure? is it not finding files or are you getting an error from the test itself?","date":"2017-06-21T20:40:36.772Z","type":"message"}
{"nick":"refack","message":"ezequielg: which platform are you on (win, mac, linux)?","date":"2017-06-21T20:40:58.068Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 276 seconds","date":"2017-06-21T20:43:45.860Z","type":"quit"}
{"nick":"ezequielg","message":"1. linux 2. a git clean -df fixed it i think","date":"2017-06-21T20:44:22.160Z","type":"message"}
{"nick":"refack","message":"That would have been my recommendation","date":"2017-06-21T20:44:39.175Z","type":"message"}
{"nick":"ezequielg","message":"some tests were removed, leaving the dir behind","date":"2017-06-21T20:44:43.180Z","type":"message"}
{"nick":"refack","message":"WE should fix that (. ﾟーﾟ)","date":"2017-06-21T20:46:10.024Z","type":"message"}
{"nick":"refack","message":"*we","date":"2017-06-21T20:46:19.245Z","type":"message"}
{"nick":"seishun","date":"2017-06-21T20:46:48.232Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:46:56.922Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:46:56.924Z","type":"part"}
{"nick":"zsoc","message":"Is there some preferred method to create a memory leak on purpose? Trying to get create a test for a 'process out of memory' case. Should I try creating a child process with reduced max-exec-size, max-old-space, and max-semi flags and just like.... create an infinitely growing array of objects or something?","date":"2017-06-21T20:50:49.128Z","type":"message"}
{"nick":"zsoc","message":"eh, i'll poke through v8 and figure out the minimums","date":"2017-06-21T20:52:55.015Z","type":"message"}
{"nick":"refack","message":"Intuitivly that sounds about right","date":"2017-06-21T20:56:47.189Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T20:58:31.171Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:58:31.174Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-06-21T20:59:06.104Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T20:59:06.107Z","type":"part"}
{"nick":"zsoc","message":"oh yeah, that worked _real_ quick lol","date":"2017-06-21T20:59:38.183Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T21:02:16.227Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T21:02:16.230Z","type":"part"}
{"nick":"seishun","reason":"Ping timeout: 260 seconds","date":"2017-06-21T21:02:53.090Z","type":"quit"}
{"nick":"zsoc","message":"interesting... 3 seems to be the lowest you can set --max-old-space-size.. setting it to 2 just silently fails and exits the process.","date":"2017-06-21T21:02:59.058Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T21:03:11.185Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T21:03:11.187Z","type":"part"}
{"nick":"refack","message":"That's a nice factoid to document. Even in the wiki","date":"2017-06-21T21:03:49.888Z","type":"message"}
{"nick":"zsoc","message":"Actually now I wanna poke at it with a debugger and see what's actually happening. I tend to go down the rabbit hole...","date":"2017-06-21T21:04:59.236Z","type":"message"}
{"nick":"refack","message":"tie a lifeline so you can find your way back ;)","date":"2017-06-21T21:05:40.500Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T21:09:59.043Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T21:09:59.045Z","type":"part"}
{"nick":"Trott","message":"Speaking of rabbit holes...that abort-on-uncaught-exception + macOS issue? refack, I was secretly so happy that you were diving in because that had all the signposts of \"surreal rabbit hole that will consume days of your life\" all over it. But alas, I'm GETTING SUCKED IN NOW! STOP IT! STOP IT SOMEHOW! MAKE IT STOP!!!!","date":"2017-06-21T21:10:45.405Z","type":"message"}
{"nick":"Trott","message":":-D","date":"2017-06-21T21:10:55.490Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T21:11:34.034Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T21:11:34.037Z","type":"part"}
{"nick":"Trott","message":"Of course, if it's C++, it takes me 400 times longer than someone who, maybe I don't know, actually is familiar with C++.... :-D","date":"2017-06-21T21:11:40.749Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-06-21T21:12:15.282Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-06-21T21:12:15.285Z","type":"part"}
{"nick":"refack","message":"Trott: can you image you machine and send to me?","date":"2017-06-21T21:22:23.878Z","type":"message"}
{"nick":"Trott","message":"Sadly, no. I am seriously considering mailing you a whole laptop right now, though. (Like, an old one, just as long as it demonstrates the problem. I have access to some obsolete hardware....)","date":"2017-06-21T21:23:59.498Z","type":"message"}
{"nick":"Trott","message":"Hopefully, it won't come to that.","date":"2017-06-21T21:24:06.504Z","type":"message"}
{"nick":"addaleax","message":"Trott: btw, is there a short description of the problem you are seeing, an issue or sth like that?","date":"2017-06-21T21:24:39.710Z","type":"message"}
{"nick":"refack","message":"My hackintosh is up, actualy has 10.11, just fixing some network issues","date":"2017-06-21T21:24:43.617Z","type":"message"}
{"nick":"addaleax","message":"(I don’t watch nodejs/node since a few days so I may have missed that)","date":"2017-06-21T21:25:00.413Z","type":"message"}
{"nick":"Trott","message":"@addaleax This comment explains the observed issue: https://github.com/nodejs/node/issues/13527#issuecomment-307440797","date":"2017-06-21T21:25:51.331Z","type":"message"}
{"nick":"Trott","message":"I'm running on an older macOS than most other Collaborators as is CI, so I think that's why I'm seeing issues where they're not. I wouldn't even care that *I* was seeing the issue if it wasn't also causing problems in CI.","date":"2017-06-21T21:26:56.513Z","type":"message"}
{"nick":"addaleax","message":"my first thought would be that “looooong pause” means it’s generating a much larger core dump, so maybe the process is consuming more memory","date":"2017-06-21T21:27:21.885Z","type":"message"}
{"nick":"Trott","message":"Also, I've tracked it to `base::OS::Abort()` in isolate.cc  in V8 but that's as far as I've gotten.","date":"2017-06-21T21:27:49.525Z","type":"message"}
{"nick":"Trott","message":"I disabled core dumps on my machine and it still does the long pause.","date":"2017-06-21T21:27:57.939Z","type":"message"}
{"nick":"Trott","message":"Not to say it still isn't going through the motions for some reason....","date":"2017-06-21T21:28:36.321Z","type":"message"}
{"nick":"addaleax","message":"do you get the long pause with a debugger as well? am I actually correct in thinking that the long pause is the core of the issue?","date":"2017-06-21T21:28:40.683Z","type":"message"}
{"nick":"Trott","message":"Yes, long pause is the issue.","date":"2017-06-21T21:28:55.649Z","type":"message"}
{"nick":"Trott","message":"Um, you mean a C++ debugger and not inspector or something right?","date":"2017-06-21T21:29:10.535Z","type":"message"}
{"nick":"addaleax","message":"right, I mean a C++ debugger","date":"2017-06-21T21:29:35.562Z","type":"message"}
{"nick":"addaleax","message":"gdb or lldb, shouldn’t really make a difference","date":"2017-06-21T21:29:59.571Z","type":"message"}
{"nick":"Trott","message":"I have lldb installed already but not gdb, so let's go with lldb.","date":"2017-06-21T21:30:26.917Z","type":"message"}
{"nick":"Trott","message":"(Learning how to use lldb right now....)","date":"2017-06-21T21:31:52.778Z","type":"message"}
{"nick":"plasticle","date":"2017-06-21T21:34:21.889Z","type":"join"}
{"nick":"Trott","message":"Here's what happened:","date":"2017-06-21T21:34:41.055Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/Mn1MjyEA/","date":"2017-06-21T21:34:50.051Z","type":"message"}
{"nick":"Trott","message":"No pause, although I suspect the pause may be inside V8_IMMEDIATE_CRASH() perhaps?","date":"2017-06-21T21:35:27.964Z","type":"message"}
{"nick":"Trott","message":"Also, this looks useful to me as is, but should I build a debug version or something?","date":"2017-06-21T21:35:40.449Z","type":"message"}
{"nick":"Trott","message":"(Lastly: Thanks for the suggestion!!!!)","date":"2017-06-21T21:36:04.308Z","type":"message"}
{"nick":"addaleax","message":"that seems about right … and, well, C++ debuggers usually always pause when the process receives a signal like SIGILL","date":"2017-06-21T21:36:21.632Z","type":"message"}
{"nick":"addaleax","message":"I don’t think you’ll need a debug build of node of this … I mean, if you have the time, try it, at the very least it’ll be another data point","date":"2017-06-21T21:36:59.959Z","type":"message"}
{"nick":"addaleax","message":"can you print backtraces for all threads in lldb? I’m not sure how to do that, I only know the gdb commands","date":"2017-06-21T21:37:26.138Z","type":"message"}
{"nick":"addaleax","message":"that would be my other idea … that a thread is hanging for some reason and that’s why the process doesn’t exit even though the main thread crashed","date":"2017-06-21T21:37:47.439Z","type":"message"}
{"nick":"Trott","message":"Would it make sense to step into V8_IMMEDIATE_CRASH() or is the fact that it's being called rather than the abort() a few lines later already sign of big trouble?","date":"2017-06-21T21:38:05.397Z","type":"message"}
{"nick":"addaleax","message":"not really","date":"2017-06-21T21:38:21.503Z","type":"message"}
{"nick":"addaleax","message":"I’m not sure whether that’s obvious to you but you are already inside of V8_IMMEDIATE_CRASH()","date":"2017-06-21T21:38:33.784Z","type":"message"}
{"nick":"addaleax","message":"it’s a macro, not a function, so there’s no real “stepping in” or “stepping out”","date":"2017-06-21T21:38:48.971Z","type":"message"}
{"nick":"Trott","message":"Ah. No, not obvious to me. :-D","date":"2017-06-21T21:39:03.094Z","type":"message"}
{"nick":"Trott","message":"Let me get on that thread backtraces request...","date":"2017-06-21T21:39:18.735Z","type":"message"}
{"nick":"refack","message":"it's __builtin_trap()","date":"2017-06-21T21:39:21.215Z","type":"message"}
{"nick":"refack","message":"V8_IMMEDIATE_CRASH == __builtin_trap","date":"2017-06-21T21:39:38.353Z","type":"message"}
{"nick":"Trott","message":"Does this look useful?:","date":"2017-06-21T21:40:01.106Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/lXdK8D89/","date":"2017-06-21T21:40:04.823Z","type":"message"}
{"nick":"refack","message":"Here (windows) it's ((void(*)())0)()","date":"2017-06-21T21:40:31.359Z","type":"message"}
{"nick":"refack","message":"very LISPy","date":"2017-06-21T21:40:37.436Z","type":"message"}
{"nick":"addaleax","message":"Trott: maybe? this is the backtrace for thread #1, but that’s where we already know where the current stack is coming from (from the intentional crash)","date":"2017-06-21T21:41:20.900Z","type":"message"}
{"nick":"refack","message":"this \"semaphore_wait_trap\" doesn't look healty","date":"2017-06-21T21:41:21.469Z","type":"message"}
{"nick":"Trott","message":"Oh, let me do \"thread backtrace all\" instead of just \"thread backtrace\"....","date":"2017-06-21T21:41:59.169Z","type":"message"}
{"nick":"addaleax","message":"refack: maybe … it could also be because those threads are idle, I think","date":"2017-06-21T21:42:04.582Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/6XaDvNER/","date":"2017-06-21T21:42:33.660Z","type":"message"}
{"nick":"Trott","message":"Thank you again both of you for your help with this.","date":"2017-06-21T21:42:55.562Z","type":"message"}
{"nick":"addaleax","message":"Trott: np, this is pretty interesting ;)","date":"2017-06-21T21:43:46.728Z","type":"message"}
{"nick":"refack","message":"I think the binary differance you are seeing is because __builtin_trap is glibc, and you are probbaly building with clang, right","date":"2017-06-21T21:43:47.441Z","type":"message"}
{"nick":"Trott","message":"I'm 99% sure I'm building with clang.","date":"2017-06-21T21:44:12.622Z","type":"message"}
{"nick":"refack","message":"or more exacly gcc","date":"2017-06-21T21:44:14.143Z","type":"message"}
{"nick":"addaleax","message":"refack: Yeah, that’s why V8_IMMEDIATE_CRASH is different on Windows, but … I’m 99.99 % sure that really isn’t the problem here","date":"2017-06-21T21:44:14.714Z","type":"message"}
{"nick":"refack","message":"yeah, at least it solves one mystery, Trott's self built one pauses, while the official doesn't","date":"2017-06-21T21:45:15.658Z","type":"message"}
{"nick":"addaleax","message":"refack: sorry, what mystery?","date":"2017-06-21T21:45:35.035Z","type":"message"}
{"nick":"refack","message":"why same code generates two different behaving binaries","date":"2017-06-21T21:45:57.918Z","type":"message"}
{"nick":"addaleax","message":"yeah … because it uses different compilers. and it pauses because it’s inside a debugger, it would do that with either variant of V8_IMMEDIATE_CRASH, so… still not sure what you’re getting at","date":"2017-06-21T21:46:31.326Z","type":"message"}
{"nick":"refack","message":"Not the debugger pause the melignant pause (the issue)","date":"2017-06-21T21:47:01.270Z","type":"message"}
{"nick":"Trott","message":"addaleax: I think refack is commenting on this peculiarity: If I compile Node 8.1.2 locally, this problem manifests itself. If I use the version that nodejs.org distributes (installed via nvm, but that likely doesn't matter), then I *don't* see the problem.","date":"2017-06-21T21:47:02.304Z","type":"message"}
{"nick":"ChALkeR","reason":"Ping timeout: 260 seconds","date":"2017-06-21T21:47:13.132Z","type":"quit"}
{"nick":"refack","message":"So clang uses ((void(*)())0)() === V8_IMMEDIATE_CRASH","date":"2017-06-21T21:47:29.218Z","type":"message"}
{"nick":"Trott","message":"Even weirder: The machine on CI will have the problem for hours, then it mysteriously goes away.","date":"2017-06-21T21:47:30.078Z","type":"message"}
{"nick":"addaleax","message":"ah … interesting","date":"2017-06-21T21:47:30.646Z","type":"message"}
{"nick":"addaleax","message":"refack: no, I don’t think so?","date":"2017-06-21T21:47:38.831Z","type":"message"}
{"nick":"addaleax","message":"refack: you’d get a segfault, not a sigill","date":"2017-06-21T21:47:54.080Z","type":"message"}
{"nick":"addaleax","message":"yes, that /is/ weird","date":"2017-06-21T21:48:12.714Z","type":"message"}
{"nick":"Trott","message":"But let's stay focused on this binary I have on this particular machine where it's totally manifesting itself 100% of the time and wow I want to know what's going on, don't we all? Yes? Cool! LET'S DO THIS THING!","date":"2017-06-21T21:48:13.932Z","type":"message"}
{"nick":"refack","message":"The problem on the CI machine doesn't completly goes away it just goes to ~4sec instead of 60sec","date":"2017-06-21T21:48:29.873Z","type":"message"}
{"nick":"ljharb","message":"Trott: do you see it if you do `nvm install -s 8.1.2`?","date":"2017-06-21T21:48:35.080Z","type":"message"}
{"nick":"Trott","message":"refack: Oh, that is a huge relief to know. Makes it much less mysterious.","date":"2017-06-21T21:48:51.638Z","type":"message"}
{"nick":"Trott","message":"ljharb: Does that mean install source and compile?","date":"2017-06-21T21:49:02.760Z","type":"message"}
{"nick":"addaleax","message":"anyway, I think all threads in your debug output are accounted for and doing exactly what they are supposed to","date":"2017-06-21T21:49:37.740Z","type":"message"}
{"nick":"addaleax","message":"which would make my next tool of choice dtrace-or-whatever-strace-is-called-on-macos","date":"2017-06-21T21:50:14.075Z","type":"message"}
{"nick":"addaleax","message":"dtruss? :D","date":"2017-06-21T21:50:26.817Z","type":"message"}
{"nick":"Trott","message":"I was using dtruss earlier but couldn't get anything useful out of it.","date":"2017-06-21T21:50:44.656Z","type":"message"}
{"nick":"Trott","message":"But I was kind of arbitrarily trying different things.","date":"2017-06-21T21:51:06.892Z","type":"message"}
{"nick":"refack","message":"I googled osx \"((void(*)())0)()\" and got https://github.com/nodejs/node/issues/9979","date":"2017-06-21T21:51:16.526Z","type":"message"}
{"nick":"Trott","message":"Oh, yeah, that came up at Code & Learn in Austin, I think!","date":"2017-06-21T21:52:15.789Z","type":"message"}
{"nick":"refack","message":"Joey had the same issue","date":"2017-06-21T21:52:41.184Z","type":"message"}
{"nick":"Trott","message":"I've got dtrace and dtruss, I just don't know what to do with them.","date":"2017-06-21T21:52:44.160Z","type":"message"}
{"nick":"addaleax","message":"Trott: the problem still occurs when running under dtruss, right?","date":"2017-06-21T21:53:05.978Z","type":"message"}
{"nick":"phpnode","reason":"Remote host closed the connection","date":"2017-06-21T21:53:12.622Z","type":"quit"}
{"nick":"addaleax","message":"does the output change? does it hang at the same point, and if so, what’s right before and right after the pause?","date":"2017-06-21T21:53:33.207Z","type":"message"}
{"nick":"refack","message":"addaleax: you suggested a stuck signal handler - https://github.com/nodejs/node/issues/9979#issuecomment-267882546","date":"2017-06-21T21:53:37.523Z","type":"message"}
{"nick":"addaleax","message":"oooh","date":"2017-06-21T21:54:05.577Z","type":"message"}
{"nick":"addaleax","message":"right","date":"2017-06-21T21:54:07.193Z","type":"message"}
{"nick":"addaleax","message":"it seems unlikely given how minimal Trott’s reproduction is, but maybe…","date":"2017-06-21T21:54:28.688Z","type":"message"}
{"nick":"Trott","message":"Would \"running under dtruss\" be this?","date":"2017-06-21T21:54:36.437Z","type":"message"}
{"nick":"Trott","message":"sudo dtruss ./node --abort-on-uncaught-exception -e 'throw new Error(\"foo\")'","date":"2017-06-21T21:54:36.619Z","type":"message"}
{"nick":"addaleax","message":"Trott: what do you get when you continue execution in lldb after the crash? (sorry for continuing that old conversation thread in a non-threaded chat environment :P)","date":"2017-06-21T21:54:59.989Z","type":"message"}
{"nick":"addaleax","message":"and yes, seems right","date":"2017-06-21T21:55:05.672Z","type":"message"}
{"nick":"Trott","message":"dtruss output, stops immediately, no hang:","date":"2017-06-21T21:55:37.288Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/ZI5zz9Ml/","date":"2017-06-21T21:55:40.270Z","type":"message"}
{"nick":"Trott","message":"Never mind, that was not the right command.","date":"2017-06-21T21:55:58.654Z","type":"message"}
{"nick":"Trott","message":":-D","date":"2017-06-21T21:55:59.509Z","type":"message"}
{"nick":"Trott","message":"Oh, crud, I may have been using a ./node with some modifications. Oof. Recompiling to make sure its pristine. Apologies....","date":"2017-06-21T21:58:20.338Z","type":"message"}
{"nick":"Trott","message":"OK, still pauses.","date":"2017-06-21T21:58:45.963Z","type":"message"}
{"nick":"Trott","message":"Start with dtruss, go back to lldb, or doesn't matter, just do one already?","date":"2017-06-21T21:58:57.643Z","type":"message"}
{"nick":"addaleax","message":"dtruss output might still be nice, and lldb with continuing after the crash might tell us whether my hunch that refack linked above could be right or not","date":"2017-06-21T21:59:27.287Z","type":"message"}
{"nick":"Trott","message":"dtruss adds a complication because if I run as root, the pause goes away (as does the \"Illegal instruction: 4\" on the last line). So I *think* dtruss is launching the program as root and avoiding the problem.","date":"2017-06-21T22:01:11.181Z","type":"message"}
{"nick":"refack","message":"Trott: wierd suggestion, try it in a new user profile","date":"2017-06-21T22:02:06.991Z","type":"message"}
{"nick":"addaleax","message":"yeah, that’s still interesting… but it points to the problem being something very OS-specific and not a general UNIX thing, and I’d be much less helpful with that","date":"2017-06-21T22:02:41.923Z","type":"message"}
{"nick":"Trott","message":"addaleax: I tried both \"step\" and \"next\":","date":"2017-06-21T22:03:14.163Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/6cdiSZZm/","date":"2017-06-21T22:03:17.121Z","type":"message"}
{"nick":"addaleax","message":"Trott: is there something like “continue” that just keeps the process going until it crashes again?","date":"2017-06-21T22:03:46.985Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/ChYnXltw/","date":"2017-06-21T22:04:05.050Z","type":"message"}
{"nick":"Trott","message":"^^^continue results","date":"2017-06-21T22:04:11.406Z","type":"message"}
{"nick":"addaleax","message":"Trott: even if you enter continue multiple times?","date":"2017-06-21T22:05:48.599Z","type":"message"}
{"nick":"addaleax","message":"that would be odd (which is a good thing)","date":"2017-06-21T22:05:57.907Z","type":"message"}
{"nick":"Trott","message":"Just used up-arrow + enter to run \"continue\" about 20 times in a row and nothing seemed to change.","date":"2017-06-21T22:06:27.729Z","type":"message"}
{"nick":"refack","message":"Did you try a new user profile?","date":"2017-06-21T22:06:48.929Z","type":"message"}
{"nick":"Trott","message":"refack: Not yet, I started to and got side-tracked.","date":"2017-06-21T22:06:58.957Z","type":"message"}
{"nick":"addaleax","message":"So … for me, if I compile the code from joyee’s last comment in https://github.com/nodejs/node/issues/9979#issuecomment-267883505 , run it under lldb and then continue at the crash site, it stops after the second continue","date":"2017-06-21T22:08:25.460Z","type":"message"}
{"nick":"addaleax","message":"if that’s the same on macos, I think we would have narrowed it down to signal handling issues, right?","date":"2017-06-21T22:08:42.113Z","type":"message"}
{"nick":"ChALkeR","date":"2017-06-21T22:09:29.124Z","type":"join"}
{"nick":"Trott","message":"refack: Whoa! Created a brand new user and it does not have the problem. Now starting to wonder if I need to look at my environment. Oooooofffffff. Although a simple \"do not set this environment variable\" fix would sorta-kinda be welcome.","date":"2017-06-21T22:11:22.710Z","type":"message"}
{"nick":"Trott","message":"addaleax: Want me to try?","date":"2017-06-21T22:11:26.459Z","type":"message"}
{"nick":"addaleax","message":"Trott: I think so, yes :D","date":"2017-06-21T22:11:41.699Z","type":"message"}
{"nick":"Trott","message":"OK, I have to step away from the keyboard for probably less than 5 minutes, but will do when I get back.","date":"2017-06-21T22:12:05.740Z","type":"message"}
{"nick":"Trott","message":"bak","date":"2017-06-21T22:14:31.503Z","type":"message"}
{"nick":"Trott","message":"Compiling Joyee's code and running it does print \"Illegal instruction: 4\" just like the problem I'm having, so that seems to suggest that it might be a similar cause.","date":"2017-06-21T22:16:38.974Z","type":"message"}
{"nick":"addaleax","message":"Trott: the interesting question is whether it also keeps going if you `continue` repeatedly in lldb","date":"2017-06-21T22:17:06.226Z","type":"message"}
{"nick":"Trott","message":"Typing continue over and over does not stop anything in lldb.","date":"2017-06-21T22:17:19.054Z","type":"message"}
{"nick":"Trott","message":"I mean, that's the behavior I'm seeing with Joyee's code.","date":"2017-06-21T22:17:31.580Z","type":"message"}
{"nick":"Trott","message":"Keeps going for me.","date":"2017-06-21T22:17:38.795Z","type":"message"}
{"nick":"addaleax","message":"ah ok :/ so following the making-a-new-user-fixes-it road is probably better then, sorry","date":"2017-06-21T22:17:48.423Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/mAnq38om/","date":"2017-06-21T22:18:01.746Z","type":"message"}
{"nick":"addaleax","message":"(Joyee’s code is designed to crash in the same way that V8 does, so it’s not surprising it fails with the same message)","date":"2017-06-21T22:18:06.367Z","type":"message"}
{"nick":"Trott","message":"No, that's great! We ruled something out. :-D","date":"2017-06-21T22:18:09.054Z","type":"message"}
{"nick":"Trott","message":"OK, now I'm going to see what happens if I attach lldb to it using the new user, maybe. :-D","date":"2017-06-21T22:18:27.183Z","type":"message"}
{"nick":"Trott","message":"Although a.out does not have the same long pause.","date":"2017-06-21T22:18:59.744Z","type":"message"}
{"nick":"Trott","message":"Hmm...new user won't even let me debug:","date":"2017-06-21T22:19:52.277Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/jD5l0PYH/","date":"2017-06-21T22:19:55.286Z","type":"message"}
{"nick":"Trott","message":"OK, but I'm going to start looking at environment variables and bashrc stuff etc.","date":"2017-06-21T22:20:11.275Z","type":"message"}
{"nick":"refack","message":"Do you know if macOS has the concept of JIT debugging? when a prosess crashes with SIGTRAP or EXC_BREAKPOINT another process try to attach to it?","date":"2017-06-21T22:24:51.856Z","type":"message"}
{"nick":"Trott","message":"Not sure. I would guess it does but I've never used it.","date":"2017-06-21T22:27:20.668Z","type":"message"}
{"nick":"refack","message":"Another tidbit i found on SO \"Check the console logs for dyld messages\"","date":"2017-06-21T22:27:45.398Z","type":"message"}
{"nick":"Trott","message":"Seeing them for Google Chrome but not node.","date":"2017-06-21T22:28:47.073Z","type":"message"}
{"nick":"Trott","message":"Makes me wonder if quitting Chrome is the ticket. :-D","date":"2017-06-21T22:28:58.649Z","type":"message"}
{"nick":"Trott","message":"Going to try that, just because....","date":"2017-06-21T22:29:40.385Z","type":"message"}
{"nick":"phpnode","date":"2017-06-21T22:33:06.217Z","type":"join"}
{"nick":"Trott","message":"Oooh, found some for node after all:","date":"2017-06-21T22:33:29.456Z","type":"message"}
{"nick":"Trott","message":"https://www.irccloud.com/pastebin/L3ffbJRm/","date":"2017-06-21T22:33:32.180Z","type":"message"}
{"nick":"refack","message":"Do you have any DYLD_ env vars?","date":"2017-06-21T22:39:24.690Z","type":"message"}
{"nick":"zsoc","message":"what the....","date":"2017-06-21T22:51:58.185Z","type":"message"}
{"nick":"zsoc","message":"that moment when something works when you console.log it but stops working when you remove the log >.>","date":"2017-06-21T22:52:10.477Z","type":"message"}
{"nick":"refack","message":"ogh","date":"2017-06-21T22:52:23.522Z","type":"message"}
{"nick":"refack","message":"Trott: Maybe this https://developer.apple.com/library/content/technotes/tn2004/tn2123.html#SECCRASHREPORTERPREFS","date":"2017-06-21T22:53:43.812Z","type":"message"}
{"nick":"Trott","message":"zsoc: I've seen that a lot. I forget the reason. I'm pretty sure I documented it in the issue tracker at *some* point.","date":"2017-06-21T22:53:45.429Z","type":"message"}
{"nick":"Trott","message":"refack: !!!!!!  That sure *sounds* like the type of thing it would be!","date":"2017-06-21T22:54:21.011Z","type":"message"}
{"nick":"zsoc","message":"eh the functional programmer in me curried this thing for no reason, i'm sure it will resolve itself when i remove that lol","date":"2017-06-21T22:54:24.323Z","type":"message"}
{"nick":"zsoc","message":"hmm.. is there a repl bot in here or nah?","date":"2017-06-21T22:56:25.569Z","type":"message"}
{"nick":"refack","message":"here? nah","date":"2017-06-21T22:57:27.577Z","type":"message"}
{"nick":"zsoc","message":"Oh it was actually a semicolon thing. I have never run into that in my life. I started a new line with [...Array(foo)] and didn't consider the whole, [ thing lol","date":"2017-06-21T22:58:00.790Z","type":"message"}
{"nick":"refack","message":"It happens once in a blue moon, but it does","date":"2017-06-21T22:58:48.905Z","type":"message"}
{"nick":"Trott","message":"I don't seem to have CrashReporter or CrashReporterPrefs, but surely there has to be *something* like that....","date":"2017-06-21T22:59:15.902Z","type":"message"}
{"nick":"refack","message":"I'll try to figure out *how* it does it's work","date":"2017-06-21T22:59:47.800Z","type":"message"}
{"nick":"Trott","message":"I have all the \"send reports to Apple\" stuff disabled in the Security & Privacy settings but I imagine that doesn't disable the log generation....","date":"2017-06-21T23:03:14.923Z","type":"message"}
{"nick":"Trott","message":"(And I'm not even sure that's the problem. Like, why is it not a problem for my newly-created user?!)","date":"2017-06-21T23:03:32.859Z","type":"message"}
{"nick":"addaleax","message":"Trott: did you see refack’s DYLD question?","date":"2017-06-21T23:04:05.284Z","type":"message"}
{"nick":"Trott","message":"I have no DYLD_ environment variables.","date":"2017-06-21T23:04:22.487Z","type":"message"}
{"nick":"addaleax","message":"ok then :)","date":"2017-06-21T23:04:34.653Z","type":"message"}
{"nick":"zsoc","message":"What's the max value to initialize an array? Is it Number.MAX_SAFE_INTEGER or Number.MAX_VALUE?","date":"2017-06-21T23:05:18.183Z","type":"message"}
{"nick":"refack","message":"I'm geussing the log generation is on a per-user basis since they go to ~/Library/Logs/CrashReporter/","date":"2017-06-21T23:05:29.246Z","type":"message"}
{"nick":"ljharb","message":"zsoc: MAX_SAFE_INTEGER","date":"2017-06-21T23:05:42.533Z","type":"message"}
{"nick":"Trott","message":"refack: That directory doesn't exist. I wonder if CrashReporter was removed from recent XCode or something?","date":"2017-06-21T23:06:08.787Z","type":"message"}
{"nick":"Trott","message":"(~/Library/Logs exists. CrashReporter does not.)","date":"2017-06-21T23:06:19.042Z","type":"message"}
{"nick":"refack","message":"And for the new user?","date":"2017-06-21T23:06:37.391Z","type":"message"}
{"nick":"Trott","message":"The pristine user has an empty ~Library/Logs dir.","date":"2017-06-21T23:06:42.783Z","type":"message"}
{"nick":"refack","message":"fui","date":"2017-06-21T23:06:53.076Z","type":"message"}
{"nick":"refack","message":"I'm going AFK, need to cook dinner. I'll be back later trying to break my VM so it repros","date":"2017-06-21T23:08:01.620Z","type":"message"}
{"nick":"zsoc","message":"ljharb: danka","date":"2017-06-21T23:08:20.745Z","type":"message"}
{"nick":"zsoc","message":"I think I might actually be benchmarking the fastest way possible to explode a node process heap lol... i got down to around 170ms~ :p","date":"2017-06-21T23:17:39.977Z","type":"message"}
{"nick":"phpnode","reason":"Remote host closed the connection","date":"2017-06-21T23:30:37.908Z","type":"quit"}
{"nick":"Trott","message":"refack: So the problem seems to be ReportCrash. Disabling it with both the sudo and non-sudo versions of  `launchctl unload /System/Library/LaunchDaemons/com.apple.ReportCrash.plist` followed by `pkill ReportCrash`.... *should* stop it, I imagine, but it springs back to life the next time I do node --abort-on-uncaught-exception etc.","date":"2017-06-21T23:39:44.964Z","type":"message"}
{"nick":"Trott","message":"It relaunches and consumes 99% CPU for 10 seconds or more.","date":"2017-06-21T23:40:06.076Z","type":"message"}
{"nick":"Trott","message":"It's enough to make me want to SHAKE MY FIST IN TIM COOK's GENERAL DIRECTION!","date":"2017-06-21T23:40:20.565Z","type":"message"}
{"nick":"refack","message":"I'd assume that the SIGILL/SIGTRAP listener we were looking for","date":"2017-06-21T23:40:32.273Z","type":"message"}
{"nick":"refack","message":"Ohh he was just down the street last friday, giving a tootaly BS commensment at MIT (we cured authism with iPads)","date":"2017-06-21T23:41:14.980Z","type":"message"}
{"nick":"Trott","message":"Someone wrote a Ruby script to try to deal with something similar to this, it seems perhaps: https://gist.github.com/SteveBenner/aca9768f860078d7e400","date":"2017-06-21T23:42:09.317Z","type":"message"}
{"nick":"Trott","message":"Although I imagine we really want to figure out why ReportCrash is a resource sink for me but not for the pristine user or for root....","date":"2017-06-21T23:44:35.048Z","type":"message"}
{"nick":"refack","message":"Yes, I'd assume it's misconfigure or overconfigured","date":"2017-06-21T23:45:13.289Z","type":"message"}
{"nick":"refack","message":"Windows has the same kind of thingamajig but it's name is DrWatson, and he has a cute icon (also very hard to get rid of)","date":"2017-06-21T23:46:42.297Z","type":"message"}
{"nick":"Trott","message":"Gotta go, will be back later, because I won't be able to stop perseverating on this.","date":"2017-06-21T23:48:05.649Z","type":"message"}
{"nick":"Trott","message":"Thanks for all your help.","date":"2017-06-21T23:48:09.842Z","type":"message"}
{"nick":"refack","message":"Apple: if anyone's reading this. I'm just jealous, always wanted to graduate MIT","date":"2017-06-21T23:48:34.978Z","type":"message"}
{"nick":"Trott","message":"Here's a strange idea. Maybe it depends on the size of the home directory.","date":"2017-06-21T23:51:28.353Z","type":"message"}
{"nick":"Trott","message":"The only users that I'm seeing this with have many gigabytes in the home dir. Ones where I'm not seeing it have very small home directories. This seems like a longshot.","date":"2017-06-21T23:53:46.068Z","type":"message"}

{"nick":"Fishrock123","message":"as an aside, why doesn't this have a stack? { Error: EBADF: bad file descriptor, read errno: -9, code: 'EBADF', syscall: 'read' }","date":"2018-01-13T00:00:11.634Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T00:02:48.757Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T00:02:48.825Z","type":"part"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-13T00:35:07.805Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-01-13T00:38:27.960Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: nah it didn't get reverted. I agreed to a CLI flag but IIRC such a flag hasn't been implemented","date":"2018-01-13T00:38:49.819Z","type":"message"}
{"nick":"TimothyGu","message":"(for REPL await)","date":"2018-01-13T00:38:55.839Z","type":"message"}
{"nick":"TimothyGu","message":"You are of course welcome to fix that :)","date":"2018-01-13T00:39:24.170Z","type":"message"}
{"nick":"Leko","reason":"Ping timeout: 260 seconds","date":"2018-01-13T00:40:45.042Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-13T01:06:41.810Z","type":"quit"}
{"nick":"johannh","reason":"Remote host closed the connection","date":"2018-01-13T01:09:23.032Z","type":"quit"}
{"nick":"johannh","date":"2018-01-13T02:56:44.659Z","type":"join"}
{"nick":"BridgeAR","reason":"Ping timeout: 264 seconds","date":"2018-01-13T04:04:33.229Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-13T05:34:32.439Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T05:34:32.507Z","type":"part"}
{"nick":"ChALkeR","date":"2018-01-13T05:45:00.780Z","type":"join"}
{"nick":"dave0x6d","reason":"Quit: Connection closed for inactivity","date":"2018-01-13T05:51:34.479Z","type":"quit"}
{"nick":"Fishrock123","date":"2018-01-13T06:18:42.182Z","type":"join"}
{"nick":"Fishrock123","reason":"Ping timeout: 255 seconds","date":"2018-01-13T06:23:23.235Z","type":"quit"}
{"nick":"lpin","date":"2018-01-13T06:32:29.493Z","type":"join"}
{"nick":"marthinal","date":"2018-01-13T06:39:09.655Z","type":"join"}
{"nick":"marthinal","reason":"Client Quit","date":"2018-01-13T06:39:09.763Z","type":"quit"}
{"nick":"ChALkeR","reason":"Ping timeout: 276 seconds","date":"2018-01-13T06:54:56.891Z","type":"quit"}
{"nick":"devsnek","message":"oh whoops","date":"2018-01-13T07:32:27.129Z","type":"message"}
{"nick":"devsnek","message":"i thought that pr was merged","date":"2018-01-13T07:32:30.861Z","type":"message"}
{"nick":"devsnek","message":"what do people think about declaring the standard library's exports so that people using esm get almost proper modules","date":"2018-01-13T07:41:43.263Z","type":"message"}
{"nick":"devsnek","message":"its the only way i can think of to give proper importing of stuff to people using esm","date":"2018-01-13T07:42:33.805Z","type":"message"}
{"nick":"devsnek","message":"imo worth it to make people adopt it","date":"2018-01-13T07:42:46.618Z","type":"message"}
{"nick":"devsnek","message":"the exports of builtins don't change too often","date":"2018-01-13T07:44:22.413Z","type":"message"}
{"nick":"ljharb","message":"that'd be great. it'll be super easy with mjs","date":"2018-01-13T07:52:32.334Z","type":"message"}
{"nick":"devsnek","message":"i'm looking at it now","date":"2018-01-13T07:54:55.955Z","type":"message"}
{"nick":"devsnek","message":"some weird things like uh","date":"2018-01-13T07:55:00.715Z","type":"message"}
{"nick":"devsnek","message":"fs._toUnixTimestamp","date":"2018-01-13T07:55:04.918Z","type":"message"}
{"nick":"devsnek","message":"i'm moving that to internal/fs","date":"2018-01-13T07:55:15.189Z","type":"message"}
{"nick":"devsnek","message":"in a separate pr","date":"2018-01-13T07:55:19.190Z","type":"message"}
{"nick":"devsnek","message":"ljharb i was thinking declaring a list of exports for createDynamicModule","date":"2018-01-13T07:56:08.789Z","type":"message"}
{"nick":"devsnek","message":"did you mean import fs and then export each named item?","date":"2018-01-13T07:56:23.585Z","type":"message"}
{"nick":"ljharb","message":"yes, to start","date":"2018-01-13T07:56:29.635Z","type":"message"}
{"nick":"devsnek","message":"hmm","date":"2018-01-13T07:56:32.326Z","type":"message"}
{"nick":"ljharb","message":"obv it could be improved upon later","date":"2018-01-13T07:56:36.554Z","type":"message"}
{"nick":"devsnek","message":"and then binding can prefer","date":"2018-01-13T07:56:38.303Z","type":"message"}
{"nick":"devsnek","message":"fs.mjs over fs.js","date":"2018-01-13T07:56:43.088Z","type":"message"}
{"nick":"devsnek","message":"thats a good idea","date":"2018-01-13T07:56:46.163Z","type":"message"}
{"nick":"ljharb","message":"it would, yes","date":"2018-01-13T07:56:48.929Z","type":"message"}
{"nick":"devsnek","message":"glad i talked about it here","date":"2018-01-13T07:56:50.464Z","type":"message"}
{"nick":"devsnek","message":":D","date":"2018-01-13T07:56:52.722Z","type":"message"}
{"nick":"ljharb","message":"that would be a super cheap way to add ESM to everything very quickly","date":"2018-01-13T07:56:54.478Z","type":"message"}
{"nick":"devsnek","message":"hype","date":"2018-01-13T07:57:07.262Z","type":"message"}
{"nick":"ljharb","message":"and later, when the implementations switch from CJS to ESM, it'd be super trivial to do","date":"2018-01-13T07:57:13.226Z","type":"message"}
{"nick":"devsnek","message":"lots of files to add to node.gyp","date":"2018-01-13T07:57:25.332Z","type":"message"}
{"nick":"marthinal","date":"2018-01-13T08:24:43.728Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T08:30:16.992Z","type":"quit"}
{"nick":"seishun","date":"2018-01-13T08:46:52.402Z","type":"join"}
{"nick":"mollusk","date":"2018-01-13T08:49:12.181Z","type":"join"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-13T08:54:23.848Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T09:01:35.937Z","type":"join"}
{"nick":"BridgeAR","date":"2018-01-13T10:00:25.645Z","type":"join"}
{"nick":"ChALkeR","date":"2018-01-13T10:12:07.657Z","type":"join"}
{"nick":"AtumT","date":"2018-01-13T10:13:54.861Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T10:24:35.885Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T10:25:01.687Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T10:29:26.579Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T10:29:26.660Z","type":"part"}
{"nick":"marthinal","reason":"Ping timeout: 260 seconds","date":"2018-01-13T10:29:30.630Z","type":"quit"}
{"nick":"devsnek","message":"ljharb i've implemented it here: https://github.com/nodejs/node/pull/18131","date":"2018-01-13T10:30:22.682Z","type":"message"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-01-13T10:48:42.869Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T10:51:56.344Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T11:02:01.936Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-01-13T11:25:11.616Z","type":"quit"}
{"nick":"mylesborins","date":"2018-01-13T11:25:42.319Z","type":"join"}
{"nick":"BridgeAR","reason":"Quit: Leaving.","date":"2018-01-13T11:31:10.905Z","type":"quit"}
{"nick":"BridgeAR","date":"2018-01-13T11:43:28.251Z","type":"join"}
{"nick":"marthinal","date":"2018-01-13T11:57:14.001Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T12:00:37.500Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T12:06:28.334Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T12:07:25.615Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T12:07:51.705Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T12:11:33.792Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T12:11:40.692Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T12:12:37.435Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T12:13:04.813Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 256 seconds","date":"2018-01-13T12:17:16.738Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T12:20:35.109Z","type":"join"}
{"nick":"BridgeAR","reason":"Quit: Leaving.","date":"2018-01-13T12:41:02.600Z","type":"quit"}
{"nick":"ChALkeR","reason":"Read error: Connection reset by peer","date":"2018-01-13T12:45:21.727Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-01-13T12:47:43.866Z","type":"join"}
{"nick":"bradleymeck","date":"2018-01-13T13:08:54.622Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-01-13T13:20:44.778Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-13T13:21:11.926Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T13:21:16.229Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T13:21:16.297Z","type":"part"}
{"nick":"marthinal","reason":"Ping timeout: 256 seconds","date":"2018-01-13T13:25:35.653Z","type":"quit"}
{"nick":"AtumT_","date":"2018-01-13T13:36:06.696Z","type":"join"}
{"nick":"AtumT","reason":"Ping timeout: 276 seconds","date":"2018-01-13T13:39:54.400Z","type":"quit"}
{"nick":"AtumT","date":"2018-01-13T13:49:47.960Z","type":"join"}
{"nick":"AtumT_","reason":"Ping timeout: 256 seconds","date":"2018-01-13T13:50:31.657Z","type":"quit"}
{"nick":"ChALkeR","reason":"Remote host closed the connection","date":"2018-01-13T14:05:36.249Z","type":"quit"}
{"nick":"dave0x6d","date":"2018-01-13T14:14:16.950Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2018-01-13T14:14:34.759Z","type":"quit"}
{"nick":"seishun","date":"2018-01-13T14:27:30.972Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T14:35:34.809Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T14:35:34.915Z","type":"part"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-13T15:19:46.383Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-01-13T15:33:59.127Z","type":"join"}
{"nick":"STRML","reason":"Quit: ZNC - http://znc.in","date":"2018-01-13T16:00:22.176Z","type":"quit"}
{"nick":"STRML","date":"2018-01-13T16:03:31.984Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T16:07:56.676Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T16:07:56.745Z","type":"part"}
{"nick":"mollusk","date":"2018-01-13T16:17:14.453Z","type":"join"}
{"nick":"dave0x6d","reason":"Quit: Connection closed for inactivity","date":"2018-01-13T16:23:49.357Z","type":"quit"}
{"nick":"bradleymeck","message":"devsnek: you around?","date":"2018-01-13T16:45:35.522Z","type":"message"}
{"nick":"devsnek","message":"yes","date":"2018-01-13T16:45:37.616Z","type":"message"}
{"nick":"bradleymeck","message":"kk","date":"2018-01-13T16:45:40.795Z","type":"message"}
{"nick":"bradleymeck","message":"so I'm fine with them mutating the `ns` just don't want a race to occur","date":"2018-01-13T16:45:52.040Z","type":"message"}
{"nick":"bradleymeck","message":"basically I want non-internal require to put a record into the ModuleMap that captures the exports *prior* to handing it to userland","date":"2018-01-13T16:46:30.396Z","type":"message"}
{"nick":"bradleymeck","action":"digs for line of code","date":"2018-01-13T16:46:39.229Z","type":"action"}
{"nick":"devsnek","message":"basically a uh","date":"2018-01-13T16:46:42.986Z","type":"message"}
{"nick":"devsnek","message":"shallow copy?","date":"2018-01-13T16:46:44.913Z","type":"message"}
{"nick":"devsnek","message":"cuz it can't be the same export object","date":"2018-01-13T16:46:56.680Z","type":"message"}
{"nick":"bradleymeck","message":"right, shallow copy around https://github.com/nodejs/node/blob/master/lib/module.js#L496","date":"2018-01-13T16:47:25.292Z","type":"message"}
{"nick":"bradleymeck","message":"so that there isn't a race on the named exports. if we can't make it non-racey/stay in sync we can at least make it guaranteed to be a value","date":"2018-01-13T16:48:06.720Z","type":"message"}
{"nick":"devsnek","message":"so just make a cache of the builtins as shallow copies","date":"2018-01-13T16:48:18.106Z","type":"message"}
{"nick":"devsnek","message":"'aight","date":"2018-01-13T16:48:27.136Z","type":"message"}
{"nick":"bradleymeck","message":"as they are required by userland ya","date":"2018-01-13T16:48:27.243Z","type":"message"}
{"nick":"devsnek","message":"as long as i have you around here","date":"2018-01-13T16:49:40.818Z","type":"message"}
{"nick":"devsnek","message":"my loader refactor pr has been ready for a bit","date":"2018-01-13T16:49:59.373Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T16:50:46.791Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T16:50:46.860Z","type":"part"}
{"nick":"robink","reason":"Ping timeout: 252 seconds","date":"2018-01-13T16:50:55.988Z","type":"quit"}
{"nick":"bradleymeck","message":"devsnek: it has been approved I think... let me check.","date":"2018-01-13T16:51:33.178Z","type":"message"}
{"nick":"bradleymeck","message":"commenting that I'm going to land it tomorrow to give 24hr notice since it has been stale","date":"2018-01-13T16:51:50.192Z","type":"message"}
{"nick":"devsnek","message":"awesome thanks :3","date":"2018-01-13T16:52:11.132Z","type":"message"}
{"nick":"robink","date":"2018-01-13T16:52:14.751Z","type":"join"}
{"nick":"devsnek","message":"holy omg operator overloading","date":"2018-01-13T17:01:49.746Z","type":"message"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-13T17:08:06.326Z","type":"quit"}
{"nick":"bradleymeck","message":"thats going to be rough","date":"2018-01-13T17:09:05.725Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T17:09:35.724Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T17:09:35.791Z","type":"part"}
{"nick":"bradleymeck","message":"multi-module files , yet another parse goal","date":"2018-01-13T17:09:46.636Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T17:09:47.619Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T17:09:47.701Z","type":"part"}
{"nick":"devsnek","message":"bradleymeck these copies don't preserve stuff like exporting functions","date":"2018-01-13T17:10:01.877Z","type":"message"}
{"nick":"devsnek","message":"like assert()","date":"2018-01-13T17:10:04.291Z","type":"message"}
{"nick":"devsnek","message":"should i just attach those as \"default\" to the copied object?","date":"2018-01-13T17:10:15.318Z","type":"message"}
{"nick":"bradleymeck","message":"the module.exports should stay the default","date":"2018-01-13T17:10:27.003Z","type":"message"}
{"nick":"bradleymeck","message":"default named import*","date":"2018-01-13T17:10:35.163Z","type":"message"}
{"nick":"devsnek","message":"yea","date":"2018-01-13T17:10:38.479Z","type":"message"}
{"nick":"bradleymeck","message":"so you can call the default","date":"2018-01-13T17:10:47.356Z","type":"message"}
{"nick":"devsnek","message":"i wish there was a better way to paste code in irc","date":"2018-01-13T17:11:02.122Z","type":"message"}
{"nick":"dave0x6d","date":"2018-01-13T17:14:39.812Z","type":"join"}
{"nick":"bradleymeck","message":"devsnek: pastebin?","date":"2018-01-13T17:20:27.116Z","type":"message"}
{"nick":"devsnek","message":"ya i just hastebin stuff","date":"2018-01-13T17:20:38.109Z","type":"message"}
{"nick":"devsnek","message":"do we have a way to check if a given function has been created by node's deprecation?","date":"2018-01-13T17:21:07.819Z","type":"message"}
{"nick":"devsnek","message":"creating the copy is firing getters on these exports","date":"2018-01-13T17:24:40.913Z","type":"message"}
{"nick":"devsnek","message":"basically i have to go through and filter it in NativeModule.require","date":"2018-01-13T17:30:17.078Z","type":"message"}
{"nick":"devsnek","message":"but that puts needless overhead on everyone using cjs","date":"2018-01-13T17:30:37.446Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T17:46:02.597Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T17:46:02.598Z","type":"part"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-13T18:29:56.426Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-01-13T18:58:27.830Z","type":"join"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-01-13T19:18:20.301Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-13T19:54:33.869Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T19:54:34.032Z","type":"part"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-13T20:10:30.508Z","type":"quit"}
{"nick":"gsathya`","new_nick":"gsathya","date":"2018-01-13T20:27:04.596Z","type":"nick"}
{"nick":"ljharb","message":"devsnek: please fix https://github.com/nodejs/node/pull/18131#discussion_r161380837 before merging that","date":"2018-01-13T20:32:02.985Z","type":"message"}
{"nick":"devsnek","message":"oh weird","date":"2018-01-13T20:32:30.056Z","type":"message"}
{"nick":"devsnek","message":"its interesting that the tests passed","date":"2018-01-13T20:32:39.305Z","type":"message"}
{"nick":"devsnek","message":"that should have triggered a bunch of unexpected console warnings in that case","date":"2018-01-13T20:32:59.917Z","type":"message"}
{"nick":"ljharb","message":"i would expect that getter/setter tests would fail, yes","date":"2018-01-13T20:33:37.964Z","type":"message"}
{"nick":"devsnek","message":"they didn't though","date":"2018-01-13T20:33:48.330Z","type":"message"}
{"nick":"devsnek","message":"thats pretty interesting","date":"2018-01-13T20:33:51.988Z","type":"message"}
{"nick":"devsnek","message":"well i'll change it and run the tests again","date":"2018-01-13T20:34:18.905Z","type":"message"}
{"nick":"devsnek","message":"ljharb i rand the tests once with the incorrect then made the change, both pass","date":"2018-01-13T20:41:54.139Z","type":"message"}
{"nick":"devsnek","message":"which weirds me out","date":"2018-01-13T20:41:56.489Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: really excited to see this PR happening!","date":"2018-01-13T21:24:14.544Z","type":"message"}
{"nick":"devsnek","message":"which one ;-;","date":"2018-01-13T21:24:27.953Z","type":"message"}
{"nick":"TimothyGu","message":"the named exports one haha","date":"2018-01-13T21:33:40.272Z","type":"message"}
{"nick":"devsnek","message":"o yes","date":"2018-01-13T21:34:14.680Z","type":"message"}
{"nick":"devsnek","message":"i like it too","date":"2018-01-13T21:34:17.658Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu that inspector thing makes me feel uneasy","date":"2018-01-13T21:54:28.837Z","type":"message"}
{"nick":"devsnek","message":"is it possible to change that behavior?","date":"2018-01-13T21:54:52.612Z","type":"message"}
{"nick":"devsnek","message":"just from the perspective of a user requiring a module i don't think they would expect it to throw","date":"2018-01-13T21:55:18.572Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T22:06:46.103Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T22:06:46.104Z","type":"part"}
{"nick":"TimothyGu","message":"devsnek: I'm fine with changing the behavior.","date":"2018-01-13T22:08:59.685Z","type":"message"}
{"nick":"TimothyGu","message":"the point of it was to make `require('inspector')` throw as if `inspector` didn't exist in the first place","date":"2018-01-13T22:09:26.353Z","type":"message"}
{"nick":"devsnek","message":"well it does exist","date":"2018-01-13T22:10:04.898Z","type":"message"}
{"nick":"devsnek","message":"just the support for it doesn't","date":"2018-01-13T22:10:11.391Z","type":"message"}
{"nick":"devsnek","message":"hmm","date":"2018-01-13T22:10:13.820Z","type":"message"}
{"nick":"devsnek","message":"could make the exports throw like \"unimplemented\" errors instead","date":"2018-01-13T22:10:28.482Z","type":"message"}
{"nick":"devsnek","message":"that seems safe","date":"2018-01-13T22:10:30.768Z","type":"message"}
{"nick":"TimothyGu","message":"something you can do is actually remove it from builtinModules if Node.js was not compiled with inspector","date":"2018-01-13T22:10:45.039Z","type":"message"}
{"nick":"TimothyGu","message":"that's pretty safe","date":"2018-01-13T22:10:51.104Z","type":"message"}
{"nick":"TimothyGu","message":"(also the entire inspector module is under experimental so we can basically do whatever we want. Node.js w/o inspector is not that big of a use case anyway since it requires re-compilation)","date":"2018-01-13T22:11:30.809Z","type":"message"}
{"nick":"devsnek","message":"i don't know if it was in builtin modules anyway","date":"2018-01-13T22:11:31.390Z","type":"message"}
{"nick":"devsnek","message":"cuz that test was generated from the array","date":"2018-01-13T22:11:43.912Z","type":"message"}
{"nick":"TimothyGu","message":"yes it is","date":"2018-01-13T22:12:00.669Z","type":"message"}
{"nick":"TimothyGu","message":"on master","date":"2018-01-13T22:12:04.710Z","type":"message"}
{"nick":"TimothyGu","message":"(because I added it ;)","date":"2018-01-13T22:12:10.130Z","type":"message"}
{"nick":"devsnek","message":"oh you know what","date":"2018-01-13T22:12:10.244Z","type":"message"}
{"nick":"devsnek","message":"i used `node` instead of `./node`","date":"2018-01-13T22:12:15.901Z","type":"message"}
{"nick":"devsnek","message":"when running esmgen","date":"2018-01-13T22:12:22.405Z","type":"message"}
{"nick":"devsnek","message":"should we just ignore inspector then","date":"2018-01-13T22:13:39.430Z","type":"message"}
{"nick":"devsnek","message":"if all the libs work its unlikely that one won't","date":"2018-01-13T22:13:45.058Z","type":"message"}
{"nick":"devsnek","message":"and apparently it isn't always implemented","date":"2018-01-13T22:13:53.104Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: right... import is static.","date":"2018-01-13T22:15:32.397Z","type":"message"}
{"nick":"TimothyGu","message":"yeah ignore it then","date":"2018-01-13T22:15:34.408Z","type":"message"}
{"nick":"TimothyGu","message":"re \"are there any cases of non enumerable exports being public api?\" that was the question I was asking you :P","date":"2018-01-13T22:17:46.054Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: or actually idk if there are any cases of non-enumerable exports at all","date":"2018-01-13T22:18:05.427Z","type":"message"}
{"nick":"devsnek","message":"i didn't find any","date":"2018-01-13T22:18:19.316Z","type":"message"}
{"nick":"devsnek","message":"as i was working on this pr","date":"2018-01-13T22:18:25.159Z","type":"message"}
{"nick":"TimothyGu","message":"well then I guess I don't really see the point of having it there","date":"2018-01-13T22:18:31.902Z","type":"message"}
{"nick":"devsnek","message":"i really hope there aren't any","date":"2018-01-13T22:18:33.426Z","type":"message"}
{"nick":"devsnek","message":"but there are non enumerable things that aren't documented","date":"2018-01-13T22:18:51.469Z","type":"message"}
{"nick":"TimothyGu","message":"oh heh","date":"2018-01-13T22:19:55.120Z","type":"message"}
{"nick":"TimothyGu","message":"consider it resolved then. seems to open a can of worms","date":"2018-01-13T22:20:13.467Z","type":"message"}
{"nick":"devsnek","message":"indeed","date":"2018-01-13T22:20:25.492Z","type":"message"}
{"nick":"TimothyGu","message":"especially things like require('events').prototype","date":"2018-01-13T22:20:31.714Z","type":"message"}
{"nick":"TimothyGu","message":"which is not enumerable, thank god","date":"2018-01-13T22:21:00.387Z","type":"message"}
{"nick":"devsnek","message":"it is mostly stuff like uh","date":"2018-01-13T22:21:19.410Z","type":"message"}
{"nick":"devsnek","message":"stream.length","date":"2018-01-13T22:21:23.337Z","type":"message"}
{"nick":"devsnek","message":"events.name","date":"2018-01-13T22:21:27.290Z","type":"message"}
{"nick":"TimothyGu","message":"yeah...","date":"2018-01-13T22:21:47.579Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: with https://github.com/nodejs/node/pull/18131#discussion_r161381787 fixed, the PR LGTM.","date":"2018-01-13T22:23:13.361Z","type":"message"}
{"nick":"devsnek","message":"i'm not sure what you mean in that comment","date":"2018-01-13T22:23:47.658Z","type":"message"}
{"nick":"devsnek","message":"like if someone changes util.format","date":"2018-01-13T22:24:20.329Z","type":"message"}
{"nick":"TimothyGu","message":"Basically \"whatever changes users do to `require('fs')`, those changes will not reflect on ESM\"","date":"2018-01-13T22:24:24.766Z","type":"message"}
{"nick":"devsnek","message":"or rather util.inspect","date":"2018-01-13T22:24:25.433Z","type":"message"}
{"nick":"devsnek","message":"util.format would be changed?","date":"2018-01-13T22:24:43.285Z","type":"message"}
{"nick":"devsnek","message":"nah that doesn't even work","date":"2018-01-13T22:24:56.979Z","type":"message"}
{"nick":"devsnek","message":"atm we create a separate namespace cache","date":"2018-01-13T22:25:06.141Z","type":"message"}
{"nick":"devsnek","message":"so people can't change the things that get exposed with esm","date":"2018-01-13T22:25:21.066Z","type":"message"}
{"nick":"TimothyGu","message":"no; if I change fs.readFile, and path.resolve uses fs.readFile internally, the resolve() function as exposed to ESM can have different semantics","date":"2018-01-13T22:25:39.655Z","type":"message"}
{"nick":"devsnek","message":"and as long as no builtins do like `exports.somethingElseIProvide(blah)` instead of `somethingElseIProide(blah)","date":"2018-01-13T22:25:43.558Z","type":"message"}
{"nick":"devsnek","message":"yea that","date":"2018-01-13T22:25:46.259Z","type":"message"}
{"nick":"TimothyGu","message":"well builtins do do that","date":"2018-01-13T22:25:52.701Z","type":"message"}
{"nick":"devsnek","message":"thats annoying","date":"2018-01-13T22:25:58.783Z","type":"message"}
{"nick":"TimothyGu","message":"git grep monkey lib","date":"2018-01-13T22:26:32.894Z","type":"message"}
{"nick":"devsnek","message":"hmm","date":"2018-01-13T22:26:47.931Z","type":"message"}
{"nick":"TimothyGu","message":"nothing we can do about it really, so better to just document it","date":"2018-01-13T22:27:05.055Z","type":"message"}
{"nick":"devsnek","message":"import { superMetaReflectionMonkeyPatching } from \"js:context:internal:secret\"","date":"2018-01-13T22:27:42.131Z","type":"message"}
{"nick":"devsnek","message":"how should i doc this","date":"2018-01-13T22:28:03.921Z","type":"message"}
{"nick":"TimothyGu","message":"huh?","date":"2018-01-13T22:28:17.249Z","type":"message"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-01-13T22:28:28.090Z","type":"quit"}
{"nick":"devsnek","message":"\"while the namespaces are immutable on the esm side, monkey patching from cjs may change behavior\"","date":"2018-01-13T22:28:29.164Z","type":"message"}
{"nick":"devsnek","message":"\"be careful\"","date":"2018-01-13T22:28:31.562Z","type":"message"}
{"nick":"TimothyGu","message":"basically yeah","date":"2018-01-13T22:28:51.177Z","type":"message"}
{"nick":"TimothyGu","message":"also https://github.com/nodejs/node/pull/18131#issuecomment-357471963 :(","date":"2018-01-13T22:29:18.650Z","type":"message"}
{"nick":"TimothyGu","message":"we can't change crypto","date":"2018-01-13T22:29:24.159Z","type":"message"}
{"nick":"devsnek","message":"this is why we can't have nice things","date":"2018-01-13T22:29:50.203Z","type":"message"}
{"nick":"ljharb","message":"no need, just wrap the require in a try/catch","date":"2018-01-13T22:29:56.181Z","type":"message"}
{"nick":"devsnek","message":"looks like it","date":"2018-01-13T22:30:06.123Z","type":"message"}
{"nick":"ljharb","message":"gross, but hidden behind an abstraction","date":"2018-01-13T22:30:08.210Z","type":"message"}
{"nick":"TimothyGu","message":"ljharb: you did see my response right?","date":"2018-01-13T22:30:29.362Z","type":"message"}
{"nick":"ljharb","message":"oh maybe not, to which one","date":"2018-01-13T22:30:42.832Z","type":"message"}
{"nick":"ljharb","message":"oh right","date":"2018-01-13T22:30:50.282Z","type":"message"}
{"nick":"ljharb","message":"yeah i'm fine for documenting","date":"2018-01-13T22:30:57.458Z","type":"message"}
{"nick":"devsnek","message":"i don't have a system without openssl but","date":"2018-01-13T22:30:58.173Z","type":"message"}
{"nick":"ljharb","message":"TimothyGu: we can write pages and pages of docs, as long as monkeypatching potential is reduced :-)","date":"2018-01-13T22:31:17.867Z","type":"message"}
{"nick":"devsnek","message":"we would want that error to bubble up to the user if they try to `import` it right?","date":"2018-01-13T22:31:18.520Z","type":"message"}
{"nick":"devsnek","message":"for this pr the only issue would be the test","date":"2018-01-13T22:31:42.687Z","type":"message"}
{"nick":"devsnek","message":"like inspector i can just remove it","date":"2018-01-13T22:31:47.564Z","type":"message"}
{"nick":"TimothyGu","message":"you can remove crypto as well","date":"2018-01-13T22:32:07.508Z","type":"message"}
{"nick":"devsnek","message":"i also removed domain and punycode","date":"2018-01-13T22:32:46.504Z","type":"message"}
{"nick":"TimothyGu","message":"the only problem is that requireNamespace() can throw","date":"2018-01-13T22:33:09.349Z","type":"message"}
{"nick":"mylesborins","date":"2018-01-13T22:33:21.923Z","type":"join"}
{"nick":"devsnek","message":"well if i `require` something","date":"2018-01-13T22:33:28.478Z","type":"message"}
{"nick":"devsnek","message":"then NativeModule.require would throw in the same case right?","date":"2018-01-13T22:33:36.028Z","type":"message"}
{"nick":"TimothyGu","message":"yes","date":"2018-01-13T22:33:43.056Z","type":"message"}
{"nick":"devsnek","message":"if the loader translator rejects its the same behavior right","date":"2018-01-13T22:33:52.445Z","type":"message"}
{"nick":"devsnek","message":"we want the import to fail","date":"2018-01-13T22:33:57.348Z","type":"message"}
{"nick":"TimothyGu","message":"Yes","date":"2018-01-13T22:34:06.467Z","type":"message"}
{"nick":"TimothyGu","message":"the problem is, ESM semantics are complicated","date":"2018-01-13T22:34:15.212Z","type":"message"}
{"nick":"TimothyGu","message":"you would have to make sure the same module is not evaluated multiple times","date":"2018-01-13T22:34:32.781Z","type":"message"}
{"nick":"devsnek","message":"since a module wasn't provided","date":"2018-01-13T22:34:47.894Z","type":"message"}
{"nick":"devsnek","message":"it could happen again","date":"2018-01-13T22:34:57.359Z","type":"message"}
{"nick":"devsnek","message":"hmm","date":"2018-01-13T22:34:58.798Z","type":"message"}
{"nick":"ljharb","message":"hm, i forget if something changed there","date":"2018-01-13T22:36:05.206Z","type":"message"}
{"nick":"ljharb","message":"i think bmeck looked into something that would allow re-evaluation if the import failed? not sure tho","date":"2018-01-13T22:36:25.328Z","type":"message"}
{"nick":"TimothyGu","message":"isn't that against the intention though","date":"2018-01-13T22:36:43.231Z","type":"message"}
{"nick":"devsnek","message":"we would need to like","date":"2018-01-13T22:36:56.834Z","type":"message"}
{"nick":"devsnek","message":"provide a module interface where we can set the execution error of it","date":"2018-01-13T22:37:06.072Z","type":"message"}
{"nick":"TimothyGu","message":"sigh. you know what, don't worry about it for now","date":"2018-01-13T22:37:40.340Z","type":"message"}
{"nick":"TimothyGu","message":"we are not breaking more things","date":"2018-01-13T22:37:57.235Z","type":"message"}
{"nick":"TimothyGu","message":"i.e. if it was already broken, we are not making things worse; and we are not breaking new things","date":"2018-01-13T22:38:23.355Z","type":"message"}
{"nick":"devsnek","message":"if only we had known how painful cjs would be five years ago","date":"2018-01-13T22:38:48.952Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: also in case you didn't see, I merged the V8 cherry pick.","date":"2018-01-13T22:40:28.969Z","type":"message"}
{"nick":"TimothyGu","message":"time for you to update the vm.Module PR :)","date":"2018-01-13T22:40:36.052Z","type":"message"}
{"nick":"devsnek","message":"odamn","date":"2018-01-13T22:40:36.052Z","type":"message"}
{"nick":"devsnek","message":"my lucky day","date":"2018-01-13T22:40:43.364Z","type":"message"}
{"nick":"devsnek","message":"time for a 30min build","date":"2018-01-13T22:41:08.014Z","type":"message"}
{"nick":"TimothyGu","message":"sorry about the delay. should've been done a while ago","date":"2018-01-13T22:41:10.062Z","type":"message"}
{"nick":"devsnek","message":"no probs","date":"2018-01-13T22:41:15.462Z","type":"message"}
{"nick":"devsnek","message":"you have a life too","date":"2018-01-13T22:41:24.054Z","type":"message"}
{"nick":"devsnek","message":"(i assume)","date":"2018-01-13T22:41:30.720Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 268 seconds","date":"2018-01-13T22:41:42.461Z","type":"quit"}
{"nick":"TimothyGu","message":"Yeah, though idk what I have been doing the past week","date":"2018-01-13T22:42:16.129Z","type":"message"}
{"nick":"TimothyGu","message":"It's almost 3pm here and I still haven't had breakfast","date":"2018-01-13T22:42:32.300Z","type":"message"}
{"nick":"devsnek","message":"eh","date":"2018-01-13T22:42:41.014Z","type":"message"}
{"nick":"devsnek","message":"i had leftover cake for breakfast","date":"2018-01-13T22:42:48.737Z","type":"message"}
{"nick":"ljharb","message":"seems legit","date":"2018-01-13T22:45:06.489Z","type":"message"}
{"nick":"TimothyGu","message":"I overused my meal swipes during the week so I can only have 3 meals for these two days","date":"2018-01-13T22:45:10.896Z","type":"message"}
{"nick":"TimothyGu","message":"planned to go to town for breakfast but woke up at 1pm and got lazy","date":"2018-01-13T22:45:23.002Z","type":"message"}
{"nick":"devsnek","message":"gotta get a side hustle","date":"2018-01-13T22:45:41.169Z","type":"message"}
{"nick":"devsnek","message":"uber scooter people around campus","date":"2018-01-13T22:45:48.071Z","type":"message"}
{"nick":"TimothyGu","message":"hah doesn't work at my school","date":"2018-01-13T22:46:27.114Z","type":"message"}
{"nick":"TimothyGu","message":"too many sets of stairs, v hilly etc.","date":"2018-01-13T22:46:39.571Z","type":"message"}
{"nick":"devsnek","message":"uber piggyback","date":"2018-01-13T22:46:46.350Z","type":"message"}
{"nick":"TimothyGu","message":"if you have seen me you would know it wouldn't work","date":"2018-01-13T22:47:04.251Z","type":"message"}
{"nick":"devsnek","message":"hehe","date":"2018-01-13T22:47:17.843Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-13T22:51:02.335Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T22:51:02.439Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-13T22:51:18.594Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-13T22:51:18.676Z","type":"part"}
{"nick":"qard","date":"2018-01-13T22:59:45.841Z","type":"join"}
{"nick":"devsnek","message":"TimothyGu the module pr is broken and i haven't been able to trace where the issue is","date":"2018-01-13T23:04:28.900Z","type":"message"}
{"nick":"devsnek","message":"something in MakeContext or IsContext is broken","date":"2018-01-13T23:04:42.078Z","type":"message"}
{"nick":"devsnek","message":"specifically","date":"2018-01-13T23:04:43.486Z","type":"message"}
{"nick":"TimothyGu","message":":(","date":"2018-01-13T23:05:24.667Z","type":"message"}
{"nick":"TimothyGu","message":"do you want me to do it?","date":"2018-01-13T23:05:28.097Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: ^^","date":"2018-01-13T23:05:35.849Z","type":"message"}
{"nick":"devsnek","message":"you seem really good at catching bugs :<","date":"2018-01-13T23:05:42.635Z","type":"message"}
{"nick":"TimothyGu","message":"lol","date":"2018-01-13T23:05:52.919Z","type":"message"}
{"nick":"devsnek","message":"i think its probably something to do with me moving the context option method","date":"2018-01-13T23:05:58.945Z","type":"message"}
{"nick":"devsnek","message":"but no amount of printf will reveal the issue","date":"2018-01-13T23:06:05.227Z","type":"message"}
{"nick":"qard","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-01-13T23:08:08.657Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: do you mind if I directly push to your branch to fix any issues I found?","date":"2018-01-13T23:09:25.673Z","type":"message"}
{"nick":"TimothyGu","message":"ah I think I found it","date":"2018-01-13T23:09:54.179Z","type":"message"}
{"nick":"TimothyGu","message":"you removed a EscapableHandleScope from CreateV8Context()","date":"2018-01-13T23:10:14.671Z","type":"message"}
{"nick":"devsnek","message":"rip","date":"2018-01-13T23:10:27.083Z","type":"message"}
{"nick":"devsnek","message":"yea go ahead and push","date":"2018-01-13T23:10:30.340Z","type":"message"}
{"nick":"TimothyGu","message":"in fact there's a compilation warning haha","date":"2018-01-13T23:10:38.936Z","type":"message"}
{"nick":"devsnek","message":"o","date":"2018-01-13T23:10:53.883Z","type":"message"}
{"nick":"devsnek","message":"i never noticed","date":"2018-01-13T23:10:56.944Z","type":"message"}
{"nick":"devsnek","message":"not pro enough :(","date":"2018-01-13T23:11:09.054Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: hey what's hostOptionsContext?","date":"2018-01-13T23:18:40.040Z","type":"message"}
{"nick":"devsnek","message":"uh","date":"2018-01-13T23:18:46.508Z","type":"message"}
{"nick":"TimothyGu","message":"btw I decided to fix up the other issues I had too","date":"2018-01-13T23:18:56.195Z","type":"message"}
{"nick":"devsnek","message":"it goes into ScriptOrModule's host defined options","date":"2018-01-13T23:18:56.584Z","type":"message"}
{"nick":"devsnek","message":"so we can split off dynamic import requests","date":"2018-01-13T23:19:10.510Z","type":"message"}
{"nick":"devsnek","message":"so they aren't handled by the loader","date":"2018-01-13T23:19:16.411Z","type":"message"}
{"nick":"devsnek","message":"cuz that would be some pretty weird behavior","date":"2018-01-13T23:19:21.602Z","type":"message"}
{"nick":"devsnek","message":"also those tests look like they failed from an issue with settimeout?","date":"2018-01-13T23:19:47.855Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: doesn't look like those tests are your fault","date":"2018-01-13T23:21:16.512Z","type":"message"}
{"nick":"TimothyGu","message":"CI hasn't been real healthy in a while","date":"2018-01-13T23:21:30.523Z","type":"message"}
{"nick":"devsnek","message":"lots of flake","date":"2018-01-13T23:21:39.769Z","type":"message"}
{"nick":"TimothyGu","message":"see https://ci.nodejs.org/job/node-test-pull-request/","date":"2018-01-13T23:21:45.686Z","type":"message"}
{"nick":"devsnek","message":"thats very not green","date":"2018-01-13T23:21:58.155Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: you might want to remove http2 from the list of tests also :(","date":"2018-01-13T23:22:12.957Z","type":"message"}
{"nick":"TimothyGu","message":"that's what https://github.com/nodejs/node/pull/18131#issuecomment-357474736 shows","date":"2018-01-13T23:22:21.938Z","type":"message"}
{"nick":"devsnek","message":"oh tru","date":"2018-01-13T23:22:24.252Z","type":"message"}
{"nick":"devsnek","message":"by the time this pr lands we won't have anything left in the test file","date":"2018-01-13T23:22:59.314Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: are you fine with just throwing an error in case of dynamic import() in vm.Module?","date":"2018-01-13T23:23:10.962Z","type":"message"}
{"nick":"devsnek","message":"\"not supported yet\"?","date":"2018-01-13T23:23:19.994Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: :/","date":"2018-01-13T23:23:22.031Z","type":"message"}
{"nick":"TimothyGu","message":"yeah","date":"2018-01-13T23:23:23.379Z","type":"message"}
{"nick":"devsnek","message":"i guess","date":"2018-01-13T23:23:26.253Z","type":"message"}
{"nick":"devsnek","message":"the functionality seems to be working though","date":"2018-01-13T23:23:30.622Z","type":"message"}
{"nick":"devsnek","message":"any particular reason?","date":"2018-01-13T23:23:39.095Z","type":"message"}
{"nick":"TimothyGu","message":"Module.importDynamicallyCallback doesn't have certain things people are likely to need, like which context the import() is called in","date":"2018-01-13T23:24:06.748Z","type":"message"}
{"nick":"devsnek","message":"hmmm","date":"2018-01-13T23:24:16.041Z","type":"message"}
{"nick":"devsnek","message":"yea i guess","date":"2018-01-13T23:24:26.033Z","type":"message"}
{"nick":"devsnek","message":"a map where the values are weakly referenced would be a pretty good feature as we continue into esm","date":"2018-01-13T23:29:12.807Z","type":"message"}

{"nick":"early","reason":"Quit: Leaving","date":"2017-05-18T00:00:35.160Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T00:03:00.247Z","type":"join"}
{"nick":"early","date":"2017-05-18T00:03:15.887Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 260 seconds","date":"2017-05-18T00:07:48.263Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-05-18T00:10:04.794Z","type":"join"}
{"nick":"ChALkeR","reason":"Read error: Connection reset by peer","date":"2017-05-18T00:17:57.489Z","type":"quit"}
{"nick":"ChALkeR","date":"2017-05-18T00:18:04.530Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-05-18T00:31:09.512Z","type":"quit"}
{"nick":"snowkidind","date":"2017-05-18T00:39:08.341Z","type":"join"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2017-05-18T00:43:24.083Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T00:43:58.031Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T00:44:45.771Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T00:44:45.954Z","type":"part"}
{"nick":"joyee","reason":"Ping timeout: 246 seconds","date":"2017-05-18T00:48:08.031Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T00:53:30.757Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T00:53:30.941Z","type":"part"}
{"nick":"bradleymeck","date":"2017-05-18T00:53:51.743Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-05-18T01:03:28.200Z","type":"quit"}
{"nick":"gucci_meow","date":"2017-05-18T01:41:08.941Z","type":"join"}
{"nick":"b0neskull","date":"2017-05-18T01:52:41.628Z","type":"join"}
{"nick":"boneskull","reason":"Ping timeout: 268 seconds","date":"2017-05-18T01:53:30.891Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T01:57:26.494Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T01:57:26.716Z","type":"part"}
{"nick":"snowkidind","reason":"Remote host closed the connection","date":"2017-05-18T02:05:13.415Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T02:05:38.016Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T02:05:38.199Z","type":"part"}
{"nick":"mylesborins","message":"refack: I had to kill your stress test --> https://ci.nodejs.org/job/node-stress-single-test/nodes=freebsd10-64/1228/","date":"2017-05-18T02:11:32.798Z","type":"message"}
{"nick":"mylesborins","message":"sorry about tht","date":"2017-05-18T02:11:34.419Z","type":"message"}
{"nick":"mylesborins","message":"it had been running for 5+ hours and didn't see any failures","date":"2017-05-18T02:12:52.880Z","type":"message"}
{"nick":"mylesborins","message":"was blocking other CI from finishing","date":"2017-05-18T02:12:57.956Z","type":"message"}
{"nick":"joyee","date":"2017-05-18T02:15:48.100Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T02:15:53.942Z","type":"join"}
{"nick":"b0neskull","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-05-18T02:20:26.146Z","type":"quit"}
{"nick":"boneskull","date":"2017-05-18T02:54:32.895Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 246 seconds","date":"2017-05-18T03:00:05.170Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T03:08:12.022Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T03:08:12.242Z","type":"part"}
{"nick":"refack","message":"@mylesborins: Ok, It was only sopposed to run 2hr","date":"2017-05-18T03:09:05.327Z","type":"message"}
{"nick":"nodejs-gh","date":"2017-05-18T03:09:13.887Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T03:09:14.071Z","type":"part"}
{"nick":"joyee","date":"2017-05-18T03:26:54.054Z","type":"join"}
{"nick":"ChALkeR","date":"2017-05-18T03:27:11.547Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 268 seconds","date":"2017-05-18T03:32:11.054Z","type":"quit"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-05-18T03:54:39.575Z","type":"quit"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T04:06:42.766Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T04:30:08.274Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T04:35:00.949Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-05-18T04:43:23.622Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T04:43:38.008Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T04:44:40.689Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T04:44:40.873Z","type":"part"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T04:55:54.235Z","type":"quit"}
{"nick":"alrra","date":"2017-05-18T04:56:07.777Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T04:56:57.063Z","type":"join"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T05:07:51.157Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T05:08:18.679Z","type":"join"}
{"nick":"xadillax","reason":"Ping timeout: 240 seconds","date":"2017-05-18T05:12:28.747Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T05:23:46.020Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T05:23:46.242Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-05-18T05:24:01.721Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T05:24:01.905Z","type":"part"}
{"nick":"gucci_meow","reason":"Remote host closed the connection","date":"2017-05-18T05:30:35.007Z","type":"quit"}
{"nick":"lpin","date":"2017-05-18T05:45:27.371Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T05:52:52.219Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T05:52:52.270Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-05-18T05:54:33.397Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T05:54:33.397Z","type":"part"}
{"nick":"pankaj_","date":"2017-05-18T05:54:49.343Z","type":"join"}
{"nick":"seishun","date":"2017-05-18T05:56:44.498Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:01:46.491Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:01:46.676Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-05-18T06:02:35.797Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:02:35.979Z","type":"part"}
{"nick":"AlphaAtom","date":"2017-05-18T06:13:02.015Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T06:13:58.966Z","type":"join"}
{"nick":"pankaj_","reason":"Quit: Leaving","date":"2017-05-18T06:32:40.150Z","type":"quit"}
{"nick":"pankaj_","date":"2017-05-18T06:33:08.563Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:38:01.066Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:38:01.250Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-05-18T06:43:13.272Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:43:13.462Z","type":"part"}
{"nick":"nodejs-gh","date":"2017-05-18T06:45:31.166Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:45:31.350Z","type":"part"}
{"nick":"doodadjs","reason":"Ping timeout: 240 seconds","date":"2017-05-18T06:56:30.687Z","type":"quit"}
{"nick":"doodadjs","date":"2017-05-18T06:58:21.064Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:59:28.302Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T06:59:28.495Z","type":"part"}
{"nick":"robinak","reason":"Ping timeout: 246 seconds","date":"2017-05-18T07:04:37.807Z","type":"quit"}
{"nick":"robink","date":"2017-05-18T07:05:02.023Z","type":"join"}
{"nick":"indistylo","date":"2017-05-18T07:07:36.534Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 268 seconds","date":"2017-05-18T07:11:43.057Z","type":"quit"}
{"nick":"srl295","reason":"Quit: Connection closed for inactivity","date":"2017-05-18T07:21:31.995Z","type":"quit"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2017-05-18T07:22:08.111Z","type":"quit"}
{"nick":"AlphaAtom","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2017-05-18T07:32:16.092Z","type":"quit"}
{"nick":"pankaj_","reason":"Ping timeout: 260 seconds","date":"2017-05-18T07:39:53.574Z","type":"quit"}
{"nick":"nodejs-gh","date":"2017-05-18T08:12:05.812Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T08:12:05.996Z","type":"part"}
{"nick":"oieesah","date":"2017-05-18T08:15:38.993Z","type":"join"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T08:30:24.544Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T08:31:42.043Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T08:44:48.840Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T08:44:49.023Z","type":"part"}
{"nick":"xadillax_","date":"2017-05-18T09:09:30.788Z","type":"join"}
{"nick":"xadillax","reason":"Ping timeout: 260 seconds","date":"2017-05-18T09:13:12.062Z","type":"quit"}
{"nick":"oieesah","reason":"Remote host closed the connection","date":"2017-05-18T09:28:00.293Z","type":"quit"}
{"nick":"pankaj_","date":"2017-05-18T09:28:33.834Z","type":"join"}
{"nick":"xadillax_","reason":"Remote host closed the connection","date":"2017-05-18T09:29:28.512Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T09:29:38.602Z","type":"join"}
{"nick":"xadillax","message":"0. 0","date":"2017-05-18T09:36:18.678Z","type":"message"}
{"nick":"xadillax_","date":"2017-05-18T09:45:52.842Z","type":"join"}
{"nick":"xadillax_","reason":"Read error: Connection reset by peer","date":"2017-05-18T09:48:09.123Z","type":"quit"}
{"nick":"xadillax_","date":"2017-05-18T09:48:35.068Z","type":"join"}
{"nick":"xadillax","reason":"Ping timeout: 240 seconds","date":"2017-05-18T09:48:39.386Z","type":"quit"}
{"nick":"stepho","date":"2017-05-18T09:56:06.590Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T10:02:19.091Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T10:02:19.274Z","type":"part"}
{"nick":"xadillax_","reason":"Remote host closed the connection","date":"2017-05-18T10:11:38.052Z","type":"quit"}
{"nick":"pankaj_","reason":"Quit: Leaving","date":"2017-05-18T10:16:19.270Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2017-05-18T10:25:11.032Z","type":"quit"}
{"nick":"mylesborins","date":"2017-05-18T10:25:41.836Z","type":"join"}
{"nick":"boneskull","reason":"Read error: Connection reset by peer","date":"2017-05-18T10:29:49.253Z","type":"quit"}
{"nick":"boneskull","date":"2017-05-18T10:30:37.162Z","type":"join"}
{"nick":"lpin","reason":"Read error: Connection reset by peer","date":"2017-05-18T10:37:30.587Z","type":"quit"}
{"nick":"lpin","date":"2017-05-18T10:37:54.156Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T10:52:05.240Z","type":"join"}
{"nick":"stepho","reason":"Ping timeout: 272 seconds","date":"2017-05-18T10:53:39.402Z","type":"quit"}
{"nick":"stepho","date":"2017-05-18T10:55:31.583Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-05-18T11:13:24.659Z","type":"quit"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T11:18:02.744Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T11:18:34.104Z","type":"join"}
{"nick":"xadillax","reason":"Ping timeout: 260 seconds","date":"2017-05-18T11:22:56.109Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T11:23:32.247Z","type":"join"}
{"nick":"pankaj","date":"2017-05-18T11:27:22.301Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 240 seconds","date":"2017-05-18T11:27:58.315Z","type":"quit"}
{"nick":"D4R5C0D3","date":"2017-05-18T12:06:21.415Z","type":"join"}
{"nick":"joyee","date":"2017-05-18T12:11:09.189Z","type":"join"}
{"nick":"stepho","reason":"Ping timeout: 246 seconds","date":"2017-05-18T12:28:50.453Z","type":"quit"}
{"nick":"stepho","date":"2017-05-18T12:31:13.886Z","type":"join"}
{"nick":"joyee","reason":"Remote host closed the connection","date":"2017-05-18T12:38:32.659Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T12:48:43.325Z","type":"join"}
{"nick":"joyee","reason":"Ping timeout: 255 seconds","date":"2017-05-18T12:53:42.264Z","type":"quit"}
{"nick":"joyee","date":"2017-05-18T12:58:18.276Z","type":"join"}
{"nick":"D4R5C0D3","reason":"Read error: Connection reset by peer","date":"2017-05-18T13:03:55.041Z","type":"quit"}
{"nick":"sgimeno","message":"refack, around?","date":"2017-05-18T13:16:53.229Z","type":"message"}
{"nick":"indistylo","reason":"Ping timeout: 246 seconds","date":"2017-05-18T13:17:50.428Z","type":"quit"}
{"nick":"bradleymeck","date":"2017-05-18T13:45:41.815Z","type":"join"}
{"nick":"al-damiri","date":"2017-05-18T13:52:46.599Z","type":"join"}
{"nick":"octetcloud","date":"2017-05-18T13:58:14.849Z","type":"join"}
{"nick":"xadillax","date":"2017-05-18T13:59:51.622Z","type":"join"}
{"nick":"refack","message":"here","date":"2017-05-18T14:11:07.997Z","type":"message"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T14:11:14.383Z","type":"quit"}
{"nick":"sgimeno","message":"refack, wrt https://github.com/nodejs/node/pull/13064#issuecomment-302369764","date":"2017-05-18T14:12:44.945Z","type":"message"}
{"nick":"xadillax","date":"2017-05-18T14:13:22.129Z","type":"join"}
{"nick":"refack","message":"yep","date":"2017-05-18T14:13:30.029Z","type":"message"}
{"nick":"sgimeno","message":"my understanding of what's happening is that the EADDRINUSE comes from the bind call before connecting","date":"2017-05-18T14:13:39.181Z","type":"message"}
{"nick":"sgimeno","message":"the bind to the `localPort`","date":"2017-05-18T14:13:49.925Z","type":"message"}
{"nick":"sgimeno","message":"nothing to do with TIME_WAIT and ephemeral ports","date":"2017-05-18T14:14:08.592Z","type":"message"}
{"nick":"refack","message":"since it only happens occasionally we assumed it is happens when the localPort is \"INUSE\" by another test","date":"2017-05-18T14:15:52.786Z","type":"message"}
{"nick":"sgimeno","message":"I get that","date":"2017-05-18T14:16:11.096Z","type":"message"}
{"nick":"refack","message":"also it seems to happen only on freeBSD /macOS","date":"2017-05-18T14:16:17.203Z","type":"message"}
{"nick":"sgimeno","message":"then why the change on port: NEVER_PORT ?","date":"2017-05-18T14:16:48.368Z","type":"message"}
{"nick":"sgimeno","message":"the problem is `localPort` ?","date":"2017-05-18T14:17:18.443Z","type":"message"}
{"nick":"refack","message":"it's a workaround to get this stable","date":"2017-05-18T14:18:07.831Z","type":"message"}
{"nick":"refack","message":"we tried port = common.PORT + 1  localPort = common.PORT and it flaked","date":"2017-05-18T14:18:24.086Z","type":"message"}
{"nick":"sgimeno","message":"but I want to understand why it avoids EADDRINUSE... it's not clear to me","date":"2017-05-18T14:18:40.568Z","type":"message"}
{"nick":"refack","message":"then we tried port = common.PORT  localPort = common.PORT","date":"2017-05-18T14:18:42.430Z","type":"message"}
{"nick":"sgimeno","message":"if the issue is with the bind(localPort) call, why changing port fixes anything?","date":"2017-05-18T14:19:41.557Z","type":"message"}
{"nick":"refack","message":"apperently this combination : port=NEVER_PORT, localPort = common.PORT just works","date":"2017-05-18T14:19:49.526Z","type":"message"}
{"nick":"refack","message":"because the only reason we figgured out is TIME_WAIT on common.PORT","date":"2017-05-18T14:20:29.657Z","type":"message"}
{"nick":"refack","message":"the best solution IMHO is to salt common.PORT per test so no two test will use the same port (even in /sequantial/)","date":"2017-05-18T14:21:27.592Z","type":"message"}
{"nick":"sgimeno","message":"I don't see what TIME_WAIT has anything to do with that :/","date":"2017-05-18T14:21:54.122Z","type":"message"}
{"nick":"sgimeno","message":"I could be wrong though","date":"2017-05-18T14:22:05.945Z","type":"message"}
{"nick":"refack","message":"I figured if the port we want to use as localPort is in TIME_WAIT the os will reject with EADDRINUSE","date":"2017-05-18T14:23:00.411Z","type":"message"}
{"nick":"refack","message":"Since it a sequantial run, all tests should close their ports, and it's only the OS that lingers","date":"2017-05-18T14:23:35.148Z","type":"message"}
{"nick":"refack","message":"Did you have any other ideas? We might be wrong...","date":"2017-05-18T14:24:29.434Z","type":"message"}
{"nick":"refack","message":"Why it only happend 1% of the time?","date":"2017-05-18T14:25:14.982Z","type":"message"}
{"nick":"sgimeno","message":"forget about the TIME_WAIT for the moment... you said \"I figured if the port we want to use as localPort is in TIME_WAIT the os will reject with EADDRINUSE\"... my question remains, why changing port (the remote port we're connecting to) changes anything?","date":"2017-05-18T14:27:10.933Z","type":"message"}
{"nick":"sgimeno","message":"the problem seems to be how localPort is selected, right?","date":"2017-05-18T14:27:36.557Z","type":"message"}
{"nick":"sgimeno","message":"wrt to listening on TIME_WAIT, bind should work just fine as we're setting the SO_REUSEADDR option","date":"2017-05-18T14:39:36.676Z","type":"message"}
{"nick":"sgimeno","message":"but it can return the EADDRINUSE error on connect if both localPort/localAddress - remotePort/remoteAddress are the same as the previous time","date":"2017-05-18T14:40:38.199Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-05-18T14:41:10.103Z","type":"quit"}
{"nick":"sgimeno","message":"which *could* be what's happening here","date":"2017-05-18T14:41:53.018Z","type":"message"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T14:43:17.409Z","type":"quit"}
{"nick":"bmgoog","date":"2017-05-18T14:48:08.473Z","type":"part"}
{"nick":"bmgoog","date":"2017-05-18T14:48:08.656Z","type":"join"}
{"nick":"indistylo","date":"2017-05-18T14:49:15.453Z","type":"join"}
{"nick":"ChALkeR","date":"2017-05-18T14:56:36.491Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2017-05-18T15:18:08.968Z","type":"quit"}
{"nick":"pankaj","reason":"Ping timeout: 268 seconds","date":"2017-05-18T15:21:58.327Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T15:22:52.707Z","type":"join"}
{"nick":"xadillax","reason":"Remote host closed the connection","date":"2017-05-18T15:23:50.555Z","type":"quit"}
{"nick":"xadillax","date":"2017-05-18T15:23:57.672Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T15:26:49.856Z","type":"join"}
{"nick":"nodejs-gh","date":"2017-05-18T15:26:50.078Z","type":"part"}
{"nick":"bradleymeck","date":"2017-05-18T15:30:08.491Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2017-05-18T15:39:50.784Z","type":"quit"}
{"nick":"pankaj","date":"2017-05-18T15:45:28.186Z","type":"join"}
{"nick":"lanceball","new_nick":"lance|afk","date":"2017-05-18T15:52:54.203Z","type":"nick"}

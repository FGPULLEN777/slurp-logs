{"nick":"bobby_barker","message":"can someone take a look at this for me? I've highlighted the few lines of interest. Long story short - I've trying to return the output of this function to my AJAX call from the front-end. The function outputs correctly and I can get data to the front-end but I can't manage to get the promise-based output to the front-end? Help would be greatly appreciated http://pastie.org/10966425#36-39,123-143,145","date":"2016-11-21T00:12:38.524Z","type":"message"}
{"nick":"mezod","reason":"Read error: No route to host","date":"2016-11-21T00:31:36.263Z","type":"quit"}
{"nick":"mezod","date":"2016-11-21T00:32:29.054Z","type":"join"}
{"nick":"mezod","reason":"Read error: Connection reset by peer","date":"2016-11-21T00:35:37.021Z","type":"quit"}
{"nick":"mezod","date":"2016-11-21T00:36:42.242Z","type":"join"}
{"nick":"mezod","reason":"Remote host closed the connection","date":"2016-11-21T00:41:55.695Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T01:01:01.602Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 260 seconds","date":"2016-11-21T01:05:51.933Z","type":"quit"}
{"nick":"mezod","date":"2016-11-21T01:13:29.399Z","type":"join"}
{"nick":"joshonth_","reason":"Quit: Computer has gone to sleep.","date":"2016-11-21T01:34:23.238Z","type":"quit"}
{"nick":"bobby_barker","reason":"Ping timeout: 260 seconds","date":"2016-11-21T01:45:03.997Z","type":"quit"}
{"nick":"joshontheweb","date":"2016-11-21T01:46:17.989Z","type":"join"}
{"nick":"mezod","reason":"Ping timeout: 240 seconds","date":"2016-11-21T01:57:37.216Z","type":"quit"}
{"nick":"joshontheweb","reason":"Remote host closed the connection","date":"2016-11-21T02:37:10.509Z","type":"quit"}
{"nick":"joshontheweb","date":"2016-11-21T02:39:20.392Z","type":"join"}
{"nick":"SuperHans","date":"2016-11-21T03:03:12.426Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 256 seconds","date":"2016-11-21T03:08:10.907Z","type":"quit"}
{"nick":"frankdrey","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2016-11-21T03:24:55.643Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T04:03:57.975Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 250 seconds","date":"2016-11-21T04:08:38.964Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T05:04:46.835Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 258 seconds","date":"2016-11-21T05:09:22.416Z","type":"quit"}
{"nick":"rajan123","date":"2016-11-21T05:32:15.736Z","type":"join"}
{"nick":"ok91","date":"2016-11-21T05:33:50.577Z","type":"join"}
{"nick":"ok91","reason":"Ping timeout: 268 seconds","date":"2016-11-21T05:38:38.546Z","type":"quit"}
{"nick":"rajan123","reason":"Quit: rajan123","date":"2016-11-21T05:43:38.055Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T06:05:34.846Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 245 seconds","date":"2016-11-21T06:10:03.810Z","type":"quit"}
{"nick":"TheThing","date":"2016-11-21T06:37:30.975Z","type":"join"}
{"nick":"frankdrey","date":"2016-11-21T06:51:40.775Z","type":"join"}
{"nick":"SuperHans","date":"2016-11-21T07:06:19.048Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 244 seconds","date":"2016-11-21T07:10:53.603Z","type":"quit"}
{"nick":"TheThing_","date":"2016-11-21T07:11:02.178Z","type":"join"}
{"nick":"TheThing","reason":"Ping timeout: 252 seconds","date":"2016-11-21T07:13:43.954Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T07:25:35.639Z","type":"join"}
{"nick":"SuperHans","reason":"Ping timeout: 248 seconds","date":"2016-11-21T07:30:13.224Z","type":"quit"}
{"nick":"rajan123","date":"2016-11-21T07:32:08.881Z","type":"join"}
{"nick":"frankdrey","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2016-11-21T07:37:04.477Z","type":"quit"}
{"nick":"TheThing","date":"2016-11-21T07:46:41.151Z","type":"join"}
{"nick":"SuperHans","date":"2016-11-21T07:48:06.006Z","type":"join"}
{"nick":"TheThing_","reason":"Ping timeout: 240 seconds","date":"2016-11-21T07:48:57.139Z","type":"quit"}
{"nick":"kudos","reason":"Ping timeout: 245 seconds","date":"2016-11-21T08:06:18.826Z","type":"quit"}
{"nick":"kudos","date":"2016-11-21T08:08:17.293Z","type":"join"}
{"nick":"SuperHans","reason":"Remote host closed the connection","date":"2016-11-21T08:20:18.476Z","type":"quit"}
{"nick":"SuperHans","date":"2016-11-21T08:32:34.945Z","type":"join"}
{"nick":"TheThing","reason":"Remote host closed the connection","date":"2016-11-21T08:38:45.614Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T08:52:06.827Z","type":"join"}
{"nick":"rajan123","reason":"Quit: rajan123","date":"2016-11-21T09:04:31.029Z","type":"quit"}
{"nick":"joshontheweb","reason":"Ping timeout: 256 seconds","date":"2016-11-21T09:11:58.922Z","type":"quit"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T11:25:12.537Z","type":"quit"}
{"nick":"mezod","date":"2016-11-21T11:57:10.138Z","type":"join"}
{"nick":"tmaximini","date":"2016-11-21T12:04:20.872Z","type":"join"}
{"nick":"rajan123","date":"2016-11-21T12:26:49.820Z","type":"join"}
{"nick":"TheThing","date":"2016-11-21T12:38:57.785Z","type":"join"}
{"nick":"TheThing","reason":"Remote host closed the connection","date":"2016-11-21T12:51:08.155Z","type":"quit"}
{"nick":"TheThing","date":"2016-11-21T12:53:29.807Z","type":"join"}
{"nick":"Lukky","reason":"Read error: Connection reset by peer","date":"2016-11-21T12:54:18.603Z","type":"quit"}
{"nick":"TheThing","reason":"Remote host closed the connection","date":"2016-11-21T12:56:49.625Z","type":"quit"}
{"nick":"TheThing","date":"2016-11-21T13:05:31.110Z","type":"join"}
{"nick":"TheThing","reason":"Read error: Connection reset by peer","date":"2016-11-21T13:08:37.168Z","type":"quit"}
{"nick":"TheThing","date":"2016-11-21T13:10:58.216Z","type":"join"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T13:19:52.192Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T13:20:25.587Z","type":"join"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T13:23:34.862Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T13:23:47.605Z","type":"join"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T13:26:35.264Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T13:27:08.575Z","type":"join"}
{"nick":"tmaximini","reason":"Read error: Connection reset by peer","date":"2016-11-21T13:31:28.646Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T13:31:44.797Z","type":"join"}
{"nick":"mezod","reason":"Remote host closed the connection","date":"2016-11-21T14:24:58.843Z","type":"quit"}
{"nick":"TheThing","reason":"Ping timeout: 240 seconds","date":"2016-11-21T14:53:57.190Z","type":"quit"}
{"nick":"mezod","date":"2016-11-21T14:55:13.708Z","type":"join"}
{"nick":"TheThing","date":"2016-11-21T14:58:50.795Z","type":"join"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T15:18:11.877Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T15:25:50.003Z","type":"join"}
{"nick":"tmaximini","reason":"Remote host closed the connection","date":"2016-11-21T15:41:06.932Z","type":"quit"}
{"nick":"tmaximini","date":"2016-11-21T15:44:14.596Z","type":"join"}

{"nick":"mikeal","message":"can i use binary keys with sublevel?","date":"2013-09-04T00:07:02.907Z","type":"message"}
{"nick":"thlorenz","message":"brycebaril: using leveldown-hyper - how can I tell which buffersize it is actually using?","date":"2013-09-04T00:15:26.030Z","type":"message"}
{"nick":"thlorenz","message":"I have db.options.writeBufferSize set, but have no guarantee that got picked up","date":"2013-09-04T00:16:05.305Z","type":"message"}
{"nick":"thlorenz","message":"here is what I have     levelup(dblocation, { db: leveldown, valueEncoding: 'json', writeBufferSize: 16 * 1024 * 1024 /* 16MB */ }, function (err, db) { .. })","date":"2013-09-04T00:16:57.844Z","type":"message"}
{"nick":"thlorenz","message":"leveldown being hyper","date":"2013-09-04T00:17:02.805Z","type":"message"}
{"nick":"rvagg","message":"the options object is passed straight down into leveldown, which in turn passes the relevant options to leveldb, hyperlevel in this case","date":"2013-09-04T00:18:25.093Z","type":"message"}
{"nick":"rvagg","message":"so it should be what you've goven it","date":"2013-09-04T00:18:31.301Z","type":"message"}
{"nick":"rvagg","message":"given","date":"2013-09-04T00:18:33.840Z","type":"message"}
{"nick":"thlorenz","message":"rvagg: cool - that's what I assumed, but I wasn't sure - didn't see any improvements setting this","date":"2013-09-04T00:18:58.034Z","type":"message"}
{"nick":"rescrv","message":"thlorenz: assuming rvagg didn't make a typo (a good assumption), hyperleveldb picks it up","date":"2013-09-04T00:19:13.221Z","type":"message"}
{"nick":"thlorenz","message":"so maybe it was the default for hyper all along since that's the suggested value","date":"2013-09-04T00:19:26.149Z","type":"message"}
{"nick":"rescrv","message":"thlorenz: 16MB is not some magic value that gives improvements.  Bigger values just have diminishing returns and introduce more noise","date":"2013-09-04T00:19:42.133Z","type":"message"}
{"nick":"rescrv","message":"no, it's not the default","date":"2013-09-04T00:19:46.383Z","type":"message"}
{"nick":"thlorenz","message":"anyhoo - seeing basically no improvements - giving mbalho's level-batch a go","date":"2013-09-04T00:20:04.413Z","type":"message"}
{"nick":"jmartins","date":"2013-09-04T00:20:16.502Z","type":"join"}
{"nick":"rescrv","message":"thlorenz: how big are your objects?","date":"2013-09-04T00:20:19.568Z","type":"message"}
{"nick":"rescrv","message":"eventually, your disk becomes the bottleneck.","date":"2013-09-04T00:20:26.355Z","type":"message"}
{"nick":"rescrv","message":"On my disk, it happens around 2KB/obj","date":"2013-09-04T00:20:35.629Z","type":"message"}
{"nick":"thlorenz","message":"I'm not entirely sure - not that huge though","date":"2013-09-04T00:20:36.313Z","type":"message"}
{"nick":"thlorenz","message":"I mean after pretty much all data as been pulled I'm at ~40MB total","date":"2013-09-04T00:21:10.893Z","type":"message"}
{"nick":"rescrv","message":"are you using snappy?","date":"2013-09-04T00:21:23.787Z","type":"message"}
{"nick":"thlorenz","message":"I suppose yes since I didn't change the compression defaults","date":"2013-09-04T00:21:39.457Z","type":"message"}
{"nick":"rvagg","message":"https://github.com/rvagg/node-leveldown/blob/hyper-leveldb/src/database.cc#L206","date":"2013-09-04T00:22:14.274Z","type":"message"}
{"nick":"rvagg","message":"https://github.com/rvagg/node-leveldown/blob/hyper-leveldb/src/database_async.cc#L38","date":"2013-09-04T00:22:17.061Z","type":"message"}
{"nick":"rescrv","message":"rvagg: I trusted you did it correctly and was just being pedantic","date":"2013-09-04T00:22:57.609Z","type":"message"}
{"nick":"rvagg","message":"substack: levelup is stuck on \"failed build\" since the readstream stuff, can we get this fixed? https://travis-ci.org/rvagg/node-levelup/","date":"2013-09-04T00:23:00.553Z","type":"message"}
{"nick":"rvagg","message":"rescrv: I don't usually trust myself that much... so...","date":"2013-09-04T00:23:13.537Z","type":"message"}
{"nick":"substack","message":"uh oh","date":"2013-09-04T00:23:17.360Z","type":"message"}
{"nick":"levelbot","message":"[npm] level-sets@0.1.0 <http://npm.im/level-sets>: Buckets of unique keys for level. (@mikeal)","date":"2013-09-04T00:27:49.034Z","type":"message"}
{"nick":"mikeal","message":":)","date":"2013-09-04T00:27:59.397Z","type":"message"}
{"nick":"mikeal","message":"had to ditch sublevel","date":"2013-09-04T00:28:34.449Z","type":"message"}
{"nick":"mikeal","message":"didn't seem to work with binary keys","date":"2013-09-04T00:28:39.507Z","type":"message"}
{"nick":"tmcw","date":"2013-09-04T00:28:50.765Z","type":"join"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-09-04T00:31:11.465Z","type":"quit"}
{"nick":"jmartins","reason":"Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/","date":"2013-09-04T00:32:03.370Z","type":"quit"}
{"nick":"thlorenz","message":"mbalho: running with level-batcher now, so far so good - will know more in about 10mins once the db grew","date":"2013-09-04T00:32:25.570Z","type":"message"}
{"nick":"thlorenz","message":"but so far memory footprint looks much better and batching doesn't seem to hang anymore","date":"2013-09-04T00:32:57.518Z","type":"message"}
{"nick":"tmcw","reason":"Ping timeout: 276 seconds","date":"2013-09-04T00:33:57.577Z","type":"quit"}
{"nick":"thlorenz","message":"OMG mbalho you are my hero for today :) this little gem solved all my problems :)","date":"2013-09-04T00:35:29.033Z","type":"message"}
{"nick":"thlorenz","message":"I'm now with mikeal where github is my bottleneck","date":"2013-09-04T00:35:33.646Z","type":"message"}
{"nick":"jxson","date":"2013-09-04T00:40:39.931Z","type":"join"}
{"nick":"thlorenz","message":"just to give some numbers: ~5mins for something that took 30mins+ previously","date":"2013-09-04T00:40:50.473Z","type":"message"}
{"nick":"thlorenz","message":"staying below 300MB memory and came down to 160MB (before it climbed up to 700MB+ and never came fully back down)","date":"2013-09-04T00:41:31.819Z","type":"message"}
{"nick":"esundahl_","date":"2013-09-04T00:43:14.210Z","type":"join"}
{"nick":"rescrv","message":"rvagg: I introduced a perf regression in the latest hyperleveldb.  I'm pushing a fix tonight UTC-0400","date":"2013-09-04T00:44:58.756Z","type":"message"}
{"nick":"rvagg","message":"rescrv: ok, I'm about to start some longhaul travel but will organise a new release on our end in a couple of days (if I remember, otherwise hopefully someone in here will remind me!)","date":"2013-09-04T00:50:58.861Z","type":"message"}
{"nick":"rescrv","message":"rvagg: no real hurry.  I may take a day or two to really push the perf to beyond that of lmdb","date":"2013-09-04T00:53:45.368Z","type":"message"}
{"nick":"rvagg","message":"heh, nice!","date":"2013-09-04T00:53:55.357Z","type":"message"}
{"nick":"rescrv","message":"reads take 10x longer than writes for this benchmark","date":"2013-09-04T00:54:21.279Z","type":"message"}
{"nick":"rescrv","message":"I think it should be better than that","date":"2013-09-04T00:54:27.039Z","type":"message"}
{"nick":"mikeal","message":"wow","date":"2013-09-04T00:54:29.304Z","type":"message"}
{"nick":"jcrugzz","date":"2013-09-04T00:54:30.116Z","type":"join"}
{"nick":"rvagg","message":"hopefully you see some interest in hyper* after nodeconf.eu, I'm sure we'll have reason to talk about hyperleveldb/leveldown-hyper","date":"2013-09-04T00:54:52.288Z","type":"message"}
{"nick":"mikeal","message":"nodeconf.eu is going to be amazing","date":"2013-09-04T00:55:44.703Z","type":"message"}
{"nick":"rescrv","message":"rvagg: would you be the best person to get some advice on for wrapping HyperDex up for node.js?  I just want advice on what the end user API should be and a pointer to the docs for the correct version of node","date":"2013-09-04T00:56:35.679Z","type":"message"}
{"nick":"rescrv","message":"I've seen you mention that different versions are incompatible, and I can only spare the time to target one","date":"2013-09-04T00:56:57.812Z","type":"message"}
{"nick":"rvagg","message":"rescrv: yeah, me, or mikeal, or mbalho probably","date":"2013-09-04T00:57:09.792Z","type":"message"}
{"nick":"rvagg","message":"rescrv: always target latest stable release, in this case 0.10.x","date":"2013-09-04T00:57:21.484Z","type":"message"}
{"nick":"esundahl_","reason":"Remote host closed the connection","date":"2013-09-04T00:57:38.520Z","type":"quit"}
{"nick":"rvagg","message":"it's just that if you're doing compiled addons then you need to care about the unstable releases 0.11.x cause they are introducing a lot of API pain, but we're working on making that nicer","date":"2013-09-04T00:57:54.613Z","type":"message"}
{"nick":"esundahl","date":"2013-09-04T00:58:10.965Z","type":"join"}
{"nick":"rvagg","message":"rescrv: are you just going to release a JS package though, or will you be bundling C++?","date":"2013-09-04T00:58:11.290Z","type":"message"}
{"nick":"rescrv","message":"rvagg: it's both.  I'm wrapping C in JS","date":"2013-09-04T00:58:35.564Z","type":"message"}
{"nick":"rvagg","message":"rescrv: ok, so you'll need to care about the incompatibilities or else you'll be stranded when 0.12 is released and everything breaks","date":"2013-09-04T00:59:10.837Z","type":"message"}
{"nick":"rvagg","message":"see https://github.com/rvagg/nan which is being used by a bunch of major libs to get wider compatibility","date":"2013-09-04T00:59:27.440Z","type":"message"}
{"nick":"rescrv","message":"when's the target release for 0.12?","date":"2013-09-04T00:59:35.708Z","type":"message"}
{"nick":"rvagg","message":"rescrv: err... a couple of months perhaps...","date":"2013-09-04T00:59:57.276Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-09-04T01:00:24.201Z","type":"quit"}
{"nick":"rvagg","message":"https://github.com/tjfontaine/node-addon-layer this one may become the \"official\" way of doing c/c++ interaction with v8/node","date":"2013-09-04T01:00:25.813Z","type":"message"}
{"nick":"rvagg","message":"or now, NAN is the best option tho I think","date":"2013-09-04T01:00:37.043Z","type":"message"}
{"nick":"rvagg","message":"rescrv: pull me into a github discussion and/or repo and I'll be happy to contribute or advise, for now I really need to shutdown and get off to the airport","date":"2013-09-04T01:01:09.032Z","type":"message"}
{"nick":"rescrv","message":"rvagg: have a safe trip.  I'll followup via github","date":"2013-09-04T01:01:27.019Z","type":"message"}
{"nick":"esundahl","reason":"Ping timeout: 248 seconds","date":"2013-09-04T01:02:29.753Z","type":"quit"}
{"nick":"mbalho","message":"thlorenz: sweet glad to hear it worked out. i release level-batcher 0.0.2 today, make sure you upgrade","date":"2013-09-04T01:05:46.705Z","type":"message"}
{"nick":"mbalho","message":"thlorenz: (dont remember if i released before or after i told you about it)","date":"2013-09-04T01:06:00.412Z","type":"message"}
{"nick":"thlorenz","message":"mbalho: I'm running 0.0.3","date":"2013-09-04T01:06:24.708Z","type":"message"}
{"nick":"thlorenz","message":"sorry 0.0.2","date":"2013-09-04T01:06:29.812Z","type":"message"}
{"nick":"mbalho","message":"cool","date":"2013-09-04T01:06:32.221Z","type":"message"}
{"nick":"thlorenz","message":"mbalho: saved my day - I spent over a day on tracking this down (well learning how to read heapdumps as well)","date":"2013-09-04T01:07:13.384Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-04T01:07:25.996Z","type":"quit"}
{"nick":"thlorenz","message":"mbalho: since all the retained objects were related to requests I looked in the wrong corner at first","date":"2013-09-04T01:07:42.533Z","type":"message"}
{"nick":"mbalho","message":"thlorenz: can you leave a comment on https://github.com/maxogden/level-bulk-load/issues/1 summarizing your experience/use case? i think it would be useful for others watching that thread","date":"2013-09-04T01:09:29.909Z","type":"message"}
{"nick":"mikeal","date":"2013-09-04T01:10:06.451Z","type":"join"}
{"nick":"ednapiranha","date":"2013-09-04T01:11:03.580Z","type":"join"}
{"nick":"soldair","reason":"Ping timeout: 250 seconds","date":"2013-09-04T01:14:55.359Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-09-04T01:15:16.139Z","type":"quit"}
{"nick":"thlorenz","message":"mbalho: I will do - I also summarized problem and solution here: https://github.com/thlorenz/valuepack-mine/issues/2#issuecomment-23756766","date":"2013-09-04T01:17:45.367Z","type":"message"}
{"nick":"mbalho","message":"cool","date":"2013-09-04T01:22:21.407Z","type":"message"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-09-04T01:47:39.369Z","type":"quit"}
{"nick":"disordinary","date":"2013-09-04T01:50:57.596Z","type":"join"}
{"nick":"timoxley","date":"2013-09-04T01:59:39.363Z","type":"join"}
{"nick":"ednapiranha","reason":"Remote host closed the connection","date":"2013-09-04T02:04:50.121Z","type":"quit"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-09-04T02:08:43.276Z","type":"quit"}
{"nick":"dguttman","date":"2013-09-04T02:09:43.175Z","type":"join"}
{"nick":"julianduque","reason":"Remote host closed the connection","date":"2013-09-04T02:24:43.771Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-04T02:25:41.347Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-09-04T03:03:50.512Z","type":"quit"}
{"nick":"ramitos","reason":"Ping timeout: 248 seconds","date":"2013-09-04T03:04:05.733Z","type":"quit"}
{"nick":"thlorenz","new_nick":"thlorenz_zz","date":"2013-09-04T03:22:03.962Z","type":"nick"}
{"nick":"esundahl","date":"2013-09-04T03:42:03.888Z","type":"join"}
{"nick":"werle","reason":"Ping timeout: 264 seconds","date":"2013-09-04T03:55:54.484Z","type":"quit"}
{"nick":"tmcw","date":"2013-09-04T04:24:14.585Z","type":"join"}
{"nick":"werle","date":"2013-09-04T04:25:33.134Z","type":"join"}
{"nick":"disordinary","reason":"Ping timeout: 264 seconds","date":"2013-09-04T04:28:40.406Z","type":"quit"}
{"nick":"werle","reason":"Ping timeout: 264 seconds","date":"2013-09-04T04:30:28.352Z","type":"quit"}
{"nick":"dguttman","date":"2013-09-04T04:33:57.115Z","type":"join"}
{"nick":"levelbot","message":"[npm] eksi-server@0.0.8 <http://npm.im/eksi-server>: Eksi Sozluk JSON API Server (@azer)","date":"2013-09-04T04:35:48.705Z","type":"message"}
{"nick":"julianduque","reason":"Ping timeout: 245 seconds","date":"2013-09-04T04:48:45.188Z","type":"quit"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-09-04T04:48:52.913Z","type":"quit"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-09-04T04:49:46.928Z","type":"quit"}
{"nick":"tmcw","date":"2013-09-04T04:50:15.145Z","type":"join"}
{"nick":"tmcw","reason":"Ping timeout: 256 seconds","date":"2013-09-04T04:54:42.149Z","type":"quit"}
{"nick":"julianduque","date":"2013-09-04T04:56:45.483Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-09-04T05:06:06.520Z","type":"quit"}
{"nick":"tmcw","date":"2013-09-04T05:20:45.185Z","type":"join"}
{"nick":"mikeal","date":"2013-09-04T05:24:11.404Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-09-04T05:24:30.872Z","type":"quit"}
{"nick":"mikeal","date":"2013-09-04T05:27:27.333Z","type":"join"}
{"nick":"tmcw","reason":"Ping timeout: 260 seconds","date":"2013-09-04T05:31:15.985Z","type":"quit"}
{"nick":"tmcw","date":"2013-09-04T05:57:05.853Z","type":"join"}
{"nick":"tmcw","reason":"Ping timeout: 276 seconds","date":"2013-09-04T06:02:12.508Z","type":"quit"}
{"nick":"esundahl","reason":"Remote host closed the connection","date":"2013-09-04T06:18:40.757Z","type":"quit"}
{"nick":"esundahl","date":"2013-09-04T06:19:12.385Z","type":"join"}
{"nick":"esundahl","reason":"Ping timeout: 245 seconds","date":"2013-09-04T06:23:20.121Z","type":"quit"}
{"nick":"jcrugzz","reason":"Ping timeout: 260 seconds","date":"2013-09-04T06:24:55.980Z","type":"quit"}
{"nick":"tmcw","date":"2013-09-04T06:57:34.832Z","type":"join"}
{"nick":"ehd","reason":"Ping timeout: 240 seconds","date":"2013-09-04T06:57:54.262Z","type":"quit"}
{"nick":"dk","reason":"Excess Flood","date":"2013-09-04T06:57:54.472Z","type":"quit"}
{"nick":"Guest49098","date":"2013-09-04T06:59:39.011Z","type":"join"}
{"nick":"Guest49098","reason":"Max SendQ exceeded","date":"2013-09-04T06:59:39.913Z","type":"quit"}
{"nick":"dk_","date":"2013-09-04T07:02:09.204Z","type":"join"}
{"nick":"tmcw","reason":"Ping timeout: 276 seconds","date":"2013-09-04T07:02:39.492Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-09-04T07:18:25.115Z","type":"join"}
{"nick":"dominictarr","date":"2013-09-04T07:22:20.254Z","type":"join"}
{"nick":"tmcw","date":"2013-09-04T07:28:19.842Z","type":"join"}
{"nick":"tmcw","reason":"Ping timeout: 276 seconds","date":"2013-09-04T07:33:12.546Z","type":"quit"}

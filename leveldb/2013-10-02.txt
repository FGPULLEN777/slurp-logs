{"nick":"jxson","date":"2013-10-02T00:04:34.827Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 240 seconds","date":"2013-10-02T00:12:48.323Z","type":"quit"}
{"nick":"jxson","date":"2013-10-02T00:19:15.406Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T00:26:20.588Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-02T00:27:08.809Z","type":"join"}
{"nick":"tmcw","date":"2013-10-02T00:35:28.870Z","type":"join"}
{"nick":"mbalho","message":"justicefries: there are a couple of those yes, do an npm search for 'level geo' and they should come up","date":"2013-10-02T00:36:32.208Z","type":"message"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-02T00:37:35.270Z","type":"quit"}
{"nick":"tmcw","reason":"Ping timeout: 248 seconds","date":"2013-10-02T00:39:55.886Z","type":"quit"}
{"nick":"kenansulayman","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-10-02T00:40:49.170Z","type":"quit"}
{"nick":"justicefries","message":"mbalho: ah, should've mentioned, found two on the levelup wiki as well","date":"2013-10-02T00:40:49.387Z","type":"message"}
{"nick":"mbalho","message":"level-geo, level-geospatial, level-nearby-stream, level-places, terraformer-geostore","date":"2013-10-02T00:49:35.163Z","type":"message"}
{"nick":"mbalho","message":"justicefries: o/","date":"2013-10-02T00:49:39.485Z","type":"message"}
{"nick":"justicefries","message":"nice even more.","date":"2013-10-02T00:49:47.127Z","type":"message"}
{"nick":"justicefries","message":"thanks.","date":"2013-10-02T00:49:49.031Z","type":"message"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-10-02T00:58:19.804Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T01:17:45.106Z","type":"quit"}
{"nick":"ryanj","reason":"Ping timeout: 245 seconds","date":"2013-10-02T01:32:31.624Z","type":"quit"}
{"nick":"ralphtheninja","reason":"Ping timeout: 264 seconds","date":"2013-10-02T01:52:54.289Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T01:54:28.226Z","type":"join"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-02T01:55:54.288Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T01:58:48.636Z","type":"join"}
{"nick":"eugenewa_","date":"2013-10-02T02:09:27.933Z","type":"join"}
{"nick":"eugeneware","reason":"Read error: Connection reset by peer","date":"2013-10-02T02:11:20.015Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T02:11:55.637Z","type":"join"}
{"nick":"eugenewa_","reason":"Ping timeout: 246 seconds","date":"2013-10-02T02:14:31.988Z","type":"quit"}
{"nick":"joshwnj","date":"2013-10-02T02:14:40.742Z","type":"join"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-02T02:42:25.825Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T03:12:49.732Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T03:13:31.575Z","type":"quit"}
{"nick":"eugeneware","reason":"Ping timeout: 240 seconds","date":"2013-10-02T03:17:02.543Z","type":"quit"}
{"nick":"ryanj","date":"2013-10-02T03:20:44.619Z","type":"join"}
{"nick":"mikeal","date":"2013-10-02T03:23:41.828Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-10-02T03:23:51.003Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T03:24:23.573Z","type":"join"}
{"nick":"chapel","reason":"Ping timeout: 245 seconds","date":"2013-10-02T03:27:55.161Z","type":"quit"}
{"nick":"joshwnj","reason":"Ping timeout: 240 seconds","date":"2013-10-02T03:28:48.678Z","type":"quit"}
{"nick":"ryanj","reason":"Ping timeout: 245 seconds","date":"2013-10-02T03:42:31.662Z","type":"quit"}
{"nick":"ryanj","date":"2013-10-02T03:43:44.292Z","type":"join"}
{"nick":"ryanj","reason":"Ping timeout: 252 seconds","date":"2013-10-02T03:48:39.232Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-02T03:53:26.918Z","type":"join"}
{"nick":"eugeneware","date":"2013-10-02T03:54:06.297Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T03:56:41.458Z","type":"quit"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T04:06:34.373Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-02T04:24:27.227Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T04:30:31.097Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-02T04:50:31.998Z","type":"join"}
{"nick":"ryanj","date":"2013-10-02T06:13:08.582Z","type":"join"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-02T06:20:38.618Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T06:55:39.174Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T06:56:21.639Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T06:56:53.913Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-02T07:01:05.148Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T08:18:15.766Z","type":"join"}
{"nick":"rud","reason":"Ping timeout: 240 seconds","date":"2013-10-02T08:25:48.558Z","type":"quit"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T08:26:18.363Z","type":"quit"}
{"nick":"rud","date":"2013-10-02T08:27:54.298Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 252 seconds","date":"2013-10-02T08:39:03.205Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T08:46:53.487Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T08:49:51.189Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T09:13:16.398Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T09:33:57.502Z","type":"quit"}
{"nick":"kenansulayman","date":"2013-10-02T09:38:32.330Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-02T09:43:43.207Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T09:54:39.718Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T09:55:13.093Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 256 seconds","date":"2013-10-02T09:59:36.730Z","type":"quit"}
{"nick":"ralphtheninja","date":"2013-10-02T10:00:30.916Z","type":"join"}
{"nick":"kenansulayman","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-10-02T10:23:40.425Z","type":"quit"}
{"nick":"thlorenz_","date":"2013-10-02T10:43:20.832Z","type":"join"}
{"nick":"thlorenz_","reason":"Remote host closed the connection","date":"2013-10-02T10:57:19.339Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T11:43:35.162Z","type":"join"}
{"nick":"dguttman","reason":"Client Quit","date":"2013-10-02T11:45:50.615Z","type":"quit"}
{"nick":"Acconut","date":"2013-10-02T11:57:55.660Z","type":"join"}
{"nick":"Acconut","reason":"Client Quit","date":"2013-10-02T11:58:29.747Z","type":"quit"}
{"nick":"thlorenz_","date":"2013-10-02T12:31:55.090Z","type":"join"}
{"nick":"eugeneware","date":"2013-10-02T12:45:23.505Z","type":"join"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-02T12:45:26.783Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T12:45:53.207Z","type":"join"}
{"nick":"eugeneware","reason":"Ping timeout: 240 seconds","date":"2013-10-02T12:50:14.551Z","type":"quit"}
{"nick":"Acconut","date":"2013-10-02T12:54:08.942Z","type":"join"}
{"nick":"tmcw","date":"2013-10-02T12:55:07.843Z","type":"join"}
{"nick":"thlorenz_","reason":"Remote host closed the connection","date":"2013-10-02T12:59:03.469Z","type":"quit"}
{"nick":"Acconut","reason":"Quit: Acconut","date":"2013-10-02T13:00:18.645Z","type":"quit"}
{"nick":"Acconut","date":"2013-10-02T13:14:16.727Z","type":"join"}
{"nick":"eugeneware","date":"2013-10-02T13:16:25.102Z","type":"join"}
{"nick":"brianloveswords_","new_nick":"brianloveswords","date":"2013-10-02T13:23:19.293Z","type":"nick"}
{"nick":"fallsemo","date":"2013-10-02T13:34:19.430Z","type":"join"}
{"nick":"Acconut","reason":"Quit: Acconut","date":"2013-10-02T13:38:53.045Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T13:46:18.226Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T13:51:25.532Z","type":"quit"}
{"nick":"frankblizzard","date":"2013-10-02T13:52:53.725Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T14:03:34.830Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T14:04:06.970Z","type":"join"}
{"nick":"thlorenz","reason":"Read error: Connection reset by peer","date":"2013-10-02T14:06:31.176Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T14:07:03.860Z","type":"join"}
{"nick":"jjmalina","date":"2013-10-02T14:12:18.467Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T14:22:29.956Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-02T14:31:00.181Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T14:35:42.534Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T14:52:45.773Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T14:57:21.975Z","type":"quit"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T15:02:30.791Z","type":"quit"}
{"nick":"eugeneware","reason":"Ping timeout: 256 seconds","date":"2013-10-02T15:10:43.147Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-02T15:10:43.147Z","type":"join"}
{"nick":"jerrysv","date":"2013-10-02T15:11:42.745Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-02T15:14:10.806Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-02T15:18:14.551Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-02T15:25:35.222Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-02T15:27:53.551Z","type":"join"}
{"nick":"juliangruber","message":"started working on a super fast validation library that treats string ranges well: https://github.com/juliangruber/validly","date":"2013-10-02T15:28:05.672Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T15:35:25.017Z","type":"quit"}
{"nick":"eugeneware","date":"2013-10-02T15:35:33.326Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T15:37:18.424Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T15:41:50.186Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T15:43:18.265Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T15:43:51.445Z","type":"join"}
{"nick":"frankblizzard","reason":"Remote host closed the connection","date":"2013-10-02T15:47:53.152Z","type":"quit"}
{"nick":"thlorenz","reason":"Ping timeout: 252 seconds","date":"2013-10-02T15:48:03.213Z","type":"quit"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T15:48:49.028Z","type":"quit"}
{"nick":"ednapiranha","date":"2013-10-02T15:49:33.473Z","type":"join"}
{"nick":"fallsemo","date":"2013-10-02T15:52:04.432Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-02T16:03:16.029Z","type":"join"}
{"nick":"thlorenz","reason":"Read error: Connection reset by peer","date":"2013-10-02T16:06:59.526Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T16:07:12.947Z","type":"join"}
{"nick":"frankblizzard","date":"2013-10-02T16:14:59.955Z","type":"join"}
{"nick":"mikeal","date":"2013-10-02T16:33:50.778Z","type":"join"}
{"nick":"kenansulayman","date":"2013-10-02T16:38:10.340Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T16:41:17.930Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T16:41:49.546Z","type":"join"}
{"nick":"thlorenz","reason":"Read error: Connection reset by peer","date":"2013-10-02T16:44:50.345Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T16:45:03.422Z","type":"join"}
{"nick":"jxson","date":"2013-10-02T16:50:45.980Z","type":"join"}
{"nick":"dguttman","date":"2013-10-02T16:53:30.631Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-02T17:02:24.467Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T17:05:42.581Z","type":"quit"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-10-02T17:07:17.543Z","type":"quit"}
{"nick":"ryan_ramage","date":"2013-10-02T17:08:23.547Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T17:15:52.869Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-02T17:16:25.091Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 260 seconds","date":"2013-10-02T17:21:07.887Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-02T17:36:22.485Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T17:37:50.130Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T17:43:20.099Z","type":"join"}
{"nick":"jxson","date":"2013-10-02T17:44:37.824Z","type":"join"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-10-02T17:44:43.518Z","type":"quit"}
{"nick":"jxson","date":"2013-10-02T17:45:10.345Z","type":"join"}
{"nick":"mikeal","reason":"Ping timeout: 252 seconds","date":"2013-10-02T17:45:12.286Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-02T17:47:29.451Z","type":"join"}
{"nick":"chapel","date":"2013-10-02T17:49:15.132Z","type":"join"}
{"nick":"vincentmac","date":"2013-10-02T17:52:46.769Z","type":"join"}
{"nick":"vincentmac","reason":"Client Quit","date":"2013-10-02T17:54:28.171Z","type":"quit"}
{"nick":"vincentmac","date":"2013-10-02T17:56:02.428Z","type":"join"}
{"nick":"soldair","date":"2013-10-02T18:04:29.301Z","type":"join"}
{"nick":"Acconut","date":"2013-10-02T18:29:21.166Z","type":"join"}
{"nick":"frankblizzard","reason":"Remote host closed the connection","date":"2013-10-02T18:29:52.317Z","type":"quit"}
{"nick":"Acconut","reason":"Client Quit","date":"2013-10-02T18:30:56.001Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-02T19:03:44.311Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T19:10:52.543Z","type":"quit"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-10-02T19:12:51.106Z","type":"quit"}
{"nick":"jxson","date":"2013-10-02T19:13:27.546Z","type":"join"}
{"nick":"nmartin867","date":"2013-10-02T19:22:41.563Z","type":"join"}
{"nick":"jcrugzz","date":"2013-10-02T19:25:57.124Z","type":"join"}
{"nick":"nmartin867","message":"I am performing a (chained) batch operation using Node and leveldown in which I am, purposley, performing a put() operation where the value is === null. In my write() callback function I am checking for an error. i.e. write(function(err){if(err){console.log('Boom')}}) The write operation is throwing the error but my callback is never called. Can someone tell me why? Happy to paste example code somewhere.","date":"2013-10-02T19:27:31.157Z","type":"message"}
{"nick":"mbalho","message":"nmartin867: hmm weird sounds like you're doing it correctly","date":"2013-10-02T19:30:39.969Z","type":"message"}
{"nick":"kenansulayman","message":"nmartin867 Example code is always happy code","date":"2013-10-02T19:31:18.632Z","type":"message"}
{"nick":"nmartin867","message":"Can I just paste it here?","date":"2013-10-02T19:32:12.653Z","type":"message"}
{"nick":"kenansulayman","message":"uhm","date":"2013-10-02T19:32:21.185Z","type":"message"}
{"nick":"nmartin867","message":"Sure it's something silly","date":"2013-10-02T19:32:21.788Z","type":"message"}
{"nick":"kenansulayman","message":"pastebin?","date":"2013-10-02T19:32:23.450Z","type":"message"}
{"nick":"brycebaril","message":"nmartin867: no, don't do that, use gist or pastebin","date":"2013-10-02T19:32:27.781Z","type":"message"}
{"nick":"nmartin867","message":"K.. sounds good","date":"2013-10-02T19:32:35.999Z","type":"message"}
{"nick":"nmartin867","message":"Thanks… btw","date":"2013-10-02T19:32:43.200Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-02T19:35:15.272Z","type":"quit"}
{"nick":"nmartin867","message":"http://pastebin.com/A5wHY2Hm","date":"2013-10-02T19:35:28.304Z","type":"message"}
{"nick":"nmartin867","message":"I'm running node -v 0.10.10","date":"2013-10-02T19:36:02.776Z","type":"message"}
{"nick":"kenansulayman","message":"does it throw w/o .write?","date":"2013-10-02T19:36:20.797Z","type":"message"}
{"nick":"nmartin867","message":"yes a write error..","date":"2013-10-02T19:37:32.124Z","type":"message"}
{"nick":"nmartin867","message":"throw new WriteError(e)","date":"2013-10-02T19:37:34.134Z","type":"message"}
{"nick":"nmartin867","message":"          ^","date":"2013-10-02T19:37:34.678Z","type":"message"}
{"nick":"nmartin867","message":"WriteError: value cannot be `null` or `undefined`","date":"2013-10-02T19:37:35.372Z","type":"message"}
{"nick":"kenansulayman","message":";)","date":"2013-10-02T19:38:07.663Z","type":"message"}
{"nick":"nmartin867","message":"But it doesn't appear to have a problem writing to the db if I correct the put()","date":"2013-10-02T19:38:18.048Z","type":"message"}
{"nick":"nmartin867","message":"So I know the db path is correct","date":"2013-10-02T19:38:25.671Z","type":"message"}
{"nick":"brycebaril","message":"WriteError: Cannot call method 'put' of undefined","date":"2013-10-02T19:38:45.593Z","type":"message"}
{"nick":"brycebaril","message":"That what you get?","date":"2013-10-02T19:38:45.808Z","type":"message"}
{"nick":"julianduque","date":"2013-10-02T19:38:51.768Z","type":"join"}
{"nick":"nmartin867","message":"yes I understand.. but Im curious why write() callback is not called with the err","date":"2013-10-02T19:39:15.670Z","type":"message"}
{"nick":"mbalho","message":"yea it says in the levelup docs that it should","date":"2013-10-02T19:39:41.098Z","type":"message"}
{"nick":"nmartin867","message":"The docs state that if an optional callback is provided it should be called with an error arg","date":"2013-10-02T19:39:44.734Z","type":"message"}
{"nick":"nmartin867","message":"Did I stumble on a bug? I thought I was just overlooking something","date":"2013-10-02T19:40:08.007Z","type":"message"}
{"nick":"brycebaril","message":"My hunch is bug, looking into it","date":"2013-10-02T19:40:23.184Z","type":"message"}
{"nick":"nmartin867","message":"Im happy to look the source as well.. perhaps provide a pull req","date":"2013-10-02T19:40:49.532Z","type":"message"}
{"nick":"nmartin867","message":"I just wanted to make sure I wasn't going loco","date":"2013-10-02T19:41:04.767Z","type":"message"}
{"nick":"brycebaril","message":"  try {","date":"2013-10-02T19:44:02.656Z","type":"message"}
{"nick":"brycebaril","message":"    this.batch.put(key, value)","date":"2013-10-02T19:44:02.876Z","type":"message"}
{"nick":"brycebaril","message":"  } catch (e) {","date":"2013-10-02T19:44:02.876Z","type":"message"}
{"nick":"brycebaril","message":"    throw new WriteError(e)","date":"2013-10-02T19:44:02.876Z","type":"message"}
{"nick":"brycebaril","message":"  }","date":"2013-10-02T19:44:02.876Z","type":"message"}
{"nick":"brycebaril","message":"It's definitely just throwing, not holding the error until the .write()","date":"2013-10-02T19:44:19.776Z","type":"message"}
{"nick":"nmartin867","message":"Yep","date":"2013-10-02T19:44:25.478Z","type":"message"}
{"nick":"nmartin867","message":"Im seeing that too","date":"2013-10-02T19:44:29.501Z","type":"message"}
{"nick":"nmartin867","message":"Ok.. ill see if I a pull request is needed/wanted","date":"2013-10-02T19:44:49.487Z","type":"message"}
{"nick":"nmartin867","message":"or if the docs are wrong?","date":"2013-10-02T19:44:55.642Z","type":"message"}
{"nick":"nmartin867","message":"Thanks a lot for your time","date":"2013-10-02T19:45:10.177Z","type":"message"}
{"nick":"brycebaril","message":"Yep, definitely worth filing an issue","date":"2013-10-02T19:45:10.407Z","type":"message"}
{"nick":"jcrugzz","reason":"Ping timeout: 246 seconds","date":"2013-10-02T19:56:46.916Z","type":"quit"}
{"nick":"esundahl","reason":"Remote host closed the connection","date":"2013-10-02T20:08:20.034Z","type":"quit"}
{"nick":"kenansulayman","message":"uhm rvagg","date":"2013-10-02T20:08:58.294Z","type":"message"}
{"nick":"kenansulayman","message":"Just tried uberlevel on our app and it yielded: Error: MDB_BAD_RSLOT: Invalid reuse of reader locktable slot","date":"2013-10-02T20:10:45.153Z","type":"message"}
{"nick":"kenansulayman","message":"#crashboombang","date":"2013-10-02T20:11:04.350Z","type":"message"}
{"nick":"kenansulayman","message":"Seems to happen on too many mixed databases queries","date":"2013-10-02T20:14:49.252Z","type":"message"}
{"nick":"kenansulayman","message":"12 databases, crashes with about 45 mixed queries","date":"2013-10-02T20:15:14.746Z","type":"message"}
{"nick":"soldair","message":"kenansulayman: i tend to just use level-sublevel rather than opening many dbs. if i need more cpu i run them in in different processes and query them with multilevel. too bad about the crash though.","date":"2013-10-02T20:16:54.322Z","type":"message"}
{"nick":"kenansulayman","message":"soldair Uhm??","date":"2013-10-02T20:17:11.205Z","type":"message"}
{"nick":"kenansulayman","message":"Talking about uberlevel here","date":"2013-10-02T20:17:17.664Z","type":"message"}
{"nick":"kenansulayman","message":"levelup + lmdb(down)","date":"2013-10-02T20:17:35.589Z","type":"message"}
{"nick":"soldair","message":"kenansulayman: oh yes. sorry","date":"2013-10-02T20:18:01.763Z","type":"message"}
{"nick":"kenansulayman","message":"hah np ;)","date":"2013-10-02T20:18:13.859Z","type":"message"}
{"nick":"mbalho","message":"kenansulayman: you can still use sublevel with uberlevel","date":"2013-10-02T20:18:33.234Z","type":"message"}
{"nick":"soldair","message":"kenansulayman: yeah the use pattern would be the same","date":"2013-10-02T20:18:48.815Z","type":"message"}
{"nick":"kenansulayman","message":"mbalho ya well. switched back to hyperlevel now, but uberlevel should work. It's not about deployment here. it's about general function","date":"2013-10-02T20:19:08.291Z","type":"message"}
{"nick":"soldair","message":"as a lib dev though it has to work and be awesome","date":"2013-10-02T20:19:09.609Z","type":"message"}
{"nick":"soldair","message":"=)","date":"2013-10-02T20:19:19.040Z","type":"message"}
{"nick":"kenansulayman","message":"brb in case rvagg shows up","date":"2013-10-02T20:20:30.214Z","type":"message"}
{"nick":"Acconut","date":"2013-10-02T20:23:42.241Z","type":"join"}
{"nick":"mbalho","message":"its 9:30 in portugal, so its possible","date":"2013-10-02T20:25:45.373Z","type":"message"}
{"nick":"Acconut","reason":"Quit: Acconut","date":"2013-10-02T20:32:30.232Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-02T20:38:44.778Z","type":"join"}
{"nick":"Acconut","date":"2013-10-02T20:42:25.594Z","type":"join"}
{"nick":"Acconut","reason":"Client Quit","date":"2013-10-02T20:42:45.156Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T20:47:12.806Z","type":"join"}
{"nick":"esundahl","reason":"Ping timeout: 264 seconds","date":"2013-10-02T20:47:30.336Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-02T20:52:52.003Z","type":"join"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-10-02T20:54:37.259Z","type":"quit"}
{"nick":"jxson","date":"2013-10-02T20:55:05.155Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 256 seconds","date":"2013-10-02T20:59:47.194Z","type":"quit"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T21:02:39.246Z","type":"quit"}
{"nick":"jerrysv","reason":"Ping timeout: 264 seconds","date":"2013-10-02T21:03:06.347Z","type":"quit"}
{"nick":"nnnnathann","date":"2013-10-02T21:05:53.458Z","type":"join"}
{"nick":"jcrugzz","date":"2013-10-02T21:10:34.767Z","type":"join"}
{"nick":"Acconut","date":"2013-10-02T21:19:04.843Z","type":"join"}
{"nick":"Acconut","reason":"Client Quit","date":"2013-10-02T21:19:07.087Z","type":"quit"}
{"nick":"jxson","date":"2013-10-02T21:25:35.549Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 240 seconds","date":"2013-10-02T21:33:50.549Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-10-02T21:44:08.829Z","type":"quit"}
{"nick":"vincentmac","reason":"Ping timeout: 252 seconds","date":"2013-10-02T21:58:12.290Z","type":"quit"}
{"nick":"kenansulayman","message":"mbalho pm or am?","date":"2013-10-02T22:02:53.027Z","type":"message"}
{"nick":"jxson","date":"2013-10-02T22:06:45.265Z","type":"join"}
{"nick":"mikeal","date":"2013-10-02T22:07:46.966Z","type":"join"}
{"nick":"nlacasse_","date":"2013-10-02T22:10:52.951Z","type":"part"}
{"nick":"jcrugzz","reason":"Ping timeout: 240 seconds","date":"2013-10-02T22:20:38.551Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T22:22:20.550Z","type":"join"}
{"nick":"mbalho","message":"brycebaril: check this out, https://github.com/maxogden/level-csv-bench","date":"2013-10-02T22:22:29.582Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: raw.js and multibuffer.js are the two actual benchmarks, they share the same setup code","date":"2013-10-02T22:22:45.148Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: so i think its slow because this particular csv has 28 columns, so for each row that i encode multibuffer is doing bops.join 28 times","date":"2013-10-02T22:24:15.435Z","type":"message"}
{"nick":"brycebaril","message":"Hmm","date":"2013-10-02T22:24:23.703Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: though i think https://github.com/brycebaril/multibuffer/blob/master/index.js#L25 would be faster if you used a for loop","date":"2013-10-02T22:24:46.243Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: but in my case i doubt i can get any sort of framing thing to be as fast as I want it to be... i think what i'll have to do is just store the raw csv rows and decode them on read...","date":"2013-10-02T22:25:38.983Z","type":"message"}
{"nick":"brycebaril","message":"I'll poke at these benchmarks in a bit, I'm sure it can be a lot faster, though you're right, it will never be as fast as not doing it :)","date":"2013-10-02T22:26:36.057Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: cool. 1m vs 8m is a wide gap, i'm sure we can make some headway","date":"2013-10-02T22:27:27.001Z","type":"message"}
{"nick":"brycebaril","message":"mbalho: this sort of investigation makes me wish I had an environ with flamegraphs","date":"2013-10-02T22:27:44.248Z","type":"message"}
{"nick":"mbalho","message":"you should ask trevnorris about his benchmarking setup sometime","date":"2013-10-02T22:30:07.312Z","type":"message"}
{"nick":"trevnorris","message":"what's up?","date":"2013-10-02T22:33:40.457Z","type":"message"}
{"nick":"mbalho","message":"trevnorris: i was just wishing there was a npm install trevors-benchmarking-setup :D","date":"2013-10-02T22:34:16.546Z","type":"message"}
{"nick":"mbalho","message":"trevnorris: do you know any good instructions for gettign the llprof output that has all the c++ and js in one sorted stack?","date":"2013-10-02T22:35:17.234Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: yeah. it's easy. ;P","date":"2013-10-02T22:35:43.266Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: first, you need the v8 repo, the one in node source you're using should work fine.","date":"2013-10-02T22:36:14.630Z","type":"message"}
{"nick":"trevnorris","message":"so cd deps/v8; make -j4 native","date":"2013-10-02T22:36:29.597Z","type":"message"}
{"nick":"trevnorris","message":"now, you want to run your script with perf, like so:","date":"2013-10-02T22:37:18.753Z","type":"message"}
{"nick":"trevnorris","message":"perf record -R -e cycles -c 10000 -f -i ./node --ll-prof test.js","date":"2013-10-02T22:37:18.976Z","type":"message"}
{"nick":"trevnorris","message":"(but make sure it's not too long a test, that collects a lot of data.","date":"2013-10-02T22:37:30.553Z","type":"message"}
{"nick":"trevnorris","message":")","date":"2013-10-02T22:37:33.809Z","type":"message"}
{"nick":"mbalho","message":"hmm in deps/v8 i get /bin/sh: build/gyp/gyp: No such file or directory when i do make -j4 native","date":"2013-10-02T22:37:57.576Z","type":"message"}
{"nick":"mbalho","message":"i have a build/gyp_v8 but no build/build/","date":"2013-10-02T22:38:21.202Z","type":"message"}
{"nick":"trevnorris","message":"ah, first do make dependencies","date":"2013-10-02T22:38:26.652Z","type":"message"}
{"nick":"trevnorris","message":"that'll download a bunch of crap","date":"2013-10-02T22:38:37.287Z","type":"message"}
{"nick":"mbalho","message":"ahh","date":"2013-10-02T22:38:45.308Z","type":"message"}
{"nick":"trevnorris","message":"also, you'll want to drop some warnings from perf by doing: sudo sysctl kernel/kptr_restrict=0","date":"2013-10-02T22:38:55.502Z","type":"message"}
{"nick":"trevnorris","message":"now, when the test finishes you'll have a v8.log, v8.log.ll and perf.data (something like that)","date":"2013-10-02T22:39:28.632Z","type":"message"}
{"nick":"mbalho","message":"weird, make -j4 native fails with: ../src/store-buffer.h:229:9: error: private field 'heap_' is not used [-Werror,-Wunused-private-field]","date":"2013-10-02T22:40:36.028Z","type":"message"}
{"nick":"trevnorris","message":"so now run:","date":"2013-10-02T22:40:41.427Z","type":"message"}
{"nick":"trevnorris","message":"D8_PATH=/path/to/deps/v8/out/native/ /path/to/v8/tools/ll_prof.py --log=<v8.log location> --trace=<perf.data location>","date":"2013-10-02T22:40:41.645Z","type":"message"}
{"nick":"trevnorris","message":"then wait a while. takes some time.","date":"2013-10-02T22:40:50.319Z","type":"message"}
{"nick":"mbalho","message":"i'm on joyent/node/67a1f0c52e0708e2596f3f2134b8386d6112561e (0.18.0 tagged commit)","date":"2013-10-02T22:40:58.443Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: ah, stupid build failure.","date":"2013-10-02T22:41:02.298Z","type":"message"}
{"nick":"trevnorris","message":"you'll need to build with werror=no","date":"2013-10-02T22:41:40.972Z","type":"message"}
{"nick":"mbalho","message":"ah","date":"2013-10-02T22:41:44.919Z","type":"message"}
{"nick":"mbalho","message":"trevnorris: ah crap is `perf` linux only?","date":"2013-10-02T22:43:03.899Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: ah, yup","date":"2013-10-02T22:43:12.850Z","type":"message"}
{"nick":"trevnorris","message":"what you using?","date":"2013-10-02T22:43:20.286Z","type":"message"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-02T22:43:21.865Z","type":"quit"}
{"nick":"mbalho","message":"os x","date":"2013-10-02T22:43:26.079Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris yo are you going to implement the nextTick addition? there's been no further feedback on it","date":"2013-10-02T22:44:26.247Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: eh? what about nextTick?","date":"2013-10-02T22:44:52.496Z","type":"message"}
{"nick":"brycebaril","message":"trevnorris: this sounds cool, I'll definitely try it out in a bit. How long is 'not too long a test'?","date":"2013-10-02T22:44:57.833Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris uhm https://github.com/joyent/node/issues/6290 ?","date":"2013-10-02T22:45:09.054Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: ah, sorry dude.","date":"2013-10-02T22:45:12.003Z","type":"message"}
{"nick":"mbalho","message":"trevnorris: test.js only runs once, right?","date":"2013-10-02T22:45:46.288Z","type":"message"}
{"nick":"trevnorris","message":"brycebaril: um. depends on the test. if your resulting perf.data file > 50-100MB then it'll take forever to process","date":"2013-10-02T22:45:52.183Z","type":"message"}
{"nick":"trevnorris","message":"mbalho: yeah","date":"2013-10-02T22:45:56.445Z","type":"message"}
{"nick":"trevnorris","message":"oh and when you parse, use the --kernel flag","date":"2013-10-02T22:46:05.461Z","type":"message"}
{"nick":"trevnorris","message":"that'll give you kernel specific information, very useful for syscalls","date":"2013-10-02T22:46:16.333Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: so maybe you'd wanna shrink the csv test data file down to like 100k rows","date":"2013-10-02T22:46:24.154Z","type":"message"}
{"nick":"trevnorris","message":"and you can also get the disassembly for the calls, though I usually save that for IRHydra.","date":"2013-10-02T22:46:35.949Z","type":"message"}
{"nick":"trevnorris","message":"much more useful.","date":"2013-10-02T22:46:39.127Z","type":"message"}
{"nick":"mbalho","message":"trevnorris: you should totally write this stuff up in a blog post","date":"2013-10-02T22:46:52.454Z","type":"message"}
{"nick":"mbalho","message":"'How to profile node programs on linux'","date":"2013-10-02T22:47:04.878Z","type":"message"}
{"nick":"trevnorris","message":"hah, well. I have one. but it only covers the basics.","date":"2013-10-02T22:47:29.375Z","type":"message"}
{"nick":"trevnorris","message":"been meaning to do on on how to use prof and ll-prof","date":"2013-10-02T22:47:44.223Z","type":"message"}
{"nick":"mbalho","message":"yea prof is aewsome","date":"2013-10-02T22:48:05.671Z","type":"message"}
{"nick":"mbalho","message":"awesome*","date":"2013-10-02T22:48:09.064Z","type":"message"}
{"nick":"ryanj","reason":"Ping timeout: 240 seconds","date":"2013-10-02T22:48:38.552Z","type":"quit"}
{"nick":"trevnorris","message":"valgrind is useful too. can do things like:","date":"2013-10-02T22:48:55.599Z","type":"message"}
{"nick":"trevnorris","message":"valgrind --tool-massif --peak-inaccuracy=0.5 --pages-as-heap=yes --time-unit=B --detailed-freq=5 ./node test.js","date":"2013-10-02T22:48:55.821Z","type":"message"}
{"nick":"trevnorris","message":"and it'll take memory snaps of your application over time.","date":"2013-10-02T22:49:06.247Z","type":"message"}
{"nick":"jjmalina","reason":"Quit: Leaving.","date":"2013-10-02T22:50:13.714Z","type":"quit"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-10-02T22:50:21.146Z","type":"quit"}
{"nick":"tmcw","date":"2013-10-02T22:50:57.771Z","type":"join"}
{"nick":"trevnorris","message":"but anyways. ignore that last one","date":"2013-10-02T22:51:19.236Z","type":"message"}
{"nick":"trevnorris","message":"i'd say the basics are to just run with --trace-opt-verbose --trace-deopt --trace-inlining --code-comments","date":"2013-10-02T22:52:15.763Z","type":"message"}
{"nick":"tmcw","reason":"Ping timeout: 240 seconds","date":"2013-10-02T22:55:02.549Z","type":"quit"}
{"nick":"kenansulayman","message":"trevnorris Nothing? :)","date":"2013-10-02T22:56:41.873Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: ah, sorry. get side tracked easily when I start doing performance tracing. :)","date":"2013-10-02T22:57:38.027Z","type":"message"}
{"nick":"kenansulayman","message":"sure np ;)","date":"2013-10-02T22:57:57.903Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: so, I already tried to implement that, no can do easily. in core there are callbacks passed to nextTick that may expect arguments.","date":"2013-10-02T22:58:28.690Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: and if an argument is passed then it'll fail","date":"2013-10-02T22:58:36.100Z","type":"message"}
{"nick":"trevnorris","message":"and using .call/apply from nextTick is way too much a performance hit","date":"2013-10-02T22:58:46.622Z","type":"message"}
{"nick":"ednapiranha","reason":"Remote host closed the connection","date":"2013-10-02T22:58:48.327Z","type":"quit"}
{"nick":"kenansulayman","message":"hum","date":"2013-10-02T22:59:00.262Z","type":"message"}
{"nick":"kenansulayman","message":"Could we only .apply if an extra parameter is given?","date":"2013-10-02T22:59:41.825Z","type":"message"}
{"nick":"kenansulayman","message":"ah i see","date":"2013-10-02T23:00:31.889Z","type":"message"}
{"nick":"trevnorris","message":"wouldn't work because there would always be an extra parameter passed to _tickCallback from AsyncWrap::MakeCallback()","date":"2013-10-02T23:00:36.562Z","type":"message"}
{"nick":"kenansulayman","message":"So it could only be done by sugar","date":"2013-10-02T23:01:02.520Z","type":"message"}
{"nick":"kenansulayman","message":"mäh","date":"2013-10-02T23:01:05.757Z","type":"message"}
{"nick":"trevnorris","message":"i'm actively working on a solution. but it won't be in time for v0.12","date":"2013-10-02T23:01:08.150Z","type":"message"}
{"nick":"kenansulayman","message":"sure take your time, sugar won't be too expensive until then","date":"2013-10-02T23:01:36.639Z","type":"message"}
{"nick":"kenansulayman","message":"ty after akk","date":"2013-10-02T23:01:58.577Z","type":"message"}
{"nick":"kenansulayman","message":"all*","date":"2013-10-02T23:02:01.467Z","type":"message"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T23:02:31.483Z","type":"quit"}
{"nick":"kenansulayman","message":"trevnorris Another thing regarding profiling; the dumps can't really be evaluated on osx (heap dump)","date":"2013-10-02T23:03:29.572Z","type":"message"}
{"nick":"trevnorris","message":"the most performant way to do it now would be to","date":"2013-10-02T23:03:31.954Z","type":"message"}
{"nick":"trevnorris","message":"function outerCall(self) { /* do much stuff */ }","date":"2013-10-02T23:03:32.177Z","type":"message"}
{"nick":"trevnorris","message":"function instFn() {","date":"2013-10-02T23:03:32.177Z","type":"message"}
{"nick":"trevnorris","message":"    var self = this;","date":"2013-10-02T23:03:32.177Z","type":"message"}
{"nick":"trevnorris","message":"    process.nextTick(function() { outerCall(self); });","date":"2013-10-02T23:03:32.177Z","type":"message"}
{"nick":"trevnorris","message":"}","date":"2013-10-02T23:03:33.495Z","type":"message"}
{"nick":"kenansulayman","message":"yeah the self = this way ..","date":"2013-10-02T23:03:52.537Z","type":"message"}
{"nick":"trevnorris","message":"yeah. hate it, but all we got for now :(","date":"2013-10-02T23:04:03.333Z","type":"message"}
{"nick":"kenansulayman","message":"Actually how would the (a, b) => {} way work the others suggested from harmony?","date":"2013-10-02T23:04:30.956Z","type":"message"}
{"nick":"kenansulayman","message":"I don't see a way to pass the context","date":"2013-10-02T23:04:38.963Z","type":"message"}
{"nick":"trevnorris","message":"don't use harmony if you value performance. nothing in the harmony spec has been performance tuned.","date":"2013-10-02T23:04:48.490Z","type":"message"}
{"nick":"trevnorris","message":"e.g. generators remove the ability to inline functions","date":"2013-10-02T23:05:09.525Z","type":"message"}
{"nick":"kenansulayman","message":"I surely won't.. after all not only because of performance but because it scares the shit out of m","date":"2013-10-02T23:05:18.636Z","type":"message"}
{"nick":"kenansulayman","message":"e","date":"2013-10-02T23:05:21.261Z","type":"message"}
{"nick":"brycebaril","message":"kenansulayman: I believe because => functions don't create a new context, so 'this' would be the context of the creation of the function, not the calling of it","date":"2013-10-02T23:05:22.159Z","type":"message"}
{"nick":"trevnorris","message":"hah","date":"2013-10-02T23:05:24.158Z","type":"message"}
{"nick":"kenansulayman","message":"brycebaril That might be it; let me check that in the firefox nightly","date":"2013-10-02T23:05:59.282Z","type":"message"}
{"nick":"eugeneware","reason":"Ping timeout: 260 seconds","date":"2013-10-02T23:05:59.868Z","type":"quit"}
{"nick":"trevnorris","message":"also, random tid-bit for anyone writing native modules. **dont't** use \"arguments\" from a method called from c++.","date":"2013-10-02T23:07:26.739Z","type":"message"}
{"nick":"kenansulayman","message":"Yes brycebaril seems right","date":"2013-10-02T23:08:31.474Z","type":"message"}
{"nick":"kenansulayman","message":"(function () { var self = this; (() => { console.log(self === this)})() })()","date":"2013-10-02T23:08:36.124Z","type":"message"}
{"nick":"kenansulayman","message":"yields true","date":"2013-10-02T23:08:38.528Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris Why?","date":"2013-10-02T23:08:58.999Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: kills performance. don't know why.","date":"2013-10-02T23:09:12.942Z","type":"message"}
{"nick":"ryan_ramage","reason":"Ping timeout: 240 seconds","date":"2013-10-02T23:09:26.550Z","type":"quit"}
{"nick":"kenansulayman","message":"Instead local variables or what?","date":"2013-10-02T23:09:32.410Z","type":"message"}
{"nick":"trevnorris","message":"sorry, i mean the \"arguments\" keyword","date":"2013-10-02T23:09:51.551Z","type":"message"}
{"nick":"trevnorris","message":"pass all your arguments.","date":"2013-10-02T23:09:58.452Z","type":"message"}
{"nick":"kenansulayman","message":"oh. hah","date":"2013-10-02T23:10:00.463Z","type":"message"}
{"nick":"trevnorris","message":"for some reason it makes simple callbacks take up to 5x's longer.","date":"2013-10-02T23:10:15.658Z","type":"message"}
{"nick":"kenansulayman","message":"wat","date":"2013-10-02T23:10:36.529Z","type":"message"}
{"nick":"kenansulayman","message":"5x??","date":"2013-10-02T23:10:45.724Z","type":"message"}
{"nick":"trevnorris","message":"yeah, but we're talking functions that can usually be inlined.","date":"2013-10-02T23:11:07.230Z","type":"message"}
{"nick":"trevnorris","message":"ok, sorry. got me going about performance. i'll stop hogging the channel now. :)","date":"2013-10-02T23:11:20.408Z","type":"message"}
{"nick":"kenansulayman","message":"haha you're not","date":"2013-10-02T23:11:33.391Z","type":"message"}
{"nick":"kenansulayman","message":"there's usually not much up lol","date":"2013-10-02T23:11:40.204Z","type":"message"}
{"nick":"trevnorris","message":"heh, ok","date":"2013-10-02T23:11:52.456Z","type":"message"}
{"nick":"kenansulayman","message":"btw is try catch optimized by v8 now?","date":"2013-10-02T23:12:00.939Z","type":"message"}
{"nick":"trevnorris","message":"a function called within a try/catch can be optimizes.","date":"2013-10-02T23:12:40.902Z","type":"message"}
{"nick":"trevnorris","message":"but afaik, normal code in a try catch can't be.","date":"2013-10-02T23:12:52.294Z","type":"message"}
{"nick":"trevnorris","message":"but haven't benchmarked it recently.","date":"2013-10-02T23:13:03.281Z","type":"message"}
{"nick":"kenansulayman","message":"Well let me check the v8 source for updated bailout stuff","date":"2013-10-02T23:13:18.572Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: though, a cheap trick you can do with timers, since they return their own instance, is attach properties to it.","date":"2013-10-02T23:15:19.986Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: those will be accessible via \"this\" within the timer callback.","date":"2013-10-02T23:15:33.629Z","type":"message"}
{"nick":"trevnorris","message":"just make sure you don't step on something that already exists.","date":"2013-10-02T23:15:45.254Z","type":"message"}
{"nick":"kenansulayman","message":"hum","date":"2013-10-02T23:18:29.228Z","type":"message"}
{"nick":"kenansulayman","message":"thing's timers ≠ nextTick","date":"2013-10-02T23:18:44.557Z","type":"message"}
{"nick":"kenansulayman","message":"too many queued would block the look","date":"2013-10-02T23:19:08.396Z","type":"message"}
{"nick":"kenansulayman","message":"loop","date":"2013-10-02T23:19:10.303Z","type":"message"}
{"nick":"kenansulayman","message":"IMHO setTimeout(<foo>, 0) => <foo>()","date":"2013-10-02T23:19:58.011Z","type":"message"}
{"nick":"kenansulayman","message":";)","date":"2013-10-02T23:20:02.229Z","type":"message"}
{"nick":"trevnorris","message":"you mean too many nextTick would block the loop?","date":"2013-10-02T23:20:53.364Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris no setIntervals","date":"2013-10-02T23:24:21.756Z","type":"message"}
{"nick":"kenansulayman","message":"uhm","date":"2013-10-02T23:24:36.104Z","type":"message"}
{"nick":"kenansulayman","message":"TImeouts sry^","date":"2013-10-02T23:24:39.790Z","type":"message"}
{"nick":"trevnorris","message":"how would too many setTimeout's block the loop?","date":"2013-10-02T23:25:19.652Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris I'm not sure, I guess because they're all in the same tick?","date":"2013-10-02T23:26:11.942Z","type":"message"}
{"nick":"st_luke","date":"2013-10-02T23:26:18.198Z","type":"join"}
{"nick":"kenansulayman","message":"btw","date":"2013-10-02T23:26:51.128Z","type":"message"}
{"nick":"kenansulayman","message":"they removed trycatch from the bailouts","date":"2013-10-02T23:26:58.048Z","type":"message"}
{"nick":"kenansulayman","message":"trevnorris http://data.sly.mn/RkMq/contents","date":"2013-10-02T23:27:01.182Z","type":"message"}
{"nick":"trevnorris","message":"yeah. but I mean a: while(/* a lot */) {setTimeout,setImmediate,nextTick}(fn() { }); would block anything","date":"2013-10-02T23:27:14.628Z","type":"message"}
{"nick":"nmartin867","reason":"Quit: nmartin867","date":"2013-10-02T23:27:30.734Z","type":"quit"}
{"nick":"dguttman","date":"2013-10-02T23:28:36.657Z","type":"join"}
{"nick":"kenansulayman","message":"trevnorris ya sure while(var shiieeeet = !!void 0) would block","date":"2013-10-02T23:29:33.269Z","type":"message"}
{"nick":"kenansulayman","message":"actually just !void 0","date":"2013-10-02T23:31:00.489Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: yeah, so i'm just curious at the specificity you had with setTimeout.","date":"2013-10-02T23:31:02.203Z","type":"message"}
{"nick":"kenansulayman","message":"well let's take a session-garbage-collector as example; a pessimistic 12k sessions in memory and we're cleaning every 10 seconds","date":"2013-10-02T23:32:49.025Z","type":"message"}
{"nick":"kenansulayman","message":"I experienced setTimeout(<foo>, 0) much worse than nextTick(<foo>, 0) in order keep things spinning","date":"2013-10-02T23:33:45.441Z","type":"message"}
{"nick":"kenansulayman","message":"uhm remove the \", 0\" from nextTick","date":"2013-10-02T23:34:43.109Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-02T23:35:56.095Z","type":"join"}
{"nick":"kenansulayman","message":"trevnorris","date":"2013-10-02T23:38:04.409Z","type":"message"}
{"nick":"jcrugzz","date":"2013-10-02T23:38:05.094Z","type":"join"}
{"nick":"trevnorris","message":"hey","date":"2013-10-02T23:38:17.522Z","type":"message"}
{"nick":"trevnorris","message":"oh, yeah. that's totally true.","date":"2013-10-02T23:38:29.695Z","type":"message"}
{"nick":"trevnorris","message":"you're also going to experience gc from needing to create a function closure, but if the closures are small then the cleanup would still be less.","date":"2013-10-02T23:39:06.603Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: guess my comment about setting something on the setTimeout object was more just for fun :)","date":"2013-10-02T23:39:24.761Z","type":"message"}
{"nick":"ryanj","date":"2013-10-02T23:39:58.211Z","type":"join"}
{"nick":"kenansulayman","message":"trevnorris hah ok ;)","date":"2013-10-02T23:40:03.714Z","type":"message"}
{"nick":"st_luke","reason":"Read error: Connection reset by peer","date":"2013-10-02T23:41:46.692Z","type":"quit"}
{"nick":"nnnnathann","reason":"Read error: Connection reset by peer","date":"2013-10-02T23:42:21.323Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-02T23:43:09.172Z","type":"join"}
{"nick":"nnnnathann","date":"2013-10-02T23:43:39.972Z","type":"join"}
{"nick":"kenansulayman","message":"trevnorris mbalho http://data.sly.mn/RkW2","date":"2013-10-02T23:45:20.276Z","type":"message"}
{"nick":"kenansulayman","message":"regarding profiling & osx","date":"2013-10-02T23:46:25.446Z","type":"message"}
{"nick":"trevnorris","message":"kenansulayman: this is v0.10 right?","date":"2013-10-02T23:46:28.401Z","type":"message"}
{"nick":"kenansulayman","message":"uhm yes","date":"2013-10-02T23:46:33.873Z","type":"message"}
{"nick":"trevnorris","message":"heh, that'll be way different on master","date":"2013-10-02T23:46:49.764Z","type":"message"}
{"nick":"kenansulayman","message":"why?","date":"2013-10-02T23:47:03.760Z","type":"message"}
{"nick":"timoxley","date":"2013-10-02T23:47:14.660Z","type":"join"}
{"nick":"trevnorris","message":"well, went from v8 3.14 to 3.20","date":"2013-10-02T23:47:38.525Z","type":"message"}
{"nick":"kenansulayman","message":"ow","date":"2013-10-02T23:47:43.274Z","type":"message"}
{"nick":"kenansulayman","message":"let me check head","date":"2013-10-02T23:47:46.706Z","type":"message"}
{"nick":"trevnorris","message":"also, i'm currently re-writing the entire MakeCallback mechanism as we speak.","date":"2013-10-02T23:47:51.894Z","type":"message"}
{"nick":"trevnorris","message":"which should be merged in before v0.12","date":"2013-10-02T23:47:59.572Z","type":"message"}
{"nick":"kenansulayman","message":"What'll be different?","date":"2013-10-02T23:48:11.967Z","type":"message"}
{"nick":"trevnorris","message":"oy, um....","date":"2013-10-02T23:48:32.851Z","type":"message"}
{"nick":"trevnorris","message":"well, now all calls to MakeCallback go though a new class called AsyncWrap, which handles all the internals.","date":"2013-10-02T23:48:51.870Z","type":"message"}
{"nick":"trevnorris","message":"and it's using a state sharing technique to quickly check flag status between c++ and js to make sure it doesn't have to make any additional calls","date":"2013-10-02T23:49:20.378Z","type":"message"}
{"nick":"kenansulayman","message":"oh yeay I smell performance","date":"2013-10-02T23:49:38.176Z","type":"message"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-10-02T23:50:11.249Z","type":"quit"}
{"nick":"trevnorris","message":"eh. a little. most of what I want to do will take me the next 6 months or more: https://github.com/joyent/node/issues/6252","date":"2013-10-02T23:50:33.629Z","type":"message"}
{"nick":"trevnorris","message":"so it'll have to wait until the v0.13 dev cycle.","date":"2013-10-02T23:50:41.042Z","type":"message"}
{"nick":"trevnorris","message":"more so, this is setting up for a load of improvements coming down the pipe","date":"2013-10-02T23:50:53.646Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-02T23:50:56.602Z","type":"quit"}
{"nick":"kenansulayman","message":"That's quite a list","date":"2013-10-02T23:51:26.234Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-02T23:51:31.919Z","type":"join"}
{"nick":"dguttman_","date":"2013-10-02T23:51:33.149Z","type":"join"}
{"nick":"trevnorris","message":"eh, just what was off the top of my head.","date":"2013-10-02T23:51:47.417Z","type":"message"}
{"nick":"kenansulayman","message":"Apply is really slower than call?","date":"2013-10-02T23:52:10.048Z","type":"message"}
{"nick":"kenansulayman","message":"because of the array unrolling?","date":"2013-10-02T23:52:16.269Z","type":"message"}
{"nick":"st_luke","date":"2013-10-02T23:52:41.988Z","type":"join"}
{"nick":"dguttman","reason":"Ping timeout: 260 seconds","date":"2013-10-02T23:54:03.880Z","type":"quit"}
{"nick":"dguttman_","new_nick":"dguttman","date":"2013-10-02T23:54:04.428Z","type":"nick"}
{"nick":"trevnorris","message":"well, depends on the situation. js functions operate differently when called from c++ than from js","date":"2013-10-02T23:54:09.010Z","type":"message"}
{"nick":"trevnorris","message":"and a lot of js in core is called from c++","date":"2013-10-02T23:54:18.796Z","type":"message"}
{"nick":"kenansulayman","message":"makes sense","date":"2013-10-02T23:54:38.805Z","type":"message"}
{"nick":"kenansulayman","message":"Would it be possible to rewrite more lib/*.js modules to c++?","date":"2013-10-02T23:55:32.991Z","type":"message"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-10-02T23:55:51.639Z","type":"quit"}
{"nick":"trevnorris","message":"eh. it's a delicate line. operating on JS objects via the v8 API from c++ is crazy slow. so all of that needs to be in JS","date":"2013-10-02T23:57:15.657Z","type":"message"}
{"nick":"trevnorris","message":"I think we have about the right mix. it just needs to be cleaned up and optimized.","date":"2013-10-02T23:57:30.370Z","type":"message"}
{"nick":"ryanj","reason":"Ping timeout: 240 seconds","date":"2013-10-02T23:58:08.269Z","type":"quit"}
{"nick":"kenansulayman","message":"Is c++ JS optimized?","date":"2013-10-02T23:58:15.104Z","type":"message"}
{"nick":"kenansulayman","message":"btw trevnorris Node 0.11.8-pre http://data.sly.mn/Rk9K","date":"2013-10-02T23:58:37.187Z","type":"message"}
{"nick":"rud","reason":"Read error: Connection reset by peer","date":"2013-10-02T23:58:50.479Z","type":"quit"}
{"nick":"trevnorris","message":"yup","date":"2013-10-02T23:59:22.846Z","type":"message"}
{"nick":"rud","date":"2013-10-02T23:59:35.313Z","type":"join"}

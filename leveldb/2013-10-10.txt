{"nick":"brycebaril","message":"hmm, not getting the same values I'm putting when using http://npm.im/varint in, protobuf.js#readVarInt32 out","date":"2013-10-10T00:00:08.902Z","type":"message"}
{"nick":"brycebaril","message":"At least not for all values","date":"2013-10-10T00:00:14.121Z","type":"message"}
{"nick":"brycebaril","message":"Oh, one looks signed, one unsigned","date":"2013-10-10T00:01:00.373Z","type":"message"}
{"nick":"mbalho","message":"i think it uses uint8","date":"2013-10-10T00:01:33.871Z","type":"message"}
{"nick":"mbalho","message":"oh nvm","date":"2013-10-10T00:01:55.014Z","type":"message"}
{"nick":"mbalho","message":"i see what you're saying","date":"2013-10-10T00:01:58.331Z","type":"message"}
{"nick":"brycebaril","message":"They differ past Math.pow(2, 31) - 1","date":"2013-10-10T00:03:53.797Z","type":"message"}
{"nick":"rvagg","message":"use readVarInt64 perhaps","date":"2013-10-10T00:04:20.289Z","type":"message"}
{"nick":"rvagg","message":"mine are tested against the internal leveldb implementation https://github.com/rvagg/leveljs-coding/blob/master/test/pbuf.cc","date":"2013-10-10T00:04:53.396Z","type":"message"}
{"nick":"brycebaril","message":"Yeah, that works.","date":"2013-10-10T00:05:34.306Z","type":"message"}
{"nick":"rvagg","message":"varint has encode and decode tho, just use those I guess","date":"2013-10-10T00:06:01.130Z","type":"message"}
{"nick":"rvagg","message":"require('varint/encode')","date":"2013-10-10T00:06:09.359Z","type":"message"}
{"nick":"brycebaril","message":"Yeah but your protobuf.js is pretty much exactly what a varint-multibuffer implementation would need in terms of both input and output","date":"2013-10-10T00:06:53.512Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: im tryin to hack in varint now :P","date":"2013-10-10T00:07:48.717Z","type":"message"}
{"nick":"mbalho","message":"feel free to also do so, im still n00b at binary crap so this is fun for me","date":"2013-10-10T00:08:12.139Z","type":"message"}
{"nick":"brycebaril","message":"mbalho: cool. I need to go make some soup for the family, but I'm guessing between varint and rvagg's reader we have the tools needed to make a varint-multibuffer","date":"2013-10-10T00:08:59.122Z","type":"message"}
{"nick":"mbalho","message":"why is it that everything i do always ends up already having been done by jeff dean 10 years ago","date":"2013-10-10T00:09:39.387Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: ok i hooked up varint instead of writeUint32BE, here are the 3 benchmarks before i changed anything","date":"2013-10-10T00:31:17.033Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node csv.js","date":"2013-10-10T00:31:20.511Z","type":"message"}
{"nick":"mbalho","message":"4761387 bytes in 50001 chunks in 954 ms","date":"2013-10-10T00:31:22.985Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node raw.js","date":"2013-10-10T00:31:25.449Z","type":"message"}
{"nick":"mbalho","message":"and after:","date":"2013-10-10T00:31:27.797Z","type":"message"}
{"nick":"mbalho","message":"4811388 bytes in 74 chunks in 38 ms","date":"2013-10-10T00:31:30.050Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node pack.js","date":"2013-10-10T00:31:32.518Z","type":"message"}
{"nick":"mbalho","message":"9161475 bytes in 50001 chunks in 1334 ms","date":"2013-10-10T00:31:34.960Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node csv.js","date":"2013-10-10T00:31:37.478Z","type":"message"}
{"nick":"mbalho","message":"4761387 bytes in 50001 chunks in 963 ms","date":"2013-10-10T00:31:39.933Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node raw.js","date":"2013-10-10T00:31:42.461Z","type":"message"}
{"nick":"mbalho","message":"4811388 bytes in 74 chunks in 40 ms","date":"2013-10-10T00:31:45.018Z","type":"message"}
{"nick":"mbalho","message":"Macintosh:bench max$ node pack.js","date":"2013-10-10T00:31:47.506Z","type":"message"}
{"nick":"mbalho","message":"4811388 bytes in 50001 chunks in 1534 ms","date":"2013-10-10T00:31:49.938Z","type":"message"}
{"nick":"mbalho","message":"https://github.com/maxogden/multibuffer/tree/varint, havent fixed the test suite (it has lots of hardcoded 4 byte test buffers) and also didnt update readPartial","date":"2013-10-10T00:34:54.246Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: if you approve i'll finish it up and send a pull req","date":"2013-10-10T00:36:25.182Z","type":"message"}
{"nick":"brycebaril","message":"I'll check it out in a bit, readPartial is used by multibuffer-stream","date":"2013-10-10T00:36:29.005Z","type":"message"}
{"nick":"mbalho","message":"ah gotcha","date":"2013-10-10T00:36:41.633Z","type":"message"}
{"nick":"mbalho","message":"i have to bike home, will be back online later","date":"2013-10-10T00:36:54.468Z","type":"message"}
{"nick":"brycebaril","message":"ok, I'm busy making & then eating dinner for a while myself","date":"2013-10-10T00:37:06.840Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-10T00:56:40.807Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-10T01:13:09.297Z","type":"quit"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-10T01:14:05.262Z","type":"quit"}
{"nick":"kenansulayman","reason":"Ping timeout: 264 seconds","date":"2013-10-10T01:17:52.389Z","type":"quit"}
{"nick":"kenansulayman","date":"2013-10-10T01:19:41.343Z","type":"join"}
{"nick":"kenansulayman","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-10-10T01:40:48.717Z","type":"quit"}
{"nick":"ramitos","reason":"Quit: Computer has gone to sleep.","date":"2013-10-10T02:02:01.879Z","type":"quit"}
{"nick":"brycebaril","message":"mbalho: commented on your commit. But overall I'm happy with moving multibuffer to use varint prefixes instead of fixed-width ones.","date":"2013-10-10T02:20:45.120Z","type":"message"}
{"nick":"fallsemo","reason":"Ping timeout: 240 seconds","date":"2013-10-10T02:24:08.497Z","type":"quit"}
{"nick":"mbalho","message":"chrisdickinson: do you have any feedback on why you chose the varint.write and varint.ondata API over something like https://github.com/rvagg/leveljs-coding/blob/master/protobuf.js ?","date":"2013-10-10T02:26:18.127Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: before i go and write another varint module with a simpler api i wanna find out if/why the existing varint api exists. i dont personally have any objections to it, are yours based on aesthetics or performance?","date":"2013-10-10T02:29:49.348Z","type":"message"}
{"nick":"tmcw","date":"2013-10-10T02:32:02.982Z","type":"join"}
{"nick":"fallsemo","date":"2013-10-10T02:32:13.982Z","type":"join"}
{"nick":"mikeal","date":"2013-10-10T02:32:46.952Z","type":"join"}
{"nick":"brycebaril","message":"partially aesthetics, but I'm thinking there has to be performance implications of using events for something like that","date":"2013-10-10T02:36:56.096Z","type":"message"}
{"nick":"mbalho","message":"yea i hear ya, its possible, though i imagine since theyre all sync functions that seem to get inlined that its still pretty fast","date":"2013-10-10T02:37:47.231Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: there is also require('varint/decode') which doesnt use eventemitter and just uses a callback","date":"2013-10-10T02:38:45.259Z","type":"message"}
{"nick":"fallsemo","reason":"Ping timeout: 248 seconds","date":"2013-10-10T02:38:56.756Z","type":"quit"}
{"nick":"rvagg","message":"hm, why does it use a callback?","date":"2013-10-10T02:38:59.979Z","type":"message"}
{"nick":"rvagg","message":"there's nothing async about any of this","date":"2013-10-10T02:39:13.378Z","type":"message"}
{"nick":"mbalho","message":"sorry i guess its not a callback in the proper sense, it just calls a function with the result","date":"2013-10-10T02:39:45.157Z","type":"message"}
{"nick":"mbalho","message":"you feed it 1 byte at a time rather than giving it the entire buffer","date":"2013-10-10T02:40:00.265Z","type":"message"}
{"nick":"mbalho","message":"https://github.com/chrisdickinson/varint/blob/master/decode.js","date":"2013-10-10T02:40:48.185Z","type":"message"}
{"nick":"mbalho","message":"i doubt there are any noticable perf differences","date":"2013-10-10T02:41:01.149Z","type":"message"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-10-10T02:41:36.461Z","type":"quit"}
{"nick":"ramitos","date":"2013-10-10T02:50:06.742Z","type":"join"}
{"nick":"ramitos","reason":"Client Quit","date":"2013-10-10T02:50:44.020Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-10T02:50:58.555Z","type":"join"}
{"nick":"mbalho","message":"yes so switching to require('varint/encode') and require('varint/decode') is actually a performance increase from the baseline","date":"2013-10-10T02:54:05.208Z","type":"message"}
{"nick":"fallsemo","reason":"Ping timeout: 264 seconds","date":"2013-10-10T02:55:40.365Z","type":"quit"}
{"nick":"tmcw","date":"2013-10-10T02:58:03.013Z","type":"join"}
{"nick":"brycebaril","message":"mbalho: how are you using 'varint/decode' directly? Did you assign it an ondata function?","date":"2013-10-10T03:01:54.783Z","type":"message"}
{"nick":"mbalho","message":"yep","date":"2013-10-10T03:02:48.856Z","type":"message"}
{"nick":"mbalho","message":"https://github.com/maxogden/multibuffer/commit/460672a464478362db99962d37fa5ca62685451f","date":"2013-10-10T03:03:10.440Z","type":"message"}
{"nick":"rvagg","message":"hm, that callable function is a bit awkward in decode, I wonder if there's any perf impact on not involving a callback","date":"2013-10-10T03:07:09.067Z","type":"message"}
{"nick":"rvagg","message":"you could try require('leveljs-coding/protobuf') and use readVarInt32 if you want to try using the returned array approach instead","date":"2013-10-10T03:08:07.069Z","type":"message"}
{"nick":"mbalho","message":"word","date":"2013-10-10T03:08:36.709Z","type":"message"}
{"nick":"mbalho","message":"i dont think itd be worth it to write another module when the current one is working fine, but if you wanna break protobuf out into its own varint module be my guest","date":"2013-10-10T03:09:21.673Z","type":"message"}
{"nick":"rvagg","message":"perhaps when I get there with the full leveldb coding stuff, I need to write varints too","date":"2013-10-10T03:10:16.876Z","type":"message"}
{"nick":"rvagg","message":"and other protobuf stuff","date":"2013-10-10T03:10:21.802Z","type":"message"}
{"nick":"rvagg","message":"for now, all that coding stuff is going into a single package","date":"2013-10-10T03:10:35.135Z","type":"message"}
{"nick":"brycebaril","message":"I'm writing a benchmark comparing them atm","date":"2013-10-10T03:10:40.000Z","type":"message"}
{"nick":"mbalho","message":"i bet we can send a persuasive pull request to varint if we come up with a faster implementation","date":"2013-10-10T03:11:25.563Z","type":"message"}
{"nick":"fallsemo","date":"2013-10-10T03:11:36.428Z","type":"join"}
{"nick":"brycebaril","message":"bryce@x220:/tmp$ time node varintDecode.js","date":"2013-10-10T03:13:17.093Z","type":"message"}
{"nick":"brycebaril","message":"real    0m1.197s","date":"2013-10-10T03:13:17.348Z","type":"message"}
{"nick":"brycebaril","message":"user    0m1.132s","date":"2013-10-10T03:13:17.567Z","type":"message"}
{"nick":"brycebaril","message":"sys     0m0.068s","date":"2013-10-10T03:13:17.567Z","type":"message"}
{"nick":"brycebaril","message":"bryce@x220:/tmp$ time node probuf.js","date":"2013-10-10T03:13:17.567Z","type":"message"}
{"nick":"brycebaril","message":"real    0m0.860s","date":"2013-10-10T03:13:17.778Z","type":"message"}
{"nick":"brycebaril","message":"user    0m0.820s","date":"2013-10-10T03:13:17.778Z","type":"message"}
{"nick":"brycebaril","message":"sys     0m0.040s","date":"2013-10-10T03:13:18.684Z","type":"message"}
{"nick":"rvagg","message":"brycebaril: where are you located?","date":"2013-10-10T03:13:19.045Z","type":"message"}
{"nick":"brycebaril","message":"Seattle, WA","date":"2013-10-10T03:13:25.570Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: nice","date":"2013-10-10T03:13:35.839Z","type":"message"}
{"nick":"mbalho","message":"brycebaril: how many buffers is that?","date":"2013-10-10T03:13:55.159Z","type":"message"}
{"nick":"brycebaril","message":"1e6","date":"2013-10-10T03:14:00.994Z","type":"message"}
{"nick":"rvagg","message":"ah, mbalho et. al. are doing a level* meetup in Nov, if you think you might want to head down to SF to help out you should let them know cause I'm sure they could do with other pros","date":"2013-10-10T03:14:14.844Z","type":"message"}
{"nick":"brycebaril","message":"essentially just doing varint decode on 0..1_000_000","date":"2013-10-10T03:14:16.346Z","type":"message"}
{"nick":"mbalho","message":"ah gotcha","date":"2013-10-10T03:14:25.323Z","type":"message"}
{"nick":"mbalho","message":"well its gonna be a nodeschool.io IRL event at github","date":"2013-10-10T03:14:42.367Z","type":"message"}
{"nick":"brycebaril","message":"that's cool, when is it at?","date":"2013-10-10T03:14:56.355Z","type":"message"}
{"nick":"rvagg","message":"oh well, I'm sure brycebaril would be helpful in either case","date":"2013-10-10T03:15:08.124Z","type":"message"}
{"nick":"mbalho","message":" thursday, november 21st from 7 - 9:30PM","date":"2013-10-10T03:15:30.362Z","type":"message"}
{"nick":"mbalho","message":"dunno if its worth a SF trip but hey ya never know","date":"2013-10-10T03:15:39.680Z","type":"message"}
{"nick":"brycebaril","message":"rvagg: I got a beaglebone black in the mail last week, going to be playing with making a IoT node backed by timestreamdb. should be fun","date":"2013-10-10T03:15:58.884Z","type":"message"}
{"nick":"rvagg","message":"nice","date":"2013-10-10T03:16:09.651Z","type":"message"}
{"nick":"rvagg","message":"those are nice devices, they have onboard storage don't they?","date":"2013-10-10T03:16:20.381Z","type":"message"}
{"nick":"brycebaril","message":"something like 2gb onboard, but it is class 4 I think","date":"2013-10-10T03:16:45.289Z","type":"message"}
{"nick":"rvagg","message":"sd card slows the pi down a bit too much","date":"2013-10-10T03:16:50.469Z","type":"message"}
{"nick":"brycebaril","message":"I'll probably grab a class 10 sd to compare","date":"2013-10-10T03:17:02.097Z","type":"message"}
{"nick":"brycebaril","message":"I got it over the rpi because it has all the direct gpio","date":"2013-10-10T03:17:18.026Z","type":"message"}
{"nick":"wolfeidau","message":"brycebaril: I would use a beagle bone because it has eMMC and a ton more GPIOs :)","date":"2013-10-10T03:17:54.645Z","type":"message"}
{"nick":"wolfeidau","message":"eMMC == 10 x faster IO than SDcards in my experiance","date":"2013-10-10T03:18:19.976Z","type":"message"}
{"nick":"brycebaril","message":"wolfeidau: that's what my thinking was when I got the BBB.  Plus my initials are BBB so that helped :)","date":"2013-10-10T03:18:23.585Z","type":"message"}
{"nick":"brycebaril","message":"wolfeidau: good to know, I'll definitely be trying to write fast to leveldb on it","date":"2013-10-10T03:18:36.208Z","type":"message"}
{"nick":"wolfeidau","message":"brycebaril: yeah BBB is an awesome device much much faster access times as well","date":"2013-10-10T03:18:57.795Z","type":"message"}
{"nick":"wolfeidau","message":"Also much easier to hack on if you run the ubuntu based images","date":"2013-10-10T03:19:39.016Z","type":"message"}
{"nick":"brycebaril","message":"I haven't replaced the stock image yet","date":"2013-10-10T03:20:11.421Z","type":"message"}
{"nick":"wolfeidau","message":"brycebaril: We are using these ones http://www.armhf.com/","date":"2013-10-10T03:22:04.301Z","type":"message"}
{"nick":"wolfeidau","message":"brycebaril: if you want to use the GPIOs make sure you read this https://github.com/jadonk/validation-scripts/tree/master/test-capemgr","date":"2013-10-10T03:22:58.078Z","type":"message"}
{"nick":"wolfeidau","message":"Explains device trees","date":"2013-10-10T03:23:12.556Z","type":"message"}
{"nick":"wolfeidau","message":"How what where and how :)","date":"2013-10-10T03:23:18.496Z","type":"message"}
{"nick":"wolfeidau","message":"Who what where and how even","date":"2013-10-10T03:23:31.986Z","type":"message"}
{"nick":"brycebaril","message":"ahh, excellent :)","date":"2013-10-10T03:23:36.189Z","type":"message"}
{"nick":"rvagg","message":"then if all else fails you just bother wolfeidau who will figure it out if he doesn't know","date":"2013-10-10T03:24:47.301Z","type":"message"}
{"nick":"fallsemo","reason":"Ping timeout: 264 seconds","date":"2013-10-10T03:25:54.313Z","type":"quit"}
{"nick":"mbalho","message":"lol","date":"2013-10-10T03:28:39.892Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-10T03:34:05.276Z","type":"quit"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-10T03:45:27.720Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-10T04:04:49.578Z","type":"join"}
{"nick":"mbalho","message":"brycebaril: can you gist that benchmark you made?","date":"2013-10-10T04:05:05.867Z","type":"message"}
{"nick":"mikeal","reason":"Ping timeout: 240 seconds","date":"2013-10-10T04:09:08.192Z","type":"quit"}
{"nick":"levelbot","message":"[npm] continuous-storage@0.1.0 <http://npm.im/continuous-storage>: Store a continuous ndarray in a level.js/levelup database (@hughsk)","date":"2013-10-10T04:16:12.736Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-10T04:16:34.983Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-10T04:16:36.194Z","type":"quit"}
{"nick":"thlorenz","reason":"Ping timeout: 248 seconds","date":"2013-10-10T04:25:04.757Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-10T04:34:49.594Z","type":"join"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-10-10T04:39:38.542Z","type":"quit"}
{"nick":"mikeal","reason":"Ping timeout: 264 seconds","date":"2013-10-10T04:45:28.413Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-10T04:52:17.578Z","type":"join"}
{"nick":"mikeal","date":"2013-10-10T05:12:59.670Z","type":"join"}
{"nick":"dominictarr","date":"2013-10-10T05:15:27.629Z","type":"join"}
{"nick":"brycebaril","message":"mbalho: https://gist.github.com/brycebaril/6913533","date":"2013-10-10T05:36:30.069Z","type":"message"}
{"nick":"mbalho","message":"thx","date":"2013-10-10T05:37:05.630Z","type":"message"}
{"nick":"brycebaril","message":"That one is slightly different than the one I timed above, the other one first created all the buffers, this time I saved them all to a file and they just read the file.","date":"2013-10-10T05:39:01.088Z","type":"message"}
{"nick":"nathan7","date":"2013-10-10T05:52:28.040Z","type":"join"}
{"nick":"eugeneware","date":"2013-10-10T05:56:10.203Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-10-10T05:58:34.139Z","type":"quit"}
{"nick":"mbalho","message":"ok updated https://github.com/maxogden/varint/tree/buffer-read, send a PR","date":"2013-10-10T06:16:53.584Z","type":"message"}
{"nick":"esundahl","reason":"Remote host closed the connection","date":"2013-10-10T06:19:43.857Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-10T06:22:04.455Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-10T06:29:01.444Z","type":"quit"}
{"nick":"DTrejo","date":"2013-10-10T06:36:02.611Z","type":"join"}
{"nick":"esundahl","date":"2013-10-10T06:50:46.987Z","type":"join"}
{"nick":"esundahl","reason":"Ping timeout: 248 seconds","date":"2013-10-10T06:59:07.830Z","type":"quit"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-10-10T07:18:27.052Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-10T07:22:41.796Z","type":"join"}
{"nick":"DTrejo","reason":"Remote host closed the connection","date":"2013-10-10T07:23:41.712Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-10T07:25:34.615Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 264 seconds","date":"2013-10-10T07:27:28.404Z","type":"quit"}
{"nick":"esundahl","reason":"Ping timeout: 264 seconds","date":"2013-10-10T07:30:06.403Z","type":"quit"}
{"nick":"jmartins","reason":"Ping timeout: 252 seconds","date":"2013-10-10T07:39:24.213Z","type":"quit"}
{"nick":"jmartins","date":"2013-10-10T07:39:58.353Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-10T07:49:17.257Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-10T07:49:52.006Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 240 seconds","date":"2013-10-10T07:52:08.202Z","type":"quit"}
{"nick":"timoxley_","date":"2013-10-10T07:53:21.545Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 248 seconds","date":"2013-10-10T07:54:03.768Z","type":"quit"}

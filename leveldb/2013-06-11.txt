{"nick":"thl0","date":"2013-06-11T00:09:19.013Z","type":"join"}
{"nick":"rescrv","reason":"Read error: Connection reset by peer","date":"2013-06-11T00:12:54.032Z","type":"quit"}
{"nick":"eugeneware","message":"Tokutek posted this press release saying that they've forked and fixed mongodb. Called TokuMX. Anyone played this this? http://www.tokutek.com/products/tokumx-for-mongodb/?org=321&lvl=1&ite=435&lea=68113&ctr=0&par=1","date":"2013-06-11T00:13:31.936Z","type":"message"}
{"nick":"eugeneware","reason":"Quit: Leaving.","date":"2013-06-11T00:15:45.801Z","type":"quit"}
{"nick":"wolfeidau","message":"Seems people are checking out my leveldb connect session store which is awesome","date":"2013-06-11T01:05:51.672Z","type":"message"}
{"nick":"chilts","message":"wolfeidau: cool ... I can't see download numbers at the moment though","date":"2013-06-11T01:20:50.395Z","type":"message"}
{"nick":"chilts","message":"I guess this doesn't quite work if you load balance across servers or use cluster though?","date":"2013-06-11T01:21:06.980Z","type":"message"}
{"nick":"chilts","message":"since LevelDB is one process only?","date":"2013-06-11T01:21:14.368Z","type":"message"}
{"nick":"wolfeidau","message":"chilts: Yeah i need to do a post on that","date":"2013-06-11T01:21:26.775Z","type":"message"}
{"nick":"chilts","message":"yeah","date":"2013-06-11T01:21:42.927Z","type":"message"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-06-11T01:21:46.999Z","type":"quit"}
{"nick":"chilts","message":"might be worth a couple of lines in the README?","date":"2013-06-11T01:21:53.098Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah I will do that","date":"2013-06-11T01:22:06.700Z","type":"message"}
{"nick":"wolfeidau","message":"TBH i would prefer to run the cluster with shared nothing","date":"2013-06-11T01:22:30.997Z","type":"message"}
{"nick":"wolfeidau","message":"And sticky load balancer","date":"2013-06-11T01:22:37.193Z","type":"message"}
{"nick":"wolfeidau","message":"And deal with the reauth on failure","date":"2013-06-11T01:22:51.084Z","type":"message"}
{"nick":"chilts","message":"interesting :) I prefer it the other way where you share the session (somewhere) but the servers contain no state!","date":"2013-06-11T01:23:11.611Z","type":"message"}
{"nick":"wolfeidau","message":"yeah there are trade offs with both approaches, but the shared session store is a single point of failure","date":"2013-06-11T01:23:41.676Z","type":"message"}
{"nick":"wolfeidau","message":"If one of those processes goes rogue all your users can't login","date":"2013-06-11T01:23:56.259Z","type":"message"}
{"nick":"chilts","message":"wolfeidau: btw, this means no shared state and no sticky sessions : https://npmjs.org/package/client-sessions","date":"2013-06-11T01:24:25.809Z","type":"message"}
{"nick":"chilts","message":"I've done shared sessions with a cluster of memcache instances before, so if one instance goes down (say 1 of 4), then just 25% of people need to reauthenticate","date":"2013-06-11T01:25:05.377Z","type":"message"}
{"nick":"chilts","message":"worked quite well","date":"2013-06-11T01:25:11.392Z","type":"message"}
{"nick":"wolfeidau","message":"yeah I have tried a few approaches, I am looking forward to the clustered leveldb :)","date":"2013-06-11T01:25:11.611Z","type":"message"}
{"nick":"chilts","message":"ah ... so when I've finished MoDB, that'll work for you :D","date":"2013-06-11T01:25:29.333Z","type":"message"}
{"nick":"chilts","message":"heh","date":"2013-06-11T01:25:31.282Z","type":"message"}
{"nick":"wolfeidau","message":"haha :)","date":"2013-06-11T01:25:38.996Z","type":"message"}
{"nick":"wolfeidau","message":"dynamo me :)","date":"2013-06-11T01:25:45.245Z","type":"message"}
{"nick":"wolfeidau","message":"But yeah at the moment I just wanted a small embedded session store","date":"2013-06-11T01:26:12.329Z","type":"message"}
{"nick":"wolfeidau","message":"Which can do N+1 failure","date":"2013-06-11T01:26:33.683Z","type":"message"}
{"nick":"wolfeidau","message":"So two processes, if one fails the other takes over","date":"2013-06-11T01:26:46.090Z","type":"message"}
{"nick":"wolfeidau","message":"Leveldb can cater for that","date":"2013-06-11T01:26:59.733Z","type":"message"}
{"nick":"chilts","message":"yeah, I love how things like sessions (or anything for that matter) is somewhere where we have lots of choices to be able to make great choices in whatever circumstance we're in","date":"2013-06-11T01:27:53.605Z","type":"message"}
{"nick":"chilts","message":"once you know the trade-offs","date":"2013-06-11T01:28:47.095Z","type":"message"}
{"nick":"rvagg","message":"wolfeidau: did you notice there were already a few session stores in npm? https://github.com/kevinohara80/connect-leveldb https://github.com/davidbanham/connect-level https://github.com/rvagg/node-level-session","date":"2013-06-11T01:34:50.225Z","type":"message"}
{"nick":"wolfeidau","message":"rvagg: well the first one isn't in npm","date":"2013-06-11T01:35:53.705Z","type":"message"}
{"nick":"wolfeidau","message":"As i have that name now","date":"2013-06-11T01:36:00.813Z","type":"message"}
{"nick":"wolfeidau","message":"And the other ones are called level","date":"2013-06-11T01:36:08.020Z","type":"message"}
{"nick":"wolfeidau","message":"And i didn't search for that lol","date":"2013-06-11T01:36:16.631Z","type":"message"}
{"nick":"chilts","message":":)","date":"2013-06-11T01:36:20.472Z","type":"message"}
{"nick":"wolfeidau","message":"npm ftl","date":"2013-06-11T01:37:19.220Z","type":"message"}
{"nick":"wolfeidau","message":"Search for connect leveldb","date":"2013-06-11T01:37:40.057Z","type":"message"}
{"nick":"wolfeidau","message":"nothing but my module comes up","date":"2013-06-11T01:37:54.418Z","type":"message"}
{"nick":"rvagg","message":"anyway, put it on https://github.com/rvagg/node-levelup/wiki/Modules that's where you should find em","date":"2013-06-11T01:38:04.672Z","type":"message"}
{"nick":"wolfeidau","message":"O well we have another one now :)","date":"2013-06-11T01:38:42.162Z","type":"message"}
{"nick":"rvagg","message":"yeah, that's cool, the more the merrier!","date":"2013-06-11T01:38:52.679Z","type":"message"}
{"nick":"wolfeidau","message":"I learnt a lot writing it","date":"2013-06-11T01:39:15.884Z","type":"message"}
{"nick":"wolfeidau","message":"I ran into the same issue as i did a while ago","date":"2013-06-11T01:39:31.751Z","type":"message"}
{"nick":"wolfeidau","message":"Key expiration","date":"2013-06-11T01:39:40.355Z","type":"message"}
{"nick":"chilts","message":"yeah, 'coz you gotta do it yourself rather than your store doing it for you?","date":"2013-06-11T01:40:34.942Z","type":"message"}
{"nick":"wolfeidau","message":"Need to see if there is an elegant way of managing it","date":"2013-06-11T01:40:46.149Z","type":"message"}
{"nick":"wolfeidau","message":"chilts: Yeah that is what i did","date":"2013-06-11T01:40:52.251Z","type":"message"}
{"nick":"chilts","message":"yeah, I figured from your comment on the readme (lazy expiration)","date":"2013-06-11T01:41:06.427Z","type":"message"}
{"nick":"wolfeidau","message":"But I didn't want to add a backgound \"job\" at this stage","date":"2013-06-11T01:41:07.887Z","type":"message"}
{"nick":"chilts","message":"true","date":"2013-06-11T01:41:11.979Z","type":"message"}
{"nick":"chilts","message":"easy enough to add if you get shitloads of sessions","date":"2013-06-11T01:41:25.252Z","type":"message"}
{"nick":"chilts","message":"esp. short ones (robots for example)","date":"2013-06-11T01:41:33.312Z","type":"message"}
{"nick":"wolfeidau","message":"Yeah key is you need to have churn of users to make it bad","date":"2013-06-11T01:41:41.206Z","type":"message"}
{"nick":"chilts","message":"I don't like how connect creates a session on every request","date":"2013-06-11T01:41:43.022Z","type":"message"}
{"nick":"wolfeidau","message":"aha yeah","date":"2013-06-11T01:41:51.759Z","type":"message"}
{"nick":"chilts","message":"I want to write some session middleware which doesn't do that","date":"2013-06-11T01:41:57.250Z","type":"message"}
{"nick":"chilts","message":"(once I have time and $7m so I can do what I like)","date":"2013-06-11T01:42:11.376Z","type":"message"}
{"nick":"chilts","message":"$8m is also fine","date":"2013-06-11T01:42:15.126Z","type":"message"}
{"nick":"wolfeidau","message":"haha","date":"2013-06-11T01:44:04.795Z","type":"message"}
{"nick":"wolfeidau","message":"are you back in NZ?","date":"2013-06-11T01:44:57.705Z","type":"message"}
{"nick":"rvagg","message":"wolfeidau: http://github.com/rvagg/level-ttl","date":"2013-06-11T01:49:17.057Z","type":"message"}
{"nick":"chilts","message":"yeah, in Wgtn - got back yesterday morning","date":"2013-06-11T01:49:23.684Z","type":"message"}
{"nick":"rvagg","message":"err","date":"2013-06-11T01:49:28.969Z","type":"message"}
{"nick":"rvagg","message":"https://github.com/rvagg/node-level-ttl","date":"2013-06-11T01:49:29.407Z","type":"message"}
{"nick":"chilts","message":"heh, you have a level plugin for every occassion! :)","date":"2013-06-11T01:49:48.003Z","type":"message"}
{"nick":"rvagg","message":"read the wiki is the new rtfm","date":"2013-06-11T01:50:00.499Z","type":"message"}
{"nick":"wolfeidau","message":"rvagg: Sweet will add that tonight","date":"2013-06-11T01:50:14.092Z","type":"message"}
{"nick":"werle","date":"2013-06-11T01:52:09.639Z","type":"join"}
{"nick":"chilts","message":"rvagg: so with the way htese level-* plugins work, they all seem to do things like override .get(), .put() etc ... so does that mean if you use a few of them, they're all essentially wrapping the next (which eventually wraps the LevelDB one)?","date":"2013-06-11T01:52:21.985Z","type":"message"}
{"nick":"chilts","message":"if that's right, I wonder if we'll start seeing subtle bugs appearing with interactions between some of them","date":"2013-06-11T01:52:42.427Z","type":"message"}
{"nick":"rvagg","message":"chilts: yerp, indeed, it's not ideal","date":"2013-06-11T01:52:51.647Z","type":"message"}
{"nick":"rvagg","message":"see the issues list for a bunch of discussions about \"fixing\" it","date":"2013-06-11T01:52:59.582Z","type":"message"}
{"nick":"chilts","message":"wonder what a better way is ... ahah, you're onto it","date":"2013-06-11T01:53:09.643Z","type":"message"}
{"nick":"chilts","message":"in some ways I like say adding new functionality, rather than wrapping existing","date":"2013-06-11T01:53:25.163Z","type":"message"}
{"nick":"chilts","message":"e.g. level.setWithExpiry() (or something)","date":"2013-06-11T01:53:39.312Z","type":"message"}
{"nick":"ralphtheninja","reason":"Ping timeout: 246 seconds","date":"2013-06-11T01:54:19.884Z","type":"quit"}
{"nick":"brycebaril","message":"rvagg so the internal scan limits the TTL resolution?","date":"2013-06-11T01:56:16.802Z","type":"message"}
{"nick":"werle","reason":"Ping timeout: 252 seconds","date":"2013-06-11T01:56:19.684Z","type":"quit"}
{"nick":"brycebaril","message":"The way Redis does it is pretty interesting, the internal scan only checks a portion of the keys with TTL set, but every lookup checks the TTL","date":"2013-06-11T01:57:09.651Z","type":"message"}
{"nick":"brycebaril","message":"So that when you inspect a key with a TTL the TTL is always respected, even if the internal expiration cycle didn't clean it.","date":"2013-06-11T01:57:37.846Z","type":"message"}
{"nick":"brycebaril","message":"And the internal cycle doesn't have to work as hard","date":"2013-06-11T01:57:45.349Z","type":"message"}
{"nick":"rvagg","message":"brycebaril: I considered that but decided that I didn't want to slow down get()s just to honour exact ttl, it's not important enough for anything I need it for; I'd be interested to hear if anyone else has more precise needs tho","date":"2013-06-11T02:07:26.578Z","type":"message"}
{"nick":"rvagg","message":"I guess that could be an option you could turn on if you needed it","date":"2013-06-11T02:07:36.332Z","type":"message"}
{"nick":"rvagg","message":"chilts: the way I've been writing my extensions allows for that: https://github.com/rvagg/node-level-ttl/blob/master/level-ttl.js#L221-L223","date":"2013-06-11T02:08:22.743Z","type":"message"}
{"nick":"brycebaril","message":"Yeah, it probably comes down to how many keys one has set with a TTL and how often they look at them.","date":"2013-06-11T02:08:24.691Z","type":"message"}
{"nick":"rvagg","message":"if you pass in a 'methodPrefix' option then you can have your cake and eat it too","date":"2013-06-11T02:08:37.525Z","type":"message"}
{"nick":"rvagg","message":"... or something like that","date":"2013-06-11T02:08:41.944Z","type":"message"}
{"nick":"rvagg","message":"brycebaril: the timer resolution could be set pretty low though and it wouldn't impact too much on performance, the ttl keys are sorted by time so the iterator does all the work of finding the ones that need to expire and the ones that don't need to expire are completely ignored","date":"2013-06-11T02:09:21.464Z","type":"message"}
{"nick":"rvagg","message":"brycebaril: most of the time it's an empty iterator, which isn't trivial but isn't too expensive either","date":"2013-06-11T02:09:34.349Z","type":"message"}
{"nick":"eugeneware","date":"2013-06-11T02:12:24.855Z","type":"join"}
{"nick":"brycebaril","message":"true -- Redis doesn't have that luxury, I don't believe it indexes TTLs, just knows which keys have a TTL set","date":"2013-06-11T02:12:45.283Z","type":"message"}
{"nick":"chilts","message":"rvagg: that's awesome :)","date":"2013-06-11T02:12:51.439Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-06-11T02:25:54.930Z","type":"quit"}
{"nick":"ChrisPartridgeCl","new_nick":"ChrisPartridge","date":"2013-06-11T03:44:36.317Z","type":"nick"}
{"nick":"werle","date":"2013-06-11T03:52:23.944Z","type":"join"}
{"nick":"werle","reason":"Ping timeout: 246 seconds","date":"2013-06-11T03:56:28.962Z","type":"quit"}
{"nick":"ChrisPartridge","message":"anyone have any thoughts on storing small files in leveldb?","date":"2013-06-11T04:48:48.606Z","type":"message"}
{"nick":"rvagg","message":"ChrisPartridge: just do it direct, or https://github.com/juliangruber/level-store if you want to stream them","date":"2013-06-11T04:49:15.844Z","type":"message"}
{"nick":"ChrisPartridge","message":"ah sweet","date":"2013-06-11T04:49:32.236Z","type":"message"}
{"nick":"ChrisPartridge","message":"rvagg: exactly what i need","date":"2013-06-11T04:50:08.847Z","type":"message"}
{"nick":"rvagg","message":"yeah, that's a cool extension","date":"2013-06-11T04:50:27.733Z","type":"message"}
{"nick":"ChrisPartridge","message":"working on storing mail from haraka -> leveldb","date":"2013-06-11T04:50:51.149Z","type":"message"}
{"nick":"ChrisPartridge","message":"https://github.com/cjpartridgeb/node-haraka-leveldb","date":"2013-06-11T04:50:55.207Z","type":"message"}
{"nick":"rvagg","message":"what's haraka?","date":"2013-06-11T04:51:30.090Z","type":"message"}
{"nick":"ChrisPartridge","message":"node smtp server","date":"2013-06-11T04:51:38.565Z","type":"message"}
{"nick":"rvagg","message":"ohhhh, nice","date":"2013-06-11T04:51:52.099Z","type":"message"}
{"nick":"ChrisPartridge","message":"working quite well, probably going to put something in production with postgres for the host/mailbox/acls - then leveldb for storing messages and now attachments","date":"2013-06-11T04:52:55.901Z","type":"message"}
{"nick":"no9","reason":"Read error: Operation timed out","date":"2013-06-11T04:58:24.330Z","type":"quit"}
{"nick":"ChrisPartridge","message":"rvagg: will level-store operate with level-sublevel?","date":"2013-06-11T05:01:26.076Z","type":"message"}
{"nick":"chilts","message":"ChrisPartridge: that sounds cool! I like the idea of Haraka+LevelDB","date":"2013-06-11T05:06:27.830Z","type":"message"}
{"nick":"mbalho","message":"nice","date":"2013-06-11T05:07:15.074Z","type":"message"}
{"nick":"mbalho","message":"i wrote a haraka couchdb thing a long time ago","date":"2013-06-11T05:07:20.123Z","type":"message"}
{"nick":"mbalho","message":"couldnt find anywhere to host it though but maybe openshift lets you receive incoming mail","date":"2013-06-11T05:07:40.975Z","type":"message"}
{"nick":"ChrisPartridge","message":"mbalho: this one https://github.com/maxogden/haraka-couchdb ?","date":"2013-06-11T05:10:03.805Z","type":"message"}
{"nick":"mbalho","message":"yep","date":"2013-06-11T05:10:40.573Z","type":"message"}
{"nick":"ChrisPartridge","message":"yeah, that helped me immensely","date":"2013-06-11T05:11:12.596Z","type":"message"}
{"nick":"mbalho","message":"ah cool!","date":"2013-06-11T05:11:27.883Z","type":"message"}
{"nick":"ChrisPartridge","message":"initially wrote is postgres https://github.com/cjpartridgeb/node-haraka-postgres","date":"2013-06-11T05:12:13.549Z","type":"message"}
{"nick":"ChrisPartridge","message":"although, postgres isn't really a good fit for storing the messages","date":"2013-06-11T05:12:27.421Z","type":"message"}
{"nick":"mbalho","message":"ah","date":"2013-06-11T05:12:35.903Z","type":"message"}
{"nick":"mbalho","message":"ChrisPartridge: if you figure out a nice deployment solution let me know, i was keen on ditching gmail for a while but it wasnt practical","date":"2013-06-11T05:12:53.103Z","type":"message"}
{"nick":"mbalho","message":"ChrisPartridge: but i would still jump ship if there was a paas that let you receive email","date":"2013-06-11T05:13:11.081Z","type":"message"}
{"nick":"mbalho","message":"ChrisPartridge: i just dont wanna maintain a vps","date":"2013-06-11T05:13:17.183Z","type":"message"}
{"nick":"chilts","message":"ChrisPartridge: surely Postgres is more ideal than LevelDB, since you can store different fields and query on them more easily","date":"2013-06-11T05:16:14.461Z","type":"message"}
{"nick":"chilts","message":"(and indeed, many other storage solutions :)","date":"2013-06-11T05:16:32.424Z","type":"message"}
{"nick":"ChrisPartridge","message":"chilts: I was going to treat leveldb purely as the store, and keep a mailbox table in postgres with important headers(to,from,subject), and a full text index for the bodies","date":"2013-06-11T05:19:18.190Z","type":"message"}
{"nick":"chilts","message":"cool","date":"2013-06-11T05:21:36.254Z","type":"message"}
{"nick":"dominictarr","date":"2013-06-11T05:45:55.127Z","type":"join"}
{"nick":"eugeneware","message":"ChrisPartridge: what's your experience been with Haraka? Do they handle ISP mail sending limits automatically for email deliverability?","date":"2013-06-11T05:47:59.263Z","type":"message"}
{"nick":"timoxley","date":"2013-06-11T05:52:49.275Z","type":"join"}
{"nick":"mbalho","message":"for sending mail reliably you need to use a deliverability service","date":"2013-06-11T05:55:55.860Z","type":"message"}
{"nick":"mbalho","message":"but for receiving mail haraka is great","date":"2013-06-11T05:56:00.920Z","type":"message"}
{"nick":"chapel","message":"someone needs to make a full on node.js based imap/pop/smtp server","date":"2013-06-11T05:58:13.936Z","type":"message"}
{"nick":"chapel","message":"well really, multiple components that can be combined into a full email service","date":"2013-06-11T05:58:32.161Z","type":"message"}
{"nick":"ChrisPartridge","message":"eugeneware: i havent used it in production yet, but either way I'm sure if you went down that path, you could simply grab the response from your ISP and tell haraka to queue up for X amount of time","date":"2013-06-11T05:59:45.168Z","type":"message"}
{"nick":"eugeneware","message":"we're looking at sendgrid/Amazon SES/mailgun etc… but would be awesome if we could do it ourselves. There's a lot of blackmagic with email deliverability that I'd rather not have to deal with.","date":"2013-06-11T06:00:08.017Z","type":"message"}
{"nick":"ChrisPartridge","message":"chapel: i found an imap-server project on github, thought yay, opened it, empty","date":"2013-06-11T06:00:14.526Z","type":"message"}
{"nick":"eugeneware","message":"ChrisPartridge: Yeah. The plugin system looks awesome.","date":"2013-06-11T06:00:35.486Z","type":"message"}
{"nick":"eugeneware","message":"ChrisPartridge: Was wondering if they had some plugins that managed the dark arts for me :-)","date":"2013-06-11T06:00:50.334Z","type":"message"}
{"nick":"timoxley","reason":"Ping timeout: 252 seconds","date":"2013-06-11T06:59:12.099Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-06-11T07:16:37.006Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-06-11T07:21:02.506Z","type":"quit"}
{"nick":"timoxley","date":"2013-06-11T07:47:59.764Z","type":"join"}

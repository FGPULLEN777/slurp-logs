{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T00:05:30.611Z","type":"quit"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T00:16:04.150Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-29T00:20:52.462Z","type":"join"}
{"nick":"ralphtheninja","reason":"Ping timeout: 248 seconds","date":"2013-05-29T00:21:57.666Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T00:27:25.453Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T00:35:26.767Z","type":"quit"}
{"nick":"timoxley","date":"2013-05-29T01:14:40.494Z","type":"join"}
{"nick":"levelbot","reason":"Remote host closed the connection","date":"2013-05-29T01:35:35.196Z","type":"quit"}
{"nick":"thl0","message":"juliangruber: rvagg: so there is one problem I see with the .pre add indexing approach","date":"2013-05-29T01:37:02.337Z","type":"message"}
{"nick":"thl0","message":"it forces me to JSON.parse the value if I wanna index on one of it's properties","date":"2013-05-29T01:38:02.009Z","type":"message"}
{"nick":"thl0","message":"juliangruber: rvagg: i.e. https://github.com/thlorenz/level1/blob/master/samples/indexing/with-sublevel-hooks.js#L29","date":"2013-05-29T01:38:09.176Z","type":"message"}
{"nick":"thl0","message":"although this only makes inserts slow, so it depends on what you are trying to do","date":"2013-05-29T01:39:00.290Z","type":"message"}
{"nick":"thl0","message":"still though, there should be a better way, i.e. don't just give me the value, but instead the entire thing, so I could attach a property right next to key and value and wouldn't have to parse","date":"2013-05-29T01:39:58.861Z","type":"message"}
{"nick":"thl0","message":"somehow everything but key and value gets stripped before pre is called","date":"2013-05-29T01:42:20.538Z","type":"message"}
{"nick":"thl0","message":"may do that right after pre so I can use that info to index?","date":"2013-05-29T01:42:35.181Z","type":"message"}
{"nick":"thl0","message":"juliangruber: rvagg: submitted an issue, maybe dominictarr will have a chance to look at it: https://github.com/dominictarr/level-sublevel/issues/12","date":"2013-05-29T01:50:50.513Z","type":"message"}
{"nick":"eugeneware","date":"2013-05-29T02:25:33.626Z","type":"join"}
{"nick":"Pwnna","reason":"Remote host closed the connection","date":"2013-05-29T02:41:50.682Z","type":"quit"}
{"nick":"Pwnna","date":"2013-05-29T02:58:10.883Z","type":"join"}
{"nick":"levelbot","date":"2013-05-29T03:01:36.502Z","type":"join"}
{"nick":"thl0","message":"rvagg: seems like mapped-index is broken due to patches of dependencies?","date":"2013-05-29T03:02:16.949Z","type":"message"}
{"nick":"thl0","message":"crypto.js:132","date":"2013-05-29T03:02:50.038Z","type":"message"}
{"nick":"thl0","message":"  return new Hash(hash);","date":"2013-05-29T03:02:50.240Z","type":"message"}
{"nick":"thl0","message":"         ^","date":"2013-05-29T03:02:50.383Z","type":"message"}
{"nick":"thl0","message":"RangeError: Maximum call stack size exceeded","date":"2013-05-29T03:02:51.614Z","type":"message"}
{"nick":"thl0","message":"is the error I get when running the tests","date":"2013-05-29T03:03:34.756Z","type":"message"}
{"nick":"rvagg","message":"eeek","date":"2013-05-29T03:03:57.377Z","type":"message"}
{"nick":"rvagg","message":"thl0: thanks, will get on to it when I find a spare moment","date":"2013-05-29T03:04:10.431Z","type":"message"}
{"nick":"rvagg","action":"is fixing raid arrays with busted disks","date":"2013-05-29T03:04:21.961Z","type":"action"}
{"nick":"thl0","message":"cool - I'll stick with just sublevel for now then - also mapped-index still depends on levelup 0.7","date":"2013-05-29T03:05:07.686Z","type":"message"}
{"nick":"rvagg","message":"it probably shouldn't depend on anything","date":"2013-05-29T03:05:24.367Z","type":"message"}
{"nick":"rvagg","message":"I need to update the main place where I'm using it, that'll force me to fix stuff","date":"2013-05-29T03:05:37.505Z","type":"message"}
{"nick":"thl0","message":"np - whenever you have a chance - I'm good for now - sublevel is fine all these other things are just very nice wrappers","date":"2013-05-29T03:06:31.136Z","type":"message"}
{"nick":"thl0","message":"I can rewite stuff later","date":"2013-05-29T03:06:38.835Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-05-29T03:30:16.263Z","type":"quit"}
{"nick":"eugeneware_","date":"2013-05-29T03:40:12.109Z","type":"join"}
{"nick":"eugeneware_","date":"2013-05-29T03:41:22.980Z","type":"part"}
{"nick":"levelbot","message":"[npm] jsonquery@0.0.0 <http://npm.im/jsonquery>: MongoDB query language implemented as a Streaming filter (@nharbour)","date":"2013-05-29T04:15:27.652Z","type":"message"}
{"nick":"rvagg","message":"eugeneware: going hot with all the leveldb packages, would be interested to hear what you're doing with it","date":"2013-05-29T04:18:39.955Z","type":"message"}
{"nick":"ramitos","reason":"Ping timeout: 252 seconds","date":"2013-05-29T05:19:06.952Z","type":"quit"}
{"nick":"levelbot","message":"[npm] jsonquery@0.0.1 <http://npm.im/jsonquery>: MongoDB query language implemented as a Streaming filter (@nharbour)","date":"2013-05-29T05:21:28.937Z","type":"message"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T05:36:38.541Z","type":"quit"}
{"nick":"nemequ","reason":"\"Ex-Chat\"","date":"2013-05-29T06:25:23.640Z","type":"part"}
{"nick":"timoxley","date":"2013-05-29T06:34:54.261Z","type":"join"}
{"nick":"Pwnna","reason":"Ping timeout: 277 seconds","date":"2013-05-29T06:35:29.732Z","type":"quit"}
{"nick":"ralphtheninja","date":"2013-05-29T06:57:07.293Z","type":"join"}
{"nick":"Pwnna","date":"2013-05-29T07:12:03.561Z","type":"join"}
{"nick":"Pwnna","reason":"Remote host closed the connection","date":"2013-05-29T07:25:27.983Z","type":"quit"}
{"nick":"Pwnna","date":"2013-05-29T07:30:08.552Z","type":"join"}
{"nick":"dominictarr","date":"2013-05-29T07:48:22.945Z","type":"join"}
{"nick":"no9","date":"2013-05-29T07:53:03.520Z","type":"join"}
{"nick":"num9","date":"2013-05-29T08:11:41.136Z","type":"join"}
{"nick":"eugeneware","reason":"Quit: Leaving.","date":"2013-05-29T08:19:18.190Z","type":"quit"}
{"nick":"levelbot","reason":"Remote host closed the connection","date":"2013-05-29T08:22:12.726Z","type":"quit"}
{"nick":"ChrisPartridge","reason":"Ping timeout: 276 seconds","date":"2013-05-29T08:36:26.642Z","type":"quit"}
{"nick":"hij1nx","reason":"Ping timeout: 264 seconds","date":"2013-05-29T08:55:54.201Z","type":"quit"}
{"nick":"Pwnna","reason":"Ping timeout: 256 seconds","date":"2013-05-29T08:56:10.519Z","type":"quit"}
{"nick":"hij1nx","date":"2013-05-29T08:56:55.210Z","type":"join"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T10:30:46.444Z","type":"quit"}
{"nick":"werle","date":"2013-05-29T10:39:14.060Z","type":"join"}
{"nick":"timoxley","date":"2013-05-29T10:43:42.339Z","type":"join"}
{"nick":"thl0","date":"2013-05-29T10:59:33.212Z","type":"join"}
{"nick":"dominictarr","message":"hij1nx: ping?","date":"2013-05-29T12:10:53.142Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-05-29T12:33:39.680Z","type":"quit"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-05-29T13:13:29.695Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T13:17:00.264Z","type":"join"}
{"nick":"thl0","message":"dominictarr: I created somewhat of a plan on how to mine npm registry and github to get the necessary data in order to analyze a package an properly rate it","date":"2013-05-29T13:26:02.104Z","type":"message"}
{"nick":"thl0","message":"https://github.com/thlorenz/valuepack/blob/master/data/mine.md","date":"2013-05-29T13:26:08.353Z","type":"message"}
{"nick":"thl0","message":"probably will first just store all this info and then run an analyzer over the data","date":"2013-05-29T13:26:26.956Z","type":"message"}
{"nick":"thl0","message":"will prob. use levelup and sublevel only (don't need more abstraction) and mapped-index didn't really work for me","date":"2013-05-29T13:27:39.058Z","type":"message"}
{"nick":"dominictarr","message":"mapped-index?","date":"2013-05-29T13:40:09.343Z","type":"message"}
{"nick":"dominictarr","message":"so, I should probably tell you about my ideas for npmd, so that we can work together where they overlap","date":"2013-05-29T13:42:06.513Z","type":"message"}
{"nick":"dominictarr","message":"thl0: which is basically about making npm install really fast","date":"2013-05-29T13:45:04.551Z","type":"message"}
{"nick":"thl0","message":"dominictarr: ok, do you have anything written up?","date":"2013-05-29T13:50:37.210Z","type":"message"}
{"nick":"thl0","message":"level-mapped-index by rvagg didn't work for me","date":"2013-05-29T13:50:56.201Z","type":"message"}
{"nick":"thl0","message":"so yes, the first part of what I'm doing may overlap, since I'm pulling down all repos metadata","date":"2013-05-29T13:51:28.037Z","type":"message"}
{"nick":"thl0","message":"but after that I'm not sure (I'm not pulling tars or readmes)","date":"2013-05-29T13:51:54.618Z","type":"message"}
{"nick":"thl0","action":"takes a look at npmd","date":"2013-05-29T13:52:03.680Z","type":"action"}
{"nick":"thl0","message":"dominictarr: so looks like for npmd dealing with deltas make sense, but maybe not for valuepack","date":"2013-05-29T13:54:24.617Z","type":"message"}
{"nick":"thl0","message":"in my case it will be hard to reason about what data will have to be updated due to a change in the npm registry","date":"2013-05-29T13:54:52.044Z","type":"message"}
{"nick":"thl0","message":"also I need to look at github info, which has no update feed","date":"2013-05-29T13:55:07.102Z","type":"message"}
{"nick":"thl0","message":"so for now I was just gonna run a daily thing that pulls down everything and runs analyzer over the data","date":"2013-05-29T13:55:32.312Z","type":"message"}
{"nick":"dominictarr","message":"you could get an updated feed from github by creating a user, and following everyone you want to follow","date":"2013-05-29T13:55:56.880Z","type":"message"}
{"nick":"dominictarr","message":"or every project.","date":"2013-05-29T13:56:01.583Z","type":"message"}
{"nick":"mbalho","message":"ooh good idea","date":"2013-05-29T13:56:04.504Z","type":"message"}
{"nick":"thl0","message":"this may be the easiest and actually be fast enough - tonight I'm gonna do some experimentation on how long everything will take","date":"2013-05-29T13:56:13.724Z","type":"message"}
{"nick":"thl0","message":"dominictarr: ah that's an idea","date":"2013-05-29T13:56:26.362Z","type":"message"}
{"nick":"dominictarr","message":"plus, then you get near realtime updates","date":"2013-05-29T13:56:47.892Z","type":"message"}
{"nick":"thl0","message":"but to get a start I'd need to pull down everything anyways","date":"2013-05-29T13:57:01.695Z","type":"message"}
{"nick":"dominictarr","message":"thl0: I also implemented a simpler index thing for level","date":"2013-05-29T13:57:14.812Z","type":"message"}
{"nick":"thl0","message":"so I'll see how long that takes and then build it out from there","date":"2013-05-29T13:57:19.376Z","type":"message"}
{"nick":"dominictarr","message":"level-index","date":"2013-05-29T13:57:20.818Z","type":"message"}
{"nick":"thl0","message":"I saw that, but sublevel seems fine","date":"2013-05-29T13:57:49.455Z","type":"message"}
{"nick":"dominictarr","message":"thl0: good point. you need both of those parts combined for data replication","date":"2013-05-29T13:57:51.587Z","type":"message"}
{"nick":"dominictarr","message":"have a bit that finds where it was last up to, and pull down everything since then","date":"2013-05-29T13:58:17.618Z","type":"message"}
{"nick":"dominictarr","message":"and then a bit that keeps it up to date.","date":"2013-05-29T13:58:26.228Z","type":"message"}
{"nick":"thl0","message":"dominictarr: as far as I understand from reading level-hooks, the pre first goes thru entire batch and just tags the indexing operations onto it?","date":"2013-05-29T13:58:39.145Z","type":"message"}
{"nick":"thl0","message":"so puts and indexing is done in one batch right?","date":"2013-05-29T13:59:01.511Z","type":"message"}
{"nick":"dominictarr","message":"yes","date":"2013-05-29T13:59:01.762Z","type":"message"}
{"nick":"thl0","message":"nice","date":"2013-05-29T13:59:06.210Z","type":"message"}
{"nick":"dominictarr","message":"exactly. so your indexes and your data will always be consistent.","date":"2013-05-29T13:59:24.313Z","type":"message"}
{"nick":"thl0","message":"dominictarr: yeah I thought about that way, but it's way more complex to handle deltas","date":"2013-05-29T13:59:43.300Z","type":"message"}
{"nick":"dominictarr","message":"(well, you need to handle deletes differently)","date":"2013-05-29T13:59:43.776Z","type":"message"}
{"nick":"thl0","message":"dominictarr: I'll have none if I don't deal with deltas ;)","date":"2013-05-29T13:59:58.507Z","type":"message"}
{"nick":"thl0","message":"so if I can get away with just reevaluating everything i.e. daily I'll probably go with that for now","date":"2013-05-29T14:00:37.583Z","type":"message"}
{"nick":"thl0","message":"I can always get smart and more efficient later ;)","date":"2013-05-29T14:00:56.608Z","type":"message"}
{"nick":"dominictarr","message":"sure, that is probably the simple way to start.","date":"2013-05-29T14:00:56.826Z","type":"message"}
{"nick":"thl0","message":"but the follow all users on github is a grand idea :)","date":"2013-05-29T14:01:13.496Z","type":"message"}
{"nick":"thl0","message":"dominictarr: for pre analyzation data, would you store the npm (users and packages) in a separate db than the github user info?","date":"2013-05-29T14:01:56.454Z","type":"message"}
{"nick":"thl0","message":"or is it better in one?","date":"2013-05-29T14:02:05.714Z","type":"message"}
{"nick":"dominictarr","message":"well, if you use sublevel it doesn't make much difference","date":"2013-05-29T14:02:24.069Z","type":"message"}
{"nick":"dominictarr","message":"it's easy to decouple the github part, and the npm part","date":"2013-05-29T14:02:36.868Z","type":"message"}
{"nick":"thl0","message":"except I could run two processes in parallel if I use two dbs","date":"2013-05-29T14:02:57.402Z","type":"message"}
{"nick":"thl0","message":"yeah decoupling is automatic","date":"2013-05-29T14:03:10.909Z","type":"message"}
{"nick":"dominictarr","message":"might be simpler to use multilevel","date":"2013-05-29T14:03:34.856Z","type":"message"}
{"nick":"dominictarr","message":"that could let you fan out to many workers","date":"2013-05-29T14:03:44.790Z","type":"message"}
{"nick":"dominictarr","message":"if necessary","date":"2013-05-29T14:03:47.765Z","type":"message"}
{"nick":"thl0","message":"working on replicated dbs?","date":"2013-05-29T14:04:20.695Z","type":"message"}
{"nick":"thl0","message":"or is this on same machine?","date":"2013-05-29T14:04:37.967Z","type":"message"}
{"nick":"thl0","message":"dominictarr: ah, I think I got it now this uses a server so multiple processes can connect to same db, how about contention juliangruber?","date":"2013-05-29T14:05:33.633Z","type":"message"}
{"nick":"thl0","message":"i.e. if two process try to write at same time?","date":"2013-05-29T14:06:05.211Z","type":"message"}
{"nick":"thl0","message":"maybe even to same key?","date":"2013-05-29T14:06:13.118Z","type":"message"}
{"nick":"no9","reason":"Ping timeout: 256 seconds","date":"2013-05-29T14:07:16.510Z","type":"quit"}
{"nick":"num9","reason":"Ping timeout: 252 seconds","date":"2013-05-29T14:07:17.977Z","type":"quit"}
{"nick":"dominictarr","message":"so, that isn't a part of multilevel, you'd want to handle that another way","date":"2013-05-29T14:07:52.439Z","type":"message"}
{"nick":"dominictarr","message":"the simplest, would be to arange your workers so that they worked with different data, so they never collided.","date":"2013-05-29T14:08:22.602Z","type":"message"}
{"nick":"dominictarr","message":"they can write to different keys, just fine, but the same key the last one will win","date":"2013-05-29T14:08:53.304Z","type":"message"}
{"nick":"dominictarr","message":"like in mongo.","date":"2013-05-29T14:08:56.227Z","type":"message"}
{"nick":"dominictarr","message":"we have been experimenting with ways to do a conditional update, though.","date":"2013-05-29T14:09:17.632Z","type":"message"}
{"nick":"thl0","message":"got it","date":"2013-05-29T14:09:23.709Z","type":"message"}
{"nick":"thl0","message":"also if I give each worker a subset (i.e. of github users) to work with, the keys should never collide","date":"2013-05-29T14:09:48.972Z","type":"message"}
{"nick":"thl0","message":"knowing of that option it makes sense to just use one db","date":"2013-05-29T14:10:04.109Z","type":"message"}
{"nick":"thl0","message":"can't wait to get home and give this a try ;)","date":"2013-05-29T14:10:34.962Z","type":"message"}
{"nick":"dominictarr","message":"but I'm gonna work on the conditional update stuff soon, because that will give us master-master replication","date":"2013-05-29T14:11:49.322Z","type":"message"}
{"nick":"thl0","message":"that will be nice to have","date":"2013-05-29T14:12:09.014Z","type":"message"}
{"nick":"thl0","message":"dominictarr: btw I saw that all these modules basically mixin functionality into the level db instance","date":"2013-05-29T14:12:38.616Z","type":"message"}
{"nick":"thl0","message":"aren't you worried about possible name collides?","date":"2013-05-29T14:12:51.791Z","type":"message"}
{"nick":"thl0","message":"i.e. if more people write mixins like that?","date":"2013-05-29T14:13:07.610Z","type":"message"}
{"nick":"thl0","message":"also some mixins depend on mixins from other modules (i.e. sublevel), but don't require it","date":"2013-05-29T14:14:04.360Z","type":"message"}
{"nick":"dominictarr","message":"well, only level-sublevel does that","date":"2013-05-29T14:14:08.077Z","type":"message"}
{"nick":"dominictarr","message":"and then sublevel gives you a new instance that you are free to extend.","date":"2013-05-29T14:14:59.839Z","type":"message"}
{"nick":"thl0","message":"mapped-index does as well","date":"2013-05-29T14:15:04.802Z","type":"message"}
{"nick":"thl0","message":"you have to do db = sublevel(db); db = mappedIndex(db)","date":"2013-05-29T14:15:43.004Z","type":"message"}
{"nick":"thl0","message":"each call mixes more stuff in","date":"2013-05-29T14:15:50.823Z","type":"message"}
{"nick":"dominictarr","message":"hmm","date":"2013-05-29T14:16:01.905Z","type":"message"}
{"nick":"dominictarr","message":"you should do it like this:","date":"2013-05-29T14:16:07.842Z","type":"message"}
{"nick":"dominictarr","message":"db = sublevel(level(path))","date":"2013-05-29T14:16:17.383Z","type":"message"}
{"nick":"dominictarr","message":"mapDb = MapReduce(db, ...)","date":"2013-05-29T14:16:25.505Z","type":"message"}
{"nick":"dominictarr","message":"mapDb !== db","date":"2013-05-29T14:16:30.359Z","type":"message"}
{"nick":"thl0","message":"just wondering if there is maybe a better way, i.e. just exposing functions into which you pass your db instead of mutating the db itself by adding functions itself","date":"2013-05-29T14:16:39.744Z","type":"message"}
{"nick":"dominictarr","message":"then add map-reduce related features to mapDb","date":"2013-05-29T14:16:45.673Z","type":"message"}
{"nick":"thl0","message":"yeah, but different modules may try to add fns with same name","date":"2013-05-29T14:16:58.030Z","type":"message"}
{"nick":"thl0","message":"then you are screwed","date":"2013-05-29T14:17:07.244Z","type":"message"}
{"nick":"thl0","message":"and get weird behaviors depending on what module mixed itself in last","date":"2013-05-29T14:17:40.643Z","type":"message"}
{"nick":"dominictarr","message":"okay, mapped-index is a bad pattern","date":"2013-05-29T14:17:56.085Z","type":"message"}
{"nick":"thl0","message":"dominictarr: just pointing this out, since it's still fairly new and API may still be fixed now, but maybe harder to do later","date":"2013-05-29T14:18:26.737Z","type":"message"}
{"nick":"dominictarr","message":"yes.","date":"2013-05-29T14:18:35.611Z","type":"message"}
{"nick":"dominictarr","message":"this is a huge improvement since before sublevel","date":"2013-05-29T14:18:47.603Z","type":"message"}
{"nick":"dominictarr","message":"but if you only extend sublevels, and not the root db (except for sublevel, of course)","date":"2013-05-29T14:19:18.355Z","type":"message"}
{"nick":"dominictarr","message":"I mean, sublevel is the only thing that changes stuff.","date":"2013-05-29T14:19:40.819Z","type":"message"}
{"nick":"thl0","message":"well hooks does too","date":"2013-05-29T14:19:48.452Z","type":"message"}
{"nick":"dominictarr","message":"and then everything else can be clean.","date":"2013-05-29T14:19:48.983Z","type":"message"}
{"nick":"thl0","message":"https://github.com/dominictarr/level-hooks/blob/master/index.js#L134-L146","date":"2013-05-29T14:19:56.905Z","type":"message"}
{"nick":"dominictarr","message":"oh, right. consider that a part of sublevel.","date":"2013-05-29T14:20:04.423Z","type":"message"}
{"nick":"dominictarr","message":"we are looking at combining hooks into levelup, anyway.","date":"2013-05-29T14:20:19.427Z","type":"message"}
{"nick":"dominictarr","message":"the blocker is just deciding how to handle async prehooks,","date":"2013-05-29T14:20:49.914Z","type":"message"}
{"nick":"dominictarr","message":"(for example, for conditional updates)","date":"2013-05-29T14:20:59.144Z","type":"message"}
{"nick":"thl0","message":"ok, that is better then","date":"2013-05-29T14:22:22.940Z","type":"message"}
{"nick":"thl0","message":"I also saw another one that added a bunch of readStream functions (with two names each) - can't remember which one","date":"2013-05-29T14:23:31.973Z","type":"message"}
{"nick":"thl0","message":"dominictarr: but if you consolidate this stuff and keep this under control it should be ok","date":"2013-05-29T14:24:00.522Z","type":"message"}
{"nick":"dominictarr","message":"the other reason for this, is that it makes multilevel able to expose sublevels (and features added in them) to client connections.","date":"2013-05-29T14:26:40.879Z","type":"message"}
{"nick":"thl0","message":"ah, that makes sense","date":"2013-05-29T14:27:30.245Z","type":"message"}
{"nick":"thl0","message":"it would just suck if way further down the line you realize that this mixin model breaks down and it's too late to fix it without breaking lots of things","date":"2013-05-29T14:28:03.465Z","type":"message"}
{"nick":"werle","date":"2013-05-29T14:33:20.263Z","type":"join"}
{"nick":"levelbot","date":"2013-05-29T14:41:29.121Z","type":"join"}
{"nick":"no9","date":"2013-05-29T14:58:10.390Z","type":"join"}
{"nick":"num9","date":"2013-05-29T14:58:28.423Z","type":"join"}
{"nick":"levelbot","reason":"Remote host closed the connection","date":"2013-05-29T15:06:01.589Z","type":"quit"}
{"nick":"levelbot","date":"2013-05-29T15:07:45.343Z","type":"join"}
{"nick":"brianloveswords","reason":"Excess Flood","date":"2013-05-29T15:26:16.852Z","type":"quit"}
{"nick":"brianloveswords","date":"2013-05-29T15:27:48.675Z","type":"join"}
{"nick":"thl0","reason":"Ping timeout: 245 seconds","date":"2013-05-29T15:38:24.253Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T15:39:14.797Z","type":"join"}
{"nick":"ramitos","date":"2013-05-29T15:44:47.787Z","type":"join"}
{"nick":"thl0","message":"dominictarr: ping","date":"2013-05-29T15:48:50.876Z","type":"message"}
{"nick":"dominictarr","message":"yo","date":"2013-05-29T15:48:56.331Z","type":"message"}
{"nick":"thl0","message":"am I missing something in that issue?","date":"2013-05-29T15:49:05.589Z","type":"message"}
{"nick":"thl0","message":"i.e. I don't wanna store the values of my indexes as json","date":"2013-05-29T15:49:19.007Z","type":"message"}
{"nick":"thl0","message":"unnec. overhead","date":"2013-05-29T15:49:29.600Z","type":"message"}
{"nick":"levelbot","message":"[npm] level-window@1.0.0 <http://npm.im/level-window>: levelup plugin for creating views on realtime time series data. (@dominictarr)","date":"2013-05-29T16:01:43.559Z","type":"message"}
{"nick":"dominictarr","message":"thl0: you are using json as the example, though","date":"2013-05-29T16:04:00.901Z","type":"message"}
{"nick":"dominictarr","message":"you want to add an index per keyword, right?","date":"2013-05-29T16:04:24.763Z","type":"message"}
{"nick":"dominictarr","message":"so that","date":"2013-05-29T16:04:33.732Z","type":"message"}
{"nick":"dominictarr","message":"drive -> car?","date":"2013-05-29T16:04:44.855Z","type":"message"}
{"nick":"thl0","message":"so the value is json","date":"2013-05-29T16:05:26.334Z","type":"message"}
{"nick":"thl0","message":"but I wanna index by keywords like drive","date":"2013-05-29T16:05:36.233Z","type":"message"}
{"nick":"dominictarr","message":"if you set encoding: json, then level will stringify it for you,","date":"2013-05-29T16:05:48.711Z","type":"message"}
{"nick":"dominictarr","message":"so you don't have to parse it twice","date":"2013-05-29T16:05:57.215Z","type":"message"}
{"nick":"thl0","message":"but I'm storing indexes in same db","date":"2013-05-29T16:06:09.642Z","type":"message"}
{"nick":"dominictarr","message":"oh","date":"2013-05-29T16:06:14.985Z","type":"message"}
{"nick":"thl0","message":"whose values are strings","date":"2013-05-29T16:06:19.829Z","type":"message"}
{"nick":"thl0","message":"can't mix","date":"2013-05-29T16:06:25.739Z","type":"message"}
{"nick":"dominictarr","message":"right - so you want to store them as strings without \"\"","date":"2013-05-29T16:06:31.000Z","type":"message"}
{"nick":"thl0","message":"i.e. 'drive' : value 'car'","date":"2013-05-29T16:06:50.199Z","type":"message"}
{"nick":"thl0","message":"this automatic json thing breaks down once you store any indexes that have string values","date":"2013-05-29T16:07:09.109Z","type":"message"}
{"nick":"thl0","message":"also this is pre store right?","date":"2013-05-29T16:07:24.852Z","type":"message"}
{"nick":"dominictarr","message":"What if you could set different encodings on different sublevels?","date":"2013-05-29T16:07:33.281Z","type":"message"}
{"nick":"thl0","message":"so why can't I include some extra info on the object that I use for indexing before it gets stored?","date":"2013-05-29T16:07:53.760Z","type":"message"}
{"nick":"thl0","message":"yse that would be great","date":"2013-05-29T16:08:00.036Z","type":"message"}
{"nick":"dominictarr","message":"cool. I have been meaning to add that feature!","date":"2013-05-29T16:08:35.857Z","type":"message"}
{"nick":"thl0","message":"i.e. what I'd like to do is { key: 'car', value: '{ some stringified json }', keywords: [ array of keywords I only need before entry for to index the car ] }","date":"2013-05-29T16:09:09.205Z","type":"message"}
{"nick":"dominictarr","message":"If you are keen you can make a pr for that?","date":"2013-05-29T16:09:14.036Z","type":"message"}
{"nick":"thl0","message":"dominictarr: when I have some time and if it is simple enough ;)","date":"2013-05-29T16:09:35.830Z","type":"message"}
{"nick":"dominictarr","message":"should be pretty simple I think.","date":"2013-05-29T16:09:49.884Z","type":"message"}
{"nick":"thl0","message":"so how about preserving my object past the .pre step, so I can attach extra info?","date":"2013-05-29T16:10:15.601Z","type":"message"}
{"nick":"dominictarr","message":"I don't like that idea.","date":"2013-05-29T16:10:28.896Z","type":"message"}
{"nick":"dominictarr","message":"it's not a clean api.","date":"2013-05-29T16:10:37.765Z","type":"message"}
{"nick":"thl0","message":"hm","date":"2013-05-29T16:10:54.233Z","type":"message"}
{"nick":"dominictarr","message":"that isn't how arguments should get to the prehook","date":"2013-05-29T16:11:03.113Z","type":"message"}
{"nick":"thl0","message":"but sometimes the stuff to index by may not even part of the value","date":"2013-05-29T16:11:16.866Z","type":"message"}
{"nick":"thl0","message":"so how do I pass those on?","date":"2013-05-29T16:11:24.291Z","type":"message"}
{"nick":"thl0","message":"to use them in pre?","date":"2013-05-29T16:11:32.346Z","type":"message"}
{"nick":"dominictarr","message":"i\bin that case, don't use a hook, use a batch.","date":"2013-05-29T16:11:41.884Z","type":"message"}
{"nick":"thl0","message":"ok, makes sense","date":"2013-05-29T16:11:55.304Z","type":"message"}
{"nick":"dominictarr","message":"the hook should be independent.","date":"2013-05-29T16:12:30.303Z","type":"message"}
{"nick":"thl0","message":"but just to be clear, even if I use json encoding when ever it hits the pre it would have to parse the json?","date":"2013-05-29T16:15:16.508Z","type":"message"}
{"nick":"thl0","message":"dominictarr: or is the auto stringify happening after it went thru pre?","date":"2013-05-29T16:15:45.239Z","type":"message"}
{"nick":"chapel","message":"thl0: how I am doing indexing is using batches, effectively I have a separate function I call that handles the indexing","date":"2013-05-29T16:16:24.409Z","type":"message"}
{"nick":"chapel","message":"thl0: so it doesn't overwrite the existing put function","date":"2013-05-29T16:16:40.804Z","type":"message"}
{"nick":"thl0","message":"chapel: I did indexing manually as well https://github.com/thlorenz/level1/blob/master/samples/indexing/with-levelup.js","date":"2013-05-29T16:17:19.838Z","type":"message"}
{"nick":"thl0","message":"however I feel like doing it with sublevel is a bit clenaner","date":"2013-05-29T16:17:38.053Z","type":"message"}
{"nick":"dominictarr","message":"thl0: no, if you used json encoding, the pre hook will get it before it's been stringified.","date":"2013-05-29T16:17:50.143Z","type":"message"}
{"nick":"thl0","message":"dominictarr: awesome, so I'm gonna have to get that mixed encoding going and the problem will be solved","date":"2013-05-29T16:18:15.294Z","type":"message"}
{"nick":"chapel","message":"thl0: as well with the indexes, I keep them simple, effectively they are structured like <index level>:<collection>:<key>:<value> mind that : is just a placeholder for the actual separator","date":"2013-05-29T16:18:22.417Z","type":"message"}
{"nick":"chapel","message":"so you can do 1:items:name:foo","date":"2013-05-29T16:18:56.741Z","type":"message"}
{"nick":"thl0","message":"chapel: nice, I just wanted to have sublevel help me a bit there, i.e. I'd just have to worry about setting things up right and then keep entering values","date":"2013-05-29T16:19:14.669Z","type":"message"}
{"nick":"chapel","message":"yeah","date":"2013-05-29T16:19:27.726Z","type":"message"}
{"nick":"thl0","message":"I feel like the sublevel abstraction is quite nice","date":"2013-05-29T16:19:27.891Z","type":"message"}
{"nick":"chapel","message":"since Im using binary keys I can't use sublevel directly","date":"2013-05-29T16:19:36.578Z","type":"message"}
{"nick":"thl0","message":"ah","date":"2013-05-29T16:19:42.124Z","type":"message"}
{"nick":"chapel","message":"so I hand rolled the sublevel like functionality, but my code isn't really meant to extend base levelup","date":"2013-05-29T16:20:21.713Z","type":"message"}
{"nick":"chapel","message":"its written on top of","date":"2013-05-29T16:20:22.817Z","type":"message"}
{"nick":"chapel","message":"but I agree, I like sublevel and how it works","date":"2013-05-29T16:20:47.181Z","type":"message"}
{"nick":"thl0","message":"that's kinda what I did here as well https://github.com/thlorenz/level1/blob/master/samples/indexing/with-levelup.js#L22","date":"2013-05-29T16:20:57.264Z","type":"message"}
{"nick":"chapel","message":"the other thing Im working with is bytewise","date":"2013-05-29T16:20:58.678Z","type":"message"}
{"nick":"thl0","message":"I think I saw that, but currently have no need (just dealing with json at the moment)","date":"2013-05-29T16:21:30.755Z","type":"message"}
{"nick":"chapel","message":"which if you haven't seen does some nice standardized binary key formation","date":"2013-05-29T16:21:33.951Z","type":"message"}
{"nick":"dominictarr","message":"chapel: can you post an sublevel issue describing how you use binary keys?","date":"2013-05-29T16:21:47.902Z","type":"message"}
{"nick":"chapel","message":"so my keys are actually arrays","date":"2013-05-29T16:21:48.049Z","type":"message"}
{"nick":"chapel","message":"dominictarr: well its not an issue with sublevel","date":"2013-05-29T16:21:57.594Z","type":"message"}
{"nick":"chapel","message":"so much as I need to write the keys directly","date":"2013-05-29T16:22:04.334Z","type":"message"}
{"nick":"chapel","message":"and pass them through bytewise","date":"2013-05-29T16:22:10.942Z","type":"message"}
{"nick":"dominictarr","message":"that you can't use binary keys is an issue","date":"2013-05-29T16:22:12.344Z","type":"message"}
{"nick":"chapel","message":"so I would have to overload all write commands to rewrite the keys to use bytewise","date":"2013-05-29T16:22:42.587Z","type":"message"}
{"nick":"dominictarr","message":"we have been discussing custom encodings for levelup","date":"2013-05-29T16:23:12.601Z","type":"message"}
{"nick":"chapel","message":"sublevel would work fine if I didn't want to control the key structure entirely","date":"2013-05-29T16:23:46.878Z","type":"message"}
{"nick":"chapel","message":"my keys are actually arrays [0, collectionname, key, value] if you will","date":"2013-05-29T16:24:10.534Z","type":"message"}
{"nick":"thl0","message":"dominictarr: allowing different encodings should be fairly simple - all I'd have to do is pass a value thru here https://github.com/dominictarr/level-sublevel/blob/master/sub.js","date":"2013-05-29T16:24:29.134Z","type":"message"}
{"nick":"thl0","message":"so that the puts, etc. can pass that in each time","date":"2013-05-29T16:24:42.881Z","type":"message"}
{"nick":"chapel","message":"and bytewise encodes them in a way that makes it easy to use to do partial key look ups","date":"2013-05-29T16:24:50.800Z","type":"message"}
{"nick":"dominictarr","message":"yeah, levelup already allows you to provide an encoding per request (put, get, and streams)","date":"2013-05-29T16:25:15.198Z","type":"message"}
{"nick":"thl0","message":"yep","date":"2013-05-29T16:25:23.355Z","type":"message"}
{"nick":"thl0","message":"no performance issues with that?","date":"2013-05-29T16:25:34.131Z","type":"message"}
{"nick":"thl0","message":"guess not it's just strings in the end anyways right?","date":"2013-05-29T16:25:43.987Z","type":"message"}
{"nick":"thl0","message":"so cool I should be able to get this in tonight or tomorrow","date":"2013-05-29T16:26:07.410Z","type":"message"}
{"nick":"dominictarr","message":"well, it brings it into better parity with levelup, which is important.","date":"2013-05-29T16:26:11.010Z","type":"message"}
{"nick":"chapel","message":"dominictarr: mikeal's pushdb is where I got the idea to use bytewise how I am https://github.com/mikeal/pushdb","date":"2013-05-29T16:26:31.902Z","type":"message"}
{"nick":"dominictarr","message":"hmm, I'll look into that.","date":"2013-05-29T16:31:10.503Z","type":"message"}
{"nick":"dominictarr","message":"thanks","date":"2013-05-29T16:31:13.995Z","type":"message"}
{"nick":"dominictarr","message":"no9: basic windowing for leveldb https://github.com/dominictarr/level-window","date":"2013-05-29T16:37:14.515Z","type":"message"}
{"nick":"no9","message":"dominictarr cool I am making dinner here so I will look at it later","date":"2013-05-29T16:38:48.772Z","type":"message"}
{"nick":"dominictarr","message":"good idea","date":"2013-05-29T16:39:01.157Z","type":"message"}
{"nick":"no9","message":"Yes food FTW!","date":"2013-05-29T16:39:16.997Z","type":"message"}
{"nick":"no9","message":"or FML","date":"2013-05-29T16:39:24.155Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-05-29T16:45:46.799Z","type":"quit"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-29T16:48:19.394Z","type":"quit"}
{"nick":"ramitos","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2013-05-29T17:12:02.009Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T17:49:16.399Z","type":"join"}
{"nick":"Pwnna","date":"2013-05-29T18:28:02.581Z","type":"join"}
{"nick":"Pwnna","reason":"Remote host closed the connection","date":"2013-05-29T18:31:11.053Z","type":"quit"}
{"nick":"levelbot","message":"[npm] pouchdb@0.0.13 <http://npm.im/pouchdb>: PouchDB is a pocket-sized database. (@chesles, @eckoit, @daleharvey)","date":"2013-05-29T18:32:41.992Z","type":"message"}
{"nick":"Pwnna","date":"2013-05-29T18:40:21.605Z","type":"join"}
{"nick":"num9","reason":"Ping timeout: 248 seconds","date":"2013-05-29T19:37:41.648Z","type":"quit"}
{"nick":"no9","reason":"Ping timeout: 248 seconds","date":"2013-05-29T19:37:41.814Z","type":"quit"}
{"nick":"Pwnna","reason":"Remote host closed the connection","date":"2013-05-29T19:43:51.540Z","type":"quit"}
{"nick":"no9","date":"2013-05-29T19:46:57.308Z","type":"join"}
{"nick":"Pwnna","date":"2013-05-29T19:47:01.636Z","type":"join"}
{"nick":"num9","date":"2013-05-29T20:03:30.363Z","type":"join"}
{"nick":"thl0","reason":"Ping timeout: 240 seconds","date":"2013-05-29T20:18:57.203Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T20:20:29.356Z","type":"join"}
{"nick":"levelbot","message":"[npm] level-sublevel@4.6.6 <http://npm.im/level-sublevel>: Separate sections of levelup, with hooks! (@dominictarr)","date":"2013-05-29T20:46:11.041Z","type":"message"}
{"nick":"thl0","reason":"Ping timeout: 256 seconds","date":"2013-05-29T20:52:43.081Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T20:53:01.017Z","type":"join"}
{"nick":"levelbot","message":"[npm] level-sublevel@4.6.7 <http://npm.im/level-sublevel>: Separate sections of levelup, with hooks! (@dominictarr)","date":"2013-05-29T21:25:42.006Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T21:40:26.372Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-29T21:42:05.283Z","type":"join"}
{"nick":"thl0","reason":"Ping timeout: 260 seconds","date":"2013-05-29T22:04:19.826Z","type":"quit"}
{"nick":"thl0","date":"2013-05-29T22:05:50.104Z","type":"join"}
{"nick":"timoxley","date":"2013-05-29T22:07:21.294Z","type":"join"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-05-29T22:09:12.829Z","type":"quit"}
{"nick":"werle","reason":"Quit: Leaving.","date":"2013-05-29T22:10:50.289Z","type":"quit"}
{"nick":"ChrisPartridge","date":"2013-05-29T22:12:19.166Z","type":"join"}
{"nick":"ChrisPartridge","date":"2013-05-29T22:17:30.916Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-05-29T22:36:33.068Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 264 seconds","date":"2013-05-29T23:07:07.420Z","type":"quit"}
{"nick":"levelbot","message":"[npm] level-sublevel@4.6.8 <http://npm.im/level-sublevel>: Separate sections of levelup, with hooks! (@dominictarr)","date":"2013-05-29T23:07:40.403Z","type":"message"}
{"nick":"no9","message":"rvagg ZFS won on the backup stuff","date":"2013-05-29T23:44:59.143Z","type":"message"}
{"nick":"rvagg","message":"no9: fair enough, zfs has a habit of winning","date":"2013-05-29T23:50:30.038Z","type":"message"}
{"nick":"no9","message":"started a blog post on it https://gist.github.com/No9/25db556b8567125b04bf but it still needs another pass at the technical detail of snapshots etc","date":"2013-05-29T23:51:19.102Z","type":"message"}
{"nick":"no9","message":"technical detail == impact","date":"2013-05-29T23:51:39.552Z","type":"message"}
{"nick":"rvagg","message":"yeah, well I think that the other implementations of block-level snapshots are all just copies of zfs, it has maturity on its side","date":"2013-05-29T23:52:27.179Z","type":"message"}
{"nick":"rvagg","message":"what OS are you doing this on? are you deploying to joyent or something?","date":"2013-05-29T23:52:45.636Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-29T23:52:50.966Z","type":"quit"}
{"nick":"no9","message":"Ubuntu for the blog post","date":"2013-05-29T23:52:57.289Z","type":"message"}
{"nick":"no9","message":"Uses files instead of partitions for easy introduction","date":"2013-05-29T23:53:46.250Z","type":"message"}
{"nick":"rvagg","message":"ah, nice","date":"2013-05-29T23:57:11.900Z","type":"message"}

{"nick":"kenansulayman","date":"2013-10-15T00:00:29.354Z","type":"join"}
{"nick":"esundahl","reason":"Ping timeout: 240 seconds","date":"2013-10-15T00:02:14.531Z","type":"quit"}
{"nick":"jerrysv","reason":"Remote host closed the connection","date":"2013-10-15T00:04:24.443Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T00:12:44.476Z","type":"join"}
{"nick":"DTrejo","date":"2013-10-15T00:23:28.323Z","type":"join"}
{"nick":"jxson_","reason":"Remote host closed the connection","date":"2013-10-15T00:30:52.721Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T00:34:55.039Z","type":"join"}
{"nick":"ednapiranha","date":"2013-10-15T00:35:22.379Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-15T00:40:54.705Z","type":"quit"}
{"nick":"rvagg","message":"Sublime Text 3 is using LevelDB internally","date":"2013-10-15T00:45:19.039Z","type":"message"}
{"nick":"rvagg","message":"just noticed a db in the Index directory of the user config","date":"2013-10-15T00:45:37.821Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg wut","date":"2013-10-15T00:46:03.156Z","type":"message"}
{"nick":"kenansulayman","message":"not here?","date":"2013-10-15T00:46:18.115Z","type":"message"}
{"nick":"rvagg","message":"here?","date":"2013-10-15T00:46:47.194Z","type":"message"}
{"nick":"kenansulayman","message":"in my installation","date":"2013-10-15T00:46:58.301Z","type":"message"}
{"nick":"kenansulayman","message":"ow","date":"2013-10-15T00:47:31.776Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg Sublime Text 3/Index?","date":"2013-10-15T00:47:43.332Z","type":"message"}
{"nick":"kenansulayman","message":"we could make lev run over it","date":"2013-10-15T00:48:11.653Z","type":"message"}
{"nick":"rvagg","message":"~/.config/sublime-text-3/Index","date":"2013-10-15T00:48:15.066Z","type":"message"}
{"nick":"rvagg","message":"I tried to look in it with lev but it got stuck and I gave up,","date":"2013-10-15T00:48:32.330Z","type":"message"}
{"nick":"rvagg","message":"I don't care enough, it's called \"Index\" so I don't imagine it to be particularly interesting","date":"2013-10-15T00:48:44.805Z","type":"message"}
{"nick":"rvagg","message":"but it is quite large..","date":"2013-10-15T00:48:55.675Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-15T00:48:59.784Z","type":"join"}
{"nick":"kenansulayman","message":"4 mb","date":"2013-10-15T00:49:06.257Z","type":"message"}
{"nick":"rvagg","message":"38M for me, you're obviously not a hard-core coder!","date":"2013-10-15T00:49:29.808Z","type":"message"}
{"nick":"kenansulayman","message":":(","date":"2013-10-15T00:49:36.385Z","type":"message"}
{"nick":"kenansulayman","message":"using Sublime Text 3 only for 4 weeks :>","date":"2013-10-15T00:49:50.926Z","type":"message"}
{"nick":"kenansulayman","message":"@lev maybe cause the keys are binary and it fails to render properly?","date":"2013-10-15T00:50:14.091Z","type":"message"}
{"nick":"ednapiranha","reason":"Remote host closed the connection","date":"2013-10-15T00:50:55.833Z","type":"quit"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-15T00:53:02.572Z","type":"quit"}
{"nick":"chapel","message":"I use vim :P","date":"2013-10-15T00:54:47.330Z","type":"message"}
{"nick":"kenansulayman","message":"chapel [00:41:07] <chapel>\t why go the hard route for something so trivial?","date":"2013-10-15T00:58:55.419Z","type":"message"}
{"nick":"chapel","message":"its not hard","date":"2013-10-15T00:59:10.632Z","type":"message"}
{"nick":"chapel","message":"and its far from trivial :P","date":"2013-10-15T00:59:18.318Z","type":"message"}
{"nick":"chapel","message":"think of it like automation, once, or a few times doing something is fine, but after that I like to automate as much as possible","date":"2013-10-15T01:00:00.147Z","type":"message"}
{"nick":"chapel","message":"vim for me is automation for tedious things","date":"2013-10-15T01:00:09.536Z","type":"message"}
{"nick":"kenansulayman","message":"if you get used to it, might be","date":"2013-10-15T01:00:15.133Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg http://data.sly.mn/Rw4m","date":"2013-10-15T01:00:16.874Z","type":"message"}
{"nick":"rvagg","message":"kenansulayman: I have absolutely no clue what's being indexed there","date":"2013-10-15T01:01:40.371Z","type":"message"}
{"nick":"kenansulayman","message":"seems like fast type lookup of files","date":"2013-10-15T01:02:47.541Z","type":"message"}
{"nick":"kenansulayman","message":"since same-type entries are prefixed with the same binary sequence","date":"2013-10-15T01:03:19.232Z","type":"message"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-10-15T01:09:33.681Z","type":"quit"}
{"nick":"kenansul_","date":"2013-10-15T01:10:37.416Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-15T01:12:02.716Z","type":"join"}
{"nick":"kenansulayman","reason":"Ping timeout: 264 seconds","date":"2013-10-15T01:14:16.350Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-15T01:16:33.365Z","type":"join"}
{"nick":"esundahl","reason":"Read error: Connection reset by peer","date":"2013-10-15T01:16:37.017Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-15T01:17:07.995Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-15T01:20:08.191Z","type":"quit"}
{"nick":"levelbot","message":"[npm] bjorling-level-storage@0.5.0 <http://npm.im/bjorling-level-storage>: leveldb storage for Bjorling (@bmavity)","date":"2013-10-15T01:29:35.948Z","type":"message"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-10-15T01:30:47.115Z","type":"quit"}
{"nick":"julianduque","date":"2013-10-15T01:34:05.069Z","type":"join"}
{"nick":"fallsemo","date":"2013-10-15T01:37:23.028Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-15T01:44:00.775Z","type":"join"}
{"nick":"ralphtheninja","reason":"Ping timeout: 240 seconds","date":"2013-10-15T01:44:28.197Z","type":"quit"}
{"nick":"fallsemo","reason":"Ping timeout: 264 seconds","date":"2013-10-15T01:50:02.750Z","type":"quit"}
{"nick":"alexi","date":"2013-10-15T01:58:09.374Z","type":"join"}
{"nick":"alexi","reason":"Remote host closed the connection","date":"2013-10-15T02:14:54.626Z","type":"quit"}
{"nick":"kenansul_","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-10-15T02:30:11.014Z","type":"quit"}
{"nick":"kenansulayman","date":"2013-10-15T02:32:00.321Z","type":"join"}
{"nick":"jmartins_","reason":"Quit: Konversation terminated!","date":"2013-10-15T02:41:28.122Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-15T02:44:59.526Z","type":"join"}
{"nick":"thlorenz_","date":"2013-10-15T02:49:52.114Z","type":"join"}
{"nick":"thlorenz_","reason":"Ping timeout: 272 seconds","date":"2013-10-15T02:54:35.786Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-15T03:46:30.643Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T03:47:05.675Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 265 seconds","date":"2013-10-15T03:51:40.069Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T04:07:17.407Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-15T04:09:18.076Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T04:09:53.486Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 240 seconds","date":"2013-10-15T04:14:08.483Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T04:40:26.368Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 245 seconds","date":"2013-10-15T04:45:00.150Z","type":"quit"}
{"nick":"Raynos","message":"o/","date":"2013-10-15T04:47:28.354Z","type":"message"}
{"nick":"Raynos","message":"julianduque: O/","date":"2013-10-15T04:47:33.647Z","type":"message"}
{"nick":"julianduque","message":"o/","date":"2013-10-15T04:48:18.450Z","type":"message"}
{"nick":"Raynos","message":"julianduque: i'm looking at https://github.com/julianduque/level-geo","date":"2013-10-15T04:49:34.977Z","type":"message"}
{"nick":"Raynos","message":"the index is an in memory rtree","date":"2013-10-15T04:49:40.452Z","type":"message"}
{"nick":"Raynos","message":"so it looks like this module is memory bound","date":"2013-10-15T04:49:45.910Z","type":"message"}
{"nick":"julianduque","message":"Raynos: yes, it is, haven't found a good way to use leveldb as index","date":"2013-10-15T04:50:15.084Z","type":"message"}
{"nick":"thlorenz_","date":"2013-10-15T04:50:41.404Z","type":"join"}
{"nick":"Raynos","message":"julianduque: one thing to do is to have many indexes, one per spacial bucket","date":"2013-10-15T04:50:41.404Z","type":"message"}
{"nick":"Raynos","message":"then there is an upper bound to the memory","date":"2013-10-15T04:51:09.282Z","type":"message"}
{"nick":"Raynos","message":"the other thing is you could store the rtree in leveldb & implement bbox as a range query :D","date":"2013-10-15T04:52:39.354Z","type":"message"}
{"nick":"Raynos","message":"good luck (tm)","date":"2013-10-15T04:52:42.692Z","type":"message"}
{"nick":"DTrejo","reason":"Remote host closed the connection","date":"2013-10-15T04:54:23.340Z","type":"quit"}
{"nick":"DTrejo","date":"2013-10-15T04:54:50.802Z","type":"join"}
{"nick":"thlorenz_","reason":"Ping timeout: 272 seconds","date":"2013-10-15T04:55:39.223Z","type":"quit"}
{"nick":"alexi","date":"2013-10-15T04:56:20.742Z","type":"join"}
{"nick":"DTrejo","reason":"Ping timeout: 240 seconds","date":"2013-10-15T04:59:04.068Z","type":"quit"}
{"nick":"julianduque","message":"Raynos: :)","date":"2013-10-15T05:00:32.764Z","type":"message"}
{"nick":"Raynos","message":"maybe i should just do it","date":"2013-10-15T05:01:33.572Z","type":"message"}
{"nick":"Raynos","message":"how hard can it be","date":"2013-10-15T05:01:35.756Z","type":"message"}
{"nick":"Raynos","message":"it will be nice when its done","date":"2013-10-15T05:01:39.293Z","type":"message"}
{"nick":"alexi","message":"Hi all, I've got interesting situation here.","date":"2013-10-15T05:01:57.702Z","type":"message"}
{"nick":"julianduque","message":"Raynos: that would be better :p","date":"2013-10-15T05:02:10.703Z","type":"message"}
{"nick":"alexi","message":"I'm using leveldown + levelup","date":"2013-10-15T05:02:12.138Z","type":"message"}
{"nick":"alexi","message":"(level package)","date":"2013-10-15T05:02:25.206Z","type":"message"}
{"nick":"alexi","message":"and hosting it on rackspace vm, debian 6","date":"2013-10-15T05:02:38.670Z","type":"message"}
{"nick":"alexi","message":"It was running for couple hours there with very mild load","date":"2013-10-15T05:03:05.660Z","type":"message"}
{"nick":"alexi","message":"like < 500 writes in total","date":"2013-10-15T05:03:27.855Z","type":"message"}
{"nick":"alexi","message":"and I lost some data","date":"2013-10-15T05:03:46.448Z","type":"message"}
{"nick":"alexi","message":"I mean I wrote that data and I saw it in the browser for some time but then it was gone for the db file","date":"2013-10-15T05:04:23.705Z","type":"message"}
{"nick":"DTrejo","date":"2013-10-15T05:04:31.119Z","type":"join"}
{"nick":"alexi","message":"I restarted my server (node) and played with it a bit ore for another 20 minutes","date":"2013-10-15T05:05:02.421Z","type":"message"}
{"nick":"alexi","message":"and again after I restarted the server, my state was reverted to the something it was 2 hours before","date":"2013-10-15T05:05:39.463Z","type":"message"}
{"nick":"alexi","message":"I can't reproduce it at will, but I'm going to try to use sync:true flag","date":"2013-10-15T05:06:24.677Z","type":"message"}
{"nick":"alexi","message":"And thought maybe you can give me other suggestions","date":"2013-10-15T05:06:38.085Z","type":"message"}
{"nick":"alexi","message":"and it's something obvious","date":"2013-10-15T05:06:43.292Z","type":"message"}
{"nick":"brycebaril","message":"alexi: that would be my first suggestion, but I've not seen or heard of something like that before...","date":"2013-10-15T05:06:57.003Z","type":"message"}
{"nick":"alexi","message":"I created those data file with levelup 0.16 and then updated it to 0.17","date":"2013-10-15T05:07:18.165Z","type":"message"}
{"nick":"brycebaril","message":"oh? Hmmm, I wonder if that is the version that changed the file suffix. rvagg ^^ alexi is dealing with a lost data issue","date":"2013-10-15T05:07:52.424Z","type":"message"}
{"nick":"alexi","message":"I tested it for couple weeks before on my laptop (air/osx) and everything was ok","date":"2013-10-15T05:08:10.493Z","type":"message"}
{"nick":"DTrejo","reason":"Ping timeout: 246 seconds","date":"2013-10-15T05:08:55.961Z","type":"quit"}
{"nick":"alexi","message":"but it's not like files are corrupted or anything","date":"2013-10-15T05:09:01.041Z","type":"message"}
{"nick":"brycebaril","message":"what do you see when you do ls -l in your database folder?","date":"2013-10-15T05:09:04.180Z","type":"message"}
{"nick":"alexi","message":"https://gist.github.com/alexindigo/6986783","date":"2013-10-15T05:09:57.875Z","type":"message"}
{"nick":"rvagg","message":"there was a leveldb upgrade in there I think, from 1.11 to 1.14, but there really shouldn't be any data loss","date":"2013-10-15T05:10:15.876Z","type":"message"}
{"nick":"alexi","message":"btw, I manage two data files within same node process","date":"2013-10-15T05:10:19.412Z","type":"message"}
{"nick":"rvagg","message":"and sync:true is unlikely to actually make much difference","date":"2013-10-15T05:10:24.984Z","type":"message"}
{"nick":"alexi","message":"and it's funny that it ended with some midway state","date":"2013-10-15T05:11:22.974Z","type":"message"}
{"nick":"alexi","message":"I started server clean and added bunch of data and right now just see only first 5%","date":"2013-10-15T05:11:50.718Z","type":"message"}
{"nick":"alexi","message":"not like it was lost completely","date":"2013-10-15T05:12:06.952Z","type":"message"}
{"nick":"alexi","message":"I installed and used 'lev' only after I saw data loss","date":"2013-10-15T05:12:36.677Z","type":"message"}
{"nick":"DTrejo","date":"2013-10-15T05:12:40.507Z","type":"join"}
{"nick":"alexi","message":"btw, it's not sensitive data yet, so I'm fine to send you my files and source code","date":"2013-10-15T05:13:31.303Z","type":"message"}
{"nick":"brycebaril","message":"I take it you didn't see your data in lev?","date":"2013-10-15T05:15:19.751Z","type":"message"}
{"nick":"alexi","message":"I saw same amount of data as I saw it on the web","date":"2013-10-15T05:16:27.186Z","type":"message"}
{"nick":"DTrejo","reason":"Read error: Connection reset by peer","date":"2013-10-15T05:18:32.752Z","type":"quit"}
{"nick":"DTrejo","date":"2013-10-15T05:18:58.405Z","type":"join"}
{"nick":"DTrejo","reason":"Read error: Connection reset by peer","date":"2013-10-15T05:19:20.289Z","type":"quit"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-10-15T05:20:12.096Z","type":"quit"}
{"nick":"brycebaril","message":"alexi: I would try creating a database & populating it with a few hundred records with 0.16, stopping, seeing they are all there, then updating to 0.17 and looking, to see if you can make a simple repro case","date":"2013-10-15T05:20:12.869Z","type":"message"}
{"nick":"alexi","message":"I'll try, thanx","date":"2013-10-15T05:20:43.455Z","type":"message"}
{"nick":"esundahl","reason":"Remote host closed the connection","date":"2013-10-15T05:22:29.663Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T05:41:08.558Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 240 seconds","date":"2013-10-15T05:45:28.277Z","type":"quit"}
{"nick":"thlorenz_","date":"2013-10-15T05:51:07.794Z","type":"join"}
{"nick":"esundahl","date":"2013-10-15T05:53:32.334Z","type":"join"}
{"nick":"thlorenz_","reason":"Ping timeout: 240 seconds","date":"2013-10-15T05:55:26.539Z","type":"quit"}
{"nick":"esundahl","reason":"Ping timeout: 240 seconds","date":"2013-10-15T06:01:50.539Z","type":"quit"}
{"nick":"timoxley","date":"2013-10-15T06:10:29.478Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-15T06:23:28.485Z","type":"quit"}
{"nick":"esundahl","date":"2013-10-15T06:28:22.682Z","type":"join"}
{"nick":"esundahl","reason":"Ping timeout: 260 seconds","date":"2013-10-15T06:33:15.931Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T06:51:32.404Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-10-15T06:55:50.123Z","type":"quit"}
{"nick":"jcrugzz","reason":"Ping timeout: 246 seconds","date":"2013-10-15T06:57:46.941Z","type":"quit"}
{"nick":"alexi","message":"brycebaril: Suggested test fail, means data was written with no issues.","date":"2013-10-15T07:06:35.178Z","type":"message"}
{"nick":"alexi","message":"brycebaril: But I was able to reproduce data loss on my laptop","date":"2013-10-15T07:07:01.260Z","type":"message"}
{"nick":"alexi","message":"brycebaril: I write some data from web interface, I get confirmation after db.put pull callback executed with no err.","date":"2013-10-15T07:07:59.674Z","type":"message"}
{"nick":"alexi","message":"brycebaril: then I stop my server, start server again and last added record is not there.","date":"2013-10-15T07:08:39.903Z","type":"message"}
{"nick":"alexi","message":"brycebaril: server starts and connects to the db, with no errors","date":"2013-10-15T07:08:56.347Z","type":"message"}
{"nick":"alexi","message":"brycebaril: but when I tried to connect to it with lev, it fail with \"corruption message\"","date":"2013-10-15T07:09:42.136Z","type":"message"}
{"nick":"alexi","message":"brycebaril: https://gist.github.com/alexindigo/6986783","date":"2013-10-15T07:10:37.921Z","type":"message"}
{"nick":"jcrugzz","date":"2013-10-15T07:27:23.052Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 260 seconds","date":"2013-10-15T07:32:59.884Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T07:51:53.803Z","type":"join"}
{"nick":"eugeneware","new_nick":"zz_eugeneware","date":"2013-10-15T07:52:08.102Z","type":"nick"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-15T07:56:14.543Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T08:25:09.381Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-10-15T08:30:25.152Z","type":"quit"}
{"nick":"rvagg","message":"alexi, hij1nx: lev needs to be updated to 0.17+ to get the latest leveldb, it's not going to be able to read .ldb files and will be looking for .sst files only, perhaps you can put in a PR for it?","date":"2013-10-15T08:51:44.313Z","type":"message"}
{"nick":"rvagg","message":"that'll be what those errors are about from lev","date":"2013-10-15T08:51:54.413Z","type":"message"}
{"nick":"rvagg","message":"not actual corruption","date":"2013-10-15T08:52:04.645Z","type":"message"}
{"nick":"alexi","message":"rvagg: I see, thanx","date":"2013-10-15T08:52:28.413Z","type":"message"}
{"nick":"alexi","message":"Any ideas, why data can be missing?","date":"2013-10-15T08:52:43.286Z","type":"message"}
{"nick":"rvagg","message":"so I'd suggest you're most likely to have an issue somewhere in your program that's letting the callback bubble back up before it's actually coming out of levelup","date":"2013-10-15T08:52:45.516Z","type":"message"}
{"nick":"rvagg","message":"perhaps you could log the data that's written as it comes directly out of levelup, just to see exactly what's going on","date":"2013-10-15T08:53:10.299Z","type":"message"}
{"nick":"alexi","message":"You mean like read stream that will output new stuff?","date":"2013-10-15T08:56:09.373Z","type":"message"}
{"nick":"alexi","message":"Btw, this the code that is saving to db","date":"2013-10-15T08:56:19.573Z","type":"message"}
{"nick":"alexi","message":"https://gist.github.com/alexindigo/6988693","date":"2013-10-15T08:56:20.516Z","type":"message"}
{"nick":"alexi","message":"I think I'll have local data only if callback has no errors","date":"2013-10-15T08:57:12.711Z","type":"message"}
{"nick":"rvagg","message":"hm, and what exactly is _db? is it a plain levelup instance or is it modified with extensions?","date":"2013-10-15T08:57:39.144Z","type":"message"}
{"nick":"alexi","message":"level package, I updated gist with _db code","date":"2013-10-15T09:01:37.893Z","type":"message"}
{"nick":"alexi","message":"this one, will be much easier – https://github.com/alexindigo/shiro/blob/master/lib/chat.js#L47","date":"2013-10-15T09:02:58.197Z","type":"message"}
{"nick":"alexi","message":"I started to recall, last year, I had similar problem with levelup and I bugged you about it. And problem was I didn't close connection when I switched from one db to another, or something like that.","date":"2013-10-15T09:04:25.807Z","type":"message"}
{"nick":"alexi","message":"But then you updated levelup so it won't be a problem, I believe","date":"2013-10-15T09:04:54.415Z","type":"message"}
{"nick":"alexi","message":"Oh","date":"2013-10-15T09:09:35.363Z","type":"message"}
{"nick":"alexi","message":"So 0.17 writes and reads from .ldb files and 0.16 from .sst files","date":"2013-10-15T09:09:58.792Z","type":"message"}
{"nick":"alexi","message":"and there is probably index that points to data files","date":"2013-10-15T09:10:16.574Z","type":"message"}
{"nick":"alexi","message":"and since it was created in 0.16 it points to .sst files which have only old data","date":"2013-10-15T09:10:38.675Z","type":"message"}
{"nick":"alexi","message":"does it sound about right?","date":"2013-10-15T09:10:48.758Z","type":"message"}
{"nick":"rvagg","message":"so, 0.17 (leveldb 1.14) should be ok with both .sst from old versions and .ldb from new","date":"2013-10-15T09:25:31.489Z","type":"message"}
{"nick":"rvagg","message":"there shouldn't be an issue with it reading old directories, you'll just start to get a conversion from .sst to .ldb over time","date":"2013-10-15T09:25:52.648Z","type":"message"}
{"nick":"rvagg","message":"if that worries you at all you could switch out to level-hyper which still uses .sst but is at 0.17 and will generally perform better anyway","date":"2013-10-15T09:26:26.264Z","type":"message"}
{"nick":"rvagg","message":"at some point rescrv will catch up and switch to .ldb as well I imagine","date":"2013-10-15T09:26:48.628Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-15T09:27:36.541Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-10-15T09:32:05.191Z","type":"quit"}
{"nick":"wolfeida_","date":"2013-10-15T09:32:50.749Z","type":"join"}
{"nick":"alexi","message":"Not really worried :) I'm trying to understand where my data go :)","date":"2013-10-15T09:34:07.422Z","type":"message"}
{"nick":"rvagg","message":"yeah, that's an odd problem","date":"2013-10-15T09:35:55.678Z","type":"message"}
{"nick":"rvagg","message":"still.. how about you stick a console.log in the callback whenever save() finishes just so you can actually SEE it on the server side going in","date":"2013-10-15T09:36:14.023Z","type":"message"}
{"nick":"rvagg","message":"if the stuff you see on the console doesn't end up sticking around in the db then that's a worry","date":"2013-10-15T09:36:27.405Z","type":"message"}
{"nick":"rvagg","message":"unless you have something else messing with it, like level-ttl","date":"2013-10-15T09:36:35.606Z","type":"message"}
{"nick":"alexi","message":"Sure thing, and just to clarify it is ok to connect to two leveldb files from the same node process, right?","date":"2013-10-15T09:37:25.330Z","type":"message"}
{"nick":"rvagg","message":"yep, as many as you think is sensible","date":"2013-10-15T09:37:37.840Z","type":"message"}
{"nick":"rvagg","message":"keeping in mind that there is memory to be managed","date":"2013-10-15T09:37:49.229Z","type":"message"}
{"nick":"rvagg","message":"alexi: http://r.va.gg/2013/10/should-i-use-a-single-leveldb-or-many-to-hold-my-data.html","date":"2013-10-15T09:37:54.679Z","type":"message"}
{"nick":"rvagg","message":"but as far as the internals go, there is no overlap in any of the level* packages that prevent multiple leveldb instances in the same process","date":"2013-10-15T09:38:30.848Z","type":"message"}
{"nick":"wolfeidau","reason":"Read error: Connection reset by peer","date":"2013-10-15T09:38:34.218Z","type":"quit"}
{"nick":"levelbot","reason":"Ping timeout: 272 seconds","date":"2013-10-15T09:38:34.218Z","type":"quit"}
{"nick":"rvagg","message":"they are kept separate","date":"2013-10-15T09:38:35.957Z","type":"message"}
{"nick":"alexi","message":"It's funny that the main reason I wanted to split into two files, that i have data I really care about and which is updated not as often (game state) and data which I don't really care about and updated much more often (game chat) :)","date":"2013-10-15T09:39:16.268Z","type":"message"}
{"nick":"rvagg","message":"mmm, you may also find that you can extend levelup in different ways for both of those types of data","date":"2013-10-15T09:41:35.219Z","type":"message"}
{"nick":"rvagg","message":"and then you can use different replication mechanisms if it comes to that too","date":"2013-10-15T09:41:52.670Z","type":"message"}
{"nick":"rvagg","message":".. or you could be using sublevel to achieve a similar result","date":"2013-10-15T09:42:02.702Z","type":"message"}
{"nick":"alexi","message":"I mean, for me it's file corruption possibility :) so I wanted separate files","date":"2013-10-15T09:42:25.406Z","type":"message"}
{"nick":"alexi","message":"so I added console.log","date":"2013-10-15T09:42:31.704Z","type":"message"}
{"nick":"ralphtheninja","date":"2013-10-15T09:42:44.966Z","type":"join"}
{"nick":"alexi","message":"and I see stuff in the console and after I restart node process data is gone","date":"2013-10-15T09:42:55.271Z","type":"message"}
{"nick":"alexi","message":"my new save function https://gist.github.com/alexindigo/6989182","date":"2013-10-15T09:43:30.636Z","type":"message"}
{"nick":"alexi","message":"updated gist with console.log output","date":"2013-10-15T09:44:41.252Z","type":"message"}
{"nick":"rvagg","message":"ok, and it's not possible that `options.storage` is changing between restarts?","date":"2013-10-15T09:49:16.285Z","type":"message"}
{"nick":"rvagg","message":"and you're sure you don't have a filesystem that is temporary or non-persistent somehow?","date":"2013-10-15T09:49:44.538Z","type":"message"}
{"nick":"rvagg","message":"AND, lastly, double-check that you only have one Node process running this; not that it should allow multiple processes to access the dir","date":"2013-10-15T09:50:12.900Z","type":"message"}
{"nick":"alexi","message":"options.storage is hard coded: new Chat({env: envar, storage: path.join(dataPath, 'chat.db')});","date":"2013-10-15T09:51:01.593Z","type":"message"}
{"nick":"alexi","message":"filesystem is standard osx","date":"2013-10-15T09:51:56.963Z","type":"message"}
{"nick":"alexi","message":"just single node process","date":"2013-10-15T09:52:16.971Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-15T09:52:47.082Z","type":"join"}
{"nick":"alexi","message":"I don't do explicit close() on exit though","date":"2013-10-15T09:52:54.713Z","type":"message"}
{"nick":"rvagg","message":"that shouldn't matter..","date":"2013-10-15T09:53:12.549Z","type":"message"}
{"nick":"alexi","message":"is there some kind of debug flag, I can turn on to see what's it's actually writing?","date":"2013-10-15T09:54:59.349Z","type":"message"}
{"nick":"rvagg","message":"not really","date":"2013-10-15T09:56:51.728Z","type":"message"}
{"nick":"thlorenz","reason":"Ping timeout: 260 seconds","date":"2013-10-15T09:57:11.850Z","type":"quit"}
{"nick":"alexi","message":"This is tar archive of the db, if you're interested – http://ia.gs/RwBg","date":"2013-10-15T10:03:35.444Z","type":"message"}
{"nick":"alexi","message":"And I'm off for today it's 3am :) Thank you for helping me","date":"2013-10-15T10:06:08.269Z","type":"message"}
{"nick":"rvagg","message":"alexi: before you go","date":"2013-10-15T10:07:25.018Z","type":"message"}
{"nick":"alexi","message":"yep","date":"2013-10-15T10:07:30.385Z","type":"message"}
{"nick":"rvagg","message":"this db, what's something in there that you expect to be there but is not?","date":"2013-10-15T10:07:38.267Z","type":"message"}
{"nick":"rvagg","message":"I'm poking around with lev now","date":"2013-10-15T10:07:43.350Z","type":"message"}
{"nick":"rvagg","message":"plenty of messages","date":"2013-10-15T10:07:50.749Z","type":"message"}
{"nick":"alexi","message":"I'm adding new messages like the one in this gist – https://gist.github.com/alexindigo/6989182","date":"2013-10-15T10:08:22.644Z","type":"message"}
{"nick":"alexi","message":"but when I restart node it's not there","date":"2013-10-15T10:08:39.004Z","type":"message"}
{"nick":"alexi","message":"oh another idea","date":"2013-10-15T10:08:55.033Z","type":"message"}
{"nick":"alexi","message":"db clearly thinks data is there – https://gist.github.com/alexindigo/6989450","date":"2013-10-15T10:11:47.750Z","type":"message"}
{"nick":"rvagg","message":"there's plenty of messages in there","date":"2013-10-15T10:13:56.207Z","type":"message"}
{"nick":"rvagg","message":"is there a chance that you're not referencing the keys that you expect","date":"2013-10-15T10:14:06.141Z","type":"message"}
{"nick":"rvagg","message":"so, to inspect it yourself for now, you can go in to chat.db and rename all .ldb to .sst and use lev","date":"2013-10-15T10:14:48.662Z","type":"message"}
{"nick":"rvagg","message":"that's what I'm doing","date":"2013-10-15T10:14:52.283Z","type":"message"}
{"nick":"alexi","message":"1 sec","date":"2013-10-15T10:15:04.058Z","type":"message"}
{"nick":"rvagg","message":"alternatively you could go in to lev and force an upgrade to levelup 0.17, it should still work","date":"2013-10-15T10:15:06.394Z","type":"message"}
{"nick":"alexi","message":"You're right, I feel bad. Lev sees data there, Let me try run the whole thing with renamed files","date":"2013-10-15T10:18:18.830Z","type":"message"}
{"nick":"alexi","message":"Ok, with chat messages I do truncate results, but I saw same problem with game answers on linux box where I don't truncate and lev showed only small chunk of data I saw on the page.","date":"2013-10-15T10:20:49.097Z","type":"message"}
{"nick":"alexi","message":"I'll come back when I have something reproducable","date":"2013-10-15T10:21:02.882Z","type":"message"}
{"nick":"alexi","message":"thanx again","date":"2013-10-15T10:21:08.597Z","type":"message"}
{"nick":"thlorenz","date":"2013-10-15T10:28:12.524Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 272 seconds","date":"2013-10-15T10:32:51.727Z","type":"quit"}
{"nick":"zz_eugeneware","new_nick":"eugeneware","date":"2013-10-15T10:44:16.843Z","type":"nick"}
{"nick":"thlorenz","date":"2013-10-15T10:53:10.992Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 272 seconds","date":"2013-10-15T10:58:11.740Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T11:11:42.806Z","type":"join"}
{"nick":"insertcoffee","date":"2013-10-15T11:14:57.460Z","type":"join"}
{"nick":"wolfeida_","new_nick":"wolfeidau","date":"2013-10-15T11:23:58.784Z","type":"nick"}
{"nick":"fallsemo","reason":"Ping timeout: 240 seconds","date":"2013-10-15T11:28:15.695Z","type":"quit"}
{"nick":"Acconut","date":"2013-10-15T11:51:25.237Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-15T11:53:34.991Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 272 seconds","date":"2013-10-15T11:58:21.727Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T12:00:11.159Z","type":"join"}
{"nick":"fallsemo","reason":"Ping timeout: 268 seconds","date":"2013-10-15T12:05:17.157Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T12:08:19.196Z","type":"join"}
{"nick":"rescrv","message":"rvagg: I don't know that I'll be adding *.ldb.  I think sst is a better extension, and think it's silly to work around a Windows problem.","date":"2013-10-15T12:17:00.194Z","type":"message"}
{"nick":"Acconut","reason":"Quit: Acconut","date":"2013-10-15T12:17:13.882Z","type":"quit"}
{"nick":"rvagg","message":"rescrv: I agree, can you add logic to at least take them into account so that stores created with google's leveldb can be read by yours?","date":"2013-10-15T12:25:08.857Z","type":"message"}
{"nick":"fallsemo","reason":"Ping timeout: 240 seconds","date":"2013-10-15T12:30:14.539Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T12:53:57.363Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 245 seconds","date":"2013-10-15T12:58:20.151Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T13:00:18.700Z","type":"join"}
{"nick":"fallsemo","reason":"Ping timeout: 246 seconds","date":"2013-10-15T13:04:56.010Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T13:14:52.064Z","type":"join"}
{"nick":"eugeneware","new_nick":"zz_eugeneware","date":"2013-10-15T13:16:05.872Z","type":"nick"}
{"nick":"fallsemo","reason":"Client Quit","date":"2013-10-15T13:16:50.062Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T13:16:53.404Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-10-15T13:29:31.541Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T13:30:07.409Z","type":"join"}
{"nick":"thlorenz_","date":"2013-10-15T13:37:40.957Z","type":"join"}
{"nick":"thlorenz_","reason":"Remote host closed the connection","date":"2013-10-15T13:40:25.020Z","type":"quit"}
{"nick":"thloren__","date":"2013-10-15T13:41:34.065Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 272 seconds","date":"2013-10-15T13:41:57.190Z","type":"quit"}
{"nick":"fallsemo","date":"2013-10-15T13:44:11.524Z","type":"join"}
{"nick":"tmcw","date":"2013-10-15T13:54:18.991Z","type":"join"}
{"nick":"thloren__","reason":"Remote host closed the connection","date":"2013-10-15T14:00:13.617Z","type":"quit"}
{"nick":"rescrv","message":"rvagg: I may have to do that.  I don't want to though.  The whole point of not adding the dual-casing is to improve robustness by not having state blow-up for all the different possibilities.","date":"2013-10-15T14:01:16.254Z","type":"message"}
{"nick":"rescrv","message":"they've already had two bugs upstream from it","date":"2013-10-15T14:10:39.943Z","type":"message"}
{"nick":"dguttman","date":"2013-10-15T14:17:55.262Z","type":"join"}
{"nick":"levelbot","date":"2013-10-15T14:18:55.761Z","type":"join"}
{"nick":"levelbot","message":"[npm] lev@1.2.0-1 <http://npm.im/lev>: commandline and REPL access for leveldb (@hij1nx, @juliangruber)","date":"2013-10-15T14:18:55.973Z","type":"message"}
{"nick":"jjmalina","date":"2013-10-15T14:29:01.089Z","type":"join"}
{"nick":"jmartins","date":"2013-10-15T14:31:34.559Z","type":"join"}
{"nick":"esundahl","date":"2013-10-15T14:39:53.376Z","type":"join"}
{"nick":"marshalium","date":"2013-10-15T14:41:32.155Z","type":"join"}
{"nick":"marshalium","date":"2013-10-15T14:42:08.026Z","type":"part"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-10-15T14:44:27.852Z","type":"quit"}
{"nick":"kenansulayman","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-10-15T14:45:26.203Z","type":"quit"}
{"nick":"thlorenz","date":"2013-10-15T14:54:51.440Z","type":"join"}
{"nick":"thlorenz","reason":"Ping timeout: 240 seconds","date":"2013-10-15T14:59:02.049Z","type":"quit"}
{"nick":"jmartins","reason":"Ping timeout: 264 seconds","date":"2013-10-15T15:04:26.898Z","type":"quit"}
{"nick":"mikeal","date":"2013-10-15T15:06:18.297Z","type":"join"}
{"nick":"jerrysv","date":"2013-10-15T15:08:56.377Z","type":"join"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-10-15T15:23:13.324Z","type":"quit"}
{"nick":"ednapiranha","date":"2013-10-15T15:31:13.959Z","type":"join"}
{"nick":"alexi","reason":"Remote host closed the connection","date":"2013-10-15T15:39:16.717Z","type":"quit"}
{"nick":"jmartins","date":"2013-10-15T15:47:25.182Z","type":"join"}
{"nick":"thlorenz","date":"2013-10-15T15:55:11.341Z","type":"join"}

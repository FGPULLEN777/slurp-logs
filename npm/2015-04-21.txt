{"nick":"ircretary","reason":"Remote host closed the connection","date":"2015-04-21T00:00:00.778Z","type":"quit"}
{"nick":"ircretary","date":"2015-04-21T00:00:09.999Z","type":"join"}
{"nick":"mezod","reason":"Remote host closed the connection","date":"2015-04-21T00:02:54.054Z","type":"quit"}
{"nick":"mcqueeno_","reason":"Remote host closed the connection","date":"2015-04-21T00:03:00.576Z","type":"quit"}
{"nick":"redonkulus1","reason":"Quit: Leaving.","date":"2015-04-21T00:12:27.894Z","type":"quit"}
{"nick":"williamcotton","reason":"Ping timeout: 255 seconds","date":"2015-04-21T00:12:43.418Z","type":"quit"}
{"nick":"yoshuawuyts","date":"2015-04-21T00:16:22.143Z","type":"join"}
{"nick":"evanjs","reason":"Remote host closed the connection","date":"2015-04-21T00:25:57.787Z","type":"quit"}
{"nick":"evanjs","date":"2015-04-21T00:37:25.465Z","type":"join"}
{"nick":"gozala","date":"2015-04-21T00:38:48.391Z","type":"quit"}
{"nick":"evanjs","reason":"Remote host closed the connection","date":"2015-04-21T00:39:21.648Z","type":"quit"}
{"nick":"evanjs","date":"2015-04-21T00:50:58.479Z","type":"join"}
{"nick":"wpiers","date":"2015-04-21T00:53:34.464Z","type":"join"}
{"nick":"evanjs","reason":"Remote host closed the connection","date":"2015-04-21T00:53:55.519Z","type":"quit"}
{"nick":"alexandergugel","reason":"Remote host closed the connection","date":"2015-04-21T00:57:41.155Z","type":"quit"}
{"nick":"smikes","message":"PR #8018 that fixes #8008 is finished -- added unit test (which fails if fix is not applied, succeeds if applied)","date":"2015-04-21T01:00:18.846Z","type":"message"}
{"nick":"sboudrias_","reason":"Ping timeout: 256 seconds","date":"2015-04-21T01:07:21.248Z","type":"quit"}
{"nick":"valentinmu","reason":"Ping timeout: 245 seconds","date":"2015-04-21T01:10:14.632Z","type":"quit"}
{"nick":"danielmahon","date":"2015-04-21T01:30:12.418Z","type":"join"}
{"nick":"alexandergugel","date":"2015-04-21T01:34:07.709Z","type":"join"}
{"nick":"alexandergugel","reason":"Remote host closed the connection","date":"2015-04-21T01:34:07.964Z","type":"quit"}
{"nick":"alexandergugel","date":"2015-04-21T01:34:14.503Z","type":"join"}
{"nick":"leichtgewicht","date":"2015-04-21T01:39:35.523Z","type":"join"}
{"nick":"akenn","reason":"Quit: My Mac has gone to sleep. ZZZzzzâ€¦","date":"2015-04-21T01:39:56.841Z","type":"quit"}
{"nick":"rmg","reason":"Remote host closed the connection","date":"2015-04-21T01:40:37.281Z","type":"quit"}
{"nick":"rmg","date":"2015-04-21T01:41:16.658Z","type":"join"}
{"nick":"rossk","date":"2015-04-21T01:41:40.131Z","type":"quit"}
{"nick":"nobso","reason":"Ping timeout: 256 seconds","date":"2015-04-21T01:42:54.230Z","type":"quit"}
{"nick":"marlun","reason":"Ping timeout: 272 seconds","date":"2015-04-21T01:45:54.254Z","type":"quit"}
{"nick":"rmg","reason":"Ping timeout: 250 seconds","date":"2015-04-21T01:46:03.347Z","type":"quit"}
{"nick":"marlun","date":"2015-04-21T01:48:29.838Z","type":"join"}
{"nick":"marlun","reason":"Changing host","date":"2015-04-21T01:48:38.059Z","type":"quit"}
{"nick":"marlun","date":"2015-04-21T01:48:38.218Z","type":"join"}
{"nick":"qard_","date":"2015-04-21T01:53:45.442Z","type":"join"}
{"nick":"Fishrock123","date":"2015-04-21T01:57:34.232Z","type":"join"}
{"nick":"qard_","reason":"Ping timeout: 244 seconds","date":"2015-04-21T02:06:32.289Z","type":"quit"}
{"nick":"qard_","date":"2015-04-21T02:07:13.856Z","type":"join"}
{"nick":"dbclk","reason":"Ping timeout: 244 seconds","date":"2015-04-21T02:16:21.324Z","type":"quit"}
{"nick":"danecando","date":"2015-04-21T02:40:31.593Z","type":"join"}
{"nick":"Fishrock123","reason":"Quit: Leaving...","date":"2015-04-21T02:45:31.444Z","type":"quit"}
{"nick":"nobso","date":"2015-04-21T03:18:31.855Z","type":"join"}
{"nick":"alexandergugel","reason":"Remote host closed the connection","date":"2015-04-21T03:28:41.335Z","type":"quit"}
{"nick":"alexandergugel","date":"2015-04-21T03:30:19.879Z","type":"join"}
{"nick":"mich-cook","reason":"Ping timeout: 272 seconds","date":"2015-04-21T03:33:34.222Z","type":"quit"}
{"nick":"prbc","date":"2015-04-21T03:37:51.581Z","type":"join"}
{"nick":"yoshuawuyts","reason":"Ping timeout: 264 seconds","date":"2015-04-21T03:39:59.621Z","type":"quit"}
{"nick":"rmg","date":"2015-04-21T03:42:15.095Z","type":"join"}
{"nick":"danielmahon","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2015-04-21T03:45:39.543Z","type":"quit"}
{"nick":"rmg","reason":"Ping timeout: 246 seconds","date":"2015-04-21T03:47:14.873Z","type":"quit"}
{"nick":"knownasilya","reason":"Quit: Connection closed for inactivity","date":"2015-04-21T03:51:43.793Z","type":"quit"}
{"nick":"alexande_","date":"2015-04-21T03:59:54.319Z","type":"join"}
{"nick":"prbc","reason":"Remote host closed the connection","date":"2015-04-21T04:01:12.697Z","type":"quit"}
{"nick":"alexandergugel","reason":"Ping timeout: 256 seconds","date":"2015-04-21T04:03:01.847Z","type":"quit"}
{"nick":"wpiers","reason":"Remote host closed the connection","date":"2015-04-21T04:14:48.093Z","type":"quit"}
{"nick":"danecando","reason":"Quit: Computer has gone to sleep.","date":"2015-04-21T04:22:18.099Z","type":"quit"}
{"nick":"mhilmi","date":"2015-04-21T04:24:10.028Z","type":"join"}
{"nick":"williamcotton","date":"2015-04-21T04:24:34.048Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2015-04-21T04:45:30.639Z","type":"quit"}
{"nick":"yoshuawuyts","date":"2015-04-21T04:54:18.820Z","type":"join"}
{"nick":"alexande_","reason":"Remote host closed the connection","date":"2015-04-21T04:54:31.302Z","type":"quit"}
{"nick":"mcqueenorama","date":"2015-04-21T04:55:54.510Z","type":"join"}
{"nick":"alexandergugel","date":"2015-04-21T04:56:08.368Z","type":"join"}
{"nick":"mcqueenorama","reason":"Remote host closed the connection","date":"2015-04-21T05:10:22.535Z","type":"quit"}
{"nick":"dbclk","date":"2015-04-21T05:14:06.454Z","type":"join"}
{"nick":"mcqueenorama","date":"2015-04-21T05:14:07.818Z","type":"join"}
{"nick":"alexandergugel","reason":"Remote host closed the connection","date":"2015-04-21T05:15:19.038Z","type":"quit"}
{"nick":"dbclk","reason":"Ping timeout: 240 seconds","date":"2015-04-21T05:18:16.311Z","type":"quit"}
{"nick":"alexandergugel","date":"2015-04-21T05:18:58.219Z","type":"join"}
{"nick":"mcqueenorama","reason":"Ping timeout: 256 seconds","date":"2015-04-21T05:19:31.687Z","type":"quit"}
{"nick":"leichtgewicht","reason":"Remote host closed the connection","date":"2015-04-21T05:33:49.137Z","type":"quit"}
{"nick":"rprieto","date":"2015-04-21T05:42:21.188Z","type":"join"}
{"nick":"alexande_","date":"2015-04-21T05:45:37.431Z","type":"join"}
{"nick":"alexandergugel","reason":"Ping timeout: 265 seconds","date":"2015-04-21T05:48:29.050Z","type":"quit"}
{"nick":"David_Hernandez","date":"2015-04-21T05:52:35.877Z","type":"join"}
{"nick":"rprieto","reason":"Remote host closed the connection","date":"2015-04-21T05:54:39.129Z","type":"quit"}
{"nick":"alexande_","reason":"Remote host closed the connection","date":"2015-04-21T06:02:41.265Z","type":"quit"}
{"nick":"lpin","date":"2015-04-21T06:04:23.467Z","type":"join"}
{"nick":"lpin","reason":"Ping timeout: 244 seconds","date":"2015-04-21T06:08:51.263Z","type":"quit"}
{"nick":"alexandergugel","date":"2015-04-21T06:14:55.683Z","type":"join"}
{"nick":"ashishk","date":"2015-04-21T06:25:54.500Z","type":"join"}
{"nick":"mhilmi","reason":"Quit: Connection closed for inactivity","date":"2015-04-21T06:26:11.175Z","type":"quit"}
{"nick":"thefourtheye","date":"2015-04-21T06:40:49.965Z","type":"join"}
{"nick":"leichtgewicht","date":"2015-04-21T06:41:04.873Z","type":"join"}
{"nick":"alexandergugel","reason":"Remote host closed the connection","date":"2015-04-21T06:43:13.646Z","type":"quit"}
{"nick":"lpin","date":"2015-04-21T06:44:06.531Z","type":"join"}
{"nick":"alexandergugel","date":"2015-04-21T06:44:33.981Z","type":"join"}
{"nick":"thefourtheye","message":"What is `Obey --link, that is, create symlinks to globals for top level and arg level deps` in https://github.com/npm/npm/issues/6932?","date":"2015-04-21T06:45:01.748Z","type":"message"}
{"nick":"othiym23","message":"thefourtheye: ensuring that `npm install --link` works the same way in npm 3 as it does in npm 2","date":"2015-04-21T06:47:12.379Z","type":"message"}
{"nick":"thefourtheye","message":"Is that testing task?","date":"2015-04-21T06:48:38.850Z","type":"message"}
{"nick":"thefourtheye","message":"I just saw your tweets and trying to see if I can contribute","date":"2015-04-21T06:49:50.848Z","type":"message"}
{"nick":"othiym23","message":"I think that particular one is iarna's current project","date":"2015-04-21T06:50:47.174Z","type":"message"}
{"nick":"othiym23","message":"I'm working on getting `node test/run.js` working, so we can see where the whole npm test suite is at","date":"2015-04-21T06:51:16.138Z","type":"message"}
{"nick":"mcqueenorama","date":"2015-04-21T06:51:22.264Z","type":"join"}
{"nick":"othiym23","message":"that's a pretty weird legacy corner of npm, but if you want to poke at it, and can figure out what it's deal is, I'd love the assistance","date":"2015-04-21T06:51:40.343Z","type":"message"}
{"nick":"thefourtheye","message":"Cool. I ll setup the environment.","date":"2015-04-21T06:52:01.746Z","type":"message"}
{"nick":"othiym23","message":"thefourtheye: all you should have to do is `git clone https://github.com/npm/npm.git && cd npm && npm install && npm run test-all` to get started","date":"2015-04-21T06:53:27.485Z","type":"message"}
{"nick":"othiym23","message":"assuming you're on a unixy system","date":"2015-04-21T06:53:31.855Z","type":"message"}
{"nick":"thefourtheye","message":"Yup, I am using Ubuntu and I have started the clone.","date":"2015-04-21T06:53:58.549Z","type":"message"}
{"nick":"othiym23","message":"I'll need to spend some quality time with multi-stage on Windows","date":"2015-04-21T06:54:18.227Z","type":"message"}
{"nick":"othiym23","message":"(oh right, you'll need to run `git checkout multi-stage`, of course)","date":"2015-04-21T06:54:49.038Z","type":"message"}
{"nick":"jpuellma","reason":"Quit: Connection closed for inactivity","date":"2015-04-21T06:55:08.926Z","type":"quit"}
{"nick":"thefourtheye","message":"What is multi-stage? I am totally new to this actually. Sorry :(","date":"2015-04-21T06:55:12.430Z","type":"message"}
{"nick":"thefourtheye","message":"stage = testing environment?","date":"2015-04-21T06:55:29.933Z","type":"message"}
{"nick":"thefourtheye","message":"stage == testing environment?","date":"2015-04-21T06:55:35.470Z","type":"message"}
{"nick":"othiym23","message":"it's the git branch where all of the npm@3 work is taking place, sorry","date":"2015-04-21T06:58:00.039Z","type":"message"}
{"nick":"othiym23","message":"should have been clearer about that","date":"2015-04-21T06:58:05.218Z","type":"message"}
{"nick":"mcqueenorama","reason":"Remote host closed the connection","date":"2015-04-21T06:58:26.662Z","type":"quit"}
{"nick":"othiym23","message":"the npm tests are mostly free of environmental dependencies","date":"2015-04-21T06:58:28.996Z","type":"message"}
{"nick":"othiym23","message":"they'll run a set of CouchDB registry tests if couch is available, but that's about it","date":"2015-04-21T06:58:56.306Z","type":"message"}
{"nick":"mcqueenorama","date":"2015-04-21T06:59:05.601Z","type":"join"}
{"nick":"thefourtheye","message":"Okay, shall I install CouchDB?","date":"2015-04-21T06:59:41.226Z","type":"message"}
{"nick":"thefourtheye","message":"Oh, CouchDB is written in Erlang...","date":"2015-04-21T07:00:44.173Z","type":"message"}
{"nick":"sebhoss","date":"2015-04-21T07:01:10.433Z","type":"join"}
{"nick":"othiym23","message":"thefourtheye: there's a PPA for CouchDB maintained by the same person who put together the PPA for nodejs for Ubuntu, which makes it a pretty painless install, but if that seems like a hassle, or like it'll take up a lot of space on your box, don't worry about it","date":"2015-04-21T07:06:44.677Z","type":"message"}
{"nick":"jonasliljestrand","date":"2015-04-21T07:08:22.574Z","type":"join"}
{"nick":"williamcotton","reason":"Ping timeout: 276 seconds","date":"2015-04-21T07:09:51.044Z","type":"quit"}
{"nick":"thefourtheye","message":"othiym23, Oh its okay. I installed it :-)","date":"2015-04-21T07:10:30.297Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2015-04-21T07:11:06.382Z","type":"quit"}
{"nick":"thefourtheye","message":"and run test-all failed with \"Error: failed node \"/home/thefourtheye/git/npm/bin/npm-cli.js\" install \"/home/thefourtheye/git/npm\"\" Checking if it has something to do with my machine","date":"2015-04-21T07:11:47.274Z","type":"message"}
{"nick":"dbclk","date":"2015-04-21T07:12:24.453Z","type":"join"}
{"nick":"othiym23","message":"thefourtheye: that's exactly the problem I'm trying to solve :>","date":"2015-04-21T07:13:42.103Z","type":"message"}
{"nick":"othiym23","message":"thefourtheye: a more direct way to get that same error is to run `node test/run.js`","date":"2015-04-21T07:14:01.109Z","type":"message"}
{"nick":"othiym23","message":"it's probably something pretty basic, because the first thing that that script does is try to use the current npm install to install itself into a temporary directory","date":"2015-04-21T07:14:32.855Z","type":"message"}
{"nick":"thefourtheye","message":"Oh, is it supposed to install itself?","date":"2015-04-21T07:15:36.218Z","type":"message"}
{"nick":"othiym23","message":"that's what that test does","date":"2015-04-21T07:16:44.399Z","type":"message"}
{"nick":"othiym23","message":"there are two test runners in the npm code","date":"2015-04-21T07:17:03.395Z","type":"message"}
{"nick":"Hounddog","date":"2015-04-21T07:17:14.107Z","type":"join"}
{"nick":"othiym23","message":"test/run.js is the legacy test-runner, and it has npm install itself, followed by installing a bunch of example packages that test various edge cases inside npm","date":"2015-04-21T07:17:32.643Z","type":"message"}
{"nick":"othiym23","message":"there are also a set of tap tests in test/tap, that are the core test suite, where all new tests get written","date":"2015-04-21T07:18:00.667Z","type":"message"}
{"nick":"othiym23","message":"if you look at package.json, in the scripts section, you can see how `npm run test` just runs the tap files, and `npm run test-all` runs both the legacy and the tap tests","date":"2015-04-21T07:18:35.165Z","type":"message"}
{"nick":"thefourtheye","message":"Yes,  so our legacy test is failing now.","date":"2015-04-21T07:19:50.708Z","type":"message"}
{"nick":"thefourtheye","message":"Oh wait, my machine is using iojs installation for unknown reasons","date":"2015-04-21T07:21:09.452Z","type":"message"}
{"nick":"thefourtheye","message":"But that should not matter I guess","date":"2015-04-21T07:21:30.570Z","type":"message"}
{"nick":"yoshuawuyts","reason":"Ping timeout: 265 seconds","date":"2015-04-21T07:22:44.084Z","type":"quit"}
{"nick":"othiym23","message":"no, I run io.js myself (as well as 0.10, 0.12, and 0.8, depending on what I'm testing)","date":"2015-04-21T07:23:00.222Z","type":"message"}
{"nick":"intellix","date":"2015-04-21T07:23:31.751Z","type":"join"}
{"nick":"thefourtheye","message":"As per logs, there is an `lstat` call which is failing","date":"2015-04-21T07:24:34.310Z","type":"message"}
{"nick":"othiym23","message":"that probably means there's a race condition, where the installer is expecting a directory to already exist that hasn't been created yet","date":"2015-04-21T07:28:14.190Z","type":"message"}
{"nick":"othiym23","message":"if you look above the stack trace that gets printed there, you can see what commands the installer is running","date":"2015-04-21T07:28:36.617Z","type":"message"}
{"nick":"mcqueenorama","reason":"Read error: Connection reset by peer","date":"2015-04-21T07:29:04.233Z","type":"quit"}
{"nick":"othiym23","message":"and if I cut and paste them, they work fine (which is an improvement over where things were a few weeks ago)","date":"2015-04-21T07:29:24.044Z","type":"message"}
{"nick":"mcqueenorama","date":"2015-04-21T07:29:27.823Z","type":"join"}
{"nick":"othiym23","message":"but that suggests that the initial install fails because of a missing directory, that gets created as part of the failing install and is there for the second install","date":"2015-04-21T07:29:58.290Z","type":"message"}
{"nick":"thefourtheye","message":"I see this command is getting executed `node \"/home/thefourtheye/git/npm/bin/npm-cli.js\" install \"/home/thefourtheye/git/npm\"`","date":"2015-04-21T07:32:46.593Z","type":"message"}
{"nick":"thefourtheye","message":"And when I execute it separately, it fails with a different error (which is not relevant to us, I need to give permission to few directories). Is that what you mean?","date":"2015-04-21T07:33:47.802Z","type":"message"}
{"nick":"qard_","reason":"Quit: leaving","date":"2015-04-21T07:33:55.019Z","type":"quit"}
{"nick":"othiym23","message":"that's it installing itself into the temporary directory","date":"2015-04-21T07:34:03.285Z","type":"message"}
{"nick":"othiym23","message":"if you cd into the temporary directory it creates as part of that, you should be able to run the install without issue","date":"2015-04-21T07:34:22.212Z","type":"message"}
{"nick":"othiym23","message":"it just needs a directory where the basic directory structure already exists and where it has permission to write","date":"2015-04-21T07:34:41.590Z","type":"message"}
{"nick":"mcqueenorama","reason":"Remote host closed the connection","date":"2015-04-21T07:35:01.545Z","type":"quit"}
{"nick":"thefourtheye","message":"You are correct, but the temporary directory created still doesn't have lib directory in it.","date":"2015-04-21T07:35:22.898Z","type":"message"}
{"nick":"mcqueenorama","date":"2015-04-21T07:35:46.380Z","type":"join"}
{"nick":"othiym23","message":"hmm... let me see what I get","date":"2015-04-21T07:36:44.427Z","type":"message"}
{"nick":"s3shs","reason":"Ping timeout: 256 seconds","date":"2015-04-21T07:38:55.275Z","type":"quit"}
{"nick":"othiym23","message":"thefourtheye: here's what happens when I do a sample test run, including cding into the test directory and running the command that previously failed: https://gist.github.com/othiym23/75e2c49bc0240dd979e1","date":"2015-04-21T07:39:39.782Z","type":"message"}
{"nick":"thefourtheye","message":"othiym23,  I also get pretty much the same","date":"2015-04-21T07:41:35.798Z","type":"message"}
{"nick":"othiym23","message":"thefourtheye: does it fail for you?","date":"2015-04-21T07:41:59.311Z","type":"message"}
{"nick":"othiym23","message":"because it succeeds for me","date":"2015-04-21T07:42:03.432Z","type":"message"}
{"nick":"thefourtheye","message":"Oh wait, I didn't try the second command, like you tried","date":"2015-04-21T07:42:48.205Z","type":"message"}
{"nick":"thefourtheye","message":"Let me try now","date":"2015-04-21T07:42:53.420Z","type":"message"}
{"nick":"thefourtheye","message":"othiym23,  You are correct, it installs successfully now","date":"2015-04-21T07:45:15.738Z","type":"message"}
{"nick":"thefourtheye","message":"Sorry, I am eating your time :(","date":"2015-04-21T07:45:30.136Z","type":"message"}
{"nick":"othiym23","message":"so the trick is to figure out what's happening during that initial install","date":"2015-04-21T07:45:36.113Z","type":"message"}
{"nick":"othiym23","message":"it's all right, it's useful to have someone to explain all this to","date":"2015-04-21T07:45:54.370Z","type":"message"}
{"nick":"othiym23","message":"never underestimate the value of rubber ducking these kinds of problems ;)","date":"2015-04-21T07:46:07.590Z","type":"message"}
{"nick":"thefourtheye","message":";)","date":"2015-04-21T07:46:55.282Z","type":"message"}
{"nick":"thefourtheye","message":"I am a little hungry now, I ll be back in an hour after lunch.","date":"2015-04-21T07:47:29.626Z","type":"message"}
{"nick":"thefourtheye","message":" Thanks for helping me understand :)","date":"2015-04-21T07:47:45.903Z","type":"message"}
{"nick":"pluma","reason":"Ping timeout: 248 seconds","date":"2015-04-21T07:53:25.291Z","type":"quit"}
{"nick":"brownbathrobe","date":"2015-04-21T07:56:24.231Z","type":"join"}
{"nick":"dbclk","reason":"Read error: Connection reset by peer","date":"2015-04-21T07:56:35.705Z","type":"quit"}
{"nick":"mcqueenorama","reason":"Read error: Connection reset by peer","date":"2015-04-21T07:57:56.682Z","type":"quit"}
{"nick":"brownbathrobe","reason":"Remote host closed the connection","date":"2015-04-21T07:58:28.337Z","type":"quit"}

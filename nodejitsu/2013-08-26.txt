{"nick":"ircretary","date":"2013-08-26T00:00:08.334Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-26T00:01:07.274Z","type":"quit"}
{"nick":"kscully27","date":"2013-08-26T00:01:50.984Z","type":"join"}
{"nick":"kscully27","reason":"Read error: No route to host","date":"2013-08-26T00:06:16.310Z","type":"quit"}
{"nick":"kscully27","date":"2013-08-26T00:06:38.650Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T00:07:15.033Z","type":"quit"}
{"nick":"andreypopp","reason":"Quit: andreypopp","date":"2013-08-26T00:07:59.050Z","type":"quit"}
{"nick":"joshontheweb","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T00:09:57.922Z","type":"quit"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T00:11:15.089Z","type":"quit"}
{"nick":"kscully27","reason":"Remote host closed the connection","date":"2013-08-26T00:13:36.445Z","type":"quit"}
{"nick":"alx","reason":"Remote host closed the connection","date":"2013-08-26T00:23:14.134Z","type":"quit"}
{"nick":"Hebo","date":"2013-08-26T00:28:50.627Z","type":"quit"}
{"nick":"alx","date":"2013-08-26T00:31:01.696Z","type":"join"}
{"nick":"TooTallNate","date":"2013-08-26T00:33:53.340Z","type":"join"}
{"nick":"mdedetrich","date":"2013-08-26T00:34:55.469Z","type":"join"}
{"nick":"Samuel_Roldan","date":"2013-08-26T00:38:12.931Z","type":"join"}
{"nick":"sandfox","reason":"Quit: sandfox","date":"2013-08-26T00:43:12.652Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T00:43:27.328Z","type":"quit"}
{"nick":"kuja","date":"2013-08-26T00:53:40.590Z","type":"join"}
{"nick":"leichtgewicht","date":"2013-08-26T01:00:22.303Z","type":"join"}
{"nick":"bzoo","date":"2013-08-26T01:06:34.289Z","type":"join"}
{"nick":"bzoo","reason":"Remote host closed the connection","date":"2013-08-26T01:08:28.677Z","type":"quit"}
{"nick":"bzoo","date":"2013-08-26T01:09:04.748Z","type":"join"}
{"nick":"bzoo","reason":"Ping timeout: 240 seconds","date":"2013-08-26T01:13:02.534Z","type":"quit"}
{"nick":"i_m_ca","date":"2013-08-26T01:16:18.886Z","type":"join"}
{"nick":"indexzero","date":"2013-08-26T01:21:34.214Z","type":"join"}
{"nick":"kscully27","date":"2013-08-26T01:24:10.978Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 264 seconds","date":"2013-08-26T01:28:43.014Z","type":"quit"}
{"nick":"kscully27","reason":"Ping timeout: 260 seconds","date":"2013-08-26T01:29:43.995Z","type":"quit"}
{"nick":"i_m_ca","reason":"Ping timeout: 245 seconds","date":"2013-08-26T01:35:51.683Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-08-26T01:41:36.070Z","type":"join"}
{"nick":"InconceivableB","date":"2013-08-26T01:44:11.862Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T01:47:19.982Z","type":"join"}
{"nick":"mokes","reason":"Ping timeout: 264 seconds","date":"2013-08-26T01:52:06.966Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T01:57:44.801Z","type":"join"}
{"nick":"everett","reason":"Ping timeout: 250 seconds","date":"2013-08-26T01:59:25.347Z","type":"quit"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T02:03:38.682Z","type":"quit"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T02:08:08.151Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T02:08:39.397Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T02:08:57.188Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T02:09:22.816Z","type":"join"}
{"nick":"InconceivableB","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T02:23:03.320Z","type":"quit"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T02:24:58.037Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T02:27:42.890Z","type":"join"}
{"nick":"InconceivableB","date":"2013-08-26T02:31:04.833Z","type":"join"}
{"nick":"InconceivableB","reason":"Client Quit","date":"2013-08-26T02:32:46.726Z","type":"quit"}
{"nick":"thealanwattsriot","date":"2013-08-26T02:39:37.833Z","type":"join"}
{"nick":"thealanwattsriot","reason":"Max SendQ exceeded","date":"2013-08-26T02:39:44.845Z","type":"quit"}
{"nick":"InconceivableB","date":"2013-08-26T02:48:44.680Z","type":"join"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T02:53:32.754Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T02:54:13.171Z","type":"join"}
{"nick":"Samuel_Roldan","reason":"Quit: Samuel_Roldan","date":"2013-08-26T02:56:59.020Z","type":"quit"}
{"nick":"daviddias","date":"2013-08-26T03:00:59.790Z","type":"join"}
{"nick":"daviddia_","date":"2013-08-26T03:01:46.956Z","type":"join"}
{"nick":"alx","reason":"Remote host closed the connection","date":"2013-08-26T03:02:19.529Z","type":"quit"}
{"nick":"daviddias","reason":"Ping timeout: 264 seconds","date":"2013-08-26T03:05:38.770Z","type":"quit"}
{"nick":"thealanwattsriot","date":"2013-08-26T03:10:34.151Z","type":"join"}
{"nick":"thealanwattsriot","reason":"Ping timeout: 245 seconds","date":"2013-08-26T03:17:05.157Z","type":"quit"}
{"nick":"Samuel_Roldan","date":"2013-08-26T03:26:26.645Z","type":"join"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T03:26:59.954Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T03:29:01.229Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T03:35:30.458Z","type":"join"}
{"nick":"parallel","reason":"Ping timeout: 256 seconds","date":"2013-08-26T03:40:03.286Z","type":"quit"}
{"nick":"joshsmith","reason":"Quit: joshsmith","date":"2013-08-26T03:47:53.508Z","type":"quit"}
{"nick":"joshsmith","date":"2013-08-26T03:48:23.752Z","type":"join"}
{"nick":"joshontheweb","date":"2013-08-26T03:50:49.364Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T04:05:21.895Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T04:05:56.199Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T04:06:29.004Z","type":"join"}
{"nick":"ipalreadytaken","date":"2013-08-26T04:06:45.026Z","type":"join"}
{"nick":"tobie_","date":"2013-08-26T04:08:53.619Z","type":"join"}
{"nick":"alx","date":"2013-08-26T04:12:53.272Z","type":"join"}
{"nick":"parallel","reason":"Ping timeout: 264 seconds","date":"2013-08-26T04:15:14.874Z","type":"quit"}
{"nick":"calweb","date":"2013-08-26T04:17:37.206Z","type":"join"}
{"nick":"alx","reason":"Ping timeout: 264 seconds","date":"2013-08-26T04:18:06.196Z","type":"quit"}
{"nick":"daviddia_","reason":"Remote host closed the connection","date":"2013-08-26T04:19:11.300Z","type":"quit"}
{"nick":"daviddias","date":"2013-08-26T04:19:46.988Z","type":"join"}
{"nick":"daviddia_","date":"2013-08-26T04:21:33.763Z","type":"join"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T04:22:43.394Z","type":"quit"}
{"nick":"daviddias","reason":"Ping timeout: 260 seconds","date":"2013-08-26T04:24:15.995Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T04:24:25.177Z","type":"join"}
{"nick":"joshsmith","reason":"Quit: joshsmith","date":"2013-08-26T04:24:26.391Z","type":"quit"}
{"nick":"siculars","date":"2013-08-26T04:28:11.153Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T04:30:17.885Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T04:31:55.541Z","type":"quit"}
{"nick":"parallel_","date":"2013-08-26T04:32:03.734Z","type":"join"}
{"nick":"Fishrock123","date":"2013-08-26T04:33:45.894Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T04:34:53.143Z","type":"join"}
{"nick":"parallel_","reason":"Read error: Connection reset by peer","date":"2013-08-26T04:34:53.353Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2013-08-26T04:35:52.757Z","type":"quit"}
{"nick":"chakrit","date":"2013-08-26T04:37:15.872Z","type":"join"}
{"nick":"chakrit","reason":"Changing host","date":"2013-08-26T04:37:15.873Z","type":"quit"}
{"nick":"chakrit","date":"2013-08-26T04:37:15.873Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T04:38:53.524Z","type":"join"}
{"nick":"Samuel_Roldan","reason":"Quit: Samuel_Roldan","date":"2013-08-26T04:39:48.163Z","type":"quit"}
{"nick":"cronopio","reason":"Quit: Bye","date":"2013-08-26T04:40:12.295Z","type":"quit"}
{"nick":"InconceivableB","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T04:41:37.525Z","type":"quit"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T04:43:24.185Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T04:44:16.654Z","type":"join"}
{"nick":"alx","date":"2013-08-26T04:44:30.390Z","type":"join"}
{"nick":"daviddia_","reason":"Remote host closed the connection","date":"2013-08-26T04:46:32.807Z","type":"quit"}
{"nick":"daviddias","date":"2013-08-26T04:47:00.811Z","type":"join"}
{"nick":"jafar","date":"2013-08-26T04:49:59.271Z","type":"join"}
{"nick":"jafar","message":"hello","date":"2013-08-26T04:50:35.490Z","type":"message"}
{"nick":"jafar","message":"Getting an error \"No free servers available\"","date":"2013-08-26T04:51:04.211Z","type":"message"}
{"nick":"daviddias","reason":"Ping timeout: 264 seconds","date":"2013-08-26T04:51:50.843Z","type":"quit"}
{"nick":"bzoo","date":"2013-08-26T04:52:31.867Z","type":"join"}
{"nick":"alx","reason":"Remote host closed the connection","date":"2013-08-26T04:54:20.433Z","type":"quit"}
{"nick":"JoseB","date":"2013-08-26T04:55:41.975Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T04:56:23.763Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T04:56:55.376Z","type":"join"}
{"nick":"Victor__","date":"2013-08-26T04:56:58.360Z","type":"join"}
{"nick":"Victor__","reason":"Client Quit","date":"2013-08-26T04:58:24.640Z","type":"quit"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T04:58:31.111Z","type":"quit"}
{"nick":"joshontheweb","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2013-08-26T04:58:57.966Z","type":"quit"}
{"nick":"joshontheweb","date":"2013-08-26T05:00:15.335Z","type":"join"}
{"nick":"Samuel_Roldan","date":"2013-08-26T05:00:38.755Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T05:01:22.572Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T05:03:21.299Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-26T05:03:48.943Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T05:03:56.833Z","type":"join"}
{"nick":"JoseB","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2013-08-26T05:07:46.085Z","type":"quit"}
{"nick":"tobie__","date":"2013-08-26T05:08:07.053Z","type":"join"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T05:08:24.890Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T05:08:43.112Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 268 seconds","date":"2013-08-26T05:08:53.072Z","type":"quit"}
{"nick":"_yoy_","reason":"Quit: Leaving...","date":"2013-08-26T05:09:19.686Z","type":"quit"}
{"nick":"tobie_","reason":"Ping timeout: 246 seconds","date":"2013-08-26T05:09:22.922Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-26T05:10:42.449Z","type":"quit"}
{"nick":"_yoy_","date":"2013-08-26T05:10:54.235Z","type":"join"}
{"nick":"bzoo","reason":"Remote host closed the connection","date":"2013-08-26T05:12:13.262Z","type":"quit"}
{"nick":"bzoo","date":"2013-08-26T05:12:45.280Z","type":"join"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T05:14:29.562Z","type":"quit"}
{"nick":"_yoy_","reason":"Client Quit","date":"2013-08-26T05:15:45.273Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T05:16:31.319Z","type":"join"}
{"nick":"_yoy_","date":"2013-08-26T05:17:17.202Z","type":"join"}
{"nick":"bzoo","reason":"Ping timeout: 268 seconds","date":"2013-08-26T05:17:31.070Z","type":"quit"}
{"nick":"tobie__","reason":"Read error: Connection reset by peer","date":"2013-08-26T05:17:46.774Z","type":"quit"}
{"nick":"secobarbital","date":"2013-08-26T05:17:58.329Z","type":"join"}
{"nick":"tobie_","date":"2013-08-26T05:18:52.147Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T05:19:16.770Z","type":"quit"}
{"nick":"secobarbital","message":"getting \"No free servers available\" :(","date":"2013-08-26T05:20:20.439Z","type":"message"}
{"nick":"secobarbital","message":"is it possible to not bring down the \"old\" drone until the new drone is allocated and running?","date":"2013-08-26T05:21:07.825Z","type":"message"}
{"nick":"secobarbital","message":"that way when you run out of servers our app won't be down","date":"2013-08-26T05:21:19.157Z","type":"message"}
{"nick":"secobarbital","message":"jitsu deploy seems very risky given the app goes down with possibility of staying down","date":"2013-08-26T05:23:25.403Z","type":"message"}
{"nick":"parallel","reason":"Read error: Connection reset by peer","date":"2013-08-26T05:29:49.430Z","type":"quit"}
{"nick":"parallel","date":"2013-08-26T05:30:03.984Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T05:32:57.622Z","type":"join"}
{"nick":"Mordecai_","date":"2013-08-26T05:34:21.855Z","type":"join"}
{"nick":"Mordecai_","message":"o.o","date":"2013-08-26T05:34:33.795Z","type":"message"}
{"nick":"Mordecai_","message":"Oh hi guys, do you know about the error of no free servers available?","date":"2013-08-26T05:34:49.060Z","type":"message"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T05:35:57.846Z","type":"quit"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T05:40:42.719Z","type":"quit"}
{"nick":"sreeix","date":"2013-08-26T05:45:12.398Z","type":"join"}
{"nick":"i_m_ca","date":"2013-08-26T05:47:49.877Z","type":"join"}
{"nick":"Samuel_Roldan","reason":"Quit: Samuel_Roldan","date":"2013-08-26T05:52:52.834Z","type":"quit"}
{"nick":"joeybaker","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T05:56:46.091Z","type":"quit"}
{"nick":"ionella","date":"2013-08-26T05:58:21.152Z","type":"join"}
{"nick":"jafar","reason":"Quit: Page closed","date":"2013-08-26T06:03:22.353Z","type":"quit"}
{"nick":"alx","date":"2013-08-26T06:04:55.963Z","type":"join"}
{"nick":"spolu","date":"2013-08-26T06:08:37.698Z","type":"join"}
{"nick":"calweb","message":"same as the others, getting the 'No Free Servers' available error","date":"2013-08-26T06:08:43.773Z","type":"message"}
{"nick":"Mordecai_","message":"D:","date":"2013-08-26T06:08:51.716Z","type":"message"}
{"nick":"Mordecai_","message":"it strikes again!","date":"2013-08-26T06:08:56.593Z","type":"message"}
{"nick":"alx","reason":"Ping timeout: 246 seconds","date":"2013-08-26T06:09:34.930Z","type":"quit"}
{"nick":"calweb","message":"i have my drone back!  thanks","date":"2013-08-26T06:10:09.515Z","type":"message"}
{"nick":"chakrit","reason":"Ping timeout: 276 seconds","date":"2013-08-26T06:13:33.659Z","type":"quit"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T06:26:04.557Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T06:27:54.547Z","type":"join"}
{"nick":"thiamine","date":"2013-08-26T06:29:52.299Z","type":"join"}
{"nick":"tylerstalder","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T06:32:33.252Z","type":"quit"}
{"nick":"tylerstalder","date":"2013-08-26T06:33:47.125Z","type":"join"}
{"nick":"Dorphern","date":"2013-08-26T06:37:11.689Z","type":"join"}
{"nick":"chakrit","date":"2013-08-26T06:44:06.812Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T06:46:30.051Z","type":"join"}
{"nick":"chakrit","reason":"Ping timeout: 245 seconds","date":"2013-08-26T06:48:21.635Z","type":"quit"}
{"nick":"parallel","reason":"Ping timeout: 240 seconds","date":"2013-08-26T06:50:42.830Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T06:51:18.123Z","type":"join"}
{"nick":"Sly","reason":"Remote host closed the connection","date":"2013-08-26T06:52:40.143Z","type":"quit"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T06:53:53.955Z","type":"quit"}
{"nick":"Dorphern","reason":"Quit: Dorphern","date":"2013-08-26T06:54:32.454Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-26T06:54:53.342Z","type":"nick"}
{"nick":"mokes","reason":"Ping timeout: 245 seconds","date":"2013-08-26T06:55:25.124Z","type":"quit"}
{"nick":"tonist","date":"2013-08-26T06:56:57.238Z","type":"join"}
{"nick":"tonist","reason":"Client Quit","date":"2013-08-26T06:59:11.600Z","type":"quit"}
{"nick":"Sly","date":"2013-08-26T06:59:19.845Z","type":"join"}
{"nick":"ipalreadytaken","reason":"Remote host closed the connection","date":"2013-08-26T07:04:36.222Z","type":"quit"}
{"nick":"andreypopp","date":"2013-08-26T07:10:55.666Z","type":"join"}
{"nick":"tylerstalder","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T07:16:08.770Z","type":"quit"}
{"nick":"tonist","date":"2013-08-26T07:19:25.334Z","type":"join"}
{"nick":"andreypopp","reason":"Quit: andreypopp","date":"2013-08-26T07:21:33.834Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T07:21:59.065Z","type":"join"}
{"nick":"chakrit","date":"2013-08-26T07:24:57.372Z","type":"join"}
{"nick":"ejeklint","date":"2013-08-26T07:25:41.942Z","type":"join"}
{"nick":"Tom0101","date":"2013-08-26T07:27:03.188Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T07:27:03.401Z","type":"quit"}
{"nick":"Tom0101","message":"I'm storing my sessions in my database, which is necessary with a cluster. However with nodejitsu this means that whenever I run my app from a different place than MongoLab's datacenter (e.g. my development PC), each single request takes about 1-2 seconds...","date":"2013-08-26T07:28:10.501Z","type":"message"}
{"nick":"Tom0101","message":"Is there anything that can be done about this?","date":"2013-08-26T07:28:26.887Z","type":"message"}
{"nick":"Tom0101","message":"see also https://github.com/kcbanner/connect-mongo/issues/81","date":"2013-08-26T07:28:46.741Z","type":"message"}
{"nick":"jbpros","date":"2013-08-26T07:30:41.180Z","type":"join"}
{"nick":"ionella","reason":"Remote host closed the connection","date":"2013-08-26T07:32:02.949Z","type":"quit"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T07:34:26.720Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T07:36:22.058Z","type":"join"}
{"nick":"mdedetrich","reason":"Max SendQ exceeded","date":"2013-08-26T07:37:27.816Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T07:38:08.908Z","type":"join"}
{"nick":"barrynagel","date":"2013-08-26T07:40:42.251Z","type":"join"}
{"nick":"thiamine","message":"hey","date":"2013-08-26T07:44:12.307Z","type":"message"}
{"nick":"chakrit","reason":"Quit: leaving","date":"2013-08-26T07:45:17.291Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T07:47:04.231Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T07:49:28.241Z","type":"quit"}
{"nick":"ejeklint","reason":"Quit: ejeklint","date":"2013-08-26T07:58:34.929Z","type":"quit"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-26T07:59:00.586Z","type":"nick"}
{"nick":"i_m_ca","reason":"Ping timeout: 245 seconds","date":"2013-08-26T08:10:26.621Z","type":"quit"}
{"nick":"leichtge_","date":"2013-08-26T08:10:31.437Z","type":"join"}
{"nick":"ejeklint","date":"2013-08-26T08:12:16.776Z","type":"join"}
{"nick":"leichtgewicht","reason":"Ping timeout: 268 seconds","date":"2013-08-26T08:13:53.122Z","type":"quit"}
{"nick":"jbpros","reason":"Quit: jbpros","date":"2013-08-26T08:14:16.085Z","type":"quit"}
{"nick":"ipalreadytaken","date":"2013-08-26T08:15:12.149Z","type":"join"}
{"nick":"ipalreadytaken","reason":"Ping timeout: 245 seconds","date":"2013-08-26T08:19:35.354Z","type":"quit"}
{"nick":"jbpros","date":"2013-08-26T08:25:32.242Z","type":"join"}
{"nick":"ionella","date":"2013-08-26T08:29:18.986Z","type":"join"}
{"nick":"siculars","reason":"Quit: siculars","date":"2013-08-26T08:29:51.143Z","type":"quit"}
{"nick":"tylerstalder","date":"2013-08-26T08:32:21.990Z","type":"join"}
{"nick":"tylerstalder","reason":"Read error: Connection reset by peer","date":"2013-08-26T08:32:50.319Z","type":"quit"}
{"nick":"tonist","reason":"Quit: tonist","date":"2013-08-26T08:32:59.249Z","type":"quit"}
{"nick":"tylerstalder","date":"2013-08-26T08:33:14.289Z","type":"join"}
{"nick":"BruNeX","message":"heya","date":"2013-08-26T08:36:44.638Z","type":"message"}
{"nick":"BruNeX","message":"i'm having some problems with deply","date":"2013-08-26T08:37:19.352Z","type":"message"}
{"nick":"BruNeX","message":"djitsu deploy*","date":"2013-08-26T08:37:26.202Z","type":"message"}
{"nick":"BruNeX","message":"https://gist.github.com/NeCkEr/6339285","date":"2013-08-26T08:38:51.347Z","type":"message"}
{"nick":"tylerstalder","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T08:42:00.265Z","type":"quit"}
{"nick":"Mordecai_","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T08:42:45.522Z","type":"quit"}
{"nick":"tonist","date":"2013-08-26T08:43:16.756Z","type":"join"}
{"nick":"BruNeX","message":"already working thanks","date":"2013-08-26T08:45:51.688Z","type":"message"}
{"nick":"andreypopp","date":"2013-08-26T08:47:20.406Z","type":"join"}
{"nick":"julianduque","reason":"Ping timeout: 260 seconds","date":"2013-08-26T08:58:11.965Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T09:00:03.065Z","type":"join"}
{"nick":"pjbrinck","date":"2013-08-26T09:02:56.354Z","type":"join"}
{"nick":"pjbrinck","message":"having problems with seeing the log my nodejitsu webops, it says \"Streaming logging information\" but nothing ever shows, my app is running ok, its been like this for several days, my username is pjbrinck, any help?","date":"2013-08-26T09:04:42.394Z","type":"message"}
{"nick":"mokes","reason":"Ping timeout: 268 seconds","date":"2013-08-26T09:05:04.069Z","type":"quit"}
{"nick":"swaagie","message":"pjbrinck: hey there","date":"2013-08-26T09:07:34.704Z","type":"message"}
{"nick":"swaagie","message":"which browser are you viewing the logs in?","date":"2013-08-26T09:07:43.442Z","type":"message"}
{"nick":"swaagie","message":"assuming your using webops","date":"2013-08-26T09:07:57.689Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: Im in Google Chrome","date":"2013-08-26T09:08:09.299Z","type":"message"}
{"nick":"swaagie","message":"hmm, can safely exclude that then, what is the appname?","date":"2013-08-26T09:08:29.501Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: yes using webops","date":"2013-08-26T09:08:30.423Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: appname is jungle","date":"2013-08-26T09:08:46.174Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-08-26T09:08:53.812Z","type":"nick"}
{"nick":"swaagie","message":"pjbrinck: any errors that pop up in the console of chrome?","date":"2013-08-26T09:09:16.345Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: checking","date":"2013-08-26T09:09:28.205Z","type":"message"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T09:10:04.703Z","type":"quit"}
{"nick":"pjbrinck","message":"swaagie: nope, no errors in chrome","date":"2013-08-26T09:10:17.306Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: is there a proper working socket connection visible in the network tab?","date":"2013-08-26T09:10:53.722Z","type":"message"}
{"nick":"mdedetrich","date":"2013-08-26T09:11:48.345Z","type":"join"}
{"nick":"pjbrinck","message":"swaagie: auch, U got me there, help me help U plz, where do I see the network tab","date":"2013-08-26T09:11:49.058Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: it should be in the console as well, 3rd tab, I'm assuming websocket failures, as alternative you could do a `jitsu logs tail` from the command line inside the project directory that is","date":"2013-08-26T09:12:18.803Z","type":"message"}
{"nick":"swaagie","message":"it might be that a firewall or such is blocking the websocket","date":"2013-08-26T09:12:36.798Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: hmm well","date":"2013-08-26T09:13:40.270Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: I have the following tabs under Apps: Snapshots, Logs, and Environment variable, I dont have a network tab","date":"2013-08-26T09:13:46.737Z","type":"message"}
{"nick":"swaagie","message":"where is stuff logged","date":"2013-08-26T09:13:47.746Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: that was in the console, but nvm that, I see the latest logs are from 9:55","date":"2013-08-26T09:14:04.073Z","type":"message"}
{"nick":"swaagie","message":"or in relative time an hour back","date":"2013-08-26T09:14:13.113Z","type":"message"}
{"nick":"swaagie","message":"perhaps we should add  the latest 10 logs line to webops","date":"2013-08-26T09:14:23.529Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: sounds correct","date":"2013-08-26T09:14:31.262Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: I have same behavior on Firefox","date":"2013-08-26T09:14:43.054Z","type":"message"}
{"nick":"swaagie","message":"so it works fine, but yeah not really user friendly","date":"2013-08-26T09:14:45.777Z","type":"message"}
{"nick":"swaagie","message":"yeah pjbrinck do you got access to jitsu on the command line?","date":"2013-08-26T09:15:05.962Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: yes","date":"2013-08-26T09:15:18.234Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: what should I try","date":"2013-08-26T09:15:23.523Z","type":"message"}
{"nick":"swaagie","message":"jitsu logs tail","date":"2013-08-26T09:15:29.625Z","type":"message"}
{"nick":"swaagie","message":"it does retrieve the latest 10/20 lines","date":"2013-08-26T09:15:39.153Z","type":"message"}
{"nick":"swaagie","message":"I'm going to improve webops","date":"2013-08-26T09:16:01.923Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: it says no logs for jungle in specified time span","date":"2013-08-26T09:17:36.652Z","type":"message"}
{"nick":"swaagie","message":"hmm thats akward","date":"2013-08-26T09:18:05.288Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: could you run it with --debug and gist me the output?","date":"2013-08-26T09:18:24.929Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: ok gime a few","date":"2013-08-26T09:18:48.174Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-08-26T09:18:52.326Z","type":"nick"}
{"nick":"pjbrinck","message":"swaagie: ok gime a few mins","date":"2013-08-26T09:18:53.790Z","type":"message"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T09:19:23.703Z","type":"quit"}
{"nick":"swaagie","message":"pjbrinck: sure no rush, here to stay :)","date":"2013-08-26T09:19:48.776Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: seems I was a bit wrong, I did an upgrade of jitsu and now I get a log ... on jitsu","date":"2013-08-26T09:22:18.041Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: ah k great","date":"2013-08-26T09:22:55.686Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: I'll improve webops so everyone will have a more user friendly experience there as well","date":"2013-08-26T09:23:18.518Z","type":"message"}
{"nick":"InconceivableB","date":"2013-08-26T09:23:22.181Z","type":"join"}
{"nick":"pjbrinck","message":"swaagie: bt still, I dont see all I expected","date":"2013-08-26T09:23:24.447Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: what's missing?","date":"2013-08-26T09:23:48.163Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: I'm running Express.js, which logs response times on all calls, I dont see them here","date":"2013-08-26T09:23:56.742Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: but that could be an error on my part, let me investigate a bit more and revert","date":"2013-08-26T09:24:55.850Z","type":"message"}
{"nick":"swaagie","message":"anything written to stdout/stderr should show in the logs","date":"2013-08-26T09:25:37.417Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: exactly","date":"2013-08-26T09:25:55.110Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: but all I see is the console log I write on my server start up, I dont see any Express.js statements","date":"2013-08-26T09:26:40.375Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: let me run it on localhost a little to make sure I do have logs and revert","date":"2013-08-26T09:27:12.166Z","type":"message"}
{"nick":"swaagie","message":"I'll take a quick peek along","date":"2013-08-26T09:27:30.254Z","type":"message"}
{"nick":"meso","reason":"Remote host closed the connection","date":"2013-08-26T09:32:55.248Z","type":"quit"}
{"nick":"pjbrinck","message":"swaagie: ok, maybe have some explanation for no logs, I get 404 on all calls to the server, seems I get this from the platform and not from my server, then of course I dont see any logs... this seems to happen from time to time, maybe when I deploy new versions","date":"2013-08-26T09:36:16.631Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: my normal work around is then to stop/start server to get rid of general 404, not a good situation, but one I am living with as long as I only develop","date":"2013-08-26T09:37:09.949Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: our platform does not spawn 404's we only got 400 for stopped apps and 502's for unreachable apps","date":"2013-08-26T09:38:40.362Z","type":"message"}
{"nick":"swaagie","message":"that 404 is the default express's","date":"2013-08-26T09:39:01.008Z","type":"message"}
{"nick":"swaagie","message":"still it's weird it just goes to that state","date":"2013-08-26T09:39:14.500Z","type":"message"}
{"nick":"swaagie","message":"mind if I restart the app?","date":"2013-08-26T09:39:29.678Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: odd, let me stop/start app and see what I get, now Im fighting 401 n the webops, brb","date":"2013-08-26T09:39:50.074Z","type":"message"}
{"nick":"pjbrinck","message":"ok plz do","date":"2013-08-26T09:39:57.101Z","type":"message"}
{"nick":"pjbrinck","message":"and let me know when and I will rerun test scripts against it","date":"2013-08-26T09:40:16.984Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: I just restarted it index responds with a 404 though","date":"2013-08-26T09:42:04.986Z","type":"message"}
{"nick":"swaagie","message":"it,","date":"2013-08-26T09:42:15.590Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: meaning?","date":"2013-08-26T09:42:34.842Z","type":"message"}
{"nick":"swaagie","message":"dunno","date":"2013-08-26T09:42:40.687Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: an Express thing?","date":"2013-08-26T09:42:49.774Z","type":"message"}
{"nick":"swaagie","message":"other than that it is programmed that way","date":"2013-08-26T09:42:49.985Z","type":"message"}
{"nick":"swaagie","message":"well I requested http://jungle.jit.su/ and if there is no index page set it will just respond with 404 as excpected","date":"2013-08-26T09:43:25.687Z","type":"message"}
{"nick":"mdedetrich","date":"2013-08-26T09:43:40.235Z","type":"join"}
{"nick":"swaagie","message":"but i'm not sure if that route should even exists, thats up to you ofc","date":"2013-08-26T09:43:50.090Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: ok, I dont have and index route","date":"2013-08-26T09:44:05.438Z","type":"message"}
{"nick":"swaagie","message":"ah k then that 404 is normal, just like http://jungle.jit.su/any/random/path would return a 404","date":"2013-08-26T09:44:40.158Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: i have an extremely simple request that should respond every time:  http://jungle.nodejitsu.com/id  but that too responds 404","date":"2013-08-26T09:45:12.847Z","type":"message"}
{"nick":"swaagie","message":"yeah but thats express as well, so the route is not available","date":"2013-08-26T09:45:57.701Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: true","date":"2013-08-26T09:46:13.037Z","type":"message"}
{"nick":"swaagie","message":"o>O","date":"2013-08-26T09:46:23.468Z","type":"message"}
{"nick":"swaagie","message":"I got a 401 now","date":"2013-08-26T09:46:28.443Z","type":"message"}
{"nick":"swaagie","message":"ont he same route","date":"2013-08-26T09:46:30.572Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: just did that too","date":"2013-08-26T09:46:40.607Z","type":"message"}
{"nick":"swaagie","message":"haha","date":"2013-08-26T09:46:44.466Z","type":"message"}
{"nick":"swaagie","message":"ok","date":"2013-08-26T09:46:45.054Z","type":"message"}
{"nick":"swaagie","message":"was like wtf","date":"2013-08-26T09:46:47.863Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: after stop/start in console","date":"2013-08-26T09:46:50.303Z","type":"message"}
{"nick":"swaagie","message":"hmm","date":"2013-08-26T09:47:08.083Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: a few more stop/start and it will normally normalize","date":"2013-08-26T09:47:16.886Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: ok so you only did a start/stop and now its back to normal again?","date":"2013-08-26T09:47:21.647Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: well 401 og get id is not normal","date":"2013-08-26T09:47:39.303Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: but better that 404","date":"2013-08-26T09:47:48.582Z","type":"message"}
{"nick":"swaagie","message":"are you storing states anywhere","date":"2013-08-26T09:47:53.214Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: NOPE","date":"2013-08-26T09:48:01.510Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: well, no is such a strong answer, let me correct, NOT TO MY KNOWLEDGE","date":"2013-08-26T09:48:21.299Z","type":"message"}
{"nick":"swaagie","message":"express templates will cache if possible though","date":"2013-08-26T09:48:29.222Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: but U may be on to something, help me out, what would be \"storing state\"","date":"2013-08-26T09:48:54.743Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: OC, Im storing state in DB (mongo)","date":"2013-08-26T09:49:19.255Z","type":"message"}
{"nick":"pjbrinck","message":"but certainly not in conjunction with get id","date":"2013-08-26T09:49:36.327Z","type":"message"}
{"nick":"swaagie","message":"well in its most simple form, just a local module variable that is global to all routes and gets written by a route infecting others","date":"2013-08-26T09:49:48.558Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: true","date":"2013-08-26T09:50:14.015Z","type":"message"}
{"nick":"swaagie","message":"accidental 'globals' happen ofc, the 401 for all random routes now seems a bit akward, is there a regexp matcher for routes?","date":"2013-08-26T09:51:22.726Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: but then I should have same problem in localhost I would think, codebases are identical","date":"2013-08-26T09:52:06.426Z","type":"message"}
{"nick":"swaagie","message":"true","date":"2013-08-26T09:52:18.658Z","type":"message"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T09:52:31.062Z","type":"quit"}
{"nick":"pjbrinck","message":"swaagie: wonder if Express uses env vars, that may be diff in two env","date":"2013-08-26T09:52:56.279Z","type":"message"}
{"nick":"swaagie","message":"yeah that will be diff","date":"2013-08-26T09:53:04.318Z","type":"message"}
{"nick":"swaagie","message":"NODE_ENV will be production on the drone","date":"2013-08-26T09:53:12.916Z","type":"message"}
{"nick":"swaagie","message":"and defaults to development on local","date":"2013-08-26T09:53:29.910Z","type":"message"}
{"nick":"swaagie","message":"atleast I thought app.get('env') would return development by default","date":"2013-08-26T09:53:52.642Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: so if I set NODE_ENV to development on Jitsu, I should be aligned?","date":"2013-08-26T09:54:10.421Z","type":"message"}
{"nick":"swaagie","message":"yeah you can supply the env vars in the package.json","date":"2013-08-26T09:54:39.318Z","type":"message"}
{"nick":"alx","date":"2013-08-26T09:54:44.631Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T09:55:04.966Z","type":"join"}
{"nick":"swaagie","message":"eventually you'd want to keep that as production after deploying though","date":"2013-08-26T09:55:08.942Z","type":"message"}
{"nick":"pjbrinck","message":"swaagie: changing NODE_ENV thru console now and retrying","date":"2013-08-26T09:55:42.141Z","type":"message"}
{"nick":"swaagie","message":"thats also an option","date":"2013-08-26T09:55:57.261Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: oh no, app restarting but never starting, cannot stop/start it either, seems stuck in changing env_var","date":"2013-08-26T09:58:55.941Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: or maybe that was a browser refresh err, my bad","date":"2013-08-26T09:59:44.947Z","type":"message"}
{"nick":"swaagie","message":"now its 404 again","date":"2013-08-26T10:00:00.011Z","type":"message"}
{"nick":"swaagie","message":"ow well id is not","date":"2013-08-26T10:00:35.782Z","type":"message"}
{"nick":"swaagie","message":"my bad","date":"2013-08-26T10:00:38.707Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: well get id worked, so now im resetting env var to production, just to test diff","date":"2013-08-26T10:01:04.750Z","type":"message"}
{"nick":"swaagie","message":"so yeah I guess authentication is activated on NODE_ENV=produ..","date":"2013-08-26T10:01:07.299Z","type":"message"}
{"nick":"swaagie","message":"might be some middleware","date":"2013-08-26T10:01:19.915Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: odd, bc this is a prob i get from time to other, its periodically and not contsant","date":"2013-08-26T10:01:46.139Z","type":"message"}
{"nick":"xobbob","date":"2013-08-26T10:01:53.152Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: ok, now I reset env var to production, and now get id works as supposed to","date":"2013-08-26T10:02:45.330Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: so a little forth and a little back and things are back in place, seems like a state of some sort, like U suggetsed","date":"2013-08-26T10:03:17.458Z","type":"message"}
{"nick":"swaagie","message":"hmm ok, I think the problem is somewhere in the app logic, probably a state somewhere, however if it isn't and you find a reproducible error on our side I will admit my wrong and we'll fix it ;) don't hesitate to spam our channel ","date":"2013-08-26T10:04:38.145Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: yeah thanks, I will see if I can reproduce, normally it works the other way arround: my system will work fine until I redeploy with app tested on localhost, then it will hang with 404 and 401 until I stop/start (and now also change env vars) a few times and then it will work again like it did on localhost","date":"2013-08-26T10:07:24.546Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: back to first prob, missing logs","date":"2013-08-26T10:07:54.222Z","type":"message"}
{"nick":"alx","reason":"Remote host closed the connection","date":"2013-08-26T10:09:07.172Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: but maybe thats bc Im back in production mode on nodejitsu?","date":"2013-08-26T10:09:45.297Z","type":"message"}
{"nick":"swaagie","message":"if you saw more logs during dev, then its again express or some other middleware not exposing the logs if !development","date":"2013-08-26T10:10:20.282Z","type":"message"}
{"nick":"swaagie","message":"we really tend to be least instrusive","date":"2013-08-26T10:10:29.190Z","type":"message"}
{"nick":"swaagie","message":"we spawn the node process/app listed by package.json and thats it","date":"2013-08-26T10:10:51.955Z","type":"message"}
{"nick":"swaagie","message":"you should be in full control","date":"2013-08-26T10:11:00.930Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: I understand, I will play with dev/prod a little","date":"2013-08-26T10:11:03.124Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: so what remains is the missing logs on the devops only (I see a little on jitsu but none on devops), but I can lve with having them in jitsu, in fact I like that better","date":"2013-08-26T10:12:03.300Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: thanks for Ur help, I will revert when/if I find a pattern to my redeploy issuees","date":"2013-08-26T10:12:49.482Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: webops is because there not a lot of streaming logs and jitsu logs tail gets some of the backlog","date":"2013-08-26T10:12:52.107Z","type":"message"}
{"nick":"swaagie","message":"I'm working on webops atm to also get some backlog","date":"2013-08-26T10:13:18.758Z","type":"message"}
{"nick":"swaagie","message":"just to acknowledge it is working","date":"2013-08-26T10:13:25.763Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: one last thing, as I am rather new to all this, how do I set env vars in package?","date":"2013-08-26T10:13:46.228Z","type":"message"}
{"nick":"swaagie","message":"I think as soon as express will expose it logs you'll see stuff streaming in","date":"2013-08-26T10:13:48.736Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: that was my bad, you can set them from the cli, see https://www.nodejitsu.com/documentation/jitsu/env/","date":"2013-08-26T10:15:14.112Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: thank U a bunch","date":"2013-08-26T10:16:24.155Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: no problem your welcome, happy coding, don't hesitate to contact us ","date":"2013-08-26T10:17:29.693Z","type":"message"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T10:18:09.451Z","type":"quit"}
{"nick":"sol_invictus","date":"2013-08-26T10:18:12.609Z","type":"join"}
{"nick":"InconceivableB","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T10:19:18.954Z","type":"quit"}
{"nick":"thiamine","reason":"Ping timeout: 250 seconds","date":"2013-08-26T10:20:47.267Z","type":"quit"}
{"nick":"benjaminbenben","date":"2013-08-26T10:26:15.646Z","type":"join"}
{"nick":"mokes","date":"2013-08-26T10:28:24.971Z","type":"join"}
{"nick":"ionella","reason":"Remote host closed the connection","date":"2013-08-26T10:29:20.334Z","type":"quit"}
{"nick":"leichtge_","reason":"Remote host closed the connection","date":"2013-08-26T10:29:44.448Z","type":"quit"}
{"nick":"Tom0101","reason":"Remote host closed the connection","date":"2013-08-26T10:36:03.401Z","type":"quit"}
{"nick":"ionella","date":"2013-08-26T10:41:55.250Z","type":"join"}
{"nick":"sol_invictus","reason":"Remote host closed the connection","date":"2013-08-26T10:42:04.943Z","type":"quit"}
{"nick":"sol_invictus","date":"2013-08-26T10:42:56.660Z","type":"join"}
{"nick":"armi","date":"2013-08-26T10:45:44.310Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T10:49:23.190Z","type":"quit"}
{"nick":"ionella","reason":"Remote host closed the connection","date":"2013-08-26T10:50:00.337Z","type":"quit"}
{"nick":"armi","reason":"Quit: Page closed","date":"2013-08-26T10:52:20.650Z","type":"quit"}
{"nick":"joshontheweb","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T10:55:48.297Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T10:57:16.300Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: want to try out stopping/starting app a few times to see if U can find pattern in when it throws 404/401 vs 200?","date":"2013-08-26T11:00:07.730Z","type":"message"}
{"nick":"mokes","date":"2013-08-26T11:01:33.919Z","type":"join"}
{"nick":"swaagie","message":"pjbrinck: I'll give the app logic a more thorough peek","date":"2013-08-26T11:01:41.284Z","type":"message"}
{"nick":"tonist","reason":"Quit: tonist","date":"2013-08-26T11:02:13.418Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: I inserted a console.log('Hello World'); in the first app.use of Express to see if I hit this before 404/401","date":"2013-08-26T11:02:46.310Z","type":"message"}
{"nick":"pjbrinck","message":"now I dont get 404/401, so I suggets U try stop/start a few times, every time do a get id","date":"2013-08-26T11:03:19.579Z","type":"message"}
{"nick":"pjbrinck","message":"that is GET http://jungle.nodejitsu.com/id","date":"2013-08-26T11:03:31.639Z","type":"message"}
{"nick":"mdedetrich","reason":"Ping timeout: 264 seconds","date":"2013-08-26T11:03:42.212Z","type":"quit"}
{"nick":"tonist","date":"2013-08-26T11:03:49.957Z","type":"join"}
{"nick":"swaagie","message":"http://jungle.nodejitsu.com/id/asdasd returns id is that expected?","date":"2013-08-26T11:04:14.781Z","type":"message"}
{"nick":"swaagie","message":"a 404 with id as content","date":"2013-08-26T11:04:35.006Z","type":"message"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T11:05:22.906Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: I have several servers initiated, the one to look into is the one behind port 80, code located in /jungle/solution/servers/dispatcher/server.js","date":"2013-08-26T11:07:23.997Z","type":"message"}
{"nick":"swaagie","message":"serveral servers? do note that we reroute all external traffic to port 80","date":"2013-08-26T11:08:06.926Z","type":"message"}
{"nick":"mokes","date":"2013-08-26T11:08:39.934Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: one listening on port 80, others on other ports, those are all internal server to server calls","date":"2013-08-26T11:08:42.189Z","type":"message"}
{"nick":"swaagie","message":"yeah ok internal should be possible","date":"2013-08-26T11:08:54.783Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: so server on port 80 calls servers on other ports, or they call one another","date":"2013-08-26T11:09:10.483Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: im going to lunch will be back in ab 30 mins and catch up with U","date":"2013-08-26T11:09:37.932Z","type":"message"}
{"nick":"swaagie","message":"roger","date":"2013-08-26T11:09:41.666Z","type":"message"}
{"nick":"jbpros","reason":"Quit: jbpros","date":"2013-08-26T11:10:29.748Z","type":"quit"}
{"nick":"mdedetrich","date":"2013-08-26T11:13:05.194Z","type":"join"}
{"nick":"tonist","reason":"Quit: tonist","date":"2013-08-26T11:16:43.375Z","type":"quit"}
{"nick":"alx","date":"2013-08-26T11:19:40.002Z","type":"join"}
{"nick":"sol_invictus","reason":"Remote host closed the connection","date":"2013-08-26T11:19:52.638Z","type":"quit"}
{"nick":"papachan","date":"2013-08-26T11:20:24.643Z","type":"join"}
{"nick":"sol_invictus","date":"2013-08-26T11:20:46.943Z","type":"join"}
{"nick":"ionella","date":"2013-08-26T11:20:54.763Z","type":"join"}
{"nick":"papachan","date":"2013-08-26T11:21:25.068Z","type":"part"}
{"nick":"alx","reason":"Ping timeout: 246 seconds","date":"2013-08-26T11:24:13.953Z","type":"quit"}
{"nick":"ionella","reason":"Remote host closed the connection","date":"2013-08-26T11:32:18.583Z","type":"quit"}
{"nick":"benjaminbenben","reason":"Quit: benjaminbenben","date":"2013-08-26T11:33:24.863Z","type":"quit"}
{"nick":"leichtgewicht","date":"2013-08-26T11:38:09.415Z","type":"join"}
{"nick":"daviddias","date":"2013-08-26T11:43:20.622Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: back from lunch","date":"2013-08-26T11:49:39.070Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: yo, most logic seems sane, I doubt I'll find it any quicker than you, something to look out for might be unstarted subservers or any race condition spawning from callbacks being called to early. Also the logging of colored message of the express connect middleware (logger) seems broken. The last is something we should fix, you can remove the format","date":"2013-08-26T11:50:32.483Z","type":"message"}
{"nick":"swaagie","message":"'dev' from logger for now to see the logs of request.","date":"2013-08-26T11:50:32.691Z","type":"message"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T11:51:04.647Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: ok","date":"2013-08-26T11:51:44.532Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: did U try to stop/start to see if U get diff behavior","date":"2013-08-26T11:52:09.066Z","type":"message"}
{"nick":"swaagie","message":"so basically stop/start/redeploy after logging some critical point while keeping a jitsu logs tail open in another terminal","date":"2013-08-26T11:52:32.192Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: yeah, even redeployed","date":"2013-08-26T11:52:42.838Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: and it came back up nicely every time?","date":"2013-08-26T11:53:00.342Z","type":"message"}
{"nick":"swaagie","message":"did like 3 times, and went fine i'll do a few more","date":"2013-08-26T11:53:29.523Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: ok","date":"2013-08-26T11:53:39.078Z","type":"message"}
{"nick":"sreeix","reason":"Quit: sreeix","date":"2013-08-26T11:53:57.396Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: so now U see a series of 200's, yet U saw a series 404's and 401's and U trust I didnt change code (except for the Hello World log)","date":"2013-08-26T11:54:35.375Z","type":"message"}
{"nick":"swaagie","message":"yeah agree","date":"2013-08-26T11:54:51.391Z","type":"message"}
{"nick":"jbpros","date":"2013-08-26T11:54:58.309Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: what could explain such other than possibly environmnet changees/depends","date":"2013-08-26T11:55:05.007Z","type":"message"}
{"nick":"xobbob","reason":"Quit: xobbob","date":"2013-08-26T11:55:08.219Z","type":"quit"}
{"nick":"swaagie","message":"any race condition or perhaps a server not starting, although I haven't seen that yet","date":"2013-08-26T11:55:31.031Z","type":"message"}
{"nick":"calweb","date":"2013-08-26T11:55:54.004Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: yeah race conditions or non-initialize vars possibly?","date":"2013-08-26T11:56:02.337Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: but in the GET id example I only hit 1 server","date":"2013-08-26T11:56:24.178Z","type":"message"}
{"nick":"spolu","reason":"Read error: Operation timed out","date":"2013-08-26T11:56:39.038Z","type":"quit"}
{"nick":"swaagie","message":"yeah but like ","date":"2013-08-26T11:56:48.688Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:54:27 GMT+0200][out] request server listening on port 3110","date":"2013-08-26T11:56:48.898Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:54:27 GMT+0200][out] dispatcher server listening on port 80","date":"2013-08-26T11:56:48.899Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:54:26 GMT+0200][out] consumer server listening on port 5111","date":"2013-08-26T11:56:48.899Z","type":"message"}
{"nick":"swaagie","message":"vs ","date":"2013-08-26T11:56:48.899Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:56:17 GMT+0200][out] user server listening on port 4110","date":"2013-08-26T11:56:50.031Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:56:17 GMT+0200][out] request server listening on port 3110","date":"2013-08-26T11:56:50.239Z","type":"message"}
{"nick":"swaagie","message":"[08/26 13:56:17 GMT+0200][out] dispatcher server listening on port 80","date":"2013-08-26T11:56:50.239Z","type":"message"}
{"nick":"swaagie","message":"could spawn unwanted behaviour without noticing it","date":"2013-08-26T11:57:02.410Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: OK I U","date":"2013-08-26T11:57:09.838Z","type":"message"}
{"nick":"swaagie","message":"but thats arguing from the sideline a bit","date":"2013-08-26T11:57:29.399Z","type":"message"}
{"nick":"swaagie","message":"as I don't know how all stuff ties into each other","date":"2013-08-26T11:57:43.063Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: Ur suggesting the multipe server initiation may have one server trip the other server","date":"2013-08-26T11:57:55.814Z","type":"message"}
{"nick":"pjbrinck","message":"OC","date":"2013-08-26T11:57:58.123Z","type":"message"}
{"nick":"swaagie","message":"something like that","date":"2013-08-26T11:58:08.725Z","type":"message"}
{"nick":"swaagie","message":"I believe (not entirely sure) we request the app once on start to check its state","date":"2013-08-26T11:58:22.390Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: let me just start server on port 80 then","date":"2013-08-26T11:58:26.595Z","type":"message"}
{"nick":"pjbrinck","message":"and just do GET id","date":"2013-08-26T11:58:33.491Z","type":"message"}
{"nick":"pjbrinck","message":"and see if I can have it respond 404/401","date":"2013-08-26T11:58:43.316Z","type":"message"}
{"nick":"tonist","date":"2013-08-26T11:59:07.858Z","type":"join"}
{"nick":"swaagie","message":"now its in 401","date":"2013-08-26T11:59:10.283Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: after a restart?","date":"2013-08-26T11:59:23.250Z","type":"message"}
{"nick":"swaagie","message":"yup did a stop start, but there is nothing unusual about the server order","date":"2013-08-26T11:59:39.926Z","type":"message"}
{"nick":"pjbrinck","message":"sounds like a race condition could be in play here","date":"2013-08-26T11:59:42.552Z","type":"message"}
{"nick":"swaagie","message":"infact the dispatcher is initialized last","date":"2013-08-26T11:59:51.323Z","type":"message"}
{"nick":"pjbrinck","message":"yeah I initiate then in post order","date":"2013-08-26T12:00:12.544Z","type":"message"}
{"nick":"pjbrinck","message":"callee before caller","date":"2013-08-26T12:00:20.758Z","type":"message"}
{"nick":"swaagie","message":"If I was you I would try to reduce all code as much as possible to focus it down to any part of the app and see where you can and cannot reproduce it anymore","date":"2013-08-26T12:00:48.290Z","type":"message"}
{"nick":"pjbrinck","message":"I will redeploy with dispatcher (port 80) only","date":"2013-08-26T12:00:50.697Z","type":"message"}
{"nick":"pjbrinck","message":"and see if I can reproduce it","date":"2013-08-26T12:01:10.501Z","type":"message"}
{"nick":"ejeklint","reason":"Quit: ejeklint","date":"2013-08-26T12:01:11.700Z","type":"quit"}
{"nick":"pjbrinck","message":"then if I can, I will cut down on dispatcher code","date":"2013-08-26T12:01:26.671Z","type":"message"}
{"nick":"swaagie","message":"cool","date":"2013-08-26T12:02:03.338Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: thank U a lot for al ur help, feel free to get back to me if U come up with other ideas","date":"2013-08-26T12:02:03.546Z","type":"message"}
{"nick":"ejeklint","date":"2013-08-26T12:02:08.326Z","type":"join"}
{"nick":"sol_invictus","reason":"Remote host closed the connection","date":"2013-08-26T12:03:53.672Z","type":"quit"}
{"nick":"swaagie","message":"pjbrinck: sure no problem","date":"2013-08-26T12:06:30.972Z","type":"message"}
{"nick":"swaagie","message":"I'll make sure we'll get that colored logging fixed","date":"2013-08-26T12:06:39.391Z","type":"message"}
{"nick":"swaagie","message":"might be some character it is tripping over","date":"2013-08-26T12:06:44.978Z","type":"message"}
{"nick":"pjbrinck","message":"cool","date":"2013-08-26T12:06:51.706Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: to ease my investigation... would it be fair to assume, that I can do any redeploy or  any stop/start or any restart and ALWAYS expect an error free system to run?","date":"2013-08-26T12:09:04.344Z","type":"message"}
{"nick":"swaagie","message":"yup you can expect that or drones are fully purged/reset if an app is moved to another drone","date":"2013-08-26T12:10:00.641Z","type":"message"}
{"nick":"swaagie","message":"in addition until now we/I haven't seen any other issue similar to this one","date":"2013-08-26T12:10:19.220Z","type":"message"}
{"nick":"swaagie","message":"if it would be a general failure mad people would be streaming in by now","date":"2013-08-26T12:10:36.218Z","type":"message"}
{"nick":"swaagie","message":"not sure about the exact number of express servers running on our architecture but it will probably be in the dozen","date":"2013-08-26T12:11:02.977Z","type":"message"}
{"nick":"swaagie","message":"eh hundreds even :P","date":"2013-08-26T12:11:09.479Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: obvisouly there is always an exception to the rule, like the edge case of colored logging. Hence I'm keeping a close eye on yur","date":"2013-08-26T12:15:21.305Z","type":"message"}
{"nick":"swaagie","message":"your progress*","date":"2013-08-26T12:15:24.743Z","type":"message"}
{"nick":"sol_invictus","date":"2013-08-26T12:15:50.537Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: well I designed an architecture where i can scale out on any number of Express servers, but in this setup U only saw 6  or so","date":"2013-08-26T12:16:01.722Z","type":"message"}
{"nick":"mokes","date":"2013-08-26T12:16:13.203Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: would a better solution be to create a number of nodejitsu apps each with one Express server?","date":"2013-08-26T12:16:39.934Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: thats where I want to go regardless when I go towards production","date":"2013-08-26T12:17:09.608Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: I suspect seperate apps run in isolation, so that would rule out any possible race condition between any number of Express servers?","date":"2013-08-26T12:18:24.227Z","type":"message"}
{"nick":"swaagie","message":"well its what most do since we do the horizontal scaling then, but your solution should be perfectly applicable","date":"2013-08-26T12:18:38.181Z","type":"message"}
{"nick":"swaagie","message":"yeah it might be even an internal express thingy","date":"2013-08-26T12:18:51.660Z","type":"message"}
{"nick":"swaagie","message":"not sure about that though","date":"2013-08-26T12:18:54.461Z","type":"message"}
{"nick":"swaagie","message":"as the express.app() returns a new instance I believe","date":"2013-08-26T12:19:17.139Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: I think Ur line of reasoning around the race condition  seems fair","date":"2013-08-26T12:19:27.372Z","type":"message"}
{"nick":"swaagie","message":"still each instance can include the same module which might retain some global state","date":"2013-08-26T12:19:55.664Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: yeah but not across multiple Nodejitsu apps I suspect, tahts why I asked ab isolation","date":"2013-08-26T12:21:04.608Z","type":"message"}
{"nick":"swaagie","message":"some part of the routing module for instance, caching the function to use on /id, if another servers gets called before the 80 one it might cache a 404 because it has no id route","date":"2013-08-26T12:21:24.012Z","type":"message"}
{"nick":"armi","date":"2013-08-26T12:21:25.271Z","type":"join"}
{"nick":"swaagie","message":"pjbrinck: if each server runs on an individual drone they are incapable of infecting","date":"2013-08-26T12:22:07.776Z","type":"message"}
{"nick":"swaagie","message":"each drone is a completely seperate instance with just one app running","date":"2013-08-26T12:22:25.847Z","type":"message"}
{"nick":"sandfox","date":"2013-08-26T12:22:43.870Z","type":"join"}
{"nick":"pjbrinck","message":"+swaagie: but if I run 5 apps each with 1 server as opposed to 1 app with 5 servers all on one drone, would that make a diff","date":"2013-08-26T12:23:01.394Z","type":"message"}
{"nick":"ionella","date":"2013-08-26T12:24:14.182Z","type":"join"}
{"nick":"swaagie","message":"hmm how would you want to seperate the 5 apps on the single drone? I mean you got only one subdomain for 5 apps then","date":"2013-08-26T12:25:45.406Z","type":"message"}
{"nick":"swaagie","message":"or you mean 5 apps, 1 app per drone, each with 1 server","date":"2013-08-26T12:26:11.059Z","type":"message"}
{"nick":"swaagie","message":"well it would probably resolve this issue, but without knowing exactly whats causing it, I woulnd't bet any money ont it","date":"2013-08-26T12:26:36.762Z","type":"message"}
{"nick":"meso","date":"2013-08-26T12:26:54.958Z","type":"join"}
{"nick":"johnmarty","date":"2013-08-26T12:27:15.570Z","type":"join"}
{"nick":"andreypopp","reason":"Quit: andreypopp","date":"2013-08-26T12:28:29.180Z","type":"quit"}
{"nick":"andreypopp","date":"2013-08-26T12:30:06.186Z","type":"join"}
{"nick":"benjaminbenben","date":"2013-08-26T12:37:22.855Z","type":"join"}
{"nick":"swaagie","message":"pjbrinck: here's a thought, our port rerouting may be non-deterministic (asking sr. devops atm to be sure) meaning any initial listen from any port might be rerouting to 80","date":"2013-08-26T12:39:25.227Z","type":"message"}
{"nick":"spolu","date":"2013-08-26T12:39:30.524Z","type":"join"}
{"nick":"swaagie","message":"meaning we're quering against /id on another app than the expected 80","date":"2013-08-26T12:39:42.491Z","type":"message"}
{"nick":"swaagie","message":"what you could try is defer spawning of those other server instances until the callback of the main app on port 80 is called","date":"2013-08-26T12:40:07.924Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: are U asking me to spawn and respawn secondary serveres on each call to dispacther?","date":"2013-08-26T12:41:25.124Z","type":"message"}
{"nick":"swaagie","message":"no","date":"2013-08-26T12:41:37.655Z","type":"message"}
{"nick":"swaagie","message":"only after the main app (the port 80) one is done initialization","date":"2013-08-26T12:41:57.560Z","type":"message"}
{"nick":"swaagie","message":"so basically inside the callback of the express.listen(80, function () { // spawn other servers here }","date":"2013-08-26T12:42:34.219Z","type":"message"}
{"nick":"pjbrinck","message":"but I init all servers in post order, e.g. port 8000, port 7000, ... port 80 to be sure callees are up when caller runs","date":"2013-08-26T12:43:05.573Z","type":"message"}
{"nick":"pjbrinck","message":"now I will try to timeout a few secs between inits to avoid race conditions during init","date":"2013-08-26T12:43:33.640Z","type":"message"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T12:43:55.655Z","type":"quit"}
{"nick":"pjbrinck","message":"so U wat me to init 80 (dispatcher) first?","date":"2013-08-26T12:44:10.409Z","type":"message"}
{"nick":"swaagie","message":"not sure exactly which post order? as far as I saw in the app code each server is spawned in parallel","date":"2013-08-26T12:44:10.839Z","type":"message"}
{"nick":"swaagie","message":"yup","date":"2013-08-26T12:44:16.562Z","type":"message"}
{"nick":"pjbrinck","message":"heres what I currently do","date":"2013-08-26T12:44:27.960Z","type":"message"}
{"nick":"pjbrinck","message":"server A calls B calls C","date":"2013-08-26T12:44:35.542Z","type":"message"}
{"nick":"pjbrinck","message":"so I init server C before B before A","date":"2013-08-26T12:44:44.207Z","type":"message"}
{"nick":"pjbrinck","message":"to ensure accessibility on C when B calls C and on B when A calls B","date":"2013-08-26T12:45:11.867Z","type":"message"}
{"nick":"swaagie","message":"aint that the other way around, if server A calls B then A should be inititialized before B","date":"2013-08-26T12:45:16.212Z","type":"message"}
{"nick":"pjbrinck","message":"well NO","date":"2013-08-26T12:45:24.983Z","type":"message"}
{"nick":"pjbrinck","message":"because if A calls B then B should be available before A ninits","date":"2013-08-26T12:45:42.019Z","type":"message"}
{"nick":"pjbrinck","message":"inits","date":"2013-08-26T12:45:49.232Z","type":"message"}
{"nick":"swaagie","action":"downloading snapshot again ;)","date":"2013-08-26T12:45:55.060Z","type":"action"}
{"nick":"pjbrinck","message":"right?","date":"2013-08-26T12:46:05.125Z","type":"message"}
{"nick":"pjbrinck","message":"ok","date":"2013-08-26T12:46:06.647Z","type":"message"}
{"nick":"swaagie","message":"so yeah then it should be init server B -> init server A","date":"2013-08-26T12:46:06.861Z","type":"message"}
{"nick":"parallel","date":"2013-08-26T12:46:19.751Z","type":"join"}
{"nick":"pjbrinck","message":"and thats what I do, no I will insert a delay between each init to avooid possible race cond","date":"2013-08-26T12:46:28.367Z","type":"message"}
{"nick":"pjbrinck","message":"or I could do it inside completion of the former","date":"2013-08-26T12:46:51.679Z","type":"message"}
{"nick":"swaagie","message":"if you init a server from inside the listen callback that shouldn't be nessecary","date":"2013-08-26T12:46:56.042Z","type":"message"}
{"nick":"swaagie","message":"exactly","date":"2013-08-26T12:47:04.531Z","type":"message"}
{"nick":"swaagie","message":"hence there is a major race condition now","date":"2013-08-26T12:47:11.028Z","type":"message"}
{"nick":"swaagie","message":"because there is no telling which server is spawning first","date":"2013-08-26T12:47:22.655Z","type":"message"}
{"nick":"swaagie","message":"unless you got a async.series/waterfall wrapper orsomething","date":"2013-08-26T12:47:43.065Z","type":"message"}
{"nick":"pjbrinck","message":"I agree, bt if I init A inside B I will couple the servers in many diff server files","date":"2013-08-26T12:47:52.892Z","type":"message"}
{"nick":"pjbrinck","message":"have a look at start.js","date":"2013-08-26T12:48:04.989Z","type":"message"}
{"nick":"Dorphern","date":"2013-08-26T12:48:23.210Z","type":"join"}
{"nick":"pjbrinck","message":"thats where I control the number of servers","date":"2013-08-26T12:48:24.151Z","type":"message"}
{"nick":"spolu","reason":"Ping timeout: 256 seconds","date":"2013-08-26T12:48:35.740Z","type":"quit"}
{"nick":"swaagie","message":"yeah but the spawn parallel","date":"2013-08-26T12:48:56.011Z","type":"message"}
{"nick":"swaagie","message":"they*","date":"2013-08-26T12:49:01.489Z","type":"message"}
{"nick":"swaagie","message":"the executing flow will not halt at each new to wait for the next","date":"2013-08-26T12:49:19.863Z","type":"message"}
{"nick":"swaagie","message":"next=it to complete*","date":"2013-08-26T12:49:32.971Z","type":"message"}
{"nick":"jcrugzz","date":"2013-08-26T12:49:45.663Z","type":"join"}
{"nick":"pjbrinck","message":"what if I do a setTimeout between each init","date":"2013-08-26T12:50:09.933Z","type":"message"}
{"nick":"pjbrinck","message":"IK they dont halt now, thats wh I want to insert setTimeout of maybe 2000 ms","date":"2013-08-26T12:50:35.099Z","type":"message"}
{"nick":"pjbrinck","message":"between each server inint","date":"2013-08-26T12:50:41.699Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: the best way to observe what I mean is to add console.log('something') between each new server init call, all the somethings will be logged before the listens expose there log","date":"2013-08-26T12:50:46.875Z","type":"message"}
{"nick":"swaagie","message":"that will do nothing","date":"2013-08-26T12:50:57.323Z","type":"message"}
{"nick":"pjbrinck","message":"true","date":"2013-08-26T12:51:00.595Z","type":"message"}
{"nick":"swaagie","message":"what you want is a async.series wrapper","date":"2013-08-26T12:51:05.670Z","type":"message"}
{"nick":"swaagie","message":"https://github.com/caolan/async","date":"2013-08-26T12:51:11.444Z","type":"message"}
{"nick":"pjbrinck","message":"ups why wont it do anything with setTimeout","date":"2013-08-26T12:51:14.876Z","type":"message"}
{"nick":"pjbrinck","message":"ok cool let me look into thatt","date":"2013-08-26T12:51:32.191Z","type":"message"}
{"nick":"frenchtoast","date":"2013-08-26T12:51:49.956Z","type":"join"}
{"nick":"swaagie","message":"yeah ofc you could do something like setTimeout(server D, 1000) setTimeout(server C, 2000) but I consider that hacky","date":"2013-08-26T12:51:56.946Z","type":"message"}
{"nick":"swaagie","message":"there are way cleaner methods","date":"2013-08-26T12:52:05.603Z","type":"message"}
{"nick":"swaagie","message":"like the async module or just exposing each server without calling listen and then just cascade each listen call inside start.js","date":"2013-08-26T12:52:56.134Z","type":"message"}
{"nick":"pjbrinck","message":"Ur suggesting I do ","date":"2013-08-26T12:52:59.283Z","type":"message"}
{"nick":"pjbrinck","message":"async.series([     function(){ ... },     function(){ ... } ]);","date":"2013-08-26T12:53:00.226Z","type":"message"}
{"nick":"swaagie","message":"yup","date":"2013-08-26T12:53:19.818Z","type":"message"}
{"nick":"swaagie","message":"and setting up the main first","date":"2013-08-26T12:53:43.143Z","type":"message"}
{"nick":"pjbrinck","message":"agree, much cleaner","date":"2013-08-26T12:53:44.263Z","type":"message"}
{"nick":"swaagie","message":"so our architecture will make sure that main script is bound to 80","date":"2013-08-26T12:54:04.071Z","type":"message"}
{"nick":"swaagie","message":"which it already is","date":"2013-08-26T12:54:14.295Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: hehe your going to love async for a lot of stuff you'll do","date":"2013-08-26T12:54:26.435Z","type":"message"}
{"nick":"swaagie","message":"flow control is essential","date":"2013-08-26T12:54:32.085Z","type":"message"}
{"nick":"pjbrinck","message":"hmmmm, U said, main script is bound to 80","date":"2013-08-26T12:54:50.271Z","type":"message"}
{"nick":"swaagie","message":"well you want your main entry to be bound to 80","date":"2013-08-26T12:55:00.515Z","type":"message"}
{"nick":"pjbrinck","message":"but I specifically have dispatcher server listen to 80","date":"2013-08-26T12:55:02.749Z","type":"message"}
{"nick":"ionella_","date":"2013-08-26T12:55:04.278Z","type":"join"}
{"nick":"pjbrinck","message":"I suspect it will regardless of order","date":"2013-08-26T12:55:17.919Z","type":"message"}
{"nick":"swaagie","message":"yeah but we just pickup on the first listen, as we don't know what port people will use","date":"2013-08-26T12:55:27.135Z","type":"message"}
{"nick":"swaagie","message":"nah","date":"2013-08-26T12:55:31.181Z","type":"message"}
{"nick":"pjbrinck","message":"nah?","date":"2013-08-26T12:55:38.303Z","type":"message"}
{"nick":"swaagie","message":"we can't maintain order","date":"2013-08-26T12:55:42.411Z","type":"message"}
{"nick":"swaagie","message":"nah=no* ;)","date":"2013-08-26T12:55:48.026Z","type":"message"}
{"nick":"swaagie","message":"basically you could start any port at any point in time, if we wait for 80 it might never happen, because somebody just used 8080","date":"2013-08-26T12:56:13.689Z","type":"message"}
{"nick":"swaagie","message":"could*","date":"2013-08-26T12:56:21.463Z","type":"message"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T12:56:26.874Z","type":"quit"}
{"nick":"pjbrinck","message":"are U saying that http.createServer(app).listen(80, func()) will not listen to port 80","date":"2013-08-26T12:56:32.126Z","type":"message"}
{"nick":"swaagie","message":"so the first listen is our what we use regardless and bind that to port 80","date":"2013-08-26T12:56:39.201Z","type":"message"}
{"nick":"swaagie","message":"not by default","date":"2013-08-26T12:56:43.207Z","type":"message"}
{"nick":"swaagie","message":"simply because we can't","date":"2013-08-26T12:56:48.707Z","type":"message"}
{"nick":"pjbrinck","message":"ahhh ok","date":"2013-08-26T12:56:54.520Z","type":"message"}
{"nick":"pjbrinck","message":"so heres a race condition","date":"2013-08-26T12:57:01.915Z","type":"message"}
{"nick":"swaagie","message":"if it is the first app to listen on that port 80 we will route it to 80 ofcourse","date":"2013-08-26T12:57:14.415Z","type":"message"}
{"nick":"swaagie","message":"but somebody could also do listen(8080, and then we'll just bind that to 80","date":"2013-08-26T12:57:29.847Z","type":"message"}
{"nick":"swaagie","message":"becasue there is no telling the developer will actually bind someting to 80 as well later on","date":"2013-08-26T12:57:43.817Z","type":"message"}
{"nick":"pjbrinck","message":"so if a secondary server on e.g. 7000 inits first U will ignore 7000 and use 80?","date":"2013-08-26T12:57:47.897Z","type":"message"}
{"nick":"swaagie","message":"well how do we know its secondary ;)","date":"2013-08-26T12:58:08.295Z","type":"message"}
{"nick":"swaagie","message":"so yeah","date":"2013-08-26T12:58:12.133Z","type":"message"}
{"nick":"pjbrinck","message":"U dont","date":"2013-08-26T12:58:14.802Z","type":"message"}
{"nick":"pjbrinck","message":"U would have to trust that one server is bound on 80,","date":"2013-08-26T12:58:29.284Z","type":"message"}
{"nick":"pjbrinck","message":"now THAT makes a ot of sense","date":"2013-08-26T12:58:40.275Z","type":"message"}
{"nick":"swaagie","message":"hence we reroute any listen","date":"2013-08-26T12:58:46.203Z","type":"message"}
{"nick":"ionella","reason":"Ping timeout: 264 seconds","date":"2013-08-26T12:58:54.247Z","type":"quit"}
{"nick":"swaagie","message":"anyways your logic will work","date":"2013-08-26T12:59:01.247Z","type":"message"}
{"nick":"pjbrinck","message":"not that U dont trust that I will listen to 80 eventually","date":"2013-08-26T12:59:02.336Z","type":"message"}
{"nick":"pjbrinck","message":"but that this causes my app to fail","date":"2013-08-26T12:59:14.348Z","type":"message"}
{"nick":"swaagie","message":"if your main app listens first","date":"2013-08-26T12:59:16.079Z","type":"message"}
{"nick":"swaagie","message":"then the others can spawn in parallel","date":"2013-08-26T12:59:20.423Z","type":"message"}
{"nick":"pjbrinck","message":"I get it","date":"2013-08-26T12:59:28.671Z","type":"message"}
{"nick":"pjbrinck","message":"thats why only once every other thrusday this will init corrctly","date":"2013-08-26T12:59:45.058Z","type":"message"}
{"nick":"swaagie","message":"so basically you want the dispatcher to to do module.exports = express.app()","date":"2013-08-26T12:59:52.427Z","type":"message"}
{"nick":"Sly","reason":"Remote host closed the connection","date":"2013-08-26T13:00:04.869Z","type":"quit"}
{"nick":"pjbrinck","message":"OK, I will rework my init logic based on this knowledge","date":"2013-08-26T13:00:22.643Z","type":"message"}
{"nick":"Sly","date":"2013-08-26T13:00:28.147Z","type":"join"}
{"nick":"swaagie","message":"and in start.js do dispatcher.listen(80, function () { console.log('main app started on port 80'); new Ikea; new server2; new server3 })","date":"2013-08-26T13:00:39.111Z","type":"message"}
{"nick":"pjbrinck","message":"that also explains why I had diff exp on localhost and on nodejitsu","date":"2013-08-26T13:00:40.231Z","type":"message"}
{"nick":"swaagie","message":"well not really","date":"2013-08-26T13:00:49.628Z","type":"message"}
{"nick":"swaagie","message":"on localhost this could have happened as well","date":"2013-08-26T13:00:56.756Z","type":"message"}
{"nick":"swaagie","message":"ow no ofc not :P","date":"2013-08-26T13:01:03.678Z","type":"message"}
{"nick":"swaagie","message":"sorry","date":"2013-08-26T13:01:04.399Z","type":"message"}
{"nick":"pjbrinck","message":"ok","date":"2013-08-26T13:01:12.822Z","type":"message"}
{"nick":"swaagie","message":"there's no rebinding ofc","date":"2013-08-26T13:01:18.071Z","type":"message"}
{"nick":"swaagie","message":"of ports that is","date":"2013-08-26T13:01:23.146Z","type":"message"}
{"nick":"pjbrinck","message":"exactly","date":"2013-08-26T13:01:23.362Z","type":"message"}
{"nick":"pjbrinck","message":"THANKS a lot for that info","date":"2013-08-26T13:01:32.829Z","type":"message"}
{"nick":"pjbrinck","message":"like I said, let me rework it","date":"2013-08-26T13:01:40.131Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: you wouldn't need async.series btw if those subservers are not dependent on each other to start first","date":"2013-08-26T13:01:54.168Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: no problem, glad we got to a culprit","date":"2013-08-26T13:02:12.670Z","type":"message"}
{"nick":"swaagie","message":"the*","date":"2013-08-26T13:02:14.811Z","type":"message"}
{"nick":"pjbrinck","message":"true, none of the servers call oneanothe at init","date":"2013-08-26T13:02:16.226Z","type":"message"}
{"nick":"swaagie","action":"sucks at typing tbh","date":"2013-08-26T13:02:23.684Z","type":"action"}
{"nick":"pjbrinck","message":"hahahahaa","date":"2013-08-26T13:02:27.282Z","type":"message"}
{"nick":"nmanousos","date":"2013-08-26T13:04:50.326Z","type":"join"}
{"nick":"nmanousos","message":"hi, anyone from nodejitsu around I? quick question","date":"2013-08-26T13:05:10.047Z","type":"message"}
{"nick":"Sly","message":"nmanousos: what's up?","date":"2013-08-26T13:05:31.884Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: slight adjustment to all just told, we actually listen to the last server port listened to","date":"2013-08-26T13:05:59.480Z","type":"message"}
{"nick":"swaagie","message":"so that would require async.series","date":"2013-08-26T13:06:04.858Z","type":"message"}
{"nick":"swaagie","message":"or even async.parallel spawning the first 4 servers in the parallel and the main in the callback","date":"2013-08-26T13:06:29.295Z","type":"message"}
{"nick":"swaagie","message":"its just reversing the order of what we discussed","date":"2013-08-26T13:06:39.255Z","type":"message"}
{"nick":"nmanousos","message":"Sly: hi, i am seeing some behavior in one of my apps that looks like there are two drones running but the admin UI only shows one","date":"2013-08-26T13:07:05.899Z","type":"message"}
{"nick":"nmanousos","message":"Sly: i have a cron job that sends emails every hour, over the weekend all emails starting being duplicated","date":"2013-08-26T13:07:40.390Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: so Ur saying I may init A on 7000, B on 6000 and C on 5000 and C is redirected to 80","date":"2013-08-26T13:07:57.372Z","type":"message"}
{"nick":"nmanousos","message":"Sly: I saw this happen before when I inadvertently increased the drones to 2 for this app, and had two cron jobs running for the same task","date":"2013-08-26T13:08:07.924Z","type":"message"}
{"nick":"swaagie","message":"yeah","date":"2013-08-26T13:08:10.171Z","type":"message"}
{"nick":"nmanousos","message":"Sly: wondering if something similar is happening","date":"2013-08-26T13:08:18.934Z","type":"message"}
{"nick":"kevino80","date":"2013-08-26T13:08:19.144Z","type":"join"}
{"nick":"swaagie","message":"pjbrinck: correct instead of A on 80","date":"2013-08-26T13:08:20.307Z","type":"message"}
{"nick":"calweb","date":"2013-08-26T13:08:26.019Z","type":"join"}
{"nick":"Sly","message":"nmanousos: do you have it set for 2 drones right now? If so, that could be it.","date":"2013-08-26T13:08:38.888Z","type":"message"}
{"nick":"swaagie","message":"I thought it would be the first listen, but actually its the last","date":"2013-08-26T13:08:40.795Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: and if after 2 mins I then init D on 4000, will C revert to 5000?","date":"2013-08-26T13:08:44.419Z","type":"message"}
{"nick":"nmanousos","message":"Sly: no, just 1","date":"2013-08-26T13:08:49.209Z","type":"message"}
{"nick":"pjbrinck","message":"and D go to 80?","date":"2013-08-26T13:08:49.424Z","type":"message"}
{"nick":"nmanousos","message":"Sly: but all signs are pointing to two running, it's weird","date":"2013-08-26T13:09:03.244Z","type":"message"}
{"nick":"Sly","message":"nmanousos: when's the last time you deployed?","date":"2013-08-26T13:09:16.547Z","type":"message"}
{"nick":"Sly","message":"Or started?","date":"2013-08-26T13:09:18.880Z","type":"message"}
{"nick":"nmanousos","message":"yesterday","date":"2013-08-26T13:09:22.476Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: not sure about that tbh","date":"2013-08-26T13:09:40.585Z","type":"message"}
{"nick":"Sly","message":"nmanousos: which app is it for?","date":"2013-08-26T13:09:53.715Z","type":"message"}
{"nick":"nmanousos","message":"coolence-web","date":"2013-08-26T13:10:01.813Z","type":"message"}
{"nick":"pjbrinck","message":"plz check and revert","date":"2013-08-26T13:10:05.235Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: if you spawn one 2 mins later it would brute force itself over the current, the last listened port will be rerouted to 80, note that the ports itself do not change","date":"2013-08-26T13:15:41.988Z","type":"message"}
{"nick":"swaagie","message":"its external traffic we proxy to the correct port anyways","date":"2013-08-26T13:15:53.707Z","type":"message"}
{"nick":"swaagie","message":"so 80 -> 3000 if the app was listening on 3000","date":"2013-08-26T13:16:03.707Z","type":"message"}
{"nick":"swaagie","message":"direct access to 3000 is blocked however","date":"2013-08-26T13:16:14.407Z","type":"message"}
{"nick":"pjbrinck","message":"+swaagie: so here is what I understand","date":"2013-08-26T13:16:32.108Z","type":"message"}
{"nick":"swaagie","message":"pjbrinck: so in conclusion you want your main app to spawn last","date":"2013-08-26T13:16:34.679Z","type":"message"}
{"nick":"pjbrinck","message":"all servers will INTERNALLY respond to ports listened on","date":"2013-08-26T13:16:59.984Z","type":"message"}
{"nick":"pjbrinck","message":"as specified in init","date":"2013-08-26T13:17:09.668Z","type":"message"}
{"nick":"swaagie","message":"yup","date":"2013-08-26T13:17:12.880Z","type":"message"}
{"nick":"pjbrinck","message":"however, every new server, whenever it is init","date":"2013-08-26T13:17:23.897Z","type":"message"}
{"nick":"pjbrinck","message":"will get the EXTERNAL cal on 80","date":"2013-08-26T13:17:34.584Z","type":"message"}
{"nick":"pjbrinck","message":"so if dispatcher server, which I init last","date":"2013-08-26T13:17:53.631Z","type":"message"}
{"nick":"swaagie","message":"yes 80 traffic will reroute to that new server port","date":"2013-08-26T13:18:00.964Z","type":"message"}
{"nick":"pjbrinck","message":"for some reason is a bit fast and a secodary server a bit slow","date":"2013-08-26T13:18:21.761Z","type":"message"}
{"nick":"pjbrinck","message":"I will see the secondary server on 80","date":"2013-08-26T13:18:32.596Z","type":"message"}
{"nick":"pjbrinck","message":"it all makes a lot of sense","date":"2013-08-26T13:18:47.536Z","type":"message"}
{"nick":"swaagie","message":"in practice you can do async.parallel(// each subserver, function parallelComplete() { // init the main dispatcher } )","date":"2013-08-26T13:19:05.355Z","type":"message"}
{"nick":"Sly","message":"nmanousos: I found one stray process, so hopefully that will solve it.","date":"2013-08-26T13:19:14.431Z","type":"message"}
{"nick":"nmanousos","message":"Sly: nice! thanks so much","date":"2013-08-26T13:19:26.186Z","type":"message"}
{"nick":"daviddias","reason":"Remote host closed the connection","date":"2013-08-26T13:19:43.409Z","type":"quit"}
{"nick":"pjbrinck","message":"+swaagie: ok, just installed async, will try it out","date":"2013-08-26T13:20:06.157Z","type":"message"}
{"nick":"daviddias","date":"2013-08-26T13:20:18.648Z","type":"join"}
{"nick":"swaagie","message":"pjbrinck: roger, gl","date":"2013-08-26T13:20:32.076Z","type":"message"}
{"nick":"pjbrinck","message":"thx","date":"2013-08-26T13:20:40.245Z","type":"message"}
{"nick":"nmanousos","message":"Sly: i really appreciate it","date":"2013-08-26T13:20:49.776Z","type":"message"}
{"nick":"nmanousos","message":"cya","date":"2013-08-26T13:20:52.359Z","type":"message"}
{"nick":"nmanousos","reason":"Quit: Page closed","date":"2013-08-26T13:21:02.135Z","type":"quit"}
{"nick":"spolu","date":"2013-08-26T13:23:22.810Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T13:23:56.839Z","type":"join"}
{"nick":"daviddias","reason":"Ping timeout: 276 seconds","date":"2013-08-26T13:25:09.732Z","type":"quit"}
{"nick":"sreeix","date":"2013-08-26T13:25:48.968Z","type":"join"}
{"nick":"johnmarty","reason":"Quit: Leaving.","date":"2013-08-26T13:29:19.073Z","type":"quit"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-26T13:29:20.691Z","type":"quit"}
{"nick":"kevino80","date":"2013-08-26T13:30:28.307Z","type":"join"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T13:31:33.219Z","type":"quit"}
{"nick":"devdazed","date":"2013-08-26T13:32:19.171Z","type":"join"}
{"nick":"jmar777","date":"2013-08-26T13:32:27.849Z","type":"join"}
{"nick":"frenchtoast","reason":"Ping timeout: 241 seconds","date":"2013-08-26T13:40:35.177Z","type":"quit"}
{"nick":"ggoodman","date":"2013-08-26T13:41:01.307Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T13:41:39.662Z","type":"join"}
{"nick":"frenchtoast","date":"2013-08-26T13:41:51.488Z","type":"join"}
{"nick":"ggoodman","message":"Hi guys, it seems that every Monday morning my site becomes inaccessible. From what I can tell, it doesn't go down, it simply stops having traffic routed to it. Why is this happening and how can I prevent it?","date":"2013-08-26T13:41:53.076Z","type":"message"}
{"nick":"ggoodman","message":"Users are presented with the 404, *.plnkr.co is not found message.","date":"2013-08-26T13:42:31.100Z","type":"message"}
{"nick":"Sly","message":"ggoodman: your homepage works fine for me. Where are you seeing this error at?","date":"2013-08-26T13:44:18.054Z","type":"message"}
{"nick":"jmar777","message":"ggoodman: can you still hit the site using the *.jit.su url?","date":"2013-08-26T13:44:18.822Z","type":"message"}
{"nick":"ggoodman","message":"its back up... I restart the server when I notice the issue","date":"2013-08-26T13:44:41.757Z","type":"message"}
{"nick":"ggoodman","message":"but its like clockwork on Monday morning","date":"2013-08-26T13:44:51.321Z","type":"message"}
{"nick":"ggoodman","message":"jmar777: haven't tried that","date":"2013-08-26T13:44:59.443Z","type":"message"}
{"nick":"itdontworkson","reason":"Ping timeout: 250 seconds","date":"2013-08-26T13:46:11.305Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-26T13:46:39.341Z","type":"join"}
{"nick":"jbpros","reason":"Quit: jbpros","date":"2013-08-26T13:48:31.164Z","type":"quit"}
{"nick":"ggoodman","message":"Sly: do you guys have some job that runs on monday am or something?","date":"2013-08-26T13:49:30.848Z","type":"message"}
{"nick":"Sly","message":"ggoodman: not that I'm aware of.","date":"2013-08-26T13:49:38.325Z","type":"message"}
{"nick":"Sly","message":"chjj: ^","date":"2013-08-26T13:49:39.901Z","type":"message"}
{"nick":"johnmarty","date":"2013-08-26T13:50:31.875Z","type":"join"}
{"nick":"chjj","message":"ggoodman: we have jobs that run daily and monthly, not specifically on monday though. why do you ask?","date":"2013-08-26T13:50:41.881Z","type":"message"}
{"nick":"parallel","reason":"Remote host closed the connection","date":"2013-08-26T13:50:47.279Z","type":"quit"}
{"nick":"jgable","date":"2013-08-26T13:50:50.652Z","type":"join"}
{"nick":"ggoodman","message":"chjj: the last couple Mondays my site goes 404","date":"2013-08-26T13:51:00.480Z","type":"message"}
{"nick":"ggoodman","message":"inexplicably","date":"2013-08-26T13:51:08.008Z","type":"message"}
{"nick":"ggoodman","message":"that time also corresponds to a big spike in traffic","date":"2013-08-26T13:52:03.832Z","type":"message"}
{"nick":"jcrugzz","reason":"Ping timeout: 276 seconds","date":"2013-08-26T13:52:27.657Z","type":"quit"}
{"nick":"chjj","message":"ggoodman: hmm, the jobs that do run wouldn't be affecting that. i'm guessing it's something else and monday might just be coincidental. will investigate. ","date":"2013-08-26T13:53:33.628Z","type":"message"}
{"nick":"ggoodman","message":"ok. just looking at analytics and last monday it wasn't in the morning after all","date":"2013-08-26T13:53:59.747Z","type":"message"}
{"nick":"ggoodman","message":"2pm it dropped off the map","date":"2013-08-26T13:54:12.686Z","type":"message"}
{"nick":"ggoodman","message":"this morning somewhere b/w 8am and 9:30am","date":"2013-08-26T13:55:35.974Z","type":"message"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T13:58:23.391Z","type":"quit"}
{"nick":"calweb","date":"2013-08-26T13:59:56.533Z","type":"join"}
{"nick":"nmanousos","date":"2013-08-26T14:01:29.274Z","type":"join"}
{"nick":"nmanousos","message":"Sly: back again, same issue - is it possible there still is another process running?","date":"2013-08-26T14:02:36.052Z","type":"message"}
{"nick":"Sly","message":"Yeah, it's possible.","date":"2013-08-26T14:03:03.103Z","type":"message"}
{"nick":"nmanousos","message":"Sly: i am tailing my logs, and I see this cron job send one email, but always two emails are received","date":"2013-08-26T14:03:23.579Z","type":"message"}
{"nick":"nmanousos","message":"the email smtp details look like the requests are coming from two separate IPs","date":"2013-08-26T14:03:44.830Z","type":"message"}
{"nick":"Sly","message":"Are they 10.* IPs?","date":"2013-08-26T14:03:59.247Z","type":"message"}
{"nick":"nmanousos","message":"checking","date":"2013-08-26T14:04:05.334Z","type":"message"}
{"nick":"Sly","message":"That would help a ton if so.","date":"2013-08-26T14:04:16.930Z","type":"message"}
{"nick":"nmanousos","message":"yes they are","date":"2013-08-26T14:04:38.340Z","type":"message"}
{"nick":"Sly","message":"AWESOME.","date":"2013-08-26T14:04:43.561Z","type":"message"}
{"nick":"Sly","message":"What are they? Whichever one you're not running on now is the one I need to burn with fire.","date":"2013-08-26T14:04:55.961Z","type":"message"}
{"nick":"nmanousos","message":"10.66.194.13, 10.68.170.133","date":"2013-08-26T14:05:14.469Z","type":"message"}
{"nick":"Sly","message":"And you said this is for coolence-web, right?","date":"2013-08-26T14:05:32.144Z","type":"message"}
{"nick":"nmanousos","message":"yes","date":"2013-08-26T14:05:35.365Z","type":"message"}
{"nick":"Sly","message":"Well, unfortunately our IPs are 10.112.*, so those aren't our's...","date":"2013-08-26T14:06:08.740Z","type":"message"}
{"nick":"Sly","message":"Must be coming from the mail route...","date":"2013-08-26T14:06:13.473Z","type":"message"}
{"nick":"nmanousos","message":"ah, yeh","date":"2013-08-26T14:06:39.032Z","type":"message"}
{"nick":"nmanousos","message":"i was looking at X-received-by","date":"2013-08-26T14:06:48.560Z","type":"message"}
{"nick":"nmanousos","message":"in the received by, they are both from 10.112.126.234","date":"2013-08-26T14:06:53.619Z","type":"message"}
{"nick":"Dorphern","reason":"Ping timeout: 264 seconds","date":"2013-08-26T14:07:18.275Z","type":"quit"}
{"nick":"nmanousos","message":"this is so weird, i can see the send email function being called only once","date":"2013-08-26T14:07:31.108Z","type":"message"}
{"nick":"Sly","message":"Still not one of our servers. Must be the mail server.","date":"2013-08-26T14:07:33.875Z","type":"message"}
{"nick":"nmanousos","message":"i talked with sendgrid, they are saying that there are definitely two requests coming from my app, but as far as i can see it's only sending one","date":"2013-08-26T14:08:08.947Z","type":"message"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T14:10:52.173Z","type":"quit"}
{"nick":"nmanousos","message":"and - this only happens when my \"send emails\" function is called via cron","date":"2013-08-26T14:11:32.652Z","type":"message"}
{"nick":"nmanousos","message":"i can call it manually and it sends normally","date":"2013-08-26T14:11:43.291Z","type":"message"}
{"nick":"andreypopp","reason":"Quit: andreypopp","date":"2013-08-26T14:11:55.865Z","type":"quit"}
{"nick":"Sly","message":"Sounds like it might be something to do with that cron being called twice then.","date":"2013-08-26T14:12:06.611Z","type":"message"}
{"nick":"nmanousos","message":"yeh","date":"2013-08-26T14:12:29.583Z","type":"message"}
{"nick":"Samuel_Roldan","date":"2013-08-26T14:14:25.963Z","type":"join"}
{"nick":"calweb","date":"2013-08-26T14:14:29.155Z","type":"join"}
{"nick":"Sly","message":"nmanousos: yeah. I just checked all of the servers it's saying you've deployed to recently, and they're all active by someone else and only one node process running.","date":"2013-08-26T14:14:39.871Z","type":"message"}
{"nick":"nmanousos","message":"ok, hmm","date":"2013-08-26T14:14:55.633Z","type":"message"}
{"nick":"nmanousos","message":"i will get to the bottom of this","date":"2013-08-26T14:15:02.873Z","type":"message"}
{"nick":"nmanousos","message":"thank you for looking","date":"2013-08-26T14:15:10.304Z","type":"message"}
{"nick":"kenperkins","date":"2013-08-26T14:16:32.106Z","type":"join"}
{"nick":"ejeklint","reason":"Quit: ejeklint","date":"2013-08-26T14:16:37.080Z","type":"quit"}
{"nick":"nmanousos","message":"Sly: one more thought / question","date":"2013-08-26T14:18:58.912Z","type":"message"}
{"nick":"nmanousos","message":"locally, even with this cron job running, it sends only one","date":"2013-08-26T14:19:13.926Z","type":"message"}
{"nick":"nmanousos","message":"i can only reproduce this in production","date":"2013-08-26T14:19:22.108Z","type":"message"}
{"nick":"Sly","message":"Try `NODE_ENV=production npm start`","date":"2013-08-26T14:19:35.068Z","type":"message"}
{"nick":"Sly","message":"And run in production locally","date":"2013-08-26T14:19:38.591Z","type":"message"}
{"nick":"nmanousos","message":"is there a way to examine the node module versions? maybe there is a version mismatch of the cron module in prod?","date":"2013-08-26T14:19:47.728Z","type":"message"}
{"nick":"niix","date":"2013-08-26T14:20:18.363Z","type":"join"}
{"nick":"niix","message":"Hello!  I'm having a problem deploying my app.  Here is the traceback https://gist.github.com/niix/edb69e1d27bc7ed47d5b","date":"2013-08-26T14:20:31.183Z","type":"message"}
{"nick":"niix","message":"the weird thing is it works completely fine locally and loads in my settings","date":"2013-08-26T14:20:42.603Z","type":"message"}
{"nick":"mmalecki","message":"niix: yo","date":"2013-08-26T14:20:51.685Z","type":"message"}
{"nick":"Sly","message":"nmanousos: one minute.","date":"2013-08-26T14:20:58.078Z","type":"message"}
{"nick":"nmanousos","message":"i dont follow -  i sent my NODE_ENV to production locally","date":"2013-08-26T14:20:58.614Z","type":"message"}
{"nick":"mmalecki","message":"niix: is settings in your .gitignore, per chance?","date":"2013-08-26T14:21:00.682Z","type":"message"}
{"nick":"niix","message":"mmalecki: heh, that's it!","date":"2013-08-26T14:21:19.367Z","type":"message"}
{"nick":"mmalecki","message":"niix: there you go :-). happy to help!","date":"2013-08-26T14:21:29.276Z","type":"message"}
{"nick":"niix","message":"mmalecki: I deployed this app before, but I forgot about that until you reminded me haha","date":"2013-08-26T14:21:48.947Z","type":"message"}
{"nick":"niix","message":"thanks!","date":"2013-08-26T14:21:49.852Z","type":"message"}
{"nick":"mmalecki","message":"niix: if you want to keep it there, create an empty .npmignore","date":"2013-08-26T14:21:51.786Z","type":"message"}
{"nick":"mmalecki","message":"word!","date":"2013-08-26T14:21:55.158Z","type":"message"}
{"nick":"niix","message":"empty npmignore will help?","date":"2013-08-26T14:22:10.042Z","type":"message"}
{"nick":"mmalecki","message":"yup","date":"2013-08-26T14:23:49.798Z","type":"message"}
{"nick":"mmalecki","message":"we'll use .npmignore instead and since it's empty, no files will be ignored","date":"2013-08-26T14:24:08.451Z","type":"message"}
{"nick":"mmalecki","message":"you can put some entries there too, if you don't want to deploy something","date":"2013-08-26T14:24:22.679Z","type":"message"}
{"nick":"sandfox","reason":"Quit: sandfox","date":"2013-08-26T14:24:57.224Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-26T14:26:09.154Z","type":"quit"}
{"nick":"x_or","reason":"Ping timeout: 260 seconds","date":"2013-08-26T14:26:44.004Z","type":"quit"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T14:32:20.595Z","type":"quit"}
{"nick":"niix","reason":"Remote host closed the connection","date":"2013-08-26T14:32:37.018Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-08-26T14:33:03.063Z","type":"join"}
{"nick":"ejeklint","date":"2013-08-26T14:34:00.784Z","type":"join"}
{"nick":"calweb","date":"2013-08-26T14:34:35.994Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T14:34:44.198Z","type":"quit"}
{"nick":"swaagie","message":"nmanousos: found your problem, there is still a old node process runnning in our old architecture","date":"2013-08-26T14:35:15.437Z","type":"message"}
{"nick":"nmanousos","message":"woohoo!","date":"2013-08-26T14:35:25.501Z","type":"message"}
{"nick":"nmanousos","message":"nice","date":"2013-08-26T14:35:38.283Z","type":"message"}
{"nick":"swaagie","message":"gonna purge it with fire now","date":"2013-08-26T14:35:42.343Z","type":"message"}
{"nick":"nmanousos","message":"did you kill it?","date":"2013-08-26T14:35:44.396Z","type":"message"}
{"nick":"nmanousos","message":"cool","date":"2013-08-26T14:35:45.404Z","type":"message"}
{"nick":"mokes","date":"2013-08-26T14:35:47.119Z","type":"join"}
{"nick":"nmanousos","message":"was it something i did that caused it?","date":"2013-08-26T14:36:58.387Z","type":"message"}
{"nick":"nmanousos","message":"it started on Friday i think","date":"2013-08-26T14:37:06.527Z","type":"message"}
{"nick":"swaagie","message":"nmanousos: not sure its a nasty bugger, killing the process seems to spawn more of the same","date":"2013-08-26T14:37:27.634Z","type":"message"}
{"nick":"swaagie","message":"o my bad","date":"2013-08-26T14:37:57.087Z","type":"message"}
{"nick":"nmanousos","message":"crazy","date":"2013-08-26T14:37:57.739Z","type":"message"}
{"nick":"swaagie","message":"it seems that drone actually is infected with som other zombie process","date":"2013-08-26T14:38:08.958Z","type":"message"}
{"nick":"swaagie","message":"glad our new arch does not have those failures anymore","date":"2013-08-26T14:38:18.247Z","type":"message"}
{"nick":"swaagie","message":"nmanousos: it should be silent now, could you test the cron again?","date":"2013-08-26T14:38:49.122Z","type":"message"}
{"nick":"c4milo","date":"2013-08-26T14:38:56.832Z","type":"join"}
{"nick":"ggoodman","message":"little did you know but skynet was hours away from deployment on your old arch","date":"2013-08-26T14:39:08.683Z","type":"message"}
{"nick":"nmanousos","message":"the cron is set to start at the top of the hour","date":"2013-08-26T14:39:27.935Z","type":"message"}
{"nick":"swaagie","message":"haha","date":"2013-08-26T14:39:28.713Z","type":"message"}
{"nick":"ggoodman","message":"those weren't 'zombies'","date":"2013-08-26T14:39:29.988Z","type":"message"}
{"nick":"nmanousos","message":"21 minutes","date":"2013-08-26T14:39:36.998Z","type":"message"}
{"nick":"swaagie","message":"nmanousos: ah ok","date":"2013-08-26T14:39:49.252Z","type":"message"}
{"nick":"nmanousos","message":"cool to wait?","date":"2013-08-26T14:39:52.926Z","type":"message"}
{"nick":"swaagie","message":"sure","date":"2013-08-26T14:39:55.717Z","type":"message"}
{"nick":"nmanousos","message":"so i dont have to deploy again","date":"2013-08-26T14:39:56.860Z","type":"message"}
{"nick":"swaagie","message":"np","date":"2013-08-26T14:39:58.407Z","type":"message"}
{"nick":"nmanousos","message":"thanks","date":"2013-08-26T14:40:01.176Z","type":"message"}
{"nick":"nmanousos","message":"thank you for looking into this!","date":"2013-08-26T14:40:32.608Z","type":"message"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T14:41:15.825Z","type":"quit"}
{"nick":"swaagie","message":"nmanousos: np :) your welcome thank Sly for checking our new part of our brain","date":"2013-08-26T14:42:06.880Z","type":"message"}
{"nick":"swaagie","message":"was on devops duty anyways","date":"2013-08-26T14:42:18.608Z","type":"message"}
{"nick":"nmanousos","message":"thx Sly!","date":"2013-08-26T14:42:24.254Z","type":"message"}
{"nick":"mokes","date":"2013-08-26T14:44:29.947Z","type":"join"}
{"nick":"bzoo","date":"2013-08-26T14:44:40.870Z","type":"join"}
{"nick":"Arunoda","date":"2013-08-26T14:47:24.642Z","type":"join"}
{"nick":"mdedetrich","reason":"Quit: Computer has gone to sleep.","date":"2013-08-26T14:47:33.659Z","type":"quit"}
{"nick":"ionella_","reason":"Remote host closed the connection","date":"2013-08-26T14:48:06.583Z","type":"quit"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T14:48:12.895Z","type":"quit"}
{"nick":"calweb","date":"2013-08-26T14:50:41.536Z","type":"join"}
{"nick":"InconceivableB","date":"2013-08-26T14:52:42.695Z","type":"join"}
{"nick":"thealanwattsriot","date":"2013-08-26T14:55:51.315Z","type":"join"}
{"nick":"thealanwattsriot","reason":"Client Quit","date":"2013-08-26T14:56:30.353Z","type":"quit"}
{"nick":"jmar777","reason":"Read error: Connection reset by peer","date":"2013-08-26T14:57:52.364Z","type":"quit"}
{"nick":"rossk","date":"2013-08-26T14:58:07.776Z","type":"join"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T14:58:12.322Z","type":"quit"}
{"nick":"jmar777","date":"2013-08-26T14:58:18.825Z","type":"join"}
{"nick":"cronopio","date":"2013-08-26T15:03:29.147Z","type":"join"}
{"nick":"alx","date":"2013-08-26T15:06:24.637Z","type":"join"}
{"nick":"sreeix","reason":"Quit: sreeix","date":"2013-08-26T15:06:48.791Z","type":"quit"}
{"nick":"kevino80","reason":"Remote host closed the connection","date":"2013-08-26T15:07:45.548Z","type":"quit"}
{"nick":"kevino80","date":"2013-08-26T15:09:20.752Z","type":"join"}
{"nick":"nmanousos","message":"Sly, swaagie: that was it! it's fixed now - thanks again!","date":"2013-08-26T15:09:26.123Z","type":"message"}
{"nick":"sandfox","date":"2013-08-26T15:11:13.751Z","type":"join"}
{"nick":"swaagie","message":"nmanousos: np glad we could help","date":"2013-08-26T15:11:24.251Z","type":"message"}
{"nick":"nmanousos","reason":"Quit: Page closed","date":"2013-08-26T15:11:34.279Z","type":"quit"}
{"nick":"TooTallNate","date":"2013-08-26T15:15:19.410Z","type":"join"}
{"nick":"calweb","date":"2013-08-26T15:16:05.043Z","type":"join"}
{"nick":"andreypopp","date":"2013-08-26T15:18:03.609Z","type":"join"}
{"nick":"bzoo","reason":"Remote host closed the connection","date":"2013-08-26T15:19:24.038Z","type":"quit"}
{"nick":"TooTallNate","reason":"Ping timeout: 240 seconds","date":"2013-08-26T15:19:38.147Z","type":"quit"}
{"nick":"bzoo","date":"2013-08-26T15:19:57.279Z","type":"join"}
{"nick":"mokes","reason":"Remote host closed the connection","date":"2013-08-26T15:20:25.310Z","type":"quit"}
{"nick":"andreypopp","reason":"Client Quit","date":"2013-08-26T15:21:24.694Z","type":"quit"}
{"nick":"mokes","date":"2013-08-26T15:21:45.214Z","type":"join"}
{"nick":"andreypopp","date":"2013-08-26T15:21:48.538Z","type":"join"}
{"nick":"parallel","date":"2013-08-26T15:22:14.218Z","type":"join"}
{"nick":"calweb","reason":"Quit: Leaving.","date":"2013-08-26T15:23:45.176Z","type":"quit"}
{"nick":"bzoo","reason":"Ping timeout: 268 seconds","date":"2013-08-26T15:24:56.070Z","type":"quit"}
{"nick":"armi","reason":"Ping timeout: 250 seconds","date":"2013-08-26T15:25:25.318Z","type":"quit"}
{"nick":"user123","date":"2013-08-26T15:25:46.315Z","type":"join"}
{"nick":"user123","message":"hi","date":"2013-08-26T15:25:54.259Z","type":"message"}
{"nick":"user123","message":"anyone available to answer questions?","date":"2013-08-26T15:25:59.773Z","type":"message"}
{"nick":"pjbrinck","reason":"Ping timeout: 250 seconds","date":"2013-08-26T15:28:27.327Z","type":"quit"}
{"nick":"ven2019","date":"2013-08-26T15:29:05.309Z","type":"join"}
{"nick":"ven2019","reason":"Client Quit","date":"2013-08-26T15:29:16.535Z","type":"quit"}
{"nick":"andreypopp","reason":"Quit: andreypopp","date":"2013-08-26T15:34:06.992Z","type":"quit"}
{"nick":"user123","reason":"Ping timeout: 250 seconds","date":"2013-08-26T15:34:31.294Z","type":"quit"}
{"nick":"cronopio","reason":"Quit: Bye","date":"2013-08-26T15:36:02.433Z","type":"quit"}
{"nick":"andreypopp","date":"2013-08-26T15:36:11.728Z","type":"join"}
{"nick":"cronopio","date":"2013-08-26T15:36:30.615Z","type":"join"}
{"nick":"waygee","date":"2013-08-26T15:40:11.002Z","type":"join"}
{"nick":"tonist","reason":"Quit: tonist","date":"2013-08-26T15:44:26.177Z","type":"quit"}
{"nick":"waygee","reason":"Quit: waygee","date":"2013-08-26T15:45:04.548Z","type":"quit"}
{"nick":"tylerstalder","date":"2013-08-26T15:45:40.270Z","type":"join"}
{"nick":"ionella","date":"2013-08-26T15:47:03.042Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-08-26T15:47:21.294Z","type":"quit"}
{"nick":"jafar","date":"2013-08-26T15:52:58.298Z","type":"join"}
{"nick":"jafar","message":"hello","date":"2013-08-26T15:53:12.836Z","type":"message"}
{"nick":"jafar","message":"are the servers down","date":"2013-08-26T15:53:22.764Z","type":"message"}
{"nick":"calweb","date":"2013-08-26T15:55:52.638Z","type":"join"}
{"nick":"bzoo","date":"2013-08-26T15:56:15.666Z","type":"join"}
{"nick":"frenchtoast","reason":"Ping timeout: 256 seconds","date":"2013-08-26T15:57:17.846Z","type":"quit"}
{"nick":"sol_invictus","reason":"Remote host closed the connection","date":"2013-08-26T15:57:53.254Z","type":"quit"}
{"nick":"c4milo","date":"2013-08-26T15:58:57.146Z","type":"join"}
{"nick":"frenchtoast","date":"2013-08-26T15:59:10.691Z","type":"join"}
